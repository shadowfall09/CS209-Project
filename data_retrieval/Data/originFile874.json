{"items":[{"tags":["java","validation","debugging","localtime"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1668769413,"post_id":74488624,"comment_id":131492297,"body_markdown":"You need to set appropriate parenthesis if you want your condition to be evaluated as `(A || B) &amp;&amp; C`. Currently it gets evaluated as `A  || (B &amp;&amp; C)` because &amp;&amp; has a higher precedence than ||. Meaning as soon as the first condition is true everything is true and not even evaluated because of short-circuiting.","body":"You need to set appropriate parenthesis if you want your condition to be evaluated as <code>(A || B) &amp;&amp; C</code>. Currently it gets evaluated as <code>A  || (B &amp;&amp; C)</code> because &amp;&amp; has a higher precedence than ||. Meaning as soon as the first condition is true everything is true and not even evaluated because of short-circuiting."},{"owner":{"account_id":7160761,"reputation":97,"user_id":5471598,"accept_rate":71,"display_name":"Ricardo"},"score":0,"creation_date":1668772124,"post_id":74488624,"comment_id":131493115,"body_markdown":"Wow, how did I miss that, I close the bracket too soon. Thank you!","body":"Wow, how did I miss that, I close the bracket too soon. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668773322,"creation_date":1668773322,"answer_id":74489468,"question_id":74488624,"body_markdown":"Your function of\r\n\r\n```\r\n    public boolean isInRange(LocalTime time){\r\n        return (time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime()) &amp;&amp;\r\n            time.isBefore(roundedEndTime.toLocalTime());\r\n    }\r\n```\r\n\r\nIs checking whether \r\n\r\n&gt; `time` is after `roundedStartTime`\r\n&gt; \r\n&gt; or\r\n&gt; \r\n&gt; `time` `equals` `roundedStartTime`\r\n&gt; \r\n&gt; and\r\n&gt; \r\n&gt; `time` is before `roundedEndTime`\r\n\r\nLooking at the [Java operator precedence table][1] we can conclude that `&amp;&amp;` has a precedence of **4**, while `||` has a precedence of **3**. As a result, your condition is checking whether (time equals roundedStartTime and before roundedEndTime) or (time is after roundedStartTime).\r\n\r\nSo, when your `time` is after `roundedStartTime` and after `roundedEndTime`, that is, it&#39;s later than the whole range, the condition will still be evaluated to true, because the first operand of `||` evaluated to true. To fix it, you will need to wrap paranthesis around your `||`, so your logical expression will evaluate to\r\n\r\n(time &gt;= roundedStartTime) and (time &lt; roundedEndTime)\r\n\r\nFix:\r\n\r\n```\r\n    public boolean isInRange(LocalTime time){\r\n        return ((time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime())) &amp;&amp;\r\n            time.isBefore(roundedEndTime.toLocalTime());\r\n    }\r\n```\r\n\r\n\r\n\r\n  [1]: https://www.cs.bilkent.edu.tr/~guvenir/courses/CS101/op_precedence.html","title":"Comparing LocalTime returns true, even tho debugger evaluates to false","body":"<p>Your function of</p>\n<pre><code>    public boolean isInRange(LocalTime time){\n        return (time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime()) &amp;&amp;\n            time.isBefore(roundedEndTime.toLocalTime());\n    }\n</code></pre>\n<p>Is checking whether</p>\n<blockquote>\n<p><code>time</code> is after <code>roundedStartTime</code></p>\n<p>or</p>\n<p><code>time</code> <code>equals</code> <code>roundedStartTime</code></p>\n<p>and</p>\n<p><code>time</code> is before <code>roundedEndTime</code></p>\n</blockquote>\n<p>Looking at the <a href=\"https://www.cs.bilkent.edu.tr/%7Eguvenir/courses/CS101/op_precedence.html\" rel=\"nofollow noreferrer\">Java operator precedence table</a> we can conclude that <code>&amp;&amp;</code> has a precedence of <strong>4</strong>, while <code>||</code> has a precedence of <strong>3</strong>. As a result, your condition is checking whether (time equals roundedStartTime and before roundedEndTime) or (time is after roundedStartTime).</p>\n<p>So, when your <code>time</code> is after <code>roundedStartTime</code> and after <code>roundedEndTime</code>, that is, it's later than the whole range, the condition will still be evaluated to true, because the first operand of <code>||</code> evaluated to true. To fix it, you will need to wrap paranthesis around your <code>||</code>, so your logical expression will evaluate to</p>\n<p>(time &gt;= roundedStartTime) and (time &lt; roundedEndTime)</p>\n<p>Fix:</p>\n<pre><code>    public boolean isInRange(LocalTime time){\n        return ((time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime())) &amp;&amp;\n            time.isBefore(roundedEndTime.toLocalTime());\n    }\n</code></pre>\n"}],"owner":{"account_id":7160761,"reputation":97,"user_id":5471598,"accept_rate":71,"display_name":"Ricardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1669587916,"accepted_answer_id":74489468,"answer_count":1,"score":-1,"last_activity_date":1668773322,"creation_date":1668769115,"question_id":74488624,"body_markdown":"So, I am currently working on a function that checks if a given `LocalTime` is inside a range. All good, and the equivalent for `LocalDateTime` works without an issue.\r\n\r\nSo, my code right now looks like this:\r\n\r\n```java\r\n    public boolean isInRange(LocalTime time){\r\n        return (time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime()) &amp;&amp;\r\n            time.isBefore(roundedEndTime.toLocalTime());\r\n    }\r\n```\r\n\r\nIt has some specifics for my business logic, but thats not part of the issue. I also have accompanying junit tests, that check if the logic works as intended. Again, the `inRange(LocalDateTime time)` function works flawlessly.\r\n\r\nBut using my tests, _with the same time I use for the_ `LocalDateTime`_verification_, they fail, as they somehow return true. I&#39;ve started debugging, and can&#39;t quite believe my eyes, which explains the `true &amp;&amp; false`check:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PxjTj.png\r\n\r\nFor whatever reason, evaluating the two statements separately shows the expected behaviour, but combining them, returns true.","title":"Comparing LocalTime returns true, even tho debugger evaluates to false","body":"<p>So, I am currently working on a function that checks if a given <code>LocalTime</code> is inside a range. All good, and the equivalent for <code>LocalDateTime</code> works without an issue.</p>\n<p>So, my code right now looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public boolean isInRange(LocalTime time){\n        return (time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime()) &amp;&amp;\n            time.isBefore(roundedEndTime.toLocalTime());\n    }\n</code></pre>\n<p>It has some specifics for my business logic, but thats not part of the issue. I also have accompanying junit tests, that check if the logic works as intended. Again, the <code>inRange(LocalDateTime time)</code> function works flawlessly.</p>\n<p>But using my tests, <em>with the same time I use for the</em> <code>LocalDateTime</code><em>verification</em>, they fail, as they somehow return true. I've started debugging, and can't quite believe my eyes, which explains the <code>true &amp;&amp; false</code>check:</p>\n<p><a href=\"https://i.stack.imgur.com/PxjTj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PxjTj.png\" alt=\"enter image description here\" /></a></p>\n<p>For whatever reason, evaluating the two statements separately shows the expected behaviour, but combining them, returns true.</p>\n"},{"tags":["java","mp4","mp4parser"],"answers":[{"tags":[],"owner":{"account_id":3441926,"reputation":833,"user_id":2883674,"accept_rate":76,"display_name":"Cheloute"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668772711,"creation_date":1668772711,"answer_id":74489337,"question_id":74487131,"body_markdown":"Ok, my fault.\r\nThere was an UUID tag I missed in the original footage between moov and mdat tags. Copying the UUID tag using \r\n\r\n    pro2.addBox(Path.getPath(isoFile, &quot;uuid[0]&quot;));\r\n\r\njust before adding the mdat atom does the trick.\r\n\r\nSorry for this :) ","title":"I get a non playable MP4 file when created with Mp4Parser Java API","body":"<p>Ok, my fault.\nThere was an UUID tag I missed in the original footage between moov and mdat tags. Copying the UUID tag using</p>\n<pre><code>pro2.addBox(Path.getPath(isoFile, &quot;uuid[0]&quot;));\n</code></pre>\n<p>just before adding the mdat atom does the trick.</p>\n<p>Sorry for this :)</p>\n"}],"owner":{"account_id":3441926,"reputation":833,"user_id":2883674,"accept_rate":76,"display_name":"Cheloute"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668772711,"creation_date":1668761838,"question_id":74487131,"body_markdown":"I&#39;m studying Mp4Parser API ([Mp4Parser GitHub][1]) and try to learn how it&#39;s working. I first tried to create an MP4 by &quot;copying&quot; the highest level tags into a new file. \r\nIf I get a similar file, it&#39;s unfortunately not &quot;the same file&quot; and result can&#39;t be played.\r\n\r\nMy dirty (it&#39;s just a quick try) code is:\r\n\r\n    public void copy(String videoFilePath) throws IOException {\r\n    \t\tFile videoFile = new File(videoFilePath);\r\n    \t\tFile videoPro2 = new File(&quot;/tmp/output.mp4&quot;);\r\n\r\n    \t\tif (videoPro2.exists()) \r\n               videoPro2.delete();\r\n    \t\tvideoPro2.createNewFile();\r\n\r\n    \t\tFileOutputStream fos = new FileOutputStream(videoPro2);\r\n    \t\t\r\n    \t\tIsoFile isoFile = new IsoFile(new FileInputStream(videoFilePath).getChannel());\r\n    \t\tIsoFile pro2 = new IsoFile(new FileInputStream(videoPro2).getChannel());\r\n    \t\t\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\t\r\n    \t\tpro2.addBox(Path.getPath(isoFile, &quot;ftyp[0]&quot;));\r\n    \t\tpro2.addBox(Path.getPath(isoFile, &quot;free[0]&quot;));\r\n    \t\tpro2.addBox(Path.getPath(isoFile, &quot;moov[0]&quot;));\r\n    \t\tpro2.addBox(Path.getPath(isoFile, &quot;mdat[0]&quot;));\r\n    \t\tpro2.getBox(Channels.newChannel(baos));\r\n    \t\t \r\n    \t\tbaos.writeTo(fos);\r\n    \t\t\r\n    \t\tisoFile.close();\r\n    \t\tpro2.close();\r\n    \t\tbaos.close();\r\n    \t\t\r\n    \t\treturn;\r\n    \t}\r\n\r\nI tested my original MP4 with [AtomicParsley][2], saw there were in that order, a ftyp, a free, a moov and an mdat tags.\r\n\r\nMy method basically aims to get these four tags and puts them into the destination file to &quot;make an exact copy&quot;. Or that&#39;s what I was expecting, but it&#39;s not the case.\r\n\r\nFirstly, output.mp4 is not playable, but comparing the hex dumps of input and output... almost everything is different, except ftyp and free. Why?\r\n\r\nI can see that tag size are not similar neither.. \r\n\r\nObviously, my goal is not to &quot;copy&quot; files, but understand Mp4Parser API as I&#39;d like to use it in a real project. But this copy method is a starter for me to understand how this works, as I&#39;m not familiar with MP4 specification.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://github.com/sannies/mp4parser\r\n  [2]: https://github.com/wez/atomicparsley","title":"I get a non playable MP4 file when created with Mp4Parser Java API","body":"<p>I'm studying Mp4Parser API (<a href=\"https://github.com/sannies/mp4parser\" rel=\"nofollow noreferrer\">Mp4Parser GitHub</a>) and try to learn how it's working. I first tried to create an MP4 by &quot;copying&quot; the highest level tags into a new file.\nIf I get a similar file, it's unfortunately not &quot;the same file&quot; and result can't be played.</p>\n<p>My dirty (it's just a quick try) code is:</p>\n<pre><code>public void copy(String videoFilePath) throws IOException {\n        File videoFile = new File(videoFilePath);\n        File videoPro2 = new File(&quot;/tmp/output.mp4&quot;);\n\n        if (videoPro2.exists()) \n           videoPro2.delete();\n        videoPro2.createNewFile();\n\n        FileOutputStream fos = new FileOutputStream(videoPro2);\n        \n        IsoFile isoFile = new IsoFile(new FileInputStream(videoFilePath).getChannel());\n        IsoFile pro2 = new IsoFile(new FileInputStream(videoPro2).getChannel());\n        \n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        \n        pro2.addBox(Path.getPath(isoFile, &quot;ftyp[0]&quot;));\n        pro2.addBox(Path.getPath(isoFile, &quot;free[0]&quot;));\n        pro2.addBox(Path.getPath(isoFile, &quot;moov[0]&quot;));\n        pro2.addBox(Path.getPath(isoFile, &quot;mdat[0]&quot;));\n        pro2.getBox(Channels.newChannel(baos));\n         \n        baos.writeTo(fos);\n        \n        isoFile.close();\n        pro2.close();\n        baos.close();\n        \n        return;\n    }\n</code></pre>\n<p>I tested my original MP4 with <a href=\"https://github.com/wez/atomicparsley\" rel=\"nofollow noreferrer\">AtomicParsley</a>, saw there were in that order, a ftyp, a free, a moov and an mdat tags.</p>\n<p>My method basically aims to get these four tags and puts them into the destination file to &quot;make an exact copy&quot;. Or that's what I was expecting, but it's not the case.</p>\n<p>Firstly, output.mp4 is not playable, but comparing the hex dumps of input and output... almost everything is different, except ftyp and free. Why?</p>\n<p>I can see that tag size are not similar neither..</p>\n<p>Obviously, my goal is not to &quot;copy&quot; files, but understand Mp4Parser API as I'd like to use it in a real project. But this copy method is a starter for me to understand how this works, as I'm not familiar with MP4 specification.</p>\n<p>Thanks</p>\n"},{"tags":["java","go","zip","unzip"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1667460466,"post_id":74299267,"comment_id":131172912,"body_markdown":"Did you try to open the zip file with a 3rd party application to test whether writing or reading is the problem?","body":"Did you try to open the zip file with a 3rd party application to test whether writing or reading is the problem?"},{"owner":{"account_id":1320892,"reputation":41051,"user_id":1266756,"display_name":"Volker"},"score":3,"creation_date":1667464549,"post_id":74299267,"comment_id":131174101,"body_markdown":"In Go package compress/zlib is for reading zlib compressed data. Reading zipfiles is done via archive/zip. Always read the package doc of any package you use.","body":"In Go package compress/zlib is for reading zlib compressed data. Reading zipfiles is done via archive/zip. Always read the package doc of any package you use."},{"owner":{"account_id":7942658,"reputation":57,"user_id":5996120,"display_name":"Raju Yadav"},"score":0,"creation_date":1667465253,"post_id":74299267,"comment_id":131174310,"body_markdown":"In golang I have used with two packages\n\ncompress/flate      and \ncompress/zlib\n\nwith zlib to unzip I am getting the error:- &quot;zlib: invalid header&quot;\nwith flate to unip I am getting the error:-  &quot;flate: corrupt input before offset 5&quot;","body":"In golang I have used with two packages  compress/flate      and  compress/zlib  with zlib to unzip I am getting the error:- &quot;zlib: invalid header&quot; with flate to unip I am getting the error:-  &quot;flate: corrupt input before offset 5&quot;"},{"owner":{"account_id":1320892,"reputation":41051,"user_id":1266756,"display_name":"Volker"},"score":1,"creation_date":1667467135,"post_id":74299267,"comment_id":131174911,"body_markdown":"Please listen closely: **Neither** compress/zlib **nor** compress/flate has **anything** to do with zipfiles. Really. Zipfiles are manipulated with a**rchive/zip** only.","body":"Please listen closely: <b>Neither</b> compress/zlib <b>nor</b> compress/flate has <b>anything</b> to do with zipfiles. Really. Zipfiles are manipulated with a<b>rchive/zip</b> only."},{"owner":{"account_id":7942658,"reputation":57,"user_id":5996120,"display_name":"Raju Yadav"},"score":0,"creation_date":1667468202,"post_id":74299267,"comment_id":131175305,"body_markdown":"Kindly not the program above, using java we zip(compress) the string data and produces zipped value in form of byte array  and then again unzipping the same zipped record using golang then getting the error","body":"Kindly not the program above, using java we zip(compress) the string data and produces zipped value in form of byte array  and then again unzipping the same zipped record using golang then getting the error"},{"owner":{"account_id":1320892,"reputation":41051,"user_id":1266756,"display_name":"Volker"},"score":0,"creation_date":1667469423,"post_id":74299267,"comment_id":131175767,"body_markdown":"It doesn&#39;t matter at all how the zipfile was created in Java or how the Java libraries are named. You _must_ read zipfile with archive/zip in Go. EOD for me. Sorry.","body":"It doesn&#39;t matter at all how the zipfile was created in Java or how the Java libraries are named. You <i>must</i> read zipfile with archive/zip in Go. EOD for me. Sorry."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667460893,"creation_date":1667460893,"answer_id":74299421,"question_id":74299267,"body_markdown":"Java part looks good to me:\r\n\r\n```java\r\npublic static byte[] createZipForLicenses(String string) throws IOException {\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    ZipOutputStream zipOutputStream = new ZipOutputStream(out);\r\n    zipOutputStream.setLevel(Deflater.DEFAULT_COMPRESSION);\r\n\r\n    if (string != null &amp;&amp; string.length() &gt; 0) {\r\n        ZipEntry zipEntry = new ZipEntry(&quot;data&quot;);\r\n        zipOutputStream.putNextEntry(zipEntry);\r\n        zipOutputStream.write(string.getBytes(&quot;UTF-8&quot;));\r\n        zipOutputStream.closeEntry();\r\n    }\r\n\r\n    zipOutputStream.close();\r\n\r\n    return out.toByteArray();\r\n}\r\n```\r\n\r\nAnd am able to read this `zip` with `WinZip`. And this is a zip info:\r\n\r\n```\r\n(PK0506) End of Central directory record\r\n========================================\r\n    - location:                                     116 (0x00000074) bytes\r\n    - size:                                         22 bytes\r\n    part number of this part (0000):                1\r\n    part number of start of central dir (0000):     1\r\n    number of entries in central dir in this part:  1\r\n    total number of entries in central dir:         1\r\n    size of central dir:                            50 (0x00000032) bytes\r\n    relative offset of central dir:                 66 (0x00000042) bytes\r\n    zipfile comment length:                         0 bytes\r\n\r\n(PK0102) Central directory\r\n==========================\r\n    - location:                                     66 (0x00000042) bytes\r\n    - size:                                         54 bytes\r\n    total entries:                                  1\r\n\r\n#1 (PK0102) [UTF-8] data\r\n------------------------\r\n    - location:                                     66 (0x00000042) bytes\r\n    - size:                                         50 bytes\r\n    part number of this part (0000):                1\r\n    relative offset of local header:                0 (0x00000000) bytes\r\n    version made by operating system (00):          MS-DOS, OS/2, NT FAT\r\n    version made by zip software (20):              2.0\r\n    operat. system version needed to extract (00):  MS-DOS, OS/2, NT FAT\r\n    unzip software version needed to extract (20):  2.0\r\n    general purpose bit flag (0x0808) (bit 15..0):  0000.1000 0000.1000\r\n      file security status  (bit 0):                not encrypted\r\n      data descriptor       (bit 3):                yes\r\n      strong encryption     (bit 6):                no\r\n      UTF-8 names          (bit 11):                yes\r\n    compression method (08):                        deflated\r\n      compression sub-type (deflation):             normal\r\n    file last modified on (0x5563 0x542A):          2022-11-03 10:33:20\r\n    32-bit CRC value:                               0x373555E7\r\n    compressed size:                                16 bytes\r\n    uncompressed size:                              14 bytes\r\n    length of filename:                             4\r\n                                                    UTF-8\r\n    64 61 74 61                                     data\r\n    length of file comment:                         0 bytes\r\n    internal file attributes:                       0x0000\r\n      apparent file type:                           binary\r\n    external file attributes:                       0x00000000\r\n      WINDOWS   (0x00):                             none\r\n      POSIX (0x000000):                             ?---------\r\n\r\n(PK0304) ZIP entries\r\n====================\r\n    total entries:                                  1\r\n\r\n#1 (PK0304) [UTF-8] data\r\n------------------------\r\n    - location:                                     0 (0x00000000) bytes\r\n    - size:                                         34 bytes\r\n    operat. system version needed to extract (00):  MS-DOS, OS/2, NT FAT\r\n    unzip software version needed to extract (20):  2.0\r\n    general purpose bit flag (0x0808) (bit 15..0):  0000.1000 0000.1000\r\n      file security status  (bit 0):                not encrypted\r\n      data descriptor       (bit 3):                yes\r\n      strong encryption     (bit 6):                no\r\n      UTF-8 names          (bit 11):                yes\r\n    compression method (08):                        deflated\r\n      compression sub-type (deflation):             normal\r\n    file last modified on (0x5563 0x542A):          2022-11-03 10:33:20\r\n    32-bit CRC value:                               0x00000000\r\n    compressed size:                                0 bytes\r\n    uncompressed size:                              0 bytes\r\n    length of filename:                             4\r\n                                                    UTF-8\r\n    64 61 74 61                                     data\r\n\r\n#1 (PK0708) Data descriptor\r\n---------------------------\r\n    - location:                                     50 (0x00000032) bytes\r\n    - size:                                         16 bytes\r\n    32-bit CRC value:                               0x373555E7\r\n    compressed size:                                16 bytes\r\n    uncompressed size:                              14 bytes\r\n```\r\n\r\nLooks like you unzip it with `Go` incorrectly.\r\n\r\n***P.S.** To avoid a lot of code when zip/unzip files in java, you can use [zip4jvm][1]*\r\n\r\n\r\n  [1]: https://github.com/oleg-cherednik/zip4jvm","title":"Create Zip with java program and while unzip using Golang, getting issue as &quot;zlib: invalid header&quot;","body":"<p>Java part looks good to me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static byte[] createZipForLicenses(String string) throws IOException {\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    ZipOutputStream zipOutputStream = new ZipOutputStream(out);\n    zipOutputStream.setLevel(Deflater.DEFAULT_COMPRESSION);\n\n    if (string != null &amp;&amp; string.length() &gt; 0) {\n        ZipEntry zipEntry = new ZipEntry(&quot;data&quot;);\n        zipOutputStream.putNextEntry(zipEntry);\n        zipOutputStream.write(string.getBytes(&quot;UTF-8&quot;));\n        zipOutputStream.closeEntry();\n    }\n\n    zipOutputStream.close();\n\n    return out.toByteArray();\n}\n</code></pre>\n<p>And am able to read this <code>zip</code> with <code>WinZip</code>. And this is a zip info:</p>\n<pre><code>(PK0506) End of Central directory record\n========================================\n    - location:                                     116 (0x00000074) bytes\n    - size:                                         22 bytes\n    part number of this part (0000):                1\n    part number of start of central dir (0000):     1\n    number of entries in central dir in this part:  1\n    total number of entries in central dir:         1\n    size of central dir:                            50 (0x00000032) bytes\n    relative offset of central dir:                 66 (0x00000042) bytes\n    zipfile comment length:                         0 bytes\n\n(PK0102) Central directory\n==========================\n    - location:                                     66 (0x00000042) bytes\n    - size:                                         54 bytes\n    total entries:                                  1\n\n#1 (PK0102) [UTF-8] data\n------------------------\n    - location:                                     66 (0x00000042) bytes\n    - size:                                         50 bytes\n    part number of this part (0000):                1\n    relative offset of local header:                0 (0x00000000) bytes\n    version made by operating system (00):          MS-DOS, OS/2, NT FAT\n    version made by zip software (20):              2.0\n    operat. system version needed to extract (00):  MS-DOS, OS/2, NT FAT\n    unzip software version needed to extract (20):  2.0\n    general purpose bit flag (0x0808) (bit 15..0):  0000.1000 0000.1000\n      file security status  (bit 0):                not encrypted\n      data descriptor       (bit 3):                yes\n      strong encryption     (bit 6):                no\n      UTF-8 names          (bit 11):                yes\n    compression method (08):                        deflated\n      compression sub-type (deflation):             normal\n    file last modified on (0x5563 0x542A):          2022-11-03 10:33:20\n    32-bit CRC value:                               0x373555E7\n    compressed size:                                16 bytes\n    uncompressed size:                              14 bytes\n    length of filename:                             4\n                                                    UTF-8\n    64 61 74 61                                     data\n    length of file comment:                         0 bytes\n    internal file attributes:                       0x0000\n      apparent file type:                           binary\n    external file attributes:                       0x00000000\n      WINDOWS   (0x00):                             none\n      POSIX (0x000000):                             ?---------\n\n(PK0304) ZIP entries\n====================\n    total entries:                                  1\n\n#1 (PK0304) [UTF-8] data\n------------------------\n    - location:                                     0 (0x00000000) bytes\n    - size:                                         34 bytes\n    operat. system version needed to extract (00):  MS-DOS, OS/2, NT FAT\n    unzip software version needed to extract (20):  2.0\n    general purpose bit flag (0x0808) (bit 15..0):  0000.1000 0000.1000\n      file security status  (bit 0):                not encrypted\n      data descriptor       (bit 3):                yes\n      strong encryption     (bit 6):                no\n      UTF-8 names          (bit 11):                yes\n    compression method (08):                        deflated\n      compression sub-type (deflation):             normal\n    file last modified on (0x5563 0x542A):          2022-11-03 10:33:20\n    32-bit CRC value:                               0x00000000\n    compressed size:                                0 bytes\n    uncompressed size:                              0 bytes\n    length of filename:                             4\n                                                    UTF-8\n    64 61 74 61                                     data\n\n#1 (PK0708) Data descriptor\n---------------------------\n    - location:                                     50 (0x00000032) bytes\n    - size:                                         16 bytes\n    32-bit CRC value:                               0x373555E7\n    compressed size:                                16 bytes\n    uncompressed size:                              14 bytes\n</code></pre>\n<p>Looks like you unzip it with <code>Go</code> incorrectly.</p>\n<p><em><strong>P.S.</strong> To avoid a lot of code when zip/unzip files in java, you can use <a href=\"https://github.com/oleg-cherednik/zip4jvm\" rel=\"nofollow noreferrer\">zip4jvm</a></em></p>\n"},{"tags":[],"owner":{"account_id":7942658,"reputation":57,"user_id":5996120,"display_name":"Raju Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668772659,"creation_date":1668772659,"answer_id":74489327,"question_id":74299267,"body_markdown":"    func Unzip(data []byte) (string, error) {\r\n\tzipReader, err := zip.NewReader(bytes.NewReader(data), int64(len(data)))\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\tif len(zipReader.File) == 0 {\r\n\t\treturn &quot;&quot;, nil // No file to open / extract\r\n\t}\r\n\tf, err := zipReader.File[0].Open()\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\tp, err := ioutil.ReadAll(f)\r\n\tif err != nil {\r\n\t\treturn &quot;&quot;, err\r\n\t}\r\n\treturn string(p), nil\r\n\r\n} ","title":"Create Zip with java program and while unzip using Golang, getting issue as &quot;zlib: invalid header&quot;","body":"<pre><code>func Unzip(data []byte) (string, error) {\nzipReader, err := zip.NewReader(bytes.NewReader(data), int64(len(data)))\nif err != nil {\n    panic(err)\n}\nif len(zipReader.File) == 0 {\n    return &quot;&quot;, nil // No file to open / extract\n}\nf, err := zipReader.File[0].Open()\nif err != nil {\n    panic(err)\n}\np, err := ioutil.ReadAll(f)\nif err != nil {\n    return &quot;&quot;, err\n}\nreturn string(p), nil\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":7942658,"reputation":57,"user_id":5996120,"display_name":"Raju Yadav"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1668772659,"creation_date":1667459963,"question_id":74299267,"body_markdown":"I am having two application one written in java where required to zip string of data and other in golang and required to unzip the record zipped by first application \r\n\r\n**Java program to Creating Zipped of string data**\r\n\r\n\tpublic static byte[] createZipForLicenses(String string) throws UnsupportedEncodingException {\r\n\t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\t\tZipOutputStream zipOutputStream = new ZipOutputStream(outputStream);\r\n\t\tzipOutputStream.setLevel(Deflater.DEFAULT_COMPRESSION);\r\n\r\n\t\ttry {\r\n\r\n\t\t\tif (string != null &amp;&amp; string.length() &gt; 0) {\r\n\t\t\t\tZipEntry zipEntry = new ZipEntry(&quot;data&quot;);\r\n\t\t\t\tzipOutputStream.putNextEntry(zipEntry);\r\n\t\t\t\tzipOutputStream.write(string.getBytes(&quot;UTF-8&quot;));\r\n\t\t\t\tzipOutputStream.closeEntry();\r\n\t\t\t}\r\n\r\n\t\t\tzipOutputStream.close();\r\n\r\n\t\t} catch (IOException e) {\r\n\r\n\t\t}\r\n\t\treturn outputStream.toByteArray();\r\n\t}\r\n\r\n**Golang program to unzip the string data** \r\n\r\nfunc Unzip(data []byte) (string, error) {\r\n\t\r\n    rdata := bytes.NewReader(data)\r\n\tr, err := zlib.NewReader(rdata) //**Error**-&gt; &quot;zlib: invalid header\t\r\n\tif err != nil {\r\n\t\treturn &quot;&quot;, err\r\n\t}\r\n\ts, err := io.ReadAll(r)\r\n\tif err != nil {\r\n\t\treturn &quot;&quot;, err\r\n\t}\r\n\treturn string(s), nil\r\n}\r\n\r\n\r\n\r\nI tried using compress/flate lib also but with this getting error &quot;flate: corrupt input before offset 5&quot;\r\n\r\n","title":"Create Zip with java program and while unzip using Golang, getting issue as &quot;zlib: invalid header&quot;","body":"<p>I am having two application one written in java where required to zip string of data and other in golang and required to unzip the record zipped by first application</p>\n<p><strong>Java program to Creating Zipped of string data</strong></p>\n<pre><code>public static byte[] createZipForLicenses(String string) throws UnsupportedEncodingException {\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    ZipOutputStream zipOutputStream = new ZipOutputStream(outputStream);\n    zipOutputStream.setLevel(Deflater.DEFAULT_COMPRESSION);\n\n    try {\n\n        if (string != null &amp;&amp; string.length() &gt; 0) {\n            ZipEntry zipEntry = new ZipEntry(&quot;data&quot;);\n            zipOutputStream.putNextEntry(zipEntry);\n            zipOutputStream.write(string.getBytes(&quot;UTF-8&quot;));\n            zipOutputStream.closeEntry();\n        }\n\n        zipOutputStream.close();\n\n    } catch (IOException e) {\n\n    }\n    return outputStream.toByteArray();\n}\n</code></pre>\n<p><strong>Golang program to unzip the string data</strong></p>\n<p>func Unzip(data []byte) (string, error) {</p>\n<pre><code>rdata := bytes.NewReader(data)\nr, err := zlib.NewReader(rdata) //**Error**-&gt; &quot;zlib: invalid header \nif err != nil {\n    return &quot;&quot;, err\n}\ns, err := io.ReadAll(r)\nif err != nil {\n    return &quot;&quot;, err\n}\nreturn string(s), nil\n</code></pre>\n<p>}</p>\n<p>I tried using compress/flate lib also but with this getting error &quot;flate: corrupt input before offset 5&quot;</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668772209,"creation_date":1668772209,"answer_id":74489225,"question_id":74488222,"body_markdown":"The timeout value from the `BulkOptions` parameter has nothing to do with the network layer, it is sent as a parameter in the query to Elasticsearch, see https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html#docs-bulk-api-query-params.\r\n\r\nSpring Data Elasticsearch does not support changing the network timeout settings per request or request type.","title":"Modify the socket timeout for elasticsearch bulk requests only","body":"<p>The timeout value from the <code>BulkOptions</code> parameter has nothing to do with the network layer, it is sent as a parameter in the query to Elasticsearch, see <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html#docs-bulk-api-query-params\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html#docs-bulk-api-query-params</a>.</p>\n<p>Spring Data Elasticsearch does not support changing the network timeout settings per request or request type.</p>\n"}],"owner":{"account_id":12448890,"reputation":245,"user_id":9064229,"display_name":"Aethernite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668772209,"creation_date":1668767137,"question_id":74488222,"body_markdown":"Greetings stackoverflowers! I&#39;m currently bumping into an issue with our elasticsearch re-index functionality. I&#39;m using `spring-data-elasticsearch` 7.10.0 and I created an elastic template class to do my bulk indexing using Java. Basically I create a list of index queries and I try to index the given elasticsearch index using the provided method below from elasticsearch:\r\n\r\n```java\r\n@Override\r\n\tpublic final List&lt;IndexedObjectInformation&gt; bulkIndex(List&lt;IndexQuery&gt; queries, BulkOptions bulkOptions,\r\n\t\t\tIndexCoordinates index) {\r\n\r\n\t\tAssert.notNull(queries, &quot;List of IndexQuery must not be null&quot;);\r\n\t\tAssert.notNull(bulkOptions, &quot;BulkOptions must not be null&quot;);\r\n\r\n\t\treturn bulkOperation(queries, bulkOptions, index);\r\n\t}\r\n```\r\n\r\nHow ever, when I try to import and index large batches of data (stream of around 10GB data). I get the following error:\r\n\r\n```\r\nError while processing event: 60,000 milliseconds timeout on connection http-outgoing-3244 [ACTIVE]; nested exception is java.lang.RuntimeException: 60,000 milliseconds timeout on connection http-outgoing-3244 [ACTIVE]\r\n```\r\n\r\n**Properties:**\r\n\r\nI do the batching 200 index queries per bulk request without concurence.\r\n\r\n```yml\r\nspring:\r\n  data:\r\n    elasticsearch:\r\n      max-connection-idle-time: 15000 # 15 seconds\r\n      read-timeout: 7000 # 7 seconds\r\n      socket-timeout: 60000 # 60 seconds\r\n      connection-timeout: 4000 # 4 seconds\r\n```\r\n\r\nAs you can see my socket timeout is 60 seconds (it shows it in the error as well). This configuration works most of the time but rarely I get the socket timeout exception. Bumping the socket-timeout fixes the issue but I wanted to know if there is a way to bump it only for the bulk indexing requests and not all of them including read requests?\r\n\r\n\r\n**What I tried:** \r\n\r\nI tried modifying the passed `BulkOptions` by setting the timeout to 20 minutes. After I tried to reindex a large file I got the same socket-timout exception showing 60 seconds. Is there a way to apply different socket-timeout to bulk index queries only? Thanks in advance!","title":"Modify the socket timeout for elasticsearch bulk requests only","body":"<p>Greetings stackoverflowers! I'm currently bumping into an issue with our elasticsearch re-index functionality. I'm using <code>spring-data-elasticsearch</code> 7.10.0 and I created an elastic template class to do my bulk indexing using Java. Basically I create a list of index queries and I try to index the given elasticsearch index using the provided method below from elasticsearch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public final List&lt;IndexedObjectInformation&gt; bulkIndex(List&lt;IndexQuery&gt; queries, BulkOptions bulkOptions,\n            IndexCoordinates index) {\n\n        Assert.notNull(queries, &quot;List of IndexQuery must not be null&quot;);\n        Assert.notNull(bulkOptions, &quot;BulkOptions must not be null&quot;);\n\n        return bulkOperation(queries, bulkOptions, index);\n    }\n</code></pre>\n<p>How ever, when I try to import and index large batches of data (stream of around 10GB data). I get the following error:</p>\n<pre><code>Error while processing event: 60,000 milliseconds timeout on connection http-outgoing-3244 [ACTIVE]; nested exception is java.lang.RuntimeException: 60,000 milliseconds timeout on connection http-outgoing-3244 [ACTIVE]\n</code></pre>\n<p><strong>Properties:</strong></p>\n<p>I do the batching 200 index queries per bulk request without concurence.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  data:\n    elasticsearch:\n      max-connection-idle-time: 15000 # 15 seconds\n      read-timeout: 7000 # 7 seconds\n      socket-timeout: 60000 # 60 seconds\n      connection-timeout: 4000 # 4 seconds\n</code></pre>\n<p>As you can see my socket timeout is 60 seconds (it shows it in the error as well). This configuration works most of the time but rarely I get the socket timeout exception. Bumping the socket-timeout fixes the issue but I wanted to know if there is a way to bump it only for the bulk indexing requests and not all of them including read requests?</p>\n<p><strong>What I tried:</strong></p>\n<p>I tried modifying the passed <code>BulkOptions</code> by setting the timeout to 20 minutes. After I tried to reindex a large file I got the same socket-timout exception showing 60 seconds. Is there a way to apply different socket-timeout to bulk index queries only? Thanks in advance!</p>\n"},{"tags":["java","maven","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668769480,"creation_date":1668769480,"answer_id":74488695,"question_id":74488560,"body_markdown":"I&#39;ve checked out the source code of maven&#39;s archetype plugin (`generate` mojo to be precise): \r\n\r\nThey just inject the boolean value into the mojo:\r\n\r\n```java\r\n  /**\r\n     * User settings used to check the interactiveMode.\r\n     */\r\n    @Parameter( property = &quot;interactiveMode&quot;, defaultValue = &quot;${settings.interactiveMode}&quot;, required = true )\r\n    private Boolean interactiveMode;\r\n```\r\n\r\n\r\nTake a look [here][1] and pay attention to how do they use it in the source code:\r\n\r\n```java\r\n  if ( interactiveMode.booleanValue() )\r\n  {\r\n        getLog().info( &quot;Generating project in Interactive mode&quot; );\r\n  }\r\n  else\r\n  {\r\n        getLog().info( &quot;Generating project in Batch mode&quot; );\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/maven-archetype/blob/maven-archetype-3.2.1/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java","title":"Determine in a Maven Plugin whether Batch mode is active","body":"<p>I've checked out the source code of maven's archetype plugin (<code>generate</code> mojo to be precise):</p>\n<p>They just inject the boolean value into the mojo:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  /**\n     * User settings used to check the interactiveMode.\n     */\n    @Parameter( property = &quot;interactiveMode&quot;, defaultValue = &quot;${settings.interactiveMode}&quot;, required = true )\n    private Boolean interactiveMode;\n</code></pre>\n<p>Take a look <a href=\"https://github.com/apache/maven-archetype/blob/maven-archetype-3.2.1/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java\" rel=\"nofollow noreferrer\">here</a> and pay attention to how do they use it in the source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  if ( interactiveMode.booleanValue() )\n  {\n        getLog().info( &quot;Generating project in Interactive mode&quot; );\n  }\n  else\n  {\n        getLog().info( &quot;Generating project in Batch mode&quot; );\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668771840,"creation_date":1668771840,"answer_id":74489156,"question_id":74488560,"body_markdown":"The simplest way would be to put this:\r\n\r\n&lt;!-- language: language-java --&gt;\r\n\r\n      @Parameter(defaultValue = &quot;${session}&quot;, required = true, readonly = true)\r\n      private MavenSession session;\r\n\r\nIf you have defined that in your mojo definition you can within your execute method going like this:\r\n\r\n\r\n&lt;!-- language: language-java --&gt;\r\n\r\n      if (session.getRequest().isInteractiveMode()) {\r\n        //..\r\n      } else {\r\n        //..\r\n      }\r\n\r\nThis will give you the information about using --batch-mode.\r\n\r\n\r\n","title":"Determine in a Maven Plugin whether Batch mode is active","body":"<p>The simplest way would be to put this:</p>\n<pre><code>  @Parameter(defaultValue = &quot;${session}&quot;, required = true, readonly = true)\n  private MavenSession session;\n</code></pre>\n<p>If you have defined that in your mojo definition you can within your execute method going like this:</p>\n<pre><code>  if (session.getRequest().isInteractiveMode()) {\n    //..\n  } else {\n    //..\n  }\n</code></pre>\n<p>This will give you the information about using --batch-mode.</p>\n"}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74489156,"answer_count":2,"score":0,"last_activity_date":1668771840,"creation_date":1668768751,"question_id":74488560,"body_markdown":"When I write a Mojo, how can I determine whether I am currently in Batch Mode (i.e. the `-B` parameter was given on command line)?","title":"Determine in a Maven Plugin whether Batch mode is active","body":"<p>When I write a Mojo, how can I determine whether I am currently in Batch Mode (i.e. the <code>-B</code> parameter was given on command line)?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":15168525,"reputation":215,"user_id":10945348,"display_name":"Sibtain Raza"},"score":0,"creation_date":1668757689,"post_id":74480693,"comment_id":131488463,"body_markdown":"You can use the cloud function and do this but you have to make it secure in some manner as the request to the cloud function should be validate is it called by any authorize resource or not.","body":"You can use the cloud function and do this but you have to make it secure in some manner as the request to the cloud function should be validate is it called by any authorize resource or not."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668760638,"post_id":74480693,"comment_id":131489290,"body_markdown":"What do you mean by &quot;make only api calls using the app&quot;? Please respond using @AlexMamo","body":"What do you mean by &quot;make only api calls using the app&quot;? Please respond using @AlexMamo"},{"owner":{"account_id":21705285,"reputation":11,"user_id":16017835,"display_name":"parth"},"score":0,"creation_date":1668768827,"post_id":74480693,"comment_id":131492102,"body_markdown":"@AlexMamo what I mean is I don&#39;t want to run the loop in my app but on the server and want the server to just send me the list.","body":"@AlexMamo what I mean is I don&#39;t want to run the loop in my app but on the server and want the server to just send me the list."},{"owner":{"account_id":21705285,"reputation":11,"user_id":16017835,"display_name":"parth"},"score":0,"creation_date":1668768888,"post_id":74480693,"comment_id":131492122,"body_markdown":"@SibtainRaza ok noted","body":"@SibtainRaza ok noted"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668771728,"creation_date":1668770841,"answer_id":74488977,"question_id":74480693,"body_markdown":"&gt;  I mean I don&#39;t want to run the loop in my app but on the server and want the server to just send me the list.\r\n\r\nIn that case, you should map the QuerySnapshot object directly into a List of custom objects. Assuming that you have a class that is similar to this one:\r\n\r\n```\r\npublic class User {\r\n    public String uid;\r\n    public String name;\r\n    public String email;\r\n\r\n    public User() {}\r\n\r\n    User(String uid, String name, String email) {\r\n        this.uid = uid;\r\n        this.name = name;\r\n        this.email = email;\r\n    }\r\n}\r\n```\r\n\r\nTo remove the for loop and get directly get the list, please use the following lines of code:\r\n\r\n```\r\npublic void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n    fi.onFollowingRetrieved(queryDocumentSnapshots.toObjects(User.class));\r\n}\r\n```\r\n\r\nSee, I have used [QuerySnapshot#&lt;T&gt; toObjects(@NonNull Class&lt;T&gt; clazz)][1] which:\r\n\r\n&gt; Returns the contents of the documents in the QuerySnapshot, converted to the provided class, as a list.\r\n\r\nBe also aware that the more documents your query returns, the longer the reading time will be. There&#39;s no hack for that, other than [limiting the results][2].\r\n\r\nIf you only want the document IDs, then assuming that the document ID is represented by the UID, then you should simply use the following code:\r\n\r\n```\r\npublic void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n    List&lt;User&gt; users = queryDocumentSnapshots.toObjects(User.class);\r\n    List&lt;String&gt; usersf = users.stream().map(user -&gt; user.uid).toList()\r\n    fi.onFollowingRetrieved(usersf);\r\n}\r\n```\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/QuerySnapshot#toObjects(java.lang.Class%3CT%3E)\r\n  [2]: https://firebase.google.com/docs/firestore/query-data/order-limit-data","title":"cloud firestore using server","body":"<blockquote>\n<p>I mean I don't want to run the loop in my app but on the server and want the server to just send me the list.</p>\n</blockquote>\n<p>In that case, you should map the QuerySnapshot object directly into a List of custom objects. Assuming that you have a class that is similar to this one:</p>\n<pre><code>public class User {\n    public String uid;\n    public String name;\n    public String email;\n\n    public User() {}\n\n    User(String uid, String name, String email) {\n        this.uid = uid;\n        this.name = name;\n        this.email = email;\n    }\n}\n</code></pre>\n<p>To remove the for loop and get directly get the list, please use the following lines of code:</p>\n<pre><code>public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n    fi.onFollowingRetrieved(queryDocumentSnapshots.toObjects(User.class));\n}\n</code></pre>\n<p>See, I have used <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/QuerySnapshot#toObjects(java.lang.Class%3CT%3E)\" rel=\"nofollow noreferrer\">QuerySnapshot# toObjects(@NonNull Class clazz)</a> which:</p>\n<blockquote>\n<p>Returns the contents of the documents in the QuerySnapshot, converted to the provided class, as a list.</p>\n</blockquote>\n<p>Be also aware that the more documents your query returns, the longer the reading time will be. There's no hack for that, other than <a href=\"https://firebase.google.com/docs/firestore/query-data/order-limit-data\" rel=\"nofollow noreferrer\">limiting the results</a>.</p>\n<p>If you only want the document IDs, then assuming that the document ID is represented by the UID, then you should simply use the following code:</p>\n<pre><code>public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n    List&lt;User&gt; users = queryDocumentSnapshots.toObjects(User.class);\n    List&lt;String&gt; usersf = users.stream().map(user -&gt; user.uid).toList()\n    fi.onFollowingRetrieved(usersf);\n}\n</code></pre>\n"}],"owner":{"account_id":21705285,"reputation":11,"user_id":16017835,"display_name":"parth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668771728,"creation_date":1668711242,"question_id":74480693,"body_markdown":"I am using Cloud Firestore as my database for an android project.\r\nI am writing all the crud operations in the app which makes it very slow and the code is large. I want to shift all the code to the server and make only API calls using the app.\r\n\r\n\r\n\r\nfor example,\r\n\r\n\r\n```\r\npublic void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n    List&lt;String&gt; usersf = new ArrayList&lt;&gt;();\r\n\r\n    for (DocumentSnapshot doc : queryDocumentSnapshots) {\r\n        usersf.add(doc.getId());\r\n\r\n    }\r\n\r\n    fi.onFollowingRetrieved(usersf);\r\n}\r\n```\r\n\r\nhere I write this code in my app, which get me a list of user id.\r\nI want to write an api in my application which fetches this list from server and do not do the work itself.\r\n\r\nhow do I implement this?","title":"cloud firestore using server","body":"<p>I am using Cloud Firestore as my database for an android project.\nI am writing all the crud operations in the app which makes it very slow and the code is large. I want to shift all the code to the server and make only API calls using the app.</p>\n<p>for example,</p>\n<pre><code>public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n    List&lt;String&gt; usersf = new ArrayList&lt;&gt;();\n\n    for (DocumentSnapshot doc : queryDocumentSnapshots) {\n        usersf.add(doc.getId());\n\n    }\n\n    fi.onFollowingRetrieved(usersf);\n}\n</code></pre>\n<p>here I write this code in my app, which get me a list of user id.\nI want to write an api in my application which fetches this list from server and do not do the work itself.</p>\n<p>how do I implement this?</p>\n"},{"tags":["java","list","algorithm","sorting"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1628752577,"post_id":68752292,"comment_id":121506127,"body_markdown":"Above, generating subsets in the desired order would seem better than ordering after the fact.","body":"Above, generating subsets in the desired order would seem better than ordering after the fact."}],"answers":[{"tags":[],"owner":{"account_id":22319025,"reputation":1,"user_id":16541918,"display_name":"Gaurang Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647405787,"creation_date":1647405730,"answer_id":71491889,"question_id":68752292,"body_markdown":"You can use this method\r\n\r\n    Collections.sort(result, (o1, o2) -&gt; {\r\n      int n = Math.min(o1.size(), o2.size());\r\n      for(int i=0;i&lt;n;i++){\r\n         if(o1.get(i)==o2.get(i)) continue;\r\n         else return o1.get(i) - o2.get(i);\r\n      }\r\n      return 1;\r\n    })\r\n","title":"Sorting an ArrayList of ArrayList in lexicographical order","body":"<p>You can use this method</p>\n<pre><code>Collections.sort(result, (o1, o2) -&gt; {\n  int n = Math.min(o1.size(), o2.size());\n  for(int i=0;i&lt;n;i++){\n     if(o1.get(i)==o2.get(i)) continue;\n     else return o1.get(i) - o2.get(i);\n  }\n  return 1;\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2481175,"reputation":3095,"user_id":2160616,"accept_rate":67,"display_name":"BeingSuman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668771586,"creation_date":1668771586,"answer_id":74489109,"question_id":68752292,"body_markdown":"This should help\r\n\r\n    Collections.sort(this.res, (o1, o2) -&gt; {\r\n            int n = Math.min(o1.size(), o2.size());\r\n            for(int i=0;i&lt;n;i++){\r\n                if(!Objects.equals(o1.get(i), o2.get(i))) return o1.get(i) - o2.get(i);\r\n            }\r\n\r\n            return o1.size() - o2.size();\r\n        });","title":"Sorting an ArrayList of ArrayList in lexicographical order","body":"<p>This should help</p>\n<pre><code>Collections.sort(this.res, (o1, o2) -&gt; {\n        int n = Math.min(o1.size(), o2.size());\n        for(int i=0;i&lt;n;i++){\n            if(!Objects.equals(o1.get(i), o2.get(i))) return o1.get(i) - o2.get(i);\n        }\n\n        return o1.size() - o2.size();\n    });\n</code></pre>\n"}],"owner":{"account_id":22427892,"reputation":11,"user_id":16634205,"display_name":"Rohit Maheshwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668771586,"creation_date":1628747770,"question_id":68752292,"body_markdown":" I am having an arraylist of arraylist of subsets of number.\r\nAccording to my code the output is correct but the output is not in lexicographical order.\r\nCan anyone tell me how to sort a arraylist of arraylist in lexicographical order?\r\n\r\nHere is my code for finding subsets of a number.\r\n\r\n     public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets(ArrayList&lt;Integer&gt; A)\r\n        {\r\n            //code here\r\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result=new ArrayList&lt;&gt;();\r\n            ArrayList&lt;Integer&gt; output=new ArrayList&lt;&gt;();\r\n            Solve(A,output,result,0);\r\n            // Collections.sort(result);\r\n            return result;\r\n        }\r\n        public static void Solve(ArrayList&lt;Integer&gt; input,ArrayList&lt;Integer&gt; output,ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result,int start){\r\n            if(start==input.size()){\r\n                result.add(new ArrayList&lt;Integer&gt;(output));\r\n                return;\r\n            }\r\n            output.add(input.get(start));\r\n            Solve(input,output,result,start+1);\r\n            output.remove(output.size()-1);\r\n            Solve(input,output,result,start+1);\r\n           \r\n            \r\n        }\r\n\r\n**THE EXPECTED OUTPUT IS**\r\n\r\nINPUT-\r\n\r\n    size=3\r\n    1 2 3\r\n\r\nOUTPUT - \r\n\r\n    1 ,\r\n    1 2 , \r\n    1 2 3 , \r\n    1 3 , \r\n    2 , \r\n    2 3 , \r\n    3 ,\r\n\r\n**but my output is same but not in order**\r\n\r\nOUTPUT-\r\n\r\n    1 2 3 , \r\n    1 2  , \r\n    1 3  , \r\n    1  , \r\n    2 3  , \r\n    2  , \r\n    3 ,\r\n\r\n","title":"Sorting an ArrayList of ArrayList in lexicographical order","body":"<p>I am having an arraylist of arraylist of subsets of number.\nAccording to my code the output is correct but the output is not in lexicographical order.\nCan anyone tell me how to sort a arraylist of arraylist in lexicographical order?</p>\n<p>Here is my code for finding subsets of a number.</p>\n<pre><code> public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets(ArrayList&lt;Integer&gt; A)\n    {\n        //code here\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result=new ArrayList&lt;&gt;();\n        ArrayList&lt;Integer&gt; output=new ArrayList&lt;&gt;();\n        Solve(A,output,result,0);\n        // Collections.sort(result);\n        return result;\n    }\n    public static void Solve(ArrayList&lt;Integer&gt; input,ArrayList&lt;Integer&gt; output,ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result,int start){\n        if(start==input.size()){\n            result.add(new ArrayList&lt;Integer&gt;(output));\n            return;\n        }\n        output.add(input.get(start));\n        Solve(input,output,result,start+1);\n        output.remove(output.size()-1);\n        Solve(input,output,result,start+1);\n       \n        \n    }\n</code></pre>\n<p><strong>THE EXPECTED OUTPUT IS</strong></p>\n<p>INPUT-</p>\n<pre><code>size=3\n1 2 3\n</code></pre>\n<p>OUTPUT -</p>\n<pre><code>1 ,\n1 2 , \n1 2 3 , \n1 3 , \n2 , \n2 3 , \n3 ,\n</code></pre>\n<p><strong>but my output is same but not in order</strong></p>\n<p>OUTPUT-</p>\n<pre><code>1 2 3 , \n1 2  , \n1 3  , \n1  , \n2 3  , \n2  , \n3 ,\n</code></pre>\n"},{"tags":["java","rabbitmq","connection","mqtt","paho"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1668518807,"post_id":74445016,"comment_id":131420532,"body_markdown":"You probably want to include details of how you have configured RabbitMQ in the question","body":"You probably want to include details of how you have configured RabbitMQ in the question"}],"answers":[{"tags":[],"owner":{"account_id":73548,"reputation":702,"user_id":211716,"accept_rate":71,"display_name":"Peter Giacomo Lombardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668771347,"creation_date":1668771347,"answer_id":74489065,"question_id":74445016,"body_markdown":"`0000.0000.0000.0000` is not a valid IPv6 address.\r\n\r\nDid you mean `tcp://0.0.0.0:1883`?  This is a way to say, connect to any local IP address on port 1883.\r\n\r\nReplace `tcp://0000.0000.0000.0000:1883` with a valid address where the RabbitMQ broker is listening.\r\n\r\nThere is an [IPv6 address validator here][1] to check.\r\n\r\n\r\n  [1]: https://www.linkwebbie.com/apps/index/ipv6-validator/","title":"RabbitMQ as mqtt broker","body":"<p><code>0000.0000.0000.0000</code> is not a valid IPv6 address.</p>\n<p>Did you mean <code>tcp://0.0.0.0:1883</code>?  This is a way to say, connect to any local IP address on port 1883.</p>\n<p>Replace <code>tcp://0000.0000.0000.0000:1883</code> with a valid address where the RabbitMQ broker is listening.</p>\n<p>There is an <a href=\"https://www.linkwebbie.com/apps/index/ipv6-validator/\" rel=\"nofollow noreferrer\">IPv6 address validator here</a> to check.</p>\n"}],"owner":{"account_id":26897145,"reputation":21,"user_id":20474870,"display_name":"Dona Dominic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668771347,"creation_date":1668512425,"question_id":74445016,"body_markdown":"I am trying to connect eclipse paho java client to rabbitmq-mqtt broker. For that I created one user mqtt-publisher-client but when I am trying to connect it is showing an error that &quot;Broker unavailable (3)&quot;.\r\n\r\n\r\n```\r\nMqttClient client=new MqttClient(&quot;tcp://0000.0000.0000.0000:1883&quot;,&quot;mqtt-publisher-client123&quot;,new MemoryPersistence());\r\nMqttConnectOptions options = new MqttConnectOptions();\r\noptions.setCleanSession(false);\r\noptions.setUserName(&quot;mqtt-publisher-client&quot;);\r\noptions.setPassword(&quot;publisher&quot;.toCharArray());\r\nclient.connect(options);\r\n```\r\n\r\n\r\nI want to Connect with mqtt-broker and publish messages. But it is not connecting. Rabbitmq is on linux and I am writing code in windows.","title":"RabbitMQ as mqtt broker","body":"<p>I am trying to connect eclipse paho java client to rabbitmq-mqtt broker. For that I created one user mqtt-publisher-client but when I am trying to connect it is showing an error that &quot;Broker unavailable (3)&quot;.</p>\n<pre><code>MqttClient client=new MqttClient(&quot;tcp://0000.0000.0000.0000:1883&quot;,&quot;mqtt-publisher-client123&quot;,new MemoryPersistence());\nMqttConnectOptions options = new MqttConnectOptions();\noptions.setCleanSession(false);\noptions.setUserName(&quot;mqtt-publisher-client&quot;);\noptions.setPassword(&quot;publisher&quot;.toCharArray());\nclient.connect(options);\n</code></pre>\n<p>I want to Connect with mqtt-broker and publish messages. But it is not connecting. Rabbitmq is on linux and I am writing code in windows.</p>\n"},{"tags":["java","mongodb","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668770586,"creation_date":1668770586,"answer_id":74488930,"question_id":74486530,"body_markdown":"I think you need to wrap, the parameters `[&#39;$status&#39;, ?1 ]`, in square brackets as well, like this `[&#39;$status&#39;, [?1] ]`. So, the whole query becomes:\r\n\r\n    @Aggregation(pipeline = {\r\n          &quot;{$match:{&#39;job_monitor_id&#39;: {$in : ?0}}}&quot;,\r\n          &quot;{&#39;$group&#39;:{_id: &#39;$job_monitor_id&#39;,&quot; +\r\n                &quot;success: {$sum : {$cond :  [{$in :  [&#39;$status&#39;, [?1] ]}, 1, 0]}},&quot; +\r\n                &quot;fail:  {$sum : {$cond :  [{$in :  [&#39;$status&#39;,  [?2] ]}, 1, 0]}},}}&quot;\r\n    })\r\n    List&lt;JSONObject&gt; sumRecordEvent(List&lt;String&gt; events, List&lt;String&gt; statusSuccess, List&lt;String&gt; statusFail);","title":"Convert query aggregate mongodb to java @Aggregation","body":"<p>I think you need to wrap, the parameters <code>['$status', ?1 ]</code>, in square brackets as well, like this <code>['$status', [?1] ]</code>. So, the whole query becomes:</p>\n<pre><code>@Aggregation(pipeline = {\n      &quot;{$match:{'job_monitor_id': {$in : ?0}}}&quot;,\n      &quot;{'$group':{_id: '$job_monitor_id',&quot; +\n            &quot;success: {$sum : {$cond :  [{$in :  ['$status', [?1] ]}, 1, 0]}},&quot; +\n            &quot;fail:  {$sum : {$cond :  [{$in :  ['$status',  [?2] ]}, 1, 0]}},}}&quot;\n})\nList&lt;JSONObject&gt; sumRecordEvent(List&lt;String&gt; events, List&lt;String&gt; statusSuccess, List&lt;String&gt; statusFail);\n</code></pre>\n"}],"owner":{"account_id":26135982,"reputation":94,"user_id":19825967,"display_name":"hungtv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668770586,"creation_date":1668758294,"question_id":74486530,"body_markdown":"I have a query in studio3T:\r\n```\r\ndb.getCollection(&quot;event_management&quot;).aggregate([\r\n{$match: {&quot;job_monitor_id&quot;: { $in: [&quot;6375e5b4268c0b5d83db13a5&quot;] }}},\r\n{\r\n    $group: {\r\n        _id: &quot;$job_monitor_id&quot;,\r\n        success: { $sum: { $cond: [{\r\n             $in: [&quot;$status&quot;, [&quot;SUCCESS&quot;, &quot;PROCESS&quot;, &quot;FAILED_BY_EXECUTING&quot;, &quot;EXPIRED&quot;]] \r\n             }, 1, 0] } },\r\n        fail: { $sum: { $cond: [{ $in: [&quot;$status&quot;, [&quot;FAILED_BY_SENDING&quot;]] }, 1, 0] } },\r\n    }\r\n}\r\n])\r\n```\r\nI tried to convert to java hibernate:\r\n\r\n```\r\n@Aggregation(pipeline = {\r\n      &quot;{$match:{&#39;job_monitor_id&#39;: {$in : ?0}}}&quot;,\r\n      &quot;{&#39;$group&#39;:{_id: &#39;$job_monitor_id&#39;,&quot; +\r\n            &quot;success: {$sum : {$cond :  [{$in :  [&#39;$status&#39;, ?1 ]}, 1, 0]}},&quot; +\r\n            &quot;fail:  {$sum : {$cond :  [{$in :  [&#39;$status&#39;,  ?2 ]}, 1, 0]}},}}&quot;\r\n})\r\nList&lt;JSONObject&gt; sumRecordEvent(List&lt;String&gt; events, List&lt;String&gt; statusSuccess, List&lt;String&gt; statusFail);\r\n```\r\n\r\nI printed the query to the console:\r\n\r\n\r\n```\r\ndb.getCollection(&quot;event_management&quot;).aggregate([\r\n    { &quot;$match&quot; : { \r\n                    &quot;job_monitor_id&quot; : { &quot;$in&quot; : [&quot;6375e5b4268c0b5d83db13a5&quot;]}\r\n                 }\r\n    }, \r\n    { &quot;$group&quot; : { &quot;_id&quot; : &quot;$job_monitor_id&quot;, \r\n                    &quot;success&quot; : { &quot;$sum&quot; : { &quot;$cond&quot; : [{ &quot;$in&quot; : [&quot;$status&quot;, &quot;SUCCESS&quot;, &quot;PROCESS&quot;, &quot;FAILED_BY_EXECUTING&quot;, &quot;EXPIRED&quot;]}, 1, 0]}},\r\n                    &quot;fail&quot; : { &quot;$sum&quot; : { &quot;$cond&quot; : [{ &quot;$in&quot; : [&quot;$status&quot;, &quot;FAILED_BY_SENDING&quot;]}, 1, 0]}}\r\n                 }\r\n    }\r\n]);\r\n```\r\n\r\nI see my mistake ```$in``` in ```$group``` but I don&#39;t know how to fix it.\r\nCan someone help me. I am very grateful and appreciate your answer!","title":"Convert query aggregate mongodb to java @Aggregation","body":"<p>I have a query in studio3T:</p>\n<pre><code>db.getCollection(&quot;event_management&quot;).aggregate([\n{$match: {&quot;job_monitor_id&quot;: { $in: [&quot;6375e5b4268c0b5d83db13a5&quot;] }}},\n{\n    $group: {\n        _id: &quot;$job_monitor_id&quot;,\n        success: { $sum: { $cond: [{\n             $in: [&quot;$status&quot;, [&quot;SUCCESS&quot;, &quot;PROCESS&quot;, &quot;FAILED_BY_EXECUTING&quot;, &quot;EXPIRED&quot;]] \n             }, 1, 0] } },\n        fail: { $sum: { $cond: [{ $in: [&quot;$status&quot;, [&quot;FAILED_BY_SENDING&quot;]] }, 1, 0] } },\n    }\n}\n])\n</code></pre>\n<p>I tried to convert to java hibernate:</p>\n<pre><code>@Aggregation(pipeline = {\n      &quot;{$match:{'job_monitor_id': {$in : ?0}}}&quot;,\n      &quot;{'$group':{_id: '$job_monitor_id',&quot; +\n            &quot;success: {$sum : {$cond :  [{$in :  ['$status', ?1 ]}, 1, 0]}},&quot; +\n            &quot;fail:  {$sum : {$cond :  [{$in :  ['$status',  ?2 ]}, 1, 0]}},}}&quot;\n})\nList&lt;JSONObject&gt; sumRecordEvent(List&lt;String&gt; events, List&lt;String&gt; statusSuccess, List&lt;String&gt; statusFail);\n</code></pre>\n<p>I printed the query to the console:</p>\n<pre><code>db.getCollection(&quot;event_management&quot;).aggregate([\n    { &quot;$match&quot; : { \n                    &quot;job_monitor_id&quot; : { &quot;$in&quot; : [&quot;6375e5b4268c0b5d83db13a5&quot;]}\n                 }\n    }, \n    { &quot;$group&quot; : { &quot;_id&quot; : &quot;$job_monitor_id&quot;, \n                    &quot;success&quot; : { &quot;$sum&quot; : { &quot;$cond&quot; : [{ &quot;$in&quot; : [&quot;$status&quot;, &quot;SUCCESS&quot;, &quot;PROCESS&quot;, &quot;FAILED_BY_EXECUTING&quot;, &quot;EXPIRED&quot;]}, 1, 0]}},\n                    &quot;fail&quot; : { &quot;$sum&quot; : { &quot;$cond&quot; : [{ &quot;$in&quot; : [&quot;$status&quot;, &quot;FAILED_BY_SENDING&quot;]}, 1, 0]}}\n                 }\n    }\n]);\n</code></pre>\n<p>I see my mistake <code>$in</code> in <code>$group</code> but I don't know how to fix it.\nCan someone help me. I am very grateful and appreciate your answer!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668760771,"post_id":74486884,"comment_id":131489323,"body_markdown":"Annotate `LimitConfiguration` with `@Configuration`, not with `@Component`.","body":"Annotate <code>LimitConfiguration</code> with <code>@Configuration</code>, not with <code>@Component</code>."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668761461,"post_id":74486884,"comment_id":131489548,"body_markdown":"Note that method parameter names _might_ be erased during compilation (depending on your build configuration).","body":"Note that method parameter names <i>might</i> be erased during compilation (depending on your build configuration)."}],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668761749,"creation_date":1668761749,"answer_id":74487120,"question_id":74486884,"body_markdown":"1. add `@ConfigurationPropertiesScan` to LimitServiceApplication \r\n\r\n2. add `@ConstructorBinding` to LimitConfiguration and remove @Component","title":"Could not autowire. No beans of &#39;int&#39; type found","body":"<ol>\n<li><p>add <code>@ConfigurationPropertiesScan</code> to LimitServiceApplication</p>\n</li>\n<li><p>add <code>@ConstructorBinding</code> to LimitConfiguration and remove @Component</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668765636,"creation_date":1668765636,"answer_id":74487899,"question_id":74486884,"body_markdown":"If you remove the constructor, the exception would not be thrown, because the Spring framework uses setters to bind properties, so setters must be declared for each of the properties.\r\n\r\nAs of [Spring 2.2][1], `@ConfigurationProperties` can be found via classpath scanning as an alternative to using `@EnableConfigurationProperties` or `@Component`. To enable scanning, `@ConfigurationPropertiesScan` should be added to your application class. \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.2-Release-Notes#configurationproperties-scanning","title":"Could not autowire. No beans of &#39;int&#39; type found","body":"<p>If you remove the constructor, the exception would not be thrown, because the Spring framework uses setters to bind properties, so setters must be declared for each of the properties.</p>\n<p>As of <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.2-Release-Notes#configurationproperties-scanning\" rel=\"nofollow noreferrer\">Spring 2.2</a>, <code>@ConfigurationProperties</code> can be found via classpath scanning as an alternative to using <code>@EnableConfigurationProperties</code> or <code>@Component</code>. To enable scanning, <code>@ConfigurationPropertiesScan</code> should be added to your application class.</p>\n"},{"tags":[],"owner":{"account_id":9643196,"reputation":593,"user_id":7156819,"display_name":"Rzvan Puiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668766684,"creation_date":1668766684,"answer_id":74488127,"question_id":74486884,"body_markdown":"You can remove the constructor and add the following annotations on the fields:\r\n\r\n    @Configuration\r\n    public class LimitConfiguration {\r\n    \r\n        @Value(&quot;${limits-service.minimum}&quot;)\r\n        private int minimum;\r\n    \r\n        @Value(&quot;${limits-service.maximum}&quot;)\r\n        private int maximum;\r\n    \r\n    ...\r\n    }\r\n\r\nAlso, there is no need to do  \r\n\r\n`return new LimitConfiguration(limitConfiguration.getMinimum(),limitConfiguration.getMaximum());`\r\n \r\nin the controller. This is instantiating a new LimitConfiguration that will not be recognized by the spring container. ","title":"Could not autowire. No beans of &#39;int&#39; type found","body":"<p>You can remove the constructor and add the following annotations on the fields:</p>\n<pre><code>@Configuration\npublic class LimitConfiguration {\n\n    @Value(&quot;${limits-service.minimum}&quot;)\n    private int minimum;\n\n    @Value(&quot;${limits-service.maximum}&quot;)\n    private int maximum;\n\n...\n}\n</code></pre>\n<p>Also, there is no need to do</p>\n<p><code>return new LimitConfiguration(limitConfiguration.getMinimum(),limitConfiguration.getMaximum());</code></p>\n<p>in the controller. This is instantiating a new LimitConfiguration that will not be recognized by the spring container.</p>\n"},{"tags":[],"owner":{"account_id":16659495,"reputation":318,"user_id":12039826,"display_name":"ajesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668770409,"creation_date":1668769759,"answer_id":74488758,"question_id":74486884,"body_markdown":"Looks like LimitConfiguration class is used as a data transfer purpose.\r\nThen you can get the property values inside the controller class like this\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/limits&quot;)\r\n    public class LimitsConfigurationController {\r\n    \r\n        @Value(&quot;${limits-service.minimum}&quot;)\r\n        private int minimum;\r\n    \r\n        @Value(&quot;${limits-service.maximum}&quot;)\r\n        private int maximum;\r\n    \r\n        @GetMapping\r\n        public LimitConfiguration retrieveLimitFromConfiguration() {\r\n            return new LimitConfiguration(minimum, maximum);\r\n        }\r\n    }\r\n\r\nand the LimitConfiguration class should look like this\r\n\r\n    public class LimitConfiguration {\r\n    \r\n        private int minimum;\r\n    \r\n        private int maximum;\r\n    \r\n        // Getters, Setters, No args constructor and 2 args constructor\r\n    \r\n    }","title":"Could not autowire. No beans of &#39;int&#39; type found","body":"<p>Looks like LimitConfiguration class is used as a data transfer purpose.\nThen you can get the property values inside the controller class like this</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/limits&quot;)\npublic class LimitsConfigurationController {\n\n    @Value(&quot;${limits-service.minimum}&quot;)\n    private int minimum;\n\n    @Value(&quot;${limits-service.maximum}&quot;)\n    private int maximum;\n\n    @GetMapping\n    public LimitConfiguration retrieveLimitFromConfiguration() {\n        return new LimitConfiguration(minimum, maximum);\n    }\n}\n</code></pre>\n<p>and the LimitConfiguration class should look like this</p>\n<pre><code>public class LimitConfiguration {\n\n    private int minimum;\n\n    private int maximum;\n\n    // Getters, Setters, No args constructor and 2 args constructor\n\n}\n</code></pre>\n"}],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1668770409,"creation_date":1668760641,"question_id":74486884,"body_markdown":"I try to read data from application properties file in Spring Boot Application.\r\n    \r\nFollowing Code is my main class.\r\n    \r\n    \r\n    @SpringBootApplication(scanBasePackages = &quot;com.fsk.limitservice&quot;)\r\n    public class LimitServiceApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(LimitServiceApplication.class, args);\r\n        }\r\n    }\r\n\r\n    \r\nFollowing Code is My Controller Class\r\n    \r\n    @RestController\r\n    public class LimitsConfigurationController {\r\n    \r\n        @Autowired\r\n        LimitConfiguration limitConfiguration;\r\n    \r\n        @GetMapping(&quot;/limits&quot;)\r\n        public LimitConfiguration retrieveLimitFromConfiguration() {\r\n            return new LimitConfiguration(limitConfiguration.getMinimum(), limitConfiguration.getMaximum());\r\n        }\r\n    }\r\n    \r\n    \r\nFollowing Code is my component class\r\n    \r\n    @Component\r\n    @ConfigurationProperties(&quot;limits-service&quot;)\r\n    public class LimitConfiguration {\r\n    \r\n        private int minimum;\r\n        private int maximum;\r\n    \r\n        public LimitConfiguration(int minimum, int maximum) {\r\n            this.minimum = minimum;\r\n            this.maximum = maximum;\r\n        }\r\n    \r\n        public int getMinimum() {\r\n            return minimum;\r\n        }\r\n    \r\n        public void setMinimum(int minimum) {\r\n            this.minimum = minimum;\r\n        }\r\n    \r\n        public int getMaximum() {\r\n            return maximum;\r\n        }\r\n    \r\n        public void setMaximum(int maximum) {\r\n            this.maximum = maximum;\r\n        }\r\n    }\r\n    \r\n    \r\nAnd Lastly this is my application properties file\r\n```\r\nspring.application.name=limits-service\r\nlimits-service.minimum=17\r\nlimits-service.maximum=1124\r\n```\r\nWhen i click to run button, i get the following error.\r\nHow can i fix this.?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9GrWu.png\r\n\r\n","title":"Could not autowire. No beans of &#39;int&#39; type found","body":"<p>I try to read data from application properties file in Spring Boot Application.</p>\n<p>Following Code is my main class.</p>\n<pre><code>@SpringBootApplication(scanBasePackages = &quot;com.fsk.limitservice&quot;)\npublic class LimitServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(LimitServiceApplication.class, args);\n    }\n}\n</code></pre>\n<p>Following Code is My Controller Class</p>\n<pre><code>@RestController\npublic class LimitsConfigurationController {\n\n    @Autowired\n    LimitConfiguration limitConfiguration;\n\n    @GetMapping(&quot;/limits&quot;)\n    public LimitConfiguration retrieveLimitFromConfiguration() {\n        return new LimitConfiguration(limitConfiguration.getMinimum(), limitConfiguration.getMaximum());\n    }\n}\n</code></pre>\n<p>Following Code is my component class</p>\n<pre><code>@Component\n@ConfigurationProperties(&quot;limits-service&quot;)\npublic class LimitConfiguration {\n\n    private int minimum;\n    private int maximum;\n\n    public LimitConfiguration(int minimum, int maximum) {\n        this.minimum = minimum;\n        this.maximum = maximum;\n    }\n\n    public int getMinimum() {\n        return minimum;\n    }\n\n    public void setMinimum(int minimum) {\n        this.minimum = minimum;\n    }\n\n    public int getMaximum() {\n        return maximum;\n    }\n\n    public void setMaximum(int maximum) {\n        this.maximum = maximum;\n    }\n}\n</code></pre>\n<p>And Lastly this is my application properties file</p>\n<pre><code>spring.application.name=limits-service\nlimits-service.minimum=17\nlimits-service.maximum=1124\n</code></pre>\n<p>When i click to run button, i get the following error.\nHow can i fix this.?</p>\n<p><a href=\"https://i.stack.imgur.com/9GrWu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9GrWu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","cryptojs"],"answers":[{"tags":[],"owner":{"account_id":3806234,"reputation":3567,"user_id":3158594,"display_name":"Joma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668497336,"creation_date":1668486798,"answer_id":74440625,"question_id":74440582,"body_markdown":"Inyour code JS implementation encodes to [Base64][1] VS Java implementation encodes to [Hexadecimal][2]\r\n\r\nThe results will be different.\r\n\r\n **My code**\r\n\r\n**JS Code**\r\n```\r\nlet hash = CryptoJS.SHA256(&quot;grape&quot;);\r\nlet passBase64 = CryptoJS.enc.Base64.stringify(hash);\r\nconsole.log(passBase64)\r\n```\r\n\r\n**Java Code**   \r\n```\r\nSystem.out.println(HashManager.toBase64Hash(&quot;grape&quot;, HashAlgorithm.SHA256));\r\n```\r\nCheck/Test full code on [https://replit.com/@JomaCorpFX/JavaHashes#Main.java][3]\r\n\r\n**Output for both Js and Java / SHA-256(&quot;grape&quot;)**\r\n```\r\nD3j8xIb1MVQY+/CV5xwGde4H0xjlrE0VAFDNjleWZJY=\r\n```\r\n  [1]: https://en.wikipedia.org/wiki/Base64\r\n  [2]: https://en.wikipedia.org/wiki/Hexadecimal\r\n  [3]: https://replit.com/@JomaCorpFX/JavaHashes#Main.java","title":"SHA-256 Hashing in Java","body":"<p>Inyour code JS implementation encodes to <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">Base64</a> VS Java implementation encodes to <a href=\"https://en.wikipedia.org/wiki/Hexadecimal\" rel=\"nofollow noreferrer\">Hexadecimal</a></p>\n<p>The results will be different.</p>\n<p> <strong>My code</strong></p>\n<p><strong>JS Code</strong></p>\n<pre><code>let hash = CryptoJS.SHA256(&quot;grape&quot;);\nlet passBase64 = CryptoJS.enc.Base64.stringify(hash);\nconsole.log(passBase64)\n</code></pre>\n<p><strong>Java Code</strong></p>\n<pre><code>System.out.println(HashManager.toBase64Hash(&quot;grape&quot;, HashAlgorithm.SHA256));\n</code></pre>\n<p>Check/Test full code on <a href=\"https://replit.com/@JomaCorpFX/JavaHashes#Main.java\" rel=\"nofollow noreferrer\">https://replit.com/@JomaCorpFX/JavaHashes#Main.java</a></p>\n<p><strong>Output for both Js and Java / SHA-256(&quot;grape&quot;)</strong></p>\n<pre><code>D3j8xIb1MVQY+/CV5xwGde4H0xjlrE0VAFDNjleWZJY=\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26808022,"reputation":11,"user_id":20399058,"display_name":"kazeematics"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668535196,"creation_date":1668535196,"answer_id":74450227,"question_id":74440582,"body_markdown":"In Javacript code, you converting the output to base64 while in the Java code, you are converting the result to an hexadecimal value. That is why you are having different values.\r\n\r\nYou have to convert the output to the same type in both, either base64 or hexadecimal.\r\n","title":"SHA-256 Hashing in Java","body":"<p>In Javacript code, you converting the output to base64 while in the Java code, you are converting the result to an hexadecimal value. That is why you are having different values.</p>\n<p>You have to convert the output to the same type in both, either base64 or hexadecimal.</p>\n"},{"tags":[],"owner":{"account_id":5510609,"reputation":4457,"user_id":4376984,"accept_rate":67,"display_name":"vishnu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668770338,"creation_date":1668770338,"answer_id":74488875,"question_id":74440582,"body_markdown":"I have fixed using the following code:\r\n\r\n     public static String fileSha256ToBase64(final String clearText) throws NoSuchAlgorithmException {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                return new String(\r\n                        Base64.getEncoder().encode(MessageDigest.getInstance(&quot;SHA-256&quot;).digest(clearText.getBytes(StandardCharsets.UTF_8))));\r\n            }\r\n            return clearText;\r\n        }","title":"SHA-256 Hashing in Java","body":"<p>I have fixed using the following code:</p>\n<pre><code> public static String fileSha256ToBase64(final String clearText) throws NoSuchAlgorithmException {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            return new String(\n                    Base64.getEncoder().encode(MessageDigest.getInstance(&quot;SHA-256&quot;).digest(clearText.getBytes(StandardCharsets.UTF_8))));\n        }\n        return clearText;\n    }\n</code></pre>\n"}],"owner":{"account_id":5510609,"reputation":4457,"user_id":4376984,"accept_rate":67,"display_name":"vishnu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1668770338,"creation_date":1668486329,"question_id":74440582,"body_markdown":"I was able to encrypt the password using `CryptoJS` library in Angular project. And want to implement same encryption using `java`. Can any one suggest the best approach?.\r\n\r\n**Below is with Angular `CryptoJS` library implementation**\r\n\r\n \r\n\r\n    let hash = CryptoJS.SHA256(&quot;3456&quot;);\r\n    let passBase64 = CryptoJS.enc.Base64.stringify(hash);\r\n\r\nI have implemeted in the following way in java but the values are different,\r\n\r\n    Sha256.toHexString(Sha256.getSHA(&quot;3456&quot;)));\r\n\r\n    public class Sha256 {\r\n       public static byte[] getSHA(String input) throws NoSuchAlgorithmException\r\n        {\r\n            // Static getInstance method is called with hashing SHA\r\n            MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    \r\n            // digest() method called\r\n            // to calculate message digest of an input\r\n            // and return array of byte\r\n            return md.digest(input.getBytes(StandardCharsets.UTF_8));\r\n        }\r\n    \r\n        public static String toHexString(byte[] hash)\r\n        {\r\n            // Convert byte array into signum representation\r\n            BigInteger number = new BigInteger(1, hash);\r\n    \r\n            // Convert message digest into hex value\r\n            StringBuilder hexString = new StringBuilder(number.toString(16));\r\n    \r\n            // Pad with leading zeros\r\n            while (hexString.length() &lt; 64)\r\n            {\r\n                hexString.insert(0, &#39;0&#39;);\r\n            }\r\n    \r\n            return hexString.toString();\r\n        }","title":"SHA-256 Hashing in Java","body":"<p>I was able to encrypt the password using <code>CryptoJS</code> library in Angular project. And want to implement same encryption using <code>java</code>. Can any one suggest the best approach?.</p>\n<p><strong>Below is with Angular <code>CryptoJS</code> library implementation</strong></p>\n<pre><code>let hash = CryptoJS.SHA256(&quot;3456&quot;);\nlet passBase64 = CryptoJS.enc.Base64.stringify(hash);\n</code></pre>\n<p>I have implemeted in the following way in java but the values are different,</p>\n<pre><code>Sha256.toHexString(Sha256.getSHA(&quot;3456&quot;)));\n\npublic class Sha256 {\n   public static byte[] getSHA(String input) throws NoSuchAlgorithmException\n    {\n        // Static getInstance method is called with hashing SHA\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n\n        // digest() method called\n        // to calculate message digest of an input\n        // and return array of byte\n        return md.digest(input.getBytes(StandardCharsets.UTF_8));\n    }\n\n    public static String toHexString(byte[] hash)\n    {\n        // Convert byte array into signum representation\n        BigInteger number = new BigInteger(1, hash);\n\n        // Convert message digest into hex value\n        StringBuilder hexString = new StringBuilder(number.toString(16));\n\n        // Pad with leading zeros\n        while (hexString.length() &lt; 64)\n        {\n            hexString.insert(0, '0');\n        }\n\n        return hexString.toString();\n    }\n</code></pre>\n"},{"tags":["java","spring","database","hibernate","jpa"],"comments":[{"owner":{"account_id":17815140,"reputation":111,"user_id":12938887,"display_name":"Nico"},"score":0,"creation_date":1668769632,"post_id":74488488,"comment_id":131492355,"body_markdown":"You would need to add the service layer where you write your entities to your DB. The error message tells you that somehow you change the id of an already existing entity which was persisted in the DB.","body":"You would need to add the service layer where you write your entities to your DB. The error message tells you that somehow you change the id of an already existing entity which was persisted in the DB."}],"owner":{"account_id":9231850,"reputation":79,"user_id":8157065,"display_name":"Ilya Rogatkin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668769952,"creation_date":1668768402,"question_id":74488488,"body_markdown":"Then update category field in billboard, i catch exception from JPA\r\n\r\n&gt; &quot;JpaSystemException&quot;  &quot;identifier of an instance of\r\n&gt; ru.rshbintech.crft.cos.billboard.dao.entities.Category was altered\r\n&gt; from 1 to 3; nested exception is org.hibernate.HibernateException:\r\n&gt; identifier of an instance of\r\n&gt; ru.rshbintech.crft.cos.billboard.dao.entities.Category was altered\r\n&gt; from 1 to 3&quot;\r\n\r\nThis is Billboard entity\r\n\r\n    @Entity\r\n    @Data\r\n    @Accessors(chain = true)\r\n    @Table(name = &quot;billboard&quot;)\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    public class Billboard {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;title&quot;, nullable = false)\r\n        private String title;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;category_id&quot;, nullable = false)\r\n        private Category category;\r\n    \r\n        @Column(name = &quot;description&quot;, nullable = false)\r\n        private String description;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;offer_type&quot;, length = 30, nullable = false)\r\n        private OfferType offerType;\r\n    \r\n        @Column(name = &quot;author&quot;, nullable = false)\r\n        private String author;\r\n        @Column(name = &quot;created&quot;)\r\n        private Instant created;\r\n    \r\n        @Column(name = &quot;cover_id&quot;)\r\n        private Long coverId;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;status_billboard&quot;)\r\n        private Status status;\r\n    \r\n        @Column(name = &quot;is_deleted&quot;)\r\n        private Boolean isDeleted;\r\n    \r\n        @Column(name = &quot;city_id&quot;)\r\n        private Long cityId;\r\n        @PrePersist\r\n        public void prePersist() {\r\n            created = created == null ? Instant.now() : created;\r\n        }\r\n    }\r\n\r\nAnd This is Category entity\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;dict_categories&quot;)\r\n    public class Category {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;name&quot;, unique = true, nullable = false)\r\n        private String name;\r\n    \r\n        @OneToMany(mappedBy = &quot;category&quot;, fetch = FetchType.LAZY)\r\n        private Set&lt;Billboard&gt; billboards = new HashSet&lt;&gt;();\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Category parent;\r\n    \r\n        @Column(name = &quot;category_level&quot;, nullable = false)\r\n        private Integer categoryLevel;\r\n    \r\n    }\r\n\r\n\r\nAnd add Service class\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class BillBoardService {\r\n        private final BillboardRepository repository;\r\n        private final BillBoardMapper mapper;\r\n        private final UserInfo userInfo;\r\n        private final StorageService storageService;\r\n        private final BillBoardMergeMapper billBoardMergeMapper;\r\n    \r\n        private final BillboardStatusRepository statusRepository;\r\n    \r\n        @Qualifier(&quot;userDtoConverter&quot;)\r\n        private final Converter&lt;EmployeeDto, UserDto&gt; userDtoConverter;\r\n    \r\n        private final CategoryRepository categoryRepository;\r\n    \r\n        private static final String NOT_FOUND_AUTHOR_MESSAGE = &quot;Authors not found&quot;;\r\n    \r\n        public BillBoardService(BillboardRepository repository, BillBoardMapper mapper, UserInfo userInfo, StorageService storageService, BillBoardMergeMapper billBoardMergeMapper, BillboardStatusRepository statusRepository, Converter&lt;EmployeeDto, UserDto&gt; userDtoConverter, CategoryRepository categoryRepository) {\r\n            this.repository = repository;\r\n            this.mapper = mapper;\r\n            this.userInfo = userInfo;\r\n            this.storageService = storageService;\r\n            this.billBoardMergeMapper = billBoardMergeMapper;\r\n            this.statusRepository = statusRepository;\r\n            this.userDtoConverter = userDtoConverter;\r\n            this.categoryRepository = categoryRepository;\r\n        }\r\n    \r\n        @Transactional(rollbackFor = SQLException.class)\r\n        public BillboardDtoResponse save(BillboardDtoRequest billboardDto, TokenDto tokenDto) throws NotFoundException {\r\n    \r\n            EmployeeDto employeeDto;\r\n            try {\r\n                Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(List.of(tokenDto.getUpn()), tokenDto.getTokenBody());\r\n                List&lt;EmployeeDto&gt; employeeDtos = mono.block();\r\n                if (employeeDtos == null) {\r\n                    throw new NotFoundException(NOT_FOUND_AUTHOR_MESSAGE +  billboardDto.getAuthor());\r\n                }\r\n                employeeDto = employeeDtos.get(0);\r\n            } catch (Exception e) {\r\n                log.error(LoggerMessages.ERROR_GET_INFO_USER, tokenDto.getUpn(), e.getMessage());\r\n                throw e;\r\n            }\r\n    \r\n    \r\n            Billboard billboard = mapper.billboardDtoRequestToBillboard(billboardDto);\r\n            billboard.setCityId(billboardDto.getCity().getId());\r\n            billboard.setAuthor(tokenDto.getUpn());\r\n    \r\n            try {\r\n                billboard = repository.save(billboard);\r\n            } catch (Exception e) {\r\n                log.error(LoggerMessages.ERROR_GET_DATA_FROM_DB, e.getMessage(), e.getStackTrace());\r\n                throw e;\r\n            }\r\n    \r\n            BillboardDtoResponse dto = mapper.billboardToBillboardDtoResponse(billboard);\r\n            CityDto cityDto = new CityDto();\r\n            cityDto.setId(billboard.getCityId());\r\n            dto.setCity(cityDto);\r\n            this.addCityIfExists(billboardDto, tokenDto);\r\n    \r\n            UserDto userDto = this.userDtoConverter.map(employeeDto);\r\n            dto.setAuthor(userDto);\r\n            return dto;\r\n    \r\n        }\r\n    \r\n        @Transactional(readOnly = true)\r\n        public BillboardDtoResponse getBillboardBy(@NotNull Long id, @NotNull TokenDto tokenDto) throws NotFoundException, IOException {\r\n            Optional&lt;Billboard&gt; maybeBillboard = repository.findById(id);\r\n            if(maybeBillboard.isEmpty()) {\r\n                throw new NotFoundException(&quot;billboard with id&quot; + id + &quot; not exists&quot;);\r\n            }\r\n            Billboard billboard = maybeBillboard.get();\r\n            BillboardDtoResponse billboardDto = mapper.billboardToBillboardDtoResponse(billboard);\r\n            EmployeeDto employeeDto;\r\n            Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(List.of(billboard.getAuthor()), tokenDto.getTokenBody());\r\n            List&lt;EmployeeDto&gt; employeeDtos = mono.block();\r\n            if (employeeDtos == null) {\r\n                throw new NotFoundException(NOT_FOUND_AUTHOR_MESSAGE + billboardDto.getAuthor());\r\n            }\r\n    \r\n            employeeDto = employeeDtos.get(0);\r\n            UserDto userDto = this.userDtoConverter.map(employeeDto);\r\n            billboardDto.setAuthor(userDto);\r\n            CityDto cityDto = new CityDto();\r\n            cityDto.setId(billboard.getCityId());\r\n            billboardDto.setCity(cityDto);\r\n            this.addCityIfExists(billboardDto, tokenDto);\r\n    \r\n            try {\r\n                FileRecordRequestSearchDto searchDto = this.buildSearchFileDto(billboard.getId());\r\n                List&lt;FileRecordResponseDto&gt; responseDtos = storageService.search(searchDto);\r\n                if (responseDtos != null) {\r\n                    this.orderListOfImagesByCover(responseDtos, billboardDto.getCoverId());\r\n                    billboardDto.setBillboardFiles(responseDtos);\r\n                }\r\n                return billboardDto;\r\n            } catch (IOException e) {\r\n                log.error(LoggerMessages.ERROR_GET_FILES_INFO, tokenDto.getUpn(), e.getMessage());\r\n                throw e;\r\n            }\r\n        }\r\n    \r\n        @Transactional(rollbackFor = SQLException.class)\r\n        public BillboardDto update(@NotNull BillboardDto billboardDto, TokenDto tokenDto) throws IOException, NotFoundException {\r\n            Optional&lt;Billboard&gt; maybeBillboard = repository.findById(billboardDto.getId());\r\n            if (maybeBillboard.isEmpty()) {\r\n                throw new NotFoundException(&quot;Billboard with id &quot; + billboardDto.getId() + &quot; not found&quot;);\r\n            }\r\n            Billboard billboardFromDB = maybeBillboard.get();\r\n            billBoardMergeMapper.mergeNonNullFields(billboardDto, billboardFromDB);\r\n            if (billboardDto.getCity() != null) {\r\n                billboardFromDB.setCityId(billboardDto.getCity().getId());\r\n            }\r\n    \r\n            Billboard billboard = repository.save(billboardFromDB);\r\n            BillboardDto dto = mapper.billboardToBillboardDto(billboard);\r\n            CityDto cityDto = new CityDto();\r\n            cityDto.setId(billboard.getCityId());\r\n            dto.setCity(cityDto);\r\n            Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(List.of(billboard.getAuthor()), tokenDto.getTokenBody());\r\n            List&lt;EmployeeDto&gt; employeeDtos = mono.block();\r\n            if (Objects.isNull(employeeDtos)) {\r\n                throw new NotFoundException(&quot;Users for billboard with id &quot; + dto.getId() + &quot; not found&quot;);\r\n            }\r\n            EmployeeDto employeeDto = employeeDtos.get(0);\r\n            UserDto userDto = this.userDtoConverter.map(employeeDto);\r\n            dto.setAuthor(userDto);\r\n            this.addCityIfExists(dto, tokenDto);\r\n    \r\n            FileRecordRequestSearchDto searchDto = this.buildSearchFileDto(billboard.getId());\r\n            List&lt;FileRecordResponseDto&gt; responseDtos = storageService.search(searchDto);\r\n            dto.setBillboardFiles(responseDtos);\r\n    \r\n            return dto;\r\n        }\r\n    \r\n        @Transactional(readOnly = true)\r\n        public Response&lt;List&lt;BillboardDto&gt;&gt; search(SearchRequest request, TokenDto tokenDto) throws IOException, NotFoundException {\r\n            SearchSpecification&lt;Billboard&gt; specification = new SearchSpecification&lt;&gt;(request);\r\n            Pageable pageable = SearchSpecification.getPageable(request.getPage(), request.getSize());\r\n            Page&lt;Billboard&gt; page = repository.findAll(specification, pageable);\r\n            List&lt;Billboard&gt; billboards = page.getContent();\r\n            if (billboards.isEmpty()) {\r\n                List&lt;Billboard&gt; emptyBillboards = new ArrayList&lt;&gt;();\r\n                buildResponse(emptyBillboards, 0, 0, request.getPage(), request.getSize());\r\n            }\r\n            List&lt;BillboardDto&gt; dtos = new ArrayList&lt;&gt;();\r\n            Set&lt;String&gt; authors = billboards.stream().map(Billboard::getAuthor).collect(Collectors.toSet());\r\n    \r\n            try {\r\n                Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(authors.stream().toList(), tokenDto.getTokenBody());\r\n                List&lt;EmployeeDto&gt; employeeDtosList = mono.block();\r\n                if (employeeDtosList == null || employeeDtosList.isEmpty()) {\r\n                    throw new NotFoundException(NOT_FOUND_AUTHOR_MESSAGE);\r\n                }\r\n                Map&lt;String, EmployeeDto&gt; upnToEmployee = employeeDtosList\r\n                        .stream()\r\n                        .collect(Collectors.toMap(EmployeeDto::getUserPrincipalName, employeeDto -&gt; employeeDto));\r\n                for(Billboard billboard : billboards) {\r\n                    BillboardDto billboardDto = mapper.billboardToBillboardDto(billboard);\r\n                    EmployeeDto employeeDto = upnToEmployee.get(billboard.getAuthor());\r\n                    UserDto userDto = this.userDtoConverter.map(employeeDto);\r\n                    billboardDto.setAuthor(userDto);\r\n                    CityDto cityDto = new CityDto();\r\n                    cityDto.setId(billboard.getCityId());\r\n                    billboardDto.setCity(cityDto);\r\n                    dtos.add(billboardDto);\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                log.error(LoggerMessages.ERROR_GET_INFO_USER, tokenDto.getUpn(), e.getMessage());\r\n                throw e;\r\n            }\r\n    \r\n    \r\n            List&lt;Long&gt; billboardIds = billboards.stream().map(Billboard::getId).toList();\r\n            try {\r\n                List&lt;FileRecordResponseDto&gt; fileRecordResponseDtos = storageService.search(SystemParameters.OBJ_TYPE, billboardIds);\r\n                if(!fileRecordResponseDtos.isEmpty()) {\r\n                    Map&lt;Long, List&lt;FileRecordResponseDto&gt;&gt; idsToFileResponseDto = this.collectFileDtoById(fileRecordResponseDtos);\r\n                    for (BillboardDto billboardDto : dtos) {\r\n                        List&lt;FileRecordResponseDto&gt; fileResponseDto = idsToFileResponseDto.get(billboardDto.getId());\r\n                        if (fileResponseDto != null &amp;&amp; (!fileResponseDto.isEmpty())) {\r\n                            fileResponseDto = this.orderListOfImagesByCover(fileResponseDto, billboardDto.getCoverId());\r\n                            billboardDto.setBillboardFiles(fileResponseDto);\r\n                        }\r\n                    }\r\n                }\r\n    \r\n    \r\n            } catch (Exception e) {\r\n                log.error(LoggerMessages.ERROR_GET_FILES_INFO, tokenDto.getUpn(), e.getMessage());\r\n                throw e;\r\n            }\r\n            List&lt;Long&gt; citiesId = billboards.stream().map(Billboard::getCityId).distinct().toList();\r\n    \r\n            Mono&lt;List&lt;CityDto&gt;&gt; cities = userInfo.findCitiesByIds(tokenDto.getTokenBody(), citiesId);\r\n            List&lt;CityDto&gt; cityDtos = cities.block();\r\n            if (cityDtos == null) {\r\n                throw new NotFoundException(&quot;Cities are not be got&quot;);\r\n            }\r\n            Map&lt;Long, CityDto&gt; idToCity = cityDtos.stream().collect(Collectors.toMap(CityDto::getId, Function.identity(),\r\n                    (existing, replacement) -&gt; existing));\r\n            dtos.forEach(billboardDto -&gt; {\r\n                CityDto cityDto = idToCity.get(billboardDto.getCity().getId());\r\n                billboardDto.setCity(cityDto);\r\n            });\r\n    \r\n            return buildResponse(dtos, page.getTotalPages(), page.getTotalElements(), page.getNumber(), page.getSize());\r\n        }\r\n        @Transactional\r\n        public Status change(@NotNull Long id, TokenDto token, @NotNull BillboardAction action) throws NotFoundException, ActionNotExists, AuthentificationException {\r\n            if (token == null) {\r\n                throw new AuthentificationException(&quot;Authorization token is empty&quot;);\r\n            }\r\n            Optional&lt;Billboard&gt; opt = repository.findById(id);\r\n            if (opt.isEmpty()) {\r\n                throw new NotFoundException(&quot;Billboard with id &quot; + id + &quot; is not present&quot;);\r\n            }\r\n            Billboard billboard = opt.get();\r\n            BillboardStatus billboardStatus = statusRepository.findBillboardStatusByAction(action);\r\n            if (billboardStatus == null) {\r\n                throw new ActionNotExists(&quot;Action &quot; + action + &quot; not exists&quot;);\r\n            }\r\n    \r\n            billboard.setStatus(billboardStatus.getNewStatus());\r\n            return billboardStatus.getNewStatus();\r\n        }\r\n    \r\n        private FileRecordRequestSearchDto buildSearchFileDto(Long billboardId) {\r\n            return FileRecordRequestSearchDto\r\n                    .builder()\r\n                    .objId(billboardId)\r\n                    .objType(SystemParameters.OBJ_TYPE)\r\n                    .systemId(SystemParameters.SYSTEM_ID)\r\n                    .build();\r\n        }\r\n    \r\n        private  Map&lt;Long, List&lt;FileRecordResponseDto&gt;&gt; collectFileDtoById(List&lt;FileRecordResponseDto&gt; fileRecordResponseDtos) {\r\n            Map&lt;Long, List&lt;FileRecordResponseDto&gt;&gt; idsToFileResponseDto = new HashMap&lt;&gt;();\r\n            for (FileRecordResponseDto responseFile : fileRecordResponseDtos) {\r\n                Long objeId = responseFile.getObjId();\r\n                if (!idsToFileResponseDto.containsKey(objeId)) {\r\n                    List&lt;FileRecordResponseDto&gt; list = new ArrayList&lt;&gt;();\r\n                    list.add(responseFile);\r\n                    idsToFileResponseDto.put(objeId, list);\r\n                } else {\r\n                    idsToFileResponseDto.get(objeId).add(responseFile);\r\n                }\r\n            }\r\n    \r\n            return idsToFileResponseDto;\r\n        }\r\n    \r\n    \r\n        private List&lt;FileRecordResponseDto&gt; orderListOfImagesByCover(List&lt;FileRecordResponseDto&gt; fileRecordResponseDtos, Long coverId) {\r\n            List&lt;FileRecordResponseDto&gt; orderList = new ArrayList&lt;&gt;();\r\n            Optional&lt;FileRecordResponseDto&gt; coverImage = fileRecordResponseDtos.stream().filter( f -&gt; f.getObjId().equals(coverId)).findFirst();\r\n            coverImage.ifPresent(orderList::add);\r\n            fileRecordResponseDtos.forEach(f -&gt; {\r\n                if (!f.getObjId().equals(coverId)) {\r\n                    orderList.add(f);\r\n            }});\r\n            return orderList;\r\n        }\r\n    \r\n        private void addCityIfExists(ParentBillboard billboardDto, TokenDto tokenDto) throws NotFoundException {\r\n            Mono&lt;CityDto&gt; cityDto = userInfo.findCityBy(tokenDto.getTokenBody(), billboardDto.getCity().getId());\r\n            if (cityDto == null) {\r\n                throw new NotFoundException(&quot;Not Found city with id &quot; + billboardDto.getCity().getId());\r\n            }\r\n            billboardDto.setCity(cityDto.block());\r\n        }\r\n    }\r\n\r\n\r\nI Can&#39;t understand what wrong when i update?\r\n","title":"I catch exception JpaSystemException - identifier of an instance then update category field, but marked up the scheme correct","body":"<p>Then update category field in billboard, i catch exception from JPA</p>\n<blockquote>\n<p>&quot;JpaSystemException&quot;  &quot;identifier of an instance of\nru.rshbintech.crft.cos.billboard.dao.entities.Category was altered\nfrom 1 to 3; nested exception is org.hibernate.HibernateException:\nidentifier of an instance of\nru.rshbintech.crft.cos.billboard.dao.entities.Category was altered\nfrom 1 to 3&quot;</p>\n</blockquote>\n<p>This is Billboard entity</p>\n<pre><code>@Entity\n@Data\n@Accessors(chain = true)\n@Table(name = &quot;billboard&quot;)\n@Getter\n@Setter\n@EqualsAndHashCode\npublic class Billboard {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;title&quot;, nullable = false)\n    private String title;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;category_id&quot;, nullable = false)\n    private Category category;\n\n    @Column(name = &quot;description&quot;, nullable = false)\n    private String description;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;offer_type&quot;, length = 30, nullable = false)\n    private OfferType offerType;\n\n    @Column(name = &quot;author&quot;, nullable = false)\n    private String author;\n    @Column(name = &quot;created&quot;)\n    private Instant created;\n\n    @Column(name = &quot;cover_id&quot;)\n    private Long coverId;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;status_billboard&quot;)\n    private Status status;\n\n    @Column(name = &quot;is_deleted&quot;)\n    private Boolean isDeleted;\n\n    @Column(name = &quot;city_id&quot;)\n    private Long cityId;\n    @PrePersist\n    public void prePersist() {\n        created = created == null ? Instant.now() : created;\n    }\n}\n</code></pre>\n<p>And This is Category entity</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;dict_categories&quot;)\npublic class Category {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;name&quot;, unique = true, nullable = false)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;category&quot;, fetch = FetchType.LAZY)\n    private Set&lt;Billboard&gt; billboards = new HashSet&lt;&gt;();\n\n    @ManyToOne\n    @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Category parent;\n\n    @Column(name = &quot;category_level&quot;, nullable = false)\n    private Integer categoryLevel;\n\n}\n</code></pre>\n<p>And add Service class</p>\n<pre><code>@Service\n@Slf4j\npublic class BillBoardService {\n    private final BillboardRepository repository;\n    private final BillBoardMapper mapper;\n    private final UserInfo userInfo;\n    private final StorageService storageService;\n    private final BillBoardMergeMapper billBoardMergeMapper;\n\n    private final BillboardStatusRepository statusRepository;\n\n    @Qualifier(&quot;userDtoConverter&quot;)\n    private final Converter&lt;EmployeeDto, UserDto&gt; userDtoConverter;\n\n    private final CategoryRepository categoryRepository;\n\n    private static final String NOT_FOUND_AUTHOR_MESSAGE = &quot;Authors not found&quot;;\n\n    public BillBoardService(BillboardRepository repository, BillBoardMapper mapper, UserInfo userInfo, StorageService storageService, BillBoardMergeMapper billBoardMergeMapper, BillboardStatusRepository statusRepository, Converter&lt;EmployeeDto, UserDto&gt; userDtoConverter, CategoryRepository categoryRepository) {\n        this.repository = repository;\n        this.mapper = mapper;\n        this.userInfo = userInfo;\n        this.storageService = storageService;\n        this.billBoardMergeMapper = billBoardMergeMapper;\n        this.statusRepository = statusRepository;\n        this.userDtoConverter = userDtoConverter;\n        this.categoryRepository = categoryRepository;\n    }\n\n    @Transactional(rollbackFor = SQLException.class)\n    public BillboardDtoResponse save(BillboardDtoRequest billboardDto, TokenDto tokenDto) throws NotFoundException {\n\n        EmployeeDto employeeDto;\n        try {\n            Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(List.of(tokenDto.getUpn()), tokenDto.getTokenBody());\n            List&lt;EmployeeDto&gt; employeeDtos = mono.block();\n            if (employeeDtos == null) {\n                throw new NotFoundException(NOT_FOUND_AUTHOR_MESSAGE +  billboardDto.getAuthor());\n            }\n            employeeDto = employeeDtos.get(0);\n        } catch (Exception e) {\n            log.error(LoggerMessages.ERROR_GET_INFO_USER, tokenDto.getUpn(), e.getMessage());\n            throw e;\n        }\n\n\n        Billboard billboard = mapper.billboardDtoRequestToBillboard(billboardDto);\n        billboard.setCityId(billboardDto.getCity().getId());\n        billboard.setAuthor(tokenDto.getUpn());\n\n        try {\n            billboard = repository.save(billboard);\n        } catch (Exception e) {\n            log.error(LoggerMessages.ERROR_GET_DATA_FROM_DB, e.getMessage(), e.getStackTrace());\n            throw e;\n        }\n\n        BillboardDtoResponse dto = mapper.billboardToBillboardDtoResponse(billboard);\n        CityDto cityDto = new CityDto();\n        cityDto.setId(billboard.getCityId());\n        dto.setCity(cityDto);\n        this.addCityIfExists(billboardDto, tokenDto);\n\n        UserDto userDto = this.userDtoConverter.map(employeeDto);\n        dto.setAuthor(userDto);\n        return dto;\n\n    }\n\n    @Transactional(readOnly = true)\n    public BillboardDtoResponse getBillboardBy(@NotNull Long id, @NotNull TokenDto tokenDto) throws NotFoundException, IOException {\n        Optional&lt;Billboard&gt; maybeBillboard = repository.findById(id);\n        if(maybeBillboard.isEmpty()) {\n            throw new NotFoundException(&quot;billboard with id&quot; + id + &quot; not exists&quot;);\n        }\n        Billboard billboard = maybeBillboard.get();\n        BillboardDtoResponse billboardDto = mapper.billboardToBillboardDtoResponse(billboard);\n        EmployeeDto employeeDto;\n        Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(List.of(billboard.getAuthor()), tokenDto.getTokenBody());\n        List&lt;EmployeeDto&gt; employeeDtos = mono.block();\n        if (employeeDtos == null) {\n            throw new NotFoundException(NOT_FOUND_AUTHOR_MESSAGE + billboardDto.getAuthor());\n        }\n\n        employeeDto = employeeDtos.get(0);\n        UserDto userDto = this.userDtoConverter.map(employeeDto);\n        billboardDto.setAuthor(userDto);\n        CityDto cityDto = new CityDto();\n        cityDto.setId(billboard.getCityId());\n        billboardDto.setCity(cityDto);\n        this.addCityIfExists(billboardDto, tokenDto);\n\n        try {\n            FileRecordRequestSearchDto searchDto = this.buildSearchFileDto(billboard.getId());\n            List&lt;FileRecordResponseDto&gt; responseDtos = storageService.search(searchDto);\n            if (responseDtos != null) {\n                this.orderListOfImagesByCover(responseDtos, billboardDto.getCoverId());\n                billboardDto.setBillboardFiles(responseDtos);\n            }\n            return billboardDto;\n        } catch (IOException e) {\n            log.error(LoggerMessages.ERROR_GET_FILES_INFO, tokenDto.getUpn(), e.getMessage());\n            throw e;\n        }\n    }\n\n    @Transactional(rollbackFor = SQLException.class)\n    public BillboardDto update(@NotNull BillboardDto billboardDto, TokenDto tokenDto) throws IOException, NotFoundException {\n        Optional&lt;Billboard&gt; maybeBillboard = repository.findById(billboardDto.getId());\n        if (maybeBillboard.isEmpty()) {\n            throw new NotFoundException(&quot;Billboard with id &quot; + billboardDto.getId() + &quot; not found&quot;);\n        }\n        Billboard billboardFromDB = maybeBillboard.get();\n        billBoardMergeMapper.mergeNonNullFields(billboardDto, billboardFromDB);\n        if (billboardDto.getCity() != null) {\n            billboardFromDB.setCityId(billboardDto.getCity().getId());\n        }\n\n        Billboard billboard = repository.save(billboardFromDB);\n        BillboardDto dto = mapper.billboardToBillboardDto(billboard);\n        CityDto cityDto = new CityDto();\n        cityDto.setId(billboard.getCityId());\n        dto.setCity(cityDto);\n        Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(List.of(billboard.getAuthor()), tokenDto.getTokenBody());\n        List&lt;EmployeeDto&gt; employeeDtos = mono.block();\n        if (Objects.isNull(employeeDtos)) {\n            throw new NotFoundException(&quot;Users for billboard with id &quot; + dto.getId() + &quot; not found&quot;);\n        }\n        EmployeeDto employeeDto = employeeDtos.get(0);\n        UserDto userDto = this.userDtoConverter.map(employeeDto);\n        dto.setAuthor(userDto);\n        this.addCityIfExists(dto, tokenDto);\n\n        FileRecordRequestSearchDto searchDto = this.buildSearchFileDto(billboard.getId());\n        List&lt;FileRecordResponseDto&gt; responseDtos = storageService.search(searchDto);\n        dto.setBillboardFiles(responseDtos);\n\n        return dto;\n    }\n\n    @Transactional(readOnly = true)\n    public Response&lt;List&lt;BillboardDto&gt;&gt; search(SearchRequest request, TokenDto tokenDto) throws IOException, NotFoundException {\n        SearchSpecification&lt;Billboard&gt; specification = new SearchSpecification&lt;&gt;(request);\n        Pageable pageable = SearchSpecification.getPageable(request.getPage(), request.getSize());\n        Page&lt;Billboard&gt; page = repository.findAll(specification, pageable);\n        List&lt;Billboard&gt; billboards = page.getContent();\n        if (billboards.isEmpty()) {\n            List&lt;Billboard&gt; emptyBillboards = new ArrayList&lt;&gt;();\n            buildResponse(emptyBillboards, 0, 0, request.getPage(), request.getSize());\n        }\n        List&lt;BillboardDto&gt; dtos = new ArrayList&lt;&gt;();\n        Set&lt;String&gt; authors = billboards.stream().map(Billboard::getAuthor).collect(Collectors.toSet());\n\n        try {\n            Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(authors.stream().toList(), tokenDto.getTokenBody());\n            List&lt;EmployeeDto&gt; employeeDtosList = mono.block();\n            if (employeeDtosList == null || employeeDtosList.isEmpty()) {\n                throw new NotFoundException(NOT_FOUND_AUTHOR_MESSAGE);\n            }\n            Map&lt;String, EmployeeDto&gt; upnToEmployee = employeeDtosList\n                    .stream()\n                    .collect(Collectors.toMap(EmployeeDto::getUserPrincipalName, employeeDto -&gt; employeeDto));\n            for(Billboard billboard : billboards) {\n                BillboardDto billboardDto = mapper.billboardToBillboardDto(billboard);\n                EmployeeDto employeeDto = upnToEmployee.get(billboard.getAuthor());\n                UserDto userDto = this.userDtoConverter.map(employeeDto);\n                billboardDto.setAuthor(userDto);\n                CityDto cityDto = new CityDto();\n                cityDto.setId(billboard.getCityId());\n                billboardDto.setCity(cityDto);\n                dtos.add(billboardDto);\n            }\n\n        } catch (Exception e) {\n            log.error(LoggerMessages.ERROR_GET_INFO_USER, tokenDto.getUpn(), e.getMessage());\n            throw e;\n        }\n\n\n        List&lt;Long&gt; billboardIds = billboards.stream().map(Billboard::getId).toList();\n        try {\n            List&lt;FileRecordResponseDto&gt; fileRecordResponseDtos = storageService.search(SystemParameters.OBJ_TYPE, billboardIds);\n            if(!fileRecordResponseDtos.isEmpty()) {\n                Map&lt;Long, List&lt;FileRecordResponseDto&gt;&gt; idsToFileResponseDto = this.collectFileDtoById(fileRecordResponseDtos);\n                for (BillboardDto billboardDto : dtos) {\n                    List&lt;FileRecordResponseDto&gt; fileResponseDto = idsToFileResponseDto.get(billboardDto.getId());\n                    if (fileResponseDto != null &amp;&amp; (!fileResponseDto.isEmpty())) {\n                        fileResponseDto = this.orderListOfImagesByCover(fileResponseDto, billboardDto.getCoverId());\n                        billboardDto.setBillboardFiles(fileResponseDto);\n                    }\n                }\n            }\n\n\n        } catch (Exception e) {\n            log.error(LoggerMessages.ERROR_GET_FILES_INFO, tokenDto.getUpn(), e.getMessage());\n            throw e;\n        }\n        List&lt;Long&gt; citiesId = billboards.stream().map(Billboard::getCityId).distinct().toList();\n\n        Mono&lt;List&lt;CityDto&gt;&gt; cities = userInfo.findCitiesByIds(tokenDto.getTokenBody(), citiesId);\n        List&lt;CityDto&gt; cityDtos = cities.block();\n        if (cityDtos == null) {\n            throw new NotFoundException(&quot;Cities are not be got&quot;);\n        }\n        Map&lt;Long, CityDto&gt; idToCity = cityDtos.stream().collect(Collectors.toMap(CityDto::getId, Function.identity(),\n                (existing, replacement) -&gt; existing));\n        dtos.forEach(billboardDto -&gt; {\n            CityDto cityDto = idToCity.get(billboardDto.getCity().getId());\n            billboardDto.setCity(cityDto);\n        });\n\n        return buildResponse(dtos, page.getTotalPages(), page.getTotalElements(), page.getNumber(), page.getSize());\n    }\n    @Transactional\n    public Status change(@NotNull Long id, TokenDto token, @NotNull BillboardAction action) throws NotFoundException, ActionNotExists, AuthentificationException {\n        if (token == null) {\n            throw new AuthentificationException(&quot;Authorization token is empty&quot;);\n        }\n        Optional&lt;Billboard&gt; opt = repository.findById(id);\n        if (opt.isEmpty()) {\n            throw new NotFoundException(&quot;Billboard with id &quot; + id + &quot; is not present&quot;);\n        }\n        Billboard billboard = opt.get();\n        BillboardStatus billboardStatus = statusRepository.findBillboardStatusByAction(action);\n        if (billboardStatus == null) {\n            throw new ActionNotExists(&quot;Action &quot; + action + &quot; not exists&quot;);\n        }\n\n        billboard.setStatus(billboardStatus.getNewStatus());\n        return billboardStatus.getNewStatus();\n    }\n\n    private FileRecordRequestSearchDto buildSearchFileDto(Long billboardId) {\n        return FileRecordRequestSearchDto\n                .builder()\n                .objId(billboardId)\n                .objType(SystemParameters.OBJ_TYPE)\n                .systemId(SystemParameters.SYSTEM_ID)\n                .build();\n    }\n\n    private  Map&lt;Long, List&lt;FileRecordResponseDto&gt;&gt; collectFileDtoById(List&lt;FileRecordResponseDto&gt; fileRecordResponseDtos) {\n        Map&lt;Long, List&lt;FileRecordResponseDto&gt;&gt; idsToFileResponseDto = new HashMap&lt;&gt;();\n        for (FileRecordResponseDto responseFile : fileRecordResponseDtos) {\n            Long objeId = responseFile.getObjId();\n            if (!idsToFileResponseDto.containsKey(objeId)) {\n                List&lt;FileRecordResponseDto&gt; list = new ArrayList&lt;&gt;();\n                list.add(responseFile);\n                idsToFileResponseDto.put(objeId, list);\n            } else {\n                idsToFileResponseDto.get(objeId).add(responseFile);\n            }\n        }\n\n        return idsToFileResponseDto;\n    }\n\n\n    private List&lt;FileRecordResponseDto&gt; orderListOfImagesByCover(List&lt;FileRecordResponseDto&gt; fileRecordResponseDtos, Long coverId) {\n        List&lt;FileRecordResponseDto&gt; orderList = new ArrayList&lt;&gt;();\n        Optional&lt;FileRecordResponseDto&gt; coverImage = fileRecordResponseDtos.stream().filter( f -&gt; f.getObjId().equals(coverId)).findFirst();\n        coverImage.ifPresent(orderList::add);\n        fileRecordResponseDtos.forEach(f -&gt; {\n            if (!f.getObjId().equals(coverId)) {\n                orderList.add(f);\n        }});\n        return orderList;\n    }\n\n    private void addCityIfExists(ParentBillboard billboardDto, TokenDto tokenDto) throws NotFoundException {\n        Mono&lt;CityDto&gt; cityDto = userInfo.findCityBy(tokenDto.getTokenBody(), billboardDto.getCity().getId());\n        if (cityDto == null) {\n            throw new NotFoundException(&quot;Not Found city with id &quot; + billboardDto.getCity().getId());\n        }\n        billboardDto.setCity(cityDto.block());\n    }\n}\n</code></pre>\n<p>I Can't understand what wrong when i update?</p>\n"},{"tags":["java","html","dom","xpath","jsoup"],"answers":[{"tags":[],"owner":{"account_id":2422749,"reputation":9587,"user_id":2115381,"display_name":"hr_117"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458990168,"creation_date":1458990168,"answer_id":36234511,"question_id":36233695,"body_markdown":"As asked here a idea. \r\nEven if I&#39;m quite sure that there better solutions to get the xpath for a given node.  For example use xslt as in the [answer][1] to &quot;Generate/get xpath from XML node java&quot;.\r\n\r\nHere the possible solution based on your current attempt.   \r\n\r\nFor each (parent) element check if there are more than one element with this name. \r\nPseudo code: `if ( count (el.select(&#39;../&#39; + el.nodeName() ) &gt; 1)`  \r\nIf true  count the `preceding-sibling::` with same name and add 1.  \r\n`count (el.select(&#39;preceding-sibling::&#39; + el.nodeName() ) +1 `  \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4747858/2115381","title":"How to generate XPath query matching a specific element in Jsoup?","body":"<p>As asked here a idea. \nEven if I'm quite sure that there better solutions to get the xpath for a given node.  For example use xslt as in the <a href=\"https://stackoverflow.com/a/4747858/2115381\">answer</a> to \"Generate/get xpath from XML node java\".</p>\n\n<p>Here the possible solution based on your current attempt.   </p>\n\n<p>For each (parent) element check if there are more than one element with this name. \nPseudo code: <code>if ( count (el.select('../' + el.nodeName() ) &gt; 1)</code><br>\nIf true  count the <code>preceding-sibling::</code> with same name and add 1.<br>\n<code>count (el.select('preceding-sibling::' + el.nodeName() ) +1</code>  </p>\n"},{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1458991258,"creation_date":1458990622,"answer_id":36234564,"question_id":36233695,"body_markdown":"This would be easier, if you traversed the document from the root to the leafs instead of the other way round. This way you can easily group the elements by tag-name and handle multiple occurences accordingly. Here is a recursive approach:\r\n\r\n    private final List&lt;String&gt; path = new ArrayList&lt;&gt;();\r\n    private final List&lt;String&gt; all = new ArrayList&lt;&gt;();\r\n\r\n    public List&lt;String&gt; getAll() {\r\n        return Collections.unmodifiableList(all);\r\n    }\r\n    \r\n    public void parse(Document doc) {\r\n        path.clear();\r\n        all.clear();\r\n        parse(doc.children());\r\n    }\r\n\r\n    private void parse(List&lt;Element&gt; elements) {\r\n        if (elements.isEmpty()) {\r\n            return;\r\n        }\r\n        Map&lt;String, List&lt;Element&gt;&gt; grouped = elements.stream().collect(Collectors.groupingBy(Element::tagName));\r\n\r\n        for (Map.Entry&lt;String, List&lt;Element&gt;&gt; entry : grouped.entrySet()) {\r\n            List&lt;Element&gt; list = entry.getValue();\r\n            String key = entry.getKey();\r\n            if (list.size() &gt; 1) {\r\n                int index = 1;\r\n                // use paths with index\r\n                key += &quot;[&quot;;\r\n                for (Element e : list) {\r\n                    path.add(key + (index++) + &quot;]&quot;);\r\n                    handleElement(e);\r\n                    path.remove(path.size() - 1);\r\n                }\r\n            } else {\r\n                // use paths without index\r\n                path.add(key);\r\n                handleElement(list.get(0));\r\n                path.remove(path.size() - 1);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private void handleElement(Element e) {\r\n        String value = e.ownText();\r\n        if (!value.isEmpty()) {\r\n            // add entry\r\n            all.add(path.stream().collect(Collectors.joining(&quot;/&quot;)) + &quot; = &quot; + value);\r\n        }\r\n        // process children of element\r\n        parse(e.children());\r\n    }","title":"How to generate XPath query matching a specific element in Jsoup?","body":"<p>This would be easier, if you traversed the document from the root to the leafs instead of the other way round. This way you can easily group the elements by tag-name and handle multiple occurences accordingly. Here is a recursive approach:</p>\n\n<pre><code>private final List&lt;String&gt; path = new ArrayList&lt;&gt;();\nprivate final List&lt;String&gt; all = new ArrayList&lt;&gt;();\n\npublic List&lt;String&gt; getAll() {\n    return Collections.unmodifiableList(all);\n}\n\npublic void parse(Document doc) {\n    path.clear();\n    all.clear();\n    parse(doc.children());\n}\n\nprivate void parse(List&lt;Element&gt; elements) {\n    if (elements.isEmpty()) {\n        return;\n    }\n    Map&lt;String, List&lt;Element&gt;&gt; grouped = elements.stream().collect(Collectors.groupingBy(Element::tagName));\n\n    for (Map.Entry&lt;String, List&lt;Element&gt;&gt; entry : grouped.entrySet()) {\n        List&lt;Element&gt; list = entry.getValue();\n        String key = entry.getKey();\n        if (list.size() &gt; 1) {\n            int index = 1;\n            // use paths with index\n            key += \"[\";\n            for (Element e : list) {\n                path.add(key + (index++) + \"]\");\n                handleElement(e);\n                path.remove(path.size() - 1);\n            }\n        } else {\n            // use paths without index\n            path.add(key);\n            handleElement(list.get(0));\n            path.remove(path.size() - 1);\n        }\n    }\n\n}\n\nprivate void handleElement(Element e) {\n    String value = e.ownText();\n    if (!value.isEmpty()) {\n        // add entry\n        all.add(path.stream().collect(Collectors.joining(\"/\")) + \" = \" + value);\n    }\n    // process children of element\n    parse(e.children());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9430552,"reputation":59,"user_id":7014239,"display_name":"Miklos Toth"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476369307,"creation_date":1476367759,"answer_id":40023372,"question_id":36233695,"body_markdown":"This is my solution to this problem:\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    StringBuilder absPath=new StringBuilder();\r\n    Elements parents = htmlElement.parents();\r\n\r\n    for (int j = parents.size()-1; j &gt;= 0; j--) {\r\n    \tElement element = parents.get(j);\r\n    \tabsPath.append(&quot;/&quot;);\r\n    \tabsPath.append(element.tagName());\r\n    \tabsPath.append(&quot;[&quot;);\r\n    \tabsPath.append(element.siblingIndex());\r\n    \tabsPath.append(&quot;]&quot;);\r\n    }\r\n\r\n\r\n\r\n","title":"How to generate XPath query matching a specific element in Jsoup?","body":"<p>This is my solution to this problem:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>StringBuilder absPath=new StringBuilder();\nElements parents = htmlElement.parents();\n\nfor (int j = parents.size()-1; j &gt;= 0; j--) {\n    Element element = parents.get(j);\n    absPath.append(\"/\");\n    absPath.append(element.tagName());\n    absPath.append(\"[\");\n    absPath.append(element.siblingIndex());\n    absPath.append(\"]\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216468,"reputation":15127,"user_id":471744,"accept_rate":68,"display_name":"spierce7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668769830,"creation_date":1668769830,"answer_id":74488777,"question_id":36233695,"body_markdown":"Here is the solution in Kotlin. It&#39;s correct, and it works. The other answers are wrong and caused me hours of lost work.\r\n\r\n    fun Element.xpath(): String = buildString {\r\n        val parents = parents()\r\n    \r\n        for (j in (parents.size - 1) downTo 0) {\r\n            val parent = parents[j]\r\n            append(&quot;/*[&quot;)\r\n            append(parent.siblingIndex() + 1)\r\n            append(&#39;]&#39;)\r\n        }\r\n    \r\n        append(&quot;/*[&quot;)\r\n        append(siblingIndex() + 1)\r\n        append(&#39;]&#39;)\r\n    }","title":"How to generate XPath query matching a specific element in Jsoup?","body":"<p>Here is the solution in Kotlin. It's correct, and it works. The other answers are wrong and caused me hours of lost work.</p>\n<pre><code>fun Element.xpath(): String = buildString {\n    val parents = parents()\n\n    for (j in (parents.size - 1) downTo 0) {\n        val parent = parents[j]\n        append(&quot;/*[&quot;)\n        append(parent.siblingIndex() + 1)\n        append(']')\n    }\n\n    append(&quot;/*[&quot;)\n    append(siblingIndex() + 1)\n    append(']')\n}\n</code></pre>\n"}],"owner":{"account_id":3383433,"reputation":303,"user_id":2839986,"accept_rate":87,"display_name":"kivok94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2954,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1668769830,"creation_date":1458984608,"question_id":36233695,"body_markdown":"_ Hi , this is my web page : \r\n\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;div&gt; text div 1&lt;/div&gt;\r\n            &lt;div&gt;\r\n                &lt;span&gt;text of first span &lt;/span&gt;\r\n                &lt;span&gt;text of second span &lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt; text div 3 &lt;/div&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI&#39;m using jsoup to parse it , and then browse all elements inside the page and get their paths : \r\n\r\n     Document doc = Jsoup.parse(new File(&quot;C:\\\\Users\\\\HC\\\\Desktop\\\\dataset\\\\index.html&quot;), &quot;UTF-8&quot;);\r\n     Elements elements = doc.body().select(&quot;*&quot;);\r\n    ArrayList all = new ArrayList();\r\n            for (Element element : elements) {\r\n                if (!element.ownText().isEmpty()) {\r\n    \r\n                    StringBuilder path = new StringBuilder(element.nodeName());\r\n                    String value = element.ownText();\r\n                    Elements p_el = element.parents();\r\n    \r\n                    for (Element el : p_el) {\r\n                        path.insert(0, el.nodeName() + &#39;/&#39;);\r\n                    }\r\n                    all.add(path + &quot; = &quot; + value + &quot;\\n&quot;);\r\n                    System.out.println(path +&quot; = &quot;+ value);\r\n                }\r\n            }\r\n    \r\n            return all;\r\n\r\nmy code give me this result : \r\n\r\n    html/body/div = text div 1\r\n    html/body/div/span = text of first span\r\n    html/body/div/span = text of second span\r\n    html/body/div = text div 3\r\n\r\nin fact i want get result like this : \r\n\r\n    html/body/div[1] = text div 1\r\n    html/body/div[2]/span[1] = text of first span\r\n    html/body/div[2]/span[2] = text of second span\r\n    html/body/div[3] = text div 3\r\n\r\nplease could any one give me idea how to get reach this result :) . thanks in advance. \r\n\r\n","title":"How to generate XPath query matching a specific element in Jsoup?","body":"<p>_ Hi , this is my web page : </p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div&gt; text div 1&lt;/div&gt;\n        &lt;div&gt;\n            &lt;span&gt;text of first span &lt;/span&gt;\n            &lt;span&gt;text of second span &lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div&gt; text div 3 &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I'm using jsoup to parse it , and then browse all elements inside the page and get their paths : </p>\n\n<pre><code> Document doc = Jsoup.parse(new File(\"C:\\\\Users\\\\HC\\\\Desktop\\\\dataset\\\\index.html\"), \"UTF-8\");\n Elements elements = doc.body().select(\"*\");\nArrayList all = new ArrayList();\n        for (Element element : elements) {\n            if (!element.ownText().isEmpty()) {\n\n                StringBuilder path = new StringBuilder(element.nodeName());\n                String value = element.ownText();\n                Elements p_el = element.parents();\n\n                for (Element el : p_el) {\n                    path.insert(0, el.nodeName() + '/');\n                }\n                all.add(path + \" = \" + value + \"\\n\");\n                System.out.println(path +\" = \"+ value);\n            }\n        }\n\n        return all;\n</code></pre>\n\n<p>my code give me this result : </p>\n\n<pre><code>html/body/div = text div 1\nhtml/body/div/span = text of first span\nhtml/body/div/span = text of second span\nhtml/body/div = text div 3\n</code></pre>\n\n<p>in fact i want get result like this : </p>\n\n<pre><code>html/body/div[1] = text div 1\nhtml/body/div[2]/span[1] = text of first span\nhtml/body/div[2]/span[2] = text of second span\nhtml/body/div[3] = text div 3\n</code></pre>\n\n<p>please could any one give me idea how to get reach this result :) . thanks in advance. </p>\n"},{"tags":["java","spring-boot","vaadin"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1666678858,"post_id":74188425,"comment_id":130987715,"body_markdown":"This all seems to be correct. How are you loading the image?","body":"This all seems to be correct. How are you loading the image?"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1666680370,"post_id":74188425,"comment_id":130988107,"body_markdown":"Is this problem happening before or after user logs in?","body":"Is this problem happening before or after user logs in?"},{"owner":{"account_id":1323664,"reputation":1512,"user_id":1268954,"accept_rate":23,"display_name":"Mirko"},"score":0,"creation_date":1666692814,"post_id":74188425,"comment_id":130992199,"body_markdown":"@SimonMartinelli: I&#39;m loading the images this way: \n\nnew Image(&quot;images/countries/&quot; + strCountry + &quot;.png&quot;, &quot;flag for &quot; + strlanguage);","body":"@SimonMartinelli: I&#39;m loading the images this way:   new Image(&quot;images/countries/&quot; + strCountry + &quot;.png&quot;, &quot;flag for &quot; + strlanguage);"},{"owner":{"account_id":1323664,"reputation":1512,"user_id":1268954,"accept_rate":23,"display_name":"Mirko"},"score":0,"creation_date":1666692901,"post_id":74188425,"comment_id":130992232,"body_markdown":"@TatuLund: No. This problem is before and after logging in. In the log is a hint from spring-security, that this url is not secured - this is correct too. FilterChainProxy.doFilterInternal - No security for GET /images/countries/de.png","body":"@TatuLund: No. This problem is before and after logging in. In the log is a hint from spring-security, that this url is not secured - this is correct too. FilterChainProxy.doFilterInternal - No security for GET /images/countries/de.png"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1666697007,"post_id":74188425,"comment_id":130993604,"body_markdown":"I can&#39;t reproduce your problem. Just created a new project on https://start.vaadin.com with an AboutView where an image is loaded the same way as you do","body":"I can&#39;t reproduce your problem. Just created a new project on <a href=\"https://start.vaadin.com\" rel=\"nofollow noreferrer\">start.vaadin.com</a> with an AboutView where an image is loaded the same way as you do"},{"owner":{"account_id":1323664,"reputation":1512,"user_id":1268954,"accept_rate":23,"display_name":"Mirko"},"score":0,"creation_date":1666707157,"post_id":74188425,"comment_id":130997257,"body_markdown":"@SimonMartinelli Thx a lot for your support. Can you see the same loader class (WebappClassLoaderBase) in your trace log? Perhaps is my DispatcherServlet misconfigured - but I don&#39;t know why or how. ;-)","body":"@SimonMartinelli Thx a lot for your support. Can you see the same loader class (WebappClassLoaderBase) in your trace log? Perhaps is my DispatcherServlet misconfigured - but I don&#39;t know why or how. ;-)"},{"owner":{"account_id":2071631,"reputation":102,"user_id":1897776,"display_name":"kszk"},"score":0,"creation_date":1667062759,"post_id":74188425,"comment_id":131084029,"body_markdown":"In my project (23.2.6) the static resources (ok.png and other images) are in the src/main/resources/META-INF/resources/img/ok.png and I&#39;m loading from Java like this: new Image(&quot;img/ok.png&quot;, &quot;Done&quot;);\nI&#39;m using SpringBoot 2.7.x .","body":"In my project (23.2.6) the static resources (ok.png and other images) are in the src/main/resources/META-INF/resources/img/ok.png and I&#39;m loading from Java like this: new Image(&quot;img/ok.png&quot;, &quot;Done&quot;); I&#39;m using SpringBoot 2.7.x ."}],"answers":[{"tags":[],"owner":{"account_id":1323664,"reputation":1512,"user_id":1268954,"accept_rate":23,"display_name":"Mirko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668769570,"creation_date":1668769570,"answer_id":74488716,"question_id":74188425,"body_markdown":"After my from 18. Nov 2022, I googled a bit around and found this [question][1]. It hinted me to Spring MVC. And I rembered, that I tested a bit around with it.\r\n\r\nSo in one of the spring boot config classes was an active @EnableWebMvc annotation. This, of course, damaged the expected behavior.\r\n\r\n\r\n  [1]: https://%20https://stackoverflow.com/questions/3448467/how-can-i-change-the-ordering-of-mapped-urls-in-spring-mvc","title":"Solved : Static Resources Springboot (2.6.3) and Vaadin (23.2.5) not served in production","body":"<p>After my from 18. Nov 2022, I googled a bit around and found this <a href=\"https://%20https://stackoverflow.com/questions/3448467/how-can-i-change-the-ordering-of-mapped-urls-in-spring-mvc\" rel=\"nofollow noreferrer\">question</a>. It hinted me to Spring MVC. And I rembered, that I tested a bit around with it.</p>\n<p>So in one of the spring boot config classes was an active @EnableWebMvc annotation. This, of course, damaged the expected behavior.</p>\n"}],"owner":{"account_id":1323664,"reputation":1512,"user_id":1268954,"accept_rate":23,"display_name":"Mirko"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668769677,"creation_date":1666663160,"question_id":74188425,"body_markdown":"I&#39;ve updated my springboot project libraries:\r\n\r\nVaadin: 23.0.10 -&gt; 23.2.5 (I think here is the problem)\r\n\r\nSince then, the application doesn&#39;t serve static resources like images. \r\nI could validate, that \r\n\r\n - the project structure dosn&#39;t change (static files under /src/main/resources/META-INF/resources as documented in [Vaadin documentation][1])\r\n - the resulting jar file structure dosn&#39;t change (static files are still under /META-INF/resources)\r\n\r\nIn the log I could locate the following mismatch between the file structure and the resource path:\r\n\r\n\tTRACE o.s.web.servlet.DispatcherServlet.traceDebug - GET &quot;/images/countries/de.png&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n\tTRACE o.s.w.s.h.SimpleUrlHandlerMapping.getHandler - Mapped to HandlerExecutionChain with [org.springframework.web.servlet.mvc.ServletForwardingController@9cd25ff] and 1 interceptors\r\n\tTRACE o.s.w.s.m.ServletForwardingController.prepareResponse - Applying default cacheSeconds=-1\r\n\tDEBUG o.a.catalina.core.StandardWrapper.log -   Returning non-STM instance\r\n    DEBUG o.a.c.loader.WebappClassLoaderBase.log - getResource(META-INF/VAADIN/webapp/images/countries/de.png)\r\n    DEBUG o.a.c.loader.WebappClassLoaderBase.log -   --&gt; Resource not found, returning null\r\n\r\nSo I&#39;ts quite clear, that the application searches the media in a different folder now.\r\n\r\n\r\nCan someone hint me, \r\n\r\n 1. where the resources have to be placed in the jar file? Should I modify a maven step?\r\n 2. how can i implement and register a delegator/interceptor for this resource loading mechanism? (Just for debugging/logging reasons - because this is not the first time of this problem)\r\n\r\n\r\n\r\n**[1st Update - 18.11.2022]**\r\n\r\n\r\nAfter a small break, I spend more time on this. \r\nI have continued the approach of Simon Martinelli. I used the demo app from start.vaadin.com and started it in ProductionMode. I copied the image &quot;empty-plant.png&quot; in my project into the same folder, where my other static resources resides. \r\n\r\nBelow are the logs and the difference.\r\n\r\n    Vaadin-Demo-App:\r\n    app.jar\\META-INF\\resources\\images\\empty-plant.png\r\n    10:52:03.952 [http-nio-8080-exec-5] TRACE o.s.web.servlet.DispatcherServlet.traceDebug:116 - GET &quot;/images/empty-plant.png&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n    10:52:03.953 [http-nio-8080-exec-5] TRACE o.s.w.s.h.SimpleUrlHandlerMapping.getHandler:519 - Mapped to HandlerExecutionChain with [org.springframework.web.servlet.mvc.ServletForwardingController@58d6b7b9] and 1 interceptors\r\n    10:52:03.953 [http-nio-8080-exec-5] TRACE o.s.w.s.m.ServletForwardingController.prepareResponse:405 - Applying default cacheSeconds=-1\r\n    10:52:03.953 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 - getResource(META-INF/VAADIN/webapp/images/empty-plant.png)\r\n    10:52:03.953 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@7e32c033\r\n    10:52:03.954 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   --&gt; Resource not found, returning null\r\n    10:52:03.978 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 - getResource(META-INF/resources/images/empty-plant.png)\r\n    10:52:03.978 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@7e32c033\r\n    10:52:03.978 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   --&gt; Returning &#39;jar:file:/C:/Users/#############/Desktop/my-app/my-app/target/app.jar!/META-INF/resources/images/empty-plant.png&#39;\r\n    10:52:03.982 [http-nio-8080-exec-5] TRACE o.s.w.s.m.ServletForwardingController.handleRequestInternal:143 - Forwarded to servlet [springServlet] in ServletForwardingController &#39;vaadinForwardingController&#39;\r\n    10:52:03.982 [http-nio-8080-exec-5] TRACE o.s.web.servlet.DispatcherServlet.processDispatchResult:1156 - No view rendering, null ModelAndView returned.\r\n    10:52:03.982 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet.logResult:1131 - Completed 304 NOT_MODIFIED, headers={masked}\r\n    \r\n    \r\n    \r\n    My App \r\n    app.jar\\META-INF\\resources\\images\\empty-plant.png\r\n    10:57:04.617 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.web.servlet.DispatcherServlet.traceDebug:116 - GET &quot;/images/empty-plant.png&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n    10:57:04.617 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.w.s.h.SimpleUrlHandlerMapping.getHandler:519 - Mapped to HandlerExecutionChain with [org.springframework.web.servlet.mvc.ServletForwardingController@790174f2] and 1 interceptors\r\n    10:57:04.620 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.w.s.m.ServletForwardingController.prepareResponse:405 - Applying default cacheSeconds=-1\r\n    10:57:04.621 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 - getResource(META-INF/VAADIN/webapp/images/empty-plant.png)\r\n    10:57:04.621 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@7eda2dbb\r\n    10:57:04.622 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   --&gt; Resource not found, returning null\r\n    10:57:04.676 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.w.s.m.ServletForwardingController.handleRequestInternal:143 - Forwarded to servlet [springServlet] in ServletForwardingController &#39;vaadinForwardingController&#39;\r\n    10:57:04.676 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.web.servlet.DispatcherServlet.processDispatchResult:1156 - No view rendering, null ModelAndView returned.\r\n    10:57:04.676 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.s.web.servlet.DispatcherServlet.logResult:1131 - Completed 200 OK, headers={masked}\r\n\r\n\r\nI think here is something wrong with the ServletForwardingController, isn&#39;t it?\r\n\r\n**[2nd Update - 18.11.2022]**\r\n\r\nRemoving the @EnableWebMvc Annotation solves it. \r\n\r\n\r\n\r\n  [1]: https://vaadin.com/docs/latest/advanced/loading-resouWie rces#resource-cheat-sheet\r\n\r\n\r\n\r\n\r\n","title":"Solved : Static Resources Springboot (2.6.3) and Vaadin (23.2.5) not served in production","body":"<p>I've updated my springboot project libraries:</p>\n<p>Vaadin: 23.0.10 -&gt; 23.2.5 (I think here is the problem)</p>\n<p>Since then, the application doesn't serve static resources like images.\nI could validate, that</p>\n<ul>\n<li>the project structure dosn't change (static files under /src/main/resources/META-INF/resources as documented in [Vaadin documentation][1])</li>\n<li>the resulting jar file structure dosn't change (static files are still under /META-INF/resources)</li>\n</ul>\n<p>In the log I could locate the following mismatch between the file structure and the resource path:</p>\n<pre><code>TRACE o.s.web.servlet.DispatcherServlet.traceDebug - GET &quot;/images/countries/de.png&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\nTRACE o.s.w.s.h.SimpleUrlHandlerMapping.getHandler - Mapped to HandlerExecutionChain with [org.springframework.web.servlet.mvc.ServletForwardingController@9cd25ff] and 1 interceptors\nTRACE o.s.w.s.m.ServletForwardingController.prepareResponse - Applying default cacheSeconds=-1\nDEBUG o.a.catalina.core.StandardWrapper.log -   Returning non-STM instance\nDEBUG o.a.c.loader.WebappClassLoaderBase.log - getResource(META-INF/VAADIN/webapp/images/countries/de.png)\nDEBUG o.a.c.loader.WebappClassLoaderBase.log -   --&gt; Resource not found, returning null\n</code></pre>\n<p>So I'ts quite clear, that the application searches the media in a different folder now.</p>\n<p>Can someone hint me,</p>\n<ol>\n<li>where the resources have to be placed in the jar file? Should I modify a maven step?</li>\n<li>how can i implement and register a delegator/interceptor for this resource loading mechanism? (Just for debugging/logging reasons - because this is not the first time of this problem)</li>\n</ol>\n<p><strong>[1st Update - 18.11.2022]</strong></p>\n<p>After a small break, I spend more time on this.\nI have continued the approach of Simon Martinelli. I used the demo app from start.vaadin.com and started it in ProductionMode. I copied the image &quot;empty-plant.png&quot; in my project into the same folder, where my other static resources resides.</p>\n<p>Below are the logs and the difference.</p>\n<pre><code>Vaadin-Demo-App:\napp.jar\\META-INF\\resources\\images\\empty-plant.png\n10:52:03.952 [http-nio-8080-exec-5] TRACE o.s.web.servlet.DispatcherServlet.traceDebug:116 - GET &quot;/images/empty-plant.png&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n10:52:03.953 [http-nio-8080-exec-5] TRACE o.s.w.s.h.SimpleUrlHandlerMapping.getHandler:519 - Mapped to HandlerExecutionChain with [org.springframework.web.servlet.mvc.ServletForwardingController@58d6b7b9] and 1 interceptors\n10:52:03.953 [http-nio-8080-exec-5] TRACE o.s.w.s.m.ServletForwardingController.prepareResponse:405 - Applying default cacheSeconds=-1\n10:52:03.953 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 - getResource(META-INF/VAADIN/webapp/images/empty-plant.png)\n10:52:03.953 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@7e32c033\n10:52:03.954 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   --&gt; Resource not found, returning null\n10:52:03.978 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 - getResource(META-INF/resources/images/empty-plant.png)\n10:52:03.978 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@7e32c033\n10:52:03.978 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   --&gt; Returning 'jar:file:/C:/Users/#############/Desktop/my-app/my-app/target/app.jar!/META-INF/resources/images/empty-plant.png'\n10:52:03.982 [http-nio-8080-exec-5] TRACE o.s.w.s.m.ServletForwardingController.handleRequestInternal:143 - Forwarded to servlet [springServlet] in ServletForwardingController 'vaadinForwardingController'\n10:52:03.982 [http-nio-8080-exec-5] TRACE o.s.web.servlet.DispatcherServlet.processDispatchResult:1156 - No view rendering, null ModelAndView returned.\n10:52:03.982 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet.logResult:1131 - Completed 304 NOT_MODIFIED, headers={masked}\n\n\n\nMy App \napp.jar\\META-INF\\resources\\images\\empty-plant.png\n10:57:04.617 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.web.servlet.DispatcherServlet.traceDebug:116 - GET &quot;/images/empty-plant.png&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n10:57:04.617 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.w.s.h.SimpleUrlHandlerMapping.getHandler:519 - Mapped to HandlerExecutionChain with [org.springframework.web.servlet.mvc.ServletForwardingController@790174f2] and 1 interceptors\n10:57:04.620 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.w.s.m.ServletForwardingController.prepareResponse:405 - Applying default cacheSeconds=-1\n10:57:04.621 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 - getResource(META-INF/VAADIN/webapp/images/empty-plant.png)\n10:57:04.621 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@7eda2dbb\n10:57:04.622 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   --&gt; Resource not found, returning null\n10:57:04.676 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.w.s.m.ServletForwardingController.handleRequestInternal:143 - Forwarded to servlet [springServlet] in ServletForwardingController 'vaadinForwardingController'\n10:57:04.676 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.web.servlet.DispatcherServlet.processDispatchResult:1156 - No view rendering, null ModelAndView returned.\n10:57:04.676 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.s.web.servlet.DispatcherServlet.logResult:1131 - Completed 200 OK, headers={masked}\n</code></pre>\n<p>I think here is something wrong with the ServletForwardingController, isn't it?</p>\n<p><strong>[2nd Update - 18.11.2022]</strong></p>\n<p>Removing the @EnableWebMvc Annotation solves it.</p>\n<p>[1]: <a href=\"https://vaadin.com/docs/latest/advanced/loading-resouWie\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/advanced/loading-resouWie</a> rces#resource-cheat-sheet</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668767528,"post_id":74488264,"comment_id":131491642,"body_markdown":"Don&#39;t do `i++;` inside your for loop. You used the for loop and already defined `i++` as an increment operation that gets done after every iteration so there is no need to do it 3 more times per loop.","body":"Don&#39;t do <code>i++;</code> inside your for loop. You used the for loop and already defined <code>i++</code> as an increment operation that gets done after every iteration so there is no need to do it 3 more times per loop."},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1668767659,"post_id":74488264,"comment_id":131491685,"body_markdown":"Please follow Java naming conventions: an initial lowercase letter for variable and method names (`city`, `pathIndex`, `startCity`, `initialization()`, `distance()`).","body":"Please follow Java naming conventions: an initial lowercase letter for variable and method names (<code>city</code>, <code>pathIndex</code>, <code>startCity</code>, <code>initialization()</code>, <code>distance()</code>)."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668768742,"post_id":74488264,"comment_id":131492064,"body_markdown":"If I understand your logic correct you are trying to calculate the distance from every city to every other city. That might best be done with a nested loop. Does your cities class have methods to get its X and Y coordinates? So would something like `City[0].getXLocation()` be possible?","body":"If I understand your logic correct you are trying to calculate the distance from every city to every other city. That might best be done with a nested loop. Does your cities class have methods to get its X and Y coordinates? So would something like <code>City[0].getXLocation()</code> be possible?"},{"owner":{"account_id":15067753,"reputation":11,"user_id":14808688,"display_name":"NewCoder2001"},"score":0,"creation_date":1668769680,"post_id":74488264,"comment_id":131492376,"body_markdown":"Yeah there is actually.. But the initialization is just always getting the last city to get the x and y values. Example if I write City[1].Get_X(), it still shows the x value of City[3], because i initialized it last..","body":"Yeah there is actually.. But the initialization is just always getting the last city to get the x and y values. Example if I write City[1].Get_X(), it still shows the x value of City[3], because i initialized it last.."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668775548,"post_id":74488264,"comment_id":131494182,"body_markdown":"&quot;Example if I write City[1].Get_X(), it still shows the x value of City[3], because i initialized it last..&quot; &lt;- @NewCoder2001 This sounds like you declared those fields as `static` when they shouldn&#39;t be.","body":"&quot;Example if I write City[1].Get_X(), it still shows the x value of City[3], because i initialized it last..&quot; &lt;- @NewCoder2001 This sounds like you declared those fields as <code>static</code> when they shouldn&#39;t be."}],"answers":[{"tags":[],"owner":{"account_id":18803667,"reputation":51,"user_id":13713476,"display_name":"Ruendan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668769549,"creation_date":1668769549,"answer_id":74488710,"question_id":74488264,"body_markdown":"You have a case where you want to &quot;compare&quot; an element of an array with eachother. I suppose that you do not mind small optimisation problems so I&#39;m making it simple :\r\n\r\n    //Step 1 : iterate over all your cities.\r\n    for(Cities current : City) {\r\n        //Step 2 : compare current city with eachother\r\n        for(Cities other : City) {\r\n            //Step 3 : make sure that you don&#39;t compare a city with itself\r\n            if(!current.equals(other)) {\r\n                //Step 4 : use the distance method using the other&#39;s coordinates :)\r\n                current.Distance(other.City_X_Location, other.City_Y_Location);\r\n            }\r\n        }\r\n    }\r\n\r\nThis way, each element (first loop) will be compared with each other (second loop). The &quot;if&quot; statement is just made to be sure that you don&#39;t compare twice the same element.\r\n\r\nI&#39;m using the `city.City_X_Location` and `city.City_Y_Location` dirrectly as you show it in your Distance method, thinking that it would be a `public` attribute, but it would be better if you could make it private and create a `getCity_X_Location()` method. \r\n\r\nFinally, if you&#39;re not used to use the `for(Item i : Iterrable)` syntax, feel free to turn these into `for(int i = 0; i &lt; City.length(); i++)`","title":"How to use a for loop for this problem in Java","body":"<p>You have a case where you want to &quot;compare&quot; an element of an array with eachother. I suppose that you do not mind small optimisation problems so I'm making it simple :</p>\n<pre><code>//Step 1 : iterate over all your cities.\nfor(Cities current : City) {\n    //Step 2 : compare current city with eachother\n    for(Cities other : City) {\n        //Step 3 : make sure that you don't compare a city with itself\n        if(!current.equals(other)) {\n            //Step 4 : use the distance method using the other's coordinates :)\n            current.Distance(other.City_X_Location, other.City_Y_Location);\n        }\n    }\n}\n</code></pre>\n<p>This way, each element (first loop) will be compared with each other (second loop). The &quot;if&quot; statement is just made to be sure that you don't compare twice the same element.</p>\n<p>I'm using the <code>city.City_X_Location</code> and <code>city.City_Y_Location</code> dirrectly as you show it in your Distance method, thinking that it would be a <code>public</code> attribute, but it would be better if you could make it private and create a <code>getCity_X_Location()</code> method.</p>\n<p>Finally, if you're not used to use the <code>for(Item i : Iterrable)</code> syntax, feel free to turn these into <code>for(int i = 0; i &lt; City.length(); i++)</code></p>\n"}],"owner":{"account_id":15067753,"reputation":11,"user_id":14808688,"display_name":"NewCoder2001"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74488710,"answer_count":1,"score":-1,"last_activity_date":1668769549,"creation_date":1668767379,"question_id":74488264,"body_markdown":"    public class Lab2 {\r\n        public static Cities [] PathSolution = new Cities[7];\r\n        int PathIndex = 0;\r\n        int StartCity;\r\n    \r\n        static Cities [] City = new Cities [4];\r\n        public static void main(String[] args){\r\n            for(int i = 0; i&lt;City.length; i++)\r\n                City[i] = new Cities();\r\n            City[0].Initialization ( 0, 1, 1);\r\n            City[1].Initialization ( 1, 5, 5);\r\n            City[2].Initialization ( 2, 10, 3);\r\n            City[3].Initialization ( 3, 2, 7);\r\n\r\nI would like to use a for loop in this problem such that it would go through all the citites. for example: \r\n    \r\n\r\n        City[0].Distance(5, 5);\r\n        City[0].Distance(10, 3);\r\n        City[0].Distance(2, 7);\r\n        City[1].Distance(1, 1);\r\n        City[1].Distance(10, 3);\r\n        City[1].Distance(2, 7);\r\n        City[2].Distance(1, 1);\r\n        City[2].Distance(5, 5);\r\n        City[2].Distance(2, 7);\r\n        City[3].Distance(1, 1);\r\n        City[3].Distance(5, 5);\r\n        City[3].Distance(10, 3);\r\n\r\nCurrently, I am manually typing the above code in order to go through all Cities using the &quot;Distance&quot; method that I have created. So right now I need to manually write City[0] - City[1], City[0] - City[2].. City[1] - City[0], City[1] - City[2] etc..\r\n\r\nSo basically I want each city to go through each city (except itself) using the Distance method. \r\nExplaining the code:\r\nThe Initialization is in this format (cityID, cityX, cityY) \r\n(The x and y are coordinates)\r\nThe Distance formula works like this:\r\nCity[a].Distance(x,y)\r\nThe x and y coordinates are the coordinates of the cities 0,1,2 and 3, and are currently being manually entered by me. \r\nI would like to have a for loop that would go through all cities (except itself).\r\n\r\nI was trying this for loop but it wasn&#39;t working:\r\n\r\n    for (int i = 0; i &lt; City.length; i++) {\r\n                City[i].Distance(5, 5);\r\n                i++;\r\n                City[i].Distance(10,3);\r\n                i++;\r\n                City[i].Distance(2,7);\r\n                i++;\r\n            }\r\n\r\nThis is the Distance Method:\r\n\r\n    public void Distance(float x, float y) {\r\n            int dist = (int) sqrt(Math.pow(City_X_Location - x , 2) + Math.pow(City_Y_Location - y , 2));\r\n            System.out.println(dist);\r\n        }\r\nThis is what I get when I use the Distance Method:\r\n    \r\n\r\n    City[0].Distance(5, 5);\r\n\r\n    3\r\n\r\nThis is the result I get when I type it manually and what I should get from the for loop:\r\n\r\n    3\r\n    8\r\n    0\r\n    6\r\n    8\r\n    0\r\n    6\r\n    3\r\n    0\r\n    6\r\n    3\r\n    8\r\n\r\n","title":"How to use a for loop for this problem in Java","body":"<pre><code>public class Lab2 {\n    public static Cities [] PathSolution = new Cities[7];\n    int PathIndex = 0;\n    int StartCity;\n\n    static Cities [] City = new Cities [4];\n    public static void main(String[] args){\n        for(int i = 0; i&lt;City.length; i++)\n            City[i] = new Cities();\n        City[0].Initialization ( 0, 1, 1);\n        City[1].Initialization ( 1, 5, 5);\n        City[2].Initialization ( 2, 10, 3);\n        City[3].Initialization ( 3, 2, 7);\n</code></pre>\n<p>I would like to use a for loop in this problem such that it would go through all the citites. for example:</p>\n<pre><code>    City[0].Distance(5, 5);\n    City[0].Distance(10, 3);\n    City[0].Distance(2, 7);\n    City[1].Distance(1, 1);\n    City[1].Distance(10, 3);\n    City[1].Distance(2, 7);\n    City[2].Distance(1, 1);\n    City[2].Distance(5, 5);\n    City[2].Distance(2, 7);\n    City[3].Distance(1, 1);\n    City[3].Distance(5, 5);\n    City[3].Distance(10, 3);\n</code></pre>\n<p>Currently, I am manually typing the above code in order to go through all Cities using the &quot;Distance&quot; method that I have created. So right now I need to manually write City[0] - City[1], City[0] - City[2].. City[1] - City[0], City[1] - City[2] etc..</p>\n<p>So basically I want each city to go through each city (except itself) using the Distance method.\nExplaining the code:\nThe Initialization is in this format (cityID, cityX, cityY)\n(The x and y are coordinates)\nThe Distance formula works like this:\nCity[a].Distance(x,y)\nThe x and y coordinates are the coordinates of the cities 0,1,2 and 3, and are currently being manually entered by me.\nI would like to have a for loop that would go through all cities (except itself).</p>\n<p>I was trying this for loop but it wasn't working:</p>\n<pre><code>for (int i = 0; i &lt; City.length; i++) {\n            City[i].Distance(5, 5);\n            i++;\n            City[i].Distance(10,3);\n            i++;\n            City[i].Distance(2,7);\n            i++;\n        }\n</code></pre>\n<p>This is the Distance Method:</p>\n<pre><code>public void Distance(float x, float y) {\n        int dist = (int) sqrt(Math.pow(City_X_Location - x , 2) + Math.pow(City_Y_Location - y , 2));\n        System.out.println(dist);\n    }\n</code></pre>\n<p>This is what I get when I use the Distance Method:</p>\n<pre><code>City[0].Distance(5, 5);\n\n3\n</code></pre>\n<p>This is the result I get when I type it manually and what I should get from the for loop:</p>\n<pre><code>3\n8\n0\n6\n8\n0\n6\n3\n0\n6\n3\n8\n</code></pre>\n"},{"tags":["java","if-statement","numbers","switch-statement"],"comments":[{"owner":{"display_name":"user6073886"},"score":7,"creation_date":1668768979,"post_id":74488577,"comment_id":131492152,"body_markdown":"Why not just do `if(n&gt;=1 &amp;&amp; n&lt;=6)`?","body":"Why not just do <code>if(n&gt;=1 &amp;&amp; n&lt;=6)</code>?"},{"owner":{"account_id":26973028,"reputation":3,"user_id":20538740,"display_name":"Woody"},"score":0,"creation_date":1668769041,"post_id":74488577,"comment_id":131492178,"body_markdown":"Jesus, you are right, but can I still do it when its a &quot;large&quot; set of numbers? Lets say 100?Also what to do when I want to use the 4 as example? @OHGODSPIDERS","body":"Jesus, you are right, but can I still do it when its a &quot;large&quot; set of numbers? Lets say 100?Also what to do when I want to use the 4 as example? @OHGODSPIDERS"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668769120,"post_id":74488577,"comment_id":131492197,"body_markdown":"That entirely depends on that &quot;large set of numbers&quot; and how they are related.","body":"That entirely depends on that &quot;large set of numbers&quot; and how they are related."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1668769173,"post_id":74488577,"comment_id":131492209,"body_markdown":"You only need two numbers, the ones that define the borders of the specific set of numbers. You can just do it like @OHGODSPIDERS did with the range 1..6, just take 1..100. Having a set of non-consecutive numbers will have to be tackled differently.","body":"You only need two numbers, the ones that define the borders of the specific set of numbers. You can just do it like @OHGODSPIDERS did with the range 1..6, just take 1..100. Having a set of non-consecutive numbers will have to be tackled differently."},{"owner":{"account_id":26973028,"reputation":3,"user_id":20538740,"display_name":"Woody"},"score":0,"creation_date":1668769308,"post_id":74488577,"comment_id":131492252,"body_markdown":"Lets say they are non-consecutive - what to use then? @deHaar","body":"Lets say they are non-consecutive - what to use then? @deHaar"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1668769409,"post_id":74488577,"comment_id":131492294,"body_markdown":"@Woody Just a check for each range individually should be enough then. So basically `if(n&gt;=1 &amp;&amp; n&lt;=10 || n&gt;=20 &amp;&amp; n&lt;=30)` and so on","body":"@Woody Just a check for each range individually should be enough then. So basically <code>if(n&gt;=1 &amp;&amp; n&lt;=10 || n&gt;=20 &amp;&amp; n&lt;=30)</code> and so on"},{"owner":{"account_id":26973028,"reputation":3,"user_id":20538740,"display_name":"Woody"},"score":0,"creation_date":1668769511,"post_id":74488577,"comment_id":131492327,"body_markdown":"Is this &quot;smarter&quot; or better than my attempts? @QBrute","body":"Is this &quot;smarter&quot; or better than my attempts? @QBrute"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1668769687,"post_id":74488577,"comment_id":131492379,"body_markdown":"if you have non-consecutive numbers, your approach is fine. There are several ways to achieve the goal, so you&#39;d have to decide case by case which is most readable (and preferrably non-bloated). I&#39;d for instance never use a switch expression/statement to achieve  this behaviour.","body":"if you have non-consecutive numbers, your approach is fine. There are several ways to achieve the goal, so you&#39;d have to decide case by case which is most readable (and preferrably non-bloated). I&#39;d for instance never use a switch expression/statement to achieve  this behaviour."},{"owner":{"account_id":26973028,"reputation":3,"user_id":20538740,"display_name":"Woody"},"score":0,"creation_date":1668769746,"post_id":74488577,"comment_id":131492393,"body_markdown":"Thanks a lot to all of you.","body":"Thanks a lot to all of you."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668769754,"post_id":74488577,"comment_id":131492398,"body_markdown":"@Woody you need to be more specific. You are being so vague it makes answering almost impossible. In your example you gave a simple range that can be checked with a simple if. The same can be done for every other range. If you want to check if a number is a multiple of 2 that can also be easily checked or if you want to check if a number starts or ends with a specific digit. But if the 100 numbers you want to check have absolutely no logical relation to another and are completely random then we are dealing with a whole different problem. Ask about the specific problem you are trying to solve.","body":"@Woody you need to be more specific. You are being so vague it makes answering almost impossible. In your example you gave a simple range that can be checked with a simple if. The same can be done for every other range. If you want to check if a number is a multiple of 2 that can also be easily checked or if you want to check if a number starts or ends with a specific digit. But if the 100 numbers you want to check have absolutely no logical relation to another and are completely random then we are dealing with a whole different problem. Ask about the specific problem you are trying to solve."},{"owner":{"account_id":26973028,"reputation":3,"user_id":20538740,"display_name":"Woody"},"score":0,"creation_date":1668769907,"post_id":74488577,"comment_id":131492444,"body_markdown":"Thank you, my bad. Lets say they have absolutely no logical relation to another and are completely randomly. I question was already answared because I only have 1-6 but nowI want to know the next step when they are completely random  @OHGODSPIDERS","body":"Thank you, my bad. Lets say they have absolutely no logical relation to another and are completely randomly. I question was already answared because I only have 1-6 but nowI want to know the next step when they are completely random  @OHGODSPIDERS"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1668770220,"post_id":74488577,"comment_id":131492538,"body_markdown":"`Set.of(1,7,33,...,1029).contains(n)`","body":"<code>Set.of(1,7,33,...,1029).contains(n)</code>"}],"owner":{"account_id":26973028,"reputation":3,"user_id":20538740,"display_name":"Woody"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668768829,"creation_date":1668768829,"question_id":74488577,"body_markdown":"I have to check if my `int n` equals `1 or 2 or 3 or 4 or 5 or 6`\r\nIs it bad practice to do it like this:\r\n\r\n```\r\n//n = randomnumber\r\nprivate final List&lt;Integer&gt; numbers = Arrays.asList(0,1,2,3,4,5,6);\r\nif(numbers.contains(n)){\r\nreturn;\r\n}\r\n```\r\nor should I do a switch?\r\n\r\n\r\n```\r\nswitch(n){\r\n\r\ncase 1:\r\n     return;\r\nbreak;\r\n\r\n\r\ncase 2:\r\n     return;\r\nbreak;\r\n//...\r\ncase 6:\r\n     return;\r\nbreak;\r\n}\r\n```\r\n\r\n\r\n\r\nI could also do if statmements but I guess I dont have to","title":"Bad practice when I want to check like this if an int is this number?","body":"<p>I have to check if my <code>int n</code> equals <code>1 or 2 or 3 or 4 or 5 or 6</code>\nIs it bad practice to do it like this:</p>\n<pre><code>//n = randomnumber\nprivate final List&lt;Integer&gt; numbers = Arrays.asList(0,1,2,3,4,5,6);\nif(numbers.contains(n)){\nreturn;\n}\n</code></pre>\n<p>or should I do a switch?</p>\n<pre><code>switch(n){\n\ncase 1:\n     return;\nbreak;\n\n\ncase 2:\n     return;\nbreak;\n//...\ncase 6:\n     return;\nbreak;\n}\n</code></pre>\n<p>I could also do if statmements but I guess I dont have to</p>\n"},{"tags":["java","maven","swing","netbeans"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1668763134,"post_id":74487310,"comment_id":131490093,"body_markdown":"java.lang.NoSuchMethodException: com.mycompany.mma.CustomTable.&lt;init&gt;()","body":"java.lang.NoSuchMethodException: com.mycompany.mma.CustomTable.&lt;init&gt;()"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1668767286,"post_id":74487310,"comment_id":131491555,"body_markdown":"Since you provided a non-default constructor for your `CustomTable` class, the compiler did not implicitly declare a default (no args) constructor on your behalf. See [section 8.8.9 Default Constructor](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.9) of the Java Language Specification. That resulted in the `newInstance()` call (shown at the bottom of your stack trace) failing with a `NoSuchMethodException` because `CustomTable()` does not exist. Consider providing an answer to your own question once you understand the problem.","body":"Since you provided a non-default constructor for your <code>CustomTable</code> class, the compiler did not implicitly declare a default (no args) constructor on your behalf. See <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.9\" rel=\"nofollow noreferrer\">section 8.8.9 Default Constructor</a> of the Java Language Specification. That resulted in the <code>newInstance()</code> call (shown at the bottom of your stack trace) failing with a <code>NoSuchMethodException</code> because <code>CustomTable()</code> does not exist. Consider providing an answer to your own question once you understand the problem."},{"owner":{"account_id":26704667,"reputation":31,"user_id":20311095,"display_name":"Lemon juice"},"score":0,"creation_date":1668767635,"post_id":74487310,"comment_id":131491676,"body_markdown":"@skomisa Thank you very Much for the quick and straight to the point answer adding a Default Constructor fixed the issue","body":"@skomisa Thank you very Much for the quick and straight to the point answer adding a Default Constructor fixed the issue"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1668767946,"post_id":74487310,"comment_id":131491784,"body_markdown":"@Lemonjuice That&#39;s good. Now consider writing an answer to your own question, and accepting it. Answered questions are always more helpful to the community.","body":"@Lemonjuice That&#39;s good. Now consider writing an answer to your own question, and accepting it. Answered questions are always more helpful to the community."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1668792276,"post_id":74487310,"comment_id":131500255,"body_markdown":"O/T: Two misguided people voting to close this question without comment because it _&quot;Needs debugging details&quot;_ even though the question included their code and a relevant stack trace, which was all that was needed to resolve the issue?! Over zealous close voters do more harm than good on SO, and surely drive new posters away.","body":"O/T: Two misguided people voting to close this question without comment because it <i>&quot;Needs debugging details&quot;</i> even though the question included their code and a relevant stack trace, which was all that was needed to resolve the issue?! Over zealous close voters do more harm than good on SO, and surely drive new posters away."}],"answers":[{"tags":[],"owner":{"account_id":26704667,"reputation":31,"user_id":20311095,"display_name":"Lemon juice"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668768591,"creation_date":1668768591,"answer_id":74488535,"question_id":74487310,"body_markdown":"The newInstance() call failed throwing an exception (NoSuchMethodException) Because no default constructor for the custom class was found thus what i did was create a default constructor and that fixed the issue  ","title":"Invalid Component Netbeans Java Swing /Maven","body":"<p>The newInstance() call failed throwing an exception (NoSuchMethodException) Because no default constructor for the custom class was found thus what i did was create a default constructor and that fixed the issue</p>\n"}],"owner":{"account_id":26704667,"reputation":31,"user_id":20311095,"display_name":"Lemon juice"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668768591,"creation_date":1668762817,"question_id":74487310,"body_markdown":"[enter image description here](https://i.stack.imgur.com/2XUNa.jpg)\r\nMy project was working perfectly, and then somehow when I opened netbeans I was surprised to see this exception:\r\n\r\n```none\r\njava.lang.InstantiationException: com.mycompany.mma.CustomTable\r\n\tat java.base/java.lang.Class.newInstance(Class.java:678)\r\n\tat org.netbeans.modules.form.CreationFactory.createDefaultInstance(CreationFactory.java:155)\r\n\tat org.netbeans.modules.form.RADComponent.createBeanInstance(RADComponent.java:227)\r\n\tat org.netbeans.modules.form.RADComponent.initInstance(RADComponent.java:166)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:761)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:484)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:260)\r\n\tat org.netbeans.modules.form.FormEditor$2.run(FormEditor.java:327)\r\n\tat org.netbeans.modules.form.FormLAF$2.run(FormLAF.java:268)\r\n\tat org.netbeans.modules.openide.util.NbMutexEventProvider$Event.doEventAccess(NbMutexEventProvider.java:123)\r\n\tat org.netbeans.modules.openide.util.NbMutexEventProvider$Event.readAccess(NbMutexEventProvider.java:77)\r\n\tat org.netbeans.modules.openide.util.LazyMutexImplementation.readAccess(LazyMutexImplementation.java:71)\r\n\tat org.openide.util.Mutex.readAccess(Mutex.java:231)\r\n\tat org.netbeans.modules.form.FormLAF.executeWithLookAndFeel(FormLAF.java:251)\r\n\tat org.netbeans.modules.form.FormEditor.loadFormData(FormEditor.java:324)\r\n\tat org.netbeans.modules.nbform.FormEditorSupport.loadOpeningForm(FormEditorSupport.java:436)\r\n\tat org.netbeans.modules.nbform.FormDesignerTC.loadForm(FormDesignerTC.java:256)\r\n\tat org.netbeans.modules.nbform.FormDesignerTC.access$300(FormDesignerTC.java:64)\r\n\tat org.netbeans.modules.nbform.FormDesignerTC$PreLoadTask$1.run(FormDesignerTC.java:245)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat org.netbeans.core.TimableEventQueue.dispatchEvent(TimableEventQueue.java:136)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: java.lang.NoSuchMethodException: com.mycompany.mma.CustomTable.&lt;init&gt;()\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3641)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:665)\r\n\t... 37 more\r\njava.lang.InstantiationException: com.mycompany.mma.CustomTable\r\n\tat java.base/java.lang.Class.newInstance(Class.java:678)\r\n\tat org.netbeans.modules.form.CreationFactory.createDefaultInstance(CreationFactory.java:155)\r\n\tat org.netbeans.modules.form.RADComponent.createBeanInstance(RADComponent.java:227)\r\n\tat org.netbeans.modules.form.RADComponent.initInstance(RADComponent.java:166)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:761)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:484)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:260)\r\n\tat org.netbeans.modules.form.FormEditor$2.run(FormEditor.java:327)\r\n\tat org.netbeans.modules.form.FormLAF$2.run(FormLAF.java:268)\r\n\tat org.netbeans.modules.openide.util.NbMutexEventProvider$Event.doEventAccess(NbMutexEventProvider.java:123)\r\n\tat org.netbeans.modules.openide.util.NbMutexEventProvider$Event.readAccess(NbMutexEventProvider.java:77)\r\n\tat org.netbeans.modules.openide.util.LazyMutexImplementation.readAccess(LazyMutexImplementation.java:71)\r\n\tat org.openide.util.Mutex.readAccess(Mutex.java:231)\r\n\tat org.netbeans.modules.form.FormLAF.executeWithLookAndFeel(FormLAF.java:251)\r\n\tat org.netbeans.modules.form.FormEditor.loadFormData(FormEditor.java:324)\r\n\tat org.netbeans.modules.nbform.FormEditorSupport.loadOpeningForm(FormEditorSupport.java:436)\r\n\tat org.netbeans.modules.nbform.FormDesignerTC.loadForm(FormDesignerTC.java:256)\r\n\tat org.netbeans.modules.nbform.FormDesignerTC.access$300(FormDesignerTC.java:64)\r\n\tat org.netbeans.modules.nbform.FormDesignerTC$PreLoadTask$1.run(FormDesignerTC.java:245)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat org.netbeans.core.TimableEventQueue.dispatchEvent(TimableEventQueue.java:136)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: java.lang.NoSuchMethodException: com.mycompany.mma.CustomTable.&lt;init&gt;()\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3641)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:665)\r\n\t... 39 more\r\n```\r\n\r\nI created a custom table and a custom button with slide effect animation. It was working perfectly, but then this happened\r\n\r\nThis is the code for the custom table:\r\n\r\n```\r\nimport java.awt.Color;\r\nimport static java.awt.Color.black;\r\nimport static java.awt.Color.red;\r\nimport java.awt.Component;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport javax.swing.JTable;\r\nimport javax.swing.border.EmptyBorder;\r\nimport javax.swing.table.DefaultTableCellRenderer;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.table.JTableHeader;\r\nimport javax.swing.table.TableCellRenderer;\r\nimport javax.swing.table.TableModel;\r\n\r\n/**\r\n *\r\n * @author Haythem\r\n */\r\npublic class CustomTable extends JTable{\r\n        \r\n    public CustomTable(int a , int b ,int c){    \r\n        getTableHeader().setDefaultRenderer(new CustomTableHeader(a,b,c));\r\n        getTableHeader().setPreferredSize(new Dimension(0,70));\r\n        setDefaultRenderer(Object.class, new CustomTableCell());\r\n        setRowHeight(45);\r\n        setBorder(null);\r\n        this.setOpaque(true);\r\n        this.setBackground(new java.awt.Color(10, 100, 10));\r\nthis.isCellEditable(-1, -1);\r\nthis.setEditingRow(-1);\r\nthis.setEditingColumn(-1);\r\nthis.setDefaultEditor(Object.class, null);\r\n\r\n        \r\n    }\r\n    \r\n   private class CustomTableHeader extends DefaultTableCellRenderer{\r\n\r\n        public CustomTableHeader(int a , int b , int c) {\r\n            setcolor(a, b, c);\r\n        }\r\n        \r\n        int l,k,m;\r\n        public void setcolor(int a , int b , int c){\r\n       this.l=a;\r\n       this.k=b;\r\n       this.m=c;\r\n        }\r\n       @Override\r\n       public Component getTableCellRendererComponent(JTable table , Object o , boolean b , boolean b1 , int i , int i2){\r\n           Component c= super.getTableCellRendererComponent(table, o, b1, b1, i, i2);\r\n           c.setBackground(new java.awt.Color(l,k,m));\r\n           c.setFont(new Font(&quot;AraAlmBon&quot;,Font.BOLD,14));\r\n           return c;\r\n       }\r\n        \r\n    }\r\n    private class CustomTableCell extends DefaultTableCellRenderer{\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n           Component c=super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column); \r\n            if(isCellSelected(row, column)){\r\n               if(row%2==0){\r\n                   c.setBackground(new java.awt.Color(33,103,153));\r\n               }\r\n               else{\r\n                    c.setBackground(new java.awt.Color(29,86,127));\r\n               }\r\n           }\r\n           else{\r\n                if(row%2==0){\r\n                    c.setBackground(new java.awt.Color(50,50,50));\r\n               }\r\n               else{\r\n                    c.setBackground(new java.awt.Color(30,30,30));\r\n               }\r\n           }\r\n           c.setForeground(new Color(200,200,200));\r\n           setBorder(new EmptyBorder(0,5,0,5));\r\n           return c;\r\n        }\r\n        \r\n    }\r\n  \r\n    private class CustomTablef extends DefaultTableCellRenderer{\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n            return super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/OverriddenMethodBody\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is the custom button code:\r\n\r\n```\r\nimport javax.swing.JButton;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.geom.Area;\r\nimport java.awt.geom.RoundRectangle2D;\r\n\r\n/**\r\n *\r\n * @author Haythem\r\n */\r\npublic class Button extends JButton{\r\n    public float getAnimate() {\r\n        return animate;\r\n    }\r\n\r\n    /**\r\n     * @param animate the animate to set\r\n     */\r\n    public void setAnimate(float animate) {\r\n        this.animate = animate;\r\n        repaint();\r\n    }\r\n    private float animate;\r\n  public Button(){\r\n      setOpaque(false);\r\n      setContentAreaFilled(false);\r\n  }\r\n    @Override\r\npublic void paint(Graphics grphcs){\r\nGraphics2D g;\r\ng=(Graphics2D)grphcs.create();\r\ng.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\r\ndouble width=getWidth();\r\ndouble height=getHeight();\r\ndouble x=animate*width-width;\r\nArea area=new Area(new RoundRectangle2D.Double(x,0,width,height,0,0));\r\ng.setColor(new java.awt.Color(0, 110, 50));\r\ng.fill(area);\r\ng.dispose();\r\n    super.paint(grphcs);\r\n}\r\n}\r\n```\r\n\r\n\r\nI tried to remove the component and try again. It worked for a while and then the issue resurfaced.","title":"Invalid Component Netbeans Java Swing /Maven","body":"<p><a href=\"https://i.stack.imgur.com/2XUNa.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nMy project was working perfectly, and then somehow when I opened netbeans I was surprised to see this exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.InstantiationException: com.mycompany.mma.CustomTable\n    at java.base/java.lang.Class.newInstance(Class.java:678)\n    at org.netbeans.modules.form.CreationFactory.createDefaultInstance(CreationFactory.java:155)\n    at org.netbeans.modules.form.RADComponent.createBeanInstance(RADComponent.java:227)\n    at org.netbeans.modules.form.RADComponent.initInstance(RADComponent.java:166)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:761)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:484)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:260)\n    at org.netbeans.modules.form.FormEditor$2.run(FormEditor.java:327)\n    at org.netbeans.modules.form.FormLAF$2.run(FormLAF.java:268)\n    at org.netbeans.modules.openide.util.NbMutexEventProvider$Event.doEventAccess(NbMutexEventProvider.java:123)\n    at org.netbeans.modules.openide.util.NbMutexEventProvider$Event.readAccess(NbMutexEventProvider.java:77)\n    at org.netbeans.modules.openide.util.LazyMutexImplementation.readAccess(LazyMutexImplementation.java:71)\n    at org.openide.util.Mutex.readAccess(Mutex.java:231)\n    at org.netbeans.modules.form.FormLAF.executeWithLookAndFeel(FormLAF.java:251)\n    at org.netbeans.modules.form.FormEditor.loadFormData(FormEditor.java:324)\n    at org.netbeans.modules.nbform.FormEditorSupport.loadOpeningForm(FormEditorSupport.java:436)\n    at org.netbeans.modules.nbform.FormDesignerTC.loadForm(FormDesignerTC.java:256)\n    at org.netbeans.modules.nbform.FormDesignerTC.access$300(FormDesignerTC.java:64)\n    at org.netbeans.modules.nbform.FormDesignerTC$PreLoadTask$1.run(FormDesignerTC.java:245)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at org.netbeans.core.TimableEventQueue.dispatchEvent(TimableEventQueue.java:136)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.NoSuchMethodException: com.mycompany.mma.CustomTable.&lt;init&gt;()\n    at java.base/java.lang.Class.getConstructor0(Class.java:3641)\n    at java.base/java.lang.Class.newInstance(Class.java:665)\n    ... 37 more\njava.lang.InstantiationException: com.mycompany.mma.CustomTable\n    at java.base/java.lang.Class.newInstance(Class.java:678)\n    at org.netbeans.modules.form.CreationFactory.createDefaultInstance(CreationFactory.java:155)\n    at org.netbeans.modules.form.RADComponent.createBeanInstance(RADComponent.java:227)\n    at org.netbeans.modules.form.RADComponent.initInstance(RADComponent.java:166)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:761)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:484)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:260)\n    at org.netbeans.modules.form.FormEditor$2.run(FormEditor.java:327)\n    at org.netbeans.modules.form.FormLAF$2.run(FormLAF.java:268)\n    at org.netbeans.modules.openide.util.NbMutexEventProvider$Event.doEventAccess(NbMutexEventProvider.java:123)\n    at org.netbeans.modules.openide.util.NbMutexEventProvider$Event.readAccess(NbMutexEventProvider.java:77)\n    at org.netbeans.modules.openide.util.LazyMutexImplementation.readAccess(LazyMutexImplementation.java:71)\n    at org.openide.util.Mutex.readAccess(Mutex.java:231)\n    at org.netbeans.modules.form.FormLAF.executeWithLookAndFeel(FormLAF.java:251)\n    at org.netbeans.modules.form.FormEditor.loadFormData(FormEditor.java:324)\n    at org.netbeans.modules.nbform.FormEditorSupport.loadOpeningForm(FormEditorSupport.java:436)\n    at org.netbeans.modules.nbform.FormDesignerTC.loadForm(FormDesignerTC.java:256)\n    at org.netbeans.modules.nbform.FormDesignerTC.access$300(FormDesignerTC.java:64)\n    at org.netbeans.modules.nbform.FormDesignerTC$PreLoadTask$1.run(FormDesignerTC.java:245)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at org.netbeans.core.TimableEventQueue.dispatchEvent(TimableEventQueue.java:136)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.NoSuchMethodException: com.mycompany.mma.CustomTable.&lt;init&gt;()\n    at java.base/java.lang.Class.getConstructor0(Class.java:3641)\n    at java.base/java.lang.Class.newInstance(Class.java:665)\n    ... 39 more\n</code></pre>\n<p>I created a custom table and a custom button with slide effect animation. It was working perfectly, but then this happened</p>\n<p>This is the code for the custom table:</p>\n<pre><code>import java.awt.Color;\nimport static java.awt.Color.black;\nimport static java.awt.Color.red;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport javax.swing.JTable;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.JTableHeader;\nimport javax.swing.table.TableCellRenderer;\nimport javax.swing.table.TableModel;\n\n/**\n *\n * @author Haythem\n */\npublic class CustomTable extends JTable{\n        \n    public CustomTable(int a , int b ,int c){    \n        getTableHeader().setDefaultRenderer(new CustomTableHeader(a,b,c));\n        getTableHeader().setPreferredSize(new Dimension(0,70));\n        setDefaultRenderer(Object.class, new CustomTableCell());\n        setRowHeight(45);\n        setBorder(null);\n        this.setOpaque(true);\n        this.setBackground(new java.awt.Color(10, 100, 10));\nthis.isCellEditable(-1, -1);\nthis.setEditingRow(-1);\nthis.setEditingColumn(-1);\nthis.setDefaultEditor(Object.class, null);\n\n        \n    }\n    \n   private class CustomTableHeader extends DefaultTableCellRenderer{\n\n        public CustomTableHeader(int a , int b , int c) {\n            setcolor(a, b, c);\n        }\n        \n        int l,k,m;\n        public void setcolor(int a , int b , int c){\n       this.l=a;\n       this.k=b;\n       this.m=c;\n        }\n       @Override\n       public Component getTableCellRendererComponent(JTable table , Object o , boolean b , boolean b1 , int i , int i2){\n           Component c= super.getTableCellRendererComponent(table, o, b1, b1, i, i2);\n           c.setBackground(new java.awt.Color(l,k,m));\n           c.setFont(new Font(&quot;AraAlmBon&quot;,Font.BOLD,14));\n           return c;\n       }\n        \n    }\n    private class CustomTableCell extends DefaultTableCellRenderer{\n\n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n           Component c=super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column); \n            if(isCellSelected(row, column)){\n               if(row%2==0){\n                   c.setBackground(new java.awt.Color(33,103,153));\n               }\n               else{\n                    c.setBackground(new java.awt.Color(29,86,127));\n               }\n           }\n           else{\n                if(row%2==0){\n                    c.setBackground(new java.awt.Color(50,50,50));\n               }\n               else{\n                    c.setBackground(new java.awt.Color(30,30,30));\n               }\n           }\n           c.setForeground(new Color(200,200,200));\n           setBorder(new EmptyBorder(0,5,0,5));\n           return c;\n        }\n        \n    }\n  \n    private class CustomTablef extends DefaultTableCellRenderer{\n\n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            return super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/OverriddenMethodBody\n        }\n    }\n}\n</code></pre>\n<p>This is the custom button code:</p>\n<pre><code>import javax.swing.JButton;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.geom.Area;\nimport java.awt.geom.RoundRectangle2D;\n\n/**\n *\n * @author Haythem\n */\npublic class Button extends JButton{\n    public float getAnimate() {\n        return animate;\n    }\n\n    /**\n     * @param animate the animate to set\n     */\n    public void setAnimate(float animate) {\n        this.animate = animate;\n        repaint();\n    }\n    private float animate;\n  public Button(){\n      setOpaque(false);\n      setContentAreaFilled(false);\n  }\n    @Override\npublic void paint(Graphics grphcs){\nGraphics2D g;\ng=(Graphics2D)grphcs.create();\ng.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\ndouble width=getWidth();\ndouble height=getHeight();\ndouble x=animate*width-width;\nArea area=new Area(new RoundRectangle2D.Double(x,0,width,height,0,0));\ng.setColor(new java.awt.Color(0, 110, 50));\ng.fill(area);\ng.dispose();\n    super.paint(grphcs);\n}\n}\n</code></pre>\n<p>I tried to remove the component and try again. It worked for a while and then the issue resurfaced.</p>\n"},{"tags":["java","spring-boot","camunda","camunda-modeler","camunda-spin"],"answers":[{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668735246,"creation_date":1668735246,"answer_id":74484029,"question_id":74472663,"body_markdown":"You need to move the code to a class implementing JavaDelegate Preferbaly this should be a Spring bean. See here: https://docs.camunda.org/get-started/spring/service-task/#invoke-a-spring-bean-from-a-bpmn-2-0-service-task\r\n\r\n    package org.camunda.bpm.getstarted.loanapproval;\r\n    \r\n    import org.camunda.bpm.engine.delegate.DelegateExecution;\r\n    import org.camunda.bpm.engine.delegate.JavaDelegate;\r\n    \r\n    @Component\r\n    public class CalculateInterestService implements JavaDelegate {\r\n    \r\n      public void execute(DelegateExecution delegate) {\r\n    \r\n        System.out.println(&quot;Spring Bean invoked.&quot;);\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nHere is a more comprehensive example, showing different ways to manage paramaters for your service in the model: https://github.com/rob2universe/flexible-delegate/blob/main/src/main/java/com/camunda/example/service/LoggerDelegate.java\r\n\r\n\r\n\r\n","title":"Camunda dependent class as a separate Service Task","body":"<p>You need to move the code to a class implementing JavaDelegate Preferbaly this should be a Spring bean. See here: <a href=\"https://docs.camunda.org/get-started/spring/service-task/#invoke-a-spring-bean-from-a-bpmn-2-0-service-task\" rel=\"nofollow noreferrer\">https://docs.camunda.org/get-started/spring/service-task/#invoke-a-spring-bean-from-a-bpmn-2-0-service-task</a></p>\n<pre><code>package org.camunda.bpm.getstarted.loanapproval;\n\nimport org.camunda.bpm.engine.delegate.DelegateExecution;\nimport org.camunda.bpm.engine.delegate.JavaDelegate;\n\n@Component\npublic class CalculateInterestService implements JavaDelegate {\n\n  public void execute(DelegateExecution delegate) {\n\n    System.out.println(&quot;Spring Bean invoked.&quot;);\n\n  }\n\n}\n</code></pre>\n<p>Here is a more comprehensive example, showing different ways to manage paramaters for your service in the model: <a href=\"https://github.com/rob2universe/flexible-delegate/blob/main/src/main/java/com/camunda/example/service/LoggerDelegate.java\" rel=\"nofollow noreferrer\">https://github.com/rob2universe/flexible-delegate/blob/main/src/main/java/com/camunda/example/service/LoggerDelegate.java</a></p>\n"}],"owner":{"account_id":26467937,"reputation":57,"user_id":20108901,"display_name":"Hello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74484029,"answer_count":1,"score":0,"last_activity_date":1668768554,"creation_date":1668675738,"question_id":74472663,"body_markdown":"I have below requiremnt,\r\n\r\n 1. http://localhost:8080/order/1 will be called.Workflow will start\r\n 2. I will validate the request.We have a separate Java class written\r\n    for this.\r\n 3. Return The response &quot;Hello World&quot; or Error messages if validation failed in second stage.Response should be returned only after completion of 2nd stage\r\n\r\nFirst workflow image:- works fine\r\nSecond Workflow Image : - But i want to to create ValidateRequest as a separate ServiceTask.How can achieve it ?\r\n\r\n\r\n\r\n\r\n\r\n    @RestController\r\n    public class MyTestRestController {\r\n    \r\n    @Autowired\r\n    private RuntimeService runtimeService;\r\n    \r\n    @Autowired\r\n    private TaskService taskService;\r\n    \r\n    @Autowired\r\n    private ValidateRequest validateRequest;\r\n    \r\n    @GetMapping(&quot;/order/{id}&quot;)\r\n    public String test(@PathVariable int id) throws Exception {\r\n    \r\n      Map&lt;String, Object&gt; controlParameters = new HashMap&lt;&gt;();\r\n    \r\n      ProcessInstance processInstance = runtimeService.startProcessInstanceByKey(&quot;hello-world-process&quot;,controlParameters);\r\n    \r\n      if (id == 1) {\r\n    \r\n      \tcontrolParameters.put(&quot;errorFlag&quot;, true);\r\n      \tcompleteTask(processInstance, controlParameters);\r\n      \tthrow new IllegalArgumentException(&quot; Illegal Argument &quot;);\r\n      }\r\n    \r\n      controlParameters.put(&quot;errorFlag&quot;, false);\r\n      completeTask(processInstance, controlParameters);\r\n    \r\n      return &quot;Hello World&quot;;\r\n    }\r\n\r\n\r\n\r\n[![This workflow works fine][1]][1]\r\n[![i want to to create ValidateRequest as a separate ServiceTask.How can achieve it ?][2]][2]\r\n\r\n\r\n    @Service\r\n    public class ValidateRequest implements JavaDelegate{\r\n    \r\n    \r\n    \r\n    @Override\r\n    public void execute(DelegateExecution exec) throws Exception {\r\n    \t// TODO Auto-generated method stub\r\n    \t int id =1;\r\n    \t\r\n    \tSystem.out.println(&quot; Starting ValidateRequest&quot;);\r\n    \t\r\n       Thread.sleep(10000);\r\n    \r\n       if(id==1)\r\n       {\r\n    \t   throw new IllegalArgumentException(&quot; Illegal Argument 2 &quot; );\r\n       }\r\n       \r\n        \r\n    \t\r\n    }\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vBrgN.png\r\n  [2]: https://i.stack.imgur.com/EXShy.png\r\n  [3]: https://i.stack.imgur.com/hcSOF.png","title":"Camunda dependent class as a separate Service Task","body":"<p>I have below requiremnt,</p>\n<ol>\n<li>http://localhost:8080/order/1 will be called.Workflow will start</li>\n<li>I will validate the request.We have a separate Java class written\nfor this.</li>\n<li>Return The response &quot;Hello World&quot; or Error messages if validation failed in second stage.Response should be returned only after completion of 2nd stage</li>\n</ol>\n<p>First workflow image:- works fine\nSecond Workflow Image : - But i want to to create ValidateRequest as a separate ServiceTask.How can achieve it ?</p>\n<pre><code>@RestController\npublic class MyTestRestController {\n\n@Autowired\nprivate RuntimeService runtimeService;\n\n@Autowired\nprivate TaskService taskService;\n\n@Autowired\nprivate ValidateRequest validateRequest;\n\n@GetMapping(&quot;/order/{id}&quot;)\npublic String test(@PathVariable int id) throws Exception {\n\n  Map&lt;String, Object&gt; controlParameters = new HashMap&lt;&gt;();\n\n  ProcessInstance processInstance = runtimeService.startProcessInstanceByKey(&quot;hello-world-process&quot;,controlParameters);\n\n  if (id == 1) {\n\n    controlParameters.put(&quot;errorFlag&quot;, true);\n    completeTask(processInstance, controlParameters);\n    throw new IllegalArgumentException(&quot; Illegal Argument &quot;);\n  }\n\n  controlParameters.put(&quot;errorFlag&quot;, false);\n  completeTask(processInstance, controlParameters);\n\n  return &quot;Hello World&quot;;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vBrgN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vBrgN.png\" alt=\"This workflow works fine\" /></a>\n<a href=\"https://i.stack.imgur.com/EXShy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EXShy.png\" alt=\"i want to to create ValidateRequest as a separate ServiceTask.How can achieve it ?\" /></a></p>\n<pre><code>@Service\npublic class ValidateRequest implements JavaDelegate{\n\n\n\n@Override\npublic void execute(DelegateExecution exec) throws Exception {\n    // TODO Auto-generated method stub\n     int id =1;\n    \n    System.out.println(&quot; Starting ValidateRequest&quot;);\n    \n   Thread.sleep(10000);\n\n   if(id==1)\n   {\n       throw new IllegalArgumentException(&quot; Illegal Argument 2 &quot; );\n   }\n   \n    \n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hcSOF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hcSOF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","session","tomcat","spring-security"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1668769699,"post_id":74488420,"comment_id":131492384,"body_markdown":"interesting. can you try this instead ? https://stackoverflow.com/a/63214800/2165146","body":"interesting. can you try this instead ? <a href=\"https://stackoverflow.com/a/63214800/2165146\">stackoverflow.com/a/63214800/2165146</a>"},{"owner":{"account_id":19899132,"reputation":91,"user_id":14579565,"display_name":"Sapsadoctor"},"score":0,"creation_date":1668789523,"post_id":74488420,"comment_id":131499293,"body_markdown":"@muhammedozbilici I&#39;ve implemented those sessions listeners and created 2 sessions. The session&#39;s timeout was set to 4 hours. In a 3 hours I sent a POST request in the first session and instatnly received the log message stating that the session was destroyed. Then I sent a GET request in another session and the 2nd session remains alive.","body":"@muhammedozbilici I&#39;ve implemented those sessions listeners and created 2 sessions. The session&#39;s timeout was set to 4 hours. In a 3 hours I sent a POST request in the first session and instatnly received the log message stating that the session was destroyed. Then I sent a GET request in another session and the 2nd session remains alive."}],"owner":{"account_id":19899132,"reputation":91,"user_id":14579565,"display_name":"Sapsadoctor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668768473,"creation_date":1668768146,"question_id":74488420,"body_markdown":"I have a Spring Boot/Spring Security application made via Java 16 and Spring Boot v2.7.5 and running on embedded Tomcat server.\r\nThe strange thing about it that I&#39;ve indicated session timeout to 4 hours using application.properties (can be found below), but **when I do POST request after e.g. 3.5 hours of inactivity the session expires** despite this setting and redirects me to login screen. Moreover, I&#39;ve done several checks to investigate this issue and I&#39;ve figured out that **if I do a GET request instead then the session remains** and then I can do any request I want without timeout.\r\n\r\n**Could you advise what can trigger such behaviour, please?** \r\n\r\nMy first thoughts were about cookies and/or CSRF token lifetime. However, looks like CSRF token has no expiration time and it remains the same all the time the session exists. The same thing is about JSESSIONID cookie behavior by default. However, I also tried to set server.servlet.session.cookie.max-age property to 4 hours and it didn&#39;t work neither.\r\n\r\nPlease note, that if I set session timeout to quite lower values like default 30 minutes, everything works as intended. Also, I&#39;ve checked session timeout internaly after server is running using RestController and calling HttpServletRequest.getSession().getMaxInactiveInterval() and the returning value was always equal to server.servlet.session.timeout value, so looks like nothing overrides this property or something.\r\n\r\nThank you for the answers in advance!\r\n\r\nPlease take a look at my application.properties document below:\r\n\r\n    spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.datasource.url=jdbc:sqlserver://uri;databaseName=DBName\r\n    spring.datasource.username=user\r\n    spring.datasource.password=pwd\r\n    \r\n    spring.datasource.hikari.connectionTimeout=400000\r\n    spring.datasource.hikari.idleTimeout=600000\r\n    spring.datasource.hikari.maxLifetime=1800000\r\n    \r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.show-sql=false\r\n    \r\n    server.servlet.session.timeout=240m\r\n    \r\n    server.error.whitelabel.enabled=true\r\n    server.error.include-message=never\r\n    server.error.include-binding-errors=never\r\n    logging.file.path=./log/\r\n    \r\n    spring.web.resources.cache.cachecontrol.no-store=true\r\n    spring.web.resources.cache.cachecontrol.must-revalidate=true\r\n    \r\n    spring.mail.host=smtp.com\r\n    spring.mail.properties.mail.smtp.ssl.trust=smtp.com\r\n    spring.mail.port=587\r\n    spring.mail.username=user@email.com\r\n    spring.mail.password=pwd\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    \r\n    server.port=443\r\n    \r\n    server.ssl.key-store-type=PKCS12\r\n    server.ssl.key-store=keystore.p12\r\n    server.ssl.key-store-password=pwd\r\n    server.ssl.key-alias=tomcat","title":"Spring Boot session expires during POST request","body":"<p>I have a Spring Boot/Spring Security application made via Java 16 and Spring Boot v2.7.5 and running on embedded Tomcat server.\nThe strange thing about it that I've indicated session timeout to 4 hours using application.properties (can be found below), but <strong>when I do POST request after e.g. 3.5 hours of inactivity the session expires</strong> despite this setting and redirects me to login screen. Moreover, I've done several checks to investigate this issue and I've figured out that <strong>if I do a GET request instead then the session remains</strong> and then I can do any request I want without timeout.</p>\n<p><strong>Could you advise what can trigger such behaviour, please?</strong></p>\n<p>My first thoughts were about cookies and/or CSRF token lifetime. However, looks like CSRF token has no expiration time and it remains the same all the time the session exists. The same thing is about JSESSIONID cookie behavior by default. However, I also tried to set server.servlet.session.cookie.max-age property to 4 hours and it didn't work neither.</p>\n<p>Please note, that if I set session timeout to quite lower values like default 30 minutes, everything works as intended. Also, I've checked session timeout internaly after server is running using RestController and calling HttpServletRequest.getSession().getMaxInactiveInterval() and the returning value was always equal to server.servlet.session.timeout value, so looks like nothing overrides this property or something.</p>\n<p>Thank you for the answers in advance!</p>\n<p>Please take a look at my application.properties document below:</p>\n<pre><code>spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.datasource.url=jdbc:sqlserver://uri;databaseName=DBName\nspring.datasource.username=user\nspring.datasource.password=pwd\n\nspring.datasource.hikari.connectionTimeout=400000\nspring.datasource.hikari.idleTimeout=600000\nspring.datasource.hikari.maxLifetime=1800000\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.show-sql=false\n\nserver.servlet.session.timeout=240m\n\nserver.error.whitelabel.enabled=true\nserver.error.include-message=never\nserver.error.include-binding-errors=never\nlogging.file.path=./log/\n\nspring.web.resources.cache.cachecontrol.no-store=true\nspring.web.resources.cache.cachecontrol.must-revalidate=true\n\nspring.mail.host=smtp.com\nspring.mail.properties.mail.smtp.ssl.trust=smtp.com\nspring.mail.port=587\nspring.mail.username=user@email.com\nspring.mail.password=pwd\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\n\nserver.port=443\n\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-store=keystore.p12\nserver.ssl.key-store-password=pwd\nserver.ssl.key-alias=tomcat\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":19428466,"reputation":36,"user_id":14209474,"display_name":"Nathan Mittelette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668767919,"creation_date":1668767919,"answer_id":74488373,"question_id":74487480,"body_markdown":"I think the problem with your code is in your Product class.\r\nIn the service you fetch all ProductEntity from the database and for each one you create a new Product object. \r\nThe problem is when you create the Product object. You call the constructor : \r\n\r\n```java\r\npublic Product(Long prodId2, String productName2, int productPrice2, String productDesc2) {\r\n        // TODO Auto-generated constructor stub;\r\n        return; \r\n    }\r\n``` \r\n\r\nIn this constructor you never assign values to attributes of Product class.\r\nYou should remove this constructor and put this one : \r\n\r\n```java \r\npublic Product(Long prodId, String productName, int productPrice, String productDesc) {\r\n        this.prodId = prodId;\r\n        this.productName = productName;\r\n        this.productPrice = productPrice;\r\n        this.productDesc = productDesc;\r\n    }\r\n```\r\n\r\nIn the constructor, you should always use this.`ATTRIBUT_NAME` to assign values and store them in the class.","title":"Get Request serving NULL values in Springboot REST API","body":"<p>I think the problem with your code is in your Product class.\nIn the service you fetch all ProductEntity from the database and for each one you create a new Product object.\nThe problem is when you create the Product object. You call the constructor :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Product(Long prodId2, String productName2, int productPrice2, String productDesc2) {\n        // TODO Auto-generated constructor stub;\n        return; \n    }\n</code></pre>\n<p>In this constructor you never assign values to attributes of Product class.\nYou should remove this constructor and put this one :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Product(Long prodId, String productName, int productPrice, String productDesc) {\n        this.prodId = prodId;\n        this.productName = productName;\n        this.productPrice = productPrice;\n        this.productDesc = productDesc;\n    }\n</code></pre>\n<p>In the constructor, you should always use this.<code>ATTRIBUT_NAME</code> to assign values and store them in the class.</p>\n"},{"tags":[],"owner":{"account_id":16659495,"reputation":318,"user_id":12039826,"display_name":"ajesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668768391,"creation_date":1668768391,"answer_id":74488485,"question_id":74487480,"body_markdown":"I think you should remove the return from the constructor.\r\nand if  you have `@Data` and `@AllArgsConstructor` Lombok annotations  you don&#39;t have to explicitly generate getters, setters and the constructor.\r\n\r\nAnd I would prefer\r\n\r\n    @Override\r\n        public List&lt;Product&gt; getAllProducts(){\r\n            \r\n            List&lt;ProductEntity&gt; productEntities =  productRepository.findAll();\r\n            \r\n            List&lt;Product&gt; products = productEntities.stream()\r\n                                           .map(Product::new)\r\n                                           .collect(Collectors.toList());\r\n            return products;\r\n        }\r\n\r\nAnd from the Product class will look like this\r\n\r\n    public Product(ProductEntity productEntity) {\r\n            this.prodId = productEntity.getProdId();\r\n            this.productName = productEntity.getProductName();\r\n            this.productPrice = productEntity.getProductPrice();\r\n            this.productDesc = productEntity.ProductDesc();\r\n       }\r\n","title":"Get Request serving NULL values in Springboot REST API","body":"<p>I think you should remove the return from the constructor.\nand if  you have <code>@Data</code> and <code>@AllArgsConstructor</code> Lombok annotations  you don't have to explicitly generate getters, setters and the constructor.</p>\n<p>And I would prefer</p>\n<pre><code>@Override\n    public List&lt;Product&gt; getAllProducts(){\n        \n        List&lt;ProductEntity&gt; productEntities =  productRepository.findAll();\n        \n        List&lt;Product&gt; products = productEntities.stream()\n                                       .map(Product::new)\n                                       .collect(Collectors.toList());\n        return products;\n    }\n</code></pre>\n<p>And from the Product class will look like this</p>\n<pre><code>public Product(ProductEntity productEntity) {\n        this.prodId = productEntity.getProdId();\n        this.productName = productEntity.getProductName();\n        this.productPrice = productEntity.getProductPrice();\n        this.productDesc = productEntity.ProductDesc();\n   }\n</code></pre>\n"}],"owner":{"account_id":26971860,"reputation":1,"user_id":20537761,"display_name":"kartikanand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668768391,"creation_date":1668763708,"question_id":74487480,"body_markdown":"I&#39;m fairly new to spring boot and Java, I&#39;ve been working on a REST API using springboot for an ecommerce project but for some reason I can&#39;t get the products from the database, my products are getting saved to the database but whenever I fetch them the fields show up as null values.[this is what I get when I use GET using Postman.](https://i.stack.imgur.com/gWlVn.png)\r\n\r\nMy controller and other files are as follows. \r\n\r\n\r\n```\r\npackage com.ecommerce.ecommerceappapi.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.ecommerce.ecommerceappapi.model.Product;\r\nimport com.ecommerce.ecommerceappapi.services.ProductService;\r\n\r\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n@RestController\r\n@RequestMapping(&quot;api/v1/&quot;)\r\npublic class ProductController {\r\n\r\n\t@Autowired\r\n\tprivate final ProductService productService;\r\n\t\r\n\tpublic ProductController(ProductService productService) {\r\n\t\tthis.productService = productService;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/products&quot;)\r\n\tpublic Product createProduct(@RequestBody Product product) {\r\n\t\treturn productService.createProduct(product);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/products&quot;)\r\n\tpublic List&lt;Product&gt; getAllProducts() {\r\n\t\treturn productService.getAllProducts();\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nEntity -&gt;\r\n\r\n```\r\npackage com.ecommerce.ecommerceappapi.entity;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.Data;\r\n\r\n@Entity\r\n@Data\r\n@Table(name=&quot;products&quot;)\r\npublic class ProductEntity {\r\n\t@Id\r\n\t@GeneratedValue(strategy= GenerationType.IDENTITY)\r\n\tprivate long prodId;\r\n\t\t\r\n\tprivate String productName;\r\n\tprivate int productPrice;\r\n\tprivate String productDesc;\r\n\tprivate String productData;\r\n\t\r\n\tpublic String getProductName() {\r\n\t\treturn productName;\r\n\t}\r\n\tpublic void setProductName(String productName) {\r\n\t\tthis.productName = productName;\r\n\t}\r\n\tpublic int getProductPrice() {\r\n\t\treturn productPrice;\r\n\t}\r\n\tpublic void setProductPrice(int productPrice) {\r\n\t\tthis.productPrice = productPrice;\r\n\t}\r\n\tpublic String getProductDesc() {\r\n\t\treturn productDesc;\r\n\t}\r\n\tpublic void setProductDesc(String productDesc) {\r\n\t\tthis.productDesc = productDesc;\r\n\t}\r\n\tpublic String getProductData() {\r\n\t\treturn productData;\r\n\t}\r\n\tpublic void setProductData(String productData) {\r\n\t\tthis.productData = productData;\r\n\t}\r\n\tpublic Long getProdId() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn prodId;\r\n\t}\r\n}\r\n\r\n```\r\nService Interface -&gt;\r\n\r\n\r\n```\r\npackage com.ecommerce.ecommerceappapi.services;\r\n\r\nimport java.util.List;\r\n\r\nimport com.ecommerce.ecommerceappapi.model.Product;\r\n\r\npublic interface ProductService {\r\n\tProduct createProduct(Product product);\r\n\tList&lt;Product&gt; getAllProducts();\r\n}\r\n\r\n```\r\n\r\nService Implementation -&gt;\r\n\r\n\r\n```\r\npackage com.ecommerce.ecommerceappapi.services;\r\n\r\n\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.ecommerce.ecommerceappapi.entity.ProductEntity;\r\nimport com.ecommerce.ecommerceappapi.model.Product;\r\nimport com.ecommerce.ecommerceappapi.repository.ProductRepository;\r\n\r\n\r\n@Service\r\npublic class ProductServiceImpl implements ProductService {\r\n\r\n\tprivate ProductRepository productRepository;\r\n\t\r\n\tpublic ProductServiceImpl(ProductRepository productRepository) {\r\n\t\tsuper();\r\n\t\tthis.productRepository = productRepository;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Product createProduct(Product product) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tProductEntity productEntity = new ProductEntity();\r\n\t\tBeanUtils.copyProperties(product, productEntity);\r\n\t\tproductRepository.save(productEntity);\r\n\t\treturn product;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic List&lt;Product&gt; getAllProducts(){\r\n\t\t\r\n\t\tList&lt;ProductEntity&gt; productEntities =  productRepository.findAll();\r\n\t\t\r\n\t\tList&lt;Product&gt; products = productEntities.stream().map(product -&gt; new Product(\r\n\t\t\t\tproduct.getProdId(), \r\n\t\t\t\tproduct.getProductName(), \r\n\t\t\t\tproduct.getProductPrice(),\r\n\t\t\t\tproduct.getProductDesc()))\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\t\r\n\t\treturn products;\r\n\t\t}\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nRepository -&gt;\r\n\r\n```\r\npackage com.ecommerce.ecommerceappapi.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.ecommerce.ecommerceappapi.entity.ProductEntity;\r\n\r\n@Repository\r\npublic interface ProductRepository extends JpaRepository&lt;ProductEntity, Long&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\nProduct -&gt;\r\n\r\n\r\n```\r\npackage com.ecommerce.ecommerceappapi.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.NoArgsConstructor;\r\n\r\n//import java.util.List;\r\nimport lombok.Data;\r\n\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Product {\r\n\tprivate long prodId;\r\n\tprivate String productName;\r\n\tprivate int productPrice;\r\n\tprivate String productDesc;\r\n\tprivate String productData;\r\n\t\r\n\r\n\t\r\n\tpublic Product(Long prodId2, String productName2, int productPrice2, String productDesc2) {\r\n\t\t// TODO Auto-generated constructor stub;\r\n\t\treturn; \r\n\t}\r\n\tpublic long getProdId() {\r\n\t\treturn prodId;\r\n\t}\r\n\tpublic void setProdId(long prodId) {\r\n\t\tthis.prodId = prodId;\r\n\t}\r\n\tpublic String getProductName() {\r\n\t\treturn productName;\r\n\t}\r\n\tpublic void setProductName(String productName) {\r\n\t\tthis.productName = productName;\r\n\t}\r\n\tpublic int getProductPrice() {\r\n\t\treturn productPrice;\r\n\t}\r\n\tpublic void setProductPrice(int productPrice) {\r\n\t\tthis.productPrice = productPrice;\r\n\t}\r\n\tpublic String getProductDesc() {\r\n\t\treturn productDesc;\r\n\t}\r\n\tpublic void setProductDesc(String productDesc) {\r\n\t\tthis.productDesc = productDesc;\r\n\t}\r\n\tpublic String getProductData() {\r\n\t\treturn productData;\r\n\t}\r\n\tpublic void setProductData(String productData) {\r\n\t\tthis.productData = productData;\r\n\t}\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\nI figure the Product class is causing the issue as the method\r\n\r\n```\r\npublic Product(Long prodId2, String productName2, int productPrice2, String productDesc2) {\r\n\t\t// TODO Auto-generated constructor stub;\r\n\t\treturn; \r\n\t}\r\n```\r\n\r\ndoes not return anything, otherwise I&#39;m totally lost as to what might be the issue here.\r\n","title":"Get Request serving NULL values in Springboot REST API","body":"<p>I'm fairly new to spring boot and Java, I've been working on a REST API using springboot for an ecommerce project but for some reason I can't get the products from the database, my products are getting saved to the database but whenever I fetch them the fields show up as null values.<a href=\"https://i.stack.imgur.com/gWlVn.png\" rel=\"nofollow noreferrer\">this is what I get when I use GET using Postman.</a></p>\n<p>My controller and other files are as follows.</p>\n<pre><code>package com.ecommerce.ecommerceappapi.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.ecommerce.ecommerceappapi.model.Product;\nimport com.ecommerce.ecommerceappapi.services.ProductService;\n\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\n@RestController\n@RequestMapping(&quot;api/v1/&quot;)\npublic class ProductController {\n\n    @Autowired\n    private final ProductService productService;\n    \n    public ProductController(ProductService productService) {\n        this.productService = productService;\n    }\n    \n    @PostMapping(&quot;/products&quot;)\n    public Product createProduct(@RequestBody Product product) {\n        return productService.createProduct(product);\n    }\n    \n    @GetMapping(&quot;/products&quot;)\n    public List&lt;Product&gt; getAllProducts() {\n        return productService.getAllProducts();\n    }\n    \n}\n\n</code></pre>\n<p>Entity -&gt;</p>\n<pre><code>package com.ecommerce.ecommerceappapi.entity;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.Data;\n\n@Entity\n@Data\n@Table(name=&quot;products&quot;)\npublic class ProductEntity {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private long prodId;\n        \n    private String productName;\n    private int productPrice;\n    private String productDesc;\n    private String productData;\n    \n    public String getProductName() {\n        return productName;\n    }\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n    public int getProductPrice() {\n        return productPrice;\n    }\n    public void setProductPrice(int productPrice) {\n        this.productPrice = productPrice;\n    }\n    public String getProductDesc() {\n        return productDesc;\n    }\n    public void setProductDesc(String productDesc) {\n        this.productDesc = productDesc;\n    }\n    public String getProductData() {\n        return productData;\n    }\n    public void setProductData(String productData) {\n        this.productData = productData;\n    }\n    public Long getProdId() {\n        // TODO Auto-generated method stub\n        return prodId;\n    }\n}\n\n</code></pre>\n<p>Service Interface -&gt;</p>\n<pre><code>package com.ecommerce.ecommerceappapi.services;\n\nimport java.util.List;\n\nimport com.ecommerce.ecommerceappapi.model.Product;\n\npublic interface ProductService {\n    Product createProduct(Product product);\n    List&lt;Product&gt; getAllProducts();\n}\n\n</code></pre>\n<p>Service Implementation -&gt;</p>\n<pre><code>package com.ecommerce.ecommerceappapi.services;\n\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Service;\n\nimport com.ecommerce.ecommerceappapi.entity.ProductEntity;\nimport com.ecommerce.ecommerceappapi.model.Product;\nimport com.ecommerce.ecommerceappapi.repository.ProductRepository;\n\n\n@Service\npublic class ProductServiceImpl implements ProductService {\n\n    private ProductRepository productRepository;\n    \n    public ProductServiceImpl(ProductRepository productRepository) {\n        super();\n        this.productRepository = productRepository;\n    }\n\n    @Override\n    public Product createProduct(Product product) {\n        // TODO Auto-generated method stub\n        ProductEntity productEntity = new ProductEntity();\n        BeanUtils.copyProperties(product, productEntity);\n        productRepository.save(productEntity);\n        return product;\n    }\n    \n    @Override\n    public List&lt;Product&gt; getAllProducts(){\n        \n        List&lt;ProductEntity&gt; productEntities =  productRepository.findAll();\n        \n        List&lt;Product&gt; products = productEntities.stream().map(product -&gt; new Product(\n                product.getProdId(), \n                product.getProductName(), \n                product.getProductPrice(),\n                product.getProductDesc()))\n                .collect(Collectors.toList());\n        \n        return products;\n        }\n\n\n}\n\n</code></pre>\n<p>Repository -&gt;</p>\n<pre><code>package com.ecommerce.ecommerceappapi.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.ecommerce.ecommerceappapi.entity.ProductEntity;\n\n@Repository\npublic interface ProductRepository extends JpaRepository&lt;ProductEntity, Long&gt; {\n\n}\n\n</code></pre>\n<p>Product -&gt;</p>\n<pre><code>package com.ecommerce.ecommerceappapi.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.NoArgsConstructor;\n\n//import java.util.List;\nimport lombok.Data;\n\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Product {\n    private long prodId;\n    private String productName;\n    private int productPrice;\n    private String productDesc;\n    private String productData;\n    \n\n    \n    public Product(Long prodId2, String productName2, int productPrice2, String productDesc2) {\n        // TODO Auto-generated constructor stub;\n        return; \n    }\n    public long getProdId() {\n        return prodId;\n    }\n    public void setProdId(long prodId) {\n        this.prodId = prodId;\n    }\n    public String getProductName() {\n        return productName;\n    }\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n    public int getProductPrice() {\n        return productPrice;\n    }\n    public void setProductPrice(int productPrice) {\n        this.productPrice = productPrice;\n    }\n    public String getProductDesc() {\n        return productDesc;\n    }\n    public void setProductDesc(String productDesc) {\n        this.productDesc = productDesc;\n    }\n    public String getProductData() {\n        return productData;\n    }\n    public void setProductData(String productData) {\n        this.productData = productData;\n    }\n    \n\n}\n\n</code></pre>\n<p>I figure the Product class is causing the issue as the method</p>\n<pre><code>public Product(Long prodId2, String productName2, int productPrice2, String productDesc2) {\n        // TODO Auto-generated constructor stub;\n        return; \n    }\n</code></pre>\n<p>does not return anything, otherwise I'm totally lost as to what might be the issue here.</p>\n"},{"tags":["java","multithreading","locking","wait","monitor"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1668678062,"post_id":74472772,"comment_id":131465890,"body_markdown":"Not the same lock - in your example you&#39;d want to invoke `wait()` (on the `this` object) since that is what the `synchronized` is locking.  And where is the notify - presumably somewhere in same class where `anzahlClients` is decremented?","body":"Not the same lock - in your example you&#39;d want to invoke <code>wait()</code> (on the <code>this</code> object) since that is what the <code>synchronized</code> is locking.  And where is the notify - presumably somewhere in same class where <code>anzahlClients</code> is decremented?"},{"owner":{"account_id":20012195,"reputation":21,"user_id":14669010,"display_name":"PaterGauting"},"score":0,"creation_date":1668768002,"post_id":74472772,"comment_id":131491805,"body_markdown":"@Gardener yes, the notify comes later. Your solution worked, thanks a lot. I didnt consider that invoking &#39;wait()&#39; on the client would apply to the lock of the client, not the lock of Server (the class where the above code is in). Thank you for clearing that up!","body":"@Gardener yes, the notify comes later. Your solution worked, thanks a lot. I didnt consider that invoking &#39;wait()&#39; on the client would apply to the lock of the client, not the lock of Server (the class where the above code is in). Thank you for clearing that up!"}],"answers":[{"tags":[],"owner":{"account_id":20012195,"reputation":21,"user_id":14669010,"display_name":"PaterGauting"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668768332,"creation_date":1668768332,"answer_id":74488472,"question_id":74472772,"body_markdown":"As @Gardener pointed out in the comments, calling `wait()` on the client doesn&#39;t work in this case, since the lock the thread would hold in that moment belongs to the Server object (the class the above code is in), not the client. That explains why the `IllegalMonitorStateException` is thrown.","title":"How can a thread attempt to call the wait() method in a monitor it doesnt own the lock of (thus throwing IllegalMonitorStateException)","body":"<p>As @Gardener pointed out in the comments, calling <code>wait()</code> on the client doesn't work in this case, since the lock the thread would hold in that moment belongs to the Server object (the class the above code is in), not the client. That explains why the <code>IllegalMonitorStateException</code> is thrown.</p>\n"}],"owner":{"account_id":20012195,"reputation":21,"user_id":14669010,"display_name":"PaterGauting"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668768332,"creation_date":1668676208,"question_id":74472772,"body_markdown":"To my understanding, the thread needs to own the lock to even enter the synchronized block with the wait() call. How is it possible that it does so without owning the lock?\r\n\r\n```\r\npublic synchronized void daten_ablegen(Client c) throws InterruptedException {\r\n        System.out.println(&quot;Client &quot; + c.ID + &quot; will Daten ablegen&quot;);\r\n\r\n        while (sicherungswunsch || (anzahlClients &gt;= maxClients)) {\r\n            System.out.println(c.ID + &quot; sleeps.&quot;);\r\n            c.wait();\r\n        }\r\n\r\n        anzahlClients++;\r\n\r\n        System.out.println(anzahlClients + &quot; Clients legen Daten ab.&quot;);\r\n    }\r\n```\r\n\r\nThe above code throws IllegalMonitorStateException when more than one thread tries to call daten_ablegen(). However I would expect a thread to either not enter the method or enter it WITH the lock acquired and then successfully go to sleep.\r\n\r\n(I can post the entire project that is my homework, I just dont want to add unecessary stuff)","title":"How can a thread attempt to call the wait() method in a monitor it doesnt own the lock of (thus throwing IllegalMonitorStateException)","body":"<p>To my understanding, the thread needs to own the lock to even enter the synchronized block with the wait() call. How is it possible that it does so without owning the lock?</p>\n<pre><code>public synchronized void daten_ablegen(Client c) throws InterruptedException {\n        System.out.println(&quot;Client &quot; + c.ID + &quot; will Daten ablegen&quot;);\n\n        while (sicherungswunsch || (anzahlClients &gt;= maxClients)) {\n            System.out.println(c.ID + &quot; sleeps.&quot;);\n            c.wait();\n        }\n\n        anzahlClients++;\n\n        System.out.println(anzahlClients + &quot; Clients legen Daten ab.&quot;);\n    }\n</code></pre>\n<p>The above code throws IllegalMonitorStateException when more than one thread tries to call daten_ablegen(). However I would expect a thread to either not enter the method or enter it WITH the lock acquired and then successfully go to sleep.</p>\n<p>(I can post the entire project that is my homework, I just dont want to add unecessary stuff)</p>\n"},{"tags":["java","validation"],"answers":[{"tags":[],"owner":{"account_id":20122112,"reputation":88,"user_id":14756421,"display_name":"Maxim Bezmen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668768097,"creation_date":1648825059,"answer_id":71708942,"question_id":71708758,"body_markdown":"For classes annotations, I use this:\r\n\r\n    @Documented\r\n    @Constraint(validatedBy = RestrictionsAreValidImpl.class)\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface RestrictionsAreValid {\r\n    \r\n        /**\r\n         * message for exceptional case.\r\n         *\r\n         * @return message\r\n         */\r\n        String message() default &quot;&quot;;\r\n    \r\n        /**\r\n         * Groups allow you to restrict the set of constraints applied during validation.\r\n         *\r\n         * @return arrays of group classes.\r\n         */\r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        /**\r\n         * Payloads can be used by clients of the Bean Validation API to assign custom payload objects to a constraint.\r\n         * This attribute is not used by the API itself.\r\n         *\r\n         * @return arrays of payload classes.\r\n         */\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n    public class RestrictionsAreValidImpl implements ConstraintValidator&lt;RestrictionsAreValid, MyDto&gt; {\r\n        @Override\r\n        public boolean isValid(MyDto myDto, ConstraintValidatorContext context) { \r\n         some code\r\n        } \r\n    }\r\n\r\nThan in DTO :\r\n\r\n    @RestrictionsAreValid\r\n    public class DTO{\r\n    }\r\n","title":"javax validation constraints annotations are ignoring during validation","body":"<p>For classes annotations, I use this:</p>\n<pre><code>@Documented\n@Constraint(validatedBy = RestrictionsAreValidImpl.class)\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface RestrictionsAreValid {\n\n    /**\n     * message for exceptional case.\n     *\n     * @return message\n     */\n    String message() default &quot;&quot;;\n\n    /**\n     * Groups allow you to restrict the set of constraints applied during validation.\n     *\n     * @return arrays of group classes.\n     */\n    Class&lt;?&gt;[] groups() default {};\n\n    /**\n     * Payloads can be used by clients of the Bean Validation API to assign custom payload objects to a constraint.\n     * This attribute is not used by the API itself.\n     *\n     * @return arrays of payload classes.\n     */\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\npublic class RestrictionsAreValidImpl implements ConstraintValidator&lt;RestrictionsAreValid, MyDto&gt; {\n    @Override\n    public boolean isValid(MyDto myDto, ConstraintValidatorContext context) { \n     some code\n    } \n}\n</code></pre>\n<p>Than in DTO :</p>\n<pre><code>@RestrictionsAreValid\npublic class DTO{\n}\n</code></pre>\n"}],"owner":{"account_id":13971674,"reputation":59,"user_id":10103160,"display_name":"KROGOT88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668768097,"creation_date":1648824319,"question_id":71708758,"body_markdown":"(It is used only in tests)\r\nI have dependencies (there are no spring or DI container)\r\n```\r\n    testCompile(&quot;javax.validation:validation-api:2.0.1.Final&quot;)\r\n    testCompile(&quot;org.hibernate.validator:hibernate-validator:6.0.13.Final&quot;)\r\n    testCompile(&quot;org.glassfish:javax.el:3.0.0&quot;)\r\n```\r\nand I can validate my data class via\r\n```\r\nValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\nValidator validator = factory.getValidator();\r\nviolations = validator.validate(myDto);\r\n```\r\nWhere myDto is\r\n```\r\n@RestrictionsAreValid\r\npublic class MyDto {    \r\n       @NotNull\r\n       @Positive\r\n       private Integer value;\r\n}\r\n```\r\nWhere\r\n```\r\n @Target(TYPE_USE)\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = RestrictionsAreValidImpl.class)\r\n    public @interface RestrictionsAreValid {    \r\n        String message() default &quot;&quot;;    \r\n        Class&lt;?&gt;[] groups() default {};    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n```\r\nWhere\r\n```\r\npublic class RestrictionsAreValidImpl implements ConstraintValidator&lt;RestrictionsAreValid, MyDto&gt; {\r\n    @Override\r\n    public boolean isValid(MyDto myDto, ConstraintValidatorContext context) { \r\n     some code\r\n    } \r\n}\r\n```\r\nin this validator all works perfect, but not any annotations `avax.validation.constraints.NotNull` or `javax.validation.constraints.Positive` on the field are working, they are simply ignored\r\n\r\nPlease any help. Resolved\r\n\r\nI am so sorry, my real case were nested dtos in each other, so only high level class validated, but not nested.\r\n```\r\n@RestrictionsAreValid\r\npublic class MyDto {    \r\n\r\n    @Valid //  this annotation solve problem, and so on deeper in stricture\r\n    private Map&lt;String, AnotherDto&gt; map;\r\n}\r\n```\r\nand it is `AnotherDto`  has annotated fields, that were not validated. When I added `@Valid` on `map` field it start work correct ","title":"javax validation constraints annotations are ignoring during validation","body":"<p>(It is used only in tests)\nI have dependencies (there are no spring or DI container)</p>\n<pre><code>    testCompile(&quot;javax.validation:validation-api:2.0.1.Final&quot;)\n    testCompile(&quot;org.hibernate.validator:hibernate-validator:6.0.13.Final&quot;)\n    testCompile(&quot;org.glassfish:javax.el:3.0.0&quot;)\n</code></pre>\n<p>and I can validate my data class via</p>\n<pre><code>ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\nValidator validator = factory.getValidator();\nviolations = validator.validate(myDto);\n</code></pre>\n<p>Where myDto is</p>\n<pre><code>@RestrictionsAreValid\npublic class MyDto {    \n       @NotNull\n       @Positive\n       private Integer value;\n}\n</code></pre>\n<p>Where</p>\n<pre><code> @Target(TYPE_USE)\n    @Retention(RUNTIME)\n    @Constraint(validatedBy = RestrictionsAreValidImpl.class)\n    public @interface RestrictionsAreValid {    \n        String message() default &quot;&quot;;    \n        Class&lt;?&gt;[] groups() default {};    \n        Class&lt;? extends Payload&gt;[] payload() default {};\n    }\n</code></pre>\n<p>Where</p>\n<pre><code>public class RestrictionsAreValidImpl implements ConstraintValidator&lt;RestrictionsAreValid, MyDto&gt; {\n    @Override\n    public boolean isValid(MyDto myDto, ConstraintValidatorContext context) { \n     some code\n    } \n}\n</code></pre>\n<p>in this validator all works perfect, but not any annotations <code>avax.validation.constraints.NotNull</code> or <code>javax.validation.constraints.Positive</code> on the field are working, they are simply ignored</p>\n<p>Please any help. Resolved</p>\n<p>I am so sorry, my real case were nested dtos in each other, so only high level class validated, but not nested.</p>\n<pre><code>@RestrictionsAreValid\npublic class MyDto {    \n\n    @Valid //  this annotation solve problem, and so on deeper in stricture\n    private Map&lt;String, AnotherDto&gt; map;\n}\n</code></pre>\n<p>and it is <code>AnotherDto</code>  has annotated fields, that were not validated. When I added <code>@Valid</code> on <code>map</code> field it start work correct</p>\n"},{"tags":["java","json","rest"],"comments":[{"owner":{"account_id":2058265,"reputation":14130,"user_id":1835470,"accept_rate":71,"display_name":"jave.web"},"score":0,"creation_date":1680776857,"post_id":74485654,"comment_id":133956834,"body_markdown":"You&#39;ve pretty much answered yourself here: `at jsonObject = (JSONObject) obj; when I pass a json array`, but I see a confusion from your side - let me clear something up - **`[]` \n IS a valid JSON** :-) it&#39;s not an object, but a valid JSON syntax :)","body":"You&#39;ve pretty much answered yourself here: <code>at jsonObject = (JSONObject) obj; when I pass a json array</code>, but I see a confusion from your side - let me clear something up - <b><code>[]</code>   IS a valid JSON</b> :-) it&#39;s not an object, but a valid JSON syntax :)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668754865,"creation_date":1668754865,"answer_id":74485965,"question_id":74485654,"body_markdown":"Your parser parses the part of JSON and probably returns a JSONArray, but you are casting it to JSONObject. Maybe you want to use something like\r\n\r\n    obj = parser.parse(new FileReader(&quot;path of json&quot;));\r\n    if (obj instanceof JSONObject) {\r\n        jsonObject = (JSONObject) obj;\r\n        String jsonString = jsonObject.toJSONString();\r\n        Map&lt;String, String&gt; body = new ObjectMapper().readValue(jsonString, HashMap.class);\r\n        response = RestAssuredExtension.PostOpsWithBody(url, body);\r\n    } else {\r\n        throw new Exception(&quot;We do not know how to handle non-objects like &quot; + obj.getClass().getName());\r\n        // replace this with list-handling code\r\n    }\r\n\r\nIf you want only one code fragment to handle both objects and lists, cast to [JsonStructure][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/json/JsonStructure.html","title":"Passing Array as a BODY in a POST request","body":"<p>Your parser parses the part of JSON and probably returns a JSONArray, but you are casting it to JSONObject. Maybe you want to use something like</p>\n<pre><code>obj = parser.parse(new FileReader(&quot;path of json&quot;));\nif (obj instanceof JSONObject) {\n    jsonObject = (JSONObject) obj;\n    String jsonString = jsonObject.toJSONString();\n    Map&lt;String, String&gt; body = new ObjectMapper().readValue(jsonString, HashMap.class);\n    response = RestAssuredExtension.PostOpsWithBody(url, body);\n} else {\n    throw new Exception(&quot;We do not know how to handle non-objects like &quot; + obj.getClass().getName());\n    // replace this with list-handling code\n}\n</code></pre>\n<p>If you want only one code fragment to handle both objects and lists, cast to <a href=\"https://docs.oracle.com/javaee/7/api/javax/json/JsonStructure.html\" rel=\"nofollow noreferrer\">JsonStructure</a>.</p>\n"},{"tags":[],"owner":{"account_id":25905376,"reputation":23,"user_id":19630533,"display_name":"Manan Girdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668767547,"creation_date":1668767547,"answer_id":74488297,"question_id":74485654,"body_markdown":"answering my own question as I found a solution\r\n\r\n    JSONArray array1 = new JSONArray();\r\n            data1.put(&quot;findingId&quot;, findingIdFinal);\r\n             data1.put(&quot;unsupressAfterDuration&quot;, &quot;1669968369043&quot;);\r\n             data1.put(&quot;developer&quot;,&quot;manan.girdhar@armorcode.io&quot;);\r\n             data1.put(&quot;kbIds&quot;,array1);\r\n             data1.put(&quot;ticketConfigurationId&quot;, jiraId);\r\n             data1.put(&quot;customFields&quot;,array1);\r\n            array.put(data1);\r\n            String jsonString = array.toString();\r\n            List&lt;Map&lt;String, String&gt;&gt; body = new ObjectMapper().readValue(jsonString, List.class);\r\n            response = RestAssuredExtension.PostOpsWithBodyWithArray(url, body);","title":"Passing Array as a BODY in a POST request","body":"<p>answering my own question as I found a solution</p>\n<pre><code>JSONArray array1 = new JSONArray();\n        data1.put(&quot;findingId&quot;, findingIdFinal);\n         data1.put(&quot;unsupressAfterDuration&quot;, &quot;1669968369043&quot;);\n         data1.put(&quot;developer&quot;,&quot;manan.girdhar@armorcode.io&quot;);\n         data1.put(&quot;kbIds&quot;,array1);\n         data1.put(&quot;ticketConfigurationId&quot;, jiraId);\n         data1.put(&quot;customFields&quot;,array1);\n        array.put(data1);\n        String jsonString = array.toString();\n        List&lt;Map&lt;String, String&gt;&gt; body = new ObjectMapper().readValue(jsonString, List.class);\n        response = RestAssuredExtension.PostOpsWithBodyWithArray(url, body);\n</code></pre>\n"}],"owner":{"account_id":25905376,"reputation":23,"user_id":19630533,"display_name":"Manan Girdhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1484,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1668767547,"creation_date":1668752787,"question_id":74485654,"body_markdown":"I am kinda new to Rest assured testing, I have been dealing with diff. json and Api&#39;s.\r\nI know how to pass a json object as body for POST request but my code gives error when I try to pass a JSON Array as body for POST request can someone suggest me how to do it.\r\n\r\nThe code I have been using for json object is \r\n\r\n     obj = parser.parse(new FileReader(&quot;path of json&quot;));\r\n            jsonObject = (JSONObject) obj;\r\n            String jsonString = jsonObject.toJSONString();\r\n            Map&lt;String, String&gt; body = new ObjectMapper().readValue(jsonString, HashMap.class);\r\n            response = RestAssuredExtension.PostOpsWithBody(url, body);\r\n\r\nThis code gives class cast exception at \r\njsonObject = (JSONObject) obj; when I pass a json array.\r\n\r\nKindly help me with the same\r\nThis is the JSON Array\r\n\r\n    [\r\n        {\r\n        &quot;findingId&quot;: &quot;20177044&quot;,\r\n        &quot;unsupressAfterDuration&quot;: 1669968369043,\r\n        &quot;developer&quot;: &quot;manan.girdhar@armorcode.io&quot;,\r\n        &quot;kbIds&quot;: [],\r\n        &quot;ticketConfigurationId&quot;: &quot;3350&quot;,\r\n        &quot;customFields&quot;: []\r\n      }\r\n    ]\r\n\r\n","title":"Passing Array as a BODY in a POST request","body":"<p>I am kinda new to Rest assured testing, I have been dealing with diff. json and Api's.\nI know how to pass a json object as body for POST request but my code gives error when I try to pass a JSON Array as body for POST request can someone suggest me how to do it.</p>\n<p>The code I have been using for json object is</p>\n<pre><code> obj = parser.parse(new FileReader(&quot;path of json&quot;));\n        jsonObject = (JSONObject) obj;\n        String jsonString = jsonObject.toJSONString();\n        Map&lt;String, String&gt; body = new ObjectMapper().readValue(jsonString, HashMap.class);\n        response = RestAssuredExtension.PostOpsWithBody(url, body);\n</code></pre>\n<p>This code gives class cast exception at\njsonObject = (JSONObject) obj; when I pass a json array.</p>\n<p>Kindly help me with the same\nThis is the JSON Array</p>\n<pre><code>[\n    {\n    &quot;findingId&quot;: &quot;20177044&quot;,\n    &quot;unsupressAfterDuration&quot;: 1669968369043,\n    &quot;developer&quot;: &quot;manan.girdhar@armorcode.io&quot;,\n    &quot;kbIds&quot;: [],\n    &quot;ticketConfigurationId&quot;: &quot;3350&quot;,\n    &quot;customFields&quot;: []\n  }\n]\n</code></pre>\n"},{"tags":["java","java-8","jwt"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668766608,"creation_date":1668766608,"answer_id":74488113,"question_id":74486730,"body_markdown":"Java `PKCS8EncodedKeySpec` requires a key in PKCS8 format (and specifically PKCS8-clear); that&#39;s why the name says PKCS8. **That&#39;s not a PKCS8-format key** so it fails.\r\n\r\nTo read the key:\r\n\r\nIf you&#39;re generating the key with OpenSSL, as per the website you link (though on the previous page), the easiest way is to convert with OpenSSL:\r\n```\r\n$ cat ecprivate-sec1\r\n-----BEGIN EC PRIVATE KEY-----\r\nMHQCAQEEIBuSmY4MFZ938j0sno1nOICb0ScfIebC1O7DXkvf6UDMoAcGBSuBBAAK\r\noUQDQgAELAWORZuUv+lpO34bVoYHv6T3Gey+GtuHFB+TH1+l0tRKfKELHcmHlDOK\r\nebiIegDVhHd6jYx2yT1nOBddjDHCVw==\r\n-----END EC PRIVATE KEY-----\r\n$ openssl pkey &lt;ecprivate-sec1 &gt;ecprivate-pkcs8\r\n$ cat ecprivate-pkcs8\r\n-----BEGIN PRIVATE KEY-----\r\nMIGEAgEAMBAGByqGSM49AgEGBSuBBAAKBG0wawIBAQQgG5KZjgwVn3fyPSyejWc4\r\ngJvRJx8h5sLU7sNeS9/pQMyhRANCAAQsBY5Fm5S/6Wk7fhtWhge/pPcZ7L4a24cU\r\nH5MfX6XS1Ep8oQsdyYeUM4p5uIh6ANWEd3qNjHbJPWc4F12MMcJX\r\n-----END PRIVATE KEY-----\r\n```\r\n\r\nIf you have an ancient (0.9.x) version of OpenSSL, instead do `openssl pkcs8 -topk8 -nocrypt`. \r\n\r\nThat value, with the BEGIN/END lines removed and de-base64&#39;ed, will be accepted by Java.\r\n\r\nOr OpenSSL can generate this format directly; instead of `ecparam -name secp256k1 -genkey -noout ...` use:\r\n```sh\r\nopenssl genpkey -algorithm ec -pkeyopt ec_paramgen_curve:secp256k1 &gt;ecprivate-pkcs8\r\n# but see below\r\n```\r\n(Also you can use _either_ `ec -pubout` or `pkey -pubout` to get the public key, and the format OpenSSL uses for public key _is_, after de-PEM-ing, the &#39;X.509&#39; format Java wants.)\r\n\r\nAlternatively, if BouncyCastle is available _including_ bcpkix, _that_ can handle the &#39;traditional&#39; SEC1/rfc5915 format _in PEM_ directly. With your above EC_PRIVATE_KEY_STR value just do:\r\n```Java\r\nPrivateKey privkey = new JcaPEMKeyConverter().getKeyPair (\r\n    (PEMKeyPair) new PEMParser(new StringReader(EC_PRIVATE_KEY_STR)).readObject() \r\n    ).getPrivate();\r\n```\r\n(you can declare, and cast to, `ECPrivateKey` if you want but don&#39;t need to). \r\n\r\n**But that&#39;s still wrong.** \r\n\r\nI don&#39;t if anyone did quality control on that website, but [JWS ES256 uses ECDSA with P-256](https://datatracker.ietf.org/doc/html/rfc7518#section-3.1), the curve also known as secp256r1 and prime256v1, **NOT secp256k1** which is an entirely different and wrong curve. Instead when generating with OpenSSL you should specify either `P-256` or `prime256v1`. \r\n\r\nThe example they give using command-line `openssl` to sign doesn&#39;t catch this, because OpenSSL is a general purpose tool used for many things not just JOSE/JWS, and for some (other) things secp256k1 is correct. More surprising to me, jjwt -- at least the slightly old version I have -- also doesn&#39;t catch this. Nevertheless the result does not comply to the standard and will not be reliably accepted by other systems.\r\n","title":"Generate JWT token with ECDSA private key","body":"<p>Java <code>PKCS8EncodedKeySpec</code> requires a key in PKCS8 format (and specifically PKCS8-clear); that's why the name says PKCS8. <strong>That's not a PKCS8-format key</strong> so it fails.</p>\n<p>To read the key:</p>\n<p>If you're generating the key with OpenSSL, as per the website you link (though on the previous page), the easiest way is to convert with OpenSSL:</p>\n<pre><code>$ cat ecprivate-sec1\n-----BEGIN EC PRIVATE KEY-----\nMHQCAQEEIBuSmY4MFZ938j0sno1nOICb0ScfIebC1O7DXkvf6UDMoAcGBSuBBAAK\noUQDQgAELAWORZuUv+lpO34bVoYHv6T3Gey+GtuHFB+TH1+l0tRKfKELHcmHlDOK\nebiIegDVhHd6jYx2yT1nOBddjDHCVw==\n-----END EC PRIVATE KEY-----\n$ openssl pkey &lt;ecprivate-sec1 &gt;ecprivate-pkcs8\n$ cat ecprivate-pkcs8\n-----BEGIN PRIVATE KEY-----\nMIGEAgEAMBAGByqGSM49AgEGBSuBBAAKBG0wawIBAQQgG5KZjgwVn3fyPSyejWc4\ngJvRJx8h5sLU7sNeS9/pQMyhRANCAAQsBY5Fm5S/6Wk7fhtWhge/pPcZ7L4a24cU\nH5MfX6XS1Ep8oQsdyYeUM4p5uIh6ANWEd3qNjHbJPWc4F12MMcJX\n-----END PRIVATE KEY-----\n</code></pre>\n<p>If you have an ancient (0.9.x) version of OpenSSL, instead do <code>openssl pkcs8 -topk8 -nocrypt</code>.</p>\n<p>That value, with the BEGIN/END lines removed and de-base64'ed, will be accepted by Java.</p>\n<p>Or OpenSSL can generate this format directly; instead of <code>ecparam -name secp256k1 -genkey -noout ...</code> use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>openssl genpkey -algorithm ec -pkeyopt ec_paramgen_curve:secp256k1 &gt;ecprivate-pkcs8\n# but see below\n</code></pre>\n<p>(Also you can use <em>either</em> <code>ec -pubout</code> or <code>pkey -pubout</code> to get the public key, and the format OpenSSL uses for public key <em>is</em>, after de-PEM-ing, the 'X.509' format Java wants.)</p>\n<p>Alternatively, if BouncyCastle is available <em>including</em> bcpkix, <em>that</em> can handle the 'traditional' SEC1/rfc5915 format <em>in PEM</em> directly. With your above EC_PRIVATE_KEY_STR value just do:</p>\n<pre><code>PrivateKey privkey = new JcaPEMKeyConverter().getKeyPair (\n    (PEMKeyPair) new PEMParser(new StringReader(EC_PRIVATE_KEY_STR)).readObject() \n    ).getPrivate();\n</code></pre>\n<p>(you can declare, and cast to, <code>ECPrivateKey</code> if you want but don't need to).</p>\n<p><strong>But that's still wrong.</strong></p>\n<p>I don't if anyone did quality control on that website, but <a href=\"https://datatracker.ietf.org/doc/html/rfc7518#section-3.1\" rel=\"nofollow noreferrer\">JWS ES256 uses ECDSA with P-256</a>, the curve also known as secp256r1 and prime256v1, <strong>NOT secp256k1</strong> which is an entirely different and wrong curve. Instead when generating with OpenSSL you should specify either <code>P-256</code> or <code>prime256v1</code>.</p>\n<p>The example they give using command-line <code>openssl</code> to sign doesn't catch this, because OpenSSL is a general purpose tool used for many things not just JOSE/JWS, and for some (other) things secp256k1 is correct. More surprising to me, jjwt -- at least the slightly old version I have -- also doesn't catch this. Nevertheless the result does not comply to the standard and will not be reliably accepted by other systems.</p>\n"}],"owner":{"account_id":3007802,"reputation":910,"user_id":2551923,"display_name":"divyanayan awasthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":933,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74488113,"answer_count":1,"score":1,"last_activity_date":1668767125,"creation_date":1668759560,"question_id":74486730,"body_markdown":"Trying to generate  signed JWT token  with EDCSA private jkey but getting errored out \r\n\r\nGenerate public and private key using link \r\n\r\nhttps://techdocs.akamai.com/iot-token-access-control/docs/generate-jwt-ecdsa-keys\r\n\r\n     private String doGenerateToken(Map&lt;String, Object&gt; claims, String subject)\r\n          throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n        String EC_PRIVATE_KEY_STR = &quot;-----BEGIN EC PRIVATE KEY-----\\n&quot;\r\n            + &quot;MHQCAQEEIBuSmY4MFZ938j0sno1nOICb0ScfIebC1O7DXkvf6UDMoAcGBSuBBAAK\\n&quot;\r\n            + &quot;oUQDQgAELAWORZuUv+lpO34bVoYHv6T3Gey+GtuHFB+TH1+l0tRKfKELHcmHlDOK\\n&quot;\r\n            + &quot;ebiIegDVhHd6jYx2yT1nOBddjDHCVw==\\n&quot;\r\n            + &quot;-----END EC PRIVATE KEY-----\\n&quot;;\r\n        final KeyFactory keyPairGenerator = KeyFactory.getInstance(&quot;EC&quot;); // EC is ECDSA in Java\r\n        ECPrivateKey EC_PRIVATE_KEY = (ECPrivateKey) keyPairGenerator.generatePrivate(\r\n            new PKCS8EncodedKeySpec(\r\n                Base64.decodeBase64(removeEncapsulationBoundaries(EC_PRIVATE_KEY_STR))));\r\n    \r\n        var currentDateTime = new Date(System.currentTimeMillis());\r\n        final String jwt = Jwts.builder()\r\n            .setHeaderParam(&quot;kid&quot;, &quot;any&quot;)\r\n            .signWith(SignatureAlgorithm.ES256, EC_PRIVATE_KEY)\r\n            .compact();\r\n        return jwt;\r\n      }\r\n\r\nException :\r\n\r\n    Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : version mismatch: (supported:     00, parsed:     01\r\n\r\n","title":"Generate JWT token with ECDSA private key","body":"<p>Trying to generate  signed JWT token  with EDCSA private jkey but getting errored out</p>\n<p>Generate public and private key using link</p>\n<p><a href=\"https://techdocs.akamai.com/iot-token-access-control/docs/generate-jwt-ecdsa-keys\" rel=\"nofollow noreferrer\">https://techdocs.akamai.com/iot-token-access-control/docs/generate-jwt-ecdsa-keys</a></p>\n<pre><code> private String doGenerateToken(Map&lt;String, Object&gt; claims, String subject)\n      throws NoSuchAlgorithmException, InvalidKeySpecException {\n    Security.addProvider(new BouncyCastleProvider());\n    String EC_PRIVATE_KEY_STR = &quot;-----BEGIN EC PRIVATE KEY-----\\n&quot;\n        + &quot;MHQCAQEEIBuSmY4MFZ938j0sno1nOICb0ScfIebC1O7DXkvf6UDMoAcGBSuBBAAK\\n&quot;\n        + &quot;oUQDQgAELAWORZuUv+lpO34bVoYHv6T3Gey+GtuHFB+TH1+l0tRKfKELHcmHlDOK\\n&quot;\n        + &quot;ebiIegDVhHd6jYx2yT1nOBddjDHCVw==\\n&quot;\n        + &quot;-----END EC PRIVATE KEY-----\\n&quot;;\n    final KeyFactory keyPairGenerator = KeyFactory.getInstance(&quot;EC&quot;); // EC is ECDSA in Java\n    ECPrivateKey EC_PRIVATE_KEY = (ECPrivateKey) keyPairGenerator.generatePrivate(\n        new PKCS8EncodedKeySpec(\n            Base64.decodeBase64(removeEncapsulationBoundaries(EC_PRIVATE_KEY_STR))));\n\n    var currentDateTime = new Date(System.currentTimeMillis());\n    final String jwt = Jwts.builder()\n        .setHeaderParam(&quot;kid&quot;, &quot;any&quot;)\n        .signWith(SignatureAlgorithm.ES256, EC_PRIVATE_KEY)\n        .compact();\n    return jwt;\n  }\n</code></pre>\n<p>Exception :</p>\n<pre><code>Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : version mismatch: (supported:     00, parsed:     01\n</code></pre>\n"},{"tags":["java","algorithm","sorting","quicksort"],"comments":[{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":1,"creation_date":1668764729,"post_id":74487603,"comment_id":131490674,"body_markdown":"Partition is O(n), but you&#39;ve missed an important trick in your code -- you only have to call `findMissingElement` once recursively because once you&#39;ve partitioned you can tell which &quot;half&quot; has a missing element by looking at the size of each of the partitions. For example, if 7 is missing from 1..10 and you&#39;ve partitioned with element &quot;5&quot; then you discover 4 smaller elements in the left partition (as expected; 1, 2, 3, 4), but only 4 elements larger than 5 (you&#39;d expect 5 if none were missing; 6, 7, 8, 9, 10). Thus you only need to search the right-hand partition.","body":"Partition is O(n), but you&#39;ve missed an important trick in your code -- you only have to call <code>findMissingElement</code> once recursively because once you&#39;ve partitioned you can tell which &quot;half&quot; has a missing element by looking at the size of each of the partitions. For example, if 7 is missing from 1..10 and you&#39;ve partitioned with element &quot;5&quot; then you discover 4 smaller elements in the left partition (as expected; 1, 2, 3, 4), but only 4 elements larger than 5 (you&#39;d expect 5 if none were missing; 6, 7, 8, 9, 10). Thus you only need to search the right-hand partition."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":3,"creation_date":1668764963,"post_id":74487603,"comment_id":131490745,"body_markdown":"A second thing you&#39;ve missed is that unlike regular quicksort (or quickselect), you can pick the pivot value directly without looking at any array elements. For example, if you start with 1..10, then pick the pivot 5 -- you know this will partition the array into near-halves. This insight is necessary to get &quot;O(n) at most&quot; -- or else you need a much more sophisticated pivot-picking approach to avoid O(n^2) worst-case with unlucky pivot choices.","body":"A second thing you&#39;ve missed is that unlike regular quicksort (or quickselect), you can pick the pivot value directly without looking at any array elements. For example, if you start with 1..10, then pick the pivot 5 -- you know this will partition the array into near-halves. This insight is necessary to get &quot;O(n) at most&quot; -- or else you need a much more sophisticated pivot-picking approach to avoid O(n^2) worst-case with unlucky pivot choices."},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1668766041,"post_id":74487603,"comment_id":131491103,"body_markdown":"What you implemented is not Hoare&#39;s partition, though it contains one ! At first sight, it does not have an O(N) behavior.","body":"What you implemented is not Hoare&#39;s partition, though it contains one ! At first sight, it does not have an O(N) behavior."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1668804425,"post_id":74487603,"comment_id":131503442,"body_markdown":"An aside: Java doesn&#39;t have pointers; a better name for your variables is `leftIndex` etc","body":"An aside: Java doesn&#39;t have pointers; a better name for your variables is <code>leftIndex</code> etc"}],"answers":[{"tags":[],"owner":{"display_name":"user1196549"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668766842,"creation_date":1668766842,"answer_id":74488158,"question_id":74487603,"body_markdown":"The purpose of Hoare&#39;s partition is to move the small elements to the left and the large ones to the right, and this is done with respect to a pivot value*.\r\n\r\nWe can explain it like this, given an array to be processed:\r\n\r\n- look for a large element, coming from the left**;\r\n\r\n- look for a small element, coming from the right but not passing the large element that you found;\r\n\r\n- swap them.\r\n\r\nNow you have a shorter subarray where the partitioning condition is not guaranteed yet (it is guaranteed outside), and you can recurse on it. Recursion stops when the subarray is less than two elements long.\r\n\r\n\r\n----------\r\n*Contrary to a common belief, there is no need to process the pivot element in a special way; Hoare&#39;s partition will move it naturally.\r\n\r\n**A key ingredient of the algorithm is that you must always be able to find at least one small and at least one large element. This is why non-strict comparisons to the pivot value are mandated.\r\n\r\n","title":"What is the time complexity of Hoare&#39;s partitioning of the Quick Sort?","body":"<p>The purpose of Hoare's partition is to move the small elements to the left and the large ones to the right, and this is done with respect to a pivot value*.</p>\n<p>We can explain it like this, given an array to be processed:</p>\n<ul>\n<li><p>look for a large element, coming from the left**;</p>\n</li>\n<li><p>look for a small element, coming from the right but not passing the large element that you found;</p>\n</li>\n<li><p>swap them.</p>\n</li>\n</ul>\n<p>Now you have a shorter subarray where the partitioning condition is not guaranteed yet (it is guaranteed outside), and you can recurse on it. Recursion stops when the subarray is less than two elements long.</p>\n<hr />\n<p>*Contrary to a common belief, there is no need to process the pivot element in a special way; Hoare's partition will move it naturally.</p>\n<p>**A key ingredient of the algorithm is that you must always be able to find at least one small and at least one large element. This is why non-strict comparisons to the pivot value are mandated.</p>\n"}],"owner":{"account_id":18241171,"reputation":352,"user_id":20468293,"display_name":"Baran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668766842,"creation_date":1668764260,"question_id":74487603,"body_markdown":"For the algorithms course, I am asked to find the missing first element in an array consisting of sequential elements but shuffled in O(n). For example at first, the array is ``[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]``. Now randomly choose 7 and remove it. ``[1, 2, 3, 4, 5, 6, 8, 9, 10]``. Now shuffle the array ``[5, 3, 10, 9, 1, 6, 2, 4, 8]``. Now the algorithm should return 7.\r\n\r\nBut,\r\nthere are some restrictions to solve the problem:  \r\n* Algorithm must use and modify partitioning part of the quicksort and must use recursion\r\n* Must be O(n) at most\r\n\r\nI have managed to write the code and do these operations but I am not sure if I satisfied the conditions. I&#39;ve implemented the partitioning part as [Coding with John&#39;s video](https://www.youtube.com/watch?v=h8eyY7dIiN4&amp;t=634) does. But I failed to determine the time complexity of my code. \r\n\r\n````java\r\nstatic int findMissingElement(int[] array, int lowIndex, int highIndex) {\r\n\r\n        if (lowIndex &gt;= highIndex) {\r\n            return -1;\r\n        }\r\n\r\n        int pivot = array[highIndex];\r\n\r\n        int leftPointer = lowIndex;\r\n        int rightPointer = highIndex;\r\n\r\n        while (leftPointer &lt; rightPointer) {\r\n\r\n            while (array[leftPointer] &lt;= pivot &amp;&amp; leftPointer &lt; rightPointer) {\r\n                leftPointer++;\r\n            }\r\n\r\n            while (array[rightPointer] &gt;= pivot &amp;&amp; leftPointer &lt; rightPointer) {\r\n                rightPointer--;\r\n            }\r\n\r\n            swap(array, leftPointer, rightPointer);\r\n        }\r\n\r\n        // left pointer and right pointers are met. So swap the pivot with pointing\r\n        // element.\r\n        swap(array, leftPointer, highIndex);\r\n\r\n        if (leftPointer + 1 != array[leftPointer]) {\r\n            return leftPointer + 1;\r\n        }\r\n\r\n        int leftResult = findMissingElement(array, lowIndex, leftPointer - 1);\r\n\r\n        if (leftResult != -1) {\r\n            return leftResult;\r\n        }\r\n\r\n        int rightResult = findMissingElement(array, leftPointer + 1, highIndex);\r\n\r\n        if (rightResult != -1) {\r\n            return rightResult;\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\n    private static void swap(int[] array, int index1, int index2) {\r\n        int temp = array[index1];\r\n        array[index1] = array[index2];\r\n        array[index2] = temp;\r\n    }\r\n````\r\n\r\nThe output is:\r\n````\r\nBefore: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\nAfter shuffling and removing one element : [5, 3, 10, 9, 1, 6, 2, 4, 8]\r\nResult: 7\r\n````\r\nas expected.","title":"What is the time complexity of Hoare&#39;s partitioning of the Quick Sort?","body":"<p>For the algorithms course, I am asked to find the missing first element in an array consisting of sequential elements but shuffled in O(n). For example at first, the array is <code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code>. Now randomly choose 7 and remove it. <code>[1, 2, 3, 4, 5, 6, 8, 9, 10]</code>. Now shuffle the array <code>[5, 3, 10, 9, 1, 6, 2, 4, 8]</code>. Now the algorithm should return 7.</p>\n<p>But,\nthere are some restrictions to solve the problem:</p>\n<ul>\n<li>Algorithm must use and modify partitioning part of the quicksort and must use recursion</li>\n<li>Must be O(n) at most</li>\n</ul>\n<p>I have managed to write the code and do these operations but I am not sure if I satisfied the conditions. I've implemented the partitioning part as <a href=\"https://www.youtube.com/watch?v=h8eyY7dIiN4&amp;t=634\" rel=\"nofollow noreferrer\">Coding with John's video</a> does. But I failed to determine the time complexity of my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int findMissingElement(int[] array, int lowIndex, int highIndex) {\n\n        if (lowIndex &gt;= highIndex) {\n            return -1;\n        }\n\n        int pivot = array[highIndex];\n\n        int leftPointer = lowIndex;\n        int rightPointer = highIndex;\n\n        while (leftPointer &lt; rightPointer) {\n\n            while (array[leftPointer] &lt;= pivot &amp;&amp; leftPointer &lt; rightPointer) {\n                leftPointer++;\n            }\n\n            while (array[rightPointer] &gt;= pivot &amp;&amp; leftPointer &lt; rightPointer) {\n                rightPointer--;\n            }\n\n            swap(array, leftPointer, rightPointer);\n        }\n\n        // left pointer and right pointers are met. So swap the pivot with pointing\n        // element.\n        swap(array, leftPointer, highIndex);\n\n        if (leftPointer + 1 != array[leftPointer]) {\n            return leftPointer + 1;\n        }\n\n        int leftResult = findMissingElement(array, lowIndex, leftPointer - 1);\n\n        if (leftResult != -1) {\n            return leftResult;\n        }\n\n        int rightResult = findMissingElement(array, leftPointer + 1, highIndex);\n\n        if (rightResult != -1) {\n            return rightResult;\n        }\n\n        return -1;\n    }\n\n    private static void swap(int[] array, int index1, int index2) {\n        int temp = array[index1];\n        array[index1] = array[index2];\n        array[index2] = temp;\n    }\n</code></pre>\n<p>The output is:</p>\n<pre><code>Before: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\nAfter shuffling and removing one element : [5, 3, 10, 9, 1, 6, 2, 4, 8]\nResult: 7\n</code></pre>\n<p>as expected.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1567515926,"post_id":57772342,"comment_id":101979767,"body_markdown":"Your test class isn&#39;t a configuration class so placing `@Bean` methods in there won&#39;t do a thing.","body":"Your test class isn&#39;t a configuration class so placing <code>@Bean</code> methods in there won&#39;t do a thing."},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":0,"creation_date":1567516229,"post_id":57772342,"comment_id":101979949,"body_markdown":"I tried to add `@Configuration` before the test class, but It doesn&#39;t work...","body":"I tried to add <code>@Configuration</code> before the test class, but It doesn&#39;t work..."},{"owner":{"account_id":7776824,"reputation":627,"user_id":5884670,"display_name":"ThreeDots"},"score":0,"creation_date":1567516438,"post_id":57772342,"comment_id":101980066,"body_markdown":"just create new configuration class (not in src, but in test folder) similar to `SomeSpringConfig` where you define your bean and then include it in `@SpringBootTest(classes = { SomeSpringConfig.class, AnotherConfig.class })`.","body":"just create new configuration class (not in src, but in test folder) similar to <code>SomeSpringConfig</code> where you define your bean and then include it in <code>@SpringBootTest(classes = { SomeSpringConfig.class, AnotherConfig.class })</code>."},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":0,"creation_date":1567516727,"post_id":57772342,"comment_id":101980218,"body_markdown":"Well it works, indeed (you can make an answer). But it seems quite too much to make a new config class especially when it is so simple to add a mocked bean. I am wrong?","body":"Well it works, indeed (you can make an answer). But it seems quite too much to make a new config class especially when it is so simple to add a mocked bean. I am wrong?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1567517427,"post_id":57772342,"comment_id":101980615,"body_markdown":"`@MockBean` is especiall for that, why would you want/need an `@Configuration` class for that?","body":"<code>@MockBean</code> is especiall for that, why would you want/need an <code>@Configuration</code> class for that?"},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":0,"creation_date":1567517798,"post_id":57772342,"comment_id":101980823,"body_markdown":"No I want to add a real bean, not a mocked one. But I find it strange that it is easier to add a mocked bean than a real one. Spring being very mature, I would expect that either there is a good and simple way to add a real bean, or otherwise that there is a good reason not to do so which explains why it is not as easy.","body":"No I want to add a real bean, not a mocked one. But I find it strange that it is easier to add a mocked bean than a real one. Spring being very mature, I would expect that either there is a good and simple way to add a real bean, or otherwise that there is a good reason not to do so which explains why it is not as easy."}],"answers":[{"tags":[],"owner":{"account_id":14770777,"reputation":219,"user_id":10667317,"display_name":"Danylo Rosiichuk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1567519251,"creation_date":1567519251,"answer_id":57773314,"question_id":57772342,"body_markdown":"Simply add the config as \r\n\r\n    @ContextHierarchy({\r\n        @ContextConfiguration(classes = SomeSpringConfig.class)\r\n    })","title":"How to add a bean in SpringBootTest","body":"<p>Simply add the config as </p>\n\n<pre><code>@ContextHierarchy({\n    @ContextConfiguration(classes = SomeSpringConfig.class)\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7776824,"reputation":627,"user_id":5884670,"display_name":"ThreeDots"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1567519958,"creation_date":1567519958,"answer_id":57773519,"question_id":57772342,"body_markdown":"Spring Test needs to know what configuration you are using (and hence where to scan for beans that it loads). To achieve what you want you have more options, the most basic ones are these two:\r\n\r\n 1. Create configuration class outside the test class that includes your bean\r\n\r\n        @Configuration\r\n        public class TestConfig {\r\n    \r\n            @Bean\r\n            public MyService monitoringService() {\r\n                return new MyService();\r\n            }\r\n        }\r\n\r\nand then add it to to test as configuration class `@SpringBootTest(classes = { SomeSpringConfig.class, TestConfig.class })`\r\n\r\nor\r\n\r\n 2. If you only need to use this configuration in this particular test, you can define it in static inner class\r\n\r\n        public class SomeSpringConfigTest {\r\n        \r\n            @Configuration\r\n            static class ContextConfiguration {\r\n        \r\n                @Bean\r\n                public MyService monitoringService() {\r\n                    return new MyService();\r\n                }\r\n            }\r\n        }\r\n\r\nthis will be automatically recognized and loaded by spring boot test","title":"How to add a bean in SpringBootTest","body":"<p>Spring Test needs to know what configuration you are using (and hence where to scan for beans that it loads). To achieve what you want you have more options, the most basic ones are these two:</p>\n\n<ol>\n<li><p>Create configuration class outside the test class that includes your bean</p>\n\n<pre><code>@Configuration\npublic class TestConfig {\n\n    @Bean\n    public MyService monitoringService() {\n        return new MyService();\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>and then add it to to test as configuration class <code>@SpringBootTest(classes = { SomeSpringConfig.class, TestConfig.class })</code></p>\n\n<p>or</p>\n\n<ol start=\"2\">\n<li><p>If you only need to use this configuration in this particular test, you can define it in static inner class</p>\n\n<pre><code>public class SomeSpringConfigTest {\n\n    @Configuration\n    static class ContextConfiguration {\n\n        @Bean\n        public MyService monitoringService() {\n            return new MyService();\n        }\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>this will be automatically recognized and loaded by spring boot test</p>\n"},{"tags":[],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668766260,"creation_date":1668765888,"answer_id":74487959,"question_id":57772342,"body_markdown":"What i am using in this cases is ```@Import```:\r\n\r\n    @DataJpaTest(showSql = false)\r\n    //tests against the real data source defined in properties\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    @Import(value = {PersistenceConfig.class, CustomDateTimeProvider.class})\r\n    class MessageRepositoryTest extends PostgresBaseTest {\r\n    ....\r\n\r\nHere i am using a pre configured &quot;test slice&quot;.\r\nIn this case a need to add my JpaAuditingConfig.\r\n\r\nBut why not just adding the other beans as you did with your ```SomeSpringConfig.class``` ?:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = { SomeSpringConfig.class, OtherBean.class })\r\n    public class SomeSpringConfigTest {\r\n    ...\r\n\r\nEverything listed in test will be injectable directly, all not declared must be added as mocks.","title":"How to add a bean in SpringBootTest","body":"<p>What i am using in this cases is <code>@Import</code>:</p>\n<pre><code>@DataJpaTest(showSql = false)\n//tests against the real data source defined in properties\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@Import(value = {PersistenceConfig.class, CustomDateTimeProvider.class})\nclass MessageRepositoryTest extends PostgresBaseTest {\n....\n</code></pre>\n<p>Here i am using a pre configured &quot;test slice&quot;.\nIn this case a need to add my JpaAuditingConfig.</p>\n<p>But why not just adding the other beans as you did with your <code>SomeSpringConfig.class</code> ?:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = { SomeSpringConfig.class, OtherBean.class })\npublic class SomeSpringConfigTest {\n...\n</code></pre>\n<p>Everything listed in test will be injectable directly, all not declared must be added as mocks.</p>\n"}],"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20466,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":57773519,"answer_count":3,"score":17,"last_activity_date":1668766260,"creation_date":1567515760,"question_id":57772342,"body_markdown":"The question seems extremely simple, but strangely enough I didn&#39;t find a solution.\r\n\r\nMy question is about adding/declaring a bean in a `SpringBootTest`, not overriding one, nor mocking one using mockito.\r\n\r\nHere is what I got when trying the simplest implementation of my real need (but it doesn&#39;t work):\r\n\r\nSome service, bean, and config:\r\n\r\n    @Value // lombok\r\n    public class MyService {\r\n        private String name;\r\n    }\r\n\r\n-----\r\n\r\n    @Value // lombok\r\n    public class MyClass {\r\n        private MyService monitoring;\r\n    }\r\n\r\n-----------\r\n    @Configuration\r\n    public class SomeSpringConfig {\r\n    \r\n        @Bean\r\n        public MyClass makeMyClass(MyService monitoring){\r\n            return new MyClass(monitoring);\r\n        }\r\n    }\r\n\r\n---------\r\n\r\nThe test:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = { SomeSpringConfig.class })\r\n    public class SomeSpringConfigTest {\r\n\r\n        private String testValue = &quot;testServiceName&quot;;\r\n    \r\n        // this bean is not used\r\n        @Bean\r\n        public MyService monitoringService(){ return new MyService(testValue); }\r\n    \r\n        // thus this bean cannot be constructed using SomeSpringConfig \r\n        @Autowired\r\n        public MyClass myClass;\r\n    \r\n        @Test\r\n        public void theTest(){\r\n            assert(myClass.getMonitoring().getName() == testValue);\r\n        }\r\n    }\r\n\r\nNow, if I replace the `@Bean public MyService monitoring(){ ... }` by `@MockBean public MyService monitoring;`, it works. I find it strange that I can easily mock a bean, but not simply provide it.\r\n\r\n =&gt; So how should I add a bean of my own for one test?\r\n\r\nEdit:\r\n\r\n - I think [ThreeDots&#39;s answer](https://stackoverflow.com/a/57773519/1206998) (create a config test class) is the general recommendation.\r\n - However, [Danylo&#39;s answer](https://stackoverflow.com/a/57773314/1206998) (use @ContextConfiguration) fit better to what I asked, i.e. add @Bean directly in the test class.","title":"How to add a bean in SpringBootTest","body":"<p>The question seems extremely simple, but strangely enough I didn't find a solution.</p>\n\n<p>My question is about adding/declaring a bean in a <code>SpringBootTest</code>, not overriding one, nor mocking one using mockito.</p>\n\n<p>Here is what I got when trying the simplest implementation of my real need (but it doesn't work):</p>\n\n<p>Some service, bean, and config:</p>\n\n<pre><code>@Value // lombok\npublic class MyService {\n    private String name;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@Value // lombok\npublic class MyClass {\n    private MyService monitoring;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@Configuration\npublic class SomeSpringConfig {\n\n    @Bean\n    public MyClass makeMyClass(MyService monitoring){\n        return new MyClass(monitoring);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>The test:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = { SomeSpringConfig.class })\npublic class SomeSpringConfigTest {\n\n    private String testValue = \"testServiceName\";\n\n    // this bean is not used\n    @Bean\n    public MyService monitoringService(){ return new MyService(testValue); }\n\n    // thus this bean cannot be constructed using SomeSpringConfig \n    @Autowired\n    public MyClass myClass;\n\n    @Test\n    public void theTest(){\n        assert(myClass.getMonitoring().getName() == testValue);\n    }\n}\n</code></pre>\n\n<p>Now, if I replace the <code>@Bean public MyService monitoring(){ ... }</code> by <code>@MockBean public MyService monitoring;</code>, it works. I find it strange that I can easily mock a bean, but not simply provide it.</p>\n\n<p>=> So how should I add a bean of my own for one test?</p>\n\n<p>Edit:</p>\n\n<ul>\n<li>I think <a href=\"https://stackoverflow.com/a/57773519/1206998\">ThreeDots's answer</a> (create a config test class) is the general recommendation.</li>\n<li>However, <a href=\"https://stackoverflow.com/a/57773314/1206998\">Danylo's answer</a> (use @ContextConfiguration) fit better to what I asked, i.e. add @Bean directly in the test class.</li>\n</ul>\n"},{"tags":["java","arrays","boolean"],"comments":[{"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"score":2,"creation_date":1322156891,"post_id":8260881,"comment_id":10166814,"body_markdown":"if you **really** need a fast way to do that then you&#39;d be better storing your flags in an *int* or a *long* (or even a *long[]*) and do the &quot;math&quot; yourself.  Then you can check up to 32 or 64 values at once.  However I doubt that that particular spot of yours would prove to be a bottleneck.","body":"if you <b>really</b> need a fast way to do that then you&#39;d be better storing your flags in an <i>int</i> or a <i>long</i> (or even a <i>long[]</i>) and do the &quot;math&quot; yourself.  Then you can check up to 32 or 64 values at once.  However I doubt that that particular spot of yours would prove to be a bottleneck."},{"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"score":0,"creation_date":1322157003,"post_id":8260881,"comment_id":10166842,"body_markdown":"@donturner Do you mean fastest as in fast to compute, or fast as in fast to write (less code)?","body":"@donturner Do you mean fastest as in fast to compute, or fast as in fast to write (less code)?"},{"owner":{"account_id":437295,"reputation":18265,"user_id":824903,"accept_rate":87,"display_name":"donturner"},"score":2,"creation_date":1322157133,"post_id":8260881,"comment_id":10166874,"body_markdown":"Many thanks for the quick responses. I meant fastest as in &#39;fastest to write&#39;, not to execute. Perhaps I should have said &#39;most elegant&#39;.","body":"Many thanks for the quick responses. I meant fastest as in &#39;fastest to write&#39;, not to execute. Perhaps I should have said &#39;most elegant&#39;."},{"owner":{"account_id":10010550,"reputation":346,"user_id":9465588,"display_name":"DGoiko"},"score":0,"creation_date":1542203265,"post_id":8260881,"comment_id":93483978,"body_markdown":"Loop and break when one doesnt. For speed, it would be better to use ints or hashmaps.","body":"Loop and break when one doesnt. For speed, it would be better to use ints or hashmaps."}],"answers":[{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":98,"is_accepted":true,"score":98,"last_activity_date":1354513959,"creation_date":1322156592,"answer_id":8260897,"question_id":8260881,"body_markdown":"    public static boolean areAllTrue(boolean[] array)\r\n    {\r\n        for(boolean b : array) if(!b) return false;\r\n        return true;\r\n    }","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<pre><code>public static boolean areAllTrue(boolean[] array)\n{\n    for(boolean b : array) if(!b) return false;\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":892917,"reputation":41413,"user_id":930847,"accept_rate":100,"display_name":"Rich O&#39;Kelly"},"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1378963112,"creation_date":1322156777,"answer_id":8260926,"question_id":8260881,"body_markdown":"It depends how many times you&#39;re going to want to find this information, if more than once:\r\n\r\n    Set&lt;Boolean&gt; flags = new HashSet&lt;Boolean&gt;(myArray);\r\n    flags.contains(false);\r\n\r\nOtherwise a short circuited loop:\r\n    \r\n    for (i = 0; i &lt; myArray.length; i++) {\r\n      if (!myArray[i]) return false;\r\n    }\r\n    return true;\r\n","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>It depends how many times you're going to want to find this information, if more than once:</p>\n\n<pre><code>Set&lt;Boolean&gt; flags = new HashSet&lt;Boolean&gt;(myArray);\nflags.contains(false);\n</code></pre>\n\n<p>Otherwise a short circuited loop:</p>\n\n<pre><code>for (i = 0; i &lt; myArray.length; i++) {\n  if (!myArray[i]) return false;\n}\nreturn true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"down_vote_count":14,"up_vote_count":9,"is_accepted":false,"score":-5,"last_activity_date":1322157886,"creation_date":1322157886,"answer_id":8261070,"question_id":8260881,"body_markdown":"OK. This is the &quot;most elegant&quot; solution I could come up with on the fly:\r\n\r\n    boolean allTrue = !Arrays.toString(myArray).contains(&quot;f&quot;);\r\n\r\nHope that helps!","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>OK. This is the \"most elegant\" solution I could come up with on the fly:</p>\n\n<pre><code>boolean allTrue = !Arrays.toString(myArray).contains(\"f\");\n</code></pre>\n\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":156587,"reputation":15475,"user_id":373962,"accept_rate":86,"display_name":"Miquel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322158900,"creation_date":1322158900,"answer_id":8261224,"question_id":8260881,"body_markdown":"This is probably not faster, and definitely not very readable. So, for the sake of colorful solutions...\r\n\r\n    int i = array.length()-1;\r\n    for(; i &gt; -1 &amp;&amp; array[i]; i--);\r\n    return i==-1","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>This is probably not faster, and definitely not very readable. So, for the sake of colorful solutions...</p>\n\n<pre><code>int i = array.length()-1;\nfor(; i &gt; -1 &amp;&amp; array[i]; i--);\nreturn i==-1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64220,"reputation":4513,"user_id":189699,"accept_rate":52,"display_name":"acorello"},"down_vote_count":6,"up_vote_count":100,"is_accepted":false,"score":94,"last_activity_date":1343139934,"creation_date":1343139934,"answer_id":11632995,"question_id":8260881,"body_markdown":"    Arrays.asList(myArray).contains(false)","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<pre><code>Arrays.asList(myArray).contains(false)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1542203073,"creation_date":1370100524,"answer_id":16874283,"question_id":8260881,"body_markdown":"I can&#39;t believe there&#39;s no [`BitSet`](http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html) solution.\r\n\r\nA `BitSet` is an abstraction over a set of bits so we don&#39;t have to use `boolean[]` for more advanced interactions anymore, because it already contains most of the needed methods. It&#39;s also pretty fast in batch operations since it internally uses `long` values to store the bits and doesn&#39;t therefore check every bit separately like we do with `boolean[]`.\r\n\r\n    BitSet myBitSet = new BitSet(10);\r\n    // fills the bitset with ten true values\r\n    myBitSet.set(0, 10);\r\n\r\nFor your particular case, I&#39;d use [`cardinality()`](http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html#cardinality%28%29):\r\n\r\n    if (myBitSet.cardinality() == myBitSet.size()) {\r\n        // do something, there are no false bits in the bitset\r\n    }\r\n\r\n---\r\n\r\nAnother alternative is using [Guava](https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/primitives/Booleans.html#contains-boolean:A-boolean-):\r\n\r\n    return Booleans.contains(myArray, true);","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>I can't believe there's no <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html\" rel=\"nofollow noreferrer\"><code>BitSet</code></a> solution.</p>\n\n<p>A <code>BitSet</code> is an abstraction over a set of bits so we don't have to use <code>boolean[]</code> for more advanced interactions anymore, because it already contains most of the needed methods. It's also pretty fast in batch operations since it internally uses <code>long</code> values to store the bits and doesn't therefore check every bit separately like we do with <code>boolean[]</code>.</p>\n\n<pre><code>BitSet myBitSet = new BitSet(10);\n// fills the bitset with ten true values\nmyBitSet.set(0, 10);\n</code></pre>\n\n<p>For your particular case, I'd use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html#cardinality%28%29\" rel=\"nofollow noreferrer\"><code>cardinality()</code></a>:</p>\n\n<pre><code>if (myBitSet.cardinality() == myBitSet.size()) {\n    // do something, there are no false bits in the bitset\n}\n</code></pre>\n\n<hr>\n\n<p>Another alternative is using <a href=\"https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/primitives/Booleans.html#contains-boolean:A-boolean-\" rel=\"nofollow noreferrer\">Guava</a>:</p>\n\n<pre><code>return Booleans.contains(myArray, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2541237,"reputation":881,"user_id":2279924,"accept_rate":77,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387119049,"creation_date":1387118684,"answer_id":20595750,"question_id":8260881,"body_markdown":"    \r\n    boolean alltrue = true;\r\n    for(int i = 0; alltrue &amp;&amp; i&lt;booleanArray.length(); i++)\r\n       alltrue &amp;= booleanArray[i];\r\n\r\nI think this looks ok and behaves well...","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<pre><code>boolean alltrue = true;\nfor(int i = 0; alltrue &amp;&amp; i&lt;booleanArray.length(); i++)\n   alltrue &amp;= booleanArray[i];\n</code></pre>\n\n<p>I think this looks ok and behaves well...</p>\n"},{"tags":[],"owner":{"account_id":3313120,"reputation":1412,"user_id":2786064,"accept_rate":83,"display_name":"Kapil Sharma"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1480002462,"creation_date":1445616312,"answer_id":33306869,"question_id":8260881,"body_markdown":"In Java 8, you could do:\r\n\r\n    boolean isAllTrue = Arrays.asList(myArray).stream().allMatch(val -&gt; val == true);\r\n\r\nOr even shorter:\r\n\r\n    boolean isAllTrue = Arrays.stream(myArray).allMatch(Boolean::valueOf);\r\n\r\n**Note:**\r\nYou need `Boolean[]` for this solution to work. Because you can&#39;t have a primitives List.","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>In Java 8, you could do:</p>\n\n<pre><code>boolean isAllTrue = Arrays.asList(myArray).stream().allMatch(val -&gt; val == true);\n</code></pre>\n\n<p>Or even shorter:</p>\n\n<pre><code>boolean isAllTrue = Arrays.stream(myArray).allMatch(Boolean::valueOf);\n</code></pre>\n\n<p><strong>Note:</strong>\nYou need <code>Boolean[]</code> for this solution to work. Because you can't have a primitives List.</p>\n"},{"tags":[],"owner":{"account_id":2970196,"reputation":7818,"user_id":2522405,"accept_rate":79,"display_name":"Huy Tower"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488791827,"creation_date":1488791827,"answer_id":42621686,"question_id":8260881,"body_markdown":"You can check all value items are true or false by compare your array with the other boolean array via `Arrays.equal` method like below example : \r\n\r\n    private boolean isCheckedAnswer(List&lt;Answer&gt; array) {\r\n        boolean[] isSelectedChecks = new boolean[array.size()];\r\n        for (int i = 0; i &lt; array.size(); i++) {\r\n            isSelectedChecks[i] = array.get(i).isChecked();\r\n        }\r\n\r\n        boolean[] isAllFalse = new boolean[array.size()];\r\n        for (int i = 0; i &lt; array.size(); i++) {\r\n            isAllFalse[i] = false;\r\n        }\r\n\r\n        return !Arrays.equals(isSelectedChecks, isAllFalse);\r\n    }","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>You can check all value items are true or false by compare your array with the other boolean array via <code>Arrays.equal</code> method like below example : </p>\n\n<pre><code>private boolean isCheckedAnswer(List&lt;Answer&gt; array) {\n    boolean[] isSelectedChecks = new boolean[array.size()];\n    for (int i = 0; i &lt; array.size(); i++) {\n        isSelectedChecks[i] = array.get(i).isChecked();\n    }\n\n    boolean[] isAllFalse = new boolean[array.size()];\n    for (int i = 0; i &lt; array.size(); i++) {\n        isAllFalse[i] = false;\n    }\n\n    return !Arrays.equals(isSelectedChecks, isAllFalse);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1512169724,"creation_date":1512169724,"answer_id":47602762,"question_id":8260881,"body_markdown":"In Java 8+, you can create an `IntStream` in the range of `0` to `myArray.length` and check that all values are `true` in the corresponding (primitive) array with something like,\r\n\r\n    return IntStream.range(0, myArray.length).allMatch(i -&gt; myArray[i]);\r\n","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>In Java 8+, you can create an <code>IntStream</code> in the range of <code>0</code> to <code>myArray.length</code> and check that all values are <code>true</code> in the corresponding (primitive) array with something like,</p>\n\n<pre><code>return IntStream.range(0, myArray.length).allMatch(i -&gt; myArray[i]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1541775711,"creation_date":1541770950,"answer_id":53226864,"question_id":8260881,"body_markdown":"That line should be sufficient:\r\n\r\n[`BooleanUtils.and(boolean... array)`][1]\r\n\r\nbut to calm the link-only purists:\r\n\r\n&gt; Performs an and on a set of booleans.\r\n\r\n[1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/BooleanUtils.html#and(boolean...)","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>That line should be sufficient:</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/BooleanUtils.html#and(boolean...)\" rel=\"noreferrer\"><code>BooleanUtils.and(boolean... array)</code></a></p>\n\n<p>but to calm the link-only purists:</p>\n\n<blockquote>\n  <p>Performs an and on a set of booleans.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1139691,"reputation":1510,"user_id":1123946,"accept_rate":61,"display_name":"Javier"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651224117,"creation_date":1651224117,"answer_id":72055679,"question_id":8260881,"body_markdown":"Kotlin:\r\nif one elemnt is false then not all are selected\r\n```kotlin\r\nreturn list.filter { isGranted -&gt; isGranted.not() }.isNotEmpty()\r\n```","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>Kotlin:\nif one elemnt is false then not all are selected</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>return list.filter { isGranted -&gt; isGranted.not() }.isNotEmpty()\n</code></pre>\n"}],"owner":{"account_id":437295,"reputation":18265,"user_id":824903,"accept_rate":87,"display_name":"donturner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177691,"favorite_count":0,"down_vote_count":1,"up_vote_count":89,"accepted_answer_id":8260897,"answer_count":12,"score":88,"last_activity_date":1668766203,"creation_date":1322156479,"question_id":8260881,"body_markdown":"I have a boolean array in java: \r\n\r\n    boolean[] myArray = new boolean[10];\r\n\r\nWhat&#39;s the most elegant way to check if all the values are true?","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>I have a boolean array in java: </p>\n\n<pre><code>boolean[] myArray = new boolean[10];\n</code></pre>\n\n<p>What's the most elegant way to check if all the values are true?</p>\n"},{"tags":["java","spring","spring-webclient","apache-httpasyncclient"],"comments":[{"owner":{"account_id":18599666,"reputation":97,"user_id":13554790,"display_name":"Ares"},"score":0,"creation_date":1689932317,"post_id":74488002,"comment_id":135286132,"body_markdown":"is it correct to use apache http client and not netty reactor http client or java 17 net.httpClient ?","body":"is it correct to use apache http client and not netty reactor http client or java 17 net.httpClient ?"},{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":0,"creation_date":1691487193,"post_id":74488002,"comment_id":135494983,"body_markdown":"@Ares Spring leaves it open which implementation to use underneath, therefore netty would be just another alternative. However I decided to use Apache.","body":"@Ares Spring leaves it open which implementation to use underneath, therefore netty would be just another alternative. However I decided to use Apache."}],"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668766058,"creation_date":1668766058,"question_id":74488002,"body_markdown":"I am trying to figure out how to cache responses based on the Cache-Control (and related) headers with Spring WebClient. I am aware that caching and a reactive approach do not go naturally hand in hand and that one should use in memory caching.\r\n\r\nI see three option that are applicable:\r\n\r\n**Option 1**:\r\nProject Reactor provides various [`cache`][1] methods that can be applied on a Mono:\r\n\r\n    return webClient.get()\r\n            .uri(&quot;/hello&quot;)\r\n            .retrieve()\r\n            .bodyToMono(HelloWorld.class)\r\n            .cache(Duration.of(3600, ChronoUnit.SECONDS))\r\n            .block();\r\nAs the caching happens after the ResponseSpec is turned into the Mono of the entity I loose all information from the headers. There is the option to use `toEntity` instead:\r\n\r\n    return webClient.get()\r\n            .uri(&quot;/hello&quot;)\r\n            .retrieve()\r\n            .toEntity(HelloWorld.class)\r\n            .cache(Duration.of(3600, ChronoUnit.SECONDS))\r\n            .block().getBody();\r\nBut I cannot figure out how to access the ResponseEntity from within the cache method. Would something like this work?\r\n\r\n    return webClient.get()\r\n            .uri(&quot;/hello&quot;)\r\n            .retrieve()\r\n            .toEntity(HelloWorld.class)\r\n            .flatMap(response -&gt;\r\n                 Mono.just(response).cache(getTtlFromHeader(response.getHeaders()))\r\n            )\r\n            .block().getBody();\r\nBased on the JavaDoc of [`cache`][1] I gather:\r\n* ttlForValue - the TTL-generating Function invoked when source is valued: Should be cached as the response\r\n* ttlForError - the TTL-generating Function invoked when source is erroring: Should not be cached\r\n* ttlForEmpty - the TTL-generating Supplier invoked when source is empty: Nothing can be cached anyway\r\n\r\nWith any of the alternatives based on the Mono I do not have a handle to reevaluate if the cached response is still valid.\r\n\r\n**Option 2**:\r\nImplement the caching functionality through a filter. This means that the cached object is the Mono of the response instead of the response itself. While I have not tried this it seems to me that is not optimal, as the Mono is resolved after the first call, and would need to be resolved even when retrieved from the cache. It is also not that clear how to handle the need to reevaluate cached data. This leaves me with the impression, that while it is possible to achieve it through a filter it would be quite a complex one.\r\n\r\n**Option 3**:\r\nHandle the caching outside of the WebClient call. As in my case all calls invoke a blocking subscriber so that the surrounding logic is non-reactive, the caching could be handled with Spring caching given that the ResponseEntity is returned instead of just the response object.\r\n\r\nI dislike this idea as the ResponseEntity escapes the WebClient call and I want to encapsulate everything that is specific to the call in there.\r\n\r\n**Option 4**:\r\nAs I am using an Apache Async client as the underlying client connector I could switch from:\r\n\r\n    private CloseableHttpAsyncClient httpClient(int maxTotalConnections, int maxConnectionsPerRoute) {\r\n        return HttpAsyncClients.custom()\r\n                .setConnectionManager(connectionManager(maxTotalConnections, maxConnectionsPerRoute))\r\n                .disableCookieManagement()\r\n                .evictExpiredConnections()\r\n                .disableRedirectHandling()\r\n                .build();\r\n    }\r\nto\r\n\r\n    private CloseableHttpAsyncClient cachableHttpClient(int maxTotalConnections, int maxConnectionsPerRoute) {\r\n        CacheConfig cacheConfig = CacheConfig.DEFAULT;\r\n        return CachingHttpAsyncClients.custom()\r\n                .setCacheConfig(cacheConfig)\r\n                .setConnectionManager(connectionManager(maxTotalConnections, maxConnectionsPerRoute))\r\n                .disableCookieManagement()\r\n                .evictExpiredConnections()\r\n                .disableRedirectHandling()    \r\n                .build();\r\n    }\r\nProbably with a bit more looking into the CacheConfig.\r\nThis seems the best solution, however verifying that it works through automated tests will be very hard.\r\n\r\n&lt;hr&gt;\r\n\r\n* Are there other options that I overlooked?\r\n* What is the preferred way to do it?\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-reactor.core.scheduler.Scheduler-","title":"HTTP response caching with Spring WebClient","body":"<p>I am trying to figure out how to cache responses based on the Cache-Control (and related) headers with Spring WebClient. I am aware that caching and a reactive approach do not go naturally hand in hand and that one should use in memory caching.</p>\n<p>I see three option that are applicable:</p>\n<p><strong>Option 1</strong>:\nProject Reactor provides various <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-reactor.core.scheduler.Scheduler-\" rel=\"nofollow noreferrer\"><code>cache</code></a> methods that can be applied on a Mono:</p>\n<pre><code>return webClient.get()\n        .uri(&quot;/hello&quot;)\n        .retrieve()\n        .bodyToMono(HelloWorld.class)\n        .cache(Duration.of(3600, ChronoUnit.SECONDS))\n        .block();\n</code></pre>\n<p>As the caching happens after the ResponseSpec is turned into the Mono of the entity I loose all information from the headers. There is the option to use <code>toEntity</code> instead:</p>\n<pre><code>return webClient.get()\n        .uri(&quot;/hello&quot;)\n        .retrieve()\n        .toEntity(HelloWorld.class)\n        .cache(Duration.of(3600, ChronoUnit.SECONDS))\n        .block().getBody();\n</code></pre>\n<p>But I cannot figure out how to access the ResponseEntity from within the cache method. Would something like this work?</p>\n<pre><code>return webClient.get()\n        .uri(&quot;/hello&quot;)\n        .retrieve()\n        .toEntity(HelloWorld.class)\n        .flatMap(response -&gt;\n             Mono.just(response).cache(getTtlFromHeader(response.getHeaders()))\n        )\n        .block().getBody();\n</code></pre>\n<p>Based on the JavaDoc of <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-reactor.core.scheduler.Scheduler-\" rel=\"nofollow noreferrer\"><code>cache</code></a> I gather:</p>\n<ul>\n<li>ttlForValue - the TTL-generating Function invoked when source is valued: Should be cached as the response</li>\n<li>ttlForError - the TTL-generating Function invoked when source is erroring: Should not be cached</li>\n<li>ttlForEmpty - the TTL-generating Supplier invoked when source is empty: Nothing can be cached anyway</li>\n</ul>\n<p>With any of the alternatives based on the Mono I do not have a handle to reevaluate if the cached response is still valid.</p>\n<p><strong>Option 2</strong>:\nImplement the caching functionality through a filter. This means that the cached object is the Mono of the response instead of the response itself. While I have not tried this it seems to me that is not optimal, as the Mono is resolved after the first call, and would need to be resolved even when retrieved from the cache. It is also not that clear how to handle the need to reevaluate cached data. This leaves me with the impression, that while it is possible to achieve it through a filter it would be quite a complex one.</p>\n<p><strong>Option 3</strong>:\nHandle the caching outside of the WebClient call. As in my case all calls invoke a blocking subscriber so that the surrounding logic is non-reactive, the caching could be handled with Spring caching given that the ResponseEntity is returned instead of just the response object.</p>\n<p>I dislike this idea as the ResponseEntity escapes the WebClient call and I want to encapsulate everything that is specific to the call in there.</p>\n<p><strong>Option 4</strong>:\nAs I am using an Apache Async client as the underlying client connector I could switch from:</p>\n<pre><code>private CloseableHttpAsyncClient httpClient(int maxTotalConnections, int maxConnectionsPerRoute) {\n    return HttpAsyncClients.custom()\n            .setConnectionManager(connectionManager(maxTotalConnections, maxConnectionsPerRoute))\n            .disableCookieManagement()\n            .evictExpiredConnections()\n            .disableRedirectHandling()\n            .build();\n}\n</code></pre>\n<p>to</p>\n<pre><code>private CloseableHttpAsyncClient cachableHttpClient(int maxTotalConnections, int maxConnectionsPerRoute) {\n    CacheConfig cacheConfig = CacheConfig.DEFAULT;\n    return CachingHttpAsyncClients.custom()\n            .setCacheConfig(cacheConfig)\n            .setConnectionManager(connectionManager(maxTotalConnections, maxConnectionsPerRoute))\n            .disableCookieManagement()\n            .evictExpiredConnections()\n            .disableRedirectHandling()    \n            .build();\n}\n</code></pre>\n<p>Probably with a bit more looking into the CacheConfig.\nThis seems the best solution, however verifying that it works through automated tests will be very hard.</p>\n<hr>\n<ul>\n<li>Are there other options that I overlooked?</li>\n<li>What is the preferred way to do it?</li>\n</ul>\n"},{"tags":["java","jakarta-ee","weblogic","connection-pooling"],"answers":[{"tags":[],"owner":{"account_id":141042,"reputation":9130,"user_id":347777,"display_name":"Viccari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361298881,"creation_date":1361298881,"answer_id":14964869,"question_id":14747922,"body_markdown":"From WebLogic help page on the administration console:  \n&gt; Leaked Connection Count  \n&gt;\n&gt; The number of leaked connections. A leaked connection is a connection that was reserved from the data source but was not returned to the data source by calling close().\n\nThere are some things that might be causing these leaks. One worth mentioning that might help you (happened to me in the past) is: check the status of the threads on your server (`Environment/Servers/[Your Server]/Monitoring/Threads`). Sometimes, a stuck thread (waiting for I/O or whatever) might cause a connection to reach WebLogic timeout before your code hits close() and so mark the connection as leaked. Anyway, if this is the case, it is generally a code issue. The time between you open a connection and close it should be minimal. The code you run between these calls should also be as minimal as possible.","title":"Leaked connection in weblogic server","body":"<p>From WebLogic help page on the administration console:</p>\n<blockquote>\n<p>Leaked Connection Count</p>\n<p>The number of leaked connections. A leaked connection is a connection that was reserved from the data source but was not returned to the data source by calling close().</p>\n</blockquote>\n<p>There are some things that might be causing these leaks. One worth mentioning that might help you (happened to me in the past) is: check the status of the threads on your server (<code>Environment/Servers/[Your Server]/Monitoring/Threads</code>). Sometimes, a stuck thread (waiting for I/O or whatever) might cause a connection to reach WebLogic timeout before your code hits close() and so mark the connection as leaked. Anyway, if this is the case, it is generally a code issue. The time between you open a connection and close it should be minimal. The code you run between these calls should also be as minimal as possible.</p>\n"},{"tags":[],"owner":{"account_id":2368638,"reputation":323,"user_id":2073814,"display_name":"rakehell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361407885,"creation_date":1361407885,"answer_id":14992780,"question_id":14747922,"body_markdown":"Usually, your connection acquisition/use code is in a try-catch block. The most commonly used solution for this problem is to add a &quot;finally&quot; clause and close the connection.","title":"Leaked connection in weblogic server","body":"<p>Usually, your connection acquisition/use code is in a try-catch block. The most commonly used solution for this problem is to add a \"finally\" clause and close the connection.</p>\n"},{"tags":[],"owner":{"account_id":5475128,"reputation":107,"user_id":4353310,"display_name":"Suresh Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668765971,"creation_date":1518774008,"answer_id":48823842,"question_id":14747922,"body_markdown":"Leaked Connection means WebLogic is unable to recover a unused connection after the idle time out is exceeded. Usually this happens when the front end users session is not closed properly. \r\n\r\nFurther read available [*here*][1]\r\n\r\n\r\n  [1]: http://blog.sysco.no/db/locking/jdbc-leak/","title":"Leaked connection in weblogic server","body":"<p>Leaked Connection means WebLogic is unable to recover a unused connection after the idle time out is exceeded. Usually this happens when the front end users session is not closed properly.</p>\n<p>Further read available <a href=\"http://blog.sysco.no/db/locking/jdbc-leak/\" rel=\"nofollow noreferrer\"><em>here</em></a></p>\n"}],"owner":{"account_id":1220613,"reputation":1242,"user_id":1187334,"accept_rate":53,"display_name":"Abhij"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14496,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1668765971,"creation_date":1360230059,"question_id":14747922,"body_markdown":"![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/EKzuU.png\r\n\r\n\r\nHi All need to know what this leaked connection count stands for?  \r\nI have closed all statement and connection object in finally block in my code.  \r\n**Is this are connections that are idle longer than max idle timeout or this is count of connections recovered by  Weblogic server which are leaked**.","title":"Leaked connection in weblogic server","body":"<p><img src=\"https://i.stack.imgur.com/EKzuU.png\" alt=\"enter image description here\"></p>\n\n<p>Hi All need to know what this leaked connection count stands for?<br>\nI have closed all statement and connection object in finally block in my code.<br>\n<strong>Is this are connections that are idle longer than max idle timeout or this is count of connections recovered by  Weblogic server which are leaked</strong>.</p>\n"},{"tags":["java","spring-boot","testing","rest-assured"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1668692145,"post_id":74474174,"comment_id":131471243,"body_markdown":"DataFormatException means a broken / corrupted PDF. Btw you can pass the byte array directly. Make sure you&#39;re using the latest version of PDFBox, which is 2.0.27. It would be interesting to compare the binary from the original PDF and the &quot;saved as empty pdf&quot;, maybe this will give a hint to what happens.","body":"DataFormatException means a broken / corrupted PDF. Btw you can pass the byte array directly. Make sure you&#39;re using the latest version of PDFBox, which is 2.0.27. It would be interesting to compare the binary from the original PDF and the &quot;saved as empty pdf&quot;, maybe this will give a hint to what happens."},{"owner":{"account_id":9710158,"reputation":541,"user_id":7202347,"accept_rate":29,"display_name":"ketrab321"},"score":0,"creation_date":1668765849,"post_id":74474174,"comment_id":131491041,"body_markdown":"Yup, pdf was corrupted because of some custom filter attached to RestAssured specification which was manipulating content.","body":"Yup, pdf was corrupted because of some custom filter attached to RestAssured specification which was manipulating content."}],"answers":[{"tags":[],"owner":{"account_id":9710158,"reputation":541,"user_id":7202347,"accept_rate":29,"display_name":"ketrab321"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668765940,"creation_date":1668765940,"answer_id":74487972,"question_id":74474174,"body_markdown":"Pdf was corrupted because of some custom filter attached to RestAssured specification which was manipulating content","title":"Extract content with RestAssured from pdf","body":"<p>Pdf was corrupted because of some custom filter attached to RestAssured specification which was manipulating content</p>\n"}],"owner":{"account_id":9710158,"reputation":541,"user_id":7202347,"accept_rate":29,"display_name":"ketrab321"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74487972,"answer_count":1,"score":0,"last_activity_date":1668765940,"creation_date":1668682319,"question_id":74474174,"body_markdown":"I have Spring Rest Controller which returns pdf file\r\n\r\n```    \r\nfun getContent(): ResponseEntity&lt;ByteArrayResource&gt; {\r\n        val content = documentService.getContent()\r\n        return ResponseEntity.ok()\r\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;${UriUtils.encode(UUID.randomUUID().toString(), StandardCharsets.UTF_8)}\\&quot;&quot;)\r\n            .header(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;)\r\n            .header(&quot;Pragma&quot;, &quot;no-cache&quot;)\r\n            .header(&quot;Expires&quot;, &quot;0&quot;)\r\n            .contentLength(fileContent.contentLength())\r\n            .contentType(MediaType.APPLICATION_PDF)\r\n            .body(fileContent)\r\n\r\n    }\r\n```\r\nThen I would like to write test with RestAssured, extract content with PDFBox and do some assertions. So far I have \r\n```\r\ndef response = given().get(&quot;url&quot;).asByteArray()\r\nPDDocument document = PDDocument.load(new ByteArrayInputStream(response))\r\nFileUtils.writeByteArrayToFile(new File(&quot;test.pdf&quot;), response)\r\n\r\ntry {\r\n  return new PDFTextStripper().getText(document)\r\n} finally {\r\n  document.close()\r\n}\r\n```\r\n\r\nbut I get an exception `java.io.IOException: java.util.zip.DataFormatException: invalid block type`. Writing it to file with `FileUtils` saves as empty pdf but file downloaded directly from controller via browser or postman is ok. Can anybody help me with this issue?","title":"Extract content with RestAssured from pdf","body":"<p>I have Spring Rest Controller which returns pdf file</p>\n<pre><code>fun getContent(): ResponseEntity&lt;ByteArrayResource&gt; {\n        val content = documentService.getContent()\n        return ResponseEntity.ok()\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;${UriUtils.encode(UUID.randomUUID().toString(), StandardCharsets.UTF_8)}\\&quot;&quot;)\n            .header(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;)\n            .header(&quot;Pragma&quot;, &quot;no-cache&quot;)\n            .header(&quot;Expires&quot;, &quot;0&quot;)\n            .contentLength(fileContent.contentLength())\n            .contentType(MediaType.APPLICATION_PDF)\n            .body(fileContent)\n\n    }\n</code></pre>\n<p>Then I would like to write test with RestAssured, extract content with PDFBox and do some assertions. So far I have</p>\n<pre><code>def response = given().get(&quot;url&quot;).asByteArray()\nPDDocument document = PDDocument.load(new ByteArrayInputStream(response))\nFileUtils.writeByteArrayToFile(new File(&quot;test.pdf&quot;), response)\n\ntry {\n  return new PDFTextStripper().getText(document)\n} finally {\n  document.close()\n}\n</code></pre>\n<p>but I get an exception <code>java.io.IOException: java.util.zip.DataFormatException: invalid block type</code>. Writing it to file with <code>FileUtils</code> saves as empty pdf but file downloaded directly from controller via browser or postman is ok. Can anybody help me with this issue?</p>\n"},{"tags":["java","http","token","java-6"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1668766395,"post_id":74487954,"comment_id":131491235,"body_markdown":"You can send the request with java, extract the token and set it in your other request. When the token expires, repeat the process. [Java - sending HTTP parameters via POST method easily](https://stackoverflow.com/questions/4205980/java-sending-http-parameters-via-post-method-easily) and [How to get response body using HttpURLConnection, when code other than 2xx is returned?](https://stackoverflow.com/questions/25011927/how-to-get-response-body-using-httpurlconnection-when-code-other-than-2xx-is-re) should help dealing with the request.","body":"You can send the request with java, extract the token and set it in your other request. When the token expires, repeat the process. <a href=\"https://stackoverflow.com/questions/4205980/java-sending-http-parameters-via-post-method-easily\">Java - sending HTTP parameters via POST method easily</a> and <a href=\"https://stackoverflow.com/questions/25011927/how-to-get-response-body-using-httpurlconnection-when-code-other-than-2xx-is-re\">How to get response body using HttpURLConnection, when code other than 2xx is returned?</a> should help dealing with the request."},{"owner":{"account_id":26932568,"reputation":1,"user_id":20538407,"display_name":"Dinu VA"},"score":0,"creation_date":1669635401,"post_id":74487954,"comment_id":131679370,"body_markdown":"I tried to use the following method wich is used in other areas of the app but I still get 401:","body":"I tried to use the following method wich is used in other areas of the app but I still get 401:"},{"owner":{"account_id":26932568,"reputation":1,"user_id":20538407,"display_name":"Dinu VA"},"score":0,"creation_date":1669718910,"post_id":74487954,"comment_id":131701385,"body_markdown":"https://stackoverflow.com/questions/74600145/401-encountered-when-generating-token-with-client-credentials-java-6-ee","body":"<a href=\"https://stackoverflow.com/questions/74600145/401-encountered-when-generating-token-with-client-credentials-java-6-ee\" title=\"401 encountered when generating token with client credentials java 6 ee\">stackoverflow.com/questions/74600145/&hellip;</a>"}],"owner":{"account_id":26932568,"reputation":1,"user_id":20538407,"display_name":"Dinu VA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668765873,"creation_date":1668765873,"question_id":74487954,"body_markdown":"I have to send a request to a rest using HttpUrlConnection but recently the provider added client credentials auth flow.\r\n\r\nI have all I need and it tried to generate the token thru postman and then set a bearer on the request but the token expires after 2 days. The project uses Java 6 EE and i can&#39;t change the version because it will be decomisioned in about a year.\r\n\r\nHow can i make my java code generate the token?","title":"Java 6 EE Client Credentials Bearer","body":"<p>I have to send a request to a rest using HttpUrlConnection but recently the provider added client credentials auth flow.</p>\n<p>I have all I need and it tried to generate the token thru postman and then set a bearer on the request but the token expires after 2 days. The project uses Java 6 EE and i can't change the version because it will be decomisioned in about a year.</p>\n<p>How can i make my java code generate the token?</p>\n"},{"tags":["java","object","inheritance","reference","parent-child"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624083314,"creation_date":1600205411,"answer_id":63910113,"question_id":63904354,"body_markdown":"Variables in Java do not follow polymorphism and overriding is only applicable to methods, not variables. Thus, you see the overriding behaviour for the method, `Sample()` but not for the variable, `i`.\r\n\r\nNote that in this case, the child class variable hides the parent class variable and the concept is known as [variable hiding][1]. \r\n\r\n**Note:** Always follow the [Java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) e.g. you should rename the method, `Sample()` to `sample()`.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3","title":"Methods with the same name and variables with same name in parent-child relation","body":"<p>Variables in Java do not follow polymorphism and overriding is only applicable to methods, not variables. Thus, you see the overriding behaviour for the method, <code>Sample()</code> but not for the variable, <code>i</code>.</p>\n<p>Note that in this case, the child class variable hides the parent class variable and the concept is known as <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3\" rel=\"nofollow noreferrer\">variable hiding</a>.</p>\n<p><strong>Note:</strong> Always follow the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a> e.g. you should rename the method, <code>Sample()</code> to <code>sample()</code>.</p>\n"}],"owner":{"account_id":19519702,"reputation":19,"user_id":14281861,"display_name":"Saynov Dias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668765613,"creation_date":1600181236,"question_id":63904354,"body_markdown":"```java\r\nclass Super {\r\n    public Integer i = 1;\r\n    void Sample() {\r\n        System.out.println(&quot;method of super class&quot;);\r\n    }\r\n}\r\n\r\npublic class Sub extends Super {\r\n    public Integer i = 1000;\r\n    void Sample() {\r\n        System.out.println(&quot;method of sub class&quot;);\r\n    }\r\n    public static void main(String args[]) {\r\n        Super obj;\r\n        obj = new Super();\r\n        obj.Sample();\r\n        System.out.println(obj.i);\r\n        obj = new Sub();\r\n        obj.Sample();\r\n        System.out.println(obj.i);\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\nmethod of superclass\r\n1\r\nmethod of subclass\r\n1\r\n```\r\n\r\nWhen the `Sample()` method is called we get consequently different outputs (method of super class/subclass)\r\n\r\nBut when the variable, `i` is printed, outputs are identical (1)\r\n\r\nAre problems the reference/object types or inheritance rules?\r\n ","title":"Methods with the same name and variables with same name in parent-child relation","body":"<pre class=\"lang-java prettyprint-override\"><code>class Super {\n    public Integer i = 1;\n    void Sample() {\n        System.out.println(&quot;method of super class&quot;);\n    }\n}\n\npublic class Sub extends Super {\n    public Integer i = 1000;\n    void Sample() {\n        System.out.println(&quot;method of sub class&quot;);\n    }\n    public static void main(String args[]) {\n        Super obj;\n        obj = new Super();\n        obj.Sample();\n        System.out.println(obj.i);\n        obj = new Sub();\n        obj.Sample();\n        System.out.println(obj.i);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>method of superclass\n1\nmethod of subclass\n1\n</code></pre>\n<p>When the <code>Sample()</code> method is called we get consequently different outputs (method of super class/subclass)</p>\n<p>But when the variable, <code>i</code> is printed, outputs are identical (1)</p>\n<p>Are problems the reference/object types or inheritance rules?</p>\n"},{"tags":["java","tomcat","war"],"comments":[{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1668761663,"post_id":74487038,"comment_id":131489616,"body_markdown":"See this, may help: [https://www.javatpoint.com/war-file](https://www.javatpoint.com/war-file)","body":"See this, may help: <a href=\"https://www.javatpoint.com/war-file\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/war-file</a>"},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":1,"creation_date":1668761882,"post_id":74487038,"comment_id":131489684,"body_markdown":"And see also this, i think your file structure does not meets recommendations. [https://en.wikipedia.org/wiki/WAR_(file_format)](https://en.wikipedia.org/wiki/WAR_(file_format)) and [https://docs.oracle.com/cd/E19199-01/816-6774-10/a_war.html](https://docs.oracle.com/cd/E19199-01/816-6774-10/a_war.html)","body":"And see also this, i think your file structure does not meets recommendations. <a href=\"https://en.wikipedia.org/wiki/WAR_(file_format)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/WAR_(file_format)</a> and <a href=\"https://docs.oracle.com/cd/E19199-01/816-6774-10/a_war.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E19199-01/816-6774-10/a_war.html</a>"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1668761979,"post_id":74487038,"comment_id":131489723,"body_markdown":"@szeak when in &quot;working against the tools&quot; mood, there is no recommended file structure :-)","body":"@szeak when in &quot;working against the tools&quot; mood, there is no recommended file structure :-)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668764886,"post_id":74487038,"comment_id":131490724,"body_markdown":"Not sure why you are avoiding build tools but a war file is really just a jar file with a particular structure, so if the contents are right, invoke the `jar` command on it.","body":"Not sure why you are avoiding build tools but a war file is really just a jar file with a particular structure, so if the contents are right, invoke the <code>jar</code> command on it."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1668766727,"post_id":74487038,"comment_id":131491373,"body_markdown":"A WAR file is a ZIP file with filename suffix .war and a specific internal structure as shown by the link szeak has given to you. So compile your project, create an empty folder, copy all needed artefacts to that folder to their specific place according to the expected file structure and then use a packer tool or the jar tool to create the WAR file out of this. Should be fairly easy.","body":"A WAR file is a ZIP file with filename suffix .war and a specific internal structure as shown by the link szeak has given to you. So compile your project, create an empty folder, copy all needed artefacts to that folder to their specific place according to the expected file structure and then use a packer tool or the jar tool to create the WAR file out of this. Should be fairly easy."},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1668812159,"post_id":74487038,"comment_id":131505080,"body_markdown":"@szeak Thanks for chiming in! Your links and details are great.","body":"@szeak Thanks for chiming in! Your links and details are great."},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1668812213,"post_id":74487038,"comment_id":131505090,"body_markdown":"@vanje Thanks for chiming in too! Your explanation makes total sense.","body":"@vanje Thanks for chiming in too! Your explanation makes total sense."},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1668812259,"post_id":74487038,"comment_id":131505097,"body_markdown":"@g00se The reason why I want to avoid a build tool is that others in the team just use it as an Eclipse project, but I am moving to VS Code.","body":"@g00se The reason why I want to avoid a build tool is that others in the team just use it as an Eclipse project, but I am moving to VS Code."}],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668765570,"creation_date":1668765382,"answer_id":74487838,"question_id":74487038,"body_markdown":"A WAR file is a archive (zip/jar) that follows a certain structure. See [here](https://www.oreilly.com/library/view/learning-java-4th/9781449372477/ch15s03.html) for more details.\r\nIf you want to create a WAR manually you will need to create the structure manually and then create an archive with the extension of `.war`.\r\n\r\nHere is a quick and dirty ant script that can create a WAR file from your structure posted on GitHub\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project&gt;\r\n    &lt;!-- Initial Cleanup --&gt;\r\n    &lt;target name=&quot;clean&quot;&gt;\r\n        &lt;delete dir=&quot;build&quot; /&gt;\r\n        &lt;delete dir=&quot;dist&quot; /&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;!-- Compile the classes and copy other files to conform to the WAR structure --&gt;\r\n    &lt;target name=&quot;compile&quot;&gt;\r\n        &lt;mkdir dir=&quot;build/WEB-INF/classes&quot; /&gt;\r\n        &lt;copy file=&quot;WebContent/index.jsp&quot; todir=&quot;build&quot; /&gt;\r\n        &lt;copydir src=&quot;WebContent/WEB-INF/&quot; dest=&quot;build/WEB-INF/&quot; /&gt;\r\n        &lt;javac srcdir=&quot;src&quot; destdir=&quot;build/WEB-INF/classes&quot; classpath=&quot;WebContent/WEB-INF/lib/javax.servlet-api-4.0.1.jar&quot; /&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;!-- Create the WAR file --&gt;    \r\n    &lt;target name=&quot;war&quot;&gt;\r\n        &lt;mkdir dir=&quot;dist&quot; /&gt;\r\n        &lt;war destfile=&quot;dist/test.war&quot; basedir=&quot;build&quot; webxml=&quot;WebContent/WEB-INF/web.xml&quot;/&gt;\r\n    &lt;/target&gt;\r\n&lt;/project&gt;\r\n\r\nSave this as `build.xml` and run `ant clean compile dist` to generate the WAR file in `dist` directory. \r\n\r\n**NOTE**: You may have to install the ant tool if you already dont have it. Also, if you want to go complete tool free - you can read the `build.xml` file and convert the steps into a &#39;batch&#39; / &#39;shell&#39; script (all the steps are self explanatory).\r\n\r\n**CONCLUSION**: Hope this helps. But I still recommend using a tool like Maven or Gradle these will come in handy when the project grows (specially when there are several libraries along with their dependencies)","title":"How to generate a WAR file for a Java project without Maven or Eclipse","body":"<p>A WAR file is a archive (zip/jar) that follows a certain structure. See <a href=\"https://www.oreilly.com/library/view/learning-java-4th/9781449372477/ch15s03.html\" rel=\"nofollow noreferrer\">here</a> for more details.\nIf you want to create a WAR manually you will need to create the structure manually and then create an archive with the extension of <code>.war</code>.</p>\n<p>Here is a quick and dirty ant script that can create a WAR file from your structure posted on GitHub\n\n\n\n\n\n\n</p>\n<pre><code>&lt;!-- Compile the classes and copy other files to conform to the WAR structure --&gt;\n&lt;target name=&quot;compile&quot;&gt;\n    &lt;mkdir dir=&quot;build/WEB-INF/classes&quot; /&gt;\n    &lt;copy file=&quot;WebContent/index.jsp&quot; todir=&quot;build&quot; /&gt;\n    &lt;copydir src=&quot;WebContent/WEB-INF/&quot; dest=&quot;build/WEB-INF/&quot; /&gt;\n    &lt;javac srcdir=&quot;src&quot; destdir=&quot;build/WEB-INF/classes&quot; classpath=&quot;WebContent/WEB-INF/lib/javax.servlet-api-4.0.1.jar&quot; /&gt;\n&lt;/target&gt;\n\n&lt;!-- Create the WAR file --&gt;    \n&lt;target name=&quot;war&quot;&gt;\n    &lt;mkdir dir=&quot;dist&quot; /&gt;\n    &lt;war destfile=&quot;dist/test.war&quot; basedir=&quot;build&quot; webxml=&quot;WebContent/WEB-INF/web.xml&quot;/&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>Save this as <code>build.xml</code> and run <code>ant clean compile dist</code> to generate the WAR file in <code>dist</code> directory.</p>\n<p><strong>NOTE</strong>: You may have to install the ant tool if you already dont have it. Also, if you want to go complete tool free - you can read the <code>build.xml</code> file and convert the steps into a 'batch' / 'shell' script (all the steps are self explanatory).</p>\n<p><strong>CONCLUSION</strong>: Hope this helps. But I still recommend using a tool like Maven or Gradle these will come in handy when the project grows (specially when there are several libraries along with their dependencies)</p>\n"}],"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74487838,"answer_count":1,"score":1,"last_activity_date":1668765570,"creation_date":1668761371,"question_id":74487038,"body_markdown":"I am working on a Java Web App project. This project has a fixed file structure and does not use Maven. I want to generate a WAR file so that I can deploy it to Tomcat.\r\n\r\nI want to generate the WAR without Eclipse, just via the Java tool chain. Is this possible?\r\n\r\nI have put together a minimal reproducible example with the same file structure in a git repo at https://github.com/halloleo/ContextListenerJavaWebAppSampleProject.\r\n\r\n","title":"How to generate a WAR file for a Java project without Maven or Eclipse","body":"<p>I am working on a Java Web App project. This project has a fixed file structure and does not use Maven. I want to generate a WAR file so that I can deploy it to Tomcat.</p>\n<p>I want to generate the WAR without Eclipse, just via the Java tool chain. Is this possible?</p>\n<p>I have put together a minimal reproducible example with the same file structure in a git repo at <a href=\"https://github.com/halloleo/ContextListenerJavaWebAppSampleProject\" rel=\"nofollow noreferrer\">https://github.com/halloleo/ContextListenerJavaWebAppSampleProject</a>.</p>\n"},{"tags":["java","swing","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668765729,"post_id":74487820,"comment_id":131490999,"body_markdown":"Maybe a duplicate of [JavaFX MediaPlayer import](https://stackoverflow.com/questions/69976938/javafx-mediaplayer-import/69978264#69978264)","body":"Maybe a duplicate of <a href=\"https://stackoverflow.com/questions/69976938/javafx-mediaplayer-import/69978264#69978264\">JavaFX MediaPlayer import</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668766275,"post_id":74487820,"comment_id":131491186,"body_markdown":"Your media player and player and media might get garbage collected if you dont store references to them.","body":"Your media player and player and media might get garbage collected if you dont store references to them."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668766360,"post_id":74487820,"comment_id":131491221,"body_markdown":"You arent using the JFXPanel. Perhaps [startup](https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#startup(java.lang.Runnable)) the platform (once only) instead, if that is needed to play the mp3. If you do use the JFXPanel you need the javafx-swing dependency and to require the javafx.swing module, similar to javafx.media usage noted in the potential duplicate.","body":"You arent using the JFXPanel. Perhaps <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#startup(java.lang.Runnable)\" rel=\"nofollow noreferrer\">startup</a> the platform (once only) instead, if that is needed to play the mp3. If you do use the JFXPanel you need the javafx-swing dependency and to require the javafx.swing module, similar to javafx.media usage noted in the potential duplicate."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1668766494,"post_id":74487820,"comment_id":131491271,"body_markdown":"Unrelated, but if you can write your app using only JavaFX rather than mixing Swing, that is preferred.","body":"Unrelated, but if you can write your app using only JavaFX rather than mixing Swing, that is preferred."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1668774807,"post_id":74487820,"comment_id":131493965,"body_markdown":"[mcve] please - including the module info","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please - including the module info"}],"owner":{"account_id":26972520,"reputation":1,"user_id":20538321,"display_name":"Moad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668765286,"creation_date":1668765286,"question_id":74487820,"body_markdown":"im trying to execute this code : \r\n\r\n```\r\n  private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n       try {\r\n          JFXPanel j = new JFXPanel ();\r\n          String uri = new File (&quot;Alex Clare - Too Close.mp3&quot;).toURI().toString();\r\n          MediaPlayer m = new MediaPlayer (new Media (uri)).play(); \r\n       }\r\n       catch (Exception e)\r\n       {\r\n           \r\n       }\r\n```\r\n\r\n\r\nmy netbeans 15.4 didnt recognize those classes even i import them in the top of the program.what is the solution please ?","title":"JFXPanel , MediaPlayer , Media classes doesn&#39;t work in netbeans 15.4 swing","body":"<p>im trying to execute this code :</p>\n<pre><code>  private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n       try {\n          JFXPanel j = new JFXPanel ();\n          String uri = new File (&quot;Alex Clare - Too Close.mp3&quot;).toURI().toString();\n          MediaPlayer m = new MediaPlayer (new Media (uri)).play(); \n       }\n       catch (Exception e)\n       {\n           \n       }\n</code></pre>\n<p>my netbeans 15.4 didnt recognize those classes even i import them in the top of the program.what is the solution please ?</p>\n"},{"tags":["java","android","user-interface"],"comments":[{"owner":{"account_id":6818910,"reputation":156,"user_id":12238257,"display_name":"MAYUR SANCHETI"},"score":0,"creation_date":1668764108,"post_id":74487532,"comment_id":131490463,"body_markdown":"do you need image based switch button right","body":"do you need image based switch button right"},{"owner":{"account_id":26847356,"reputation":1,"user_id":20432912,"display_name":"Ssss Ss8"},"score":0,"creation_date":1668764659,"post_id":74487532,"comment_id":131490649,"body_markdown":"yes i need image/gif based switch like this : \nhttps://dribbble.com/shots/2444868-Japanese-Switch,   https://dribbble.com/shots/11995836-VR-Switch and https://dribbble.com/shots/6188378-Light-switch-study","body":"yes i need image/gif based switch like this :  <a href=\"https://dribbble.com/shots/2444868-Japanese-Switch\" rel=\"nofollow noreferrer\">dribbble.com/shots/2444868-Japanese-Switch</a>,   <a href=\"https://dribbble.com/shots/11995836-VR-Switch\" rel=\"nofollow noreferrer\">dribbble.com/shots/11995836-VR-Switch</a> and <a href=\"https://dribbble.com/shots/6188378-Light-switch-study\" rel=\"nofollow noreferrer\">dribbble.com/shots/6188378-Light-switch-study</a>"},{"owner":{"account_id":6818910,"reputation":156,"user_id":12238257,"display_name":"MAYUR SANCHETI"},"score":0,"creation_date":1668765416,"post_id":74487532,"comment_id":131490887,"body_markdown":"try below answer , in answer first option github library  works as exactly you expected. you can also try second method .","body":"try below answer , in answer first option github library  works as exactly you expected. you can also try second method ."}],"answers":[{"tags":[],"owner":{"account_id":6818910,"reputation":156,"user_id":12238257,"display_name":"MAYUR SANCHETI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668765175,"creation_date":1668764571,"answer_id":74487661,"question_id":74487532,"body_markdown":"\r\n\r\n1) **use github library** -   with dependency implementation \r\n\r\n&#39;com.github.GwonHyeok:StickySwitch:0.0.16&#39;\r\n\r\n \r\n\r\n    &lt;io.ghyeok.stickyswitch.widget.StickySwitch\r\n            android:id=&quot;@+id/sticky_switch&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            app:ss_animationDuration=&quot;600&quot;\r\n            app:ss_iconPadding=&quot;18dp&quot;\r\n            app:ss_iconSize=&quot;22dp&quot;\r\n            app:ss_leftIcon=&quot;@drawable/ic_male&quot;\r\n            app:ss_leftText=&quot;Male&quot;\r\n            app:ss_rightIcon=&quot;@drawable/ic_female&quot;\r\n            app:ss_rightText=&quot;Female&quot;\r\n            app:ss_selectedTextSize=&quot;14sp&quot;\r\n            app:ss_sliderBackgroundColor=&quot;@color/colorSliderBackground&quot;\r\n            app:ss_switchColor=&quot;@color/colorSwitchColor&quot;\r\n            app:ss_textColor=&quot;@color/colorTextColor&quot;\r\n            app:ss_textSize=&quot;12sp&quot; \r\n            app:ss_animationType=&quot;line&quot;/&gt;\r\n\r\n\r\n\r\nother way,\r\n\r\n2) **create drawable image with xml**\r\n\r\ncreate toggle.xml in res/drawable\r\n\r\nadd your favorite on and off image in drawble folder \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; \r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n      &lt;item android:drawable=&quot;@drawable/toggle_on&quot; android:state_checked=&quot;true&quot;/&gt;\r\n      &lt;item android:drawable=&quot;@drawable/toggle_off&quot; android:state_checked=&quot;false&quot;/&gt;\r\n    &lt;/selector&gt;\r\n\r\napply the selector to your toggle button\r\n\r\n    &lt;ToggleButton\r\n                android:id=&quot;@+id/chkState&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;@drawable/toggle_selector&quot;\r\n                android:textOff=&quot;&quot;\r\n                android:textOn=&quot;&quot;/&gt;\r\n\r\nfor removing the text i used following in above code\r\n\r\n    textOff=&quot;&quot;\r\n    textOn=&quot;&quot;\r\n\r\nif you any query please comment","title":"make custom ui for light switch","body":"<ol>\n<li><strong>use github library</strong> -   with dependency implementation</li>\n</ol>\n<p>'com.github.GwonHyeok:StickySwitch:0.0.16'</p>\n<pre><code>&lt;io.ghyeok.stickyswitch.widget.StickySwitch\n        android:id=&quot;@+id/sticky_switch&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        app:ss_animationDuration=&quot;600&quot;\n        app:ss_iconPadding=&quot;18dp&quot;\n        app:ss_iconSize=&quot;22dp&quot;\n        app:ss_leftIcon=&quot;@drawable/ic_male&quot;\n        app:ss_leftText=&quot;Male&quot;\n        app:ss_rightIcon=&quot;@drawable/ic_female&quot;\n        app:ss_rightText=&quot;Female&quot;\n        app:ss_selectedTextSize=&quot;14sp&quot;\n        app:ss_sliderBackgroundColor=&quot;@color/colorSliderBackground&quot;\n        app:ss_switchColor=&quot;@color/colorSwitchColor&quot;\n        app:ss_textColor=&quot;@color/colorTextColor&quot;\n        app:ss_textSize=&quot;12sp&quot; \n        app:ss_animationType=&quot;line&quot;/&gt;\n</code></pre>\n<p>other way,</p>\n<ol start=\"2\">\n<li><strong>create drawable image with xml</strong></li>\n</ol>\n<p>create toggle.xml in res/drawable</p>\n<p>add your favorite on and off image in drawble folder</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; \n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n  &lt;item android:drawable=&quot;@drawable/toggle_on&quot; android:state_checked=&quot;true&quot;/&gt;\n  &lt;item android:drawable=&quot;@drawable/toggle_off&quot; android:state_checked=&quot;false&quot;/&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>apply the selector to your toggle button</p>\n<pre><code>&lt;ToggleButton\n            android:id=&quot;@+id/chkState&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@drawable/toggle_selector&quot;\n            android:textOff=&quot;&quot;\n            android:textOn=&quot;&quot;/&gt;\n</code></pre>\n<p>for removing the text i used following in above code</p>\n<pre><code>textOff=&quot;&quot;\ntextOn=&quot;&quot;\n</code></pre>\n<p>if you any query please comment</p>\n"}],"owner":{"account_id":26847356,"reputation":1,"user_id":20432912,"display_name":"Ssss Ss8"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668765175,"creation_date":1668763954,"question_id":74487532,"body_markdown":"yo guys ... I want to make a light switch on layout as a **switch api** in android like this :[enter image description here](https://i.stack.imgur.com/nfUZU.png)\r\nI have come across **toggle buttons** which is so similar to switches .\r\nbut I don&#39;t want to use toggle buttons .&lt;br&gt;\r\nIs this possible to change the layout of switch like this?\r\nhow to make it ?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nAm I supposed to make an android API like [this](https://github.com/bitvale/PacButton) ? &lt;br&gt; I have tried to use lottie animations , standard JAVA animations(like TranslateAnimation) and gif for making this button, but I&#39;m still confused about the road map for making it","title":"make custom ui for light switch","body":"<p>yo guys ... I want to make a light switch on layout as a <strong>switch api</strong> in android like this :<a href=\"https://i.stack.imgur.com/nfUZU.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI have come across <strong>toggle buttons</strong> which is so similar to switches .\nbut I don't want to use toggle buttons .<br>\nIs this possible to change the layout of switch like this?\nhow to make it ?</p>\n<p>Am I supposed to make an android API like <a href=\"https://github.com/bitvale/PacButton\" rel=\"nofollow noreferrer\">this</a> ? <br> I have tried to use lottie animations , standard JAVA animations(like TranslateAnimation) and gif for making this button, but I'm still confused about the road map for making it</p>\n"},{"tags":["java","matrix","diagonal"],"answers":[{"tags":[],"owner":{"account_id":15159660,"reputation":1770,"user_id":10939204,"display_name":"Traian GEICU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586463379,"creation_date":1586461708,"answer_id":61129118,"question_id":61128850,"body_markdown":"Assume always square matrix.This should construct your matrix.\r\n&lt;br&gt;\r\n\r\n    for(int row=0; row &lt; matrix.length; row++)\r\n\t{\r\n\t\t//System.out.println(&quot;&quot;);\r\n\t\tfor(int col = 0; col &lt; matrix.length; col++)\r\n\t\t{\r\n\t\t    //eg [0][4] = 4 on valid condition [5-0-1] == 4 \r\n\t\t    if(matrix.length-row-1 == col)\r\n\t\t    {\r\n\t\t         matrix[row][col] = col;\r\n\t\t    }\r\n\t\t    //System.out.print(matrix[row][col]);\r\n\t\t }\r\n\t}\r\n&lt;br&gt; For printing in same step just remove print-comments ","title":"Diagonals with Matrices","body":"<p>Assume always square matrix.This should construct your matrix.\n<br></p>\n\n<pre><code>for(int row=0; row &lt; matrix.length; row++)\n{\n    //System.out.println(\"\");\n    for(int col = 0; col &lt; matrix.length; col++)\n    {\n        //eg [0][4] = 4 on valid condition [5-0-1] == 4 \n        if(matrix.length-row-1 == col)\n        {\n             matrix[row][col] = col;\n        }\n        //System.out.print(matrix[row][col]);\n     }\n}\n</code></pre>\n\n<p><br> For printing in same step just remove print-comments </p>\n"},{"tags":[],"owner":{"account_id":18193410,"reputation":1213,"user_id":13238899,"display_name":"Sidak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586461895,"creation_date":1586461895,"answer_id":61129161,"question_id":61128850,"body_markdown":"This is the code that should work (assuming the matrix is always square):\r\n\r\n    for(int row=0; row &lt; matrix.length; row++){\r\n            for(int col = 0; col &lt; matrix[row].length; col++){\r\n                if(row + col == matrix.length - 1){\r\n                    matrix[row][col] = col;\r\n                    System.out.print(col+ &quot; &quot;); // Print value\r\n                } else {\r\n                    matrix[row][col] = 0; // Set value\r\n                    System.out.print(&quot;0 &quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n\r\nWe subtracted by 1 in the condition since the length-1 gives us the last index. (reminder that indexes start from 0 and to go length -1)","title":"Diagonals with Matrices","body":"<p>This is the code that should work (assuming the matrix is always square):</p>\n\n<pre><code>for(int row=0; row &lt; matrix.length; row++){\n        for(int col = 0; col &lt; matrix[row].length; col++){\n            if(row + col == matrix.length - 1){\n                matrix[row][col] = col;\n                System.out.print(col+ \" \"); // Print value\n            } else {\n                matrix[row][col] = 0; // Set value\n                System.out.print(\"0 \");\n            }\n        }\n        System.out.println(\"\");\n    }\n</code></pre>\n\n<p>We subtracted by 1 in the condition since the length-1 gives us the last index. (reminder that indexes start from 0 and to go length -1)</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607991075,"creation_date":1586466462,"answer_id":61130227,"question_id":61128850,"body_markdown":"Note that the default values in an `int` arrays are `0` because the default value of an `int` variable is `0`. Therefore, you just need to change the values in the required diagonal and leave the rest of the values as they are.\r\n\r\nDo it as follows:\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal int SIZE = 5;\r\n    \t\tint[][] matrix = new int[SIZE][SIZE];\r\n    \r\n    \t\t// Initialise the matrix\r\n    \t\tfor (int row = 0; row &lt; matrix.length; row++) {\r\n    \t\t\tfor (int col = 0; col &lt; matrix[row].length; col++) {\r\n    \t\t\t\tif (row + col == matrix.length - 1) {\r\n    \t\t\t\t\tmatrix[row][col] = col;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t// Print the matrix\r\n    \t\tfor (int row[] : matrix) {\r\n    \t\t\tfor (int col : row) {\r\n    \t\t\t\tSystem.out.print(col + &quot; &quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    0 0 0 0 4 \r\n    0 0 0 3 0 \r\n    0 0 2 0 0 \r\n    0 1 0 0 0 \r\n    0 0 0 0 0 \r\n\r\nI have used the enhanced for loop to print the matrix. You can write it as follows if you wish:\r\n\r\n    // Print the matrix\r\n    for (int row = 0; row &lt; matrix.length; row++) {\r\n    \tfor (int col = 0; col &lt; matrix[row].length; col++) {\r\n    \t\tSystem.out.print(matrix[row][col] + &quot; &quot;);\r\n    \t}\r\n    \tSystem.out.println();\r\n    }\r\n","title":"Diagonals with Matrices","body":"<p>Note that the default values in an <code>int</code> arrays are <code>0</code> because the default value of an <code>int</code> variable is <code>0</code>. Therefore, you just need to change the values in the required diagonal and leave the rest of the values as they are.</p>\n<p>Do it as follows:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        final int SIZE = 5;\n        int[][] matrix = new int[SIZE][SIZE];\n\n        // Initialise the matrix\n        for (int row = 0; row &lt; matrix.length; row++) {\n            for (int col = 0; col &lt; matrix[row].length; col++) {\n                if (row + col == matrix.length - 1) {\n                    matrix[row][col] = col;\n                }\n            }\n        }\n\n        // Print the matrix\n        for (int row[] : matrix) {\n            for (int col : row) {\n                System.out.print(col + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>0 0 0 0 4 \n0 0 0 3 0 \n0 0 2 0 0 \n0 1 0 0 0 \n0 0 0 0 0 \n</code></pre>\n<p>I have used the enhanced for loop to print the matrix. You can write it as follows if you wish:</p>\n<pre><code>// Print the matrix\nfor (int row = 0; row &lt; matrix.length; row++) {\n    for (int col = 0; col &lt; matrix[row].length; col++) {\n        System.out.print(matrix[row][col] + &quot; &quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":18184613,"reputation":13,"user_id":13231630,"display_name":"JRB6501"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61129161,"answer_count":3,"score":0,"last_activity_date":1668764997,"creation_date":1586460775,"question_id":61128850,"body_markdown":"Currently trying to print a matrix with an output of:\r\n\r\n    0 0 0 0 4\r\n    0 0 0 3 0\r\n    0 0 2 0 0\r\n    0 1 0 0 0\r\n    0 0 0 0 0\r\n\r\nThis is my code currently:\r\n\r\n    for(int row=0; row &lt; matrix.length; row++)\r\n            for(int col = 0; col &lt; matrix[row].length; col++)\r\n                if(row+col == matrix[row].length)\r\nObviously not complete. I&#39;m not even sure my logic behind the code is correct.\r\n\r\n                     \r\n\r\n","title":"Diagonals with Matrices","body":"<p>Currently trying to print a matrix with an output of:</p>\n<pre><code>0 0 0 0 4\n0 0 0 3 0\n0 0 2 0 0\n0 1 0 0 0\n0 0 0 0 0\n</code></pre>\n<p>This is my code currently:</p>\n<pre><code>for(int row=0; row &lt; matrix.length; row++)\n        for(int col = 0; col &lt; matrix[row].length; col++)\n            if(row+col == matrix[row].length)\n</code></pre>\n<p>Obviously not complete. I'm not even sure my logic behind the code is correct.</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668764924,"creation_date":1668764924,"answer_id":74487745,"question_id":74487674,"body_markdown":"You can query with JOIN...ON:\r\n\r\n    SELECT p\r\n    FROM PurchaseOrder p\r\n    JOIN PurchaseOrderItem i ON p.id = i.purchaseOrderId\r\n    GROUP BY p.id\r\n\r\nSee also: https://martinelli.ch/how-to-join-two-entities-without-mapped-relationship/\r\n","title":"Is it possible to have a hibernate generated ID provided to a non-linked entity?","body":"<p>You can query with JOIN...ON:</p>\n<pre><code>SELECT p\nFROM PurchaseOrder p\nJOIN PurchaseOrderItem i ON p.id = i.purchaseOrderId\nGROUP BY p.id\n</code></pre>\n<p>See also: <a href=\"https://martinelli.ch/how-to-join-two-entities-without-mapped-relationship/\" rel=\"nofollow noreferrer\">https://martinelli.ch/how-to-join-two-entities-without-mapped-relationship/</a></p>\n"}],"owner":{"account_id":2708163,"reputation":33,"user_id":2337309,"display_name":"Nic2352"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668764924,"creation_date":1668764625,"question_id":74487674,"body_markdown":"I have two entities, for the sake of convenience: parent, child&lt;br&gt;\r\nMy child entity has a many to one relationship with the parent.\r\n\r\nFor each entity I also have a &#39;log&#39; entity which has mostly the same fields as the corresponding entity, with the addition of a record start and end timestamp. The idea being I can track the movement of data in the parent and child entities over time.\r\n\r\nMy issue is that, while I have an integer field referencing the &#39;parent ID&#39; on the child log entity, I can&#39;t populate this on the initial run of my service, or when a new parent &amp; children are created because no IDs exist at that point.\r\n\r\nSo my question is, is it possible to make a reference to a parent ID in my child log table **WITHOUT** adding a OneToMany relationship to the parent in my log entity in order to reference the parent ID without creating a complex join of parent -&gt; child -&gt; childLog in order to filter by parentID and childID?","title":"Is it possible to have a hibernate generated ID provided to a non-linked entity?","body":"<p>I have two entities, for the sake of convenience: parent, child<br>\nMy child entity has a many to one relationship with the parent.</p>\n<p>For each entity I also have a 'log' entity which has mostly the same fields as the corresponding entity, with the addition of a record start and end timestamp. The idea being I can track the movement of data in the parent and child entities over time.</p>\n<p>My issue is that, while I have an integer field referencing the 'parent ID' on the child log entity, I can't populate this on the initial run of my service, or when a new parent &amp; children are created because no IDs exist at that point.</p>\n<p>So my question is, is it possible to make a reference to a parent ID in my child log table <strong>WITHOUT</strong> adding a OneToMany relationship to the parent in my log entity in order to reference the parent ID without creating a complex join of parent -&gt; child -&gt; childLog in order to filter by parentID and childID?</p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668707773,"post_id":74476013,"comment_id":131477547,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1668753651,"post_id":74476013,"comment_id":131487462,"body_markdown":"you maybe looking for this [CountryCodePhonePicker](https://github.com/hbb20/CountryCodePickerProject)","body":"you maybe looking for this <a href=\"https://github.com/hbb20/CountryCodePickerProject\" rel=\"nofollow noreferrer\">CountryCodePhonePicker</a>"}],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":920,"user_id":4058604,"display_name":"Mert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668764876,"creation_date":1668714060,"answer_id":74481225,"question_id":74476013,"body_markdown":"This time i tried and you can achieve what you want with code below:\r\n```\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;12dp&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/linearLayout&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;Spinner\r\n                    android:id=&quot;@+id/spinner&quot;\r\n                    android:layout_width=&quot;110dp&quot;\r\n                    android:layout_height=&quot;56dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    app:layout_constraintEnd_toStartOf=&quot;@+id/textInputEditText&quot;\r\n                    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/key_edit&quot;\r\n                    android:layout_width=&quot;85dp&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:gravity=&quot;center|start&quot;\r\n                    android:text=&quot;+971&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textAppearance=&quot;@style/TextAppearance.AppCompat.Medium&quot;\r\n                    tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n\r\n                &lt;com.google.android.material.textfield.TextInputEditText\r\n                    android:id=&quot;@+id/textInputEditText&quot;\r\n                    android:layout_width=&quot;304dp&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_weight=&quot;2&quot;\r\n                    android:inputType=&quot;phone&quot;\r\n                    android:background=&quot;@android:color/transparent&quot;\r\n                    android:hint=&quot;Phone Number&quot;\r\n                    tools:text=&quot;56515&quot;/&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingStart=&quot;16dp&quot;\r\n            android:text=&quot;We will use this to verify your account&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n```","title":"How to put multiple views in Text Input layout","body":"<p>This time i tried and you can achieve what you want with code below:</p>\n<pre><code>    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;12dp&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/linearLayout&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n\n                &lt;Spinner\n                    android:id=&quot;@+id/spinner&quot;\n                    android:layout_width=&quot;110dp&quot;\n                    android:layout_height=&quot;56dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    app:layout_constraintEnd_toStartOf=&quot;@+id/textInputEditText&quot;\n                    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/key_edit&quot;\n                    android:layout_width=&quot;85dp&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:gravity=&quot;center|start&quot;\n                    android:text=&quot;+971&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textAppearance=&quot;@style/TextAppearance.AppCompat.Medium&quot;\n                    tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n                &lt;com.google.android.material.textfield.TextInputEditText\n                    android:id=&quot;@+id/textInputEditText&quot;\n                    android:layout_width=&quot;304dp&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:layout_weight=&quot;2&quot;\n                    android:inputType=&quot;phone&quot;\n                    android:background=&quot;@android:color/transparent&quot;\n                    android:hint=&quot;Phone Number&quot;\n                    tools:text=&quot;56515&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:paddingStart=&quot;16dp&quot;\n            android:text=&quot;We will use this to verify your account&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":22183507,"reputation":11,"user_id":16426844,"display_name":"abdelrhman ghanem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668764876,"creation_date":1668690480,"question_id":74476013,"body_markdown":"[enter image description here](https://i.stack.imgur.com/1XMmg.png)\r\n\r\n\r\nI want to make this three views in the Text Input layout in android native\r\n\r\nI make it with linear layout but i want to convert it to Text Input Layout\r\n\r\n`\r\n```\r\n&lt;LinearLayout\r\n    android:id=&quot;@+id/linearLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot;\r\n    tools:layout_editor_absoluteX=&quot;21dp&quot;\r\n    android:background=&quot;@drawable/border_layout&quot;\r\n    android:padding=&quot;8dp&quot;\r\n    android:layout_marginTop=&quot;@dimen/_16sdp&quot;&gt;\r\n\r\n    &lt;Spinner\r\n        android:id=&quot;@+id/spinner&quot;\r\n        android:layout_width=&quot;@dimen/_110sdp&quot;\r\n        android:layout_height=&quot;56dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/textInputEditText&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/key_edit&quot;\r\n        android:layout_width=&quot;@dimen/_85sdp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:gravity=&quot;center|start&quot;\r\n        android:text=&quot;+20&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Medium&quot;\r\n        tools:ignore=&quot;MissingConstraints&quot;\r\n        tools:layout_editor_absoluteY=&quot;18dp&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/textInputEditText&quot;\r\n        android:layout_width=&quot;304dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;2&quot;\r\n        android:inputType=&quot;phone&quot;\r\n        android:background=&quot;@android:color/transparent&quot;/&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n`\r\n","title":"How to put multiple views in Text Input layout","body":"<p><a href=\"https://i.stack.imgur.com/1XMmg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I want to make this three views in the Text Input layout in android native</p>\n<p>I make it with linear layout but i want to convert it to Text Input Layout</p>\n<p>`</p>\n<pre><code>&lt;LinearLayout\n    android:id=&quot;@+id/linearLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot;\n    tools:layout_editor_absoluteX=&quot;21dp&quot;\n    android:background=&quot;@drawable/border_layout&quot;\n    android:padding=&quot;8dp&quot;\n    android:layout_marginTop=&quot;@dimen/_16sdp&quot;&gt;\n\n    &lt;Spinner\n        android:id=&quot;@+id/spinner&quot;\n        android:layout_width=&quot;@dimen/_110sdp&quot;\n        android:layout_height=&quot;56dp&quot;\n        android:layout_weight=&quot;1&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/textInputEditText&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/key_edit&quot;\n        android:layout_width=&quot;@dimen/_85sdp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;1&quot;\n        android:gravity=&quot;center|start&quot;\n        android:text=&quot;+20&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Medium&quot;\n        tools:ignore=&quot;MissingConstraints&quot;\n        tools:layout_editor_absoluteY=&quot;18dp&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/textInputEditText&quot;\n        android:layout_width=&quot;304dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;2&quot;\n        android:inputType=&quot;phone&quot;\n        android:background=&quot;@android:color/transparent&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","h2","spring-boot-starter","spring-boot-starter-parent"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1668766154,"post_id":74485658,"comment_id":131491135,"body_markdown":"What do you expect to have created the database schema for you? I can&#39;t see anything in what you&#39;ve shared thus far that would do it.","body":"What do you expect to have created the database schema for you? I can&#39;t see anything in what you&#39;ve shared thus far that would do it."},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1668766559,"post_id":74485658,"comment_id":131491304,"body_markdown":"`CONSTANTS` is actually a built-in virtual system table in H2, but it should be qualified with a schema name (`INFORMATION_SCHEMA.CONSTANTS`) in queries.","body":"<code>CONSTANTS</code> is actually a built-in virtual system table in H2, but it should be qualified with a schema name (<code>INFORMATION_SCHEMA.CONSTANTS</code>) in queries."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1668774410,"post_id":74485658,"comment_id":131493828,"body_markdown":"Thanks, @EvgenijRyazanov. So this will be due to the breaking changes in H2 2.x. kamal, see https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#h2-21 for further details.","body":"Thanks, @EvgenijRyazanov. So this will be due to the breaking changes in H2 2.x. kamal, see <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#h2-21\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a> for further details."},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":1,"creation_date":1668776284,"post_id":74485658,"comment_id":131494421,"body_markdown":"All versions of H2 have that table, and for all of them it needs to be qualified with a schema. So one of libraries in your application has some strange bug here. You can try to add `;SCHEMA_SEARCH_PATH=INFORMATION_SCHEMA` to JDBC URL as a workaround.","body":"All versions of H2 have that table, and for all of them it needs to be qualified with a schema. So one of libraries in your application has some strange bug here. You can try to add <code>;SCHEMA_SEARCH_PATH=INFORMATION_SCHEMA</code> to JDBC URL as a workaround."}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668764472,"creation_date":1668764472,"answer_id":74487639,"question_id":74485658,"body_markdown":"Do you have?\r\n\r\n    spring:\r\n      test:\r\n        database:\r\n          replace: none","title":"H2 Database Exception: Table &quot;CONSTANTS&quot; not found","body":"<p>Do you have?</p>\n<pre><code>spring:\n  test:\n    database:\n      replace: none\n</code></pre>\n"}],"owner":{"account_id":1355213,"reputation":1093,"user_id":1293752,"accept_rate":59,"display_name":"kamal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668764472,"creation_date":1668752818,"question_id":74485658,"body_markdown":"I upgraded **spring-boot-starter-parent** to ***2.7.5*** (*from 2.6.8*), and now I got the following exception in unit tests which I don&#39;t have such table (*CONSTANTS*)\r\n\r\n    org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CONSTANTS&quot; not found\r\n\r\nThe full stacktrace is below:\r\n\r\n    org.dbunit.dataset.DataSetException: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CONSTANTS&quot; not found; SQL statement:\r\n    select CONSTANT_CATALOG, CONSTANT_SCHEMA, CONSTANT_NAME, VALUE_DEFINITION, DATA_TYPE, CHARACTER_MAXIMUM_LENGTH, CHARACTER_OCTET_LENGTH, CHARACTER_SET_CATALOG, CHARACTER_SET_SCHEMA, CHARACTER_SET_NAME, COLLATION_CATALOG, COLLATION_SCHEMA, COLLATION_NAME, NUMERIC_PRECISION, NUMERIC_PRECISION_RADIX, NUMERIC_SCALE, DATETIME_PRECISION, INTERVAL_TYPE, INTERVAL_PRECISION, MAXIMUM_CARDINALITY, DTD_IDENTIFIER, DECLARED_DATA_TYPE, DECLARED_NUMERIC_PRECISION, DECLARED_NUMERIC_SCALE, GEOMETRY_TYPE, GEOMETRY_SRID, REMARKS from CONSTANTS [42102-214]\r\n\r\n\tat org.dbunit.database.DatabaseDataSet.getTable(DatabaseDataSet.java:342)\r\n\tat org.dbunit.database.DatabaseTableIterator.getTable(DatabaseTableIterator.java:89)\r\n\tat org.dbunit.dataset.stream.DataSetProducerAdapter.produce(DataSetProducerAdapter.java:83)\r\n\tat org.dbunit.dataset.xml.FlatXmlWriter.write(FlatXmlWriter.java:124)\r\n\tat org.dbunit.dataset.xml.FlatXmlDataSet.write(FlatXmlDataSet.java:378)\r\n\tat my.own.package.util.Test.extractDataSet(AbstractJobIntegrationTest.java:221)\r\n\tat my.own.package.configuration.util.AbstractJobIntegrationTest.getActualMidasConfigurationDataSet(AbstractJobIntegrationTest.java:206)\r\n\tat my.own.package.configuration.util.Test.assertDatabase(AbstractJobIntegrationTest.java:197)\r\n\tat my.own.package.configuration.IntegrationTest.testSuccess(CallCreditIntegrationTest.java:76)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CONSTANTS&quot; not found; SQL statement:\r\n    *emphasized text*select CONSTANT_CATALOG, CONSTANT_SCHEMA, CONSTANT_NAME, VALUE_DEFINITION, DATA_TYPE, CHARACTER_MAXIMUM_LENGTH, CHARACTER_OCTET_LENGTH, CHARACTER_SET_CATALOG, CHARACTER_SET_SCHEMA, CHARACTER_SET_NAME, COLLATION_CATALOG, COLLATION_SCHEMA, COLLATION_NAME, NUMERIC_PRECISION, NUMERIC_PRECISION_RADIX, NUMERIC_SCALE, DATETIME_PRECISION, INTERVAL_TYPE, INTERVAL_PRECISION, MAXIMUM_CARDINALITY, DTD_IDENTIFIER, DECLARED_DATA_TYPE, DECLARED_NUMERIC_PRECISION, DECLARED_NUMERIC_SCALE, GEOMETRY_TYPE, GEOMETRY_SRID, REMARKS from CONSTANTS [42102-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8398)\r\n\tat org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8369)\r\n\tat org.h2.command.Parser.readTableOrView(Parser.java:8358)\r\n\tat org.h2.command.Parser.readTablePrimary(Parser.java:1863)\r\n\tat org.h2.command.Parser.readTableReference(Parser.java:2334)\r\n\tat org.h2.command.Parser.parseSelectFromPart(Parser.java:2772)\r\n\tat org.h2.command.Parser.parseSelect(Parser.java:2878)\r\n\tat org.h2.command.Parser.parseQueryPrimary(Parser.java:2762)\r\n\tat org.h2.command.Parser.parseQueryTerm(Parser.java:2633)\r\n\tat org.h2.command.Parser.parseQueryExpressionBody(Parser.java:2612)\r\n\tat org.h2.command.Parser.parseQueryExpressionBodyAndEndOfQuery(Parser.java:2605)\r\n\tat org.h2.command.Parser.parseQueryExpression(Parser.java:2598)\r\n\tat org.h2.command.Parser.parseQuery(Parser.java:2567)\r\n\tat org.h2.command.Parser.parsePrepared(Parser.java:724)\r\n\tat org.h2.command.Parser.parse(Parser.java:689)\r\n\tat org.h2.command.Parser.parse(Parser.java:661)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:569)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)\r\n\tat org.h2.jdbc.JdbcStatement.executeQuery(JdbcStatement.java:92)\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:110)\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)\r\n\tat org.dbunit.database.AbstractResultSetTable.&lt;init&gt;(AbstractResultSetTable.java:110)\r\n\tat org.dbunit.database.ForwardOnlyResultSetTable.&lt;init&gt;(ForwardOnlyResultSetTable.java:59)\r\n\tat org.dbunit.database.CachedResultSetTableFactory.createTable(CachedResultSetTableFactory.java:60)\r\n\tat org.dbunit.database.DatabaseDataSet.getTable(DatabaseDataSet.java:338)\r\n\t... 77 more\r\n\r\nThe application.yml:\r\n\r\n    app:\r\n     datasource:\r\n      mydb-configuration:\r\n       jdbcUrl: jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;NON_KEYWORDS=VALUE\r\n       username: sa\r\n       password:\r\n       driver-class-name: org.h2.Driver\r\n\r\npom.xml:\r\n\r\n    ...\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n    ...\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.7.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    ...\r\n\r\nWhat can be done to solve this issue?\r\n","title":"H2 Database Exception: Table &quot;CONSTANTS&quot; not found","body":"<p>I upgraded <strong>spring-boot-starter-parent</strong> to <em><strong>2.7.5</strong></em> (<em>from 2.6.8</em>), and now I got the following exception in unit tests which I don't have such table (<em>CONSTANTS</em>)</p>\n<pre><code>org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CONSTANTS&quot; not found\n</code></pre>\n<p>The full stacktrace is below:</p>\n<pre><code>org.dbunit.dataset.DataSetException: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CONSTANTS&quot; not found; SQL statement:\nselect CONSTANT_CATALOG, CONSTANT_SCHEMA, CONSTANT_NAME, VALUE_DEFINITION, DATA_TYPE, CHARACTER_MAXIMUM_LENGTH, CHARACTER_OCTET_LENGTH, CHARACTER_SET_CATALOG, CHARACTER_SET_SCHEMA, CHARACTER_SET_NAME, COLLATION_CATALOG, COLLATION_SCHEMA, COLLATION_NAME, NUMERIC_PRECISION, NUMERIC_PRECISION_RADIX, NUMERIC_SCALE, DATETIME_PRECISION, INTERVAL_TYPE, INTERVAL_PRECISION, MAXIMUM_CARDINALITY, DTD_IDENTIFIER, DECLARED_DATA_TYPE, DECLARED_NUMERIC_PRECISION, DECLARED_NUMERIC_SCALE, GEOMETRY_TYPE, GEOMETRY_SRID, REMARKS from CONSTANTS [42102-214]\n\nat org.dbunit.database.DatabaseDataSet.getTable(DatabaseDataSet.java:342)\nat org.dbunit.database.DatabaseTableIterator.getTable(DatabaseTableIterator.java:89)\nat org.dbunit.dataset.stream.DataSetProducerAdapter.produce(DataSetProducerAdapter.java:83)\nat org.dbunit.dataset.xml.FlatXmlWriter.write(FlatXmlWriter.java:124)\nat org.dbunit.dataset.xml.FlatXmlDataSet.write(FlatXmlDataSet.java:378)\nat my.own.package.util.Test.extractDataSet(AbstractJobIntegrationTest.java:221)\nat my.own.package.configuration.util.AbstractJobIntegrationTest.getActualMidasConfigurationDataSet(AbstractJobIntegrationTest.java:206)\nat my.own.package.configuration.util.Test.assertDatabase(AbstractJobIntegrationTest.java:197)\nat my.own.package.configuration.IntegrationTest.testSuccess(CallCreditIntegrationTest.java:76)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CONSTANTS&quot; not found; SQL statement:\n*emphasized text*select CONSTANT_CATALOG, CONSTANT_SCHEMA, CONSTANT_NAME, VALUE_DEFINITION, DATA_TYPE, CHARACTER_MAXIMUM_LENGTH, CHARACTER_OCTET_LENGTH, CHARACTER_SET_CATALOG, CHARACTER_SET_SCHEMA, CHARACTER_SET_NAME, COLLATION_CATALOG, COLLATION_SCHEMA, COLLATION_NAME, NUMERIC_PRECISION, NUMERIC_PRECISION_RADIX, NUMERIC_SCALE, DATETIME_PRECISION, INTERVAL_TYPE, INTERVAL_PRECISION, MAXIMUM_CARDINALITY, DTD_IDENTIFIER, DECLARED_DATA_TYPE, DECLARED_NUMERIC_PRECISION, DECLARED_NUMERIC_SCALE, GEOMETRY_TYPE, GEOMETRY_SRID, REMARKS from CONSTANTS [42102-214]\nat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\nat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\nat org.h2.message.DbException.get(DbException.java:223)\nat org.h2.message.DbException.get(DbException.java:199)\nat org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8398)\nat org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8369)\nat org.h2.command.Parser.readTableOrView(Parser.java:8358)\nat org.h2.command.Parser.readTablePrimary(Parser.java:1863)\nat org.h2.command.Parser.readTableReference(Parser.java:2334)\nat org.h2.command.Parser.parseSelectFromPart(Parser.java:2772)\nat org.h2.command.Parser.parseSelect(Parser.java:2878)\nat org.h2.command.Parser.parseQueryPrimary(Parser.java:2762)\nat org.h2.command.Parser.parseQueryTerm(Parser.java:2633)\nat org.h2.command.Parser.parseQueryExpressionBody(Parser.java:2612)\nat org.h2.command.Parser.parseQueryExpressionBodyAndEndOfQuery(Parser.java:2605)\nat org.h2.command.Parser.parseQueryExpression(Parser.java:2598)\nat org.h2.command.Parser.parseQuery(Parser.java:2567)\nat org.h2.command.Parser.parsePrepared(Parser.java:724)\nat org.h2.command.Parser.parse(Parser.java:689)\nat org.h2.command.Parser.parse(Parser.java:661)\nat org.h2.command.Parser.prepareCommand(Parser.java:569)\nat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)\nat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)\nat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)\nat org.h2.jdbc.JdbcStatement.executeQuery(JdbcStatement.java:92)\nat com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:110)\nat com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)\nat org.dbunit.database.AbstractResultSetTable.&lt;init&gt;(AbstractResultSetTable.java:110)\nat org.dbunit.database.ForwardOnlyResultSetTable.&lt;init&gt;(ForwardOnlyResultSetTable.java:59)\nat org.dbunit.database.CachedResultSetTableFactory.createTable(CachedResultSetTableFactory.java:60)\nat org.dbunit.database.DatabaseDataSet.getTable(DatabaseDataSet.java:338)\n... 77 more\n</code></pre>\n<p>The application.yml:</p>\n<pre><code>app:\n datasource:\n  mydb-configuration:\n   jdbcUrl: jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;NON_KEYWORDS=VALUE\n   username: sa\n   password:\n   driver-class-name: org.h2.Driver\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>...\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\n    &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n&lt;/dependency&gt;\n...\n</code></pre>\n<p>What can be done to solve this issue?</p>\n"},{"tags":["java","android","kotlin","arcore","sceneform"],"answers":[{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636552723,"creation_date":1636552723,"answer_id":69914606,"question_id":69900280,"body_markdown":"The Planedetector image will generally expand to cover the plane as I think you have seen so is likely not the easiest approach.\r\n\r\nOne way to do this is to make the pointer itself a renderable object and place it on the plane first.\r\n\r\nYou can then delete and replica it with the object you eventually want to place there once the user has confirmed the location.\r\n\r\n","title":"Custom Planedetector on Sceneform without repeating","body":"<p>The Planedetector image will generally expand to cover the plane as I think you have seen so is likely not the easiest approach.</p>\n<p>One way to do this is to make the pointer itself a renderable object and place it on the plane first.</p>\n<p>You can then delete and replica it with the object you eventually want to place there once the user has confirmed the location.</p>\n"},{"tags":[],"owner":{"account_id":4825330,"reputation":4623,"user_id":3894930,"display_name":"Dhaval Solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668764362,"creation_date":1668764362,"answer_id":74487622,"question_id":69900280,"body_markdown":"Yes, I did it.\r\n\r\nYou need to just turn or remove line for wraper property repeat mode like bellow\r\n\r\n    private fun updatePlanDetection() {\r\n            val sampler = Texture.Sampler.builder()\r\n                .setMinFilter(Texture.Sampler.MinFilter.LINEAR)\r\n                .build()\r\n    \r\n            Texture.builder()\r\n                .setSource(this, R.drawable.ic_target)\r\n                .setSampler(sampler)\r\n                .build()\r\n                .thenAccept { texture -&gt;\r\n    \r\n                    arFragment.arSceneView.planeRenderer\r\n                        .material.thenAccept { material -&gt;\r\n                            material.setTexture(\r\n                                PlaneRenderer.MATERIAL_TEXTURE,\r\n                                texture\r\n                            )\r\n                            material.setFloat(PlaneRenderer.MATERIAL_SPOTLIGHT_RADIUS, 50F);\r\n                        }\r\n                }\r\n        }\r\n\r\n\r\nBut there is one issue, currently I cant enlarge my image ","title":"Custom Planedetector on Sceneform without repeating","body":"<p>Yes, I did it.</p>\n<p>You need to just turn or remove line for wraper property repeat mode like bellow</p>\n<pre><code>private fun updatePlanDetection() {\n        val sampler = Texture.Sampler.builder()\n            .setMinFilter(Texture.Sampler.MinFilter.LINEAR)\n            .build()\n\n        Texture.builder()\n            .setSource(this, R.drawable.ic_target)\n            .setSampler(sampler)\n            .build()\n            .thenAccept { texture -&gt;\n\n                arFragment.arSceneView.planeRenderer\n                    .material.thenAccept { material -&gt;\n                        material.setTexture(\n                            PlaneRenderer.MATERIAL_TEXTURE,\n                            texture\n                        )\n                        material.setFloat(PlaneRenderer.MATERIAL_SPOTLIGHT_RADIUS, 50F);\n                    }\n            }\n    }\n</code></pre>\n<p>But there is one issue, currently I cant enlarge my image</p>\n"}],"owner":{"account_id":18516448,"reputation":61,"user_id":13490487,"display_name":"Bazil Baachu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668764362,"creation_date":1636469572,"question_id":69900280,"body_markdown":"I want to create a pointer on the plane which shows exactly where the object will be placed. \r\n\r\nThe way I tried to do so is by using my pointer&#39;s image as custom Planedetector Image.\r\n\r\nThe problem is its repeating my image creating a pattern. \r\nI tried changing the wrap properties but no use. Its still repeating.\r\n\r\nIs there any other way you&#39;d recommend to make a pointer on sceneform?","title":"Custom Planedetector on Sceneform without repeating","body":"<p>I want to create a pointer on the plane which shows exactly where the object will be placed.</p>\n<p>The way I tried to do so is by using my pointer's image as custom Planedetector Image.</p>\n<p>The problem is its repeating my image creating a pattern.\nI tried changing the wrap properties but no use. Its still repeating.</p>\n<p>Is there any other way you'd recommend to make a pointer on sceneform?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1668764392,"post_id":74487560,"comment_id":131490566,"body_markdown":"Try a generic interface `interface Upgradable&lt;T extends Plant&gt; { T PlantUpgrade(); }`, and `Sunflower extends Plant implements Upgradable&lt;NewSunFlower&gt;` with method `NewSunFlower PlantUpgradable () { return new NewSunFlower(); }`","body":"Try a generic interface <code>interface Upgradable&lt;T extends Plant&gt; { T PlantUpgrade(); }</code>, and <code>Sunflower extends Plant implements Upgradable&lt;NewSunFlower&gt;</code> with method <code>NewSunFlower PlantUpgradable () { return new NewSunFlower(); }</code>"},{"owner":{"account_id":20710972,"reputation":1,"user_id":15207609,"display_name":"Jethro Cenas"},"score":0,"creation_date":1668820905,"post_id":74487560,"comment_id":131506482,"body_markdown":"Ahh Ic thanks. Didnt know if it was possible","body":"Ahh Ic thanks. Didnt know if it was possible"}],"owner":{"account_id":20710972,"reputation":1,"user_id":15207609,"display_name":"Jethro Cenas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668764385,"answer_count":0,"score":0,"last_activity_date":1668764288,"creation_date":1668764080,"question_id":74487560,"body_markdown":"\r\n\r\n    interface Upgradable {\r\n        returnVALUE PlantUpgrade();\r\n    }\r\n    \r\n    public class Sunflower extends Plant implements Upgradable {\r\n            Sunflower PlantUpgradable () {\r\n          //somecode\r\n          return NewSunFlower;\r\n        }\r\n    }\r\n\r\nHi, how do I set the return value in the interface, so that the classes who use this object will have different returnvalue and its return value would be an object.","title":"How do I return an instance of that Class using interface?","body":"<pre><code>interface Upgradable {\n    returnVALUE PlantUpgrade();\n}\n\npublic class Sunflower extends Plant implements Upgradable {\n        Sunflower PlantUpgradable () {\n      //somecode\n      return NewSunFlower;\n    }\n}\n</code></pre>\n<p>Hi, how do I set the return value in the interface, so that the classes who use this object will have different returnvalue and its return value would be an object.</p>\n"},{"tags":["java","spring-boot","spring-security","mockito","junit4"],"comments":[{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1668764002,"post_id":74487370,"comment_id":131490422,"body_markdown":"Is it 403 OR 404?","body":"Is it 403 OR 404?"},{"owner":{"account_id":26620480,"reputation":1,"user_id":20239323,"display_name":"Naomi"},"score":0,"creation_date":1668764212,"post_id":74487370,"comment_id":131490512,"body_markdown":"Without this line of code  `.with(csrf())` 403, but with it 404.","body":"Without this line of code  <code>.with(csrf())</code> 403, but with it 404."},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1668764502,"post_id":74487370,"comment_id":131490596,"body_markdown":"Then check the final url, &#39;.with(csrf())&#39; is fine but 404 is happening because of wrong api. Check the final path of api.","body":"Then check the final url, &#39;.with(csrf())&#39; is fine but 404 is happening because of wrong api. Check the final path of api."},{"owner":{"account_id":26620480,"reputation":1,"user_id":20239323,"display_name":"Naomi"},"score":0,"creation_date":1668764631,"post_id":74487370,"comment_id":131490638,"body_markdown":"I checked the path and I am sure that it is right. There is something else but what exactly I cant find","body":"I checked the path and I am sure that it is right. There is something else but what exactly I cant find"},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1668765576,"post_id":74487370,"comment_id":131490943,"body_markdown":"have you checked with postman? Is it working or Not?","body":"have you checked with postman? Is it working or Not?"}],"answers":[{"tags":[],"owner":{"account_id":20393288,"reputation":31,"user_id":14960732,"display_name":"florballa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668763956,"creation_date":1668763956,"answer_id":74487533,"question_id":74487370,"body_markdown":"So based on your websecurityConfig file, you require that every endpoint will be accessible only by users with role admin.\r\nThe error you are getting may be from that, so for testing purpose you can change it to: .anyRequest().permitAll()\r\nAlso please check that user has the ADMIN role and if so can you please check also the service of user? ","title":"I am getting error 403 when I test controller endpoint","body":"<p>So based on your websecurityConfig file, you require that every endpoint will be accessible only by users with role admin.\nThe error you are getting may be from that, so for testing purpose you can change it to: .anyRequest().permitAll()\nAlso please check that user has the ADMIN role and if so can you please check also the service of user?</p>\n"}],"owner":{"account_id":26620480,"reputation":1,"user_id":20239323,"display_name":"Naomi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668763956,"creation_date":1668763147,"question_id":74487370,"body_markdown":"I know that I should change something in websecurityConfig, but what exactly I can&#39;t find.Here is my websecurity config.\r\n```     @Bean\r\n    fun filterChain(http: HttpSecurity): SecurityFilterChain {\r\n        http\r\n            .cors().and()\r\n            .csrf().disable()\r\n            .authorizeRequests()\r\n            .anyRequest().hasRole(&quot;ADMIN&quot;)\r\n            .and()\r\n            .oauth2ResourceServer().jwt().jwtAuthenticationConverter(jwtAuthenticationConverter)\r\n        return http.build()\r\n    }\r\n ```\r\nAnd here I just try to check can I access to the endpoint\r\n```\r\n    @Test\r\n    @WithMockUser(roles = [&quot;ADMIN&quot;])\r\n    fun `testA`()  {\r\n        mvc\r\n            .perform(\r\n                post(&quot;/bla/bla&quot;)\r\n                    //.with(csrf())\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n            ).andExpect(status().isCreated)\r\n    }\r\n```\r\nI tried to use .with(csrf()), but it gives me error 404.\r\n","title":"I am getting error 403 when I test controller endpoint","body":"<p>I know that I should change something in websecurityConfig, but what exactly I can't find.Here is my websecurity config.</p>\n<pre><code>    fun filterChain(http: HttpSecurity): SecurityFilterChain {\n        http\n            .cors().and()\n            .csrf().disable()\n            .authorizeRequests()\n            .anyRequest().hasRole(&quot;ADMIN&quot;)\n            .and()\n            .oauth2ResourceServer().jwt().jwtAuthenticationConverter(jwtAuthenticationConverter)\n        return http.build()\n    }\n</code></pre>\n<p>And here I just try to check can I access to the endpoint</p>\n<pre><code>    @Test\n    @WithMockUser(roles = [&quot;ADMIN&quot;])\n    fun `testA`()  {\n        mvc\n            .perform(\n                post(&quot;/bla/bla&quot;)\n                    //.with(csrf())\n                    .contentType(MediaType.APPLICATION_JSON)\n            ).andExpect(status().isCreated)\n    }\n</code></pre>\n<p>I tried to use .with(csrf()), but it gives me error 404.</p>\n"},{"tags":["java","asynchronous"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1605853554,"post_id":64924529,"comment_id":114784971,"body_markdown":"Take a look at the [asynchronous channel](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousChannel.html) implementations of Java NIO.","body":"Take a look at the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousChannel.html\" rel=\"nofollow noreferrer\">asynchronous channel</a> implementations of Java NIO."},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1605854898,"post_id":64924529,"comment_id":114785310,"body_markdown":"Thanks, @Slaw. I found [AsynchronousFileChannel.write](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousFileChannel.html), which is just the sort of thing I was hoping for. Do you want to post an answer?","body":"Thanks, @Slaw. I found <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousFileChannel.html\" rel=\"nofollow noreferrer\">AsynchronousFileChannel.write</a>, which is just the sort of thing I was hoping for. Do you want to post an answer?"}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605855996,"creation_date":1605855996,"answer_id":64925174,"question_id":64924529,"body_markdown":"The Java standard library generally uses the `Future` abstraction instead of a callback as the core building block. If you want to build a &quot;callback-based&quot; structure, you then use the `then*` methods on `CompletionStage` (typically `CompletableFuture`).\r\n\r\nThis structure allows for flexibility in how the caller wants asynchronous results handled; for example, I&#39;ve used it for scatter-gather on multiple downstream API calls used to build a compound result.","title":"Seeking example of asynchronous methods in Java standard library","body":"<p>The Java standard library generally uses the <code>Future</code> abstraction instead of a callback as the core building block. If you want to build a &quot;callback-based&quot; structure, you then use the <code>then*</code> methods on <code>CompletionStage</code> (typically <code>CompletableFuture</code>).</p>\n<p>This structure allows for flexibility in how the caller wants asynchronous results handled; for example, I've used it for scatter-gather on multiple downstream API calls used to build a compound result.</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1605856747,"creation_date":1605856747,"answer_id":64925325,"question_id":64924529,"body_markdown":"One group of examples you&#39;re looking for is the Java NIO [AynchronousChannel][1] implementations. For instance:\r\n\r\n* [AsynchronousFileChannel#lock(A, CompletionHandler)][2]\r\n* [AsynchronousFileChannel#read(ByteBuffer, long, A, CompletionHandler)][3]\r\n* [AsynchronousFileChannel#write(ByteBuffer, long, A, CompletionHandler)][4]\r\n* [AsynchronousSocketChannel#connect(SocketAddress, A, CompletionHandler)][5]\r\n* [AsynchronousServerSocketChannel#accept(A, CompletionHandler)][6]\r\n\r\nAs you can see, all those methods (and others not listed) use the provided [CompletionHandler][7] to notify callers of completion, whether the operation succeeded or failed. Most, if not all, of those methods have an overload which does not accept a `CompletionHandler` but instead returns a `Future`.\r\n\r\nThere&#39;s also [java.util.concurrent.CompletionStage][8], which has many methods which invoke some functional interface implementation once the stage is complete.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousChannel.html\r\n  [2]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousFileChannel.html#lock(A,java.nio.channels.CompletionHandler)\r\n  [3]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousFileChannel.html#read(java.nio.ByteBuffer,long,A,java.nio.channels.CompletionHandler)\r\n  [4]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousFileChannel.html#write(java.nio.ByteBuffer,long,A,java.nio.channels.CompletionHandler)\r\n  [5]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousSocketChannel.html#connect(java.net.SocketAddress,A,java.nio.channels.CompletionHandler)\r\n  [6]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousServerSocketChannel.html#accept(A,java.nio.channels.CompletionHandler)\r\n  [7]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/CompletionHandler.html\r\n  [8]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/concurrent/CompletionStage.html","title":"Seeking example of asynchronous methods in Java standard library","body":"<p>One group of examples you're looking for is the Java NIO <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousChannel.html\" rel=\"nofollow noreferrer\">AynchronousChannel</a> implementations. For instance:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousFileChannel.html#lock(A,java.nio.channels.CompletionHandler)\" rel=\"nofollow noreferrer\">AsynchronousFileChannel#lock(A, CompletionHandler)</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousFileChannel.html#read(java.nio.ByteBuffer,long,A,java.nio.channels.CompletionHandler)\" rel=\"nofollow noreferrer\">AsynchronousFileChannel#read(ByteBuffer, long, A, CompletionHandler)</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousFileChannel.html#write(java.nio.ByteBuffer,long,A,java.nio.channels.CompletionHandler)\" rel=\"nofollow noreferrer\">AsynchronousFileChannel#write(ByteBuffer, long, A, CompletionHandler)</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousSocketChannel.html#connect(java.net.SocketAddress,A,java.nio.channels.CompletionHandler)\" rel=\"nofollow noreferrer\">AsynchronousSocketChannel#connect(SocketAddress, A, CompletionHandler)</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/AsynchronousServerSocketChannel.html#accept(A,java.nio.channels.CompletionHandler)\" rel=\"nofollow noreferrer\">AsynchronousServerSocketChannel#accept(A, CompletionHandler)</a></li>\n</ul>\n<p>As you can see, all those methods (and others not listed) use the provided <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/channels/CompletionHandler.html\" rel=\"nofollow noreferrer\">CompletionHandler</a> to notify callers of completion, whether the operation succeeded or failed. Most, if not all, of those methods have an overload which does not accept a <code>CompletionHandler</code> but instead returns a <code>Future</code>.</p>\n<p>There's also <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/concurrent/CompletionStage.html\" rel=\"nofollow noreferrer\">java.util.concurrent.CompletionStage</a>, which has many methods which invoke some functional interface implementation once the stage is complete.</p>\n"},{"tags":[],"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668763953,"creation_date":1668763953,"answer_id":74487531,"question_id":64924529,"body_markdown":"Check https://github.com/javasync/idioms. You may find here different approaches of using asynchronicity with non-blocking IO with an example of counting the total number of lines of given files (e.g. `countLines(String...paths)`) using the following idioms: \r\n* [Callbacks](https://github.com/javasync/idioms/blob/master/src/main/java/org/javasync/idioms/files/AsyncIoCallbacks3.java)\r\n* [CompletableFuture](https://github.com/javasync/idioms/blob/master/src/main/java/org/javasync/idioms/files/AsyncIoCf3.java)\r\n* [Reactive Streams](https://github.com/javasync/idioms/blob/master/src/main/java/org/javasync/idioms/files/AsyncIoRx.java)\r\n","title":"Seeking example of asynchronous methods in Java standard library","body":"<p>Check <a href=\"https://github.com/javasync/idioms\" rel=\"nofollow noreferrer\">https://github.com/javasync/idioms</a>. You may find here different approaches of using asynchronicity with non-blocking IO with an example of counting the total number of lines of given files (e.g. <code>countLines(String...paths)</code>) using the following idioms:</p>\n<ul>\n<li><a href=\"https://github.com/javasync/idioms/blob/master/src/main/java/org/javasync/idioms/files/AsyncIoCallbacks3.java\" rel=\"nofollow noreferrer\">Callbacks</a></li>\n<li><a href=\"https://github.com/javasync/idioms/blob/master/src/main/java/org/javasync/idioms/files/AsyncIoCf3.java\" rel=\"nofollow noreferrer\">CompletableFuture</a></li>\n<li><a href=\"https://github.com/javasync/idioms/blob/master/src/main/java/org/javasync/idioms/files/AsyncIoRx.java\" rel=\"nofollow noreferrer\">Reactive Streams</a></li>\n</ul>\n"}],"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":64925325,"answer_count":3,"score":1,"last_activity_date":1668763953,"creation_date":1605851821,"question_id":64924529,"body_markdown":"I&#39;d like to find an example in the Java standard libraries of a method that takes a callback as an argument, returns immediately, and invokes the callback when it has completed its task. For example, you could imagine a method to get user input from the keyboard that returns immediately but invokes the callback once the input has been entered.\r\n\r\nNext best would be a method that calls a listener when it has completed its task. An example from the Android SDK would be [`SoundPool.load()`][1] and [`SoundPool.setOnLoadCompleteListener()`][2].\r\n\r\nI don&#39;t consider Swing methods like `addActionListener()` to be examples, since the purpose of the method is to add the listener. The triggering event is entirely separate.\r\n\r\nMy motivation is preparing a lecture on Java I/O and wanting to contrast methods that (1) block, (2) return immediately with or without data, or (3) use callbacks.\r\n\r\n  [1]: https://developer.android.com/reference/android/media/SoundPool#load(android.content.Context,%20int,%20int)\r\n  [2]: https://developer.android.com/reference/android/media/SoundPool#setOnLoadCompleteListener(android.media.SoundPool.OnLoadCompleteListener)","title":"Seeking example of asynchronous methods in Java standard library","body":"<p>I'd like to find an example in the Java standard libraries of a method that takes a callback as an argument, returns immediately, and invokes the callback when it has completed its task. For example, you could imagine a method to get user input from the keyboard that returns immediately but invokes the callback once the input has been entered.</p>\n<p>Next best would be a method that calls a listener when it has completed its task. An example from the Android SDK would be <a href=\"https://developer.android.com/reference/android/media/SoundPool#load(android.content.Context,%20int,%20int)\" rel=\"nofollow noreferrer\"><code>SoundPool.load()</code></a> and <a href=\"https://developer.android.com/reference/android/media/SoundPool#setOnLoadCompleteListener(android.media.SoundPool.OnLoadCompleteListener)\" rel=\"nofollow noreferrer\"><code>SoundPool.setOnLoadCompleteListener()</code></a>.</p>\n<p>I don't consider Swing methods like <code>addActionListener()</code> to be examples, since the purpose of the method is to add the listener. The triggering event is entirely separate.</p>\n<p>My motivation is preparing a lecture on Java I/O and wanting to contrast methods that (1) block, (2) return immediately with or without data, or (3) use callbacks.</p>\n"},{"tags":["java","kotlin","gradle","jooq","toolchain"],"comments":[{"owner":{"account_id":2099259,"reputation":1551,"user_id":1931666,"accept_rate":80,"display_name":"tdhulster"},"score":0,"creation_date":1670423303,"post_id":74487465,"comment_id":131873278,"body_markdown":"Experiencing similar issues, have you found any resolution to this problem?","body":"Experiencing similar issues, have you found any resolution to this problem?"},{"owner":{"account_id":1682117,"reputation":581,"user_id":1546146,"display_name":"Tobi Nonymous"},"score":0,"creation_date":1670792461,"post_id":74487465,"comment_id":131950047,"body_markdown":"The only way I found to get this working in the end was to set up a new build agent that runs a Java 17 JDK to initialize the build","body":"The only way I found to get this working in the end was to set up a new build agent that runs a Java 17 JDK to initialize the build"}],"owner":{"account_id":1682117,"reputation":581,"user_id":1546146,"display_name":"Tobi Nonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1668763665,"creation_date":1668763665,"question_id":74487465,"body_markdown":"I&#39;m trying to get the `nu.studer:gradle-jooq-plugin:8.0` plugin to work in a toolchain environment\r\n\r\nBackground: Our CI server currently builds using a Java 11 JDK (something I have limited influence over), we are using the Gradle toolchain feature to build our service with Java 17\r\n```\r\n\r\njava {\r\n  toolchain {\r\n    languageVersion.set(JavaLanguageVersion.of(17))\r\n  }\r\n}\r\nkotlin {\r\n  jvmToolchain {\r\n    (this as JavaToolchainSpec).languageVersion.set(JavaLanguageVersion.of(17))\r\n  }\r\n}\r\n```\r\n\r\nHowever, when I try to add the jooq gradle plugin, the download of the plugin fails with the following error:\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n \r\n* What went wrong:\r\nA problem occurred configuring project &#39;:service&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:service:classpath&#39;.\r\n   &gt; Could not resolve nu.studer:gradle-jooq-plugin:8.0.\r\n     Required by:\r\n         project :service &gt; nu.studer.jooq:nu.studer.jooq.gradle.plugin:8.0\r\n      &gt; No matching variant of nu.studer:gradle-jooq-plugin:8.0 was found. The consumer was configured to find a runtime of a library compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.4.2&#39; but:\r\n          - Variant &#39;apiElements&#39; capability nu.studer:gradle-jooq-plugin:8.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.4.2&#39;)\r\n          - Variant &#39;javadocElements&#39; capability nu.studer:gradle-jooq-plugin:8.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.4.2&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability nu.studer:gradle-jooq-plugin:8.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.4.2&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability nu.studer:gradle-jooq-plugin:8.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.4.2&#39;)\r\n```\r\n\r\nI have also tried to add the toolchain directly to the Jooq task\r\n```tasks.withType&lt;JooqGenerate&gt; {\r\n  (launcher::set)(javaToolchains.launcherFor {\r\n    languageVersion.set(JavaLanguageVersion.of(17))\r\n  })\r\n  dependsOn(tasks.flywayMigrate)\r\n}\r\n```\r\nbut my current assumption is that the configurations only apply once the buildscript is initialized, and the initialization of the buildscript fails due to the build running with Java 11.\r\n\r\nI guess I would need to configure the `buildscript {}` to run using a defined toolchain as well, but I haven&#39;t found any resources on how to do that. Is this possible, would it fix my build issue, and if yes, how do I do this?","title":"Gradle: Jooq plugin 8.0 on Java 11 with Gradle toolchain (Java17)","body":"<p>I'm trying to get the <code>nu.studer:gradle-jooq-plugin:8.0</code> plugin to work in a toolchain environment</p>\n<p>Background: Our CI server currently builds using a Java 11 JDK (something I have limited influence over), we are using the Gradle toolchain feature to build our service with Java 17</p>\n<pre><code>\njava {\n  toolchain {\n    languageVersion.set(JavaLanguageVersion.of(17))\n  }\n}\nkotlin {\n  jvmToolchain {\n    (this as JavaToolchainSpec).languageVersion.set(JavaLanguageVersion.of(17))\n  }\n}\n</code></pre>\n<p>However, when I try to add the jooq gradle plugin, the download of the plugin fails with the following error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n \n* What went wrong:\nA problem occurred configuring project ':service'.\n&gt; Could not resolve all files for configuration ':service:classpath'.\n   &gt; Could not resolve nu.studer:gradle-jooq-plugin:8.0.\n     Required by:\n         project :service &gt; nu.studer.jooq:nu.studer.jooq.gradle.plugin:8.0\n      &gt; No matching variant of nu.studer:gradle-jooq-plugin:8.0 was found. The consumer was configured to find a runtime of a library compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.4.2' but:\n          - Variant 'apiElements' capability nu.studer:gradle-jooq-plugin:8.0 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.4.2')\n          - Variant 'javadocElements' capability nu.studer:gradle-jooq-plugin:8.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 11)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.4.2')\n          - Variant 'runtimeElements' capability nu.studer:gradle-jooq-plugin:8.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.4.2')\n          - Variant 'sourcesElements' capability nu.studer:gradle-jooq-plugin:8.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 11)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.4.2')\n</code></pre>\n<p>I have also tried to add the toolchain directly to the Jooq task</p>\n<pre><code>  (launcher::set)(javaToolchains.launcherFor {\n    languageVersion.set(JavaLanguageVersion.of(17))\n  })\n  dependsOn(tasks.flywayMigrate)\n}\n</code></pre>\n<p>but my current assumption is that the configurations only apply once the buildscript is initialized, and the initialization of the buildscript fails due to the build running with Java 11.</p>\n<p>I guess I would need to configure the <code>buildscript {}</code> to run using a defined toolchain as well, but I haven't found any resources on how to do that. Is this possible, would it fix my build issue, and if yes, how do I do this?</p>\n"},{"tags":["java","ms-word","apache-poi"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668763695,"post_id":74487427,"comment_id":131490317,"body_markdown":"Office applications can usually open &quot;corrupted&quot; files and fix them on the fly. Apache poi can usually not open such files correctly. In those cases, it helps to open the file in word/excel and just save it again. Afterwards apache poi should be able to open the file","body":"Office applications can usually open &quot;corrupted&quot; files and fix them on the fly. Apache poi can usually not open such files correctly. In those cases, it helps to open the file in word/excel and just save it again. Afterwards apache poi should be able to open the file"},{"owner":{"account_id":17049879,"reputation":3,"user_id":19931740,"display_name":"FireHe4d"},"score":0,"creation_date":1668764060,"post_id":74487427,"comment_id":131490447,"body_markdown":"Problem is that I cant open file, When I try to open, immediately appears this error","body":"Problem is that I cant open file, When I try to open, immediately appears this error"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1668771796,"post_id":74487427,"comment_id":131493015,"body_markdown":"[Apache POI 3.10 was released in 2014](https://poi.apache.org/devel/history/changes-3x.html#3.10-FINAL) - what happens if you upgrade to a version that isn&#39;t nearly a decade old?","body":"<a href=\"https://poi.apache.org/devel/history/changes-3x.html#3.10-FINAL\" rel=\"nofollow noreferrer\">Apache POI 3.10 was released in 2014</a> - what happens if you upgrade to a version that isn&#39;t nearly a decade old?"}],"owner":{"account_id":17049879,"reputation":3,"user_id":19931740,"display_name":"FireHe4d"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668763457,"creation_date":1668763457,"question_id":74487427,"body_markdown":"I am new to Apache poi. I am using apache poi version 3.10 and java 1.6. \r\n\r\nWhen I download docx file, I should get file with watermark. After downloading, when I try to open this docx, it gives me the error:  The Office Open XML file cannot be opened because there are problems with the content and in the description: text/xml declaration can only appear at the very beginning of the input. Location word/header4.xml\r\n\r\nHowever, when I open docx viewer from browser, it perfectly shows me file with content, header and watermark.\r\n\r\nCouldn&#39;t understand what gives error \r\n\r\n```\r\nXWPFHeaderFooterPolicy headerFooterPolicy = doc.getHeaderFooterPolicy();\r\nheaderFooterPolicy.createWatermark(&quot;Watermark&quot;);\r\nByteArrayOutputStream baos = new ByteArrayOutputStream();\r\ndocument.write(baos);\r\nPortletResponseUtil.sendFile(request, res, outputFile,\r\nbaos.toByteArray(), contentType);\r\n```\r\n\r\n\r\n\r\n\r\nI tried this links\r\nhttps://stackoverflow.com/questions/48248276/add-watermark-in-word-document-using-apache-poi\r\nhttps://stackoverflow.com/questions/68864650/add-a-watermark-with-apache-poi-to-a-docx-that-already-have-a-header\r\nhttps://stackoverflow.com/questions/14192947/is-it-possible-for-apache-poi-to-add-remove-watermark-to-microsoft-word\r\n\r\nWhat I expect that I could open docx file with watermark in word document.","title":"Apache POI header.xml Docx output issue","body":"<p>I am new to Apache poi. I am using apache poi version 3.10 and java 1.6.</p>\n<p>When I download docx file, I should get file with watermark. After downloading, when I try to open this docx, it gives me the error:  The Office Open XML file cannot be opened because there are problems with the content and in the description: text/xml declaration can only appear at the very beginning of the input. Location word/header4.xml</p>\n<p>However, when I open docx viewer from browser, it perfectly shows me file with content, header and watermark.</p>\n<p>Couldn't understand what gives error</p>\n<pre><code>XWPFHeaderFooterPolicy headerFooterPolicy = doc.getHeaderFooterPolicy();\nheaderFooterPolicy.createWatermark(&quot;Watermark&quot;);\nByteArrayOutputStream baos = new ByteArrayOutputStream();\ndocument.write(baos);\nPortletResponseUtil.sendFile(request, res, outputFile,\nbaos.toByteArray(), contentType);\n</code></pre>\n<p>I tried this links\n<a href=\"https://stackoverflow.com/questions/48248276/add-watermark-in-word-document-using-apache-poi\">Add watermark in word document using Apache POI</a>\n<a href=\"https://stackoverflow.com/questions/68864650/add-a-watermark-with-apache-poi-to-a-docx-that-already-have-a-header\">Add a watermark with Apache POI to a docx that already have a header</a>\n<a href=\"https://stackoverflow.com/questions/14192947/is-it-possible-for-apache-poi-to-add-remove-watermark-to-microsoft-word\">Is it possible for Apache POI to add / remove watermark to Microsoft Word</a></p>\n<p>What I expect that I could open docx file with watermark in word document.</p>\n"},{"tags":["java","h2","database-migration","flyway","mariadb-10.3"],"answers":[{"tags":[],"owner":{"account_id":1144927,"reputation":2893,"user_id":1127920,"accept_rate":81,"display_name":"gawi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668763449,"creation_date":1668763449,"answer_id":74487424,"question_id":74486602,"body_markdown":"&gt; Is it a approach way, or this can be done &#39;simplier&#39;?\r\n\r\nThe simplest solution would be to configure your CI job in gitlab to use MariaDB service. This would guarantee that your test will be executed in the same environment as your production code. (take a look here: https://docs.gitlab.com/ee/ci/services/mysql.html)\r\n\r\nAnother alternative to this is to configure testcontainers (https://www.testcontainers.org/). It allows you to startup empty db during test setup. However from my experience sometimes there are issues because it depends on docker so you work in &quot;DIND mode&quot;.\r\n\r\n&gt; Can FlyWay be configured in such way to work with different databases?\r\n\r\nYou can configure Flyway in a way that you would run different set of migration scripts depending on whatever you like (for example database driver). However, it requires some manual configuration and code writing that handles it and it is useful if in your tests (or production) you would like to use different databases (for example you want to test if you code works with postgres and mariadb)\r\n\r\n&gt; I found in documentation how depending on placeholders to run migrations. \r\n\r\nWell in principle you should have different configuration for tests and prod so you could separate it easily. Different `application.properties` should be enough for that but you can use FlyWay environments.","title":"FlyWay configuration for several databases","body":"<blockquote>\n<p>Is it a approach way, or this can be done 'simplier'?</p>\n</blockquote>\n<p>The simplest solution would be to configure your CI job in gitlab to use MariaDB service. This would guarantee that your test will be executed in the same environment as your production code. (take a look here: <a href=\"https://docs.gitlab.com/ee/ci/services/mysql.html\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/ci/services/mysql.html</a>)</p>\n<p>Another alternative to this is to configure testcontainers (<a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/</a>). It allows you to startup empty db during test setup. However from my experience sometimes there are issues because it depends on docker so you work in &quot;DIND mode&quot;.</p>\n<blockquote>\n<p>Can FlyWay be configured in such way to work with different databases?</p>\n</blockquote>\n<p>You can configure Flyway in a way that you would run different set of migration scripts depending on whatever you like (for example database driver). However, it requires some manual configuration and code writing that handles it and it is useful if in your tests (or production) you would like to use different databases (for example you want to test if you code works with postgres and mariadb)</p>\n<blockquote>\n<p>I found in documentation how depending on placeholders to run migrations.</p>\n</blockquote>\n<p>Well in principle you should have different configuration for tests and prod so you could separate it easily. Different <code>application.properties</code> should be enough for that but you can use FlyWay environments.</p>\n"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74487424,"answer_count":1,"score":0,"last_activity_date":1668763449,"creation_date":1668758754,"question_id":74486602,"body_markdown":"I&#39;m integrating `FlyWay` to the project. Besides of migrations for working database I would like to setup database with fixtures for integration tests during gitlab pipeline job(just for cases when somebody pushes the branch). \r\n\r\nOn project is used `MariaDB`, so I&#39;m thinking now about such way: to add `H2` database, to create migrations with testing fixtures for it. So for prod/staging/dev will be used `MariadDb` with its migrations, but during gitlab pipeline on one of jobs temporary will be used `H2` with test fixtures.  \r\n\r\n So I have a couple of questions about this:\r\n\r\n - Is it a approach way, or this can be done &#39;simplier&#39;?\r\n - Can `FlyWay` be configured in such way to work with different\r\n   databases? First to connect to H@, to apply test-migrations and later after test step to switch to Maria and to apply basic migrations on it\r\n - I found in [documentation][1] how depending on placeholders to run\r\n   migrations. Is it a single way to make FlyWay distinguish prod\r\n   migrations from migrations for test?\r\n\r\n  [1]: https://flywaydb.org/documentation/tutorials/injectingEnvironments","title":"FlyWay configuration for several databases","body":"<p>I'm integrating <code>FlyWay</code> to the project. Besides of migrations for working database I would like to setup database with fixtures for integration tests during gitlab pipeline job(just for cases when somebody pushes the branch).</p>\n<p>On project is used <code>MariaDB</code>, so I'm thinking now about such way: to add <code>H2</code> database, to create migrations with testing fixtures for it. So for prod/staging/dev will be used <code>MariadDb</code> with its migrations, but during gitlab pipeline on one of jobs temporary will be used <code>H2</code> with test fixtures.</p>\n<p>So I have a couple of questions about this:</p>\n<ul>\n<li>Is it a approach way, or this can be done 'simplier'?</li>\n<li>Can <code>FlyWay</code> be configured in such way to work with different\ndatabases? First to connect to H@, to apply test-migrations and later after test step to switch to Maria and to apply basic migrations on it</li>\n<li>I found in <a href=\"https://flywaydb.org/documentation/tutorials/injectingEnvironments\" rel=\"nofollow noreferrer\">documentation</a> how depending on placeholders to run\nmigrations. Is it a single way to make FlyWay distinguish prod\nmigrations from migrations for test?</li>\n</ul>\n"},{"tags":["java","spring-webflux","reactive","reactor"],"comments":[{"owner":{"account_id":12865547,"reputation":31,"user_id":9305964,"display_name":"Gonzalo Viegas"},"score":0,"creation_date":1616189280,"post_id":66715776,"comment_id":117934679,"body_markdown":"I know it is an error declaring the Function Mono&lt;UserProfile&gt; and returning UserProfile. \nThats not the point of the question, I think. What really is important is the programming style to merge serveral Mono&lt;?&gt; objects into one single Mono&lt;X&gt;","body":"I know it is an error declaring the Function Mono&lt;UserProfile&gt; and returning UserProfile.  Thats not the point of the question, I think. What really is important is the programming style to merge serveral Mono&lt;?&gt; objects into one single Mono&lt;X&gt;"}],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616268575,"creation_date":1616268575,"answer_id":66725651,"question_id":66715776,"body_markdown":"`Mono.zip()` is the way to go, but you can save a step by using the override that allows you to specify both your zipped publishers and your map function in one go:\r\n\r\n    @GetMapping(&quot;v1/event/validate/&quot;)\r\n    public Mono&lt;PanoramixScoreDetailDTO&gt; validateEvent(@RequestBody LeadEventDTO eventDTO) {\r\n        return leadService.getLead(eventDTO.getSiteId(), eventDTO.getIdContacto())\r\n                .flatMap(lead -&gt;\r\n                        Mono.zip(arr -&gt;\r\n                                        panoramixScoreMapper.mapTo(lead, (PhoneValidationDTO) arr[0],\r\n                                                (EmailValidationDTO) arr[1],\r\n                                                (ProcessedProfileSmartLeadDTO) arr[2], eventDTO),\r\n                                validationService.validatePhone(eventDTO.getSiteId(), lead.getPhone()),\r\n                                validationService.validateEmail(eventDTO.getSiteId(), lead.getLeadUser().getEmail()),\r\n                                smartleadService.getProcessedProfile(eventDTO.getSiteId(), eventDTO.getIdUsuario()))\r\n\r\n                );\r\n    }","title":"How to map several Mono into one object using Spring Webflux Reactive Java?","body":"<p><code>Mono.zip()</code> is the way to go, but you can save a step by using the override that allows you to specify both your zipped publishers and your map function in one go:</p>\n<pre><code>@GetMapping(&quot;v1/event/validate/&quot;)\npublic Mono&lt;PanoramixScoreDetailDTO&gt; validateEvent(@RequestBody LeadEventDTO eventDTO) {\n    return leadService.getLead(eventDTO.getSiteId(), eventDTO.getIdContacto())\n            .flatMap(lead -&gt;\n                    Mono.zip(arr -&gt;\n                                    panoramixScoreMapper.mapTo(lead, (PhoneValidationDTO) arr[0],\n                                            (EmailValidationDTO) arr[1],\n                                            (ProcessedProfileSmartLeadDTO) arr[2], eventDTO),\n                            validationService.validatePhone(eventDTO.getSiteId(), lead.getPhone()),\n                            validationService.validateEmail(eventDTO.getSiteId(), lead.getLeadUser().getEmail()),\n                            smartleadService.getProcessedProfile(eventDTO.getSiteId(), eventDTO.getIdUsuario()))\n\n            );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3740643,"reputation":935,"user_id":3110488,"display_name":"m.nguyencntt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668763363,"creation_date":1668763363,"answer_id":74487411,"question_id":66715776,"body_markdown":"This is working for me.\r\n\r\n\tpublic Mono&lt;UserProfile&gt; getUserProfile(final String id) {\r\n\t\t// TODO\r\n\t\treturn Mono\r\n\t\t\t\t.zip(user, messages, notifications)\r\n\t\t\t\t.map(tuple -&gt; new UserProfile(tuple.getT1(), tuple.getT2(), tuple.getT3()));\r\n\t}","title":"How to map several Mono into one object using Spring Webflux Reactive Java?","body":"<p>This is working for me.</p>\n<pre><code>public Mono&lt;UserProfile&gt; getUserProfile(final String id) {\n    // TODO\n    return Mono\n            .zip(user, messages, notifications)\n            .map(tuple -&gt; new UserProfile(tuple.getT1(), tuple.getT2(), tuple.getT3()));\n}\n</code></pre>\n"}],"owner":{"account_id":12865547,"reputation":31,"user_id":9305964,"display_name":"Gonzalo Viegas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2658,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1668763363,"creation_date":1616189090,"question_id":66715776,"body_markdown":"I am wondering which is the correct or best way to map or merge several reactive service responses into one unique object.\r\n\r\nFor the example, simple traditional code like this:\r\n```java\r\npublic UserProfile getUserProfile(String id){\r\n    User user = userService.getUser(id);\r\n    Messages messages = messageService.getMessagesFromUser(id);\r\n    Notifications notifications = notificationService.getNotificationsForUser(id);\r\n    return new UserProfile(user, message, notifications);\r\n}\r\n```\r\nWhen trying to write it more &quot;functional like&quot; using webflux, it looks something like this:\r\n\r\n```java\r\npublic Mono&lt;UserProfile&gt; getUserProfile(String id){\r\n   return userService.getUser(id)\r\n\t\t  .map( user -&gt; {\r\n\t\t\t\treturn messageService.getMessagesFromUser(id)\r\n\t\t\t\t\t .map(messages -&gt; {\r\n\t\t\t\t\t\t   return notificationService.getNotificationsForUser(id)\r\n\t\t\t\t\t\t\t\t  .map(notifications -&gt; new UserProfile(user, message, notifications))\r\n\t\t\t\t\t   }\r\n\t\t\t}\r\n}\r\n```\r\nI personally,  don&#39;t like this kind of &quot;map steps&quot;, because it is not a sequential transformation. I need more like parallel processing, that&#39;s really easy to implement with CompletableFuture or other multithreading framework and traditional imperative code  (not functional).\r\n\r\nHow do you think you can improve this implementation?\r\nThis code works fine, but I don&#39;t think it&#39;s the correct way to write it. It seems to me that it looks ugly and not very understandable.\r\n\r\nEDIT!!!\r\nI think I&#39;ve found a better approach using Mono.zip, still I think it should be improvable\r\n```java\r\n@GetMapping(&quot;v1/event/validate/&quot;)\r\npublic Mono&lt;PanoramixScoreDetailDTO&gt; validateEvent(@RequestBody LeadEventDTO eventDTO) {\r\n\treturn leadService.getLead(eventDTO.getSiteId(), eventDTO.getIdContacto())\r\n\t\t\t.flatMap(lead -&gt; {\r\n\t\t\t\tMono&lt;PhoneValidationDTO&gt; phoneValidation = validationService.validatePhone(eventDTO.getSiteId(), lead.getPhone());\r\n\t\t\t\tMono&lt;EmailValidationDTO&gt; emailValidation = validationService.validateEmail(eventDTO.getSiteId(), lead.getLeadUser().getEmail());\r\n\t\t\t\tMono&lt;ProcessedProfileSmartleadDTO&gt; smartleadProfile = smartleadService.getProcessedProfile(eventDTO.getSiteId(), eventDTO.getIdUsuario());\r\n\t\t\t\treturn Mono.zip(phoneValidation, emailValidation, smartleadProfile)\r\n\t\t\t\t\t\t.map(tuple -&gt; panoramixScoreMapper.mapTo(lead, tuple.getT1(), tuple.getT2(), tuple.getT3(), eventDTO));\r\n\t\t\t});\r\n}\r\n```\r\nI would like to hear your opinions.\r\nThanks!\r\n","title":"How to map several Mono into one object using Spring Webflux Reactive Java?","body":"<p>I am wondering which is the correct or best way to map or merge several reactive service responses into one unique object.</p>\n<p>For the example, simple traditional code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public UserProfile getUserProfile(String id){\n    User user = userService.getUser(id);\n    Messages messages = messageService.getMessagesFromUser(id);\n    Notifications notifications = notificationService.getNotificationsForUser(id);\n    return new UserProfile(user, message, notifications);\n}\n</code></pre>\n<p>When trying to write it more &quot;functional like&quot; using webflux, it looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;UserProfile&gt; getUserProfile(String id){\n   return userService.getUser(id)\n          .map( user -&gt; {\n                return messageService.getMessagesFromUser(id)\n                     .map(messages -&gt; {\n                           return notificationService.getNotificationsForUser(id)\n                                  .map(notifications -&gt; new UserProfile(user, message, notifications))\n                       }\n            }\n}\n</code></pre>\n<p>I personally,  don't like this kind of &quot;map steps&quot;, because it is not a sequential transformation. I need more like parallel processing, that's really easy to implement with CompletableFuture or other multithreading framework and traditional imperative code  (not functional).</p>\n<p>How do you think you can improve this implementation?\nThis code works fine, but I don't think it's the correct way to write it. It seems to me that it looks ugly and not very understandable.</p>\n<p>EDIT!!!\nI think I've found a better approach using Mono.zip, still I think it should be improvable</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;v1/event/validate/&quot;)\npublic Mono&lt;PanoramixScoreDetailDTO&gt; validateEvent(@RequestBody LeadEventDTO eventDTO) {\n    return leadService.getLead(eventDTO.getSiteId(), eventDTO.getIdContacto())\n            .flatMap(lead -&gt; {\n                Mono&lt;PhoneValidationDTO&gt; phoneValidation = validationService.validatePhone(eventDTO.getSiteId(), lead.getPhone());\n                Mono&lt;EmailValidationDTO&gt; emailValidation = validationService.validateEmail(eventDTO.getSiteId(), lead.getLeadUser().getEmail());\n                Mono&lt;ProcessedProfileSmartleadDTO&gt; smartleadProfile = smartleadService.getProcessedProfile(eventDTO.getSiteId(), eventDTO.getIdUsuario());\n                return Mono.zip(phoneValidation, emailValidation, smartleadProfile)\n                        .map(tuple -&gt; panoramixScoreMapper.mapTo(lead, tuple.getT1(), tuple.getT2(), tuple.getT3(), eventDTO));\n            });\n}\n</code></pre>\n<p>I would like to hear your opinions.\nThanks!</p>\n"},{"tags":["java","class","oop","super","derived-class"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1668762741,"post_id":74487265,"comment_id":131489952,"body_markdown":"This is how it is supposed to work, otherwise overriding methods wouldn&#39;t work, and you wouldn&#39;t get the benefits of polymorphism.","body":"This is how it is supposed to work, otherwise overriding methods wouldn&#39;t work, and you wouldn&#39;t get the benefits of polymorphism."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668762853,"post_id":74487265,"comment_id":131489998,"body_markdown":"`this.someMethod()` means you want to call the method `someMethod()` of the current Object. The current object is a `B` and therefor it will call the method of that class. As already said this is exactly how it is supposed to work.","body":"<code>this.someMethod()</code> means you want to call the method <code>someMethod()</code> of the current Object. The current object is a <code>B</code> and therefor it will call the method of that class. As already said this is exactly how it is supposed to work."},{"owner":{"display_name":"user15822443"},"score":0,"creation_date":1668763159,"post_id":74487265,"comment_id":131490104,"body_markdown":"And how can I make it so that I call the methods from A?","body":"And how can I make it so that I call the methods from A?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1668763322,"post_id":74487265,"comment_id":131490163,"body_markdown":"Don&#39;t override it in B. Or make it either `static` or `private` to avoid polymorphism.","body":"Don&#39;t override it in B. Or make it either <code>static</code> or <code>private</code> to avoid polymorphism."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1668763428,"post_id":74487265,"comment_id":131490206,"body_markdown":"Move the implementation of `someMethod` into a private helper method. Have the base implementation of `someMethod` and `someOtherMethod` call your helper method.","body":"Move the implementation of <code>someMethod</code> into a private helper method. Have the base implementation of <code>someMethod</code> and <code>someOtherMethod</code> call your helper method."}],"owner":{"display_name":"user15822443"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668763344,"creation_date":1668762591,"question_id":74487265,"body_markdown":"Let&#39;s say we have the following code:\r\n```java\r\npublic class A {\r\n    void someMethod() {\r\n        System.out.println(&quot;Some method from A&quot;);\r\n    }\r\n    void someOtherMethod() {\r\n        System.out.println(&quot;Some other method from A&quot;);\r\n        this.someMethod();\r\n    }\r\n}\r\n\r\npublic class B extends A {\r\n    void someMethod() {\r\n        System.out.println(&quot;Some method from B&quot;);\r\n    }\r\n    void test() {\r\n        System.out.println(&quot;Test method from B&quot;);\r\n        super.someOtherMethod();\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        B b = new B();\r\n        b.test();\r\n    }\r\n}\r\n```\r\nThe output is:\r\n```none\r\nTest method from B\r\nSome other method from A\r\nSome method from B\r\n```\r\nWhy in &#39;someOtherMethod()&#39; from A, when we call &#39;this.someMethod()&#39; the program calls the method from B. I was expecting it to call &#39;someMethod()&#39; from A and print &#39;Some method from A&#39; on the third line instead of &#39;Some method from B&#39;. Why is this happening and how can I make it so it works as I intended?","title":"super not working as I expected? (calling derived method instead of base method)","body":"<p>Let's say we have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    void someMethod() {\n        System.out.println(&quot;Some method from A&quot;);\n    }\n    void someOtherMethod() {\n        System.out.println(&quot;Some other method from A&quot;);\n        this.someMethod();\n    }\n}\n\npublic class B extends A {\n    void someMethod() {\n        System.out.println(&quot;Some method from B&quot;);\n    }\n    void test() {\n        System.out.println(&quot;Test method from B&quot;);\n        super.someOtherMethod();\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        B b = new B();\n        b.test();\n    }\n}\n</code></pre>\n<p>The output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Test method from B\nSome other method from A\nSome method from B\n</code></pre>\n<p>Why in 'someOtherMethod()' from A, when we call 'this.someMethod()' the program calls the method from B. I was expecting it to call 'someMethod()' from A and print 'Some method from A' on the third line instead of 'Some method from B'. Why is this happening and how can I make it so it works as I intended?</p>\n"},{"tags":["java","data-structures","stack","deque"],"comments":[{"owner":{"display_name":"user684934"},"score":1,"creation_date":1348206157,"post_id":12524826,"comment_id":16861049,"body_markdown":"It provides more baked-in methods, or rather &quot;a more complete and consistent set&quot; of them, which will reduce the amount of code you have to write if you take advantage of them?","body":"It provides more baked-in methods, or rather &quot;a more complete and consistent set&quot; of them, which will reduce the amount of code you have to write if you take advantage of them?"},{"owner":{"account_id":1773636,"reputation":5342,"user_id":1617910,"accept_rate":68,"display_name":"Free-Minded"},"score":4,"creation_date":1489644458,"post_id":12524826,"comment_id":72763534,"body_markdown":"http://baddotrobot.com/blog/2013/01/10/stack-vs-deque/","body":"<a href=\"http://baddotrobot.com/blog/2013/01/10/stack-vs-deque/\" rel=\"nofollow noreferrer\">baddotrobot.com/blog/2013/01/10/stack-vs-deque</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":288,"is_accepted":true,"score":288,"last_activity_date":1559205495,"creation_date":1348206575,"answer_id":12524949,"question_id":12524826,"body_markdown":"For one thing, it&#39;s more sensible in terms of inheritance. The fact that `Stack` extends `Vector` is really strange, in my view. Early in Java, inheritance was overused IMO - `Properties` being another example.\r\n\r\nFor me, the crucial word in the docs you quoted is *consistent*. `Deque` exposes a set of operations which is all about being able to fetch/add/remove items from the start or end of a collection, iterate etc - and that&#39;s it. There&#39;s deliberately no way to access an element by position, which `Stack` exposes *because* it&#39;s a subclass of `Vector`.\r\n\r\nOh, and also `Stack` has no interface, so if you know you need `Stack` operations you end up committing to a specific concrete class, which isn&#39;t usually a good idea.\r\n\r\nAlso as pointed out in the comments, `Stack` and `Deque` have reverse iteration orders:\r\n\r\n```java\r\nStack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\nstack.push(1);\r\nstack.push(2);\r\nstack.push(3);\r\nSystem.out.println(new ArrayList&lt;&gt;(stack)); // prints 1, 2, 3\r\n\r\n\r\nDeque&lt;Integer&gt; deque = new ArrayDeque&lt;&gt;();\r\ndeque.push(1);\r\ndeque.push(2);\r\ndeque.push(3);\r\nSystem.out.println(new ArrayList&lt;&gt;(deque)); // prints 3, 2, 1\r\n```\r\n\r\nwhich is also explained in the JavaDocs for [Deque.iterator()](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Deque.html#iterator()):\r\n\r\n&gt; Returns an iterator over the elements in this deque in proper sequence. The elements will be returned in order from first (head) to last (tail).\r\n","title":"Why should I use Deque over Stack?","body":"<p>For one thing, it's more sensible in terms of inheritance. The fact that <code>Stack</code> extends <code>Vector</code> is really strange, in my view. Early in Java, inheritance was overused IMO - <code>Properties</code> being another example.</p>\n\n<p>For me, the crucial word in the docs you quoted is <em>consistent</em>. <code>Deque</code> exposes a set of operations which is all about being able to fetch/add/remove items from the start or end of a collection, iterate etc - and that's it. There's deliberately no way to access an element by position, which <code>Stack</code> exposes <em>because</em> it's a subclass of <code>Vector</code>.</p>\n\n<p>Oh, and also <code>Stack</code> has no interface, so if you know you need <code>Stack</code> operations you end up committing to a specific concrete class, which isn't usually a good idea.</p>\n\n<p>Also as pointed out in the comments, <code>Stack</code> and <code>Deque</code> have reverse iteration orders:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\nstack.push(1);\nstack.push(2);\nstack.push(3);\nSystem.out.println(new ArrayList&lt;&gt;(stack)); // prints 1, 2, 3\n\n\nDeque&lt;Integer&gt; deque = new ArrayDeque&lt;&gt;();\ndeque.push(1);\ndeque.push(2);\ndeque.push(3);\nSystem.out.println(new ArrayList&lt;&gt;(deque)); // prints 3, 2, 1\n</code></pre>\n\n<p>which is also explained in the JavaDocs for <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Deque.html#iterator()\" rel=\"noreferrer\">Deque.iterator()</a>:</p>\n\n<blockquote>\n  <p>Returns an iterator over the elements in this deque in proper sequence. The elements will be returned in order from first (head) to last (tail).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2334871,"reputation":2281,"user_id":2047442,"display_name":"irudyak"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1397484690,"creation_date":1397484690,"answer_id":23062388,"question_id":12524826,"body_markdown":"Here is my interpretation of inconsistency mentioned in the description of Stack class.\r\n\r\nIf you look at General-purpose Implementations [here][1] - you&#39;ll see there is a consistent approach to implementation of set, map and list. \r\n\r\n - For set and map we have 2 standard implementations with hash maps and trees. The first one is most used and the second one is used when we need an ordered structure (and it also implements its own interface - SortedSet or SortedMap). \r\n\r\n - We may use the preferred style of declaring like `Set&lt;String&gt; set = new HashSet&lt;String&gt;();`see reasons [here][2].\r\n\r\nBut Stack class: 1) don&#39;t have its own interface; 2) is a subclass of Vector class - which is based on resizable array; so where is linked list implementation of stack?\r\n\r\nIn Deque interface we don&#39;t have such problems including two implementations (resizable array - ArrayDeque; linked list - LinkedList).\r\n\r\n\r\n  \r\n  [1]: http://docs.oracle.com/javase/tutorial/collections/implementations/index.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/collections/implementations/index.html","title":"Why should I use Deque over Stack?","body":"<p>Here is my interpretation of inconsistency mentioned in the description of Stack class.</p>\n\n<p>If you look at General-purpose Implementations <a href=\"http://docs.oracle.com/javase/tutorial/collections/implementations/index.html\" rel=\"noreferrer\">here</a> - you'll see there is a consistent approach to implementation of set, map and list. </p>\n\n<ul>\n<li><p>For set and map we have 2 standard implementations with hash maps and trees. The first one is most used and the second one is used when we need an ordered structure (and it also implements its own interface - SortedSet or SortedMap). </p></li>\n<li><p>We may use the preferred style of declaring like <code>Set&lt;String&gt; set = new HashSet&lt;String&gt;();</code>see reasons <a href=\"http://docs.oracle.com/javase/tutorial/collections/implementations/index.html\" rel=\"noreferrer\">here</a>.</p></li>\n</ul>\n\n<p>But Stack class: 1) don't have its own interface; 2) is a subclass of Vector class - which is based on resizable array; so where is linked list implementation of stack?</p>\n\n<p>In Deque interface we don't have such problems including two implementations (resizable array - ArrayDeque; linked list - LinkedList).</p>\n"},{"tags":[],"owner":{"account_id":14879820,"reputation":51,"user_id":10744820,"display_name":"Andi"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1543937789,"creation_date":1543936242,"answer_id":53615930,"question_id":12524826,"body_markdown":"For me this specific point was missing:\r\nStack is Threadsafe as it is derived from Vector, whereas the most deque implementations are not, and thus faster if you only use it in a single thread.","title":"Why should I use Deque over Stack?","body":"<p>For me this specific point was missing:\nStack is Threadsafe as it is derived from Vector, whereas the most deque implementations are not, and thus faster if you only use it in a single thread.</p>\n"},{"tags":[],"owner":{"account_id":3795830,"reputation":6437,"user_id":3150948,"accept_rate":70,"display_name":"Amer Qarabsa"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1626337233,"creation_date":1549376909,"answer_id":54536611,"question_id":12524826,"body_markdown":"One more reason to use `Deque` over `Stack` is `Deque` has the ability to use streams convert to list with keeping LIFO concept applied while Stack does not.\r\n\r\n\r\n\r\n    Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n    Deque&lt;Integer&gt; deque = new ArrayDeque&lt;&gt;();\r\n    \r\n    stack.push(1);//1 is the top\r\n    deque.push(1)//1 is the top\r\n    stack.push(2);//2 is the top\r\n    deque.push(2);//2 is the top\r\n    \r\n    List&lt;Integer&gt; list1 = stack.stream().collect(Collectors.toList());//[1,2]\r\n\r\n    List&lt;Integer&gt; list2 = deque.stream().collect(Collectors.toList());//[2,1]\r\n\r\n","title":"Why should I use Deque over Stack?","body":"<p>One more reason to use <code>Deque</code> over <code>Stack</code> is <code>Deque</code> has the ability to use streams convert to list with keeping LIFO concept applied while Stack does not.</p>\n<pre><code>Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\nDeque&lt;Integer&gt; deque = new ArrayDeque&lt;&gt;();\n\nstack.push(1);//1 is the top\ndeque.push(1)//1 is the top\nstack.push(2);//2 is the top\ndeque.push(2);//2 is the top\n\nList&lt;Integer&gt; list1 = stack.stream().collect(Collectors.toList());//[1,2]\n\nList&lt;Integer&gt; list2 = deque.stream().collect(Collectors.toList());//[2,1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":205579,"reputation":63,"user_id":1652309,"display_name":"eddy"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1559640126,"creation_date":1559640126,"answer_id":56441030,"question_id":12524826,"body_markdown":"Performance might be a reason. An algorithm I used went down from 7.6 minutes to 1.5 minutes by just replacing Stack with Deque.","title":"Why should I use Deque over Stack?","body":"<p>Performance might be a reason. An algorithm I used went down from 7.6 minutes to 1.5 minutes by just replacing Stack with Deque.</p>\n"},{"tags":[],"owner":{"account_id":7582835,"reputation":581,"user_id":5753018,"display_name":"Arpit Bhargava"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1587532314,"creation_date":1587532314,"answer_id":61357726,"question_id":12524826,"body_markdown":"Here are a few reasons why Deque is better than Stack:\r\n\r\nObject oriented design - Inheritance, abstraction, classes and interfaces: Stack is a class, Deque is an interface. Only one class can be extended, whereas any number of interfaces can be implemented by a single class in Java (multiple inheritance of type). Using the Deque interface removes the dependency on the concrete Stack class and its ancestors and gives you more flexibility, e.g. the freedom to extend a different class or swap out different implementations of Deque (like LinkedList, ArrayDeque).\r\n\r\nInconsistency: Stack extends the Vector class, which allows you to access element by index. This is inconsistent with what a Stack should actually do, which is why the Deque interface is preferred (it does not allow such operations)--its allowed operations are consistent with what a FIFO or LIFO data structure should allow.\r\n\r\nPerformance: The Vector class that Stack extends is basically the &quot;thread-safe&quot; version of an ArrayList. The synchronizations can potentially cause a significant performance hit to your application. Also, extending other classes with unneeded functionality (as mentioned in #2) bloat your objects, potentially costing a lot of extra memory and performance overhead.\r\n","title":"Why should I use Deque over Stack?","body":"<p>Here are a few reasons why Deque is better than Stack:</p>\n\n<p>Object oriented design - Inheritance, abstraction, classes and interfaces: Stack is a class, Deque is an interface. Only one class can be extended, whereas any number of interfaces can be implemented by a single class in Java (multiple inheritance of type). Using the Deque interface removes the dependency on the concrete Stack class and its ancestors and gives you more flexibility, e.g. the freedom to extend a different class or swap out different implementations of Deque (like LinkedList, ArrayDeque).</p>\n\n<p>Inconsistency: Stack extends the Vector class, which allows you to access element by index. This is inconsistent with what a Stack should actually do, which is why the Deque interface is preferred (it does not allow such operations)--its allowed operations are consistent with what a FIFO or LIFO data structure should allow.</p>\n\n<p>Performance: The Vector class that Stack extends is basically the \"thread-safe\" version of an ArrayList. The synchronizations can potentially cause a significant performance hit to your application. Also, extending other classes with unneeded functionality (as mentioned in #2) bloat your objects, potentially costing a lot of extra memory and performance overhead.</p>\n"},{"tags":[],"owner":{"account_id":21699938,"reputation":21,"user_id":18237977,"display_name":"sfarshian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658144333,"creation_date":1658144333,"answer_id":73021741,"question_id":12524826,"body_markdown":"There are several reason that Deque is better than stack for implementation:\r\n\r\n1. Deque is an interface and stack is a class:\r\nIn class creation it is better to implement an interface than extend a class \r\nbecause after extending you cannot extend another class, you can only implement an interface in the other hand when you implement an interface you can extend a class and also implement another interfaces.\r\n\r\n2. Synchronization:\r\nBecause stack class is a subclass of the vector class which is asynchronized therefor \r\nstack is too But Deque is not.\r\nSo if there is no need for synchronization then for better performance we should use \r\nDeque.\r\n\r\n3. Deques iterator works the way we expect for a stack:\r\niteration in a stack is bottom to top (FIFO (First In First Out)).\r\nBut iteration in a Deque is top to bottom (LIFO (Last In First Out)).\r\n\r\n4. Stack isn&#39;t truly LIFO:\r\nWe know that stack is a subclass of the vector class so we can access to elements by \r\ntheir indexes which is against LIFO contract.","title":"Why should I use Deque over Stack?","body":"<p>There are several reason that Deque is better than stack for implementation:</p>\n<ol>\n<li><p>Deque is an interface and stack is a class:\nIn class creation it is better to implement an interface than extend a class\nbecause after extending you cannot extend another class, you can only implement an interface in the other hand when you implement an interface you can extend a class and also implement another interfaces.</p>\n</li>\n<li><p>Synchronization:\nBecause stack class is a subclass of the vector class which is asynchronized therefor\nstack is too But Deque is not.\nSo if there is no need for synchronization then for better performance we should use\nDeque.</p>\n</li>\n<li><p>Deques iterator works the way we expect for a stack:\niteration in a stack is bottom to top (FIFO (First In First Out)).\nBut iteration in a Deque is top to bottom (LIFO (Last In First Out)).</p>\n</li>\n<li><p>Stack isn't truly LIFO:\nWe know that stack is a subclass of the vector class so we can access to elements by\ntheir indexes which is against LIFO contract.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1491583,"reputation":143,"user_id":1398553,"display_name":"Mads Hoel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668762950,"creation_date":1668762950,"answer_id":74487335,"question_id":12524826,"body_markdown":"If for some reason you want to switch from Stack to Deque, but want to preserve the same order when converting to an ArrayList, you can use `Deque.descendingIterator()`. \r\n\r\nHowever ArrayList does not have a constructor accepting an Iterator, so you might want to combine it with a library such as Guava (or Apache Commons):\r\n\r\n    Lists.newArrayList(deque.descendingIterator()) // Guava\r\n\r\nOr Java 8:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    deque.descendingIterator().forEachRemaining(list::add);","title":"Why should I use Deque over Stack?","body":"<p>If for some reason you want to switch from Stack to Deque, but want to preserve the same order when converting to an ArrayList, you can use <code>Deque.descendingIterator()</code>.</p>\n<p>However ArrayList does not have a constructor accepting an Iterator, so you might want to combine it with a library such as Guava (or Apache Commons):</p>\n<pre><code>Lists.newArrayList(deque.descendingIterator()) // Guava\n</code></pre>\n<p>Or Java 8:</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\ndeque.descendingIterator().forEachRemaining(list::add);\n</code></pre>\n"}],"owner":{"account_id":1658137,"reputation":26719,"user_id":1527084,"accept_rate":81,"display_name":"Geek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123062,"favorite_count":0,"down_vote_count":2,"up_vote_count":251,"accepted_answer_id":12524949,"answer_count":8,"score":249,"last_activity_date":1668762950,"creation_date":1348205884,"question_id":12524826,"body_markdown":"I need a `Stack` data structure for my use case. I should be able to push items into the data structure and I only want to retrieve the last item from the Stack. The [JavaDoc for Stack][1] says :\r\n\r\n&gt; A more complete and consistent set of LIFO stack operations is\r\n&gt; provided by the Deque interface and its implementations, which should\r\n&gt; be used in preference to this class. For example:\r\n\r\n   \r\n\r\n    Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\r\n\r\nI definitely do not want synchronized behavior here as I will be using this datastructure local to a method . Apart from this why should I prefer `Deque` over `Stack` here ?\r\n\r\nP.S: The javadoc from Deque says :\r\n\r\n&gt; Deques can also be used as LIFO (Last-In-First-Out) stacks. This\r\n&gt; interface should be used in preference to the legacy Stack class.\r\n\r\n[1]:http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Stack.java#Stack","title":"Why should I use Deque over Stack?","body":"<p>I need a <code>Stack</code> data structure for my use case. I should be able to push items into the data structure and I only want to retrieve the last item from the Stack. The <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Stack.java#Stack\" rel=\"noreferrer\">JavaDoc for Stack</a> says :</p>\n\n<blockquote>\n  <p>A more complete and consistent set of LIFO stack operations is\n  provided by the Deque interface and its implementations, which should\n  be used in preference to this class. For example:</p>\n</blockquote>\n\n<pre><code>Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\n</code></pre>\n\n<p>I definitely do not want synchronized behavior here as I will be using this datastructure local to a method . Apart from this why should I prefer <code>Deque</code> over <code>Stack</code> here ?</p>\n\n<p>P.S: The javadoc from Deque says :</p>\n\n<blockquote>\n  <p>Deques can also be used as LIFO (Last-In-First-Out) stacks. This\n  interface should be used in preference to the legacy Stack class.</p>\n</blockquote>\n"},{"tags":["java","android","kotlin","navigation","uinavigationcontroller"],"comments":[{"owner":{"account_id":6316309,"reputation":2040,"user_id":4906130,"display_name":"Bhavnik"},"score":0,"creation_date":1668761426,"post_id":74486642,"comment_id":131489540,"body_markdown":"As per your error, it seems like an issue with the ID that you have defined in the navigation graph. Cross-check with your IDs.","body":"As per your error, it seems like an issue with the ID that you have defined in the navigation graph. Cross-check with your IDs."}],"answers":[{"tags":[],"owner":{"account_id":26579939,"reputation":106,"user_id":20204744,"display_name":"MRF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668762825,"creation_date":1668762825,"answer_id":74487311,"question_id":74486642,"body_markdown":"You should put the FragmentContainer inside the Main Activity of your app, then in the Nav_graph you can set the Main Fragment as Home destination. From the Nav_graph you will be able to set all possible destination between various fragment.\r\nRefer to the documentation :\r\n\r\nhttps://developer.android.com/guide/navigation/navigation-getting-started","title":"How can i replace a fragment inside another fragment using Nav Controller?","body":"<p>You should put the FragmentContainer inside the Main Activity of your app, then in the Nav_graph you can set the Main Fragment as Home destination. From the Nav_graph you will be able to set all possible destination between various fragment.\nRefer to the documentation :</p>\n<p><a href=\"https://developer.android.com/guide/navigation/navigation-getting-started\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/navigation/navigation-getting-started</a></p>\n"}],"owner":{"account_id":20344445,"reputation":13,"user_id":14922791,"display_name":"Shakeel Aziz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668762825,"creation_date":1668759047,"question_id":74486642,"body_markdown":"Let say I&#39;ve a Fragment container view in Main Fragment and I want to place two fragments by the Click of Buttons present in main Fragment. On one button click, the First fragment is Placed inside that container and on other button that fragment is replaced by the 2nd fragment. So How can we do it using navigation Component.\r\n\r\nI done this through the following code:\r\n```\r\n``val controller by lazy { Navigation.findNavController(requireActivity(), R.id.fragmentContainer)}\r\n\r\nbtnOne.setOnClickListener{\r\ncontroller.navigate(R.id.oneFragment)\r\n}\r\n\r\nbtnOne.setOnClickListener{\r\ncontroller.navigate(R.id.otherFragment)\r\n}``\r\n```\r\n\r\n\r\nI&#39;ve Tried this Code but it gives me an Error of :ID does not reference a View inside this Activity\r\n\r\n","title":"How can i replace a fragment inside another fragment using Nav Controller?","body":"<p>Let say I've a Fragment container view in Main Fragment and I want to place two fragments by the Click of Buttons present in main Fragment. On one button click, the First fragment is Placed inside that container and on other button that fragment is replaced by the 2nd fragment. So How can we do it using navigation Component.</p>\n<p>I done this through the following code:</p>\n<pre><code>``val controller by lazy { Navigation.findNavController(requireActivity(), R.id.fragmentContainer)}\n\nbtnOne.setOnClickListener{\ncontroller.navigate(R.id.oneFragment)\n}\n\nbtnOne.setOnClickListener{\ncontroller.navigate(R.id.otherFragment)\n}``\n</code></pre>\n<p>I've Tried this Code but it gives me an Error of :ID does not reference a View inside this Activity</p>\n"},{"tags":["java","jpa","spring-data-jpa","spring-data","entitymanager"],"comments":[{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":0,"creation_date":1668762849,"post_id":74487231,"comment_id":131489993,"body_markdown":"Do you have `test/resource/application-test.properties` with some information about db, something like this:\n\nspring.datasource.url=jdbc:h2:mem:my_database\nspring.datasource.username=sa","body":"Do you have <code>test&#47;resource&#47;application-test.properties</code> with some information about db, something like this:  spring.datasource.url=jdbc:h2:mem:my_database spring.datasource.username=sa"},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1668763071,"post_id":74487231,"comment_id":131490071,"body_markdown":"Yep, I have on my test ```@TestPropertySource(properties = { &quot;spring.datasource.url=jdbc:h2:mem:test&quot;} @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE) @DataJpaTest```","body":"Yep, I have on my test <code>@TestPropertySource(properties = { &quot;spring.datasource.url=jdbc:h2:mem:test&quot;} @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE) @DataJpaTest</code>"}],"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668762422,"creation_date":1668762422,"question_id":74487231,"body_markdown":"I have a custom implementation of a Spring JpaRepository that uses the EntityManager as injected with `@PersistenceContext` to call the `createNativeQuery()` method. The reason I can&#39;t go with the standard `@Query` on the repository interface is that I need to build the query dynamically. \r\n\r\nI cannot find any standard solution on how to test this kind of DAO. If I simply go with a `@DataJpaTest`, H2 complains that it cannot find my database. I have several other standard JpaRepositories in the codebase that are tested exactly like that.\r\n\r\nOne possible solution could be to `@Autowire` the entityManager in the test class and then inject it via a setter to the repository implementation instantiated with a normal Java `new`, but it still complains that H2 cannot find my database.\r\n\r\nMy configuration:\r\n```\r\npublic interface FooDao extends JpaRepository&lt;Foo, Long&gt;, CustomFooDao {}\r\npublic interface CustomFooDao {\r\n    List&lt;Foo&gt; query();\r\n}\r\npublic class CustomFooDaoImpl implements CustomFooDao {\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    public void setEntityManager(EntityManager entityManager) {\r\n        this.entityManager = entityManager;\r\n    }\r\n\r\n    public void query() {\r\n        return entityManager.createNativeQuery(someFancyQueryLiteral).getResultList();\r\n    }\r\n}\r\n```\r\n\r\nMy test:\r\n```\r\n@DataJpaTest\r\nclass CustomFooImplTest {\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n    private CustomFooDaoImpl customFooDaoImpl;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        customFooDaoImpl = new CustomFooDaoImpl();\r\n        customFooDaoImpl.setEntityManager(entityManager);\r\n    }\r\n```\r\nThe exception:\r\n```\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema &quot;my_database&quot; not found; \r\n...\r\n```","title":"Test custom implementation of Spring JpaRepository","body":"<p>I have a custom implementation of a Spring JpaRepository that uses the EntityManager as injected with <code>@PersistenceContext</code> to call the <code>createNativeQuery()</code> method. The reason I can't go with the standard <code>@Query</code> on the repository interface is that I need to build the query dynamically.</p>\n<p>I cannot find any standard solution on how to test this kind of DAO. If I simply go with a <code>@DataJpaTest</code>, H2 complains that it cannot find my database. I have several other standard JpaRepositories in the codebase that are tested exactly like that.</p>\n<p>One possible solution could be to <code>@Autowire</code> the entityManager in the test class and then inject it via a setter to the repository implementation instantiated with a normal Java <code>new</code>, but it still complains that H2 cannot find my database.</p>\n<p>My configuration:</p>\n<pre><code>public interface FooDao extends JpaRepository&lt;Foo, Long&gt;, CustomFooDao {}\npublic interface CustomFooDao {\n    List&lt;Foo&gt; query();\n}\npublic class CustomFooDaoImpl implements CustomFooDao {\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public void setEntityManager(EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n\n    public void query() {\n        return entityManager.createNativeQuery(someFancyQueryLiteral).getResultList();\n    }\n}\n</code></pre>\n<p>My test:</p>\n<pre><code>@DataJpaTest\nclass CustomFooImplTest {\n    @Autowired\n    private EntityManager entityManager;\n\n    private CustomFooDaoImpl customFooDaoImpl;\n\n    @BeforeEach\n    void setUp() {\n        customFooDaoImpl = new CustomFooDaoImpl();\n        customFooDaoImpl.setEntityManager(entityManager);\n    }\n</code></pre>\n<p>The exception:</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema &quot;my_database&quot; not found; \n...\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","cucumber","cucumber-java"],"comments":[{"owner":{"account_id":1189852,"reputation":1071,"user_id":1162931,"accept_rate":80,"display_name":"AVokin"},"score":0,"creation_date":1589381549,"post_id":61739321,"comment_id":109272480,"body_markdown":"Do you see the jar and its content in External Libraries in Project View?","body":"Do you see the jar and its content in External Libraries in Project View?"},{"owner":{"account_id":3027261,"reputation":240,"user_id":2566970,"display_name":"Vikas Thange"},"score":0,"creation_date":1589513595,"post_id":61739321,"comment_id":109330820,"body_markdown":"Yes I do see. Test test runs fine if i run mvn clean test or if i run it from the runner class.  Only the problem is with running by Right click on scenario in feature file . and the feature file shows missing step.","body":"Yes I do see. Test test runs fine if i run mvn clean test or if i run it from the runner class.  Only the problem is with running by Right click on scenario in feature file . and the feature file shows missing step."},{"owner":{"account_id":3027261,"reputation":240,"user_id":2566970,"display_name":"Vikas Thange"},"score":0,"creation_date":1589513770,"post_id":61739321,"comment_id":109330864,"body_markdown":"I see there is a solution with EClipse Cucumber plugin. We can configure user settings inside cucumber plugin config. Unfortunately unable to find  same with intelliJ. https://github.com/cucumber/cucumber-eclipse/wiki/Reusing-Of-Step-Definitions-From-External-Class-Path-Dependencies%28JAR-POM...etc%29","body":"I see there is a solution with EClipse Cucumber plugin. We can configure user settings inside cucumber plugin config. Unfortunately unable to find  same with intelliJ. <a href=\"https://github.com/cucumber/cucumber-eclipse/wiki/Reusing-Of-Step-Definitions-From-External-Class-Path-Dependencies%28JAR-POM...etc%29\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-eclipse/wiki/&hellip;</a>"},{"owner":{"account_id":3027261,"reputation":240,"user_id":2566970,"display_name":"Vikas Thange"},"score":0,"creation_date":1589607463,"post_id":61739321,"comment_id":109366207,"body_markdown":"Hi @Andrey Vokin, I found there is issue already created here. https://youtrack.jetbrains.com/issue/IDEA-104610 and https://youtrack.jetbrains.com/issue/IDEA-157652 , Can you please suggest any fix or workaround? like may be going to any config file and add glue path explicitly ? I really needed this working very badly. thank you so much in advance.","body":"Hi @Andrey Vokin, I found there is issue already created here. <a href=\"https://youtrack.jetbrains.com/issue/IDEA-104610\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-104610</a> and <a href=\"https://youtrack.jetbrains.com/issue/IDEA-157652\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-157652</a> , Can you please suggest any fix or workaround? like may be going to any config file and add glue path explicitly ? I really needed this working very badly. thank you so much in advance."},{"owner":{"account_id":3027261,"reputation":240,"user_id":2566970,"display_name":"Vikas Thange"},"score":0,"creation_date":1589608512,"post_id":61739321,"comment_id":109366380,"body_markdown":"One of the post mentioning Added Source jar to repo and downloading Source Jar in dependent project worked for him with Java 7 . I use Java 8 and this solution did not work. Pease suggest some workaround","body":"One of the post mentioning Added Source jar to repo and downloading Source Jar in dependent project worked for him with Java 7 . I use Java 8 and this solution did not work. Pease suggest some workaround"},{"owner":{"account_id":1189852,"reputation":1071,"user_id":1162931,"accept_rate":80,"display_name":"AVokin"},"score":0,"creation_date":1589787415,"post_id":61739321,"comment_id":109420837,"body_markdown":"Could you provide jar with step definition to issue https://youtrack.jetbrains.com/issue/IDEA-157652. I&#39;ll check if it&#39;s possible to support without attaching sources.","body":"Could you provide jar with step definition to issue <a href=\"https://youtrack.jetbrains.com/issue/IDEA-157652\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-157652</a>. I&#39;ll check if it&#39;s possible to support without attaching sources."}],"answers":[{"tags":[],"owner":{"account_id":3027261,"reputation":240,"user_id":2566970,"display_name":"Vikas Thange"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1620930503,"creation_date":1590068977,"answer_id":61936028,"question_id":61739321,"body_markdown":"Posting the solution worked for Me:\r\n\r\n - Use IntelliJ 2020.1 +\r\n - In cucumber run configuration : select jar manifest for classpath\r\n - Deploy the Jar with source jar as well to Nexus as below\r\n\r\nYou can simple do this by adding `maven-source-plugin` plugin to your build\r\n```\r\n    &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;attach-sources&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;jar&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n```\r\n - In other project add dependency and confirm source is downloaded from repo\r\n\r\nFile -&gt; Project Structure -&gt; Libraries -&gt; Select the Artifact -&gt; Sources , Make sure it&#39;s not in red.\r\n\r\n - Update IntelliJ to use latest version, for me IntelliJ version 2019 did not work but 2020.1 was able to find the step definitions.\r\n\r\n**PS:** I use Java8 with Lambda exp and I can confirm it works.\r\n\r\n","title":"How to link StepDefination classes from Classpath (jar) in Cucumber IntelliJ Plugin","body":"<p>Posting the solution worked for Me:</p>\n<ul>\n<li>Use IntelliJ 2020.1 +</li>\n<li>In cucumber run configuration : select jar manifest for classpath</li>\n<li>Deploy the Jar with source jar as well to Nexus as below</li>\n</ul>\n<p>You can simple do this by adding <code>maven-source-plugin</code> plugin to your build</p>\n<pre><code>    &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.0&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;attach-sources&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;jar&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n    &lt;/build&gt;\n\n</code></pre>\n<ul>\n<li>In other project add dependency and confirm source is downloaded from repo</li>\n</ul>\n<p>File -&gt; Project Structure -&gt; Libraries -&gt; Select the Artifact -&gt; Sources , Make sure it's not in red.</p>\n<ul>\n<li>Update IntelliJ to use latest version, for me IntelliJ version 2019 did not work but 2020.1 was able to find the step definitions.</li>\n</ul>\n<p><strong>PS:</strong> I use Java8 with Lambda exp and I can confirm it works.</p>\n"},{"tags":[],"owner":{"account_id":10566150,"reputation":61,"user_id":7784332,"display_name":"Sheeran D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668761885,"creation_date":1668761885,"answer_id":74487139,"question_id":61739321,"body_markdown":"Updating Intellij from version 2019.3 to 2022.2 solved the issue without changing anything else. \r\nMy project is in Java 8 ","title":"How to link StepDefination classes from Classpath (jar) in Cucumber IntelliJ Plugin","body":"<p>Updating Intellij from version 2019.3 to 2022.2 solved the issue without changing anything else.\nMy project is in Java 8</p>\n"}],"owner":{"account_id":3027261,"reputation":240,"user_id":2566970,"display_name":"Vikas Thange"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61936028,"answer_count":2,"score":0,"last_activity_date":1668761885,"creation_date":1589231180,"question_id":61739321,"body_markdown":"I would like to use existing step definition classes coming from maven jar dependency.\r\n\r\nMy cucumber tests works if ran from Runner Class (with glue to packages) &amp; mvn CLI. But the \r\nproblem is with IntelliJ Cucumber plugin for the steps which are coming from jar. In feature file steps that I am using from the jar are shown as &quot;Undefined step reference:...&quot;.  I am not even able to run directly from feature file.\r\n\r\nIs there a way I can configure cucumber plugin to use stepdefinations from classloader/jar? ","title":"How to link StepDefination classes from Classpath (jar) in Cucumber IntelliJ Plugin","body":"<p>I would like to use existing step definition classes coming from maven jar dependency.</p>\n\n<p>My cucumber tests works if ran from Runner Class (with glue to packages) &amp; mvn CLI. But the \nproblem is with IntelliJ Cucumber plugin for the steps which are coming from jar. In feature file steps that I am using from the jar are shown as \"Undefined step reference:...\".  I am not even able to run directly from feature file.</p>\n\n<p>Is there a way I can configure cucumber plugin to use stepdefinations from classloader/jar? </p>\n"},{"tags":["java","hibernate","orm","constraintviolationexception"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1668739305,"post_id":74483731,"comment_id":131485382,"body_markdown":"Instead of doing `System.out.println(e.getMessage())`, do `e.printStackTrace()`. From the stack trace, determine which line of _your code_ is actually throwing the exception. If it&#39;s anything other than the `s.save(dep)` call, then that is (at least part of) why you cannot catch the exception where you expect.","body":"Instead of doing <code>System.out.println(e.getMessage())</code>, do <code>e.printStackTrace()</code>. From the stack trace, determine which line of <i>your code</i> is actually throwing the exception. If it&#39;s anything other than the <code>s.save(dep)</code> call, then that is (at least part of) why you cannot catch the exception where you expect."},{"owner":{"account_id":26457014,"reputation":11,"user_id":20099484,"display_name":"errorrelativo"},"score":0,"creation_date":1668766548,"post_id":74483731,"comment_id":131491297,"body_markdown":"Thanks. It was in fact the commit call which caused it.","body":"Thanks. It was in fact the commit call which caused it."}],"answers":[{"tags":[],"owner":{"account_id":7888329,"reputation":58,"user_id":5959501,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668735712,"creation_date":1668732646,"answer_id":74483804,"question_id":74483731,"body_markdown":"It&#39;s wrapped by `PersistenceException`\r\n\r\n&gt; You actually cannot catch the `ConstraintViolationException` since JPA\r\n&gt; will wrap it an  a `PersistenceException`, but you can verify that a\r\n&gt; `ConstraintViolationException` caused the `PersistenceException`.\r\n\r\n[https://stackoverflow.com/questions/54876448/how-to-catch-hibernate-constraintviolationexception-or-spring-dataintegrityviol][1]\r\n\r\n\r\n[![evaluator screen][2]][2]\r\n\r\n\r\n  [1]: https://You%20actually%20cannot%20catch%20the%20ConstraintViolationException%20since%20JPA%20will%20wrap%20it%20an%20%20a%20PersistenceException,%20but%20you%20can%20verify%20that%20a%20ConstraintViolationException%20caused%20the%20PersistenceException.%20%20https://stackoverflow.com/questions/54876448/how-to-catch-hibernate-constraintviolationexception-or-spring-dataintegrityviol\r\n  [2]: https://i.stack.imgur.com/NmZBU.png","title":"Why can&#39;t I catch ConstraintViolationException in Hibernate?","body":"<p>It's wrapped by <code>PersistenceException</code></p>\n<blockquote>\n<p>You actually cannot catch the <code>ConstraintViolationException</code> since JPA\nwill wrap it an  a <code>PersistenceException</code>, but you can verify that a\n<code>ConstraintViolationException</code> caused the <code>PersistenceException</code>.</p>\n</blockquote>\n<p><a href=\"https://You%20actually%20cannot%20catch%20the%20ConstraintViolationException%20since%20JPA%20will%20wrap%20it%20an%20%20a%20PersistenceException,%20but%20you%20can%20verify%20that%20a%20ConstraintViolationException%20caused%20the%20PersistenceException.%20%20https://stackoverflow.com/questions/54876448/how-to-catch-hibernate-constraintviolationexception-or-spring-dataintegrityviol\" rel=\"nofollow noreferrer\">https://stackoverflow.com/questions/54876448/how-to-catch-hibernate-constraintviolationexception-or-spring-dataintegrityviol</a></p>\n<p><a href=\"https://i.stack.imgur.com/NmZBU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NmZBU.png\" alt=\"evaluator screen\" /></a></p>\n"}],"owner":{"account_id":26457014,"reputation":11,"user_id":20099484,"display_name":"errorrelativo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668761837,"creation_date":1668731811,"question_id":74483731,"body_markdown":"I suppose this must be a very basic question.\r\n\r\nI relaunch this code which tries to insert an already existing row in a table but the ConstraintViolationException is catched  in the general catch (Exception e) block insted of being catched in the specific catch (ConstraintViolationException e) block as I expected.\r\n\r\nI wonder what should I try to catch that specific exception.\r\n\r\nMy code: \r\n```\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.hibernate.exception.ConstraintViolationException;\r\nimport clases.Departamentos;\r\nimport util.HibernateUtil;\r\n&#160;\r\npublic class InsertarDepartamento {\r\n&#160;\r\n&#160;&#160;&#160;&#160;public static void main(String[] args) {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//obtenemos la sesi&#243;n actual\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SessionFactory sf = HibernateUtil.getSessionFactory();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//creamos la sesi&#243;n\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Session s = sf.openSession();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Transaction tx = null;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//creamos una transacci&#243;n en la sesi&#243;n\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tx = s.beginTransaction();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Vamos insertar una nueva fila en la tabla Departamentos&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Departamentos dep = new Departamentos();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dep.setNumero(3);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dep.setNombre(&quot;Marketing&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s.save(dep); //hacemos persistente el objeto departamento creado            \r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} catch (ConstraintViolationException e) {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.err.println(e);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}           \r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tx.commit(); // javax.persistence.EntityTransaction;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} catch (Exception e) {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(e.getMessage());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if (tx != null) {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tx.rollback();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} finally {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s.close();          \r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}       \r\n&#160;&#160;&#160;&#160;}\r\n&#160;\r\n}\r\n```\r\n\r\nMy console output: \r\n\r\n&gt; Vamos insertar una nueva fila en la tabla Departamentos nov 18, 2022\r\n&gt; 1:10:26 A.&#160;M. org.hibernate.engine.jdbc.spi.SqlExceptionHelper\r\n&gt; logExceptions WARN: SQL Error: 1062, SQLState: 23000 nov 18, 2022\r\n&gt; 1:10:26 A.&#160;M. org.hibernate.engine.jdbc.spi.SqlExceptionHelper\r\n&gt; logExceptions ERROR: Duplicate entry &#39;3&#39; for key\r\n&gt; &#39;departamentos.PRIMARY&#39; nov 18, 2022 1:10:26 A.&#160;M.\r\n&gt; org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl release\r\n&gt; INFO: HHH000010: On release of batch it still contained JDBC\r\n&gt; statements org.hibernate.exception.ConstraintViolationException: could\r\n&gt; not execute statement\r\n\r\nI am editting the question following some suggestions in the comments.\r\nI have seen two things:\r\n1. I was assuming it was the save method which launched the ConstraintViolationException but in fact it is the commit method which launches it\r\n2. I can catch PersistenceException (not ConstraintViolationException)\r\n\r\nI wonder if this code would be acceptable:\r\n```\r\nimport javax.persistence.PersistenceException;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.hibernate.exception.ConstraintViolationException;\r\nimport clases.Departamentos;\r\nimport util.HibernateUtil;\r\n\r\npublic class InsertarDepartamento {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t//obtenemos la sesi&#243;n actual\r\n\t\tSessionFactory sf = HibernateUtil.getSessionFactory();\r\n\t\t//creamos la sesi&#243;n\r\n\t\tSession s = sf.openSession();\r\n\t\tTransaction tx = null;\r\n\t\t\t\t\r\n\t\ttry {\r\n\t\t\t//creamos una transacci&#243;n en la sesi&#243;n\r\n\t\t\ttx = s.beginTransaction();\r\n\t\t\tSystem.out.println(&quot;Vamos insertar una nueva fila en la tabla Departamentos&quot;);\r\n\t\t\tDepartamentos dep = new Departamentos();\r\n\t\t\tdep.setNumero(3);\r\n\t\t\tdep.setNombre(&quot;Marketing&quot;);\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\ts.save(dep); //hacemos persistente el objeto departamento creado\r\n\t\t\t\ttx.commit(); // javax.persistence.EntityTransaction;\r\n\t\t\t} catch (ConstraintViolationException e) {\r\n\t\t\t\tSystem.out.println(&quot;ConstraintViolationException: &quot;+e.getMessage());\r\n\t\t\t\t//e.printStackTrace();\r\n\t\t\t} catch (PersistenceException e) {\r\n\t\t\t\tSystem.out.println(&quot;PersistenceException: &quot;+e.getMessage());\r\n\t\t\t\t//e.printStackTrace();\r\n\t\t\t}\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\t//System.out.println(e.getMessage());\r\n\t\t\t//System.out.println(e.getCause());\r\n\t\t\t//System.out.println(e.getStackTrace());\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\tif (tx != null) {\r\n\t\t\t\ttx.rollback();\r\n\t\t\t}\t\t\t\r\n\t\t\ts.close();\t\t\t\r\n\t\t}\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhich causes this new output:\r\n\r\n&gt; Vamos insertar una nueva fila en la tabla Departamentos nov 18, 2022\r\n&gt; 9:54:59 A.&#160;M. org.hibernate.engine.jdbc.spi.SqlExceptionHelper\r\n&gt; logExceptions WARN: SQL Error: 1062, SQLState: 23000 nov 18, 2022\r\n&gt; 9:54:59 A.&#160;M. org.hibernate.engine.jdbc.spi.SqlExceptionHelper\r\n&gt; logExceptions ERROR: Duplicate entry &#39;3&#39; for key\r\n&gt; &#39;departamentos.PRIMARY&#39; nov 18, 2022 9:54:59 A.&#160;M.\r\n&gt; org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl release\r\n&gt; INFO: HHH000010: On release of batch it still contained JDBC\r\n&gt; statements PersistenceException:\r\n&gt; org.hibernate.exception.ConstraintViolationException: could not\r\n&gt; execute statement","title":"Why can&#39;t I catch ConstraintViolationException in Hibernate?","body":"<p>I suppose this must be a very basic question.</p>\n<p>I relaunch this code which tries to insert an already existing row in a table but the ConstraintViolationException is catched  in the general catch (Exception e) block insted of being catched in the specific catch (ConstraintViolationException e) block as I expected.</p>\n<p>I wonder what should I try to catch that specific exception.</p>\n<p>My code:</p>\n<pre><code>import org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.exception.ConstraintViolationException;\nimport clases.Departamentos;\nimport util.HibernateUtil;\n\npublic class InsertarDepartamento {\n\npublic static void main(String[] args) {\n//obtenemos la sesin actual\nSessionFactory sf = HibernateUtil.getSessionFactory();\n//creamos la sesin\nSession s = sf.openSession();\nTransaction tx = null;\n\ntry {\n//creamos una transaccin en la sesin\ntx = s.beginTransaction();\nSystem.out.println(&quot;Vamos insertar una nueva fila en la tabla Departamentos&quot;);\nDepartamentos dep = new Departamentos();\ndep.setNumero(3);\ndep.setNombre(&quot;Marketing&quot;);\n\ntry {\ns.save(dep); //hacemos persistente el objeto departamento creado            \n} catch (ConstraintViolationException e) {\nSystem.err.println(e);\n}           \ntx.commit(); // javax.persistence.EntityTransaction;\n} catch (Exception e) {\nSystem.out.println(e.getMessage());\nif (tx != null) {\ntx.rollback();\n}\n} finally {\ns.close();          \n}       \n}\n\n}\n</code></pre>\n<p>My console output:</p>\n<blockquote>\n<p>Vamos insertar una nueva fila en la tabla Departamentos nov 18, 2022\n1:10:26 A.M. org.hibernate.engine.jdbc.spi.SqlExceptionHelper\nlogExceptions WARN: SQL Error: 1062, SQLState: 23000 nov 18, 2022\n1:10:26 A.M. org.hibernate.engine.jdbc.spi.SqlExceptionHelper\nlogExceptions ERROR: Duplicate entry '3' for key\n'departamentos.PRIMARY' nov 18, 2022 1:10:26 A.M.\norg.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl release\nINFO: HHH000010: On release of batch it still contained JDBC\nstatements org.hibernate.exception.ConstraintViolationException: could\nnot execute statement</p>\n</blockquote>\n<p>I am editting the question following some suggestions in the comments.\nI have seen two things:</p>\n<ol>\n<li>I was assuming it was the save method which launched the ConstraintViolationException but in fact it is the commit method which launches it</li>\n<li>I can catch PersistenceException (not ConstraintViolationException)</li>\n</ol>\n<p>I wonder if this code would be acceptable:</p>\n<pre><code>import javax.persistence.PersistenceException;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.exception.ConstraintViolationException;\nimport clases.Departamentos;\nimport util.HibernateUtil;\n\npublic class InsertarDepartamento {\n\n    public static void main(String[] args) {\n        //obtenemos la sesin actual\n        SessionFactory sf = HibernateUtil.getSessionFactory();\n        //creamos la sesin\n        Session s = sf.openSession();\n        Transaction tx = null;\n                \n        try {\n            //creamos una transaccin en la sesin\n            tx = s.beginTransaction();\n            System.out.println(&quot;Vamos insertar una nueva fila en la tabla Departamentos&quot;);\n            Departamentos dep = new Departamentos();\n            dep.setNumero(3);\n            dep.setNombre(&quot;Marketing&quot;);\n            \n            try {\n                s.save(dep); //hacemos persistente el objeto departamento creado\n                tx.commit(); // javax.persistence.EntityTransaction;\n            } catch (ConstraintViolationException e) {\n                System.out.println(&quot;ConstraintViolationException: &quot;+e.getMessage());\n                //e.printStackTrace();\n            } catch (PersistenceException e) {\n                System.out.println(&quot;PersistenceException: &quot;+e.getMessage());\n                //e.printStackTrace();\n            }           \n        } catch (Exception e) {\n            //System.out.println(e.getMessage());\n            //System.out.println(e.getCause());\n            //System.out.println(e.getStackTrace());\n            e.printStackTrace();\n        } finally {\n            if (tx != null) {\n                tx.rollback();\n            }           \n            s.close();          \n        }       \n    }\n\n}\n</code></pre>\n<p>Which causes this new output:</p>\n<blockquote>\n<p>Vamos insertar una nueva fila en la tabla Departamentos nov 18, 2022\n9:54:59 A.M. org.hibernate.engine.jdbc.spi.SqlExceptionHelper\nlogExceptions WARN: SQL Error: 1062, SQLState: 23000 nov 18, 2022\n9:54:59 A.M. org.hibernate.engine.jdbc.spi.SqlExceptionHelper\nlogExceptions ERROR: Duplicate entry '3' for key\n'departamentos.PRIMARY' nov 18, 2022 9:54:59 A.M.\norg.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl release\nINFO: HHH000010: On release of batch it still contained JDBC\nstatements PersistenceException:\norg.hibernate.exception.ConstraintViolationException: could not\nexecute statement</p>\n</blockquote>\n"},{"tags":["java","swagger","springfox"],"answers":[{"tags":[],"owner":{"account_id":1442180,"reputation":3180,"user_id":3295987,"accept_rate":64,"display_name":"Hemant Patel"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1600247253,"creation_date":1600247253,"answer_id":63916742,"question_id":63747081,"body_markdown":"You need to change your `Docket` bean definition a little bit.\r\n\r\n    Docket docket = new Docket(DocumentationType.OAS_30)\r\n        .select() //\r\n        .apis(RequestHandlerSelectors.basePackage(aPackageBase) //\r\n            .or(RequestHandlerSelectors.basePackage(bPackageBase))) // use or here, not and\r\n        .paths(PathSelectors.any())\r\n        .build();\r\n\r\n`RequestHandlerSelectors.basePackage(...)` returns a `java.util.function.Predicate` object.\r\n\r\n`Predicate#and` requires both condition to be true, which is not, since any API will exist in one of the packages only. Hence `Predicate#or`.","title":"How to set multi controller&#39;s package base to my SwaggerConfiguration?","body":"<p>You need to change your <code>Docket</code> bean definition a little bit.</p>\n<pre><code>Docket docket = new Docket(DocumentationType.OAS_30)\n    .select() //\n    .apis(RequestHandlerSelectors.basePackage(aPackageBase) //\n        .or(RequestHandlerSelectors.basePackage(bPackageBase))) // use or here, not and\n    .paths(PathSelectors.any())\n    .build();\n</code></pre>\n<p><code>RequestHandlerSelectors.basePackage(...)</code> returns a <code>java.util.function.Predicate</code> object.</p>\n<p><code>Predicate#and</code> requires both condition to be true, which is not, since any API will exist in one of the packages only. Hence <code>Predicate#or</code>.</p>\n"},{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634543750,"creation_date":1634543750,"answer_id":69612539,"question_id":63747081,"body_markdown":"[Pratapi&#39;s answer](https://stackoverflow.com/a/63916742/4405757) is the right one. But if you are using an older version of springfox, the `basePackage` returns a Google Guava predicate [(link)](https://springfox.github.io/springfox/javadoc/2.7.0/springfox/documentation/builders/RequestHandlerSelectors.html#basePackage(java.lang.String)). \r\n\r\nNote that the Google Guava predicate extends the Java predicate and the `or` method is not overriden in the Guava Predicate. Hence, calling `or` will return a Java predicate. You can use a method reference (or a lambda expression) to pass a Guava predicate to the `apis` method.\r\n\r\n    //A java.util.function.Predicate\r\n    Predicate&lt;RequestHandler&gt; predicate = RequestHandlerSelectors.basePackage(aPackageBase)\r\n              .or(RequestHandlerSelectors.basePackage(bPackageBase));\r\n\r\n    return docket.select()\r\n               .apis(predicate::test) //.apis(r -&gt; p1.test(r))\r\n               ....","title":"How to set multi controller&#39;s package base to my SwaggerConfiguration?","body":"<p><a href=\"https://stackoverflow.com/a/63916742/4405757\">Pratapi's answer</a> is the right one. But if you are using an older version of springfox, the <code>basePackage</code> returns a Google Guava predicate <a href=\"https://springfox.github.io/springfox/javadoc/2.7.0/springfox/documentation/builders/RequestHandlerSelectors.html#basePackage(java.lang.String)\" rel=\"nofollow noreferrer\">(link)</a>.</p>\n<p>Note that the Google Guava predicate extends the Java predicate and the <code>or</code> method is not overriden in the Guava Predicate. Hence, calling <code>or</code> will return a Java predicate. You can use a method reference (or a lambda expression) to pass a Guava predicate to the <code>apis</code> method.</p>\n<pre><code>//A java.util.function.Predicate\nPredicate&lt;RequestHandler&gt; predicate = RequestHandlerSelectors.basePackage(aPackageBase)\n          .or(RequestHandlerSelectors.basePackage(bPackageBase));\n\nreturn docket.select()\n           .apis(predicate::test) //.apis(r -&gt; p1.test(r))\n           ....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12908112,"reputation":1,"user_id":9334784,"display_name":"Jayesh.Gehlod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668761368,"creation_date":1668761368,"answer_id":74487037,"question_id":63747081,"body_markdown":"Below code snippet worked for me for swagger2:\r\n\r\n    List&lt;Predicate&lt;RequestHandler&gt;&gt; predicateList = new ArrayList&lt;&gt;();\r\n    predicateList.add(RequestHandlerSelectors.basePackage(com.sample.one));\r\n    predicateList.add(RequestHandlerSelectors.basePackage(com.sample.two));\r\n    \r\n    Docket d = new Docket(DocumentationType.SWAGGER_2)\r\n    \t\t\t\t.select()\r\n    \t\t\t\t.apis(Predicates.or(predicateList))\r\n    \t\t\t\t.paths(PathSelectors.any())\r\n    \t\t\t\t.build().forCodeGeneration(true)\r\n    \t\t\t\t.securitySchemes(Arrays.asList(oAuthSecurityScheme()));","title":"How to set multi controller&#39;s package base to my SwaggerConfiguration?","body":"<p>Below code snippet worked for me for swagger2:</p>\n<pre><code>List&lt;Predicate&lt;RequestHandler&gt;&gt; predicateList = new ArrayList&lt;&gt;();\npredicateList.add(RequestHandlerSelectors.basePackage(com.sample.one));\npredicateList.add(RequestHandlerSelectors.basePackage(com.sample.two));\n\nDocket d = new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(Predicates.or(predicateList))\n                .paths(PathSelectors.any())\n                .build().forCodeGeneration(true)\n                .securitySchemes(Arrays.asList(oAuthSecurityScheme()));\n</code></pre>\n"}],"owner":{"account_id":3598482,"reputation":178,"user_id":3002425,"display_name":"noNihongo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4016,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":63916742,"answer_count":3,"score":4,"last_activity_date":1668761368,"creation_date":1599248016,"question_id":63747081,"body_markdown":"My dependency....\r\n\r\n```\r\n&lt;!-- SPRING BOOT --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n```\r\n\r\nMy problem happen when i tried to use in swagger two packages base. Below you can see what i mean with package base and above you can see my dependency. My code that i tried to use two package base are more below.\r\n\r\n```\r\naPackageBase: com.companyx\r\nbPackageBase: br.com.companyz\r\n```\r\n----\r\n\r\n## Things that I cannot do\r\n* I cannot change the package base because they are huge APIs. \r\n* I have more then 10 APIs that follow that 2 package base.\r\n* I would like to use `aPackageBase` and `bPackageBase`.\r\n----\r\n\r\n## Current code, that is not working...\r\n\r\n```\r\n...\r\nString aPackageBase = &quot;com.companyx&quot;;\r\nString bPackageBase = &quot;br.com.companyz&quot;;\r\n\r\nDocket docket = new Docket(DocumentationType.OAS_30).select() //\r\n\t.apis(RequestHandlerSelectors.basePackage(aPackageBase) //\r\n\t\t.and(RequestHandlerSelectors.basePackage(bPackageBase))) // That doesn&#39;t work :(....\r\n\t\t.paths(PathSelectors.any()).build()\r\n\r\n...\r\n```\r\n----\r\n## What would like to have...\r\nI just want to use **both packages base**. I am not trying to change the at runtime, of course I can change it at runtime and use only `one packageBase`, but I am tired to change it for each API. If I can have `aPackageBase` and `bPackageBase` it will save my life. haaha.\r\n\r\n---\r\nNote: I don&#39;t think I need show more about my SwaggerConfiguration because my problem is only in that part.\r\n","title":"How to set multi controller&#39;s package base to my SwaggerConfiguration?","body":"<p>My dependency....</p>\n<pre><code>&lt;!-- SPRING BOOT --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n</code></pre>\n<p>My problem happen when i tried to use in swagger two packages base. Below you can see what i mean with package base and above you can see my dependency. My code that i tried to use two package base are more below.</p>\n<pre><code>aPackageBase: com.companyx\nbPackageBase: br.com.companyz\n</code></pre>\n<hr />\n<h2>Things that I cannot do</h2>\n<ul>\n<li>I cannot change the package base because they are huge APIs.</li>\n<li>I have more then 10 APIs that follow that 2 package base.</li>\n<li>I would like to use <code>aPackageBase</code> and <code>bPackageBase</code>.</li>\n</ul>\n<hr />\n<h2>Current code, that is not working...</h2>\n<pre><code>...\nString aPackageBase = &quot;com.companyx&quot;;\nString bPackageBase = &quot;br.com.companyz&quot;;\n\nDocket docket = new Docket(DocumentationType.OAS_30).select() //\n    .apis(RequestHandlerSelectors.basePackage(aPackageBase) //\n        .and(RequestHandlerSelectors.basePackage(bPackageBase))) // That doesn't work :(....\n        .paths(PathSelectors.any()).build()\n\n...\n</code></pre>\n<hr />\n<h2>What would like to have...</h2>\n<p>I just want to use <strong>both packages base</strong>. I am not trying to change the at runtime, of course I can change it at runtime and use only <code>one packageBase</code>, but I am tired to change it for each API. If I can have <code>aPackageBase</code> and <code>bPackageBase</code> it will save my life. haaha.</p>\n<hr />\n<p>Note: I don't think I need show more about my SwaggerConfiguration because my problem is only in that part.</p>\n"},{"tags":["java","stack"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1668754370,"post_id":74485819,"comment_id":131487625,"body_markdown":"I don&#39;t know what this is, but if your queue is empty and someone tries to peek you should rather throw an exception than returning a value (even if meaningless).","body":"I don&#39;t know what this is, but if your queue is empty and someone tries to peek you should rather throw an exception than returning a value (even if meaningless)."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668761188,"post_id":74485819,"comment_id":131489450,"body_markdown":"You should ask whoever wrote this code. This is not a general practice in Java.","body":"You should ask whoever wrote this code. This is not a general practice in Java."}],"answers":[{"tags":[],"owner":{"account_id":324951,"reputation":935,"user_id":6722664,"display_name":"Sagar Gandhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668755275,"creation_date":1668755275,"answer_id":74486027,"question_id":74485819,"body_markdown":"This is commonly used as indicator to caller that queue/stack is empty. The problem is return type is primitive int , so you have to return some integer, you cannot return null.\r\n\r\nI see this in many examples because programmer assumes here that Integer.MIN_VALUE will be never valid case and nobody will push that value onto queue/stack.\r\n\r\nIdeally I would return Integer instead of int and return null if stack is empty. We could throw exception but I will avoid it since caller will need to handle exception for every peek or top or pop.  Handling null is easier than this.","title":"What is the purpose of using &quot; return Integer.MIN_VALUE &quot; in java?","body":"<p>This is commonly used as indicator to caller that queue/stack is empty. The problem is return type is primitive int , so you have to return some integer, you cannot return null.</p>\n<p>I see this in many examples because programmer assumes here that Integer.MIN_VALUE will be never valid case and nobody will push that value onto queue/stack.</p>\n<p>Ideally I would return Integer instead of int and return null if stack is empty. We could throw exception but I will avoid it since caller will need to handle exception for every peek or top or pop.  Handling null is easier than this.</p>\n"},{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668755453,"creation_date":1668755453,"answer_id":74486066,"question_id":74485819,"body_markdown":"You generally have several ways to signal an error back to the caller:\r\n\r\n 1. Return a dummy value that indicates an error, such as Integer.MIN_VALUE. Generally not favoured, will lead to problems if the dummy value naturally occurs in the data.\r\n 2. Return a null value. Requires the return type to be changed to a reference type such as Integer. Also out of fashion as nulls have various well-documented issues.\r\n 3. Change the return type to be one of the Optional types, such as OptionalInt, and return an empty value if an error occurs.\r\n 4. Throw an exception.\r\n\r\nYour code is using option #1, which is not generally recommended, but may make sense in very specific cases (e.g. min function over a list of integers). #4 is generally the preferred option, with #3 as an alternative if you want to avoid exceptions for any reason. ","title":"What is the purpose of using &quot; return Integer.MIN_VALUE &quot; in java?","body":"<p>You generally have several ways to signal an error back to the caller:</p>\n<ol>\n<li>Return a dummy value that indicates an error, such as Integer.MIN_VALUE. Generally not favoured, will lead to problems if the dummy value naturally occurs in the data.</li>\n<li>Return a null value. Requires the return type to be changed to a reference type such as Integer. Also out of fashion as nulls have various well-documented issues.</li>\n<li>Change the return type to be one of the Optional types, such as OptionalInt, and return an empty value if an error occurs.</li>\n<li>Throw an exception.</li>\n</ol>\n<p>Your code is using option #1, which is not generally recommended, but may make sense in very specific cases (e.g. min function over a list of integers). #4 is generally the preferred option, with #3 as an alternative if you want to avoid exceptions for any reason.</p>\n"}],"owner":{"account_id":22283070,"reputation":1,"user_id":16511180,"display_name":"Disni "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1668761175,"creation_date":1668753916,"question_id":74485819,"body_markdown":"```\r\nint peek() {\r\n\tif(isEmpty()) {\r\n\t\tSystem.out.println(&quot;Stack underflow peek can&#39;t be done&quot;);\r\n\t\treturn Integer.MIN_VALUE;\r\n\t}\r\n\telse {\r\n\t\r\n\treturn list.get(list.size()-1);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nIs there any other way to return nothing?","title":"What is the purpose of using &quot; return Integer.MIN_VALUE &quot; in java?","body":"<pre><code>int peek() {\n    if(isEmpty()) {\n        System.out.println(&quot;Stack underflow peek can't be done&quot;);\n        return Integer.MIN_VALUE;\n    }\n    else {\n    \n    return list.get(list.size()-1);\n    }\n}\n</code></pre>\n<p>Is there any other way to return nothing?</p>\n"},{"tags":["java","swagger","jersey-2.0","swagger-2.0"],"answers":[{"tags":[],"owner":{"account_id":235232,"reputation":128,"user_id":501906,"display_name":"vonmoltke"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1472765393,"creation_date":1472763681,"answer_id":39280811,"question_id":38501321,"body_markdown":"I have not seen this documented anywhere, but based on the code in the current Swagger core (1.5.10) it looks like you separate multiple packages by a comma (&#39;,&#39;).  Here is the relevant snippet from `BeanConfig.java`:\r\n\r\n        if (resourcePackage != null &amp;&amp; !&quot;&quot;.equals(resourcePackage)) {\r\n            String[] parts = resourcePackage.split(&quot;,&quot;);\r\n            for (String pkg : parts) {\r\n                if (!&quot;&quot;.equals(pkg)) {\r\n                    acceptablePackages.add(pkg);\r\n                    config.addUrls(ClasspathHelper.forPackage(pkg));\r\n                }\r\n            }\r\n        } else {\r\n            allowAllPackages = true;\r\n        }\r\n\r\nFurther down it appears the `allowAllPackages` flag causes Swagger to generate documentation on all classes in the application&#39;s classpath that have JAX-RS annotations.  Depending on what dependencies you have, simply not setting a resource package at all might be an option.  Probably safer to use the comma-separated list, though.\r\n\r\nEdit:\r\n\r\nI did find mention of this in the [documentation](https://github.com/swagger-api/swagger-core/wiki/Swagger-Core-Jersey-2.X-Project-Setup-1.5#using-swaggers-beanconfig):\r\n\r\n&gt; setResourcePackage(String)\r\n&gt;\r\n&gt; resourcePackage\r\n&gt;\r\n&gt; Sets which package(s) Swagger should scan to pick up resources. If there&#39;s more than one package, it can be a list of comma-separated packages.","title":"Multiple resource packages with Swagger 2","body":"<p>I have not seen this documented anywhere, but based on the code in the current Swagger core (1.5.10) it looks like you separate multiple packages by a comma (',').  Here is the relevant snippet from <code>BeanConfig.java</code>:</p>\n\n<pre><code>    if (resourcePackage != null &amp;&amp; !\"\".equals(resourcePackage)) {\n        String[] parts = resourcePackage.split(\",\");\n        for (String pkg : parts) {\n            if (!\"\".equals(pkg)) {\n                acceptablePackages.add(pkg);\n                config.addUrls(ClasspathHelper.forPackage(pkg));\n            }\n        }\n    } else {\n        allowAllPackages = true;\n    }\n</code></pre>\n\n<p>Further down it appears the <code>allowAllPackages</code> flag causes Swagger to generate documentation on all classes in the application's classpath that have JAX-RS annotations.  Depending on what dependencies you have, simply not setting a resource package at all might be an option.  Probably safer to use the comma-separated list, though.</p>\n\n<p>Edit:</p>\n\n<p>I did find mention of this in the <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-Core-Jersey-2.X-Project-Setup-1.5#using-swaggers-beanconfig\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>setResourcePackage(String)</p>\n  \n  <p>resourcePackage</p>\n  \n  <p>Sets which package(s) Swagger should scan to pick up resources. If there's more than one package, it can be a list of comma-separated packages.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15832854,"reputation":707,"user_id":11423630,"display_name":"Shubham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577432612,"creation_date":1577432612,"answer_id":59497584,"question_id":38501321,"body_markdown":"If all the API are in same project but in different packages then You can give the name of the base package of both like this.\r\n\r\n**com.company1.resources1  org.company1.resources2**\r\nThen give only name of one like this- then it will List all Controllers.\r\n\r\n      @Bean\r\n    \t    public Docket api() {\r\n    \t        return new Docket(DocumentationType.SWAGGER_2).select()\r\n    \t            .apis(RequestHandlerSelectors\r\n    \t                .basePackage(&quot;com.company1&quot;))\r\n    \t            .paths(PathSelectors.regex(&quot;/.*&quot;))\r\n    \t            .build().apiInfo(apiEndPointsInfo());\r\n    \t    }","title":"Multiple resource packages with Swagger 2","body":"<p>If all the API are in same project but in different packages then You can give the name of the base package of both like this.</p>\n\n<p><strong>com.company1.resources1  org.company1.resources2</strong>\nThen give only name of one like this- then it will List all Controllers.</p>\n\n<pre><code>  @Bean\n        public Docket api() {\n            return new Docket(DocumentationType.SWAGGER_2).select()\n                .apis(RequestHandlerSelectors\n                    .basePackage(\"com.company1\"))\n                .paths(PathSelectors.regex(\"/.*\"))\n                .build().apiInfo(apiEndPointsInfo());\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1509568,"reputation":143,"user_id":1412032,"display_name":"ugurkocak1980"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662399302,"creation_date":1662399302,"answer_id":73612939,"question_id":38501321,"body_markdown":"Use this code snippet for swagger2:\r\n\r\n  \r\n\r\n    .apis(RequestHandlerSelectors.any())\r\n      .paths(PathSelectors.regex(&quot;/.*&quot;))\r\n\r\n\r\nThis worked for me because it takes all the controller packeages and rest endpoints","title":"Multiple resource packages with Swagger 2","body":"<p>Use this code snippet for swagger2:</p>\n<pre><code>.apis(RequestHandlerSelectors.any())\n  .paths(PathSelectors.regex(&quot;/.*&quot;))\n</code></pre>\n<p>This worked for me because it takes all the controller packeages and rest endpoints</p>\n"},{"tags":[],"owner":{"account_id":12908112,"reputation":1,"user_id":9334784,"display_name":"Jayesh.Gehlod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668761148,"creation_date":1668761148,"answer_id":74486983,"question_id":38501321,"body_markdown":"We can add multiple packages like below code snippet:\r\n\r\n    List&lt;Predicate&lt;RequestHandler&gt;&gt; predicateList = new ArrayList&lt;&gt;();\r\n    predicateList.add(RequestHandlerSelectors.basePackage(com.sample.one));\r\n    predicateList.add(RequestHandlerSelectors.basePackage(com.sample.two));\r\n    \r\n    Docket d = new Docket(DocumentationType.SWAGGER_2)\r\n    \t\t\t\t.select()\r\n    \t\t\t\t.apis(Predicates.or(predicateList))\r\n    \t\t\t\t.paths(PathSelectors.any())\r\n    \t\t\t\t.build().forCodeGeneration(true)\r\n    \t\t\t\t.securitySchemes(Arrays.asList(oAuthSecurityScheme()));\r\n\r\n","title":"Multiple resource packages with Swagger 2","body":"<p>We can add multiple packages like below code snippet:</p>\n<pre><code>List&lt;Predicate&lt;RequestHandler&gt;&gt; predicateList = new ArrayList&lt;&gt;();\npredicateList.add(RequestHandlerSelectors.basePackage(com.sample.one));\npredicateList.add(RequestHandlerSelectors.basePackage(com.sample.two));\n\nDocket d = new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(Predicates.or(predicateList))\n                .paths(PathSelectors.any())\n                .build().forCodeGeneration(true)\n                .securitySchemes(Arrays.asList(oAuthSecurityScheme()));\n</code></pre>\n"}],"owner":{"account_id":7826717,"reputation":3033,"user_id":5961990,"accept_rate":29,"display_name":"garci560"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13431,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1668761148,"creation_date":1469095849,"question_id":38501321,"body_markdown":"Is there any way of specifying multiple packages when configuring Swagger 2?\r\n\r\n        BeanConfig beanConfig = new BeanConfig();\r\n        beanConfig.setVersion(&quot;1.0.0&quot;);\r\n        beanConfig.setResourcePackage(&quot;com.company1.resources ; org.company2.resources&quot;);\r\n        beanConfig.setScan(true);\r\n\r\n`BeanConfig.setResourcePackage` only takes a String. If I separate them with a space, only the first one is considered. If I try with a [semicolon][1], swagger doesn&#39;t find any.\r\n\r\nI have a Spring Boot application with Jersey 2.\r\n\r\n  [1]: https://groups.google.com/forum/#!topic/swagger-swaggersocket/LHtjPc058TU","title":"Multiple resource packages with Swagger 2","body":"<p>Is there any way of specifying multiple packages when configuring Swagger 2?</p>\n\n<pre><code>    BeanConfig beanConfig = new BeanConfig();\n    beanConfig.setVersion(\"1.0.0\");\n    beanConfig.setResourcePackage(\"com.company1.resources ; org.company2.resources\");\n    beanConfig.setScan(true);\n</code></pre>\n\n<p><code>BeanConfig.setResourcePackage</code> only takes a String. If I separate them with a space, only the first one is considered. If I try with a <a href=\"https://groups.google.com/forum/#!topic/swagger-swaggersocket/LHtjPc058TU\" rel=\"noreferrer\">semicolon</a>, swagger doesn't find any.</p>\n\n<p>I have a Spring Boot application with Jersey 2.</p>\n"},{"tags":["java","spring","jsp","spring-mvc","controller"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1522643954,"post_id":49604921,"comment_id":86217624,"body_markdown":"if you use redirect,you just can passing parameters via URL,which means that the values come from the url you see in the browser,you can use it put a single object,but if passing multiple objects,the url size may reach the limit of GET method,so I suggest you change another method:query the object after redirect","body":"if you use redirect,you just can passing parameters via URL,which means that the values come from the url you see in the browser,you can use it put a single object,but if passing multiple objects,the url size may reach the limit of GET method,so I suggest you change another method:query the object after redirect"},{"owner":{"account_id":12179970,"reputation":67,"user_id":8891709,"display_name":"B K"},"score":0,"creation_date":1522644572,"post_id":49604921,"comment_id":86217762,"body_markdown":"I just want to get the one message value right now. how would I do that?","body":"I just want to get the one message value right now. how would I do that?"},{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1522644856,"post_id":49604921,"comment_id":86217833,"body_markdown":"you can use *RedirectAttrbutes addAttribute* method to do it ,see https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/support/RedirectAttributes.html#addAttribute-java.lang.Object-","body":"you can use <i>RedirectAttrbutes addAttribute</i> method to do it ,see <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/support/RedirectAttributes.html#addAttribute-java.lang.Object-\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13199516,"reputation":405,"user_id":9533138,"display_name":"MinA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522641159,"creation_date":1522641159,"answer_id":49605078,"question_id":49604921,"body_markdown":"Make sure you put  @Controller in top of your controller class.\r\n\r\nredirect:/user.jsp -&gt; this should be the relative path to jsp file. ","title":"Spring MVC - getting model data after a redirect","body":"<p>Make sure you put  @Controller in top of your controller class.</p>\n\n<p>redirect:/user.jsp -> this should be the relative path to jsp file. </p>\n"},{"tags":[],"owner":{"display_name":"user4602302"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1668761067,"creation_date":1522653371,"answer_id":49606920,"question_id":49604921,"body_markdown":"there are three possibilities to handle redirect-attributes\r\n\r\n1. adding flash/model-attributes to RedirectAttributes\r\n2. adding request-parameter (&#39;dynamic&#39; attributes) to RedirectAttributes\r\n3. adding request-parameter (&#39;dynamic&#39; attributes) to RedirectView\r\n\r\ni combined the three possibilities in the following get-methods.\r\n\r\n    @GetMapping(&quot;/redirectme&quot;)\r\n    public RedirectView redirectme(final RedirectAttributes redirectAttributes) {\r\n        // the following attribute is a ModelAttribute\r\n        redirectAttributes.addFlashAttribute(&quot;messageA&quot;, &quot;A&quot;);\r\n        final RedirectView redirectView = new RedirectView(&quot;/redirectedpage&quot;, true);\r\n        // the following attributes are request-parameter (dynamic Attributes)\r\n        redirectAttributes.addAttribute(&quot;messageB&quot;, &quot;B&quot;);\r\n        redirectView.getAttributesMap().put(&quot;messageC&quot;, &quot;C&quot;);\r\n        return redirectView;\r\n    }\r\n\r\n    @GetMapping(&quot;/redirectedpage&quot;)\r\n    public ModelAndView redirectedPage(\r\n            // access FlashAttributes\r\n            final Model model, @ModelAttribute(&quot;messageA&quot;) final String messageA,\r\n            // access &#39;dynamic&#39; Attributes\r\n            @RequestParam(&quot;messageB&quot;) final String messageB, @RequestParam(&quot;messageC&quot;) final String messageC) {\r\n        final ModelAndView modelAndView = new ModelAndView(&quot;red&quot;);\r\n        modelAndView.addObject(&quot;caption&quot;, &quot;App&quot;);\r\n        // access FlashAttributes\r\n        modelAndView.addObject(&quot;messageA_1&quot;, model.asMap().get(&quot;messageA&quot;));\r\n        modelAndView.addObject(&quot;messageA_2&quot;, messageA);\r\n        // access &#39;dynamic&#39; Attributes\r\n        modelAndView.addObject(&quot;messageB&quot;, messageB);\r\n        modelAndView.addObject(&quot;messageC&quot;, messageC);\r\n        return modelAndView;\r\n    }","title":"Spring MVC - getting model data after a redirect","body":"<p>there are three possibilities to handle redirect-attributes</p>\n<ol>\n<li>adding flash/model-attributes to RedirectAttributes</li>\n<li>adding request-parameter ('dynamic' attributes) to RedirectAttributes</li>\n<li>adding request-parameter ('dynamic' attributes) to RedirectView</li>\n</ol>\n<p>i combined the three possibilities in the following get-methods.</p>\n<pre><code>@GetMapping(&quot;/redirectme&quot;)\npublic RedirectView redirectme(final RedirectAttributes redirectAttributes) {\n    // the following attribute is a ModelAttribute\n    redirectAttributes.addFlashAttribute(&quot;messageA&quot;, &quot;A&quot;);\n    final RedirectView redirectView = new RedirectView(&quot;/redirectedpage&quot;, true);\n    // the following attributes are request-parameter (dynamic Attributes)\n    redirectAttributes.addAttribute(&quot;messageB&quot;, &quot;B&quot;);\n    redirectView.getAttributesMap().put(&quot;messageC&quot;, &quot;C&quot;);\n    return redirectView;\n}\n\n@GetMapping(&quot;/redirectedpage&quot;)\npublic ModelAndView redirectedPage(\n        // access FlashAttributes\n        final Model model, @ModelAttribute(&quot;messageA&quot;) final String messageA,\n        // access 'dynamic' Attributes\n        @RequestParam(&quot;messageB&quot;) final String messageB, @RequestParam(&quot;messageC&quot;) final String messageC) {\n    final ModelAndView modelAndView = new ModelAndView(&quot;red&quot;);\n    modelAndView.addObject(&quot;caption&quot;, &quot;App&quot;);\n    // access FlashAttributes\n    modelAndView.addObject(&quot;messageA_1&quot;, model.asMap().get(&quot;messageA&quot;));\n    modelAndView.addObject(&quot;messageA_2&quot;, messageA);\n    // access 'dynamic' Attributes\n    modelAndView.addObject(&quot;messageB&quot;, messageB);\n    modelAndView.addObject(&quot;messageC&quot;, messageC);\n    return modelAndView;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6329856,"reputation":189,"user_id":4915060,"display_name":"sohal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522654538,"creation_date":1522654167,"answer_id":49607081,"question_id":49604921,"body_markdown":"If You want to redirect to the direct jsp then use model attribute to bind &quot;message&quot; parameter.\r\n\r\n    ModelAndView mv = new ModelAndView(&quot;user&quot;);\r\n    mv.addObject(&quot;message&quot;, out);\r\n\r\nor if you want to redirect on another controller \r\nthen use RedirectAttributes to bind the &quot;message&quot; parameter like:\r\n\r\n    ModelAndView mv = new ModelAndView(&quot;redirect:/user.abc&quot;);\r\n    redirAtt.addFlashAttribute(&quot;message&quot;, out);","title":"Spring MVC - getting model data after a redirect","body":"<p>If You want to redirect to the direct jsp then use model attribute to bind \"message\" parameter.</p>\n\n<pre><code>ModelAndView mv = new ModelAndView(\"user\");\nmv.addObject(\"message\", out);\n</code></pre>\n\n<p>or if you want to redirect on another controller \nthen use RedirectAttributes to bind the \"message\" parameter like:</p>\n\n<pre><code>ModelAndView mv = new ModelAndView(\"redirect:/user.abc\");\nredirAtt.addFlashAttribute(\"message\", out);\n</code></pre>\n"}],"owner":{"account_id":12179970,"reputation":67,"user_id":8891709,"display_name":"B K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11769,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1668761067,"creation_date":1522639548,"question_id":49604921,"body_markdown":"I want to pass data to a view after a redirect. for example, I press a button and it redirects me to a page with data from the controller. I am trying to use RedirectAttribute which everyone is suggesting but I can not get it working. Any help is appreciated.\r\n\r\nindex.jsp:\r\n\r\n    &lt;a href=&quot;user.htm&quot;&gt;Display All Users&lt;/a&gt;\r\n\r\ncontroller:\r\n\r\n    @RequestMapping(value = &quot;/user.htm&quot;)\r\n    public ModelAndView addUser(RedirectAttributes redirAtt) {\r\n        ModelAndView mv = new ModelAndView(&quot;redirect:user&quot;);\r\n        String out = &quot;All User Details: &quot;;\r\n        try {\r\n            Session session = HibernateUtil.getSessionFactory().openSession();\r\n                session.beginTransaction();\r\n            List result = session.createQuery(&quot;from Users&quot;).list();\r\n            mv.addObject(&quot;users&quot;, result);\r\n            session.getTransaction().commit();\r\n    \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        redirAtt.addFlashAttribute(&quot;message&quot;, out);\r\n        return mv;\r\n    }\r\n\r\njsp that I want data displayed on: user.jsp\r\n\r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n            &lt;title&gt;${message}&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;${message}&lt;/h1&gt;&lt;br&gt;\r\n            &lt;table&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;Username&lt;/th&gt;\r\n                    &lt;th&gt;Nickname&lt;/th&gt;\r\n                    &lt;th&gt;Email&lt;/th&gt;\r\n                    &lt;th&gt;Password&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n                &lt;c:forEach items=&quot;${users}&quot;  var=&quot;user&quot;&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td&gt;&lt;c:out value=&quot;${user.username}&quot;/&gt;&lt;/td&gt;\r\n                        &lt;td&gt;&lt;c:out value=&quot;${user.nickname}&quot;/&gt;&lt;/td&gt;\r\n                        &lt;td&gt;&lt;c:out value=&quot;${user.email}&quot;/&gt;&lt;/td&gt;\r\n                        &lt;td&gt;&lt;c:out value=&quot;${user.password}&quot;/&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/c:forEach&gt;\r\n            &lt;/table&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nNo data is displayed when the page is redirected.\r\n\r\n\r\nI also did my controller this way: \r\n\r\n    @RequestMapping(value = &quot;/test.htm&quot;)\r\n    public String addUser(RedirectAttributes redirectAttributes) {\r\n        String out = &quot;All User Details: &quot;;\r\n        try {\r\n            Session session = HibernateUtil.getSessionFactory().openSession();\r\n                session.beginTransaction();\r\n            List result = session.createQuery(&quot;from Users&quot;).list();\r\n            session.getTransaction().commit();\r\n    \r\n            redirectAttributes.addAttribute(&quot;message&quot;, &quot;testing testing tesing&quot;);\r\n    \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;redirect:/user.jsp&quot;;\r\n    }\r\n    \r\n    @RequestMapping(value = &quot;/user.jsp&quot;)\r\n    public ModelAndView test(@ModelAttribute(&quot;message&quot;) String myMessage) {\r\n    \r\n        ModelAndView mv = new ModelAndView(&quot;user&quot;);\r\n        mv.addObject(&quot;message&quot;, myMessage);\r\n        return mv;\r\n    \r\n    }\r\n\r\nWhen i tried this, the redirected url is :\r\n\r\n    http://localhost:8080/projname/user.jsp?message=testing+testing+tesing\r\n\r\nso I think the attributes are being passed over but maybe I am outputting wrong?","title":"Spring MVC - getting model data after a redirect","body":"<p>I want to pass data to a view after a redirect. for example, I press a button and it redirects me to a page with data from the controller. I am trying to use RedirectAttribute which everyone is suggesting but I can not get it working. Any help is appreciated.</p>\n\n<p>index.jsp:</p>\n\n<pre><code>&lt;a href=\"user.htm\"&gt;Display All Users&lt;/a&gt;\n</code></pre>\n\n<p>controller:</p>\n\n<pre><code>@RequestMapping(value = \"/user.htm\")\npublic ModelAndView addUser(RedirectAttributes redirAtt) {\n    ModelAndView mv = new ModelAndView(\"redirect:user\");\n    String out = \"All User Details: \";\n    try {\n        Session session = HibernateUtil.getSessionFactory().openSession();\n            session.beginTransaction();\n        List result = session.createQuery(\"from Users\").list();\n        mv.addObject(\"users\", result);\n        session.getTransaction().commit();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    redirAtt.addFlashAttribute(\"message\", out);\n    return mv;\n}\n</code></pre>\n\n<p>jsp that I want data displayed on: user.jsp</p>\n\n<pre><code>&lt;%@page contentType=\"text/html\" pageEncoding=\"UTF-8\"%&gt;\n&lt;%@taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n        &lt;title&gt;${message}&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;${message}&lt;/h1&gt;&lt;br&gt;\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Username&lt;/th&gt;\n                &lt;th&gt;Nickname&lt;/th&gt;\n                &lt;th&gt;Email&lt;/th&gt;\n                &lt;th&gt;Password&lt;/th&gt;\n            &lt;/tr&gt;\n            &lt;c:forEach items=\"${users}\"  var=\"user\"&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;c:out value=\"${user.username}\"/&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;c:out value=\"${user.nickname}\"/&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;c:out value=\"${user.email}\"/&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;c:out value=\"${user.password}\"/&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/c:forEach&gt;\n        &lt;/table&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>No data is displayed when the page is redirected.</p>\n\n<p>I also did my controller this way: </p>\n\n<pre><code>@RequestMapping(value = \"/test.htm\")\npublic String addUser(RedirectAttributes redirectAttributes) {\n    String out = \"All User Details: \";\n    try {\n        Session session = HibernateUtil.getSessionFactory().openSession();\n            session.beginTransaction();\n        List result = session.createQuery(\"from Users\").list();\n        session.getTransaction().commit();\n\n        redirectAttributes.addAttribute(\"message\", \"testing testing tesing\");\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return \"redirect:/user.jsp\";\n}\n\n@RequestMapping(value = \"/user.jsp\")\npublic ModelAndView test(@ModelAttribute(\"message\") String myMessage) {\n\n    ModelAndView mv = new ModelAndView(\"user\");\n    mv.addObject(\"message\", myMessage);\n    return mv;\n\n}\n</code></pre>\n\n<p>When i tried this, the redirected url is :</p>\n\n<pre><code>http://localhost:8080/projname/user.jsp?message=testing+testing+tesing\n</code></pre>\n\n<p>so I think the attributes are being passed over but maybe I am outputting wrong?</p>\n"},{"tags":["java","maven","maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1668761023,"post_id":74486940,"comment_id":131489397,"body_markdown":"Yes you can define it in a parent pom...and use that parent pom...","body":"Yes you can define it in a parent pom...and use that parent pom..."},{"owner":{"account_id":277035,"reputation":13804,"user_id":570767,"accept_rate":82,"display_name":"Azodious"},"score":0,"creation_date":1668778377,"post_id":74486940,"comment_id":131495162,"body_markdown":"@khmarbaise this won&#39;t work. I&#39;ll have to include all the children in parent pom. Which i don&#39;t want. My plugin processes all the modules of a project and if I create parent the way you suggested it will process all the repos  together.","body":"@khmarbaise this won&#39;t work. I&#39;ll have to include all the children in parent pom. Which i don&#39;t want. My plugin processes all the modules of a project and if I create parent the way you suggested it will process all the repos  together."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668779561,"post_id":74486940,"comment_id":131495591,"body_markdown":"This is simply wrong. You can create separate standalone parent pom which contains the configuration / setup and other configuration and version fixes for plugins... A parent does not imply defining modules (called multi module build).","body":"This is simply wrong. You can create separate standalone parent pom which contains the configuration / setup and other configuration and version fixes for plugins... A parent does not imply defining modules (called multi module build)."},{"owner":{"account_id":277035,"reputation":13804,"user_id":570767,"accept_rate":82,"display_name":"Azodious"},"score":0,"creation_date":1668781027,"post_id":74486940,"comment_id":131496136,"body_markdown":"Sure, let me try. Will get back.","body":"Sure, let me try. Will get back."}],"owner":{"account_id":277035,"reputation":13804,"user_id":570767,"accept_rate":82,"display_name":"Azodious"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668760906,"creation_date":1668760906,"question_id":74486940,"body_markdown":"I&#39;ve a Maven plugin which needs to be included in multiple git repos.\r\n\r\nis there any way to provide plugin definition at one place and use it in multiple projects?\r\n\r\nThanks.","title":"how to configure a Maven plugin","body":"<p>I've a Maven plugin which needs to be included in multiple git repos.</p>\n<p>is there any way to provide plugin definition at one place and use it in multiple projects?</p>\n<p>Thanks.</p>\n"},{"tags":["java","postgresql","database-metadata"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1520530802,"post_id":49179080,"comment_id":85363878,"body_markdown":"Which driver are you using? You could check the source to see if there&#39;s any comments about the implementation (such as &quot;not implemented&quot;).","body":"Which driver are you using? You could check the source to see if there&#39;s any comments about the implementation (such as &quot;not implemented&quot;)."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1520531097,"post_id":49179080,"comment_id":85364055,"body_markdown":"Specify exactly what JDBC driver, what version of that driver, and what version of Postgres.","body":"Specify exactly what JDBC driver, what version of that driver, and what version of Postgres."},{"owner":{"account_id":1364481,"reputation":421,"user_id":1301216,"accept_rate":14,"display_name":"Baruch Atta"},"score":0,"creation_date":1520531851,"post_id":49179080,"comment_id":85364481,"body_markdown":"Driver postgresql-9.2-1002.jdbc4.jar","body":"Driver postgresql-9.2-1002.jdbc4.jar"},{"owner":{"account_id":1364481,"reputation":421,"user_id":1301216,"accept_rate":14,"display_name":"Baruch Atta"},"score":0,"creation_date":1520532902,"post_id":49179080,"comment_id":85365066,"body_markdown":"Googling -  I find a new class:  \norg.postgresql.jdbc\n\nClass PgDatabaseMetaData\n\njava.lang.Object\n org.postgresql.jdbc.PgDatabaseMetaData\n \nCould this be a clue?","body":"Googling -  I find a new class:   org.postgresql.jdbc  Class PgDatabaseMetaData  java.lang.Object  org.postgresql.jdbc.PgDatabaseMetaData   Could this be a clue?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1520533647,"post_id":49179080,"comment_id":85365537,"body_markdown":"Unrelated, but the 9.2 driver is extremely outdated.","body":"Unrelated, but the 9.2 driver is extremely outdated."},{"owner":{"account_id":1364481,"reputation":421,"user_id":1301216,"accept_rate":14,"display_name":"Baruch Atta"},"score":0,"creation_date":1520540423,"post_id":49179080,"comment_id":85369140,"body_markdown":"@horse It is the latest that is available to this large government installation.","body":"@horse It is the latest that is available to this large government installation."}],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520533918,"creation_date":1520533918,"answer_id":49180108,"question_id":49179080,"body_markdown":"Use [`ResultSet.getPrecision()`][1]\r\n\r\nQuote from [the JavaDocs](https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSetMetaData.html#getPrecision-int-)\r\n\r\n&gt; Get the designated column&#39;s specified column size. For numeric data, this is the maximum precision. **For character data, this is the length in characters.**\r\n\r\n&lt;sup&gt;(emphasis mine)&lt;/sup&gt;\r\n\r\nHowever in my experience not all JDBC driver behave the same way with this. For some `getColumnDisplaySize()` is more accurate, for others `getPrecision()` returns the correct information.\r\n\r\n---\r\n\r\nThe [JavaDocs for `getColumnDisplaySize()` ](https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSetMetaData.html#getColumnDisplaySize-int-) state:\r\n\r\n&gt; Indicates the designated column&#39;s normal maximum width in characters.\r\n\r\nWhich suggests this is more a hint from the driver on how wide the column can be.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSetMetaData.html#getPrecision-int-\r\n","title":"Retrieving a field size from a PostgreSQL metadata in Java","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSetMetaData.html#getPrecision-int-\" rel=\"nofollow noreferrer\"><code>ResultSet.getPrecision()</code></a></p>\n\n<p>Quote from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSetMetaData.html#getPrecision-int-\" rel=\"nofollow noreferrer\">the JavaDocs</a></p>\n\n<blockquote>\n  <p>Get the designated column's specified column size. For numeric data, this is the maximum precision. <strong>For character data, this is the length in characters.</strong></p>\n</blockquote>\n\n<p><sup>(emphasis mine)</sup></p>\n\n<p>However in my experience not all JDBC driver behave the same way with this. For some <code>getColumnDisplaySize()</code> is more accurate, for others <code>getPrecision()</code> returns the correct information.</p>\n\n<hr>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSetMetaData.html#getColumnDisplaySize-int-\" rel=\"nofollow noreferrer\">JavaDocs for <code>getColumnDisplaySize()</code> </a> state:</p>\n\n<blockquote>\n  <p>Indicates the designated column's normal maximum width in characters.</p>\n</blockquote>\n\n<p>Which suggests this is more a hint from the driver on how wide the column can be.</p>\n"},{"tags":[],"owner":{"account_id":1364481,"reputation":421,"user_id":1301216,"accept_rate":14,"display_name":"Baruch Atta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520540222,"creation_date":1520540222,"answer_id":49181743,"question_id":49179080,"body_markdown":"Here is how I handled this situation.  First I read thru the entire table and get the max width of each column.  Then I reread the table sequentially and display each field with it&#39;s max width. rightPad() pads spaces to make the string the right size.  All the fields now line up nicely, as they should. Too bad that the PostgreSQL does not do this, or just throws up the max varchar in every case.   \r\n\r\n    while(rs.next()) {                             \r\n        line=&quot;&quot;; cnt++;                                          \r\n        for (int col=1; col&lt;=numCols; col++){                    \r\n            fld = rs.getString(col);                             \r\n            if (fld != null &amp;&amp; !fld.isEmpty() &amp;&amp;                 \r\n                wid&#221;col&#168;&lt;fld.length()){wid&#221;col&#168;=fld.length();}   \r\n        } \r\n    &gt; \r\n    &gt; rs = stmt.executeQuery(qry); // restart the query                           \r\n    cnt=0;                                                  \r\n    while(rs.next() &amp; cnt &lt; 10000) {                        \r\n          line=&quot;&quot;; cnt++;                                   \r\n          for (int col=1; col&lt;=numCols; col++){             \r\n              fld = rightPad(rs.getString(col), wid&#221;col&#168;);  \r\n              line = line + fld + &quot; &quot;;                      \r\n          }                                                 \r\n    say(line + &quot;\\n&quot;);                                       \r\n                                                       \r\n","title":"Retrieving a field size from a PostgreSQL metadata in Java","body":"<p>Here is how I handled this situation.  First I read thru the entire table and get the max width of each column.  Then I reread the table sequentially and display each field with it's max width. rightPad() pads spaces to make the string the right size.  All the fields now line up nicely, as they should. Too bad that the PostgreSQL does not do this, or just throws up the max varchar in every case.   </p>\n\n<pre><code>while(rs.next()) {                             \n    line=\"\"; cnt++;                                          \n    for (int col=1; col&lt;=numCols; col++){                    \n        fld = rs.getString(col);                             \n        if (fld != null &amp;&amp; !fld.isEmpty() &amp;&amp;                 \n            widcol&lt;fld.length()){widcol=fld.length();}   \n    } \n&gt; \n&gt; rs = stmt.executeQuery(qry); // restart the query                           \ncnt=0;                                                  \nwhile(rs.next() &amp; cnt &lt; 10000) {                        \n      line=\"\"; cnt++;                                   \n      for (int col=1; col&lt;=numCols; col++){             \n          fld = rightPad(rs.getString(col), widcol);  \n          line = line + fld + \" \";                      \n      }                                                 \nsay(line + \"\\n\");                                       \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24382662,"reputation":11,"user_id":18313941,"display_name":"dyrl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668760875,"creation_date":1668760875,"answer_id":74486932,"question_id":49179080,"body_markdown":"I have encountered the same problem, but without a table definition, I&#39;m not sure we are in the same situation.\r\nIn my situation, 2147483647 is returned when there is no length definition for that column (e.g. varchar, which is defined as an extension of the SQL standard).\r\n&gt;The notations varchar(n) and char(n) are aliases for character varying(n) and character(n), respectively. If specified, the length must be greater than zero and cannot exceed 10485760. character without length specifier is equivalent to character(1). If character varying is used without length specifier, the type accepts strings of any size. The latter is a PostgreSQL extension.","title":"Retrieving a field size from a PostgreSQL metadata in Java","body":"<p>I have encountered the same problem, but without a table definition, I'm not sure we are in the same situation.\nIn my situation, 2147483647 is returned when there is no length definition for that column (e.g. varchar, which is defined as an extension of the SQL standard).</p>\n<blockquote>\n<p>The notations varchar(n) and char(n) are aliases for character varying(n) and character(n), respectively. If specified, the length must be greater than zero and cannot exceed 10485760. character without length specifier is equivalent to character(1). If character varying is used without length specifier, the type accepts strings of any size. The latter is a PostgreSQL extension.</p>\n</blockquote>\n"}],"owner":{"account_id":1364481,"reputation":421,"user_id":1301216,"accept_rate":14,"display_name":"Baruch Atta"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668760875,"creation_date":1520530171,"question_id":49179080,"body_markdown":"This Java code works with a DB2 database, and a PostgreSQL database.\r\n\r\n \r\n\r\n    rs = stmt.executeQuery(qry);                            \r\n    rsMetaData = rs.getMetaData();                          \r\n    numCols = rsMetaData.getColumnCount();                  \r\n    say(&quot;resultSet MetaData column Count=&quot; + numCols);\r\n\r\nBut when I ask for the size of any column, I get an impossible large number for a PostgreSQL\r\n\r\n    width = rsMetaData.getColumnDisplaySize(col); \r\n\r\nDB2 returns accurate column size but PostgreSQL gives this:\r\n\r\n    table_catalog POSITION(1) varchar(2147483647)                                     \r\n\r\nThe Driver is org.postgresql.Driver - postgresql-9.2-1002.jdbc4.jar\r\n      \r\nThis size (2147483647) is returned for all the columns in the table. Is this a bug in the PostgreSQL or in Java ResultSetMetaData?  How can I get the true width of columns in PostgreSQL? \r\n\r\n\r\n                                     \r\n\r\n\r\n\r\n\r\n\r\n","title":"Retrieving a field size from a PostgreSQL metadata in Java","body":"<p>This Java code works with a DB2 database, and a PostgreSQL database.</p>\n\n<pre><code>rs = stmt.executeQuery(qry);                            \nrsMetaData = rs.getMetaData();                          \nnumCols = rsMetaData.getColumnCount();                  \nsay(\"resultSet MetaData column Count=\" + numCols);\n</code></pre>\n\n<p>But when I ask for the size of any column, I get an impossible large number for a PostgreSQL</p>\n\n<pre><code>width = rsMetaData.getColumnDisplaySize(col); \n</code></pre>\n\n<p>DB2 returns accurate column size but PostgreSQL gives this:</p>\n\n<pre><code>table_catalog POSITION(1) varchar(2147483647)                                     \n</code></pre>\n\n<p>The Driver is org.postgresql.Driver - postgresql-9.2-1002.jdbc4.jar</p>\n\n<p>This size (2147483647) is returned for all the columns in the table. Is this a bug in the PostgreSQL or in Java ResultSetMetaData?  How can I get the true width of columns in PostgreSQL? </p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1606458925,"post_id":65029220,"comment_id":114972625,"body_markdown":"Interesting. If you register a zero-serializer type adapter factory whose `create` method would only be the following statements, `System.out.println(typeToken); return null;`, you&#39;d see that Gson does not have enough runtime type information: `java.util.Map&lt;C_Enum, T&gt;` where `T` is a type parameter, not a real type, thus Gson deserializes it as a string, not as an enum. I&#39;m not sure whether it&#39;s possible to propagate the type information in the built-in reflective type adapter factory, but is it possible for you not to use type parameters?","body":"Interesting. If you register a zero-serializer type adapter factory whose <code>create</code> method would only be the following statements, <code>System.out.println(typeToken); return null;</code>, you&#39;d see that Gson does not have enough runtime type information: <code>java.util.Map&lt;C_Enum, T&gt;</code> where <code>T</code> is a type parameter, not a real type, thus Gson deserializes it as a string, not as an enum. I&#39;m not sure whether it&#39;s possible to propagate the type information in the built-in reflective type adapter factory, but is it possible for you not to use type parameters?"},{"owner":{"account_id":20065923,"reputation":51,"user_id":14711613,"display_name":"Yoni Zadik"},"score":0,"creation_date":1606634797,"post_id":65029220,"comment_id":115016229,"body_markdown":"Well.. first the right way is to have it typed. Second, as I noted my real code is a bit different from what I pasted and so after some checking I see it is quite difficult to remove the type and use something else","body":"Well.. first the right way is to have it typed. Second, as I noted my real code is a bit different from what I pasted and so after some checking I see it is quite difficult to remove the type and use something else"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1606635256,"post_id":65029220,"comment_id":115016298,"body_markdown":"I didn&#39;t mean &quot;remove the types&quot; therefore not typed, I meant &quot;not to use type parameters&quot;.","body":"I didn&#39;t mean &quot;remove the types&quot; therefore not typed, I meant &quot;not to use type parameters&quot;."},{"owner":{"account_id":20065923,"reputation":51,"user_id":14711613,"display_name":"Yoni Zadik"},"score":0,"creation_date":1606738046,"post_id":65029220,"comment_id":115042905,"body_markdown":"Sorry but i still don&#39;t understand the difference.\nAnyway, I did a workaround by adding an adapter factory which stores the type of class A, and then for class B uses the type to create the right adapter. This was possible because class A is also parametrized with the same type as B (and not as I previously showed)","body":"Sorry but i still don&#39;t understand the difference. Anyway, I did a workaround by adding an adapter factory which stores the type of class A, and then for class B uses the type to create the right adapter. This was possible because class A is also parametrized with the same type as B (and not as I previously showed)"},{"owner":{"account_id":20065923,"reputation":51,"user_id":14711613,"display_name":"Yoni Zadik"},"score":0,"creation_date":1606738316,"post_id":65029220,"comment_id":115043011,"body_markdown":"```\nTypeToken classAType; //taken from class A\nType classAGenericType = ((ParameterizedType) classAType.getType()).getActualTypeArguments()[0];\nType classBGenericTypeParam = TypeToken.getParameterized(B.class, classAGenericType).getType();\nTypeToken&lt;?&gt; classBGenericTypeParamToken = TypeToken.get(classBGenericTypeParam);\nTypeAdapter&lt;T&gt; defaultAdapter = (TypeAdapter&lt;T&gt;) gson.getDelegateAdapter(this, classBGenericTypeParamToken);\n```","body":"``` TypeToken classAType; //taken from class A Type classAGenericType = ((ParameterizedType) classAType.getType()).getActualTypeArguments()[0]; Type classBGenericTypeParam = TypeToken.getParameterized(B.class, classAGenericType).getType(); TypeToken&lt;?&gt; classBGenericTypeParamToken = TypeToken.get(classBGenericTypeParam); TypeAdapter&lt;T&gt; defaultAdapter = (TypeAdapter&lt;T&gt;) gson.getDelegateAdapter(this, classBGenericTypeParamToken); ```"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1607100780,"post_id":65029220,"comment_id":115175036,"body_markdown":"Could you please clarify this question a little bit, do you mean with &quot;first generic type to the correct object&quot; the `T` as key type for `Map&lt;T, T&gt;`? There is [GitHub issue 1390](https://github.com/google/gson/issues/1390) (and an accompanying pull request) which sounds similar to your problem.","body":"Could you please clarify this question a little bit, do you mean with &quot;first generic type to the correct object&quot; the <code>T</code> as key type for <code>Map&lt;T, T&gt;</code>? There is <a href=\"https://github.com/google/gson/issues/1390\" rel=\"nofollow noreferrer\">GitHub issue 1390</a> (and an accompanying pull request) which sounds similar to your problem."},{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":0,"creation_date":1668759805,"post_id":65029220,"comment_id":131489053,"body_markdown":"+1. I meet the same issue, use the map like `Map&lt;SOME_ENUM, T&gt;map`, and `gson.toJson()` will not serialize the key use the name after @SerializedName","body":"+1. I meet the same issue, use the map like <code>Map&lt;SOME_ENUM, T&gt;map</code>, and <code>gson.toJson()</code> will not serialize the key use the name after @SerializedName"},{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":0,"creation_date":1668759852,"post_id":65029220,"comment_id":131489066,"body_markdown":"@YoniZadik could you share your code via gist or other code editor, I need the same code too","body":"@YoniZadik could you share your code via gist or other code editor, I need the same code too"}],"answers":[{"tags":[],"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668760684,"creation_date":1668760684,"answer_id":74486895,"question_id":65029220,"body_markdown":"I meet the same issue \r\n\r\n    Map&lt;SOME_ENUM, T&gt;map;\r\n    // gson will not use @SerializedName in the SOME_ENUM\r\n    String badJson = new Gson().toJson(map)\r\n\r\nchange it to \r\n\r\n    Map&lt;SOME_ENUM, T&gt;map;\r\n    // gson is good\r\n    String goodJson = new GsonBuilder().enableComplexMapKeySerialization().create().toJson(map)\r\n\r\nlink to [gson/issue][1]\r\n\r\n\r\n  [1]: https://github.com/google/gson/issues/473#issuecomment-138103790","title":"GSON not de-serializing properly nested map with generic key/value","body":"<p>I meet the same issue</p>\n<pre><code>Map&lt;SOME_ENUM, T&gt;map;\n// gson will not use @SerializedName in the SOME_ENUM\nString badJson = new Gson().toJson(map)\n</code></pre>\n<p>change it to</p>\n<pre><code>Map&lt;SOME_ENUM, T&gt;map;\n// gson is good\nString goodJson = new GsonBuilder().enableComplexMapKeySerialization().create().toJson(map)\n</code></pre>\n<p>link to <a href=\"https://github.com/google/gson/issues/473#issuecomment-138103790\" rel=\"nofollow noreferrer\">gson/issue</a></p>\n"}],"owner":{"account_id":20065923,"reputation":51,"user_id":14711613,"display_name":"Yoni Zadik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1668760684,"creation_date":1606424798,"question_id":65029220,"body_markdown":"I&#39;m using GSON to deserialise a JSON string to a JAVA object containing a nested Map with generic key/value.&lt;br&gt;\r\nFrom my debugging I see GSON converts the first generic type to the correct object. But the second is not converted and therefore acts as a string.\r\n\r\n```\r\nclass A {\r\n    public B&lt;C_Enum&gt; b = new B&lt;C_Enum&gt;();\r\n}\r\nclass B&lt;T&gt; {\r\n    private Map&lt;T, T&gt; map = new HashMap&lt;T, T&gt;();\r\n}\r\nenum C_Enum {\r\n    VAL1, VAL2;\r\n}\r\nmain() {\r\n\tString json = &quot;{\\&quot;b\\&quot;: {\\&quot;map\\&quot;: {\\&quot;NOT_VALID\\&quot;: \\&quot;NOT_VALID\\&quot;}}}&quot;;\r\n\tGsonBuilder builder = new GsonBuilder();\r\n\tGson customDeserializer = builder.create();\r\n\tA a = customDeserializer.fromJson(json, A.class);\r\n}\r\n```\r\nIn this example the map is populated with a null key because NOT_VALID is not a valid C_Enum value, and the value of the map is populated with NOT_VALID.&lt;br&gt;\r\nNote: my real code is a bit different but the problem is the same","title":"GSON not de-serializing properly nested map with generic key/value","body":"<p>I'm using GSON to deserialise a JSON string to a JAVA object containing a nested Map with generic key/value.<br>\nFrom my debugging I see GSON converts the first generic type to the correct object. But the second is not converted and therefore acts as a string.</p>\n<pre><code>class A {\n    public B&lt;C_Enum&gt; b = new B&lt;C_Enum&gt;();\n}\nclass B&lt;T&gt; {\n    private Map&lt;T, T&gt; map = new HashMap&lt;T, T&gt;();\n}\nenum C_Enum {\n    VAL1, VAL2;\n}\nmain() {\n    String json = &quot;{\\&quot;b\\&quot;: {\\&quot;map\\&quot;: {\\&quot;NOT_VALID\\&quot;: \\&quot;NOT_VALID\\&quot;}}}&quot;;\n    GsonBuilder builder = new GsonBuilder();\n    Gson customDeserializer = builder.create();\n    A a = customDeserializer.fromJson(json, A.class);\n}\n</code></pre>\n<p>In this example the map is populated with a null key because NOT_VALID is not a valid C_Enum value, and the value of the map is populated with NOT_VALID.<br>\nNote: my real code is a bit different but the problem is the same</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1493810089,"post_id":43757856,"comment_id":74557986,"body_markdown":"Why can&#39;t you pass POJO or Map rather than String?","body":"Why can&#39;t you pass POJO or Map rather than String?"},{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1493813890,"post_id":43757856,"comment_id":74560751,"body_markdown":"See [this](http://stackoverflow.com/questions/22993633/get-current-resource-name-using-multiresourceitemreader-spting-batch)","body":"See <a href=\"http://stackoverflow.com/questions/22993633/get-current-resource-name-using-multiresourceitemreader-spting-batch\">this</a>"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1493819091,"post_id":43757856,"comment_id":74564897,"body_markdown":"@StanislavL because if I read a file with some million lines, I&#39;d have to create also some million useless pojos.","body":"@StanislavL because if I read a file with some million lines, I&#39;d have to create also some million useless pojos."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1493819138,"post_id":43757856,"comment_id":74564938,"body_markdown":"@SabirKhan what do you think answers the question there? Your linked question has even NO accepted answer.","body":"@SabirKhan what do you think answers the question there? Your linked question has even NO accepted answer."},{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1493821125,"post_id":43757856,"comment_id":74566568,"body_markdown":"I guess , accepting or not accepting an answer is totally asker&#39;s prerogative . I think, `ResourceAware` approach should work for you. Or another simple way to get all resources before beginning your step and injecting values in reader and processor both from step context. Have you tried `ResourceAware` approach? There is a link to a spring forum thread in first answer.","body":"I guess , accepting or not accepting an answer is totally asker&#39;s prerogative . I think, <code>ResourceAware</code> approach should work for you. Or another simple way to get all resources before beginning your step and injecting values in reader and processor both from step context. Have you tried <code>ResourceAware</code> approach? There is a link to a spring forum thread in first answer."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1493821420,"post_id":43757856,"comment_id":74566803,"body_markdown":"`ResourceAware` is to be applied on the `Item` that is read from `ItemReader`. As written above, I just have a `FlatFileItemReader&lt;String&gt;`. Not the `&lt;String&gt;`, which means I do NOT have an object that could `implement ResourceAware`. So I would have to introduce an object that has two fields: the content string, and the resource. But I&#39;d like to avoid this, as I would have to create that pojo for each string (=for each line in the file). That&#39;s bad for performance.","body":"<code>ResourceAware</code> is to be applied on the <code>Item</code> that is read from <code>ItemReader</code>. As written above, I just have a <code>FlatFileItemReader&lt;String&gt;</code>. Not the <code>&lt;String&gt;</code>, which means I do NOT have an object that could <code>implement ResourceAware</code>. So I would have to introduce an object that has two fields: the content string, and the resource. But I&#39;d like to avoid this, as I would have to create that pojo for each string (=for each line in the file). That&#39;s bad for performance."}],"answers":[{"tags":[],"owner":{"account_id":6323989,"reputation":4294,"user_id":4910973,"display_name":"Hansjoerg Wingeier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493902707,"creation_date":1493897064,"answer_id":43781540,"question_id":43757856,"body_markdown":"in order to be on the safe side, you should add the name of the file to the object that is returned by the reader. In order to do that, you have to implement your own wrapper Reader. Something like this:\r\n\r\n    public class MyReader {\r\n         private MultiResourceItemReader delegatereader;\r\n  \r\n         public MyContainerDto read() {\r\n              String line = delegatereader.read();\r\n              if (line==null) return null;\r\n\r\n              Resource currentResource = delegatereader.getCurrentResource();\r\n              \r\n              MyContainerDto container = MyContainerDto();\r\n              container.setLine(line);\r\n              container.setResourceName(currentResource.getFileName());\r\n              return container;\r\n         }\r\n\r\n         ...\r\n    } \r\n\r\n(this code was not tested, it just illustrates the aproach I would take)\r\n\r\nOn my laptop, I&#39;m able to crate 1 million objects within a second, so the additional performance needed in order to create the objects isn&#39;t really something that affects the overall performance significantly.\r\n\r\nThe problem is, that the reader reads as many items, as is defined by the chunksize. After that, it will call the processor for every item in this chunk. Therefore, within a chunk, the items in it could have been read from different files. Hence, there is no other way than to bind the line and the filename together in the reader.\r\n\r\nsee also [https://blog.codecentric.de/en/2012/03/transactions-in-spring-batch-part-1-the-basics/][1]\r\n\r\n\r\n  [1]: https://blog.codecentric.de/en/2012/03/transactions-in-spring-batch-part-1-the-basics/","title":"How to pass parameters from ItemReader to ItemProcessor in spring-batch?","body":"<p>in order to be on the safe side, you should add the name of the file to the object that is returned by the reader. In order to do that, you have to implement your own wrapper Reader. Something like this:</p>\n\n<pre><code>public class MyReader {\n     private MultiResourceItemReader delegatereader;\n\n     public MyContainerDto read() {\n          String line = delegatereader.read();\n          if (line==null) return null;\n\n          Resource currentResource = delegatereader.getCurrentResource();\n\n          MyContainerDto container = MyContainerDto();\n          container.setLine(line);\n          container.setResourceName(currentResource.getFileName());\n          return container;\n     }\n\n     ...\n} \n</code></pre>\n\n<p>(this code was not tested, it just illustrates the aproach I would take)</p>\n\n<p>On my laptop, I'm able to crate 1 million objects within a second, so the additional performance needed in order to create the objects isn't really something that affects the overall performance significantly.</p>\n\n<p>The problem is, that the reader reads as many items, as is defined by the chunksize. After that, it will call the processor for every item in this chunk. Therefore, within a chunk, the items in it could have been read from different files. Hence, there is no other way than to bind the line and the filename together in the reader.</p>\n\n<p>see also <a href=\"https://blog.codecentric.de/en/2012/03/transactions-in-spring-batch-part-1-the-basics/\" rel=\"nofollow noreferrer\">https://blog.codecentric.de/en/2012/03/transactions-in-spring-batch-part-1-the-basics/</a></p>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1494014145,"creation_date":1494014145,"answer_id":43812856,"question_id":43757856,"body_markdown":"It&#39;s probably best to introduce a dto for the reader.\r\n\r\n    public class ResourceAwareString implements ResourceAware {\r\n         private String content;\r\n         private Resource res;\r\n    \r\n         @Override\r\n         public void setResource(Resource res) {\r\n             this.res = res;\r\n         }\r\n    }\r\n\r\nThen the `MultiResourceItemReader&lt;ResourceAwareString&gt;` will automatically detect it and write the resource to the dto.\r\n\r\nOther approach would be to make both `ItemReader` and `ItemProcessor` `@StepScope` and use `@BeforeStep` to get access to the current `StepExection` context. Then it&#39;s possible to set/get a value, and thereby transport values from reader to processer, or even to writer.\r\n\r\nNote that `@BeforeStep` only works on a public class, and NOT on an anonymous method like:\r\n\r\n    new FlatFileItemReader&lt;String&gt;() {\r\n      @BeforeStep\r\n      public void before(StepExecution stepEx) {\r\n           //this will never be called! don&#39;t do this.\r\n      }\r\n    };","title":"How to pass parameters from ItemReader to ItemProcessor in spring-batch?","body":"<p>It's probably best to introduce a dto for the reader.</p>\n\n<pre><code>public class ResourceAwareString implements ResourceAware {\n     private String content;\n     private Resource res;\n\n     @Override\n     public void setResource(Resource res) {\n         this.res = res;\n     }\n}\n</code></pre>\n\n<p>Then the <code>MultiResourceItemReader&lt;ResourceAwareString&gt;</code> will automatically detect it and write the resource to the dto.</p>\n\n<p>Other approach would be to make both <code>ItemReader</code> and <code>ItemProcessor</code> <code>@StepScope</code> and use <code>@BeforeStep</code> to get access to the current <code>StepExection</code> context. Then it's possible to set/get a value, and thereby transport values from reader to processer, or even to writer.</p>\n\n<p>Note that <code>@BeforeStep</code> only works on a public class, and NOT on an anonymous method like:</p>\n\n<pre><code>new FlatFileItemReader&lt;String&gt;() {\n  @BeforeStep\n  public void before(StepExecution stepEx) {\n       //this will never be called! don't do this.\n  }\n};\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3812,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43812856,"answer_count":2,"score":0,"last_activity_date":1668760480,"creation_date":1493808410,"question_id":43757856,"body_markdown":"Question is simple: how can I pass a value that is only know within `ItemReader` (eg the current filename) to the `ItemProcessor`?\r\n\r\n\t@Bean\r\n\t@JobScope\r\n\tpublic ItemReader&lt;String&gt; reader(@Value(&quot;#{jobParameters[&#39;path]}&quot;) String path) {\r\n\t\tFlatFileItemReader&lt;String&gt; delegate = new FlatFileItemReader&lt;&gt;();\r\n\t\tdelegate.setLineMapper(new PassThroughLineMapper());\r\n\r\n\t\tResource[] res = new PathMatchingResourcePatternResolver().getResources(&quot;file:&quot; + path);\r\n\t\t\r\n\t\tMultiResourceItemReader&lt;String&gt;\tr = new MultiResourceItemReader&lt;&gt;();\r\n\t\tr.setResources(res);\r\n\t\tr.setDelegate(delegate);\r\n\t\treturn r;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ItemProcessor&lt;String, String&gt; processor() {\r\n\t\treturn new ItemProcessor&lt;String, String&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String process(String item) throws Exception {\r\n\t\t\t\t//TODO I need the filename that is currently processed. HOW?\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t};\r\n\t}","title":"How to pass parameters from ItemReader to ItemProcessor in spring-batch?","body":"<p>Question is simple: how can I pass a value that is only know within <code>ItemReader</code> (eg the current filename) to the <code>ItemProcessor</code>?</p>\n\n<pre><code>@Bean\n@JobScope\npublic ItemReader&lt;String&gt; reader(@Value(\"#{jobParameters['path]}\") String path) {\n    FlatFileItemReader&lt;String&gt; delegate = new FlatFileItemReader&lt;&gt;();\n    delegate.setLineMapper(new PassThroughLineMapper());\n\n    Resource[] res = new PathMatchingResourcePatternResolver().getResources(\"file:\" + path);\n\n    MultiResourceItemReader&lt;String&gt; r = new MultiResourceItemReader&lt;&gt;();\n    r.setResources(res);\n    r.setDelegate(delegate);\n    return r;\n}\n\n@Bean\npublic ItemProcessor&lt;String, String&gt; processor() {\n    return new ItemProcessor&lt;String, String&gt;() {\n\n        @Override\n        public String process(String item) throws Exception {\n            //TODO I need the filename that is currently processed. HOW?\n            return null;\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Matea"},"score":0,"creation_date":1668750468,"post_id":74485331,"comment_id":131486853,"body_markdown":"@Icarus splitting by comma would also split my keys, and I don&#39;t want that. I want a String array of JSON objects, not of JSON keys","body":"@Icarus splitting by comma would also split my keys, and I don&#39;t want that. I want a String array of JSON objects, not of JSON keys"},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":2,"creation_date":1668750559,"post_id":74485331,"comment_id":131486874,"body_markdown":"iterate through the string, push the front bracket whenever there&#39;s one and pop it whenever there&#39;s a back bracket. whenever the stack is empty return the substring up to that point","body":"iterate through the string, push the front bracket whenever there&#39;s one and pop it whenever there&#39;s a back bracket. whenever the stack is empty return the substring up to that point"},{"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Matea"},"score":0,"creation_date":1668750664,"post_id":74485331,"comment_id":131486890,"body_markdown":"@Icarus This would, indeed, be a solution, and not a though one. But couldn&#39;t this be done much simpler in REGEX?","body":"@Icarus This would, indeed, be a solution, and not a though one. But couldn&#39;t this be done much simpler in REGEX?"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668750796,"creation_date":1668750796,"answer_id":74485428,"question_id":74485331,"body_markdown":"If it&#39;s pretty formatted as per your question, you can use:\r\n\r\n    (?s)(?&lt;=^    )\\{.*?(?&lt;=^    )}\r\n\r\n\r\nHere&#39;s some test code:\r\n\r\n    String input =&quot;[\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;        \\&quot;name\\&quot;: \\&quot;User1\\&quot;,\\n&quot; +\r\n            &quot;        \\&quot;gender\\&quot;: \\&quot;M\\&quot;\\n&quot; +\r\n            &quot;    },\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;        \\&quot;name\\&quot;: \\&quot;User2\\&quot;,\\n&quot; +\r\n            &quot;        \\&quot;gender\\&quot;: \\&quot;F\\&quot;\\n&quot; +\r\n            &quot;    }\\n&quot; +\r\n            &quot;]&quot;;\r\n    List&lt;String&gt; jsonObjects = Pattern.compile(&quot;(?sm)(?&lt;=^    )\\\\{.*?(?&lt;=^    )}&quot;)\r\n      .matcher(input).results()\r\n      .map(MatchResult::group)\r\n      .map(str -&gt; str.replaceAll(&quot;[\\s\\n]*(?!\\&quot;,)&quot;, &quot;&quot;)) // remove whitespace\r\n      .collect(toList());\r\n\r\nOutput:\r\n\r\n    {&quot;name&quot;:&quot;User1&quot;,&quot;gender&quot;:&quot;M&quot;}\r\n    {&quot;name&quot;:&quot;User2&quot;,&quot;gender&quot;:&quot;F&quot;}\r\n\r\n","title":"Regular Expression to extract JSON objects from array","body":"<p>If it's pretty formatted as per your question, you can use:</p>\n<pre><code>(?s)(?&lt;=^    )\\{.*?(?&lt;=^    )}\n</code></pre>\n<p>Here's some test code:</p>\n<pre><code>String input =&quot;[\\n&quot; +\n        &quot;    {\\n&quot; +\n        &quot;        \\&quot;name\\&quot;: \\&quot;User1\\&quot;,\\n&quot; +\n        &quot;        \\&quot;gender\\&quot;: \\&quot;M\\&quot;\\n&quot; +\n        &quot;    },\\n&quot; +\n        &quot;    {\\n&quot; +\n        &quot;        \\&quot;name\\&quot;: \\&quot;User2\\&quot;,\\n&quot; +\n        &quot;        \\&quot;gender\\&quot;: \\&quot;F\\&quot;\\n&quot; +\n        &quot;    }\\n&quot; +\n        &quot;]&quot;;\nList&lt;String&gt; jsonObjects = Pattern.compile(&quot;(?sm)(?&lt;=^    )\\\\{.*?(?&lt;=^    )}&quot;)\n  .matcher(input).results()\n  .map(MatchResult::group)\n  .map(str -&gt; str.replaceAll(&quot;[\\s\\n]*(?!\\&quot;,)&quot;, &quot;&quot;)) // remove whitespace\n  .collect(toList());\n</code></pre>\n<p>Output:</p>\n<pre><code>{&quot;name&quot;:&quot;User1&quot;,&quot;gender&quot;:&quot;M&quot;}\n{&quot;name&quot;:&quot;User2&quot;,&quot;gender&quot;:&quot;F&quot;}\n</code></pre>\n"}],"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Matea"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74485428,"answer_count":1,"score":-3,"last_activity_date":1668760435,"creation_date":1668749783,"question_id":74485331,"body_markdown":"I&#39;m working on a custom JSON deserializer in Java and would like to create an `ArrayList` of objects specified in such a `.json` file. For example, given the following file:\r\n```\r\n[\r\n    {\r\n        &quot;name&quot;: &quot;User1&quot;,\r\n        &quot;gender&quot;: &quot;M&quot;\r\n    },\r\n    {\r\n        &quot;name&quot;: &quot;User2&quot;,\r\n        &quot;gender&quot;: &quot;F&quot;\r\n    }\r\n]\r\n```\r\n(...) I want my Java program to create a structure of two objects of class `User`, each of it holding the corresponding fields.\r\n\r\nI managed to do it with only one value mentioned in the file (so no JSON array, just an object between `{}` and some key-value pairs), but with a list it gets more complicated. Thought about splitting the whole JSON array into all its elements, and apply my single JSON parsing algorithm to each of them, and then add them to an `ArrayList`.\r\n\r\nMy idea should work, but my problem is, I&#39;m not that sure on how to properly split this array of JSONs using Java&#39;s `split()` method for strings. I&#39;m also not that good at regex expressions to think for a proper one.\r\n\r\nThought about splitting it based on: `content.split(&quot;},&quot;)`, and then appending the last `}` to the final element, but this is going to also split inside members of my JSON elements if they reference to other objects.\r\n\r\nMy question would be, what would be a proper regex, in this context, that is going to make Java properly split my JSON array into multiple JSON elements?\r\n\r\nI can remove the brackets from the beginning and from the end of the file, this shouldn&#39;t be a problem as it only requires easy String manipulation, but I also want a `String[]` array, each one containing one of my two users, together with their data.\r\n\r\nExpected output:\r\n\r\n```\r\nString1: { &quot;name&quot;: &quot;User1&quot;, &quot;gender&quot;: &quot;M&quot; }\r\nString2: { &quot;name&quot;: &quot;User2&quot;, &quot;gender&quot;: &quot;F&quot; }\r\n```","title":"Regular Expression to extract JSON objects from array","body":"<p>I'm working on a custom JSON deserializer in Java and would like to create an <code>ArrayList</code> of objects specified in such a <code>.json</code> file. For example, given the following file:</p>\n<pre><code>[\n    {\n        &quot;name&quot;: &quot;User1&quot;,\n        &quot;gender&quot;: &quot;M&quot;\n    },\n    {\n        &quot;name&quot;: &quot;User2&quot;,\n        &quot;gender&quot;: &quot;F&quot;\n    }\n]\n</code></pre>\n<p>(...) I want my Java program to create a structure of two objects of class <code>User</code>, each of it holding the corresponding fields.</p>\n<p>I managed to do it with only one value mentioned in the file (so no JSON array, just an object between <code>{}</code> and some key-value pairs), but with a list it gets more complicated. Thought about splitting the whole JSON array into all its elements, and apply my single JSON parsing algorithm to each of them, and then add them to an <code>ArrayList</code>.</p>\n<p>My idea should work, but my problem is, I'm not that sure on how to properly split this array of JSONs using Java's <code>split()</code> method for strings. I'm also not that good at regex expressions to think for a proper one.</p>\n<p>Thought about splitting it based on: <code>content.split(&quot;},&quot;)</code>, and then appending the last <code>}</code> to the final element, but this is going to also split inside members of my JSON elements if they reference to other objects.</p>\n<p>My question would be, what would be a proper regex, in this context, that is going to make Java properly split my JSON array into multiple JSON elements?</p>\n<p>I can remove the brackets from the beginning and from the end of the file, this shouldn't be a problem as it only requires easy String manipulation, but I also want a <code>String[]</code> array, each one containing one of my two users, together with their data.</p>\n<p>Expected output:</p>\n<pre><code>String1: { &quot;name&quot;: &quot;User1&quot;, &quot;gender&quot;: &quot;M&quot; }\nString2: { &quot;name&quot;: &quot;User2&quot;, &quot;gender&quot;: &quot;F&quot; }\n</code></pre>\n"},{"tags":["java","file","java-8","comparator","file-sorting"],"comments":[{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":0,"creation_date":1668745827,"post_id":74484926,"comment_id":131486193,"body_markdown":"What operating system are you using? How do you know when the files were created? Based on filename? Last modified time? ... Your best bet is to skip java and just use the tools the OS/Linux distro gives you.","body":"What operating system are you using? How do you know when the files were created? Based on filename? Last modified time? ... Your best bet is to skip java and just use the tools the OS/Linux distro gives you."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1668751296,"post_id":74484926,"comment_id":131487006,"body_markdown":"*comparing each file taking lot of time* - comparing what?","body":"<i>comparing each file taking lot of time</i> - comparing what?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668759833,"post_id":74484926,"comment_id":131489058,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":324951,"reputation":935,"user_id":6722664,"display_name":"Sagar Gandhi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668754576,"creation_date":1668754576,"answer_id":74485909,"question_id":74484926,"body_markdown":"You can use following to get creation or last modification time \r\n\r\n\r\n      BasicFileAttributes attr = Files.readAttributes(path, BasicFileAttributes.class);\r\n        FileTime fileTime = attr.creationTime();\r\n\r\nOR\r\n   \r\n\r\n     FileTime creationTime = (FileTime) Files.getAttribute(path, &quot;creationTime&quot;);\r\n\r\n Now since you can take creation time (or last modification time), you can sort files by creation time.\r\n\r\nCaution: Iterating each file/directory will take time but it depends on your use case. I would do it if task is running in background but not for operation where user is waiting.  I would use cache to periodically process and store result for user facing operations.\r\n","title":"How get to the latest 50 files in a folder based on the file creation time","body":"<p>You can use following to get creation or last modification time</p>\n<pre><code>  BasicFileAttributes attr = Files.readAttributes(path, BasicFileAttributes.class);\n    FileTime fileTime = attr.creationTime();\n</code></pre>\n<p>OR</p>\n<pre><code> FileTime creationTime = (FileTime) Files.getAttribute(path, &quot;creationTime&quot;);\n</code></pre>\n<p>Now since you can take creation time (or last modification time), you can sort files by creation time.</p>\n<p>Caution: Iterating each file/directory will take time but it depends on your use case. I would do it if task is running in background but not for operation where user is waiting.  I would use cache to periodically process and store result for user facing operations.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668759972,"creation_date":1668759972,"answer_id":74486790,"question_id":74484926,"body_markdown":"Below is a method that reads all files within a specified directory (folder) path and sorts the files based on creation (or modification) timestamps in either Ascending or Descending Order. A String[] Array is returned with either just the file names or path and filenames depending what is supplied within the methods optional (varArg) parameters. \r\n\r\n    /**\r\n     * Returns a String[] Array of all the files within the supplied directory\r\n     * (folder) in either Ascending or Descending order. By default the full\r\n     * absolute path and the file name are returned, not just the file name.\r\n     * &lt;p&gt;\r\n     * If you want the files list to be sorted in Descending Order the supply\r\n     * &lt;b&gt;1&lt;/b&gt; within the optional &lt;b&gt;sortOrder&lt;/b&gt; parameter.\r\n     * &lt;p&gt;\r\n     * If you want just the file names within the String[] Array then supply\r\n     * &lt;b&gt;1&lt;/b&gt;\r\n     * within the optional &lt;b&gt;fileNamesOnly&lt;/b&gt; parameter.\r\n     * &lt;p&gt;\r\n     * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\r\n     *  {@code     String folderPath = &quot;C:\\\\Log Files\\\\SpecificAppLogsFolder&quot;;\r\n     *       String[] logFiles = getFolderFilesInOrder(folderPath);\r\n     *       for (String s : logFiles) {\r\n     *           System.out.println(s);\r\n     *       }\r\n     *   }&lt;/pre&gt;\r\n     *\r\n     * @param folderPath (String) The full path to the file system directory\r\n     *                   (folder) in which you want to get the list of files\r\n     *                   from.&lt;br&gt;\r\n     *\r\n     * @param options    (Optional - int):&lt;pre&gt;\r\n     *\r\n     *      sortOrder       - Default is 0 (Ascending Order) which means the files\r\n     *                        list will ne returned in ascending sort order (from \r\n     *                        the oldest files to the newest files). If any\r\n     *                        value other than 0 (ie: 1) is supplied then the files\r\n     *                        list will be returned in descending order (from newest\r\n     *                        files to oldest files).\r\n     *\r\n     *      fileNamesOnly   - Default is 0 where Path and file name are returned within\r\n     *                        the String[] Array. If any value other than 0 (ie: 1)\r\n     *                        is supplied then only the file names itself will be\r\n     *                        returned within the String[] Array.\r\n     *\r\n     *                        If an argument is supplied to this optional parameter\r\n     *                        then something MUST also be supplied to the optional\r\n     *                        &lt;b&gt;sortOrder&lt;/b&gt; parameter (either 0 or 1).&lt;/pre&gt;\r\n     *\r\n     * @return (One Dimensional String Array) The files contained within the\r\n     *         supplied directory path in the desired sort order based on their\r\n     *         Creation (last modified) timestamp.\r\n     */\r\n    public String[] getFolderFilesInOrder(String folderPath, int... options) {\r\n        File folder = new File(folderPath);\r\n        if (!folder.exists() &amp;&amp; !folder.isDirectory()) {\r\n            System.err.println(&quot;Either the supplied folder doesn&#39;t exist &quot;\r\n                    + &quot;or it is not a directory!&quot;);\r\n            return null;\r\n        }\r\n        int sortOrder = 0;      // Default - Ascending Order | any value other than 0 for Descending Order.\r\n        int fileNamesOnly = 0;  // Default - Path &amp; file name | any value other than 0 for file names only.\r\n        if (options.length &gt;= 1) {\r\n            sortOrder = options[0];\r\n            if (options.length &gt;= 2) {\r\n                fileNamesOnly = options[1];\r\n            }\r\n        }\r\n\r\n        File[] folderFilesList = folder.listFiles();\r\n        if (sortOrder == 0) {\r\n            Arrays.sort(folderFilesList, Comparator.comparingLong(File::lastModified));\r\n        }\r\n        else {\r\n            Arrays.sort(folderFilesList, Comparator.comparingLong(File::lastModified).reversed());\r\n        }\r\n\r\n        List&lt;String&gt; filesList = new ArrayList&lt;&gt;();\r\n        for (File f : folderFilesList) {\r\n            if (f.isFile()) {\r\n                filesList.add(fileNamesOnly == 0 ? f.getAbsolutePath() : f.getName());\r\n            }\r\n        }\r\n        return filesList.toArray(new String[0]);\r\n    }\r\n\r\nHow you might use this method could be like this:\r\n\r\n    /* Get all files (file names only) within the supplied directory path \r\n           (no sub-directories are processed) and sort them in descending order \r\n           (newest to oldest) based on creation (modification) timestamp and \r\n           return them in a String[] Array.                         */\r\n    String[] allFiles = getFolderFilesInOrder(&quot;C:/MyLogFilesDirectory&quot;, 1, 1);\r\n        \r\n    // The number of files desired from the directory:\r\n    int numberOfFilesDesired = 50;\r\n        \r\n    /* Just in case (for some reason) the supplied directory path\r\n       does not contain the desired number of files.       */\r\n    numberOfFilesDesired = Math.min(numberOfFilesDesired, allFiles.length);\r\n        \r\n    // Retrieve the number of files we want.\r\n    String[] desiredFiles = new String[numberOfFilesDesired];\r\n    for (int i = 0; i &lt; numberOfFilesDesired; i++) {\r\n        desiredFiles[i] = allFiles[i];\r\n            \r\n        //You can omit the line below. It&#39;s just for demo purposes:\r\n        System.out.println((i+1) + &quot;) &quot; + desiredFiles[i]);\r\n    }","title":"How get to the latest 50 files in a folder based on the file creation time","body":"<p>Below is a method that reads all files within a specified directory (folder) path and sorts the files based on creation (or modification) timestamps in either Ascending or Descending Order. A String[] Array is returned with either just the file names or path and filenames depending what is supplied within the methods optional (varArg) parameters.</p>\n<pre><code>/**\n * Returns a String[] Array of all the files within the supplied directory\n * (folder) in either Ascending or Descending order. By default the full\n * absolute path and the file name are returned, not just the file name.\n * &lt;p&gt;\n * If you want the files list to be sorted in Descending Order the supply\n * &lt;b&gt;1&lt;/b&gt; within the optional &lt;b&gt;sortOrder&lt;/b&gt; parameter.\n * &lt;p&gt;\n * If you want just the file names within the String[] Array then supply\n * &lt;b&gt;1&lt;/b&gt;\n * within the optional &lt;b&gt;fileNamesOnly&lt;/b&gt; parameter.\n * &lt;p&gt;\n * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\n *  {@code     String folderPath = &quot;C:\\\\Log Files\\\\SpecificAppLogsFolder&quot;;\n *       String[] logFiles = getFolderFilesInOrder(folderPath);\n *       for (String s : logFiles) {\n *           System.out.println(s);\n *       }\n *   }&lt;/pre&gt;\n *\n * @param folderPath (String) The full path to the file system directory\n *                   (folder) in which you want to get the list of files\n *                   from.&lt;br&gt;\n *\n * @param options    (Optional - int):&lt;pre&gt;\n *\n *      sortOrder       - Default is 0 (Ascending Order) which means the files\n *                        list will ne returned in ascending sort order (from \n *                        the oldest files to the newest files). If any\n *                        value other than 0 (ie: 1) is supplied then the files\n *                        list will be returned in descending order (from newest\n *                        files to oldest files).\n *\n *      fileNamesOnly   - Default is 0 where Path and file name are returned within\n *                        the String[] Array. If any value other than 0 (ie: 1)\n *                        is supplied then only the file names itself will be\n *                        returned within the String[] Array.\n *\n *                        If an argument is supplied to this optional parameter\n *                        then something MUST also be supplied to the optional\n *                        &lt;b&gt;sortOrder&lt;/b&gt; parameter (either 0 or 1).&lt;/pre&gt;\n *\n * @return (One Dimensional String Array) The files contained within the\n *         supplied directory path in the desired sort order based on their\n *         Creation (last modified) timestamp.\n */\npublic String[] getFolderFilesInOrder(String folderPath, int... options) {\n    File folder = new File(folderPath);\n    if (!folder.exists() &amp;&amp; !folder.isDirectory()) {\n        System.err.println(&quot;Either the supplied folder doesn't exist &quot;\n                + &quot;or it is not a directory!&quot;);\n        return null;\n    }\n    int sortOrder = 0;      // Default - Ascending Order | any value other than 0 for Descending Order.\n    int fileNamesOnly = 0;  // Default - Path &amp; file name | any value other than 0 for file names only.\n    if (options.length &gt;= 1) {\n        sortOrder = options[0];\n        if (options.length &gt;= 2) {\n            fileNamesOnly = options[1];\n        }\n    }\n\n    File[] folderFilesList = folder.listFiles();\n    if (sortOrder == 0) {\n        Arrays.sort(folderFilesList, Comparator.comparingLong(File::lastModified));\n    }\n    else {\n        Arrays.sort(folderFilesList, Comparator.comparingLong(File::lastModified).reversed());\n    }\n\n    List&lt;String&gt; filesList = new ArrayList&lt;&gt;();\n    for (File f : folderFilesList) {\n        if (f.isFile()) {\n            filesList.add(fileNamesOnly == 0 ? f.getAbsolutePath() : f.getName());\n        }\n    }\n    return filesList.toArray(new String[0]);\n}\n</code></pre>\n<p>How you might use this method could be like this:</p>\n<pre><code>/* Get all files (file names only) within the supplied directory path \n       (no sub-directories are processed) and sort them in descending order \n       (newest to oldest) based on creation (modification) timestamp and \n       return them in a String[] Array.                         */\nString[] allFiles = getFolderFilesInOrder(&quot;C:/MyLogFilesDirectory&quot;, 1, 1);\n    \n// The number of files desired from the directory:\nint numberOfFilesDesired = 50;\n    \n/* Just in case (for some reason) the supplied directory path\n   does not contain the desired number of files.       */\nnumberOfFilesDesired = Math.min(numberOfFilesDesired, allFiles.length);\n    \n// Retrieve the number of files we want.\nString[] desiredFiles = new String[numberOfFilesDesired];\nfor (int i = 0; i &lt; numberOfFilesDesired; i++) {\n    desiredFiles[i] = allFiles[i];\n        \n    //You can omit the line below. It's just for demo purposes:\n    System.out.println((i+1) + &quot;) &quot; + desiredFiles[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":9259268,"reputation":1,"user_id":6876938,"display_name":"Naren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1668769029,"answer_count":2,"score":-1,"last_activity_date":1668759972,"creation_date":1668745448,"question_id":74484926,"body_markdown":"I have a folder containing thousands of files. I plan to read the latest 50 files based on the date created, Java by default reading files created oldest, comparing each file taking lot of time, is there a better way to do this?\r\n\r\nI have a Folder `\\usr\\documents\\archive` have 1000 files in it\r\nwant to read 50 documents in the folder based on the file creation.","title":"How get to the latest 50 files in a folder based on the file creation time","body":"<p>I have a folder containing thousands of files. I plan to read the latest 50 files based on the date created, Java by default reading files created oldest, comparing each file taking lot of time, is there a better way to do this?</p>\n<p>I have a Folder <code>\\usr\\documents\\archive</code> have 1000 files in it\nwant to read 50 documents in the folder based on the file creation.</p>\n"},{"tags":["java","oop","casting","type-conversion","return-type"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1668714796,"post_id":74481252,"comment_id":131479854,"body_markdown":"Yes, you need to look into [what overriding is](https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.8.1). You can&#39;t override a method by returning a different type","body":"Yes, you need to look into <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.8.1\" rel=\"nofollow noreferrer\">what overriding is</a>. You can&#39;t override a method by returning a different type"},{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":1,"creation_date":1668714954,"post_id":74481252,"comment_id":131479909,"body_markdown":"It&#39;s not about casting. You pretend to override a method which returns a `double` while you are not because your method in `FloatVector` returns a `float`.","body":"It&#39;s not about casting. You pretend to override a method which returns a <code>double</code> while you are not because your method in <code>FloatVector</code> returns a <code>float</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668715114,"post_id":74481252,"comment_id":131479960,"body_markdown":"What you&#39;re attempting would probably be better done with boxed primitives and generics","body":"What you&#39;re attempting would probably be better done with boxed primitives and generics"},{"owner":{"account_id":18772671,"reputation":43,"user_id":13689169,"display_name":"Daerker"},"score":0,"creation_date":1668715245,"post_id":74481252,"comment_id":131480004,"body_markdown":"Well, I&#39;m working with Processing and every method-Parameter it provides only accepts floats and I was getting so frustrated having to put (float) all over the place.","body":"Well, I&#39;m working with Processing and every method-Parameter it provides only accepts floats and I was getting so frustrated having to put (float) all over the place."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1668727747,"post_id":74481252,"comment_id":131483540,"body_markdown":"Let&#39;s say that we have two vectors. One stores values in the `double`, the other stores values in the `float`. What can make us say that the second vector **extands** the first? Is it possible to say that the `FloatVector` is *bigger* than `DoubleVector`? No. These two vectors do not differ in anything other than the type of values that they store. Therefore, inheritance does not work here.","body":"Let&#39;s say that we have two vectors. One stores values in the <code>double</code>, the other stores values in the <code>float</code>. What can make us say that the second vector <b>extands</b> the first? Is it possible to say that the <code>FloatVector</code> is <i>bigger</i> than <code>DoubleVector</code>? No. These two vectors do not differ in anything other than the type of values that they store. Therefore, inheritance does not work here."}],"answers":[{"tags":[],"owner":{"account_id":26971442,"reputation":1,"user_id":20537401,"display_name":"Julian Fischbach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668758695,"creation_date":1668758499,"answer_id":74486565,"question_id":74481252,"body_markdown":"The method in the subclass with the @Override annotation must have the same return type as the method in the superclass. \r\n","title":"Incompatible return Type while narrowing double to float","body":"<p>The method in the subclass with the @Override annotation must have the same return type as the method in the superclass.</p>\n"},{"tags":[],"owner":{"account_id":11663630,"reputation":11,"user_id":8541039,"display_name":""},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668759861,"creation_date":1668759861,"answer_id":74486771,"question_id":74481252,"body_markdown":"try Generic Types\r\n\r\n```\r\npublic class Vector2D&lt;T&gt; {\r\n    T x;\r\n\r\n    public T getX() {\r\n        return x;\r\n    }\r\n}\r\n```\r\n```\r\npublic class FloatVector extends Vector2D&lt;Float&gt; {\r\n    @Override\r\n    public Float getX() {\r\n        return super.getX();\r\n    }\r\n}\r\n```","title":"Incompatible return Type while narrowing double to float","body":"<p>try Generic Types</p>\n<pre><code>public class Vector2D&lt;T&gt; {\n    T x;\n\n    public T getX() {\n        return x;\n    }\n}\n</code></pre>\n<pre><code>public class FloatVector extends Vector2D&lt;Float&gt; {\n    @Override\n    public Float getX() {\n        return super.getX();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18772671,"reputation":43,"user_id":13689169,"display_name":"Daerker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668759861,"creation_date":1668714196,"question_id":74481252,"body_markdown":"I&#39;m writing my own implementation of an ```Vector```. I want this to be as wide as possible so I wrote it with all fields and values being ```double```. Now I made a second Object ```FloatVector``` which extends my main Class ```2DVector```. It&#39;s only job is to provide Getter-Methods of ```2DVector``` that are already cast my double-Values to float-Values (I know, there are other - and probably better - ways of doing that, but I really can&#39;t be bothered adding ```(float) ...``` to everything related with my Vectors).\r\n\r\nAnyway, while doing the above I ran into a problem I didn&#39;t expect to happen. Looking at the code below:\r\n\r\n```\r\npublic class Vector2D {\r\n    double x;\r\n    \r\n    public double getX() { return x;}\r\n}\r\n```\r\n```\r\npublic class FloatVector extends 2DVector {\r\n    @Override\r\n    public float getX() {\r\n        return (float) super.getX();\r\n    }\r\n}\r\n```\r\n\r\nEclipse throws an Error, that ```The return Type is incompatible with Vector2D.getX()``` and I can&#39;t really understand why this is.\r\n\r\nI tried replacing the primitive casting to the following:\r\n\r\n\r\n```\r\n@Override\r\npublic Float angleBetween() {\r\n    return Float.valueOf( (float) super.getMagnitude() );\r\n}\r\n```\r\n\r\nbut also to no avail.","title":"Incompatible return Type while narrowing double to float","body":"<p>I'm writing my own implementation of an <code>Vector</code>. I want this to be as wide as possible so I wrote it with all fields and values being <code>double</code>. Now I made a second Object <code>FloatVector</code> which extends my main Class <code>2DVector</code>. It's only job is to provide Getter-Methods of <code>2DVector</code> that are already cast my double-Values to float-Values (I know, there are other - and probably better - ways of doing that, but I really can't be bothered adding <code>(float) ...</code> to everything related with my Vectors).</p>\n<p>Anyway, while doing the above I ran into a problem I didn't expect to happen. Looking at the code below:</p>\n<pre><code>public class Vector2D {\n    double x;\n    \n    public double getX() { return x;}\n}\n</code></pre>\n<pre><code>public class FloatVector extends 2DVector {\n    @Override\n    public float getX() {\n        return (float) super.getX();\n    }\n}\n</code></pre>\n<p>Eclipse throws an Error, that <code>The return Type is incompatible with Vector2D.getX()</code> and I can't really understand why this is.</p>\n<p>I tried replacing the primitive casting to the following:</p>\n<pre><code>@Override\npublic Float angleBetween() {\n    return Float.valueOf( (float) super.getMagnitude() );\n}\n</code></pre>\n<p>but also to no avail.</p>\n"},{"tags":["java","json","spring","rest","spring-restcontroller"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1477772638,"post_id":40323299,"comment_id":67902234,"body_markdown":"Spring alternative? What are you talking? Struts has it, Spring not. Elaborate your question. Only wrapper is hat Spring has to you or you may extend a messages on the fly if em not finale.","body":"Spring alternative? What are you talking? Struts has it, Spring not. Elaborate your question. Only wrapper is hat Spring has to you or you may extend a messages on the fly if em not finale."},{"owner":{"account_id":386122,"reputation":4332,"user_id":743716,"accept_rate":40,"display_name":"Rafal G."},"score":0,"creation_date":1477775436,"post_id":40323299,"comment_id":67902955,"body_markdown":"Here you go: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodReturnValueHandler.html. In your own implementation you can wrap it into whatever structure you need.","body":"Here you go: <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodReturnValueHandler.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/javadoc-api/org/&hellip;</a>. In your own implementation you can wrap it into whatever structure you need."},{"owner":{"account_id":3234420,"reputation":3542,"user_id":2728956,"accept_rate":66,"display_name":"Vadim Kirilchuk"},"score":2,"creation_date":1477777477,"post_id":40323299,"comment_id":67903477,"body_markdown":"What an interesting question.. You can try to play with @ControllerAdvice to return your generic wrapper if actual value is iterable, or you can try to highjack deserializer, probably Jackson Http message converter in your case. Keep us posted :)","body":"What an interesting question.. You can try to play with @ControllerAdvice to return your generic wrapper if actual value is iterable, or you can try to highjack deserializer, probably Jackson Http message converter in your case. Keep us posted :)"}],"answers":[{"tags":[],"owner":{"account_id":2243994,"reputation":2149,"user_id":1977828,"accept_rate":75,"display_name":"Mirco Widmer"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1477859094,"creation_date":1477859094,"answer_id":40333275,"question_id":40323299,"body_markdown":"I ended up with the following solution (thanks to @vadim-kirilchuk):\r\n\r\nMy controller still looks exactly as before:\r\n\r\n    @RequestMapping(value = &quot;example&quot;)\r\n    public Iterable&lt;Souvenir&gt; souvenirs(@PathVariable(&quot;user&quot;) String user) {\r\n        return new souvenirRepository.findByUserUsernameOrderById(user);\r\n    }\r\n\r\nI added the following implementation of `ResponseBodyAdvice` which basically gets executed when a controller in the referenced package tries to respond to a client call (to my understanding):\r\n\r\n    @ControllerAdvice(basePackages = &quot;package.where.all.my.controllers.are&quot;)\r\n    public class JSONResponseWrapper implements ResponseBodyAdvice {\r\n    \t@Override\r\n    \tpublic boolean supports(MethodParameter returnType, Class converterType) {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\r\n    \t\tif (body instanceof List) {\r\n    \t\t\treturn new Wrapper&lt;&gt;((List&lt;Object&gt;) body);\r\n    \t\t}\r\n    \t\treturn body;\r\n    \t}\r\n    \r\n    \t@Data // just the lombok annotation which provides getter and setter\r\n    \tprivate class Wrapper&lt;T&gt; {\r\n    \t\tprivate final List&lt;T&gt; list;\r\n    \r\n    \t\tpublic Wrapper(List&lt;T&gt; list) {\r\n    \t\t\tthis.list = list;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nSo with this approach I can keep my existing method signature in my controller (`public Iterable&lt;Souvenir&gt; souvenirs(@PathVariable(&quot;user&quot;) String user)`) and future controllers don&#39;t have to worry about wrapping its Iterables within such a wrapper because the framework does this part of the work.","title":"How to wrap JSON response from Spring REST repository?","body":"<p>I ended up with the following solution (thanks to @vadim-kirilchuk):</p>\n\n<p>My controller still looks exactly as before:</p>\n\n<pre><code>@RequestMapping(value = \"example\")\npublic Iterable&lt;Souvenir&gt; souvenirs(@PathVariable(\"user\") String user) {\n    return new souvenirRepository.findByUserUsernameOrderById(user);\n}\n</code></pre>\n\n<p>I added the following implementation of <code>ResponseBodyAdvice</code> which basically gets executed when a controller in the referenced package tries to respond to a client call (to my understanding):</p>\n\n<pre><code>@ControllerAdvice(basePackages = \"package.where.all.my.controllers.are\")\npublic class JSONResponseWrapper implements ResponseBodyAdvice {\n    @Override\n    public boolean supports(MethodParameter returnType, Class converterType) {\n        return true;\n    }\n\n    @Override\n    @SuppressWarnings(\"unchecked\")\n    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\n        if (body instanceof List) {\n            return new Wrapper&lt;&gt;((List&lt;Object&gt;) body);\n        }\n        return body;\n    }\n\n    @Data // just the lombok annotation which provides getter and setter\n    private class Wrapper&lt;T&gt; {\n        private final List&lt;T&gt; list;\n\n        public Wrapper(List&lt;T&gt; list) {\n            this.list = list;\n        }\n    }\n}\n</code></pre>\n\n<p>So with this approach I can keep my existing method signature in my controller (<code>public Iterable&lt;Souvenir&gt; souvenirs(@PathVariable(\"user\") String user)</code>) and future controllers don't have to worry about wrapping its Iterables within such a wrapper because the framework does this part of the work.</p>\n"},{"tags":[],"owner":{"account_id":230878,"reputation":179,"user_id":494744,"display_name":"Tommy Blackbird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668759652,"creation_date":1656920263,"answer_id":72853232,"question_id":40323299,"body_markdown":"Based in your solution I ended up with a more flexible option. First I created an annotation to activate the behaviour whenever I want and with a customizable wrapper attribute name:\r\n\r\n```java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Target({ElementType.TYPE, ElementType.METHOD})\r\npublic @interface JsonListWrapper {\r\n\tString name() default &quot;list&quot;;\r\n}\r\n```\r\n\r\nThis annotation can be used on the entity class so it&#39;s applied to all controllers responses of `List&lt;MyEntity&gt;` or can be used for specifics controller methods.\r\n\r\nThe `ControllerAdvice` will look like this (note that I return a `Map&lt;Object&gt;` to dynamically set the wrapper name as a map key).\r\n\r\n```java\r\npublic class WebResponseModifierAdvice implements ResponseBodyAdvice&lt;Object&gt; {\r\n\r\n    @Override\r\n    public boolean supports(final MethodParameter returnType, final Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public Object beforeBodyWrite(final Object body,\r\n                                  final MethodParameter returnType,\r\n                                  final MediaType selectedContentType,\r\n                                  final Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType,\r\n                                  final ServerHttpRequest request,\r\n                                  final ServerHttpResponse response) {\r\n    \t\r\n    \tif (body instanceof List &amp;&amp; selectedContentType.isCompatibleWith(MediaType.APPLICATION_JSON)) {\r\n    \t\treturn checkListWrapper(body, returnType);\r\n    \t} else {\r\n    \t\treturn body;\r\n    \t}\r\n    }\r\n    \r\n    /**\r\n     * Detects use of {@link JsonListWrapper} in a response like &lt;tt&gt;List&amp;lt;T&amp;gt;&lt;/tt&gt;\r\n     * in case it&#39;s necesary to wrap the answer.\r\n     *   \r\n\t * @param body body to be written in the response\r\n\t * @param returnType controller method return type\r\n     * @return\r\n     */\r\n    private Object checkListWrapper(final Object body,\r\n    \t\t\t\t\t\t\t\tfinal MethodParameter returnType) {\r\n\r\n    \tString wrapperName =  null; \r\n    \ttry {\r\n    \t\t// Checks class level annotation (List&lt;C&gt;).\r\n    \t\tString typeName = &quot;&quot;;\r\n    \t\tString where = &quot;&quot;;\r\n    \t\tString whereName = &quot;&quot;;\r\n\r\n        \t// Gets generic type List&lt;T&gt;\r\n    \t\tType[] actualTypeArgs = ((ParameterizedType) returnType.getGenericParameterType()).getActualTypeArguments();\r\n    \t\tif (actualTypeArgs.length &gt; 0) {\r\n\t        \tType listType = ((ParameterizedType) returnType.getGenericParameterType()).getActualTypeArguments()[0];\r\n\t        \tif (listType instanceof ParameterizedType) {\r\n\t        \t    Type elementType = ((ParameterizedType) listType).getActualTypeArguments()[0];\r\n\t        \t    elementType.getClass();\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\ttypeName = elementType.getTypeName();\r\n\t\t\t\t\t\tClass&lt;?&gt; clz = Class.forName(typeName);\r\n\t\t        \t    JsonListWrapper classListWrapper = AnnotationUtils.findAnnotation(clz, JsonListWrapper.class);\r\n\t\t        \t    if (classListWrapper != null) {\r\n\t\t        \t    \twhere = &quot;clase&quot;;\r\n\t\t        \t    \twhereName = typeName;\r\n\t\t        \t    \twrapperName = classListWrapper.name();\r\n\t\t        \t    }\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\tlog.error(&quot;Class not found&quot; + elementType.getTypeName(), e);\r\n\t\t\t\t\t}\r\n\t        \t}\r\n    \t\t}\r\n        \t\r\n    \t\t// Checks method level annotations (prevails over class level)\r\n        \tJsonListWrapper methodListWrapper = AnnotationUtils.findAnnotation(returnType.getMethod(), JsonListWrapper.class);\r\n        \tif (methodListWrapper != null) {\r\n        \t\twhere = &quot;m&#233;todo&quot;;\r\n        \t\twhereName = returnType.getMethod().getDeclaringClass() + &quot;.&quot; + returnType.getMethod().getName() + &quot;()&quot;;\r\n        \t\twrapperName = methodListWrapper.name();\r\n        \t}\r\n        \t\r\n        \tif (wrapperName != null) {\r\n        \t\tif (log.isTraceEnabled()) {\r\n        \t\t\tlog.trace(&quot;@JsonListWrapper detected {} {}. Wrapping List&lt;{}&gt; in \\&quot;{}\\&quot;&quot;, where, whereName, typeName, wrapperName);\r\n        \t\t}\r\n\t        \tfinal Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(1);\r\n\t        \tmap.put(wrapperName, body);\r\n\t        \treturn map;\r\n        \t}\r\n    \t} catch(Exception ex) {\r\n    \t\tlog.error(&quot;Error getting type of List in the response&quot;, ex);\r\n    \t}\r\n \t\r\n    \treturn body;\r\n    }\r\n}\r\n```\r\n\r\nThis way you can use either:\r\n\r\n```java\r\n@JsonListWrapper(name = &quot;souvenirs&quot;)\r\npublic class Souvenir {\r\n  //...class members\r\n}\r\n```\r\n\r\n...or\r\n\r\n```java\r\n@JsonListWrapper(name = &quot;souvenirs&quot;)\r\n@RequestMapping(value = &quot;example&quot;)\r\npublic ResponseEntity&lt;List&lt;Souvenir&gt;&gt; souvenirs(@PathVariable(&quot;user&quot;) String user) {\r\n    return new souvenirRepository.findByUserUsernameOrderById(user);\r\n}\r\n```","title":"How to wrap JSON response from Spring REST repository?","body":"<p>Based in your solution I ended up with a more flexible option. First I created an annotation to activate the behaviour whenever I want and with a customizable wrapper attribute name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Target({ElementType.TYPE, ElementType.METHOD})\npublic @interface JsonListWrapper {\n    String name() default &quot;list&quot;;\n}\n</code></pre>\n<p>This annotation can be used on the entity class so it's applied to all controllers responses of <code>List&lt;MyEntity&gt;</code> or can be used for specifics controller methods.</p>\n<p>The <code>ControllerAdvice</code> will look like this (note that I return a <code>Map&lt;Object&gt;</code> to dynamically set the wrapper name as a map key).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WebResponseModifierAdvice implements ResponseBodyAdvice&lt;Object&gt; {\n\n    @Override\n    public boolean supports(final MethodParameter returnType, final Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n        return true;\n    }\n\n    @Override\n    public Object beforeBodyWrite(final Object body,\n                                  final MethodParameter returnType,\n                                  final MediaType selectedContentType,\n                                  final Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType,\n                                  final ServerHttpRequest request,\n                                  final ServerHttpResponse response) {\n        \n        if (body instanceof List &amp;&amp; selectedContentType.isCompatibleWith(MediaType.APPLICATION_JSON)) {\n            return checkListWrapper(body, returnType);\n        } else {\n            return body;\n        }\n    }\n    \n    /**\n     * Detects use of {@link JsonListWrapper} in a response like &lt;tt&gt;List&amp;lt;T&amp;gt;&lt;/tt&gt;\n     * in case it's necesary to wrap the answer.\n     *   \n     * @param body body to be written in the response\n     * @param returnType controller method return type\n     * @return\n     */\n    private Object checkListWrapper(final Object body,\n                                    final MethodParameter returnType) {\n\n        String wrapperName =  null; \n        try {\n            // Checks class level annotation (List&lt;C&gt;).\n            String typeName = &quot;&quot;;\n            String where = &quot;&quot;;\n            String whereName = &quot;&quot;;\n\n            // Gets generic type List&lt;T&gt;\n            Type[] actualTypeArgs = ((ParameterizedType) returnType.getGenericParameterType()).getActualTypeArguments();\n            if (actualTypeArgs.length &gt; 0) {\n                Type listType = ((ParameterizedType) returnType.getGenericParameterType()).getActualTypeArguments()[0];\n                if (listType instanceof ParameterizedType) {\n                    Type elementType = ((ParameterizedType) listType).getActualTypeArguments()[0];\n                    elementType.getClass();\n                    try {\n                        typeName = elementType.getTypeName();\n                        Class&lt;?&gt; clz = Class.forName(typeName);\n                        JsonListWrapper classListWrapper = AnnotationUtils.findAnnotation(clz, JsonListWrapper.class);\n                        if (classListWrapper != null) {\n                            where = &quot;clase&quot;;\n                            whereName = typeName;\n                            wrapperName = classListWrapper.name();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        log.error(&quot;Class not found&quot; + elementType.getTypeName(), e);\n                    }\n                }\n            }\n            \n            // Checks method level annotations (prevails over class level)\n            JsonListWrapper methodListWrapper = AnnotationUtils.findAnnotation(returnType.getMethod(), JsonListWrapper.class);\n            if (methodListWrapper != null) {\n                where = &quot;mtodo&quot;;\n                whereName = returnType.getMethod().getDeclaringClass() + &quot;.&quot; + returnType.getMethod().getName() + &quot;()&quot;;\n                wrapperName = methodListWrapper.name();\n            }\n            \n            if (wrapperName != null) {\n                if (log.isTraceEnabled()) {\n                    log.trace(&quot;@JsonListWrapper detected {} {}. Wrapping List&lt;{}&gt; in \\&quot;{}\\&quot;&quot;, where, whereName, typeName, wrapperName);\n                }\n                final Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(1);\n                map.put(wrapperName, body);\n                return map;\n            }\n        } catch(Exception ex) {\n            log.error(&quot;Error getting type of List in the response&quot;, ex);\n        }\n    \n        return body;\n    }\n}\n</code></pre>\n<p>This way you can use either:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonListWrapper(name = &quot;souvenirs&quot;)\npublic class Souvenir {\n  //...class members\n}\n</code></pre>\n<p>...or</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonListWrapper(name = &quot;souvenirs&quot;)\n@RequestMapping(value = &quot;example&quot;)\npublic ResponseEntity&lt;List&lt;Souvenir&gt;&gt; souvenirs(@PathVariable(&quot;user&quot;) String user) {\n    return new souvenirRepository.findByUserUsernameOrderById(user);\n}\n</code></pre>\n"}],"owner":{"account_id":2243994,"reputation":2149,"user_id":1977828,"accept_rate":75,"display_name":"Mirco Widmer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9712,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":40333275,"answer_count":2,"score":10,"last_activity_date":1668759652,"creation_date":1477772322,"question_id":40323299,"body_markdown":"I have a spring REST controller which returns the following JSON payload:\r\n\r\n    [\r\n      {\r\n        &quot;id&quot;: 5920,\r\n        &quot;title&quot;: &quot;a title&quot;\r\n      },\r\n      {\r\n        &quot;id&quot;: 5926,\r\n        &quot;title&quot;: &quot;another title&quot;,\r\n      }\r\n    ]\r\n\r\nThe REST controller with its corresponding get request method:\r\n\r\n\t@RequestMapping(value = &quot;example&quot;)\r\n\tpublic Iterable&lt;Souvenir&gt; souvenirs(@PathVariable(&quot;user&quot;) String user) {\r\n\t\treturn new souvenirRepository.findByUserUsernameOrderById(user);\r\n\t}\r\n\r\nNow the Souvenir class is a pojo:\r\n\r\n    @Entity\r\n    @Data\r\n    public class Souvenir {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate long id;\r\n    \r\n    \tprivate String title;\r\n    \r\n    \tprivate Date date;\r\n    }\r\n\r\nRegarding https://www.owasp.org/index.php/OWASP_AJAX_Security_Guidelines#Always_return_JSON_with_an_Object_on_the_outside and http://haacked.com/archive/2009/06/25/json-hijacking.aspx/ I would like to wrap the response within an object so that it is not vulnerable to attacks. Of course I could do something like this:\r\n\r\n\t@RequestMapping(value = &quot;example&quot;)\r\n\tpublic SouvenirWrapper souvenirs(@PathVariable(&quot;user&quot;) String user) {\r\n\t\treturn new SouvenirWrapper(souvenirRepository.findByUserUsernameOrderById(user));\r\n\t}\r\n\r\n    @Data\r\n    class SouvenirWrapper {\r\n      private final List&lt;Souvenir&gt; souvenirs;\r\n    \r\n      public SouvenirWrapper(List&lt;Souvenir&gt; souvenirs) {\r\n        this.souvenirs = souvenirs;\r\n      }\r\n    }\r\n\r\nThis results in the following JSON payload:\r\n\r\n       {\r\n         &quot;souvenirs&quot;: [\r\n            {\r\n              &quot;id&quot;: 5920,\r\n              &quot;title&quot;: &quot;a title&quot;\r\n            },\r\n            {\r\n              &quot;id&quot;: 5926,\r\n              &quot;title&quot;: &quot;another title&quot;,\r\n            }\r\n        ]\r\n      }\r\n\r\nThis helps in preventing some JSON/Javascript attacks but I don&#39;t like the verbosity of the Wrapper class. I could of course generalize the above approach with generics. Is there another way to achieve the same result in the Spring ecosystem (with an annotation or something similar)? An idea would be that the behaviour is done by Spring automatically, so whenever there is a REST controller that returns a list of objects, it could wrap those objects within an object wrapper so that no direct list of objects get serialized?","title":"How to wrap JSON response from Spring REST repository?","body":"<p>I have a spring REST controller which returns the following JSON payload:</p>\n\n<pre><code>[\n  {\n    \"id\": 5920,\n    \"title\": \"a title\"\n  },\n  {\n    \"id\": 5926,\n    \"title\": \"another title\",\n  }\n]\n</code></pre>\n\n<p>The REST controller with its corresponding get request method:</p>\n\n<pre><code>@RequestMapping(value = \"example\")\npublic Iterable&lt;Souvenir&gt; souvenirs(@PathVariable(\"user\") String user) {\n    return new souvenirRepository.findByUserUsernameOrderById(user);\n}\n</code></pre>\n\n<p>Now the Souvenir class is a pojo:</p>\n\n<pre><code>@Entity\n@Data\npublic class Souvenir {\n\n    @Id\n    @GeneratedValue\n    private long id;\n\n    private String title;\n\n    private Date date;\n}\n</code></pre>\n\n<p>Regarding <a href=\"https://www.owasp.org/index.php/OWASP_AJAX_Security_Guidelines#Always_return_JSON_with_an_Object_on_the_outside\" rel=\"noreferrer\">https://www.owasp.org/index.php/OWASP_AJAX_Security_Guidelines#Always_return_JSON_with_an_Object_on_the_outside</a> and <a href=\"http://haacked.com/archive/2009/06/25/json-hijacking.aspx/\" rel=\"noreferrer\">http://haacked.com/archive/2009/06/25/json-hijacking.aspx/</a> I would like to wrap the response within an object so that it is not vulnerable to attacks. Of course I could do something like this:</p>\n\n<pre><code>@RequestMapping(value = \"example\")\npublic SouvenirWrapper souvenirs(@PathVariable(\"user\") String user) {\n    return new SouvenirWrapper(souvenirRepository.findByUserUsernameOrderById(user));\n}\n\n@Data\nclass SouvenirWrapper {\n  private final List&lt;Souvenir&gt; souvenirs;\n\n  public SouvenirWrapper(List&lt;Souvenir&gt; souvenirs) {\n    this.souvenirs = souvenirs;\n  }\n}\n</code></pre>\n\n<p>This results in the following JSON payload:</p>\n\n<pre><code>   {\n     \"souvenirs\": [\n        {\n          \"id\": 5920,\n          \"title\": \"a title\"\n        },\n        {\n          \"id\": 5926,\n          \"title\": \"another title\",\n        }\n    ]\n  }\n</code></pre>\n\n<p>This helps in preventing some JSON/Javascript attacks but I don't like the verbosity of the Wrapper class. I could of course generalize the above approach with generics. Is there another way to achieve the same result in the Spring ecosystem (with an annotation or something similar)? An idea would be that the behaviour is done by Spring automatically, so whenever there is a REST controller that returns a list of objects, it could wrap those objects within an object wrapper so that no direct list of objects get serialized?</p>\n"},{"tags":["java","simpledateformat"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1668430404,"post_id":74431911,"comment_id":131395594,"body_markdown":"What is your question? Also, please stop using `SimpleDateFormat`, and use `java.time.format.DateTimeFormatter`","body":"What is your question? Also, please stop using <code>SimpleDateFormat</code>, and use <code>java.time.format.DateTimeFormatter</code>"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1668430413,"post_id":74431911,"comment_id":131395596,"body_markdown":"Note that this class and `Date` are legacy. Instead, use the stuff from `java.time`. In this case probably a `DateTimeFormatter` with a `LocalDateTime`.","body":"Note that this class and <code>Date</code> are legacy. Instead, use the stuff from <code>java.time</code>. In this case probably a <code>DateTimeFormatter</code> with a <code>LocalDateTime</code>."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1668430487,"post_id":74431911,"comment_id":131395620,"body_markdown":"I wouldnt be too surprised with bugs and bad behavior of the old legacy classes. One of the reasons they have been superseded and nobody uses them anymore.","body":"I wouldnt be too surprised with bugs and bad behavior of the old legacy classes. One of the reasons they have been superseded and nobody uses them anymore."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":3,"creation_date":1668430756,"post_id":74431911,"comment_id":131395708,"body_markdown":"Don&#39;t ever use the legacy date library, instead, you can use modern `java.time`, for example:\n\n`DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd-HH:mm:ss.SSS&quot;);\n    LocalDateTime odt = LocalDateTime.parse(&quot;20221114-12:34:56.789&quot;, dateTimeFormatter);`\n\nNote, this will throw `DateTimeParseException` and not `ParseException`.","body":"Don&#39;t ever use the legacy date library, instead, you can use modern <code>java.time</code>, for example:  <code>DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd-HH:mm:ss.SSS&quot;);     LocalDateTime odt = LocalDateTime.parse(&quot;20221114-12:34:56.789&quot;, dateTimeFormatter);</code>  Note, this will throw <code>DateTimeParseException</code> and not <code>ParseException</code>."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1668431385,"post_id":74431911,"comment_id":131395924,"body_markdown":"You can use whatever you like. It&#39;s up to YOU but...this sort of thing is what you can expect from old antique libraries. **Date** and **SimpleDateFormat** are pretty well known to be buggy.","body":"You can use whatever you like. It&#39;s up to YOU but...this sort of thing is what you can expect from old antique libraries. <b>Date</b> and <b>SimpleDateFormat</b> are pretty well known to be buggy."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1668431844,"post_id":74431911,"comment_id":131396103,"body_markdown":"`SimpleDateFormat` takes `123-20221114` to mean year 123, month -2 (minus 2) and day of month 221114. It doesnt disturb it that this is complete nonsense. Similarly `12320221114` is day 21114 of month 2 of year 1232. Yes, this is how confusing `SimpleDateFormat` is.Stay far away from it.","body":"<code>SimpleDateFormat</code> takes <code>123-20221114</code> to mean year 123, month -2 (minus 2) and day of month 221114. It doesnt disturb it that this is complete nonsense. Similarly <code>12320221114</code> is day 21114 of month 2 of year 1232. Yes, this is how confusing <code>SimpleDateFormat</code> is.Stay far away from it."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668456253,"creation_date":1668456253,"answer_id":74437229,"question_id":74431911,"body_markdown":"The terrible `SimpleDateFormat` class was years ago supplanted by the modern *java.time* classes , specifically `DateTimeFormatter`. \r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;uuuuMMdd-HH:mm:ss.SSS&quot; );\r\n    LocalDateTime result = LocalDateTime.parse( &quot;20221114-12:34:56.789&quot; , f );","title":"Strange behavior of SimpleDateFormat","body":"<p>The terrible <code>SimpleDateFormat</code> class was years ago supplanted by the modern <em>java.time</em> classes , specifically <code>DateTimeFormatter</code>.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;uuuuMMdd-HH:mm:ss.SSS&quot; );\nLocalDateTime result = LocalDateTime.parse( &quot;20221114-12:34:56.789&quot; , f );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25484302,"reputation":63,"user_id":19280082,"display_name":"Csaba Farag&#243;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668759440,"creation_date":1668759440,"answer_id":74486705,"question_id":74431911,"body_markdown":"The `SimpleDateFormat` contains bugs. In the example posted the interpretations are the following:\r\n* `123-20221114-12:34:56.789`: year 123, month -2, day 221114\r\n* `12320221114-12:34:56.789`: year 1232, month 02, day 21114\r\n\r\nActually this answers the original question. And as a suggestion the `java.time` module should be used introduced in Java 8, as described in other comments.","title":"Strange behavior of SimpleDateFormat","body":"<p>The <code>SimpleDateFormat</code> contains bugs. In the example posted the interpretations are the following:</p>\n<ul>\n<li><code>123-20221114-12:34:56.789</code>: year 123, month -2, day 221114</li>\n<li><code>12320221114-12:34:56.789</code>: year 1232, month 02, day 21114</li>\n</ul>\n<p>Actually this answers the original question. And as a suggestion the <code>java.time</code> module should be used introduced in Java 8, as described in other comments.</p>\n"}],"owner":{"account_id":25484302,"reputation":63,"user_id":19280082,"display_name":"Csaba Farag&#243;"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74486705,"answer_count":2,"score":-1,"last_activity_date":1668759440,"creation_date":1668430160,"question_id":74431911,"body_markdown":"I am using `SimpleDateFormat` like this:\r\n\r\n```\r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd-HH:mm:ss.SSS&quot;);\r\nDate result = sdf.parse(&quot;20221114-12:34:56.789&quot;);\r\n```\r\n\r\nWorks fine for the above example (result: `Mon Nov 14 12:34:56 CET 2022`), but works strange for obvious erroneous input:\r\n\r\n- `123-20221114-12:34:56.789` -&gt; `Sun Feb 15 12:34:56 CET 728`\r\n- `12320221114-12:34:56.789` -&gt; `Mon Nov 21 12:34:56 CET 1289`\r\n\r\nI would expect to throw `ParseException` in these cases.\r\n\r\nNote that the timestamp is input and the format cannot be changed.\r\n\r\nAs a cross-check I tried this: `abc-20221114-12:34:56.789`, and at least in this case it threw `ParseException`.","title":"Strange behavior of SimpleDateFormat","body":"<p>I am using <code>SimpleDateFormat</code> like this:</p>\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd-HH:mm:ss.SSS&quot;);\nDate result = sdf.parse(&quot;20221114-12:34:56.789&quot;);\n</code></pre>\n<p>Works fine for the above example (result: <code>Mon Nov 14 12:34:56 CET 2022</code>), but works strange for obvious erroneous input:</p>\n<ul>\n<li><code>123-20221114-12:34:56.789</code> -&gt; <code>Sun Feb 15 12:34:56 CET 728</code></li>\n<li><code>12320221114-12:34:56.789</code> -&gt; <code>Mon Nov 21 12:34:56 CET 1289</code></li>\n</ul>\n<p>I would expect to throw <code>ParseException</code> in these cases.</p>\n<p>Note that the timestamp is input and the format cannot be changed.</p>\n<p>As a cross-check I tried this: <code>abc-20221114-12:34:56.789</code>, and at least in this case it threw <code>ParseException</code>.</p>\n"},{"tags":["java","spring-boot","mockito"],"answers":[{"tags":[],"owner":{"account_id":4286286,"reputation":783,"user_id":3503970,"accept_rate":100,"display_name":"Alex Blasco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668758530,"creation_date":1668757733,"answer_id":74486427,"question_id":74485986,"body_markdown":"You have many problems here:\r\n\r\nYou are using `@InjectMocks` (used to inject mocks to the constructor of the test subject, in your service this one only takes one argument, so the rest are not injected). At the same time you are adding it manually in the test method `fileSender = new FileSender(urlConfig);` this is redundant (I would probably recommend you to delete the annotation and use the one inside of the test method, as you are setting `urlConfig` there).\r\n\r\nAs said, you are not injecting any of the following mocks because `FileSender` constructor only takes `urlConfig` as a parameter. If you want to instantiate `FileSender` with the mocks that you are declaring you need to create an extra constructor that takes them as a parameter.\r\n\r\n    @Mock SSLContextFactory sslContextFactory = new SSLContextFactory();\r\n    @Mock InetAddress inetAddress;\r\n    HttpPost httpPost = mock(HttpPost.class);\r\n    StatusLine statusLine = mock(StatusLine.class);\r\n    CloseableHttpClient closeableHttpClient = mock(CloseableHttpClient.class);\r\n    CloseableHttpResponse closeableHttpResponse = mock(CloseableHttpResponse.class);\r\n\r\nYou also have many static calls in the test subject, which are difficult to mock as they are tightly coupled to their respective classes. You may need to figure out what to do specifically with each one of those calls.\r\n\r\n","title":"Mocked CloseableHttpClient is sending real POST request","body":"<p>You have many problems here:</p>\n<p>You are using <code>@InjectMocks</code> (used to inject mocks to the constructor of the test subject, in your service this one only takes one argument, so the rest are not injected). At the same time you are adding it manually in the test method <code>fileSender = new FileSender(urlConfig);</code> this is redundant (I would probably recommend you to delete the annotation and use the one inside of the test method, as you are setting <code>urlConfig</code> there).</p>\n<p>As said, you are not injecting any of the following mocks because <code>FileSender</code> constructor only takes <code>urlConfig</code> as a parameter. If you want to instantiate <code>FileSender</code> with the mocks that you are declaring you need to create an extra constructor that takes them as a parameter.</p>\n<pre><code>@Mock SSLContextFactory sslContextFactory = new SSLContextFactory();\n@Mock InetAddress inetAddress;\nHttpPost httpPost = mock(HttpPost.class);\nStatusLine statusLine = mock(StatusLine.class);\nCloseableHttpClient closeableHttpClient = mock(CloseableHttpClient.class);\nCloseableHttpResponse closeableHttpResponse = mock(CloseableHttpResponse.class);\n</code></pre>\n<p>You also have many static calls in the test subject, which are difficult to mock as they are tightly coupled to their respective classes. You may need to figure out what to do specifically with each one of those calls.</p>\n"}],"owner":{"account_id":26970605,"reputation":1,"user_id":20536682,"display_name":"LukeSkywalker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668758530,"creation_date":1668754984,"question_id":74485986,"body_markdown":"I have an unit test for for Spring Boot class which sends a file to URL with POST request when I run the test it is sending actual request to the real url. I think the CloseableHttpClient is not getting mocked.\r\n```\r\nclass FileSenderTest {\r\n    @InjectMocks\r\n    FileSender fileSender;\r\n    \r\n    @Mock\r\n    UrlConfig urlConfig;\r\n    \r\n    @Mock\r\n    InetAddress inetAddress;\r\n\r\n    @Mock\r\n    SSLContextFactory sslContextFactory = new SSLContextFactory();\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n    }\r\n\r\n    @AfterEach\r\n    void tearDown() {\r\n    }\r\n   \r\n    @Test\r\n    public void postData() throws Exception {\r\n        URL url = new URL(&quot;/someUrl&quot;);\r\n        urlConfig.setURL(url);\r\n        urlConfig.setPassword(&quot;somePassword123&quot;);\r\n        fileSender = new FileSender(urlConfig);\r\n\r\n        URL res = getClass().getClassLoader().getResource(&quot;test.json&quot;);\r\n        File file = Paths.get(res.toURI()).toFile();\r\n        String filePath = file.getAbsolutePath();\r\n        \r\n        HttpPost httpPost = mock(HttpPost.class);\r\n        StatusLine statusLine = mock(StatusLine.class);\r\n        CloseableHttpClient closeableHttpClient = mock(CloseableHttpClient.class);\r\n        CloseableHttpResponse closeableHttpResponse = mock(CloseableHttpResponse.class);\r\n\r\n        when(statusLine.getStatusCode()).thenReturn(200);\r\n        when(closeableHttpResponse.getStatusLine()).thenReturn(statusLine);\r\n        when(closeable.HttpClient.execute(httpPost)).thenReturn(closeableHttpResponse);\r\n\r\n        int response = fileSender.sendFile(filePath);\r\n\r\n        Assertions.assertEquals(200, response);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd here is the class to test:\r\n\r\n```\r\n@Service \r\npublic class FileSender {\r\n    private final UrlConfig urlConfig;\r\n    SSLContext sslContext;\r\n    \r\n    @Autowired\r\n    public FileSender(UrlConfig urlConfig) {\r\n        this.urlConfig = urlConfig;\r\n    }\r\n\r\n    public int sendFile(String targetFileName) throws IOException {\r\n        Path tracesPath = Paths.get(targetFileName);\r\n        HttpPost httpPost = new HttpPost(this.UrlConfig.getURL().toString());\r\n        httpPost.addHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\n        MultipartEntityBuilder builder = MultipartEntityBuilder.create();        \r\n        builder.addBinary(&quot;file&quot;, new ByteArrayInputStream(Files.readAllBytes(tracesPath)), ContentType.APPLICATION_OCTET_STREAM, targetFileName);\r\n\r\n        HttpEntity multipart = builder.build();\r\n        httpPost.setEntity(multipart);\r\n        \r\n        sslContext = this.UrlConfig.getSSLContext();\r\n        sslContext = SSLContextFactory.create().this.urlConfig.setSSLContext(sslContext);\r\n\r\n       try (CloseableHttpClient httpClient = HttpClients.custom()setSSLContext(sslContext).build);\r\n           CloseableHttpResponse response = httpClient.execute(httpPost)) {\r\n               return response.getStatusLine().getStatusCode();\r\n        }  catch (IOException e) {\r\n               log.error(e);\r\n        }\r\n        return 500;\r\n    }\r\n}\r\n```\r\n\r\n\r\nIs there any way to solve the issue refactoring only the test.","title":"Mocked CloseableHttpClient is sending real POST request","body":"<p>I have an unit test for for Spring Boot class which sends a file to URL with POST request when I run the test it is sending actual request to the real url. I think the CloseableHttpClient is not getting mocked.</p>\n<pre><code>class FileSenderTest {\n    @InjectMocks\n    FileSender fileSender;\n    \n    @Mock\n    UrlConfig urlConfig;\n    \n    @Mock\n    InetAddress inetAddress;\n\n    @Mock\n    SSLContextFactory sslContextFactory = new SSLContextFactory();\n\n    @BeforeEach\n    void setUp() {\n    }\n\n    @AfterEach\n    void tearDown() {\n    }\n   \n    @Test\n    public void postData() throws Exception {\n        URL url = new URL(&quot;/someUrl&quot;);\n        urlConfig.setURL(url);\n        urlConfig.setPassword(&quot;somePassword123&quot;);\n        fileSender = new FileSender(urlConfig);\n\n        URL res = getClass().getClassLoader().getResource(&quot;test.json&quot;);\n        File file = Paths.get(res.toURI()).toFile();\n        String filePath = file.getAbsolutePath();\n        \n        HttpPost httpPost = mock(HttpPost.class);\n        StatusLine statusLine = mock(StatusLine.class);\n        CloseableHttpClient closeableHttpClient = mock(CloseableHttpClient.class);\n        CloseableHttpResponse closeableHttpResponse = mock(CloseableHttpResponse.class);\n\n        when(statusLine.getStatusCode()).thenReturn(200);\n        when(closeableHttpResponse.getStatusLine()).thenReturn(statusLine);\n        when(closeable.HttpClient.execute(httpPost)).thenReturn(closeableHttpResponse);\n\n        int response = fileSender.sendFile(filePath);\n\n        Assertions.assertEquals(200, response);\n    }\n\n}\n</code></pre>\n<p>And here is the class to test:</p>\n<pre><code>@Service \npublic class FileSender {\n    private final UrlConfig urlConfig;\n    SSLContext sslContext;\n    \n    @Autowired\n    public FileSender(UrlConfig urlConfig) {\n        this.urlConfig = urlConfig;\n    }\n\n    public int sendFile(String targetFileName) throws IOException {\n        Path tracesPath = Paths.get(targetFileName);\n        HttpPost httpPost = new HttpPost(this.UrlConfig.getURL().toString());\n        httpPost.addHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n\n        MultipartEntityBuilder builder = MultipartEntityBuilder.create();        \n        builder.addBinary(&quot;file&quot;, new ByteArrayInputStream(Files.readAllBytes(tracesPath)), ContentType.APPLICATION_OCTET_STREAM, targetFileName);\n\n        HttpEntity multipart = builder.build();\n        httpPost.setEntity(multipart);\n        \n        sslContext = this.UrlConfig.getSSLContext();\n        sslContext = SSLContextFactory.create().this.urlConfig.setSSLContext(sslContext);\n\n       try (CloseableHttpClient httpClient = HttpClients.custom()setSSLContext(sslContext).build);\n           CloseableHttpResponse response = httpClient.execute(httpPost)) {\n               return response.getStatusLine().getStatusCode();\n        }  catch (IOException e) {\n               log.error(e);\n        }\n        return 500;\n    }\n}\n</code></pre>\n<p>Is there any way to solve the issue refactoring only the test.</p>\n"},{"tags":["java","apache-kafka","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668758461,"creation_date":1668757684,"answer_id":74486421,"question_id":74481240,"body_markdown":"Without more information, it&#39;s not clear what&#39;s happening, or why. But I&#39;ll throw out some guesses, and perhaps one will be correct.\r\n\r\nYou could be stuck in a `fail -&gt; restart -&gt; fail again` loop. If you don&#39;t skip over poison pills, Flink will:\r\n\r\n 1. throw an exception caused by a poison pill (a record that can&#39;t be processed for some reason)\r\n 1. restart\r\n 1. try again to consume the poison pill, and fail again\r\n 1. restart again\r\n 1. ...\r\n\r\nOr you could be using a source that doesn&#39;t participate in checkpointing. \r\n\r\nOr perhaps your source isn&#39;t rewindable. Flink&#39;s approach to fault tolerance requires that the sources can be rewound, and then any input records consumed since the last checkpoint will be re-ingested after a restart. But some sources can&#39;t support this (e.g., sockets, or http endpoints).\r\n\r\nOr you could be relying on the Job Manager for `JobManagerCheckpointStorage`, in which case the checkpoints are lost when the JM restarts.\r\n\r\nA job failure shouldn&#39;t cause a Job Manager restart. And it sounds your cluster is probably not set up to handle recovery after a Job Manager failure. You could read the docs on HA for your specific resource provider -- the entry point is [here](https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/deployment/overview/).","title":"Flink 1.16 Restart Strategy working fine, but losing the messages when entire job manager restarting","body":"<p>Without more information, it's not clear what's happening, or why. But I'll throw out some guesses, and perhaps one will be correct.</p>\n<p>You could be stuck in a <code>fail -&gt; restart -&gt; fail again</code> loop. If you don't skip over poison pills, Flink will:</p>\n<ol>\n<li>throw an exception caused by a poison pill (a record that can't be processed for some reason)</li>\n<li>restart</li>\n<li>try again to consume the poison pill, and fail again</li>\n<li>restart again</li>\n<li>...</li>\n</ol>\n<p>Or you could be using a source that doesn't participate in checkpointing.</p>\n<p>Or perhaps your source isn't rewindable. Flink's approach to fault tolerance requires that the sources can be rewound, and then any input records consumed since the last checkpoint will be re-ingested after a restart. But some sources can't support this (e.g., sockets, or http endpoints).</p>\n<p>Or you could be relying on the Job Manager for <code>JobManagerCheckpointStorage</code>, in which case the checkpoints are lost when the JM restarts.</p>\n<p>A job failure shouldn't cause a Job Manager restart. And it sounds your cluster is probably not set up to handle recovery after a Job Manager failure. You could read the docs on HA for your specific resource provider -- the entry point is <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/deployment/overview/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":26655635,"reputation":21,"user_id":20269214,"display_name":"Sivananthan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668758461,"creation_date":1668714145,"question_id":74481240,"body_markdown":"Restart Strategy working fine, but losing the messages when entire job manager restarting after the  max retry attempt.\r\nFor example, I have send a 2 msg continuously , first msg has a exception so its retrying with max attempt which I mentioned in the config. After that its restarting the entire job manager . this time am losing the second message .  \r\n\r\n```\r\n            streamExecutionEnvironment.setRestartStrategy(\r\n                    RestartStrategies.fixedDelayRestart(4, // number of restart attempts\r\n                                                        Time.of(4, TimeUnit.SECONDS) // delay\r\n                    ));\r\n```\r\nOnce the Job manager is comesup , I expected to consume the second message. but its not consuming . seems like we are losing the second message.Could any one help me out for this situation ?","title":"Flink 1.16 Restart Strategy working fine, but losing the messages when entire job manager restarting","body":"<p>Restart Strategy working fine, but losing the messages when entire job manager restarting after the  max retry attempt.\nFor example, I have send a 2 msg continuously , first msg has a exception so its retrying with max attempt which I mentioned in the config. After that its restarting the entire job manager . this time am losing the second message .</p>\n<pre><code>            streamExecutionEnvironment.setRestartStrategy(\n                    RestartStrategies.fixedDelayRestart(4, // number of restart attempts\n                                                        Time.of(4, TimeUnit.SECONDS) // delay\n                    ));\n</code></pre>\n<p>Once the Job manager is comesup , I expected to consume the second message. but its not consuming . seems like we are losing the second message.Could any one help me out for this situation ?</p>\n"},{"tags":["java","user-interface","intellij-idea","applet"],"comments":[{"owner":{"account_id":1587058,"reputation":791,"user_id":1471144,"accept_rate":90,"display_name":"137"},"score":0,"creation_date":1405243588,"post_id":24720720,"comment_id":38344340,"body_markdown":"when I initialize it I get the following warning: Assignment will overwrite UI bound by UI designer. When I initialize it anyway the line initializing it breaks it anyway.","body":"when I initialize it I get the following warning: Assignment will overwrite UI bound by UI designer. When I initialize it anyway the line initializing it breaks it anyway."}],"answers":[{"tags":[],"owner":{"account_id":4862874,"reputation":446,"user_id":3921999,"display_name":"costello"},"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1668758359,"creation_date":1414231634,"answer_id":26561259,"question_id":24720720,"body_markdown":"Code from  inputGui.java\r\n\r\n    private void createUIComponents() {\r\n       // TODO: place custom component creation code here\r\n    }\r\n\r\nYou selected option &quot;Custom Create&quot; on some component in UI designer. You should create that component by yourself, otherwise it will fail. Uncheck that option and everything should be fine.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eXvKK.png","title":"NullPointer Exception at $$$setupUI$$$ using IntelliJ IDEA GUI Designer","body":"<p>Code from  inputGui.java</p>\n<pre><code>private void createUIComponents() {\n   // TODO: place custom component creation code here\n}\n</code></pre>\n<p>You selected option &quot;Custom Create&quot; on some component in UI designer. You should create that component by yourself, otherwise it will fail. Uncheck that option and everything should be fine.</p>\n<p><a href=\"https://i.stack.imgur.com/eXvKK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eXvKK.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1587058,"reputation":791,"user_id":1471144,"accept_rate":90,"display_name":"137"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7615,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26561259,"answer_count":1,"score":4,"last_activity_date":1668758359,"creation_date":1405238927,"question_id":24720720,"body_markdown":"I&#39;ve been trying to use a GUI I made in IntelliJ IDEAS GUI Designer in an applet I&#39;m working on. I&#39;ve gotten the thing to run when I just have one label inside my root JPanel but for some reason when I add more components I get the following error:\r\n\r\n    java.lang.NullPointerException\r\n\tat java.awt.Container.addImpl(Container.java:1095)\r\n\tat java.awt.Container.add(Container.java:971)\r\n\tat inputGui.$$$setupUI$$$(inputGui.java)\r\n\tat inputGui.&lt;init&gt;(inputGui.java:25)\r\n\tat HelloWorld.init(HelloWorld.java:11)\r\n\tat sun.applet.AppletPanel.run(AppletPanel.java:435)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nMy class for the GUI `inputGui.java` is laid out like this: \r\n\r\n(I will mark the line where it breaks with: **//!BROKEN - Line 25!**)\r\n\r\n    public class inputGui extends JFrame {\r\n    private JPanel rootNode;\r\n    private JTextField id_field;\r\n    private JTextField mi_field;\r\n    private JTextField lastName_field;\r\n    private JTextField address_field;\r\n    //more declorations...\r\n\r\n    public inputGui() {//initialize GUI\r\n            super( &quot;Hello World&quot; );\r\n            setContentPane( rootNode );//!BROKEN - Line 25!\r\n            pack();\r\n            setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\r\n            setVisible( false );\r\n        }\r\n        public JPanel getRootNode() {\r\n            return rootNode;\r\n        }\r\n        private void createUIComponents() {\r\n            // TODO: place custom component creation code here\r\n        }\r\n    }\r\n\r\nAnd I call it from my Applets &#39;init()&#39; function:\r\n\r\n    public class HelloWorld extends JApplet {\r\n        //Called when this applet is loaded into the browser.\r\n        public void init() {\r\n            //Execute a job on the event-dispatching thread; creating this applet&#39;s GUI.\r\n            inputGui frame =  new inputGui();//just here to get a clearer error\r\n            try {\r\n                SwingUtilities.invokeAndWait(new Runnable() {\r\n                    public void run() {\r\n                        Container content = getContentPane();\r\n                        inputGui frame =  new inputGui();//init GUI\r\n                        content.add(frame.getRootNode() );//add rootNode to JFRame\r\n\r\n                    }\r\n                });\r\n            } catch (Exception e) {\r\n                System.err.println(&quot;createGUI didn&#39;t complete successfully&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nI just cant figure out why adding components suddenly creates a null pointer!. If its any help my elements are nested like this:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/I01QQ.png","title":"NullPointer Exception at $$$setupUI$$$ using IntelliJ IDEA GUI Designer","body":"<p>I've been trying to use a GUI I made in IntelliJ IDEAS GUI Designer in an applet I'm working on. I've gotten the thing to run when I just have one label inside my root JPanel but for some reason when I add more components I get the following error:</p>\n\n<pre><code>java.lang.NullPointerException\nat java.awt.Container.addImpl(Container.java:1095)\nat java.awt.Container.add(Container.java:971)\nat inputGui.$$$setupUI$$$(inputGui.java)\nat inputGui.&lt;init&gt;(inputGui.java:25)\nat HelloWorld.init(HelloWorld.java:11)\nat sun.applet.AppletPanel.run(AppletPanel.java:435)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>My class for the GUI <code>inputGui.java</code> is laid out like this: </p>\n\n<p>(I will mark the line where it breaks with: <strong>//!BROKEN - Line 25!</strong>)</p>\n\n<pre><code>public class inputGui extends JFrame {\nprivate JPanel rootNode;\nprivate JTextField id_field;\nprivate JTextField mi_field;\nprivate JTextField lastName_field;\nprivate JTextField address_field;\n//more declorations...\n\npublic inputGui() {//initialize GUI\n        super( \"Hello World\" );\n        setContentPane( rootNode );//!BROKEN - Line 25!\n        pack();\n        setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n        setVisible( false );\n    }\n    public JPanel getRootNode() {\n        return rootNode;\n    }\n    private void createUIComponents() {\n        // TODO: place custom component creation code here\n    }\n}\n</code></pre>\n\n<p>And I call it from my Applets 'init()' function:</p>\n\n<pre><code>public class HelloWorld extends JApplet {\n    //Called when this applet is loaded into the browser.\n    public void init() {\n        //Execute a job on the event-dispatching thread; creating this applet's GUI.\n        inputGui frame =  new inputGui();//just here to get a clearer error\n        try {\n            SwingUtilities.invokeAndWait(new Runnable() {\n                public void run() {\n                    Container content = getContentPane();\n                    inputGui frame =  new inputGui();//init GUI\n                    content.add(frame.getRootNode() );//add rootNode to JFRame\n\n                }\n            });\n        } catch (Exception e) {\n            System.err.println(\"createGUI didn't complete successfully\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>I just cant figure out why adding components suddenly creates a null pointer!. If its any help my elements are nested like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/I01QQ.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy","esp32"],"answers":[{"tags":[],"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668757232,"creation_date":1668757232,"answer_id":74486340,"question_id":74484740,"body_markdown":"Please take a look at the official [Android Development Guide](https://developer.android.com/guide). You will find many topics covered, especially interesting for you will be\r\n\r\n - the guide to [Bluetooth Classic](https://developer.android.com/guide/topics/connectivity/bluetooth)\r\n - the guide to [Bluetooth Low Energy](https://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview)\r\n - the guide to [Wi-Fi](https://developer.android.com/guide/topics/connectivity/wifi-permissions)\r\n \r\nThe guides offer you a good start on these topics. There are many more independent guides online, sometimes even providing a sample app","title":"ESP32 Bluetooth, BLE and WIFI connection data transfer using android","body":"<p>Please take a look at the official <a href=\"https://developer.android.com/guide\" rel=\"nofollow noreferrer\">Android Development Guide</a>. You will find many topics covered, especially interesting for you will be</p>\n<ul>\n<li>the guide to <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth\" rel=\"nofollow noreferrer\">Bluetooth Classic</a></li>\n<li>the guide to <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview\" rel=\"nofollow noreferrer\">Bluetooth Low Energy</a></li>\n<li>the guide to <a href=\"https://developer.android.com/guide/topics/connectivity/wifi-permissions\" rel=\"nofollow noreferrer\">Wi-Fi</a></li>\n</ul>\n<p>The guides offer you a good start on these topics. There are many more independent guides online, sometimes even providing a sample app</p>\n"}],"owner":{"account_id":21939937,"reputation":3,"user_id":16220621,"display_name":"Mohamed Amal A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74486340,"answer_count":1,"score":-1,"last_activity_date":1668757232,"creation_date":1668743417,"question_id":74484740,"body_markdown":"I am Deciding to create an android app using java in android studio to connect, send and receive data using ESP32 with all the available connection methods that is Bluetooth classic, Bluetooth low energy and wifi . Can anyone share any resources or Source codes?\r\n\r\ndid try some android apps but either not working or slow","title":"ESP32 Bluetooth, BLE and WIFI connection data transfer using android","body":"<p>I am Deciding to create an android app using java in android studio to connect, send and receive data using ESP32 with all the available connection methods that is Bluetooth classic, Bluetooth low energy and wifi . Can anyone share any resources or Source codes?</p>\n<p>did try some android apps but either not working or slow</p>\n"},{"tags":["java","android","webview"],"answers":[{"tags":[],"owner":{"display_name":"user15660680"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668672518,"creation_date":1668672518,"answer_id":74472055,"question_id":74469552,"body_markdown":"have you tryed this after navigating the page\r\n````\r\n String url=myWebView.getUrl().toString();\r\n\r\n        String[] spli = url.split(&quot;/&quot;);\r\n        if (spli[spli.length-1]!=null){\r\n            String data = spli[spli.length-1];\r\n            Toast.makeText(getApplicationContext(), &quot;&quot;+data, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n````","title":"How to get the URL when I click a button in WebView and Toast the id in android","body":"<p>have you tryed this after navigating the page</p>\n<pre><code> String url=myWebView.getUrl().toString();\n\n        String[] spli = url.split(&quot;/&quot;);\n        if (spli[spli.length-1]!=null){\n            String data = spli[spli.length-1];\n            Toast.makeText(getApplicationContext(), &quot;&quot;+data, Toast.LENGTH_SHORT).show();\n        }\n\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15660680"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668757103,"creation_date":1668757103,"answer_id":74486314,"question_id":74469552,"body_markdown":"Or you can try this.\r\n````\r\nWebView webview = new WebView(context);\r\nwebview.setWebViewClient(new WebViewClient()\r\n        {\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                super.onPageStarted(view, url, favicon);\r\n\r\n                Log.d(&quot;WebView&quot;, &quot;your current url when webpage loading..&quot; + url);\r\n            }\r\n\r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                Log.d(&quot;WebView&quot;, &quot;your current url when webpage loading.. finish&quot; + url);\r\n                super.onPageFinished(view, url);\r\n            }\r\n\r\n            @Override\r\n            public void onLoadResource(WebView view, String url) {\r\n                // TODO Auto-generated method stub\r\n                super.onLoadResource(view, url);\r\n            }\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                System.out.println(&quot;when you click on any interlink on webview that time you got url :-&quot; + url);\r\n                return super.shouldOverrideUrlLoading(view, url);\r\n            }\r\n        });\r\n````","title":"How to get the URL when I click a button in WebView and Toast the id in android","body":"<p>Or you can try this.</p>\n<pre><code>WebView webview = new WebView(context);\nwebview.setWebViewClient(new WebViewClient()\n        {\n            @Override\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\n                super.onPageStarted(view, url, favicon);\n\n                Log.d(&quot;WebView&quot;, &quot;your current url when webpage loading..&quot; + url);\n            }\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                Log.d(&quot;WebView&quot;, &quot;your current url when webpage loading.. finish&quot; + url);\n                super.onPageFinished(view, url);\n            }\n\n            @Override\n            public void onLoadResource(WebView view, String url) {\n                // TODO Auto-generated method stub\n                super.onLoadResource(view, url);\n            }\n            @Override\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                System.out.println(&quot;when you click on any interlink on webview that time you got url :-&quot; + url);\n                return super.shouldOverrideUrlLoading(view, url);\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":16553977,"reputation":3,"user_id":11961581,"display_name":"Don Min Soo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668757103,"creation_date":1668653080,"question_id":74469552,"body_markdown":"I have a web with the url like this:\r\n\r\n**https://sampleweb.com** \r\n\r\nI display it on android using WebView. The Website have a button when I click the button the URL change to like this and go to another page:\r\n\r\n**https://sampleweb.com?34JGLSDJDJF8**\r\n\r\nHow to do that when I click the button from WebView the ID(34JGLSDJDJF8) will Toast to android or store the ID to variable.\r\n\r\nSorry for my english.","title":"How to get the URL when I click a button in WebView and Toast the id in android","body":"<p>I have a web with the url like this:</p>\n<p><strong><a href=\"https://sampleweb.com\" rel=\"nofollow noreferrer\">https://sampleweb.com</a></strong></p>\n<p>I display it on android using WebView. The Website have a button when I click the button the URL change to like this and go to another page:</p>\n<p><strong><a href=\"https://sampleweb.com?34JGLSDJDJF8\" rel=\"nofollow noreferrer\">https://sampleweb.com?34JGLSDJDJF8</a></strong></p>\n<p>How to do that when I click the button from WebView the ID(34JGLSDJDJF8) will Toast to android or store the ID to variable.</p>\n<p>Sorry for my english.</p>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1546356474,"creation_date":1546356474,"answer_id":53996656,"question_id":53991804,"body_markdown":"open `gradle/wrapper/gradle-wrapper.properties` and set a proper `distributionUrl` there:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-4.8.1-all.zip\r\n","title":"Could not fetch model of type &#39;BuildEnvironment&#39; using Gradle distribution","body":"<p>open <code>gradle/wrapper/gradle-wrapper.properties</code> and set a proper <code>distributionUrl</code> there:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.8.1-all.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1563409,"reputation":723,"user_id":1452740,"accept_rate":0,"display_name":"Satyam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576822257,"creation_date":1576821941,"answer_id":59420553,"question_id":53991804,"body_markdown":"I am able to resolve the issue by following below steps :\r\n\r\n1. Identify the Gradle wrapper version. Eclipse must use the same version while importing the project. By default, the Gradle wrapper version should be selected while importing the project. Otherwise, specify the version of the Gradle that your project is using.\r\n\r\n2. Check if there is a syntax error in the build.gradle file\r\n\r\n3. If still, you are getting the same issue after selecting the appropriate version, then delete the .gradle folder from the project and reimport the project.","title":"Could not fetch model of type &#39;BuildEnvironment&#39; using Gradle distribution","body":"<p>I am able to resolve the issue by following below steps :</p>\n\n<ol>\n<li><p>Identify the Gradle wrapper version. Eclipse must use the same version while importing the project. By default, the Gradle wrapper version should be selected while importing the project. Otherwise, specify the version of the Gradle that your project is using.</p></li>\n<li><p>Check if there is a syntax error in the build.gradle file</p></li>\n<li><p>If still, you are getting the same issue after selecting the appropriate version, then delete the .gradle folder from the project and reimport the project.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3502577,"reputation":640,"user_id":2928992,"display_name":"Vokail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668756647,"creation_date":1668756647,"answer_id":74486246,"question_id":53991804,"body_markdown":"I&#39;ve solved this problem in Eclipse &quot;forcing&quot; eclipse to use the gradle wrapper.\r\nSo right click on the project in Eclipse, select properties, select gradle and select &quot;override workspace settings&quot; and be sure that &quot;gradle wrapper is selected&quot;, see below:\r\n\r\n[![gradle wrapper settings in Eclipse][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GNXym.png","title":"Could not fetch model of type &#39;BuildEnvironment&#39; using Gradle distribution","body":"<p>I've solved this problem in Eclipse &quot;forcing&quot; eclipse to use the gradle wrapper.\nSo right click on the project in Eclipse, select properties, select gradle and select &quot;override workspace settings&quot; and be sure that &quot;gradle wrapper is selected&quot;, see below:</p>\n<p><a href=\"https://i.stack.imgur.com/GNXym.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GNXym.png\" alt=\"gradle wrapper settings in Eclipse\" /></a></p>\n"}],"owner":{"account_id":2922058,"reputation":213,"user_id":2504082,"accept_rate":50,"display_name":"Vinda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29574,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53996656,"answer_count":3,"score":2,"last_activity_date":1668756647,"creation_date":1546294490,"question_id":53991804,"body_markdown":"I&#39;m getting the below error when I have imported a gradle project and tried refreshing it. I&#39;m new to gradle and using gradle wrapper. also, the gradle distribution exists in the repository.\r\n\r\nCould not fetch model of type &#39;BuildEnvironment&#39; using Gradle distribution &#39;http://repository.xyz.com:8080/artifactory/gradle-distributions/gradle-4.8.1-all.zip&#39;.\r\nThe specified Gradle distribution &#39;http://repository.paychex.com:8081/artifactory/gradle-distributions/gradle-4.8.1-all.zip&#39; does not exist.\r\nhttp://repository.xyz.com:8080/artifactory/gradle-distributions/gradle-4.8.1-all.zip","title":"Could not fetch model of type &#39;BuildEnvironment&#39; using Gradle distribution","body":"<p>I'm getting the below error when I have imported a gradle project and tried refreshing it. I'm new to gradle and using gradle wrapper. also, the gradle distribution exists in the repository.</p>\n\n<p>Could not fetch model of type 'BuildEnvironment' using Gradle distribution '<a href=\"http://repository.xyz.com:8080/artifactory/gradle-distributions/gradle-4.8.1-all.zip\" rel=\"nofollow noreferrer\">http://repository.xyz.com:8080/artifactory/gradle-distributions/gradle-4.8.1-all.zip</a>'.\nThe specified Gradle distribution '<a href=\"http://repository.paychex.com:8081/artifactory/gradle-distributions/gradle-4.8.1-all.zip\" rel=\"nofollow noreferrer\">http://repository.paychex.com:8081/artifactory/gradle-distributions/gradle-4.8.1-all.zip</a>' does not exist.\n<a href=\"http://repository.xyz.com:8080/artifactory/gradle-distributions/gradle-4.8.1-all.zip\" rel=\"nofollow noreferrer\">http://repository.xyz.com:8080/artifactory/gradle-distributions/gradle-4.8.1-all.zip</a></p>\n"},{"tags":["java","unit-testing","jwt","openid-connect","shiro"],"answers":[{"tags":[],"owner":{"account_id":1203958,"reputation":18288,"user_id":1174054,"accept_rate":38,"display_name":"Takahiko Kawasaki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668755942,"creation_date":1668755942,"answer_id":74486135,"question_id":74137156,"body_markdown":"If I were you, I would give a virtual current time to the unit test as an additional input parameter. The unit test can perform validation on time-related claims such as `exp`, `iat` and `nbf` using the virtual current time as if it were the actual current time.\r\n\r\nAs a good practice, when you write a library which changes its behavior based on the current time, the library should be able to accept a base time as an optional input parameter.","title":"Is it possible to Unit-Test a OpenID-Connect Token Validation?","body":"<p>If I were you, I would give a virtual current time to the unit test as an additional input parameter. The unit test can perform validation on time-related claims such as <code>exp</code>, <code>iat</code> and <code>nbf</code> using the virtual current time as if it were the actual current time.</p>\n<p>As a good practice, when you write a library which changes its behavior based on the current time, the library should be able to accept a base time as an optional input parameter.</p>\n"}],"owner":{"account_id":17969456,"reputation":51,"user_id":13058593,"display_name":"dontoronto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668755942,"creation_date":1666256697,"question_id":74137156,"body_markdown":"I want to build some unit-tests for my JWT Validation Scripts. I&#39;m extending Shiro with some custom Token-Validation scripts for openid-connect usage. \r\n\r\nThe problem is, that the method i tryed to test validates an already expired token. If i want to use a valid token for the tests, i need to make a new request to the OAuth-Provider to get it and i don&#39;t know the new values of the token which are important for unit-test matching. Now I&#39;m questioning myself if this falls under the area of an unit-test because I thought unit-tests are just simple prepared test where the result is compared to the method output.","title":"Is it possible to Unit-Test a OpenID-Connect Token Validation?","body":"<p>I want to build some unit-tests for my JWT Validation Scripts. I'm extending Shiro with some custom Token-Validation scripts for openid-connect usage.</p>\n<p>The problem is, that the method i tryed to test validates an already expired token. If i want to use a valid token for the tests, i need to make a new request to the OAuth-Provider to get it and i don't know the new values of the token which are important for unit-test matching. Now I'm questioning myself if this falls under the area of an unit-test because I thought unit-tests are just simple prepared test where the result is compared to the method output.</p>\n"},{"tags":["java","android","android-custom-view"],"comments":[{"owner":{"account_id":16379948,"reputation":788,"user_id":11831226,"display_name":"Hossein Asadi"},"score":0,"creation_date":1668667164,"post_id":74470701,"comment_id":131462417,"body_markdown":"may be one of `attrs.getDrawable(` returned null","body":"may be one of <code>attrs.getDrawable(</code> returned null"},{"owner":{"display_name":"user15660680"},"score":0,"creation_date":1668671897,"post_id":74470701,"comment_id":131463732,"body_markdown":"You can use one element array instead of final;","body":"You can use one element array instead of final;"}],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668721294,"creation_date":1668718296,"answer_id":74481955,"question_id":74470701,"body_markdown":"I have been caught by this same type of error in the past. [This](https://stackoverflow.com/questions/3404301/whats-wrong-with-overridable-method-calls-in-constructors/3404369#3404369) Stack Overflow answer is a decent explanation of what I believe is happening. As stated in the this Stack Overflow reference:\r\n\r\n*A quote from Effective Java 2nd Edition, Item 17: Design and document for inheritance, or else prohibit it:*\r\n\r\n&gt;    There are a few more restrictions that a class must obey to allow inheritance. Constructors must not invoke overridable methods, directly or indirectly. If you violate this rule, program failure will result. The superclass constructor runs before the subclass constructor, so the overriding method in the subclass will be invoked before the subclass constructor has run. If the overriding method depends on any initialization performed by the subclass constructor, the method will not behave as expected.\r\n\r\nIf you take a look at the base class _BaseCustomView_, it calls `init()` in its constructors. `init()` then calls `onInit()` which is overridden in the subclass _TestView_. Since the constructor for the base class runs before the constructor for the subclass, the class member `icon` has not yet been initialized.","title":"NullPointerException happens with final member in custom view","body":"<p>I have been caught by this same type of error in the past. <a href=\"https://stackoverflow.com/questions/3404301/whats-wrong-with-overridable-method-calls-in-constructors/3404369#3404369\">This</a> Stack Overflow answer is a decent explanation of what I believe is happening. As stated in the this Stack Overflow reference:</p>\n<p><em>A quote from Effective Java 2nd Edition, Item 17: Design and document for inheritance, or else prohibit it:</em></p>\n<blockquote>\n<p>There are a few more restrictions that a class must obey to allow inheritance. Constructors must not invoke overridable methods, directly or indirectly. If you violate this rule, program failure will result. The superclass constructor runs before the subclass constructor, so the overriding method in the subclass will be invoked before the subclass constructor has run. If the overriding method depends on any initialization performed by the subclass constructor, the method will not behave as expected.</p>\n</blockquote>\n<p>If you take a look at the base class <em>BaseCustomView</em>, it calls <code>init()</code> in its constructors. <code>init()</code> then calls <code>onInit()</code> which is overridden in the subclass <em>TestView</em>. Since the constructor for the base class runs before the constructor for the subclass, the class member <code>icon</code> has not yet been initialized.</p>\n"}],"owner":{"account_id":24393192,"reputation":201,"user_id":18322863,"display_name":"Madray Haven"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74481955,"answer_count":1,"score":1,"last_activity_date":1668755738,"creation_date":1668664200,"question_id":74470701,"body_markdown":"I&#39;m creating a custom view, and I write code like this:\r\n\r\n```java\r\npublic class TestView extends BaseCustomView&lt;ViewTestBinding&gt; {\r\n...\r\n    @NonNull\r\n    private final Map&lt;Boolean, Drawable&gt; icon = new HashMap&lt;&gt;();\r\n\r\n    private void onInit(Context context, @Nullable TypedArray attrs) {\r\n        assert attrs != null;\r\n        // NullPointerException throws at this line\r\n        icon.put(true, attrs.getDrawable(R.styleable.TestView_icon));\r\n        icon.put(false, attrs.getDrawable(R.styleable.TestView_iconUnselect));\r\n...\r\n}\r\n```\r\n\r\nMethod `onInit` will be called in every constructor, but when I store the key-value pair in the `icon`, it thows NullPointerException:\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke interface method &#39;java.lang.Object java.util.Map.put(java.lang.Object, java.lang.Object)&#39; on a null object reference\r\n```\r\n\r\nI put the full code on [Github](https://github.com/mhmzx/CustomViewTest/blob/master/app/src/main/java/io/github/sgpublic/customviewtest/TestView.java). From my understanding, changing `icon` to null is impossible, so why is NullPointerException thrown? Thank you!\r\n\r\n---\r\n\r\nUpdate (2022/11/18 14:48 GMT +8):\r\n\r\nAccording to the answer of @Cheticamp, I write a minify test case: [ExampleUnitTest.java](https://github.com/mhmzx/CustomViewTest/blob/master/app/src/test/java/io/github/sgpublic/customviewtest/ExampleUnitTest.java), and it reproduced the error, `System.out.println()` at [line 31](https://github.com/mhmzx/CustomViewTest/blob/master/app/src/test/java/io/github/sgpublic/customviewtest/ExampleUnitTest.java#L31) printed null.\r\n\r\n```java\r\npublic class ExampleUnitTest {\r\n    @Test\r\n    public void test() {\r\n        new ClassB();\r\n    }\r\n\r\n    public static abstract class ClassA {\r\n        public ClassA() {\r\n            method();\r\n        }\r\n\r\n        protected abstract void method();\r\n    }\r\n\r\n    public static class ClassB extends ClassA {\r\n        @SuppressWarnings(&quot;FieldCanBeLocal&quot;)\r\n        private final Integer integer = 114514; // print null\r\n//        private final int integer = 114514; // print 114514\r\n\r\n        @Override\r\n        protected void method() {\r\n            System.out.println(integer);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut I still can&#39;t understand why I got null, the code in [this link](https://stackoverflow.com/questions/3404301/whats-wrong-with-overridable-method-calls-in-constructors/3404369) initializes members in the constructor, and I assign the value directly after defining, Even if I initialize directly, is the actual assignment still performed in the subclass constructor?\r\n\r\nIf so, when I change the type to `int` like [line 27](https://github.com/mhmzx/CustomViewTest/blob/master/app/src/test/java/io/github/sgpublic/customviewtest/ExampleUnitTest.java#L27), it should print the int&#39;s initial value of 0, but this time it correctly prints the value I initialized.","title":"NullPointerException happens with final member in custom view","body":"<p>I'm creating a custom view, and I write code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestView extends BaseCustomView&lt;ViewTestBinding&gt; {\n...\n    @NonNull\n    private final Map&lt;Boolean, Drawable&gt; icon = new HashMap&lt;&gt;();\n\n    private void onInit(Context context, @Nullable TypedArray attrs) {\n        assert attrs != null;\n        // NullPointerException throws at this line\n        icon.put(true, attrs.getDrawable(R.styleable.TestView_icon));\n        icon.put(false, attrs.getDrawable(R.styleable.TestView_iconUnselect));\n...\n}\n</code></pre>\n<p>Method <code>onInit</code> will be called in every constructor, but when I store the key-value pair in the <code>icon</code>, it thows NullPointerException:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke interface method 'java.lang.Object java.util.Map.put(java.lang.Object, java.lang.Object)' on a null object reference\n</code></pre>\n<p>I put the full code on <a href=\"https://github.com/mhmzx/CustomViewTest/blob/master/app/src/main/java/io/github/sgpublic/customviewtest/TestView.java\" rel=\"nofollow noreferrer\">Github</a>. From my understanding, changing <code>icon</code> to null is impossible, so why is NullPointerException thrown? Thank you!</p>\n<hr />\n<p>Update (2022/11/18 14:48 GMT +8):</p>\n<p>According to the answer of @Cheticamp, I write a minify test case: <a href=\"https://github.com/mhmzx/CustomViewTest/blob/master/app/src/test/java/io/github/sgpublic/customviewtest/ExampleUnitTest.java\" rel=\"nofollow noreferrer\">ExampleUnitTest.java</a>, and it reproduced the error, <code>System.out.println()</code> at <a href=\"https://github.com/mhmzx/CustomViewTest/blob/master/app/src/test/java/io/github/sgpublic/customviewtest/ExampleUnitTest.java#L31\" rel=\"nofollow noreferrer\">line 31</a> printed null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleUnitTest {\n    @Test\n    public void test() {\n        new ClassB();\n    }\n\n    public static abstract class ClassA {\n        public ClassA() {\n            method();\n        }\n\n        protected abstract void method();\n    }\n\n    public static class ClassB extends ClassA {\n        @SuppressWarnings(&quot;FieldCanBeLocal&quot;)\n        private final Integer integer = 114514; // print null\n//        private final int integer = 114514; // print 114514\n\n        @Override\n        protected void method() {\n            System.out.println(integer);\n        }\n    }\n}\n</code></pre>\n<p>But I still can't understand why I got null, the code in <a href=\"https://stackoverflow.com/questions/3404301/whats-wrong-with-overridable-method-calls-in-constructors/3404369\">this link</a> initializes members in the constructor, and I assign the value directly after defining, Even if I initialize directly, is the actual assignment still performed in the subclass constructor?</p>\n<p>If so, when I change the type to <code>int</code> like <a href=\"https://github.com/mhmzx/CustomViewTest/blob/master/app/src/test/java/io/github/sgpublic/customviewtest/ExampleUnitTest.java#L27\" rel=\"nofollow noreferrer\">line 27</a>, it should print the int's initial value of 0, but this time it correctly prints the value I initialized.</p>\n"},{"tags":["java","json","stack"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":1,"creation_date":1668731727,"post_id":74483712,"comment_id":131484284,"body_markdown":"`[&quot;}&quot;]&quot;` is not a valid JSON format. Your program is running fine","body":"<code>[&quot;}&quot;]&quot;</code> is not a valid JSON format. Your program is running fine"},{"owner":{"account_id":26968703,"reputation":19,"user_id":20535068,"display_name":"joshua"},"score":0,"creation_date":1668732239,"post_id":74483712,"comment_id":131484379,"body_markdown":"assertTrue(JsonValidator.isValidJSON(&quot;\\&quot;{\\&quot;&quot;), &quot;The brackets and quotes are balanced, making this a valid JSON string&quot;);\nThis is one of my test cases, its supposed to be valid JSON but it keeps giving me false","body":"assertTrue(JsonValidator.isValidJSON(&quot;\\&quot;{\\&quot;&quot;), &quot;The brackets and quotes are balanced, making this a valid JSON string&quot;); This is one of my test cases, its supposed to be valid JSON but it keeps giving me false"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668755641,"creation_date":1668732813,"answer_id":74483823,"question_id":74483712,"body_markdown":"The problem with your checker is that when you check `&quot;{&quot;` you are pushing characters onto the stack that are never going to be popped.  Hence, the stack is not empty.\r\n\r\nHint: look carefully at what is being pushed and popped when you process a string.\r\n\r\nAlso, your parser is not dealing with escapes in strings at all.  And a `{` or `}` or `[` or `]` encountered within a JSON string should be treated as regular data.","title":"Java, check if string is JSON Using Stacks","body":"<p>The problem with your checker is that when you check <code>&quot;{&quot;</code> you are pushing characters onto the stack that are never going to be popped.  Hence, the stack is not empty.</p>\n<p>Hint: look carefully at what is being pushed and popped when you process a string.</p>\n<p>Also, your parser is not dealing with escapes in strings at all.  And a <code>{</code> or <code>}</code> or <code>[</code> or <code>]</code> encountered within a JSON string should be treated as regular data.</p>\n"}],"owner":{"account_id":26968703,"reputation":19,"user_id":20535068,"display_name":"joshua"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668755641,"creation_date":1668731641,"question_id":74483712,"body_markdown":"```\r\npublic class JsonValidator {\r\n\r\npublic static boolean isValidJSON(String jsonString) {\r\n\tStack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n\tfor (char c : jsonString.toCharArray()) {\r\n\t\tswitch (c) {\r\n\t\tcase &#39;{&#39;:\r\n\t\t\tstack.push(c);\r\n\t\t\tbreak;\r\n\t\tcase &#39;}&#39;:\r\n\t\t\tif (stack.isEmpty()) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tCharacter last1 = stack.pop();\r\n\t\t\tif (last1 != &#39;{&#39;) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase &#39;[&#39;:\r\n\t\t\tstack.push(c);\r\n\t\t\tbreak;\r\n\t\tcase &#39;]&#39;:\r\n\t\t\tif (stack.isEmpty()) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tCharacter last2 = stack.pop();\r\n\t\t\tif (last2 != &#39;[&#39;) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\tcase &#39;\\&quot;&#39;:\r\n\t\t\tif (stack.isEmpty()) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tCharacter last3 = stack.peek();\r\n\t\t\tif (last3 == &#39;\\&quot;&#39;) {\r\n\t\t\t\tstack.pop();\r\n\t\t\t} else {\r\n\t\t\t\tstack.push(c);\r\n\t\t\t}\r\n\r\n\t\t\tstack.push(c);\r\n\t\t}\r\n\r\n\t}\r\n\treturn stack.isEmpty();\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nassertTrue(JsonValidator.isValidJSON(&quot;\\&quot;{\\&quot;&quot;), &quot;The brackets and quotes are balanced, making this a valid JSON string&quot;);\r\n\r\n\r\nThis is one of my test cases, its supposed to be valid JSON but it keeps giving me false","title":"Java, check if string is JSON Using Stacks","body":"<pre><code>public class JsonValidator {\n\npublic static boolean isValidJSON(String jsonString) {\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n    for (char c : jsonString.toCharArray()) {\n        switch (c) {\n        case '{':\n            stack.push(c);\n            break;\n        case '}':\n            if (stack.isEmpty()) {\n                return false;\n            }\n            Character last1 = stack.pop();\n            if (last1 != '{') {\n                return false;\n            }\n            break;\n        case '[':\n            stack.push(c);\n            break;\n        case ']':\n            if (stack.isEmpty()) {\n                return false;\n            }\n            Character last2 = stack.pop();\n            if (last2 != '[') {\n                return false;\n            }\n            break;\n\n        case '\\&quot;':\n            if (stack.isEmpty()) {\n                return false;\n            }\n            Character last3 = stack.peek();\n            if (last3 == '\\&quot;') {\n                stack.pop();\n            } else {\n                stack.push(c);\n            }\n\n            stack.push(c);\n        }\n\n    }\n    return stack.isEmpty();\n}\n</code></pre>\n<p>assertTrue(JsonValidator.isValidJSON(&quot;&quot;{&quot;&quot;), &quot;The brackets and quotes are balanced, making this a valid JSON string&quot;);</p>\n<p>This is one of my test cases, its supposed to be valid JSON but it keeps giving me false</p>\n"},{"tags":["java","jenkins"],"answers":[{"tags":[],"owner":{"account_id":2315642,"reputation":1575,"user_id":2032777,"display_name":"PHZ.fi-Pharazon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668755528,"creation_date":1668755528,"answer_id":74486081,"question_id":74486020,"body_markdown":"1) the missing descriptor seems to be just warning, and is not a fatal error. Just wait until you get more output to the log\r\n2) Jenkins initial setup -error message shows because I was starting Jenkins by hand, and not by the Ubuntu startup script, and was doing so as root. Starting the command by \r\n\r\n    sudo -u jenkins java -jar jenkins.war\r\n\r\nrestored the previous environment.","title":"Jenkins won&#39;t start. Error: jenkins class hudson.security.csrf.defaultcrumbissuer is missing its descriptor","body":"<ol>\n<li><p>the missing descriptor seems to be just warning, and is not a fatal error. Just wait until you get more output to the log</p>\n</li>\n<li><p>Jenkins initial setup -error message shows because I was starting Jenkins by hand, and not by the Ubuntu startup script, and was doing so as root. Starting the command by</p>\n<p>sudo -u jenkins java -jar jenkins.war</p>\n</li>\n</ol>\n<p>restored the previous environment.</p>\n"}],"owner":{"account_id":2315642,"reputation":1575,"user_id":2032777,"display_name":"PHZ.fi-Pharazon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4059,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668755528,"creation_date":1668755212,"question_id":74486020,"body_markdown":"I have been running Jenkins for 10 years, but after I upgraded Jenkins.war ( 2.361.4 LTS by 2022-11-17) to the latest version, and also openjdk-17-jre on Ubuntu Focal 20.04 LTS. Jenkins keeps restarting and throws the following stack trace to to the log (long version omited):\r\n\r\n`java.lang.AssertionError: class hudson.security.csrf.DefaultCrumbIssuer is missing its descriptor\r\n`\r\n\r\nHow to fix the problem? \r\n\r\n```\r\nI&#39;m starting jenkins by command:\r\n\r\n    jenkins -jar jenkins.war\r\n```\r\nI&#39;d expect Jenkins to start. Jenkins gives &quot;Please wait while Jenkins is getting ready to work ...&quot; on the web page, but then restarts and never actually starts.\r\n\r\nAfter a while I also got an error message (both on web and log):\r\n\r\nWARNING o.eclipse.jetty.http.HttpParser#parseFields: Header is too large 8193&gt;8192\r\n\r\nAfter waiting for a while there comes also message on the log:\r\n\r\n    Jenkins initial setup is required.","title":"Jenkins won&#39;t start. Error: jenkins class hudson.security.csrf.defaultcrumbissuer is missing its descriptor","body":"<p>I have been running Jenkins for 10 years, but after I upgraded Jenkins.war ( 2.361.4 LTS by 2022-11-17) to the latest version, and also openjdk-17-jre on Ubuntu Focal 20.04 LTS. Jenkins keeps restarting and throws the following stack trace to to the log (long version omited):</p>\n<p><code>java.lang.AssertionError: class hudson.security.csrf.DefaultCrumbIssuer is missing its descriptor </code></p>\n<p>How to fix the problem?</p>\n<pre><code>I'm starting jenkins by command:\n\n    jenkins -jar jenkins.war\n</code></pre>\n<p>I'd expect Jenkins to start. Jenkins gives &quot;Please wait while Jenkins is getting ready to work ...&quot; on the web page, but then restarts and never actually starts.</p>\n<p>After a while I also got an error message (both on web and log):</p>\n<p>WARNING o.eclipse.jetty.http.HttpParser#parseFields: Header is too large 8193&gt;8192</p>\n<p>After waiting for a while there comes also message on the log:</p>\n<pre><code>Jenkins initial setup is required.\n</code></pre>\n"},{"tags":["java","scala","serialization","deserialization"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1668609600,"post_id":74460752,"comment_id":131447465,"body_markdown":"Why do you need this? Why can&#39;t you deserialize in the same version as it was serialized?","body":"Why do you need this? Why can&#39;t you deserialize in the same version as it was serialized?"},{"owner":{"account_id":4656152,"reputation":23,"user_id":3771712,"display_name":"user3771712"},"score":1,"creation_date":1668611730,"post_id":74460752,"comment_id":131448363,"body_markdown":"We are working on migration of legacy project, when we restart the application, server keeps data in serialized form as restoration point. We can&#39;t loose this data. \n\nWe have done the migration, everthing is working fine except class containing Scala.Symbol giving us this exceptions.  Thanks","body":"We are working on migration of legacy project, when we restart the application, server keeps data in serialized form as restoration point. We can&#39;t loose this data.   We have done the migration, everthing is working fine except class containing Scala.Symbol giving us this exceptions.  Thanks"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1668619845,"post_id":74460752,"comment_id":131451649,"body_markdown":"Any chance you could first transform the `Symbol` to `String`?","body":"Any chance you could first transform the <code>Symbol</code> to <code>String</code>?"},{"owner":{"account_id":4656152,"reputation":23,"user_id":3771712,"display_name":"user3771712"},"score":0,"creation_date":1668658079,"post_id":74460752,"comment_id":131460856,"body_markdown":"No @Ga&#235;lJ, Symbol is used at many places.","body":"No @Ga&#235;lJ, Symbol is used at many places."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1668665547,"post_id":74460752,"comment_id":131462064,"body_markdown":"Maybe retrieve the Symbol class java code generated for Scala 2.11 and copy/paste it with another name in your project? Not sure if that could work.","body":"Maybe retrieve the Symbol class java code generated for Scala 2.11 and copy/paste it with another name in your project? Not sure if that could work."}],"answers":[{"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668666555,"creation_date":1668666555,"answer_id":74471051,"question_id":74460752,"body_markdown":"Can you run Scala 2.11 from Scala 2.12 for deserialization or will it be too slow?\r\n\r\n```scala\r\n// Scala 2.12\r\nimport sys.process._\r\n\r\nSymbol(&quot;scala-2.11.12/bin/scala path_to_deserializer/Deserializer.scala path_to_file/file.ser&quot;.!!)\r\n// &#39;someSymbol\r\n```\r\n\r\n```scala\r\n// Deserializer.scala\r\nimport java.io.{FileInputStream, ObjectInputStream}\r\n\r\nobject Deserializer {\r\n  def main(args: Array[String]): Unit = {\r\n    deserializeFromFile(args(0))\r\n  }\r\n\r\n  private def deserializeFromFile(fileName: String): Unit = {\r\n    val file: FileInputStream = new FileInputStream(fileName)\r\n    val input: ObjectInputStream = new ObjectInputStream(file)\r\n    val output = input.readObject.asInstanceOf[Symbol]\r\n    println(output.name)\r\n  }\r\n}\r\n```","title":"Deserialization issue for Scala.Symbol, in Scala 2.12 version, for Scala.Symbol Serialized in Scala 2.11","body":"<p>Can you run Scala 2.11 from Scala 2.12 for deserialization or will it be too slow?</p>\n<pre class=\"lang-scala prettyprint-override\"><code>// Scala 2.12\nimport sys.process._\n\nSymbol(&quot;scala-2.11.12/bin/scala path_to_deserializer/Deserializer.scala path_to_file/file.ser&quot;.!!)\n// 'someSymbol\n</code></pre>\n<pre class=\"lang-scala prettyprint-override\"><code>// Deserializer.scala\nimport java.io.{FileInputStream, ObjectInputStream}\n\nobject Deserializer {\n  def main(args: Array[String]): Unit = {\n    deserializeFromFile(args(0))\n  }\n\n  private def deserializeFromFile(fileName: String): Unit = {\n    val file: FileInputStream = new FileInputStream(fileName)\n    val input: ObjectInputStream = new ObjectInputStream(file)\n    val output = input.readObject.asInstanceOf[Symbol]\n    println(output.name)\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4656152,"reputation":23,"user_id":3771712,"display_name":"user3771712"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668755504,"creation_date":1668755504,"answer_id":74486077,"question_id":74460752,"body_markdown":"I have fixed the issue by downgrading scala version from 2.12.17 to 2.12.6.\r\n","title":"Deserialization issue for Scala.Symbol, in Scala 2.12 version, for Scala.Symbol Serialized in Scala 2.11","body":"<p>I have fixed the issue by downgrading scala version from 2.12.17 to 2.12.6.</p>\n"}],"owner":{"account_id":4656152,"reputation":23,"user_id":3771712,"display_name":"user3771712"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74486077,"answer_count":2,"score":1,"last_activity_date":1668755504,"creation_date":1668603099,"question_id":74460752,"body_markdown":"```\r\nimport java.io. {FileInputStream, FileOutputStream, ObjectInputStream, ObjectOutputStream}\r\nobject SymbolSerializeDemo {\r\n  def main(args: Array[String]): Unit = {\r\n    val fileName = &quot;file.ser&quot;\r\n    val symbolCheck: Symbol = Symbol(&quot;someSymbol&quot;)\r\n    //serializeToFile(symbolCheck, fileName)\r\n    deserializeFromFile(fileName)\r\n  }\r\n  private def serializeToFile(input: Symbol, fileName: String): Unit = {\r\n    try {\r\n      val file: FileOutputStream = new FileOutputStream(fileName)\r\n      val out: ObjectOutputStream = new ObjectOutputStream(file)\r\n      out.writeObject(input)\r\n    }\r\n  }\r\n  private def deserializeFromFile(fileName: String): Unit = {\r\n    try {\r\n      val file: FileInputStream = new FileInputStream(fileName)\r\n      val input: ObjectInputStream = new ObjectInputStream(file)\r\n      val output = input.readObject.asInstanceOf[Symbol]\r\n      println(&quot;Symbol after deseralization &quot; + output.name)\r\n    }\r\n  }\r\n}\r\n```\r\nI am trying to deserialized scala symbol,  serialized in scala 2.11 but I am getting error as `java.io.InvalidClassException: scala.Symbol; local class incompatible: stream classdesc serialVersionUID = 2966401305346518859, local class serialVersionUID = 6865603221856321286` Can we write custom serialization for this or any other option?\r\n\r\nI tried adding serialVersionUID for class as well as for Symbol","title":"Deserialization issue for Scala.Symbol, in Scala 2.12 version, for Scala.Symbol Serialized in Scala 2.11","body":"<pre><code>import java.io. {FileInputStream, FileOutputStream, ObjectInputStream, ObjectOutputStream}\nobject SymbolSerializeDemo {\n  def main(args: Array[String]): Unit = {\n    val fileName = &quot;file.ser&quot;\n    val symbolCheck: Symbol = Symbol(&quot;someSymbol&quot;)\n    //serializeToFile(symbolCheck, fileName)\n    deserializeFromFile(fileName)\n  }\n  private def serializeToFile(input: Symbol, fileName: String): Unit = {\n    try {\n      val file: FileOutputStream = new FileOutputStream(fileName)\n      val out: ObjectOutputStream = new ObjectOutputStream(file)\n      out.writeObject(input)\n    }\n  }\n  private def deserializeFromFile(fileName: String): Unit = {\n    try {\n      val file: FileInputStream = new FileInputStream(fileName)\n      val input: ObjectInputStream = new ObjectInputStream(file)\n      val output = input.readObject.asInstanceOf[Symbol]\n      println(&quot;Symbol after deseralization &quot; + output.name)\n    }\n  }\n}\n</code></pre>\n<p>I am trying to deserialized scala symbol,  serialized in scala 2.11 but I am getting error as <code>java.io.InvalidClassException: scala.Symbol; local class incompatible: stream classdesc serialVersionUID = 2966401305346518859, local class serialVersionUID = 6865603221856321286</code> Can we write custom serialization for this or any other option?</p>\n<p>I tried adding serialVersionUID for class as well as for Symbol</p>\n"},{"tags":["java","swing","locale"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668708382,"post_id":74479479,"comment_id":131477744,"body_markdown":"This is a guess but try [this](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/UIDefaults.html#setDefaultLocale(java.util.Locale))","body":"This is a guess but try <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/UIDefaults.html#setDefaultLocale(java.util.Locale)\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":21411227,"reputation":59,"user_id":15771391,"display_name":"Obscuritas"},"score":0,"creation_date":1668708786,"post_id":74479479,"comment_id":131477878,"body_markdown":"@g00se unfortunately didn&#39;t resolve the issue","body":"@g00se unfortunately didn&#39;t resolve the issue"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1668718084,"post_id":74479479,"comment_id":131480923,"body_markdown":"This is another guess, but try repacking the `JFrame`.","body":"This is another guess, but try repacking the <code>JFrame</code>."},{"owner":{"account_id":21411227,"reputation":59,"user_id":15771391,"display_name":"Obscuritas"},"score":0,"creation_date":1668719269,"post_id":74479479,"comment_id":131481287,"body_markdown":"@GilbertLeBlanc what exactly do you mean by repacking?","body":"@GilbertLeBlanc what exactly do you mean by repacking?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1668723992,"post_id":74479479,"comment_id":131482635,"body_markdown":"Call `frame.pack()` again.","body":"Call <code>frame.pack()</code> again."},{"owner":{"account_id":21411227,"reputation":59,"user_id":15771391,"display_name":"Obscuritas"},"score":0,"creation_date":1668758893,"post_id":74479479,"comment_id":131488794,"body_markdown":"@GilbertLeBlanc .pack() didn&#39;t show the desired result","body":"@GilbertLeBlanc .pack() didn&#39;t show the desired result"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1668777097,"post_id":74479479,"comment_id":131494688,"body_markdown":"unfortunately, Swing has no automatic update of localized properties - you have to implement it yourself (keep track of which properties need updates), see f.i. https://stackoverflow.com/questions/14810454/swing-internationalization-how-to-update-language-at-runtime","body":"unfortunately, Swing has no automatic update of localized properties - you have to implement it yourself (keep track of which properties need updates), see f.i. <a href=\"https://stackoverflow.com/questions/14810454/swing-internationalization-how-to-update-language-at-runtime\" title=\"swing internationalization how to update language at runtime\">stackoverflow.com/questions/14810454/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668755156,"creation_date":1668755156,"answer_id":74486010,"question_id":74479479,"body_markdown":"I could not find a way to verify but I think that in order to use a different [ResourceBundle][1] you will need to explicitly load it and then re-set the text of all the components that get their text from the `ResourceBundle`.\r\n\r\nFrom the `ResourceBundle` class *javadoc*:\r\n&gt;Resource bundle instances created by the `getBundle` factory methods are cached\r\n\r\nIn other words, your *properties* files are loaded only once.\r\n\r\nHere is a sample that demonstrates. Method `changeLocale` is called whenever the `JComboBox` selection changes. The below code uses [method references][2] and [switch expressions][3].\r\n\r\nMy environment is JDK 19 on Windows 10.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\nimport java.util.Locale;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\npublic class MyTable {\r\n    private static final String KEY = &quot;key&quot;;\r\n    private static final String NAME;\r\n\r\n    private JFrame frame;\r\n    private JLabel label;\r\n    private ResourceBundle rb;\r\n\r\n    static {\r\n        NAME = MyTable.class.getName().replace(&#39;.&#39;, &#39;/&#39;);\r\n    }\r\n\r\n    public MyTable() {\r\n        rb = ResourceBundle.getBundle(NAME);\r\n    }\r\n\r\n    private void buildAndDisplayGui() {\r\n        frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createCombo(), BorderLayout.PAGE_START);\r\n        frame.add(createLabel(), BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private void changeLocale(ActionEvent event) {\r\n        JComboBox&lt;?&gt; combo = (JComboBox&lt;?&gt;) event.getSource();\r\n        int index = combo.getSelectedIndex();\r\n        Locale newLocale = switch (index) {\r\n                               case 1 -&gt; Locale.of(&quot;de&quot;, &quot;DE&quot;);\r\n                               default -&gt; Locale.of(&quot;en&quot;, &quot;US&quot;);\r\n                           };\r\n        rb = ResourceBundle.getBundle(NAME, newLocale);\r\n        label.setText(rb.getString(KEY));\r\n    }\r\n\r\n    private JPanel createCombo() {\r\n        JPanel panel = new JPanel();\r\n        JComboBox&lt;String&gt; combo = new JComboBox&lt;&gt;(new String[]{&quot;Default&quot;, &quot;German&quot;});\r\n        combo.addActionListener(this::changeLocale);\r\n        panel.add(combo);\r\n        return panel;\r\n    }\r\n\r\n    private JPanel createLabel() {\r\n        JPanel panel = new JPanel();\r\n        label = new JLabel(rb.getString(KEY));\r\n        panel.add(label);\r\n        return panel;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new MyTable().buildAndDisplayGui());\r\n    }\r\n}\r\n```\r\nI have two *properties* files.\r\n\r\n###### MyTable_en_US.properties\r\n```none\r\nkey=Address\r\n```\r\n###### MyTable_de_DE.properties\r\n```none\r\nkey=die Anschrift\r\n```\r\n\r\n[![default][4]][4]\r\n\r\n------------------\r\n\r\n[![german][5]][5]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ResourceBundle.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [3]: https://openjdk.org/jeps/361\r\n  [4]: https://i.stack.imgur.com/59aos.png\r\n  [5]: https://i.stack.imgur.com/JBN8K.png","title":"java how to &quot;refresh&quot; gui after locale change","body":"<p>I could not find a way to verify but I think that in order to use a different <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ResourceBundle.html\" rel=\"nofollow noreferrer\">ResourceBundle</a> you will need to explicitly load it and then re-set the text of all the components that get their text from the <code>ResourceBundle</code>.</p>\n<p>From the <code>ResourceBundle</code> class <em>javadoc</em>:</p>\n<blockquote>\n<p>Resource bundle instances created by the <code>getBundle</code> factory methods are cached</p>\n</blockquote>\n<p>In other words, your <em>properties</em> files are loaded only once.</p>\n<p>Here is a sample that demonstrates. Method <code>changeLocale</code> is called whenever the <code>JComboBox</code> selection changes. The below code uses <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a> and <a href=\"https://openjdk.org/jeps/361\" rel=\"nofollow noreferrer\">switch expressions</a>.</p>\n<p>My environment is JDK 19 on Windows 10.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.util.Locale;\nimport java.util.ResourceBundle;\n\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class MyTable {\n    private static final String KEY = &quot;key&quot;;\n    private static final String NAME;\n\n    private JFrame frame;\n    private JLabel label;\n    private ResourceBundle rb;\n\n    static {\n        NAME = MyTable.class.getName().replace('.', '/');\n    }\n\n    public MyTable() {\n        rb = ResourceBundle.getBundle(NAME);\n    }\n\n    private void buildAndDisplayGui() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createCombo(), BorderLayout.PAGE_START);\n        frame.add(createLabel(), BorderLayout.CENTER);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private void changeLocale(ActionEvent event) {\n        JComboBox&lt;?&gt; combo = (JComboBox&lt;?&gt;) event.getSource();\n        int index = combo.getSelectedIndex();\n        Locale newLocale = switch (index) {\n                               case 1 -&gt; Locale.of(&quot;de&quot;, &quot;DE&quot;);\n                               default -&gt; Locale.of(&quot;en&quot;, &quot;US&quot;);\n                           };\n        rb = ResourceBundle.getBundle(NAME, newLocale);\n        label.setText(rb.getString(KEY));\n    }\n\n    private JPanel createCombo() {\n        JPanel panel = new JPanel();\n        JComboBox&lt;String&gt; combo = new JComboBox&lt;&gt;(new String[]{&quot;Default&quot;, &quot;German&quot;});\n        combo.addActionListener(this::changeLocale);\n        panel.add(combo);\n        return panel;\n    }\n\n    private JPanel createLabel() {\n        JPanel panel = new JPanel();\n        label = new JLabel(rb.getString(KEY));\n        panel.add(label);\n        return panel;\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new MyTable().buildAndDisplayGui());\n    }\n}\n</code></pre>\n<p>I have two <em>properties</em> files.</p>\n<h6>MyTable_en_US.properties</h6>\n<pre class=\"lang-none prettyprint-override\"><code>key=Address\n</code></pre>\n<h6>MyTable_de_DE.properties</h6>\n<pre class=\"lang-none prettyprint-override\"><code>key=die Anschrift\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/59aos.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/59aos.png\" alt=\"default\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/JBN8K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JBN8K.png\" alt=\"german\" /></a></p>\n"}],"owner":{"account_id":21411227,"reputation":59,"user_id":15771391,"display_name":"Obscuritas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668777123,"answer_count":1,"score":0,"last_activity_date":1668755156,"creation_date":1668705023,"question_id":74479479,"body_markdown":"I am currently trying to localize/i18n my application and therefore I created a resource bundle containing one properties file for every language I want to support. Inside my settings tab you can change the language via a combobox and I tried to change the applications current locale as you can see in the following code.\r\n\r\n```java\r\ncomboBox.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n\r\n                switch (Objects.requireNonNull(comboBox.getSelectedItem()).toString()) {\r\n                    case &quot;Deutsch&quot; -&gt; Locale.setDefault(new Locale(&quot;de&quot;, &quot;DE&quot;));\r\n                    case &quot;English&quot; -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;US&quot;));\r\n                }\r\n\r\n                repaint();\r\n            }\r\n        });\r\n```\r\n\r\nI was hoping repaint() would do the trick of changing all of the labels and stuff but it didn&#39;t work. \r\nCan someone point me in the right direction?","title":"java how to &quot;refresh&quot; gui after locale change","body":"<p>I am currently trying to localize/i18n my application and therefore I created a resource bundle containing one properties file for every language I want to support. Inside my settings tab you can change the language via a combobox and I tried to change the applications current locale as you can see in the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>comboBox.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n\n                switch (Objects.requireNonNull(comboBox.getSelectedItem()).toString()) {\n                    case &quot;Deutsch&quot; -&gt; Locale.setDefault(new Locale(&quot;de&quot;, &quot;DE&quot;));\n                    case &quot;English&quot; -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;US&quot;));\n                }\n\n                repaint();\n            }\n        });\n</code></pre>\n<p>I was hoping repaint() would do the trick of changing all of the labels and stuff but it didn't work.\nCan someone point me in the right direction?</p>\n"},{"tags":["java","xml","soap","jaxb"],"answers":[{"tags":[],"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527090609,"creation_date":1510847444,"answer_id":47333900,"question_id":47333185,"body_markdown":"IMO, **you should consider using tools to handle SOAP messages instead of doing it on your own**.\r\n\r\nExamples :\r\n\r\n - [Java EE 5 Tutorial : Creating a Simple Web Service and Client with JAX-WS][1]\r\n - [Spring Boot : Consuming a SOAP message][2]\r\n\r\n\r\n----------\r\n\r\n\r\nEDIT\r\n----\r\nThere&#39;s a few things to say about your comment so I&#39;ll put my answer here.\r\n\r\nFirst,\r\n\r\n&gt; I have nothing to do with the API, all I do is make a POST request...\r\n\r\nYou have *nothing to do with the API* but you *make a POST request* to the API.\r\nI think this is a figure of speech, right ?...\r\n\r\n&gt; and there&#39;s no wsdl....\r\n\r\nYou can almost always get the WSDL of a SOAP webservice with this little trick. Just add `?wsdl` at the end of the SOAP webservice URL.\r\n\r\n**Example :**\r\n\r\nHere&#39;s the URL of a SOAP webservice on the web (a real one) : http://www.webservicex.com/stockquote.asmx\r\n\r\nYou can get its WSDL like this : http://www.webservicex.com/stockquote.asmx?wsdl\r\n\r\n&gt; So the only option is to parse the response\r\n\r\nIMO, there&#39;s almost always more than one solution to a problem in software development.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/5/tutorial/doc/bnayn.html\r\n  [2]: https://spring.io/guides/gs/consuming-web-service/","title":"Convert Soap XML response to Object","body":"<p>IMO, <strong>you should consider using tools to handle SOAP messages instead of doing it on your own</strong>.</p>\n\n<p>Examples :</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javaee/5/tutorial/doc/bnayn.html\" rel=\"nofollow noreferrer\">Java EE 5 Tutorial : Creating a Simple Web Service and Client with JAX-WS</a></li>\n<li><a href=\"https://spring.io/guides/gs/consuming-web-service/\" rel=\"nofollow noreferrer\">Spring Boot : Consuming a SOAP message</a></li>\n</ul>\n\n<hr>\n\n<h2>EDIT</h2>\n\n<p>There's a few things to say about your comment so I'll put my answer here.</p>\n\n<p>First,</p>\n\n<blockquote>\n  <p>I have nothing to do with the API, all I do is make a POST request...</p>\n</blockquote>\n\n<p>You have <em>nothing to do with the API</em> but you <em>make a POST request</em> to the API.\nI think this is a figure of speech, right ?...</p>\n\n<blockquote>\n  <p>and there's no wsdl....</p>\n</blockquote>\n\n<p>You can almost always get the WSDL of a SOAP webservice with this little trick. Just add <code>?wsdl</code> at the end of the SOAP webservice URL.</p>\n\n<p><strong>Example :</strong></p>\n\n<p>Here's the URL of a SOAP webservice on the web (a real one) : <a href=\"http://www.webservicex.com/stockquote.asmx\" rel=\"nofollow noreferrer\">http://www.webservicex.com/stockquote.asmx</a></p>\n\n<p>You can get its WSDL like this : <a href=\"http://www.webservicex.com/stockquote.asmx?wsdl\" rel=\"nofollow noreferrer\">http://www.webservicex.com/stockquote.asmx?wsdl</a></p>\n\n<blockquote>\n  <p>So the only option is to parse the response</p>\n</blockquote>\n\n<p>IMO, there's almost always more than one solution to a problem in software development.</p>\n"},{"tags":[],"owner":{"account_id":9429251,"reputation":129,"user_id":7013317,"display_name":"Zibaire"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1510850028,"creation_date":1510848171,"answer_id":47334144,"question_id":47333185,"body_markdown":"you can use this code to retrieve a POJO, and also add an @XmlRootElement as header to your POJO.\r\n\r\n(I did&#39;nt test the code below)\r\n\r\n    XMLInputFactory xif = XMLInputFactory.newFactory();\r\n            XMLStreamReader xsr = xif.createXMLStreamReader(new FileReader(&quot;input.xml&quot;));\r\n            xsr.nextTag(); // Advance to Envelope tag\r\n\r\n            xsr.nextTag(); // Advance to Body tag\r\n            xsr.nextTag();\r\n            xsr.nextTag();\r\n\r\n            Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n            StringWriter stringWriter = new StringWriter();\r\n            transformer.transform(new StAXSource(xsr), new StreamResult(stringWriter));\r\n            StringReader sr = new StringReader(stringWriter.toString());\r\n            JAXBContext jaxbContext = JAXBContext.newInstance(LoginResult.class);\r\n            Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\r\n            LoginResult loginResult = (LoginResult) unmarshaller.unmarshal(sr);\r\n\r\n\r\n\r\n\r\n**EDIT :**\r\n\r\nI found a solution for you:\r\n\r\n        @XmlRootElement(name = &quot;LoginResult&quot;, namespace = &quot;http://test.org/ADMail_Service&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class LoginResult {\r\n        @XmlElement(name = &quot;ErrorMessage&quot;, namespace = &quot;http://test.org/ADMail_Service&quot;)\r\n        private String errorMessage;\r\n        @XmlElement(name = &quot;Status&quot;, namespace = &quot;http://test.org/ADMail_Service&quot;)\r\n        private String status;\r\n    \r\n        public String getErrorMessage() {\r\n            return errorMessage;\r\n        }\r\n    \r\n        public void setErrorMessage(String errorMessage) {\r\n            this.errorMessage = errorMessage;\r\n        }\r\n    \r\n        public String getStatus() {\r\n            return status;\r\n        }\r\n    \r\n        public void setStatus(String status) {\r\n            this.status = status;\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n            try {\r\n                XMLInputFactory xif = XMLInputFactory.newFactory();\r\n                XMLStreamReader xsr = xif.createXMLStreamReader(new FileReader(&quot;input.xml&quot;));\r\n                xsr.nextTag(); // Advance to Envelope tag\r\n    \r\n                xsr.nextTag(); // Advance to Body tag\r\n                xsr.nextTag();\r\n                xsr.nextTag();\r\n    \r\n    \r\n                JAXBContext jc = JAXBContext.newInstance(LoginResult.class);\r\n                Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n                JAXBElement&lt;LoginResult&gt; je = unmarshaller.unmarshal(xsr, LoginResult.class);\r\n    \r\n                System.out.println(je.getName());\r\n                System.out.println(je.getValue());\r\n                System.out.println(je.getValue().getErrorMessage());\r\n            } catch (XMLStreamException e) {\r\n                e.printStackTrace();\r\n            } catch (JAXBException e) {\r\n                e.printStackTrace();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }","title":"Convert Soap XML response to Object","body":"<p>you can use this code to retrieve a POJO, and also add an @XmlRootElement as header to your POJO.</p>\n\n<p>(I did'nt test the code below)</p>\n\n<pre><code>XMLInputFactory xif = XMLInputFactory.newFactory();\n        XMLStreamReader xsr = xif.createXMLStreamReader(new FileReader(\"input.xml\"));\n        xsr.nextTag(); // Advance to Envelope tag\n\n        xsr.nextTag(); // Advance to Body tag\n        xsr.nextTag();\n        xsr.nextTag();\n\n        Transformer transformer = TransformerFactory.newInstance().newTransformer();\n        StringWriter stringWriter = new StringWriter();\n        transformer.transform(new StAXSource(xsr), new StreamResult(stringWriter));\n        StringReader sr = new StringReader(stringWriter.toString());\n        JAXBContext jaxbContext = JAXBContext.newInstance(LoginResult.class);\n        Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\n        LoginResult loginResult = (LoginResult) unmarshaller.unmarshal(sr);\n</code></pre>\n\n<p><strong>EDIT :</strong></p>\n\n<p>I found a solution for you:</p>\n\n<pre><code>    @XmlRootElement(name = \"LoginResult\", namespace = \"http://test.org/ADMail_Service\")\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class LoginResult {\n    @XmlElement(name = \"ErrorMessage\", namespace = \"http://test.org/ADMail_Service\")\n    private String errorMessage;\n    @XmlElement(name = \"Status\", namespace = \"http://test.org/ADMail_Service\")\n    private String status;\n\n    public String getErrorMessage() {\n        return errorMessage;\n    }\n\n    public void setErrorMessage(String errorMessage) {\n        this.errorMessage = errorMessage;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n}\n\n\npublic static void main(String[] args) {\n        try {\n            XMLInputFactory xif = XMLInputFactory.newFactory();\n            XMLStreamReader xsr = xif.createXMLStreamReader(new FileReader(\"input.xml\"));\n            xsr.nextTag(); // Advance to Envelope tag\n\n            xsr.nextTag(); // Advance to Body tag\n            xsr.nextTag();\n            xsr.nextTag();\n\n\n            JAXBContext jc = JAXBContext.newInstance(LoginResult.class);\n            Unmarshaller unmarshaller = jc.createUnmarshaller();\n            JAXBElement&lt;LoginResult&gt; je = unmarshaller.unmarshal(xsr, LoginResult.class);\n\n            System.out.println(je.getName());\n            System.out.println(je.getValue());\n            System.out.println(je.getValue().getErrorMessage());\n        } catch (XMLStreamException e) {\n            e.printStackTrace();\n        } catch (JAXBException e) {\n            e.printStackTrace();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3740643,"reputation":935,"user_id":3110488,"display_name":"m.nguyencntt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628222886,"creation_date":1628222886,"answer_id":68676021,"question_id":47333185,"body_markdown":"After sometimes, I found this code for parsing soapxml object to java object.\r\n\r\n    private &lt;T&gt; T getJavaObjectFromSoapXml(String responseFilePath, Class&lt;T&gt; clazz) {\r\n    try {\r\n      XMLInputFactory xif = XMLInputFactory.newFactory();\r\n      StreamSource xml = new StreamSource(getClass().getResourceAsStream(responseFilePath));\r\n      XMLStreamReader xsr = xif.createXMLStreamReader(xml);\r\n      xsr.nextTag();\r\n      while (!xsr.getLocalName().equalsIgnoreCase(clazz.getSimpleName())) {\r\n        xsr.nextTag();\r\n      }\r\n\r\n      JAXBContext jc = JAXBContext.newInstance(clazz);\r\n      Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n\r\n      JAXBElement&lt;T&gt; je = unmarshaller.unmarshal(xsr, clazz);\r\n      return je.getValue();\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n      return null;\r\n    }\r\n    }","title":"Convert Soap XML response to Object","body":"<p>After sometimes, I found this code for parsing soapxml object to java object.</p>\n<pre><code>private &lt;T&gt; T getJavaObjectFromSoapXml(String responseFilePath, Class&lt;T&gt; clazz) {\ntry {\n  XMLInputFactory xif = XMLInputFactory.newFactory();\n  StreamSource xml = new StreamSource(getClass().getResourceAsStream(responseFilePath));\n  XMLStreamReader xsr = xif.createXMLStreamReader(xml);\n  xsr.nextTag();\n  while (!xsr.getLocalName().equalsIgnoreCase(clazz.getSimpleName())) {\n    xsr.nextTag();\n  }\n\n  JAXBContext jc = JAXBContext.newInstance(clazz);\n  Unmarshaller unmarshaller = jc.createUnmarshaller();\n\n  JAXBElement&lt;T&gt; je = unmarshaller.unmarshal(xsr, clazz);\n  return je.getValue();\n} catch (Exception e) {\n  e.printStackTrace();\n  return null;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11330807,"reputation":479,"user_id":8308399,"display_name":"Brian Brix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668754652,"creation_date":1668754652,"answer_id":74485921,"question_id":47333185,"body_markdown":"```\r\npublic  &lt;T&gt; T getJavaObjectFromSoapXml(String response, Class&lt;T&gt; clazz) {\r\n        try {\r\n            XMLInputFactory xif = XMLInputFactory.newFactory();\r\n            StreamSource xml = new StreamSource(response);\r\n            XMLStreamReader xsr = xif.createXMLStreamReader(new StringReader(response));\r\n            xsr.nextTag();\r\n            while (!xsr.getLocalName().equalsIgnoreCase(clazz.getSimpleName())) {\r\n                log.info(&quot;TAG :{}&quot;,xsr.nextTag());\r\n            }\r\n\r\n            Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n            StringWriter stringWriter = new StringWriter();\r\n            transformer.transform(new StAXSource(xsr), new StreamResult(stringWriter));\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder builder = factory.newDocumentBuilder();\r\n\r\n            Document document = builder.parse(new InputSource(new StringReader(stringWriter.toString())));\r\n            JAXBContext jaxbContext = JAXBContext.newInstance(clazz);\r\n            Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\r\n            T t = (T) unmarshaller.unmarshal(document);\r\n            return t;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n```","title":"Convert Soap XML response to Object","body":"<pre><code>public  &lt;T&gt; T getJavaObjectFromSoapXml(String response, Class&lt;T&gt; clazz) {\n        try {\n            XMLInputFactory xif = XMLInputFactory.newFactory();\n            StreamSource xml = new StreamSource(response);\n            XMLStreamReader xsr = xif.createXMLStreamReader(new StringReader(response));\n            xsr.nextTag();\n            while (!xsr.getLocalName().equalsIgnoreCase(clazz.getSimpleName())) {\n                log.info(&quot;TAG :{}&quot;,xsr.nextTag());\n            }\n\n            Transformer transformer = TransformerFactory.newInstance().newTransformer();\n            StringWriter stringWriter = new StringWriter();\n            transformer.transform(new StAXSource(xsr), new StreamResult(stringWriter));\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n            DocumentBuilder builder = factory.newDocumentBuilder();\n\n            Document document = builder.parse(new InputSource(new StringReader(stringWriter.toString())));\n            JAXBContext jaxbContext = JAXBContext.newInstance(clazz);\n            Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\n            T t = (T) unmarshaller.unmarshal(document);\n            return t;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6510674,"reputation":1729,"user_id":5038073,"accept_rate":70,"display_name":"Ayo K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40864,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":47334144,"answer_count":4,"score":5,"last_activity_date":1668754652,"creation_date":1510845331,"question_id":47333185,"body_markdown":"i&#39;m new to working with SOAP API&#39;s\r\n\r\nI have a soap response from an API\r\n\r\n\t&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n\t&lt;soapenv:Body&gt;\r\n\t&lt;LoginResponse xmlns=&quot;http://test.org/ADMail_Service&quot;&gt;\r\n\t&lt;LoginResult&gt;\r\n\t&lt;ErrorMessage&gt;Successful login&lt;/ErrorMessage&gt;\r\n\t&lt;Status&gt;true&lt;/Status&gt;\r\n\t&lt;/LoginResult&gt;\r\n\t&lt;/LoginResponse&gt;\r\n\t&lt;/soapenv:Body&gt;\r\n\t&lt;/soapenv:Envelope&gt;\r\n\r\nI&#39;m trying to transform this into an object.\r\n\r\nFrom reading articles online I&#39;m trying to use JAXB to do this, but my object is empty. \r\n\r\nHere&#39;s the code for reading the response. I wrote the response to an xml file for test purposes:\r\n\r\n\ttry {\r\n\t\tXMLInputFactory xif = XMLInputFactory.newFactory();\r\n\t\tXMLStreamReader xsr = xif.createXMLStreamReader(new FileReader(&quot;input.xml&quot;));\r\n\t\txsr.nextTag(); // Advance to Envelope tag\r\n\r\n\t\txsr.nextTag(); // Advance to Body tag\r\n\t\txsr.nextTag();\r\n\t\txsr.nextTag();\r\n\t\t\r\n\r\n\t\tJAXBContext jc = JAXBContext.newInstance(LoginResult.class);\r\n\t\tUnmarshaller unmarshaller = jc.createUnmarshaller();\r\n\t\tJAXBElement&lt;LoginResult&gt; je = unmarshaller.unmarshal(xsr, LoginResult.class);\r\n\r\n\t\tSystem.out.println(je.getName());\r\n\t\tSystem.out.println(je.getValue());\r\n\t} catch (XMLStreamException e) {\r\n\t\te.printStackTrace();\r\n\t} catch (JAXBException e) {\r\n\t\te.printStackTrace();\r\n\t} catch (FileNotFoundException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\r\nThe `LoginResult` class:\r\n\r\n\tpublic class LoginResult {\r\n\t\tprivate String errorMessage;\r\n\t\tprivate String status;\r\n\r\n\t\tpublic String getErrorMessage() {\r\n\t\t\treturn errorMessage;\r\n\t\t}\r\n\r\n\t\tpublic void setErrorMessage(String errorMessage) {\r\n\t\t\tthis.errorMessage = errorMessage;\r\n\t\t}\r\n\r\n\t\tpublic String getStatus() {\r\n\t\t\treturn status;\r\n\t\t}\r\n\r\n\t\tpublic void setStatus(String status) {\r\n\t\t\tthis.status = status;\r\n\t\t}\r\n\t}\r\n\r\nThanks in advance!\r\n\r\n\r\n\r\n","title":"Convert Soap XML response to Object","body":"<p>i'm new to working with SOAP API's</p>\n\n<p>I have a soap response from an API</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n&lt;soapenv:Body&gt;\n&lt;LoginResponse xmlns=\"http://test.org/ADMail_Service\"&gt;\n&lt;LoginResult&gt;\n&lt;ErrorMessage&gt;Successful login&lt;/ErrorMessage&gt;\n&lt;Status&gt;true&lt;/Status&gt;\n&lt;/LoginResult&gt;\n&lt;/LoginResponse&gt;\n&lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>I'm trying to transform this into an object.</p>\n\n<p>From reading articles online I'm trying to use JAXB to do this, but my object is empty. </p>\n\n<p>Here's the code for reading the response. I wrote the response to an xml file for test purposes:</p>\n\n<pre><code>try {\n    XMLInputFactory xif = XMLInputFactory.newFactory();\n    XMLStreamReader xsr = xif.createXMLStreamReader(new FileReader(\"input.xml\"));\n    xsr.nextTag(); // Advance to Envelope tag\n\n    xsr.nextTag(); // Advance to Body tag\n    xsr.nextTag();\n    xsr.nextTag();\n\n\n    JAXBContext jc = JAXBContext.newInstance(LoginResult.class);\n    Unmarshaller unmarshaller = jc.createUnmarshaller();\n    JAXBElement&lt;LoginResult&gt; je = unmarshaller.unmarshal(xsr, LoginResult.class);\n\n    System.out.println(je.getName());\n    System.out.println(je.getValue());\n} catch (XMLStreamException e) {\n    e.printStackTrace();\n} catch (JAXBException e) {\n    e.printStackTrace();\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>The <code>LoginResult</code> class:</p>\n\n<pre><code>public class LoginResult {\n    private String errorMessage;\n    private String status;\n\n    public String getErrorMessage() {\n        return errorMessage;\n    }\n\n    public void setErrorMessage(String errorMessage) {\n        this.errorMessage = errorMessage;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n}\n</code></pre>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","reactjs","spring-boot","annotations"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667218882,"post_id":74263133,"comment_id":131111013,"body_markdown":"Which HTTP method are you trying to access? POST or PUT","body":"Which HTTP method are you trying to access? POST or PUT"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667219245,"post_id":74263133,"comment_id":131111165,"body_markdown":"Are you using spring security in the backend?","body":"Are you using spring security in the backend?"},{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667223260,"post_id":74263133,"comment_id":131112649,"body_markdown":"This is a known issue while using spring-boot please checkout the last part of this answer https://stackoverflow.com/a/46372630/3651739","body":"This is a known issue while using spring-boot please checkout the last part of this answer <a href=\"https://stackoverflow.com/a/46372630/3651739\">stackoverflow.com/a/46372630/3651739</a>"},{"owner":{"account_id":22091685,"reputation":251,"user_id":16349670,"display_name":"Nimasha Madhushani"},"score":0,"creation_date":1667229179,"post_id":74263133,"comment_id":131115012,"body_markdown":"I tried to do a update using PUT method. and I use spring security in backend","body":"I tried to do a update using PUT method. and I use spring security in backend"}],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667225888,"creation_date":1667225888,"answer_id":74264678,"question_id":74263133,"body_markdown":"I assume you are using spring security.\r\n@CrossOrigin filter might have a lower precedence over spring security filters. Try to configure CORS using spring security.","title":"Access to XMLHttpRequest at &#39;http://localhost:8080/blog/updatePost/2&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy:","body":"<p>I assume you are using spring security.\n@CrossOrigin filter might have a lower precedence over spring security filters. Try to configure CORS using spring security.</p>\n"},{"tags":[],"owner":{"account_id":22091685,"reputation":251,"user_id":16349670,"display_name":"Nimasha Madhushani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668754519,"creation_date":1667303741,"answer_id":74275552,"question_id":74263133,"body_markdown":"I resolved my issue with the answer given by @Sanura. Then blockage done by the CORS is avoided.\r\n\r\n     @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.csrf().disable().authorizeRequests().antMatchers(&quot;/auth/login&quot;, &quot;/auth/register&quot;,&quot;/post/savePost&quot;, &quot;/post/**&quot;, &quot;/post/getPost/{id}&quot;,&quot;/post/updatePost/{id}&quot;)\r\n                    .permitAll().anyRequest().authenticated()\r\n                    .and().exceptionHandling().and().sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n            http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n        }\r\nI added the routes to the configure method as above.\r\n\r\nThe below mentioning code sample also can be used instead of this.\r\n\r\n    package com.myapp.springboot.configs;\r\n        import org.springframework.context.annotation.Configuration;\r\n        import org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n        import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n        \r\n        @Configuration\r\n        public class WebMvcConfiguration implements WebMvcConfigurer {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/*&quot;).\r\n                allowedOrigins(&quot;*&quot;).\r\n                allowedMethods(&quot;*&quot;).\r\n                allowedHeaders(&quot;*&quot;).\r\n                allowCredentials(true);\r\n            }\r\n        }\r\n\r\nThank you for your support.","title":"Access to XMLHttpRequest at &#39;http://localhost:8080/blog/updatePost/2&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy:","body":"<p>I resolved my issue with the answer given by @Sanura. Then blockage done by the CORS is avoided.</p>\n<pre><code> @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeRequests().antMatchers(&quot;/auth/login&quot;, &quot;/auth/register&quot;,&quot;/post/savePost&quot;, &quot;/post/**&quot;, &quot;/post/getPost/{id}&quot;,&quot;/post/updatePost/{id}&quot;)\n                .permitAll().anyRequest().authenticated()\n                .and().exceptionHandling().and().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n</code></pre>\n<p>I added the routes to the configure method as above.</p>\n<p>The below mentioning code sample also can be used instead of this.</p>\n<pre><code>package com.myapp.springboot.configs;\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.web.servlet.config.annotation.CorsRegistry;\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n    \n    @Configuration\n    public class WebMvcConfiguration implements WebMvcConfigurer {\n        @Override\n        public void addCorsMappings(CorsRegistry registry) {\n            registry.addMapping(&quot;/*&quot;).\n            allowedOrigins(&quot;*&quot;).\n            allowedMethods(&quot;*&quot;).\n            allowedHeaders(&quot;*&quot;).\n            allowCredentials(true);\n        }\n    }\n</code></pre>\n<p>Thank you for your support.</p>\n"}],"owner":{"account_id":22091685,"reputation":251,"user_id":16349670,"display_name":"Nimasha Madhushani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74264678,"answer_count":2,"score":0,"last_activity_date":1668754519,"creation_date":1667218539,"question_id":74263133,"body_markdown":"Even though I used @CrossOrigin annotation this error still appears. Spring boot app is running on 8080 port and react app is running on 3000 port.\r\n\r\n[![image of backend controller][1]][1]\r\n\r\n\r\nError:\r\n\r\n\r\n[![Error in console][2]][2]\r\n\r\n\r\nIf further information is needed, please let me know.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7urvA.png\r\n  [2]: https://i.stack.imgur.com/uRUUg.png","title":"Access to XMLHttpRequest at &#39;http://localhost:8080/blog/updatePost/2&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy:","body":"<p>Even though I used @CrossOrigin annotation this error still appears. Spring boot app is running on 8080 port and react app is running on 3000 port.</p>\n<p><a href=\"https://i.stack.imgur.com/7urvA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7urvA.png\" alt=\"image of backend controller\" /></a></p>\n<p>Error:</p>\n<p><a href=\"https://i.stack.imgur.com/uRUUg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uRUUg.png\" alt=\"Error in console\" /></a></p>\n<p>If further information is needed, please let me know.</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":1500087,"reputation":437,"user_id":3129549,"accept_rate":100,"display_name":"Bato"},"score":0,"creation_date":1428673719,"post_id":29562471,"comment_id":47275885,"body_markdown":"I&#39;m rebuilding the code after each change and refreshing the page in Firefox with Ctrl+F5. I&#39;ve also tried using Chrome. I run the webapp with `gradle bootRun`","body":"I&#39;m rebuilding the code after each change and refreshing the page in Firefox with Ctrl+F5. I&#39;ve also tried using Chrome. I run the webapp with <code>gradle bootRun</code>"},{"owner":{"account_id":1500087,"reputation":437,"user_id":3129549,"accept_rate":100,"display_name":"Bato"},"score":0,"creation_date":1428673871,"post_id":29562471,"comment_id":47276004,"body_markdown":"If I open the `html` file directly in the browser, the page is formatted correctly with the css file.","body":"If I open the <code>html</code> file directly in the browser, the page is formatted correctly with the css file."},{"owner":{"account_id":20040570,"reputation":66,"user_id":14691363,"display_name":"Telamon"},"score":0,"creation_date":1617801152,"post_id":29562471,"comment_id":118407740,"body_markdown":"Remove the @EnableWebMvc annotation as already mentioned. See also https://stackoverflow.com/a/37205978/14691363","body":"Remove the @EnableWebMvc annotation as already mentioned. See also <a href=\"https://stackoverflow.com/a/37205978/14691363\">stackoverflow.com/a/37205978/14691363</a>"}],"answers":[{"tags":[],"owner":{"account_id":248570,"reputation":2517,"user_id":524010,"display_name":"Sezin Karli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428672878,"creation_date":1428672319,"answer_id":29562657,"question_id":29562471,"body_markdown":"My advice is to put (again) `css` folder under `static` folder, remove addResourcesHandlers and reach css with absolute path (e.g. `/css/style.css`).","title":"SpringBoot with Thymeleaf - css not found","body":"<p>My advice is to put (again) <code>css</code> folder under <code>static</code> folder, remove addResourcesHandlers and reach css with absolute path (e.g. <code>/css/style.css</code>).</p>\n"},{"tags":[],"owner":{"account_id":460364,"reputation":1532,"user_id":861403,"accept_rate":100,"display_name":"MystyxMac"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1428672780,"creation_date":1428672780,"answer_id":29562828,"question_id":29562471,"body_markdown":"If you put your css in the static folder, you dont need the addResourceHandlers method.\r\n    \r\n    .../static/css/app.css\r\n\r\nOr if you really want to put them in the assets folder:\r\n\r\n    .addResourceLocations(&quot;classpath:/assets/&quot;) &lt;-- without the * at the end\r\n    .../assets/css/app/css\r\n\r\nin both cases the css should be available through\r\n\r\n    th:href=&quot;@{/css/app.css}&quot;","title":"SpringBoot with Thymeleaf - css not found","body":"<p>If you put your css in the static folder, you dont need the addResourceHandlers method.</p>\n\n<pre><code>.../static/css/app.css\n</code></pre>\n\n<p>Or if you really want to put them in the assets folder:</p>\n\n<pre><code>.addResourceLocations(\"classpath:/assets/\") &lt;-- without the * at the end\n.../assets/css/app/css\n</code></pre>\n\n<p>in both cases the css should be available through</p>\n\n<pre><code>th:href=\"@{/css/app.css}\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":532733,"reputation":14515,"user_id":1251350,"accept_rate":93,"display_name":"Faraj Farook"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1428692656,"creation_date":1428692656,"answer_id":29568930,"question_id":29562471,"body_markdown":"**1. Using Custom Resource Path**\r\n    \r\nIn your Web Config\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n      if (!registry.hasMappingForPattern(&quot;/assets/**&quot;)) {\r\n         registry.addResourceHandler(&quot;/assets/**&quot;).addResourceLocations(&quot;classpath:/assets/&quot;);\r\n      }\r\n    }\r\n\r\nPut your `style.css` file inside this folder\r\n\r\n`src/main/resources/assets/css/`\r\n\r\nAfter that in your views \r\n\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/assets/css/style.css}&quot; /&gt;\r\n\r\n.\r\n\r\n**2. Using predefined paths in spring boot**\r\n\r\nRemove `addResourceHandlers` from your web config\r\n\r\nPut the `style.css` inside any of the following folders\r\n\r\n - `src/main/resources/META-INF/resources/assets/css`\r\n - `src/main/resources/resources/assets/css/`\r\n - `src/main/resources/static/assets/css/`\r\n - `src/main/resources/public/assets/css/`\r\n\r\nAnd in the view\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/assets/css/style.css}&quot; /&gt;\r\n\r\n.\r\n\r\n*NOTE: You can remove the `assets` folder here. If you want to do it, remove it from the predefined resource folder and also from the view `th:href`. But i kept it as it is because, you explicitly mentioned the `assets/` path in your question. So I belive it&#39;s your requirement to have `assets/` in your resource URL.*","title":"SpringBoot with Thymeleaf - css not found","body":"<p><strong>1. Using Custom Resource Path</strong></p>\n\n<p>In your Web Config</p>\n\n<pre><code>@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n  if (!registry.hasMappingForPattern(\"/assets/**\")) {\n     registry.addResourceHandler(\"/assets/**\").addResourceLocations(\"classpath:/assets/\");\n  }\n}\n</code></pre>\n\n<p>Put your <code>style.css</code> file inside this folder</p>\n\n<p><code>src/main/resources/assets/css/</code></p>\n\n<p>After that in your views </p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" th:href=\"@{/assets/css/style.css}\" /&gt;\n</code></pre>\n\n<p>.</p>\n\n<p><strong>2. Using predefined paths in spring boot</strong></p>\n\n<p>Remove <code>addResourceHandlers</code> from your web config</p>\n\n<p>Put the <code>style.css</code> inside any of the following folders</p>\n\n<ul>\n<li><code>src/main/resources/META-INF/resources/assets/css</code></li>\n<li><code>src/main/resources/resources/assets/css/</code></li>\n<li><code>src/main/resources/static/assets/css/</code></li>\n<li><code>src/main/resources/public/assets/css/</code></li>\n</ul>\n\n<p>And in the view</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" th:href=\"@{/assets/css/style.css}\" /&gt;\n</code></pre>\n\n<p>.</p>\n\n<p><em>NOTE: You can remove the <code>assets</code> folder here. If you want to do it, remove it from the predefined resource folder and also from the view <code>th:href</code>. But i kept it as it is because, you explicitly mentioned the <code>assets/</code> path in your question. So I belive it's your requirement to have <code>assets/</code> in your resource URL.</em></p>\n"},{"tags":[],"owner":{"account_id":1500087,"reputation":437,"user_id":3129549,"accept_rate":100,"display_name":"Bato"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1428859934,"creation_date":1428858757,"answer_id":29592175,"question_id":29562471,"body_markdown":"The problem was the `@EnableWebMvc` annotation in the `Application.java` file. As soon as I removed that one, the css started to be available at `localhost:8080/css/style.css` but was not applied. So far I haven&#39;t found the reason why the `@EnableWebMvc` was causing the problem.\r\n\r\nThen I removed a controller mapped to `/**` that I had implemented in order to display custom error page.\r\n\r\n    @RequestMapping(&quot;/**&quot;)\r\n    public String notFound() {\r\n        return &quot;errors/404&quot;;\r\n    }\r\nAfter removing also this one, I&#39;ve got my css working. =) \r\n","title":"SpringBoot with Thymeleaf - css not found","body":"<p>The problem was the <code>@EnableWebMvc</code> annotation in the <code>Application.java</code> file. As soon as I removed that one, the css started to be available at <code>localhost:8080/css/style.css</code> but was not applied. So far I haven't found the reason why the <code>@EnableWebMvc</code> was causing the problem.</p>\n\n<p>Then I removed a controller mapped to <code>/**</code> that I had implemented in order to display custom error page.</p>\n\n<pre><code>@RequestMapping(\"/**\")\npublic String notFound() {\n    return \"errors/404\";\n}\n</code></pre>\n\n<p>After removing also this one, I've got my css working. =) </p>\n"},{"tags":[],"owner":{"account_id":8596477,"reputation":1053,"user_id":6439357,"display_name":"L01c"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470220474,"creation_date":1470220474,"answer_id":38741133,"question_id":29562471,"body_markdown":"Put your css folder inside **resources/static** folder","title":"SpringBoot with Thymeleaf - css not found","body":"<p>Put your css folder inside <strong>resources/static</strong> folder</p>\n"},{"tags":[],"owner":{"account_id":13684009,"reputation":35,"user_id":9873566,"display_name":"Grant Murphy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564587180,"creation_date":1564587180,"answer_id":57294364,"question_id":29562471,"body_markdown":"For me I had to remove the static reference to the stylesheet for it to work in thymeleaf.\r\nSo\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;../assets/css/style.css&quot; th:href=&quot;@{/css/style.css}&quot;&gt;\r\n\r\nBecame\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/bootstrap.css}&quot;&gt; \r\n\r\nI spent hours trying all sorts of configurations and file path renaming.  Don&#39;t know why but this is the only thing that got my css and js to load in Spring Boot 5.\r\n","title":"SpringBoot with Thymeleaf - css not found","body":"<p>For me I had to remove the static reference to the stylesheet for it to work in thymeleaf.\nSo</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" media=\"all\" href=\"../assets/css/style.css\" th:href=\"@{/css/style.css}\"&gt;\n</code></pre>\n\n<p>Became</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" th:href=\"@{/css/bootstrap.css}\"&gt; \n</code></pre>\n\n<p>I spent hours trying all sorts of configurations and file path renaming.  Don't know why but this is the only thing that got my css and js to load in Spring Boot 5.</p>\n"},{"tags":[],"owner":{"account_id":18131783,"reputation":11,"user_id":13186803,"display_name":" "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637779799,"creation_date":1637779799,"answer_id":70101469,"question_id":29562471,"body_markdown":"In my case the problem was in file read permissions.\r\nI copied the file &#39;style.css&#39; from another project, and browser could not read it.\r\nAfter re-creating &#39;style.css&#39;, everything worked fine.","title":"SpringBoot with Thymeleaf - css not found","body":"<p>In my case the problem was in file read permissions.\nI copied the file 'style.css' from another project, and browser could not read it.\nAfter re-creating 'style.css', everything worked fine.</p>\n"},{"tags":[],"owner":{"account_id":17607784,"reputation":141,"user_id":12776496,"display_name":"Mukendi Emmanuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647001216,"creation_date":1647001216,"answer_id":71438438,"question_id":29562471,"body_markdown":"first implements on one of your configuration class with WebMvcConfigurer like this\r\n\r\n    @Configuration\r\n    public class WebMvcConfiguration implements WebMvcConfigurer {\r\n    //and overide this configuration method like this    \r\n    @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web.ignoring().antMatchers(&quot;/webjars/**&quot;, &quot;/resources/**&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\nso now you can overide your HttpSecurity configuration like this\r\n\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter{\r\n     \r\n       @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeRequests()\r\n                            .antMatchers(&quot;/&quot;, &quot;/index&quot;).anonymous()\r\n                            .antMatchers(&quot;/**/*.*&quot;).permitAll()\r\n                    .anyRequest().authenticated();\r\n        }\r\n    }\r\n    \r\n    this (&quot;/**/*.*&quot;) regex text will allow files with anny extension\r\n\r\nand if your are using an webjars libraries like bootstrap add this config to your WebSecurityConfiguration \r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n    }","title":"SpringBoot with Thymeleaf - css not found","body":"<p>first implements on one of your configuration class with WebMvcConfigurer like this</p>\n<pre><code>@Configuration\npublic class WebMvcConfiguration implements WebMvcConfigurer {\n//and overide this configuration method like this    \n@Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/webjars/**&quot;, &quot;/resources/**&quot;);\n    }\n}\n</code></pre>\n<p>so now you can overide your HttpSecurity configuration like this</p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter{\n \n   @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                        .antMatchers(&quot;/&quot;, &quot;/index&quot;).anonymous()\n                        .antMatchers(&quot;/**/*.*&quot;).permitAll()\n                .anyRequest().authenticated();\n    }\n}\n\nthis (&quot;/**/*.*&quot;) regex text will allow files with anny extension\n</code></pre>\n<p>and if your are using an webjars libraries like bootstrap add this config to your WebSecurityConfiguration</p>\n<pre><code>@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19544180,"reputation":1,"user_id":14301370,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668754396,"creation_date":1668677602,"answer_id":74473076,"question_id":29562471,"body_markdown":"If this topic still relevant in 2022.\r\nI have had a similar problem and i solved it like this:\r\n\r\nThis link in /templates/file.html\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; ref=&quot;../static/css/styles.css&quot;&gt;\r\n\r\n\r\n\r\nand i have added application.properties\r\n\r\n    spring.mvc.static-path-pattern=/static/**\r\n\r\nmy css path is \r\n\r\n     src/main/resources/static/css/\r\n\r\n\r\n [helpful link][1]\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-static-resources","title":"SpringBoot with Thymeleaf - css not found","body":"<p>If this topic still relevant in 2022.\nI have had a similar problem and i solved it like this:</p>\n<p>This link in /templates/file.html</p>\n<pre><code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; ref=&quot;../static/css/styles.css&quot;&gt;\n</code></pre>\n<p>and i have added application.properties</p>\n<pre><code>spring.mvc.static-path-pattern=/static/**\n</code></pre>\n<p>my css path is</p>\n<pre><code> src/main/resources/static/css/\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-mvc-static-resources\" rel=\"nofollow noreferrer\">helpful link</a></p>\n"}],"owner":{"account_id":1500087,"reputation":437,"user_id":3129549,"accept_rate":100,"display_name":"Bato"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47062,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":29592175,"answer_count":9,"score":14,"last_activity_date":1668754396,"creation_date":1428671864,"question_id":29562471,"body_markdown":"First to say is that I&#39;ve been searching for a solution for a while now and I&#39;m quite desperate now.\r\n\r\nI cannot get the css file to be accessible from html page when run by Spring Boot.\r\n\r\nhtml.file\r\n\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n          xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity3&quot;&gt;\r\n        &lt;head lang=&quot;en&quot;&gt;\r\n            &lt;title th:text=&#39;#{Title}&#39;&gt;AntiIntruder&lt;/title&gt;\r\n            &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n            &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;../assets/css/style.css&quot; th:href=&quot;@{/css/style.css}&quot; /&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n    ...\r\n\r\nApplication.java\r\n\r\n    @SpringBootApplication // adds @Configuration, @EnableAutoConfiguration, @ComponentScan\r\n    @EnableWebMvc\r\n    public class Application extends WebMvcConfigurerAdapter {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/assets/**&quot;).addResourceLocations(&quot;classpath:/assets/*&quot;);\r\n        }\r\n    }\r\n\r\nfolder structure:\r\n\r\n![folder structure][1]\r\n\r\nI&#39;ve tried putting the `css` folder into a `static` folder and/or removing the addResourcesHandlers, referencing to the css by relative path and some other things. Nothing seems to resolve this.\r\nPlease, let me know also if you tried to solve this but did not find a solution, so that I know, that I&#39;m not ignored.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/XoE2d.jpg","title":"SpringBoot with Thymeleaf - css not found","body":"<p>First to say is that I've been searching for a solution for a while now and I'm quite desperate now.</p>\n\n<p>I cannot get the css file to be accessible from html page when run by Spring Boot.</p>\n\n<p>html.file</p>\n\n<pre><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n      xmlns:th=\"http://www.thymeleaf.org\"\n      xmlns:sec=\"http://www.thymeleaf.org/thymeleaf-extras-springsecurity3\"&gt;\n    &lt;head lang=\"en\"&gt;\n        &lt;title th:text='#{Title}'&gt;AntiIntruder&lt;/title&gt;\n        &lt;meta charset=\"UTF-8\" /&gt;\n        &lt;link rel=\"stylesheet\" type=\"text/css\" media=\"all\" href=\"../assets/css/style.css\" th:href=\"@{/css/style.css}\" /&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n...\n</code></pre>\n\n<p>Application.java</p>\n\n<pre><code>@SpringBootApplication // adds @Configuration, @EnableAutoConfiguration, @ComponentScan\n@EnableWebMvc\npublic class Application extends WebMvcConfigurerAdapter {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/assets/**\").addResourceLocations(\"classpath:/assets/*\");\n    }\n}\n</code></pre>\n\n<p>folder structure:</p>\n\n<p><img src=\"https://i.stack.imgur.com/XoE2d.jpg\" alt=\"folder structure\"></p>\n\n<p>I've tried putting the <code>css</code> folder into a <code>static</code> folder and/or removing the addResourcesHandlers, referencing to the css by relative path and some other things. Nothing seems to resolve this.\nPlease, let me know also if you tried to solve this but did not find a solution, so that I know, that I'm not ignored.</p>\n"},{"tags":["java","jlabel"],"comments":[{"owner":{"account_id":1807690,"reputation":3480,"user_id":1644440,"accept_rate":100,"display_name":"Zhedar"},"score":1,"creation_date":1360344109,"post_id":14777926,"comment_id":20689438,"body_markdown":"please also see http://stackoverflow.com/questions/92781/how-do-i-present-text-vertically-in-a-jlabel-java-1-6","body":"please also see <a href=\"http://stackoverflow.com/questions/92781/how-do-i-present-text-vertically-in-a-jlabel-java-1-6\" title=\"how do i present text vertically in a jlabel java 1 6\">stackoverflow.com/questions/92781/&hellip;</a>"},{"owner":{"account_id":2255313,"reputation":1676,"user_id":1986618,"accept_rate":53,"display_name":"Soheil"},"score":0,"creation_date":1360344179,"post_id":14777926,"comment_id":20689471,"body_markdown":"@Zhedar the link which is said there has been expired and neither of answers work","body":"@Zhedar the link which is said there has been expired and neither of answers work"},{"owner":{"account_id":1807690,"reputation":3480,"user_id":1644440,"accept_rate":100,"display_name":"Zhedar"},"score":0,"creation_date":1360344225,"post_id":14777926,"comment_id":20689497,"body_markdown":"the 2nd answer (not accepted) gives another short explanation about the paint-approach.","body":"the 2nd answer (not accepted) gives another short explanation about the paint-approach."},{"owner":{"account_id":2255313,"reputation":1676,"user_id":1986618,"accept_rate":53,"display_name":"Soheil"},"score":0,"creation_date":1360344453,"post_id":14777926,"comment_id":20689613,"body_markdown":"@Zhedar but doesn&#39;t work...:(","body":"@Zhedar but doesn&#39;t work...:("},{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":1,"creation_date":1360352542,"post_id":14777926,"comment_id":20693437,"body_markdown":"I think [this](http://stackoverflow.com/a/6333584/584862) is exactly what you&#39;re looking for.","body":"I think <a href=\"http://stackoverflow.com/a/6333584/584862\">this</a> is exactly what you&#39;re looking for."}],"answers":[{"tags":[],"owner":{"account_id":1734081,"reputation":638,"user_id":2055246,"display_name":"eXa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1668754263,"creation_date":1360344347,"answer_id":14778018,"question_id":14777926,"body_markdown":"You could use the class VerticalLabelUI created by a dev: &lt;s&gt;http://tech.chitgoks.com/2009/11/13/rotate-jlabel-vertically/&lt;/s&gt; (dead link now thanks MadMike for the archive link)\r\n\r\n\r\n\r\n    JLabel jl = new JLabel(&quot;TEST&quot;);\r\n    jl.setUI(new VerticalLabelUI(true));\r\n\r\n\r\nThe VerticalLabelUI class\r\n\r\n    public class VerticalLabelUI extends BasicLabelUI {\r\n    \r\n        static {\r\n            labelUI = new VerticalLabelUI(false);\r\n        }\r\n    \r\n        protected boolean clockwise;\r\n    \r\n        public VerticalLabelUI(boolean clockwise) {\r\n            super();\r\n            this.clockwise = clockwise;\r\n        }\r\n    \r\n        @Override\r\n        public Dimension getPreferredSize(JComponent c) {\r\n        \tDimension dim = super.getPreferredSize(c);\r\n        \treturn new Dimension( dim.height, dim.width );\r\n        }\r\n    \r\n        private static Rectangle paintIconR = new Rectangle();\r\n        private static Rectangle paintTextR = new Rectangle();\r\n        private static Rectangle paintViewR = new Rectangle();\r\n        private static Insets paintViewInsets = new Insets(0, 0, 0, 0);\r\n    \r\n        @Override\r\n        public void paint(Graphics g, JComponent c) {\r\n            JLabel label = (JLabel)c;\r\n            String text = label.getText();\r\n            Icon icon = (label.isEnabled()) ? label.getIcon() : label.getDisabledIcon();\r\n    \r\n            if ((icon == null) &amp;amp;&amp;amp; (text == null)) {\r\n                return;\r\n            }\r\n    \r\n            FontMetrics fm = g.getFontMetrics();\r\n            paintViewInsets = c.getInsets(paintViewInsets);\r\n    \r\n            paintViewR.x = paintViewInsets.left;\r\n            paintViewR.y = paintViewInsets.top;\r\n    \r\n        \t// Use inverted height &amp;amp; width\r\n            paintViewR.height = c.getWidth() - (paintViewInsets.left + paintViewInsets.right);\r\n            paintViewR.width = c.getHeight() - (paintViewInsets.top + paintViewInsets.bottom);\r\n    \r\n            paintIconR.x = paintIconR.y = paintIconR.width = paintIconR.height = 0;\r\n            paintTextR.x = paintTextR.y = paintTextR.width = paintTextR.height = 0;\r\n    \r\n            String clippedText = layoutCL(label, fm, text, icon, paintViewR, paintIconR, paintTextR);\r\n    \r\n        \tGraphics2D g2 = (Graphics2D) g;\r\n        \tAffineTransform tr = g2.getTransform();\r\n        \tif (clockwise) {\r\n                g2.rotate( Math.PI / 2 );\r\n                g2.translate( 0, - c.getWidth() );\r\n        \t} else {\r\n                g2.rotate( - Math.PI / 2 );\r\n                g2.translate( - c.getHeight(), 0 );\r\n        \t}\r\n    \r\n        \tif (icon != null) {\r\n                icon.paintIcon(c, g, paintIconR.x, paintIconR.y);\r\n            }\r\n    \r\n            if (text != null) {\r\n                int textX = paintTextR.x;\r\n                int textY = paintTextR.y + fm.getAscent();\r\n    \r\n                if (label.isEnabled()) {\r\n                    paintEnabledText(label, g, clippedText, textX, textY);\r\n                } else {\r\n                    paintDisabledText(label, g, clippedText, textX, textY);\r\n                }\r\n            }\r\n    \tg2.setTransform( tr );\r\n        }\r\n    \r\n    }","title":"java how to make a JLabel with vertical text?","body":"<p>You could use the class VerticalLabelUI created by a dev: <s>http://tech.chitgoks.com/2009/11/13/rotate-jlabel-vertically/</s> (dead link now thanks MadMike for the archive link)</p>\n<pre><code>JLabel jl = new JLabel(&quot;TEST&quot;);\njl.setUI(new VerticalLabelUI(true));\n</code></pre>\n<p>The VerticalLabelUI class</p>\n<pre><code>public class VerticalLabelUI extends BasicLabelUI {\n\n    static {\n        labelUI = new VerticalLabelUI(false);\n    }\n\n    protected boolean clockwise;\n\n    public VerticalLabelUI(boolean clockwise) {\n        super();\n        this.clockwise = clockwise;\n    }\n\n    @Override\n    public Dimension getPreferredSize(JComponent c) {\n        Dimension dim = super.getPreferredSize(c);\n        return new Dimension( dim.height, dim.width );\n    }\n\n    private static Rectangle paintIconR = new Rectangle();\n    private static Rectangle paintTextR = new Rectangle();\n    private static Rectangle paintViewR = new Rectangle();\n    private static Insets paintViewInsets = new Insets(0, 0, 0, 0);\n\n    @Override\n    public void paint(Graphics g, JComponent c) {\n        JLabel label = (JLabel)c;\n        String text = label.getText();\n        Icon icon = (label.isEnabled()) ? label.getIcon() : label.getDisabledIcon();\n\n        if ((icon == null) &amp;amp;&amp;amp; (text == null)) {\n            return;\n        }\n\n        FontMetrics fm = g.getFontMetrics();\n        paintViewInsets = c.getInsets(paintViewInsets);\n\n        paintViewR.x = paintViewInsets.left;\n        paintViewR.y = paintViewInsets.top;\n\n        // Use inverted height &amp;amp; width\n        paintViewR.height = c.getWidth() - (paintViewInsets.left + paintViewInsets.right);\n        paintViewR.width = c.getHeight() - (paintViewInsets.top + paintViewInsets.bottom);\n\n        paintIconR.x = paintIconR.y = paintIconR.width = paintIconR.height = 0;\n        paintTextR.x = paintTextR.y = paintTextR.width = paintTextR.height = 0;\n\n        String clippedText = layoutCL(label, fm, text, icon, paintViewR, paintIconR, paintTextR);\n\n        Graphics2D g2 = (Graphics2D) g;\n        AffineTransform tr = g2.getTransform();\n        if (clockwise) {\n            g2.rotate( Math.PI / 2 );\n            g2.translate( 0, - c.getWidth() );\n        } else {\n            g2.rotate( - Math.PI / 2 );\n            g2.translate( - c.getHeight(), 0 );\n        }\n\n        if (icon != null) {\n            icon.paintIcon(c, g, paintIconR.x, paintIconR.y);\n        }\n\n        if (text != null) {\n            int textX = paintTextR.x;\n            int textY = paintTextR.y + fm.getAscent();\n\n            if (label.isEnabled()) {\n                paintEnabledText(label, g, clippedText, textX, textY);\n            } else {\n                paintDisabledText(label, g, clippedText, textX, textY);\n            }\n        }\n    g2.setTransform( tr );\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1360345575,"creation_date":1360345575,"answer_id":14778348,"question_id":14777926,"body_markdown":"You can create a method that will transform your text into an `HTML` code like this:\r\n\r\n    public static String transformStringToHtml(String strToTransform) {\r\n        String ans = &quot;&lt;html&gt;&quot;;\r\n        String br = &quot;&lt;br&gt;&quot;;\r\n        String[] lettersArr = strToTransform.split(&quot;&quot;);\r\n        for (String letter : lettersArr) {\r\n            ans += letter + br;\r\n        }\r\n        ans += &quot;&lt;/html&gt;&quot;;\r\n        return ans;\r\n    }\r\n\r\nAfterwards, if you&#39;ll use this method in a `setText` method like this: `someLabel.setText(transformStringToHtml(someString));` where `someString = &quot;Test&quot;` you will receive:\r\n\r\n    T\r\n    e\r\n    s\r\n    t\r\n\r\nin your label.","title":"java how to make a JLabel with vertical text?","body":"<p>You can create a method that will transform your text into an <code>HTML</code> code like this:</p>\n\n<pre><code>public static String transformStringToHtml(String strToTransform) {\n    String ans = \"&lt;html&gt;\";\n    String br = \"&lt;br&gt;\";\n    String[] lettersArr = strToTransform.split(\"\");\n    for (String letter : lettersArr) {\n        ans += letter + br;\n    }\n    ans += \"&lt;/html&gt;\";\n    return ans;\n}\n</code></pre>\n\n<p>Afterwards, if you'll use this method in a <code>setText</code> method like this: <code>someLabel.setText(transformStringToHtml(someString));</code> where <code>someString = \"Test\"</code> you will receive:</p>\n\n<pre><code>T\ne\ns\nt\n</code></pre>\n\n<p>in your label.</p>\n"}],"owner":{"account_id":2255313,"reputation":1676,"user_id":1986618,"accept_rate":53,"display_name":"Soheil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12542,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1360360473,"accepted_answer_id":14778018,"answer_count":2,"score":4,"last_activity_date":1668754263,"creation_date":1360343962,"question_id":14777926,"body_markdown":"i need to make a vertical `JLabel`- a `JLabel` which shows it&#39;s text vertically- i searched google but i didn&#39;t find a good answer. how to do that?\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/2Gwz3.png","title":"java how to make a JLabel with vertical text?","body":"<p>i need to make a vertical <code>JLabel</code>- a <code>JLabel</code> which shows it's text vertically- i searched google but i didn't find a good answer. how to do that?</p>\n\n<p><img src=\"https://i.stack.imgur.com/2Gwz3.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","gradle","dependencies","build.gradle"],"comments":[{"owner":{"account_id":2437651,"reputation":1465,"user_id":2127121,"accept_rate":88,"display_name":"Villat"},"score":0,"creation_date":1570510691,"post_id":58280194,"comment_id":102926476,"body_markdown":"Does it make any difference to use **compile fileTree(dir: &#39;/libs&#39;, include: &#39;*.jar&#39;)** instead of **compile files(&#39;libs/Kitchen.jar&#39;)** ?","body":"Does it make any difference to use <b>compile fileTree(dir: &#39;/libs&#39;, include: &#39;*.jar&#39;)</b> instead of <b>compile files(&#39;libs/Kitchen.jar&#39;)</b> ?"},{"owner":{"account_id":10139154,"reputation":6955,"user_id":7489488,"accept_rate":69,"display_name":"ptk"},"score":0,"creation_date":1570511098,"post_id":58280194,"comment_id":102926554,"body_markdown":"Tried it just then and still not importing properly :(","body":"Tried it just then and still not importing properly :("},{"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"score":0,"creation_date":1570523973,"post_id":58280194,"comment_id":102931122,"body_markdown":"Could you change `compile files(...)` to `implementation files(...)`?","body":"Could you change <code>compile files(...)</code> to <code>implementation files(...)</code>?"},{"owner":{"account_id":10139154,"reputation":6955,"user_id":7489488,"accept_rate":69,"display_name":"ptk"},"score":0,"creation_date":1570524606,"post_id":58280194,"comment_id":102931392,"body_markdown":"@LukasK&#246;rfer gave your suggestion a try (refer to my updated question) but didn&#39;t work for me unfortunately","body":"@LukasK&#246;rfer gave your suggestion a try (refer to my updated question) but didn&#39;t work for me unfortunately"},{"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"score":0,"creation_date":1570525014,"post_id":58280194,"comment_id":102931567,"body_markdown":"Could you run `gradle build` from command line and add the result to your question?","body":"Could you run <code>gradle build</code> from command line and add the result to your question?"},{"owner":{"account_id":10139154,"reputation":6955,"user_id":7489488,"accept_rate":69,"display_name":"ptk"},"score":0,"creation_date":1570525288,"post_id":58280194,"comment_id":102931713,"body_markdown":"@LukasK&#246;rfer just updated question with a more complete screenshot of `gradle build` command. It&#39;s right after the paragraph starting &quot;However, when I run gradle build I get the following error...&quot;","body":"@LukasK&#246;rfer just updated question with a more complete screenshot of <code>gradle build</code> command. It&#39;s right after the paragraph starting &quot;However, when I run gradle build I get the following error...&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1717728,"reputation":706,"user_id":3042703,"display_name":"0xadecimal"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1570602417,"creation_date":1570515629,"answer_id":58281059,"question_id":58280194,"body_markdown":"I think the issue is that you are trying to import a class from an unnamed package (any of the classes within the ```Kitchen.jar```) from a class within a named package (```Kitchen.App```).\r\n\r\nJava does not allow the importing of classes from the default (unnamed) package into named packages - this is what is causing the compile time error you are seeing:\r\n\r\nFrom the [Java Language Specification 7.5.1][1]\r\n\r\n&gt; The type must be either a member of a named package, or a member of a\r\n&gt; type whose outermost lexically enclosing type declaration (&#167;8.1.3) is\r\n&gt; a member of a named package, or a compile-time error occurs.\r\n\r\n\r\nTo fix this issue you can either:\r\n\r\n 1. Ensure that the code shipped in the Kitchen.jar belongs to a named package. If the JAR only contains compiled class files and you don&#39;t have access to the source code then this isn&#39;t an option. If you do have access to the source code and can rebuild this JAR, then you need to put in place a package structure so that the classes are not all sitting in the root of the JAR, e.g:\r\n\r\n    home/util/AbstractFood.java\r\n     \r\n    home/util/Food.java\r\n    \r\n    home/util/Fries.java\r\n    \r\n    home/util/Kitchen.java\r\n    \r\n    home/util/Oven.java\r\n    \r\n    home/util/Potato.java\r\n\r\nwith ```package home.util;``` at the top of each of the files. \r\n\r\nYou should then rebuild the jar and import the classes in your ```App.java``` and ```Oven.java``` using ```import home.util.Kitchen;```, ```import home.util.Oven;``` ,etc.\r\n\r\n 2. Move the code in your named package (```Kitchen```) into the default (unnamed) package. This is not a good idea - we should not be writing code in the default package, but if you can&#39;t execute option 1, this is your only option. What this means is moving your java code (```App.java, Oven.java```) to reside directly in the ```src/main/java``` directory, and also removing any ```package Kitchen``` declaration from the top of these files. You will also need to set ```mainClassName = &#39;App&#39;```\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html\r\n","title":"Can&#39;t import jar file dependency using Gradle and Intellij","body":"<p>I think the issue is that you are trying to import a class from an unnamed package (any of the classes within the <code>Kitchen.jar</code>) from a class within a named package (<code>Kitchen.App</code>).</p>\n\n<p>Java does not allow the importing of classes from the default (unnamed) package into named packages - this is what is causing the compile time error you are seeing:</p>\n\n<p>From the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html\" rel=\"nofollow noreferrer\">Java Language Specification 7.5.1</a></p>\n\n<blockquote>\n  <p>The type must be either a member of a named package, or a member of a\n  type whose outermost lexically enclosing type declaration (8.1.3) is\n  a member of a named package, or a compile-time error occurs.</p>\n</blockquote>\n\n<p>To fix this issue you can either:</p>\n\n<ol>\n<li><p>Ensure that the code shipped in the Kitchen.jar belongs to a named package. If the JAR only contains compiled class files and you don't have access to the source code then this isn't an option. If you do have access to the source code and can rebuild this JAR, then you need to put in place a package structure so that the classes are not all sitting in the root of the JAR, e.g:</p>\n\n<p>home/util/AbstractFood.java</p>\n\n<p>home/util/Food.java</p>\n\n<p>home/util/Fries.java</p>\n\n<p>home/util/Kitchen.java</p>\n\n<p>home/util/Oven.java</p>\n\n<p>home/util/Potato.java</p></li>\n</ol>\n\n<p>with <code>package home.util;</code> at the top of each of the files. </p>\n\n<p>You should then rebuild the jar and import the classes in your <code>App.java</code> and <code>Oven.java</code> using <code>import home.util.Kitchen;</code>, <code>import home.util.Oven;</code> ,etc.</p>\n\n<ol start=\"2\">\n<li>Move the code in your named package (<code>Kitchen</code>) into the default (unnamed) package. This is not a good idea - we should not be writing code in the default package, but if you can't execute option 1, this is your only option. What this means is moving your java code (<code>App.java, Oven.java</code>) to reside directly in the <code>src/main/java</code> directory, and also removing any <code>package Kitchen</code> declaration from the top of these files. You will also need to set <code>mainClassName = 'App'</code></li>\n</ol>\n"}],"owner":{"account_id":10139154,"reputation":6955,"user_id":7489488,"accept_rate":69,"display_name":"ptk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2553,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58281059,"answer_count":1,"score":2,"last_activity_date":1668753557,"creation_date":1570508873,"question_id":58280194,"body_markdown":"Below is my project directory. I am trying use Kitchen.jar (located in libs folder) as a file dependency.\r\n\r\n[![directory][1]][1]\r\n\r\nBelow is my build.gradle file where I attempt to include Kitchen.jar as a dependency.\r\n\r\n    plugins {\r\n        // Apply the java plugin to add support for Java\r\n        id &#39;java&#39;\r\n    \r\n        // Apply the application plugin to add support for building a CLI application\r\n        id &#39;application&#39;\r\n    }\r\n    \r\n    repositories {\r\n        // Use jcenter for resolving dependencies.\r\n        // You can declare any Maven/Ivy/file repository here.\r\n        jcenter()\r\n    }\r\n    \r\n    dependencies {\r\n        // This dependency is used by the application.\r\n        implementation &#39;com.google.guava:guava:27.1-jre&#39;\r\n    \r\n        // Use JUnit test framework\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n    \r\n        compile files(&#39;libs/Kitchen.jar&#39;)\r\n    }\r\n    \r\n    application {\r\n        // Define the main class for the application\r\n        mainClassName = &#39;Kitchen.App&#39;\r\n    }\r\n\r\nHowever, when I run `gradle build` I get a compiler error, which tells me that the Kitchen.jar file has not been imported correctly. &quot;Food&quot; is a class in Kitchen.jar.\r\n\r\n\r\nThis is what the Oven class looks like for some context on what `insertFood` method looks like.\r\n\r\n    package Kitchen;\r\n    /**\r\n     * This class models an oven appliance for cooking food.\r\n     */\r\n    public class Oven {\r\n        private final int maxTemperature;\r\n        private int currentTemperature = 0;\r\n    \r\n        /**\r\n         * Creates an Oven object with a default maximum temperature of 320 degrees Celsius\r\n         */\r\n        public Oven() {\r\n            this(320);\r\n        }\r\n    \r\n        /**\r\n         * Creates an Oven object with a specific maximum temperature\r\n         *\r\n         * @param maxTemperature The maximum temperature this oven can be set to. Cannot be a negative number.\r\n         * @throws IllegalArgumentException If the maxTemperature is negative\r\n         */\r\n        public Oven(int maxTemperature) {\r\n            if (maxTemperature &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;Invalid temperature&quot;);\r\n            }\r\n            this.maxTemperature = maxTemperature;\r\n        }\r\n    \r\n        /**\r\n         * Sets the current temperature of the oven to the given value\r\n         *\r\n         * @param temperature The temperature to set in degrees Celsius\r\n         * @throws IllegalArgumentException If the temperature is negative or higher than this oven&#39;s maximum temperature.\r\n         */\r\n        public void setTemperature(int temperature) {\r\n            if (temperature &lt; 0 || temperature &gt; maxTemperature) {\r\n                throw new IllegalArgumentException(&quot;Invalid temperature&quot;);\r\n            }\r\n            this.currentTemperature = temperature;\r\n        }\r\n    \r\n        /**\r\n         * Gets the current temperature (the oven has no heating or cooling times and changes temperatures instantly)\r\n         * @return The current temperature in degrees Fahrenheit\r\n         */\r\n        public int getCurrentTemperature() {\r\n            return (currentTemperature * 9/5) + 32;\r\n        }\r\n    \r\n        /**\r\n         * Gets the maximum temperature this oven can be set to\r\n         * @return The max temperature in degrees Celsius\r\n         */\r\n        public int getMaxTemperature() {\r\n            return maxTemperature;\r\n        }\r\n    \r\n        /**\r\n         * Adds an item of food to the oven, potentially changing its state.\r\n         *\r\n         * @param food The food to be added to the oven\r\n         * @param duration The length of time in minutes the food will be in the oven for\r\n         * @throws IllegalArgumentException If the food parameter is null, or if the duration is negative\r\n         */\r\n        public void insertFood(Food food, int duration) {\r\n            if (null == food) {\r\n                throw new IllegalArgumentException(&quot;Food may not be null&quot;);\r\n            }\r\n            if (duration &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;Duration must be &gt;= 0&quot;);\r\n            }\r\n    \r\n            food.cook(currentTemperature, duration);\r\n        }\r\n    }\r\n\r\nSimilarly, IDEA shows a similar error as shown below.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI&#39;ve tried manually adding the Kitchen.jar file as a dependency via the &quot;Project Structure&quot; window (see below) and even though it is added as a dependency according to the screenshot, the above errors persist.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nI&#39;ve also tried File -&gt; Invalidating Caches / Restart; however, this doesn&#39;t resolve my issue.\r\n\r\n**Why is it that none of the classes in my Kitchen.jar file such as &quot;Food&quot; are registered in my Gradle project?**\r\n\r\n**Edit 1:**\r\n\r\nI&#39;ve attempted 0xadecimal&#39;s solution as shown below but unfortunately it still fails to compile and Intellij throws the same error about not resolving symbol &quot;Food&quot; in the Oven class as shown below. \r\n\r\n[![enter image description here][5]][5]\r\n\r\n**Edit 2:**\r\n\r\nI&#39;ve attempted Lukas K&#246;rfer&#39;s suggestion in the comments to use `implementation files(...)`; however, I&#39;m still getting the compile error and Intellij is still yelling at me (right hand side of the screenshot). Note that every time I change the build.gradle file I make sure I run dependencies by hitting the green button next to `dependencies` even though I&#39;ve set up my Intellij to auto update when the `build.gradle` file changes. This means the problem shouldn&#39;t be because the dependencies are not updating in Intellij.\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OVkB9.png\r\n  [3]: https://i.stack.imgur.com/LtPcD.png\r\n  [4]: https://i.stack.imgur.com/BVZGz.png\r\n  [5]: https://i.stack.imgur.com/eZ1Pz.jpg\r\n  [6]: https://i.stack.imgur.com/xWP9A.jpg","title":"Can&#39;t import jar file dependency using Gradle and Intellij","body":"<p>Below is my project directory. I am trying use Kitchen.jar (located in libs folder) as a file dependency.</p>\n<p><a href=\"https://i.stack.imgur.com/OVkB9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OVkB9.png\" alt=\"directory\" /></a></p>\n<p>Below is my build.gradle file where I attempt to include Kitchen.jar as a dependency.</p>\n<pre><code>plugins {\n    // Apply the java plugin to add support for Java\n    id 'java'\n\n    // Apply the application plugin to add support for building a CLI application\n    id 'application'\n}\n\nrepositories {\n    // Use jcenter for resolving dependencies.\n    // You can declare any Maven/Ivy/file repository here.\n    jcenter()\n}\n\ndependencies {\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:27.1-jre'\n\n    // Use JUnit test framework\n    testImplementation 'junit:junit:4.12'\n\n    compile files('libs/Kitchen.jar')\n}\n\napplication {\n    // Define the main class for the application\n    mainClassName = 'Kitchen.App'\n}\n</code></pre>\n<p>However, when I run <code>gradle build</code> I get a compiler error, which tells me that the Kitchen.jar file has not been imported correctly. &quot;Food&quot; is a class in Kitchen.jar.</p>\n<p>This is what the Oven class looks like for some context on what <code>insertFood</code> method looks like.</p>\n<pre><code>package Kitchen;\n/**\n * This class models an oven appliance for cooking food.\n */\npublic class Oven {\n    private final int maxTemperature;\n    private int currentTemperature = 0;\n\n    /**\n     * Creates an Oven object with a default maximum temperature of 320 degrees Celsius\n     */\n    public Oven() {\n        this(320);\n    }\n\n    /**\n     * Creates an Oven object with a specific maximum temperature\n     *\n     * @param maxTemperature The maximum temperature this oven can be set to. Cannot be a negative number.\n     * @throws IllegalArgumentException If the maxTemperature is negative\n     */\n    public Oven(int maxTemperature) {\n        if (maxTemperature &lt; 0) {\n            throw new IllegalArgumentException(&quot;Invalid temperature&quot;);\n        }\n        this.maxTemperature = maxTemperature;\n    }\n\n    /**\n     * Sets the current temperature of the oven to the given value\n     *\n     * @param temperature The temperature to set in degrees Celsius\n     * @throws IllegalArgumentException If the temperature is negative or higher than this oven's maximum temperature.\n     */\n    public void setTemperature(int temperature) {\n        if (temperature &lt; 0 || temperature &gt; maxTemperature) {\n            throw new IllegalArgumentException(&quot;Invalid temperature&quot;);\n        }\n        this.currentTemperature = temperature;\n    }\n\n    /**\n     * Gets the current temperature (the oven has no heating or cooling times and changes temperatures instantly)\n     * @return The current temperature in degrees Fahrenheit\n     */\n    public int getCurrentTemperature() {\n        return (currentTemperature * 9/5) + 32;\n    }\n\n    /**\n     * Gets the maximum temperature this oven can be set to\n     * @return The max temperature in degrees Celsius\n     */\n    public int getMaxTemperature() {\n        return maxTemperature;\n    }\n\n    /**\n     * Adds an item of food to the oven, potentially changing its state.\n     *\n     * @param food The food to be added to the oven\n     * @param duration The length of time in minutes the food will be in the oven for\n     * @throws IllegalArgumentException If the food parameter is null, or if the duration is negative\n     */\n    public void insertFood(Food food, int duration) {\n        if (null == food) {\n            throw new IllegalArgumentException(&quot;Food may not be null&quot;);\n        }\n        if (duration &lt; 0) {\n            throw new IllegalArgumentException(&quot;Duration must be &gt;= 0&quot;);\n        }\n\n        food.cook(currentTemperature, duration);\n    }\n}\n</code></pre>\n<p>Similarly, IDEA shows a similar error as shown below.</p>\n<p><a href=\"https://i.stack.imgur.com/LtPcD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LtPcD.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried manually adding the Kitchen.jar file as a dependency via the &quot;Project Structure&quot; window (see below) and even though it is added as a dependency according to the screenshot, the above errors persist.</p>\n<p><a href=\"https://i.stack.imgur.com/BVZGz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BVZGz.png\" alt=\"enter image description here\" /></a></p>\n<p>I've also tried File -&gt; Invalidating Caches / Restart; however, this doesn't resolve my issue.</p>\n<p><strong>Why is it that none of the classes in my Kitchen.jar file such as &quot;Food&quot; are registered in my Gradle project?</strong></p>\n<p><strong>Edit 1:</strong></p>\n<p>I've attempted 0xadecimal's solution as shown below but unfortunately it still fails to compile and Intellij throws the same error about not resolving symbol &quot;Food&quot; in the Oven class as shown below.</p>\n<p><a href=\"https://i.stack.imgur.com/eZ1Pz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eZ1Pz.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit 2:</strong></p>\n<p>I've attempted Lukas Krfer's suggestion in the comments to use <code>implementation files(...)</code>; however, I'm still getting the compile error and Intellij is still yelling at me (right hand side of the screenshot). Note that every time I change the build.gradle file I make sure I run dependencies by hitting the green button next to <code>dependencies</code> even though I've set up my Intellij to auto update when the <code>build.gradle</code> file changes. This means the problem shouldn't be because the dependencies are not updating in Intellij.</p>\n<p><a href=\"https://i.stack.imgur.com/xWP9A.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xWP9A.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1668747061,"post_id":74484969,"comment_id":131486376,"body_markdown":"Since when does an integer have a length ? `id = input.nextInt();`","body":"Since when does an integer have a length ? <code>id = input.nextInt();</code>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1668747103,"post_id":74484969,"comment_id":131486382,"body_markdown":"*but the id must be only 8 characters long* - so why use an `int` ?","body":"<i>but the id must be only 8 characters long</i> - so why use an <code>int</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1668747236,"creation_date":1668747236,"answer_id":74485078,"question_id":74484969,"body_markdown":"As &quot;id&quot; is int and it must be 8 digits, try changing \r\n**while(id.length() != 8)**\r\nto\r\n**while(!(id &gt;= 10000000 and id &lt;= 99999999)**\r\n\r\n\r\n\r\n\r\n&gt; 10000000  is smallest 8 digit number \r\n  99999999  is largest  8 digit number","title":"Making user to input a fixed amount of characters","body":"<p>As &quot;id&quot; is int and it must be 8 digits, try changing\n<strong>while(id.length() != 8)</strong>\nto\n<strong>while(!(id &gt;= 10000000 and id &lt;= 99999999)</strong></p>\n<blockquote>\n<p>10000000  is smallest 8 digit number\n99999999  is largest  8 digit number</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668753389,"creation_date":1668753389,"answer_id":74485751,"question_id":74484969,"body_markdown":"If the ID is Alphanumeric where is can be a mix of alpha and numeric characters then you can just use [Scanner#nextLine()](https://www.tutorialspoint.com/java/util/scanner_nextline.htm) method instead of the [Scanner#nextInt()](https://www.tutorialspoint.com/java/util/scanner_nextint.htm) method, for example:\r\n\r\n    String id = &quot;&quot;;\r\n        while (id.isEmpty()) {\r\n            System.out.print(&quot;Enter salesperson ID &gt;&gt; &quot;);\r\n            id = input.nextLine().trim();\r\n            \r\n            // Input Validation:\r\n            if (id.length() &lt; 8) {\r\n                System.out.println(&quot;Invalid ID Supplied (&quot; + id + &quot;)! ID must be 8 characters long!&quot;);\r\n                id = &quot;&quot;;\r\n            }\r\n        }\r\n       \r\n        // If we made it to here then the entry was good.\r\n        System.out.println(&quot;The Salesman ID is: -&gt; &quot; + id);\r\n\r\nIf however, the Salesman ID is suppose to be an integer value entry then you can use the same code but the validation section would need to change, for example:\r\n\r\n    String id = &quot;&quot;;\r\n    while (id.isEmpty()) {\r\n        System.out.print(&quot;Enter salesperson ID &gt;&gt; &quot;);\r\n        id = input.nextLine().trim();\r\n            \r\n        /* Input Validation: Is the ID 8 characters long and \r\n           are all characters numerical digits?           */\r\n        if (id.length() &lt; 8 || !id.matches(&quot;\\\\d+&quot;)) {\r\n            System.out.println(&quot;Invalid ID Supplied (&quot; + id + &quot;)! ID must be 8 Digits in length!&quot;);\r\n            id = &quot;&quot;;\r\n        }\r\n    }\r\n       \r\n    // If we made it to here then the entry was good.\r\n        \r\n    // Convert the id string to an integer value\r\n    int salesmanID = Integer.parseInt(id);\r\n        \r\n    System.out.println(&quot;The Salesman ID is: -&gt; &quot; + salesmanID);","title":"Making user to input a fixed amount of characters","body":"<p>If the ID is Alphanumeric where is can be a mix of alpha and numeric characters then you can just use <a href=\"https://www.tutorialspoint.com/java/util/scanner_nextline.htm\" rel=\"nofollow noreferrer\">Scanner#nextLine()</a> method instead of the <a href=\"https://www.tutorialspoint.com/java/util/scanner_nextint.htm\" rel=\"nofollow noreferrer\">Scanner#nextInt()</a> method, for example:</p>\n<pre><code>String id = &quot;&quot;;\n    while (id.isEmpty()) {\n        System.out.print(&quot;Enter salesperson ID &gt;&gt; &quot;);\n        id = input.nextLine().trim();\n        \n        // Input Validation:\n        if (id.length() &lt; 8) {\n            System.out.println(&quot;Invalid ID Supplied (&quot; + id + &quot;)! ID must be 8 characters long!&quot;);\n            id = &quot;&quot;;\n        }\n    }\n   \n    // If we made it to here then the entry was good.\n    System.out.println(&quot;The Salesman ID is: -&gt; &quot; + id);\n</code></pre>\n<p>If however, the Salesman ID is suppose to be an integer value entry then you can use the same code but the validation section would need to change, for example:</p>\n<pre><code>String id = &quot;&quot;;\nwhile (id.isEmpty()) {\n    System.out.print(&quot;Enter salesperson ID &gt;&gt; &quot;);\n    id = input.nextLine().trim();\n        \n    /* Input Validation: Is the ID 8 characters long and \n       are all characters numerical digits?           */\n    if (id.length() &lt; 8 || !id.matches(&quot;\\\\d+&quot;)) {\n        System.out.println(&quot;Invalid ID Supplied (&quot; + id + &quot;)! ID must be 8 Digits in length!&quot;);\n        id = &quot;&quot;;\n    }\n}\n   \n// If we made it to here then the entry was good.\n    \n// Convert the id string to an integer value\nint salesmanID = Integer.parseInt(id);\n    \nSystem.out.println(&quot;The Salesman ID is: -&gt; &quot; + salesmanID);\n</code></pre>\n"}],"owner":{"account_id":16205026,"reputation":3,"user_id":20536098,"display_name":"Cody Mangmoun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1668817155,"accepted_answer_id":74485078,"answer_count":2,"score":-3,"last_activity_date":1668753389,"creation_date":1668745922,"question_id":74484969,"body_markdown":"So basically, the program is a &quot;sales tracker&quot; and we must enter an id, but the id must be only 8 characters long and if it isn&#39;t 8 characters long then the program will tell the user so. I&#39;ve got most of the program done but I cannot seem to get this part of the program done.\r\n\r\nThe user can also change the id in the database and the id still must be 8 characters long.\r\n\r\nThis is the full program\r\n\r\n```\r\n\r\nimport java.util.*;\r\n\r\npublic class CreateSalesperson\r\n{\r\n   public static void main(String[] args)\r\n   {\r\n      Salesperson[] salespeople = new Salesperson[20];\r\n      \r\n      int x;\r\n      \r\n      int id;\r\n      \r\n      int count = 0;\r\n      \r\n      String name;\r\n      \r\n      double sales;\r\n      \r\n      final int QUIT = 999;\r\n      \r\n      char option;\r\n      \r\n      String message = &quot;&quot;;\r\n      Scanner input = new Scanner(System.in);\r\n      \r\n      System.out.print(&quot;Do you want to (A)dd, or (C)hange a record or (Q)uit &gt;&gt; &quot;);\r\n      option = input.nextLine().charAt(0);\r\n      \r\n      while(option != &#39;Q&#39;)\r\n      {\r\n         if(option == &#39;A&#39;)\r\n            count = addOption(salespeople, count);\r\n         else\r\n                if(option == &#39;C&#39;)\r\n                   changeOption(salespeople, count);\r\n                else\r\n                   System.out.println(&quot;Invalid entry&quot;);\r\n         System.out.print(&quot;Do you want to (A)dd, or (C)hange a record or (Q)uit &gt;&gt; &quot;);\r\n         option = input.nextLine().charAt(0);\r\n      }\r\n   }\r\n   \r\n   public static int addOption(Salesperson[] array, int count)\r\n   {\r\n      Scanner input = new Scanner(System.in);\r\n   \r\n      int id;\r\n      \r\n      double sales;\r\n      \r\n      String name;\r\n      \r\n      boolean alreadyEntered;\r\n      \r\n      if(count == array.length)\r\n         System.out.println(&quot;Sorry - array is full -- cannot add a record&quot;);\r\n      else\r\n      {\r\n          System.out.print(&quot;Enter name of salesperson &gt;&gt; &quot;);\r\n          name = input.nextLine();\r\n\r\n         while(id.length() != 8)\r\n         {\r\n          System.out.print(&quot;Enter salesperson ID &gt;&gt; &quot;);\r\n          id = input.nextInt();\r\n         }\r\n          alreadyEntered = false;\r\n          \r\n          for(int x = 0; x &lt; count; ++x)\r\n             if(array[x].getId() == id)\r\n             {\r\n                System.out.println(&quot;Sorry -- ID number already exists&quot;);\r\n                alreadyEntered = true;\r\n             }\r\n          if(!alreadyEntered)\r\n          {\r\n             System.out.print(&quot;Enter sales amount &gt;&gt; &quot;);\r\n             sales = input.nextDouble();\r\n\r\n             array[count] = new Salesperson(id, sales, name);\r\n             ++count;\r\n          \r\n          }\r\n      }\r\n      display(array, count);\r\n      input.nextLine();\r\n      return count;\r\n   }\r\n   \r\n   public static void changeOption(Salesperson[] array, int count)\r\n   {\r\n \r\n      Scanner keyboard = new Scanner(System.in);\r\n\r\n      int position = 0;\r\n \r\n      int id;\r\n      \r\n      double sales;\r\n      \r\n      if(count == 0)\r\n         System.out.println(&quot;Database is empty -- cannot change record&quot;);\r\n      else\r\n      {\r\n         System.out.print(&quot;Enter ID to change &gt;&gt; &quot;);\r\n         id = keyboard.nextInt();\r\n         boolean exists = false;\r\n         \r\n         for(int x = 0; x &lt; count; ++x)\r\n            if(array[x].getId() == id)\r\n            {\r\n               exists = true;\r\n               position = x;\r\n            }\r\n         if(!exists)\r\n            System.out.println(&quot;Sorry - ID number #&quot; + id + &quot; does not exists in the database&quot;);\r\n         else\r\n         {\r\n            System.out.print(&quot;Enter sales &gt;&gt; &quot;);\r\n            sales = keyboard.nextDouble();\r\n            array[position].setSales(sales);\r\n         }\r\n         keyboard.nextLine();\r\n         display(array, count);\r\n      }\r\n   }\r\n    public static void display(Salesperson[] array, int count)\r\n    {\r\n       int a,b;\r\n       Salesperson temp;\r\n       int highSubscript = count  - 1;\r\n\r\n       for(a = 0; a &lt; highSubscript; ++a)\r\n          for(b = 0; b &lt; highSubscript; ++b)\r\n          {\r\n             if(array[b].getId() != array[b + 1].getId())\r\n               {\r\n                  temp = array[b];\r\n                  array[b] = array[b + 1];\r\n                  array[b + 1] = temp;\r\n               }\r\n          }\r\n       \r\n       System.out.println(&quot;\\nCurrent database:&quot;);\r\n \r\n       for(a = 0; a &lt; count; ++a)\r\n         System.out.println(&quot;NAME: &quot;+ array[a].getName() + &quot;   ID: #&quot; + array[a].getId() + &quot;  Sales Amount: $&quot; + array[a].getSales());\r\n       System.out.println();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI&#39;ve tried to do a while loop with id.length != 8, but I keep getting an int cannot be dereferenced error. How can I fix this? Can I fix this? If not, what can I do to make this correct.\r\n\r\n```\r\nwhile(id.length() != 8)\r\n         {\r\n          System.out.print(&quot;Enter salesperson ID &gt;&gt; &quot;);\r\n          id = input.nextInt();\r\n         }\r\n          alreadyEntered = false;\r\n```","title":"Making user to input a fixed amount of characters","body":"<p>So basically, the program is a &quot;sales tracker&quot; and we must enter an id, but the id must be only 8 characters long and if it isn't 8 characters long then the program will tell the user so. I've got most of the program done but I cannot seem to get this part of the program done.</p>\n<p>The user can also change the id in the database and the id still must be 8 characters long.</p>\n<p>This is the full program</p>\n<pre><code>\nimport java.util.*;\n\npublic class CreateSalesperson\n{\n   public static void main(String[] args)\n   {\n      Salesperson[] salespeople = new Salesperson[20];\n      \n      int x;\n      \n      int id;\n      \n      int count = 0;\n      \n      String name;\n      \n      double sales;\n      \n      final int QUIT = 999;\n      \n      char option;\n      \n      String message = &quot;&quot;;\n      Scanner input = new Scanner(System.in);\n      \n      System.out.print(&quot;Do you want to (A)dd, or (C)hange a record or (Q)uit &gt;&gt; &quot;);\n      option = input.nextLine().charAt(0);\n      \n      while(option != 'Q')\n      {\n         if(option == 'A')\n            count = addOption(salespeople, count);\n         else\n                if(option == 'C')\n                   changeOption(salespeople, count);\n                else\n                   System.out.println(&quot;Invalid entry&quot;);\n         System.out.print(&quot;Do you want to (A)dd, or (C)hange a record or (Q)uit &gt;&gt; &quot;);\n         option = input.nextLine().charAt(0);\n      }\n   }\n   \n   public static int addOption(Salesperson[] array, int count)\n   {\n      Scanner input = new Scanner(System.in);\n   \n      int id;\n      \n      double sales;\n      \n      String name;\n      \n      boolean alreadyEntered;\n      \n      if(count == array.length)\n         System.out.println(&quot;Sorry - array is full -- cannot add a record&quot;);\n      else\n      {\n          System.out.print(&quot;Enter name of salesperson &gt;&gt; &quot;);\n          name = input.nextLine();\n\n         while(id.length() != 8)\n         {\n          System.out.print(&quot;Enter salesperson ID &gt;&gt; &quot;);\n          id = input.nextInt();\n         }\n          alreadyEntered = false;\n          \n          for(int x = 0; x &lt; count; ++x)\n             if(array[x].getId() == id)\n             {\n                System.out.println(&quot;Sorry -- ID number already exists&quot;);\n                alreadyEntered = true;\n             }\n          if(!alreadyEntered)\n          {\n             System.out.print(&quot;Enter sales amount &gt;&gt; &quot;);\n             sales = input.nextDouble();\n\n             array[count] = new Salesperson(id, sales, name);\n             ++count;\n          \n          }\n      }\n      display(array, count);\n      input.nextLine();\n      return count;\n   }\n   \n   public static void changeOption(Salesperson[] array, int count)\n   {\n \n      Scanner keyboard = new Scanner(System.in);\n\n      int position = 0;\n \n      int id;\n      \n      double sales;\n      \n      if(count == 0)\n         System.out.println(&quot;Database is empty -- cannot change record&quot;);\n      else\n      {\n         System.out.print(&quot;Enter ID to change &gt;&gt; &quot;);\n         id = keyboard.nextInt();\n         boolean exists = false;\n         \n         for(int x = 0; x &lt; count; ++x)\n            if(array[x].getId() == id)\n            {\n               exists = true;\n               position = x;\n            }\n         if(!exists)\n            System.out.println(&quot;Sorry - ID number #&quot; + id + &quot; does not exists in the database&quot;);\n         else\n         {\n            System.out.print(&quot;Enter sales &gt;&gt; &quot;);\n            sales = keyboard.nextDouble();\n            array[position].setSales(sales);\n         }\n         keyboard.nextLine();\n         display(array, count);\n      }\n   }\n    public static void display(Salesperson[] array, int count)\n    {\n       int a,b;\n       Salesperson temp;\n       int highSubscript = count  - 1;\n\n       for(a = 0; a &lt; highSubscript; ++a)\n          for(b = 0; b &lt; highSubscript; ++b)\n          {\n             if(array[b].getId() != array[b + 1].getId())\n               {\n                  temp = array[b];\n                  array[b] = array[b + 1];\n                  array[b + 1] = temp;\n               }\n          }\n       \n       System.out.println(&quot;\\nCurrent database:&quot;);\n \n       for(a = 0; a &lt; count; ++a)\n         System.out.println(&quot;NAME: &quot;+ array[a].getName() + &quot;   ID: #&quot; + array[a].getId() + &quot;  Sales Amount: $&quot; + array[a].getSales());\n       System.out.println();\n    }\n\n}\n</code></pre>\n<p>I've tried to do a while loop with id.length != 8, but I keep getting an int cannot be dereferenced error. How can I fix this? Can I fix this? If not, what can I do to make this correct.</p>\n<pre><code>while(id.length() != 8)\n         {\n          System.out.print(&quot;Enter salesperson ID &gt;&gt; &quot;);\n          id = input.nextInt();\n         }\n          alreadyEntered = false;\n</code></pre>\n"},{"tags":["java","android","json"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668751883,"creation_date":1668751883,"answer_id":74485548,"question_id":74470532,"body_markdown":"Use library _Josson_ to do the job.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;[{\\&quot;userid\\&quot;:\\&quot;CNAF01\\&quot;,\\&quot;groupname\\&quot;:\\&quot;Abhay\\&quot;,\\&quot;segment\\&quot;:\\&quot;CosCLFIN\\&quot;,\\&quot;accountcode\\&quot;:\\&quot;66CN-063CC\\&quot;,\\&quot;symbol\\&quot;:\\&quot;INX22\\&quot;,\\&quot;exchange\\&quot;:\\&quot;SGXFO\\&quot;,\\&quot;expirydate\\&quot;:\\&quot;24NOV2022\\&quot;,&quot; +\r\n        &quot;\\&quot;scripcode\\&quot;:\\&quot;7536847\\&quot;,\\&quot;securitytype\\&quot;:\\&quot;FUT\\&quot;,\\&quot;strikeprice\\&quot;:0,\\&quot;opttype\\&quot;:\\&quot;XX\\&quot;,\\&quot;bfqty\\&quot;:-107,\\&quot;bfrate\\&quot;:18462.05,\\&quot;bfamt\\&quot;:3950878.6999999997,\\&quot;buyqty\\&quot;:21,\\&quot;sellqty\\&quot;:59,\\&quot;netqty\\&quot;:-38,&quot; +\r\n        &quot;\\&quot;cfqty\\&quot;:-145,\\&quot;cfamt\\&quot;:5358027.699999999,\\&quot;ltp\\&quot;:\\&quot;18433.5\\&quot;,\\&quot;grossmtm\\&quot;:0,\\&quot;brokerageamt\\&quot;:48,\\&quot;netmtm\\&quot;:0,\\&quot;currency\\&quot;:\\&quot;USD\\&quot;,\\&quot;usdrate\\&quot;:81.33,\\&quot;clientsharing\\&quot;:50,\\&quot;broksharing\\&quot;:0,&quot; +\r\n        &quot;\\&quot;comsharing\\&quot;:50,\\&quot;multiplier\\&quot;:2},&quot; +\r\n        &quot;{\\&quot;userid\\&quot;:\\&quot;CNAF01\\&quot;,\\&quot;groupname\\&quot;:\\&quot;Abhay\\&quot;,\\&quot;segment\\&quot;:\\&quot;CosCLFIN\\&quot;,\\&quot;accountcode\\&quot;:\\&quot;CW05\\&quot;,\\&quot;symbol\\&quot;:\\&quot;NIFTY\\&quot;,\\&quot;exchange\\&quot;:\\&quot;NSEFO\\&quot;,&quot; +\r\n        &quot;\\&quot;expirydate\\&quot;:\\&quot;24NOV2022\\&quot;,\\&quot;scripcode\\&quot;:\\&quot;61349\\&quot;,\\&quot;securitytype\\&quot;:\\&quot;OPT\\&quot;,\\&quot;strikeprice\\&quot;:17800,\\&quot;opttype\\&quot;:\\&quot;CE\\&quot;,\\&quot;bfqty\\&quot;:4050,\\&quot;bfrate\\&quot;:673.3,\\&quot;bfamt\\&quot;:-2726865,\\&quot;buyqty\\&quot;:1650,&quot; +\r\n        &quot;\\&quot;sellqty\\&quot;:300,\\&quot;netqty\\&quot;:1350,\\&quot;cfqty\\&quot;:5400,\\&quot;cfamt\\&quot;:-3677257.5,\\&quot;ltp\\&quot;:\\&quot;657.0\\&quot;,\\&quot;grossmtm\\&quot;:0,\\&quot;brokerageamt\\&quot;:1038.81126525,\\&quot;netmtm\\&quot;:0,\\&quot;currency\\&quot;:\\&quot;INR\\&quot;,\\&quot;usdrate\\&quot;:1,\\&quot;clientsharing\\&quot;:0,&quot; +\r\n        &quot;\\&quot;broksharing\\&quot;:0,\\&quot;comsharing\\&quot;:100,\\&quot;multiplier\\&quot;:1},&quot; +\r\n        &quot;{\\&quot;userid\\&quot;:\\&quot;CNAF01\\&quot;,\\&quot;groupname\\&quot;:\\&quot;Abhay\\&quot;,\\&quot;segment\\&quot;:\\&quot;CosCLFIN\\&quot;,\\&quot;accountcode\\&quot;:\\&quot;CW05\\&quot;,\\&quot;symbol\\&quot;:\\&quot;NIFTY\\&quot;,\\&quot;exchange\\&quot;:\\&quot;NSEFO\\&quot;,&quot; +\r\n        &quot;\\&quot;expirydate\\&quot;:\\&quot;24NOV2022\\&quot;,\\&quot;scripcode\\&quot;:\\&quot;61350\\&quot;,\\&quot;securitytype\\&quot;:\\&quot;OPT\\&quot;,\\&quot;strikeprice\\&quot;:17800,\\&quot;opttype\\&quot;:\\&quot;PE\\&quot;,\\&quot;bfqty\\&quot;:-4050,\\&quot;bfrate\\&quot;:14.7,\\&quot;bfamt\\&quot;:59535,\\&quot;buyqty\\&quot;:300,\\&quot;sellqty\\&quot;:1650,&quot; +\r\n        &quot;\\&quot;netqty\\&quot;:-1350,\\&quot;cfqty\\&quot;:-5400,\\&quot;cfamt\\&quot;:78900,\\&quot;ltp\\&quot;:\\&quot;13.6\\&quot;,\\&quot;grossmtm\\&quot;:0,\\&quot;brokerageamt\\&quot;:31.850901,\\&quot;netmtm\\&quot;:0,\\&quot;currency\\&quot;:\\&quot;INR\\&quot;,\\&quot;usdrate\\&quot;:1,\\&quot;clientsharing\\&quot;:0,\\&quot;broksharing\\&quot;:0,&quot; +\r\n        &quot;\\&quot;comsharing\\&quot;:100,\\&quot;multiplier\\&quot;:1}]&quot;);\r\n\r\n__Transformation__\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;group(map(userid,groupname,segment,accountcode,symbol,exchange,expirydate,&quot; +\r\n        &quot;          currency,usdrate,clientsharing,broksharing,comsharing,multiplier))&quot; +\r\n        &quot;.map(key.userid,&quot; +\r\n        &quot;     key.groupname,&quot; +\r\n        &quot;     key.segment,&quot; +\r\n        &quot;     key.accountcode,&quot; +\r\n        &quot;     key.symbol,&quot; +\r\n        &quot;     key.exchange,&quot; +\r\n        &quot;     key.expirydate,&quot; +\r\n        &quot;     key.currency,&quot; +\r\n        &quot;     key.usdrate,&quot; +\r\n        &quot;     key.clientsharing,&quot; +\r\n        &quot;     key.broksharing,&quot; +\r\n        &quot;     key.comsharing,&quot; +\r\n        &quot;     key.multiplier,&quot; +\r\n        &quot;     elements.bfqty.sum(),&quot; +\r\n        &quot;     elements.bfrate.sum(),&quot; +\r\n        &quot;     elements.bfamt.sum(),&quot; +\r\n        &quot;     elements.buyqty.sum(),&quot; +\r\n        &quot;     elements.sellqty.sum(),&quot; +\r\n        &quot;     elements.netqty.sum(),&quot; +\r\n        &quot;     elements.cfqty.sum(),&quot; +\r\n        &quot;     elements.cfamt.sum(),&quot; +\r\n        &quot;     elements.ltp.sum(),&quot; +\r\n        &quot;     elements.grossmtm.sum(),&quot; +\r\n        &quot;     elements.brokerageamt.sum(),&quot; +\r\n        &quot;     elements.netmtm.sum())&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    [ {\r\n      &quot;userid&quot; : &quot;CNAF01&quot;,\r\n      &quot;groupname&quot; : &quot;Abhay&quot;,\r\n      &quot;segment&quot; : &quot;CosCLFIN&quot;,\r\n      &quot;accountcode&quot; : &quot;66CN-063CC&quot;,\r\n      &quot;symbol&quot; : &quot;INX22&quot;,\r\n      &quot;exchange&quot; : &quot;SGXFO&quot;,\r\n      &quot;expirydate&quot; : &quot;24NOV2022&quot;,\r\n      &quot;currency&quot; : &quot;USD&quot;,\r\n      &quot;usdrate&quot; : 81.33,\r\n      &quot;clientsharing&quot; : 50,\r\n      &quot;broksharing&quot; : 0,\r\n      &quot;comsharing&quot; : 50,\r\n      &quot;multiplier&quot; : 2,\r\n      &quot;bfqty&quot; : -107.0,\r\n      &quot;bfrate&quot; : 18462.05,\r\n      &quot;bfamt&quot; : 3950878.6999999997,\r\n      &quot;buyqty&quot; : 21.0,\r\n      &quot;sellqty&quot; : 59.0,\r\n      &quot;netqty&quot; : -38.0,\r\n      &quot;cfqty&quot; : -145.0,\r\n      &quot;cfamt&quot; : 5358027.699999999,\r\n      &quot;ltp&quot; : 18433.5,\r\n      &quot;grossmtm&quot; : 0.0,\r\n      &quot;brokerageamt&quot; : 48.0,\r\n      &quot;netmtm&quot; : 0.0\r\n    }, {\r\n      &quot;userid&quot; : &quot;CNAF01&quot;,\r\n      &quot;groupname&quot; : &quot;Abhay&quot;,\r\n      &quot;segment&quot; : &quot;CosCLFIN&quot;,\r\n      &quot;accountcode&quot; : &quot;CW05&quot;,\r\n      &quot;symbol&quot; : &quot;NIFTY&quot;,\r\n      &quot;exchange&quot; : &quot;NSEFO&quot;,\r\n      &quot;expirydate&quot; : &quot;24NOV2022&quot;,\r\n      &quot;currency&quot; : &quot;INR&quot;,\r\n      &quot;usdrate&quot; : 1,\r\n      &quot;clientsharing&quot; : 0,\r\n      &quot;broksharing&quot; : 0,\r\n      &quot;comsharing&quot; : 100,\r\n      &quot;multiplier&quot; : 1,\r\n      &quot;bfqty&quot; : 0.0,\r\n      &quot;bfrate&quot; : 688.0,\r\n      &quot;bfamt&quot; : -2667330.0,\r\n      &quot;buyqty&quot; : 1950.0,\r\n      &quot;sellqty&quot; : 1950.0,\r\n      &quot;netqty&quot; : 0.0,\r\n      &quot;cfqty&quot; : 0.0,\r\n      &quot;cfamt&quot; : -3598357.5,\r\n      &quot;ltp&quot; : 670.6,\r\n      &quot;grossmtm&quot; : 0.0,\r\n      &quot;brokerageamt&quot; : 1070.66216625,\r\n      &quot;netmtm&quot; : 0.0\r\n    } ]\r\n","title":"how to sum up json keys value in array if by putting condition on key","body":"<p>Use library <em>Josson</em> to do the job.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;[{\\&quot;userid\\&quot;:\\&quot;CNAF01\\&quot;,\\&quot;groupname\\&quot;:\\&quot;Abhay\\&quot;,\\&quot;segment\\&quot;:\\&quot;CosCLFIN\\&quot;,\\&quot;accountcode\\&quot;:\\&quot;66CN-063CC\\&quot;,\\&quot;symbol\\&quot;:\\&quot;INX22\\&quot;,\\&quot;exchange\\&quot;:\\&quot;SGXFO\\&quot;,\\&quot;expirydate\\&quot;:\\&quot;24NOV2022\\&quot;,&quot; +\n    &quot;\\&quot;scripcode\\&quot;:\\&quot;7536847\\&quot;,\\&quot;securitytype\\&quot;:\\&quot;FUT\\&quot;,\\&quot;strikeprice\\&quot;:0,\\&quot;opttype\\&quot;:\\&quot;XX\\&quot;,\\&quot;bfqty\\&quot;:-107,\\&quot;bfrate\\&quot;:18462.05,\\&quot;bfamt\\&quot;:3950878.6999999997,\\&quot;buyqty\\&quot;:21,\\&quot;sellqty\\&quot;:59,\\&quot;netqty\\&quot;:-38,&quot; +\n    &quot;\\&quot;cfqty\\&quot;:-145,\\&quot;cfamt\\&quot;:5358027.699999999,\\&quot;ltp\\&quot;:\\&quot;18433.5\\&quot;,\\&quot;grossmtm\\&quot;:0,\\&quot;brokerageamt\\&quot;:48,\\&quot;netmtm\\&quot;:0,\\&quot;currency\\&quot;:\\&quot;USD\\&quot;,\\&quot;usdrate\\&quot;:81.33,\\&quot;clientsharing\\&quot;:50,\\&quot;broksharing\\&quot;:0,&quot; +\n    &quot;\\&quot;comsharing\\&quot;:50,\\&quot;multiplier\\&quot;:2},&quot; +\n    &quot;{\\&quot;userid\\&quot;:\\&quot;CNAF01\\&quot;,\\&quot;groupname\\&quot;:\\&quot;Abhay\\&quot;,\\&quot;segment\\&quot;:\\&quot;CosCLFIN\\&quot;,\\&quot;accountcode\\&quot;:\\&quot;CW05\\&quot;,\\&quot;symbol\\&quot;:\\&quot;NIFTY\\&quot;,\\&quot;exchange\\&quot;:\\&quot;NSEFO\\&quot;,&quot; +\n    &quot;\\&quot;expirydate\\&quot;:\\&quot;24NOV2022\\&quot;,\\&quot;scripcode\\&quot;:\\&quot;61349\\&quot;,\\&quot;securitytype\\&quot;:\\&quot;OPT\\&quot;,\\&quot;strikeprice\\&quot;:17800,\\&quot;opttype\\&quot;:\\&quot;CE\\&quot;,\\&quot;bfqty\\&quot;:4050,\\&quot;bfrate\\&quot;:673.3,\\&quot;bfamt\\&quot;:-2726865,\\&quot;buyqty\\&quot;:1650,&quot; +\n    &quot;\\&quot;sellqty\\&quot;:300,\\&quot;netqty\\&quot;:1350,\\&quot;cfqty\\&quot;:5400,\\&quot;cfamt\\&quot;:-3677257.5,\\&quot;ltp\\&quot;:\\&quot;657.0\\&quot;,\\&quot;grossmtm\\&quot;:0,\\&quot;brokerageamt\\&quot;:1038.81126525,\\&quot;netmtm\\&quot;:0,\\&quot;currency\\&quot;:\\&quot;INR\\&quot;,\\&quot;usdrate\\&quot;:1,\\&quot;clientsharing\\&quot;:0,&quot; +\n    &quot;\\&quot;broksharing\\&quot;:0,\\&quot;comsharing\\&quot;:100,\\&quot;multiplier\\&quot;:1},&quot; +\n    &quot;{\\&quot;userid\\&quot;:\\&quot;CNAF01\\&quot;,\\&quot;groupname\\&quot;:\\&quot;Abhay\\&quot;,\\&quot;segment\\&quot;:\\&quot;CosCLFIN\\&quot;,\\&quot;accountcode\\&quot;:\\&quot;CW05\\&quot;,\\&quot;symbol\\&quot;:\\&quot;NIFTY\\&quot;,\\&quot;exchange\\&quot;:\\&quot;NSEFO\\&quot;,&quot; +\n    &quot;\\&quot;expirydate\\&quot;:\\&quot;24NOV2022\\&quot;,\\&quot;scripcode\\&quot;:\\&quot;61350\\&quot;,\\&quot;securitytype\\&quot;:\\&quot;OPT\\&quot;,\\&quot;strikeprice\\&quot;:17800,\\&quot;opttype\\&quot;:\\&quot;PE\\&quot;,\\&quot;bfqty\\&quot;:-4050,\\&quot;bfrate\\&quot;:14.7,\\&quot;bfamt\\&quot;:59535,\\&quot;buyqty\\&quot;:300,\\&quot;sellqty\\&quot;:1650,&quot; +\n    &quot;\\&quot;netqty\\&quot;:-1350,\\&quot;cfqty\\&quot;:-5400,\\&quot;cfamt\\&quot;:78900,\\&quot;ltp\\&quot;:\\&quot;13.6\\&quot;,\\&quot;grossmtm\\&quot;:0,\\&quot;brokerageamt\\&quot;:31.850901,\\&quot;netmtm\\&quot;:0,\\&quot;currency\\&quot;:\\&quot;INR\\&quot;,\\&quot;usdrate\\&quot;:1,\\&quot;clientsharing\\&quot;:0,\\&quot;broksharing\\&quot;:0,&quot; +\n    &quot;\\&quot;comsharing\\&quot;:100,\\&quot;multiplier\\&quot;:1}]&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;group(map(userid,groupname,segment,accountcode,symbol,exchange,expirydate,&quot; +\n    &quot;          currency,usdrate,clientsharing,broksharing,comsharing,multiplier))&quot; +\n    &quot;.map(key.userid,&quot; +\n    &quot;     key.groupname,&quot; +\n    &quot;     key.segment,&quot; +\n    &quot;     key.accountcode,&quot; +\n    &quot;     key.symbol,&quot; +\n    &quot;     key.exchange,&quot; +\n    &quot;     key.expirydate,&quot; +\n    &quot;     key.currency,&quot; +\n    &quot;     key.usdrate,&quot; +\n    &quot;     key.clientsharing,&quot; +\n    &quot;     key.broksharing,&quot; +\n    &quot;     key.comsharing,&quot; +\n    &quot;     key.multiplier,&quot; +\n    &quot;     elements.bfqty.sum(),&quot; +\n    &quot;     elements.bfrate.sum(),&quot; +\n    &quot;     elements.bfamt.sum(),&quot; +\n    &quot;     elements.buyqty.sum(),&quot; +\n    &quot;     elements.sellqty.sum(),&quot; +\n    &quot;     elements.netqty.sum(),&quot; +\n    &quot;     elements.cfqty.sum(),&quot; +\n    &quot;     elements.cfamt.sum(),&quot; +\n    &quot;     elements.ltp.sum(),&quot; +\n    &quot;     elements.grossmtm.sum(),&quot; +\n    &quot;     elements.brokerageamt.sum(),&quot; +\n    &quot;     elements.netmtm.sum())&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[ {\n  &quot;userid&quot; : &quot;CNAF01&quot;,\n  &quot;groupname&quot; : &quot;Abhay&quot;,\n  &quot;segment&quot; : &quot;CosCLFIN&quot;,\n  &quot;accountcode&quot; : &quot;66CN-063CC&quot;,\n  &quot;symbol&quot; : &quot;INX22&quot;,\n  &quot;exchange&quot; : &quot;SGXFO&quot;,\n  &quot;expirydate&quot; : &quot;24NOV2022&quot;,\n  &quot;currency&quot; : &quot;USD&quot;,\n  &quot;usdrate&quot; : 81.33,\n  &quot;clientsharing&quot; : 50,\n  &quot;broksharing&quot; : 0,\n  &quot;comsharing&quot; : 50,\n  &quot;multiplier&quot; : 2,\n  &quot;bfqty&quot; : -107.0,\n  &quot;bfrate&quot; : 18462.05,\n  &quot;bfamt&quot; : 3950878.6999999997,\n  &quot;buyqty&quot; : 21.0,\n  &quot;sellqty&quot; : 59.0,\n  &quot;netqty&quot; : -38.0,\n  &quot;cfqty&quot; : -145.0,\n  &quot;cfamt&quot; : 5358027.699999999,\n  &quot;ltp&quot; : 18433.5,\n  &quot;grossmtm&quot; : 0.0,\n  &quot;brokerageamt&quot; : 48.0,\n  &quot;netmtm&quot; : 0.0\n}, {\n  &quot;userid&quot; : &quot;CNAF01&quot;,\n  &quot;groupname&quot; : &quot;Abhay&quot;,\n  &quot;segment&quot; : &quot;CosCLFIN&quot;,\n  &quot;accountcode&quot; : &quot;CW05&quot;,\n  &quot;symbol&quot; : &quot;NIFTY&quot;,\n  &quot;exchange&quot; : &quot;NSEFO&quot;,\n  &quot;expirydate&quot; : &quot;24NOV2022&quot;,\n  &quot;currency&quot; : &quot;INR&quot;,\n  &quot;usdrate&quot; : 1,\n  &quot;clientsharing&quot; : 0,\n  &quot;broksharing&quot; : 0,\n  &quot;comsharing&quot; : 100,\n  &quot;multiplier&quot; : 1,\n  &quot;bfqty&quot; : 0.0,\n  &quot;bfrate&quot; : 688.0,\n  &quot;bfamt&quot; : -2667330.0,\n  &quot;buyqty&quot; : 1950.0,\n  &quot;sellqty&quot; : 1950.0,\n  &quot;netqty&quot; : 0.0,\n  &quot;cfqty&quot; : 0.0,\n  &quot;cfamt&quot; : -3598357.5,\n  &quot;ltp&quot; : 670.6,\n  &quot;grossmtm&quot; : 0.0,\n  &quot;brokerageamt&quot; : 1070.66216625,\n  &quot;netmtm&quot; : 0.0\n} ]\n</code></pre>\n"}],"owner":{"account_id":26243723,"reputation":25,"user_id":19917605,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74485548,"answer_count":1,"score":0,"last_activity_date":1668751883,"creation_date":1668662524,"question_id":74470532,"body_markdown":"I have a json array like this  below , but  i want to aggregate this by condition if their userid , groupname , segment &amp; exchange is matching then perform sum operation on all jsonkeys and give output as a single json row.\r\n\r\n```\r\n[{&quot;userid&quot;:&quot;CNAF01&quot;,&quot;groupname&quot;:&quot;Abhay&quot;,&quot;segment&quot;:&quot;CosCLFIN&quot;,&quot;accountcode&quot;:&quot;66CN-063CC&quot;,&quot;symbol&quot;:&quot;INX22&quot;,&quot;exchange&quot;:&quot;SGXFO&quot;,&quot;expirydate&quot;:&quot;24NOV2022&quot;,\r\n&quot;scripcode&quot;:&quot;7536847&quot;,&quot;securitytype&quot;:&quot;FUT&quot;,&quot;strikeprice&quot;:0,&quot;opttype&quot;:&quot;XX&quot;,&quot;bfqty&quot;:-107,&quot;bfrate&quot;:18462.05,&quot;bfamt&quot;:3950878.6999999997,&quot;buyqty&quot;:21,&quot;sellqty&quot;:59,&quot;netqty&quot;:-38,\r\n&quot;cfqty&quot;:-145,&quot;cfamt&quot;:5358027.699999999,&quot;ltp&quot;:&quot;18433.5&quot;,&quot;grossmtm&quot;:0,&quot;brokerageamt&quot;:48,&quot;netmtm&quot;:0,&quot;currency&quot;:&quot;USD&quot;,&quot;usdrate&quot;:81.33,&quot;clientsharing&quot;:50,&quot;broksharing&quot;:0,\r\n&quot;comsharing&quot;:50,&quot;multiplier&quot;:2},\r\n\r\n{&quot;userid&quot;:&quot;CNAF01&quot;,&quot;groupname&quot;:&quot;Abhay&quot;,&quot;segment&quot;:&quot;CosCLFIN&quot;,&quot;accountcode&quot;:&quot;CW05&quot;,&quot;symbol&quot;:&quot;NIFTY&quot;,&quot;exchange&quot;:&quot;NSEFO&quot;,\r\n&quot;expirydate&quot;:&quot;24NOV2022&quot;,&quot;scripcode&quot;:&quot;61349&quot;,&quot;securitytype&quot;:&quot;OPT&quot;,&quot;strikeprice&quot;:17800,&quot;opttype&quot;:&quot;CE&quot;,&quot;bfqty&quot;:4050,&quot;bfrate&quot;:673.3,&quot;bfamt&quot;:-2726865,&quot;buyqty&quot;:1650,\r\n&quot;sellqty&quot;:300,&quot;netqty&quot;:1350,&quot;cfqty&quot;:5400,&quot;cfamt&quot;:-3677257.5,&quot;ltp&quot;:&quot;657.0&quot;,&quot;grossmtm&quot;:0,&quot;brokerageamt&quot;:1038.81126525,&quot;netmtm&quot;:0,&quot;currency&quot;:&quot;INR&quot;,&quot;usdrate&quot;:1,&quot;clientsharing&quot;:0,\r\n&quot;broksharing&quot;:0,&quot;comsharing&quot;:100,&quot;multiplier&quot;:1},\r\n\r\n{&quot;userid&quot;:&quot;CNAF01&quot;,&quot;groupname&quot;:&quot;Abhay&quot;,&quot;segment&quot;:&quot;CosCLFIN&quot;,&quot;accountcode&quot;:&quot;CW05&quot;,&quot;symbol&quot;:&quot;NIFTY&quot;,&quot;exchange&quot;:&quot;NSEFO&quot;,\r\n&quot;expirydate&quot;:&quot;24NOV2022&quot;,&quot;scripcode&quot;:&quot;61350&quot;,&quot;securitytype&quot;:&quot;OPT&quot;,&quot;strikeprice&quot;:17800,&quot;opttype&quot;:&quot;PE&quot;,&quot;bfqty&quot;:-4050,&quot;bfrate&quot;:14.7,&quot;bfamt&quot;:59535,&quot;buyqty&quot;:300,&quot;sellqty&quot;:1650,\r\n&quot;netqty&quot;:-1350,&quot;cfqty&quot;:-5400,&quot;cfamt&quot;:78900,&quot;ltp&quot;:&quot;13.6&quot;,&quot;grossmtm&quot;:0,&quot;brokerageamt&quot;:31.850901,&quot;netmtm&quot;:0,&quot;currency&quot;:&quot;INR&quot;,&quot;usdrate&quot;:1,&quot;clientsharing&quot;:0,&quot;broksharing&quot;:0,\r\n&quot;comsharing&quot;:100,&quot;multiplier&quot;:1},\r\n\r\n```\r\n\r\n**Expected Result :**\r\n\r\n\r\n```\r\n[{&quot;userid&quot;:&quot;CNAF01&quot;,&quot;groupname&quot;:&quot;Abhay&quot;,&quot;segment&quot;:&quot;CosCLFIN&quot;,&quot;accountcode&quot;:&quot;66CN-063CC&quot;,&quot;symbol&quot;:&quot;INX22&quot;,&quot;exchange&quot;:&quot;SGXFO&quot;,&quot;expirydate&quot;:&quot;24NOV2022&quot;,\r\n&quot;scripcode&quot;:&quot;7536847&quot;,&quot;securitytype&quot;:&quot;FUT&quot;,&quot;strikeprice&quot;:0,&quot;opttype&quot;:&quot;XX&quot;,&quot;bfqty&quot;:-107,&quot;bfrate&quot;:18462.05,&quot;bfamt&quot;:3950878.6999999997,&quot;buyqty&quot;:21,&quot;sellqty&quot;:59,&quot;netqty&quot;:-38,\r\n&quot;cfqty&quot;:-145,&quot;cfamt&quot;:5358027.699999999,&quot;ltp&quot;:&quot;18433.5&quot;,&quot;grossmtm&quot;:0,&quot;brokerageamt&quot;:48,&quot;netmtm&quot;:0,&quot;currency&quot;:&quot;USD&quot;,&quot;usdrate&quot;:81.33,&quot;clientsharing&quot;:50,&quot;broksharing&quot;:0,\r\n&quot;comsharing&quot;:50,&quot;multiplier&quot;:2},\r\n\r\n{&quot;userid&quot;:&quot;CNAF01&quot;,&quot;groupname&quot;:&quot;Abhay&quot;,&quot;segment&quot;:&quot;CosCLFIN&quot;,&quot;accountcode&quot;:&quot;CW05&quot;,&quot;symbol&quot;:&quot;NIFTY&quot;,&quot;exchange&quot;:&quot;NSEFO&quot;,\r\n&quot;expirydate&quot;:&quot;24NOV2022&quot;,&quot;scripcode&quot;:&quot;61349&quot;,&quot;securitytype&quot;:&quot;OPT&quot;,&quot;strikeprice&quot;:17800,&quot;opttype&quot;:&quot;CE&quot;,&quot;bfqty&quot;:4050,&quot;bfrate&quot;:673.3,&quot;bfamt&quot;:-2726865,&quot;buyqty&quot;:1650,\r\n&quot;sellqty&quot;:300,&quot;netqty&quot;:1350,&quot;cfqty&quot;:0,&quot;cfamt&quot;:-3598357.5,&quot;ltp&quot;:&quot;670.6&quot;,&quot;grossmtm&quot;:0,&quot;brokerageamt&quot;:1038.81126525,&quot;netmtm&quot;:0,&quot;currency&quot;:&quot;INR&quot;,&quot;usdrate&quot;:1,&quot;clientsharing&quot;:0,\r\n&quot;broksharing&quot;:0,&quot;comsharing&quot;:100,&quot;multiplier&quot;:1},\r\n\r\n```\r\n\r\n**As , you can easily se change in  &quot;cfamt&quot; and  &quot;ltp&quot; , additon performed on that.**\r\n\r\n\r\n**I have tried using linkedhashmap :**\r\n\r\n\r\n\r\n```\r\n   Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n\r\n                            for (int j = 0; j &lt; jsArraynetposition.length(); j++) {\r\n                                JSONObject list = jsArraynetposition.getJSONObject(j);\r\n\r\n\r\n                                String key = list.getString(&quot;userid&quot;) + list.getString(&quot;groupname&quot;) + list.getString(&quot;segment&quot;);\r\n   \r\n                                if (!map.containsKey(key)) {\r\n                               \r\n                 map.put(key, list.getInt(&quot;cfamt&quot;));\r\n\r\n                                } else {\r\n                                 \r\n              int val = map.get(key) + list.getInt(&quot;cfamt&quot;);\r\n              map.put(key , val);\r\n                                }\r\n                                    System.out.println(&quot;map &quot; + map);\r\n```\r\n\r\n**output got correct but keys and structure changed :**\r\n\r\n```\r\n2022-11-17 10:16:17.199 21781-21828 System.out              com.example.sharedemo                I  map {CNAF01AbhayCosCLFIN=-3936830, CNCB08ChotuBansalCosPROFIN=-65762393, CNFAB01ArunCosPROFIN=132064, CNFD01CosmicCosPROFIN=52359450, CNFD03ManavCosPROFIN=937236, CNFNC01Nilesh_jiCosPROFIN=-290483, CNFRS01RichelleCosPROFIN=87907, CNFSG01SatishCosPROFIN=2824676, CNGBM01BishanMontyCosPROGOG=-2015145, CNGCB04ChotuBansalCosPROGOG=-7306932, CNGCB05ChotuBansalCosPROGOG=-18177730, CNGCB09ChotuBansalCosPROGOG=-924494, CNGCB10ChotuBansalCosPROGOG=-922274, CNGCB11ChotuBansalCosPROGOG=-862604, CNGCB12ChotuBansalCosPROGOG=-106035, CNGHG01HarshCosPROGOG=-1370947, CNGRV01RaviGuptaCosPROGOG=174712}\r\n\r\n```\r\n\r\n","title":"how to sum up json keys value in array if by putting condition on key","body":"<p>I have a json array like this  below , but  i want to aggregate this by condition if their userid , groupname , segment &amp; exchange is matching then perform sum operation on all jsonkeys and give output as a single json row.</p>\n<pre><code>[{&quot;userid&quot;:&quot;CNAF01&quot;,&quot;groupname&quot;:&quot;Abhay&quot;,&quot;segment&quot;:&quot;CosCLFIN&quot;,&quot;accountcode&quot;:&quot;66CN-063CC&quot;,&quot;symbol&quot;:&quot;INX22&quot;,&quot;exchange&quot;:&quot;SGXFO&quot;,&quot;expirydate&quot;:&quot;24NOV2022&quot;,\n&quot;scripcode&quot;:&quot;7536847&quot;,&quot;securitytype&quot;:&quot;FUT&quot;,&quot;strikeprice&quot;:0,&quot;opttype&quot;:&quot;XX&quot;,&quot;bfqty&quot;:-107,&quot;bfrate&quot;:18462.05,&quot;bfamt&quot;:3950878.6999999997,&quot;buyqty&quot;:21,&quot;sellqty&quot;:59,&quot;netqty&quot;:-38,\n&quot;cfqty&quot;:-145,&quot;cfamt&quot;:5358027.699999999,&quot;ltp&quot;:&quot;18433.5&quot;,&quot;grossmtm&quot;:0,&quot;brokerageamt&quot;:48,&quot;netmtm&quot;:0,&quot;currency&quot;:&quot;USD&quot;,&quot;usdrate&quot;:81.33,&quot;clientsharing&quot;:50,&quot;broksharing&quot;:0,\n&quot;comsharing&quot;:50,&quot;multiplier&quot;:2},\n\n{&quot;userid&quot;:&quot;CNAF01&quot;,&quot;groupname&quot;:&quot;Abhay&quot;,&quot;segment&quot;:&quot;CosCLFIN&quot;,&quot;accountcode&quot;:&quot;CW05&quot;,&quot;symbol&quot;:&quot;NIFTY&quot;,&quot;exchange&quot;:&quot;NSEFO&quot;,\n&quot;expirydate&quot;:&quot;24NOV2022&quot;,&quot;scripcode&quot;:&quot;61349&quot;,&quot;securitytype&quot;:&quot;OPT&quot;,&quot;strikeprice&quot;:17800,&quot;opttype&quot;:&quot;CE&quot;,&quot;bfqty&quot;:4050,&quot;bfrate&quot;:673.3,&quot;bfamt&quot;:-2726865,&quot;buyqty&quot;:1650,\n&quot;sellqty&quot;:300,&quot;netqty&quot;:1350,&quot;cfqty&quot;:5400,&quot;cfamt&quot;:-3677257.5,&quot;ltp&quot;:&quot;657.0&quot;,&quot;grossmtm&quot;:0,&quot;brokerageamt&quot;:1038.81126525,&quot;netmtm&quot;:0,&quot;currency&quot;:&quot;INR&quot;,&quot;usdrate&quot;:1,&quot;clientsharing&quot;:0,\n&quot;broksharing&quot;:0,&quot;comsharing&quot;:100,&quot;multiplier&quot;:1},\n\n{&quot;userid&quot;:&quot;CNAF01&quot;,&quot;groupname&quot;:&quot;Abhay&quot;,&quot;segment&quot;:&quot;CosCLFIN&quot;,&quot;accountcode&quot;:&quot;CW05&quot;,&quot;symbol&quot;:&quot;NIFTY&quot;,&quot;exchange&quot;:&quot;NSEFO&quot;,\n&quot;expirydate&quot;:&quot;24NOV2022&quot;,&quot;scripcode&quot;:&quot;61350&quot;,&quot;securitytype&quot;:&quot;OPT&quot;,&quot;strikeprice&quot;:17800,&quot;opttype&quot;:&quot;PE&quot;,&quot;bfqty&quot;:-4050,&quot;bfrate&quot;:14.7,&quot;bfamt&quot;:59535,&quot;buyqty&quot;:300,&quot;sellqty&quot;:1650,\n&quot;netqty&quot;:-1350,&quot;cfqty&quot;:-5400,&quot;cfamt&quot;:78900,&quot;ltp&quot;:&quot;13.6&quot;,&quot;grossmtm&quot;:0,&quot;brokerageamt&quot;:31.850901,&quot;netmtm&quot;:0,&quot;currency&quot;:&quot;INR&quot;,&quot;usdrate&quot;:1,&quot;clientsharing&quot;:0,&quot;broksharing&quot;:0,\n&quot;comsharing&quot;:100,&quot;multiplier&quot;:1},\n\n</code></pre>\n<p><strong>Expected Result :</strong></p>\n<pre><code>[{&quot;userid&quot;:&quot;CNAF01&quot;,&quot;groupname&quot;:&quot;Abhay&quot;,&quot;segment&quot;:&quot;CosCLFIN&quot;,&quot;accountcode&quot;:&quot;66CN-063CC&quot;,&quot;symbol&quot;:&quot;INX22&quot;,&quot;exchange&quot;:&quot;SGXFO&quot;,&quot;expirydate&quot;:&quot;24NOV2022&quot;,\n&quot;scripcode&quot;:&quot;7536847&quot;,&quot;securitytype&quot;:&quot;FUT&quot;,&quot;strikeprice&quot;:0,&quot;opttype&quot;:&quot;XX&quot;,&quot;bfqty&quot;:-107,&quot;bfrate&quot;:18462.05,&quot;bfamt&quot;:3950878.6999999997,&quot;buyqty&quot;:21,&quot;sellqty&quot;:59,&quot;netqty&quot;:-38,\n&quot;cfqty&quot;:-145,&quot;cfamt&quot;:5358027.699999999,&quot;ltp&quot;:&quot;18433.5&quot;,&quot;grossmtm&quot;:0,&quot;brokerageamt&quot;:48,&quot;netmtm&quot;:0,&quot;currency&quot;:&quot;USD&quot;,&quot;usdrate&quot;:81.33,&quot;clientsharing&quot;:50,&quot;broksharing&quot;:0,\n&quot;comsharing&quot;:50,&quot;multiplier&quot;:2},\n\n{&quot;userid&quot;:&quot;CNAF01&quot;,&quot;groupname&quot;:&quot;Abhay&quot;,&quot;segment&quot;:&quot;CosCLFIN&quot;,&quot;accountcode&quot;:&quot;CW05&quot;,&quot;symbol&quot;:&quot;NIFTY&quot;,&quot;exchange&quot;:&quot;NSEFO&quot;,\n&quot;expirydate&quot;:&quot;24NOV2022&quot;,&quot;scripcode&quot;:&quot;61349&quot;,&quot;securitytype&quot;:&quot;OPT&quot;,&quot;strikeprice&quot;:17800,&quot;opttype&quot;:&quot;CE&quot;,&quot;bfqty&quot;:4050,&quot;bfrate&quot;:673.3,&quot;bfamt&quot;:-2726865,&quot;buyqty&quot;:1650,\n&quot;sellqty&quot;:300,&quot;netqty&quot;:1350,&quot;cfqty&quot;:0,&quot;cfamt&quot;:-3598357.5,&quot;ltp&quot;:&quot;670.6&quot;,&quot;grossmtm&quot;:0,&quot;brokerageamt&quot;:1038.81126525,&quot;netmtm&quot;:0,&quot;currency&quot;:&quot;INR&quot;,&quot;usdrate&quot;:1,&quot;clientsharing&quot;:0,\n&quot;broksharing&quot;:0,&quot;comsharing&quot;:100,&quot;multiplier&quot;:1},\n\n</code></pre>\n<p><strong>As , you can easily se change in  &quot;cfamt&quot; and  &quot;ltp&quot; , additon performed on that.</strong></p>\n<p><strong>I have tried using linkedhashmap :</strong></p>\n<pre><code>   Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\n\n                            for (int j = 0; j &lt; jsArraynetposition.length(); j++) {\n                                JSONObject list = jsArraynetposition.getJSONObject(j);\n\n\n                                String key = list.getString(&quot;userid&quot;) + list.getString(&quot;groupname&quot;) + list.getString(&quot;segment&quot;);\n   \n                                if (!map.containsKey(key)) {\n                               \n                 map.put(key, list.getInt(&quot;cfamt&quot;));\n\n                                } else {\n                                 \n              int val = map.get(key) + list.getInt(&quot;cfamt&quot;);\n              map.put(key , val);\n                                }\n                                    System.out.println(&quot;map &quot; + map);\n</code></pre>\n<p><strong>output got correct but keys and structure changed :</strong></p>\n<pre><code>2022-11-17 10:16:17.199 21781-21828 System.out              com.example.sharedemo                I  map {CNAF01AbhayCosCLFIN=-3936830, CNCB08ChotuBansalCosPROFIN=-65762393, CNFAB01ArunCosPROFIN=132064, CNFD01CosmicCosPROFIN=52359450, CNFD03ManavCosPROFIN=937236, CNFNC01Nilesh_jiCosPROFIN=-290483, CNFRS01RichelleCosPROFIN=87907, CNFSG01SatishCosPROFIN=2824676, CNGBM01BishanMontyCosPROGOG=-2015145, CNGCB04ChotuBansalCosPROGOG=-7306932, CNGCB05ChotuBansalCosPROGOG=-18177730, CNGCB09ChotuBansalCosPROGOG=-924494, CNGCB10ChotuBansalCosPROGOG=-922274, CNGCB11ChotuBansalCosPROGOG=-862604, CNGCB12ChotuBansalCosPROGOG=-106035, CNGHG01HarshCosPROGOG=-1370947, CNGRV01RaviGuptaCosPROGOG=174712}\n\n</code></pre>\n"},{"tags":["java","selenium","maven","testng","allure"],"answers":[{"tags":[],"owner":{"account_id":11667928,"reputation":11,"user_id":8544072,"display_name":"Rohith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1607437656,"creation_date":1607437656,"answer_id":65200815,"question_id":65147763,"body_markdown":"The Tests are running and only the Allure report generation has issues. Anyway after lot of googling I have managed to solve this issue. I have added the aspect jweaver dependency out of the Plugin tags as well under the dependencies section and updated the surefire plugin to 3.0.0-M1 version and now Allure results xml are populated with data.","title":"Allure Results Empty when test is triggered via Maven","body":"<p>The Tests are running and only the Allure report generation has issues. Anyway after lot of googling I have managed to solve this issue. I have added the aspect jweaver dependency out of the Plugin tags as well under the dependencies section and updated the surefire plugin to 3.0.0-M1 version and now Allure results xml are populated with data.</p>\n"}],"owner":{"account_id":11667928,"reputation":11,"user_id":8544072,"display_name":"Rohith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65200815,"answer_count":1,"score":0,"last_activity_date":1668751877,"creation_date":1607101844,"question_id":65147763,"body_markdown":"I have configured Allure in my POM xml to generate the test report and when I trigger the tests via maven the allure results xml is empty. However when the same test is triggered from Intellij the results are proper. Could someone help me out here on what is going wrong. This was working until the last day and all of a sudden without any changes on POM this is behaving this way. Here s the POM xml code\r\n\r\n    `&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;fgrest&lt;/groupId&gt;\r\n      &lt;artifactId&gt;fgrest&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.20&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;argLine&gt;\r\n    \t\t\t\t\t\t-javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n    \t\t\t\t\t&lt;/argLine&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.10.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;resultsDirectory&gt;${project.basedir}/target/allure-results&lt;/resultsDirectory&gt;\r\n    \t\t\t\t\t&lt;reportingOutputDirectory&gt;${project.basedir}/target/allure-reports&lt;/reportingOutputDirectory&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;allure-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;xxxx&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t  &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\r\n    \t  &lt;allure.results.directory&gt;${project.basedir}/target/allure-results&lt;/allure.results.directory&gt;\r\n    \t  &lt;allure.report.directory&gt;${project.basedir}/target/allure-report&lt;/allure.report.directory&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          \t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          \t&lt;version&gt;3.8.1&lt;/version&gt;\r\n          \t&lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;6.14.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        \t&lt;version&gt;20180813&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        \t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        \t&lt;version&gt;2.8.5&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        \t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        \t&lt;version&gt;2.9.8&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t  &lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;2.10.0&lt;/version&gt;\r\n    \t\t  &lt;scope&gt;test&lt;/scope&gt;\r\n    \t  &lt;/dependency&gt;\r\n    \t  &lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;allure-testng-adaptor&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;1.5.4&lt;/version&gt;\r\n    \t\t  &lt;exclusions&gt;\r\n    \t\t\t  &lt;exclusion&gt;\r\n    \t\t\t\t  &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t\t  &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t  &lt;/exclusion&gt;\r\n    \t\t  &lt;/exclusions&gt;\r\n    \t  &lt;/dependency&gt;\r\n    \t  &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.14.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t  &lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;allure-java-adaptor-api&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;1.5.4&lt;/version&gt;\r\n    \t\t  &lt;scope&gt;compile&lt;/scope&gt;\r\n    \t  &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Allure Results Empty when test is triggered via Maven","body":"<p>I have configured Allure in my POM xml to generate the test report and when I trigger the tests via maven the allure results xml is empty. However when the same test is triggered from Intellij the results are proper. Could someone help me out here on what is going wrong. This was working until the last day and all of a sudden without any changes on POM this is behaving this way. Here s the POM xml code</p>\n<pre><code>`&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;fgrest&lt;/groupId&gt;\n  &lt;artifactId&gt;fgrest&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.20&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                    &lt;/argLine&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                &lt;version&gt;2.10.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;resultsDirectory&gt;${project.basedir}/target/allure-results&lt;/resultsDirectory&gt;\n                    &lt;reportingOutputDirectory&gt;${project.basedir}/target/allure-reports&lt;/reportingOutputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;xxxx&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n      &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\n      &lt;allure.results.directory&gt;${project.basedir}/target/allure-results&lt;/allure.results.directory&gt;\n      &lt;allure.report.directory&gt;${project.basedir}/target/allure-report&lt;/allure.report.directory&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.14.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20180813&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.8.5&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.9.8&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n          &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n          &lt;version&gt;2.10.0&lt;/version&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n          &lt;artifactId&gt;allure-testng-adaptor&lt;/artifactId&gt;\n          &lt;version&gt;1.5.4&lt;/version&gt;\n          &lt;exclusions&gt;\n              &lt;exclusion&gt;\n                  &lt;groupId&gt;junit&lt;/groupId&gt;\n                  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n              &lt;/exclusion&gt;\n          &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\n            &lt;version&gt;3.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n          &lt;artifactId&gt;allure-java-adaptor-api&lt;/artifactId&gt;\n          &lt;version&gt;1.5.4&lt;/version&gt;\n          &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":26970008,"reputation":1,"user_id":20536166,"display_name":"fred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668751174,"creation_date":1668745409,"answer_id":74484922,"question_id":74484209,"body_markdown":"in Kafka, multi-consumers run in different threads and consume messages independently.\r\nWhen multiple consumers are subscribed to the same topic and belong to the same consumer group, each consumer receives messages from different subsets of the partitions in the topic. \r\nif you use the second approach, the program will run in one thread, and its concurrency and throughput will be limited.","title":"How does routing in SCS Kafka work when it comes when defines two binders for a single topic vs piping multiple consumers with a single binder","body":"<p>in Kafka, multi-consumers run in different threads and consume messages independently.\nWhen multiple consumers are subscribed to the same topic and belong to the same consumer group, each consumer receives messages from different subsets of the partitions in the topic.\nif you use the second approach, the program will run in one thread, and its concurrency and throughput will be limited.</p>\n"}],"owner":{"account_id":1914239,"reputation":1799,"user_id":1727204,"accept_rate":41,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668751174,"creation_date":1668737506,"question_id":74484209,"body_markdown":"I have multiple consumers that must listen to a single Kafka topic. I&#39;ve found there are two ways to do it: \r\n\r\n1) Use a binder in config per consumer Bean and specify a route to manage it via routing condition (using Spel)\r\n\r\n2) Use only a single binder and define a single consumer Bean and use andThen() to pipe them and specify an internal condition in each method to only process the message if the condition is met. \r\n\r\nexample:\r\n\r\n    @Bean\r\n    public Consumer&lt;Message&gt; doStuff(){\r\n      doA().andThen(doB());\r\n    }\r\n    \r\n    private void doA(){\r\n      if(condition)\r\n      //do stuff\r\n      else //ignore\r\n    }\r\n    \r\n    private void doB(){\r\n      if(condition)\r\n      //do stuff\r\n      else //ignore\r\n    }\r\n\r\nApart from the fact that in the second approach, if an exception is thrown in the first method, it would not go further to the second method (as the sequence order matters), are there any other side effects? I am interested to know if in the first approach both consumers can run in parallel and consume messages independently or because they listen to the same topic, there is no true difference as one consumer can block the other one?\r\n","title":"How does routing in SCS Kafka work when it comes when defines two binders for a single topic vs piping multiple consumers with a single binder","body":"<p>I have multiple consumers that must listen to a single Kafka topic. I've found there are two ways to do it:</p>\n<ol>\n<li><p>Use a binder in config per consumer Bean and specify a route to manage it via routing condition (using Spel)</p>\n</li>\n<li><p>Use only a single binder and define a single consumer Bean and use andThen() to pipe them and specify an internal condition in each method to only process the message if the condition is met.</p>\n</li>\n</ol>\n<p>example:</p>\n<pre><code>@Bean\npublic Consumer&lt;Message&gt; doStuff(){\n  doA().andThen(doB());\n}\n\nprivate void doA(){\n  if(condition)\n  //do stuff\n  else //ignore\n}\n\nprivate void doB(){\n  if(condition)\n  //do stuff\n  else //ignore\n}\n</code></pre>\n<p>Apart from the fact that in the second approach, if an exception is thrown in the first method, it would not go further to the second method (as the sequence order matters), are there any other side effects? I am interested to know if in the first approach both consumers can run in parallel and consume messages independently or because they listen to the same topic, there is no true difference as one consumer can block the other one?</p>\n"},{"tags":["java","matrix","text","java.util.scanner","txt"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1668737875,"post_id":74483315,"comment_id":131485210,"body_markdown":"In the `while` loop the `sc.nextLine();` has to load a variable, for example: `line = sc.nextLine();`.","body":"In the <code>while</code> loop the <code>sc.nextLine();</code> has to load a variable, for example: <code>line = sc.nextLine();</code>."}],"answers":[{"tags":[],"owner":{"account_id":23042379,"reputation":75,"user_id":17160379,"display_name":"Jacob Malland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668738205,"creation_date":1668738205,"answer_id":74484264,"question_id":74483315,"body_markdown":"Since you already know how to read the file to get the number of lines in each row or column, all you need to do is read through it again, or store it the first time around in ```ArrayList&lt;String&gt;``` array.\r\n\r\nLets say you stored each parsed line in a String array. You could iterate back through each string and parse through the characters to get your values.\r\n```\r\nArrayList&lt;String&gt; array = new ArrayList&lt;String&gt;();\r\n// Iterate through each line and add the strings to the array...\r\n// Then create your matrix of the dimensions you just gathered.\r\nint[][] matrix = new int[m][n];\r\nfor (int i=0; i&lt;matrix.length; i++) {\r\n    String[] split = array.get(i).split(&quot;&quot;); // Stores each value from the string, split to an array by each character\r\n    for (int j=0; j&lt;split.length; j++) { // Loops through each value in the string array\r\n        matrix[i][j] = Integer.parseInt(split[j]); // Adds the value to the matrix\r\n    }\r\n}\r\n```\r\n\r\nNow, if you end up with a file with values separated by spaces or something, all you&#39;d need to do to make it match is change the regex in the ```.split(&quot;&quot;)``` line.\r\n\r\nAssuming you didn&#39;t store the Strings into an array, however, you could loop through your file once more, and do the same process, splitting the ```sc.nextLine()``` into a ```String[]``` array.\r\n\r\nHope this helps.","title":"Fill in matrix from .txt file in Java","body":"<p>Since you already know how to read the file to get the number of lines in each row or column, all you need to do is read through it again, or store it the first time around in <code>ArrayList&lt;String&gt;</code> array.</p>\n<p>Lets say you stored each parsed line in a String array. You could iterate back through each string and parse through the characters to get your values.</p>\n<pre><code>ArrayList&lt;String&gt; array = new ArrayList&lt;String&gt;();\n// Iterate through each line and add the strings to the array...\n// Then create your matrix of the dimensions you just gathered.\nint[][] matrix = new int[m][n];\nfor (int i=0; i&lt;matrix.length; i++) {\n    String[] split = array.get(i).split(&quot;&quot;); // Stores each value from the string, split to an array by each character\n    for (int j=0; j&lt;split.length; j++) { // Loops through each value in the string array\n        matrix[i][j] = Integer.parseInt(split[j]); // Adds the value to the matrix\n    }\n}\n</code></pre>\n<p>Now, if you end up with a file with values separated by spaces or something, all you'd need to do to make it match is change the regex in the <code>.split(&quot;&quot;)</code> line.</p>\n<p>Assuming you didn't store the Strings into an array, however, you could loop through your file once more, and do the same process, splitting the <code>sc.nextLine()</code> into a <code>String[]</code> array.</p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668738213,"creation_date":1668738213,"answer_id":74484265,"question_id":74483315,"body_markdown":"One of the ways you can achieve this by following the steps:\r\n\r\n- Iterate over file (one line at a time)\r\n- Read line and split it into array\r\n- Iterate over the number of columns and populate the columns for the row\r\n\r\nHere is a sample program/excerpt that you can refer to (replace the hard coded values for `rows` and `cols` variables - you&#39;ve already calculated these):\r\n\r\n    try {\r\n            int rows = 2;\r\n            int cols = 3;\r\n            int [][] matrix = new int[rows][cols];\r\n\r\n            Scanner scanner = new Scanner(file);\r\n\r\n            int rowIdx = 0;\r\n            \r\n            // Iterate over each line\r\n            while(scanner.hasNextLine()){\r\n                // Read a line\r\n                String line = scanner.nextLine();\r\n\r\n                // Split into array\r\n                char[] arr = line.toCharArray();\r\n                \r\n                // Populate matrix\r\n                for(int colIdx=0; colIdx&lt; cols; colIdx++){\r\n                    matrix[rowIdx][colIdx] = \r\n                    Character.getNumericValue(arr[colIdx]);\r\n                }\r\n                \r\n                // Increment current &#39;row&#39; index \r\n                rowIdx++;\r\n            }\r\n            \r\n            // This is just to print the array(matrix) and confirm that it is populated correctly\r\n            for(int i =0; i&lt;matrix.length; i++){\r\n                System.out.println(Arrays.toString(matrix[i]));\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n**NOTE**: This program uses `Character.getNumericValue` - be careful using this  as it may not always work as you may expect (specially for non numeric values). Make sure to read the documentation [here](https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#getNumericValue(char))\r\n","title":"Fill in matrix from .txt file in Java","body":"<p>One of the ways you can achieve this by following the steps:</p>\n<ul>\n<li>Iterate over file (one line at a time)</li>\n<li>Read line and split it into array</li>\n<li>Iterate over the number of columns and populate the columns for the row</li>\n</ul>\n<p>Here is a sample program/excerpt that you can refer to (replace the hard coded values for <code>rows</code> and <code>cols</code> variables - you've already calculated these):</p>\n<pre><code>try {\n        int rows = 2;\n        int cols = 3;\n        int [][] matrix = new int[rows][cols];\n\n        Scanner scanner = new Scanner(file);\n\n        int rowIdx = 0;\n        \n        // Iterate over each line\n        while(scanner.hasNextLine()){\n            // Read a line\n            String line = scanner.nextLine();\n\n            // Split into array\n            char[] arr = line.toCharArray();\n            \n            // Populate matrix\n            for(int colIdx=0; colIdx&lt; cols; colIdx++){\n                matrix[rowIdx][colIdx] = \n                Character.getNumericValue(arr[colIdx]);\n            }\n            \n            // Increment current 'row' index \n            rowIdx++;\n        }\n        \n        // This is just to print the array(matrix) and confirm that it is populated correctly\n        for(int i =0; i&lt;matrix.length; i++){\n            System.out.println(Arrays.toString(matrix[i]));\n        }\n    } catch (FileNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<p><strong>NOTE</strong>: This program uses <code>Character.getNumericValue</code> - be careful using this  as it may not always work as you may expect (specially for non numeric values). Make sure to read the documentation <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#getNumericValue(char)\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668751045,"creation_date":1668751045,"answer_id":74485448,"question_id":74483315,"body_markdown":"It&#39;s hardly worth working over a text file for two small integer numbers so we should assume that the text file could also potentially hold something like:\r\n\r\n```\r\n342354645686786\r\n423423689909754\r\n677554345952536\r\n238884546869621\r\n345665678683481\r\n342354645686786\r\n423423689909754\r\n677554345952536\r\n238884546869621\r\n345665678683481\r\n342354645686786\r\n423423689909754\r\n677554345952536\r\n238884546869621\r\n423423689909754\r\n```\r\nPerhaps we may never know exactly what is in the file other than it contains several lines of digits. With this mind, don&#39;t try to initially fill an int[][] Array with the digits in file since we may never know what to initialize the 2D Array with, instead use an ArrayList or List Interface to store an int[] array for each line as they are read in because they can grow dynamically where as an Array can not. Each int[] array contained within the List can then be placed into the matrix (2D) Array once all the data is collected, for example:\r\n\r\n    public static int[][] readMatrix(String url) throws FileNotFoundException {\r\n        File file = new File((url));\r\n        \r\n        java.util.List&lt;int[]&gt; listOfArrays = new java.util.ArrayList&lt;&gt;(); \r\n        String line;\r\n        \r\n        // &#39;Try With Resources&#39; used here to auto-close the reader and free resources.\r\n        try (Scanner sc = new Scanner(file)) {\r\n            while (sc.hasNextLine()) {\r\n                line = sc.nextLine().trim();\r\n                \r\n                /* Line Validation:\r\n                   Skip blank lines (if any) or any line that does \r\n                   not contain all digits.               */\r\n                if (line.isEmpty() || !line.matches(&quot;\\\\d+&quot;)) { \r\n                    continue; \r\n                } \r\n                \r\n                /* Declare and initialize an int[] Array to the \r\n                   number of dogot in line.                */\r\n                int[] array = new int[line.length()];\r\n                for (int i = 0; i &lt; line.length(); i++) {\r\n                    array[i] = Integer.parseInt(String.valueOf(line.charAt(i)));\r\n                }\r\n                \r\n                // Add the newly created array into the List.\r\n                listOfArrays.add(array);\r\n            }\r\n        }\r\n        \r\n        /* Now that the file is all read in, we can create \r\n           the matrix. Don&#39;t supply an initialization value \r\n           for the inner arrays because for all we know this \r\n           might end up being a stagarded matrix. It doesn&#39;t \r\n           need a value.         */\r\n        int[][] matrix = new int[listOfArrays.size()][];\r\n        \r\n        /* Iterate through the list and apply the int[]\r\n           arrays in the list to the matrix[][]. Remember,\r\n           a 2D Array is an Array of Arrays in Java.   */\r\n        for (int i = 0; i &lt; listOfArrays.size(); i++) {\r\n            matrix[i] = listOfArrays.get(i);\r\n        }\r\n        return matrix; // Return the created matrix.\r\n    }\r\n\r\nTo run this method against the file data shown above you might do something like this:\r\n\r\n    int[][] matrix = null;\r\n    try {\r\n        matrix = readMatrix(url);\r\n    }\r\n    catch (Exception ex) {\r\n        System.err.println(ex.getMessage());\r\n    }\r\n        \r\n    if (matrix != null) {\r\n        for (int[] ary : matrix) {\r\n            System.out.println(Arrays.toString(ary).replaceAll(&quot;[\\\\[\\\\],]&quot;, &quot;&quot;));\r\n        }\r\n    }\r\n\r\nAnd the Console Window would display:\r\n\r\n```\r\n3 4 2 3 5 4 6 4 5 6 8 6 7 8 6\r\n4 2 3 4 2 3 6 8 9 9 0 9 7 5 4\r\n6 7 7 5 5 4 3 4 5 9 5 2 5 3 6\r\n2 3 8 8 8 4 5 4 6 8 6 9 6 2 1\r\n3 4 5 6 6 5 6 7 8 6 8 3 4 8 1\r\n3 4 2 3 5 4 6 4 5 6 8 6 7 8 6\r\n4 2 3 4 2 3 6 8 9 9 0 9 7 5 4\r\n6 7 7 5 5 4 3 4 5 9 5 2 5 3 6\r\n2 3 8 8 8 4 5 4 6 8 6 9 6 2 1\r\n3 4 5 6 6 5 6 7 8 6 8 3 4 8 1\r\n3 4 2 3 5 4 6 4 5 6 8 6 7 8 6\r\n4 2 3 4 2 3 6 8 9 9 0 9 7 5 4\r\n6 7 7 5 5 4 3 4 5 9 5 2 5 3 6\r\n2 3 8 8 8 4 5 4 6 8 6 9 6 2 1\r\n3 4 5 6 6 5 6 7 8 6 8 3 4 8 1\r\n```","title":"Fill in matrix from .txt file in Java","body":"<p>It's hardly worth working over a text file for two small integer numbers so we should assume that the text file could also potentially hold something like:</p>\n<pre><code>342354645686786\n423423689909754\n677554345952536\n238884546869621\n345665678683481\n342354645686786\n423423689909754\n677554345952536\n238884546869621\n345665678683481\n342354645686786\n423423689909754\n677554345952536\n238884546869621\n423423689909754\n</code></pre>\n<p>Perhaps we may never know exactly what is in the file other than it contains several lines of digits. With this mind, don't try to initially fill an int[][] Array with the digits in file since we may never know what to initialize the 2D Array with, instead use an ArrayList or List Interface to store an int[] array for each line as they are read in because they can grow dynamically where as an Array can not. Each int[] array contained within the List can then be placed into the matrix (2D) Array once all the data is collected, for example:</p>\n<pre><code>public static int[][] readMatrix(String url) throws FileNotFoundException {\n    File file = new File((url));\n    \n    java.util.List&lt;int[]&gt; listOfArrays = new java.util.ArrayList&lt;&gt;(); \n    String line;\n    \n    // 'Try With Resources' used here to auto-close the reader and free resources.\n    try (Scanner sc = new Scanner(file)) {\n        while (sc.hasNextLine()) {\n            line = sc.nextLine().trim();\n            \n            /* Line Validation:\n               Skip blank lines (if any) or any line that does \n               not contain all digits.               */\n            if (line.isEmpty() || !line.matches(&quot;\\\\d+&quot;)) { \n                continue; \n            } \n            \n            /* Declare and initialize an int[] Array to the \n               number of dogot in line.                */\n            int[] array = new int[line.length()];\n            for (int i = 0; i &lt; line.length(); i++) {\n                array[i] = Integer.parseInt(String.valueOf(line.charAt(i)));\n            }\n            \n            // Add the newly created array into the List.\n            listOfArrays.add(array);\n        }\n    }\n    \n    /* Now that the file is all read in, we can create \n       the matrix. Don't supply an initialization value \n       for the inner arrays because for all we know this \n       might end up being a stagarded matrix. It doesn't \n       need a value.         */\n    int[][] matrix = new int[listOfArrays.size()][];\n    \n    /* Iterate through the list and apply the int[]\n       arrays in the list to the matrix[][]. Remember,\n       a 2D Array is an Array of Arrays in Java.   */\n    for (int i = 0; i &lt; listOfArrays.size(); i++) {\n        matrix[i] = listOfArrays.get(i);\n    }\n    return matrix; // Return the created matrix.\n}\n</code></pre>\n<p>To run this method against the file data shown above you might do something like this:</p>\n<pre><code>int[][] matrix = null;\ntry {\n    matrix = readMatrix(url);\n}\ncatch (Exception ex) {\n    System.err.println(ex.getMessage());\n}\n    \nif (matrix != null) {\n    for (int[] ary : matrix) {\n        System.out.println(Arrays.toString(ary).replaceAll(&quot;[\\\\[\\\\],]&quot;, &quot;&quot;));\n    }\n}\n</code></pre>\n<p>And the Console Window would display:</p>\n<pre><code>3 4 2 3 5 4 6 4 5 6 8 6 7 8 6\n4 2 3 4 2 3 6 8 9 9 0 9 7 5 4\n6 7 7 5 5 4 3 4 5 9 5 2 5 3 6\n2 3 8 8 8 4 5 4 6 8 6 9 6 2 1\n3 4 5 6 6 5 6 7 8 6 8 3 4 8 1\n3 4 2 3 5 4 6 4 5 6 8 6 7 8 6\n4 2 3 4 2 3 6 8 9 9 0 9 7 5 4\n6 7 7 5 5 4 3 4 5 9 5 2 5 3 6\n2 3 8 8 8 4 5 4 6 8 6 9 6 2 1\n3 4 5 6 6 5 6 7 8 6 8 3 4 8 1\n3 4 2 3 5 4 6 4 5 6 8 6 7 8 6\n4 2 3 4 2 3 6 8 9 9 0 9 7 5 4\n6 7 7 5 5 4 3 4 5 9 5 2 5 3 6\n2 3 8 8 8 4 5 4 6 8 6 9 6 2 1\n3 4 5 6 6 5 6 7 8 6 8 3 4 8 1\n</code></pre>\n"}],"owner":{"account_id":14524764,"reputation":111,"user_id":10491430,"display_name":"Karim Abou El Naga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1668751045,"creation_date":1668727722,"question_id":74483315,"body_markdown":"I am trying to read a .txt file with a certain format and fill it into a matrix in Java.\r\n\r\nThe text file has following format:\r\n\r\n```\r\n123\r\n456\r\n```\r\n\r\nI have the following code, that creates the matrix based on the .txt file with the right dimension(2 rows, 3 columns in this case).\r\n\r\n```\r\npublic static int [][] readMatrix(String url)\r\n\t\t\tthrows FileNotFoundException {\r\n\r\n\r\n\t\tint m = 1;\r\n        String URL = &#39;.\\src\\User\\url.txt&#39;; \r\n\r\n\t\tFile file = new File((url));\r\n\t\tScanner sc = new Scanner(file);\r\n\r\n\t\tString line = sc.nextLine();\r\n\t\tint n = line.length();\r\n\r\n\t\twhile (sc.hasNextLine()) {\r\n\t\t\tm+= 1;\r\n\t\t\tsc.nextLine();\r\n\t\t}\r\n\tint [][] matrix = new int[m][n];\r\n\r\n\treturn matrix;\r\n\t}\r\n```\r\n\r\nIn the next step, I want to fill out the matrix with the content from the .txt file, I tried using a Scanner but I couldn&#39;t figure out the syntax to iterate properly.\r\n\r\nAny suggestions?\r\n\r\nThanks in advance!","title":"Fill in matrix from .txt file in Java","body":"<p>I am trying to read a .txt file with a certain format and fill it into a matrix in Java.</p>\n<p>The text file has following format:</p>\n<pre><code>123\n456\n</code></pre>\n<p>I have the following code, that creates the matrix based on the .txt file with the right dimension(2 rows, 3 columns in this case).</p>\n<pre><code>public static int [][] readMatrix(String url)\n            throws FileNotFoundException {\n\n\n        int m = 1;\n        String URL = '.\\src\\User\\url.txt'; \n\n        File file = new File((url));\n        Scanner sc = new Scanner(file);\n\n        String line = sc.nextLine();\n        int n = line.length();\n\n        while (sc.hasNextLine()) {\n            m+= 1;\n            sc.nextLine();\n        }\n    int [][] matrix = new int[m][n];\n\n    return matrix;\n    }\n</code></pre>\n<p>In the next step, I want to fill out the matrix with the content from the .txt file, I tried using a Scanner but I couldn't figure out the syntax to iterate properly.</p>\n<p>Any suggestions?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":11686577,"reputation":318,"user_id":8556199,"display_name":"Samuel Dominguez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668749162,"creation_date":1668749162,"answer_id":74485268,"question_id":74484631,"body_markdown":"similar to conditional on expression, spring has conditional on property that can do this https://www.baeldung.com/spring-conditionalonproperty\r\n\r\nI&#39;ve used this to create a bean of a class that implements an interface when 2 classes implement the interface. \r\nOnly 1 of the conditionals on both of the beans should evaluate to true so that you don&#39;t get a conflict error.","title":"How to create bean based on property in springboot","body":"<p>similar to conditional on expression, spring has conditional on property that can do this <a href=\"https://www.baeldung.com/spring-conditionalonproperty\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-conditionalonproperty</a></p>\n<p>I've used this to create a bean of a class that implements an interface when 2 classes implement the interface.\nOnly 1 of the conditionals on both of the beans should evaluate to true so that you don't get a conflict error.</p>\n"},{"tags":[],"owner":{"account_id":16659495,"reputation":318,"user_id":12039826,"display_name":"ajesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668750437,"creation_date":1668750437,"answer_id":74485396,"question_id":74484631,"body_markdown":"You can try something like this\r\n\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(prefix = &quot;my.property.prefix&quot;, name = &quot;myProperty&quot;)\r\n    public MyBean myBean(){\r\n      return new MyBean();\r\n    }\r\n\r\nRefer - [Spring boot ConditionalOnProperty docs][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnProperty.html","title":"How to create bean based on property in springboot","body":"<p>You can try something like this</p>\n<pre><code>@Bean\n@ConditionalOnProperty(prefix = &quot;my.property.prefix&quot;, name = &quot;myProperty&quot;)\npublic MyBean myBean(){\n  return new MyBean();\n}\n</code></pre>\n<p>Refer - <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnProperty.html\" rel=\"nofollow noreferrer\">Spring boot ConditionalOnProperty docs</a></p>\n"}],"owner":{"account_id":16669662,"reputation":478,"user_id":12047466,"display_name":"TechGeek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74485396,"answer_count":2,"score":0,"last_activity_date":1668750437,"creation_date":1668742334,"question_id":74484631,"body_markdown":"I have two beans in my application configuration. I would like to enable only one bean based on property, Can we make bean conditional based on property ?\r\n\r\nEx: Let say if I have this property  `enable.userconnection: true`, I would like to create `UserCredentialsConnectionFactoryAdapter` bean. If I set that value to `false`. I would like to enable `CachingConnectionFactory` bean.\r\n\r\n```\r\n@Bean\r\npublic CachingConnectionFactory connectionFactory(\r\n  CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\r\n  connectionFactory.setTargetConnectionFactory(axonConnectionFactory);\r\n  connectionFactory.setReconnectOnException(true);\r\n  connectionFactory.setSessionCacheSize(jmsSessionCacheSize);\r\n  return connectionFactory;\r\n}\r\n\r\n@Bean\r\npublic UserCredentialsConnectionFactoryAdapter userCredentialsConnectionFactoryAdapter()\r\n    throws Exception {\r\n  UserCredentialsConnectionFactoryAdapter connectionFactoryAdapter =\r\n      new UserCredentialsConnectionFactoryAdapter();\r\n    connectionFactoryAdapter.setUsername(getUsername());\r\n    connectionFactoryAdapter.setPassword(getPassword());\r\n    connectionFactoryAdapter.setTargetConnectionFactory(\r\n        messagingJMSService().getConnectionFactory(getName()));\r\n  return connectionFactoryAdapter;\r\n}\r\n```\r\n\r\nI tried this way, which works fine based on the profile. But, I would like to apply similar logic making use of property.\r\n\r\n```\r\n@ConditionalOnExpression(&quot;#{!environment.getProperty(&#39;spring.profiles.active&#39;).contains(&#39;a&#39;) &amp;&amp; !environment.getProperty(&#39;spring.profiles.active&#39;).contains(&#39;b&#39;)}&quot;)\r\n```","title":"How to create bean based on property in springboot","body":"<p>I have two beans in my application configuration. I would like to enable only one bean based on property, Can we make bean conditional based on property ?</p>\n<p>Ex: Let say if I have this property  <code>enable.userconnection: true</code>, I would like to create <code>UserCredentialsConnectionFactoryAdapter</code> bean. If I set that value to <code>false</code>. I would like to enable <code>CachingConnectionFactory</code> bean.</p>\n<pre><code>@Bean\npublic CachingConnectionFactory connectionFactory(\n  CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\n  connectionFactory.setTargetConnectionFactory(axonConnectionFactory);\n  connectionFactory.setReconnectOnException(true);\n  connectionFactory.setSessionCacheSize(jmsSessionCacheSize);\n  return connectionFactory;\n}\n\n@Bean\npublic UserCredentialsConnectionFactoryAdapter userCredentialsConnectionFactoryAdapter()\n    throws Exception {\n  UserCredentialsConnectionFactoryAdapter connectionFactoryAdapter =\n      new UserCredentialsConnectionFactoryAdapter();\n    connectionFactoryAdapter.setUsername(getUsername());\n    connectionFactoryAdapter.setPassword(getPassword());\n    connectionFactoryAdapter.setTargetConnectionFactory(\n        messagingJMSService().getConnectionFactory(getName()));\n  return connectionFactoryAdapter;\n}\n</code></pre>\n<p>I tried this way, which works fine based on the profile. But, I would like to apply similar logic making use of property.</p>\n<pre><code>@ConditionalOnExpression(&quot;#{!environment.getProperty('spring.profiles.active').contains('a') &amp;&amp; !environment.getProperty('spring.profiles.active').contains('b')}&quot;)\n</code></pre>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1668726619,"post_id":74482943,"comment_id":131483319,"body_markdown":"Hint: `System.out.println(&quot;\\u2503    Some text    \\u2503&quot;);`","body":"Hint: <code>System.out.println(&quot;\\u2503    Some text    \\u2503&quot;);</code>"},{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":1,"creation_date":1668748775,"post_id":74482943,"comment_id":131486607,"body_markdown":"It&#39;s really important to include properly-formatted text for all code/data/errors/output. See [Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) for many reasons why this is important.","body":"It&#39;s really important to include properly-formatted text for all code/data/errors/output. See <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> for many reasons why this is important."}],"owner":{"account_id":26967996,"reputation":1,"user_id":20534485,"display_name":"Charlie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668748794,"creation_date":1668724923,"question_id":74482943,"body_markdown":"I am having trouble with creating a box. This is the homework assignment I am having trouble with. This is what I am getting with my code so far: \r\n```\r\nSystem.out.println(&quot;\\t\\t\\tAnnual\\sWaste\\sCharges&quot;);\r\n\t\tint bucky[]= {32, 12, 18, 54, 2};\r\n\t\t\r\n\t\tSystem.out.printf(&quot;\\u2503\\r\\u2503\\r\\u2503\\r\\u2503\\r\\u2503\\r\\u2503\\r\\u2503\\r\\u2503\\r\\u2503\\r\\u2503&quot;);\r\n\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\tGreen Clean recycling waste&quot; + 0f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tGreen Clean general waste&quot; + 0.21f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tGreen Clean organic waste&quot; + 0.10f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tGreen Clean glass waste&quot; + 0.15f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tCountry Collect general waste&quot; + 0.14f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tCountry Collect recycling waste&quot; + 0.14f + &quot;year&quot;);\t\t\t\t\r\n\t\tSystem.out.println(&quot;\\tCountry Collect organic waste&quot; + 0.10f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tCountry Collect glass waste&quot; + 0.12f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tEnviro general waste &quot; + 0.30f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tEnviro recycling waste&quot; + 0f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tEnviro organic waste&quot; + 0f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tEnviro glass waste&quot; + 0f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tWaste Away general waste&quot; + 0.10f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tWaste Away recycling waste&quot; + 0.10f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tWaste Away organic waste&quot; + 0.10f + &quot;year&quot;);\r\n\t\tSystem.out.println(&quot;\\tWaste Away glass waste&quot; + 0.10f + &quot;year&quot;);\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.printf(&quot;\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501&quot;);\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nCan anybody help with this as soon as possible? I am meant to be designing this box in Unicode in Java as well, thank you. ](https://i.stack.imgur.com/LdKoa.jpg)](https://i.stack.imgur.com/VGx6A.jpg)\r\n\r\nI am trying to work on building a chart out of Unicode for my Java class.","title":"I want to print a unicode box in my recycling waste algorithm","body":"<p>I am having trouble with creating a box. This is the homework assignment I am having trouble with. This is what I am getting with my code so far:</p>\n<pre><code>System.out.println(&quot;\\t\\t\\tAnnual\\sWaste\\sCharges&quot;);\n        int bucky[]= {32, 12, 18, 54, 2};\n        \n        System.out.printf(&quot;\\u2503\\r\\u2503\\r\\u2503\\r\\u2503\\r\\u2503\\r\\u2503\\r\\u2503\\r\\u2503\\r\\u2503\\r\\u2503&quot;);\n\n        \n        System.out.println(&quot;\\tGreen Clean recycling waste&quot; + 0f + &quot;year&quot;);\n        System.out.println(&quot;\\tGreen Clean general waste&quot; + 0.21f + &quot;year&quot;);\n        System.out.println(&quot;\\tGreen Clean organic waste&quot; + 0.10f + &quot;year&quot;);\n        System.out.println(&quot;\\tGreen Clean glass waste&quot; + 0.15f + &quot;year&quot;);\n        System.out.println(&quot;\\tCountry Collect general waste&quot; + 0.14f + &quot;year&quot;);\n        System.out.println(&quot;\\tCountry Collect recycling waste&quot; + 0.14f + &quot;year&quot;);               \n        System.out.println(&quot;\\tCountry Collect organic waste&quot; + 0.10f + &quot;year&quot;);\n        System.out.println(&quot;\\tCountry Collect glass waste&quot; + 0.12f + &quot;year&quot;);\n        System.out.println(&quot;\\tEnviro general waste &quot; + 0.30f + &quot;year&quot;);\n        System.out.println(&quot;\\tEnviro recycling waste&quot; + 0f + &quot;year&quot;);\n        System.out.println(&quot;\\tEnviro organic waste&quot; + 0f + &quot;year&quot;);\n        System.out.println(&quot;\\tEnviro glass waste&quot; + 0f + &quot;year&quot;);\n        System.out.println(&quot;\\tWaste Away general waste&quot; + 0.10f + &quot;year&quot;);\n        System.out.println(&quot;\\tWaste Away recycling waste&quot; + 0.10f + &quot;year&quot;);\n        System.out.println(&quot;\\tWaste Away organic waste&quot; + 0.10f + &quot;year&quot;);\n        System.out.println(&quot;\\tWaste Away glass waste&quot; + 0.10f + &quot;year&quot;);\n        \n        \n        System.out.printf(&quot;\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501&quot;);\n        \n        \n    }\n}\n</code></pre>\n<p>Can anybody help with this as soon as possible? I am meant to be designing this box in Unicode in Java as well, thank you. ](<a href=\"https://i.stack.imgur.com/LdKoa.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/LdKoa.jpg</a>)](<a href=\"https://i.stack.imgur.com/VGx6A.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/VGx6A.jpg</a>)</p>\n<p>I am trying to work on building a chart out of Unicode for my Java class.</p>\n"},{"tags":["java","servlets"],"answers":[{"tags":[],"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668748206,"creation_date":1668708149,"answer_id":74480087,"question_id":74478092,"body_markdown":"You have to store the chat somewhere. You could use a database or a file. An alternative place is to use a Servlet member variable. Of course chat will be lost when the server is shutdown. Here is demonstration code. \r\n\r\n\tpackage rick;\r\n\timport java.io.IOException;\r\n\timport java.io.PrintWriter;\r\n\timport jakarta.servlet.ServletException;\r\n\timport jakarta.servlet.annotation.WebServlet;\r\n\timport jakarta.servlet.http.HttpServlet;\r\n\timport jakarta.servlet.http.HttpServletRequest;\r\n\timport jakarta.servlet.http.HttpServletResponse;\r\n\t@WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;)\r\n\tpublic class HelloServlet extends HttpServlet {\r\n\t    String chat = &quot;Hello &lt;br&gt;&quot;;\r\n\t\t@Override\r\n\t\tprotected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\t\t\tresp.setContentType(&quot;text/html&quot;);\r\n\t\t\tPrintWriter out = resp.getWriter();\r\n\t\t\tString message = req.getParameter(&quot;message&quot;);\r\n\t\t\tif(message != null &amp;&amp; !&quot;&quot;.equals(message.trim())) {\r\n\t\t\t\tchat += message + &quot;&lt;br&gt;&quot; ;\r\n\t\t\t}\r\n\t\t\tout.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;form action=\\&quot;hello-servlet\\&quot; method=\\&quot;post\\&quot; &gt;&quot;);\r\n\t\t\tout.println(&quot;Message: &lt;input type=\\&quot;text\\&quot; name=\\&quot;message\\&quot;/&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;input type=\\&quot;submit\\&quot; value=\\&quot;Submit\\&quot;/&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;/form&gt;&quot;);\r\n\t\t\tout.println(chat);\r\n\t\t\tout.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n\t\t}\r\n        @Override\r\n        protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\t\t    doPost(req, resp); \r\n        }\r\n    }","title":"Append to text area with PrintWriter intead of replacing it","body":"<p>You have to store the chat somewhere. You could use a database or a file. An alternative place is to use a Servlet member variable. Of course chat will be lost when the server is shutdown. Here is demonstration code.</p>\n<pre><code>package rick;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n@WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;)\npublic class HelloServlet extends HttpServlet {\n    String chat = &quot;Hello &lt;br&gt;&quot;;\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        resp.setContentType(&quot;text/html&quot;);\n        PrintWriter out = resp.getWriter();\n        String message = req.getParameter(&quot;message&quot;);\n        if(message != null &amp;&amp; !&quot;&quot;.equals(message.trim())) {\n            chat += message + &quot;&lt;br&gt;&quot; ;\n        }\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\n        out.println(&quot;&lt;form action=\\&quot;hello-servlet\\&quot; method=\\&quot;post\\&quot; &gt;&quot;);\n        out.println(&quot;Message: &lt;input type=\\&quot;text\\&quot; name=\\&quot;message\\&quot;/&gt;&quot;);\n        out.println(&quot;&lt;input type=\\&quot;submit\\&quot; value=\\&quot;Submit\\&quot;/&gt;&quot;);\n        out.println(&quot;&lt;/form&gt;&quot;);\n        out.println(chat);\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n    }\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        doPost(req, resp); \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19271770,"reputation":83,"user_id":15543868,"display_name":"niklaswort"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74480087,"answer_count":1,"score":-1,"last_activity_date":1668748206,"creation_date":1668699070,"question_id":74478092,"body_markdown":"I want to append the message entered in the form to the text area instead of replacing it using the doPost method of HttpServlet. I have only managed to completely replace the html...\r\n\r\n```\r\n@WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;)\r\npublic class HelloServlet extends HttpServlet {\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        resp.setContentType(&quot;text/html&quot;);\r\n        PrintWriter out = resp.getWriter();\r\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\r\n        // dont redirect to a new page, but write the response directly to the response object\r\n        out.println(&quot;&lt;form action=\\&quot;hello-servlet\\&quot; method=\\&quot;post\\&quot; target=\\&quot;chat\\&quot;&gt;&quot;);\r\n        out.println(&quot;Message: &lt;input type=\\&quot;text\\&quot; name=\\&quot;message\\&quot;/&gt;&quot;);\r\n        out.println(&quot;&lt;input type=\\&quot;submit\\&quot; value=\\&quot;Submit\\&quot;/&gt;&quot;);\r\n        out.println(&quot;&lt;/form&gt;&quot;);\r\n\r\n        out.println(&quot;&lt;textarea name=\\&quot;chatoutput\\&quot; id=\\&quot;chat\\&quot; cols=\\&quot;50\\&quot; rows=\\&quot;10\\&quot;readonly&gt;&quot;);\r\n        out.println(&quot;Hello&quot;);\r\n\r\n        out.println(&quot;&lt;/textarea&gt;&quot;);\r\n\r\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        String message = req.getParameter(&quot;message&quot;);\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n```","title":"Append to text area with PrintWriter intead of replacing it","body":"<p>I want to append the message entered in the form to the text area instead of replacing it using the doPost method of HttpServlet. I have only managed to completely replace the html...</p>\n<pre><code>@WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;)\npublic class HelloServlet extends HttpServlet {\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        resp.setContentType(&quot;text/html&quot;);\n        PrintWriter out = resp.getWriter();\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\n        // dont redirect to a new page, but write the response directly to the response object\n        out.println(&quot;&lt;form action=\\&quot;hello-servlet\\&quot; method=\\&quot;post\\&quot; target=\\&quot;chat\\&quot;&gt;&quot;);\n        out.println(&quot;Message: &lt;input type=\\&quot;text\\&quot; name=\\&quot;message\\&quot;/&gt;&quot;);\n        out.println(&quot;&lt;input type=\\&quot;submit\\&quot; value=\\&quot;Submit\\&quot;/&gt;&quot;);\n        out.println(&quot;&lt;/form&gt;&quot;);\n\n        out.println(&quot;&lt;textarea name=\\&quot;chatoutput\\&quot; id=\\&quot;chat\\&quot; cols=\\&quot;50\\&quot; rows=\\&quot;10\\&quot;readonly&gt;&quot;);\n        out.println(&quot;Hello&quot;);\n\n        out.println(&quot;&lt;/textarea&gt;&quot;);\n\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        String message = req.getParameter(&quot;message&quot;);\n\n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","url","slash","trailing"],"answers":[{"tags":[],"owner":{"account_id":37049,"reputation":8411,"user_id":105827,"display_name":"CarlosZ"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1365720829,"creation_date":1301081264,"answer_id":5437196,"question_id":5437158,"body_markdown":"`url.replaceAll(&quot;/$&quot;, &quot;&quot;)` the `$` matches the end of a string so it replaces the trailing slash if it exists.","title":"Remove a trailing slash from a string(changed from url type) in JAVA","body":"<p><code>url.replaceAll(\"/$\", \"\")</code> the <code>$</code> matches the end of a string so it replaces the trailing slash if it exists.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1301081490,"creation_date":1301081490,"answer_id":5437227,"question_id":5437158,"body_markdown":"As its name indicates, the replaceAll method replaces all the occurrences of the searched string with the replacement string. This is obviously not what you want. You could have found it yourself by reading [the javadoc][1].\r\n\r\nThe second one is closer from the truth. By reading the javadoc of the String class, you&#39;ll find a useful method called substring, which extracts a substring from a string, given two indices. \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/","title":"Remove a trailing slash from a string(changed from url type) in JAVA","body":"<p>As its name indicates, the replaceAll method replaces all the occurrences of the searched string with the replacement string. This is obviously not what you want. You could have found it yourself by reading <a href=\"http://download.oracle.com/javase/6/docs/api/\" rel=\"nofollow\">the javadoc</a>.</p>\n\n<p>The second one is closer from the truth. By reading the javadoc of the String class, you'll find a useful method called substring, which extracts a substring from a string, given two indices. </p>\n"},{"tags":[],"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1301083692,"creation_date":1301083326,"answer_id":5437524,"question_id":5437158,"body_markdown":"There are two options: using pattern matching (slightly slower):\r\n\r\n    s = s.replaceAll(&quot;/$&quot;, &quot;&quot;);\r\n\r\nor:\r\n\r\n    s = s.replaceAll(&quot;/\\\\z&quot;, &quot;&quot;);\r\n\r\nAnd using an if statement (slightly faster):\r\n\r\n    if (s.endsWith(&quot;/&quot;)) {\r\n        s = s.substring(0, s.length() - 1);\r\n    }\r\n\r\nor (a bit ugly):\r\n\r\n    s = s.substring(0, s.length() - (s.endsWith(&quot;/&quot;) ? 1 : 0));\r\n\r\n\r\nPlease note you need to use `s = s...`, because Strings are immutable.","title":"Remove a trailing slash from a string(changed from url type) in JAVA","body":"<p>There are two options: using pattern matching (slightly slower):</p>\n\n<pre><code>s = s.replaceAll(\"/$\", \"\");\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>s = s.replaceAll(\"/\\\\z\", \"\");\n</code></pre>\n\n<p>And using an if statement (slightly faster):</p>\n\n<pre><code>if (s.endsWith(\"/\")) {\n    s = s.substring(0, s.length() - 1);\n}\n</code></pre>\n\n<p>or (a bit ugly):</p>\n\n<pre><code>s = s.substring(0, s.length() - (s.endsWith(\"/\") ? 1 : 0));\n</code></pre>\n\n<p>Please note you need to use <code>s = s...</code>, because Strings are immutable.</p>\n"},{"tags":[],"owner":{"account_id":348250,"reputation":324,"user_id":682844,"display_name":"Dante"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1335433289,"creation_date":1335433289,"answer_id":10330880,"question_id":5437158,"body_markdown":"If you are a user of **Apache Commons Lang** you can take profit of the *chomp* method located in *StringUtils* \n&gt; String s = &quot;http://almaden.ibm.com/&quot;;\n&gt;\n&gt; StringUtils.chomp(s,File.separatorChar+&quot;&quot;)","title":"Remove a trailing slash from a string(changed from url type) in JAVA","body":"<p>If you are a user of <strong>Apache Commons Lang</strong> you can take profit of the <em>chomp</em> method located in <em>StringUtils</em></p>\n<blockquote>\n<p>String s = &quot;http://almaden.ibm.com/&quot;;</p>\n<p>StringUtils.chomp(s,File.separatorChar+&quot;&quot;)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2035607,"reputation":181,"user_id":1818035,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1352723057,"creation_date":1352723057,"answer_id":13343661,"question_id":5437158,"body_markdown":"This should work better:\r\n\r\n    url.replaceFirst(&quot;/*$&quot;, &quot;&quot;)\r\n","title":"Remove a trailing slash from a string(changed from url type) in JAVA","body":"<p>This should work better:</p>\n\n<pre><code>url.replaceFirst(\"/*$\", \"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1218420,"reputation":2261,"user_id":1185555,"accept_rate":44,"display_name":"Serhii Bohutskyi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1381331195,"creation_date":1381331195,"answer_id":19275794,"question_id":5437158,"body_markdown":"simple method in java\r\n\r\n    String removeLastSlash(String url) {\r\n        if(url.endsWith(&quot;/&quot;)) {\r\n            return url.substring(0, url.lastIndexOf(&quot;/&quot;));\r\n        } else {\r\n            return url;\r\n        }\r\n    }","title":"Remove a trailing slash from a string(changed from url type) in JAVA","body":"<p>simple method in java</p>\n\n<pre><code>String removeLastSlash(String url) {\n    if(url.endsWith(\"/\")) {\n        return url.substring(0, url.lastIndexOf(\"/\"));\n    } else {\n        return url;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2744869,"reputation":2363,"user_id":2365507,"display_name":"Sai Aditya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1401105677,"creation_date":1401105677,"answer_id":23869697,"question_id":5437158,"body_markdown":"\r\n\r\n       if (null != str &amp;&amp; str.length &gt; 0 )\r\n        {\r\n            int endIndex = str.lastIndexOf(&quot;/&quot;);\r\n            if (endIndex != -1)  \r\n            {\r\n                String newstr = str.subString(0, endIndex); // not forgot to put check if(endIndex != -1)\r\n            }\r\n        }  ","title":"Remove a trailing slash from a string(changed from url type) in JAVA","body":"<pre><code>   if (null != str &amp;&amp; str.length &gt; 0 )\n    {\n        int endIndex = str.lastIndexOf(\"/\");\n        if (endIndex != -1)  \n        {\n            String newstr = str.subString(0, endIndex); // not forgot to put check if(endIndex != -1)\n        }\n    }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1421238110,"creation_date":1421238110,"answer_id":27942845,"question_id":5437158,"body_markdown":"Easiest way ...\r\n\r\n    String yourRequiredString = myString.subString(0,myString.lastIndexOf(&quot;/&quot;));","title":"Remove a trailing slash from a string(changed from url type) in JAVA","body":"<p>Easiest way ...</p>\n\n<pre><code>String yourRequiredString = myString.subString(0,myString.lastIndexOf(\"/\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7212556,"reputation":31,"user_id":5506110,"display_name":"Lorenzo Nazario"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447829231,"creation_date":1447829231,"answer_id":33773476,"question_id":5437158,"body_markdown":"a more compact way:\n\n&gt; String pathExample = &quot;/test/dir1/dir2/&quot;;\n&gt;\n&gt; String trimmedSlash = pathExample.replaceAll(&quot;^/|/$&quot;,&quot;&quot;);\n\nregexp ^/ replaces the first,  /$  replaces the last","title":"Remove a trailing slash from a string(changed from url type) in JAVA","body":"<p>a more compact way:</p>\n<blockquote>\n<p>String pathExample = &quot;/test/dir1/dir2/&quot;;</p>\n<p>String trimmedSlash = pathExample.replaceAll(&quot;^/|/$&quot;,&quot;&quot;);</p>\n</blockquote>\n<p>regexp ^/ replaces the first,  /$  replaces the last</p>\n"},{"tags":[],"owner":{"account_id":233507,"reputation":14380,"user_id":499052,"display_name":"Babatunde Adeyemi"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1568648301,"creation_date":1568648301,"answer_id":57960233,"question_id":5437158,"body_markdown":"You can achieve this with [Apache Commons StringUtils][1] as follows:\r\n\r\n```\r\nString s = &quot;http://almaden.ibm.com/&quot;;\r\nStringUtils.removeEnd(s, &quot;/&quot;)\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#removeEnd-java.lang.String-java.lang.String-","title":"Remove a trailing slash from a string(changed from url type) in JAVA","body":"<p>You can achieve this with <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#removeEnd-java.lang.String-java.lang.String-\" rel=\"noreferrer\">Apache Commons StringUtils</a> as follows:</p>\n\n<pre><code>String s = \"http://almaden.ibm.com/\";\nStringUtils.removeEnd(s, \"/\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668746958,"creation_date":1668746958,"answer_id":74485056,"question_id":5437158,"body_markdown":"## Kotlin side\r\n\r\n```kotlin\r\n    fun removeTrailSlash(s: String): String {\r\n        return s.replace(Regex(&quot;/$&quot;), &quot;&quot;)\r\n    }\r\n\r\n    fun String.removeTrailSlash(): String {\r\n        return CommonUtil.removeTrailSlash(this)\r\n    }\r\n```\r\n\r\n```kotlin\r\n    @Test\r\n    fun removeTrailSlash() {\r\n        // given\r\n        val expected = &quot;asdf/qwer&quot;\r\n        val s = &quot;$expected/&quot;\r\n        // when\r\n        val actual = CommonUtil.removeTrailSlash(s)\r\n        // then\r\n        assertEquals(expected, actual)\r\n    }\r\n    \r\n    @Test\r\n    fun removeTrailSlash() {\r\n        // given\r\n        val expected = &quot;asdf/qwer&quot;\r\n        val s = &quot;$expected/&quot;\r\n        // when\r\n        val actual = s.removeTrailSlash()\r\n        // then\r\n        Assertions.assertEquals(expected, actual)\r\n    }\r\n```","title":"Remove a trailing slash from a string(changed from url type) in JAVA","body":"<h2>Kotlin side</h2>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    fun removeTrailSlash(s: String): String {\n        return s.replace(Regex(&quot;/$&quot;), &quot;&quot;)\n    }\n\n    fun String.removeTrailSlash(): String {\n        return CommonUtil.removeTrailSlash(this)\n    }\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @Test\n    fun removeTrailSlash() {\n        // given\n        val expected = &quot;asdf/qwer&quot;\n        val s = &quot;$expected/&quot;\n        // when\n        val actual = CommonUtil.removeTrailSlash(s)\n        // then\n        assertEquals(expected, actual)\n    }\n    \n    @Test\n    fun removeTrailSlash() {\n        // given\n        val expected = &quot;asdf/qwer&quot;\n        val s = &quot;$expected/&quot;\n        // when\n        val actual = s.removeTrailSlash()\n        // then\n        Assertions.assertEquals(expected, actual)\n    }\n</code></pre>\n"}],"owner":{"account_id":202828,"reputation":4841,"user_id":450117,"accept_rate":75,"display_name":"Eswar Rajesh Pinapala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79193,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":57960233,"answer_count":11,"score":51,"last_activity_date":1668746958,"creation_date":1301081067,"question_id":5437158,"body_markdown":"I want to remove the trailing slash from a string in Java. \r\n\r\nI want to check if the string ends with a url, and if it does, i want to remove it.\r\n\r\nHere is what I have:\r\n\r\n    String s = &quot;http://almaden.ibm.com/&quot;;\r\n    \r\n    s= s.replaceAll(&quot;/&quot;,&quot;&quot;);\r\n\r\nand this:\r\n\r\n    String s = &quot;http://almaden.ibm.com/&quot;;\r\n    length  =  s.length();\r\n    --length;\r\n    Char buff = s.charAt((length);\r\n    if(buff == &#39;/&#39;)\r\n    {\r\n         LOGGER.info(&quot;ends with trailing slash&quot;);\r\n    /*how to remove?*/\r\n    }\r\n    else  LOGGER.info(&quot;Doesnt end with trailing slash&quot;);\r\n\r\nBut neither work.","title":"Remove a trailing slash from a string(changed from url type) in JAVA","body":"<p>I want to remove the trailing slash from a string in Java. </p>\n\n<p>I want to check if the string ends with a url, and if it does, i want to remove it.</p>\n\n<p>Here is what I have:</p>\n\n<pre><code>String s = \"http://almaden.ibm.com/\";\n\ns= s.replaceAll(\"/\",\"\");\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>String s = \"http://almaden.ibm.com/\";\nlength  =  s.length();\n--length;\nChar buff = s.charAt((length);\nif(buff == '/')\n{\n     LOGGER.info(\"ends with trailing slash\");\n/*how to remove?*/\n}\nelse  LOGGER.info(\"Doesnt end with trailing slash\");\n</code></pre>\n\n<p>But neither work.</p>\n"},{"tags":["java","lettuce","spring-data-redis-reactive"],"owner":{"account_id":1537916,"reputation":195,"user_id":1433374,"display_name":"user1433374"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668746448,"creation_date":1668746448,"question_id":74485008,"body_markdown":"Pipeline support is available on RedisTemplate (RedisTemplate.executePipelined) But I couldn&#39;t find any equivalent option in ReactiveRedisTemplate to use pipeline or batch operations.\r\n\r\nKindly direct me to the right API or any alternative approaches.\r\n\r\n**spring-data-redis:2.7.5 (with lettuce)** ","title":"Redis Pipeline using spring data redis reactive","body":"<p>Pipeline support is available on RedisTemplate (RedisTemplate.executePipelined) But I couldn't find any equivalent option in ReactiveRedisTemplate to use pipeline or batch operations.</p>\n<p>Kindly direct me to the right API or any alternative approaches.</p>\n<p><strong>spring-data-redis:2.7.5 (with lettuce)</strong></p>\n"},{"tags":["java","selenium-webdriver","outlook","office365","imap"],"comments":[{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1668440196,"post_id":74433602,"comment_id":131399303,"body_markdown":"You cannot use passwords to login to Office365 anymore.  This change has been warned about for years: https://learn.microsoft.com/en-us/exchange/clients-and-mobile-in-exchange-online/deprecation-of-basic-authentication-exchange-online","body":"You cannot use passwords to login to Office365 anymore.  This change has been warned about for years: <a href=\"https://learn.microsoft.com/en-us/exchange/clients-and-mobile-in-exchange-online/deprecation-of-basic-authentication-exchange-online\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/exchange/&hellip;</a>"},{"owner":{"account_id":14916857,"reputation":11,"user_id":10770391,"display_name":"Saiteja goud"},"score":0,"creation_date":1668495938,"post_id":74433602,"comment_id":131412463,"body_markdown":"Thanks for responsding @Max, I have also tried with app password which i mentioned as part of question.. still i am getting same error message","body":"Thanks for responsding @Max, I have also tried with app password which i mentioned as part of question.. still i am getting same error message"},{"owner":{"account_id":5582693,"reputation":587,"user_id":4424117,"display_name":"newuserua_ext"},"score":0,"creation_date":1668510399,"post_id":74433602,"comment_id":131417419,"body_markdown":"Try to set `mail.debug.auth` to `true` and see detailed information that may help you to figure it out.","body":"Try to set <code>mail.debug.auth</code> to <code>true</code> and see detailed information that may help you to figure it out."}],"answers":[{"tags":[],"owner":{"account_id":3712793,"reputation":26,"user_id":3089643,"display_name":"user3089643"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668745015,"creation_date":1668745015,"answer_id":74484884,"question_id":74433602,"body_markdown":"Basic oauth has been deprecated by microsoft. You can use ROPC flow to connect with username and password with AAD application.\r\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth-ropc\r\nThis is less secure flow if more secure flow needed then please use client credentails or authorization code with pkce flow.","title":"Connecting to office 365 outlook shared mailbox is not working with IMAP. DEBUG IMAPS: LOGIN command result: A1 NO LOGIN failed","body":"<p>Basic oauth has been deprecated by microsoft. You can use ROPC flow to connect with username and password with AAD application.\n<a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth-ropc\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth-ropc</a>\nThis is less secure flow if more secure flow needed then please use client credentails or authorization code with pkce flow.</p>\n"}],"owner":{"account_id":14916857,"reputation":11,"user_id":10770391,"display_name":"Saiteja goud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668745015,"creation_date":1668437799,"question_id":74433602,"body_markdown":"```\r\npublic class EmailTest {\r\n\r\n\tpublic static void main(String[] args) throws MessagingException {\r\n\t\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(&quot;mail.imaps.starttls.enable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.imaps.auth.plain.disable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.imaps.auth.ntlm.disable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.imaps.auth.gssapi.disable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.imaps.host&quot;, &quot;outlook.office365.com&quot;);\r\n\t\tprops.put(&quot;mail.imaps.port&quot;, 993);\r\n\t\tSession session = Session.getInstance(props);\r\n\t\tsession.setDebug(true);\r\n\t\tStore _store = session.getStore(&quot;imaps&quot;);\r\n\r\n\r\n\r\n\t\t_store.connect(&quot;outlook.office365.com&quot;, 993, &quot;userName@domain.onmicrosoft.com\\\\sharedemail&quot;,\r\n\t\t\t\t&quot;password&quot;);\r\n\r\n\t\tFolder inbox = _store.getFolder(&quot;INBOX&quot;);\r\n\t\t// inbox.open(Folder.READ_ONLY);\r\n\t\tint messageCount = inbox.getMessageCount();\r\n\t\tSystem.out.println(messageCount);\r\n```\r\nThis code was working before however from last 20 days it stopped working with below error. We enabled &quot;enable less secure apps and also tried using app password instead of regular password still couldn&#39;t figure out. Can someone help please?\r\n\r\n```\r\nDEBUG IMAPS: AUTH: PLAIN\r\nDEBUG IMAPS: AUTH: XOAUTH2\r\nDEBUG IMAPS: protocolConnect login, host=outlook.office365.com, user=magnusNG@domain.onmicrosoft.com\\magnustestngmha, password=&lt;non-null&gt;\r\nDEBUG IMAPS: LOGIN command trace suppressed\r\nDEBUG IMAPS: LOGIN command result: A1 NO LOGIN failed.\r\nException in thread &quot;main&quot; javax.mail.AuthenticationFailedException: LOGIN failed.\r\n\tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:661)\r\n```\r\nIt was supposed to connect to outlook shared account and get message count however failing with above error message\r\n\r\n","title":"Connecting to office 365 outlook shared mailbox is not working with IMAP. DEBUG IMAPS: LOGIN command result: A1 NO LOGIN failed","body":"<pre><code>public class EmailTest {\n\n    public static void main(String[] args) throws MessagingException {\n    \n        Properties props = new Properties();\n        props.put(&quot;mail.imaps.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imaps.auth.plain.disable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imaps.auth.ntlm.disable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imaps.auth.gssapi.disable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imaps.host&quot;, &quot;outlook.office365.com&quot;);\n        props.put(&quot;mail.imaps.port&quot;, 993);\n        Session session = Session.getInstance(props);\n        session.setDebug(true);\n        Store _store = session.getStore(&quot;imaps&quot;);\n\n\n\n        _store.connect(&quot;outlook.office365.com&quot;, 993, &quot;userName@domain.onmicrosoft.com\\\\sharedemail&quot;,\n                &quot;password&quot;);\n\n        Folder inbox = _store.getFolder(&quot;INBOX&quot;);\n        // inbox.open(Folder.READ_ONLY);\n        int messageCount = inbox.getMessageCount();\n        System.out.println(messageCount);\n</code></pre>\n<p>This code was working before however from last 20 days it stopped working with below error. We enabled &quot;enable less secure apps and also tried using app password instead of regular password still couldn't figure out. Can someone help please?</p>\n<pre><code>DEBUG IMAPS: AUTH: PLAIN\nDEBUG IMAPS: AUTH: XOAUTH2\nDEBUG IMAPS: protocolConnect login, host=outlook.office365.com, user=magnusNG@domain.onmicrosoft.com\\magnustestngmha, password=&lt;non-null&gt;\nDEBUG IMAPS: LOGIN command trace suppressed\nDEBUG IMAPS: LOGIN command result: A1 NO LOGIN failed.\nException in thread &quot;main&quot; javax.mail.AuthenticationFailedException: LOGIN failed.\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:661)\n</code></pre>\n<p>It was supposed to connect to outlook shared account and get message count however failing with above error message</p>\n"},{"tags":["java","android","null","admob","interstitial"],"comments":[{"owner":{"account_id":6682169,"reputation":1543,"user_id":5154891,"display_name":"Thomas Mary"},"score":0,"creation_date":1515344293,"post_id":48139173,"comment_id":83256464,"body_markdown":"Replace `ca-app-pub-3940256099942544/1033173712` with your own admob id maybe ?","body":"Replace <code>ca-app-pub-3940256099942544&#47;1033173712</code> with your own admob id maybe ?"},{"owner":{"account_id":12634694,"reputation":21,"user_id":9184626,"display_name":"Lennart"},"score":1,"creation_date":1515432594,"post_id":48139173,"comment_id":83289371,"body_markdown":"The ID I use is the official test ID of AdMob. It is supposed to show test ads. I already used the ID in other apps and it worked. I do not think this is the problem but I will test it. Thank you for your help but I would be grateful if you have other suggestions.","body":"The ID I use is the official test ID of AdMob. It is supposed to show test ads. I already used the ID in other apps and it worked. I do not think this is the problem but I will test it. Thank you for your help but I would be grateful if you have other suggestions."},{"owner":{"account_id":233317,"reputation":5790,"user_id":498727,"accept_rate":63,"display_name":"Michael A"},"score":0,"creation_date":1516111365,"post_id":48139173,"comment_id":83549826,"body_markdown":"The error simply say that this line: if(mInterstitial.isLoaded()){\n is called before you instantiated the mInterstitial object that is this line: mInterstitial = new InterstitialAd(this);","body":"The error simply say that this line: if(mInterstitial.isLoaded()){  is called before you instantiated the mInterstitial object that is this line: mInterstitial = new InterstitialAd(this);"}],"answers":[{"tags":[],"owner":{"account_id":22589321,"reputation":39,"user_id":16772693,"display_name":"ninh312"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668744859,"creation_date":1668744859,"answer_id":74484865,"question_id":48139173,"body_markdown":"create application to when open app, add immidiate load\r\n\r\n    public class MyApplication extends Application {\r\n    public InterstitialAd mInterstitialAd;\r\n    private AppOpenManager appOpenAdManager;\r\n    private Activity currentActivity;\r\n    private int check = 0;\r\n    public AdLoader adLoader;\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        MobileAds.initialize(\r\n                this,\r\n                new OnInitializationCompleteListener() {\r\n                    @Override\r\n                    public void onInitializationComplete(\r\n                            @NonNull InitializationStatus initializationStatus) {\r\n                    }\r\n                });\r\n        appOpenAdManager = new AppOpenManager();\r\n        loadInterstitial(AD_UNIT_ID_INTERSTITIAL_ADS);\r\n    }\r\n\r\n    public void loadInterstitial(String id) {\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        InterstitialAd.load(\r\n                this,\r\n                id,\r\n                adRequest,\r\n                new InterstitialAdLoadCallback() {\r\n                    @Override\r\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                        mInterstitialAd = interstitialAd;\r\n                        interstitialAd.setFullScreenContentCallback(\r\n                                new FullScreenContentCallback() {\r\n                                    @Override\r\n                                    public void onAdDismissedFullScreenContent() {\r\n                                        mInterstitialAd = null;\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public void onAdFailedToShowFullScreenContent(AdError adError) {\r\n                                        // Called when fullscreen content failed to show.\r\n                                        // Make sure to set your reference to null so you don&#39;t\r\n                                        // show it a second time.\r\n                                        mInterstitialAd = null;\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public void onAdShowedFullScreenContent() {\r\n                                    }\r\n                                });\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                        mInterstitialAd = null;\r\n                    }\r\n                });\r\n    }\r\n    \r\n}\r\nthen you create class check exception happen when load and open app\r\n\r\n    public class LoadInterstitialAds {\r\n    private static LoadInterstitialAds instance;\r\n    private InterstitialAd mInterstitialAd;\r\n\r\n    public static LoadInterstitialAds getInstance() {\r\n        if (instance == null) {\r\n            return new LoadInterstitialAds();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public void openAdsThenOpenActivity(Activity activity, InterstitialAdsListener listener) {\r\n        Application application = activity.getApplication();\r\n        if (application instanceof MyApplication) {\r\n            LoadInterstitialAds.this.mInterstitialAd = ((MyApplication) application).mInterstitialAd;\r\n            if (LoadInterstitialAds.this.mInterstitialAd != null) {\r\n                LoadInterstitialAds.this.mInterstitialAd.show(activity);\r\n                LoadInterstitialAds.this.mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n\r\n                    @Override\r\n                    public void onAdDismissedFullScreenContent() {\r\n                        listener.onStartActivity();\r\n                        ((MyApplication) application).loadInterstitial(AD_UNIT_ID_INTERSTITIAL_ADS);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\r\n                        ((MyApplication) application).loadInterstitial(AD_UNIT_ID_INTERSTITIAL_ADS);\r\n                        listener.onStartActivity();\r\n                    }\r\n\r\n                });\r\n            } else {\r\n                ((MyApplication) application).loadInterstitial(AD_UNIT_ID_INTERSTITIAL_ADS);\r\n                listener.onStartActivity();\r\n            }\r\n        }\r\n    }\r\n}\r\ncreate interface listener tothe convenience of calling\r\n\r\n    public interface InterstitialAdsListener {\r\n    void onStartActivity();\r\n}\r\nand finally, run this code at any where you want to show\r\n\r\n    LoadInterstitialAds loadInterstitialAds = LoadInterstitialAds.getInstance();\r\n            loadInterstitialAds.openAdsThenOpenActivity(getActivity(), ()-&gt;{\r\n               // your process\r\n            });","title":"Interstitial Ad returns a null value","body":"<p>create application to when open app, add immidiate load</p>\n<pre><code>public class MyApplication extends Application {\npublic InterstitialAd mInterstitialAd;\nprivate AppOpenManager appOpenAdManager;\nprivate Activity currentActivity;\nprivate int check = 0;\npublic AdLoader adLoader;\n@Override\npublic void onCreate() {\n    super.onCreate();\n    MobileAds.initialize(\n            this,\n            new OnInitializationCompleteListener() {\n                @Override\n                public void onInitializationComplete(\n                        @NonNull InitializationStatus initializationStatus) {\n                }\n            });\n    appOpenAdManager = new AppOpenManager();\n    loadInterstitial(AD_UNIT_ID_INTERSTITIAL_ADS);\n}\n\npublic void loadInterstitial(String id) {\n    AdRequest adRequest = new AdRequest.Builder().build();\n    InterstitialAd.load(\n            this,\n            id,\n            adRequest,\n            new InterstitialAdLoadCallback() {\n                @Override\n                public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                    mInterstitialAd = interstitialAd;\n                    interstitialAd.setFullScreenContentCallback(\n                            new FullScreenContentCallback() {\n                                @Override\n                                public void onAdDismissedFullScreenContent() {\n                                    mInterstitialAd = null;\n                                }\n\n                                @Override\n                                public void onAdFailedToShowFullScreenContent(AdError adError) {\n                                    // Called when fullscreen content failed to show.\n                                    // Make sure to set your reference to null so you don't\n                                    // show it a second time.\n                                    mInterstitialAd = null;\n                                }\n\n                                @Override\n                                public void onAdShowedFullScreenContent() {\n                                }\n                            });\n                }\n\n                @Override\n                public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                    mInterstitialAd = null;\n                }\n            });\n}\n</code></pre>\n<p>}\nthen you create class check exception happen when load and open app</p>\n<pre><code>public class LoadInterstitialAds {\nprivate static LoadInterstitialAds instance;\nprivate InterstitialAd mInterstitialAd;\n\npublic static LoadInterstitialAds getInstance() {\n    if (instance == null) {\n        return new LoadInterstitialAds();\n    }\n    return instance;\n}\n\npublic void openAdsThenOpenActivity(Activity activity, InterstitialAdsListener listener) {\n    Application application = activity.getApplication();\n    if (application instanceof MyApplication) {\n        LoadInterstitialAds.this.mInterstitialAd = ((MyApplication) application).mInterstitialAd;\n        if (LoadInterstitialAds.this.mInterstitialAd != null) {\n            LoadInterstitialAds.this.mInterstitialAd.show(activity);\n            LoadInterstitialAds.this.mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n\n                @Override\n                public void onAdDismissedFullScreenContent() {\n                    listener.onStartActivity();\n                    ((MyApplication) application).loadInterstitial(AD_UNIT_ID_INTERSTITIAL_ADS);\n                }\n\n                @Override\n                public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\n                    ((MyApplication) application).loadInterstitial(AD_UNIT_ID_INTERSTITIAL_ADS);\n                    listener.onStartActivity();\n                }\n\n            });\n        } else {\n            ((MyApplication) application).loadInterstitial(AD_UNIT_ID_INTERSTITIAL_ADS);\n            listener.onStartActivity();\n        }\n    }\n}\n</code></pre>\n<p>}\ncreate interface listener tothe convenience of calling</p>\n<pre><code>public interface InterstitialAdsListener {\nvoid onStartActivity();\n</code></pre>\n<p>}\nand finally, run this code at any where you want to show</p>\n<pre><code>LoadInterstitialAds loadInterstitialAds = LoadInterstitialAds.getInstance();\n        loadInterstitialAds.openAdsThenOpenActivity(getActivity(), ()-&gt;{\n           // your process\n        });\n</code></pre>\n"}],"owner":{"account_id":12634694,"reputation":21,"user_id":9184626,"display_name":"Lennart"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1563,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668744859,"creation_date":1515342365,"question_id":48139173,"body_markdown":"I programmed an app named &quot;Trumple Run&quot; for android. Like the name says it is a Jump &amp; Run game and I want to release it soon. Before that I would like to implement Interstitial Ads from AdMob. I followed the official guide for the implementation of Ads but the app always crashes when I tried to show the add. Here is some code from my MainActivity (info: I cut out code which is not relevant for the issue; the method addzeigen() is called from another class)\r\n\r\n    public class Main_activity extends Activity {\r\n\r\n    private InterstitialAd mInterstitial;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState); \r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN); //Fullscreen\r\n        DisplayMetrics metrics = getResources().getDisplayMetrics(); //Display gr&#246;&#223;e herausfinden\r\n        V.Bildbreite = metrics.widthPixels;\r\n        V.Bildh&#246;he = metrics.heightPixels;\r\n      \r\n\r\n        addladen();\r\n\r\n  \r\n        V.v = new View(this);\r\n\r\n        setContentView(V.v);\r\n\r\n    }\r\n\r\n\r\n\r\n    public void addladen(){\r\n        mInterstitial = new InterstitialAd(this);\r\n        mInterstitial.setAdUnitId(&quot;ca-app-pub-3940256099942544/1033173712&quot;);\r\n        AdRequest request = new AdRequest.Builder().build();\r\n        mInterstitial.loadAd(request);\r\n    }\r\n\r\n\r\n    public void addzeigen(){\r\n        if(mInterstitial.isLoaded()){\r\n            mInterstitial.show();\r\n            addladen();\r\n        }\r\n\r\n    }\r\n\r\nI looked at the StackTrace to find the reason for the issue and this two lines indicated that the interstitial is not yet instantiated (returning a null value).\r\n \r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean com.google.android.gms.ads.InterstitialAd.isLoaded()&#39; on a null object reference\r\n\r\nBecause of that I added a null checker in my addladen() method to prevent a crash.\r\n\r\n \r\n    public void addzeigen(){\r\n        if(mInterstitial != null &amp;&amp; mInterstitial.isLoaded()){\r\n            mInterstitial.show();\r\n            addladen();\r\n        }\r\n\r\n    }\r\n\r\nBut why is my Interstitial object null? Did I not instantiate it in the right way in my addladen() method? I already searched for a long time in the internet but found no solution and asked the AdMob support but they said I should ask here because it is an implementation problem. How do I have to modify my code to make sure that my Interstitial is not null? I would be really happy if you could help me. \r\n\r\n","title":"Interstitial Ad returns a null value","body":"<p>I programmed an app named \"Trumple Run\" for android. Like the name says it is a Jump &amp; Run game and I want to release it soon. Before that I would like to implement Interstitial Ads from AdMob. I followed the official guide for the implementation of Ads but the app always crashes when I tried to show the add. Here is some code from my MainActivity (info: I cut out code which is not relevant for the issue; the method addzeigen() is called from another class)</p>\n\n<pre><code>public class Main_activity extends Activity {\n\nprivate InterstitialAd mInterstitial;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState); \n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN); //Fullscreen\n    DisplayMetrics metrics = getResources().getDisplayMetrics(); //Display gre herausfinden\n    V.Bildbreite = metrics.widthPixels;\n    V.Bildhhe = metrics.heightPixels;\n\n\n    addladen();\n\n\n    V.v = new View(this);\n\n    setContentView(V.v);\n\n}\n\n\n\npublic void addladen(){\n    mInterstitial = new InterstitialAd(this);\n    mInterstitial.setAdUnitId(\"ca-app-pub-3940256099942544/1033173712\");\n    AdRequest request = new AdRequest.Builder().build();\n    mInterstitial.loadAd(request);\n}\n\n\npublic void addzeigen(){\n    if(mInterstitial.isLoaded()){\n        mInterstitial.show();\n        addladen();\n    }\n\n}\n</code></pre>\n\n<p>I looked at the StackTrace to find the reason for the issue and this two lines indicated that the interstitial is not yet instantiated (returning a null value).</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean com.google.android.gms.ads.InterstitialAd.isLoaded()' on a null object reference\n</code></pre>\n\n<p>Because of that I added a null checker in my addladen() method to prevent a crash.</p>\n\n<pre><code>public void addzeigen(){\n    if(mInterstitial != null &amp;&amp; mInterstitial.isLoaded()){\n        mInterstitial.show();\n        addladen();\n    }\n\n}\n</code></pre>\n\n<p>But why is my Interstitial object null? Did I not instantiate it in the right way in my addladen() method? I already searched for a long time in the internet but found no solution and asked the AdMob support but they said I should ask here because it is an implementation problem. How do I have to modify my code to make sure that my Interstitial is not null? I would be really happy if you could help me. </p>\n"},{"tags":["java","string","recursion","palindrome"],"answers":[{"tags":[],"owner":{"account_id":23042379,"reputation":75,"user_id":17160379,"display_name":"Jacob Malland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668742969,"creation_date":1668736598,"answer_id":74484128,"question_id":74483407,"body_markdown":"I chose to use two methods, to determine whether or not a substring is a palindrome, and the other to get the longest palindromic substring, just because that was easier for me. You don&#39;t need separate methods to make this work, though.  \r\n\r\nDepending on what type of cases you might get, this may work:\r\n```\r\npublic static int recursiveLength(String s) {\r\n        if (isPalindrome(s)) {\r\n            return(s.length());\r\n        }\r\n        int left = recursiveLength(s.substring(1)); // Cuts the substring from the left\r\n        int right = recursiveLength(s.substring(0, s.length()-1)); // Cuts the substring from the right\r\n        int max = Math.max(left, right); // Calculates which was the longest substring\r\n        return(max);\r\n}\r\n```\r\n\r\nI wouldn&#39;t test anything higher than a length of 25 characters, though, because it takes a lot of time. ","title":"Finding the longest palindrome substring recursively","body":"<p>I chose to use two methods, to determine whether or not a substring is a palindrome, and the other to get the longest palindromic substring, just because that was easier for me. You don't need separate methods to make this work, though.</p>\n<p>Depending on what type of cases you might get, this may work:</p>\n<pre><code>public static int recursiveLength(String s) {\n        if (isPalindrome(s)) {\n            return(s.length());\n        }\n        int left = recursiveLength(s.substring(1)); // Cuts the substring from the left\n        int right = recursiveLength(s.substring(0, s.length()-1)); // Cuts the substring from the right\n        int max = Math.max(left, right); // Calculates which was the longest substring\n        return(max);\n}\n</code></pre>\n<p>I wouldn't test anything higher than a length of 25 characters, though, because it takes a lot of time.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668744430,"creation_date":1668744430,"answer_id":74484834,"question_id":74483407,"body_markdown":"The function returns the maximal palindrome length of all substrings.\r\n\r\nHence the error is the last _if_ condition:\r\n\r\n    if (pal == str.length() - 2)\r\n        return str.length();\r\n\r\nOne has a large palindrome when between equal chars all is a palindrome too.\r\n\r\nNote that for a length of 2 or 3 this works too. The error was considering `pal + 2` instead of `str.length()`.\r\n\r\nOne can logically proof this version by pre- and post-conditions on every statement. ","title":"Finding the longest palindrome substring recursively","body":"<p>The function returns the maximal palindrome length of all substrings.</p>\n<p>Hence the error is the last <em>if</em> condition:</p>\n<pre><code>if (pal == str.length() - 2)\n    return str.length();\n</code></pre>\n<p>One has a large palindrome when between equal chars all is a palindrome too.</p>\n<p>Note that for a length of 2 or 3 this works too. The error was considering <code>pal + 2</code> instead of <code>str.length()</code>.</p>\n<p>One can logically proof this version by pre- and post-conditions on every statement.</p>\n"}],"owner":{"account_id":26968420,"reputation":1,"user_id":20534836,"display_name":"Cancode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668744430,"creation_date":1668728424,"question_id":74483407,"body_markdown":"I created a recursive solution to the issue but the biggest bug is that it doesn&#39;t recognize that a small palindrome sandwiched with other characters all in between two identical characters isn&#39;t necessarily a palindrome\r\n\r\n\r\n```\r\n\r\n\r\n  public static int palindrome(String str)\r\n  {\r\n    str = str.toLowerCase();\r\n    if (str.length() == 0)\r\n      return 0;\r\n    if (str.length() == 1)\r\n      return 1;\r\n\r\n    if (str.charAt(0) == str.charAt(str.length() - 1))\r\n    {\r\n      int pal = palindrome(str.substring(1, str.length() - 1));\r\n\r\n      if (pal != 1 || str.length() &lt;= 3)\r\n        return 2 + pal;\r\n    }\r\n    return Math.max(palindrome(str.substring(0, str.length() - 1)), palindrome(str.substring(1)));\r\n  }\r\n\r\n\r\n```\r\n","title":"Finding the longest palindrome substring recursively","body":"<p>I created a recursive solution to the issue but the biggest bug is that it doesn't recognize that a small palindrome sandwiched with other characters all in between two identical characters isn't necessarily a palindrome</p>\n<pre><code>\n\n  public static int palindrome(String str)\n  {\n    str = str.toLowerCase();\n    if (str.length() == 0)\n      return 0;\n    if (str.length() == 1)\n      return 1;\n\n    if (str.charAt(0) == str.charAt(str.length() - 1))\n    {\n      int pal = palindrome(str.substring(1, str.length() - 1));\n\n      if (pal != 1 || str.length() &lt;= 3)\n        return 2 + pal;\n    }\n    return Math.max(palindrome(str.substring(0, str.length() - 1)), palindrome(str.substring(1)));\n  }\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","h2","api-gateway"],"owner":{"account_id":25778383,"reputation":11,"user_id":19524336,"display_name":"RAGHAV OJHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668744424,"creation_date":1668744424,"question_id":74484832,"body_markdown":"I am trying to build a microservice architecture using spring boot. I have to add H2-Database to it. I am also using an API gateway in between the services to fetch respective data. Not sure how to configure API gateway with h2-database.\r\n\r\nHere is what lies in my application.properties file for all of the microservcies, except for API Gateway.\r\n\r\n```\r\nspring.h2.console.enabled=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=username\r\nspring.datasource.password=\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.datasource.url=jdbc:h2:mem:socialdb\r\n```\r\n","title":"Using H2-database with microservices and API Gateway","body":"<p>I am trying to build a microservice architecture using spring boot. I have to add H2-Database to it. I am also using an API gateway in between the services to fetch respective data. Not sure how to configure API gateway with h2-database.</p>\n<p>Here is what lies in my application.properties file for all of the microservcies, except for API Gateway.</p>\n<pre><code>spring.h2.console.enabled=true\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=username\nspring.datasource.password=\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.datasource.url=jdbc:h2:mem:socialdb\n</code></pre>\n"},{"tags":["java","testing","junit"],"answers":[{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668679223,"creation_date":1668679223,"answer_id":74473459,"question_id":74473220,"body_markdown":"    assertEquals(&quot;Error&quot;, expectedMsg, e);\r\nexpectedMsg is instance of String &amp; e is instance of IllegalArgumentException class. You are comparing **String object** with **IllegalArgumentException object**. \r\n\r\nassertEqual() error is just displaying that.\r\n\r\nCorrect code would be\r\n\r\nassertEquals(&quot;Error&quot;, expectedMsg, e.getMessage());","title":"Java JUnit assertEquals expected:&lt;* by zero&gt; but was:&lt;java.lang.IllegalArgumentException: * by zero&gt;","body":"<pre><code>assertEquals(&quot;Error&quot;, expectedMsg, e);\n</code></pre>\n<p>expectedMsg is instance of String &amp; e is instance of IllegalArgumentException class. You are comparing <strong>String object</strong> with <strong>IllegalArgumentException object</strong>.</p>\n<p>assertEqual() error is just displaying that.</p>\n<p>Correct code would be</p>\n<p>assertEquals(&quot;Error&quot;, expectedMsg, e.getMessage());</p>\n"}],"owner":{"account_id":21820162,"reputation":29,"user_id":16116468,"display_name":"DazedandConfucius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668744323,"creation_date":1668678239,"question_id":74473220,"body_markdown":"I can&#39;t get this custom JUnit test to work correctly with this custom exception. It&#39;s just to help myself clear the concepts, nothing useful in terms of actual utility. Can&#39;t figure it out and can&#39;t find any direct online help so figured I&#39;d ask here. What&#39;s going on?\r\n\r\n\r\n\r\n```\r\n@Test\r\n\tvoid testMultiply_WhenFourIsMultipiedByZero_ShouldThrowException() {\r\n\t\tint i = 0;\r\n\t\tint j = 4;\r\n\t\tString expectedMsg = &quot;* by zero&quot;;\r\n\r\n\t\tException e = assertThrows(\r\n\t\t\t\texpectedMsg,\r\n\t\t\t\tIllegalArgumentException.class, () -&gt; {\r\n\t\t\t\t\ttm.multiply(i, j);\r\n\t\t\t\t});\r\n\r\n\t\tassertEquals(&quot;Error&quot;, expectedMsg, e);\r\n//\t\tassertEquals(expectedMsg, expectedMsg, e.getMessage()); //this leads to a different error &quot;Method assertEquals(String, Object, Object) is ambiguous for the type&quot;\r\n\r\n\t}\r\n```\r\n\r\n\r\n```\r\npublic int multiply(int i, int j) throws Exception {\r\n\t\t\r\n\t\tif(i == 0 || j == 0) {\r\n\t\t\tthrow new IllegalArgumentException (&quot;* by zero&quot;);\r\n\t\t}\r\n\t\t\r\n\t\treturn i * j;\r\n\t}\r\n```\r\nEven if I try this it doesn&#39;t work. \r\nError:\r\njava.lang.AssertionError: Error expected: java.lang.IllegalArgumentException&lt;java.lang.IllegalArgumentException: * by zero&gt; but was: java.lang.IllegalArgumentException&lt;java.lang.IllegalArgumentException: * by zero&gt;\r\n\r\n\r\n\tvoid testMultiply_WhenFourIsMultipiedByZero_ShouldThrowException() {\r\n\t\tint i = 0;\r\n\t\tint j = 4;\r\n\t\tString expectedMsg = &quot;* by zero&quot;;\r\n\t\t\r\n\t\tIllegalArgumentException f = new IllegalArgumentException(&quot;* by zero&quot;); \r\n\r\n\t\tIllegalArgumentException e = assertThrows(&quot;expectedMsg&quot;,\r\n\t\t\t\t\r\n\t\t\t\tIllegalArgumentException.class, () -&gt; {\r\n\t\t\t\t\ttm.multiply(i, j);\r\n\t\t\t\t});\r\n\t\t\r\n\t\tassertEquals(&quot;Error&quot;, f, e);\r\n\t}\r\n\r\nEdit: \r\nGot it to work with the following. Evidently string objects can&#39;t be compared using assertEquals. If anyone can explain why, I&#39;d appreciate it but got it to work anyway.\r\n\r\n\t\tassertTrue(actualMessage.equals(expectedMsg));","title":"Java JUnit assertEquals expected:&lt;* by zero&gt; but was:&lt;java.lang.IllegalArgumentException: * by zero&gt;","body":"<p>I can't get this custom JUnit test to work correctly with this custom exception. It's just to help myself clear the concepts, nothing useful in terms of actual utility. Can't figure it out and can't find any direct online help so figured I'd ask here. What's going on?</p>\n<pre><code>@Test\n    void testMultiply_WhenFourIsMultipiedByZero_ShouldThrowException() {\n        int i = 0;\n        int j = 4;\n        String expectedMsg = &quot;* by zero&quot;;\n\n        Exception e = assertThrows(\n                expectedMsg,\n                IllegalArgumentException.class, () -&gt; {\n                    tm.multiply(i, j);\n                });\n\n        assertEquals(&quot;Error&quot;, expectedMsg, e);\n//      assertEquals(expectedMsg, expectedMsg, e.getMessage()); //this leads to a different error &quot;Method assertEquals(String, Object, Object) is ambiguous for the type&quot;\n\n    }\n</code></pre>\n<pre><code>public int multiply(int i, int j) throws Exception {\n        \n        if(i == 0 || j == 0) {\n            throw new IllegalArgumentException (&quot;* by zero&quot;);\n        }\n        \n        return i * j;\n    }\n</code></pre>\n<p>Even if I try this it doesn't work.\nError:\njava.lang.AssertionError: Error expected: java.lang.IllegalArgumentException&lt;java.lang.IllegalArgumentException: * by zero&gt; but was: java.lang.IllegalArgumentException&lt;java.lang.IllegalArgumentException: * by zero&gt;</p>\n<pre><code>void testMultiply_WhenFourIsMultipiedByZero_ShouldThrowException() {\n    int i = 0;\n    int j = 4;\n    String expectedMsg = &quot;* by zero&quot;;\n    \n    IllegalArgumentException f = new IllegalArgumentException(&quot;* by zero&quot;); \n\n    IllegalArgumentException e = assertThrows(&quot;expectedMsg&quot;,\n            \n            IllegalArgumentException.class, () -&gt; {\n                tm.multiply(i, j);\n            });\n    \n    assertEquals(&quot;Error&quot;, f, e);\n}\n</code></pre>\n<p>Edit:\nGot it to work with the following. Evidently string objects can't be compared using assertEquals. If anyone can explain why, I'd appreciate it but got it to work anyway.</p>\n<pre><code>    assertTrue(actualMessage.equals(expectedMsg));\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668689698,"post_id":74475626,"comment_id":131470184,"body_markdown":"Please explain the usecase not the technical solution you are trying to solve. What do you need to set? Generally you should be configuring the listener containers not the registry.","body":"Please explain the usecase not the technical solution you are trying to solve. What do you need to set? Generally you should be configuring the listener containers not the registry."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669019265,"post_id":74475626,"comment_id":131538671,"body_markdown":"You don&#39;t need anything to configure it, it will automatically detect the beans. Also if this is a condition based on a flag at startup you are still better of configuring the listener container and not the registry.","body":"You don&#39;t need anything to configure it, it will automatically detect the beans. Also if this is a condition based on a flag at startup you are still better of configuring the listener container and not the registry."},{"owner":{"account_id":1210994,"reputation":624,"user_id":1179526,"accept_rate":38,"display_name":"Vishal Singh"},"score":0,"creation_date":1670583195,"post_id":74475626,"comment_id":131912694,"body_markdown":"@M.Deinum, yes it is automatically detected, but when I use JmsListner annotation on the consumer bean. I was looking for its equivalent configuration through xml i.e. how to define message container through xml without using JmsListner annotation and it is still detectable  by JmsListenerEndpointRegistry","body":"@M.Deinum, yes it is automatically detected, but when I use JmsListner annotation on the consumer bean. I was looking for its equivalent configuration through xml i.e. how to define message container through xml without using JmsListner annotation and it is still detectable  by JmsListenerEndpointRegistry"},{"owner":{"account_id":1210994,"reputation":624,"user_id":1179526,"accept_rate":38,"display_name":"Vishal Singh"},"score":0,"creation_date":1670588643,"post_id":74475626,"comment_id":131914265,"body_markdown":"I even don&#39;t JmsListenerEndpointRegistry . Container can be directly get from xml bean definition and start/stop methods can be directly called on it. \nThanks @M.Deinum, for reviewing question and  sharing your knowledge.","body":"I even don&#39;t JmsListenerEndpointRegistry . Container can be directly get from xml bean definition and start/stop methods can be directly called on it.  Thanks @M.Deinum, for reviewing question and  sharing your knowledge."}],"owner":{"account_id":1210994,"reputation":624,"user_id":1179526,"accept_rate":38,"display_name":"Vishal Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668741700,"creation_date":1668688773,"question_id":74475626,"body_markdown":"I have requirement where I have to stop and start message consumer based on condition. If startConsumer flag is set true, then consumer should start consuming messages and if  startConsumer is set to false then consumer should stop consuming messages, similar to following question \r\n\r\nhttps://stackoverflow.com/questions/32588352/how-can-i-stop-start-pause-a-jmslistener-the-clean-way\r\n\r\nBut I could not find the way how to configure JmsListenerEndpointRegistry bean so that I can call stop/start method on it.\r\nI googled a lot but no sample is found in which this bean configuration is shown. The only examples are from spring docs and in that also there is no configuration sample.\r\nBelow is my bean definition\r\n```\r\n&lt;&lt;bean id=&quot;jmsListenerEndpointRegistry&quot; class=&quot;org.springframework.jms.config.JmsListenerEndpointRegistry&quot;&gt;\r\n// what should be here to properly configure it?\r\n    &lt;/bean&gt;\r\n```\r\nWhen I call method on this bean object, it has no reference of container.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iXrkP.png\r\n\r\nPlease Note that I am not using spring boot and hence this bean is not automatically configured.\r\n\r\nAny help is very much appreciated.\r\n\r\nThanks\r\n\r\nPS.","title":"How to configure JmsListenerEndpointRegistry bean and use it to control listner","body":"<p>I have requirement where I have to stop and start message consumer based on condition. If startConsumer flag is set true, then consumer should start consuming messages and if  startConsumer is set to false then consumer should stop consuming messages, similar to following question</p>\n<p><a href=\"https://stackoverflow.com/questions/32588352/how-can-i-stop-start-pause-a-jmslistener-the-clean-way\">How can I Stop/start/Pause a @JmsListener (the clean way)</a></p>\n<p>But I could not find the way how to configure JmsListenerEndpointRegistry bean so that I can call stop/start method on it.\nI googled a lot but no sample is found in which this bean configuration is shown. The only examples are from spring docs and in that also there is no configuration sample.\nBelow is my bean definition</p>\n<pre><code>&lt;&lt;bean id=&quot;jmsListenerEndpointRegistry&quot; class=&quot;org.springframework.jms.config.JmsListenerEndpointRegistry&quot;&gt;\n// what should be here to properly configure it?\n    &lt;/bean&gt;\n</code></pre>\n<p>When I call method on this bean object, it has no reference of container.\n<a href=\"https://i.stack.imgur.com/iXrkP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iXrkP.png\" alt=\"enter image description here\" /></a></p>\n<p>Please Note that I am not using spring boot and hence this bean is not automatically configured.</p>\n<p>Any help is very much appreciated.</p>\n<p>Thanks</p>\n<p>PS.</p>\n"},{"tags":["java","azure","azure-ad-graph-api"],"answers":[{"tags":[],"owner":{"account_id":24140407,"reputation":571,"user_id":18106676,"display_name":"vicky kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668740426,"creation_date":1668740426,"answer_id":74484445,"question_id":74482833,"body_markdown":"As per the [doc][1], 429 error will only be reported if your number of requests exceeds the service limit. Since this error is usually thrown in high concurrency scenarios, I can&#39;t reproduce it for you.\r\n\r\n\r\n\r\nYou can avoid such errors by referring to the [Microsoft Graph service-specific limitations.][2]\r\n\r\n\r\nHope this helps \r\n\r\nThanks\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/errors\r\n  [2]: https://learn.microsoft.com/en-us/graph/throttling-limits\r\n\r\n","title":"working with azure ad documentation Get recent user activities","body":"<p>As per the <a href=\"https://learn.microsoft.com/en-us/graph/errors\" rel=\"nofollow noreferrer\">doc</a>, 429 error will only be reported if your number of requests exceeds the service limit. Since this error is usually thrown in high concurrency scenarios, I can't reproduce it for you.</p>\n<p>You can avoid such errors by referring to the <a href=\"https://learn.microsoft.com/en-us/graph/throttling-limits\" rel=\"nofollow noreferrer\">Microsoft Graph service-specific limitations.</a></p>\n<p>Hope this helps</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":26967976,"reputation":1,"user_id":20534466,"display_name":"Youssef Gabr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668740426,"creation_date":1668724155,"question_id":74482833,"body_markdown":"so following this documentation in this part of the documentation \r\nhttps://learn.microsoft.com/en-us/graph/api/projectrome-get-recent-activities?view=graph-rest-1.0&amp;tabs=java#request\r\n\r\nthe code in the docs returns a 429 Error message: {&quot;Message&quot;:&quot;Request limit exceeded for Authentication Failure&quot;}\r\n\r\n```\r\nGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n\r\nUserActivityRecentCollectionPage recent = graphClient.me().activities()\r\n\t.recent()\r\n\t.buildRequest()\r\n\t.get();\r\n```\r\n\r\nI did make sure the permissions are given and other apis do work \r\n\r\n\r\n\r\nI made sure the permission work.\r\nI tried to add parameters like the ones in the docs but I was not able to.","title":"working with azure ad documentation Get recent user activities","body":"<p>so following this documentation in this part of the documentation\n<a href=\"https://learn.microsoft.com/en-us/graph/api/projectrome-get-recent-activities?view=graph-rest-1.0&amp;tabs=java#request\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/projectrome-get-recent-activities?view=graph-rest-1.0&amp;tabs=java#request</a></p>\n<p>the code in the docs returns a 429 Error message: {&quot;Message&quot;:&quot;Request limit exceeded for Authentication Failure&quot;}</p>\n<pre><code>GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nUserActivityRecentCollectionPage recent = graphClient.me().activities()\n    .recent()\n    .buildRequest()\n    .get();\n</code></pre>\n<p>I did make sure the permissions are given and other apis do work</p>\n<p>I made sure the permission work.\nI tried to add parameters like the ones in the docs but I was not able to.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9118,"page":874,"page_size":100}
