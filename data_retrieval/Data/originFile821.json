{"items":[{"tags":["java","mysql","spring","hibernate","spring-mvc"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1487844869,"post_id":42412655,"comment_id":71971281,"body_markdown":"The error message is pretty clear: Your entity defines a column `symfony`, but according to your `create table` statement that column doesn&#39;t exist.","body":"The error message is pretty clear: Your entity defines a column <code>symfony</code>, but according to your <code>create table</code> statement that column doesn&#39;t exist."},{"owner":{"account_id":9713613,"reputation":1,"user_id":7204695,"display_name":"Khue Nguyen"},"score":0,"creation_date":1487909895,"post_id":42412655,"comment_id":72006488,"body_markdown":"thanks you, I fixed it. but now i get another exception: unknown table in field list even though table definitely exists.","body":"thanks you, I fixed it. but now i get another exception: unknown table in field list even though table definitely exists."}],"answers":[{"tags":[],"owner":{"account_id":114470,"reputation":874,"user_id":300978,"accept_rate":80,"display_name":"brohjoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670602283,"creation_date":1670602283,"answer_id":74745603,"question_id":42412655,"body_markdown":"What worked for me was deleting or commenting out @Table(name=&quot;dotnet&quot;) in the @Entity class.  JPA/Hibernate knows the name of the table, it&#39;s the same as the class name. ","title":"Hibernate: Unknown table &#39; &#39; in field list even though the table definitely exists","body":"<p>What worked for me was deleting or commenting out @Table(name=&quot;dotnet&quot;) in the @Entity class.  JPA/Hibernate knows the name of the table, it's the same as the class name.</p>\n"}],"owner":{"account_id":9713613,"reputation":1,"user_id":7204695,"display_name":"Khue Nguyen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670602283,"creation_date":1487844629,"question_id":42412655,"body_markdown":"I&#39;m newbee, and I have a problem in hibernate. When I run and it throw an exception: \r\n\r\n&gt; HTTP Status 500 - Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\nError at:\r\n\r\n&gt; com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Unknown table\r\n&gt; &#39;dotnet0_&#39; in field list\r\n\r\n&lt;br/&gt;Here is my DB.\r\n\r\n        CREATE TABLE `dotnet` (\r\n      `general` double DEFAULT NULL,\r\n      `c#` double DEFAULT NULL,\r\n      `vb` double DEFAULT NULL,\r\n      `asp` double DEFAULT NULL,\r\n      `entityFramework` double DEFAULT NULL,\r\n      `mvc` double DEFAULT NULL,\r\n      `aspNetWebApi` double DEFAULT NULL,\r\n      `ado` double DEFAULT NULL,\r\n      `wpf` double DEFAULT NULL,\r\n      `wcf` double DEFAULT NULL,\r\n      `nunit` double DEFAULT NULL,\r\n      `moq` double DEFAULT NULL,\r\n      `urf` double DEFAULT NULL,\r\n      `id` int(11) NOT NULL,\r\n      PRIMARY KEY (`id`),\r\n      UNIQUE KEY `id_UNIQUE` (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n\r\nException:\r\n\r\n        org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:977)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    root cause\r\n    org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \torg.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\r\n    \torg.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n    \torg.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n    \torg.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\r\n    \torg.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\r\n    \torg.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\r\n    \torg.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\r\n    \torg.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\r\n    \torg.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\r\n    \torg.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\r\n    \torg.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\r\n    \ta.b.c.dao.AbstractDAO.getByKey(AbstractDAO.java:29)\r\n    \ta.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:13)\r\n    \ta.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:1)\r\n    \ta.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:27)\r\n    \ta.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:1)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tjava.lang.reflect.Method.invoke(Unknown Source)\r\n    \torg.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \torg.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \torg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n    \tcom.sun.proxy.$Proxy228.save(Unknown Source)\r\n    \ta.b.c.controller.HomeController.changeValue(HomeController.java:186)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tjava.lang.reflect.Method.invoke(Unknown Source)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\r\n    \torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:965)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    root cause\r\n    com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Unknown table &#39;dotnet0_&#39; in field list\r\n    \tcom.mysql.jdbc.SQLError.createSQLException(SQLError.java:936)\r\n    \tcom.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2870)\r\n    \tcom.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1573)\r\n    \tcom.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1665)\r\n    \tcom.mysql.jdbc.Connection.execSQL(Connection.java:3176)\r\n    \tcom.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1153)\r\n    \tcom.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1266)\r\n    \torg.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\r\n    \torg.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\r\n    \torg.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\r\n    \torg.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\r\n    \torg.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\r\n    \torg.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\r\n    \torg.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\r\n    \ta.b.c.dao.AbstractDAO.getByKey(AbstractDAO.java:29)\r\n    \ta.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:13)\r\n    \ta.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:1)\r\n    \ta.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:27)\r\n    \ta.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:1)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tjava.lang.reflect.Method.invoke(Unknown Source)\r\n    \torg.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \torg.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \torg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n    \tcom.sun.proxy.$Proxy228.save(Unknown Source)\r\n    \ta.b.c.controller.HomeController.changeValue(HomeController.java:186)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tjava.lang.reflect.Method.invoke(Unknown Source)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\r\n    \torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:965)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\r\nMy code here:\r\n\r\n        @Entity\r\n    @Table(name=&quot;dotnet&quot;)\r\n    public class DotNet {\r\n    \tprivate double general;\r\n    \tprivate int id;\r\n    \r\n    \t// Language\r\n    \tdouble cThang;\r\n    \tdouble vb;\r\n    \tdouble asp;\r\n    \r\n    \t// Framework\r\n    \tprivate double entityFramework;\r\n    \tprivate double mvc;\r\n    \tprivate double aspNetWebAPI;\r\n    \tprivate double ado;\r\n    \tprivate double wpf;\r\n    \tprivate double wcf;\r\n    \tprivate double nunit;\r\n    \tprivate double moq;\r\n    \tprivate double urf;\r\n    \r\n    \tpublic double[] toArray() {\r\n    \t\tdouble[] net = { general, cThang, vb, asp, entityFramework, mvc, aspNetWebAPI, ado, wpf, wcf, nunit, moq, urf };\r\n    \t\treturn net;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;entityframework&quot;, nullable = false)\r\n    \tpublic double getEntityFramework() {\r\n    \t\treturn entityFramework;\r\n    \t}\r\n    \r\n    \tpublic void setEntityFramework(double entityFramework) {\r\n    \t\tthis.entityFramework = entityFramework;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;mvc&quot;, nullable = false)\r\n    \tpublic double getMvc() {\r\n    \t\treturn mvc;\r\n    \t}\r\n    \r\n    \tpublic void setMvc(double mvc) {\r\n    \t\tthis.mvc = mvc;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;aspnetwebapi&quot;, nullable = false)\r\n    \tpublic double getAspNetWebAPI() {\r\n    \t\treturn aspNetWebAPI;\r\n    \t}\r\n    \r\n    \tpublic void setAspNetWebAPI(double aspNetWebAPI) {\r\n    \t\tthis.aspNetWebAPI = aspNetWebAPI;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;ado&quot;, nullable = false)\r\n    \tpublic double getAdo() {\r\n    \t\treturn ado;\r\n    \t}\r\n    \r\n    \tpublic void setAdo(double ado) {\r\n    \t\tthis.ado = ado;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;wpf&quot;, nullable = false)\r\n    \tpublic double getWpf() {\r\n    \t\treturn wpf;\r\n    \t}\r\n    \r\n    \tpublic void setWpf(double wpf) {\r\n    \t\tthis.wpf = wpf;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;nunit&quot;, nullable = false)\r\n    \tpublic double getNunit() {\r\n    \t\treturn nunit;\r\n    \t}\r\n    \r\n    \tpublic void setNunit(double nunit) {\r\n    \t\tthis.nunit = nunit;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;moq&quot;, nullable = false)\r\n    \tpublic double getMoq() {\r\n    \t\treturn moq;\r\n    \t}\r\n    \r\n    \tpublic void setMoq(double moq) {\r\n    \t\tthis.moq = moq;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;URF&quot;, nullable = false)\r\n    \tpublic double getUrf() {\r\n    \t\treturn urf;\r\n    \t}\r\n    \r\n    \tpublic void setUrf(double urf) {\r\n    \t\tthis.urf = urf;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;c#&quot;, nullable = false)\r\n    \tpublic double getcThang() {\r\n    \t\treturn cThang;\r\n    \t}\r\n    \r\n    \tpublic void setcThang(double cThang) {\r\n    \t\tthis.cThang = cThang;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;vb&quot;, nullable = false)\r\n    \tpublic double getVb() {\r\n    \t\treturn vb;\r\n    \t}\r\n    \r\n    \tpublic void setVb(double vb) {\r\n    \t\tthis.vb = vb;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;asp&quot;, nullable = false)\r\n    \tpublic double getAsp() {\r\n    \t\treturn asp;\r\n    \t}\r\n    \r\n    \tpublic void setAsp(double asp) {\r\n    \t\tthis.asp = asp;\r\n    \t}\r\n    \r\n    \t@Id\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;general&quot;, nullable = false)\r\n    \tpublic double getGeneral() {\r\n    \t\treturn general;\r\n    \t}\r\n    \r\n    \tpublic void setGeneral(double general) {\r\n    \t\tthis.general = general;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;wcf&quot;, nullable = false)\r\n    \tpublic double getWcf() {\r\n    \t\treturn wcf;\r\n    \t}\r\n    \r\n    \tpublic void setWcf(double wcf) {\r\n    \t\tthis.wcf = wcf;\r\n    \t}\r\n    }\r\n\r\n\r\nMy configuration:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages = &quot;a.b.c&quot;)\r\n    public class AppConfig {\r\n    \t\r\n    \t@Bean\r\n        public ViewResolver viewResolver() {\r\n            InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n            viewResolver.setViewClass(JstlView.class);\r\n            viewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n            viewResolver.setSuffix(&quot;.jsp&quot;);\r\n            return viewResolver;\r\n        }\r\n         \r\n        @Bean\r\n        public MessageSource messageSource() {\r\n            ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\r\n            messageSource.setBasename(&quot;messages&quot;);\r\n            return messageSource;\r\n        }\r\n    \r\n    }\r\n\r\n    public class AppInitializer implements WebApplicationInitializer {\r\n     \r\n        public void onStartup(ServletContext container) throws ServletException {\r\n     \r\n            AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n            ctx.register(AppConfig.class);\r\n            ctx.setServletContext(container);\r\n     \r\n            ServletRegistration.Dynamic servlet = container.addServlet(\r\n                    &quot;dispatcher&quot;, new DispatcherServlet(ctx));\r\n     \r\n            servlet.setLoadOnStartup(1);\r\n            servlet.addMapping(&quot;/&quot;);\r\n        }\r\n     \r\n    }\r\n\r\nhere is hibernate config:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @ComponentScan({ &quot;a.b.c.configuration&quot; })\r\n    @PropertySource(value = { &quot;classpath:application.properties&quot; })\r\n    \r\n    public class HibernateConfiguration {\r\n    \t \r\n        @Autowired\r\n        private Environment environment;\r\n     \r\n        @Bean\r\n        public LocalSessionFactoryBean sessionFactory() {\r\n            LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n            sessionFactory.setDataSource(dataSource());\r\n            sessionFactory.setPackagesToScan(new String[] { &quot;a.b.c.model&quot; });\r\n            sessionFactory.setHibernateProperties(hibernateProperties());\r\n            return sessionFactory;\r\n         }\r\n         \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n            dataSource.setDriverClassName(environment.getRequiredProperty(&quot;jdbc.driverClassName&quot;));\r\n            dataSource.setUrl(environment.getRequiredProperty(&quot;jdbc.url&quot;));\r\n            dataSource.setUsername(environment.getRequiredProperty(&quot;jdbc.username&quot;));\r\n            dataSource.setPassword(environment.getRequiredProperty(&quot;jdbc.password&quot;));\r\n            \r\n            return dataSource;\r\n        }\r\n         \r\n        private Properties hibernateProperties() {\r\n            Properties properties = new Properties();\r\n            properties.put(&quot;hibernate.dialect&quot;, environment.getRequiredProperty(&quot;hibernate.dialect&quot;));\r\n            properties.put(&quot;hibernate.show_sql&quot;, environment.getRequiredProperty(&quot;hibernate.show_sql&quot;));\r\n            properties.put(&quot;hibernate.format_sql&quot;, environment.getRequiredProperty(&quot;hibernate.format_sql&quot;));\r\n            return properties;        \r\n        }\r\n         \r\n        @Bean\r\n        @Autowired\r\n        public HibernateTransactionManager transactionManager(SessionFactory s) {\r\n           HibernateTransactionManager txManager = new HibernateTransactionManager();\r\n           txManager.setSessionFactory(s);\r\n           return txManager;\r\n        }\r\n    \r\n    }\r\n\r\nand properties:\r\n\r\n    #DB properties:\r\n    jdbc.driverClassName=com.mysql.jdbc.Driver\r\n    jdbc.url=jdbc:mysql://localhost:3306/ntq?autoReconnect=true\r\n    jdbc.username=account\r\n    jdbc.password=password\r\n    \r\n    #Hibernate Configuration:\r\n    hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    hibernate.show_sql=true\r\n    hibernate.format_sql=true\r\n    #entitymanager.packages.to.scan=com.javacodegeeks\r\n\r\nI&#39;m sorry if it is a duplicate question. I will mark it as duplicate as soon as I have a clue what causes the error. Thank you!","title":"Hibernate: Unknown table &#39; &#39; in field list even though the table definitely exists","body":"<p>I'm newbee, and I have a problem in hibernate. When I run and it throw an exception: </p>\n\n<blockquote>\n  <p>HTTP Status 500 - Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet</p>\n</blockquote>\n\n<p>Error at:</p>\n\n<blockquote>\n  <p>com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Unknown table\n  'dotnet0_' in field list</p>\n</blockquote>\n\n<p><br/>Here is my DB.</p>\n\n<pre><code>    CREATE TABLE `dotnet` (\n  `general` double DEFAULT NULL,\n  `c#` double DEFAULT NULL,\n  `vb` double DEFAULT NULL,\n  `asp` double DEFAULT NULL,\n  `entityFramework` double DEFAULT NULL,\n  `mvc` double DEFAULT NULL,\n  `aspNetWebApi` double DEFAULT NULL,\n  `ado` double DEFAULT NULL,\n  `wpf` double DEFAULT NULL,\n  `wcf` double DEFAULT NULL,\n  `nunit` double DEFAULT NULL,\n  `moq` double DEFAULT NULL,\n  `urf` double DEFAULT NULL,\n  `id` int(11) NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `id_UNIQUE` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:977)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nroot cause\norg.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\n    org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\n    org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\n    org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\n    org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\n    org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\n    org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\n    org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\n    org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\n    org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\n    org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\n    org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\n    org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\n    org.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\n    a.b.c.dao.AbstractDAO.getByKey(AbstractDAO.java:29)\n    a.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:13)\n    a.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:1)\n    a.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:27)\n    a.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:1)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    java.lang.reflect.Method.invoke(Unknown Source)\n    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    com.sun.proxy.$Proxy228.save(Unknown Source)\n    a.b.c.controller.HomeController.changeValue(HomeController.java:186)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    java.lang.reflect.Method.invoke(Unknown Source)\n    org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\n    org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\n    org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\n    org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:965)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nroot cause\ncom.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Unknown table 'dotnet0_' in field list\n    com.mysql.jdbc.SQLError.createSQLException(SQLError.java:936)\n    com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2870)\n    com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1573)\n    com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1665)\n    com.mysql.jdbc.Connection.execSQL(Connection.java:3176)\n    com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1153)\n    com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1266)\n    org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\n    org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\n    org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\n    org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\n    org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\n    org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\n    org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\n    org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\n    org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\n    org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\n    org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\n    org.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\n    a.b.c.dao.AbstractDAO.getByKey(AbstractDAO.java:29)\n    a.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:13)\n    a.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:1)\n    a.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:27)\n    a.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:1)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    java.lang.reflect.Method.invoke(Unknown Source)\n    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    com.sun.proxy.$Proxy228.save(Unknown Source)\n    a.b.c.controller.HomeController.changeValue(HomeController.java:186)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    java.lang.reflect.Method.invoke(Unknown Source)\n    org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\n    org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\n    org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\n    org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:965)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n\n<p>My code here:</p>\n\n<pre><code>    @Entity\n@Table(name=\"dotnet\")\npublic class DotNet {\n    private double general;\n    private int id;\n\n    // Language\n    double cThang;\n    double vb;\n    double asp;\n\n    // Framework\n    private double entityFramework;\n    private double mvc;\n    private double aspNetWebAPI;\n    private double ado;\n    private double wpf;\n    private double wcf;\n    private double nunit;\n    private double moq;\n    private double urf;\n\n    public double[] toArray() {\n        double[] net = { general, cThang, vb, asp, entityFramework, mvc, aspNetWebAPI, ado, wpf, wcf, nunit, moq, urf };\n        return net;\n    }\n\n    @Column(name = \"entityframework\", nullable = false)\n    public double getEntityFramework() {\n        return entityFramework;\n    }\n\n    public void setEntityFramework(double entityFramework) {\n        this.entityFramework = entityFramework;\n    }\n\n    @Column(name = \"mvc\", nullable = false)\n    public double getMvc() {\n        return mvc;\n    }\n\n    public void setMvc(double mvc) {\n        this.mvc = mvc;\n    }\n\n    @Column(name = \"aspnetwebapi\", nullable = false)\n    public double getAspNetWebAPI() {\n        return aspNetWebAPI;\n    }\n\n    public void setAspNetWebAPI(double aspNetWebAPI) {\n        this.aspNetWebAPI = aspNetWebAPI;\n    }\n\n    @Column(name = \"ado\", nullable = false)\n    public double getAdo() {\n        return ado;\n    }\n\n    public void setAdo(double ado) {\n        this.ado = ado;\n    }\n\n    @Column(name = \"wpf\", nullable = false)\n    public double getWpf() {\n        return wpf;\n    }\n\n    public void setWpf(double wpf) {\n        this.wpf = wpf;\n    }\n\n    @Column(name = \"nunit\", nullable = false)\n    public double getNunit() {\n        return nunit;\n    }\n\n    public void setNunit(double nunit) {\n        this.nunit = nunit;\n    }\n\n    @Column(name = \"moq\", nullable = false)\n    public double getMoq() {\n        return moq;\n    }\n\n    public void setMoq(double moq) {\n        this.moq = moq;\n    }\n\n    @Column(name = \"URF\", nullable = false)\n    public double getUrf() {\n        return urf;\n    }\n\n    public void setUrf(double urf) {\n        this.urf = urf;\n    }\n\n    @Column(name = \"c#\", nullable = false)\n    public double getcThang() {\n        return cThang;\n    }\n\n    public void setcThang(double cThang) {\n        this.cThang = cThang;\n    }\n\n    @Column(name = \"vb\", nullable = false)\n    public double getVb() {\n        return vb;\n    }\n\n    public void setVb(double vb) {\n        this.vb = vb;\n    }\n\n    @Column(name = \"asp\", nullable = false)\n    public double getAsp() {\n        return asp;\n    }\n\n    public void setAsp(double asp) {\n        this.asp = asp;\n    }\n\n    @Id\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    @Column(name = \"general\", nullable = false)\n    public double getGeneral() {\n        return general;\n    }\n\n    public void setGeneral(double general) {\n        this.general = general;\n    }\n\n    @Column(name = \"wcf\", nullable = false)\n    public double getWcf() {\n        return wcf;\n    }\n\n    public void setWcf(double wcf) {\n        this.wcf = wcf;\n    }\n}\n</code></pre>\n\n<p>My configuration:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = \"a.b.c\")\npublic class AppConfig {\n\n    @Bean\n    public ViewResolver viewResolver() {\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n        viewResolver.setViewClass(JstlView.class);\n        viewResolver.setPrefix(\"/WEB-INF/views/\");\n        viewResolver.setSuffix(\".jsp\");\n        return viewResolver;\n    }\n\n    @Bean\n    public MessageSource messageSource() {\n        ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\n        messageSource.setBasename(\"messages\");\n        return messageSource;\n    }\n\n}\n\npublic class AppInitializer implements WebApplicationInitializer {\n\n    public void onStartup(ServletContext container) throws ServletException {\n\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n        ctx.register(AppConfig.class);\n        ctx.setServletContext(container);\n\n        ServletRegistration.Dynamic servlet = container.addServlet(\n                \"dispatcher\", new DispatcherServlet(ctx));\n\n        servlet.setLoadOnStartup(1);\n        servlet.addMapping(\"/\");\n    }\n\n}\n</code></pre>\n\n<p>here is hibernate config:</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@ComponentScan({ \"a.b.c.configuration\" })\n@PropertySource(value = { \"classpath:application.properties\" })\n\npublic class HibernateConfiguration {\n\n    @Autowired\n    private Environment environment;\n\n    @Bean\n    public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n        sessionFactory.setDataSource(dataSource());\n        sessionFactory.setPackagesToScan(new String[] { \"a.b.c.model\" });\n        sessionFactory.setHibernateProperties(hibernateProperties());\n        return sessionFactory;\n     }\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(environment.getRequiredProperty(\"jdbc.driverClassName\"));\n        dataSource.setUrl(environment.getRequiredProperty(\"jdbc.url\"));\n        dataSource.setUsername(environment.getRequiredProperty(\"jdbc.username\"));\n        dataSource.setPassword(environment.getRequiredProperty(\"jdbc.password\"));\n\n        return dataSource;\n    }\n\n    private Properties hibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(\"hibernate.dialect\", environment.getRequiredProperty(\"hibernate.dialect\"));\n        properties.put(\"hibernate.show_sql\", environment.getRequiredProperty(\"hibernate.show_sql\"));\n        properties.put(\"hibernate.format_sql\", environment.getRequiredProperty(\"hibernate.format_sql\"));\n        return properties;        \n    }\n\n    @Bean\n    @Autowired\n    public HibernateTransactionManager transactionManager(SessionFactory s) {\n       HibernateTransactionManager txManager = new HibernateTransactionManager();\n       txManager.setSessionFactory(s);\n       return txManager;\n    }\n\n}\n</code></pre>\n\n<p>and properties:</p>\n\n<pre><code>#DB properties:\njdbc.driverClassName=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:3306/ntq?autoReconnect=true\njdbc.username=account\njdbc.password=password\n\n#Hibernate Configuration:\nhibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nhibernate.show_sql=true\nhibernate.format_sql=true\n#entitymanager.packages.to.scan=com.javacodegeeks\n</code></pre>\n\n<p>I'm sorry if it is a duplicate question. I will mark it as duplicate as soon as I have a clue what causes the error. Thank you!</p>\n"},{"tags":["java","button","drop-down-menu","swt","controls"],"answers":[{"tags":[],"owner":{"account_id":1138236,"reputation":1134,"user_id":1122840,"accept_rate":75,"display_name":"Tobias Willig"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1366959214,"creation_date":1366462247,"answer_id":16120568,"question_id":16113313,"body_markdown":"This [snippet][1] shows how to use the described widget in a SWT toolbar. You can set the button text by using the `item.setText()` method.\r\n\r\n\r\n  [1]: http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet67.java","title":"SWT Button Dropdown Control","body":"<p>This <a href=\"http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet67.java\" rel=\"nofollow\">snippet</a> shows how to use the described widget in a SWT toolbar. You can set the button text by using the <code>item.setText()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":1460245,"reputation":3085,"user_id":1374773,"display_name":"sambi reddy"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1366754557,"creation_date":1366741752,"answer_id":16176595,"question_id":16113313,"body_markdown":"I think, this is what you should do get Drop down menu behavior\r\n\r\n1. Create `Menu` with style `SWT.DROP_DOWN`\r\n2. Create `MenuItems` on `Menu`\r\n\r\n\r\nif you want a button \r\n\r\n1. Create a Button with style `SWT.ARROW | SWT.DOWN`\r\n2. add `SelectionListener`\r\n3. In `SelectionListener`, Create a Menu with style `SWT.POP_UP` and position the menu at the button location.\r\n\r\n\r\n\r\n\r\n//code\r\n\r\n\r\n    public static void main(String[] args) {\r\n    \t    Display display = new Display();\r\n    \t    final Shell shell = new Shell(display);\r\n    \t    shell.setSize(300, 200);\r\n    \t    shell.setText(&quot;Button Example&quot;);\r\n    \t    shell.setLayout(new RowLayout());\r\n    \t    \r\n    \t    \r\n    \t    /**\r\n    \t     * \r\n    \t     * Approach1\r\n    \t     * \r\n    \t     */\r\n    \t    final Composite btnCntrl = new Composite(shell, SWT.BORDER);\r\n    \t    btnCntrl.setBackground(display.getSystemColor(SWT.COLOR_WHITE));\r\n    \t    btnCntrl.setBackgroundMode(SWT.INHERIT_FORCE);\r\n    \t    GridLayoutFactory.fillDefaults().numColumns(2).equalWidth(false).spacing(0, 1).applyTo(btnCntrl);\r\n    \t    CLabel lbl = new CLabel(btnCntrl, SWT.NONE);\r\n    \t    lbl.setText(&quot;Animals&quot;);\r\n    \t    Button btn = new Button(btnCntrl, SWT.FLAT|SWT.ARROW|SWT.DOWN);\r\n    \t    btn.setLayoutData(new GridData(GridData.FILL_VERTICAL));\r\n    \t    \r\n    \t    btn.addSelectionListener(new SelectionAdapter() {\r\n    \t    \t@Override\r\n    \t    \tpublic void widgetSelected(SelectionEvent e) {\r\n    \t    \t\tsuper.widgetSelected(e);\r\n    \t    \t\tMenu menu = new Menu(shell, SWT.POP_UP);\r\n    \t    \t\t\r\n    \t    \t\tMenuItem item1 = new MenuItem(menu, SWT.PUSH);\r\n    \t    \t\titem1.setText(&quot;Hare&quot;);\r\n    \t    \t\tMenuItem item2 = new MenuItem(menu, SWT.PUSH);\r\n    \t    \t\titem2.setText(&quot;Fox&quot;);\r\n    \t    \t\tMenuItem item3 = new MenuItem(menu, SWT.PUSH);\r\n    \t    \t\titem3.setText(&quot;Pony&quot;);\r\n    \t    \t\t\r\n    \t    \t\t\r\n    \t    \t\t\r\n    \t    \t\tPoint loc = btnCntrl.getLocation();\r\n    \t    \t\tRectangle rect = btnCntrl.getBounds();\r\n    \t    \t\t\r\n    \t    \t\tPoint mLoc = new Point(loc.x-1, loc.y+rect.height);\r\n    \t    \t\t\r\n    \t    \t\tmenu.setLocation(shell.getDisplay().map(btnCntrl.getParent(), null, mLoc));\r\n    \t    \t\t\r\n    \t    \t\tmenu.setVisible(true);\r\n    \t    \t}\r\n    \t\t});\r\n    \t    \r\n    \t    \r\n    \t    \r\n    \t    /***\r\n    \t     * \r\n    \t     * \r\n    \t     * Approach 2\r\n    \t     * \r\n    \t     */\r\n    \t    \r\n    \t    \r\n    \t    final Composite btnCntrl2 = new Composite(shell, SWT.BORDER);\r\n    \t    btnCntrl2.setBackground(display.getSystemColor(SWT.COLOR_WHITE));\r\n    \t    btnCntrl2.setBackgroundMode(SWT.INHERIT_FORCE);\r\n    \t    GridLayoutFactory.fillDefaults().numColumns(2).equalWidth(false).spacing(0, 1).applyTo(btnCntrl2);\r\n    \t    CLabel lbl2 = new CLabel(btnCntrl2, SWT.NONE);\r\n    \t    lbl2.setText(&quot;Animals&quot;);\r\n    \t    Button btn2 = new Button(btnCntrl2, SWT.FLAT|SWT.ARROW|SWT.DOWN);\r\n    \t    btn2.setLayoutData(new GridData(GridData.FILL_VERTICAL));\r\n    \t    \r\n    \t    btn2.addSelectionListener(new SelectionAdapter() {\r\n    \t    \t@Override\r\n    \t    \tpublic void widgetSelected(SelectionEvent e) {\r\n    \t    \t\tsuper.widgetSelected(e);\r\n    \t    \t\tShell menu = (Shell) btnCntrl2.getData(&quot;subshell&quot;);\r\n    \t    \t\tif(menu != null &amp;&amp; !menu.isDisposed()){\r\n    \t    \t\t\tmenu.dispose();\r\n    \t    \t\t}\r\n    \t    \t\tmenu = new Shell(shell, SWT.NONE);\r\n    \t    \t\tmenu.setLayout(new FillLayout());\r\n    \t    \t\tTable table = new Table(menu, SWT.FULL_SELECTION);\r\n    \t    \t\ttable.addListener(SWT.MeasureItem, new Listener() {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void handleEvent(Event event) {\r\n    \t\t\t\t\t\tevent.height = 20; //TODO: determine later\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t    \t\t\r\n    \t    \t\ttable.addListener(SWT.PaintItem, new Listener() {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void handleEvent(Event event) {\r\n    \t\t\t\t\t\tRectangle bounds = event.getBounds();\r\n    \t\t\t\t\t\tevent.gc.setBackground(event.display.getSystemColor(SWT.COLOR_BLUE));\r\n    \t\t\t\t\t\tevent.gc.drawLine(bounds.x, bounds.y+bounds.height-1, bounds.x+bounds.width, bounds.y+bounds.height-1);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t    \t\tTableItem tableItem= new TableItem(table, SWT.NONE);\r\n    \t\t\t\ttableItem.setText(0, &quot;Hare&quot;);\r\n    \t\t\t\t\r\n    \t    \t\tTableItem tableItem2= new TableItem(table, SWT.NONE);\r\n    \t\t\t\ttableItem2.setText(0, &quot;Pony&quot; );\r\n    \t\t\t\t\r\n    \t\t\t\tTableItem tableItem3= new TableItem(table, SWT.NONE);\r\n    \t\t\t\ttableItem3.setText(0, &quot;Dog&quot;);\r\n    \t\t\t\t\r\n    \t    \t\t\r\n    \t    \t\tPoint loc = btnCntrl2.getLocation();\r\n    \t    \t\tRectangle rect = btnCntrl2.getBounds();\r\n    \t    \t\t\r\n    \t    \t\tPoint mLoc = new Point(loc.x, loc.y+rect.height);\r\n    \t    \t\t\r\n    \t    \t\tmenu.setLocation(shell.getDisplay().map(btnCntrl2.getParent(), null, mLoc));\r\n    \t    \t\tmenu.pack();\r\n    \t    \t\tmenu.setVisible(true);\r\n    \t    \t\t\r\n    \t    \t\tbtnCntrl2.setData(&quot;subshell&quot;, menu);\r\n    \t    \t\t\r\n    \t    \t}\r\n    \t\t});\r\n    \t    \r\n    \t    display.addFilter(SWT.MouseDown, new Listener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void handleEvent(Event event) {\r\n    \t\t\t\tShell shell = (Shell) btnCntrl2.getData(&quot;subshell&quot;);\r\n    \t\t\t\tif(shell != null &amp;&amp; !shell.getBounds().contains(event.display.map((Control)event.widget, null, new Point(event.x, event.y)))){\r\n    \t\t\t\t\tshell.dispose();\r\n    \t\t\t\t\tbtnCntrl2.setData(&quot;subshell&quot;, null);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t    \r\n    \t    shell.open();\r\n    \t    while (!shell.isDisposed()) {\r\n    \t      if (!display.readAndDispatch())\r\n    \t        display.sleep();\r\n    \t    }\r\n    \t    display.dispose();\r\n    \t  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"SWT Button Dropdown Control","body":"<p>I think, this is what you should do get Drop down menu behavior</p>\n\n<ol>\n<li>Create <code>Menu</code> with style <code>SWT.DROP_DOWN</code></li>\n<li>Create <code>MenuItems</code> on <code>Menu</code></li>\n</ol>\n\n<p>if you want a button </p>\n\n<ol>\n<li>Create a Button with style <code>SWT.ARROW | SWT.DOWN</code></li>\n<li>add <code>SelectionListener</code></li>\n<li>In <code>SelectionListener</code>, Create a Menu with style <code>SWT.POP_UP</code> and position the menu at the button location.</li>\n</ol>\n\n<p>//code</p>\n\n<pre><code>public static void main(String[] args) {\n        Display display = new Display();\n        final Shell shell = new Shell(display);\n        shell.setSize(300, 200);\n        shell.setText(\"Button Example\");\n        shell.setLayout(new RowLayout());\n\n\n        /**\n         * \n         * Approach1\n         * \n         */\n        final Composite btnCntrl = new Composite(shell, SWT.BORDER);\n        btnCntrl.setBackground(display.getSystemColor(SWT.COLOR_WHITE));\n        btnCntrl.setBackgroundMode(SWT.INHERIT_FORCE);\n        GridLayoutFactory.fillDefaults().numColumns(2).equalWidth(false).spacing(0, 1).applyTo(btnCntrl);\n        CLabel lbl = new CLabel(btnCntrl, SWT.NONE);\n        lbl.setText(\"Animals\");\n        Button btn = new Button(btnCntrl, SWT.FLAT|SWT.ARROW|SWT.DOWN);\n        btn.setLayoutData(new GridData(GridData.FILL_VERTICAL));\n\n        btn.addSelectionListener(new SelectionAdapter() {\n            @Override\n            public void widgetSelected(SelectionEvent e) {\n                super.widgetSelected(e);\n                Menu menu = new Menu(shell, SWT.POP_UP);\n\n                MenuItem item1 = new MenuItem(menu, SWT.PUSH);\n                item1.setText(\"Hare\");\n                MenuItem item2 = new MenuItem(menu, SWT.PUSH);\n                item2.setText(\"Fox\");\n                MenuItem item3 = new MenuItem(menu, SWT.PUSH);\n                item3.setText(\"Pony\");\n\n\n\n                Point loc = btnCntrl.getLocation();\n                Rectangle rect = btnCntrl.getBounds();\n\n                Point mLoc = new Point(loc.x-1, loc.y+rect.height);\n\n                menu.setLocation(shell.getDisplay().map(btnCntrl.getParent(), null, mLoc));\n\n                menu.setVisible(true);\n            }\n        });\n\n\n\n        /***\n         * \n         * \n         * Approach 2\n         * \n         */\n\n\n        final Composite btnCntrl2 = new Composite(shell, SWT.BORDER);\n        btnCntrl2.setBackground(display.getSystemColor(SWT.COLOR_WHITE));\n        btnCntrl2.setBackgroundMode(SWT.INHERIT_FORCE);\n        GridLayoutFactory.fillDefaults().numColumns(2).equalWidth(false).spacing(0, 1).applyTo(btnCntrl2);\n        CLabel lbl2 = new CLabel(btnCntrl2, SWT.NONE);\n        lbl2.setText(\"Animals\");\n        Button btn2 = new Button(btnCntrl2, SWT.FLAT|SWT.ARROW|SWT.DOWN);\n        btn2.setLayoutData(new GridData(GridData.FILL_VERTICAL));\n\n        btn2.addSelectionListener(new SelectionAdapter() {\n            @Override\n            public void widgetSelected(SelectionEvent e) {\n                super.widgetSelected(e);\n                Shell menu = (Shell) btnCntrl2.getData(\"subshell\");\n                if(menu != null &amp;&amp; !menu.isDisposed()){\n                    menu.dispose();\n                }\n                menu = new Shell(shell, SWT.NONE);\n                menu.setLayout(new FillLayout());\n                Table table = new Table(menu, SWT.FULL_SELECTION);\n                table.addListener(SWT.MeasureItem, new Listener() {\n\n                    @Override\n                    public void handleEvent(Event event) {\n                        event.height = 20; //TODO: determine later\n                    }\n                });\n\n                table.addListener(SWT.PaintItem, new Listener() {\n\n                    @Override\n                    public void handleEvent(Event event) {\n                        Rectangle bounds = event.getBounds();\n                        event.gc.setBackground(event.display.getSystemColor(SWT.COLOR_BLUE));\n                        event.gc.drawLine(bounds.x, bounds.y+bounds.height-1, bounds.x+bounds.width, bounds.y+bounds.height-1);\n                    }\n                });\n                TableItem tableItem= new TableItem(table, SWT.NONE);\n                tableItem.setText(0, \"Hare\");\n\n                TableItem tableItem2= new TableItem(table, SWT.NONE);\n                tableItem2.setText(0, \"Pony\" );\n\n                TableItem tableItem3= new TableItem(table, SWT.NONE);\n                tableItem3.setText(0, \"Dog\");\n\n\n                Point loc = btnCntrl2.getLocation();\n                Rectangle rect = btnCntrl2.getBounds();\n\n                Point mLoc = new Point(loc.x, loc.y+rect.height);\n\n                menu.setLocation(shell.getDisplay().map(btnCntrl2.getParent(), null, mLoc));\n                menu.pack();\n                menu.setVisible(true);\n\n                btnCntrl2.setData(\"subshell\", menu);\n\n            }\n        });\n\n        display.addFilter(SWT.MouseDown, new Listener() {\n\n            @Override\n            public void handleEvent(Event event) {\n                Shell shell = (Shell) btnCntrl2.getData(\"subshell\");\n                if(shell != null &amp;&amp; !shell.getBounds().contains(event.display.map((Control)event.widget, null, new Point(event.x, event.y)))){\n                    shell.dispose();\n                    btnCntrl2.setData(\"subshell\", null);\n                }\n            }\n        });\n\n        shell.open();\n        while (!shell.isDisposed()) {\n          if (!display.readAndDispatch())\n            display.sleep();\n        }\n        display.dispose();\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1873009,"reputation":91,"user_id":1694840,"display_name":"Benjamin Wolff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670602073,"creation_date":1670602073,"answer_id":74745563,"question_id":16113313,"body_markdown":"This question is almost 10 years old, but just in case someone is still looking for a solution (like I just did ;) ):\r\n\r\nI achieved a pretty close behaviour of your description using only a `Button` and a `Menu` using this approach: http://eclipseo.blogspot.com/2012/07/show-context-menu-programmatically.html\r\n\r\n```\r\nButton button = new Button(parent, SWT.PUSH);\r\nbutton.setText(&quot;Animals&quot;);\r\n\r\nMenu menu = new Menu(button);\r\nMenuItem item = new MenuItem(menu, SWT.PUSH);\r\nitem.setText(&quot;hare&quot;);\r\n\r\nmenu.addListener(SWT.Show, new Listener() {\r\n    @Override\r\n    public void handleEvent(Event event) {\r\n        menu.setVisible(true);\r\n    }\r\n});\r\n\r\nbutton.addSelectionListener(new SelectionAdapter() {\r\n    @Override\r\n    public void widgetSelected(SelectionEvent e) {\r\n        menu.notifyListeners(SWT.Show, null);\r\n    }\r\n});\r\n```\r\n\r\nThe result is that the menu is shown when you (left) click on the button.\r\n\r\nBonus: to achieve the expand icon at the end, you can add a unicode character for a down triangle in the button text like so:\r\n\r\n```\r\nbutton.setText(&quot;Animals \\u2BC6&quot;);\r\n```\r\n\r\nHTH,\r\nBen","title":"SWT Button Dropdown Control","body":"<p>This question is almost 10 years old, but just in case someone is still looking for a solution (like I just did ;) ):</p>\n<p>I achieved a pretty close behaviour of your description using only a <code>Button</code> and a <code>Menu</code> using this approach: <a href=\"http://eclipseo.blogspot.com/2012/07/show-context-menu-programmatically.html\" rel=\"nofollow noreferrer\">http://eclipseo.blogspot.com/2012/07/show-context-menu-programmatically.html</a></p>\n<pre><code>Button button = new Button(parent, SWT.PUSH);\nbutton.setText(&quot;Animals&quot;);\n\nMenu menu = new Menu(button);\nMenuItem item = new MenuItem(menu, SWT.PUSH);\nitem.setText(&quot;hare&quot;);\n\nmenu.addListener(SWT.Show, new Listener() {\n    @Override\n    public void handleEvent(Event event) {\n        menu.setVisible(true);\n    }\n});\n\nbutton.addSelectionListener(new SelectionAdapter() {\n    @Override\n    public void widgetSelected(SelectionEvent e) {\n        menu.notifyListeners(SWT.Show, null);\n    }\n});\n</code></pre>\n<p>The result is that the menu is shown when you (left) click on the button.</p>\n<p>Bonus: to achieve the expand icon at the end, you can add a unicode character for a down triangle in the button text like so:</p>\n<pre><code>button.setText(&quot;Animals \\u2BC6&quot;);\n</code></pre>\n<p>HTH,\nBen</p>\n"}],"owner":{"account_id":2222816,"reputation":1545,"user_id":1961815,"accept_rate":75,"display_name":"Southpaw Hare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12050,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1670602073,"creation_date":1366404777,"question_id":16113313,"body_markdown":"Is there a **standard SWT control** that resembles a **button** which **displays an arrow** and **opens a dropdown menu** when pressed and is **not a toolbar-only control**?\r\n\r\nIt would be something like this:\r\n\r\n![enter image description here][1]\r\n\r\nIt is similar to a combo box control, except that the &quot;button&quot; area would act more similarly to an actual button - its text would not change based on your selection, it would appear depressed when clicked, and the items would be used for actions or navigational purposes instead of for selection.  It&#39;s also similar to a control available for toolbars, but I need to use it on a regular composite instead.\r\n\r\nThis is nearly doable simply by using regular button and popup-menu controls - however, I do not believe I can display the arrow next to the text on the button this way.  Anyway, since this kind of control seems fairly common, I assumed there would be a standard way to use these two things as one.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/jbN5f.png","title":"SWT Button Dropdown Control","body":"<p>Is there a <strong>standard SWT control</strong> that resembles a <strong>button</strong> which <strong>displays an arrow</strong> and <strong>opens a dropdown menu</strong> when pressed and is <strong>not a toolbar-only control</strong>?</p>\n\n<p>It would be something like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/jbN5f.png\" alt=\"enter image description here\"></p>\n\n<p>It is similar to a combo box control, except that the \"button\" area would act more similarly to an actual button - its text would not change based on your selection, it would appear depressed when clicked, and the items would be used for actions or navigational purposes instead of for selection.  It's also similar to a control available for toolbars, but I need to use it on a regular composite instead.</p>\n\n<p>This is nearly doable simply by using regular button and popup-menu controls - however, I do not believe I can display the arrow next to the text on the button this way.  Anyway, since this kind of control seems fairly common, I assumed there would be a standard way to use these two things as one.</p>\n"},{"tags":["java","jms","netty"],"comments":[{"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"score":0,"creation_date":1670576441,"post_id":74733418,"comment_id":131910671,"body_markdown":"Yes, it&#39;s QPID JMS, javax.jms:javax.jms-api:jar:2.0.1 and org.apache.qpid:qpid-jms-client:jar:0.61.0.","body":"Yes, it&#39;s QPID JMS, javax.jms:javax.jms-api:jar:2.0.1 and org.apache.qpid:qpid-jms-client:jar:0.61.0."}],"answers":[{"tags":[],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670598305,"creation_date":1670598305,"answer_id":74744871,"question_id":74733418,"body_markdown":"We could solve this issue. It was not caused by Netty or JMS at all. Our basis team replaced the garbage collector GC1 in our Virtual Machine with the alternative SerialGC.\r\n\r\nThat garbage collector is much slower in releasing unused memory, hence the stark increase in memory usage. At the same time, a suboptimal configuration caused it to allow memory allocations up to 100%. This left the application zero headroom to deal with recurring side tasks, such that these ran into out of memory situations.\r\n\r\nWe now forced the garbage collector algorithm by running the Java option `-XX:+UseSerialGC`.\r\n\r\nNetty and JMS appear in our Dynatrace chart so prominently because they happen to be the most memory-hungry processes. (Which is okay, because they deal with the main load of the app.) They also hold on to their memory until the messages are sent out, which may mean that their objects survive at least one random garbage collector inspection - hence the slightly misleading classification into the &quot;survivor&quot; space.","title":"What reserves and holds my Java memory when sending out AMQP events from my Spring Boot app?","body":"<p>We could solve this issue. It was not caused by Netty or JMS at all. Our basis team replaced the garbage collector GC1 in our Virtual Machine with the alternative SerialGC.</p>\n<p>That garbage collector is much slower in releasing unused memory, hence the stark increase in memory usage. At the same time, a suboptimal configuration caused it to allow memory allocations up to 100%. This left the application zero headroom to deal with recurring side tasks, such that these ran into out of memory situations.</p>\n<p>We now forced the garbage collector algorithm by running the Java option <code>-XX:+UseSerialGC</code>.</p>\n<p>Netty and JMS appear in our Dynatrace chart so prominently because they happen to be the most memory-hungry processes. (Which is okay, because they deal with the main load of the app.) They also hold on to their memory until the messages are sent out, which may mean that their objects survive at least one random garbage collector inspection - hence the slightly misleading classification into the &quot;survivor&quot; space.</p>\n"}],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744871,"answer_count":1,"score":0,"last_activity_date":1670602071,"creation_date":1670516972,"question_id":74733418,"body_markdown":"My Spring Boot application provides some features that perform an action and then send out AMQP events. One of these seems to suffer from a memory leak. Triggering it causes the app&#39;s memory consumption to rise and not come down for several hours.\r\n\r\nI am a bit clueless as to what reserves and holds this memory. My own threads look harmless enough. They do process data (sometimes inefficiently), but they simply pass it on from method to method, without storing it somewhere (object/static attributes).\r\n\r\nMy Dynatrace memory chart looks like this. The hierarchy shows that the leftmost side reserves and holds ~7 GB of main memory (survivor space).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThere are several entries there that I cannot fathom. I am not aware of actively using Netty, yet it shows up here, so probably an indirect dependency from Spring or JMS. At the bottommost layer, I find things like ByteBufferUtils - does Netty buffer the events I am sending out? Above, I find ByteToMessageDecoder.channelRead - why &quot;read&quot; if I am in a sending process? Further up we find SslHandler.unwrap - SSL is okay, but why should SSL interaction store larger amounts of data?\r\n\r\nCan somebody help shed light on this? Maybe had a similar situation? Or ideas what next steps I could take to analyze this further?\r\n\r\nOur JMS client dependencies are:\r\n - javax.jms:javax.jms-api:jar:2.0.1\r\n - org.apache.qpid:qpid-jms-client:jar:0.61.0\r\n\r\n  [1]: https://i.stack.imgur.com/2hv1n.png","title":"What reserves and holds my Java memory when sending out AMQP events from my Spring Boot app?","body":"<p>My Spring Boot application provides some features that perform an action and then send out AMQP events. One of these seems to suffer from a memory leak. Triggering it causes the app's memory consumption to rise and not come down for several hours.</p>\n<p>I am a bit clueless as to what reserves and holds this memory. My own threads look harmless enough. They do process data (sometimes inefficiently), but they simply pass it on from method to method, without storing it somewhere (object/static attributes).</p>\n<p>My Dynatrace memory chart looks like this. The hierarchy shows that the leftmost side reserves and holds ~7 GB of main memory (survivor space).</p>\n<p><a href=\"https://i.stack.imgur.com/2hv1n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2hv1n.png\" alt=\"enter image description here\" /></a></p>\n<p>There are several entries there that I cannot fathom. I am not aware of actively using Netty, yet it shows up here, so probably an indirect dependency from Spring or JMS. At the bottommost layer, I find things like ByteBufferUtils - does Netty buffer the events I am sending out? Above, I find ByteToMessageDecoder.channelRead - why &quot;read&quot; if I am in a sending process? Further up we find SslHandler.unwrap - SSL is okay, but why should SSL interaction store larger amounts of data?</p>\n<p>Can somebody help shed light on this? Maybe had a similar situation? Or ideas what next steps I could take to analyze this further?</p>\n<p>Our JMS client dependencies are:</p>\n<ul>\n<li>javax.jms:javax.jms-api:jar:2.0.1</li>\n<li>org.apache.qpid:qpid-jms-client:jar:0.61.0</li>\n</ul>\n"},{"tags":["java","audio","java-audio"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670107509,"post_id":74670476,"comment_id":131797503,"body_markdown":"I probably use a scale filter in ffmpeg to scale the whole audio. Then I&#39;d use the same app to splice in the amplified version","body":"I probably use a scale filter in ffmpeg to scale the whole audio. Then I&#39;d use the same app to splice in the amplified version"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670109783,"post_id":74670476,"comment_id":131797893,"body_markdown":"By ffmpeg are you referring to a program or a library? I installed their GitHub library onto my IDE, however some packages were not found and I couldn&#39;t find any example code to build onto.","body":"By ffmpeg are you referring to a program or a library? I installed their GitHub library onto my IDE, however some packages were not found and I couldn&#39;t find any example code to build onto."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670110849,"post_id":74670476,"comment_id":131798043,"body_markdown":"There&#39;s a Java wrapper as far as I can remember but if you find that problematic you can always use the real thing via `ProcessBuilder`","body":"There&#39;s a Java wrapper as far as I can remember but if you find that problematic you can always use the real thing via <code>ProcessBuilder</code>"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670157663,"post_id":74670476,"comment_id":131804191,"body_markdown":"@g00se Thanks, will look into that. Yesterday I&#39;ve managed to get cutting a part of the WAV file. I&#39;ve previously found out how to join the two. I just need to get the amplitude part right at this point.","body":"@g00se Thanks, will look into that. Yesterday I&#39;ve managed to get cutting a part of the WAV file. I&#39;ve previously found out how to join the two. I just need to get the amplitude part right at this point."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670161084,"post_id":74670476,"comment_id":131805805,"body_markdown":"It&#39;s not inconceivable that you can configure the filter to just scale part of the file, such that you don&#39;t need to do any splicing","body":"It&#39;s not inconceivable that you can configure the filter to just scale part of the file, such that you don&#39;t need to do any splicing"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670161476,"post_id":74670476,"comment_id":131805881,"body_markdown":"@g00se that&#39;s also true, I guess I can implement something like that as well. So far what I&#39;ve tried to change the amplitude in half is two covert the bytes into a double array, half the value of each double and then cast it back to a byte array. It had an output, but it basically worked like an audio limiter and then add a bunch of noise as well.","body":"@g00se that&#39;s also true, I guess I can implement something like that as well. So far what I&#39;ve tried to change the amplitude in half is two covert the bytes into a double array, half the value of each double and then cast it back to a byte array. It had an output, but it basically worked like an audio limiter and then add a bunch of noise as well."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670171281,"post_id":74670476,"comment_id":131808092,"body_markdown":"After a great deal of googling and experimentation, I came up with `ffmpeg -i a440.wav -af &quot;volume=0.1:enable=&#39;between(t,2,8)&#39;&quot; a2.wav` Scale the volume down by a factor of 10 in the time region between 2 and 8 seconds","body":"After a great deal of googling and experimentation, I came up with <code>ffmpeg -i a440.wav -af &quot;volume=0.1:enable=&#39;between(t,2,8)&#39;&quot; a2.wav</code> Scale the volume down by a factor of 10 in the time region between 2 and 8 seconds"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670181703,"post_id":74670476,"comment_id":131810619,"body_markdown":"@g00se Do you do this in the command line or is it that in another programming language? I don&#39;t recognize that syntax","body":"@g00se Do you do this in the command line or is it that in another programming language? I don&#39;t recognize that syntax"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670186153,"post_id":74670476,"comment_id":131811590,"body_markdown":"Command line, yes","body":"Command line, yes"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670276047,"post_id":74670476,"comment_id":131834714,"body_markdown":"@g00se I took a look around it, it looks like it&#39;s quite an exhaustive library, just not sure how to use it. Hopefully I can figure it out, might take a bit of browsing through it.","body":"@g00se I took a look around it, it looks like it&#39;s quite an exhaustive library, just not sure how to use it. Hopefully I can figure it out, might take a bit of browsing through it."}],"answers":[{"tags":[],"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670602049,"creation_date":1670548938,"answer_id":74737992,"question_id":74670476,"body_markdown":"**Cut the wave file:**\r\n\r\n    double [] music = read(&quot;music.wav&quot;);\r\n    \r\n    int start = 792478*2;\r\n    int end = 1118153*2;\r\n    \r\n    double [] cutMusic = new double [end-start];\r\n    \r\n    for(int i = start; i &lt; end; i++)\r\n    {\r\n        cutMusic [i-start] = music[i];\r\n    }\r\n    \r\n    save(&quot;cutMusic.wav&quot;, cutMusic); //from StdAudio library\r\n\r\n**Change the volume/amplitude:**\r\n\r\n    int multiplier = 0.5; //how much you want to change the volume by\r\n\r\n    for(int i = 0; i &lt; cutMusic.length;i++)\r\n    {\r\n        cutMusic[i] = multiplier * cutMusic[i];\r\n    }\r\n\r\n**Save the audio to a new wav file:**\r\n\r\n    save(&quot;cutmusic.wav&quot;), cutMusic); //from the StdAudio library\r\n    //converts the double array to a byte array\r\n\r\n**Join the two files:**\r\n\r\n    ArrayList &lt;File&gt; joined = new ArrayList&lt;&gt;();\r\n    \r\n    joined.add(new File(&quot;music.wav&quot;));\r\n    joined.add(new File(&quot;cutMusic.wav&quot;));\r\n\r\n    AudioFormat format = new AudioFormat(\r\n    \r\n                    /*AudioFormat.Encoding*/AudioFormat.Encoding.PCM_SIGNED\r\n                    /*float sampleRate*/, sampleRate\r\n                    /*int sampleSizeInBits*/, 16\r\n                    /*int channels*/, 2\r\n                    /*int frameSize*/, 4\r\n                    /*float frameRate*/, 44100,\r\n                    /*boolean bigEndian*/false\r\n\r\n    joinAudioFiles(format, joined, new File(&quot;joined.wav&quot;)); \r\n    //method needed is below\r\n\r\n    public static void joinAudioFiles(AudioFormat audioFormat,\r\n                                          java.util.List&lt;File&gt; audioFiles, File output) throws IOException,\r\n                UnsupportedAudioFileException {\r\n            output.getParentFile().mkdirs();\r\n            output.delete();\r\n            output.createNewFile();\r\n    \r\n            List&lt;AudioInputStream&gt; audioInputStreams = new ArrayList&lt;AudioInputStream&gt;();\r\n            long totalFrameLength = 0;\r\n            for (File audioFile : audioFiles) {\r\n                AudioInputStream fileAudioInputStream = AudioSystem\r\n                        .getAudioInputStream(audioFile);\r\n                audioInputStreams.add(fileAudioInputStream);\r\n                totalFrameLength += fileAudioInputStream.getFrameLength();\r\n            }\r\n    \r\n            AudioInputStream sequenceInputStream = new AudioInputStream(\r\n                    new SequenceInputStream(\r\n                            Collections.enumeration(audioInputStreams)),\r\n                    audioFormat, totalFrameLength);\r\n            AudioSystem.write(sequenceInputStream, AudioFileFormat.Type.WAVE,\r\n                    output);\r\n        }","title":"How do I take a WAV recording and change the amplitude of a part of it in Java?","body":"<p><strong>Cut the wave file:</strong></p>\n<pre><code>double [] music = read(&quot;music.wav&quot;);\n\nint start = 792478*2;\nint end = 1118153*2;\n\ndouble [] cutMusic = new double [end-start];\n\nfor(int i = start; i &lt; end; i++)\n{\n    cutMusic [i-start] = music[i];\n}\n\nsave(&quot;cutMusic.wav&quot;, cutMusic); //from StdAudio library\n</code></pre>\n<p><strong>Change the volume/amplitude:</strong></p>\n<pre><code>int multiplier = 0.5; //how much you want to change the volume by\n\nfor(int i = 0; i &lt; cutMusic.length;i++)\n{\n    cutMusic[i] = multiplier * cutMusic[i];\n}\n</code></pre>\n<p><strong>Save the audio to a new wav file:</strong></p>\n<pre><code>save(&quot;cutmusic.wav&quot;), cutMusic); //from the StdAudio library\n//converts the double array to a byte array\n</code></pre>\n<p><strong>Join the two files:</strong></p>\n<pre><code>ArrayList &lt;File&gt; joined = new ArrayList&lt;&gt;();\n\njoined.add(new File(&quot;music.wav&quot;));\njoined.add(new File(&quot;cutMusic.wav&quot;));\n\nAudioFormat format = new AudioFormat(\n\n                /*AudioFormat.Encoding*/AudioFormat.Encoding.PCM_SIGNED\n                /*float sampleRate*/, sampleRate\n                /*int sampleSizeInBits*/, 16\n                /*int channels*/, 2\n                /*int frameSize*/, 4\n                /*float frameRate*/, 44100,\n                /*boolean bigEndian*/false\n\njoinAudioFiles(format, joined, new File(&quot;joined.wav&quot;)); \n//method needed is below\n\npublic static void joinAudioFiles(AudioFormat audioFormat,\n                                      java.util.List&lt;File&gt; audioFiles, File output) throws IOException,\n            UnsupportedAudioFileException {\n        output.getParentFile().mkdirs();\n        output.delete();\n        output.createNewFile();\n\n        List&lt;AudioInputStream&gt; audioInputStreams = new ArrayList&lt;AudioInputStream&gt;();\n        long totalFrameLength = 0;\n        for (File audioFile : audioFiles) {\n            AudioInputStream fileAudioInputStream = AudioSystem\n                    .getAudioInputStream(audioFile);\n            audioInputStreams.add(fileAudioInputStream);\n            totalFrameLength += fileAudioInputStream.getFrameLength();\n        }\n\n        AudioInputStream sequenceInputStream = new AudioInputStream(\n                new SequenceInputStream(\n                        Collections.enumeration(audioInputStreams)),\n                audioFormat, totalFrameLength);\n        AudioSystem.write(sequenceInputStream, AudioFileFormat.Type.WAVE,\n                output);\n    }\n</code></pre>\n"}],"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74737992,"answer_count":1,"score":-1,"last_activity_date":1670602049,"creation_date":1670099591,"question_id":74670476,"body_markdown":"Imagine having a recording of something saying &quot;Hi there&quot;\r\n\r\nI&#39;d like to chop/slice the WAV file between &quot;Hi&quot; and &quot;there&quot;\r\n\r\nAt this point, the &quot;Hi&quot; would be on one WAV file and the &quot;there&quot; on another wav file .e.g\r\n\r\nhi.wav\r\nthere.wav\r\n\r\nFrom there, I&#39;d like to change the volume/amplitude of the &quot;there.wav&quot; file.\r\n\r\nLastly, I&#39;d like to merge the two wave files into:\r\n\r\nhi_there.wav\r\n\r\nThink of this as an audio editor, once finishing editing the audio, you would be able to save the edited audio as a brand new audio clip.","title":"How do I take a WAV recording and change the amplitude of a part of it in Java?","body":"<p>Imagine having a recording of something saying &quot;Hi there&quot;</p>\n<p>I'd like to chop/slice the WAV file between &quot;Hi&quot; and &quot;there&quot;</p>\n<p>At this point, the &quot;Hi&quot; would be on one WAV file and the &quot;there&quot; on another wav file .e.g</p>\n<p>hi.wav\nthere.wav</p>\n<p>From there, I'd like to change the volume/amplitude of the &quot;there.wav&quot; file.</p>\n<p>Lastly, I'd like to merge the two wave files into:</p>\n<p>hi_there.wav</p>\n<p>Think of this as an audio editor, once finishing editing the audio, you would be able to save the edited audio as a brand new audio clip.</p>\n"},{"tags":["java","validation","while-loop","directory","path"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1670600489,"post_id":74745237,"comment_id":131918172,"body_markdown":"You must at least recompute `exists` after reading a new line...","body":"You must at least recompute <code>exists</code> after reading a new line..."}],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670601865,"creation_date":1670601865,"answer_id":74745520,"question_id":74745237,"body_markdown":"use `do while loop`, do at least once, then while check exit do while loop or contine do next loop.\r\n\r\n\r\n    import java.util.Scanner;\r\n    import java.io.File;\r\n    public class JavaProject {\r\n        public static void main(String[] args){\r\n            boolean isExistingDir = false;\r\n       do {\r\n           System.out.println(&quot;Give me the path of the folder&quot;);\r\n           Scanner input = new Scanner(System.in);\r\n           String dirName = input.nextLine();\r\n           System.out.println(&quot;&gt;&gt;&quot; + dirName);\r\n           File f =new File(dirName);\r\n           if (f.exists()==true) {\r\n               isExistingDir=true;\r\n               System.out.println(&quot;EXISTING &gt;&gt;&quot; + dirName);\r\n           } else {\r\n               System.out.println(&quot;NOT EXISTING &gt;&gt;&quot; + dirName);\r\n               System.out.println(&quot;PLEASE INPUT A EXISTING AGAIN&quot;);\r\n           }\r\n          } while (!isExistingDir);\r\n       } //main\r\n    }\r\n\r\n","title":"Ckecking if a folder from the input exists and asking to type again in java","body":"<p>use <code>do while loop</code>, do at least once, then while check exit do while loop or contine do next loop.</p>\n<pre><code>import java.util.Scanner;\nimport java.io.File;\npublic class JavaProject {\n    public static void main(String[] args){\n        boolean isExistingDir = false;\n   do {\n       System.out.println(&quot;Give me the path of the folder&quot;);\n       Scanner input = new Scanner(System.in);\n       String dirName = input.nextLine();\n       System.out.println(&quot;&gt;&gt;&quot; + dirName);\n       File f =new File(dirName);\n       if (f.exists()==true) {\n           isExistingDir=true;\n           System.out.println(&quot;EXISTING &gt;&gt;&quot; + dirName);\n       } else {\n           System.out.println(&quot;NOT EXISTING &gt;&gt;&quot; + dirName);\n           System.out.println(&quot;PLEASE INPUT A EXISTING AGAIN&quot;);\n       }\n      } while (!isExistingDir);\n   } //main\n}\n</code></pre>\n"}],"owner":{"account_id":25506120,"reputation":13,"user_id":19298558,"display_name":"Lian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745520,"answer_count":1,"score":0,"last_activity_date":1670601865,"creation_date":1670600288,"question_id":74745237,"body_markdown":"I am trying to read a folder path from the user and check if exists or not.If it does not exist I want to ask from the user to type the path again using a while loop .The problem is that even if the user types a correct path my program asks to type again .I am preety sure that the solution is easy and that the problem is in the loop but I can not see it. Please help me because I am a new programmer in Java.\r\n\r\n\r\n\r\n\r\n```\r\n\r\npublic class JavaProject {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n        \r\n        //Taking the name of the folder from the user\r\n        System.out.println(&quot;Give me the path of the folder&quot;);\r\n        Scanner fold =new Scanner(System.in);\r\n        String folderName= fold.nextLine();\r\n        File f= new File(folderName);\r\n        \r\n        //Check if the file exists\r\n        \r\n        \r\n        boolean exists = f.exists();\r\n        boolean folderIsValid=true;\r\n        \r\n        while(folderIsValid){\r\n         \r\n         \r\n         if(!exists){\r\n            \r\n            \r\n            System.out.println(&quot;The folder you are searching does not exist :&quot; +exists);\r\n            System.out.println(&quot;Try again!&quot;);\r\n            folderName= fold.nextLine();\r\n            \r\n            \r\n         }else{\r\n            System.out.println(&quot;The folder you are searching exists :&quot; +exists);\r\n            folderIsValid=false;\r\n         }  \r\n            \r\n        }\r\n  }   \r\n}\r\n```\r\n\r\n","title":"Ckecking if a folder from the input exists and asking to type again in java","body":"<p>I am trying to read a folder path from the user and check if exists or not.If it does not exist I want to ask from the user to type the path again using a while loop .The problem is that even if the user types a correct path my program asks to type again .I am preety sure that the solution is easy and that the problem is in the loop but I can not see it. Please help me because I am a new programmer in Java.</p>\n<pre><code>\npublic class JavaProject {\n\n    public static void main(String[] args) throws IOException {\n        \n        \n        //Taking the name of the folder from the user\n        System.out.println(&quot;Give me the path of the folder&quot;);\n        Scanner fold =new Scanner(System.in);\n        String folderName= fold.nextLine();\n        File f= new File(folderName);\n        \n        //Check if the file exists\n        \n        \n        boolean exists = f.exists();\n        boolean folderIsValid=true;\n        \n        while(folderIsValid){\n         \n         \n         if(!exists){\n            \n            \n            System.out.println(&quot;The folder you are searching does not exist :&quot; +exists);\n            System.out.println(&quot;Try again!&quot;);\n            folderName= fold.nextLine();\n            \n            \n         }else{\n            System.out.println(&quot;The folder you are searching exists :&quot; +exists);\n            folderIsValid=false;\n         }  \n            \n        }\n  }   \n}\n</code></pre>\n"},{"tags":["java","kotlin","jackson"],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670289064,"creation_date":1670289064,"answer_id":74696173,"question_id":74691842,"body_markdown":"`readerForUpdating(obj)` only promises to use the root object you pass\r\n\r\n&gt; Deserialization occurs normally except that the root-level value in JSON is not used for instantiating a new object; instead give updateable object is used as root\r\n\r\nwhereas `fieldTypeA.valueA` is an inner object.\r\n\r\nIt works on a shallow object:\r\n```\r\nval existingModel = FieldTypeA(valueA = &quot;A&quot;)\r\nprintln(existingModel)\r\nval readerForUpdating: ObjectReader = MAPPER.readerForUpdating(existingModel)\r\nval jsonRequest = &quot;{\\&quot;valueB\\&quot;:\\&quot;I am value B\\&quot;}&quot;\r\nval updatedRequest: FieldTypeA = readerForUpdating.readValue(jsonRequest)\r\nprintln(updatedRequest)\r\n```\r\nproduces\r\n```\r\nFieldTypeA(valueA=A, valueB=null)\r\nFieldTypeA(valueA=A, valueB=I am value B)\r\n```\r\n\r\nIt&#39;s hard to see how you could develop a feature like `readerForUpdating()` which would know which fields to adjust in a deep object graph.  If the incoming object&#39;s object&#39;s field had a value, should that indicate an overwrite? but not if they come as nulls?\r\n\r\nIf I had to do this way myself, I might approach it this way:\r\n\r\n1. read the incoming JSON into a traditional JSONObject then walk the keys and set the properties on the target object\r\n2. For setting properties you could use old school [Apache Commons BeanUtils][1] tool, but I am not sure that that is maintained and it has had some vulnerabilities issues, so you could look at [Spring&#39;s BeanWrapperImpl][2]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.4/apidocs/index.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanWrapperImpl.html","title":"How to stop Jackson ObjectReader overwriting existing data","body":"<p><code>readerForUpdating(obj)</code> only promises to use the root object you pass</p>\n<blockquote>\n<p>Deserialization occurs normally except that the root-level value in JSON is not used for instantiating a new object; instead give updateable object is used as root</p>\n</blockquote>\n<p>whereas <code>fieldTypeA.valueA</code> is an inner object.</p>\n<p>It works on a shallow object:</p>\n<pre><code>val existingModel = FieldTypeA(valueA = &quot;A&quot;)\nprintln(existingModel)\nval readerForUpdating: ObjectReader = MAPPER.readerForUpdating(existingModel)\nval jsonRequest = &quot;{\\&quot;valueB\\&quot;:\\&quot;I am value B\\&quot;}&quot;\nval updatedRequest: FieldTypeA = readerForUpdating.readValue(jsonRequest)\nprintln(updatedRequest)\n</code></pre>\n<p>produces</p>\n<pre><code>FieldTypeA(valueA=A, valueB=null)\nFieldTypeA(valueA=A, valueB=I am value B)\n</code></pre>\n<p>It's hard to see how you could develop a feature like <code>readerForUpdating()</code> which would know which fields to adjust in a deep object graph.  If the incoming object's object's field had a value, should that indicate an overwrite? but not if they come as nulls?</p>\n<p>If I had to do this way myself, I might approach it this way:</p>\n<ol>\n<li>read the incoming JSON into a traditional JSONObject then walk the keys and set the properties on the target object</li>\n<li>For setting properties you could use old school <a href=\"https://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.4/apidocs/index.html\" rel=\"nofollow noreferrer\">Apache Commons BeanUtils</a> tool, but I am not sure that that is maintained and it has had some vulnerabilities issues, so you could look at <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanWrapperImpl.html\" rel=\"nofollow noreferrer\">Spring's BeanWrapperImpl</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1064665,"reputation":1633,"user_id":1065547,"accept_rate":54,"display_name":"maloney"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670601862,"creation_date":1670601862,"answer_id":74745518,"question_id":74691842,"body_markdown":"I&#39;ve fixed my own problem in the following way, in case it helps someone in the future.\r\n\r\nThere was a new feature introduced in [Jackson 2.9][1] which allows deep merging. To do this, the relevant property needs to be tagged with `@JsonMerge`.\r\n\r\nSo in my example question above, the `Model` object would be changed like this: \r\n\r\n    import com.fasterxml.jackson.annotation.JsonMerge\r\n\r\n    data class Model(\r\n      @JsonMerge\r\n      val fieldTypeA: FieldTypeA? = null,\r\n    )\r\n\r\nThis means if the original object contains a field with a value, it does not get overwritten to `null` when the new json comes in.\r\n\r\n\r\n  [1]: https://www.logicbig.com/tutorials/misc/jackson/json-merge-annotation.html","title":"How to stop Jackson ObjectReader overwriting existing data","body":"<p>I've fixed my own problem in the following way, in case it helps someone in the future.</p>\n<p>There was a new feature introduced in <a href=\"https://www.logicbig.com/tutorials/misc/jackson/json-merge-annotation.html\" rel=\"nofollow noreferrer\">Jackson 2.9</a> which allows deep merging. To do this, the relevant property needs to be tagged with <code>@JsonMerge</code>.</p>\n<p>So in my example question above, the <code>Model</code> object would be changed like this:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonMerge\n\ndata class Model(\n  @JsonMerge\n  val fieldTypeA: FieldTypeA? = null,\n)\n</code></pre>\n<p>This means if the original object contains a field with a value, it does not get overwritten to <code>null</code> when the new json comes in.</p>\n"}],"owner":{"account_id":1064665,"reputation":1633,"user_id":1065547,"accept_rate":54,"display_name":"maloney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745518,"answer_count":2,"score":0,"last_activity_date":1670601862,"creation_date":1670259937,"question_id":74691842,"body_markdown":"We have a Jackson ObjectReader that is overwriting any original data if it is missing from the json update request. \r\n\r\nThis is what the data structure looks like:\r\n\r\n    data class Model(\r\n      val fieldTypeA: FieldTypeA? = null,\r\n    )\r\n\r\n    data class FieldTypeA(\r\n      val valueA: String? = null,\r\n      val valueB: String? = null,\r\n    )\r\n\r\nWe then read an existing value from a database so that `fieldTypeA.valueA = &quot;Test&quot;`\r\n\r\n    val existingModel = repository.findById(id).getOrNull()\r\n\r\nThen this line reads the existing data into an ObjectReader:\r\n\r\n    val readerForUpdating: ObjectReader = CustomMapper.readerForUpdating(existingEntity)\r\n\r\nThis is where the problem occurs. The `readValue` overwrites the `fieldTypeA.valueA` after this line is executed with a `jsonRequest`: \r\n\r\n    val updatedRequest: Model = readerForUpdating.readValue(jsonRequest)\r\n\r\n`jsonRequest`:\r\n\r\n    {&quot;fieldTypeA&quot;:{&quot;valueB&quot;:&quot;I am value B&quot;}}\r\n\r\nThe `existingEntity` object now only contains `fieldTypeA.valueB`, with `fieldTypeA.valueA` getting overwritten with `null`. \r\n\r\nIs there a way to tell Jackson not to overwrite when a value is missing from the JSON?\r\n","title":"How to stop Jackson ObjectReader overwriting existing data","body":"<p>We have a Jackson ObjectReader that is overwriting any original data if it is missing from the json update request.</p>\n<p>This is what the data structure looks like:</p>\n<pre><code>data class Model(\n  val fieldTypeA: FieldTypeA? = null,\n)\n\ndata class FieldTypeA(\n  val valueA: String? = null,\n  val valueB: String? = null,\n)\n</code></pre>\n<p>We then read an existing value from a database so that <code>fieldTypeA.valueA = &quot;Test&quot;</code></p>\n<pre><code>val existingModel = repository.findById(id).getOrNull()\n</code></pre>\n<p>Then this line reads the existing data into an ObjectReader:</p>\n<pre><code>val readerForUpdating: ObjectReader = CustomMapper.readerForUpdating(existingEntity)\n</code></pre>\n<p>This is where the problem occurs. The <code>readValue</code> overwrites the <code>fieldTypeA.valueA</code> after this line is executed with a <code>jsonRequest</code>:</p>\n<pre><code>val updatedRequest: Model = readerForUpdating.readValue(jsonRequest)\n</code></pre>\n<p><code>jsonRequest</code>:</p>\n<pre><code>{&quot;fieldTypeA&quot;:{&quot;valueB&quot;:&quot;I am value B&quot;}}\n</code></pre>\n<p>The <code>existingEntity</code> object now only contains <code>fieldTypeA.valueB</code>, with <code>fieldTypeA.valueA</code> getting overwritten with <code>null</code>.</p>\n<p>Is there a way to tell Jackson not to overwrite when a value is missing from the JSON?</p>\n"},{"tags":["java","jboss","wildfly","quarkus","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670519241,"post_id":74731136,"comment_id":131898782,"body_markdown":"Can you check the consumer-count of the `prices` queue once you create your consumer? Also, can you check the message-count after you send the message?","body":"Can you check the consumer-count of the <code>prices</code> queue once you create your consumer? Also, can you check the message-count after you send the message?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670520045,"post_id":74731136,"comment_id":131899044,"body_markdown":"Have you tried adding `?httpUpgradeEnabled=true` to the URL configured in Quarkus&#39; `application.properties`?","body":"Have you tried adding <code>?httpUpgradeEnabled=true</code> to the URL configured in Quarkus&#39; <code>application.properties</code>?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670520115,"post_id":74731136,"comment_id":131899071,"body_markdown":"Why do you suspect the problem is with the user and not something else?","body":"Why do you suspect the problem is with the user and not something else?"},{"owner":{"account_id":27181605,"reputation":3,"user_id":20716778,"display_name":"Benny Dict"},"score":0,"creation_date":1670582603,"post_id":74731136,"comment_id":131912521,"body_markdown":"@JustinBertram Hi, i&#39;ve updated my question with answers to your questions.","body":"@JustinBertram Hi, i&#39;ve updated my question with answers to your questions."}],"owner":{"account_id":27181605,"reputation":3,"user_id":20716778,"display_name":"Benny Dict"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670601815,"creation_date":1670506763,"question_id":74731136,"body_markdown":"I have a WildFly application with an embedded ActiveMQ Artemis and I can&#39;t seem to figure how to debug it. It seems to connect fine since I&#39;m getting no errors in the log, but I&#39;m unable to read any queues. There is no error but nothing is happening.\r\n\r\nI&#39;m running the Quarkus JMS client 1.03 which is using org.apache.activemq &#187; artemis-jms-client 2.19. The server is running WildFly 26.1 with the embedded ActiveMQ Artemis server 2.19.1 so the client and server should be compatible. However, I&#39;m not sure if I&#39;ve configured it correctly. I&#39;m using the `standalone-full.xml`.\r\n\r\nFor testing I&#39;ve added a user `test1`:\r\n```bash\r\nbash-4.4$ ./add-user.sh\r\n\r\nWhat type of user do you wish to add?\r\n a) Management User (mgmt-users.properties)\r\n b) Application User (application-users.properties)\r\n(a): b\r\n\r\nEnter the details of the new user to add.\r\nUsing realm &#39;ApplicationRealm&#39; as discovered from the existing property files.\r\nUsername : test1\r\nPassword recommendations are listed below. To modify these restrictions edit the add-user.properties configuration file.\r\n - The password should be different from the username\r\n - The password should not be one of the following restricted values {root, admin, administrator}\r\n - The password should contain at least 8 characters, 1 alphabetic character(s), 1 digit(s), 1 non-alphanumeric symbol(s)\r\nPassword :\r\nWFLYDM0098: The password should be different from the username\r\nAre you sure you want to use the password entered yes/no? yes\r\nRe-enter Password :\r\nWhat groups do you want this user to belong to? (Please enter a comma separated list, or leave blank for none)[  ]: guest\r\nAbout to add user &#39;test1&#39; for realm &#39;ApplicationRealm&#39;\r\nIs this correct yes/no? yes\r\nIs this new user going to be used for one AS process to connect to another AS process?\r\ne.g. for a slave host controller connecting to the master or for a Remoting connection for server to server Jakarta Enterprise Beans calls.\r\nyes/no? yes\r\nTo represent the user add the following to the server-identities definition &lt;secret value=&quot;dGVzdDE=&quot; /&gt;\r\n```\r\nThis is the log for creating that user. In my `standalone-full.xml` I have the role guest for ActiveMQ Artemis and the queue `prices` set up:\r\n```xml\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.1&quot;&gt;\r\n    &lt;server name=&quot;default&quot;&gt;\r\n        ...\r\n        &lt;security-setting name=&quot;#&quot;&gt;\r\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n        &lt;/security-setting&gt;\r\n        ...\r\n        &lt;address-setting name=&quot;jms.queue.prices&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; redelivery-delay=&quot;1000&quot; max-delivery-attempts=&quot;0&quot;/&gt;\r\n        ...\r\n        &lt;jms-queue name=&quot;prices&quot; entries=&quot;java:/jms/queue/prices&quot; durable=&quot;true&quot;/&gt;\r\n        ...\r\n    &lt;/server&gt;\r\n&lt;/subsystem&gt;\r\n```\r\nMy Quarkus client tries to connect with the following:\r\n```\r\nquarkus.artemis.url=tcp://localhost:8080\r\nquarkus.artemis.username=test1\r\nquarkus.artemis.password=test1\r\n```\r\nIt has a consumer:\r\n```java\r\n    @Override\r\n    public void run() {\r\n        try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\r\n            JMSConsumer consumer = context.createConsumer(context.createQueue(&quot;prices&quot;));\r\n            while (true) {\r\n                Message message = consumer.receive();\r\n                if (message == null) {\r\n                    // receive returns `null` if the JMSConsumer is closed\r\n                    return;\r\n                }\r\n                lastPrice = message.getBody(String.class);\r\n            }\r\n        } catch (JMSException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\nand a producer:\r\n```java\r\n    @Override\r\n    public void run() {\r\n        try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\r\n            context.createProducer().send(context.createQueue(&quot;prices&quot;), Integer.toString(random.nextInt(100)));\r\n        }\r\n    }\r\n```\r\nIt seem to connect just fine. I can see in the Quarkus log:\r\n```\r\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Trying reconnection attempt 0/1\r\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Trying to connect with connectorFactory=org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnectorFactory@6096907d and currentConnectorConfig: TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&amp;host=localhost\r\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (pool-10-thread-1) Connector NettyConnector [host=localhost, port=8080, httpEnabled=false, httpUpgradeEnabled=false, useServlet=false, servletPath=/messaging/ActiveMQServlet, sslEnabled=false, useNio=true] using native epoll\r\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.client] (pool-10-thread-1) AMQ211002: Started EPOLL Netty Connector version 4.1.82.Final to localhost:8080\r\n2022-12-08 14:29:59,597 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (pool-10-thread-1) Remote destination: localhost/127.0.0.1:8080\r\n2022-12-08 14:29:59,598 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (Thread-1 (ActiveMQ-client-netty-threads)) Added ActiveMQClientChannelHandler to Channel with id = 6339db8b \r\n2022-12-08 14:29:59,598 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Connected with the currentConnectorConfig=TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&amp;host=localhost\r\n2022-12-08 14:29:59,599 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Reconnection successful\r\n```\r\nSo it seems to be working fine, but I can&#39;t seem to send or consume from the queue.\r\n\r\n# Answers to Justin questions in the comments\r\n\r\n## Have you tried adding `?httpUpgradeEnabled=true`\r\nyes no change\r\n\r\n`quarkus.artemis.url=tcp://localhost:8080?httpUpgradeEnabled=true`\r\n\r\n## Can you check the consumer-count\r\nActually there does not even seem to be a session active. I tried to close the connection for my test user but it shown me a dialog &quot;no connection for that user&quot; So maybe it&#39;s not even connecting as I thought\r\n\r\n## Why do you suspect the problem is with the user\r\nI thought it might have something to do with some permission error. I was not sure if I was suppost to add the user to the &quot;guest&quot; group or not\r\n\r\nBut since I have in my config\r\n```xml\r\n        &lt;security-setting name=&quot;#&quot;&gt;\r\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n        &lt;/security-setting&gt;\r\n```\r\n\r\nEDIT2. Actually I see now in the log that quarkus seems to be missing permission for creating a consumer. So i guess &quot;guest&quot; role is not the correct one.\r\n\r\nI assume that was corrected","title":"How can I add a user that can connect to ActiveMQ Artemis in WildFly via Quarkus JMS?","body":"<p>I have a WildFly application with an embedded ActiveMQ Artemis and I can't seem to figure how to debug it. It seems to connect fine since I'm getting no errors in the log, but I'm unable to read any queues. There is no error but nothing is happening.</p>\n<p>I'm running the Quarkus JMS client 1.03 which is using org.apache.activemq  artemis-jms-client 2.19. The server is running WildFly 26.1 with the embedded ActiveMQ Artemis server 2.19.1 so the client and server should be compatible. However, I'm not sure if I've configured it correctly. I'm using the <code>standalone-full.xml</code>.</p>\n<p>For testing I've added a user <code>test1</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>bash-4.4$ ./add-user.sh\n\nWhat type of user do you wish to add?\n a) Management User (mgmt-users.properties)\n b) Application User (application-users.properties)\n(a): b\n\nEnter the details of the new user to add.\nUsing realm 'ApplicationRealm' as discovered from the existing property files.\nUsername : test1\nPassword recommendations are listed below. To modify these restrictions edit the add-user.properties configuration file.\n - The password should be different from the username\n - The password should not be one of the following restricted values {root, admin, administrator}\n - The password should contain at least 8 characters, 1 alphabetic character(s), 1 digit(s), 1 non-alphanumeric symbol(s)\nPassword :\nWFLYDM0098: The password should be different from the username\nAre you sure you want to use the password entered yes/no? yes\nRe-enter Password :\nWhat groups do you want this user to belong to? (Please enter a comma separated list, or leave blank for none)[  ]: guest\nAbout to add user 'test1' for realm 'ApplicationRealm'\nIs this correct yes/no? yes\nIs this new user going to be used for one AS process to connect to another AS process?\ne.g. for a slave host controller connecting to the master or for a Remoting connection for server to server Jakarta Enterprise Beans calls.\nyes/no? yes\nTo represent the user add the following to the server-identities definition &lt;secret value=&quot;dGVzdDE=&quot; /&gt;\n</code></pre>\n<p>This is the log for creating that user. In my <code>standalone-full.xml</code> I have the role guest for ActiveMQ Artemis and the queue <code>prices</code> set up:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.1&quot;&gt;\n    &lt;server name=&quot;default&quot;&gt;\n        ...\n        &lt;security-setting name=&quot;#&quot;&gt;\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\n        &lt;/security-setting&gt;\n        ...\n        &lt;address-setting name=&quot;jms.queue.prices&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; redelivery-delay=&quot;1000&quot; max-delivery-attempts=&quot;0&quot;/&gt;\n        ...\n        &lt;jms-queue name=&quot;prices&quot; entries=&quot;java:/jms/queue/prices&quot; durable=&quot;true&quot;/&gt;\n        ...\n    &lt;/server&gt;\n&lt;/subsystem&gt;\n</code></pre>\n<p>My Quarkus client tries to connect with the following:</p>\n<pre><code>quarkus.artemis.url=tcp://localhost:8080\nquarkus.artemis.username=test1\nquarkus.artemis.password=test1\n</code></pre>\n<p>It has a consumer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void run() {\n        try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\n            JMSConsumer consumer = context.createConsumer(context.createQueue(&quot;prices&quot;));\n            while (true) {\n                Message message = consumer.receive();\n                if (message == null) {\n                    // receive returns `null` if the JMSConsumer is closed\n                    return;\n                }\n                lastPrice = message.getBody(String.class);\n            }\n        } catch (JMSException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>and a producer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void run() {\n        try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\n            context.createProducer().send(context.createQueue(&quot;prices&quot;), Integer.toString(random.nextInt(100)));\n        }\n    }\n</code></pre>\n<p>It seem to connect just fine. I can see in the Quarkus log:</p>\n<pre><code>2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Trying reconnection attempt 0/1\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Trying to connect with connectorFactory=org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnectorFactory@6096907d and currentConnectorConfig: TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&amp;host=localhost\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (pool-10-thread-1) Connector NettyConnector [host=localhost, port=8080, httpEnabled=false, httpUpgradeEnabled=false, useServlet=false, servletPath=/messaging/ActiveMQServlet, sslEnabled=false, useNio=true] using native epoll\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.client] (pool-10-thread-1) AMQ211002: Started EPOLL Netty Connector version 4.1.82.Final to localhost:8080\n2022-12-08 14:29:59,597 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (pool-10-thread-1) Remote destination: localhost/127.0.0.1:8080\n2022-12-08 14:29:59,598 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (Thread-1 (ActiveMQ-client-netty-threads)) Added ActiveMQClientChannelHandler to Channel with id = 6339db8b \n2022-12-08 14:29:59,598 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Connected with the currentConnectorConfig=TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&amp;host=localhost\n2022-12-08 14:29:59,599 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Reconnection successful\n</code></pre>\n<p>So it seems to be working fine, but I can't seem to send or consume from the queue.</p>\n<h1>Answers to Justin questions in the comments</h1>\n<h2>Have you tried adding <code>?httpUpgradeEnabled=true</code></h2>\n<p>yes no change</p>\n<p><code>quarkus.artemis.url=tcp://localhost:8080?httpUpgradeEnabled=true</code></p>\n<h2>Can you check the consumer-count</h2>\n<p>Actually there does not even seem to be a session active. I tried to close the connection for my test user but it shown me a dialog &quot;no connection for that user&quot; So maybe it's not even connecting as I thought</p>\n<h2>Why do you suspect the problem is with the user</h2>\n<p>I thought it might have something to do with some permission error. I was not sure if I was suppost to add the user to the &quot;guest&quot; group or not</p>\n<p>But since I have in my config</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;security-setting name=&quot;#&quot;&gt;\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\n        &lt;/security-setting&gt;\n</code></pre>\n<p>EDIT2. Actually I see now in the log that quarkus seems to be missing permission for creating a consumer. So i guess &quot;guest&quot; role is not the correct one.</p>\n<p>I assume that was corrected</p>\n"},{"tags":["java","javadoc","lotus-domino"],"answers":[{"tags":[],"owner":{"account_id":12791050,"reputation":101,"user_id":9255569,"display_name":"Karsten Lehmann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670329230,"creation_date":1670329230,"answer_id":74702412,"question_id":74701108,"body_markdown":"Please take a look at the section &quot;Creating your own build&quot; of the README.md file.\r\n\r\nYou need to register a few Notes/Domino JARs before you can run the build.\r\nHere is that part of the documentation:\r\n\r\n## Creating your own build\r\nThe following instructions are only relevant when you want to create your own Domino JNA release version.\r\n\r\n### Registration of local Notes.jar, lwpd.commons.jar and lwpd.domino.napi.jar\r\nThere are three JAR files that are part of every Notes Client installation and that are required to compile the Domino JNA code.\r\n\r\nOn macOS, you can find the files in these locations:\r\n* /Applications/HCL Notes.app/Contents/Resources/jvm/lib/ext/Notes.jar\r\n* /Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.commons_-version-/lwpd.commons.jar\r\n* /Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.domino.napi_-version-/lwpd.domino.napi.jar\r\n\r\nOn Windows you fine them here:\r\n\r\n* C:\\Program Files (x86)\\HCL\\Notes\\jvm\\lib\\ext\\Notes.jar\r\n* C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.commons_-version-\\lwpd.commons.jar\r\n* C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar\r\n\r\nThese files need to be registered as Maven artifacts with the right groupId / artifactId on the local machine, because they are not available on Maven Central (com.ibm.commons is there, but outdated).\r\n\r\n**For the Mac, use this syntax (replace &quot;-version-&quot; with the right version on your machine):**\r\n\r\n```\r\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Resources/jvm/lib/ext/Notes.jar&quot; -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.commons_-version-/lwpd.commons.jar&quot; -DgroupId=com.ibm -DartifactId=ibm-commons -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.domino.napi_-version-/lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\r\n```\r\n\r\n**For Windows, use this syntax (replace &quot;-version-&quot; with the right version on your machine):**\r\n\r\n```\r\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\jvm\\lib\\ext\\Notes.jar&quot; -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.commons_-version-\\lwpd.commons.jar&quot; -DgroupId=com.ibm -DartifactId=ibm-commons -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\r\n```\r\n\r\n### Maven build\r\n\r\n**Mac:**\r\nOn Mac, use this syntax to build Domino JNA against the Notes Client:\r\n\r\n```\r\nmvn -DJVMPARAMS=-d64 -DDOMINOOSGIDIR=/Applications/HCL\\ Notes.app/Contents/MacOS -DDOMINODIR=/Applications/HCL\\ Notes.app/Contents/MacOS -DNOTESINI=~/Library/Preferences/Notes\\ Preferences clean install -Dmaven.test.skip=true\r\n```\r\n\r\n**Windows:**\r\nTo build against the HCL Notes Client on Windows use this syntax:\r\n\r\n```\r\nmvn -DJVMPARAMS= -DDOMINOOSGIDIR=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi&quot; -DDOMINODIR=&quot;C:\\Program Files (x86)\\HCL\\Notes&quot; -DNOTESINI=&quot;C:\\Program Files (x86)\\HCL\\Notes\\Notes.ini&quot; clean install -Dmaven.test.skip=true\r\n```\r\n\r\nAfter the build is done, the directory `target/lib` contains all recursive dependencies required to use the library, e.g. JNA and Apache tool libraries.\r\n","title":"Generate javadoc for domino-jna 0.9.2.1 - multiple errors","body":"<p>Please take a look at the section &quot;Creating your own build&quot; of the README.md file.</p>\n<p>You need to register a few Notes/Domino JARs before you can run the build.\nHere is that part of the documentation:</p>\n<h2>Creating your own build</h2>\n<p>The following instructions are only relevant when you want to create your own Domino JNA release version.</p>\n<h3>Registration of local Notes.jar, lwpd.commons.jar and lwpd.domino.napi.jar</h3>\n<p>There are three JAR files that are part of every Notes Client installation and that are required to compile the Domino JNA code.</p>\n<p>On macOS, you can find the files in these locations:</p>\n<ul>\n<li>/Applications/HCL Notes.app/Contents/Resources/jvm/lib/ext/Notes.jar</li>\n<li>/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.commons_-version-/lwpd.commons.jar</li>\n<li>/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.domino.napi_-version-/lwpd.domino.napi.jar</li>\n</ul>\n<p>On Windows you fine them here:</p>\n<ul>\n<li>C:\\Program Files (x86)\\HCL\\Notes\\jvm\\lib\\ext\\Notes.jar</li>\n<li>C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.commons_-version-\\lwpd.commons.jar</li>\n<li>C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar</li>\n</ul>\n<p>These files need to be registered as Maven artifacts with the right groupId / artifactId on the local machine, because they are not available on Maven Central (com.ibm.commons is there, but outdated).</p>\n<p><strong>For the Mac, use this syntax (replace &quot;-version-&quot; with the right version on your machine):</strong></p>\n<pre><code>mvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Resources/jvm/lib/ext/Notes.jar&quot; -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar\n\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.commons_-version-/lwpd.commons.jar&quot; -DgroupId=com.ibm -DartifactId=ibm-commons -Dversion=11.0.0 -Dpackaging=jar\n\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.domino.napi_-version-/lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\n</code></pre>\n<p><strong>For Windows, use this syntax (replace &quot;-version-&quot; with the right version on your machine):</strong></p>\n<pre><code>mvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\jvm\\lib\\ext\\Notes.jar&quot; -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar\n\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.commons_-version-\\lwpd.commons.jar&quot; -DgroupId=com.ibm -DartifactId=ibm-commons -Dversion=11.0.0 -Dpackaging=jar\n\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\n</code></pre>\n<h3>Maven build</h3>\n<p><strong>Mac:</strong>\nOn Mac, use this syntax to build Domino JNA against the Notes Client:</p>\n<pre><code>mvn -DJVMPARAMS=-d64 -DDOMINOOSGIDIR=/Applications/HCL\\ Notes.app/Contents/MacOS -DDOMINODIR=/Applications/HCL\\ Notes.app/Contents/MacOS -DNOTESINI=~/Library/Preferences/Notes\\ Preferences clean install -Dmaven.test.skip=true\n</code></pre>\n<p><strong>Windows:</strong>\nTo build against the HCL Notes Client on Windows use this syntax:</p>\n<pre><code>mvn -DJVMPARAMS= -DDOMINOOSGIDIR=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi&quot; -DDOMINODIR=&quot;C:\\Program Files (x86)\\HCL\\Notes&quot; -DNOTESINI=&quot;C:\\Program Files (x86)\\HCL\\Notes\\Notes.ini&quot; clean install -Dmaven.test.skip=true\n</code></pre>\n<p>After the build is done, the directory <code>target/lib</code> contains all recursive dependencies required to use the library, e.g. JNA and Apache tool libraries.</p>\n"}],"owner":{"account_id":17353525,"reputation":5513,"user_id":12571484,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670601518,"creation_date":1670323386,"question_id":74701108,"body_markdown":"I&#39;ve downloaded the latest version of [JNA][1] (this is the first time I&#39;ve looked at it tbh) and I want to generate the javadoc for it. I&#39;m looking to generate the documentation from folder `\\domino-jna-master\\domino-jna\\src\\main\\java\\com\\mindoo\\domino\\jna` which is in a parent folder and using command:\r\n\r\n`javadoc -sourcepath {parent-folder}\\domino-jna-master\\domino-jna\\src\\main\\java\\com\\mindoo\\domino\\jna -d c:\\JNA -subpackages .`\r\n\r\nto put the generated documentation in to the c:\\JNA folder.\r\n\r\nIt&#39;s finding the .java files okay but it&#39;s generating errors like:\r\n\r\n - cannot find symbol\r\n - package lotus.notes does not exist\r\n\r\nIf I use the `-Xdoclint:none` and  `--ignore-source-errors` options to [suppress error generation][2] also does not work with the final error being &#39;no public or protected classes found to document&#39;. \r\n\r\nI&#39;ve also tried this through eclipse but that&#39;s just a wizard for the javadoc command.\r\n\r\nThis is fairly new to me as I find most documentation online so any help you can give me would be appreciated.\r\n\r\n\r\n  [1]: https://github.com/klehmann/domino-jna\r\n  [2]: https://stackoverflow.com/questions/38621202/ignore-minor-errors-using-javadoc\r\n\r\n**added 2022-12-09**\r\n\r\nI&#39;ve tried building it. I&#39;ve had to change the folder location for the lwpd.domino.napi.jar file was located in the \\lib\\ext folder on my build from:\r\n\r\n    mvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nto\r\n\r\n    mvn install:install-file -Dfile=&quot;C:\\Program Files\\HCL\\Notes\\jvm\\lib\\ext\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=12.0.2 -Dpackaging=jar\r\n\r\nI&#39;m getting one error when running the following command: \r\n\r\n    mvn -DJVMPARAMS= -DDOMINOOSGIDIR=&quot;C:\\Program Files\\HCL\\Notes\\osgi&quot; -DDOMINODIR=&quot;C:\\Program Files\\HCL\\Notes&quot; -DNOTESINI=&quot;C:\\Program Files\\HCL\\Notes\\Notes.ini&quot; clean install -Dmaven.test.skip=true\r\n\r\nas follows:\r\n\r\n    [ERROR] Internal error: java.lang.RuntimeException: Could not resolve project dependencies: Missing:\r\n    [ERROR] ----------\r\n    [ERROR] 1) com.ibm:domino-api-binaries:jar:11.0.0\r\n    [ERROR]\r\n    [ERROR]   Try downloading the file manually from the project website.\r\n    [ERROR]\r\n    [ERROR]   Then, install it using the command:\r\n    [ERROR]       mvn install:install-file -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar -Dfile=/path/to/file","title":"Generate javadoc for domino-jna 0.9.2.1 - multiple errors","body":"<p>I've downloaded the latest version of <a href=\"https://github.com/klehmann/domino-jna\" rel=\"nofollow noreferrer\">JNA</a> (this is the first time I've looked at it tbh) and I want to generate the javadoc for it. I'm looking to generate the documentation from folder <code>\\domino-jna-master\\domino-jna\\src\\main\\java\\com\\mindoo\\domino\\jna</code> which is in a parent folder and using command:</p>\n<p><code>javadoc -sourcepath {parent-folder}\\domino-jna-master\\domino-jna\\src\\main\\java\\com\\mindoo\\domino\\jna -d c:\\JNA -subpackages .</code></p>\n<p>to put the generated documentation in to the c:\\JNA folder.</p>\n<p>It's finding the .java files okay but it's generating errors like:</p>\n<ul>\n<li>cannot find symbol</li>\n<li>package lotus.notes does not exist</li>\n</ul>\n<p>If I use the <code>-Xdoclint:none</code> and  <code>--ignore-source-errors</code> options to <a href=\"https://stackoverflow.com/questions/38621202/ignore-minor-errors-using-javadoc\">suppress error generation</a> also does not work with the final error being 'no public or protected classes found to document'.</p>\n<p>I've also tried this through eclipse but that's just a wizard for the javadoc command.</p>\n<p>This is fairly new to me as I find most documentation online so any help you can give me would be appreciated.</p>\n<p><strong>added 2022-12-09</strong></p>\n<p>I've tried building it. I've had to change the folder location for the lwpd.domino.napi.jar file was located in the \\lib\\ext folder on my build from:</p>\n<pre><code>mvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\n</code></pre>\n<p>to</p>\n<pre><code>mvn install:install-file -Dfile=&quot;C:\\Program Files\\HCL\\Notes\\jvm\\lib\\ext\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=12.0.2 -Dpackaging=jar\n</code></pre>\n<p>I'm getting one error when running the following command:</p>\n<pre><code>mvn -DJVMPARAMS= -DDOMINOOSGIDIR=&quot;C:\\Program Files\\HCL\\Notes\\osgi&quot; -DDOMINODIR=&quot;C:\\Program Files\\HCL\\Notes&quot; -DNOTESINI=&quot;C:\\Program Files\\HCL\\Notes\\Notes.ini&quot; clean install -Dmaven.test.skip=true\n</code></pre>\n<p>as follows:</p>\n<pre><code>[ERROR] Internal error: java.lang.RuntimeException: Could not resolve project dependencies: Missing:\n[ERROR] ----------\n[ERROR] 1) com.ibm:domino-api-binaries:jar:11.0.0\n[ERROR]\n[ERROR]   Try downloading the file manually from the project website.\n[ERROR]\n[ERROR]   Then, install it using the command:\n[ERROR]       mvn install:install-file -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar -Dfile=/path/to/file\n</code></pre>\n"},{"tags":["java","html","web","icons","web-frontend"],"answers":[{"tags":[],"owner":{"account_id":27081840,"reputation":73,"user_id":20630897,"display_name":"wodosharlatan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670578689,"creation_date":1670578689,"answer_id":74741256,"question_id":74740676,"body_markdown":"Google favicon generator and make an icon. Name it favicon.ico and drop it in your webroot.\r\n\r\nSee if this helps.\r\n\r\nAlso here is a tutorial on favicon: https://www.w3.org/2005/10/howto-favicon\r\n","title":"GET http://127.0.0.1:9989/favicon.ico Not Found","body":"<p>Google favicon generator and make an icon. Name it favicon.ico and drop it in your webroot.</p>\n<p>See if this helps.</p>\n<p>Also here is a tutorial on favicon: <a href=\"https://www.w3.org/2005/10/howto-favicon\" rel=\"nofollow noreferrer\">https://www.w3.org/2005/10/howto-favicon</a></p>\n"}],"owner":{"account_id":23624722,"reputation":1,"user_id":17657444,"display_name":"zante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670601308,"creation_date":1670575501,"question_id":74740676,"body_markdown":"I have the following error:\r\n\r\n     favicon.ico:1  -&gt; GET http://127.0.0.1:9989/favic\r\n\r\n\r\nI have read some question answers about the same problem, but I have a problem finding the HTML (?) file to make changes.\r\n\r\nCould you please help me? What are the steps I have to follow in order to solve this error on my screen? I can&#39;t run my program.\r\n\r\n","title":"GET http://127.0.0.1:9989/favicon.ico Not Found","body":"<p>I have the following error:</p>\n<pre><code> favicon.ico:1  -&gt; GET http://127.0.0.1:9989/favic\n</code></pre>\n<p>I have read some question answers about the same problem, but I have a problem finding the HTML (?) file to make changes.</p>\n<p>Could you please help me? What are the steps I have to follow in order to solve this error on my screen? I can't run my program.</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0","keycloak"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670601118,"creation_date":1670601118,"answer_id":74745382,"question_id":74739505,"body_markdown":"For user authentication, use authorization code flow =&gt; first option. \r\n\r\nFirst option is safer: your app is never aware of user password and, as so, can&#39;t leak it. \r\n\r\nFirst option is also more future proof: if the number of clients increases and authentication requirements evolves (multi factor authentication for instance), then this is handled once on the authorization-server. Same for user registration.\r\n\r\nIf you are connected about the look and feel, refer to Keycloak doc. You&#39;ll find how to provide your own style and even template.\r\n\r\nLast, use an OIDC client library on your client to ease authorization-code flow on your client: `spring-boot-starter-oauth2-client` if it&#39;s a Spring app serving content with Thymeleaf, JSF, etc. Or a lib like what [angular-auth-oidc-client][1] is to Angular (search an equivalent for your own framework) \r\n\r\n\r\n  [1]: https://github.com/damienbod/angular-auth-oidc-client","title":"Spring Boot Oauth2 Redirect to Keycloack Login Page for Authentication Or Generate Access Token in API Gateway with Keycloak Token Creation Post API","body":"<p>For user authentication, use authorization code flow =&gt; first option.</p>\n<p>First option is safer: your app is never aware of user password and, as so, can't leak it.</p>\n<p>First option is also more future proof: if the number of clients increases and authentication requirements evolves (multi factor authentication for instance), then this is handled once on the authorization-server. Same for user registration.</p>\n<p>If you are connected about the look and feel, refer to Keycloak doc. You'll find how to provide your own style and even template.</p>\n<p>Last, use an OIDC client library on your client to ease authorization-code flow on your client: <code>spring-boot-starter-oauth2-client</code> if it's a Spring app serving content with Thymeleaf, JSF, etc. Or a lib like what <a href=\"https://github.com/damienbod/angular-auth-oidc-client\" rel=\"nofollow noreferrer\">angular-auth-oidc-client</a> is to Angular (search an equivalent for your own framework)</p>\n"}],"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745382,"answer_count":1,"score":0,"last_activity_date":1670601118,"creation_date":1670566389,"question_id":74739505,"body_markdown":"I am implementing OAuth2 (Keycloak) for our application. Our Application is combined of multiple Microservices (Rest APIs) and also there is an UI which calls the APIs. We have a API Gateway (Zuul) where we want to implement the Spring Boot OAuth2 with Keycloak. \r\n\r\nAfter checking on the internet I can see there are 2 options while implementing OAuth2 (Keycloak) in Spring Boot.\r\n\r\n1) I can redirect the user to **Keycloak Login page** when the user is not authenticated. Once the User is authenticated with Keycloak, then the user can access the APIs with the access token which it will get from the Keycloak Auth server.\r\n\r\n2) **Instead of** Keycloak Login page, I can have my **Own Login Page** in UI and once the user submits their username &amp; password, the details come to my API Gateway (Spring Boot code - Zuul) and with the given username &amp; password, I can get a access token from Keycloak with their (keycloak) Token Creation POST API and send back the Access Token to the user in the Response Header along with the HOME Page and user will able to use that token for further API calls until the token gets expired.\r\n\r\nWhich option is better to use? Login with Redirect to Keycloak Login page to get the access token or Calling Keycloak POST API for token creation from Spring Boot App?","title":"Spring Boot Oauth2 Redirect to Keycloack Login Page for Authentication Or Generate Access Token in API Gateway with Keycloak Token Creation Post API","body":"<p>I am implementing OAuth2 (Keycloak) for our application. Our Application is combined of multiple Microservices (Rest APIs) and also there is an UI which calls the APIs. We have a API Gateway (Zuul) where we want to implement the Spring Boot OAuth2 with Keycloak.</p>\n<p>After checking on the internet I can see there are 2 options while implementing OAuth2 (Keycloak) in Spring Boot.</p>\n<ol>\n<li><p>I can redirect the user to <strong>Keycloak Login page</strong> when the user is not authenticated. Once the User is authenticated with Keycloak, then the user can access the APIs with the access token which it will get from the Keycloak Auth server.</p>\n</li>\n<li><p><strong>Instead of</strong> Keycloak Login page, I can have my <strong>Own Login Page</strong> in UI and once the user submits their username &amp; password, the details come to my API Gateway (Spring Boot code - Zuul) and with the given username &amp; password, I can get a access token from Keycloak with their (keycloak) Token Creation POST API and send back the Access Token to the user in the Response Header along with the HOME Page and user will able to use that token for further API calls until the token gets expired.</p>\n</li>\n</ol>\n<p>Which option is better to use? Login with Redirect to Keycloak Login page to get the access token or Calling Keycloak POST API for token creation from Spring Boot App?</p>\n"},{"tags":["java","amazon-web-services","amazon-ecs"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1670608267,"post_id":74745361,"comment_id":131920576,"body_markdown":"What do you mean by: &quot;i am not able to find anywhere this variable ECS_CONTAINER_METADATA_URI_V4&quot;? That variable is available inside the container running on ECS. Can you show what you have tried?","body":"What do you mean by: &quot;i am not able to find anywhere this variable ECS_CONTAINER_METADATA_URI_V4&quot;? That variable is available inside the container running on ECS. Can you show what you have tried?"},{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":0,"creation_date":1670610658,"post_id":74745361,"comment_id":131921281,"body_markdown":"Hi @MarkB this is my first time of trying this, not sure how to access the container running on fargate launch type. Do i need ecs exec for this..?","body":"Hi @MarkB this is my first time of trying this, not sure how to access the container running on fargate launch type. Do i need ecs exec for this..?"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1670611277,"post_id":74745361,"comment_id":131921450,"body_markdown":"Yes you would `ecs exec` in for this. Typically this is for the software running in the container to access the metadata endpoint, not for you to use outside of the container. Why are you needing to access this endpoint?","body":"Yes you would <code>ecs exec</code> in for this. Typically this is for the software running in the container to access the metadata endpoint, not for you to use outside of the container. Why are you needing to access this endpoint?"},{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":0,"creation_date":1670677523,"post_id":74745361,"comment_id":131931078,"body_markdown":"I think I got it @MarkB. So the spring boot java app that is running inside container can easily access this variable  using maybe system.getenv and i can also use httpclient to get the json response. Will check this","body":"I think I got it @MarkB. So the spring boot java app that is running inside container can easily access this variable  using maybe system.getenv and i can also use httpclient to get the json response. Will check this"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1670677648,"post_id":74745361,"comment_id":131931114,"body_markdown":"Yes that&#39;s correct. But again, why do you need this info outside of the container? That same info should be available from the AWS ECS API instead of going through the metadata endpoint.","body":"Yes that&#39;s correct. But again, why do you need this info outside of the container? That same info should be available from the AWS ECS API instead of going through the metadata endpoint."}],"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670601009,"creation_date":1670601009,"question_id":74745361,"body_markdown":"I have my ecs task running on fargate launch type version 1.4.0 and it is working properly it is using private ECR respository to get the app image. I want to get it&#39;s metadata. It has only private IP and i know this link [ecs fargate metadata][1] but i am not able to find anywhere this variable `ECS_CONTAINER_METADATA_URI_V4`\r\n. My question is how to get the json response mentioned in the link above. Also exec is not enabled on this task. Please help\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonECS/latest/userguide/task-metadata-endpoint-v4-fargate.html","title":"How to get ecs metadata json response","body":"<p>I have my ecs task running on fargate launch type version 1.4.0 and it is working properly it is using private ECR respository to get the app image. I want to get it's metadata. It has only private IP and i know this link <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/userguide/task-metadata-endpoint-v4-fargate.html\" rel=\"nofollow noreferrer\">ecs fargate metadata</a> but i am not able to find anywhere this variable <code>ECS_CONTAINER_METADATA_URI_V4</code>\n. My question is how to get the json response mentioned in the link above. Also exec is not enabled on this task. Please help</p>\n"},{"tags":["java","xml","filenotfoundexception","saxparser"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1670408963,"post_id":74715145,"comment_id":131868192,"body_markdown":"I suspect your xml file references some other files somewhere that cannot be found. Hard to tell without knowing anything about your xml file.","body":"I suspect your xml file references some other files somewhere that cannot be found. Hard to tell without knowing anything about your xml file."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":1,"creation_date":1670411077,"post_id":74715145,"comment_id":131868951,"body_markdown":"So the XML has `&lt;!DOCTYPE preferences SYSTEM &quot;http://java.sun.com/dtd/preferences.dtd&quot;&gt;` meaning an XML parser is trying to read `http://java.sun.com/dtd/preferences.dtd`. How reliable is that? With similar references to e.g. W3C XHTML DTDs people are usually advised to use a catalogue referencing a local copy to the DTDs as the public server might be stalling to cope with too many requests.","body":"So the XML has <code>&lt;!DOCTYPE preferences SYSTEM &quot;http:&#47;&#47;java.sun.com&#47;dtd&#47;preferences.dtd&quot;&gt;</code> meaning an XML parser is trying to read <code>http:&#47;&#47;java.sun.com&#47;dtd&#47;preferences.dtd</code>. How reliable is that? With similar references to e.g. W3C XHTML DTDs people are usually advised to use a catalogue referencing a local copy to the DTDs as the public server might be stalling to cope with too many requests."}],"answers":[{"tags":[],"owner":{"account_id":5684286,"reputation":119,"user_id":4494338,"display_name":"extremecoder85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670600544,"creation_date":1670600544,"answer_id":74745279,"question_id":74715145,"body_markdown":"I have resolved this issue, it was due to another bug in my own code.\r\nSo it had nothing to do with the SAXParser. Thanks for all the help!","title":"SAXParser gives FileNotFoundException for XML file","body":"<p>I have resolved this issue, it was due to another bug in my own code.\nSo it had nothing to do with the SAXParser. Thanks for all the help!</p>\n"}],"owner":{"account_id":5684286,"reputation":119,"user_id":4494338,"display_name":"extremecoder85"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1670600544,"creation_date":1670408855,"question_id":74715145,"body_markdown":"My Java application gives a FileNotFoundException when trying to parse \r\nan XML file with the SAXParser class. The stack trace is:\r\n\r\n```\r\n    java.base/java.io.FileInputStream.open0(Native Method),\r\n    java.base/java.io.FileInputStream.open(Unknown Source), \r\n    java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source), \r\n    java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source), \r\n    java.base/sun.net.www.protocol.file.FileURLConnection.connect(Unknown  Source), \r\n    java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(Unknown Source),  \r\n    java.xml/com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(Unknown  Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(Unknown   Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown  Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown   Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source),  \r\n    java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source),  \r\n    java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(Unknown Source),  \r\n    java.xml/javax.xml.parsers.SAXParser.parse(Unknown Source)\r\n```\r\n\r\nI ran the application on Windows and on Linux, on Linux I can reproduce it more \r\nfrequently (I don&#39;t know why...). The problem appears to occur randomly and I am sure the file exists and can be read.\r\n\r\n- JRE release details:\r\n```\r\n    IMPLEMENTOR=&quot;Eclipse Adoptium&quot;\r\n    IMPLEMENTOR_VERSION=&quot;Temurin-17.0.2+8&quot;\r\n    JAVA_VERSION=&quot;17.0.2&quot;\r\n    JAVA_VERSION_DATE=&quot;2022-01-18&quot;\r\n```\r\n\r\n- I checked and removed any redundant SAXParser classes from the classpath.\r\n- I tried different folders as the file source folder (local, samba share).\r\n- I tried with file permissions set to 777.\r\n\r\nThis link suggests it may be an issue related to permissions:\r\nhttps://community.cloudera.com/t5/Support-Questions/CDF-Add-NiFi-CA-Service-Service-to-Cluster/m-p/268975/highlight/true\r\n\r\nBut that does not work for me.\r\n\r\nEDIT: I have pasted the XML file contents here:\r\nhttps://pastebin.com/Q0WE9Y9S\r\n\r\nEDIT: I have configured the SAXParserFactory so it does not load external DTD&#39;s:\r\n\r\n```\r\n    SAXParserFactory factory = SAXParserFactory.newInstance();\r\n    SAXParser parser = factory.newSAXParser();\r\n    factory.setValidating(false);\r\n    factory.setNamespaceAware(false);\r\n    factory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\r\n```\r\n\r\n\r\n\r\n\r\n","title":"SAXParser gives FileNotFoundException for XML file","body":"<p>My Java application gives a FileNotFoundException when trying to parse\nan XML file with the SAXParser class. The stack trace is:</p>\n<pre><code>    java.base/java.io.FileInputStream.open0(Native Method),\n    java.base/java.io.FileInputStream.open(Unknown Source), \n    java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source), \n    java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source), \n    java.base/sun.net.www.protocol.file.FileURLConnection.connect(Unknown  Source), \n    java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(Unknown Source),  \n    java.xml/com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(Unknown  Source), \n    java.xml/com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(Unknown   Source), \n    java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown  Source), \n    java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown   Source), \n    java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source),  \n    java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source),  \n    java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source), \n    java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(Unknown Source),  \n    java.xml/javax.xml.parsers.SAXParser.parse(Unknown Source)\n</code></pre>\n<p>I ran the application on Windows and on Linux, on Linux I can reproduce it more\nfrequently (I don't know why...). The problem appears to occur randomly and I am sure the file exists and can be read.</p>\n<ul>\n<li>JRE release details:</li>\n</ul>\n<pre><code>    IMPLEMENTOR=&quot;Eclipse Adoptium&quot;\n    IMPLEMENTOR_VERSION=&quot;Temurin-17.0.2+8&quot;\n    JAVA_VERSION=&quot;17.0.2&quot;\n    JAVA_VERSION_DATE=&quot;2022-01-18&quot;\n</code></pre>\n<ul>\n<li>I checked and removed any redundant SAXParser classes from the classpath.</li>\n<li>I tried different folders as the file source folder (local, samba share).</li>\n<li>I tried with file permissions set to 777.</li>\n</ul>\n<p>This link suggests it may be an issue related to permissions:\n<a href=\"https://community.cloudera.com/t5/Support-Questions/CDF-Add-NiFi-CA-Service-Service-to-Cluster/m-p/268975/highlight/true\" rel=\"nofollow noreferrer\">https://community.cloudera.com/t5/Support-Questions/CDF-Add-NiFi-CA-Service-Service-to-Cluster/m-p/268975/highlight/true</a></p>\n<p>But that does not work for me.</p>\n<p>EDIT: I have pasted the XML file contents here:\n<a href=\"https://pastebin.com/Q0WE9Y9S\" rel=\"nofollow noreferrer\">https://pastebin.com/Q0WE9Y9S</a></p>\n<p>EDIT: I have configured the SAXParserFactory so it does not load external DTD's:</p>\n<pre><code>    SAXParserFactory factory = SAXParserFactory.newInstance();\n    SAXParser parser = factory.newSAXParser();\n    factory.setValidating(false);\n    factory.setNamespaceAware(false);\n    factory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\n</code></pre>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1670602109,"post_id":74745024,"comment_id":131918693,"body_markdown":"`@AfterAll` runs after the whole test class finishes, not after each individual test. And your `readLine()` method seems to find the `hello` from the `testJsonParams()` method","body":"<code>@AfterAll</code> runs after the whole test class finishes, not after each individual test. And your <code>readLine()</code> method seems to find the <code>hello</code> from the <code>testJsonParams()</code> method"}],"answers":[{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670600465,"creation_date":1670600465,"answer_id":74745270,"question_id":74745024,"body_markdown":"If it does not throw, it could mean that the file is actually there and has some content. This makes sense, since just calling `PcdsLoggerFactory.getLogger(TestLogger.class)` does not seem to guarantee to delete the logfile then.","title":"Junit 5: Expected exception to be thrown, but nothing was thrown","body":"<p>If it does not throw, it could mean that the file is actually there and has some content. This makes sense, since just calling <code>PcdsLoggerFactory.getLogger(TestLogger.class)</code> does not seem to guarantee to delete the logfile then.</p>\n"}],"owner":{"account_id":25617907,"reputation":11,"user_id":19390241,"display_name":"ale.soft"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670600465,"creation_date":1670599128,"question_id":74745024,"body_markdown":"I have very strange behavior for the following test: \r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.NoSuchElementException;\r\nimport java.util.stream.Stream;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\npublic class TestLogger {\r\n\tstatic IPcdsLogger logger;\r\n\tstatic Logger LOGGER = LoggerFactory.getLogger(TestLogger.class);\r\n\r\n\t@BeforeEach\r\n\tpublic void setup() {\r\n\t\tlogger = PcdsLoggerFactory.getLogger(TestLogger.class);\r\n\t}\r\n\r\n\t@AfterEach\r\n\tpublic void tearDown() throws IOException {\r\n\t\tPrintWriter writer = new PrintWriter(new File(&quot;src/test/resources/temp/test.log&quot;));\r\n\t\twriter.print(&quot;&quot;);\r\n\t\twriter.close();\r\n\t}\r\n\r\n\t@AfterAll\r\n\tpublic static void deleteFile() throws IOException {\r\n\t\tlogger.close();\r\n\t\tFileUtils.deleteDirectory(new File(&quot;src/test/resources/temp&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testJsonParams() throws IOException {\r\n\r\n\t\tlogger.builder()\r\n\t\t\t\t.add(&quot;hello&quot;, &quot;world&quot;)\r\n\t\t\t\t.add(&quot;bob&quot;, &quot;alice&quot;)\r\n\t\t\t\t.debug(&quot;wtf&quot;);\r\n\r\n\r\n\t\tassertEquals(&quot;world&quot;, readLine(0).get(&quot;hello&quot;));\r\n\t\tassertEquals(&quot;alice&quot;, readLine(0).get(&quot;bob&quot;));\r\n\r\n\t}\r\n\r\n\r\n\t@Test\r\n\tpublic void testLogLevelTraceCheck() {\r\n\t\tlogger.traceLevel()\r\n\t\t\t\t.ifPresent(b -&gt; b.add(&quot;hello&quot;, &quot;world&quot;).trace());\r\n\t\tassertThrows(NoSuchElementException.class, () -&gt; readLine(0));\r\n\t}\r\n\r\n\tprivate JSONObject readLine(int lineNo) throws IOException  {\r\n\t\ttry (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;src/test/resources/temp/test.log&quot;))) {\r\n\t\t\tString line = lines.skip(lineNo).findFirst().get();\r\n\t\t\treturn new JSONObject(line);\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\nWhen I run the test individually, it passes.\r\nWhen I run all the tests, on the second run I get the following error for the testLogLevelTraceCheck:\r\n\r\n    Expected java.util.NoSuchElementException to be thrown, but nothing was thrown.\r\n    org.opentest4j.AssertionFailedError: Expected java.util.NoSuchElementException to be thrown, but nothing was thrown.\r\n    \tat app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:71)\r\n    \tat app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:37)\r\n    \tat app//org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3082)\r\n\r\n\r\nI thought it was enough to reinstantiate the logger in @BeforeEach, but somehow it doesn&#39;t happen all the time this. \r\nDo you have any suggestions? \r\n\r\n","title":"Junit 5: Expected exception to be thrown, but nothing was thrown","body":"<p>I have very strange behavior for the following test:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.NoSuchElementException;\nimport java.util.stream.Stream;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\n\npublic class TestLogger {\n    static IPcdsLogger logger;\n    static Logger LOGGER = LoggerFactory.getLogger(TestLogger.class);\n\n    @BeforeEach\n    public void setup() {\n        logger = PcdsLoggerFactory.getLogger(TestLogger.class);\n    }\n\n    @AfterEach\n    public void tearDown() throws IOException {\n        PrintWriter writer = new PrintWriter(new File(&quot;src/test/resources/temp/test.log&quot;));\n        writer.print(&quot;&quot;);\n        writer.close();\n    }\n\n    @AfterAll\n    public static void deleteFile() throws IOException {\n        logger.close();\n        FileUtils.deleteDirectory(new File(&quot;src/test/resources/temp&quot;));\n    }\n\n    @Test\n    public void testJsonParams() throws IOException {\n\n        logger.builder()\n                .add(&quot;hello&quot;, &quot;world&quot;)\n                .add(&quot;bob&quot;, &quot;alice&quot;)\n                .debug(&quot;wtf&quot;);\n\n\n        assertEquals(&quot;world&quot;, readLine(0).get(&quot;hello&quot;));\n        assertEquals(&quot;alice&quot;, readLine(0).get(&quot;bob&quot;));\n\n    }\n\n\n    @Test\n    public void testLogLevelTraceCheck() {\n        logger.traceLevel()\n                .ifPresent(b -&gt; b.add(&quot;hello&quot;, &quot;world&quot;).trace());\n        assertThrows(NoSuchElementException.class, () -&gt; readLine(0));\n    }\n\n    private JSONObject readLine(int lineNo) throws IOException  {\n        try (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;src/test/resources/temp/test.log&quot;))) {\n            String line = lines.skip(lineNo).findFirst().get();\n            return new JSONObject(line);\n        }\n    }\n</code></pre>\n<p>When I run the test individually, it passes.\nWhen I run all the tests, on the second run I get the following error for the testLogLevelTraceCheck:</p>\n<pre><code>Expected java.util.NoSuchElementException to be thrown, but nothing was thrown.\norg.opentest4j.AssertionFailedError: Expected java.util.NoSuchElementException to be thrown, but nothing was thrown.\n    at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:71)\n    at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:37)\n    at app//org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3082)\n</code></pre>\n<p>I thought it was enough to reinstantiate the logger in @BeforeEach, but somehow it doesn't happen all the time this.\nDo you have any suggestions?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":0,"creation_date":1670600014,"post_id":74745167,"comment_id":131917994,"body_markdown":"Should you use your `c`, `d`, `e` counters as `int` instead of `double`?","body":"Should you use your <code>c</code>, <code>d</code>, <code>e</code> counters as <code>int</code> instead of <code>double</code>?"}],"answers":[{"tags":[],"owner":{"account_id":22828513,"reputation":344,"user_id":16977407,"display_name":"Gandhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670600310,"creation_date":1670600310,"answer_id":74745240,"question_id":74745167,"body_markdown":"you use `a`, `i` and `j` as indices of the array `b`, but you are not allowed to use a double variable as an index in java, you have to use integers. You can use `Math.floor()` to convert the doubles to ints","title":"PLus MInus program in java","body":"<p>you use <code>a</code>, <code>i</code> and <code>j</code> as indices of the array <code>b</code>, but you are not allowed to use a double variable as an index in java, you have to use integers. You can use <code>Math.floor()</code> to convert the doubles to ints</p>\n"}],"owner":{"account_id":18151019,"reputation":11,"user_id":13203737,"display_name":"Shivansh Raghav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745240,"answer_count":1,"score":0,"last_activity_date":1670600310,"creation_date":1670599912,"question_id":74745167,"body_markdown":"Given an array arr of N integers, Calculate the ratios of its elements that are positive, negative, and zero to the array size N.\r\n\r\nPrint the decimal value of each fraction in a new line up to 6 decimal places.\r\nLanguage Java \r\n\r\nInput Format\r\nThe first line contains an integer N, the size of the array.\r\n\r\nThe second line contains N space-separated integers representing the array arr.\r\n\r\nOutput Format\r\nPrint the 3 required ratios up to 6 decimal places.\r\n\r\nExample 1\r\nInput\r\n6\r\n-4 3 -9 -5 4 1\r\n\r\n\r\nOutput\r\n0.500000\r\n0.500000\r\n0.000000\r\n\r\n\r\nI wrote the below code for the mentioned program ,\r\n I keep getting the error error: incompatible types: possible lossy conversion from double to int\r\nI declared everything as a double but still getting the error \r\n\r\n\r\n\r\n```\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tScanner sc = new Scanner(System.in);\r\n    double a = sc.nextDouble();\r\n    double b[] = new double[a];\r\n    double c=0,d=0,e=0;\r\n    for(double i=0;i&lt;a;i++){\r\n      b[i]= sc.nextDouble();//your code here\r\n\t}\r\n    for(double j=0 ; j&lt;a ;j++){\r\n      if(b[j]&gt;0){\r\n        c++;\r\n      }\r\n      else if(b[j]&lt;0){\r\n        d++;\r\n      }\r\n      else{\r\n        e++;\r\n      }\r\n    } \r\n\r\n    System.out.println(String.format(&quot; %.6f&quot;,(c/a)));\r\n     System.out.println(String.format(&quot; %.6f&quot;,(d/a)));\r\n     System.out.println(String.format(&quot; %.6f&quot;,(e/a)));\r\n}}\r\n```\r\n","title":"PLus MInus program in java","body":"<p>Given an array arr of N integers, Calculate the ratios of its elements that are positive, negative, and zero to the array size N.</p>\n<p>Print the decimal value of each fraction in a new line up to 6 decimal places.\nLanguage Java</p>\n<p>Input Format\nThe first line contains an integer N, the size of the array.</p>\n<p>The second line contains N space-separated integers representing the array arr.</p>\n<p>Output Format\nPrint the 3 required ratios up to 6 decimal places.</p>\n<p>Example 1\nInput\n6\n-4 3 -9 -5 4 1</p>\n<p>Output\n0.500000\n0.500000\n0.000000</p>\n<p>I wrote the below code for the mentioned program ,\nI keep getting the error error: incompatible types: possible lossy conversion from double to int\nI declared everything as a double but still getting the error</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\npublic class Main\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        Scanner sc = new Scanner(System.in);\n    double a = sc.nextDouble();\n    double b[] = new double[a];\n    double c=0,d=0,e=0;\n    for(double i=0;i&lt;a;i++){\n      b[i]= sc.nextDouble();//your code here\n    }\n    for(double j=0 ; j&lt;a ;j++){\n      if(b[j]&gt;0){\n        c++;\n      }\n      else if(b[j]&lt;0){\n        d++;\n      }\n      else{\n        e++;\n      }\n    } \n\n    System.out.println(String.format(&quot; %.6f&quot;,(c/a)));\n     System.out.println(String.format(&quot; %.6f&quot;,(d/a)));\n     System.out.println(String.format(&quot; %.6f&quot;,(e/a)));\n}}\n</code></pre>\n"},{"tags":["java","android","xml","android-styles"],"answers":[{"tags":[],"owner":{"account_id":1039908,"reputation":12848,"user_id":1205368,"accept_rate":83,"display_name":"Salem"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1416175768,"creation_date":1416175768,"answer_id":26962633,"question_id":26958179,"body_markdown":"If I&#39;m not mistaken that code means Android found a reference when it expected a color value or failed to convert reference to color. Looking at your code this line stands out\r\n\r\n    &lt;item name=&quot;android:textColor&quot;&gt;@style/MyActionBarTitleText&lt;/item&gt;\r\n\r\nDespite you can have a reference in textColor I&#39;m not sure you can set it as a style.\r\n\r\nSo try to reference your color directly\r\n\r\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/actionbar_text&lt;/item&gt;\r\n","title":"java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1","body":"<p>If I'm not mistaken that code means Android found a reference when it expected a color value or failed to convert reference to color. Looking at your code this line stands out</p>\n\n<pre><code>&lt;item name=\"android:textColor\"&gt;@style/MyActionBarTitleText&lt;/item&gt;\n</code></pre>\n\n<p>Despite you can have a reference in textColor I'm not sure you can set it as a style.</p>\n\n<p>So try to reference your color directly</p>\n\n<pre><code>&lt;item name=\"android:textColor\"&gt;@color/actionbar_text&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13843389,"reputation":1,"user_id":9993080,"display_name":"Prasad Shirsath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628334894,"creation_date":1628334894,"answer_id":68691880,"question_id":26958179,"body_markdown":"In my case I changed com.github.amlcurran.showcaseview:library:+ to specific version\r\ni.e. com.github.amlcurran.showcaseview:library:5.4.3\r\nAnd it is working fine.","title":"java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1","body":"<p>In my case I changed com.github.amlcurran.showcaseview:library:+ to specific version\ni.e. com.github.amlcurran.showcaseview:library:5.4.3\nAnd it is working fine.</p>\n"},{"tags":[],"owner":{"account_id":25215626,"reputation":71,"user_id":19052779,"display_name":"Reza Asgari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670600229,"creation_date":1670257910,"answer_id":74691425,"question_id":26958179,"body_markdown":"I have the same error (`Can&#39;t convert value at index 1 to color: type=0x1`) with this code:\r\n\r\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/material_dynamic_primary20&lt;/item&gt;\r\n    &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/design_default_color_primary_dark&lt;/item&gt;\r\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/slidetoact_defaultAccent&lt;/item&gt;\r\n\r\nIt just needs to be replaced with this &#128071;\r\n\r\n    &lt;item name=&quot;colorPrimary&quot;&gt;#003549&lt;/item&gt;\r\n    &lt;item name=&quot;colorPrimaryDark&quot;&gt;#3700B3&lt;/item&gt;\r\n    &lt;item name=&quot;colorAccent&quot;&gt;#FF4081&lt;/item&gt;","title":"java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1","body":"<p>I have the same error (<code>Can't convert value at index 1 to color: type=0x1</code>) with this code:</p>\n<pre><code>&lt;item name=&quot;colorPrimary&quot;&gt;@color/material_dynamic_primary20&lt;/item&gt;\n&lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/design_default_color_primary_dark&lt;/item&gt;\n&lt;item name=&quot;colorAccent&quot;&gt;@color/slidetoact_defaultAccent&lt;/item&gt;\n</code></pre>\n<p>It just needs to be replaced with this </p>\n<pre><code>&lt;item name=&quot;colorPrimary&quot;&gt;#003549&lt;/item&gt;\n&lt;item name=&quot;colorPrimaryDark&quot;&gt;#3700B3&lt;/item&gt;\n&lt;item name=&quot;colorAccent&quot;&gt;#FF4081&lt;/item&gt;\n</code></pre>\n"}],"owner":{"account_id":943383,"reputation":6188,"user_id":971083,"accept_rate":88,"display_name":"RonnyKnoxville"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14664,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":26962633,"answer_count":3,"score":6,"last_activity_date":1670600229,"creation_date":1416149131,"question_id":26958179,"body_markdown":"I&#39;ve been following throught the myfirstapp guide on Android developers training but I&#39;ve come across a problem where [they do not properly explain how to define colors.][1]\r\n\r\nThey mention that to create a custom theme, you can declare your text colors as such:\r\n\r\nthemes.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;!-- the theme applied to the application or activity --&gt;\r\n        &lt;style name=&quot;CustomActionBarTheme&quot;\r\n            parent=&quot;@android:style/Theme.Holo.Light.DarkActionBar&quot;&gt;\r\n            &lt;item name=&quot;android:actionBarStyle&quot;&gt;@style/MyActionBar&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@style/MyActionBarTitleText&lt;/item&gt;\r\n            &lt;item name=&quot;android:actionBarTabTextStyle&quot;&gt;@style/MyActionBarTabText&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;!-- ActionBar styles --&gt;\r\n        &lt;style name=&quot;MyActionBar&quot;\r\n            parent=&quot;@android:style/Widget.Holo.Light.ActionBar.Solid.Inverse&quot;&gt;\r\n            &lt;item name=&quot;android:background&quot;&gt;@drawable/actionbar_background&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;!-- ActionBar title text --&gt;\r\n        &lt;style name=&quot;MyActionBarTitleText&quot;\r\n            parent=&quot;@android:style/TextAppearance.Holo.Widget.ActionBar.Title&quot;&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/actionbar_text&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;!-- ActionBar tabs text styles --&gt;\r\n        &lt;style name=&quot;MyActionBarTabText&quot;\r\n            parent=&quot;@android:style/Widget.Holo.ActionBar.TabText&quot;&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/actionbar_text&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\nThey do not mention how to specify `@color/actionbar_text`, but common sense (and some googling) indicates that a colors.xml file is required in the values package:\r\n\r\ncolors.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;color name=&quot;actionbar_text&quot;&gt;#ff355689&lt;/color&gt;\r\n    &lt;/resources&gt;\r\n\r\nHowever, when trying to run the app, it gives an error:\r\n\r\n    Process: com.example.myfirstapp, PID: 25997\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myfirstapp/com.example.myfirstapp.MainActivity}: java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1\r\n\r\nIf I remove the line from colors.xml, it errors when it can&#39;t find the color reference. Im relatively certain my code is correct, can anyone see any errors?\r\n\r\n![android studio showing error][2]\r\n\r\n**EDIT**\r\n\r\nI just wanted to note that I am actually using slightly different syntax for the themes.xml file as the tutorial ones dont compile. The tutorial uses `@style/Widget.Holo.ActionBar.TabText`, which I found was actually a property of android, so I needed to use `@android:style/Widget.Holo.ActionBar.TabText` instead.\r\n\r\n\r\n  [1]: http://developer.android.com/training/basics/actionbar/styling.html#\r\n  [2]: http://i.stack.imgur.com/1nxyV.png","title":"java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1","body":"<p>I've been following throught the myfirstapp guide on Android developers training but I've come across a problem where <a href=\"http://developer.android.com/training/basics/actionbar/styling.html#\" rel=\"noreferrer\">they do not properly explain how to define colors.</a></p>\n\n<p>They mention that to create a custom theme, you can declare your text colors as such:</p>\n\n<p>themes.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;!-- the theme applied to the application or activity --&gt;\n    &lt;style name=\"CustomActionBarTheme\"\n        parent=\"@android:style/Theme.Holo.Light.DarkActionBar\"&gt;\n        &lt;item name=\"android:actionBarStyle\"&gt;@style/MyActionBar&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@style/MyActionBarTitleText&lt;/item&gt;\n        &lt;item name=\"android:actionBarTabTextStyle\"&gt;@style/MyActionBarTabText&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;!-- ActionBar styles --&gt;\n    &lt;style name=\"MyActionBar\"\n        parent=\"@android:style/Widget.Holo.Light.ActionBar.Solid.Inverse\"&gt;\n        &lt;item name=\"android:background\"&gt;@drawable/actionbar_background&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;!-- ActionBar title text --&gt;\n    &lt;style name=\"MyActionBarTitleText\"\n        parent=\"@android:style/TextAppearance.Holo.Widget.ActionBar.Title\"&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/actionbar_text&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;!-- ActionBar tabs text styles --&gt;\n    &lt;style name=\"MyActionBarTabText\"\n        parent=\"@android:style/Widget.Holo.ActionBar.TabText\"&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/actionbar_text&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>They do not mention how to specify <code>@color/actionbar_text</code>, but common sense (and some googling) indicates that a colors.xml file is required in the values package:</p>\n\n<p>colors.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;color name=\"actionbar_text\"&gt;#ff355689&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>However, when trying to run the app, it gives an error:</p>\n\n<pre><code>Process: com.example.myfirstapp, PID: 25997\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myfirstapp/com.example.myfirstapp.MainActivity}: java.lang.UnsupportedOperationException: Can't convert to color: type=0x1\n</code></pre>\n\n<p>If I remove the line from colors.xml, it errors when it can't find the color reference. Im relatively certain my code is correct, can anyone see any errors?</p>\n\n<p><img src=\"https://i.stack.imgur.com/1nxyV.png\" alt=\"android studio showing error\"></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I just wanted to note that I am actually using slightly different syntax for the themes.xml file as the tutorial ones dont compile. The tutorial uses <code>@style/Widget.Holo.ActionBar.TabText</code>, which I found was actually a property of android, so I needed to use <code>@android:style/Widget.Holo.ActionBar.TabText</code> instead.</p>\n"},{"tags":["java","types","tuples"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1670592510,"post_id":74743747,"comment_id":131915499,"body_markdown":"&quot;but seems completely pointless&quot; Exactly! You just reinvented the list. Is there anything special that you want a `Tuple&lt;T&gt;` to do, that a `List&lt;T&gt;` cannot do?","body":"&quot;but seems completely pointless&quot; Exactly! You just reinvented the list. Is there anything special that you want a <code>Tuple&lt;T&gt;</code> to do, that a <code>List&lt;T&gt;</code> cannot do?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1670592616,"post_id":74743747,"comment_id":131915537,"body_markdown":"I guess there should be `accept(t1);` and `accept(t2);` (instead of `accept(t)`).","body":"I guess there should be <code>accept(t1);</code> and <code>accept(t2);</code> (instead of <code>accept(t)</code>)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670592685,"post_id":74743747,"comment_id":131915563,"body_markdown":"*&quot;I simply can replace Tuple&lt;T&gt; with List.of()&quot;* - right, `List.of()` is an equivalent of your `TupleN`.","body":"<i>&quot;I simply can replace Tuple&lt;T&gt; with List.of()&quot;</i> - right, <code>List.of()</code> is an equivalent of your <code>TupleN</code>."},{"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"score":0,"creation_date":1670593747,"post_id":74743747,"comment_id":131915907,"body_markdown":"@Sweeper sure! `List` is a collection, that has its own type hierarchy, has methods `add`, `remove` etc. I want to create clear and straightforward API which tell the user that this particular method accepts exactly tuples, not an `ArrayList` or something. That&#39;s because I called `static` method approach pointless, as it doesn&#39;t include inheritance and `TupleN` is not a subtype of `Tuple`. Example with inheritance on the other hand is a complete opposite of pointlessness.","body":"@Sweeper sure! <code>List</code> is a collection, that has its own type hierarchy, has methods <code>add</code>, <code>remove</code> etc. I want to create clear and straightforward API which tell the user that this particular method accepts exactly tuples, not an <code>ArrayList</code> or something. That&#39;s because I called <code>static</code> method approach pointless, as it doesn&#39;t include inheritance and <code>TupleN</code> is not a subtype of <code>Tuple</code>. Example with inheritance on the other hand is a complete opposite of pointlessness."},{"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"score":0,"creation_date":1670594321,"post_id":74743747,"comment_id":131916108,"body_markdown":"The problem of using just Lists here and there is that that kind of API does not restrict misusage, e.g. mutation, and sure that misusage will lead to runtime errors. If that problem is unsolvable than I should either really just use `List` with some comments &quot;please do not use `List` as `List`, otherwise everything breaks&quot; or use raw-typed `Tuple` just as marker-interface, also with comment &quot;but here must be only `Number` tuples, otherwise everything breaks&quot;. All I want to know: Is it REALLY unsolvable? =)","body":"The problem of using just Lists here and there is that that kind of API does not restrict misusage, e.g. mutation, and sure that misusage will lead to runtime errors. If that problem is unsolvable than I should either really just use <code>List</code> with some comments &quot;please do not use <code>List</code> as <code>List</code>, otherwise everything breaks&quot; or use raw-typed <code>Tuple</code> just as marker-interface, also with comment &quot;but here must be only <code>Number</code> tuples, otherwise everything breaks&quot;. All I want to know: Is it REALLY unsolvable? =)"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1670594869,"post_id":74743747,"comment_id":131916311,"body_markdown":"Lists created using `List.of` do not allow `add` and `remove`, and the standard library lives with this just fine. I really don&#39;t see a problem here. What *if* I gave your method an `ArrayList`? It wouldn&#39;t and shouldn&#39;t break, right? That&#39;s the whole point of interfaces.","body":"Lists created using <code>List.of</code> do not allow <code>add</code> and <code>remove</code>, and the standard library lives with this just fine. I really don&#39;t see a problem here. What <i>if</i> I gave your method an <code>ArrayList</code>? It wouldn&#39;t and shouldn&#39;t break, right? That&#39;s the whole point of interfaces."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1670616030,"post_id":74743747,"comment_id":131922535,"body_markdown":"There is no generic and useful way to solve this problem.  You have listed all the possibilities.  There is no clever solution that you haven&#39;t thought of yet.","body":"There is no generic and useful way to solve this problem.  You have listed all the possibilities.  There is no clever solution that you haven&#39;t thought of yet."}],"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670600202,"creation_date":1670592185,"question_id":74743747,"body_markdown":"Let&#39;s say I have class `TupleN&lt;T...&gt;` which I want to derive from some type `Tuple&lt;T&gt;` like so:\r\n\r\n```java\r\n// with Tuple1 that seems okay\r\nclass Tuple1&lt;T&gt; implements Tuple&lt;T&gt; { ... }\r\n\r\n// but what should I put instead of ***?\r\nclass Tuple2&lt;T1, T2&gt; implements Tuple&lt;***&gt; { ... }\r\n```\r\n\r\nWhat I want is a some sort of behaviour that allows me to define methods that accept not any raw typed `Tuple`, but a `Tuple&lt;T&gt;` with some upper bound type restriction (e.g. for heterogeneous container implementation):\r\n\r\n```java\r\nvoid accept(Tuple&lt;Number&gt; tupleOfNumbers) { ... }\r\n\r\n...\r\n\r\nTuple&lt;Integer, Float, Double&gt; t = new Tuple3(123, 12.5f, 43.99d);\r\nTuple&lt;Integer, Float, String&gt; t2 = new Tuple3(123, 12.5f, &quot;43.99&quot;);\r\n\r\n// ... some Tuple logic here\r\n\r\naccept(t); // Okay!\r\naccept(t2); // not okay, common ancestor is not a Number!\r\n```\r\n\r\nI know that conversion from `TupleN` to some homogeneous `Tuple&lt;T&gt;` is possible through static generic methods:\r\n\r\n```java\r\nclass Tuple&lt;T&gt; { ... }\r\n\r\nrecord Tuple2&lt;T1, T2&gt;(T1 val1, T2 val2) {\r\n\r\n  // ...\r\n\r\n static &lt;T, T1 extends T, T2 extends T&gt; Tuple&lt;T&gt; toTuple(Tuple2&lt;T1, T2&gt; t) {\r\n   return new Tuple&lt;T&gt;(t.val1, t.val2);\r\n }\r\n}\r\n\r\n// ... somewhere else\r\nvar t = Tuple2(123, 123f);\r\nTuple&lt;Number&gt; l = Tuple2.toTuple(t); // types T, T1 and T2 are inferred properly and that works!\r\n```\r\n\r\nThat works, but seems completely pointless as I simply can replace `Tuple&lt;T&gt;` with `List.of()`.\r\n\r\nSo I can&#39;t figure out the non-static way of doing this other than adding an explicit third common ancestor type parameter:\r\n\r\n```java\r\nrecord Tuple2&lt;T, T1 extends T, T2 extends T&gt;(T1 val1, T2 val2) implements Tuple&lt;T&gt; {}\r\n```\r\n\r\nMaybe I&#39;m missing some good approach? Please tell me if you have had the same issue.","title":"How to pass the closest common ancestor to superclass type parameter in Java","body":"<p>Let's say I have class <code>TupleN&lt;T...&gt;</code> which I want to derive from some type <code>Tuple&lt;T&gt;</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// with Tuple1 that seems okay\nclass Tuple1&lt;T&gt; implements Tuple&lt;T&gt; { ... }\n\n// but what should I put instead of ***?\nclass Tuple2&lt;T1, T2&gt; implements Tuple&lt;***&gt; { ... }\n</code></pre>\n<p>What I want is a some sort of behaviour that allows me to define methods that accept not any raw typed <code>Tuple</code>, but a <code>Tuple&lt;T&gt;</code> with some upper bound type restriction (e.g. for heterogeneous container implementation):</p>\n<pre class=\"lang-java prettyprint-override\"><code>void accept(Tuple&lt;Number&gt; tupleOfNumbers) { ... }\n\n...\n\nTuple&lt;Integer, Float, Double&gt; t = new Tuple3(123, 12.5f, 43.99d);\nTuple&lt;Integer, Float, String&gt; t2 = new Tuple3(123, 12.5f, &quot;43.99&quot;);\n\n// ... some Tuple logic here\n\naccept(t); // Okay!\naccept(t2); // not okay, common ancestor is not a Number!\n</code></pre>\n<p>I know that conversion from <code>TupleN</code> to some homogeneous <code>Tuple&lt;T&gt;</code> is possible through static generic methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Tuple&lt;T&gt; { ... }\n\nrecord Tuple2&lt;T1, T2&gt;(T1 val1, T2 val2) {\n\n  // ...\n\n static &lt;T, T1 extends T, T2 extends T&gt; Tuple&lt;T&gt; toTuple(Tuple2&lt;T1, T2&gt; t) {\n   return new Tuple&lt;T&gt;(t.val1, t.val2);\n }\n}\n\n// ... somewhere else\nvar t = Tuple2(123, 123f);\nTuple&lt;Number&gt; l = Tuple2.toTuple(t); // types T, T1 and T2 are inferred properly and that works!\n</code></pre>\n<p>That works, but seems completely pointless as I simply can replace <code>Tuple&lt;T&gt;</code> with <code>List.of()</code>.</p>\n<p>So I can't figure out the non-static way of doing this other than adding an explicit third common ancestor type parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Tuple2&lt;T, T1 extends T, T2 extends T&gt;(T1 val1, T2 val2) implements Tuple&lt;T&gt; {}\n</code></pre>\n<p>Maybe I'm missing some good approach? Please tell me if you have had the same issue.</p>\n"},{"tags":["java","android","libgdx"],"answers":[{"tags":[],"owner":{"account_id":25909379,"reputation":1,"user_id":19633924,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670599687,"creation_date":1670599687,"answer_id":74745119,"question_id":74593887,"body_markdown":"```manager.load()``` will queue your asset, not immediately load it.\r\nOnly when ```manager.update()``` returns true will the assets be available.\r\n\r\nLooks like your problem is in SplashScreen\r\n```\r\n        for (int i=1;i&lt;=5;i++){\r\n            manager.load(&quot;bater_1/&quot;+i+&quot;.png&quot;,Texture.class);\r\n        }\r\n        //not allowed\r\n        goku = manager.get(&quot;bater_1/goku2.png&quot;,Texture.class);\r\n```\r\n\r\n\r\nAssetManager is well explained here https://libgdx.com/wiki/managing-your-assets","title":"Problems loading assets in libgdx","body":"<p><code>manager.load()</code> will queue your asset, not immediately load it.\nOnly when <code>manager.update()</code> returns true will the assets be available.</p>\n<p>Looks like your problem is in SplashScreen</p>\n<pre><code>        for (int i=1;i&lt;=5;i++){\n            manager.load(&quot;bater_1/&quot;+i+&quot;.png&quot;,Texture.class);\n        }\n        //not allowed\n        goku = manager.get(&quot;bater_1/goku2.png&quot;,Texture.class);\n</code></pre>\n<p>AssetManager is well explained here <a href=\"https://libgdx.com/wiki/managing-your-assets\" rel=\"nofollow noreferrer\">https://libgdx.com/wiki/managing-your-assets</a></p>\n"}],"owner":{"account_id":27066223,"reputation":1,"user_id":20617546,"display_name":"THIAGO PORTO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670599687,"creation_date":1669584089,"question_id":74593887,"body_markdown":"I&#39;m new to the world of app development, but I already have some specific knowledge. But my issue is the following involving libgdx and Android Studio:\r\n\r\nWhen trying to load a texture through the Assets Manager method, the following error occurs:\r\n`\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: GLThread 593\r\n    Process: br.com.tpgames.dbz, PID: 19495\r\n    com.badlogic.gdx.utils.GdxRuntimeException: Asset not loaded: bater_1/goku2.png\r\n        at com.badlogic.gdx.assets.AssetManager.get(AssetManager.java:172)\r\n        at com.badlogic.gdx.assets.AssetManager.get(AssetManager.java:143)\r\n        at br.com.tpgames.dbz.SplashScreen.&lt;init&gt;(SplashScreen.java:53)\r\n```\r\n`\r\n\r\nMy codes:\r\n\r\nmain class:\r\n\r\n`\r\n```\r\npublic class MainClass extends Game {\r\n\r\n   public AssetManager manager;\r\n\r\n\r\n   public void create () {\r\n\r\n\r\n\r\n\r\n      setScreen(new SplashScreen (this, manager));\r\n\r\n   }\r\n\r\n\r\n}\r\n\r\n```\r\n`\r\n\r\nSplash screen\r\n`\r\n```\r\npublic class SplashScreen implements Screen {\r\n\r\n    private Game game;\r\n    private AssetManager manager;\r\n    private float time = 0;\r\n\r\n\r\n    private SpriteBatch batch;\r\n    private Texture tex;\r\n\r\n    long startime;\r\n\r\n    public Texture goku;\r\n\r\n\r\n\r\n    public SplashScreen(Game game, AssetManager manager){\r\n        this.game = game;\r\n        this.manager = manager;\r\n\r\n        batch = new SpriteBatch();\r\n        tex = new Texture(&quot;logo.png&quot;);\r\n\r\n        startime = TimeUtils.millis();\r\n\r\n        manager = new AssetManager();\r\n        for (int i=1;i&lt;=5;i++){\r\n            manager.load(&quot;bater_1/&quot;+i+&quot;.png&quot;,Texture.class);\r\n        }\r\n\r\n        boolean load = manager.isLoaded(&quot;bater_1/goku1.png&quot;);\r\n        Gdx.app.log(&quot;Log&quot;, String.valueOf(load));\r\n\r\n\r\n        goku = manager.get(&quot;bater_1/goku2.png&quot;,Texture.class);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void show() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void render(float delta) {\r\n        time+=delta;\r\n\r\n\r\n        if (manager.update() &amp;&amp; time &gt;=2){      //Se o tempo for maior que 2 segundos, vai abrir a tela principal\r\n            game.setScreen(new Tela_Principal(game,manager));\r\n        }\r\n\r\n\r\n        Gdx.gl.glClearColor(1,1,1,1);\r\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n        batch.begin();\r\n        batch.draw(tex, (float) (screenx*0.26), (float) (screeny*0.1), (float) (screenx*0.5), (float) (screeny*0.8));\r\n\r\n        batch.end();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void resize(int width, int height) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void pause() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void resume() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void hide() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void dispose() {\r\n\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\n\r\nConstants\r\n`\r\n```\r\npublic class Constantes {\r\n    public static int screenx = Gdx.graphics.getWidth();\r\n    public static int screeny = Gdx.graphics.getHeight();\r\n}\r\n\r\n```\r\n`\r\n\r\n\r\n\r\n```\r\n\r\n\r\nMain screen\r\n\r\n```\r\n`\r\npublic class Tela_Principal implements Screen {\r\n\r\n    private Game game;\r\n    private AssetManager manager;\r\n    private SpriteBatch batch;\r\n\r\n    private SplashScreen splashScreen;\r\n\r\n    // private Texture goku;\r\n\r\n\r\n    public Tela_Principal(Game game, AssetManager manager){\r\n        this.game = game;\r\n        this.manager = manager;\r\n\r\n        splashScreen = new SplashScreen(game,manager);\r\n\r\n\r\n        for (int i=1;i&lt;=5;i++){\r\n            manager.load(&quot;bater_1/goku&quot;+i+&quot;.png&quot;,Texture.class);\r\n        }\r\n\r\n        batch = new SpriteBatch();\r\n        // goku = manager.get(&quot;bater_1/goku1.png&quot;,Texture.class);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void show() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void render(float delta) {\r\n\r\n\r\n        Gdx.gl.glClearColor(0,1,0,0);\r\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n\r\n        batch.begin();\r\n        batch.draw(splashScreen.goku, (float) (screenx *0.1), (float) (screeny*0.1));\r\n        batch.end();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void resize(int width, int height) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void pause() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void resume() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void hide() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void dispose() {\r\n\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\nI thank you for your help!!","title":"Problems loading assets in libgdx","body":"<p>I'm new to the world of app development, but I already have some specific knowledge. But my issue is the following involving libgdx and Android Studio:</p>\n<p>When trying to load a texture through the Assets Manager method, the following error occurs:\n`</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: GLThread 593\n    Process: br.com.tpgames.dbz, PID: 19495\n    com.badlogic.gdx.utils.GdxRuntimeException: Asset not loaded: bater_1/goku2.png\n        at com.badlogic.gdx.assets.AssetManager.get(AssetManager.java:172)\n        at com.badlogic.gdx.assets.AssetManager.get(AssetManager.java:143)\n        at br.com.tpgames.dbz.SplashScreen.&lt;init&gt;(SplashScreen.java:53)\n</code></pre>\n<p>`</p>\n<p>My codes:</p>\n<p>main class:</p>\n<p>`</p>\n<pre><code>public class MainClass extends Game {\n\n   public AssetManager manager;\n\n\n   public void create () {\n\n\n\n\n      setScreen(new SplashScreen (this, manager));\n\n   }\n\n\n}\n\n</code></pre>\n<p>`</p>\n<p>Splash screen\n`</p>\n<pre><code>public class SplashScreen implements Screen {\n\n    private Game game;\n    private AssetManager manager;\n    private float time = 0;\n\n\n    private SpriteBatch batch;\n    private Texture tex;\n\n    long startime;\n\n    public Texture goku;\n\n\n\n    public SplashScreen(Game game, AssetManager manager){\n        this.game = game;\n        this.manager = manager;\n\n        batch = new SpriteBatch();\n        tex = new Texture(&quot;logo.png&quot;);\n\n        startime = TimeUtils.millis();\n\n        manager = new AssetManager();\n        for (int i=1;i&lt;=5;i++){\n            manager.load(&quot;bater_1/&quot;+i+&quot;.png&quot;,Texture.class);\n        }\n\n        boolean load = manager.isLoaded(&quot;bater_1/goku1.png&quot;);\n        Gdx.app.log(&quot;Log&quot;, String.valueOf(load));\n\n\n        goku = manager.get(&quot;bater_1/goku2.png&quot;,Texture.class);\n\n\n\n\n    }\n\n\n    @Override\n    public void show() {\n\n    }\n\n    @Override\n    public void render(float delta) {\n        time+=delta;\n\n\n        if (manager.update() &amp;&amp; time &gt;=2){      //Se o tempo for maior que 2 segundos, vai abrir a tela principal\n            game.setScreen(new Tela_Principal(game,manager));\n        }\n\n\n        Gdx.gl.glClearColor(1,1,1,1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n        batch.begin();\n        batch.draw(tex, (float) (screenx*0.26), (float) (screeny*0.1), (float) (screenx*0.5), (float) (screeny*0.8));\n\n        batch.end();\n\n    }\n\n    @Override\n    public void resize(int width, int height) {\n\n    }\n\n    @Override\n    public void pause() {\n\n    }\n\n    @Override\n    public void resume() {\n\n    }\n\n    @Override\n    public void hide() {\n\n    }\n\n    @Override\n    public void dispose() {\n\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p>Constants\n`</p>\n<pre><code>public class Constantes {\n    public static int screenx = Gdx.graphics.getWidth();\n    public static int screeny = Gdx.graphics.getHeight();\n}\n\n</code></pre>\n<p>`</p>\n<pre><code>\n\nMain screen\n\n</code></pre>\n<p>`\npublic class Tela_Principal implements Screen {</p>\n<pre><code>private Game game;\nprivate AssetManager manager;\nprivate SpriteBatch batch;\n\nprivate SplashScreen splashScreen;\n\n// private Texture goku;\n\n\npublic Tela_Principal(Game game, AssetManager manager){\n    this.game = game;\n    this.manager = manager;\n\n    splashScreen = new SplashScreen(game,manager);\n\n\n    for (int i=1;i&lt;=5;i++){\n        manager.load(&quot;bater_1/goku&quot;+i+&quot;.png&quot;,Texture.class);\n    }\n\n    batch = new SpriteBatch();\n    // goku = manager.get(&quot;bater_1/goku1.png&quot;,Texture.class);\n\n}\n\n\n@Override\npublic void show() {\n\n}\n\n@Override\npublic void render(float delta) {\n\n\n    Gdx.gl.glClearColor(0,1,0,0);\n    Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n\n    batch.begin();\n    batch.draw(splashScreen.goku, (float) (screenx *0.1), (float) (screeny*0.1));\n    batch.end();\n\n}\n\n@Override\npublic void resize(int width, int height) {\n\n}\n\n@Override\npublic void pause() {\n\n}\n\n@Override\npublic void resume() {\n\n}\n\n@Override\npublic void hide() {\n\n}\n\n@Override\npublic void dispose() {\n\n}\n</code></pre>\n<p>}</p>\n<pre><code>`\n\nI thank you for your help!!\n</code></pre>\n"},{"tags":["java","scala","apache-spark","rdd","hortonworks-data-platform"],"answers":[{"tags":[],"owner":{"account_id":1416173,"reputation":6877,"user_id":1341806,"accept_rate":80,"display_name":"Dan Ciborowski - MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434390150,"creation_date":1434390150,"answer_id":30851592,"question_id":30851244,"body_markdown":"S3N is not a default file format. You need to build your version of Spark with a version of Hadoop that has the additional libraries used for AWS compatibility. Additional info I found here, https://www.hakkalabs.co/articles/making-your-local-hadoop-more-like-aws-elastic-mapreduce ","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>S3N is not a default file format. You need to build your version of Spark with a version of Hadoop that has the additional libraries used for AWS compatibility. Additional info I found here, <a href=\"https://www.hakkalabs.co/articles/making-your-local-hadoop-more-like-aws-elastic-mapreduce\" rel=\"nofollow\">https://www.hakkalabs.co/articles/making-your-local-hadoop-more-like-aws-elastic-mapreduce</a> </p>\n"},{"tags":[],"owner":{"account_id":332025,"reputation":6449,"user_id":657067,"accept_rate":74,"display_name":"Polymerase"},"down_vote_count":1,"up_vote_count":45,"is_accepted":true,"score":44,"last_activity_date":1474280475,"creation_date":1434392670,"answer_id":30852341,"question_id":30851244,"body_markdown":"Confirmed that this is related to the Spark build against Hadoop 2.60. Just installed [Spark 1.4.0 &quot;Pre built for Hadoop 2.4 and later&quot;](https://spark.apache.org/downloads.html) (instead of Hadoop 2.6). And the code now works OK. \r\n\r\n`sc.textFile(&quot;s3n://bucketname/Filename&quot;)` now raises another error:\r\n\r\n    java.lang.IllegalArgumentException: AWS Access Key ID and Secret Access Key must be specified as the username or password (respectively) of a s3n URL, or by setting the fs.s3n.awsAccessKeyId or fs.s3n.awsSecretAccessKey properties (respectively).\r\n\r\nThe code below uses the S3 URL format to show that Spark can read S3 file. Using dev machine (no Hadoop libs).\r\n\r\n    scala&gt; val lyrics = sc.textFile(&quot;s3n://MyAccessKeyID:MySecretKey@zpub01/SafeAndSound_Lyrics.txt&quot;)\r\n    lyrics: org.apache.spark.rdd.RDD[String] = MapPartitionsRDD[3] at textFile at &lt;console&gt;:21\r\n    \r\n    scala&gt; lyrics.count\r\n    res1: Long = 9\r\n\r\n**Even Better**: the code above with AWS credentials inline in the S3N URI will break if the AWS Secret Key has a forward &quot;/&quot;. Configuring AWS Credentials in SparkContext will fix it. Code works whether the S3 file is public or private.\r\n\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.awsAccessKeyId&quot;, &quot;BLABLA&quot;)\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.awsSecretAccessKey&quot;, &quot;....&quot;) // can contain &quot;/&quot;\r\n    val myRDD = sc.textFile(&quot;s3n://myBucket/MyFilePattern&quot;)\r\n    myRDD.count\r\n","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>Confirmed that this is related to the Spark build against Hadoop 2.60. Just installed <a href=\"https://spark.apache.org/downloads.html\" rel=\"noreferrer\">Spark 1.4.0 \"Pre built for Hadoop 2.4 and later\"</a> (instead of Hadoop 2.6). And the code now works OK. </p>\n\n<p><code>sc.textFile(\"s3n://bucketname/Filename\")</code> now raises another error:</p>\n\n<pre><code>java.lang.IllegalArgumentException: AWS Access Key ID and Secret Access Key must be specified as the username or password (respectively) of a s3n URL, or by setting the fs.s3n.awsAccessKeyId or fs.s3n.awsSecretAccessKey properties (respectively).\n</code></pre>\n\n<p>The code below uses the S3 URL format to show that Spark can read S3 file. Using dev machine (no Hadoop libs).</p>\n\n<pre><code>scala&gt; val lyrics = sc.textFile(\"s3n://MyAccessKeyID:MySecretKey@zpub01/SafeAndSound_Lyrics.txt\")\nlyrics: org.apache.spark.rdd.RDD[String] = MapPartitionsRDD[3] at textFile at &lt;console&gt;:21\n\nscala&gt; lyrics.count\nres1: Long = 9\n</code></pre>\n\n<p><strong>Even Better</strong>: the code above with AWS credentials inline in the S3N URI will break if the AWS Secret Key has a forward \"/\". Configuring AWS Credentials in SparkContext will fix it. Code works whether the S3 file is public or private.</p>\n\n<pre><code>sc.hadoopConfiguration.set(\"fs.s3n.awsAccessKeyId\", \"BLABLA\")\nsc.hadoopConfiguration.set(\"fs.s3n.awsSecretAccessKey\", \"....\") // can contain \"/\"\nval myRDD = sc.textFile(\"s3n://myBucket/MyFilePattern\")\nmyRDD.count\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4690392,"reputation":139,"user_id":3796657,"display_name":"kbt"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1474111309,"creation_date":1435510129,"answer_id":31102277,"question_id":30851244,"body_markdown":"This is a sample spark code which can read the files present on s3\r\n\r\n    val hadoopConf = sparkContext.hadoopConfiguration\r\n    hadoopConf.set(&quot;fs.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;)\r\n    hadoopConf.set(&quot;fs.s3.awsAccessKeyId&quot;, s3Key)\r\n    hadoopConf.set(&quot;fs.s3.awsSecretAccessKey&quot;, s3Secret)\r\n    var jobInput = sparkContext.textFile(&quot;s3://&quot; + s3_location)","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>This is a sample spark code which can read the files present on s3</p>\n\n<pre><code>val hadoopConf = sparkContext.hadoopConfiguration\nhadoopConf.set(\"fs.s3.impl\", \"org.apache.hadoop.fs.s3native.NativeS3FileSystem\")\nhadoopConf.set(\"fs.s3.awsAccessKeyId\", s3Key)\nhadoopConf.set(\"fs.s3.awsSecretAccessKey\", s3Secret)\nvar jobInput = sparkContext.textFile(\"s3://\" + s3_location)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2237054,"reputation":746,"user_id":1973129,"accept_rate":67,"display_name":"pkozlov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437248101,"creation_date":1437248101,"answer_id":31494840,"question_id":30851244,"body_markdown":"You probably have to use s3a:/ scheme instead of s3:/ or s3n:/\r\nHowever, it is not working out of the box (for me) for the spark shell. I see the following stacktrace:\r\n\r\n    java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\r\n            at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2074)\r\n            at org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2578)\r\n            at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2591)\r\n            at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:91)\r\n            at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2630)\r\n            at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2612)\r\n            at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:370)\r\n            at org.apache.hadoop.fs.Path.getFileSystem(Path.java:296)\r\n            at org.apache.hadoop.mapred.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:256)\r\n            at org.apache.hadoop.mapred.FileInputFormat.listStatus(FileInputFormat.java:228)\r\n            at org.apache.hadoop.mapred.FileInputFormat.getSplits(FileInputFormat.java:313)\r\n            at org.apache.spark.rdd.HadoopRDD.getPartitions(HadoopRDD.scala:207)\r\n            at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:219)\r\n            at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:217)\r\n            at scala.Option.getOrElse(Option.scala:120)\r\n            at org.apache.spark.rdd.RDD.partitions(RDD.scala:217)\r\n            at org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:32)\r\n            at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:219)\r\n            at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:217)\r\n            at scala.Option.getOrElse(Option.scala:120)\r\n            at org.apache.spark.rdd.RDD.partitions(RDD.scala:217)\r\n            at org.apache.spark.SparkContext.runJob(SparkContext.scala:1781)\r\n            at org.apache.spark.rdd.RDD.count(RDD.scala:1099)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:24)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:29)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:31)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:33)\r\n            at $iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:35)\r\n            at $iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:37)\r\n            at $iwC$$iwC.&lt;init&gt;(&lt;console&gt;:39)\r\n            at $iwC.&lt;init&gt;(&lt;console&gt;:41)\r\n            at &lt;init&gt;(&lt;console&gt;:43)\r\n            at .&lt;init&gt;(&lt;console&gt;:47)\r\n            at .&lt;clinit&gt;(&lt;console&gt;)\r\n            at .&lt;init&gt;(&lt;console&gt;:7)\r\n            at .&lt;clinit&gt;(&lt;console&gt;)\r\n            at $print(&lt;console&gt;)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:497)\r\n            at org.apache.spark.repl.SparkIMain$ReadEvalPrint.call(SparkIMain.scala:1065)\r\n            at org.apache.spark.repl.SparkIMain$Request.loadAndRun(SparkIMain.scala:1338)\r\n            at org.apache.spark.repl.SparkIMain.loadAndRunReq$1(SparkIMain.scala:840)\r\n            at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:871)\r\n            at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:819)\r\n            at org.apache.spark.repl.SparkILoop.reallyInterpret$1(SparkILoop.scala:857)\r\n            at org.apache.spark.repl.SparkILoop.interpretStartingWith(SparkILoop.scala:902)\r\n            at org.apache.spark.repl.SparkILoop.command(SparkILoop.scala:814)\r\n            at org.apache.spark.repl.SparkILoop.processLine$1(SparkILoop.scala:657)\r\n            at org.apache.spark.repl.SparkILoop.innerLoop$1(SparkILoop.scala:665)\r\n            at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$loop(SparkILoop.scala:670)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply$mcZ$sp(SparkILoop.scala:997)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\r\n            at scala.tools.nsc.util.ScalaClassLoader$.savingContextLoader(ScalaClassLoader.scala:135)\r\n            at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$process(SparkILoop.scala:945)\r\n            at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:1059)\r\n            at org.apache.spark.repl.Main$.main(Main.scala:31)\r\n            at org.apache.spark.repl.Main.main(Main.scala)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:497)\r\n            at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:665)\r\n            at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:170)\r\n            at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:193)\r\n            at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:112)\r\n            at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n    Caused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\r\n            at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1980)\r\n            at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2072)\r\n            ... 68 more\r\n\r\nWhat I think - you have to manually add the hadoop-aws dependency manually http://search.maven.org/#artifactdetails|org.apache.hadoop|hadoop-aws|2.7.1|jar But I have no idea how to add it to spark-shell properly.\r\n\r\n","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>You probably have to use s3a:/ scheme instead of s3:/ or s3n:/\nHowever, it is not working out of the box (for me) for the spark shell. I see the following stacktrace:</p>\n\n<pre><code>java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2074)\n        at org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2578)\n        at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2591)\n        at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:91)\n        at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2630)\n        at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2612)\n        at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:370)\n        at org.apache.hadoop.fs.Path.getFileSystem(Path.java:296)\n        at org.apache.hadoop.mapred.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:256)\n        at org.apache.hadoop.mapred.FileInputFormat.listStatus(FileInputFormat.java:228)\n        at org.apache.hadoop.mapred.FileInputFormat.getSplits(FileInputFormat.java:313)\n        at org.apache.spark.rdd.HadoopRDD.getPartitions(HadoopRDD.scala:207)\n        at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:219)\n        at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:217)\n        at scala.Option.getOrElse(Option.scala:120)\n        at org.apache.spark.rdd.RDD.partitions(RDD.scala:217)\n        at org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:32)\n        at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:219)\n        at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:217)\n        at scala.Option.getOrElse(Option.scala:120)\n        at org.apache.spark.rdd.RDD.partitions(RDD.scala:217)\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:1781)\n        at org.apache.spark.rdd.RDD.count(RDD.scala:1099)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:24)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:29)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:31)\n        at $iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:33)\n        at $iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:35)\n        at $iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:37)\n        at $iwC$$iwC.&lt;init&gt;(&lt;console&gt;:39)\n        at $iwC.&lt;init&gt;(&lt;console&gt;:41)\n        at &lt;init&gt;(&lt;console&gt;:43)\n        at .&lt;init&gt;(&lt;console&gt;:47)\n        at .&lt;clinit&gt;(&lt;console&gt;)\n        at .&lt;init&gt;(&lt;console&gt;:7)\n        at .&lt;clinit&gt;(&lt;console&gt;)\n        at $print(&lt;console&gt;)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:497)\n        at org.apache.spark.repl.SparkIMain$ReadEvalPrint.call(SparkIMain.scala:1065)\n        at org.apache.spark.repl.SparkIMain$Request.loadAndRun(SparkIMain.scala:1338)\n        at org.apache.spark.repl.SparkIMain.loadAndRunReq$1(SparkIMain.scala:840)\n        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:871)\n        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:819)\n        at org.apache.spark.repl.SparkILoop.reallyInterpret$1(SparkILoop.scala:857)\n        at org.apache.spark.repl.SparkILoop.interpretStartingWith(SparkILoop.scala:902)\n        at org.apache.spark.repl.SparkILoop.command(SparkILoop.scala:814)\n        at org.apache.spark.repl.SparkILoop.processLine$1(SparkILoop.scala:657)\n        at org.apache.spark.repl.SparkILoop.innerLoop$1(SparkILoop.scala:665)\n        at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$loop(SparkILoop.scala:670)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply$mcZ$sp(SparkILoop.scala:997)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\n        at scala.tools.nsc.util.ScalaClassLoader$.savingContextLoader(ScalaClassLoader.scala:135)\n        at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$process(SparkILoop.scala:945)\n        at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:1059)\n        at org.apache.spark.repl.Main$.main(Main.scala:31)\n        at org.apache.spark.repl.Main.main(Main.scala)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:497)\n        at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:665)\n        at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:170)\n        at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:193)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:112)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\n        at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1980)\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2072)\n        ... 68 more\n</code></pre>\n\n<p>What I think - you have to manually add the hadoop-aws dependency manually <a href=\"http://search.maven.org/#artifactdetails|org.apache.hadoop|hadoop-aws|2.7.1|jar\" rel=\"nofollow\">http://search.maven.org/#artifactdetails|org.apache.hadoop|hadoop-aws|2.7.1|jar</a> But I have no idea how to add it to spark-shell properly.</p>\n"},{"tags":[],"owner":{"account_id":894614,"reputation":56,"user_id":932170,"display_name":"Uster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439457001,"creation_date":1439457001,"answer_id":31983999,"question_id":30851244,"body_markdown":"For Spark 1.4.x &quot;Pre built for Hadoop 2.6 and later&quot;:\r\n\r\nI just copied needed S3, S3native packages from hadoop-aws-2.6.0.jar to\r\nspark-assembly-1.4.1-hadoop2.6.0.jar.\r\n\r\nAfter that I restarted spark cluster and it works.\r\nDo not forget to check owner and mode of the assembly jar.\r\n\r\n","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>For Spark 1.4.x \"Pre built for Hadoop 2.6 and later\":</p>\n\n<p>I just copied needed S3, S3native packages from hadoop-aws-2.6.0.jar to\nspark-assembly-1.4.1-hadoop2.6.0.jar.</p>\n\n<p>After that I restarted spark cluster and it works.\nDo not forget to check owner and mode of the assembly jar.</p>\n"},{"tags":[],"owner":{"account_id":2500122,"reputation":1569,"user_id":2175483,"accept_rate":50,"display_name":"Andrew K"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1448054740,"creation_date":1448054740,"answer_id":33836325,"question_id":30851244,"body_markdown":"You can add the --packages parameter with the appropriate jar: \r\nto your submission: \r\n\r\n    bin/spark-submit --packages com.amazonaws:aws-java-sdk-pom:1.10.34,org.apache.hadoop:hadoop-aws:2.6.0 code.py","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>You can add the --packages parameter with the appropriate jar: \nto your submission: </p>\n\n<pre><code>bin/spark-submit --packages com.amazonaws:aws-java-sdk-pom:1.10.34,org.apache.hadoop:hadoop-aws:2.6.0 code.py\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4863538,"reputation":683,"user_id":3922517,"display_name":"Sergey Bahchissaraitsev"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1470601654,"creation_date":1470571827,"answer_id":38813994,"question_id":30851244,"body_markdown":"Despite that this question has already an accepted answer, I think that the exact details of why this is happening are still missing. So I think there might be a place for one more answer.\r\n\r\n**If you add the required [hadoop-aws](https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws) dependency, your code should work.**\r\n\r\nStarting Hadoop 2.6.0, s3 FS connector has been moved to a separate library called hadoop-aws.\r\nThere is also a Jira for that:\r\n[Move s3-related FS connector code to hadoop-aws](https://issues.apache.org/jira/browse/HADOOP-11074).\r\n\r\nThis means that any version of spark, that has been built against Hadoop 2.6.0 or newer will have to use another external dependency to be able to connect to the S3 File System.&lt;br/&gt;\r\nHere is an sbt example that I have tried and is working as expected using Apache Spark 1.6.2 built against Hadoop 2.6.0:\r\n&gt; libraryDependencies += &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;2.6.0&quot;\r\n\r\nIn my case, I encountered some dependencies issues, so I resolved by adding exclusion:\r\n\r\n&gt; libraryDependencies += &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;2.6.0&quot; exclude(&quot;tomcat&quot;, &quot;jasper-compiler&quot;) excludeAll ExclusionRule(organization = &quot;javax.servlet&quot;)\r\n\r\nOn other related note, I have yet to try it, but that it is recommended to use &quot;s3a&quot; and not &quot;s3n&quot; filesystem starting Hadoop 2.6.0.\r\n&gt;The third generation, s3a: filesystem. Designed to be a switch in replacement for s3n:, this filesystem binding supports larger files and promises higher performance.\r\n ","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>Despite that this question has already an accepted answer, I think that the exact details of why this is happening are still missing. So I think there might be a place for one more answer.</p>\n\n<p><strong>If you add the required <a href=\"https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws\">hadoop-aws</a> dependency, your code should work.</strong></p>\n\n<p>Starting Hadoop 2.6.0, s3 FS connector has been moved to a separate library called hadoop-aws.\nThere is also a Jira for that:\n<a href=\"https://issues.apache.org/jira/browse/HADOOP-11074\">Move s3-related FS connector code to hadoop-aws</a>.</p>\n\n<p>This means that any version of spark, that has been built against Hadoop 2.6.0 or newer will have to use another external dependency to be able to connect to the S3 File System.<br/>\nHere is an sbt example that I have tried and is working as expected using Apache Spark 1.6.2 built against Hadoop 2.6.0:</p>\n\n<blockquote>\n  <p>libraryDependencies += \"org.apache.hadoop\" % \"hadoop-aws\" % \"2.6.0\"</p>\n</blockquote>\n\n<p>In my case, I encountered some dependencies issues, so I resolved by adding exclusion:</p>\n\n<blockquote>\n  <p>libraryDependencies += \"org.apache.hadoop\" % \"hadoop-aws\" % \"2.6.0\" exclude(\"tomcat\", \"jasper-compiler\") excludeAll ExclusionRule(organization = \"javax.servlet\")</p>\n</blockquote>\n\n<p>On other related note, I have yet to try it, but that it is recommended to use \"s3a\" and not \"s3n\" filesystem starting Hadoop 2.6.0.</p>\n\n<blockquote>\n  <p>The third generation, s3a: filesystem. Designed to be a switch in replacement for s3n:, this filesystem binding supports larger files and promises higher performance.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1476974925,"creation_date":1476974925,"answer_id":40157747,"question_id":30851244,"body_markdown":"There is a Spark JIRA, [SPARK-7481](https://issues.apache.org/jira/browse/SPARK-7481), open as of today, oct 20, 2016, to add a spark-cloud module which includes transitive dependencies on everything s3a and azure wasb: need, along with tests. \r\n\r\nAnd a [Spark PR](https://github.com/apache/spark/pull/12004) to match. This is how I get s3a support into my spark builds\r\n\r\nIf you do it by hand, you must get hadoop-aws JAR of the exact version the rest of your hadoop JARS have, and a version of the AWS JARs 100% in sync with what Hadoop aws was compiled against. For Hadoop 2.7.{1, 2, 3, ...}\r\n\r\n    hadoop-aws-2.7.x.jar \r\n    aws-java-sdk-1.7.4.jar\r\n    joda-time-2.9.3.jar\r\n    + jackson-*-2.6.5.jar\r\n\r\nStick all of these into `SPARK_HOME/jars`. Run spark with your credentials set up in Env vars or in `spark-default.conf`\r\n\r\nthe simplest test is can you do a line count of a CSV File\r\n\r\n    val landsatCSV = &quot;s3a://landsat-pds/scene_list.gz&quot;\r\n    val lines = sc.textFile(landsatCSV)\r\n    val lineCount = lines.count()\r\n\r\nGet a number: all is well. Get a stack trace. Bad news.","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>There is a Spark JIRA, <a href=\"https://issues.apache.org/jira/browse/SPARK-7481\" rel=\"noreferrer\">SPARK-7481</a>, open as of today, oct 20, 2016, to add a spark-cloud module which includes transitive dependencies on everything s3a and azure wasb: need, along with tests. </p>\n\n<p>And a <a href=\"https://github.com/apache/spark/pull/12004\" rel=\"noreferrer\">Spark PR</a> to match. This is how I get s3a support into my spark builds</p>\n\n<p>If you do it by hand, you must get hadoop-aws JAR of the exact version the rest of your hadoop JARS have, and a version of the AWS JARs 100% in sync with what Hadoop aws was compiled against. For Hadoop 2.7.{1, 2, 3, ...}</p>\n\n<pre><code>hadoop-aws-2.7.x.jar \naws-java-sdk-1.7.4.jar\njoda-time-2.9.3.jar\n+ jackson-*-2.6.5.jar\n</code></pre>\n\n<p>Stick all of these into <code>SPARK_HOME/jars</code>. Run spark with your credentials set up in Env vars or in <code>spark-default.conf</code></p>\n\n<p>the simplest test is can you do a line count of a CSV File</p>\n\n<pre><code>val landsatCSV = \"s3a://landsat-pds/scene_list.gz\"\nval lines = sc.textFile(landsatCSV)\nval lineCount = lines.count()\n</code></pre>\n\n<p>Get a number: all is well. Get a stack trace. Bad news.</p>\n"},{"tags":[],"owner":{"account_id":291007,"reputation":79,"user_id":592894,"display_name":"user592894"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1482256884,"creation_date":1482256884,"answer_id":41248587,"question_id":30851244,"body_markdown":"Ran into the same problem in Spark 2.0.2. Resolved it by feeding it the jars. Here&#39;s what I ran:\r\n\r\n    $ spark-shell --jars aws-java-sdk-1.7.4.jar,hadoop-aws-2.7.3.jar,jackson-annotations-2.7.0.jar,jackson-core-2.7.0.jar,jackson-databind-2.7.0.jar,joda-time-2.9.6.jar\r\n \r\n    scala&gt; val hadoopConf = sc.hadoopConfiguration\r\n    scala&gt; hadoopConf.set(&quot;fs.s3.impl&quot;,&quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;)\r\n    scala&gt; hadoopConf.set(&quot;fs.s3.awsAccessKeyId&quot;,awsAccessKeyId)\r\n    scala&gt; hadoopConf.set(&quot;fs.s3.awsSecretAccessKey&quot;, awsSecretAccessKey)\r\n    scala&gt; val sqlContext = new org.apache.spark.sql.SQLContext(sc)\r\n    scala&gt; sqlContext.read.parquet(&quot;s3://your-s3-bucket/&quot;)\r\n\r\nobviously, you need to have the jars in the path where you&#39;re running spark-shell from","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>Ran into the same problem in Spark 2.0.2. Resolved it by feeding it the jars. Here's what I ran:</p>\n\n<pre><code>$ spark-shell --jars aws-java-sdk-1.7.4.jar,hadoop-aws-2.7.3.jar,jackson-annotations-2.7.0.jar,jackson-core-2.7.0.jar,jackson-databind-2.7.0.jar,joda-time-2.9.6.jar\n\nscala&gt; val hadoopConf = sc.hadoopConfiguration\nscala&gt; hadoopConf.set(\"fs.s3.impl\",\"org.apache.hadoop.fs.s3native.NativeS3FileSystem\")\nscala&gt; hadoopConf.set(\"fs.s3.awsAccessKeyId\",awsAccessKeyId)\nscala&gt; hadoopConf.set(\"fs.s3.awsSecretAccessKey\", awsSecretAccessKey)\nscala&gt; val sqlContext = new org.apache.spark.sql.SQLContext(sc)\nscala&gt; sqlContext.read.parquet(\"s3://your-s3-bucket/\")\n</code></pre>\n\n<p>obviously, you need to have the jars in the path where you're running spark-shell from</p>\n"},{"tags":[],"owner":{"account_id":7294384,"reputation":21,"user_id":5559773,"display_name":"Gaj"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1490799506,"creation_date":1490799506,"answer_id":43097185,"question_id":30851244,"body_markdown":"USe s3a instead of s3n. I had similar issue on a Hadoop job. After switching from s3n to s3a it worked.\r\n\r\ne.g. \r\n\r\n  s3a://myBucket/myFile1.log","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>USe s3a instead of s3n. I had similar issue on a Hadoop job. After switching from s3n to s3a it worked.</p>\n\n<p>e.g. </p>\n\n<p>s3a://myBucket/myFile1.log</p>\n"},{"tags":[],"owner":{"account_id":3174580,"reputation":80,"user_id":5426091,"display_name":"PDerp15"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503416394,"creation_date":1503416394,"answer_id":45821943,"question_id":30851244,"body_markdown":"I was facing the same issue. It worked fine after setting the value for fs.s3n.impl and adding hadoop-aws dependency. \r\n\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.awsAccessKeyId&quot;, awsAccessKeyId)\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.awsSecretAccessKey&quot;, awsSecretAccessKey)\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.impl&quot;, &quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;)","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>I was facing the same issue. It worked fine after setting the value for fs.s3n.impl and adding hadoop-aws dependency. </p>\n\n<pre><code>sc.hadoopConfiguration.set(\"fs.s3n.awsAccessKeyId\", awsAccessKeyId)\nsc.hadoopConfiguration.set(\"fs.s3n.awsSecretAccessKey\", awsSecretAccessKey)\nsc.hadoopConfiguration.set(\"fs.s3n.impl\", \"org.apache.hadoop.fs.s3native.NativeS3FileSystem\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1105393,"reputation":1600,"user_id":1096899,"display_name":"James D"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1525965279,"creation_date":1525965279,"answer_id":50276200,"question_id":30851244,"body_markdown":"I had to copy the jar files from a hadoop download into the `$SPARK_HOME/jars` directory. Using the `--jars` flag or the `--packages` flag for spark-submit didn&#39;t work.\r\n\r\n\r\n\r\nDetails:\r\n\r\n * Spark 2.3.0\r\n * Hadoop downloaded was 2.7.6\r\n * Two jar files copied were from `(hadoop dir)/share/hadoop/tools/lib/`\r\n    * aws-java-sdk-1.7.4.jar\r\n    * hadoop-aws-2.7.6.jar\r\n","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>I had to copy the jar files from a hadoop download into the <code>$SPARK_HOME/jars</code> directory. Using the <code>--jars</code> flag or the <code>--packages</code> flag for spark-submit didn't work.</p>\n\n<p>Details:</p>\n\n<ul>\n<li>Spark 2.3.0</li>\n<li>Hadoop downloaded was 2.7.6</li>\n<li>Two jar files copied were from <code>(hadoop dir)/share/hadoop/tools/lib/</code>\n\n<ul>\n<li>aws-java-sdk-1.7.4.jar</li>\n<li>hadoop-aws-2.7.6.jar</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2181997,"reputation":1082,"user_id":1931239,"accept_rate":67,"display_name":"Abdul Mannan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575482485,"creation_date":1573731580,"answer_id":58855941,"question_id":30851244,"body_markdown":"1. Download the `hadoop-aws` jar from [maven repository][1] matching your hadoop version.\r\n2. Copy the jar to `$SPARK_HOME/jars` location.\r\n\r\nNow in your Pyspark script, setup AWS Access Key &amp; Secret Access Key. \r\n\r\n    spark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3.awsAccessKeyId&quot;, &quot;ACCESS_KEY&quot;)\r\n    spark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3.awsSecretAccessKey&quot;, &quot;YOUR_SECRET_ACCESSS_KEY&quot;)\r\n\r\n    // where spark is SparkSession instance\r\n\r\n\r\nFor Spark scala:\r\n\r\n    spark.sparkContext.hadoopConfiguration.set(&quot;fs.s3.awsAccessKeyId&quot;, &quot;ACCESS_KEY&quot;)\r\n    spark.sparkContext.hadoopConfiguration.set(&quot;fs.s3.awsSecretAccessKey&quot;, &quot;YOUR_SECRET_ACCESSS_KEY&quot;)\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<ol>\n<li>Download the <code>hadoop-aws</code> jar from <a href=\"https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws\" rel=\"nofollow noreferrer\">maven repository</a> matching your hadoop version.</li>\n<li>Copy the jar to <code>$SPARK_HOME/jars</code> location.</li>\n</ol>\n\n<p>Now in your Pyspark script, setup AWS Access Key &amp; Secret Access Key. </p>\n\n<pre><code>spark.sparkContext._jsc.hadoopConfiguration().set(\"fs.s3.awsAccessKeyId\", \"ACCESS_KEY\")\nspark.sparkContext._jsc.hadoopConfiguration().set(\"fs.s3.awsSecretAccessKey\", \"YOUR_SECRET_ACCESSS_KEY\")\n\n// where spark is SparkSession instance\n</code></pre>\n\n<p>For Spark scala:</p>\n\n<pre><code>spark.sparkContext.hadoopConfiguration.set(\"fs.s3.awsAccessKeyId\", \"ACCESS_KEY\")\nspark.sparkContext.hadoopConfiguration.set(\"fs.s3.awsSecretAccessKey\", \"YOUR_SECRET_ACCESSS_KEY\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13129492,"reputation":198,"user_id":9484396,"display_name":"Rony Armon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670599430,"creation_date":1670599430,"answer_id":74745072,"question_id":30851244,"body_markdown":"I was able to to read my S3 parquet files (Spark 3.3.1, Hadoop 3) using the configuration proposed [here][1]:\r\n\r\n    spark = SparkSession.builder.appName(&quot;Test_Parquet&quot;).master(&quot;local[*]&quot;)\\\r\n    .config(&quot;spark.hadoop.fs.s3a.impl&quot;,    &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\\\r\n    .config(&quot;spark.jars.packages&quot;,\r\n            &quot;org.apache.hadoop:hadoop-aws:3.2.2,&quot;\r\n            &quot;com.amazonaws:aws-java-sdk-bundle:1.12.180&quot;).getOrCreate()\r\n    spark._jsc.hadoopConfiguration().set(&quot;com.amazonaws.services.s3.enableV4&quot;,  &quot;true&quot;)\r\n    spark._jsc.hadoopConfiguration().set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\r\n    spark._jsc.hadoopConfiguration().set(&quot;fs.s3a.aws.credentials.provider&quot;,                              &quot;com.amazonaws.auth.InstanceProfileCredentialsProvider,com.amazonaws.auth.DefaultAWSCredentialsProviderChain&quot;)\r\n    spark._jsc.hadoopConfiguration().set(&quot;fs.AbstractFileSystem.s3a.impl&quot;,\\\r\n                                     &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\r\n    df = spark.read.parquet(f&quot;s3a://{bucket_name}/{file_name}&quot;)\r\n\r\n\r\n\r\n  [1]: https://mageswaran1989.medium.com/2022-no-filesystem-for-scheme-s3-cbd72c99a50c","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>I was able to to read my S3 parquet files (Spark 3.3.1, Hadoop 3) using the configuration proposed <a href=\"https://mageswaran1989.medium.com/2022-no-filesystem-for-scheme-s3-cbd72c99a50c\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>spark = SparkSession.builder.appName(&quot;Test_Parquet&quot;).master(&quot;local[*]&quot;)\\\n.config(&quot;spark.hadoop.fs.s3a.impl&quot;,    &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\\\n.config(&quot;spark.jars.packages&quot;,\n        &quot;org.apache.hadoop:hadoop-aws:3.2.2,&quot;\n        &quot;com.amazonaws:aws-java-sdk-bundle:1.12.180&quot;).getOrCreate()\nspark._jsc.hadoopConfiguration().set(&quot;com.amazonaws.services.s3.enableV4&quot;,  &quot;true&quot;)\nspark._jsc.hadoopConfiguration().set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\nspark._jsc.hadoopConfiguration().set(&quot;fs.s3a.aws.credentials.provider&quot;,                              &quot;com.amazonaws.auth.InstanceProfileCredentialsProvider,com.amazonaws.auth.DefaultAWSCredentialsProviderChain&quot;)\nspark._jsc.hadoopConfiguration().set(&quot;fs.AbstractFileSystem.s3a.impl&quot;,\\\n                                 &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\ndf = spark.read.parquet(f&quot;s3a://{bucket_name}/{file_name}&quot;)\n</code></pre>\n"}],"owner":{"account_id":332025,"reputation":6449,"user_id":657067,"accept_rate":74,"display_name":"Polymerase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115998,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":30852341,"answer_count":14,"score":52,"last_activity_date":1670599430,"creation_date":1434389002,"question_id":30851244,"body_markdown":"Trying to read a file located in S3 using spark-shell:\r\n\r\n    scala&gt; val myRdd = sc.textFile(&quot;s3n://myBucket/myFile1.log&quot;)\r\n    lyrics: org.apache.spark.rdd.RDD[String] = s3n://myBucket/myFile1.log MappedRDD[55] at textFile at &lt;console&gt;:12\r\n    \r\n    scala&gt; myRdd.count\r\n    java.io.IOException: No FileSystem for scheme: s3n\r\n    \tat org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2607)\r\n    \tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2614)\r\n    \tat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:91)\r\n        ... etc ...\r\n\r\nThe **IOException: No FileSystem for scheme: s3n** error occurred with:\r\n\r\n- Spark 1.31 or 1.40 on dev machine (no Hadoop libs)\r\n- Running from the [Hortonworks Sandbox HDP v2.2.4](http://hortonworks.com/hdp/downloads/) (Hadoop 2.60) which integrates Spark 1.2.1 out of the box\r\n- Using s3:// or s3n:// scheme\r\n\r\nWhat is the cause of this error? Missing dependency, Missing configuration, or mis-use of `sc.textFile()`?\r\n\r\nOr may be this is due to a bug that affects Spark build specific to Hadoop 2.60 as this [post](http://apache-spark-developers-list.1001551.n3.nabble.com/Spark-1-3-1-Hadoop-2-6-package-has-broken-S3-access-td12107.html) seems to suggest. I am going to try Spark for Hadoop 2.40 to see if this solves the issue.","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>Trying to read a file located in S3 using spark-shell:</p>\n\n<pre><code>scala&gt; val myRdd = sc.textFile(\"s3n://myBucket/myFile1.log\")\nlyrics: org.apache.spark.rdd.RDD[String] = s3n://myBucket/myFile1.log MappedRDD[55] at textFile at &lt;console&gt;:12\n\nscala&gt; myRdd.count\njava.io.IOException: No FileSystem for scheme: s3n\n    at org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2607)\n    at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2614)\n    at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:91)\n    ... etc ...\n</code></pre>\n\n<p>The <strong>IOException: No FileSystem for scheme: s3n</strong> error occurred with:</p>\n\n<ul>\n<li>Spark 1.31 or 1.40 on dev machine (no Hadoop libs)</li>\n<li>Running from the <a href=\"http://hortonworks.com/hdp/downloads/\">Hortonworks Sandbox HDP v2.2.4</a> (Hadoop 2.60) which integrates Spark 1.2.1 out of the box</li>\n<li>Using s3:// or s3n:// scheme</li>\n</ul>\n\n<p>What is the cause of this error? Missing dependency, Missing configuration, or mis-use of <code>sc.textFile()</code>?</p>\n\n<p>Or may be this is due to a bug that affects Spark build specific to Hadoop 2.60 as this <a href=\"http://apache-spark-developers-list.1001551.n3.nabble.com/Spark-1-3-1-Hadoop-2-6-package-has-broken-S3-access-td12107.html\">post</a> seems to suggest. I am going to try Spark for Hadoop 2.40 to see if this solves the issue.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670575109,"post_id":74739533,"comment_id":131910309,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **600** (six hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>600</b> (six hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."},{"owner":{"account_id":18453405,"reputation":13,"user_id":13442885,"display_name":"Lou"},"score":0,"creation_date":1670577987,"post_id":74739533,"comment_id":131911099,"body_markdown":"Yes, you are right i deleted useless parts thank you for the tip !","body":"Yes, you are right i deleted useless parts thank you for the tip !"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670578353,"post_id":74739533,"comment_id":131911225,"body_markdown":"Are you sure the user is authenticated when you call `.getUid()`? Maybe this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help.","body":"Are you sure the user is authenticated when you call <code>.getUid()</code>? Maybe this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help."},{"owner":{"account_id":18453405,"reputation":13,"user_id":13442885,"display_name":"Lou"},"score":0,"creation_date":1670598122,"post_id":74739533,"comment_id":131917402,"body_markdown":"When i&#39;m in my MainActivity i can perfectly access to FirebaseAuth.getInstance().getCurrentUser() but when i&#39;m in a fragment or another activity it seems that user isn&#39;t authenticated and i can not access to getCurrentUser() anymore.","body":"When i&#39;m in my MainActivity i can perfectly access to FirebaseAuth.getInstance().getCurrentUser() but when i&#39;m in a fragment or another activity it seems that user isn&#39;t authenticated and i can not access to getCurrentUser() anymore."}],"answers":[{"tags":[],"owner":{"account_id":18453405,"reputation":13,"user_id":13442885,"display_name":"Lou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670599415,"creation_date":1670599415,"answer_id":74745067,"question_id":74739533,"body_markdown":"I found out why it doesn&#39;t work : \r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n    \r\n        // FIREBASE LOGOUT\r\n        FirebaseAuth.getInstance().signOut();\r\n        // GOOGLE LOGOUT\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.\r\n                Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).\r\n                build();\r\n    \r\n        GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(ConnexionActivity.this, gso);\r\n        googleSignInClient.signOut();\r\n        // FACBOOK LOGOUT\r\n        LoginManager.getInstance().logOut();\r\n        super.onDestroy();\r\n    }\r\nIn my ConnectionActivity\r\n\r\nThis disconnected my FirebaseUser when i destroyed ConnexionActivity after each connexion of the user. \r\n\r\nI switch it to my MainActivity which isn&#39;t destroyed until the app crash or the user forces it to close.","title":"Can&#39;t get firebaseAuth.getCurrentUser() from a second activity (or fragments)","body":"<p>I found out why it doesn't work :</p>\n<pre><code>@Override\nprotected void onDestroy() {\n\n    // FIREBASE LOGOUT\n    FirebaseAuth.getInstance().signOut();\n    // GOOGLE LOGOUT\n    GoogleSignInOptions gso = new GoogleSignInOptions.\n            Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).\n            build();\n\n    GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(ConnexionActivity.this, gso);\n    googleSignInClient.signOut();\n    // FACBOOK LOGOUT\n    LoginManager.getInstance().logOut();\n    super.onDestroy();\n}\n</code></pre>\n<p>In my ConnectionActivity</p>\n<p>This disconnected my FirebaseUser when i destroyed ConnexionActivity after each connexion of the user.</p>\n<p>I switch it to my MainActivity which isn't destroyed until the app crash or the user forces it to close.</p>\n"}],"owner":{"account_id":18453405,"reputation":13,"user_id":13442885,"display_name":"Lou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745067,"answer_count":1,"score":0,"last_activity_date":1670599415,"creation_date":1670566633,"question_id":74739533,"body_markdown":"I need to get \r\n```\r\nFirebaseAuth.getInstance().getCurrentUser()\r\n```\r\nfrom a second activity &quot;DetailActivity&quot; but i&#39;ve got a Null pointer :\r\nAttempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n\r\nI can access it from the &quot;MainActivity&quot; but not from my bottomnavigationview fragments nor from the second activity &quot;DetailActivity&quot;\r\n\r\nhere is my code : \r\n\r\nConnexion activity\r\n\r\n\r\n\r\n```\r\npublic class ConnexionActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityConnexionBinding.inflate(getLayoutInflater());\r\n        setContentView(mBinding.getRoot());\r\n        mAuth = FirebaseAuth.getInstance();\r\n        setGoogleSignIn();\r\n    }\r\n\r\n    //////////////////////GOOGLE LOGIN\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        // GOOGLE\r\n        if (requestCode == RC_SIGN_IN) {\r\n            Task&lt;GoogleSignInAccount&gt; mAccountTask = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                GoogleSignInAccount account = mAccountTask.getResult(ApiException.class);\r\n                FirebaseAuthWithGoogleAccount(account);\r\n            } catch (ApiException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        } else {\r\n            Log.d(TAG, &quot;OnClick: ERROR ACTIVITY RESULT NOT OK&quot;);\r\n\r\n        }\r\n        // FACEBOOK\r\n        mCallbackManager.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n\r\n    private void FirebaseAuthWithGoogleAccount(GoogleSignInAccount account) {\r\n        Log.d(TAG, &quot;firebaseauthwithgoogleaccount: begin firebase auth with google account&quot;);\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);\r\n        mAuth.signInWithCredential(credential)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onSuccess(AuthResult authResult) {\r\n                        Log.d(TAG, &quot;OnSuccess: Logged in&quot;);\r\n                        // Get logged in user\r\n                        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n                        // Get user info\r\n                        String uid = firebaseUser.getUid();\r\n                        String email = firebaseUser.getEmail();\r\n                        Log.d(TAG, &quot;OnSuccess: Email&quot; + email);\r\n                        Log.d(TAG, &quot;OnSuccess: uid&quot; + uid);\r\n                        // Check if user is new or existing\r\n                        if (Objects.requireNonNull(authResult.getAdditionalUserInfo()).isNewUser()) {\r\n                            // User is new account created\r\n                            Log.d(TAG, &quot;OnSuccess: Account created...\\n&quot; + email);\r\n                            Toast.makeText(ConnexionActivity.this, &quot;Account created...\\n&quot; + email, Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            // Existing user logged in\r\n                            Log.d(TAG, &quot;OnSuccess: Existing user... \\n&quot; + email);\r\n                            Toast.makeText(ConnexionActivity.this, &quot;Existing user...\\n&quot; + email, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        // Start MainActivity\r\n                        startActivity(new Intent(ConnexionActivity.this, MainActivity.class));\r\n                        finish();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.d(TAG, &quot;OnFailure: Loggin failed&quot; + e.getMessage());\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void setGoogleSignIn() {\r\n        // Configure google sign in\r\n        GoogleSignInOptions mGoogleSignInOption = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.requestidtoken))\r\n                .requestEmail()\r\n                .build();\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this, mGoogleSignInOption);\r\n\r\n        // Init firebase auth\r\n        mAuth = FirebaseAuth.getInstance();\r\n    }\r\n    //////////////////////GOOGLE END\r\n\r\n    FirebaseAuth.AuthStateListener mAuthListener = new FirebaseAuth.AuthStateListener() {\r\n        @Override\r\n        public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n            FirebaseUser user = firebaseAuth.getCurrentUser();\r\n            if (user != null) {\r\n                //Start main activity\r\n                startActivity(new Intent(ConnexionActivity.this, MainActivity.class));\r\n                Toast.makeText(ConnexionActivity.this,\r\n                        &quot;You successfully signed-in &quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        }\r\n    };\r\n//    @Override\r\n//    protected void onDestroy() {\r\n//\r\n//        // FIREBASE LOGOUT\r\n//        FirebaseAuth.getInstance().signOut();\r\n//        // GOOGLE LOGOUT\r\n//        GoogleSignInOptions gso = new GoogleSignInOptions.\r\n//                Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).\r\n//                build();\r\n//\r\n//        GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(ConnexionActivity.this, gso);\r\n//        googleSignInClient.signOut();\r\n//        // FACBOOK LOGOUT\r\n//        LoginManager.getInstance().logOut();\r\n//        super.onDestroy();\r\n//    }\r\n\r\n```\r\n\r\nMainActivity :\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        View view = mBinding.getRoot();\r\n        setContentView(view);\r\n        mAuth = FirebaseAuth.getInstance();\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        // Check if user is signed in (non-null) and update UI accordingly.\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        if(currentUser == null){\r\n            reload();\r\n        }\r\n    }\r\n\r\n    // restart connexion activity if the user isn&#39;t connected\r\n    private void reload(){\r\n            startActivity(new Intent(this, ConnexionActivity.class));\r\n            finish();\r\n    }\r\n\r\n    private void setBottomNavigationView(){\r\n        mBinding.bottomNavigation.setOnNavigationItemSelectedListener(navListener);\r\n        getSupportFragmentManager().beginTransaction().replace(mBinding.fragmentContainer.getId(), new MapFragment()).commit();\r\n    }\r\n\r\n    private final BottomNavigationView.OnNavigationItemSelectedListener navListener = item -&gt; {\r\n\r\n        Fragment selectedFragment = null;\r\n        int itemId = item.getItemId();\r\n        if (itemId == R.id.map_view) {\r\n            selectedFragment = new MapFragment();\r\n        } else if (itemId == R.id.list_view) {\r\n            selectedFragment = new ListViewFragment();\r\n        } else if (itemId == R.id.workmates) {\r\n                selectedFragment = new WorkmatesFragment();\r\n        }\r\n        if (selectedFragment != null) {\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, selectedFragment).commit();\r\n        }\r\n        return true;\r\n    };\r\n\r\n```\r\n\r\nThe fragment adapter where i launch the DetailActivity :\r\n\r\n\r\n```\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n        final Result restaurant = mRestaurants.get(position);\r\n        ((ListViewViewHolder) holder).itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Context context = view.getContext();\r\n                Intent intent = new Intent(context, DetailActivity.class);\r\n                intent.putExtra(&quot;idrestaurant&quot;, restaurant.getPlaceId());\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nDetailActivty : \r\n\r\n\r\n```\r\npublic class DetailActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityDetailBinding.inflate(getLayoutInflater());\r\n        View view = mBinding.getRoot();\r\n        setContentView(view);\r\n    }\r\n    private void setClickChosenRestaurantButton(){\r\n        mBinding.fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                    if (FirebaseAuth.getInstance().getCurrentUser() != null) {\r\n                        Map&lt;String, Object&gt; chosenRestaurant = new HashMap&lt;&gt;();\r\n                        chosenRestaurant.put(&quot;restaurantChosen&quot;, getRestaurantId());\r\n                        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n                        DocumentReference docRef = UserCallData.getAllUsers().getFirestore().collection(&quot;users&quot;).document(firebaseUser.getUid());\r\n                        docRef.set(chosenRestaurant, SetOptions.merge()).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                Log.d(&quot;123&quot;, &quot;DocumentSnapshot successfully written!&quot;);\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Log.d(&quot;123&quot;, &quot;Error writing document&quot;, e);\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        Log.d(&quot;123&quot;, &quot;pb with firebaseauth!&quot;);\r\n                    }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nD/123: pb with firebaseauth!\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\nTo be honest i do not understand in detail the behavior of the Firebase auth system that&#39;s why i&#39;m stuck here.\r\n\r\nAny idea? ","title":"Can&#39;t get firebaseAuth.getCurrentUser() from a second activity (or fragments)","body":"<p>I need to get</p>\n<pre><code>FirebaseAuth.getInstance().getCurrentUser()\n</code></pre>\n<p>from a second activity &quot;DetailActivity&quot; but i've got a Null pointer :\nAttempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference</p>\n<p>I can access it from the &quot;MainActivity&quot; but not from my bottomnavigationview fragments nor from the second activity &quot;DetailActivity&quot;</p>\n<p>here is my code :</p>\n<p>Connexion activity</p>\n<pre><code>public class ConnexionActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mBinding = ActivityConnexionBinding.inflate(getLayoutInflater());\n        setContentView(mBinding.getRoot());\n        mAuth = FirebaseAuth.getInstance();\n        setGoogleSignIn();\n    }\n\n    //////////////////////GOOGLE LOGIN\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        // GOOGLE\n        if (requestCode == RC_SIGN_IN) {\n            Task&lt;GoogleSignInAccount&gt; mAccountTask = GoogleSignIn.getSignedInAccountFromIntent(data);\n            try {\n                GoogleSignInAccount account = mAccountTask.getResult(ApiException.class);\n                FirebaseAuthWithGoogleAccount(account);\n            } catch (ApiException e) {\n                e.printStackTrace();\n            }\n\n        } else {\n            Log.d(TAG, &quot;OnClick: ERROR ACTIVITY RESULT NOT OK&quot;);\n\n        }\n        // FACEBOOK\n        mCallbackManager.onActivityResult(requestCode, resultCode, data);\n    }\n\n\n    private void FirebaseAuthWithGoogleAccount(GoogleSignInAccount account) {\n        Log.d(TAG, &quot;firebaseauthwithgoogleaccount: begin firebase auth with google account&quot;);\n        AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);\n        mAuth.signInWithCredential(credential)\n                .addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onSuccess(AuthResult authResult) {\n                        Log.d(TAG, &quot;OnSuccess: Logged in&quot;);\n                        // Get logged in user\n                        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n                        // Get user info\n                        String uid = firebaseUser.getUid();\n                        String email = firebaseUser.getEmail();\n                        Log.d(TAG, &quot;OnSuccess: Email&quot; + email);\n                        Log.d(TAG, &quot;OnSuccess: uid&quot; + uid);\n                        // Check if user is new or existing\n                        if (Objects.requireNonNull(authResult.getAdditionalUserInfo()).isNewUser()) {\n                            // User is new account created\n                            Log.d(TAG, &quot;OnSuccess: Account created...\\n&quot; + email);\n                            Toast.makeText(ConnexionActivity.this, &quot;Account created...\\n&quot; + email, Toast.LENGTH_SHORT).show();\n                        } else {\n                            // Existing user logged in\n                            Log.d(TAG, &quot;OnSuccess: Existing user... \\n&quot; + email);\n                            Toast.makeText(ConnexionActivity.this, &quot;Existing user...\\n&quot; + email, Toast.LENGTH_SHORT).show();\n                        }\n\n                        // Start MainActivity\n                        startActivity(new Intent(ConnexionActivity.this, MainActivity.class));\n                        finish();\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Log.d(TAG, &quot;OnFailure: Loggin failed&quot; + e.getMessage());\n                    }\n                });\n    }\n\n    private void setGoogleSignIn() {\n        // Configure google sign in\n        GoogleSignInOptions mGoogleSignInOption = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.requestidtoken))\n                .requestEmail()\n                .build();\n        mGoogleSignInClient = GoogleSignIn.getClient(this, mGoogleSignInOption);\n\n        // Init firebase auth\n        mAuth = FirebaseAuth.getInstance();\n    }\n    //////////////////////GOOGLE END\n\n    FirebaseAuth.AuthStateListener mAuthListener = new FirebaseAuth.AuthStateListener() {\n        @Override\n        public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n            FirebaseUser user = firebaseAuth.getCurrentUser();\n            if (user != null) {\n                //Start main activity\n                startActivity(new Intent(ConnexionActivity.this, MainActivity.class));\n                Toast.makeText(ConnexionActivity.this,\n                        &quot;You successfully signed-in &quot;, Toast.LENGTH_SHORT).show();\n                finish();\n            }\n        }\n    };\n//    @Override\n//    protected void onDestroy() {\n//\n//        // FIREBASE LOGOUT\n//        FirebaseAuth.getInstance().signOut();\n//        // GOOGLE LOGOUT\n//        GoogleSignInOptions gso = new GoogleSignInOptions.\n//                Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).\n//                build();\n//\n//        GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(ConnexionActivity.this, gso);\n//        googleSignInClient.signOut();\n//        // FACBOOK LOGOUT\n//        LoginManager.getInstance().logOut();\n//        super.onDestroy();\n//    }\n\n</code></pre>\n<p>MainActivity :</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mBinding = ActivityMainBinding.inflate(getLayoutInflater());\n        View view = mBinding.getRoot();\n        setContentView(view);\n        mAuth = FirebaseAuth.getInstance();\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        // Check if user is signed in (non-null) and update UI accordingly.\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        if(currentUser == null){\n            reload();\n        }\n    }\n\n    // restart connexion activity if the user isn't connected\n    private void reload(){\n            startActivity(new Intent(this, ConnexionActivity.class));\n            finish();\n    }\n\n    private void setBottomNavigationView(){\n        mBinding.bottomNavigation.setOnNavigationItemSelectedListener(navListener);\n        getSupportFragmentManager().beginTransaction().replace(mBinding.fragmentContainer.getId(), new MapFragment()).commit();\n    }\n\n    private final BottomNavigationView.OnNavigationItemSelectedListener navListener = item -&gt; {\n\n        Fragment selectedFragment = null;\n        int itemId = item.getItemId();\n        if (itemId == R.id.map_view) {\n            selectedFragment = new MapFragment();\n        } else if (itemId == R.id.list_view) {\n            selectedFragment = new ListViewFragment();\n        } else if (itemId == R.id.workmates) {\n                selectedFragment = new WorkmatesFragment();\n        }\n        if (selectedFragment != null) {\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, selectedFragment).commit();\n        }\n        return true;\n    };\n\n</code></pre>\n<p>The fragment adapter where i launch the DetailActivity :</p>\n<pre><code>    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n        final Result restaurant = mRestaurants.get(position);\n        ((ListViewViewHolder) holder).itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Context context = view.getContext();\n                Intent intent = new Intent(context, DetailActivity.class);\n                intent.putExtra(&quot;idrestaurant&quot;, restaurant.getPlaceId());\n                context.startActivity(intent);\n            }\n        });\n    }\n}\n</code></pre>\n<p>DetailActivty :</p>\n<pre><code>public class DetailActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mBinding = ActivityDetailBinding.inflate(getLayoutInflater());\n        View view = mBinding.getRoot();\n        setContentView(view);\n    }\n    private void setClickChosenRestaurantButton(){\n        mBinding.fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                    if (FirebaseAuth.getInstance().getCurrentUser() != null) {\n                        Map&lt;String, Object&gt; chosenRestaurant = new HashMap&lt;&gt;();\n                        chosenRestaurant.put(&quot;restaurantChosen&quot;, getRestaurantId());\n                        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n                        DocumentReference docRef = UserCallData.getAllUsers().getFirestore().collection(&quot;users&quot;).document(firebaseUser.getUid());\n                        docRef.set(chosenRestaurant, SetOptions.merge()).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                Log.d(&quot;123&quot;, &quot;DocumentSnapshot successfully written!&quot;);\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                Log.d(&quot;123&quot;, &quot;Error writing document&quot;, e);\n                            }\n                        });\n                    }\n                    else {\n                        Log.d(&quot;123&quot;, &quot;pb with firebaseauth!&quot;);\n                    }\n            }\n        });\n    }\n}\n</code></pre>\n<p>D/123: pb with firebaseauth!</p>\n<p>To be honest i do not understand in detail the behavior of the Firebase auth system that's why i'm stuck here.</p>\n<p>Any idea?</p>\n"},{"tags":["java","html","yaml","mustache","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467884117,"creation_date":1467884117,"answer_id":38242094,"question_id":38238880,"body_markdown":"Mustache is logic-less, so you must provide a boolean value in your YAML file:\r\n\r\n    href: false\r\n\r\nYAML also allows `off` and `no` as boolean values that map to `false`. You can then write a mustache file like this:\r\n\r\n    &lt;a{{#href}} href=&quot;example.com&quot;{{/href}}&gt;\r\n\r\nThe Text inside `{{#href}}`  `{{/href}}` will only render if `href` exists and is not `false`. Note that you must set it to `true` for the tag to render.","title":"How can I disable an anchor element in mustache file using YML configuration?","body":"<p>Mustache is logic-less, so you must provide a boolean value in your YAML file:</p>\n\n<pre><code>href: false\n</code></pre>\n\n<p>YAML also allows <code>off</code> and <code>no</code> as boolean values that map to <code>false</code>. You can then write a mustache file like this:</p>\n\n<pre><code>&lt;a{{#href}} href=\"example.com\"{{/href}}&gt;\n</code></pre>\n\n<p>The Text inside <code>{{#href}}</code>  <code>{{/href}}</code> will only render if <code>href</code> exists and is not <code>false</code>. Note that you must set it to <code>true</code> for the tag to render.</p>\n"}],"owner":{"account_id":7680103,"reputation":136,"user_id":5819582,"accept_rate":0,"display_name":"user57"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670599385,"creation_date":1467873345,"question_id":38238880,"body_markdown":"I have to disable a link in mustache file by getting value from YML configuration (in Dropwizard). If the value is disable, it should hide the element in the page so that user should not able to click the link. Is it possible to do this function?","title":"How can I disable an anchor element in mustache file using YML configuration?","body":"<p>I have to disable a link in mustache file by getting value from YML configuration (in Dropwizard). If the value is disable, it should hide the element in the page so that user should not able to click the link. Is it possible to do this function?</p>\n"},{"tags":["java","swing","graphics","3d"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1670604984,"post_id":74745029,"comment_id":131919564,"body_markdown":"To convert x, y, z coordinates to drawing x, y coordinates, you need an observer point.  Draw imaginary lines from the observer point to the vertexes of the cube.  Where those lines intersect the drawing plane is where you draw your cube vertexes.","body":"To convert x, y, z coordinates to drawing x, y coordinates, you need an observer point.  Draw imaginary lines from the observer point to the vertexes of the cube.  Where those lines intersect the drawing plane is where you draw your cube vertexes."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1670614473,"post_id":74745029,"comment_id":131922201,"body_markdown":"I recommend JOGL (Java Open Graphics Library) vs. Swing for doing what you are doing. Swing wasn&#39;t made for doing what you are doing, whereas OGL was :)","body":"I recommend JOGL (Java Open Graphics Library) vs. Swing for doing what you are doing. Swing wasn&#39;t made for doing what you are doing, whereas OGL was :)"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1677665700,"post_id":74745029,"comment_id":133381166,"body_markdown":"possible duplicate? https://stackoverflow.com/questions/724219/how-to-convert-a-3d-point-into-2d-perspective-projection","body":"possible duplicate? <a href=\"https://stackoverflow.com/questions/724219/how-to-convert-a-3d-point-into-2d-perspective-projection\" title=\"how to convert a 3d point into 2d perspective projection\">stackoverflow.com/questions/724219/&hellip;</a>"}],"owner":{"account_id":19989112,"reputation":87,"user_id":14780475,"display_name":"annd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670599171,"creation_date":1670599171,"question_id":74745029,"body_markdown":"I have a cube and there is a need to add a 3D coordinate system to it. \r\n\r\nThere is an example my coordinate system with a cube should approximtely look like:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nUnfortunately, my progress seems so far from this example:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sV3TX.png\r\n  [2]: https://i.stack.imgur.com/aky9p.png\r\n\r\nMaybe, I can find out how to draw X and Y axis, but I have no idea how to add the Z axis.\r\nSo, how to build the right coordinate sytem?\r\n\r\nMy code:\r\n```\r\nimport java.awt.*;\r\nimport static java.lang.Math.*;\r\nimport javax.swing.*;\r\n\r\npublic class Cube extends JPanel {\r\n    double[][] nodes = {{-1, -1, -1}, {-1, -1, 1}, {-1, 1, -1}, {-1, 1, 1},\r\n            {1, -1, -1}, {1, -1, 1}, {1, 1, -1}, {1, 1, 1}};\r\n\r\n    int[][] edges = {{0, 1}, {1, 3}, {3, 2}, {2, 0}, {4, 5}, {5, 7}, {7, 6},\r\n            {6, 4}, {0, 4}, {1, 5}, {2, 6}, {3, 7}};\r\n\r\n    public Cube() {\r\n        setPreferredSize(new Dimension(640, 640));\r\n        setBackground(Color.white);\r\n\r\n        scale(50);\r\n        rotateCube(Math.toRadians(60), Math.toRadians(10), Math.toRadians(0));\r\n    }\r\n\r\n    final void scale(double s) {\r\n        for (double[] node : nodes) {\r\n            node[0] *= s;\r\n            node[1] *= s;\r\n            node[2] *= s;\r\n        }\r\n    }\r\n\r\n    final void rotateCube(double angleX, double angleY, double angleZ) {\r\n        double sinX = sin(angleX);\r\n        double cosX = cos(angleX);\r\n\r\n        double sinY = sin(angleY);\r\n        double cosY = cos(angleY);\r\n\r\n        double sinZ = sin(angleZ);\r\n        double cosZ = cos(angleZ);\r\n\r\n        for (double[] node : nodes) {\r\n            double x = node[0];\r\n            double y = node[1];\r\n            double z = node[2];\r\n\r\n            node[0] = x * cosX - z * sinX;\r\n            node[2] = z * cosX + x * sinX;\r\n\r\n            z = node[2];\r\n\r\n            node[1] = y * cosY - z * sinY;\r\n            node[2] = y * sinY + z * cosY;\r\n\r\n            x = node[0];\r\n            y = node[1];\r\n\r\n            node[0] = x * cosZ + y * sinZ;\r\n            node[1] = y * cosZ - x * sinZ;\r\n        }\r\n    }\r\n\r\n    void drawCube(Graphics2D g) {\r\n        g.translate(getWidth() / 2, getHeight() / 2);\r\n\r\n        g.setColor(Color.BLACK);\r\n        for (int[] edge : edges) {\r\n            double[] xy1 = nodes[edge[0]];\r\n            double[] xy2 = nodes[edge[1]];\r\n            g.drawLine((int) round(xy1[0]), (int) round(xy1[1]),\r\n                    (int) round(xy2[0]), (int) round(xy2[1]));\r\n        }\r\n\r\n        for (double[] node : nodes)\r\n            g.fillOval((int) round(node[0]) - 4, (int) round(node[1]) - 4, 8, 8);\r\n    }\r\n\r\n    void drawAxis(Graphics2D g) {\r\n        int x_c = getWidth() / 2;\r\n        int y_c = getHeight() / 2;\r\n\r\n        // X - axis\r\n        g.setColor(Color.green);\r\n        g.drawLine(round(x_c + 300), round(y_c), round(x_c), round(y_c));\r\n\r\n        // Y- axis\r\n        g.setColor(Color.blue);\r\n        g.drawLine(round(x_c), round(y_c), round(x_c), round(y_c) + 300);\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics gg) {\r\n        super.paintComponent(gg);\r\n        Graphics2D g = (Graphics2D) gg;\r\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n        drawAxis(g);\r\n        drawCube(g);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame f = new JFrame();\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.setTitle(&quot;Rotating Cube&quot;);\r\n            f.setResizable(false);\r\n            f.add(new Cube(), BorderLayout.CENTER);\r\n            f.pack();\r\n            f.setLocationRelativeTo(null);\r\n            f.setVisible(true);\r\n        });\r\n    }\r\n} \r\n```","title":"How to draw a cube with a coordinate system in Swing","body":"<p>I have a cube and there is a need to add a 3D coordinate system to it.</p>\n<p>There is an example my coordinate system with a cube should approximtely look like:\n<a href=\"https://i.stack.imgur.com/sV3TX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sV3TX.png\" alt=\"enter image description here\" /></a></p>\n<p>Unfortunately, my progress seems so far from this example:\n<a href=\"https://i.stack.imgur.com/aky9p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aky9p.png\" alt=\"enter image description here\" /></a></p>\n<p>Maybe, I can find out how to draw X and Y axis, but I have no idea how to add the Z axis.\nSo, how to build the right coordinate sytem?</p>\n<p>My code:</p>\n<pre><code>import java.awt.*;\nimport static java.lang.Math.*;\nimport javax.swing.*;\n\npublic class Cube extends JPanel {\n    double[][] nodes = {{-1, -1, -1}, {-1, -1, 1}, {-1, 1, -1}, {-1, 1, 1},\n            {1, -1, -1}, {1, -1, 1}, {1, 1, -1}, {1, 1, 1}};\n\n    int[][] edges = {{0, 1}, {1, 3}, {3, 2}, {2, 0}, {4, 5}, {5, 7}, {7, 6},\n            {6, 4}, {0, 4}, {1, 5}, {2, 6}, {3, 7}};\n\n    public Cube() {\n        setPreferredSize(new Dimension(640, 640));\n        setBackground(Color.white);\n\n        scale(50);\n        rotateCube(Math.toRadians(60), Math.toRadians(10), Math.toRadians(0));\n    }\n\n    final void scale(double s) {\n        for (double[] node : nodes) {\n            node[0] *= s;\n            node[1] *= s;\n            node[2] *= s;\n        }\n    }\n\n    final void rotateCube(double angleX, double angleY, double angleZ) {\n        double sinX = sin(angleX);\n        double cosX = cos(angleX);\n\n        double sinY = sin(angleY);\n        double cosY = cos(angleY);\n\n        double sinZ = sin(angleZ);\n        double cosZ = cos(angleZ);\n\n        for (double[] node : nodes) {\n            double x = node[0];\n            double y = node[1];\n            double z = node[2];\n\n            node[0] = x * cosX - z * sinX;\n            node[2] = z * cosX + x * sinX;\n\n            z = node[2];\n\n            node[1] = y * cosY - z * sinY;\n            node[2] = y * sinY + z * cosY;\n\n            x = node[0];\n            y = node[1];\n\n            node[0] = x * cosZ + y * sinZ;\n            node[1] = y * cosZ - x * sinZ;\n        }\n    }\n\n    void drawCube(Graphics2D g) {\n        g.translate(getWidth() / 2, getHeight() / 2);\n\n        g.setColor(Color.BLACK);\n        for (int[] edge : edges) {\n            double[] xy1 = nodes[edge[0]];\n            double[] xy2 = nodes[edge[1]];\n            g.drawLine((int) round(xy1[0]), (int) round(xy1[1]),\n                    (int) round(xy2[0]), (int) round(xy2[1]));\n        }\n\n        for (double[] node : nodes)\n            g.fillOval((int) round(node[0]) - 4, (int) round(node[1]) - 4, 8, 8);\n    }\n\n    void drawAxis(Graphics2D g) {\n        int x_c = getWidth() / 2;\n        int y_c = getHeight() / 2;\n\n        // X - axis\n        g.setColor(Color.green);\n        g.drawLine(round(x_c + 300), round(y_c), round(x_c), round(y_c));\n\n        // Y- axis\n        g.setColor(Color.blue);\n        g.drawLine(round(x_c), round(y_c), round(x_c), round(y_c) + 300);\n    }\n\n    @Override\n    public void paintComponent(Graphics gg) {\n        super.paintComponent(gg);\n        Graphics2D g = (Graphics2D) gg;\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n\n        drawAxis(g);\n        drawCube(g);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame f = new JFrame();\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            f.setTitle(&quot;Rotating Cube&quot;);\n            f.setResizable(false);\n            f.add(new Cube(), BorderLayout.CENTER);\n            f.pack();\n            f.setLocationRelativeTo(null);\n            f.setVisible(true);\n        });\n    }\n} \n</code></pre>\n"},{"tags":["java","spring","junit5","spring-test"],"comments":[{"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1670598873,"post_id":74740394,"comment_id":131917638,"body_markdown":"Please describe your use case. In other words, why do you need the test instance lifecycle in a Spring `TestExecutionListener`?","body":"Please describe your use case. In other words, why do you need the test instance lifecycle in a Spring <code>TestExecutionListener</code>?"},{"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"score":0,"creation_date":1670685073,"post_id":74740394,"comment_id":131932562,"body_markdown":"@SamBrannen I want to process something in `afterTestClass` and `afterTestMethod` depending on PER_CLASS or PER_METHOD","body":"@SamBrannen I want to process something in <code>afterTestClass</code> and <code>afterTestMethod</code> depending on PER_CLASS or PER_METHOD"}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670598830,"creation_date":1670598830,"answer_id":74744962,"question_id":74740394,"body_markdown":"No, you cannot access JUnit Jupiter APIs or features such as the test instance lifecycle from a Spring `TestExecutionListener`.\r\n\r\nThe Spring `TestExecutionListener` and `TestContext` APIs are agnostic of the underlying testing framework (e.g., JUnit, TestNG, etc.).\r\n\r\nIf you need access to JUnit-specific features, you might consider implementing a JUnit Jupiter `Extension` instead of a Spring `TestExecutionListener`. Note that a Spring `TestExecutionListener` can obtain access the Spring `ApplicationContext` via `SpringExtension.getApplicationContext(ExtensionContext)`.","title":"How to get JUnit5&#39;s TestInstance&#39;s LifeCycle in Spring&#39;s TestExectionListener?","body":"<p>No, you cannot access JUnit Jupiter APIs or features such as the test instance lifecycle from a Spring <code>TestExecutionListener</code>.</p>\n<p>The Spring <code>TestExecutionListener</code> and <code>TestContext</code> APIs are agnostic of the underlying testing framework (e.g., JUnit, TestNG, etc.).</p>\n<p>If you need access to JUnit-specific features, you might consider implementing a JUnit Jupiter <code>Extension</code> instead of a Spring <code>TestExecutionListener</code>. Note that a Spring <code>TestExecutionListener</code> can obtain access the Spring <code>ApplicationContext</code> via <code>SpringExtension.getApplicationContext(ExtensionContext)</code>.</p>\n"}],"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670598830,"creation_date":1670573551,"question_id":74740394,"body_markdown":"Is there any way to get [TestInstance.LifeCycle](https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/TestInstance.Lifecycle.html)  (PER_CLASS or PER_METHOD) in SpringTest&#39;s [TestExecutionListener](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/TestExecutionListener.html) ?\r\n\r\nFor example , in method `afterTestMethod(TestContext testContext)` , how to get current TestInstance&#39;s LifeCycle ?\r\n\r\nI looked into TestContext code but seems no related API.\r\n\r\nThen, I tried to traverse `testContext.getTextClass().getDeclaredAnnotations()` , but I think it is not sufficient, as JUnit5 supports declaring default lifecycle in properties or system environment.\r\n\r\nIs there any other way to achieve this ? Thanks.","title":"How to get JUnit5&#39;s TestInstance&#39;s LifeCycle in Spring&#39;s TestExectionListener?","body":"<p>Is there any way to get <a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/TestInstance.Lifecycle.html\" rel=\"nofollow noreferrer\">TestInstance.LifeCycle</a>  (PER_CLASS or PER_METHOD) in SpringTest's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/TestExecutionListener.html\" rel=\"nofollow noreferrer\">TestExecutionListener</a> ?</p>\n<p>For example , in method <code>afterTestMethod(TestContext testContext)</code> , how to get current TestInstance's LifeCycle ?</p>\n<p>I looked into TestContext code but seems no related API.</p>\n<p>Then, I tried to traverse <code>testContext.getTextClass().getDeclaredAnnotations()</code> , but I think it is not sufficient, as JUnit5 supports declaring default lifecycle in properties or system environment.</p>\n<p>Is there any other way to achieve this ? Thanks.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1584649117,"post_id":60764388,"comment_id":107508991,"body_markdown":"By &#39;the key contains an uppercase&#39;, do you mean &#39;the key is an uppercase letter&#39;? Or is &#39;key&#39; something other than a string containing a single character?","body":"By &#39;the key contains an uppercase&#39;, do you mean &#39;the key is an uppercase letter&#39;? Or is &#39;key&#39; something other than a string containing a single character?"},{"owner":{"account_id":10675972,"reputation":5000,"user_id":7859515,"accept_rate":100,"display_name":"MyStackRunnethOver"},"score":3,"creation_date":1584649261,"post_id":60764388,"comment_id":107509036,"body_markdown":"The answer to such questions is pretty much always &quot;[use a regex](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html)&quot; - they&#39;re a very helpful and powerful tool, I encourage you to learn about them in general to solve your problem","body":"The answer to such questions is pretty much always &quot;<a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">use a regex</a>&quot; - they&#39;re a very helpful and powerful tool, I encourage you to learn about them in general to solve your problem"}],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1584648994,"creation_date":1584648994,"answer_id":60764426,"question_id":60764388,"body_markdown":"Just use the proper regex with `matcher.find()` \r\n\r\n    Pattern.compile(&quot;[A-Z]&quot;).matcher(key).find()","title":"How to check if a string contains uppercase java","body":"<p>Just use the proper regex with <code>matcher.find()</code> </p>\n\n<pre><code>Pattern.compile(\"[A-Z]\").matcher(key).find()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1584649256,"creation_date":1584649256,"answer_id":60764473,"question_id":60764388,"body_markdown":"With streams, you can to the following.\r\n\r\n    key.chars().anyMatch(Character::isUpperCase)\r\n\r\nThis is much lighter than regexes in terms of resources.","title":"How to check if a string contains uppercase java","body":"<p>With streams, you can to the following.</p>\n\n<pre><code>key.chars().anyMatch(Character::isUpperCase)\n</code></pre>\n\n<p>This is much lighter than regexes in terms of resources.</p>\n"},{"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1584649612,"creation_date":1584649612,"answer_id":60764547,"question_id":60764388,"body_markdown":"Or you can do it as described by sopheamak here: https://stackoverflow.com/questions/40336374/how-do-i-check-if-a-java-string-contains-at-least-one-capital-letter-lowercase\r\n\r\nIn your example that would be:\r\n\r\n    else if (!key.equals(key.toLowerCase())\r\n\r\nIf one of the letters in key is uppercase it will not match the result of `key.toLowerCase()` and thus return true because of `!`.","title":"How to check if a string contains uppercase java","body":"<p>Or you can do it as described by sopheamak here: <a href=\"https://stackoverflow.com/questions/40336374/how-do-i-check-if-a-java-string-contains-at-least-one-capital-letter-lowercase\">How do I check if a Java String contains at least one capital letter, lowercase letter, and number?</a></p>\n\n<p>In your example that would be:</p>\n\n<pre><code>else if (!key.equals(key.toLowerCase())\n</code></pre>\n\n<p>If one of the letters in key is uppercase it will not match the result of <code>key.toLowerCase()</code> and thus return true because of <code>!</code>.</p>\n"},{"tags":[],"owner":{"account_id":7654654,"reputation":1037,"user_id":5802035,"accept_rate":33,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584651521,"creation_date":1584651521,"answer_id":60764967,"question_id":60764388,"body_markdown":"You can use Apache Commons Lang (https://commons.apache.org/proper/commons-lang/). Is has a method for this:\r\n\r\n    else if (StringUtils.containsAny(key, &quot;QWERTYUIOPASDFGHJKLZXCVBNM&quot;)){\r\n        UI.println(&quot;Invalid, key contains a space, illegal character&quot;);\r\n    }","title":"How to check if a string contains uppercase java","body":"<p>You can use Apache Commons Lang (<a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/</a>). Is has a method for this:</p>\n\n<pre><code>else if (StringUtils.containsAny(key, \"QWERTYUIOPASDFGHJKLZXCVBNM\")){\n    UI.println(\"Invalid, key contains a space, illegal character\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670598756,"creation_date":1584652294,"answer_id":60765112,"question_id":60764388,"body_markdown":"You can use [`String#matches`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#matches(java.lang.String)) with the [regex](https://regex101.com/r/GVEpjf/1), `.*\\p{Lu}.*`. Learn more about `Pattern` from the [documentation](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/regex/Pattern.html).\r\n\r\n**Demo**:\r\n\r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            String[] keys = { &quot;HELLO&quot;, &quot;Hello&quot;, &quot;hello&quot;, &quot;hello world&quot;, &quot;Hello World&quot; };\r\n            for (String key : keys) {\r\n                if (key.matches(&quot;.*\\\\p{Lu}.*&quot;)) {\r\n                    System.out.println(key + &quot; =&gt; Invalid&quot;);\r\n                } else {\r\n                    System.out.println(key + &quot; =&gt; Valid&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    HELLO =&gt; Invalid\r\n    Hello =&gt; Invalid\r\n    hello =&gt; Valid\r\n    hello world =&gt; Valid\r\n    Hello World =&gt; Invalid\r\n\r\nAlternatively,\r\n--\r\n\r\nYou can check the presence of an uppercase letter using the [regex](https://regex101.com/r/Oh4JhG/1), `\\p{Lu}`.\r\n\r\n**Demo**:\r\n\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            String[] keys = { &quot;HELLO&quot;, &quot;Hello&quot;, &quot;hello&quot;, &quot;hello world&quot;, &quot;Hello World&quot; };\r\n            for (String key : keys) {\r\n                if (Pattern.compile(&quot;\\\\p{Lu}&quot;).matcher(key).find()) {\r\n                    System.out.println(key + &quot; =&gt; Invalid&quot;);\r\n                } else {\r\n                    System.out.println(key + &quot; =&gt; Valid&quot;);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to check if a string contains uppercase java","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String#matches</code></a> with the <a href=\"https://regex101.com/r/GVEpjf/1\" rel=\"nofollow noreferrer\">regex</a>, <code>.*\\p{Lu}.*</code>. Learn more about <code>Pattern</code> from the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n    public static void main(String args[]) {\n        String[] keys = { &quot;HELLO&quot;, &quot;Hello&quot;, &quot;hello&quot;, &quot;hello world&quot;, &quot;Hello World&quot; };\n        for (String key : keys) {\n            if (key.matches(&quot;.*\\\\p{Lu}.*&quot;)) {\n                System.out.println(key + &quot; =&gt; Invalid&quot;);\n            } else {\n                System.out.println(key + &quot; =&gt; Valid&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>HELLO =&gt; Invalid\nHello =&gt; Invalid\nhello =&gt; Valid\nhello world =&gt; Valid\nHello World =&gt; Invalid\n</code></pre>\n<h2>Alternatively,</h2>\n<p>You can check the presence of an uppercase letter using the <a href=\"https://regex101.com/r/Oh4JhG/1\" rel=\"nofollow noreferrer\">regex</a>, <code>\\p{Lu}</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String args[]) {\n        String[] keys = { &quot;HELLO&quot;, &quot;Hello&quot;, &quot;hello&quot;, &quot;hello world&quot;, &quot;Hello World&quot; };\n        for (String key : keys) {\n            if (Pattern.compile(&quot;\\\\p{Lu}&quot;).matcher(key).find()) {\n                System.out.println(key + &quot; =&gt; Invalid&quot;);\n            } else {\n                System.out.println(key + &quot; =&gt; Valid&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584656665,"creation_date":1584656665,"answer_id":60765923,"question_id":60764388,"body_markdown":"If you use Guava, you can get it using the powerful `CharMatcher`:\r\n\r\nFirst compile the matcher as a static member of the class so that it&#39;s done once and you don&#39;t need to recompute it at every call.\r\n\r\n    private static final CharMatcher UPPERCASE_LETTER = CharMatcher.inRange(&#39;A&#39;, &#39;Z&#39;);\r\n\r\nChange it to whatever letters you actually want. For instance if you want some accentuated characters, you can extend the following:\r\n\r\n    private static final CharMatcher UPPERCASE_LETTER = CharMatcher.inRange(&#39;A&#39;, &#39;Z&#39;)\r\n                                                                   .or(CharMatcher.anyOf(&quot;&#193;&#192;&#196;&#194;&#201;&#200;&#203;&#202;&#205;&#204;&#207;&#206;&#211;&#210;&#214;&#212;&#218;&#217;&#220;&#219;&quot;));\r\n\r\nIf you&#39;re lazy and just want to delegate to `Character::isUpperCase`, that&#39;s also possible:\r\n\r\n    private static final CharMatcher UPPERCASE_LETTER = CharMatcher.forPredicate(Character::isUpperCase)\r\n\r\nThen in your code, write the following:\r\n\r\n    if (UPPERCASE_LETTER.matchesAnyOf(key)) {\r\n      // Do what you want\r\n    }","title":"How to check if a string contains uppercase java","body":"<p>If you use Guava, you can get it using the powerful <code>CharMatcher</code>:</p>\n\n<p>First compile the matcher as a static member of the class so that it's done once and you don't need to recompute it at every call.</p>\n\n<pre><code>private static final CharMatcher UPPERCASE_LETTER = CharMatcher.inRange('A', 'Z');\n</code></pre>\n\n<p>Change it to whatever letters you actually want. For instance if you want some accentuated characters, you can extend the following:</p>\n\n<pre><code>private static final CharMatcher UPPERCASE_LETTER = CharMatcher.inRange('A', 'Z')\n                                                               .or(CharMatcher.anyOf(\"\"));\n</code></pre>\n\n<p>If you're lazy and just want to delegate to <code>Character::isUpperCase</code>, that's also possible:</p>\n\n<pre><code>private static final CharMatcher UPPERCASE_LETTER = CharMatcher.forPredicate(Character::isUpperCase)\n</code></pre>\n\n<p>Then in your code, write the following:</p>\n\n<pre><code>if (UPPERCASE_LETTER.matchesAnyOf(key)) {\n  // Do what you want\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19141878,"reputation":1,"user_id":13981707,"display_name":"Tobias N&#228;th"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597990919,"creation_date":1597990919,"answer_id":63517519,"question_id":60764388,"body_markdown":"If you took the streams solution of @OlivierGr&#233;goire and want limit it to the Capitals [A-Z] you can get it by also testing the UnicodeBlock as BASIC_LATIN. Where BASIC_LATIN is the ASCII Block of Unicode(see [BASIC_LATIN][1] )  \r\n\r\n            key.chars().anyMatch(this::isBasicLatinCapital)\r\n            ...\r\n            private boolean isBasicLatinCapital( int c) {\r\n            return\r\n                Character.UnicodeBlock.BASIC_LATIN == Character.UnicodeBlock.of(c) &amp;&amp; Character.isUpperCase(c) ;\r\n            } \r\n            \r\n\r\n  \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)","title":"How to check if a string contains uppercase java","body":"<p>If you took the streams solution of @OlivierGrgoire and want limit it to the Capitals [A-Z] you can get it by also testing the UnicodeBlock as BASIC_LATIN. Where BASIC_LATIN is the ASCII Block of Unicode(see <a href=\"https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)\" rel=\"nofollow noreferrer\">BASIC_LATIN</a> )</p>\n<pre><code>        key.chars().anyMatch(this::isBasicLatinCapital)\n        ...\n        private boolean isBasicLatinCapital( int c) {\n        return\n            Character.UnicodeBlock.BASIC_LATIN == Character.UnicodeBlock.of(c) &amp;&amp; Character.isUpperCase(c) ;\n        } \n        \n</code></pre>\n"}],"owner":{"account_id":17597999,"reputation":43,"user_id":12768550,"display_name":"louistcooper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2915,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":60764547,"answer_count":7,"score":3,"last_activity_date":1670598756,"creation_date":1584648805,"question_id":60764388,"body_markdown":"I am working on a program that lets a user input an alphanumeric key, and checks if it is a valid key against some criteria, one of these is whether or not the key contains an uppercase. TThis is what I have tried so far:\r\n\r\n    else if (key.contains(&quot;QWERTYUIOPASDFGHJKLZXCVBNM&quot;)){\r\n        UI.println(&quot;Invalid, key contains a space, illegal character&quot;);\r\n        }\r\n\r\nThis only detects the capital letters if they are written in this order. is there a command such as key.contains i should be using?","title":"How to check if a string contains uppercase java","body":"<p>I am working on a program that lets a user input an alphanumeric key, and checks if it is a valid key against some criteria, one of these is whether or not the key contains an uppercase. TThis is what I have tried so far:</p>\n\n<pre><code>else if (key.contains(\"QWERTYUIOPASDFGHJKLZXCVBNM\")){\n    UI.println(\"Invalid, key contains a space, illegal character\");\n    }\n</code></pre>\n\n<p>This only detects the capital letters if they are written in this order. is there a command such as key.contains i should be using?</p>\n"},{"tags":["java","spring-boot","service","crud"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1670571844,"post_id":74740152,"comment_id":131909417,"body_markdown":"Take care of java naming conventions. Class and Interface names should start with upper case character","body":"Take care of java naming conventions. Class and Interface names should start with upper case character"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1670571902,"post_id":74740152,"comment_id":131909431,"body_markdown":"Read abut `@PostConstruct`, if this is a spring bean","body":"Read abut <code>@PostConstruct</code>, if this is a spring bean"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1670571948,"post_id":74740152,"comment_id":131909441,"body_markdown":"BTW: `@Before` is from junit i guess? If so, do not use it in production code","body":"BTW: <code>@Before</code> is from junit i guess? If so, do not use it in production code"},{"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"score":0,"creation_date":1670571988,"post_id":74740152,"comment_id":131909453,"body_markdown":"@Jens it is just a pseudo-code","body":"@Jens it is just a pseudo-code"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1670572401,"post_id":74740152,"comment_id":131909558,"body_markdown":"Another way of solving this would be to have an `abstract class` implementing the interface and extends the children classes with this new class","body":"Another way of solving this would be to have an <code>abstract class</code> implementing the interface and extends the children classes with this new class"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1670572647,"post_id":74740152,"comment_id":131909621,"body_markdown":"@LeonardoEmmanueldeAzevedo How this helps by fullfilling the requirement *class of my service that is executed only once, at the beginning*?","body":"@LeonardoEmmanueldeAzevedo How this helps by fullfilling the requirement <i>class of my service that is executed only once, at the beginning</i>?"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1670572806,"post_id":74740152,"comment_id":131909679,"body_markdown":"@Jens It doesn&#39;t, I missed that part, apologies. I&#39;d stick with your suggestion, using `@PostConstruct`","body":"@Jens It doesn&#39;t, I missed that part, apologies. I&#39;d stick with your suggestion, using <code>@PostConstruct</code>"}],"answers":[{"tags":[],"owner":{"account_id":12703682,"reputation":104,"user_id":9229654,"display_name":"A. Hajian"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1670572880,"creation_date":1670572880,"answer_id":74740303,"question_id":74740152,"body_markdown":"Using AOP you can call a method in lots of different scenarios including the one you described.\r\nHere is Link to Spring AOP documentation\r\n[Spring AOP][1]\r\n\r\n    @Aspect\r\n    public class BeforeExample {\r\n    \r\n      @Before(&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;)\r\n      public void doAccessCheck() {\r\n        // ...\r\n      }\r\n    \r\n    }\r\nYou can Also define a custom annotation like @Before to do the magic for you. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/2.5.5/reference/aop.html#:~:text=Aspect-Oriented%20Programming%20(AOP),of%20modularity%20is%20the%20aspect.","title":"Use @Before in service for all methods in Java","body":"<p>Using AOP you can call a method in lots of different scenarios including the one you described.\nHere is Link to Spring AOP documentation\n<a href=\"https://docs.spring.io/spring-framework/docs/2.5.5/reference/aop.html#:%7E:text=Aspect-Oriented%20Programming%20(AOP),of%20modularity%20is%20the%20aspect.\" rel=\"nofollow noreferrer\">Spring AOP</a></p>\n<pre><code>@Aspect\npublic class BeforeExample {\n\n  @Before(&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;)\n  public void doAccessCheck() {\n    // ...\n  }\n\n}\n</code></pre>\n<p>You can Also define a custom annotation like @Before to do the magic for you.</p>\n"},{"tags":[],"owner":{"account_id":13141463,"reputation":116,"user_id":9492915,"display_name":"SputNick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670598407,"creation_date":1670598407,"answer_id":74744889,"question_id":74740152,"body_markdown":"There is a spring lifecycle annotation called as @PostConstruct, write a method in the class and add all the one time execution logic in this method and annotate it with the @PostConstruct annotation and spring would call this method automatically once the bean has been initialized.","title":"Use @Before in service for all methods in Java","body":"<p>There is a spring lifecycle annotation called as @PostConstruct, write a method in the class and add all the one time execution logic in this method and annotate it with the @PostConstruct annotation and spring would call this method automatically once the bean has been initialized.</p>\n"}],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":666,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670600375,"answer_count":2,"score":-1,"last_activity_date":1670598407,"creation_date":1670571706,"question_id":74740152,"body_markdown":"I am implementing a `service` for my controller in java. This service implements an interface with several methods, where each of them performs a different logic. However, they also have a common logic (they must call another @service).\r\nI would like to know if there is any way to refactor this, that is, remove that common logic that they have to a method in the class of my service that is executed only once, at the beginning.\r\n\r\nI&#39;m looking for something similar to the following:\r\n\r\n    public class myClass implements myInterface{\r\n    \r\n    private String stringToFill=&quot;&quot;;\r\n    \r\n    @Before\r\n    public doSomeLogig(){\r\n       // call another service\r\n       stringToFill = &quot;filled&quot;;\r\n    }\r\n    \r\n    public getAll(){\r\n       ...\r\n       //here I should use stringToFill, with value &#39;filled&#39;\r\n    }\r\n    public getId(){\r\n       //here I should use stringToFill, with value &#39;filled&#39;\r\n       ...\r\n    }\r\n    public create(){\r\n       //here I should use stringToFill, with value &#39;filled&#39;\r\n       ...\r\n    }\r\n    \r\n }","title":"Use @Before in service for all methods in Java","body":"<p>I am implementing a <code>service</code> for my controller in java. This service implements an interface with several methods, where each of them performs a different logic. However, they also have a common logic (they must call another @service).\nI would like to know if there is any way to refactor this, that is, remove that common logic that they have to a method in the class of my service that is executed only once, at the beginning.</p>\n<p>I'm looking for something similar to the following:</p>\n<pre><code>public class myClass implements myInterface{\n\nprivate String stringToFill=&quot;&quot;;\n\n@Before\npublic doSomeLogig(){\n   // call another service\n   stringToFill = &quot;filled&quot;;\n}\n\npublic getAll(){\n   ...\n   //here I should use stringToFill, with value 'filled'\n}\npublic getId(){\n   //here I should use stringToFill, with value 'filled'\n   ...\n}\npublic create(){\n   //here I should use stringToFill, with value 'filled'\n   ...\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1670589586,"post_id":74743210,"comment_id":131914575,"body_markdown":"I don&#39;t know about compile error or code solutions, but Eclipse for example has an option for Errors/Warnings called &quot;Unlikely argument type for method equals()&quot; where you can configure if it should ignore, inform or even show an error for that Problem. For example, when activated it will display the Error `&quot;Unlikely argument type for equals(): Long seems to be unrelated to Integer&quot;` for `Objects.equals(Integer.valueOf(1), Long.valueOf(1))`. So maybe whatever IDE you are using has something similar and you can handle it with that.","body":"I don&#39;t know about compile error or code solutions, but Eclipse for example has an option for Errors/Warnings called &quot;Unlikely argument type for method equals()&quot; where you can configure if it should ignore, inform or even show an error for that Problem. For example, when activated it will display the Error <code>&quot;Unlikely argument type for equals(): Long seems to be unrelated to Integer&quot;</code> for <code>Objects.equals(Integer.valueOf(1), Long.valueOf(1))</code>. So maybe whatever IDE you are using has something similar and you can handle it with that."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1670589659,"post_id":74743210,"comment_id":131914606,"body_markdown":"Have you considered `instanceof`, `Class#isInstance`, `Class#isAssignableTo`, and comparing the class types via `==`?","body":"Have you considered <code>instanceof</code>, <code>Class#isInstance</code>, <code>Class#isAssignableTo</code>, and comparing the class types via <code>==</code>?"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1670590331,"post_id":74743210,"comment_id":131914837,"body_markdown":"Does this answer your question? [What issues should be considered when overriding equals and hashCode in Java?](https://stackoverflow.com/questions/27581/what-issues-should-be-considered-when-overriding-equals-and-hashcode-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27581/what-issues-should-be-considered-when-overriding-equals-and-hashcode-in-java\">What issues should be considered when overriding equals and hashCode in Java?</a>"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670590942,"post_id":74743210,"comment_id":131915029,"body_markdown":"@OHGODSPIDERS yes my IDEs does that, but compiling still works","body":"@OHGODSPIDERS yes my IDEs does that, but compiling still works"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670590958,"post_id":74743210,"comment_id":131915038,"body_markdown":"@Rogue that&#39;s not compile time, sorry","body":"@Rogue that&#39;s not compile time, sorry"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670591053,"post_id":74743210,"comment_id":131915068,"body_markdown":"@user16320675 yes, that is what I have done so far and it has the drawback you mentioned, I had to write `MyClass&lt;concreteType&gt;.equals`","body":"@user16320675 yes, that is what I have done so far and it has the drawback you mentioned, I had to write <code>MyClass&lt;concreteType&gt;.equals</code>"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670591109,"post_id":74743210,"comment_id":131915085,"body_markdown":"@Torben your propsed answer is only very loosely coupled to my question, sorry...","body":"@Torben your propsed answer is only very loosely coupled to my question, sorry..."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670594627,"creation_date":1670594627,"answer_id":74744176,"question_id":74743210,"body_markdown":"I think there is no fast solution short of writing a bunch of `equals()` methods. This might be feasible if you have only a limited set of types that you want to use:\r\n\r\n    public class Equals {\r\n    \r\n        public static boolean equals(Integer a, Integer b) {\r\n            return Objects.equals(a, b);\r\n        }\r\n    \r\n        public static boolean equals(Long a, Long b) {\r\n            return Objects.equals(a, b);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            // System.out.println(equals(1, 1L)); doesn&#39;t compile\r\n            System.out.println(equals(1, 1));\r\n            System.out.println(equals(1L, 1L));\r\n        }\r\n    }\r\n","title":"Object-Equals to force same type at runtime","body":"<p>I think there is no fast solution short of writing a bunch of <code>equals()</code> methods. This might be feasible if you have only a limited set of types that you want to use:</p>\n<pre><code>public class Equals {\n\n    public static boolean equals(Integer a, Integer b) {\n        return Objects.equals(a, b);\n    }\n\n    public static boolean equals(Long a, Long b) {\n        return Objects.equals(a, b);\n    }\n\n    public static void main(String[] args) {\n        // System.out.println(equals(1, 1L)); doesn't compile\n        System.out.println(equals(1, 1));\n        System.out.println(equals(1L, 1L));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670598366,"creation_date":1670598065,"answer_id":74744826,"question_id":74743210,"body_markdown":"Just as Thomas already mentioned, I cannot think of a fast solution either.\r\n\r\nYou have several options, some of which you may have already tried:\r\n\r\n* You may use your own `equals` methods, forcing you to pass two arguments of the same type (either both `Integer` or both `Long`). This is [the solution Thomas proposed][1].\r\n\r\n* You may force a certain type by typecasts:\r\n\r\n    ```java\r\n    Objects.equals((Integer) someId, (Integer) foo.getId())\r\n    ```\r\n\r\n    The compiler starts whining if you change the type of either of the arguments.\r\n\r\n* Apply encapsulation. Create a class `Id`, in which you store the actual value, either as a `Long` or as an `Integer`. Then if you return an *id* anywhere, use the `Id` class for it. The problem with directly using a `Long` or `Integer` is that you expose the internal implementation. And when you change the implementation, you change the interface.\r\n\r\n    Whether this option is feasible, depends on your use case.\r\n\r\nIf you don&#39;t want to use a class `Id`, then I suggest you switch to `Long`, and hope you don&#39;t ever need an id greater than 9,223,372,036,854,775,807.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74744176/507738","title":"Object-Equals to force same type at runtime","body":"<p>Just as Thomas already mentioned, I cannot think of a fast solution either.</p>\n<p>You have several options, some of which you may have already tried:</p>\n<ul>\n<li><p>You may use your own <code>equals</code> methods, forcing you to pass two arguments of the same type (either both <code>Integer</code> or both <code>Long</code>). This is <a href=\"https://stackoverflow.com/a/74744176/507738\">the solution Thomas proposed</a>.</p>\n</li>\n<li><p>You may force a certain type by typecasts:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Objects.equals((Integer) someId, (Integer) foo.getId())\n</code></pre>\n<p>The compiler starts whining if you change the type of either of the arguments.</p>\n</li>\n<li><p>Apply encapsulation. Create a class <code>Id</code>, in which you store the actual value, either as a <code>Long</code> or as an <code>Integer</code>. Then if you return an <em>id</em> anywhere, use the <code>Id</code> class for it. The problem with directly using a <code>Long</code> or <code>Integer</code> is that you expose the internal implementation. And when you change the implementation, you change the interface.</p>\n<p>Whether this option is feasible, depends on your use case.</p>\n</li>\n</ul>\n<p>If you don't want to use a class <code>Id</code>, then I suggest you switch to <code>Long</code>, and hope you don't ever need an id greater than 9,223,372,036,854,775,807.</p>\n"}],"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744176,"answer_count":2,"score":0,"last_activity_date":1670598366,"creation_date":1670589148,"question_id":74743210,"body_markdown":"I am wondering whether it is possible to add something like Objects.equals() that allows runtime checking of types.  \r\nNote: I know, that is not what you always want to do, but I think it has its use cases. At least for me.  \r\n\r\nExample problem: I have some class, let&#39;s say, an id of type Integer. And I have an entity Foo with `foo.getId()` returns a type Integer. For some reasons I check for equality with `Objects.equals(someId, foo.getId())`.  \r\nNow I refactor my entity, `foo.getId()` will no longer return an Integer but will return Long. Unfortunatelly, there will be no compile time hint at all that `Objects.equals(someId, foo.getId())` will never return true. (Yes, stuff like sonarqube helps you a bit).  \r\n\r\nTo solve that, I thought I write something like\r\n```\r\nprivate static &lt;T&gt; boolean equals(T object1, T object2) {\r\n\treturn Objects.equals(object1, object2);\r\n}\r\n```` \r\nwhich.....just does not work. It still accepts any arbitrary Object. Is there any possible solution in Java for this?\r\n\r\nEdit: Please note, this question has nothing to do with equals and hashCode of an object or overriding equals of an object in general, I am looking for a compile-time solution.","title":"Object-Equals to force same type at runtime","body":"<p>I am wondering whether it is possible to add something like Objects.equals() that allows runtime checking of types.<br />\nNote: I know, that is not what you always want to do, but I think it has its use cases. At least for me.</p>\n<p>Example problem: I have some class, let's say, an id of type Integer. And I have an entity Foo with <code>foo.getId()</code> returns a type Integer. For some reasons I check for equality with <code>Objects.equals(someId, foo.getId())</code>.<br />\nNow I refactor my entity, <code>foo.getId()</code> will no longer return an Integer but will return Long. Unfortunatelly, there will be no compile time hint at all that <code>Objects.equals(someId, foo.getId())</code> will never return true. (Yes, stuff like sonarqube helps you a bit).</p>\n<p>To solve that, I thought I write something like</p>\n<pre><code>private static &lt;T&gt; boolean equals(T object1, T object2) {\n    return Objects.equals(object1, object2);\n}\n</code></pre>\n<p>which.....just does not work. It still accepts any arbitrary Object. Is there any possible solution in Java for this?</p>\n<p>Edit: Please note, this question has nothing to do with equals and hashCode of an object or overriding equals of an object in general, I am looking for a compile-time solution.</p>\n"},{"tags":["java","hibernate","maven","jpa","orm"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1670346585,"post_id":74706341,"comment_id":131853457,"body_markdown":"It should probably be something like `products.addAll(...)`. The code you shared is not showing the part where you&#39;re trying to add new elements so it&#39;s hard to say what might be happening","body":"It should probably be something like <code>products.addAll(...)</code>. The code you shared is not showing the part where you&#39;re trying to add new elements so it&#39;s hard to say what might be happening"},{"owner":{"account_id":21577429,"reputation":1,"user_id":15909304,"display_name":"Anasyrma"},"score":0,"creation_date":1670350353,"post_id":74706341,"comment_id":131854767,"body_markdown":"Oh, you&#39;re right. I&#39;ve just added the missing piece.","body":"Oh, you&#39;re right. I&#39;ve just added the missing piece."},{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1670356515,"post_id":74706341,"comment_id":131856717,"body_markdown":"Try to add the ``@ManyToMany`` relationship on both sides to make it bi-directional. Add an attribute ``productsLists`` to your ``Product`` entity","body":"Try to add the <code>@ManyToMany</code> relationship on both sides to make it bi-directional. Add an attribute <code>productsLists</code> to your <code>Product</code> entity"},{"owner":{"account_id":21577429,"reputation":1,"user_id":15909304,"display_name":"Anasyrma"},"score":0,"creation_date":1670422322,"post_id":74706341,"comment_id":131872874,"body_markdown":"@FelixSchildmann I updated the post with my actual code. The problem with this is that now it&#39;s throwing an exception: &quot;Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: BEFORE_TRANSACTION_COMPLETION&quot;","body":"@FelixSchildmann I updated the post with my actual code. The problem with this is that now it&#39;s throwing an exception: &quot;Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpa&zwnj;&#8203;Configuration.class]&zwnj;&#8203;: BEFORE_TRANSACTION_COMPLETION&quot;"}],"answers":[{"tags":[],"owner":{"account_id":21577429,"reputation":1,"user_id":15909304,"display_name":"Anasyrma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670598112,"creation_date":1670598112,"answer_id":74744838,"question_id":74706341,"body_markdown":"This is the method I used to solve this in my Service:\r\n\r\n     public ListOfProducts addProductToList(Integer idList, Integer idProduct) throws ResourceNotFoundException {\r\n\r\n        ListOfProducts listOriginal = listRepository.findById(idList).orElseThrow(()-&gt; new  ResourceNotFoundException(&quot;The list of products could not be found.&quot;));\r\n        Product product = productRepository.findProductById(idProduct).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Product not found&quot;));\r\n\r\n        listOriginal.getProducts().add(product);\r\n\r\n        listRepository.save(listOriginal);\r\n        LOGGER.info(String.format(&quot;Product %s was added to the list with id %s &quot;, idProduct, idList));\r\n\r\n        return listOriginal;\r\n    }","title":"How can I add an object to a list of objects and keep all the preexisting ones?","body":"<p>This is the method I used to solve this in my Service:</p>\n<pre><code> public ListOfProducts addProductToList(Integer idList, Integer idProduct) throws ResourceNotFoundException {\n\n    ListOfProducts listOriginal = listRepository.findById(idList).orElseThrow(()-&gt; new  ResourceNotFoundException(&quot;The list of products could not be found.&quot;));\n    Product product = productRepository.findProductById(idProduct).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Product not found&quot;));\n\n    listOriginal.getProducts().add(product);\n\n    listRepository.save(listOriginal);\n    LOGGER.info(String.format(&quot;Product %s was added to the list with id %s &quot;, idProduct, idList));\n\n    return listOriginal;\n}\n</code></pre>\n"}],"owner":{"account_id":21577429,"reputation":1,"user_id":15909304,"display_name":"Anasyrma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670598112,"creation_date":1670345862,"question_id":74706341,"body_markdown":"I am new to Java and I want to update a List&lt;Product&gt; withous losing the products that already are on the list. I am using JPA\r\n\r\n**Products List:**\r\n```\r\n@Entity\r\n@Table(name = &quot;listOfProducts&quot;)\r\npublic class ProductsList {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;products_id&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;id_list&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;id_product&quot;)\r\n    )\r\n    private Set&lt;Product&gt; products;\r\n```\r\n\r\n**Product Entity**\r\n```\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;tabla_id&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;id_product&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;id_list&quot;)\r\n    )\r\n    @JsonIgnore\r\n    private List&lt;ProductsList&gt; productsLists;\r\n\r\n```\r\n\r\n**List Service**\r\n```\r\n// now it only has the CRUD\r\n```\r\n\r\nI couldn&#39;t seem to find anything resolving this. I found ways to update the list, but it always end up deleting all the previous products in my list.\r\n\r\nAlso: for some reason, now it&#39;s also asking me to change ` for (j:listaRepository.findById(id)) {` for ` for (j:listaRepository.findById(id);;) {`","title":"How can I add an object to a list of objects and keep all the preexisting ones?","body":"<p>I am new to Java and I want to update a List withous losing the products that already are on the list. I am using JPA</p>\n<p><strong>Products List:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;listOfProducts&quot;)\npublic class ProductsList {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;products_id&quot;,\n            joinColumns = @JoinColumn(name = &quot;id_list&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;id_product&quot;)\n    )\n    private Set&lt;Product&gt; products;\n</code></pre>\n<p><strong>Product Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;)\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;tabla_id&quot;,\n            joinColumns = @JoinColumn(name = &quot;id_product&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;id_list&quot;)\n    )\n    @JsonIgnore\n    private List&lt;ProductsList&gt; productsLists;\n\n</code></pre>\n<p><strong>List Service</strong></p>\n<pre><code>// now it only has the CRUD\n</code></pre>\n<p>I couldn't seem to find anything resolving this. I found ways to update the list, but it always end up deleting all the previous products in my list.</p>\n<p>Also: for some reason, now it's also asking me to change <code> for (j:listaRepository.findById(id)) {</code> for <code> for (j:listaRepository.findById(id);;) {</code></p>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":8463731,"reputation":38757,"user_id":6348498,"accept_rate":92,"display_name":"Gurwinder Singh"},"score":2,"creation_date":1481600870,"post_id":41113406,"comment_id":69431070,"body_markdown":"*why* do you want to use optional? I dont see any use for your case","body":"<i>why</i> do you want to use optional? I dont see any use for your case"},{"owner":{"account_id":6583624,"reputation":2692,"user_id":5087125,"display_name":"pvg"},"score":4,"creation_date":1481600895,"post_id":41113406,"comment_id":69431079,"body_markdown":"That&#39;s not really what `Optional` is for. And you don&#39;t want to be catching NPE. Just use the tertiary although a better design is to say the contract simply does not allow null - then throwing the NPE is what is supposed to happen and happens automatically and your code is much simpler.","body":"That&#39;s not really what <code>Optional</code> is for. And you don&#39;t want to be catching NPE. Just use the tertiary although a better design is to say the contract simply does not allow null - then throwing the NPE is what is supposed to happen and happens automatically and your code is much simpler."},{"owner":{"account_id":246295,"reputation":11636,"user_id":520359,"accept_rate":87,"display_name":"Lachezar Balev"},"score":2,"creation_date":1481609679,"post_id":41113406,"comment_id":69433583,"body_markdown":"Isn&#39;t it `ternary`? :-) IMO there is no need to use Optional in your case. Something like `input != null ? Long.valueOf(input) : null` seems ok. What  @pvg says is also reasonable.","body":"Isn&#39;t it <code>ternary</code>? :-) IMO there is no need to use Optional in your case. Something like <code>input != null ? Long.valueOf(input) : null</code> seems ok. What  @pvg says is also reasonable."}],"answers":[{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1481609381,"creation_date":1481609381,"answer_id":41114664,"question_id":41113406,"body_markdown":"Use [`map`][1] to convert from `Optional&lt;String&gt;` to `Optional&lt;Long&gt;`:\r\n\r\n    Optional&lt;String&gt; str = ...;\r\n    Optional&lt;Long&gt; num = str.map(Long::valueOf);\r\n\r\nIf `str` was empty, `num` is also empty.  If `str` had a value, `num` contains the result of `valueOf`.  This would mainly be useful if `Optional&lt;String&gt;` was coming from somewhere else.  Making one just to avoid a ternary operator is questionable, but here&#39;s how you can rewrite your method:\r\n\r\n\tpublic void methodA(String input) {\r\n\t\tSystem.out.println(Optional.ofNullable(input).map(Long::valueOf).orElse(null));\r\n\t}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-","title":"Java 8 Optional Null Check","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\" rel=\"noreferrer\"><code>map</code></a> to convert from <code>Optional&lt;String&gt;</code> to <code>Optional&lt;Long&gt;</code>:</p>\n\n<pre><code>Optional&lt;String&gt; str = ...;\nOptional&lt;Long&gt; num = str.map(Long::valueOf);\n</code></pre>\n\n<p>If <code>str</code> was empty, <code>num</code> is also empty.  If <code>str</code> had a value, <code>num</code> contains the result of <code>valueOf</code>.  This would mainly be useful if <code>Optional&lt;String&gt;</code> was coming from somewhere else.  Making one just to avoid a ternary operator is questionable, but here's how you can rewrite your method:</p>\n\n<pre><code>public void methodA(String input) {\n    System.out.println(Optional.ofNullable(input).map(Long::valueOf).orElse(null));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7406733,"reputation":633,"user_id":5635466,"display_name":"Danail Tsvetanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670597896,"creation_date":1670597896,"answer_id":74744798,"question_id":41113406,"body_markdown":"In this case, the ternary operator is more readable.\r\n\r\n    public void methodA(String input) {\r\n    System.out.println(input == null ? null : Long.parseLong(input));\r\n}","title":"Java 8 Optional Null Check","body":"<p>In this case, the ternary operator is more readable.</p>\n<pre><code>public void methodA(String input) {\nSystem.out.println(input == null ? null : Long.parseLong(input));\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":6142042,"reputation":504,"user_id":4789157,"accept_rate":75,"display_name":"David"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4228,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41114664,"answer_count":2,"score":4,"last_activity_date":1670597896,"creation_date":1481600671,"question_id":41113406,"body_markdown":"I am trying to check if the input is null then output should be null\r\nOr if the input is String, then it should convert it to Long\r\n\r\nAssuming input is never &quot;abcd&quot;, input is either null or &quot;12&quot;, &quot;14&quot;, etc.\r\n\r\nThe following code snippet throws null pointer exception, as I am not able to use Java 8 Optional properly. I can catch the null pointer exception or use if/else with tertiary&#39;?&#39; operator but Is there any way to handle this scenario with Optional?\r\n\r\n    public class OptionalClass {\r\n\r\n\tpublic void methodA(String input) {\r\n\t\tSystem.out.println(Long.valueOf(Optional.ofNullable(input).orElse(null)));\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew OptionalClass().methodA(&quot;12&quot;);// This works fine\r\n\t\tnew OptionalClass().methodA(null); // This throws null pointer exception\r\n\t}   }\r\n\r\n\r\n","title":"Java 8 Optional Null Check","body":"<p>I am trying to check if the input is null then output should be null\nOr if the input is String, then it should convert it to Long</p>\n\n<p>Assuming input is never \"abcd\", input is either null or \"12\", \"14\", etc.</p>\n\n<p>The following code snippet throws null pointer exception, as I am not able to use Java 8 Optional properly. I can catch the null pointer exception or use if/else with tertiary'?' operator but Is there any way to handle this scenario with Optional?</p>\n\n<pre><code>public class OptionalClass {\n\npublic void methodA(String input) {\n    System.out.println(Long.valueOf(Optional.ofNullable(input).orElse(null)));\n}\n\npublic static void main(String[] args) {\n    new OptionalClass().methodA(\"12\");// This works fine\n    new OptionalClass().methodA(null); // This throws null pointer exception\n}   }\n</code></pre>\n"},{"tags":["java","mysql","jdbc","groovy","micronaut"],"comments":[{"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"score":0,"creation_date":1669994734,"post_id":74653608,"comment_id":131776523,"body_markdown":"Can you add your entity `NormalizedValue` and DB Schema?","body":"Can you add your entity <code>NormalizedValue</code> and DB Schema?"},{"owner":{"account_id":23317861,"reputation":1,"user_id":17396243,"display_name":"AK17396243"},"score":0,"creation_date":1670234190,"post_id":74653608,"comment_id":131820588,"body_markdown":"Why is that important?","body":"Why is that important?"}],"answers":[{"tags":[],"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670597598,"creation_date":1670597598,"answer_id":74744738,"question_id":74653608,"body_markdown":"With the information provided, only thing that I can suggest is to split your `normalizedValues` list into two groups. Those that do not have an `id` and those that do. Then for the ones without `id` use `saveAll` and for the ones with `id` use `updateAll`.\r\n\r\nFor example:\r\n\r\n```groovy\r\n@Transactional\r\nvoid saveNormalized(List&lt;NormalizedValue&gt; values) {\r\n    def hasId = values.groupBy{ it.id != null }\r\n    normalizedRepository.updateAll(hasId[true])\r\n    normalizedRepository.saveAll(hasId[false])\r\n}\r\n```","title":"Micronaut Data JDBC - Save a list of entries &amp; update already existing entries","body":"<p>With the information provided, only thing that I can suggest is to split your <code>normalizedValues</code> list into two groups. Those that do not have an <code>id</code> and those that do. Then for the ones without <code>id</code> use <code>saveAll</code> and for the ones with <code>id</code> use <code>updateAll</code>.</p>\n<p>For example:</p>\n<pre><code>@Transactional\nvoid saveNormalized(List&lt;NormalizedValue&gt; values) {\n    def hasId = values.groupBy{ it.id != null }\n    normalizedRepository.updateAll(hasId[true])\n    normalizedRepository.saveAll(hasId[false])\n}\n</code></pre>\n"}],"owner":{"account_id":23317861,"reputation":1,"user_id":17396243,"display_name":"AK17396243"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670597598,"creation_date":1669973844,"question_id":74653608,"body_markdown":"I&#39;m working on a REST API (Micronaut / Groovy), and I want to implement a POST request that saves a list of entries into a MySQL database.\r\n\r\nRight now I&#39;m using the saveAll() function from Micronaut Data, but the problem with saveAll() is that it fails if there is already an entry in the database table with the same fields (Unique Constraint).\r\n\r\nThe ideal solution for me is to update already existing entries and create non-existing entries.\r\n\r\nBut I don&#39;t know what is the right approach to handle this problem.\r\n\r\n```\r\n@Transactional\r\nvoid saveNormalized(List&lt;NormalizedValue&gt; normalizedValues){\r\n    normalizedRepository.saveAll(normalizedValues)\r\n}\r\n```\r\n\r\n\r\n```\r\n@Validated\r\n@JdbcRepository(dialect= Dialect.MYSQL)\r\ninterface NormalizedRepository extends CrudRepository&lt;NormalizedValue, Long&gt; {\r\n}\r\n```\r\n","title":"Micronaut Data JDBC - Save a list of entries &amp; update already existing entries","body":"<p>I'm working on a REST API (Micronaut / Groovy), and I want to implement a POST request that saves a list of entries into a MySQL database.</p>\n<p>Right now I'm using the saveAll() function from Micronaut Data, but the problem with saveAll() is that it fails if there is already an entry in the database table with the same fields (Unique Constraint).</p>\n<p>The ideal solution for me is to update already existing entries and create non-existing entries.</p>\n<p>But I don't know what is the right approach to handle this problem.</p>\n<pre><code>@Transactional\nvoid saveNormalized(List&lt;NormalizedValue&gt; normalizedValues){\n    normalizedRepository.saveAll(normalizedValues)\n}\n</code></pre>\n<pre><code>@Validated\n@JdbcRepository(dialect= Dialect.MYSQL)\ninterface NormalizedRepository extends CrudRepository&lt;NormalizedValue, Long&gt; {\n}\n</code></pre>\n"},{"tags":["java","android","xml","kotlin","android-fragments"],"comments":[{"owner":{"account_id":1052502,"reputation":3122,"user_id":1056042,"accept_rate":61,"display_name":"Arshad Ali"},"score":0,"creation_date":1670593641,"post_id":74743946,"comment_id":131915861,"body_markdown":"Have you tried on your own? What was wrong with the output? please provide some research.","body":"Have you tried on your own? What was wrong with the output? please provide some research."},{"owner":{"account_id":12165789,"reputation":155,"user_id":8882143,"display_name":"Omar Hezi"},"score":0,"creation_date":1670594494,"post_id":74743946,"comment_id":131916174,"body_markdown":"Hello and welcome to Stack overflow, please add more details so we can help you. See here for more details on how to ask a question https://stackoverflow.com/help/how-to-ask","body":"Hello and welcome to Stack overflow, please add more details so we can help you. See here for more details on how to ask a question <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":19537863,"reputation":64,"user_id":14296280,"display_name":"Josue Muleshi"},"score":0,"creation_date":1670595610,"post_id":74743946,"comment_id":131916549,"body_markdown":"I think your problem is solved [here](https://stackoverflow.com/questions/40587168/simple-android-grid-example-using-recyclerview-with-gridlayoutmanager-like-the)","body":"I think your problem is solved <a href=\"https://stackoverflow.com/questions/40587168/simple-android-grid-example-using-recyclerview-with-gridlayoutmanager-like-the\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":19717022,"reputation":41,"user_id":14436262,"display_name":"Yves Kalume"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670597209,"creation_date":1670597209,"answer_id":74744664,"question_id":74743946,"body_markdown":"Building that with the RecyclerView can be a little bit complicated. I would recommend you a library called **Epoxy**.\r\n\r\nhttps://proandroiddev.com/building-complex-screens-in-a-recyclerview-with-epoxy-97845e51f4da","title":"How to divide recyclerview in different views for showing image","body":"<p>Building that with the RecyclerView can be a little bit complicated. I would recommend you a library called <strong>Epoxy</strong>.</p>\n<p><a href=\"https://proandroiddev.com/building-complex-screens-in-a-recyclerview-with-epoxy-97845e51f4da\" rel=\"nofollow noreferrer\">https://proandroiddev.com/building-complex-screens-in-a-recyclerview-with-epoxy-97845e51f4da</a></p>\n"}],"owner":{"account_id":27201867,"reputation":1,"user_id":20734013,"display_name":"Gagan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670597209,"creation_date":1670593373,"question_id":74743946,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nHow to divide recyclerview  in different  views  for showing image\r\n\r\nHow to divide recyclerview  in different  views  for showing image\r\n\r\n[1]: https://i.stack.imgur.com/MXDNP.png","title":"How to divide recyclerview in different views for showing image","body":"<p><a href=\"https://i.stack.imgur.com/MXDNP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MXDNP.png\" alt=\"enter image description here\" /></a></p>\n<p>How to divide recyclerview  in different  views  for showing image</p>\n<p>How to divide recyclerview  in different  views  for showing image</p>\n"},{"tags":["java","android","user-interface"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1510221429,"post_id":47198692,"comment_id":81346044,"body_markdown":"Post the crash error logged in the logcat!","body":"Post the crash error logged in the logcat!"},{"owner":{"account_id":4732700,"reputation":2877,"user_id":3827850,"accept_rate":58,"display_name":"Ezio"},"score":0,"creation_date":1510221549,"post_id":47198692,"comment_id":81346127,"body_markdown":"It is crashing because you are trying to update a View element from a non UI thread. You have to use a handler. Refer to this https://developer.android.com/training/multiple-threads/communicate-ui.html","body":"It is crashing because you are trying to update a View element from a non UI thread. You have to use a handler. Refer to this <a href=\"https://developer.android.com/training/multiple-threads/communicate-ui.html\" rel=\"nofollow noreferrer\">developer.android.com/training/multiple-threads/&hellip;</a>"},{"owner":{"account_id":10404749,"reputation":43,"user_id":7672000,"accept_rate":20,"display_name":"J. Walsh"},"score":0,"creation_date":1510222520,"post_id":47198692,"comment_id":81346820,"body_markdown":"Thanks guys! All sorted! Ran on the UI Thread properly :)","body":"Thanks guys! All sorted! Ran on the UI Thread properly :)"}],"answers":[{"tags":[],"owner":{"account_id":2151377,"reputation":2638,"user_id":3983130,"accept_rate":43,"display_name":"Dilip"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510222296,"creation_date":1510222296,"answer_id":47199090,"question_id":47198692,"body_markdown":"        public void updateDisplay() {   \r\n          Timer timer = new Timer();\r\n          timer.schedule(new TimerTask() {\r\n    \r\n        @Override\r\n        public void run() {\r\n            // Your logic here...\r\n    \r\n            // When you need to modify a UI element, do so on the UI thread. \r\n            // &#39;getActivity()&#39; is required as this is being ran from a Fragment.\r\n            getActivity().runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    // This code will always run on the UI thread, therefore is safe to modify UI elements.\r\n                    myTextBox.setText(&quot;my text&quot;);\r\n                }\r\n            });\r\n        }\r\n    }, 0, 30000); // End of your timer code.   \r\n    \r\n     }","title":"Android Dev: Run TimerTask in UI Thread","body":"<pre><code>    public void updateDisplay() {   \n      Timer timer = new Timer();\n      timer.schedule(new TimerTask() {\n\n    @Override\n    public void run() {\n        // Your logic here...\n\n        // When you need to modify a UI element, do so on the UI thread. \n        // 'getActivity()' is required as this is being ran from a Fragment.\n        getActivity().runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                // This code will always run on the UI thread, therefore is safe to modify UI elements.\n                myTextBox.setText(\"my text\");\n            }\n        });\n    }\n}, 0, 30000); // End of your timer code.   \n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5009856,"reputation":125,"user_id":4026433,"display_name":"Hiroo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510222566,"creation_date":1510222566,"answer_id":47199182,"question_id":47198692,"body_markdown":"android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\r\n\r\nbecause you edit textView3 in thread \r\n\r\ntry it :\r\n\r\n\r\n\r\npublic void updateDisplay() {\r\n\tTimer timer = new Timer();\r\n\r\n\r\n\ttimer.schedule(new TimerTask(){\r\n\r\n\r\n\t\tpublic void run() {\r\n\r\n\t\t\trunOnUiThread(new Runnable(){\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tCalendar c = Calendar.getInstance();\r\n\t\t\t\t\tint mYear = c.get(Calendar.YEAR);\r\n\t\t\t\t\tint mMonth = c.get(Calendar.MONTH);\r\n\t\t\t\t\tint mDay = c.get(Calendar.DAY_OF_MONTH);\r\n\t\t\t\t\tint mHour = c.get(Calendar.HOUR_OF_DAY);\r\n\t\t\t\t\tint mMinute = c.get(Calendar.MINUTE);\r\n\r\n\t\t\t\t\ttextView3.setText(new StringBuilder()\r\n\t\t\t\t\t\t// Month is 0 based so add 1\r\n\t\t\t\t\t\t.append(mDay).append(&quot;/&quot;)\r\n\t\t\t\t\t\t.append(mMonth + 1).append(&quot;/&quot;)\r\n\t\t\t\t\t\t.append(mYear)\r\n\t\t\t\t\t\t.append(&quot; - &quot;)\r\n\t\t\t\t\t\t.append(mHour)\r\n\t\t\t\t\t\t.append(&quot;:&quot;)\r\n\t\t\t\t\t\t.append(mMinute));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t, 0, 30000);//Update text every 30 seconds\r\n}","title":"Android Dev: Run TimerTask in UI Thread","body":"<p>android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.</p>\n\n<p>because you edit textView3 in thread </p>\n\n<p>try it :</p>\n\n<p>public void updateDisplay() {\n    Timer timer = new Timer();</p>\n\n<pre><code>timer.schedule(new TimerTask(){\n\n\n    public void run() {\n\n        runOnUiThread(new Runnable(){\n            @Override\n            public void run() {\n                Calendar c = Calendar.getInstance();\n                int mYear = c.get(Calendar.YEAR);\n                int mMonth = c.get(Calendar.MONTH);\n                int mDay = c.get(Calendar.DAY_OF_MONTH);\n                int mHour = c.get(Calendar.HOUR_OF_DAY);\n                int mMinute = c.get(Calendar.MINUTE);\n\n                textView3.setText(new StringBuilder()\n                    // Month is 0 based so add 1\n                    .append(mDay).append(\"/\")\n                    .append(mMonth + 1).append(\"/\")\n                    .append(mYear)\n                    .append(\" - \")\n                    .append(mHour)\n                    .append(\":\")\n                    .append(mMinute));\n            }\n        });\n\n    }\n}\n\n, 0, 30000);//Update text every 30 seconds\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670597159,"creation_date":1510222803,"answer_id":47199271,"question_id":47198692,"body_markdown":"Use a handler as stated by @Ezio\r\n\r\n    Handler handler = new Handler(Looper.getMainLooper());\r\n        \r\n    Runnable runnable = new Runnable() {\r\n    \r\n        public void run() {\r\n            Calendar c = Calendar.getInstance();\r\n            int mYear = c.get(Calendar.YEAR);\r\n            int mMonth = c.get(Calendar.MONTH);\r\n            int mDay = c.get(Calendar.DAY_OF_MONTH);\r\n            int mHour = c.get(Calendar.HOUR_OF_DAY);\r\n            int mMinute = c.get(Calendar.MINUTE);\r\n    \r\n            textView3.setText(new StringBuilder()\r\n                // Month is 0 based so add 1\r\n                .append(mDay).append(&quot;/&quot;)\r\n                .append(mMonth + 1).append(&quot;/&quot;)\r\n                .append(mYear)\r\n                .append(&quot; - &quot;)\r\n                .append(mHour)\r\n                .append(&quot;:&quot;)\r\n                .append(mMinute));\r\n    \r\n            //repeat every 30secs\r\n            handler.postDelayed(this, 30000);\r\n        }\r\n    }\r\n    \r\n    handler.postDelayed(runnable, 30000);\r\n\r\n- `Looper.getMainLooper()` will run the runnable on the UI Thread\r\n- `handler.postDelayed(this, 30000);` will make it repeat every 30secs","title":"Android Dev: Run TimerTask in UI Thread","body":"<p>Use a handler as stated by @Ezio</p>\n<pre><code>Handler handler = new Handler(Looper.getMainLooper());\n    \nRunnable runnable = new Runnable() {\n\n    public void run() {\n        Calendar c = Calendar.getInstance();\n        int mYear = c.get(Calendar.YEAR);\n        int mMonth = c.get(Calendar.MONTH);\n        int mDay = c.get(Calendar.DAY_OF_MONTH);\n        int mHour = c.get(Calendar.HOUR_OF_DAY);\n        int mMinute = c.get(Calendar.MINUTE);\n\n        textView3.setText(new StringBuilder()\n            // Month is 0 based so add 1\n            .append(mDay).append(&quot;/&quot;)\n            .append(mMonth + 1).append(&quot;/&quot;)\n            .append(mYear)\n            .append(&quot; - &quot;)\n            .append(mHour)\n            .append(&quot;:&quot;)\n            .append(mMinute));\n\n        //repeat every 30secs\n        handler.postDelayed(this, 30000);\n    }\n}\n\nhandler.postDelayed(runnable, 30000);\n</code></pre>\n<ul>\n<li><code>Looper.getMainLooper()</code> will run the runnable on the UI Thread</li>\n<li><code>handler.postDelayed(this, 30000);</code> will make it repeat every 30secs</li>\n</ul>\n"}],"owner":{"account_id":10404749,"reputation":43,"user_id":7672000,"accept_rate":20,"display_name":"J. Walsh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4985,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1670597159,"creation_date":1510221135,"question_id":47198692,"body_markdown":"Im trying to update a `TextView`.\r\n\r\nThis method is located in my Main Class and it is called in `onCreate()`;\r\n\r\nI have tried using `runOnUiThread()` to no avail..\r\n\r\nAs soon as the 30 seconds is reached and it tries to update the TextView it crashes!\r\n\r\nAny help is appreciated:\r\n\r\n    public void updateDisplay() {\r\n        Timer timer = new Timer();\r\n\r\n\r\n        timer.schedule(new TimerTask() {\r\n\r\n\r\n                           public void run() {\r\n                               Calendar c = Calendar.getInstance();\r\n                               int mYear = c.get(Calendar.YEAR);\r\n                               int mMonth = c.get(Calendar.MONTH);\r\n                               int mDay = c.get(Calendar.DAY_OF_MONTH);\r\n                               int mHour = c.get(Calendar.HOUR_OF_DAY);\r\n                               int mMinute = c.get(Calendar.MINUTE);\r\n\r\n                               textView3.setText(new StringBuilder()\r\n                                       // Month is 0 based so add 1\r\n                                       .append(mDay).append(&quot;/&quot;)\r\n                                       .append(mMonth + 1).append(&quot;/&quot;)\r\n                                       .append(mYear)\r\n                                       .append(&quot; - &quot;)\r\n                                       .append(mHour)\r\n                                       .append(&quot;:&quot;)\r\n                                       .append(mMinute));\r\n                           }\r\n                       }\r\n\r\n                ,0,30000);//Update text every 30 seconds\r\n    }\r\n\r\nAnd the error is:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: Timer-0\r\n                  Process: ggrgroup.com.workforceapp, PID: 21879\r\n                  android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\r\n                      at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:7261)\r\n                      at android.view.ViewRootImpl.invalidateChildInParent(ViewRootImpl.java:1100)\r\n                      at android.view.ViewGroup.invalidateChild(ViewGroup.java:5219)\r\n                      at android.view.View.invalidateInternal(View.java:12900)\r\n                      at android.view.View.invalidate(View.java:12860)\r\n                      at android.view.View.invalidate(View.java:12844)\r\n                      at android.widget.TextView.checkForRelayout(TextView.java:7459)\r\n                      at android.widget.TextView.setText(TextView.java:4390)\r\n                      at android.widget.TextView.setText(TextView.java:4247)\r\n                      at android.widget.TextView.setText(TextView.java:4222)\r\n                      at ggrgroup.com.workforceapp.MainActivity$1.run(MainActivity.java:77)\r\n                      at java.util.Timer$TimerImpl.run(Timer.java:284)\r\n","title":"Android Dev: Run TimerTask in UI Thread","body":"<p>Im trying to update a <code>TextView</code>.</p>\n\n<p>This method is located in my Main Class and it is called in <code>onCreate()</code>;</p>\n\n<p>I have tried using <code>runOnUiThread()</code> to no avail..</p>\n\n<p>As soon as the 30 seconds is reached and it tries to update the TextView it crashes!</p>\n\n<p>Any help is appreciated:</p>\n\n<pre><code>public void updateDisplay() {\n    Timer timer = new Timer();\n\n\n    timer.schedule(new TimerTask() {\n\n\n                       public void run() {\n                           Calendar c = Calendar.getInstance();\n                           int mYear = c.get(Calendar.YEAR);\n                           int mMonth = c.get(Calendar.MONTH);\n                           int mDay = c.get(Calendar.DAY_OF_MONTH);\n                           int mHour = c.get(Calendar.HOUR_OF_DAY);\n                           int mMinute = c.get(Calendar.MINUTE);\n\n                           textView3.setText(new StringBuilder()\n                                   // Month is 0 based so add 1\n                                   .append(mDay).append(\"/\")\n                                   .append(mMonth + 1).append(\"/\")\n                                   .append(mYear)\n                                   .append(\" - \")\n                                   .append(mHour)\n                                   .append(\":\")\n                                   .append(mMinute));\n                       }\n                   }\n\n            ,0,30000);//Update text every 30 seconds\n}\n</code></pre>\n\n<p>And the error is:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: Timer-0\n              Process: ggrgroup.com.workforceapp, PID: 21879\n              android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\n                  at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:7261)\n                  at android.view.ViewRootImpl.invalidateChildInParent(ViewRootImpl.java:1100)\n                  at android.view.ViewGroup.invalidateChild(ViewGroup.java:5219)\n                  at android.view.View.invalidateInternal(View.java:12900)\n                  at android.view.View.invalidate(View.java:12860)\n                  at android.view.View.invalidate(View.java:12844)\n                  at android.widget.TextView.checkForRelayout(TextView.java:7459)\n                  at android.widget.TextView.setText(TextView.java:4390)\n                  at android.widget.TextView.setText(TextView.java:4247)\n                  at android.widget.TextView.setText(TextView.java:4222)\n                  at ggrgroup.com.workforceapp.MainActivity$1.run(MainActivity.java:77)\n                  at java.util.Timer$TimerImpl.run(Timer.java:284)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mockito","spring-boot-test"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670591487,"post_id":74743574,"comment_id":131915189,"body_markdown":"`AppUserService` is a mock and you are not telling it what to do on `appUserService.findById(id)`","body":"<code>AppUserService</code> is a mock and you are not telling it what to do on <code>appUserService.findById(id)</code>"},{"owner":{"account_id":1052502,"reputation":3122,"user_id":1056042,"accept_rate":61,"display_name":"Arshad Ali"},"score":0,"creation_date":1670591691,"post_id":74743574,"comment_id":131915256,"body_markdown":"I have this `@Mock\n    private AppUserService appuserService;` is it not mocking `AppUserService`? please.","body":"I have this <code>@Mock     private AppUserService appuserService;</code> is it not mocking <code>AppUserService</code>? please."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670593821,"post_id":74743574,"comment_id":131915934,"body_markdown":"It does, but it does not know what to do when you call `appUserService.findById(id)`","body":"It does, but it does not know what to do when you call <code>appUserService.findById(id)</code>"},{"owner":{"account_id":1052502,"reputation":3122,"user_id":1056042,"accept_rate":61,"display_name":"Arshad Ali"},"score":0,"creation_date":1670593908,"post_id":74743574,"comment_id":131915966,"body_markdown":"Any solutions please!!!","body":"Any solutions please!!!"}],"answers":[{"tags":[],"owner":{"account_id":13141463,"reputation":116,"user_id":9492915,"display_name":"SputNick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670596189,"creation_date":1670596189,"answer_id":74744491,"question_id":74743574,"body_markdown":"The issue is happening because you have not mocked the findById method of AppUserService class\r\n\r\nYou have written the following piece of code `\r\n`\r\n\r\n    if(appUserService.findById(id).isEmpty()) throw new EntityNotFoundException(String.format(&quot;Record not found with id = %s&quot;, id));\r\n\r\nwhich throws as exception if the item with this id is not found.\r\n\r\nIn the test class, you have mocked the AppUserService using\r\n\r\n    @Mock\r\n    private AppUserService appuserService;\r\n\r\n however, you have not told the Mock framework what to do when the findById method is called.\r\nAdd a Mockito.when statement to your test case for example in the following format\r\n\r\n    Mockito.when(appUserService.findById(ArgumentMatchers.anyLong())).thenReturn(&quot;***Return a dummy object here ***&quot;)\r\n\r\nThis should let the mock framework know that it should return the dummy result when this method is called and that should prevent the exception from being thrown.","title":"Spring boot testing delete method always fails","body":"<p>The issue is happening because you have not mocked the findById method of AppUserService class</p>\n<p>You have written the following piece of code <code> </code></p>\n<pre><code>if(appUserService.findById(id).isEmpty()) throw new EntityNotFoundException(String.format(&quot;Record not found with id = %s&quot;, id));\n</code></pre>\n<p>which throws as exception if the item with this id is not found.</p>\n<p>In the test class, you have mocked the AppUserService using</p>\n<pre><code>@Mock\nprivate AppUserService appuserService;\n</code></pre>\n<p>however, you have not told the Mock framework what to do when the findById method is called.\nAdd a Mockito.when statement to your test case for example in the following format</p>\n<pre><code>Mockito.when(appUserService.findById(ArgumentMatchers.anyLong())).thenReturn(&quot;***Return a dummy object here ***&quot;)\n</code></pre>\n<p>This should let the mock framework know that it should return the dummy result when this method is called and that should prevent the exception from being thrown.</p>\n"}],"owner":{"account_id":1052502,"reputation":3122,"user_id":1056042,"accept_rate":61,"display_name":"Arshad Ali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744491,"answer_count":1,"score":0,"last_activity_date":1670596189,"creation_date":1670591262,"question_id":74743574,"body_markdown":"I have table of users as shown:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nRest controller method for delete user is:\r\n\r\n    @RequestMapping(APP_USER_API_PATH)\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class AppUserControllerImpl implements AppUserController {\r\n    \r\n        @NonNull\r\n        private final AppUserService appUserService;\r\n        @NonNull\r\n        private final AppUserMapper appUserMapper;\r\n    \r\n        @Override\r\n        @DeleteMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;?&gt; delete(@PathVariable(&quot;id&quot;) Long id) {\r\n            if(appUserService.findById(id).isEmpty())\r\n                throw new EntityNotFoundException(String.format(&quot;Record not found with id = %s&quot;, id));\r\n    \r\n            // If Found then\r\n            appUserService.deleteById(id);\r\n            return ResponseEntity.status(HttpStatus.OK).body(\r\n                    String.format(&quot;Record with id = %s deleted&quot;, id)\r\n            );\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nTest class and method is as follows:\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    @RunWith(SpringRunner.class)\r\n    public class AppUserControllerImplTest {\r\n        private static final String ENDPOINT_URL = APP_USER_API_PATH;\r\n    \r\n        @InjectMocks\r\n        private AppUserControllerImpl appuserController;\r\n        @Mock\r\n        private AppUserService appuserService;\r\n        @Mock\r\n        private AppUserMapper appuserMapper;\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            this.mockMvc = MockMvcBuilders.standaloneSetup(this.appuserController).build();\r\n        }\r\n    \r\n        @Test\r\n        public void delete() throws Exception {\r\n            Mockito.doNothing().when(appuserService).deleteById(ArgumentMatchers.anyLong());\r\n            mockMvc.perform(\r\n                            MockMvcRequestBuilders.delete(ENDPOINT_URL + &quot;/&quot; + 1L + &quot;&quot;))\r\n                    .andExpect(MockMvcResultMatchers.status().isOk());\r\n            Mockito.verify(appuserService, Mockito.times(1)).deleteById(Mockito.anyLong());\r\n            Mockito.verifyNoMoreInteractions(appuserService);\r\n        }\r\n    }\r\n\r\nit always throws exception:\r\n\r\n    Caused by: javax.persistence.EntityNotFoundException: Record not found with id = 1\r\n\r\nand the test always fails even if record with id = 1 exists.\r\n\r\nFull StackTrace:\r\n\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is javax.persistence.EntityNotFoundException: Record not found with id = 1\r\n    \r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\r\n    \tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n    \tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\r\n    \tat pk.team.inlab.web.app.profile2.controller.impl.AppUserControllerImplTest.delete(AppUserControllerImplTest.java:141)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n    \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: javax.persistence.EntityNotFoundException: Record not found with id = 1\r\n    \tat pk.team.inlab.web.app.profile2.controller.impl.AppUserControllerImpl.delete(AppUserControllerImpl.java:89)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \t... 43 more\r\n\r\n  [1]: https://i.stack.imgur.com/UXzwO.png","title":"Spring boot testing delete method always fails","body":"<p>I have table of users as shown:</p>\n<p><a href=\"https://i.stack.imgur.com/UXzwO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXzwO.png\" alt=\"enter image description here\" /></a></p>\n<p>Rest controller method for delete user is:</p>\n<pre><code>@RequestMapping(APP_USER_API_PATH)\n@RestController\n@RequiredArgsConstructor\npublic class AppUserControllerImpl implements AppUserController {\n\n    @NonNull\n    private final AppUserService appUserService;\n    @NonNull\n    private final AppUserMapper appUserMapper;\n\n    @Override\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;?&gt; delete(@PathVariable(&quot;id&quot;) Long id) {\n        if(appUserService.findById(id).isEmpty())\n            throw new EntityNotFoundException(String.format(&quot;Record not found with id = %s&quot;, id));\n\n        // If Found then\n        appUserService.deleteById(id);\n        return ResponseEntity.status(HttpStatus.OK).body(\n                String.format(&quot;Record with id = %s deleted&quot;, id)\n        );\n\n    }\n\n}\n</code></pre>\n<p>Test class and method is as follows:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@RunWith(SpringRunner.class)\npublic class AppUserControllerImplTest {\n    private static final String ENDPOINT_URL = APP_USER_API_PATH;\n\n    @InjectMocks\n    private AppUserControllerImpl appuserController;\n    @Mock\n    private AppUserService appuserService;\n    @Mock\n    private AppUserMapper appuserMapper;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup() {\n        this.mockMvc = MockMvcBuilders.standaloneSetup(this.appuserController).build();\n    }\n\n    @Test\n    public void delete() throws Exception {\n        Mockito.doNothing().when(appuserService).deleteById(ArgumentMatchers.anyLong());\n        mockMvc.perform(\n                        MockMvcRequestBuilders.delete(ENDPOINT_URL + &quot;/&quot; + 1L + &quot;&quot;))\n                .andExpect(MockMvcResultMatchers.status().isOk());\n        Mockito.verify(appuserService, Mockito.times(1)).deleteById(Mockito.anyLong());\n        Mockito.verifyNoMoreInteractions(appuserService);\n    }\n}\n</code></pre>\n<p>it always throws exception:</p>\n<pre><code>Caused by: javax.persistence.EntityNotFoundException: Record not found with id = 1\n</code></pre>\n<p>and the test always fails even if record with id = 1 exists.</p>\n<p>Full StackTrace:</p>\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is javax.persistence.EntityNotFoundException: Record not found with id = 1\n\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n    at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n    at pk.team.inlab.web.app.profile2.controller.impl.AppUserControllerImplTest.delete(AppUserControllerImplTest.java:141)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: javax.persistence.EntityNotFoundException: Record not found with id = 1\n    at pk.team.inlab.web.app.profile2.controller.impl.AppUserControllerImpl.delete(AppUserControllerImpl.java:89)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    ... 43 more\n</code></pre>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":3241533,"reputation":114,"user_id":2734441,"display_name":"hmicn"},"score":0,"creation_date":1470238778,"post_id":38747485,"comment_id":64869908,"body_markdown":"Why can&#39;t you use arrays?","body":"Why can&#39;t you use arrays?"},{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1470239003,"post_id":38747485,"comment_id":64870062,"body_markdown":"It should not use arrays in what way? Storing the numbers? Sorting the numbers?","body":"It should not use arrays in what way? Storing the numbers? Sorting the numbers?"},{"owner":{"account_id":8945324,"reputation":13,"user_id":6673006,"display_name":"Slick"},"score":0,"creation_date":1470239316,"post_id":38747485,"comment_id":64870301,"body_markdown":"both storing and sorting","body":"both storing and sorting"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1470237707,"creation_date":1470237516,"answer_id":38747596,"question_id":38747485,"body_markdown":"    List&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n    while (true) {\r\n        System.out.print(&quot;Enter a number, -1 to exit: &quot;);\r\n        int num = scanner.nextInt();\r\n\r\n        if (num == -1) break;\r\n\r\n        list.add(num);\r\n    }\r\n\r\n    // sort the list (ascending)\r\n    Collections.sort(list);\r\n\r\n    // output the list\r\n    for (Integer val : list) {\r\n        System.out.println(val);\r\n    }","title":"how to input n numbers and print it in ascending order without using array","body":"<pre><code>List&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\nScanner scanner = new Scanner(System.in);\n\nwhile (true) {\n    System.out.print(\"Enter a number, -1 to exit: \");\n    int num = scanner.nextInt();\n\n    if (num == -1) break;\n\n    list.add(num);\n}\n\n// sort the list (ascending)\nCollections.sort(list);\n\n// output the list\nfor (Integer val : list) {\n    System.out.println(val);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470238739,"creation_date":1470238739,"answer_id":38748082,"question_id":38747485,"body_markdown":"You could use Streams:\r\n\r\n        StreamSupport.stream(\r\n                Spliterators.spliteratorUnknownSize(new Scanner(System.in), Spliterator.ORDERED),\r\n                false)\r\n                .limit(10)\r\n                .sorted()\r\n                .forEach(System.out::println);\r\n ","title":"how to input n numbers and print it in ascending order without using array","body":"<p>You could use Streams:</p>\n\n<pre><code>    StreamSupport.stream(\n            Spliterators.spliteratorUnknownSize(new Scanner(System.in), Spliterator.ORDERED),\n            false)\n            .limit(10)\n            .sorted()\n            .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6699975,"reputation":5536,"user_id":5166818,"display_name":"Amit Kaneria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470242552,"creation_date":1470242552,"answer_id":38749327,"question_id":38747485,"body_markdown":"Use SortedSet for default sorting, without duplicates. (Don&#39;t if duplicates are needed here!)  \r\n\r\n        SortedSet&lt;Integer&gt; sortedSet = new TreeSet&lt;Integer&gt;();\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        while (true) {\r\n            System.out.print(&quot;Enter a number, -1 to exit: &quot;);\r\n            int num = scanner.nextInt();\r\n            if (num == -1) \r\n                break;\r\n            sortedSet.add(num);\r\n        }\r\n        System.out.println(sortedSet);\r\n","title":"how to input n numbers and print it in ascending order without using array","body":"<p>Use SortedSet for default sorting, without duplicates. (Don't if duplicates are needed here!)  </p>\n\n<pre><code>    SortedSet&lt;Integer&gt; sortedSet = new TreeSet&lt;Integer&gt;();\n    Scanner scanner = new Scanner(System.in);\n\n    while (true) {\n        System.out.print(\"Enter a number, -1 to exit: \");\n        int num = scanner.nextInt();\n        if (num == -1) \n            break;\n        sortedSet.add(num);\n    }\n    System.out.println(sortedSet);\n</code></pre>\n"}],"owner":{"account_id":8945324,"reputation":13,"user_id":6673006,"display_name":"Slick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1527,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38747596,"answer_count":3,"score":1,"last_activity_date":1670595281,"creation_date":1470237218,"question_id":38747485,"body_markdown":"I was trying to create a program that takes `n` number of input in a loop and capable of showing output in ascending order. The main theme of program is **it should not use** arrays.\r\n\r\nI tried it by creating a program that takes input and shows smallest number first then 2nd smallest and 3rd smallest and so on. But I am new to programming so my program could do only like 1st smallest and it does not work.\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nI also saw heap data structure in one of the similar questions but couldn&#39;t figure out how it can work without arrays.\r\n\r\nPlease help me how can we use heap data structure or give me a good suggestion to do it.\r\n\r\n\r\n ","title":"how to input n numbers and print it in ascending order without using array","body":"<p>I was trying to create a program that takes <code>n</code> number of input in a loop and capable of showing output in ascending order. The main theme of program is <strong>it should not use</strong> arrays.</p>\n\n<p>I tried it by creating a program that takes input and shows smallest number first then 2nd smallest and 3rd smallest and so on. But I am new to programming so my program could do only like 1st smallest and it does not work.\n<br>\n<br>\nI also saw heap data structure in one of the similar questions but couldn't figure out how it can work without arrays.</p>\n\n<p>Please help me how can we use heap data structure or give me a good suggestion to do it.</p>\n"},{"tags":["java","arrays","null"],"comments":[{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1670595614,"post_id":74744153,"comment_id":131916550,"body_markdown":"What do you want to achieve with the null values? Probably I am missing something - why and how should JAVA generate null values in your array?","body":"What do you want to achieve with the null values? Probably I am missing something - why and how should JAVA generate null values in your array?"},{"owner":{"account_id":21554080,"reputation":13,"user_id":20734004,"display_name":"Nathan Ikazuyir"},"score":0,"creation_date":1670604853,"post_id":74744153,"comment_id":131919509,"body_markdown":"@the-incredible-jan i mean whenever my array is full i create another with bigger size and copy the last array elements into new one. but new elements are filled with nulls automatically(java works so)","body":"@the-incredible-jan i mean whenever my array is full i create another with bigger size and copy the last array elements into new one. but new elements are filled with nulls automatically(java works so)"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670595015,"creation_date":1670595015,"answer_id":74744252,"question_id":74744153,"body_markdown":"Your requirement is an [XY-problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem).\r\n\r\nIt&#39;s an antipattern when `null` has some kind of special meaning in your business logic. The only valid meaning of `null` -  is no data (*otherwise the code becomes muddy*).\r\n\r\n&gt; i don&#39;t like this solution because it&#39;s hard to implement and wastes MANY RAM\r\n\r\nThere&#39;s no need to waste lots of memory. You need only **one reference** to a placeholder object, which you can use as many times as you need.","title":"How to store null elements in some object array and to know they are stored intentionally(not generated by java)","body":"<p>Your requirement is an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY-problem</a>.</p>\n<p>It's an antipattern when <code>null</code> has some kind of special meaning in your business logic. The only valid meaning of <code>null</code> -  is no data (<em>otherwise the code becomes muddy</em>).</p>\n<blockquote>\n<p>i don't like this solution because it's hard to implement and wastes MANY RAM</p>\n</blockquote>\n<p>There's no need to waste lots of memory. You need only <strong>one reference</strong> to a placeholder object, which you can use as many times as you need.</p>\n"}],"owner":{"account_id":21554080,"reputation":13,"user_id":20734004,"display_name":"Nathan Ikazuyir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744252,"answer_count":1,"score":0,"last_activity_date":1670595015,"creation_date":1670594506,"question_id":74744153,"body_markdown":"I am creating ExpandableArray class what contains Product classes inside.\r\nI have method add(Product p) that adds Product in first null position in my ExpandableArray.\r\nAnd method replace(index int, Product p) - replaces product with this index by with p.\r\n\r\ni have confronted following situation:\r\n```\r\nExpandableArray expArr = new ExpandableArray(3); // let initial size be 3 products.\r\nexpArr.add(p1);\r\nexpArr.add(p2);\r\nexpArr.replace(0,null) // [null,p2,null]. \r\n```\r\n\r\nnotice that i replaced first element by null intentionally! method add shouldn&#39;t touch it, it should work with the second null.\r\n\r\nBut how do i do that?\r\n\r\nMy solution is to make `integer[]intentionedNullIndexes` array inside `ExpandableArray`, and it will contain all indexes will intentioned nulls. so method add firstly will check if this null index is in intentionedNullIndexes and if it is he won&#39;t touch it.\r\n\r\ni don&#39;t like this solution because it&#39;s hard to implement and wastes MANY RAM. Any suggestions?","title":"How to store null elements in some object array and to know they are stored intentionally(not generated by java)","body":"<p>I am creating ExpandableArray class what contains Product classes inside.\nI have method add(Product p) that adds Product in first null position in my ExpandableArray.\nAnd method replace(index int, Product p) - replaces product with this index by with p.</p>\n<p>i have confronted following situation:</p>\n<pre><code>ExpandableArray expArr = new ExpandableArray(3); // let initial size be 3 products.\nexpArr.add(p1);\nexpArr.add(p2);\nexpArr.replace(0,null) // [null,p2,null]. \n</code></pre>\n<p>notice that i replaced first element by null intentionally! method add shouldn't touch it, it should work with the second null.</p>\n<p>But how do i do that?</p>\n<p>My solution is to make <code>integer[]intentionedNullIndexes</code> array inside <code>ExpandableArray</code>, and it will contain all indexes will intentioned nulls. so method add firstly will check if this null index is in intentionedNullIndexes and if it is he won't touch it.</p>\n<p>i don't like this solution because it's hard to implement and wastes MANY RAM. Any suggestions?</p>\n"},{"tags":["java","spring","logging","mybatis","spring-mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1670509429,"post_id":74731437,"comment_id":131895166,"body_markdown":"There is no such setting in MyBatis. Are you aware that you can set the log level against the package of the mappers? If, however, there are 500 packages, it may not be realistic either. If that is the case, you should consider using external logging tool like [jdbcdslog](https://github.com/adrianshum/jdbcdslog).","body":"There is no such setting in MyBatis. Are you aware that you can set the log level against the package of the mappers? If, however, there are 500 packages, it may not be realistic either. If that is the case, you should consider using external logging tool like <a href=\"https://github.com/adrianshum/jdbcdslog\" rel=\"nofollow noreferrer\">jdbcdslog</a>."},{"owner":{"account_id":27190414,"reputation":3,"user_id":20724278,"display_name":"Dany Allaw"},"score":0,"creation_date":1670509937,"post_id":74731437,"comment_id":131895334,"body_markdown":"the thing i can&#39;t get my head around is why i used to be able to do that using java.sql and now i can&#39;t . and yea i dont have a single package for all my mappers even if i did for some reason pointing to a mapper location doesnt get me the logs as well it only works when i use the namespace","body":"the thing i can&#39;t get my head around is why i used to be able to do that using java.sql and now i can&#39;t . and yea i dont have a single package for all my mappers even if i did for some reason pointing to a mapper location doesnt get me the logs as well it only works when i use the namespace"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1670512950,"post_id":74731437,"comment_id":131896508,"body_markdown":"IIRC, there was no way to set different log level for a particular statement or mapper in iBATIS. It is possible with MyBatis&#39; logging system. You didn&#39;t show any mapper, config, etc., but if the namespace is `xxx.yyy.MyMapper`, for example, the logger name should be `xxx.yyy`. If you don&#39;t use fully-qualified name as the namespace (like recommended in the [doc](https://mybatis.org/mybatis-3/getting-started.html)), this method won&#39;t work.","body":"IIRC, there was no way to set different log level for a particular statement or mapper in iBATIS. It is possible with MyBatis&#39; logging system. You didn&#39;t show any mapper, config, etc., but if the namespace is <code>xxx.yyy.MyMapper</code>, for example, the logger name should be <code>xxx.yyy</code>. If you don&#39;t use fully-qualified name as the namespace (like recommended in the <a href=\"https://mybatis.org/mybatis-3/getting-started.html\" rel=\"nofollow noreferrer\">doc</a>), this method won&#39;t work."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670529254,"post_id":74731437,"comment_id":131901742,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27190414,"reputation":3,"user_id":20724278,"display_name":"Dany Allaw"},"score":0,"creation_date":1670569264,"post_id":74731437,"comment_id":131908832,"body_markdown":"Unfortunately this is legacy code and it&#39;s not following the naming convention , the only common thing between 100s of xml mappers is that they all exist in a mappers list in mybatis-config file , i dont know if that could help in any way @ave","body":"Unfortunately this is legacy code and it&#39;s not following the naming convention , the only common thing between 100s of xml mappers is that they all exist in a mappers list in mybatis-config file , i dont know if that could help in any way @ave"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1670569897,"post_id":74731437,"comment_id":131908954,"body_markdown":"@DanyAllaw Have you considered using JDBC logging library as I mentioned in my first comment?","body":"@DanyAllaw Have you considered using JDBC logging library as I mentioned in my first comment?"},{"owner":{"account_id":27190414,"reputation":3,"user_id":20724278,"display_name":"Dany Allaw"},"score":0,"creation_date":1670577201,"post_id":74731437,"comment_id":131910871,"body_markdown":"I just implemented it and it was exactly what i was looking for , Thanks alot !\nif you want to ,  go ahead and put your reply so i mark it as a solution @ave","body":"I just implemented it and it was exactly what i was looking for , Thanks alot ! if you want to ,  go ahead and put your reply so i mark it as a solution @ave"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1670595345,"post_id":74731437,"comment_id":131916453,"body_markdown":"I&#39;m glad to know it worked! I posted a brief answer summarizing our comments, but if you could come up with a better one, feel free to post/accept your own answer. :)","body":"I&#39;m glad to know it worked! I posted a brief answer summarizing our comments, but if you could come up with a better one, feel free to post/accept your own answer. :)"}],"answers":[{"tags":[],"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670594958,"creation_date":1670594958,"answer_id":74744239,"question_id":74731437,"body_markdown":"If there is a &#39;package&#39; common to your mappers&#39; namespaces, you can set the log level against the package.  \r\nLet&#39;s say you have two mappers whose namespaces are `foo.mapper.MapperA` and `foo.mapper.MapperB` respectively.  \r\nThe common package, in this case, is `foo.mapper`.\r\n\r\nWhen there is no common package, you may have to set log level for each mapper if you want to log all statements.  \r\nThis is not an ideal solution when you have 500 mappers, obviously.  \r\nIn such a scenario, I would suggest using an external JDBC logging tool like [JdbcDsLog](https://github.com/adrianshum/jdbcdslog).  \r\n","title":"Im Trying to log queries , doesnt matter if they&#39;re unprepared ones , for over 500 xml mapper files using jdk logger . (mybatis - spring )","body":"<p>If there is a 'package' common to your mappers' namespaces, you can set the log level against the package.<br />\nLet's say you have two mappers whose namespaces are <code>foo.mapper.MapperA</code> and <code>foo.mapper.MapperB</code> respectively.<br />\nThe common package, in this case, is <code>foo.mapper</code>.</p>\n<p>When there is no common package, you may have to set log level for each mapper if you want to log all statements.<br />\nThis is not an ideal solution when you have 500 mappers, obviously.<br />\nIn such a scenario, I would suggest using an external JDBC logging tool like <a href=\"https://github.com/adrianshum/jdbcdslog\" rel=\"nofollow noreferrer\">JdbcDsLog</a>.</p>\n"}],"owner":{"account_id":27190414,"reputation":3,"user_id":20724278,"display_name":"Dany Allaw"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744239,"answer_count":1,"score":0,"last_activity_date":1670594958,"creation_date":1670508116,"question_id":74731437,"body_markdown":"previously when I used to used ibatis , it was running fine just by adding java.sql to my logs.properties file in tomcat and that used to output the queries with their params to the log file . \r\n\r\nnow since I switched from ibatis to mybatis and also from spring 1.2 to spring 5 (i can&#39;t really tell where the problem came from at this point ) I&#39;m not able to log queries as I used before. specifying java.sql in my logs.properties doesn&#39;t print out any logs to my file. \r\n\r\nall my configurations are XML based.\r\n\r\nThe only way I&#39;m able to log queries so far is through including the namespace of the XML mapper to my logs.properties file but this is just unrealistic for over 500 XML files that are in different locations at some point. \r\n\r\nI&#39;m trying to find a class that I can include in my logs.properties file that would be able to do the same job as java.sql\r\n","title":"Im Trying to log queries , doesnt matter if they&#39;re unprepared ones , for over 500 xml mapper files using jdk logger . (mybatis - spring )","body":"<p>previously when I used to used ibatis , it was running fine just by adding java.sql to my logs.properties file in tomcat and that used to output the queries with their params to the log file .</p>\n<p>now since I switched from ibatis to mybatis and also from spring 1.2 to spring 5 (i can't really tell where the problem came from at this point ) I'm not able to log queries as I used before. specifying java.sql in my logs.properties doesn't print out any logs to my file.</p>\n<p>all my configurations are XML based.</p>\n<p>The only way I'm able to log queries so far is through including the namespace of the XML mapper to my logs.properties file but this is just unrealistic for over 500 XML files that are in different locations at some point.</p>\n<p>I'm trying to find a class that I can include in my logs.properties file that would be able to do the same job as java.sql</p>\n"},{"tags":["java","spring-boot","swagger-2.0","lombok"],"comments":[{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1571611764,"post_id":58467505,"comment_id":103288334,"body_markdown":"If you use a build tool that allows it, you can write a simple plugin that reads your generated files and adds the annotation to them. I can see this being done very easily with gradle","body":"If you use a build tool that allows it, you can write a simple plugin that reads your generated files and adds the annotation to them. I can see this being done very easily with gradle"}],"answers":[{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571611020,"creation_date":1571611020,"answer_id":58477884,"question_id":58467505,"body_markdown":"What about\r\n\r\n    perl -pi -e &#39;s/(?=^public class )/\\@Data\\n\\@Builder\\n\\@NoArgsConstructor\\n\\@AllArgsConstructor\\n/&#39; *.java\r\n\r\n? I guess, that&#39;s not what you expected, but you can integrate it into your build process and have a time-proof solution.\r\n\r\nActually, you&#39;ll need the imports, too, but that&#39;s equally simple.\r\n","title":"Add lombok (or any) annotation to swagger generated class","body":"<p>What about</p>\n\n<pre><code>perl -pi -e 's/(?=^public class )/\\@Data\\n\\@Builder\\n\\@NoArgsConstructor\\n\\@AllArgsConstructor\\n/' *.java\n</code></pre>\n\n<p>? I guess, that's not what you expected, but you can integrate it into your build process and have a time-proof solution.</p>\n\n<p>Actually, you'll need the imports, too, but that's equally simple.</p>\n"}],"owner":{"account_id":6636762,"reputation":148,"user_id":5123722,"display_name":"Vanderson Assis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5194,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1670594803,"creation_date":1571515115,"question_id":58467505,"body_markdown":"I scavenged the internet but didn&#39;t find anything to solve this problem.\r\nIs it possible to add the lombok annotations in a swagger class UPON generation?\r\n\r\nI have this swagger schema:\r\n\r\n    Product:\r\n    type: &quot;object&quot;\r\n    required:\r\n      - idSeller\r\n      - model\r\n      - name\r\n      - description\r\n      - price\r\n    properties:\r\n      id:\r\n        type: string\r\n      idSeller:\r\n        type: string\r\n      model:\r\n        type: string\r\n      name:\r\n        type: string\r\n      description:\r\n        type: string\r\n      price:\r\n        type: number\r\n        format: currency\r\n        minimum: 0.01\r\n\r\nWhich generated this code:\r\n\r\n    @Validated\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.languages.SpringCodegen&quot;, date = &quot;2019-10-18T20:36:31.834-03:00&quot;)\r\n    \r\n    public class Product   {\r\n    \t@JsonProperty(&quot;id&quot;)\r\n    \tprivate String id = null;\r\n    \r\n    \t@JsonProperty(&quot;idSeller&quot;)\r\n    \tprivate String idSeller = null;\r\n    \r\n    \t//rest of the code ommited\r\n    } \r\n\r\nBut I need it to generate this:\r\n\r\n    @Validated\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.languages.SpringCodegen&quot;, date = &quot;2019-10-18T20:36:31.834-03:00&quot;)\r\n    \r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Product   {\r\n    \t@JsonProperty(&quot;id&quot;)\r\n    \tprivate String id = null;\r\n    \r\n    \t@JsonProperty(&quot;idSeller&quot;)\r\n    \tprivate String idSeller = null;\r\n    \r\n    \t//rest of the code ommited\r\n    }\r\n\r\nWith the lombok Data, Builder, NoArgsConstructor and AllArgsConstructor annotations.\r\n\r\nCould you help me on this?","title":"Add lombok (or any) annotation to swagger generated class","body":"<p>I scavenged the internet but didn't find anything to solve this problem.\nIs it possible to add the lombok annotations in a swagger class UPON generation?</p>\n\n<p>I have this swagger schema:</p>\n\n<pre><code>Product:\ntype: \"object\"\nrequired:\n  - idSeller\n  - model\n  - name\n  - description\n  - price\nproperties:\n  id:\n    type: string\n  idSeller:\n    type: string\n  model:\n    type: string\n  name:\n    type: string\n  description:\n    type: string\n  price:\n    type: number\n    format: currency\n    minimum: 0.01\n</code></pre>\n\n<p>Which generated this code:</p>\n\n<pre><code>@Validated\n@javax.annotation.Generated(value = \"io.swagger.codegen.languages.SpringCodegen\", date = \"2019-10-18T20:36:31.834-03:00\")\n\npublic class Product   {\n    @JsonProperty(\"id\")\n    private String id = null;\n\n    @JsonProperty(\"idSeller\")\n    private String idSeller = null;\n\n    //rest of the code ommited\n} \n</code></pre>\n\n<p>But I need it to generate this:</p>\n\n<pre><code>@Validated\n@javax.annotation.Generated(value = \"io.swagger.codegen.languages.SpringCodegen\", date = \"2019-10-18T20:36:31.834-03:00\")\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Product   {\n    @JsonProperty(\"id\")\n    private String id = null;\n\n    @JsonProperty(\"idSeller\")\n    private String idSeller = null;\n\n    //rest of the code ommited\n}\n</code></pre>\n\n<p>With the lombok Data, Builder, NoArgsConstructor and AllArgsConstructor annotations.</p>\n\n<p>Could you help me on this?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1670580095,"post_id":74741483,"comment_id":131911744,"body_markdown":"`fill(&quot;abc&quot;, (List&lt;String&gt;) map.get(1));` !? May obviously crash at runtime if you actually have a list of Integers in there and somewhere try to then get the element out of that list and then end up casting a string to and int. Generally this cannot be achieved in a type-safe way.","body":"<code>fill(&quot;abc&quot;, (List&lt;String&gt;) map.get(1));</code> !? May obviously crash at runtime if you actually have a list of Integers in there and somewhere try to then get the element out of that list and then end up casting a string to and int. Generally this cannot be achieved in a type-safe way."},{"owner":{"account_id":25842567,"reputation":3,"user_id":19577899,"display_name":"wiseacre"},"score":0,"creation_date":1670580313,"post_id":74741483,"comment_id":131911829,"body_markdown":"Assume the type is only available at runtime. For example, you read a file that has both strings and ints (one per row). So, you can&#39;t cast the list to the actual type in code.","body":"Assume the type is only available at runtime. For example, you read a file that has both strings and ints (one per row). So, you can&#39;t cast the list to the actual type in code."},{"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"score":0,"creation_date":1670580942,"post_id":74741483,"comment_id":131912011,"body_markdown":"If you don&#39;t know the type to cast to, you can&#39;t safely add something to it. What problem are you trying to solve? Reading a csv file?","body":"If you don&#39;t know the type to cast to, you can&#39;t safely add something to it. What problem are you trying to solve? Reading a csv file?"},{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1670581284,"post_id":74741483,"comment_id":131912103,"body_markdown":"But you need to know the type when creating the Lists, e.g. List&lt;String&gt; and populating them.","body":"But you need to know the type when creating the Lists, e.g. List&lt;String&gt; and populating them."},{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1670581646,"post_id":74741483,"comment_id":131912225,"body_markdown":"Or you could leave away the generic in the List of your fill method. This is then a raw use of course but it is not anyway. Or create a method for String, Integer, etc. and try to distinguish on the type of the obj or so","body":"Or you could leave away the generic in the List of your fill method. This is then a raw use of course but it is not anyway. Or create a method for String, Integer, etc. and try to distinguish on the type of the obj or so"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1670582312,"post_id":74741483,"comment_id":131912428,"body_markdown":"&lt;?&gt; will find the type, so it deduce that&#39;s a string after the 1th call. But the second call say it&#39;s an integer.\nIf it really contains anything so it&#39;s not a generic List.","body":"&lt;?&gt; will find the type, so it deduce that&#39;s a string after the 1th call. But the second call say it&#39;s an integer. If it really contains anything so it&#39;s not a generic List."}],"answers":[{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670590038,"creation_date":1670589663,"answer_id":74743309,"question_id":74741483,"body_markdown":"You can, but it&#39;s inadvisable to do so, as you (and the compiler) can no longer reason about what is really inside your map. Type safety exists so that you are much less likely to write code that crashes, such as accidentally trying to add an integer into a List of Strings or a String into a List of Integers.\r\n\r\nThis seems to be trying to use Maps for something that they aren&#39;t really made for. Consider creating a new class type instead that properly encapsulates the data that you&#39;re trying to model:\r\n\r\n    public class MyType {\r\n        private List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n        private List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n    \r\n        public List&lt;String&gt; getStrings() { return strings; }\r\n        public List&lt;Integer&gt; getIntegers() { return integers; }\r\n    }\r\n    \r\n    fill(&quot;abc&quot;, myType.getStrings()); //will work fine\r\n    fill(&quot;abc&quot;, myType.getIntegers()); //compiler error\r\n    fill(5, myType.getIntegers()); //great\r\n    fill(5, myType.getStrings()); //boo\r\n\r\nThis way the compiler helps you write safe code, and you (and anybody else that may need to work with your code in the future) will have an immediate understanding of what that code is supposed to do, especially if you use more expressive names, such as naming the type `Student`, getStrings becomes `getSubjectsTaken()` and getIntegers might become `getAttendanceRecord()`. Takes on a completely new dimension then.","title":"Java map with lists of different types as values","body":"<p>You can, but it's inadvisable to do so, as you (and the compiler) can no longer reason about what is really inside your map. Type safety exists so that you are much less likely to write code that crashes, such as accidentally trying to add an integer into a List of Strings or a String into a List of Integers.</p>\n<p>This seems to be trying to use Maps for something that they aren't really made for. Consider creating a new class type instead that properly encapsulates the data that you're trying to model:</p>\n<pre><code>public class MyType {\n    private List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n    private List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n\n    public List&lt;String&gt; getStrings() { return strings; }\n    public List&lt;Integer&gt; getIntegers() { return integers; }\n}\n\nfill(&quot;abc&quot;, myType.getStrings()); //will work fine\nfill(&quot;abc&quot;, myType.getIntegers()); //compiler error\nfill(5, myType.getIntegers()); //great\nfill(5, myType.getStrings()); //boo\n</code></pre>\n<p>This way the compiler helps you write safe code, and you (and anybody else that may need to work with your code in the future) will have an immediate understanding of what that code is supposed to do, especially if you use more expressive names, such as naming the type <code>Student</code>, getStrings becomes <code>getSubjectsTaken()</code> and getIntegers might become <code>getAttendanceRecord()</code>. Takes on a completely new dimension then.</p>\n"},{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670594389,"creation_date":1670594389,"answer_id":74744134,"question_id":74741483,"body_markdown":"If you want a list that can store data of any type, use `List&lt;Object&gt;`.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n  Map&lt;Integer, List&lt;Object&gt;&gt; map = new HashMap&lt;&gt;();\r\n  List&lt;Object&gt; strings = new ArrayList&lt;&gt;();\r\n  List&lt;Object&gt; integers = new ArrayList&lt;&gt;();\r\n  map.put(1, strings);\r\n  map.put(2, integers);\r\n  \r\n  map.get(1).add(&quot;abc&quot;);\r\n}\r\n```","title":"Java map with lists of different types as values","body":"<p>If you want a list that can store data of any type, use <code>List&lt;Object&gt;</code>.</p>\n<pre><code>public static void main(String[] args) {\n  Map&lt;Integer, List&lt;Object&gt;&gt; map = new HashMap&lt;&gt;();\n  List&lt;Object&gt; strings = new ArrayList&lt;&gt;();\n  List&lt;Object&gt; integers = new ArrayList&lt;&gt;();\n  map.put(1, strings);\n  map.put(2, integers);\n  \n  map.get(1).add(&quot;abc&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":25842567,"reputation":3,"user_id":19577899,"display_name":"wiseacre"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670594389,"creation_date":1670579891,"question_id":74741483,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n  Map&lt;Integer, List&lt;?&gt;&gt; map = new HashMap&lt;&gt;();\r\n  List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n  List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n  map.put(1, strings);\r\n  map.put(2, integers);\r\n  \r\n  fill(&quot;abc&quot;, map.get(1));   // red underline\r\n}\r\n\r\npublic static &lt;T&gt; void fill(T obj, List&lt;T&gt; list) {\r\n    list.add(obj);\r\n}\r\n```\r\n\r\nMy IDE marks the call to fill with a red underline and shows this message:\r\n```\r\nreason: no instance(s) of type variable(s) exist so that String conforms to capture of ? \r\ninference variable T has incompatible bounds: \r\nequality constraints: capture of ? \r\nlower bounds: String\r\n```\r\nHow do I code a map that can have lists of different types as values?\r\n\r\nEdit: Assume the type of the element to be added is only available at runtime. For example, you read a file that has both strings and ints (one per row). So, you can&#39;t cast the list to the actual type in code. ","title":"Java map with lists of different types as values","body":"<pre><code>public static void main(String[] args) {\n  Map&lt;Integer, List&lt;?&gt;&gt; map = new HashMap&lt;&gt;();\n  List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n  List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n  map.put(1, strings);\n  map.put(2, integers);\n  \n  fill(&quot;abc&quot;, map.get(1));   // red underline\n}\n\npublic static &lt;T&gt; void fill(T obj, List&lt;T&gt; list) {\n    list.add(obj);\n}\n</code></pre>\n<p>My IDE marks the call to fill with a red underline and shows this message:</p>\n<pre><code>reason: no instance(s) of type variable(s) exist so that String conforms to capture of ? \ninference variable T has incompatible bounds: \nequality constraints: capture of ? \nlower bounds: String\n</code></pre>\n<p>How do I code a map that can have lists of different types as values?</p>\n<p>Edit: Assume the type of the element to be added is only available at runtime. For example, you read a file that has both strings and ints (one per row). So, you can't cast the list to the actual type in code.</p>\n"},{"tags":["java","android","ssl","esp32"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1670249375,"post_id":74688970,"comment_id":131825799,"body_markdown":"You programmed that Xamarin app. So why are you opening six connections? You should know that i think. For what are they opened?","body":"You programmed that Xamarin app. So why are you opening six connections? You should know that i think. For what are they opened?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1670337351,"post_id":74688970,"comment_id":131849830,"body_markdown":"I did not downvote. A browser will open several sockets if for instance the html page contains images. If the html source contains `&lt;img&gt;` tags. Then for every picture a new socket can be opened. You should know why your app opens more sockets then one. Also extra threads/sockets can be started to include scripts.","body":"I did not downvote. A browser will open several sockets if for instance the html page contains images. If the html source contains <code>&lt;img&gt;</code> tags. Then for every picture a new socket can be opened. You should know why your app opens more sockets then one. Also extra threads/sockets can be started to include scripts."},{"owner":{"account_id":1603320,"reputation":793,"user_id":1483943,"accept_rate":75,"display_name":"Ben"},"score":0,"creation_date":1670337722,"post_id":74688970,"comment_id":131850003,"body_markdown":"Unfortunately it is not my App but we can communicate with the Developer team that provides the App. Sure, it would be possible to ask them to implement the https client themselves and therefore limit the nr of socket connections but it could have been possible to set somewhere in Android that limitation. The lwip stack for example allows limiting the number of listening and active tcp connections (aka sockets).","body":"Unfortunately it is not my App but we can communicate with the Developer team that provides the App. Sure, it would be possible to ask them to implement the https client themselves and therefore limit the nr of socket connections but it could have been possible to set somewhere in Android that limitation. The lwip stack for example allows limiting the number of listening and active tcp connections (aka sockets)."}],"answers":[{"tags":[],"owner":{"account_id":1603320,"reputation":793,"user_id":1483943,"accept_rate":75,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670594202,"creation_date":1670594202,"answer_id":74744106,"question_id":74688970,"body_markdown":"Leaving this here in case someone else stumbles upon a similar requirement &quot;to limit number of connections&quot;.\r\n\r\nThe HttpClientHandler has a Property MaxConnectionsPerServer, which sets a connection Limit per Endpoint.\r\n\r\nThe full documentation can be found [dotnet-maxconnections][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/system.net.http.httpclienthandler.maxconnectionsperserver?view=net-7.0","title":"Is it possible to limit the number of tls sockets created (Android) when connecting to ESP32 https server?","body":"<p>Leaving this here in case someone else stumbles upon a similar requirement &quot;to limit number of connections&quot;.</p>\n<p>The HttpClientHandler has a Property MaxConnectionsPerServer, which sets a connection Limit per Endpoint.</p>\n<p>The full documentation can be found <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.net.http.httpclienthandler.maxconnectionsperserver?view=net-7.0\" rel=\"nofollow noreferrer\">dotnet-maxconnections</a></p>\n"}],"owner":{"account_id":1603320,"reputation":793,"user_id":1483943,"accept_rate":75,"display_name":"Ben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744106,"answer_count":1,"score":0,"last_activity_date":1670594202,"creation_date":1670246889,"question_id":74688970,"body_markdown":"We have the following setup:\r\n\r\n- ESP32 starts a https server, with the limitation of 6 concurrent TCP socket connections\r\n- A Xamarin App running on Android using javax.net.ssl as the TLS client\r\n\r\nThe observation is, that the App opens 6 sockets. Unfortunately we have memory limitations on the ESP32. About 160kb of heap is available and for each socket we need roughly 30kb for each SSL session context. Is it possible to limit the number of sockets created by the Android tls client? \r\n\r\nTo clarify, the app is delivered by a supplier. \r\nFor the communication the xamarin httpclient is used, which does not provide low level access to the sockets. Observing the network communication with wireshark it shows that the Client automatically used between 4-6 socket connects. This seems to be in line with the http protocol, to speed up the page loads. see for example \r\n\r\nhttps://www.oreilly.com/library/view/http-the-definitive/1565925092/ch04s04.html\r\n\r\n","title":"Is it possible to limit the number of tls sockets created (Android) when connecting to ESP32 https server?","body":"<p>We have the following setup:</p>\n<ul>\n<li>ESP32 starts a https server, with the limitation of 6 concurrent TCP socket connections</li>\n<li>A Xamarin App running on Android using javax.net.ssl as the TLS client</li>\n</ul>\n<p>The observation is, that the App opens 6 sockets. Unfortunately we have memory limitations on the ESP32. About 160kb of heap is available and for each socket we need roughly 30kb for each SSL session context. Is it possible to limit the number of sockets created by the Android tls client?</p>\n<p>To clarify, the app is delivered by a supplier.\nFor the communication the xamarin httpclient is used, which does not provide low level access to the sockets. Observing the network communication with wireshark it shows that the Client automatically used between 4-6 socket connects. This seems to be in line with the http protocol, to speed up the page loads. see for example</p>\n<p><a href=\"https://www.oreilly.com/library/view/http-the-definitive/1565925092/ch04s04.html\" rel=\"nofollow noreferrer\">https://www.oreilly.com/library/view/http-the-definitive/1565925092/ch04s04.html</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1110968,"reputation":499,"user_id":1101430,"accept_rate":68,"display_name":"Kunal Shah"},"score":2,"creation_date":1353309870,"post_id":13449296,"comment_id":18390677,"body_markdown":"the easiest way is use bundles concept","body":"the easiest way is use bundles concept"},{"owner":{"account_id":1758805,"reputation":155,"user_id":1606425,"display_name":"Elliot B"},"score":0,"creation_date":1353309937,"post_id":13449296,"comment_id":18390700,"body_markdown":"How do you use bundles to send objects which aren&#39;t a string or something?","body":"How do you use bundles to send objects which aren&#39;t a string or something?"},{"owner":{"account_id":1758805,"reputation":155,"user_id":1606425,"display_name":"Elliot B"},"score":0,"creation_date":1353311239,"post_id":13449296,"comment_id":18391078,"body_markdown":"Nope because they just teach you how to do basic things like strings...","body":"Nope because they just teach you how to do basic things like strings..."}],"answers":[{"tags":[],"owner":{"account_id":1481208,"reputation":3739,"user_id":1403801,"accept_rate":90,"display_name":"NewUser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353309926,"creation_date":1353309926,"answer_id":13449320,"question_id":13449296,"body_markdown":"You can use either of Bundles or shared preferences for share variable or save variables for future use.\r\n\r\nExample for shared preferences you can find [here][1]\r\nExample for bundles you can find [here][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3624280/how-to-use-sharedpreferences-in-android-to-store-fetch-and-edit-values\r\n  [2]: https://stackoverflow.com/questions/768969/passing-a-bundle-on-startactivity","title":"How do you share variables with other activities easily?","body":"<p>You can use either of Bundles or shared preferences for share variable or save variables for future use.</p>\n\n<p>Example for shared preferences you can find <a href=\"https://stackoverflow.com/questions/3624280/how-to-use-sharedpreferences-in-android-to-store-fetch-and-edit-values\">here</a>\nExample for bundles you can find <a href=\"https://stackoverflow.com/questions/768969/passing-a-bundle-on-startactivity\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1563603,"reputation":1989,"user_id":1452884,"accept_rate":50,"display_name":"Kavin Varnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353310015,"creation_date":1353310015,"answer_id":13449334,"question_id":13449296,"body_markdown":"Singleton will be the best approach","title":"How do you share variables with other activities easily?","body":"<p>Singleton will be the best approach</p>\n"},{"tags":[],"owner":{"account_id":1452821,"reputation":20503,"user_id":1369222,"display_name":"Anup Cowkur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353310015,"creation_date":1353310015,"answer_id":13449335,"question_id":13449296,"body_markdown":"You can use intent extras,\r\n\r\n    Intent intent = new Intent(getBaseContext(), NewActivity.class);\r\n    intent.putExtra(&quot;DATA_KEY&quot;, data);\r\n    startActivity(intent)\r\n\r\nThe [docs][1] for Intents has more information (look at the section titled &quot;Extras&quot;).\r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/intents/intents-filters.html","title":"How do you share variables with other activities easily?","body":"<p>You can use intent extras,</p>\n\n<pre><code>Intent intent = new Intent(getBaseContext(), NewActivity.class);\nintent.putExtra(\"DATA_KEY\", data);\nstartActivity(intent)\n</code></pre>\n\n<p>The <a href=\"http://developer.android.com/guide/topics/intents/intents-filters.html\" rel=\"nofollow\">docs</a> for Intents has more information (look at the section titled \"Extras\").</p>\n"},{"tags":[],"owner":{"display_name":"user948620"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353310651,"creation_date":1353310288,"answer_id":13449388,"question_id":13449296,"body_markdown":"You can use Bundle to share variables in other activities. If you want to pass your own class object in other activities use `Parcelable` to your class\r\n\r\n\r\nHere&#39;s an example\r\n\r\n    public class Person implements Parcelable {\r\n         private int age;\r\n         private String name;    \r\n\r\n         // Setters and Getters\r\n         // ....\r\n\r\n\r\n         public int describeContents() {\r\n             return 0;\r\n         }\r\n    \r\n         public void writeToParcel(Parcel out, int flags) {\r\n             out.writeString(name);\r\n             out.writeInt(age);\r\n         }\r\n    \r\n         public static final Parcelable.Creator&lt;Person&gt; CREATOR\r\n                 = new Parcelable.Creator&lt;Person&gt;() {\r\n             public Person createFromParcel(Parcel in) {\r\n                 return new Person(in);\r\n             }\r\n    \r\n             public Person[] newArray(int size) {\r\n                 return new Person[size];\r\n             }\r\n         };\r\n         \r\n         private Person(Parcel in) {\r\n             name = in.readString();\r\n             age = in.readInt();\r\n         }\r\n     }\r\n\r\nInsert your `Person` object in bundle\r\n\r\n    Intent i = new Intent();\r\n    Bundle b = new Bundle();\r\n    b.putParcelable(&quot;bob&quot;, new Person());\r\n\r\n\r\nGetting `Person` object \r\n\r\n\r\n    Intent i = getIntent();\r\n    Bundle b = i.getExtras();\r\n    \r\n    Person p = (Person) b.getParcelable(&quot;bob&quot;);\r\n\r\n\r\n","title":"How do you share variables with other activities easily?","body":"<p>You can use Bundle to share variables in other activities. If you want to pass your own class object in other activities use <code>Parcelable</code> to your class</p>\n\n<p>Here's an example</p>\n\n<pre><code>public class Person implements Parcelable {\n     private int age;\n     private String name;    \n\n     // Setters and Getters\n     // ....\n\n\n     public int describeContents() {\n         return 0;\n     }\n\n     public void writeToParcel(Parcel out, int flags) {\n         out.writeString(name);\n         out.writeInt(age);\n     }\n\n     public static final Parcelable.Creator&lt;Person&gt; CREATOR\n             = new Parcelable.Creator&lt;Person&gt;() {\n         public Person createFromParcel(Parcel in) {\n             return new Person(in);\n         }\n\n         public Person[] newArray(int size) {\n             return new Person[size];\n         }\n     };\n\n     private Person(Parcel in) {\n         name = in.readString();\n         age = in.readInt();\n     }\n }\n</code></pre>\n\n<p>Insert your <code>Person</code> object in bundle</p>\n\n<pre><code>Intent i = new Intent();\nBundle b = new Bundle();\nb.putParcelable(\"bob\", new Person());\n</code></pre>\n\n<p>Getting <code>Person</code> object </p>\n\n<pre><code>Intent i = getIntent();\nBundle b = i.getExtras();\n\nPerson p = (Person) b.getParcelable(\"bob\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":201623,"reputation":15910,"user_id":448192,"accept_rate":77,"display_name":"DArkO"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1353311027,"creation_date":1353311027,"answer_id":13449542,"question_id":13449296,"body_markdown":"Using bundles inside the intent isn&#39;t about security, it&#39;s because the Android guys made it that way plain and simple. In my opinion using bundles and intents to pass larger objects is not a good idea. it gets too complicated to implement, makes you get the object down to the primitives (when using parcelable) and also makes a copy on the other side in memory (you take one object, set everything inside the intent and then re-create it on the other side making a new copy out of it) which for objects that have a bigger memory footprint isn&#39;t good.\r\n\r\nI would suggest:\r\n\r\n1. either using a singleton store\r\n2. Using the application class (which also acts like a singleton)\r\n\r\nI am often using a singleton which has a hashMap inside where an integer key is generated by me (from atomic Integer) and an object placed inside the map. You just send the ID inside the intent as an extra and retrieve it on the other side by getting the key from the intent and accessing your singleton to retrieve and remove the object (from that map) and use it in your new activity/service.\r\n\r\nHere is a sample of something like this:\r\n\r\n(Note: this is a part from my lib for rest requests (https://github.com/darko1002001/android-rest-client) in case you want to see more details on how everything is implemented). in your case you will need to strip some of the code and replace it with your own, but the general idea is the same.\r\n\r\n\r\n    /**\r\n     * @author Darko.Grozdanovski\r\n     */\r\n    public class HttpRequestStore {\r\n    \r\n        public static final String TAG = HttpRequestStore.class.getSimpleName();\r\n    \r\n        public static final String KEY_ID = &quot;id&quot;;\r\n        public static final String IS_SUCCESSFUL = &quot;isSuccessful&quot;;\r\n    \r\n        private static final HashMap&lt;Integer, RequestWrapper&gt; map = new HashMap&lt;Integer, RequestWrapper&gt;();\r\n    \r\n        private final AtomicInteger counter = new AtomicInteger();\r\n        private static Class&lt;?&gt; executorServiceClass = HTTPRequestExecutorService.class;\r\n    \r\n        private final Context context;\r\n        private static HttpRequestStore instance;\r\n    \r\n        private HttpRequestStore(final Context context) {\r\n            this.context = context;\r\n        }\r\n    \r\n        public static HttpRequestStore getInstance(final Context context) {\r\n            if (instance == null) {\r\n                instance = new HttpRequestStore(context.getApplicationContext());\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        public static void init(final Class&lt;?&gt; executorServiceClass) {\r\n            HttpRequestStore.executorServiceClass = executorServiceClass;\r\n        }\r\n    \r\n        public Integer addRequest(final RequestWrapper block) {\r\n            return addRequest(counter.incrementAndGet(), block);\r\n        }\r\n    \r\n        public Integer addRequest(final Integer id, final RequestWrapper block) {\r\n            map.put(id, block);\r\n            return id;\r\n        }\r\n    \r\n        public void removeBlock(final Integer id) {\r\n            map.remove(id);\r\n        }\r\n    \r\n        public RequestWrapper getRequest(final Integer id) {\r\n            return map.remove(id);\r\n        }\r\n    \r\n        public RequestWrapper getRequest(final Intent intent) {\r\n            final Bundle extras = intent.getExtras();\r\n            if (extras == null || extras.containsKey(KEY_ID) == false) {\r\n                throw new RuntimeException(&quot;Intent Must be Filled with ID of the block&quot;);\r\n            }\r\n            final int id = extras.getInt(KEY_ID);\r\n            return getRequest(id);\r\n        }\r\n    \r\n        public Integer launchServiceIntent(final HttpRequest block) {\r\n            return launchServiceIntent(block, null);\r\n        }\r\n    \r\n        public Integer launchServiceIntent(final HttpRequest block, RequestOptions options) {\r\n            if (executorServiceClass == null) {\r\n                throw new RuntimeException(&quot;Initialize the Executor service class in a class extending application&quot;);\r\n            }\r\n            if (isServiceAvailable() == false) {\r\n                throw new RuntimeException(&quot;Declare the &quot; + executorServiceClass.getSimpleName() + &quot; in your manifest&quot;);\r\n            }\r\n            final Intent service = new Intent(context, executorServiceClass);\r\n            final RequestWrapper wrapper = new RequestWrapper(block, options);\r\n            final Integer requestId = addRequest(wrapper);\r\n            service.putExtra(KEY_ID, requestId);\r\n            context.startService(service);\r\n            return requestId;\r\n        }\r\n    \r\n        public boolean isServiceAvailable() {\r\n            final PackageManager packageManager = context.getPackageManager();\r\n            final Intent intent = new Intent(context, executorServiceClass);\r\n            final List&lt;ResolveInfo&gt; resolveInfo = packageManager.queryIntentServices(intent,\r\n                    PackageManager.MATCH_DEFAULT_ONLY);\r\n            if (resolveInfo.size() &gt; 0) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How do you share variables with other activities easily?","body":"<p>Using bundles inside the intent isn't about security, it's because the Android guys made it that way plain and simple. In my opinion using bundles and intents to pass larger objects is not a good idea. it gets too complicated to implement, makes you get the object down to the primitives (when using parcelable) and also makes a copy on the other side in memory (you take one object, set everything inside the intent and then re-create it on the other side making a new copy out of it) which for objects that have a bigger memory footprint isn't good.</p>\n\n<p>I would suggest:</p>\n\n<ol>\n<li>either using a singleton store</li>\n<li>Using the application class (which also acts like a singleton)</li>\n</ol>\n\n<p>I am often using a singleton which has a hashMap inside where an integer key is generated by me (from atomic Integer) and an object placed inside the map. You just send the ID inside the intent as an extra and retrieve it on the other side by getting the key from the intent and accessing your singleton to retrieve and remove the object (from that map) and use it in your new activity/service.</p>\n\n<p>Here is a sample of something like this:</p>\n\n<p>(Note: this is a part from my lib for rest requests (https://github.com/darko1002001/android-rest-client) in case you want to see more details on how everything is implemented). in your case you will need to strip some of the code and replace it with your own, but the general idea is the same.</p>\n\n<pre><code>/**\n * @author Darko.Grozdanovski\n */\npublic class HttpRequestStore {\n\n    public static final String TAG = HttpRequestStore.class.getSimpleName();\n\n    public static final String KEY_ID = \"id\";\n    public static final String IS_SUCCESSFUL = \"isSuccessful\";\n\n    private static final HashMap&lt;Integer, RequestWrapper&gt; map = new HashMap&lt;Integer, RequestWrapper&gt;();\n\n    private final AtomicInteger counter = new AtomicInteger();\n    private static Class&lt;?&gt; executorServiceClass = HTTPRequestExecutorService.class;\n\n    private final Context context;\n    private static HttpRequestStore instance;\n\n    private HttpRequestStore(final Context context) {\n        this.context = context;\n    }\n\n    public static HttpRequestStore getInstance(final Context context) {\n        if (instance == null) {\n            instance = new HttpRequestStore(context.getApplicationContext());\n        }\n        return instance;\n    }\n\n    public static void init(final Class&lt;?&gt; executorServiceClass) {\n        HttpRequestStore.executorServiceClass = executorServiceClass;\n    }\n\n    public Integer addRequest(final RequestWrapper block) {\n        return addRequest(counter.incrementAndGet(), block);\n    }\n\n    public Integer addRequest(final Integer id, final RequestWrapper block) {\n        map.put(id, block);\n        return id;\n    }\n\n    public void removeBlock(final Integer id) {\n        map.remove(id);\n    }\n\n    public RequestWrapper getRequest(final Integer id) {\n        return map.remove(id);\n    }\n\n    public RequestWrapper getRequest(final Intent intent) {\n        final Bundle extras = intent.getExtras();\n        if (extras == null || extras.containsKey(KEY_ID) == false) {\n            throw new RuntimeException(\"Intent Must be Filled with ID of the block\");\n        }\n        final int id = extras.getInt(KEY_ID);\n        return getRequest(id);\n    }\n\n    public Integer launchServiceIntent(final HttpRequest block) {\n        return launchServiceIntent(block, null);\n    }\n\n    public Integer launchServiceIntent(final HttpRequest block, RequestOptions options) {\n        if (executorServiceClass == null) {\n            throw new RuntimeException(\"Initialize the Executor service class in a class extending application\");\n        }\n        if (isServiceAvailable() == false) {\n            throw new RuntimeException(\"Declare the \" + executorServiceClass.getSimpleName() + \" in your manifest\");\n        }\n        final Intent service = new Intent(context, executorServiceClass);\n        final RequestWrapper wrapper = new RequestWrapper(block, options);\n        final Integer requestId = addRequest(wrapper);\n        service.putExtra(KEY_ID, requestId);\n        context.startService(service);\n        return requestId;\n    }\n\n    public boolean isServiceAvailable() {\n        final PackageManager packageManager = context.getPackageManager();\n        final Intent intent = new Intent(context, executorServiceClass);\n        final List&lt;ResolveInfo&gt; resolveInfo = packageManager.queryIntentServices(intent,\n                PackageManager.MATCH_DEFAULT_ONLY);\n        if (resolveInfo.size() &gt; 0) {\n            return true;\n        }\n        return false;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1758805,"reputation":155,"user_id":1606425,"display_name":"Elliot B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":882,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"closed_date":1670593742,"accepted_answer_id":13449542,"answer_count":5,"score":15,"last_activity_date":1670593736,"creation_date":1353309774,"question_id":13449296,"body_markdown":"\r\n\r\nI am making a card game and I have an activity for discarding cards and an activity for showing the scores. The problem is I want to pass some objects (player and dealer hands) to the other activity so that I can set imageViews in the scores  to the cards that are in the players hands. How can I do this? I don&#39;t care about security or anything I just want the easiest way. ","title":"How do you share variables with other activities easily?","body":"<p>I am making a card game and I have an activity for discarding cards and an activity for showing the scores. The problem is I want to pass some objects (player and dealer hands) to the other activity so that I can set imageViews in the scores  to the cards that are in the players hands. How can I do this? I don't care about security or anything I just want the easiest way.</p>\n"},{"tags":["java","android","copy"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1670577186,"post_id":74740960,"comment_id":131910867,"body_markdown":"You can&#39;t add instances of `A` to a `List&lt;B&gt;`. What do you want to be added to `bClass`?","body":"You can&#39;t add instances of <code>A</code> to a <code>List&lt;B&gt;</code>. What do you want to be added to <code>bClass</code>?"},{"owner":{"account_id":7128299,"reputation":11,"user_id":11158282,"display_name":"rva"},"score":0,"creation_date":1670577826,"post_id":74740960,"comment_id":131911047,"body_markdown":"but how to copy data..classes have the same fields","body":"but how to copy data..classes have the same fields"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1670577860,"post_id":74740960,"comment_id":131911055,"body_markdown":"Copy what data? They are different types.","body":"Copy what data? They are different types."}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670593597,"creation_date":1670593597,"answer_id":74743997,"question_id":74740960,"body_markdown":"You can use `for` loop for that:\r\n\r\n    for(A a : aClass) {\r\n        bClass.add(new B(a.getP(), a.getQ())); // creating new instance of B by passing params to its constructor.\r\n    }\r\n    \r\n    public class A {\r\n        private String p;\r\n        private String q;\r\n        \r\n        public String getP() {\r\n            return p;\r\n        }\r\n    \r\n        public String getQ() {\r\n            return q;\r\n        }\r\n    }\r\n    \r\n    public class B {\r\n        private String p;\r\n        private String q;\r\n    \r\n        public B(String p, String q) {\r\n            this.p = p;\r\n            this.q = q;\r\n        }\r\n    }","title":"How Can Copy from one Arraylist to another","body":"<p>You can use <code>for</code> loop for that:</p>\n<pre><code>for(A a : aClass) {\n    bClass.add(new B(a.getP(), a.getQ())); // creating new instance of B by passing params to its constructor.\n}\n\npublic class A {\n    private String p;\n    private String q;\n    \n    public String getP() {\n        return p;\n    }\n\n    public String getQ() {\n        return q;\n    }\n}\n\npublic class B {\n    private String p;\n    private String q;\n\n    public B(String p, String q) {\n        this.p = p;\n        this.q = q;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7128299,"reputation":11,"user_id":11158282,"display_name":"rva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670593680,"creation_date":1670577153,"question_id":74740960,"body_markdown":"How Can Copy from one Arraylist to another like Below.\r\nI have Arraylist of below class like \r\n\r\n\r\n\r\n```List&lt;A&gt; aClass = ...; // has some data```\r\n\r\n```List&lt;B&gt; bClass = ...; //empty```\r\n\r\n    //imports Class X\r\n    public class A {\r\n        private String p;\r\n        private String q;\r\n        private&lt;ClassX&gt; x\r\n    }\r\n\r\n\r\n    //imports Class Y\r\n    public class B {\r\n        private String p;\r\n        private String q;\r\n        private&lt;ClassY&gt; y\r\n    }\r\n\r\n    public class X {\r\n        private String r;\r\n        private String s;\r\n    }\r\n\r\n     public Class Y {\r\n\r\n         private String r;\r\n         private String s;\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nHow Can i Copy from \r\n```bClass``` to ```aClass```;\r\n Like below \r\n      //bClass=aClass;","title":"How Can Copy from one Arraylist to another","body":"<p>How Can Copy from one Arraylist to another like Below.\nI have Arraylist of below class like</p>\n<p><code>List&lt;A&gt; aClass = ...; // has some data</code></p>\n<p><code>List&lt;B&gt; bClass = ...; //empty</code></p>\n<pre><code>//imports Class X\npublic class A {\n    private String p;\n    private String q;\n    private&lt;ClassX&gt; x\n}\n\n\n//imports Class Y\npublic class B {\n    private String p;\n    private String q;\n    private&lt;ClassY&gt; y\n}\n\npublic class X {\n    private String r;\n    private String s;\n}\n\n public Class Y {\n\n     private String r;\n     private String s;\n\n}\n</code></pre>\n<p>How Can i Copy from\n<code>bClass</code> to <code>aClass</code>;\nLike below\n//bClass=aClass;</p>\n"},{"tags":["java","arrays","bit"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1670509448,"post_id":74731512,"comment_id":131895174,"body_markdown":"Can you post full code to replicate this, including the definition of your input byte array?","body":"Can you post full code to replicate this, including the definition of your input byte array?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670513726,"post_id":74731512,"comment_id":131896842,"body_markdown":"It&#39;s probably easiest to treat the whole thing as a string. Your x-y ranges can be a simple substring op, followed by a parse binary","body":"It&#39;s probably easiest to treat the whole thing as a string. Your x-y ranges can be a simple substring op, followed by a parse binary"},{"owner":{"account_id":1710275,"reputation":219,"user_id":1568482,"accept_rate":25,"display_name":"millerbill3"},"score":0,"creation_date":1670578006,"post_id":74731512,"comment_id":131911110,"body_markdown":"Note, I added example for populating byte array @ThomasTimbul","body":"Note, I added example for populating byte array @ThomasTimbul"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1670580412,"post_id":74731512,"comment_id":131911862,"body_markdown":"Sorry, but this doesn&#39;t compile. `set = intToBinary(set, 0);` is missing the &#39;start&#39; argument. The &#39;content&#39; parameter is unused. `set = intToBinary(set, 1000, 95);` does not coincide with &#39;start&#39;ing at the end of one of your declared positions (should be 94?) Maybe tidy it up a little and if there is a mistake it may reveal itself while doing so? Given the rather complicated means of setting up this array in the first place, can that be simplified?","body":"Sorry, but this doesn&#39;t compile. <code>set = intToBinary(set, 0);</code> is missing the &#39;start&#39; argument. The &#39;content&#39; parameter is unused. <code>set = intToBinary(set, 1000, 95);</code> does not coincide with &#39;start&#39;ing at the end of one of your declared positions (should be 94?) Maybe tidy it up a little and if there is a mistake it may reveal itself while doing so? Given the rather complicated means of setting up this array in the first place, can that be simplified?"},{"owner":{"account_id":1710275,"reputation":219,"user_id":1568482,"accept_rate":25,"display_name":"millerbill3"},"score":0,"creation_date":1670582376,"post_id":74731512,"comment_id":131912447,"body_markdown":"Sorry... I had a copy/paste/editing error in the intToBinary(set, 0) snippet. I have updated my example code. If there&#39;s a simpler way to populate the byteArray I&#39;m all ears.","body":"Sorry... I had a copy/paste/editing error in the intToBinary(set, 0) snippet. I have updated my example code. If there&#39;s a simpler way to populate the byteArray I&#39;m all ears."}],"answers":[{"tags":[],"owner":{"account_id":18542752,"reputation":21,"user_id":13510859,"display_name":"ItsMoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670510771,"creation_date":1670510771,"answer_id":74732048,"question_id":74731512,"body_markdown":"IIrc `Bitset.get` only takes the range of bits from the byte which the start index is in. what you could maybe do is iterate over the header array and extract the bits that you want from each byte. For example, you could do something like this:\r\n\r\n    private int extractBits(byte[] header, int start, int end) {\r\n    // First, figure out which byte in the header array the start and end indices are in\r\n    int startByte = start / 8;\r\n    int endByte = end / 8;\r\n\r\n    // Next, calculate the indices of the start and end bits within the start and end bytes\r\n    int startBit = start % 8;\r\n    int endBit = end % 8;\r\n\r\n    // Initialize a result variable to 0\r\n    int result = 0;\r\n\r\n    // If the start and end indices are in the same byte, we can just use the BitSet.get()\r\n    // method to extract the bits that we want\r\n    if (startByte == endByte) {\r\n        BitSet bitSet = BitSet.valueOf(new byte[]{header[startByte]});\r\n        result = (int) bitSet.get(startBit, endBit + 1).toLongArray()[0];\r\n    } else {\r\n        // If the start and end indices are in different bytes, we need to do some additional\r\n        // processing to extract the bits that we want.\r\n\r\n        // First, create a new array that contains only the bytes that we need to extract bits from\r\n        byte[] bytes = Arrays.copyOfRange(header, startByte, endByte + 1);\r\n\r\n        // Next, create a BitSet from the bytes array\r\n        BitSet bitSet = BitSet.valueOf(bytes);\r\n\r\n        // Then, get the bits from the start index to the end of the start byte and add them to the result\r\n        BitSet startBits = bitSet.get(startBit, 8);\r\n        result = (int) startBits.toLongArray()[0];\r\n\r\n        // Next, shift the bits in the result variable to the left by the number of bits that we&#39;ve already extracted\r\n        result &lt;&lt;= 8 - startBit;\r\n\r\n        // Then, get the bits from the beginning of the end byte to the end index and add them to the result\r\n        BitSet endBits = bitSet.get(0, endBit + 1);\r\n        result |= (int) endBits.toLongArray()[0];\r\n    }\r\n\r\n    // Finally, return the result\r\n    return result;  }\r\n","title":"Retrieve range of bits from byte array","body":"<p>IIrc <code>Bitset.get</code> only takes the range of bits from the byte which the start index is in. what you could maybe do is iterate over the header array and extract the bits that you want from each byte. For example, you could do something like this:</p>\n<pre><code>private int extractBits(byte[] header, int start, int end) {\n// First, figure out which byte in the header array the start and end indices are in\nint startByte = start / 8;\nint endByte = end / 8;\n\n// Next, calculate the indices of the start and end bits within the start and end bytes\nint startBit = start % 8;\nint endBit = end % 8;\n\n// Initialize a result variable to 0\nint result = 0;\n\n// If the start and end indices are in the same byte, we can just use the BitSet.get()\n// method to extract the bits that we want\nif (startByte == endByte) {\n    BitSet bitSet = BitSet.valueOf(new byte[]{header[startByte]});\n    result = (int) bitSet.get(startBit, endBit + 1).toLongArray()[0];\n} else {\n    // If the start and end indices are in different bytes, we need to do some additional\n    // processing to extract the bits that we want.\n\n    // First, create a new array that contains only the bytes that we need to extract bits from\n    byte[] bytes = Arrays.copyOfRange(header, startByte, endByte + 1);\n\n    // Next, create a BitSet from the bytes array\n    BitSet bitSet = BitSet.valueOf(bytes);\n\n    // Then, get the bits from the start index to the end of the start byte and add them to the result\n    BitSet startBits = bitSet.get(startBit, 8);\n    result = (int) startBits.toLongArray()[0];\n\n    // Next, shift the bits in the result variable to the left by the number of bits that we've already extracted\n    result &lt;&lt;= 8 - startBit;\n\n    // Then, get the bits from the beginning of the end byte to the end index and add them to the result\n    BitSet endBits = bitSet.get(0, endBit + 1);\n    result |= (int) endBits.toLongArray()[0];\n}\n\n// Finally, return the result\nreturn result;  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670586356,"creation_date":1670586356,"answer_id":74742677,"question_id":74731512,"body_markdown":"Others may be number and mathematical wizards, but what made it difficult for me personally to reason about this was that when your `BitSet` was printed bit by bit, it did not match your expected representation at all. It appeared to be inverted. This ties in with my remark about how complicated it appeared to be to construct the input in the first place, and as this is a largely symmetrical operation, extracting the information again would be just as intricate.\r\n\r\nIn the **following approach** I tried to use built-in methods for converting binary representations to decimal, as well as for operating on the array, thus avoiding mathematical errors and to be able to easily reason about debugger output:\r\n\r\n\r\nThis is a utility method to print out any BitSet in the binary byte-wise representation that you used:\r\n\r\n\t/**\r\n\t * Print a bitset to stdout in binary notation, separating bytes with a pipe &#39;|&#39;.\r\n\t * @param bitSet\r\n\t */\r\n\tprivate static void printBitSetByteWise(BitSet bitSet) {\r\n\t\tfor(int i = 0; i&lt; bitSet.size(); i++) {\r\n\t\t\tif(i&gt;0 &amp;&amp; i%4==0) System.out.print(&#39;|&#39;);\r\n\t\t\tSystem.out.print(bitSet.get(i) ? 1 : 0);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\nModified extraction method, which converts the byte array into a BitSet, turns that back into an unsigned binary String, then parses it using `Integer.parseInt` with a radix of 2 for binary:\r\n\t\r\n\t/**\r\n\t * Extracts an integer formed from the given indices in an array of bytes.\r\n\t */\r\n\tprivate int extractBits2(byte[] header, int start, int endInclusive) {\r\n\t\tBitSet bitSet = BitSet.valueOf(header);\r\n\t\tfinal BitSet subset = bitSet.get(start, endInclusive + 1);\r\n\t\t//create a String representation\r\n\t\tfinal int length = endInclusive - start + 1;\r\n\t\tStringBuilder b = new StringBuilder(length);\r\n\t\tfor(int i = 0; i &lt; length; i++) {\r\n\t\t\tb.append(subset.get(i)?&#39;1&#39;:&#39;0&#39;);\r\n\t\t}\r\n\t\t//parse using radix 2\r\n\t\treturn Integer.parseInt(b.toString(), 2);\r\n\t}\r\n\r\nWhen creating the input array, there is no need to pass an argument, and since you&#39;re operating directly on the array itself, there&#39;s no point re-assigning it to itself in each step either. Finally, I&#39;ve removed the inversion part at the bottom:\r\n\r\n\tprotected byte[] createMessageHeader() {\r\n\t\tint[] set = new int[128];\r\n\t\tintegrate(set, 3, 3);\r\n\t\tintegrate(set, 0, 5);\r\n\t\tintegrate(set, 1000, 15);\r\n\t\tintegrate(set, 200, 23);\r\n\t\tintegrate(set, 200, 31);\r\n\t\tintegrate(set, 1294967295, 63);\r\n\t\tintegrate(set, 5, 71);\r\n\t\tintegrate(set, 3, 79);\r\n\t\tintegrate(set, 0, 83);\r\n\t\tintegrate(set, 0, 85);\r\n\t\tintegrate(set, 1000, 94);\r\n\t\tintegrate(set, 200, 103);\r\n\t\tintegrate(set, 200, 111);\r\n\t\tintegrate(set, 300, 127);\r\n\t\t\r\n\t\tBitSet bitSet = binArrayToBitset(set);\r\n\t\t\r\n\t\treturn bitSet.toByteArray();\r\n\t}\r\n\t\r\n\r\nHere, instead of dividing, inserting backwards, then inverting, I simply use the binary String representation (kindly provided by the built-in JDK method `Integer.toBinaryString`), convert it to its digits 1s and 0s, and `arraycopy` them into the correct position:\r\n\r\n\t/**\r\n\t * Inserts the given value into the given int array, right-aligning its\r\n\t * binary representation to the given index within the array.\r\n\t */\r\n\tprotected void integrate(int[] binary, int value, int alignEndToIndex) {\r\n\t\tString binaryRepresentation = Integer.toBinaryString(value);\r\n\t\tint[] digits = numberStringToArrayOfDigits(binaryRepresentation);\r\n\t\tSystem.arraycopy(digits,0,binary, alignEndToIndex+1-digits.length, digits.length);\r\n\t}\r\n    \r\n\t/**\r\n\t * Convert a String, which is assumed to represent a number, to\r\n\t * an integer array containing its individual digits.\r\n\t */\r\n\tprotected int[] numberStringToArrayOfDigits(String binaryRepresentation) {\r\n\t\tint[] digits = new int[binaryRepresentation.length()];\r\n\t\tfor (int i = 0; i &lt; binaryRepresentation.length(); i++) {\r\n\t\t\tdigits[i] = binaryRepresentation.charAt(i) - &#39;0&#39;;\r\n\t\t}\r\n\t\treturn digits;\r\n\t}\r\n\r\nAnd this is the same as yours:\r\n\r\n\tprotected BitSet binArrayToBitset(int[] binArray) {\r\n\t\tBitSet set = new BitSet(128);\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; binArray.length; i++) {\r\n\t\t\tif(binArray[i] != 0)\r\n\t\t\t\tset.set(i);\r\n\t\t}\r\n\t\treturn set;\r\n\t} \r\n\r\nPutting it all together:\r\n\r\n        final byte[] header = createMessageHeader();\r\n\t\tBitSet bitSet = BitSet.valueOf(header);\r\n\t\tprintBitSetByteWise(bitSet); //just to verify contents are as expected\r\n        //0011|0011|1110|1000|1100|1000|1100|1000|0100|1101|0010|1111|1010|0001|1111|1111|0000|0101|0000|0011|0000|0111|1101|0000|1100|1000|1100|1000|0000|0001|0010|1100\r\n\r\n\t\tSystem.out.println(extractBits2(header, 6, 15)); //1000\r\n        System.out.println(extractBits2(header, 32, 63)); //1294967295\r\n\t\tSystem.out.println(extractBits2(header, 104, 111)); //200","title":"Retrieve range of bits from byte array","body":"<p>Others may be number and mathematical wizards, but what made it difficult for me personally to reason about this was that when your <code>BitSet</code> was printed bit by bit, it did not match your expected representation at all. It appeared to be inverted. This ties in with my remark about how complicated it appeared to be to construct the input in the first place, and as this is a largely symmetrical operation, extracting the information again would be just as intricate.</p>\n<p>In the <strong>following approach</strong> I tried to use built-in methods for converting binary representations to decimal, as well as for operating on the array, thus avoiding mathematical errors and to be able to easily reason about debugger output:</p>\n<p>This is a utility method to print out any BitSet in the binary byte-wise representation that you used:</p>\n<pre><code>/**\n * Print a bitset to stdout in binary notation, separating bytes with a pipe '|'.\n * @param bitSet\n */\nprivate static void printBitSetByteWise(BitSet bitSet) {\n    for(int i = 0; i&lt; bitSet.size(); i++) {\n        if(i&gt;0 &amp;&amp; i%4==0) System.out.print('|');\n        System.out.print(bitSet.get(i) ? 1 : 0);\n    }\n    System.out.println();\n}\n</code></pre>\n<p>Modified extraction method, which converts the byte array into a BitSet, turns that back into an unsigned binary String, then parses it using <code>Integer.parseInt</code> with a radix of 2 for binary:</p>\n<pre><code>/**\n * Extracts an integer formed from the given indices in an array of bytes.\n */\nprivate int extractBits2(byte[] header, int start, int endInclusive) {\n    BitSet bitSet = BitSet.valueOf(header);\n    final BitSet subset = bitSet.get(start, endInclusive + 1);\n    //create a String representation\n    final int length = endInclusive - start + 1;\n    StringBuilder b = new StringBuilder(length);\n    for(int i = 0; i &lt; length; i++) {\n        b.append(subset.get(i)?'1':'0');\n    }\n    //parse using radix 2\n    return Integer.parseInt(b.toString(), 2);\n}\n</code></pre>\n<p>When creating the input array, there is no need to pass an argument, and since you're operating directly on the array itself, there's no point re-assigning it to itself in each step either. Finally, I've removed the inversion part at the bottom:</p>\n<pre><code>protected byte[] createMessageHeader() {\n    int[] set = new int[128];\n    integrate(set, 3, 3);\n    integrate(set, 0, 5);\n    integrate(set, 1000, 15);\n    integrate(set, 200, 23);\n    integrate(set, 200, 31);\n    integrate(set, 1294967295, 63);\n    integrate(set, 5, 71);\n    integrate(set, 3, 79);\n    integrate(set, 0, 83);\n    integrate(set, 0, 85);\n    integrate(set, 1000, 94);\n    integrate(set, 200, 103);\n    integrate(set, 200, 111);\n    integrate(set, 300, 127);\n    \n    BitSet bitSet = binArrayToBitset(set);\n    \n    return bitSet.toByteArray();\n}\n</code></pre>\n<p>Here, instead of dividing, inserting backwards, then inverting, I simply use the binary String representation (kindly provided by the built-in JDK method <code>Integer.toBinaryString</code>), convert it to its digits 1s and 0s, and <code>arraycopy</code> them into the correct position:</p>\n<pre><code>/**\n * Inserts the given value into the given int array, right-aligning its\n * binary representation to the given index within the array.\n */\nprotected void integrate(int[] binary, int value, int alignEndToIndex) {\n    String binaryRepresentation = Integer.toBinaryString(value);\n    int[] digits = numberStringToArrayOfDigits(binaryRepresentation);\n    System.arraycopy(digits,0,binary, alignEndToIndex+1-digits.length, digits.length);\n}\n\n/**\n * Convert a String, which is assumed to represent a number, to\n * an integer array containing its individual digits.\n */\nprotected int[] numberStringToArrayOfDigits(String binaryRepresentation) {\n    int[] digits = new int[binaryRepresentation.length()];\n    for (int i = 0; i &lt; binaryRepresentation.length(); i++) {\n        digits[i] = binaryRepresentation.charAt(i) - '0';\n    }\n    return digits;\n}\n</code></pre>\n<p>And this is the same as yours:</p>\n<pre><code>protected BitSet binArrayToBitset(int[] binArray) {\n    BitSet set = new BitSet(128);\n    \n    for(int i = 0; i &lt; binArray.length; i++) {\n        if(binArray[i] != 0)\n            set.set(i);\n    }\n    return set;\n} \n</code></pre>\n<p>Putting it all together:</p>\n<pre><code>    final byte[] header = createMessageHeader();\n    BitSet bitSet = BitSet.valueOf(header);\n    printBitSetByteWise(bitSet); //just to verify contents are as expected\n    //0011|0011|1110|1000|1100|1000|1100|1000|0100|1101|0010|1111|1010|0001|1111|1111|0000|0101|0000|0011|0000|0111|1101|0000|1100|1000|1100|1000|0000|0001|0010|1100\n\n    System.out.println(extractBits2(header, 6, 15)); //1000\n    System.out.println(extractBits2(header, 32, 63)); //1294967295\n    System.out.println(extractBits2(header, 104, 111)); //200\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670593313,"creation_date":1670593313,"answer_id":74743937,"question_id":74731512,"body_markdown":"I don&#39;t know if this will help. It allows, at least, for your requirements to be easily changed and parameterised. I&#39;m not quite sure how your data comes in the first place, but it should be pretty easy to get it into a &#39;binary string&#39;. I&#39;ve used a tuple class here (which the JRE sadly lacks) but there&#39;s no great need to go 3rd party if you don&#39;t want:\r\n\r\n    package com.technojeeves.tuples;\r\n    \r\n    import org.javatuples.Pair;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class App {\r\n        public static void main(String[] args) {\r\n    \r\n            String data = &quot;&quot;&quot;\r\n                    0011 | 0011 | 1110 | 1000 | 1100 | 1000 | 1100 | 1000 | 0100 | 1101 | 0010 | 1111 | 1010 | 0001 | 1111 | 1111\r\n                    0000 | 0101 | 0000 | 0011 | 0000 | 0011 | 1110 | 1000 | 1100 | 1000 | 1100 | 1000 | 0000 | 0001 | 0010 | 1100\r\n                    &quot;&quot;&quot;;\r\n    \r\n            String bitsWanted = &quot;0-3, 4-5, 6-15, 16-23, 24-31, 32-63, 64-71, 72-79, 80-83, 84-85, 86-94, 96-103, 104-111, 112-127&quot;;\r\n    \r\n            List&lt;Pair&lt;Integer, Integer&gt;&gt; tuples = App.getTuples(bitsWanted);\r\n            List&lt;Integer&gt; values = App.bitsStringToIntegersList(data, tuples);\r\n    \r\n            int ix = 0;\r\n            for (Integer b : values) {\r\n                System.out.printf(&quot;Bits %s = 0x%02X%n&quot;, tuples.get(ix).getValue0() + &quot;-&quot; + tuples.get(ix++).getValue1(), b);\r\n            }\r\n        }\r\n    \r\n    \r\n        private static List&lt;Pair&lt;Integer, Integer&gt;&gt; getTuples(String tupleString) {\r\n            List&lt;Pair&lt;Integer, Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n            String[] tuples = tupleString.split(&quot;\\\\s*,\\\\s*&quot;);\r\n            for(String tuple : tuples) {\r\n                String[] startEnd = tuple.split(&quot;-&quot;);\r\n                result.add(new Pair(Integer.valueOf(startEnd[0]), Integer.valueOf(startEnd[1])));\r\n            }\r\n            return result;\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        private static List&lt;Integer&gt; bitsStringToIntegersList(String bits, List&lt;Pair&lt;Integer, Integer&gt;&gt; tuples) {\r\n            List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n            bits = bits.replaceAll(&quot;[^01]&quot;, &quot;&quot;);\r\n            for (Pair&lt;Integer, Integer&gt; startEnd : tuples) {\r\n                int start = startEnd.getValue0();\r\n                int end = startEnd.getValue1();\r\n                result.add(Integer.valueOf(bits.substring(start, end), 2));\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\nOutput is:\r\n\r\n    Bits 0-3 = 0x01\r\n    Bits 4-5 = 0x00\r\n    Bits 6-15 = 0x1F4\r\n    Bits 16-23 = 0x64\r\n    Bits 24-31 = 0x64\r\n    Bits 32-63 = 0x2697D0FF\r\n    Bits 64-71 = 0x02\r\n    Bits 72-79 = 0x01\r\n    Bits 80-83 = 0x00\r\n    Bits 84-85 = 0x00\r\n    Bits 86-94 = 0xFA\r\n    Bits 96-103 = 0x64\r\n    Bits 104-111 = 0x64\r\n    Bits 112-127 = 0x96\r\n\r\n\r\n","title":"Retrieve range of bits from byte array","body":"<p>I don't know if this will help. It allows, at least, for your requirements to be easily changed and parameterised. I'm not quite sure how your data comes in the first place, but it should be pretty easy to get it into a 'binary string'. I've used a tuple class here (which the JRE sadly lacks) but there's no great need to go 3rd party if you don't want:</p>\n<pre><code>package com.technojeeves.tuples;\n\nimport org.javatuples.Pair;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class App {\n    public static void main(String[] args) {\n\n        String data = &quot;&quot;&quot;\n                0011 | 0011 | 1110 | 1000 | 1100 | 1000 | 1100 | 1000 | 0100 | 1101 | 0010 | 1111 | 1010 | 0001 | 1111 | 1111\n                0000 | 0101 | 0000 | 0011 | 0000 | 0011 | 1110 | 1000 | 1100 | 1000 | 1100 | 1000 | 0000 | 0001 | 0010 | 1100\n                &quot;&quot;&quot;;\n\n        String bitsWanted = &quot;0-3, 4-5, 6-15, 16-23, 24-31, 32-63, 64-71, 72-79, 80-83, 84-85, 86-94, 96-103, 104-111, 112-127&quot;;\n\n        List&lt;Pair&lt;Integer, Integer&gt;&gt; tuples = App.getTuples(bitsWanted);\n        List&lt;Integer&gt; values = App.bitsStringToIntegersList(data, tuples);\n\n        int ix = 0;\n        for (Integer b : values) {\n            System.out.printf(&quot;Bits %s = 0x%02X%n&quot;, tuples.get(ix).getValue0() + &quot;-&quot; + tuples.get(ix++).getValue1(), b);\n        }\n    }\n\n\n    private static List&lt;Pair&lt;Integer, Integer&gt;&gt; getTuples(String tupleString) {\n        List&lt;Pair&lt;Integer, Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        String[] tuples = tupleString.split(&quot;\\\\s*,\\\\s*&quot;);\n        for(String tuple : tuples) {\n            String[] startEnd = tuple.split(&quot;-&quot;);\n            result.add(new Pair(Integer.valueOf(startEnd[0]), Integer.valueOf(startEnd[1])));\n        }\n        return result;\n    }\n\n\n\n\n    private static List&lt;Integer&gt; bitsStringToIntegersList(String bits, List&lt;Pair&lt;Integer, Integer&gt;&gt; tuples) {\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n        bits = bits.replaceAll(&quot;[^01]&quot;, &quot;&quot;);\n        for (Pair&lt;Integer, Integer&gt; startEnd : tuples) {\n            int start = startEnd.getValue0();\n            int end = startEnd.getValue1();\n            result.add(Integer.valueOf(bits.substring(start, end), 2));\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>Output is:</p>\n<pre><code>Bits 0-3 = 0x01\nBits 4-5 = 0x00\nBits 6-15 = 0x1F4\nBits 16-23 = 0x64\nBits 24-31 = 0x64\nBits 32-63 = 0x2697D0FF\nBits 64-71 = 0x02\nBits 72-79 = 0x01\nBits 80-83 = 0x00\nBits 84-85 = 0x00\nBits 86-94 = 0xFA\nBits 96-103 = 0x64\nBits 104-111 = 0x64\nBits 112-127 = 0x96\n</code></pre>\n"}],"owner":{"account_id":1710275,"reputation":219,"user_id":1568482,"accept_rate":25,"display_name":"millerbill3"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74742677,"answer_count":3,"score":1,"last_activity_date":1670593313,"creation_date":1670508429,"question_id":74731512,"body_markdown":"I have a 16 byte byte array with various values populated inside of it. Those values can and do cross the byte boundary.\r\n\r\nHere is the binary representation of my data\r\n\r\n&gt; 0011 | 0011 | 1110 | 1000 | 1100 | 1000 | 1100 | 1000 |\r\n&gt; 0100 | 1101 | 0010 | 1111 | 1010 | 0001 | 1111 | 1111    [ 0 - 63]\r\n&gt; \r\n&gt; 0000 | 0101 | 0000 | 0011 | 0000 | 0011 | 1110 | 1000 | 1100 | 1000 |\r\n&gt; 1100 | 1000 | 0000 | 0001 | 0010 | 1100    [64 -127]\r\n\r\nThe various values I need to retrieve are stored in the following bit positions\r\n&gt; 0-3 | 4-5 | 6-15 | 16-23 | 24-31 | 32 - 63 | 64-71 | 72-79 | 80-83 | 84-85 | 86-94 | 96-103 | 104-111 | 112-127\r\n\r\n**CODE:**\r\n\r\nHere&#39;s the code to populate the Byte Array:\r\n\r\n    protected byte[] createMessageHeader(byte[] content) {\r\n        int[] set = new int[128];\r\n        set = intToBinary(set, 3, 3);\r\n        set = intToBinary(set, 0, 5);\r\n        set = intToBinary(set, 1000, 15);\r\n        set = intToBinary(set, 200, 23);\r\n        set = intToBinary(set, 200, 31);\r\n        set = intToBinary(set, 1294967295, 63);\r\n        set = intToBinary(set, 5, 71);\r\n        set = intToBinary(set, 3, 79);\r\n        set = intToBinary(set, 0, 83);\r\n        set = intToBinary(set, 0, 85);\r\n        set = intToBinary(set, 1000, 95);\r\n        set = intToBinary(set, 200, 103);\r\n        set = intToBinary(set, 200, 111);\r\n        set = intToBinary(set, 300, 127);\r\n\r\n        BitSet bitSet = binArrayToBitset(set);\r\n        byte[] b1 = bitSet.toByteArray();\r\n\r\n        for(int i = 0; i &lt; b1.length; i++) {\r\n            b1[i] = (byte) (Integer.reverse(b1[i]) &gt;&gt;&gt; 24);\r\n        }\r\n\r\n        return b1;\r\n    }\r\n\r\n    protected int[] intToBinary(int[] binary, int val, int start) {\r\n            // Number should be positive\r\n            while (val &gt; 0) {\r\n                binary[start--] = val % 2;\r\n                val = val / 2;\r\n            }\r\n            return binary;\r\n        }\r\n    protected BitSet binArrayToBitset(int[] binArray) {\r\n            BitSet set = new BitSet(128);\r\n    \r\n            for(int i = 0; i &lt; binArray.length; i++) {\r\n                if(binArray[i] != 0)\r\n                    set.set(i);\r\n            }\r\n            return set;\r\n        }\r\n    //Convenience method to print binary representation of values\r\n    protected void toBinString(int[] set) {\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n            for(int i = 0; i &lt; set.length; i++) {\r\n                if(i % 4 == 0)\r\n                    stringBuilder.append(&quot;|&quot;);\r\n                if(i % 64 == 0)\r\n                    stringBuilder.append(&quot;\\n&quot;);\r\n                stringBuilder.append(set[i]);\r\n            }\r\n        }\r\n\r\n \r\n        \r\n\r\nThe above code should produce the Byte Array with the specified values at the specific bit index ranges.\r\n\r\n\r\n----------\r\n\r\n\r\nI have tried numerous methods for retrieving these values, most recently:\r\n\r\n    private int extractBits2(byte[] header, int start, int end) {\r\n        BitSet bitSet = BitSet.valueOf(header);\r\n        return (int) bitSet.get(start, end + 1).toLongArray()[0];\r\n    }\r\n\r\nUsing the above method, if I call it with: \r\n&gt; int extracted = extractBits2(header, 6, 15)\r\n\r\nThe value returned is &#39;0b00000011_10100000&#39; (IntelliJ Debugger window), but I thought it would return &#39;0b0011 1110 1000&#39; (int 1000).\r\n\r\nWhat am I missing here?\r\nI need to be able to retrieve the range of bits so I can validate their values.\r\n\r\n**NOTE**: all the values stored are integers except for one which is a timestamp value (long).\r\n\r\n","title":"Retrieve range of bits from byte array","body":"<p>I have a 16 byte byte array with various values populated inside of it. Those values can and do cross the byte boundary.</p>\n<p>Here is the binary representation of my data</p>\n<blockquote>\n<p>0011 | 0011 | 1110 | 1000 | 1100 | 1000 | 1100 | 1000 |\n0100 | 1101 | 0010 | 1111 | 1010 | 0001 | 1111 | 1111    [ 0 - 63]</p>\n<p>0000 | 0101 | 0000 | 0011 | 0000 | 0011 | 1110 | 1000 | 1100 | 1000 |\n1100 | 1000 | 0000 | 0001 | 0010 | 1100    [64 -127]</p>\n</blockquote>\n<p>The various values I need to retrieve are stored in the following bit positions</p>\n<blockquote>\n<p>0-3 | 4-5 | 6-15 | 16-23 | 24-31 | 32 - 63 | 64-71 | 72-79 | 80-83 | 84-85 | 86-94 | 96-103 | 104-111 | 112-127</p>\n</blockquote>\n<p><strong>CODE:</strong></p>\n<p>Here's the code to populate the Byte Array:</p>\n<pre><code>protected byte[] createMessageHeader(byte[] content) {\n    int[] set = new int[128];\n    set = intToBinary(set, 3, 3);\n    set = intToBinary(set, 0, 5);\n    set = intToBinary(set, 1000, 15);\n    set = intToBinary(set, 200, 23);\n    set = intToBinary(set, 200, 31);\n    set = intToBinary(set, 1294967295, 63);\n    set = intToBinary(set, 5, 71);\n    set = intToBinary(set, 3, 79);\n    set = intToBinary(set, 0, 83);\n    set = intToBinary(set, 0, 85);\n    set = intToBinary(set, 1000, 95);\n    set = intToBinary(set, 200, 103);\n    set = intToBinary(set, 200, 111);\n    set = intToBinary(set, 300, 127);\n\n    BitSet bitSet = binArrayToBitset(set);\n    byte[] b1 = bitSet.toByteArray();\n\n    for(int i = 0; i &lt; b1.length; i++) {\n        b1[i] = (byte) (Integer.reverse(b1[i]) &gt;&gt;&gt; 24);\n    }\n\n    return b1;\n}\n\nprotected int[] intToBinary(int[] binary, int val, int start) {\n        // Number should be positive\n        while (val &gt; 0) {\n            binary[start--] = val % 2;\n            val = val / 2;\n        }\n        return binary;\n    }\nprotected BitSet binArrayToBitset(int[] binArray) {\n        BitSet set = new BitSet(128);\n\n        for(int i = 0; i &lt; binArray.length; i++) {\n            if(binArray[i] != 0)\n                set.set(i);\n        }\n        return set;\n    }\n//Convenience method to print binary representation of values\nprotected void toBinString(int[] set) {\n        StringBuilder stringBuilder = new StringBuilder();\n        for(int i = 0; i &lt; set.length; i++) {\n            if(i % 4 == 0)\n                stringBuilder.append(&quot;|&quot;);\n            if(i % 64 == 0)\n                stringBuilder.append(&quot;\\n&quot;);\n            stringBuilder.append(set[i]);\n        }\n    }\n\n\n    \n</code></pre>\n<p>The above code should produce the Byte Array with the specified values at the specific bit index ranges.</p>\n<hr />\n<p>I have tried numerous methods for retrieving these values, most recently:</p>\n<pre><code>private int extractBits2(byte[] header, int start, int end) {\n    BitSet bitSet = BitSet.valueOf(header);\n    return (int) bitSet.get(start, end + 1).toLongArray()[0];\n}\n</code></pre>\n<p>Using the above method, if I call it with:</p>\n<blockquote>\n<p>int extracted = extractBits2(header, 6, 15)</p>\n</blockquote>\n<p>The value returned is '0b00000011_10100000' (IntelliJ Debugger window), but I thought it would return '0b0011 1110 1000' (int 1000).</p>\n<p>What am I missing here?\nI need to be able to retrieve the range of bits so I can validate their values.</p>\n<p><strong>NOTE</strong>: all the values stored are integers except for one which is a timestamp value (long).</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":6606813,"reputation":24,"user_id":5103403,"display_name":"Nicholas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1463034474,"creation_date":1463034474,"answer_id":37178866,"question_id":37178520,"body_markdown":"You can use `wildcard matching`.\r\n\r\nfor example, i want to search name like `haha`,\r\n\r\n    @Query(&quot;select u from User u where lower(u.name) like :u_name&quot;)\r\n    public List&lt;User&gt; findByNameFree(@Param(&quot;u_name&quot;) String name);\r\n    List&lt;User&gt; users = userDao.findByNameFree(&quot;%haha&quot;);","title":"JPQL Like Case Insensitive","body":"<p>You can use <code>wildcard matching</code>.</p>\n\n<p>for example, i want to search name like <code>haha</code>,</p>\n\n<pre><code>@Query(\"select u from User u where lower(u.name) like :u_name\")\npublic List&lt;User&gt; findByNameFree(@Param(\"u_name\") String name);\nList&lt;User&gt; users = userDao.findByNameFree(\"%haha\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1463035343,"creation_date":1463035343,"answer_id":37179118,"question_id":37178520,"body_markdown":"If that is only what you want and you are using Spring Data JPA you don&#39;t need to write a query. \r\n\r\n    List&lt;User&gt; findByNameContainingIgnoreCase(String name);\r\n\r\nElse you need to wrap the `name` attribute with `%` before you pass it to the method (putting those directly in the query will simply not work). Or don&#39;t use a query but use a specification or the Criteria API to create the query. ","title":"JPQL Like Case Insensitive","body":"<p>If that is only what you want and you are using Spring Data JPA you don't need to write a query. </p>\n\n<pre><code>List&lt;User&gt; findByNameContainingIgnoreCase(String name);\n</code></pre>\n\n<p>Else you need to wrap the <code>name</code> attribute with <code>%</code> before you pass it to the method (putting those directly in the query will simply not work). Or don't use a query but use a specification or the Criteria API to create the query. </p>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":145,"is_accepted":true,"score":145,"last_activity_date":1485980191,"creation_date":1485980191,"answer_id":41988897,"question_id":37178520,"body_markdown":"You can use the concat operator:\r\n\r\n    @Query(&quot;select u from User u where lower(u.name) like lower(concat(&#39;%&#39;, ?1,&#39;%&#39;))&quot;)\r\n    public List&lt;User&gt; findByNameFree(String name);\r\n\r\nor with a named parameter:\r\n\r\n    @Query(&quot;select u from User u where lower(u.name) like lower(concat(&#39;%&#39;, :nameToFind,&#39;%&#39;))&quot;)\r\n    public List&lt;User&gt; findByNameFree(@Param(&quot;nameToFind&quot;) String name);\r\n\r\n(Tested with Spring Boot 1.4.3)","title":"JPQL Like Case Insensitive","body":"<p>You can use the concat operator:</p>\n\n<pre><code>@Query(\"select u from User u where lower(u.name) like lower(concat('%', ?1,'%'))\")\npublic List&lt;User&gt; findByNameFree(String name);\n</code></pre>\n\n<p>or with a named parameter:</p>\n\n<pre><code>@Query(\"select u from User u where lower(u.name) like lower(concat('%', :nameToFind,'%'))\")\npublic List&lt;User&gt; findByNameFree(@Param(\"nameToFind\") String name);\n</code></pre>\n\n<p>(Tested with Spring Boot 1.4.3)</p>\n"},{"tags":[],"owner":{"account_id":13045696,"reputation":717,"user_id":9427614,"display_name":"Shashank"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1595216870,"creation_date":1595216870,"answer_id":62988377,"question_id":37178520,"body_markdown":"I am using Spring Boot 2.1.6, You can define query methods using Containing, Contains, and IsContaining as below:\r\n\r\n    List&lt;User&gt; findByNameContaining(String name);\r\n    List&lt;User&gt; findByNameContains(String name);\r\n    List&lt;User&gt; findByNameIsContaining(String name);\r\n \r\nCase Insensitivity:\r\n\r\n    List&lt;User&gt; findByNameContainingIgnoreCase(String name);\r\nOR you can also define as below as well:\r\n\r\n    @Query(&quot;select u from User u where lower(u.name) like lower(concat(&#39;%&#39;, :name,&#39;%&#39;))&quot;)\r\n    public List&lt;User&gt; findByName(@Param(&quot;name&quot;) String name);\r\nThe @Param annotation is important here because we&#39;re using a named parameter.\r\n   ","title":"JPQL Like Case Insensitive","body":"<p>I am using Spring Boot 2.1.6, You can define query methods using Containing, Contains, and IsContaining as below:</p>\n<pre><code>List&lt;User&gt; findByNameContaining(String name);\nList&lt;User&gt; findByNameContains(String name);\nList&lt;User&gt; findByNameIsContaining(String name);\n</code></pre>\n<p>Case Insensitivity:</p>\n<pre><code>List&lt;User&gt; findByNameContainingIgnoreCase(String name);\n</code></pre>\n<p>OR you can also define as below as well:</p>\n<pre><code>@Query(&quot;select u from User u where lower(u.name) like lower(concat('%', :name,'%'))&quot;)\npublic List&lt;User&gt; findByName(@Param(&quot;name&quot;) String name);\n</code></pre>\n<p>The @Param annotation is important here because we're using a named parameter.</p>\n"},{"tags":[],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639486170,"creation_date":1639486170,"answer_id":70349161,"question_id":37178520,"body_markdown":"  Without using concat and using TypedQuery:\r\n\r\n      TypedQuery&lt;Baptism&gt; query = entityManager.createQuery(&quot;SELECT d FROM &quot; + Baptism.class.getSimpleName()\r\n        \t\t\t\t\t\t+ &quot; d JOIN d.person p WHERE UPPER(p.lastName) LIKE UPPER(:ln)&quot;, Baptism.class);\r\n        \t\t\t\tquery.setParameter(&quot;ln&quot;, &quot;%&quot; + ln + &quot;%&quot;);","title":"JPQL Like Case Insensitive","body":"<p>Without using concat and using TypedQuery:</p>\n<pre><code>  TypedQuery&lt;Baptism&gt; query = entityManager.createQuery(&quot;SELECT d FROM &quot; + Baptism.class.getSimpleName()\n                            + &quot; d JOIN d.person p WHERE UPPER(p.lastName) LIKE UPPER(:ln)&quot;, Baptism.class);\n                    query.setParameter(&quot;ln&quot;, &quot;%&quot; + ln + &quot;%&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8781440,"reputation":59,"user_id":6564948,"display_name":"Swornim Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667543780,"creation_date":1667543780,"answer_id":74313026,"question_id":37178520,"body_markdown":"You can use spring boot naming convention strategy to achieve with naming pattern like: findBy`YourFieldCamelCase`LikeIgnoreCase \r\n\r\n`example: findByUserNameLikeIgnoreCase(userName: String): List&lt;UserEntity&gt;`","title":"JPQL Like Case Insensitive","body":"<p>You can use spring boot naming convention strategy to achieve with naming pattern like: findBy<code>YourFieldCamelCase</code>LikeIgnoreCase</p>\n<p><code>example: findByUserNameLikeIgnoreCase(userName: String): List&lt;UserEntity&gt;</code></p>\n"}],"owner":{"account_id":2117316,"reputation":1141,"user_id":1881284,"accept_rate":36,"display_name":"windupurnomo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88156,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":41988897,"answer_count":6,"score":69,"last_activity_date":1670593152,"creation_date":1463033194,"question_id":37178520,"body_markdown":"I want to search data in User table by name case insensitive.\r\n\r\n\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\t\r\n\t  @Query(&quot;select u from User u where lower(u.name) like %lower(?1)%&quot;)\r\n\t  public List&lt;User&gt; findByNameFree(String name);\r\n    \r\n    }\r\n\r\nI got an error: *unexpected token: %*. Where should I place &#39;%&#39;?","title":"JPQL Like Case Insensitive","body":"<p>I want to search data in User table by name case insensitive.</p>\n\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n  @Query(\"select u from User u where lower(u.name) like %lower(?1)%\")\n  public List&lt;User&gt; findByNameFree(String name);\n\n}\n</code></pre>\n\n<p>I got an error: <em>unexpected token: %</em>. Where should I place '%'?</p>\n"},{"tags":["java","json","json-simple"],"comments":[{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1669983656,"post_id":74652384,"comment_id":131772608,"body_markdown":"for those who voted for close: this question is not about how to iterate over json.","body":"for those who voted for close: this question is not about how to iterate over json."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670592960,"post_id":74652384,"comment_id":131915653,"body_markdown":"You&#39;re calling `upcomingIterator.next()` three times in the loop, while `Upcoming` only contains 2 elements. You should call `next()` only **once** per loop iteration, assign it to a local variable, and then use it for the remainder of the loop. In case you hadn&#39;t noticed it, you printed the title of the first array element of `Upcoming`, and the number of seats of the second array element. If you had had three elements in the array, you would have printed the synopsis of the third.","body":"You&#39;re calling <code>upcomingIterator.next()</code> three times in the loop, while <code>Upcoming</code> only contains 2 elements. You should call <code>next()</code> only <b>once</b> per loop iteration, assign it to a local variable, and then use it for the remainder of the loop. In case you hadn&#39;t noticed it, you printed the title of the first array element of <code>Upcoming</code>, and the number of seats of the second array element. If you had had three elements in the array, you would have printed the synopsis of the third."}],"answers":[{"tags":[],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669967927,"creation_date":1669967526,"answer_id":74652433,"question_id":74652384,"body_markdown":"in the loop you use &quot;jsonObject&quot; but i guess you should use &quot;upcomingIterator.next()&quot;\r\n\r\n            while (upcomingIterator.hasNext()) {\r\n                String title = (String) upcomingIterator.next().get(&quot;title&quot;);\r\n                System.out.println(&quot;title: &quot; + title);\r\n            }\r\n\r\nI am not sure about the JSON API u are using, but it is sure if you use ```hasNext()``` you want most likely use ```next()``` to actually iterate and let the loop stop if there is no next anymore.\r\n\r\nSome other point to mention (you seem to begin with Java?):\r\nnever ever \r\n\r\n    catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nbut instead:\r\n\r\n    catch (Exception e) {\r\n        throw new IllegalArgumentException(&quot;Problem on reading JSON: &quot; , e);\r\n    }\r\n\r\nDon&#39;t ask why most IDEs put this as default in catch block (i think at least IntelliJ changed). \r\n","title":"I am trying to read the JSON file and print the values of each object within array, but I am having incorrect output. What did I do wrong?","body":"<p>in the loop you use &quot;jsonObject&quot; but i guess you should use &quot;upcomingIterator.next()&quot;</p>\n<pre><code>        while (upcomingIterator.hasNext()) {\n            String title = (String) upcomingIterator.next().get(&quot;title&quot;);\n            System.out.println(&quot;title: &quot; + title);\n        }\n</code></pre>\n<p>I am not sure about the JSON API u are using, but it is sure if you use <code>hasNext()</code> you want most likely use <code>next()</code> to actually iterate and let the loop stop if there is no next anymore.</p>\n<p>Some other point to mention (you seem to begin with Java?):\nnever ever</p>\n<pre><code>catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>but instead:</p>\n<pre><code>catch (Exception e) {\n    throw new IllegalArgumentException(&quot;Problem on reading JSON: &quot; , e);\n}\n</code></pre>\n<p>Don't ask why most IDEs put this as default in catch block (i think at least IntelliJ changed).</p>\n"}],"owner":{"account_id":18201292,"reputation":13,"user_id":13245399,"display_name":"Nomad312"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1669970375,"accepted_answer_id":74652433,"answer_count":1,"score":1,"last_activity_date":1670592865,"creation_date":1669967282,"question_id":74652384,"body_markdown":"So, I am using json-simple library in my project, and this is what I have right now: (I just want to print out each of the objects from the JSON file)\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport org.json.simple.*;\r\nimport org.json.simple.parser.*;\r\n\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        JSONParser parser = new JSONParser();\r\n        try {\r\n            Object obj = parser.parse(new FileReader(&quot;src/movies.json&quot;));\r\n            JSONObject jsonObject = (JSONObject) obj;\r\n\r\n            JSONArray upcoming = (JSONArray) jsonObject.get(&quot;Upcoming&quot;);\r\n            JSONArray current = (JSONArray) jsonObject.get(&quot;Current&quot;);\r\n\r\n            System.out.println(&quot;Upcoming Movies:&quot;);\r\n            Iterator upcomingIterator = upcoming.iterator();\r\n            \r\n            while (upcomingIterator.hasNext()) {\r\n                String title = (String) ((HashMap) upcomingIterator.next()).get(&quot;title&quot;);\r\n                System.out.println(&quot;title: &quot; + title);\r\n\r\n                String numberOfSeats = (String) ((HashMap) upcomingIterator.next()).get(&quot;numberOfSeats&quot;);\r\n                System.out.println(&quot;numberOfSeats: &quot; + numberOfSeats);\r\n\r\n                String synopsis = (String) ((HashMap) upcomingIterator.next()).get(&quot;synopsis&quot;);\r\n                System.out.println(&quot;synopsis: &quot; + synopsis);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand this is what the JSON file looks like:\r\n\r\n\r\n```\r\n{\r\n    &quot;Upcoming&quot;: [\r\n        {\r\n            &quot;title&quot;: &quot;Black Panther: Wakanda Forever&quot;,\r\n            &quot;status&quot;: &quot;Current&quot;,\r\n            &quot;showtimes&quot;: [\r\n                &quot;11:00&quot;,\r\n                &quot;12:00&quot;,\r\n                &quot;13:00&quot;\r\n            ],\r\n            &quot;theater&quot;: [\r\n                &quot;Lubbock&quot;,\r\n                &quot;Amarillo&quot;,\r\n                &quot;Plainview&quot;,\r\n                &quot;Snyder&quot;\r\n            ],\r\n            &quot;numberOfSeats&quot;: &quot;55&quot;,\r\n            &quot;synopsis&quot;: &quot;The people of Wakanda fight to protect their home from intervening world powers as they mourn the death of King T&#39;Challa.&quot;,\r\n            &quot;runtime&quot;: &quot;161 min&quot;,\r\n            &quot;prices&quot;: [\r\n                &quot;$5&quot;,\r\n                &quot;$6&quot;,\r\n                &quot;$10&quot;\r\n            ],\r\n            &quot;reviews&quot;: [\r\n                &quot;Great Movie&quot;,\r\n                &quot;Best Movie&quot;,\r\n                &quot;The greatest movie ever&quot;,\r\n                &quot;I like the lead in this movie&quot;\r\n            ],\r\n            &quot;castInfo&quot;: [\r\n                &quot;Letitia Wright&quot;,\r\n                &quot;Lupita Nyong&#39;o&quot;,\r\n                &quot;Danai Gurira&quot;,\r\n                &quot;Winston Duke&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;title&quot;: &quot;Thor: Love and Thunder&quot;,\r\n            &quot;status&quot;: &quot;Upcoming&quot;,\r\n            &quot;showtimes&quot;: [\r\n                &quot;14:30&quot;,\r\n                &quot;19:15&quot;,\r\n                &quot;19:45&quot;\r\n            ],\r\n            &quot;theater&quot;: [\r\n                &quot;Lubbock&quot;,\r\n                &quot;Plainview&quot;,\r\n                &quot;Abilene&quot;\r\n            ],\r\n            &quot;numberOfSeats&quot;: &quot;64&quot;,\r\n            &quot;synopsis&quot;: &quot;Thor enlists the help of Valkyrie, Korg and ex-girlfriend Jane Foster to fight Gorr the God Butcher, who intends to make the gods extinct.&quot;,\r\n            &quot;runtime&quot;: &quot;118 min&quot;,\r\n            &quot;prices&quot;: [\r\n                &quot;$6&quot;,\r\n                &quot;$7&quot;,\r\n                &quot;$10&quot;\r\n            ],\r\n            &quot;reviews&quot;: [\r\n                &quot;Great Movie&quot;,\r\n                &quot;Best Movie&quot;,\r\n                &quot;The greatest movie ever&quot;,\r\n                &quot;I like the lead in this movie&quot;\r\n            ],\r\n            &quot;castInfo&quot;: [\r\n                &quot;Chris Hemsworth&quot;,\r\n                &quot;Natalie Portman&quot;,\r\n                &quot;Christian Bale&quot;,\r\n                &quot;Tessa Thompson&quot;\r\n            ]\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nAfter running the code above, I am getting the following output which is not really consistent with the JSON data. Can someone please explain how can I solve this?\r\n\r\n[![Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eI3k5.png","title":"I am trying to read the JSON file and print the values of each object within array, but I am having incorrect output. What did I do wrong?","body":"<p>So, I am using json-simple library in my project, and this is what I have right now: (I just want to print out each of the objects from the JSON file)</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport org.json.simple.*;\nimport org.json.simple.parser.*;\n\npublic class App {\n    public static void main(String[] args) {\n        JSONParser parser = new JSONParser();\n        try {\n            Object obj = parser.parse(new FileReader(&quot;src/movies.json&quot;));\n            JSONObject jsonObject = (JSONObject) obj;\n\n            JSONArray upcoming = (JSONArray) jsonObject.get(&quot;Upcoming&quot;);\n            JSONArray current = (JSONArray) jsonObject.get(&quot;Current&quot;);\n\n            System.out.println(&quot;Upcoming Movies:&quot;);\n            Iterator upcomingIterator = upcoming.iterator();\n            \n            while (upcomingIterator.hasNext()) {\n                String title = (String) ((HashMap) upcomingIterator.next()).get(&quot;title&quot;);\n                System.out.println(&quot;title: &quot; + title);\n\n                String numberOfSeats = (String) ((HashMap) upcomingIterator.next()).get(&quot;numberOfSeats&quot;);\n                System.out.println(&quot;numberOfSeats: &quot; + numberOfSeats);\n\n                String synopsis = (String) ((HashMap) upcomingIterator.next()).get(&quot;synopsis&quot;);\n                System.out.println(&quot;synopsis: &quot; + synopsis);\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>and this is what the JSON file looks like:</p>\n<pre><code>{\n    &quot;Upcoming&quot;: [\n        {\n            &quot;title&quot;: &quot;Black Panther: Wakanda Forever&quot;,\n            &quot;status&quot;: &quot;Current&quot;,\n            &quot;showtimes&quot;: [\n                &quot;11:00&quot;,\n                &quot;12:00&quot;,\n                &quot;13:00&quot;\n            ],\n            &quot;theater&quot;: [\n                &quot;Lubbock&quot;,\n                &quot;Amarillo&quot;,\n                &quot;Plainview&quot;,\n                &quot;Snyder&quot;\n            ],\n            &quot;numberOfSeats&quot;: &quot;55&quot;,\n            &quot;synopsis&quot;: &quot;The people of Wakanda fight to protect their home from intervening world powers as they mourn the death of King T'Challa.&quot;,\n            &quot;runtime&quot;: &quot;161 min&quot;,\n            &quot;prices&quot;: [\n                &quot;$5&quot;,\n                &quot;$6&quot;,\n                &quot;$10&quot;\n            ],\n            &quot;reviews&quot;: [\n                &quot;Great Movie&quot;,\n                &quot;Best Movie&quot;,\n                &quot;The greatest movie ever&quot;,\n                &quot;I like the lead in this movie&quot;\n            ],\n            &quot;castInfo&quot;: [\n                &quot;Letitia Wright&quot;,\n                &quot;Lupita Nyong'o&quot;,\n                &quot;Danai Gurira&quot;,\n                &quot;Winston Duke&quot;\n            ]\n        },\n        {\n            &quot;title&quot;: &quot;Thor: Love and Thunder&quot;,\n            &quot;status&quot;: &quot;Upcoming&quot;,\n            &quot;showtimes&quot;: [\n                &quot;14:30&quot;,\n                &quot;19:15&quot;,\n                &quot;19:45&quot;\n            ],\n            &quot;theater&quot;: [\n                &quot;Lubbock&quot;,\n                &quot;Plainview&quot;,\n                &quot;Abilene&quot;\n            ],\n            &quot;numberOfSeats&quot;: &quot;64&quot;,\n            &quot;synopsis&quot;: &quot;Thor enlists the help of Valkyrie, Korg and ex-girlfriend Jane Foster to fight Gorr the God Butcher, who intends to make the gods extinct.&quot;,\n            &quot;runtime&quot;: &quot;118 min&quot;,\n            &quot;prices&quot;: [\n                &quot;$6&quot;,\n                &quot;$7&quot;,\n                &quot;$10&quot;\n            ],\n            &quot;reviews&quot;: [\n                &quot;Great Movie&quot;,\n                &quot;Best Movie&quot;,\n                &quot;The greatest movie ever&quot;,\n                &quot;I like the lead in this movie&quot;\n            ],\n            &quot;castInfo&quot;: [\n                &quot;Chris Hemsworth&quot;,\n                &quot;Natalie Portman&quot;,\n                &quot;Christian Bale&quot;,\n                &quot;Tessa Thompson&quot;\n            ]\n        }\n    ]\n}\n</code></pre>\n<p>After running the code above, I am getting the following output which is not really consistent with the JSON data. Can someone please explain how can I solve this?</p>\n<p><a href=\"https://i.stack.imgur.com/eI3k5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eI3k5.png\" alt=\"Output\" /></a></p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":27201772,"reputation":1,"user_id":20733928,"display_name":"Ned Hunter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670591816,"creation_date":1670591816,"answer_id":74743686,"question_id":71033350,"body_markdown":"You might want to check if your build system and/or IDE is running on the same JVM version as the java command. If those are mismatched, certain features may work in the IDE but not in deployment.","title":"Gradle error with jar file on command line","body":"<p>You might want to check if your build system and/or IDE is running on the same JVM version as the java command. If those are mismatched, certain features may work in the IDE but not in deployment.</p>\n"}],"owner":{"account_id":16914410,"reputation":17,"user_id":12232754,"display_name":"Jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670591816,"creation_date":1644320791,"question_id":71033350,"body_markdown":"This is my first time working with gradle so please be patient. I am building a java project and trying to build and compile it with gradle. The code works just fine on an IDE.\r\n\r\n I am running into an error on the command line with I run the command below:\r\n\r\n    java -jar build\\libs\\*****.jar\r\n\r\n\r\nthe project builds just fine with:\r\n\r\n    gradlew build\r\n\r\nThe error I am getting is:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: source\r\n        at java.base/java.util.Objects.requireNonNull(Objects.java:233)\r\n        at java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:595)\r\n        at java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:581)\r\n        at com.***.MortgagePlan.handleData(MortgagePlan.java:20)\r\n        at com.***.MortgagePlan.main(MortgagePlan.java:10)\r\n\r\n\r\nI am wondering how to fix this error. I have a main class, a customer class along with a text data file in one folder. The build.gradle looks like this:\r\n```\r\nplugins{\r\n\tid &#39;java&#39;\r\n\r\n}\r\n\r\njar{\r\n\tmanifest {\r\n\t\tattributes &#39;Main-Class&#39;: &#39;com.***.MortgagePlan&#39;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nMy code requires me to import the scanner, input stream and an arraylist. Any ideas?\r\n\r\nps. the * are not the actual names of my files/ directories. I have blocked out sensitive information\r\n","title":"Gradle error with jar file on command line","body":"<p>This is my first time working with gradle so please be patient. I am building a java project and trying to build and compile it with gradle. The code works just fine on an IDE.</p>\n<p>I am running into an error on the command line with I run the command below:</p>\n<pre><code>java -jar build\\libs\\*****.jar\n</code></pre>\n<p>the project builds just fine with:</p>\n<pre><code>gradlew build\n</code></pre>\n<p>The error I am getting is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: source\n    at java.base/java.util.Objects.requireNonNull(Objects.java:233)\n    at java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:595)\n    at java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:581)\n    at com.***.MortgagePlan.handleData(MortgagePlan.java:20)\n    at com.***.MortgagePlan.main(MortgagePlan.java:10)\n</code></pre>\n<p>I am wondering how to fix this error. I have a main class, a customer class along with a text data file in one folder. The build.gradle looks like this:</p>\n<pre><code>plugins{\n    id 'java'\n\n}\n\njar{\n    manifest {\n        attributes 'Main-Class': 'com.***.MortgagePlan'\n    }\n}\n\n</code></pre>\n<p>My code requires me to import the scanner, input stream and an arraylist. Any ideas?</p>\n<p>ps. the * are not the actual names of my files/ directories. I have blocked out sensitive information</p>\n"},{"tags":["java","maven","junit4","powermock","parametrized-testing"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670591957,"post_id":74743685,"comment_id":131915321,"body_markdown":"Without giving more detailed information it&#39;s impossible to even guess... a full test the full error output also upgrade Maven, JDK and plugins ..and reconsider using powermock...","body":"Without giving more detailed information it&#39;s impossible to even guess... a full test the full error output also upgrade Maven, JDK and plugins ..and reconsider using powermock..."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670694948,"post_id":74743685,"comment_id":131934648,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":9413053,"reputation":1,"user_id":7001512,"display_name":"ibrz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670591812,"creation_date":1670591812,"question_id":74743685,"body_markdown":"When I run `mvn test -Dtest=ClassTest` it works however when I run just `mvn test` it fails because classes that should be mocked by PowerMock are null.\r\n\r\nFollowing some details:\r\n\r\njdk 1.7\r\nmvn 3.6.3\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n   &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n   &lt;version&gt;1.7.4&lt;/version&gt;\r\n   &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n   &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n   &lt;version&gt;1.7.4&lt;/version&gt;\r\n   &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```\r\nTests in error: \r\n  Test.souldExecute:99 NullPointer\r\n  Test.souldExecute:99 NullPointer\r\n  Test.souldExecute:99 NullPointer\r\n```","title":"Tests doesn&#39;t work properly when using @RunWith(PowerMockRunner.class) and @PowerMockRunnerDelegate(Parameterized.class)","body":"<p>When I run <code>mvn test -Dtest=ClassTest</code> it works however when I run just <code>mvn test</code> it fails because classes that should be mocked by PowerMock are null.</p>\n<p>Following some details:</p>\n<p>jdk 1.7\nmvn 3.6.3</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n   &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n   &lt;version&gt;1.7.4&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n   &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n   &lt;version&gt;1.7.4&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>Tests in error: \n  Test.souldExecute:99 NullPointer\n  Test.souldExecute:99 NullPointer\n  Test.souldExecute:99 NullPointer\n</code></pre>\n"},{"tags":["java","api","postman","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":1,"creation_date":1670594059,"post_id":74742697,"comment_id":131916018,"body_markdown":"What about your `userID` is a value that comes from another API. You don&#39;t want to concate String in path. If only one pathParam in in literal value like your question, it provides no improvement. It will help the case 2+ pathParam and value of them come from somewhere else, not literal values.","body":"What about your <code>userID</code> is a value that comes from another API. You don&#39;t want to concate String in path. If only one pathParam in in literal value like your question, it provides no improvement. It will help the case 2+ pathParam and value of them come from somewhere else, not literal values."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670591175,"creation_date":1670591175,"answer_id":74743568,"question_id":74742697,"body_markdown":"You could have your spec preserved and reuse parameter in different apis like:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    RequestSpecification spec = given().\r\n            baseUri(&quot;https://httpbin.org/anything&quot;)\r\n            .pathParam(&quot;param&quot;, &quot;123&quot;);\r\n\r\n    spec\r\n            .get(&quot;/api1/{param}&quot;)\r\n            .then()\r\n            .log().body();\r\n\r\n    spec\r\n            .get(&quot;/api2/{param}&quot;)\r\n            .then()\r\n            .log().body();\r\n}\r\n```\r\n","title":"what is the usage of pathParam instead of full path in restAssured","body":"<p>You could have your spec preserved and reuse parameter in different apis like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    RequestSpecification spec = given().\n            baseUri(&quot;https://httpbin.org/anything&quot;)\n            .pathParam(&quot;param&quot;, &quot;123&quot;);\n\n    spec\n            .get(&quot;/api1/{param}&quot;)\n            .then()\n            .log().body();\n\n    spec\n            .get(&quot;/api2/{param}&quot;)\n            .then()\n            .log().body();\n}\n</code></pre>\n"}],"owner":{"account_id":19571807,"reputation":133,"user_id":14322804,"display_name":"nuzooo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74743568,"answer_count":1,"score":0,"last_activity_date":1670591175,"creation_date":1670586479,"question_id":74742697,"body_markdown":"According to [this][1] question I understand that pathParam is parameter for path in query.\r\nBut I don&#39;t understand what is the usage of that instead of writing the full path in get query like this if we have only one path anyway?\r\n\r\n```java\r\ngiven().\r\n\tbaseUri(&quot;https://postman-echo.com&quot;)\r\n           .pathParam(&quot;userId&quot;, &quot;1&quot;)\r\n.when()\r\n          .get(&quot;/api/users/{userId}&quot;)\r\n.then()\r\n\t.log().ifError()\r\n           .assertThat()\r\n           .statusCode(200)\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30967822/when-do-i-use-path-params-vs-query-params-in-a-restful-api","title":"what is the usage of pathParam instead of full path in restAssured","body":"<p>According to <a href=\"https://stackoverflow.com/questions/30967822/when-do-i-use-path-params-vs-query-params-in-a-restful-api\">this</a> question I understand that pathParam is parameter for path in query.\nBut I don't understand what is the usage of that instead of writing the full path in get query like this if we have only one path anyway?</p>\n<pre class=\"lang-java prettyprint-override\"><code>given().\n    baseUri(&quot;https://postman-echo.com&quot;)\n           .pathParam(&quot;userId&quot;, &quot;1&quot;)\n.when()\n          .get(&quot;/api/users/{userId}&quot;)\n.then()\n    .log().ifError()\n           .assertThat()\n           .statusCode(200)\n</code></pre>\n"},{"tags":["java","hibernate","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7778070,"reputation":1974,"user_id":5885483,"display_name":"Krisz"},"down_vote_count":0,"up_vote_count":103,"is_accepted":true,"score":103,"last_activity_date":1670591022,"creation_date":1580635450,"answer_id":60024749,"question_id":60021815,"body_markdown":"From [Java Persistence API on Wikipedia][1]:\r\n\r\n&gt; The **Java Persistence API (JPA), in 2019 renamed to Jakarta Persistence**, is a Java application programming interface specification that describes the management of relational data in applications using Java Platform, Standard Edition and Java Platform, Enterprise Edition/Jakarta EE.\r\n\r\nAfter Java EE was open sourced by Oracle and gave the rights to the Eclipse Foundation they were legally required to change the name from Java as Oracle has the rights over the Java brand. The name Jakarta was chosen by the community. You can find more information by reading [Transition from Java EE to Jakarta EE][3] and [Jakarta EE - No Turning Back][4]. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Persistence_API\r\n  [3]: https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee\r\n  [4]: https://www.eclipse.org/community/eclipse_newsletter/2018/may/noturningback.php","title":"Why has javax.persistence-api been replaced by jakarta.persistence-api in spring data jpa starter?","body":"<p>From <a href=\"https://en.wikipedia.org/wiki/Java_Persistence_API\" rel=\"noreferrer\">Java Persistence API on Wikipedia</a>:</p>\n<blockquote>\n<p>The <strong>Java Persistence API (JPA), in 2019 renamed to Jakarta Persistence</strong>, is a Java application programming interface specification that describes the management of relational data in applications using Java Platform, Standard Edition and Java Platform, Enterprise Edition/Jakarta EE.</p>\n</blockquote>\n<p>After Java EE was open sourced by Oracle and gave the rights to the Eclipse Foundation they were legally required to change the name from Java as Oracle has the rights over the Java brand. The name Jakarta was chosen by the community. You can find more information by reading <a href=\"https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee\" rel=\"noreferrer\">Transition from Java EE to Jakarta EE</a> and <a href=\"https://www.eclipse.org/community/eclipse_newsletter/2018/may/noturningback.php\" rel=\"noreferrer\">Jakarta EE - No Turning Back</a>.</p>\n"}],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69954,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":60024749,"answer_count":1,"score":61,"last_activity_date":1670591022,"creation_date":1580598012,"question_id":60021815,"body_markdown":"I&#39;ve recently started to learn spring boot, data jpa. As I can see from [this](https://github.com/spring-projects/spring-boot/blob/v2.2.0.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-jpa/pom.xml), the spring boot data jpa starter uses `jakarta.persistence-api` instead of `javax.persistence-api`:\r\n\r\n``` xml\r\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n   ...\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      \r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n         &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n         &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n               &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n               &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            ...\r\n         &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n```\r\nWhat is the differences between `jakarta.persistence-api` and `javax.persistence-api`? What is the reason of this replacement?\r\n","title":"Why has javax.persistence-api been replaced by jakarta.persistence-api in spring data jpa starter?","body":"<p>I've recently started to learn spring boot, data jpa. As I can see from <a href=\"https://github.com/spring-projects/spring-boot/blob/v2.2.0.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-jpa/pom.xml\" rel=\"noreferrer\">this</a>, the spring boot data jpa starter uses <code>jakarta.persistence-api</code> instead of <code>javax.persistence-api</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n   ...\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n         &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n         &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n         &lt;exclusions&gt;\n            &lt;exclusion&gt;\n               &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n               &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            ...\n         &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n</code></pre>\n\n<p>What is the differences between <code>jakarta.persistence-api</code> and <code>javax.persistence-api</code>? What is the reason of this replacement?</p>\n"},{"tags":["java","spring-boot","rest","microservices"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1670578282,"post_id":74741131,"comment_id":131911201,"body_markdown":"You can return any object that can get parsed into JSON, why not a list? Who is he? Maybe he wants the code to be more readable?","body":"You can return any object that can get parsed into JSON, why not a list? Who is he? Maybe he wants the code to be more readable?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1670578391,"post_id":74741131,"comment_id":131911232,"body_markdown":"JSON clearly can represent what you want, so you *could* do something to that effect (no idea if your specific code will work), but the problem is that this kind of mixed-type list is tricky to parse in an automated way. Depending on the language/parsing/mapping framework it might mean a lot more work to get the data from the raw JSON into useful objects. It&#39;s just way less convenient to work with than properly-structured data.","body":"JSON clearly can represent what you want, so you <i>could</i> do something to that effect (no idea if your specific code will work), but the problem is that this kind of mixed-type list is tricky to parse in an automated way. Depending on the language/parsing/mapping framework it might mean a lot more work to get the data from the raw JSON into useful objects. It&#39;s just way less convenient to work with than properly-structured data."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1670579352,"post_id":74741131,"comment_id":131911513,"body_markdown":"I guess `List&lt;Object&gt;`,  `Object` is problem, not List; every thing (type include byte array) can add to list, how to parse it ? I add finalList.add(&quot;John Doe&quot;); multi time in different order, when you receive JSON string , find &quot;John Doe&quot; in different position ,  what is meaning  of &quot;John Doe&quot;,  finalList.add(&quot;John Doe&quot;);\n        byte[] abc= new byte[] { (byte)0xee, 0x4e, (byte)0xd1, 0x21, (byte)0xe2, 0x32, 0x63, 0x13, (byte)0xa4, (byte)0xd4, 0x04, 0x05, 0x26, 0x37, 0x38, (byte)0x98 };\n        finalList.add(abc); finalList.add(&quot;John Doe&quot;); return finalList;","body":"I guess <code>List&lt;Object&gt;</code>,  <code>Object</code> is problem, not List; every thing (type include byte array) can add to list, how to parse it ? I add finalList.add(&quot;John Doe&quot;); multi time in different order, when you receive JSON string , find &quot;John Doe&quot; in different position ,  what is meaning  of &quot;John Doe&quot;,  finalList.add(&quot;John Doe&quot;);         byte[] abc= new byte[] { (byte)0xee, 0x4e, (byte)0xd1, 0x21, (byte)0xe2, 0x32, 0x63, 0x13, (byte)0xa4, (byte)0xd4, 0x04, 0x05, 0x26, 0x37, 0x38, (byte)0x98 };         finalList.add(abc); finalList.add(&quot;John Doe&quot;); return finalList;"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1670591082,"post_id":74741131,"comment_id":131915077,"body_markdown":"Related: https://stackoverflow.com/questions/74741483/java-map-with-lists-of-different-types-as-values","body":"Related: <a href=\"https://stackoverflow.com/questions/74741483/java-map-with-lists-of-different-types-as-values\" title=\"java map with lists of different types as values\">stackoverflow.com/questions/74741483/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7035245,"reputation":512,"user_id":5389616,"accept_rate":11,"display_name":"Jawad Hassan Soomro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670590425,"creation_date":1670590425,"answer_id":74743443,"question_id":74741131,"body_markdown":"It&#39;s more about best practices as using JSON Object are more compatible to changes in future. If we face any change in future we just need to add another entry (that is not part of collection but required along result like Status Code) as compared to changing the data type of list to object and breaking code. Returning JSON object makes program more flexible. You can return JSON List too if you want, there is no technical issue. Returning JSON objects also help you to send status code and description like (SUCCESS 500, ERROR 404) unlike JSON Array which does not give description of result. ","title":"Why it is better to avoid returning lists in API?","body":"<p>It's more about best practices as using JSON Object are more compatible to changes in future. If we face any change in future we just need to add another entry (that is not part of collection but required along result like Status Code) as compared to changing the data type of list to object and breaking code. Returning JSON object makes program more flexible. You can return JSON List too if you want, there is no technical issue. Returning JSON objects also help you to send status code and description like (SUCCESS 500, ERROR 404) unlike JSON Array which does not give description of result.</p>\n"},{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670590754,"creation_date":1670590754,"answer_id":74743498,"question_id":74741131,"body_markdown":"Tl;dr: it&#39;s good practice.\r\n\r\nIf you think of the API as a contract, I give you this information and you give me that information back, once you return a `List&lt;Object&gt;` you no longer have any way to reason about what is in that list and what you&#39;re supposed to do with it.\r\n\r\nIn the absence of &quot;John Doe&quot; in that list, you can tell a JSON parser to turn your response into a `List&lt;Rating&gt;` and it will without further assistance.\r\nHowever, adding &quot;John Doe&quot; stops it from doing so, the best you can hope for is `List&lt;Object&gt;`. So now you are required to manually figure out where John Doe is in your list, whether he is there in the first place, etc.\r\n\r\nYou may need to write a custom parser or ensure that everyone using this API knows that John Doe may (or may not?) appear in last position, (or first, or anywhere in the middle?)\r\nFrankly, it&#39;s **easier** on you as the developer to refactor into using a custom Object, so that you can tell your JSON library to parse the response into an Object of type `RatedActor`:\r\n\r\n    public class RatedActor {\r\n        String name;\r\n        List&lt;Rating&gt; ratings;\r\n    }\r\n\r\nThat&#39;s what OO languages are for (amongst other things) - to be able to present a fine-grained data model.\r\nNow you, the compiler, and everybody else who may come into contact with your API and/or code knows clearly: The API returns a `RatedActor` with these properties. There is no &#39;hidden knowledge&#39; embedded in a secret list. Otherwise you may as well scramble the API response with an Enigma machine and go &quot;hey, figure that one out, API consumers!&quot;","title":"Why it is better to avoid returning lists in API?","body":"<p>Tl;dr: it's good practice.</p>\n<p>If you think of the API as a contract, I give you this information and you give me that information back, once you return a <code>List&lt;Object&gt;</code> you no longer have any way to reason about what is in that list and what you're supposed to do with it.</p>\n<p>In the absence of &quot;John Doe&quot; in that list, you can tell a JSON parser to turn your response into a <code>List&lt;Rating&gt;</code> and it will without further assistance.\nHowever, adding &quot;John Doe&quot; stops it from doing so, the best you can hope for is <code>List&lt;Object&gt;</code>. So now you are required to manually figure out where John Doe is in your list, whether he is there in the first place, etc.</p>\n<p>You may need to write a custom parser or ensure that everyone using this API knows that John Doe may (or may not?) appear in last position, (or first, or anywhere in the middle?)\nFrankly, it's <strong>easier</strong> on you as the developer to refactor into using a custom Object, so that you can tell your JSON library to parse the response into an Object of type <code>RatedActor</code>:</p>\n<pre><code>public class RatedActor {\n    String name;\n    List&lt;Rating&gt; ratings;\n}\n</code></pre>\n<p>That's what OO languages are for (amongst other things) - to be able to present a fine-grained data model.\nNow you, the compiler, and everybody else who may come into contact with your API and/or code knows clearly: The API returns a <code>RatedActor</code> with these properties. There is no 'hidden knowledge' embedded in a secret list. Otherwise you may as well scramble the API response with an Enigma machine and go &quot;hey, figure that one out, API consumers!&quot;</p>\n"}],"owner":{"account_id":7998897,"reputation":93,"user_id":18771851,"display_name":"Mehdi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74743498,"answer_count":2,"score":0,"last_activity_date":1670590754,"creation_date":1670577997,"question_id":74741131,"body_markdown":"My question is about returning list in APIs. \r\nsuppose we have an API which returns a list of `Rating`. \r\n\r\nand this is `Rating`:\r\n\r\n\r\n    public class Rating {\r\n    \r\n        private Long movieId;\r\n        private Integer rating;\r\n        .\r\n        .\r\n    }\r\n\r\nand this is a sample of the API&#39;s response:\r\n\r\n    [{&quot;movieId&quot;:5870,&quot;rating&quot;:5},{&quot;movieId&quot;:1234,&quot;rating&quot;:3}]\r\n\r\nOk. now I want to have an enhancement in my API and the enhancement is not to a particular object in the list. for example, I want to add a field which indicates who these `Rating`s belongs to.\r\n\r\nbut in [this][1] tutorial, the Instructor says: \r\n\r\n&gt; we cannot return the list anymore. we have to convert it into an\r\n&gt; object.\r\n\r\nWhy we cannot return a list anymore? we can have an API response like this:\r\n\r\n    [{&quot;movieId&quot;:5870,&quot;rating&quot;:5},{&quot;movieId&quot;:1234,&quot;rating&quot;:3},&quot;John Doe&quot;]\r\n\r\nand it is its code:\r\n\r\n    @GetMapping(&quot;-sth-&quot;)\r\n        public List&lt;Object&gt; foo() {\r\n    \r\n            List&lt;Object&gt; finalList = new ArrayList&lt;&gt;();\r\n            finalList.add(new Rating(5870L, 5));\r\n            finalList.add(new Rating(1234L, 3));\r\n            finalList.add(&quot;John Doe&quot;);\r\n    \r\n            return finalList;\r\n        }\r\n\r\nthen why we don&#39;t do that? why he said we cannot return a list anymore? What is the problem in this new version of the API?\r\nis it because we are returning a list of `Object`?\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=Dmvhe2cw-_k","title":"Why it is better to avoid returning lists in API?","body":"<p>My question is about returning list in APIs.\nsuppose we have an API which returns a list of <code>Rating</code>.</p>\n<p>and this is <code>Rating</code>:</p>\n<pre><code>public class Rating {\n\n    private Long movieId;\n    private Integer rating;\n    .\n    .\n}\n</code></pre>\n<p>and this is a sample of the API's response:</p>\n<pre><code>[{&quot;movieId&quot;:5870,&quot;rating&quot;:5},{&quot;movieId&quot;:1234,&quot;rating&quot;:3}]\n</code></pre>\n<p>Ok. now I want to have an enhancement in my API and the enhancement is not to a particular object in the list. for example, I want to add a field which indicates who these <code>Rating</code>s belongs to.</p>\n<p>but in <a href=\"https://www.youtube.com/watch?v=Dmvhe2cw-_k\" rel=\"nofollow noreferrer\">this</a> tutorial, the Instructor says:</p>\n<blockquote>\n<p>we cannot return the list anymore. we have to convert it into an\nobject.</p>\n</blockquote>\n<p>Why we cannot return a list anymore? we can have an API response like this:</p>\n<pre><code>[{&quot;movieId&quot;:5870,&quot;rating&quot;:5},{&quot;movieId&quot;:1234,&quot;rating&quot;:3},&quot;John Doe&quot;]\n</code></pre>\n<p>and it is its code:</p>\n<pre><code>@GetMapping(&quot;-sth-&quot;)\n    public List&lt;Object&gt; foo() {\n\n        List&lt;Object&gt; finalList = new ArrayList&lt;&gt;();\n        finalList.add(new Rating(5870L, 5));\n        finalList.add(new Rating(1234L, 3));\n        finalList.add(&quot;John Doe&quot;);\n\n        return finalList;\n    }\n</code></pre>\n<p>then why we don't do that? why he said we cannot return a list anymore? What is the problem in this new version of the API?\nis it because we are returning a list of <code>Object</code>?</p>\n"},{"tags":["java","schema","talend","noclassdeffounderror"],"owner":{"account_id":2898137,"reputation":1813,"user_id":2485458,"accept_rate":48,"display_name":"Panadol Chong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670590544,"creation_date":1670590544,"question_id":74743462,"body_markdown":"Good day,\r\n\r\nI am new to Talend, I am trying to create a Schema for `tFileInputDelimited` component. The Schema is trying to read a text file from a folder. \r\n\r\nHowever, during step 3 on creating this Schema, I am hitting some class not found exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/talend/csv/CSVWriter\r\n    \tat orion_dl_track.shadowfileinputtodelimitedoutput_0_1.ShadowFileInputToDelimitedOutput.tFileInputDelimitedProcess(ShadowFileInputToDelimitedOutput.java:1709)\r\n    \tat orion_dl_track.shadowfileinputtodelimitedoutput_0_1.ShadowFileInputToDelimitedOutput.runJobInTOS(ShadowFileInputToDelimitedOutput.java:2436)\r\n    \tat orion_dl_track.shadowfileinputtodelimitedoutput_0_1.ShadowFileInputToDelimitedOutput.main(ShadowFileInputToDelimitedOutput.java:2295)\r\n    Caused by: java.lang.ClassNotFoundException: com.talend.csv.CSVWriter\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 3 more\r\n    \r\n    Preview error. Some settings must be changed.\r\n    Note: Preview errors are generally due to a wrong encoding setting.\r\n    org.talend.designer.runprocess.shadow.ShadowFilePreview.preview(ShadowFilePreview.java:90)\r\n    org.talend.metadata.managment.ui.utils.ShadowProcessHelper.getCsvArray(ShadowProcessHelper.java:383)\r\n    org.talend.repository.ui.wizards.metadata.connection.files.delimited.DelimitedFileStep2Form$PreviewProcessor.nonUIProcessInThread(DelimitedFileStep2Form.java:1309)\r\n    org.talend.commons.ui.swt.thread.SWTUIThreadProcessor$1.run(SWTUIThreadProcessor.java:74)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HcYEj.png\r\n\r\nFor java program, then I will know I need to import this library into my project, like adding the gradle implementation script from Maven website.\r\n\r\nBut how about this talend? Is it I need to go some where to download the jar and import into Talend Studio?","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/talend/csv/CSVWriter when create Schema in Talend","body":"<p>Good day,</p>\n<p>I am new to Talend, I am trying to create a Schema for <code>tFileInputDelimited</code> component. The Schema is trying to read a text file from a folder.</p>\n<p>However, during step 3 on creating this Schema, I am hitting some class not found exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/talend/csv/CSVWriter\n    at orion_dl_track.shadowfileinputtodelimitedoutput_0_1.ShadowFileInputToDelimitedOutput.tFileInputDelimitedProcess(ShadowFileInputToDelimitedOutput.java:1709)\n    at orion_dl_track.shadowfileinputtodelimitedoutput_0_1.ShadowFileInputToDelimitedOutput.runJobInTOS(ShadowFileInputToDelimitedOutput.java:2436)\n    at orion_dl_track.shadowfileinputtodelimitedoutput_0_1.ShadowFileInputToDelimitedOutput.main(ShadowFileInputToDelimitedOutput.java:2295)\nCaused by: java.lang.ClassNotFoundException: com.talend.csv.CSVWriter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 3 more\n\nPreview error. Some settings must be changed.\nNote: Preview errors are generally due to a wrong encoding setting.\norg.talend.designer.runprocess.shadow.ShadowFilePreview.preview(ShadowFilePreview.java:90)\norg.talend.metadata.managment.ui.utils.ShadowProcessHelper.getCsvArray(ShadowProcessHelper.java:383)\norg.talend.repository.ui.wizards.metadata.connection.files.delimited.DelimitedFileStep2Form$PreviewProcessor.nonUIProcessInThread(DelimitedFileStep2Form.java:1309)\norg.talend.commons.ui.swt.thread.SWTUIThreadProcessor$1.run(SWTUIThreadProcessor.java:74)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HcYEj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HcYEj.png\" alt=\"enter image description here\" /></a></p>\n<p>For java program, then I will know I need to import this library into my project, like adding the gradle implementation script from Maven website.</p>\n<p>But how about this talend? Is it I need to go some where to download the jar and import into Talend Studio?</p>\n"},{"tags":["java","jlabel","event-dispatch-thread"],"comments":[{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":1,"creation_date":1393568060,"post_id":22087617,"comment_id":33500002,"body_markdown":"If the button is disabled, then it should not be able to call any event ! AFAIK !","body":"If the button is disabled, then it should not be able to call any event ! AFAIK !"},{"owner":{"account_id":2673328,"reputation":1649,"user_id":2310221,"accept_rate":81,"display_name":"Markus"},"score":0,"creation_date":1393568124,"post_id":22087617,"comment_id":33500031,"body_markdown":"I don&#39;t think this is possible. It would ruin the use of `setEnabled(false)`","body":"I don&#39;t think this is possible. It would ruin the use of <code>setEnabled(false)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670519564,"creation_date":1393568280,"answer_id":22087679,"question_id":22087617,"body_markdown":"From the JavaDocs\r\n\r\n&gt; **public void setEnabled(boolean enabled)**\r\n&gt;\r\n&gt; Sets whether or not this component is enabled. A component that is\r\n&gt; enabled may respond to user input, while a component that is not\r\n&gt; enabled cannot respond to user input. Some components may alter their\r\n&gt; visual representation when they are disabled in order to provide\r\n&gt; feedback to the user that they cannot take input.\r\n\r\n For more info\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#setEnabled%28boolean%29\r\n\r\n*INFO* : **JButton extends AbstractButton** which **extends JComponent**","title":"JButton: actionPerformed while invisible/disabled?","body":"<p>From the JavaDocs</p>\n<blockquote>\n<p><strong>public void setEnabled(boolean enabled)</strong></p>\n<p>Sets whether or not this component is enabled. A component that is\nenabled may respond to user input, while a component that is not\nenabled cannot respond to user input. Some components may alter their\nvisual representation when they are disabled in order to provide\nfeedback to the user that they cannot take input.</p>\n</blockquote>\n<p>For more info</p>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#setEnabled%28boolean%29\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#setEnabled%28boolean%29</a></p>\n<p><em>INFO</em> : <strong>JButton extends AbstractButton</strong> which <strong>extends JComponent</strong></p>\n"},{"tags":[],"owner":{"account_id":3139450,"reputation":31,"user_id":2655189,"display_name":"CodeFreak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393568346,"creation_date":1393568346,"answer_id":22087700,"question_id":22087617,"body_markdown":"Just use a conditional statement and tell the app to enable jButton when the conditions are met.\r\n\r\nFor example:\r\n\r\n\r\n    private buttonNameActionPerformed(java.awt.evt evt){\r\n\r\n       if(condition.equals(something)){\r\n       jButton.setEnabled(true);\r\n\r\n    }\r\n    else{\r\n    jButton.setEnabled(false);\r\n    \r\n    }\r\n    }","title":"JButton: actionPerformed while invisible/disabled?","body":"<p>Just use a conditional statement and tell the app to enable jButton when the conditions are met.</p>\n\n<p>For example:</p>\n\n<pre><code>private buttonNameActionPerformed(java.awt.evt evt){\n\n   if(condition.equals(something)){\n   jButton.setEnabled(true);\n\n}\nelse{\njButton.setEnabled(false);\n\n}\n}\n</code></pre>\n"}],"owner":{"account_id":2903525,"reputation":737,"user_id":2489559,"accept_rate":85,"display_name":"AyCe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":22087679,"answer_count":2,"score":-1,"last_activity_date":1670590463,"creation_date":1393567991,"question_id":22087617,"body_markdown":"Is it possible that, for example, a `JButton` calls `actionPerformed()` of an `ActionListener` attached to it while the button itself is hidden or has been disabled?\r\n\r\nLike, the user clicks the button, an event gets added to the Event Queue, and in a previous event the button gets disabled.\r\n\r\nI&#39;d think that this would not lead to an `actionPerformed()`, because the user merely submitted a click- or press-event that checks all this stuff in the current `JFrame`.\r\n\r\nBut does anybody know if there is any case where such an unwanted situation happens? Of course, always provided that you don&#39;t do anything with Swing objects outside of the EDT.\r\n\r\n\r\n**Edit for anyone looking at this:** Yes, it can indeed happen under certain circumstances. I should post an example as an answer at some point.","title":"JButton: actionPerformed while invisible/disabled?","body":"<p>Is it possible that, for example, a <code>JButton</code> calls <code>actionPerformed()</code> of an <code>ActionListener</code> attached to it while the button itself is hidden or has been disabled?</p>\n<p>Like, the user clicks the button, an event gets added to the Event Queue, and in a previous event the button gets disabled.</p>\n<p>I'd think that this would not lead to an <code>actionPerformed()</code>, because the user merely submitted a click- or press-event that checks all this stuff in the current <code>JFrame</code>.</p>\n<p>But does anybody know if there is any case where such an unwanted situation happens? Of course, always provided that you don't do anything with Swing objects outside of the EDT.</p>\n<p><strong>Edit for anyone looking at this:</strong> Yes, it can indeed happen under certain circumstances. I should post an example as an answer at some point.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1670584402,"post_id":74742088,"comment_id":131913062,"body_markdown":"Your IDE cannot guarantee that `consumeSchedule` is not `null` and warns you. Are you sure that&#39;s not the case? Ignore the warning... Not sure? Check for `null` before using `consumeSchedule`.","body":"Your IDE cannot guarantee that <code>consumeSchedule</code> is not <code>null</code> and warns you. Are you sure that&#39;s not the case? Ignore the warning... Not sure? Check for <code>null</code> before using <code>consumeSchedule</code>."},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1670585224,"post_id":74742088,"comment_id":131913290,"body_markdown":"@QuinncyJones I am totally sure. I can&#39;t ignored it. Because it&#39;s an error from compiler. He doesn&#39;t know that the consumeMessages is executed only after initialize. If I check for null is the same error &quot;...not have been init...&quot;","body":"@QuinncyJones I am totally sure. I can&#39;t ignored it. Because it&#39;s an error from compiler. He doesn&#39;t know that the consumeMessages is executed only after initialize. If I check for null is the same error &quot;...not have been init...&quot;"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1670588723,"post_id":74742088,"comment_id":131914296,"body_markdown":"Not initialised error is not the same as warning about possibly being `null`.   Checking for null is still reading that value (disallowed if not initialised).   For stopping the schedule, instead of calling `cancel`, can you throw an Exception?   Since `scheduleAtFixedRate` javadoc says If any execution of the task encounters an exception, subsequent executions are suppressed. https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)","body":"Not initialised error is not the same as warning about possibly being <code>null</code>.   Checking for null is still reading that value (disallowed if not initialised).   For stopping the schedule, instead of calling <code>cancel</code>, can you throw an Exception?   Since <code>scheduleAtFixedRate</code> javadoc says If any execution of the task encounters an exception, subsequent executions are suppressed. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670590397,"creation_date":1670588705,"answer_id":74743118,"question_id":74742088,"body_markdown":"Well, it may seem a weird, but the error disappears if you convert the lambda expression to an anonymous class:\r\n\r\n```java\r\nRunnable consumeMessages = new Runnable() {\r\n\r\n    @Override\r\n    public void run() {\r\n        // Some code...\r\n        if (!mainThread.isAlive()) {\r\n            consumeSchedule.cancel(false);\r\n        }\r\n    }\r\n};\r\n```\r\n\r\nThis is because of the way lambda expressions work.\r\n\r\nI think the below excerpt from the [Java Language Specification &#167; 15.27.2.&#160;Lambda Body][1] is applicable here:\r\n\r\n&gt; Unlike code appearing in anonymous class declarations, the meaning of names and the `this` and `super` keywords appearing in a lambda body, along with **the accessibility of referenced declarations**, are the same as in the surrounding context (except that lambda parameters introduce new names).\r\n\r\n&lt;sup&gt;(Emphasis mine.)&lt;/sup&gt;\r\n\r\nSo the accessibility of referenced declarations is effectively the same as if you had written:\r\n\r\n```java\r\nstatic {\r\n    // Some code...\r\n    if (!mainThread.isAlive()) {\r\n        consumeSchedule.cancel(false);\r\n    }\r\n\r\n    // This will execute until the main thread will stop.\r\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(2);\r\n    consumeSchedule = executor.scheduleAtFixedRate(consumeMessages, 0, printRateMS, TimeUnit.MILLISECONDS);\r\n}\r\n```\r\n\r\nAnd now the reason why the compiler is complaining becomes more apparent: you have used `consumeSchedule` before you have assigned it. This follows from [Java Language Specification &#167; 16. Definite Assignment][2]:\r\n\r\n&gt; Every local variable declared by a statement (&#167;14.4.2, &#167;14.14.1, &#167;14.14.2, &#167;14.20.3) and every blank `final` field (&#167;4.12.4, &#167;8.3.1.2) must have a *definitely assigned* value when any access of its value occurs.\r\n&gt;\r\n&gt; (...)\r\n&gt;\r\n&gt; For every access of a local variable or blank `final` field `x`, `x` must be definitely assigned before the access, or a compile-time error occurs.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.27\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-16.html","title":"&quot;Variable might not have been initialized&quot; in an implementation which will be execute after initialize","body":"<p>Well, it may seem a weird, but the error disappears if you convert the lambda expression to an anonymous class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runnable consumeMessages = new Runnable() {\n\n    @Override\n    public void run() {\n        // Some code...\n        if (!mainThread.isAlive()) {\n            consumeSchedule.cancel(false);\n        }\n    }\n};\n</code></pre>\n<p>This is because of the way lambda expressions work.</p>\n<p>I think the below excerpt from the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.27\" rel=\"nofollow noreferrer\">Java Language Specification  15.27.2.Lambda Body</a> is applicable here:</p>\n<blockquote>\n<p>Unlike code appearing in anonymous class declarations, the meaning of names and the <code>this</code> and <code>super</code> keywords appearing in a lambda body, along with <strong>the accessibility of referenced declarations</strong>, are the same as in the surrounding context (except that lambda parameters introduce new names).</p>\n</blockquote>\n<p><sup>(Emphasis mine.)</sup></p>\n<p>So the accessibility of referenced declarations is effectively the same as if you had written:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static {\n    // Some code...\n    if (!mainThread.isAlive()) {\n        consumeSchedule.cancel(false);\n    }\n\n    // This will execute until the main thread will stop.\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(2);\n    consumeSchedule = executor.scheduleAtFixedRate(consumeMessages, 0, printRateMS, TimeUnit.MILLISECONDS);\n}\n</code></pre>\n<p>And now the reason why the compiler is complaining becomes more apparent: you have used <code>consumeSchedule</code> before you have assigned it. This follows from <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-16.html\" rel=\"nofollow noreferrer\">Java Language Specification  16. Definite Assignment</a>:</p>\n<blockquote>\n<p>Every local variable declared by a statement (14.4.2, 14.14.1, 14.14.2, 14.20.3) and every blank <code>final</code> field (4.12.4, 8.3.1.2) must have a <em>definitely assigned</em> value when any access of its value occurs.</p>\n<p>(...)</p>\n<p>For every access of a local variable or blank <code>final</code> field <code>x</code>, <code>x</code> must be definitely assigned before the access, or a compile-time error occurs.</p>\n</blockquote>\n"}],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74743118,"answer_count":1,"score":-1,"last_activity_date":1670590397,"creation_date":1670583100,"question_id":74742088,"body_markdown":"I have this peace of code:\r\n\r\n```\r\nprivate final static Thread mainThread = Thread.currentThread();\r\nprivate final static ScheduledFuture&lt;?&gt; consumeSchedule;\r\n\r\nstatic{\r\n\r\n\tRunnable consumeMessages = () -&gt; {\r\n\r\n\t\t//...Some code...\r\n\r\n\t\t//stop the printSchedule\r\n\t\tif(!mainThread.isAlive()){\r\n\t\t\tconsumeSchedule.cancel(false); //Variable might not have been initialized\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//this will execute until the main thread will stop.\r\n\tScheduledExecutorService executor = Executors.newScheduledThreadPool(2);\r\n\tconsumeSchedule = executor.scheduleAtFixedRate(consumeMessages, 0, printRateMS, TimeUnit.MILLISECONDS);\r\n\r\n}\r\n```\r\n\r\nHow I can avoid that error &quot;Variable might not have been initialized&quot;, since it&#39;s obviously that the `cancel` will be called after the `printSchedule` will be initialized.\r\n\r\nOr how to stop the consumeSchedule when the main thread has terminated?","title":"&quot;Variable might not have been initialized&quot; in an implementation which will be execute after initialize","body":"<p>I have this peace of code:</p>\n<pre><code>private final static Thread mainThread = Thread.currentThread();\nprivate final static ScheduledFuture&lt;?&gt; consumeSchedule;\n\nstatic{\n\n    Runnable consumeMessages = () -&gt; {\n\n        //...Some code...\n\n        //stop the printSchedule\n        if(!mainThread.isAlive()){\n            consumeSchedule.cancel(false); //Variable might not have been initialized\n        }\n\n    };\n\n    //this will execute until the main thread will stop.\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(2);\n    consumeSchedule = executor.scheduleAtFixedRate(consumeMessages, 0, printRateMS, TimeUnit.MILLISECONDS);\n\n}\n</code></pre>\n<p>How I can avoid that error &quot;Variable might not have been initialized&quot;, since it's obviously that the <code>cancel</code> will be called after the <code>printSchedule</code> will be initialized.</p>\n<p>Or how to stop the consumeSchedule when the main thread has terminated?</p>\n"},{"tags":["java","kotlin","kotlin-coroutines"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1670597345,"post_id":74742987,"comment_id":131917146,"body_markdown":"Because you&#39;re calling `await` before starting the second `async` block.","body":"Because you&#39;re calling <code>await</code> before starting the second <code>async</code> block."}],"answers":[{"tags":[],"owner":{"account_id":3973489,"reputation":2934,"user_id":3277386,"accept_rate":60,"display_name":"TreffnonX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670590246,"creation_date":1670590246,"answer_id":74743411,"question_id":74742987,"body_markdown":"The numeric plus operator requires the left side of the operation to be executed before the right side is evaluated. This means that the right side operation, including the `async` is delayed until the left side is fully evaluated in the statement (this includes the `await` on the left side, which takes the full 3 seconds.\r\n\r\nTake for instance the expression\r\n```\r\nsomeBooleanResponse(a, b, c) || someOtherBooleanExpression(d, e)\r\n```\r\n\r\nOn this expression, the left side `someBooleanResponse` will be fully evaluated, before the right side is even started. This is (ab)used in scripts sometimes to make it a condition.\r\n\r\nThe same is true for your example. The right side is being held until the left side is completed. If for example the left side threw an exception, the right side would never be needed.\r\n\r\nTo solve this, you need to execute both `async` statements before `await` is called. Otherwise the second async will not even start and therefore you wait another 3 seconds.","title":"How does this kotlin coroutine code works?","body":"<p>The numeric plus operator requires the left side of the operation to be executed before the right side is evaluated. This means that the right side operation, including the <code>async</code> is delayed until the left side is fully evaluated in the statement (this includes the <code>await</code> on the left side, which takes the full 3 seconds.</p>\n<p>Take for instance the expression</p>\n<pre><code>someBooleanResponse(a, b, c) || someOtherBooleanExpression(d, e)\n</code></pre>\n<p>On this expression, the left side <code>someBooleanResponse</code> will be fully evaluated, before the right side is even started. This is (ab)used in scripts sometimes to make it a condition.</p>\n<p>The same is true for your example. The right side is being held until the left side is completed. If for example the left side threw an exception, the right side would never be needed.</p>\n<p>To solve this, you need to execute both <code>async</code> statements before <code>await</code> is called. Otherwise the second async will not even start and therefore you wait another 3 seconds.</p>\n"}],"owner":{"account_id":18460813,"reputation":235,"user_id":13448373,"display_name":"newbie_coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74743411,"answer_count":1,"score":0,"last_activity_date":1670590246,"creation_date":1670587959,"question_id":74742987,"body_markdown":"I have these two suspend functions \r\n```\r\nsuspend fun doSomethingUsefulOne(): Int {\r\n        delay(3000L) \r\n        return 20\r\n    }\r\n\r\nsuspend fun doSomethingUsefulTwo(): Int {\r\n        delay(3000L) \r\n        return 10\r\n    }\r\n```\r\n\r\nI wanted to run both the functions parallelly so I&#39;m running the below code. In this case I&#39;m getting the result in ~3 seconds \r\n```\r\n runBlocking {\r\n            val a = async { doSomethingUsefulOne() }\r\n            val b = async { doSomethingUsefulTwo() }\r\n            println(a.await()+b.await())\r\n        }\r\n``` \r\nBut when I tried to use the below function, I am getting the result after ~6 sec. Why is that so? \r\n\r\n```\r\nrunBlocking {\r\n   println(async { doSomethingUsefulOne() }.await()+async { doSomethingUsefulTwo() }.await())\r\n        }\r\n```\r\n\r\n","title":"How does this kotlin coroutine code works?","body":"<p>I have these two suspend functions</p>\n<pre><code>suspend fun doSomethingUsefulOne(): Int {\n        delay(3000L) \n        return 20\n    }\n\nsuspend fun doSomethingUsefulTwo(): Int {\n        delay(3000L) \n        return 10\n    }\n</code></pre>\n<p>I wanted to run both the functions parallelly so I'm running the below code. In this case I'm getting the result in ~3 seconds</p>\n<pre><code> runBlocking {\n            val a = async { doSomethingUsefulOne() }\n            val b = async { doSomethingUsefulTwo() }\n            println(a.await()+b.await())\n        }\n</code></pre>\n<p>But when I tried to use the below function, I am getting the result after ~6 sec. Why is that so?</p>\n<pre><code>runBlocking {\n   println(async { doSomethingUsefulOne() }.await()+async { doSomethingUsefulTwo() }.await())\n        }\n</code></pre>\n"},{"tags":["java","json","string","db2","blob"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1670411055,"post_id":74715420,"comment_id":131868941,"body_markdown":"That&#39;s not JSON. It&#39;s binary data - full of non-printing characters","body":"That&#39;s not JSON. It&#39;s binary data - full of non-printing characters"},{"owner":{"account_id":6342170,"reputation":16858,"user_id":4923755,"accept_rate":100,"display_name":"data_henrik"},"score":0,"creation_date":1670411207,"post_id":74715420,"comment_id":131868997,"body_markdown":"What encoding is used for the string in the BLOB? Why not a CLOB? Why not native JSON? And which platform / OS / Db2 version?","body":"What encoding is used for the string in the BLOB? Why not a CLOB? Why not native JSON? And which platform / OS / Db2 version?"},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1670411969,"post_id":74715420,"comment_id":131869225,"body_markdown":"What&#39;s the text representation of this JSON document? How did you put the BLOB value into the `COLOUMN_NAME` column exactly?","body":"What&#39;s the text representation of this JSON document? How did you put the BLOB value into the <code>COLOUMN_NAME</code> column exactly?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670422514,"post_id":74715420,"comment_id":131872952,"body_markdown":"The only good reason I can think of for using a blob column for JSON is if it&#39;s had some sort of &#39;binary-ising&#39; processing such as compression. Has it?","body":"The only good reason I can think of for using a blob column for JSON is if it&#39;s had some sort of &#39;binary-ising&#39; processing such as compression. Has it?"},{"owner":{"account_id":20720520,"reputation":11,"user_id":15215035,"display_name":"Mukul Venkatesh"},"score":0,"creation_date":1670431382,"post_id":74715420,"comment_id":131876431,"body_markdown":"No idea about the DB part, but the DBA informed that it of the type BLOB and they have used SYSTOOLS.JSON2BSON function while inserting data in mainframe DB2.","body":"No idea about the DB part, but the DBA informed that it of the type BLOB and they have used SYSTOOLS.JSON2BSON function while inserting data in mainframe DB2."},{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1670439993,"post_id":74715420,"comment_id":131879169,"body_markdown":"Consider using systools.BSON2JSON then.  https://www.ibm.com/docs/en/db2-for-zos/11?topic=sql-bson2json","body":"Consider using systools.BSON2JSON then.  <a href=\"https://www.ibm.com/docs/en/db2-for-zos/11?topic=sql-bson2json\" rel=\"nofollow noreferrer\">ibm.com/docs/en/db2-for-zos/11?topic=sql-bson2json</a>"},{"owner":{"account_id":20720520,"reputation":11,"user_id":15215035,"display_name":"Mukul Venkatesh"},"score":0,"creation_date":1670489774,"post_id":74715420,"comment_id":131888642,"body_markdown":"Tried using systools.BSON2JSON in select statement but did not work.","body":"Tried using systools.BSON2JSON in select statement but did not work."},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1670498350,"post_id":74715420,"comment_id":131891402,"body_markdown":"`CREATE TABLE TEST_JSON (B BLOB (1K))`, `INSERT INTO TEST_JSON (B) SELECT SYSTOOLS.JSON2BSON (&#39;{Name:&quot;George&quot;}&#39;) FROM SYSIBM.SYSDUMMY1`, `SELECT SYSTOOLS.BSON2JSON (B) FROM TEST_JSON`. You must work with `CLOB` data type in your application with the result of the last statement, not with `BLOB`.","body":"<code>CREATE TABLE TEST_JSON (B BLOB (1K))</code>, <code>INSERT INTO TEST_JSON (B) SELECT SYSTOOLS.JSON2BSON (&#39;{Name:&quot;George&quot;}&#39;) FROM SYSIBM.SYSDUMMY1</code>, <code>SELECT SYSTOOLS.BSON2JSON (B) FROM TEST_JSON</code>. You must work with <code>CLOB</code> data type in your application with the result of the last statement, not with <code>BLOB</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670512614,"post_id":74715420,"comment_id":131896365,"body_markdown":"*No idea about the DB part, but the DBA informed that it of the type BLOB and they have used SYSTOOLS.JSON2BSON function while inserting data in mainframe DB2.* OK so I was right. That&#39;s good and now you know what to do from the others","body":"<i>No idea about the DB part, but the DBA informed that it of the type BLOB and they have used SYSTOOLS.JSON2BSON function while inserting data in mainframe DB2.</i> OK so I was right. That&#39;s good and now you know what to do from the others"}],"answers":[{"tags":[],"owner":{"account_id":9544385,"reputation":731,"user_id":18188104,"display_name":"georgep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670590137,"creation_date":1670507861,"answer_id":74731395,"question_id":74715420,"body_markdown":"Consider using BSON2JSON (docs: https://www.ibm.com/docs/en/db2-for-zos/11?topic=sql-bson2json)\r\n\r\n    String q= &quot;select SYSTOOLS.BSON2JSON(COLUMN_NAME) from TABLE_TEST&quot;;","title":"How to convert BLOB data (ex: 136948a98e67) retrieved from DB2 into JSON format/String using java","body":"<p>Consider using BSON2JSON (docs: <a href=\"https://www.ibm.com/docs/en/db2-for-zos/11?topic=sql-bson2json\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/db2-for-zos/11?topic=sql-bson2json</a>)</p>\n<pre><code>String q= &quot;select SYSTOOLS.BSON2JSON(COLUMN_NAME) from TABLE_TEST&quot;;\n</code></pre>\n"}],"owner":{"account_id":20720520,"reputation":11,"user_id":15215035,"display_name":"Mukul Venkatesh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670590155,"creation_date":1670410119,"question_id":74715420,"body_markdown":"I am able to fetch and convert BLOB to string, but special or control characters are also being displayed. \r\n    \r\nFor instance This is the output -  \r\n    \r\n&quot;\\u0003?\\u0004\\u0000\\u0000\\u0003BUSINFON\\u0000?\\u0004\\u0000\\u0000\\u0002DATA1\\u0000\\u0003\\u0000\\u0000\\u000006\\u0000\\u0002USER_ID\\u0000\\u0014\\u0000\\u0000\\u00002022-01-01-01.01.01\\u0000\\u0002EMPLOYEE_NAME\\u0000\\u0007\\u0000\\u0000\\u0000ABCDEF\\u0000\\u0002EMPLOYEE_ID\\u0000\\u0007\\u0000\\u0000\\u0000ZGSET4\\u0000\\u0002PAYMENT\\u0000\\u0007\\u0000\\u0000\\u0000METHOD\\u0000\\u0002VZDLR_ZGPREF_FK1\\u0000\\u0006\\u0000\\u0000\\u0000INFORMATION\\u0000\\u0002VZBCO_SPOUSE_FK2\\u0000\\u0007\\u0000\\u0000\\u0000SPOUSE\\u0000\\u0002ASIGNMENT_ID\r\n    \r\n    \r\nBasically I am trying to retrieve/read data from a table present in DB2 mainframe the column &quot;COLUMN_NAME&quot; is set to data type of BLOB.\r\n    \r\nHere&#39;s my intended code snippet :\r\n \r\n  \r\n\r\n    String q= &quot;select  COLUMN_NAME from TABLE_TEST&quot;;\r\n    PreparedStatement pstate = null;\r\n    \t\tPreparedStatement p = null;\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.setProperty(&quot;useJDBC4ColumnNameAndLabelSemantics&quot;, &quot;2&quot;);\r\n    \t\t// props.setProperty(&quot;DB2BaseDataSource.NO&quot;, &quot;2&quot;);\r\n    \t\tprops.setProperty(&quot;user&quot;, &quot;******&quot;);\r\n    \t\tprops.setProperty(&quot;password&quot;, &quot;*****&quot;);\r\n    \t\t//PreparedStatement pstate1 = null;\r\n    \t\tResultSet res=null;\r\n    \t\tConnection connection = null;\r\n    \t\t\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t \r\n    \t\t Class.forName(jdbcClassName);\r\n    \t\t \r\n    \t\t System.out.println(&quot;DB2 driver is loaded successfull \\n&quot;);\r\n    \t\t \r\n    \t\t connection = DriverManager.getConnection(url, props);\r\n    \r\n    \t\t} catch (ClassNotFoundException e) {\r\n    \t\t e.printStackTrace();\r\n    \t\t } catch (SQLException e) {\r\n    \t\t e.printStackTrace();\r\n    \t\t }finally{\r\n    \t\t if(connection!=null){\r\n    \t\t System.out.println(&quot;Connected successfully.\\n&quot;);\r\n    \t\t \r\n    \t\t pstate=connection.prepareStatement(q);\r\n    \t\t \r\n    \t\t res = pstate.executeQuery();\r\n    \t\t \r\n    \t\t  while(res.next()) \r\n    \t\t {\r\n               String payl = res.getString(&quot;COLUMN_NAME&quot;);\r\n    \t\t   byte [] Blob; \r\n    \t\t   Blob pay1 =  res.getBlob(&quot;COLUMN_NAME&quot;);\r\n    \t\t   InputStream in = pay1.getBinaryStream();\r\n    \t\t   Reader reader1 = new InputStreamReader(in, StandardCharsets.UTF_8);\r\n    \t\t   JsonReader reader2 = new JsonReader(reader1);\r\n    \t\t   reader2.setLenient(true);\r\n    \t       JsonElement out =  JsonParser.parseReader(reader2);\r\n    \t\t   System.out.println(out);\r\n    \t\t   \r\n    \t\t}","title":"How to convert BLOB data (ex: 136948a98e67) retrieved from DB2 into JSON format/String using java","body":"<p>I am able to fetch and convert BLOB to string, but special or control characters are also being displayed.</p>\n<p>For instance This is the output -</p>\n<p>&quot;\\u0003?\\u0004\\u0000\\u0000\\u0003BUSINFON\\u0000?\\u0004\\u0000\\u0000\\u0002DATA1\\u0000\\u0003\\u0000\\u0000\\u000006\\u0000\\u0002USER_ID\\u0000\\u0014\\u0000\\u0000\\u00002022-01-01-01.01.01\\u0000\\u0002EMPLOYEE_NAME\\u0000\\u0007\\u0000\\u0000\\u0000ABCDEF\\u0000\\u0002EMPLOYEE_ID\\u0000\\u0007\\u0000\\u0000\\u0000ZGSET4\\u0000\\u0002PAYMENT\\u0000\\u0007\\u0000\\u0000\\u0000METHOD\\u0000\\u0002VZDLR_ZGPREF_FK1\\u0000\\u0006\\u0000\\u0000\\u0000INFORMATION\\u0000\\u0002VZBCO_SPOUSE_FK2\\u0000\\u0007\\u0000\\u0000\\u0000SPOUSE\\u0000\\u0002ASIGNMENT_ID</p>\n<p>Basically I am trying to retrieve/read data from a table present in DB2 mainframe the column &quot;COLUMN_NAME&quot; is set to data type of BLOB.</p>\n<p>Here's my intended code snippet :</p>\n<pre><code>String q= &quot;select  COLUMN_NAME from TABLE_TEST&quot;;\nPreparedStatement pstate = null;\n        PreparedStatement p = null;\n        Properties props = new Properties();\n        props.setProperty(&quot;useJDBC4ColumnNameAndLabelSemantics&quot;, &quot;2&quot;);\n        // props.setProperty(&quot;DB2BaseDataSource.NO&quot;, &quot;2&quot;);\n        props.setProperty(&quot;user&quot;, &quot;******&quot;);\n        props.setProperty(&quot;password&quot;, &quot;*****&quot;);\n        //PreparedStatement pstate1 = null;\n        ResultSet res=null;\n        Connection connection = null;\n        \n        \n        try {\n         \n         Class.forName(jdbcClassName);\n         \n         System.out.println(&quot;DB2 driver is loaded successfull \\n&quot;);\n         \n         connection = DriverManager.getConnection(url, props);\n\n        } catch (ClassNotFoundException e) {\n         e.printStackTrace();\n         } catch (SQLException e) {\n         e.printStackTrace();\n         }finally{\n         if(connection!=null){\n         System.out.println(&quot;Connected successfully.\\n&quot;);\n         \n         pstate=connection.prepareStatement(q);\n         \n         res = pstate.executeQuery();\n         \n          while(res.next()) \n         {\n           String payl = res.getString(&quot;COLUMN_NAME&quot;);\n           byte [] Blob; \n           Blob pay1 =  res.getBlob(&quot;COLUMN_NAME&quot;);\n           InputStream in = pay1.getBinaryStream();\n           Reader reader1 = new InputStreamReader(in, StandardCharsets.UTF_8);\n           JsonReader reader2 = new JsonReader(reader1);\n           reader2.setLenient(true);\n           JsonElement out =  JsonParser.parseReader(reader2);\n           System.out.println(out);\n           \n        }\n</code></pre>\n"},{"tags":["java","multithreading","debugging","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":65605,"reputation":2500,"user_id":192958,"accept_rate":76,"display_name":"Asaf"},"score":0,"creation_date":1437373907,"post_id":31086965,"comment_id":50982279,"body_markdown":"Possible duplicate: https://stackoverflow.com/questions/10327576/intellij-debugging-suspend-whole-vm-then-step-on-single-thread","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/10327576/intellij-debugging-suspend-whole-vm-then-step-on-single-thread\" title=\"intellij debugging suspend whole vm then step on single thread\">stackoverflow.com/questions/10327576/&hellip;</a>"},{"owner":{"account_id":2405117,"reputation":977,"user_id":2101812,"display_name":"Nathan"},"score":0,"creation_date":1437472925,"post_id":31086965,"comment_id":51031418,"body_markdown":"While related, I&#39;m not interested in stopping the entire VM, and debugging at that point. My issue is that IDEA is skipping between threads during the debug process -- I just want it to stay in the current thread while stepping.","body":"While related, I&#39;m not interested in stopping the entire VM, and debugging at that point. My issue is that IDEA is skipping between threads during the debug process -- I just want it to stay in the current thread while stepping."},{"owner":{"account_id":2405117,"reputation":977,"user_id":2101812,"display_name":"Nathan"},"score":0,"creation_date":1438038630,"post_id":31086965,"comment_id":51274074,"body_markdown":"Looks like this might have been fixed 3 weeks ago in EAP 15.","body":"Looks like this might have been fixed 3 weeks ago in EAP 15."}],"answers":[{"tags":[],"owner":{"account_id":4303897,"reputation":354,"user_id":3516864,"display_name":"Mateusz Odelga"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1435396056,"creation_date":1435396056,"answer_id":31087037,"question_id":31086965,"body_markdown":"By right click at the breakpoint dot, you can choose some options, e.g Suspend on Thread. \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4v2Xg.png","title":"How to stay on the current thread while step-debugging in intellij","body":"<p>By right click at the breakpoint dot, you can choose some options, e.g Suspend on Thread. </p>\n\n<p><img src=\"https://i.stack.imgur.com/4v2Xg.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2405117,"reputation":977,"user_id":2101812,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1440540141,"creation_date":1440540141,"answer_id":32214838,"question_id":31086965,"body_markdown":"Indeed, IDEA 15 (http://blog.jetbrains.com/idea/2015/06/intellij-idea-15-eap-is-open/) has fixed this issue. \r\n\r\nAdditionally, when a breakpoint is reached in another thread, there is a notification - which I found rather nice.","title":"How to stay on the current thread while step-debugging in intellij","body":"<p>Indeed, IDEA 15 (<a href=\"http://blog.jetbrains.com/idea/2015/06/intellij-idea-15-eap-is-open/\" rel=\"nofollow\">http://blog.jetbrains.com/idea/2015/06/intellij-idea-15-eap-is-open/</a>) has fixed this issue. </p>\n\n<p>Additionally, when a breakpoint is reached in another thread, there is a notification - which I found rather nice.</p>\n"},{"tags":[],"owner":{"account_id":1091404,"reputation":536,"user_id":1085978,"accept_rate":86,"display_name":"Bit-Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454174295,"creation_date":1454173858,"answer_id":35104568,"question_id":31086965,"body_markdown":"From Intellij IDEA 16 onwards there&#39;a new twist around this issue by resuming only the curent thread, and it can be tested [in the latest IDEA 16 EAP][1] by [enabling &quot;debugger.step.resumes.one.thread&quot; property in IDEA vmoptions][2]\r\n\r\n\r\n  [1]: https://confluence.jetbrains.com/display/IDEADEV/IDEA+16+EAP\r\n  [2]: https://youtrack.jetbrains.com/issue/IDEA-43728#comment=27-1286025","title":"How to stay on the current thread while step-debugging in intellij","body":"<p>From Intellij IDEA 16 onwards there'a new twist around this issue by resuming only the curent thread, and it can be tested <a href=\"https://confluence.jetbrains.com/display/IDEADEV/IDEA+16+EAP\" rel=\"nofollow\">in the latest IDEA 16 EAP</a> by <a href=\"https://youtrack.jetbrains.com/issue/IDEA-43728#comment=27-1286025\" rel=\"nofollow\">enabling \"debugger.step.resumes.one.thread\" property in IDEA vmoptions</a></p>\n"},{"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670589964,"creation_date":1670589964,"answer_id":74743368,"question_id":31086965,"body_markdown":"You can right click on debug point, then assign a condition to only stop when reaching a given thread id. When running debug mode, the id can be gotten by using `Thread.currentThread().getId()`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IhJBE.png","title":"How to stay on the current thread while step-debugging in intellij","body":"<p>You can right click on debug point, then assign a condition to only stop when reaching a given thread id. When running debug mode, the id can be gotten by using <code>Thread.currentThread().getId()</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/IhJBE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IhJBE.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2405117,"reputation":977,"user_id":2101812,"display_name":"Nathan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4355,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":32214838,"answer_count":4,"score":11,"last_activity_date":1670589964,"creation_date":1435395487,"question_id":31086965,"body_markdown":"While debugging multi-threaded code in intellij, and more specifically while stepping inside a thread...\r\n\r\nSetup:\r\n\r\n                @Override\r\n                public\r\n                void run() {\r\n                    while (true) {\r\n                      System.err.println(&quot;1&quot; + get());  &lt;-- breakpoint\r\n                      System.err.println(&quot;2&quot; + get());\r\n                      System.err.println(&quot;3&quot; + get());\r\n                    }\r\n                }\r\n                \r\n                public String get() {\r\n                   return &quot;x&quot;;\r\n                }\r\n\r\n\r\n\r\nI have 6 threads, all running the code above.\r\n\r\nIntellij keeps changing the current thread that I&#39;m in, meaning that when I issue a &quot;Step over&quot; (F8) command for T1, the debugger will change focus to T2. What I&#39;m expecting is to stay in T1 *while* I&#39;m debugging -- so to produce the result:  \r\n\r\n    T1: 1x\r\n    T1: 2x\r\n    T1: 3x\r\n    T1: 1x\r\n    T1: 2x\r\n\r\nThen, let&#39;s switch to another thread, T2.\r\n\r\n    T2: 1x\r\n    T2: 2x\r\n    T2: 3x\r\n    T2: 1x\r\n    T2: 2x\r\n    T2: 3x\r\n\r\nThen, back to T1:\r\n\r\n    T1: 3x  (it picks back up from where it left off)\r\n\r\nInstead, what I&#39;m getting is: \r\n\r\n    T1: 1x\r\n    T3: 1x\r\n    T5: 1x\r\n    T1: 2x\r\n    T2: 1x\r\n    T3: 2x\r\n    T1: 3x\r\n    etc.\r\n\r\nIt&#39;s out-of-order, and **not at all** intuitive.\r\n\r\nIf I want to have my intended behavior, I have to do the following:\r\n\r\nSwitch to T1:\r\n\r\n    T1: 1x\r\nSwitch to T1:\r\n\r\n    T1: 2x\r\n\r\nSwitch to T1:\r\n\r\n    T1: 3x\r\n\r\nSwitch to T2:\r\n\r\n    T2: 1x\r\n\r\nSwitch to T2:\r\n\r\n    T2: 2x\r\n\r\nSwitch to T2:\r\n\r\n    T2: 3x\r\n\r\nSwitch to T1:\r\n\r\n    T1: 1x\r\n\r\netc...\r\n\r\n\r\nI&#39;ve searched for a way to prevent this, and I&#39;ve not found a solution, and the only way that I&#39;ve discovered (to maintain stepping in my current thread), is to keep selecting it with the mouse every time I step.\r\n\r\n\r\n\r\nThe question is: how do I do prevent intellij changing the thread I&#39;m on?\r\n\r\nedit: I should point out, that if any methods are called, thread execution order is out-of-order.","title":"How to stay on the current thread while step-debugging in intellij","body":"<p>While debugging multi-threaded code in intellij, and more specifically while stepping inside a thread...</p>\n\n<p>Setup:</p>\n\n<pre><code>            @Override\n            public\n            void run() {\n                while (true) {\n                  System.err.println(\"1\" + get());  &lt;-- breakpoint\n                  System.err.println(\"2\" + get());\n                  System.err.println(\"3\" + get());\n                }\n            }\n\n            public String get() {\n               return \"x\";\n            }\n</code></pre>\n\n<p>I have 6 threads, all running the code above.</p>\n\n<p>Intellij keeps changing the current thread that I'm in, meaning that when I issue a \"Step over\" (F8) command for T1, the debugger will change focus to T2. What I'm expecting is to stay in T1 <em>while</em> I'm debugging -- so to produce the result:  </p>\n\n<pre><code>T1: 1x\nT1: 2x\nT1: 3x\nT1: 1x\nT1: 2x\n</code></pre>\n\n<p>Then, let's switch to another thread, T2.</p>\n\n<pre><code>T2: 1x\nT2: 2x\nT2: 3x\nT2: 1x\nT2: 2x\nT2: 3x\n</code></pre>\n\n<p>Then, back to T1:</p>\n\n<pre><code>T1: 3x  (it picks back up from where it left off)\n</code></pre>\n\n<p>Instead, what I'm getting is: </p>\n\n<pre><code>T1: 1x\nT3: 1x\nT5: 1x\nT1: 2x\nT2: 1x\nT3: 2x\nT1: 3x\netc.\n</code></pre>\n\n<p>It's out-of-order, and <strong>not at all</strong> intuitive.</p>\n\n<p>If I want to have my intended behavior, I have to do the following:</p>\n\n<p>Switch to T1:</p>\n\n<pre><code>T1: 1x\n</code></pre>\n\n<p>Switch to T1:</p>\n\n<pre><code>T1: 2x\n</code></pre>\n\n<p>Switch to T1:</p>\n\n<pre><code>T1: 3x\n</code></pre>\n\n<p>Switch to T2:</p>\n\n<pre><code>T2: 1x\n</code></pre>\n\n<p>Switch to T2:</p>\n\n<pre><code>T2: 2x\n</code></pre>\n\n<p>Switch to T2:</p>\n\n<pre><code>T2: 3x\n</code></pre>\n\n<p>Switch to T1:</p>\n\n<pre><code>T1: 1x\n</code></pre>\n\n<p>etc...</p>\n\n<p>I've searched for a way to prevent this, and I've not found a solution, and the only way that I've discovered (to maintain stepping in my current thread), is to keep selecting it with the mouse every time I step.</p>\n\n<p>The question is: how do I do prevent intellij changing the thread I'm on?</p>\n\n<p>edit: I should point out, that if any methods are called, thread execution order is out-of-order.</p>\n"},{"tags":["java","eclipse","swt"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670587019,"creation_date":1670587019,"answer_id":74742802,"question_id":74742282,"body_markdown":"You do need to use `ScrolledComposite` for scrolling composites.\r\n\r\nSomething like:\r\n\r\n    final TabItem tabItem = new TabItem(tabFolder, SWT.NONE);\r\n    tabItem.setText(&quot;Tab&quot;);\r\n\r\n    final ScrolledComposite sc = new ScrolledComposite(tabFolder, SWT.V_SCROLL | SWT.H_SCROLL);\r\n    sc.setExpandHorizontal(true);\r\n    sc.setExpandVertical(true);\r\n\r\n    tabItem.setControl(sc);\r\n\r\n    final Composite scrolledComp = new Composite(sc, SWT.NONE);\r\n    scrolledComp.setLayout(new GridLayout());\r\n\r\n    sc.setContent(scrolledComp);\r\n\r\n    // Example contents\r\n    for (int i = 1; i &lt;= 100; i++)\r\n      new Label(scrolledComp, SWT.LEAD).setText(&quot;Label &quot; + i);\r\n\r\n    sc.setMinSize(scrolledComp.computeSize(SWT.DEFAULT, SWT.DEFAULT));\r\n\r\nTreeViewers such as CheckboxTreeViewer can do scrolling themselves, but Composites requite ScrolledComposite.","title":"How to scroll composite?","body":"<p>You do need to use <code>ScrolledComposite</code> for scrolling composites.</p>\n<p>Something like:</p>\n<pre><code>final TabItem tabItem = new TabItem(tabFolder, SWT.NONE);\ntabItem.setText(&quot;Tab&quot;);\n\nfinal ScrolledComposite sc = new ScrolledComposite(tabFolder, SWT.V_SCROLL | SWT.H_SCROLL);\nsc.setExpandHorizontal(true);\nsc.setExpandVertical(true);\n\ntabItem.setControl(sc);\n\nfinal Composite scrolledComp = new Composite(sc, SWT.NONE);\nscrolledComp.setLayout(new GridLayout());\n\nsc.setContent(scrolledComp);\n\n// Example contents\nfor (int i = 1; i &lt;= 100; i++)\n  new Label(scrolledComp, SWT.LEAD).setText(&quot;Label &quot; + i);\n\nsc.setMinSize(scrolledComp.computeSize(SWT.DEFAULT, SWT.DEFAULT));\n</code></pre>\n<p>TreeViewers such as CheckboxTreeViewer can do scrolling themselves, but Composites requite ScrolledComposite.</p>\n"}],"owner":{"account_id":23418359,"reputation":13,"user_id":17478980,"display_name":"stojelenov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74742802,"answer_count":1,"score":0,"last_activity_date":1670589958,"creation_date":1670584229,"question_id":74742282,"body_markdown":"I have got:\r\n\r\n    private void createTab(){\r\n\r\n      TabItem mvTabItem = new TabItem( tabFolder, SWT.NONE );\r\n      mvTabItem.setText( TabHeader.modelviews.getTabHeaderName() );\r\n    \r\n\r\n      Composite mvContainer = new Composite( tabFolder, SWT.V_SCROLL );\r\n      mvContainer.setLayout( new GridLayout(1, false) );\r\n      mvContainer.setLayoutData( new GridData(GridData.FILL, GridData.FILL, true, true) );\r\n\r\n      mvTabItem.setControl( mvContainer );\r\n    \r\n      // Selection of model views\r\n      createSelectionGroup(mvContainer);\r\n    \r\n      // other code, more groups created\r\n    }\r\n\r\nwhich creates tab item, adds vertical scrollbar, but scrolling is not working. Why?\r\n\r\nInside `createSelectionGroup(mvContainer)` there is a scrollbar as well. This one works fine, no `org.eclipse.swt.custom.ScrolledComposite` was applied:\r\n\r\n    private void createSelectionGroup(Composite parent)\r\n    {\r\n      // Create group component.\r\n      Group grpMVselection = new Group(parent, SWT.SHADOW_IN);\r\n      grpMVselection.setLayoutData(new GridData(GridData.FILL, GridData.FILL, true, true));\r\n      grpMVselection.setText(SelectionLabelStr);\r\n      grpMVselection.setLayout(new GridLayout(1, true));\r\n\r\n      // another code, added buttons, listeners\r\n        \r\n      final SashForm sashForm = new SashForm(grpMVselection, SWT.VERTICAL | SWT.BORDER);\r\n      sashForm.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true, 1, 1));\r\n\r\n      // srolling applied \r\n      selectionTree = new CheckboxTreeViewer(sashForm, SWT.SINGLE | SWT.V_SCROLL | SWT.H_SCROLL | SWT.HIDE_SELECTION);\r\n      selectionTree.getTree().setLayoutData( new GridData( SWT.BEGINNING, SWT.BEGINNING, true, true ) );\r\n    }\r\n\r\n[![screenshot][1]][1]\r\n\r\nThere are similar questions publicized, but I can not apply answers to my code. I did try:\r\n1. change `Composite mvContainer` to `ScrolledComposite`, did not help\r\n2. insert `mvContainer` to `ScrolledComposite`, did not help\r\n\r\n        TabItem mvTabItem = new TabItem( tabFolder, SWT.NONE );\r\n        mvTabItem.setText( TabHeader.modelviews.getTabHeaderName() );\r\n    \r\n        final ScrolledComposite sc = new ScrolledComposite(tabFolder, SWT.V_SCROLL );\r\n        sc.setExpandVertical(true);\r\n    \r\n        mvTabItem.setControl(sc);\r\n\r\n        Composite mvContainer = new Composite( sc, SWT.NONE );\r\n        //mvContainer.setLayout(new GridLayout());\r\n        mvContainer.setLayout( new GridLayout(1, false) );\r\n        mvContainer.setLayoutData( new GridData(GridData.FILL, GridData.FILL, true, true) );\r\n    \r\n        sc.setContent(mvContainer);\r\n\r\n\r\nDo children need change some property? Thanks for any hint!!! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dodTi.png","title":"How to scroll composite?","body":"<p>I have got:</p>\n<pre><code>private void createTab(){\n\n  TabItem mvTabItem = new TabItem( tabFolder, SWT.NONE );\n  mvTabItem.setText( TabHeader.modelviews.getTabHeaderName() );\n\n\n  Composite mvContainer = new Composite( tabFolder, SWT.V_SCROLL );\n  mvContainer.setLayout( new GridLayout(1, false) );\n  mvContainer.setLayoutData( new GridData(GridData.FILL, GridData.FILL, true, true) );\n\n  mvTabItem.setControl( mvContainer );\n\n  // Selection of model views\n  createSelectionGroup(mvContainer);\n\n  // other code, more groups created\n}\n</code></pre>\n<p>which creates tab item, adds vertical scrollbar, but scrolling is not working. Why?</p>\n<p>Inside <code>createSelectionGroup(mvContainer)</code> there is a scrollbar as well. This one works fine, no <code>org.eclipse.swt.custom.ScrolledComposite</code> was applied:</p>\n<pre><code>private void createSelectionGroup(Composite parent)\n{\n  // Create group component.\n  Group grpMVselection = new Group(parent, SWT.SHADOW_IN);\n  grpMVselection.setLayoutData(new GridData(GridData.FILL, GridData.FILL, true, true));\n  grpMVselection.setText(SelectionLabelStr);\n  grpMVselection.setLayout(new GridLayout(1, true));\n\n  // another code, added buttons, listeners\n    \n  final SashForm sashForm = new SashForm(grpMVselection, SWT.VERTICAL | SWT.BORDER);\n  sashForm.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true, 1, 1));\n\n  // srolling applied \n  selectionTree = new CheckboxTreeViewer(sashForm, SWT.SINGLE | SWT.V_SCROLL | SWT.H_SCROLL | SWT.HIDE_SELECTION);\n  selectionTree.getTree().setLayoutData( new GridData( SWT.BEGINNING, SWT.BEGINNING, true, true ) );\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dodTi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dodTi.png\" alt=\"screenshot\" /></a></p>\n<p>There are similar questions publicized, but I can not apply answers to my code. I did try:</p>\n<ol>\n<li><p>change <code>Composite mvContainer</code> to <code>ScrolledComposite</code>, did not help</p>\n</li>\n<li><p>insert <code>mvContainer</code> to <code>ScrolledComposite</code>, did not help</p>\n<pre><code> TabItem mvTabItem = new TabItem( tabFolder, SWT.NONE );\n mvTabItem.setText( TabHeader.modelviews.getTabHeaderName() );\n\n final ScrolledComposite sc = new ScrolledComposite(tabFolder, SWT.V_SCROLL );\n sc.setExpandVertical(true);\n\n mvTabItem.setControl(sc);\n\n Composite mvContainer = new Composite( sc, SWT.NONE );\n //mvContainer.setLayout(new GridLayout());\n mvContainer.setLayout( new GridLayout(1, false) );\n mvContainer.setLayoutData( new GridData(GridData.FILL, GridData.FILL, true, true) );\n\n sc.setContent(mvContainer);\n</code></pre>\n</li>\n</ol>\n<p>Do children need change some property? Thanks for any hint!!!</p>\n"},{"tags":["java","c++","quickfix","fix-protocol","algorithmic-trading"],"comments":[{"owner":{"account_id":3177957,"reputation":1440,"user_id":2685402,"accept_rate":53,"display_name":"Wojtek"},"score":0,"creation_date":1521134663,"post_id":11435174,"comment_id":85613479,"body_markdown":"You could use a service virtualization/API mocking/test double to simulate the dependency, have a look at https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools (you can use for example Traffic Parrot or Parasoft Virtualize)","body":"You could use a service virtualization/API mocking/test double to simulate the dependency, have a look at <a href=\"https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Comparison_of_API_simulation_tools</a> (you can use for example Traffic Parrot or Parasoft Virtualize)"}],"answers":[{"tags":[],"owner":{"account_id":1565864,"reputation":281,"user_id":1507538,"display_name":"Sudhir Krishnan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1342018010,"creation_date":1342018010,"answer_id":11435272,"question_id":11435174,"body_markdown":"Have you tried FIXimulator? http://code.google.com/p/fiximulator/ It doesn&#39;t exactly work as an exchange, but you can establish sessions, receive orders and execute (auto execution as well possible) them. Check it out.\r\n\r\n","title":"How to test my FIX client? Is there a fake FIX exchange out there that I can use?","body":"<p>Have you tried FIXimulator? <a href=\"http://code.google.com/p/fiximulator/\" rel=\"noreferrer\">http://code.google.com/p/fiximulator/</a> It doesn't exactly work as an exchange, but you can establish sessions, receive orders and execute (auto execution as well possible) them. Check it out.</p>\n"},{"tags":[],"owner":{"account_id":105702,"reputation":1153,"user_id":281912,"accept_rate":62,"display_name":"stexcec"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670589929,"creation_date":1342023308,"answer_id":11436931,"question_id":11435174,"body_markdown":"check the quickFIX distribution.\r\nhere: https://github.com/quickfix/quickfix/tree/master/examples you can find the &quot;**executor**&quot;.\r\n\r\nIs a sample server that simply fills every limit order that it receives.\r\n\r\nAlso you can find &quot;**ordermatch**&quot;, which is a c++ server that will match and execute limit orders.\r\n\r\n","title":"How to test my FIX client? Is there a fake FIX exchange out there that I can use?","body":"<p>check the quickFIX distribution.\nhere: <a href=\"https://github.com/quickfix/quickfix/tree/master/examples\" rel=\"nofollow noreferrer\">https://github.com/quickfix/quickfix/tree/master/examples</a> you can find the &quot;<strong>executor</strong>&quot;.</p>\n<p>Is a sample server that simply fills every limit order that it receives.</p>\n<p>Also you can find &quot;<strong>ordermatch</strong>&quot;, which is a c++ server that will match and execute limit orders.</p>\n"},{"tags":[],"owner":{"account_id":472891,"reputation":516,"user_id":881658,"accept_rate":78,"display_name":"Groovy"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1569666878,"creation_date":1342160044,"answer_id":11465087,"question_id":11435174,"body_markdown":"[Mini-FIX][1] can be used for GUI based\r\n\r\n  [1]: https://elato.se/minifix/download.html\r\n\r\nQuickFix example application programs &quot;executor&quot; and &quot;ordermatch&quot; should be helpful. Code is simple, you can even enhance it to suit your needs for the exchange functionality.\r\nGood thing about these solutions is that different versions of FIX are supported thought FIX 4.2 is the most widely accepted.","title":"How to test my FIX client? Is there a fake FIX exchange out there that I can use?","body":"<p><a href=\"https://elato.se/minifix/download.html\" rel=\"nofollow noreferrer\">Mini-FIX</a> can be used for GUI based</p>\n\n<p>QuickFix example application programs \"executor\" and \"ordermatch\" should be helpful. Code is simple, you can even enhance it to suit your needs for the exchange functionality.\nGood thing about these solutions is that different versions of FIX are supported thought FIX 4.2 is the most widely accepted.</p>\n"},{"tags":[],"owner":{"account_id":4156581,"reputation":181,"user_id":3407716,"display_name":"TheFIXGuy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402322773,"creation_date":1402322773,"answer_id":24122016,"question_id":11435174,"body_markdown":"A few years ago I couldn&#39;t find a testing platform that I didn&#39;t have to sign a contract with large license fees, so I created one.  Sorry for the shameless plug here, but I ended up turning it into a product/service offering hosted at [www.fixsim.com][1] with a free trial.  Banzai that comes with QuickFIX is a good free start, but if you need different asset classes, cancel/correct, allocations, or other message types you either have to build or buy.\r\n\r\n\r\n  [1]: http://www.fixsim.com","title":"How to test my FIX client? Is there a fake FIX exchange out there that I can use?","body":"<p>A few years ago I couldn't find a testing platform that I didn't have to sign a contract with large license fees, so I created one.  Sorry for the shameless plug here, but I ended up turning it into a product/service offering hosted at <a href=\"http://www.fixsim.com\" rel=\"nofollow\">www.fixsim.com</a> with a free trial.  Banzai that comes with QuickFIX is a good free start, but if you need different asset classes, cancel/correct, allocations, or other message types you either have to build or buy.</p>\n"},{"tags":[],"owner":{"account_id":4434190,"reputation":1816,"user_id":3610482,"display_name":"rdalmeida"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405032937,"creation_date":1405032937,"answer_id":24687628,"question_id":11435174,"body_markdown":"[CoralFIX][1] comes with a ready-to-use server implementation that you can fire and start accepting connections from your FIX clients. It will handle all the FIX session level details like logon, heartbeats, sequence reset, resend request, etc. To implement a simple server for your tests all you have to do is:\r\n\r\n    import com.coralblocks.coralfix.FixMessage;\r\n    import com.coralblocks.coralreactor.client.Client;\r\n    import com.coralblocks.coralreactor.nio.NioReactor;\r\n    import com.coralblocks.coralreactor.util.Configuration;\r\n    import com.coralblocks.coralreactor.util.MapConfiguration;\r\n     \r\n    public class SimpleFixApplicationServer extends FixApplicationServer {\r\n     \r\n        public SimpleFixApplicationServer(NioReactor nio, int port, Configuration config) {\r\n            super(nio, port, config);\r\n        }\r\n         \r\n        @Override\r\n        protected void handleFixApplicationMessage(Client client, FixMessage fixMsg, boolean possDupe) {\r\n            // do whatever you want to do with the application message received from this client...\r\n        }\r\n         \r\n        public static void main(String[] args) {\r\n     \r\n            NioReactor nio = NioReactor.create();\r\n             \r\n            MapConfiguration config = new MapConfiguration();\r\n             \r\n            // print all messages received and sent to STDOUT for debugging purposes\r\n            // (default is false)\r\n            config.add(&quot;debugMessages&quot;, &quot;true&quot;);\r\n             \r\n            // accept as the client inbound sequence whatever \r\n            // sequence I receive in the first message coming from the client\r\n            // (default is false)\r\n            config.add(&quot;acceptInboundSeqFromClient&quot;, &quot;false&quot;);\r\n             \r\n            Server server = new SimpleFixApplicationServer(nio, 45451, config);\r\n             \r\n            server.open();\r\n            nio.start();\r\n        }\r\n    }\r\n\r\nA full explanation of the code above can be found [here][2].\r\n\r\n**Disclaimer:** I am one of the developers of CoralFIX.\r\n\r\n\r\n  [1]: http://www.coralblocks.com/index.php/category/coralfix/\r\n  [2]: http://www.coralblocks.com/index.php/2014/07/fix-clients-and-servers-with-coralfix/","title":"How to test my FIX client? Is there a fake FIX exchange out there that I can use?","body":"<p><a href=\"http://www.coralblocks.com/index.php/category/coralfix/\" rel=\"nofollow\">CoralFIX</a> comes with a ready-to-use server implementation that you can fire and start accepting connections from your FIX clients. It will handle all the FIX session level details like logon, heartbeats, sequence reset, resend request, etc. To implement a simple server for your tests all you have to do is:</p>\n\n<pre><code>import com.coralblocks.coralfix.FixMessage;\nimport com.coralblocks.coralreactor.client.Client;\nimport com.coralblocks.coralreactor.nio.NioReactor;\nimport com.coralblocks.coralreactor.util.Configuration;\nimport com.coralblocks.coralreactor.util.MapConfiguration;\n\npublic class SimpleFixApplicationServer extends FixApplicationServer {\n\n    public SimpleFixApplicationServer(NioReactor nio, int port, Configuration config) {\n        super(nio, port, config);\n    }\n\n    @Override\n    protected void handleFixApplicationMessage(Client client, FixMessage fixMsg, boolean possDupe) {\n        // do whatever you want to do with the application message received from this client...\n    }\n\n    public static void main(String[] args) {\n\n        NioReactor nio = NioReactor.create();\n\n        MapConfiguration config = new MapConfiguration();\n\n        // print all messages received and sent to STDOUT for debugging purposes\n        // (default is false)\n        config.add(\"debugMessages\", \"true\");\n\n        // accept as the client inbound sequence whatever \n        // sequence I receive in the first message coming from the client\n        // (default is false)\n        config.add(\"acceptInboundSeqFromClient\", \"false\");\n\n        Server server = new SimpleFixApplicationServer(nio, 45451, config);\n\n        server.open();\n        nio.start();\n    }\n}\n</code></pre>\n\n<p>A full explanation of the code above can be found <a href=\"http://www.coralblocks.com/index.php/2014/07/fix-clients-and-servers-with-coralfix/\" rel=\"nofollow\">here</a>.</p>\n\n<p><strong>Disclaimer:</strong> I am one of the developers of CoralFIX.</p>\n"}],"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21677,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"closed_date":1405148522,"accepted_answer_id":11435272,"answer_count":5,"score":28,"last_activity_date":1670589929,"creation_date":1342017711,"question_id":11435174,"body_markdown":"I have implemented my own FIX client, something like QuickFIX. Now I need to test it. Is there a fake FIX exchange somewhere that I can use? Has anyone ever implemented a FIX server that I can use to validate my client? Is there a real exchange from which I can use their test connection to test and validate my fix client?\r\n\r\nAny help here will be greatly appreciated!","title":"How to test my FIX client? Is there a fake FIX exchange out there that I can use?","body":"<p>I have implemented my own FIX client, something like QuickFIX. Now I need to test it. Is there a fake FIX exchange somewhere that I can use? Has anyone ever implemented a FIX server that I can use to validate my client? Is there a real exchange from which I can use their test connection to test and validate my fix client?</p>\n\n<p>Any help here will be greatly appreciated!</p>\n"},{"tags":["java","spring","liquibase","liquibase-maven-plugin"],"comments":[{"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"score":0,"creation_date":1671490134,"post_id":74743345,"comment_id":132106791,"body_markdown":"This has been reported by multiple users and has been opened as an issue on GitHub. https://github.com/liquibase/liquibase/issues/3520","body":"This has been reported by multiple users and has been opened as an issue on GitHub. <a href=\"https://github.com/liquibase/liquibase/issues/3520\" rel=\"nofollow noreferrer\">github.com/liquibase/liquibase/issues/3520</a>"}],"owner":{"account_id":17097713,"reputation":23,"user_id":12372375,"display_name":"Edwin James"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670589843,"creation_date":1670589843,"question_id":74743345,"body_markdown":"I&#39;m getting this warning after updating liquibase-core to 4.17.2 version:\r\n\r\n\\`\r\n\r\n```\r\nDec 08, 2022 3:22:00 PM liquibase.resource\r\nWARNING: Cannot handle classloader url file:/C:/Program%20Files/Java/jdk1.8.0_172/jre/lib/ext/jaccess.jar: null. Operations that need to list files from this location may not work as expected\r\njava.lang.IllegalArgumentException\r\n\tat liquibase.resource.ZipResourceAccessor.&lt;init&gt;(ZipResourceAccessor.java:48)\r\n\tat liquibase.resource.ZipPathHandler.getResourceAccessor(ZipPathHandler.java:41)\r\n\tat liquibase.resource.PathHandlerFactory.getResourceAccessor(PathHandlerFactory.java:38)\r\n\tat liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:78)\r\n\tat liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:92)\r\n\tat liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:92)\r\n\tat liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:92)\r\n\tat liquibase.resource.ClassLoaderResourceAccessor.init(ClassLoaderResourceAccessor.java:61)\r\n\tat liquibase.resource.ClassLoaderResourceAccessor.search(ClassLoaderResourceAccessor.java:106)\r\n\tat liquibase.changelog.DatabaseChangeLog.includeAll(DatabaseChangeLog.java:618)\r\n\tat liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:462)\r\n\tat liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:364)\r\n\tat liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)\r\n\tat liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:408)\r\n\tat liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:393)\r\n\tat liquibase.Liquibase$16.run(Liquibase.java:2022)\r\n\tat liquibase.Scope.lambda$child$0(Scope.java:180)\r\n\tat liquibase.Scope.child(Scope.java:189)\r\n\tat liquibase.Scope.child(Scope.java:179)\r\n\tat liquibase.Scope.child(Scope.java:158)\r\n\tat liquibase.Liquibase.runInScope(Liquibase.java:2447)\r\n\tat liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2018)\r\n\tat liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2009)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.nio.file.FileSystemAlreadyExistsException\r\n\tat com.sun.nio.zipfs.ZipFileSystemProvider.newFileSystem(ZipFileSystemProvider.java:113)\r\n\tat java.nio.file.FileSystems.newFileSystem(FileSystems.java:326)\r\n\tat liquibase.resource.ZipResourceAccessor.&lt;init&gt;(ZipResourceAccessor.java:45)\r\n\t... 29 more\r\n```\r\n\r\n\\`\r\n\r\nFYI: this is not causing any issue in the execution of liquibase\r\n\r\nWhy should it analyze the artifact of the project?","title":"Cannot handle classloader url -warning from liquibase","body":"<p>I'm getting this warning after updating liquibase-core to 4.17.2 version:</p>\n<p>`</p>\n<pre><code>Dec 08, 2022 3:22:00 PM liquibase.resource\nWARNING: Cannot handle classloader url file:/C:/Program%20Files/Java/jdk1.8.0_172/jre/lib/ext/jaccess.jar: null. Operations that need to list files from this location may not work as expected\njava.lang.IllegalArgumentException\n    at liquibase.resource.ZipResourceAccessor.&lt;init&gt;(ZipResourceAccessor.java:48)\n    at liquibase.resource.ZipPathHandler.getResourceAccessor(ZipPathHandler.java:41)\n    at liquibase.resource.PathHandlerFactory.getResourceAccessor(PathHandlerFactory.java:38)\n    at liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:78)\n    at liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:92)\n    at liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:92)\n    at liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:92)\n    at liquibase.resource.ClassLoaderResourceAccessor.init(ClassLoaderResourceAccessor.java:61)\n    at liquibase.resource.ClassLoaderResourceAccessor.search(ClassLoaderResourceAccessor.java:106)\n    at liquibase.changelog.DatabaseChangeLog.includeAll(DatabaseChangeLog.java:618)\n    at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:462)\n    at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:364)\n    at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)\n    at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:408)\n    at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:393)\n    at liquibase.Liquibase$16.run(Liquibase.java:2022)\n    at liquibase.Scope.lambda$child$0(Scope.java:180)\n    at liquibase.Scope.child(Scope.java:189)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.Scope.child(Scope.java:158)\n    at liquibase.Liquibase.runInScope(Liquibase.java:2447)\n    at liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2018)\n    at liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2009)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.nio.file.FileSystemAlreadyExistsException\n    at com.sun.nio.zipfs.ZipFileSystemProvider.newFileSystem(ZipFileSystemProvider.java:113)\n    at java.nio.file.FileSystems.newFileSystem(FileSystems.java:326)\n    at liquibase.resource.ZipResourceAccessor.&lt;init&gt;(ZipResourceAccessor.java:45)\n    ... 29 more\n</code></pre>\n<p>`</p>\n<p>FYI: this is not causing any issue in the execution of liquibase</p>\n<p>Why should it analyze the artifact of the project?</p>\n"},{"tags":["java","selenium-webdriver","robotframework","selenium-grid"],"comments":[{"owner":{"account_id":1507856,"reputation":1378,"user_id":1410810,"accept_rate":67,"display_name":"nitin chawda"},"score":0,"creation_date":1427716372,"post_id":29345251,"comment_id":46876987,"body_markdown":"have u tried sikuli? It has its own API&#39;s which can be used along with selenium. http://doc.sikuli.org/faq/030-java-dev.html","body":"have u tried sikuli? It has its own API&#39;s which can be used along with selenium. <a href=\"http://doc.sikuli.org/faq/030-java-dev.html\" rel=\"nofollow noreferrer\">doc.sikuli.org/faq/030-java-dev.html</a>"},{"owner":{"account_id":5853922,"reputation":2847,"user_id":4611801,"display_name":"aholt"},"score":0,"creation_date":1427723504,"post_id":29345251,"comment_id":46881760,"body_markdown":"sikuli requires an install, and won&#39;t work if running the tests headless on the server.   Integrating sikuli into selenium tests can, at times, be the only option, but it invariably does cause tests to become more brittle and less portable.","body":"sikuli requires an install, and won&#39;t work if running the tests headless on the server.   Integrating sikuli into selenium tests can, at times, be the only option, but it invariably does cause tests to become more brittle and less portable."}],"answers":[{"tags":[],"owner":{"account_id":5853922,"reputation":2847,"user_id":4611801,"display_name":"aholt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427723681,"creation_date":1427723681,"answer_id":29348056,"question_id":29345251,"body_markdown":"Take a look at my answer [here][1].  The code is in C#, but it outlines the workaround I used for uploading files inside a selenium test.  Note:  no third-party tools were required.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29257350/4611801","title":"How to upload a picture using Selenium?","body":"<p>Take a look at my answer <a href=\"https://stackoverflow.com/a/29257350/4611801\">here</a>.  The code is in C#, but it outlines the workaround I used for uploading files inside a selenium test.  Note:  no third-party tools were required.</p>\n"},{"tags":[],"owner":{"display_name":"user18264677"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670589728,"creation_date":1670589728,"answer_id":74743318,"question_id":29345251,"body_markdown":"-&gt; Sendkeys() can be used to upload a file or picture using selenium and Below has given 2 ways of uploading pictures \r\n\r\n-&gt; We can use the below code if want to upload a file from the system\r\n\r\n \tdriver.findElement(By.id(&quot;uploadfile&quot;).sendkeys(&quot;path of the file&quot;);\r\n\r\n[uploading picture from system with path][1]\r\n\r\n-&gt; We can use the below code if want to upload a file stored in the project folder\r\n\r\n\tString projectpath = System.getProperty(&quot;user.dir&quot;); //will retrieve the path of the project in workspace\r\n    driver.findElement(By.id(&quot;uploadfile&quot;)).sendKeys(projectpath+&quot;\\\\path of the folder&quot;); //path of the file which stored in system\r\n\r\n[created folder in project and uploaded image][2]\r\n\r\n[uploading picture from project folder path][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jdiRb.png\r\n  [2]: https://i.stack.imgur.com/uMEoh.png\r\n  [3]: https://i.stack.imgur.com/8bjIE.png","title":"How to upload a picture using Selenium?","body":"<p>-&gt; Sendkeys() can be used to upload a file or picture using selenium and Below has given 2 ways of uploading pictures</p>\n<p>-&gt; We can use the below code if want to upload a file from the system</p>\n<pre><code>driver.findElement(By.id(&quot;uploadfile&quot;).sendkeys(&quot;path of the file&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jdiRb.png\" rel=\"nofollow noreferrer\">uploading picture from system with path</a></p>\n<p>-&gt; We can use the below code if want to upload a file stored in the project folder</p>\n<pre><code>String projectpath = System.getProperty(&quot;user.dir&quot;); //will retrieve the path of the project in workspace\ndriver.findElement(By.id(&quot;uploadfile&quot;)).sendKeys(projectpath+&quot;\\\\path of the folder&quot;); //path of the file which stored in system\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uMEoh.png\" rel=\"nofollow noreferrer\">created folder in project and uploaded image</a></p>\n<p><a href=\"https://i.stack.imgur.com/8bjIE.png\" rel=\"nofollow noreferrer\">uploading picture from project folder path</a></p>\n"}],"owner":{"account_id":3069338,"reputation":139,"user_id":2600375,"accept_rate":0,"display_name":"Sujay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1670589728,"creation_date":1427715550,"question_id":29345251,"body_markdown":"I have to upload a .JPG image from a specified folder. Sendkeys(PATH) is not working. The robot is also not working. \r\nPlease suggest me some other tool like Robot where I can use its .jar files in my maven project. I have to run the code on the server using grid so no installers, please. Any external or internal Java class would be great.","title":"How to upload a picture using Selenium?","body":"<p>I have to upload a .JPG image from a specified folder. Sendkeys(PATH) is not working. The robot is also not working. \nPlease suggest me some other tool like Robot where I can use its .jar files in my maven project. I have to run the code on the server using grid so no installers, please. Any external or internal Java class would be great.</p>\n"},{"tags":["java","spring-boot","microservices","netflix-eureka","amazon-app-runner"],"answers":[{"tags":[],"owner":{"account_id":9518400,"reputation":3,"user_id":7073997,"display_name":"abhishek g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670589119,"creation_date":1670589119,"answer_id":74743205,"question_id":74655372,"body_markdown":"This has been resolved, apparently the issue was resolved when we applied correct security group configuration for our services.","title":"Eureka Discovery Server not registering client","body":"<p>This has been resolved, apparently the issue was resolved when we applied correct security group configuration for our services.</p>\n"}],"owner":{"account_id":9518400,"reputation":3,"user_id":7073997,"display_name":"abhishek g"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74743205,"answer_count":1,"score":0,"last_activity_date":1670589119,"creation_date":1669981944,"question_id":74655372,"body_markdown":"We have few microservices using Eureka discovery server. In local, everything works fine but when we deploy it on AWS App Runner, it is not registering any of the microservices. Any suggestions what could be wrong here? \r\n\r\nBelow is the sample config file that we have in our microservices-\r\n\r\n    `eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/(we are replacing this with      the discovery service URL)\r\n    eureka.instance.prefer-ip-address=true\r\n    eureka.instance.prefer-ip-address=true\r\n    spring.cloud.gateway.discovery.locator.enabled=true\r\n    spring.cloud.gateway.discovery.locator.lowerCaseServiceId=true\r\n    spring.cloud.discovery.enabled=true\r\n    eureka.instance.hostname=localhost(this is being replaced with discovery service domain during deployment)`\r\n\r\n\r\nHere is our discovery service app&#39;s sample config file-\r\n\r\n    `server.port=8761\r\n    eureka.client.register-with-eureka=false\r\n    eureka.client.fetch-registry=false\r\n    eureka.server.waitTimeInMsWhenSyncEmpty=0\r\n    eureka.instance.hostname=localhost`\r\n\r\n\r\n\r\n\r\n\r\nWe tried updating the config files as mentioned in the attached sample code but still the discovery service app is not registering any of the instances of microservices.","title":"Eureka Discovery Server not registering client","body":"<p>We have few microservices using Eureka discovery server. In local, everything works fine but when we deploy it on AWS App Runner, it is not registering any of the microservices. Any suggestions what could be wrong here?</p>\n<p>Below is the sample config file that we have in our microservices-</p>\n<pre><code>`eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/(we are replacing this with      the discovery service URL)\neureka.instance.prefer-ip-address=true\neureka.instance.prefer-ip-address=true\nspring.cloud.gateway.discovery.locator.enabled=true\nspring.cloud.gateway.discovery.locator.lowerCaseServiceId=true\nspring.cloud.discovery.enabled=true\neureka.instance.hostname=localhost(this is being replaced with discovery service domain during deployment)`\n</code></pre>\n<p>Here is our discovery service app's sample config file-</p>\n<pre><code>`server.port=8761\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\neureka.server.waitTimeInMsWhenSyncEmpty=0\neureka.instance.hostname=localhost`\n</code></pre>\n<p>We tried updating the config files as mentioned in the attached sample code but still the discovery service app is not registering any of the instances of microservices.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","event-listener"],"owner":{"account_id":23240238,"reputation":35,"user_id":17329668,"display_name":"Dragos123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670588895,"creation_date":1670588895,"question_id":74743166,"body_markdown":"So I was reading about `EventListener` (beforeSave, afterSave, etc)  [here][1], when it comes to validation, and I can&#39;t really figure it out why it is used and how. \r\nFor example, for my own app, for an entity named `curse`, I have a method `validateCursa()` included in `curseService` class that validate the details of a `curse` object and throws custom exceptions.\r\n\r\nexample:\r\n\r\n**CurseController:**\r\n```\r\n    @PostMapping(path=&quot;/add&quot;) // Map ONLY POST Requests\r\n    public @ResponseBody String addNewCursa (@Valid @RequestBody curse C2,\r\n                                             BindingResult bindingResult)  {\r\n\r\n       com.example.demo.models.curseService.validateCursa(C2);\r\n       if(bindingResult.hasErrors()) {\r\n           \r\n           return &quot;error&quot;;\r\n       }\r\n        curseService.addCursa(C2);\r\n        return &quot;Saved&quot;;\r\n    }\r\n\r\n``` \r\n**curseService:**\r\n```\r\npublic static void validateCursa(curse c){\r\n   some validation here\r\n}\r\n\r\npublic curse addCursa(curse c){\r\n\r\n\r\n        return curseRepository.save(c);\r\n\r\n    }\r\n```\r\n\r\nSo my question is: What really does that EventListener/validation do, when should it be used and why? Like, should I re-design my validation process and use these EventListeners?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/rest/docs/current/reference/html/#events","title":"EventListener - proper way of validation springboot?","body":"<p>So I was reading about <code>EventListener</code> (beforeSave, afterSave, etc)  <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#events\" rel=\"nofollow noreferrer\">here</a>, when it comes to validation, and I can't really figure it out why it is used and how.\nFor example, for my own app, for an entity named <code>curse</code>, I have a method <code>validateCursa()</code> included in <code>curseService</code> class that validate the details of a <code>curse</code> object and throws custom exceptions.</p>\n<p>example:</p>\n<p><strong>CurseController:</strong></p>\n<pre><code>    @PostMapping(path=&quot;/add&quot;) // Map ONLY POST Requests\n    public @ResponseBody String addNewCursa (@Valid @RequestBody curse C2,\n                                             BindingResult bindingResult)  {\n\n       com.example.demo.models.curseService.validateCursa(C2);\n       if(bindingResult.hasErrors()) {\n           \n           return &quot;error&quot;;\n       }\n        curseService.addCursa(C2);\n        return &quot;Saved&quot;;\n    }\n\n</code></pre>\n<p><strong>curseService:</strong></p>\n<pre><code>public static void validateCursa(curse c){\n   some validation here\n}\n\npublic curse addCursa(curse c){\n\n\n        return curseRepository.save(c);\n\n    }\n</code></pre>\n<p>So my question is: What really does that EventListener/validation do, when should it be used and why? Like, should I re-design my validation process and use these EventListeners?</p>\n"},{"tags":["java","web-services","cxf","windows-authentication","waffle"],"comments":[{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1670659039,"post_id":74743163,"comment_id":131928268,"body_markdown":"You may want to read about [why &#39;Can somebody help me?&#39; is not an actual question](https://meta.stackoverflow.com/a/284237/11107541).","body":"You may want to read about <a href=\"https://meta.stackoverflow.com/a/284237/11107541\">why &#39;Can somebody help me?&#39; is not an actual question</a>."}],"owner":{"account_id":27201070,"reputation":1,"user_id":20733305,"display_name":"Farhat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670588887,"creation_date":1670588887,"question_id":74743163,"body_markdown":"We are using waffle for NTLM login in our application. we are able to successfully achieve the windows authentication but with waffle, Apache CXF is not when Service.create method tries to get the WSDL file by hitting URL it gets a 401 error. please us to figure out how can we make cxf workable with waffles.\r\n\r\nYour help will be appreciated. \r\n\r\n\r\nwe had already tried jcifs but it not working in our case.","title":"Apache CXF not working with waffle windows authentication framework","body":"<p>We are using waffle for NTLM login in our application. we are able to successfully achieve the windows authentication but with waffle, Apache CXF is not when Service.create method tries to get the WSDL file by hitting URL it gets a 401 error. please us to figure out how can we make cxf workable with waffles.</p>\n<p>Your help will be appreciated.</p>\n<p>we had already tried jcifs but it not working in our case.</p>\n"},{"tags":["java","hibernate","hql"],"answers":[{"tags":[],"owner":{"account_id":112952,"reputation":73174,"user_id":297762,"accept_rate":87,"display_name":"Robby Pond"},"down_vote_count":2,"up_vote_count":9,"is_accepted":true,"score":7,"last_activity_date":1670588647,"creation_date":1299619065,"answer_id":5238440,"question_id":5238369,"body_markdown":"This should work.\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.add(Calendar.HOUR_OF_DAY, -3);\r\n    \r\n    Query q = session.createQuery(&quot;from table where date &lt; :date&quot;);\r\n    q.setCalendarDate(&quot;date&quot;, cal);\r\n    q.list();\r\n\r\n","title":"Hibernate HQL query for finding entries older than 3 hours","body":"<p>This should work.</p>\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.add(Calendar.HOUR_OF_DAY, -3);\n\nQuery q = session.createQuery(&quot;from table where date &lt; :date&quot;);\nq.setCalendarDate(&quot;date&quot;, cal);\nq.list();\n</code></pre>\n"}],"owner":{"account_id":212390,"reputation":26536,"user_id":465179,"accept_rate":99,"display_name":"MatBanik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11130,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":5238440,"answer_count":1,"score":6,"last_activity_date":1670588647,"creation_date":1299618644,"question_id":5238369,"body_markdown":"How should I go about setting up HQL condition that would select all the object who&#39;s **date** property is older than **3 hours** from **now**. ","title":"Hibernate HQL query for finding entries older than 3 hours","body":"<p>How should I go about setting up HQL condition that would select all the object who's <strong>date</strong> property is older than <strong>3 hours</strong> from <strong>now</strong>. </p>\n"},{"tags":["java","camera","qr-code","hikvision"],"comments":[{"owner":{"account_id":106392,"reputation":1092,"user_id":283434,"display_name":"Roark"},"score":0,"creation_date":1646634722,"post_id":70084218,"comment_id":126163319,"body_markdown":"Hey @jaVaBoy did you ever wrk this out? I have the same issue now.","body":"Hey @jaVaBoy did you ever wrk this out? I have the same issue now."},{"owner":{"account_id":310996,"reputation":429,"user_id":624321,"display_name":"JaVaBoy"},"score":0,"creation_date":1648992925,"post_id":70084218,"comment_id":126758160,"body_markdown":"@Roark , No success, I&#39;ve just left it ! Didn&#39;t find anything to help. I decompiled hik-connect android app. unfortunately, It is an react-native app so couldn&#39;t understand how it generate or read QR code.","body":"@Roark , No success, I&#39;ve just left it ! Didn&#39;t find anything to help. I decompiled hik-connect android app. unfortunately, It is an react-native app so couldn&#39;t understand how it generate or read QR code."},{"owner":{"account_id":106392,"reputation":1092,"user_id":283434,"display_name":"Roark"},"score":0,"creation_date":1649136932,"post_id":70084218,"comment_id":126792800,"body_markdown":"Thank you! I took a chance and just created a normal card and turned the card number into a qr code using another library, turns out the hardware the client has does not support QR code reading :D So don&#39;t even know if it would&#39;ve worked! Talk about a waste of time. Cheers!","body":"Thank you! I took a chance and just created a normal card and turned the card number into a qr code using another library, turns out the hardware the client has does not support QR code reading :D So don&#39;t even know if it would&#39;ve worked! Talk about a waste of time. Cheers!"}],"owner":{"account_id":310996,"reputation":429,"user_id":624321,"display_name":"JaVaBoy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670588541,"creation_date":1637684038,"question_id":70084218,"body_markdown":"I am creating a simple Java client for the HIKVISION cameras. (Primarily for Linux).\r\n\r\nI want to add a feature to let the user generate a QR code base of the camera list (This feature is already exist in Hikevision apps Windows and android).\r\n\r\nI read all Hikvision SDK documentation but I could not find anywhere about generating QR Code.\r\n\r\nI can generate QR but the question is what data I have to use to generate a QR that is usable by original Hikvision apps as well.\r\n\r\nThanks\r\n\r\n\r\n\r\n","title":"How to generate QR to use with Hikvision Camera","body":"<p>I am creating a simple Java client for the HIKVISION cameras. (Primarily for Linux).</p>\n<p>I want to add a feature to let the user generate a QR code base of the camera list (This feature is already exist in Hikevision apps Windows and android).</p>\n<p>I read all Hikvision SDK documentation but I could not find anywhere about generating QR Code.</p>\n<p>I can generate QR but the question is what data I have to use to generate a QR that is usable by original Hikvision apps as well.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","mybatis","junit5"],"answers":[{"tags":[],"owner":{"account_id":4685587,"reputation":749,"user_id":3793078,"display_name":"Yeongjun Kim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1495809130,"creation_date":1495809130,"answer_id":44204171,"question_id":44203244,"body_markdown":"I solved it in the following way..\r\n\r\n\t@SpringJUnitJupiterConfig(classes = {RepositoryTestConfig.class})\r\n\t@MapperScan\r\n\t@Rollback\r\n\t@Transactional\r\n\tpublic class TestClass {\r\n\t    @Autowired\r\n\t    private TestMapper testMapper;\r\n\t\r\n\t    @BeforeEach\r\n\t    void init() {\r\n\t        User user = new User();\r\n\t        testMapper.insert(user);    \r\n\t    }\r\n\t\r\n\t    @Nested\r\n\t    @SpringJUnitJupiterConfig(classes = {RepositoryTestConfig.class})\r\n\t\t@MapperScan\r\n\t\t@Rollback\r\n\t\t@Transactional\r\n\t    class WhenExistData {\r\n\t        @Test\r\n\t        public void test2() {\r\n\t        }   \r\n\t    }\r\n\t}","title":"Transaction roll back is not working in test case in @Nested class of JUnit5","body":"<p>I solved it in the following way..</p>\n\n<pre><code>@SpringJUnitJupiterConfig(classes = {RepositoryTestConfig.class})\n@MapperScan\n@Rollback\n@Transactional\npublic class TestClass {\n    @Autowired\n    private TestMapper testMapper;\n\n    @BeforeEach\n    void init() {\n        User user = new User();\n        testMapper.insert(user);    \n    }\n\n    @Nested\n    @SpringJUnitJupiterConfig(classes = {RepositoryTestConfig.class})\n    @MapperScan\n    @Rollback\n    @Transactional\n    class WhenExistData {\n        @Test\n        public void test2() {\n        }   \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1495973473,"creation_date":1495973473,"answer_id":44227179,"question_id":44203244,"body_markdown":"This is to be expected: the _Spring TestContext Framework_ has never supported &quot;inheritance&quot; for nested test classes.\r\n\r\nThus your &quot;work around&quot; is actually the correct way to achieve your goal at this point in time.\r\n\r\nNote, however, that I may add support for &quot;pseudo-inheritance&quot; for _nested_ test classes in conjunction with [SPR-15366][1].\r\n\r\nRegards,\r\n\r\nSam (_author of the Spring TestContext Framework_)\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-15366 &quot;SPR-15366&quot;","title":"Transaction roll back is not working in test case in @Nested class of JUnit5","body":"<p>This is to be expected: the <em>Spring TestContext Framework</em> has never supported \"inheritance\" for nested test classes.</p>\n\n<p>Thus your \"work around\" is actually the correct way to achieve your goal at this point in time.</p>\n\n<p>Note, however, that I may add support for \"pseudo-inheritance\" for <em>nested</em> test classes in conjunction with <a href=\"https://jira.spring.io/browse/SPR-15366\" rel=\"noreferrer\" title=\"SPR-15366\">SPR-15366</a>.</p>\n\n<p>Regards,</p>\n\n<p>Sam (<em>author of the Spring TestContext Framework</em>)</p>\n"},{"tags":[],"owner":{"account_id":6360824,"reputation":854,"user_id":4936371,"display_name":"Huang Jinlong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637757292,"creation_date":1637757292,"answer_id":70096177,"question_id":44203244,"body_markdown":"I solved it in the following way\r\n\r\n```java\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.test.annotation.Rollback;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n// JUnit5\r\n@SpringBootTest\r\npublic class TestClass {\r\n\r\n    @Resource\r\n    private TestMapper testMapper;\r\n\r\n    @Test\r\n    @Rollback\r\n    @Transactional\r\n    public void createByTimerId() {\r\n        Assertions.assertEquals(1, testMapper.insert());\r\n    }\r\n}\r\n\r\n```","title":"Transaction roll back is not working in test case in @Nested class of JUnit5","body":"<p>I solved it in the following way</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.test.annotation.Rollback;\nimport org.springframework.transaction.annotation.Transactional;\n\n// JUnit5\n@SpringBootTest\npublic class TestClass {\n\n    @Resource\n    private TestMapper testMapper;\n\n    @Test\n    @Rollback\n    @Transactional\n    public void createByTimerId() {\n        Assertions.assertEquals(1, testMapper.insert());\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1993185,"reputation":82,"user_id":1786721,"display_name":"paulo.bing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670588537,"creation_date":1670588537,"answer_id":74743089,"question_id":44203244,"body_markdown":"Using the annotation [NestedTestConfiguration][1] from Spring on the enclosing class did the trick for me. It seems that without it, the nested class won&#39;t inherit the config.\r\n\r\n    @NestedTestConfiguration(NestedTestConfiguration.EnclosingConfiguration.INHERIT)\r\n\r\nSo maybe on your TestClass you would have your current annotations and then:\r\n\r\n    @NestedTestConfiguration(NestedTestConfiguration.EnclosingConfiguration.INHERIT)\r\n    public class TestClass {\r\n    ...\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/NestedTestConfiguration.html\r\n","title":"Transaction roll back is not working in test case in @Nested class of JUnit5","body":"<p>Using the annotation <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/NestedTestConfiguration.html\" rel=\"nofollow noreferrer\">NestedTestConfiguration</a> from Spring on the enclosing class did the trick for me. It seems that without it, the nested class won't inherit the config.</p>\n<pre><code>@NestedTestConfiguration(NestedTestConfiguration.EnclosingConfiguration.INHERIT)\n</code></pre>\n<p>So maybe on your TestClass you would have your current annotations and then:</p>\n<pre><code>@NestedTestConfiguration(NestedTestConfiguration.EnclosingConfiguration.INHERIT)\npublic class TestClass {\n...\n</code></pre>\n"}],"owner":{"account_id":4685587,"reputation":749,"user_id":3793078,"display_name":"Yeongjun Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5675,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":44204171,"answer_count":4,"score":9,"last_activity_date":1670588537,"creation_date":1495806409,"question_id":44203244,"body_markdown":"I use spring-boot, JUnit5, Mybatis.\r\n\t\r\n\t@SpringJUnitJupiterConfig(classes = {RepositoryTestConfig.class})\r\n\t@MapperScan\r\n\t@Rollback\r\n\t@Transactional\r\n\tpublic class TestClass {\r\n\t\t@Autowired\r\n\t\tprivate TestMapper testMapper;\r\n\t\t\r\n\t\t@BeforeEach\r\n\t\tvoid init() {\r\n\t\t\tUser user = new User();\r\n\t\t\ttestMapper.insert(user);\t\r\n\t\t}\r\n\t\t\r\n\t\t@Test\r\n\t\tpublic void test1() {\r\n\t\t\t// (1) success rollback\r\n\t\t}\r\n\t\t\r\n\t\t@Nested\r\n\t\tclass WhenExistData {\r\n\t\t\t@Test\r\n\t\t\tpublic void test2() {\r\n\t\t\t\t// (2) rollback not working\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\t\r\n(1) is working rollback. And the following log is output.\r\n\r\n\t2017-05-26 22:21:29 [INFO ](TransactionContext.java:136) Rolled back transaction for test context ...\r\n\t\r\nBut, (2) is not working. I want to be able to roll back into `@Nested`.","title":"Transaction roll back is not working in test case in @Nested class of JUnit5","body":"<p>I use spring-boot, JUnit5, Mybatis.</p>\n\n<pre><code>@SpringJUnitJupiterConfig(classes = {RepositoryTestConfig.class})\n@MapperScan\n@Rollback\n@Transactional\npublic class TestClass {\n    @Autowired\n    private TestMapper testMapper;\n\n    @BeforeEach\n    void init() {\n        User user = new User();\n        testMapper.insert(user);    \n    }\n\n    @Test\n    public void test1() {\n        // (1) success rollback\n    }\n\n    @Nested\n    class WhenExistData {\n        @Test\n        public void test2() {\n            // (2) rollback not working\n        }   \n    }\n}\n</code></pre>\n\n<p>(1) is working rollback. And the following log is output.</p>\n\n<pre><code>2017-05-26 22:21:29 [INFO ](TransactionContext.java:136) Rolled back transaction for test context ...\n</code></pre>\n\n<p>But, (2) is not working. I want to be able to roll back into <code>@Nested</code>.</p>\n"},{"tags":["java","azure-functions","azure-authentication","azure-java-sdk","azure-http-trigger"],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670588456,"creation_date":1670588456,"answer_id":74743070,"question_id":74734413,"body_markdown":"\r\n- For Authorization to your function app, one of the methods you can use is the Authorization Level keys appending at the end of the Function URL.*\r\n\r\n![enter image description here](https://i.stack.imgur.com/GQhC6.png)\r\n\r\n- You can find the Host Keys and System Keys at the App Keys in Azure Function App.\r\n\r\n![enter image description here](https://i.stack.imgur.com/zwsum.png)\r\n\r\nRefer to this [MSDOC](https://learn.microsoft.com/en-us/azure/azure-functions/security-concepts?tabs=v4#authenticationauthorization) and this SO [Thread](https://stackoverflow.com/q/70444686/16630138) for more information on configuring the Authentication and Authorization for securing the Azure Functions.","title":"How to add Basic Auth for Azure HttpTrigger Java Function","body":"<ul>\n<li>For Authorization to your function app, one of the methods you can use is the Authorization Level keys appending at the end of the Function URL.*</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/GQhC6.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>You can find the Host Keys and System Keys at the App Keys in Azure Function App.</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/zwsum.png\" alt=\"enter image description here\" /></p>\n<p>Refer to this <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/security-concepts?tabs=v4#authenticationauthorization\" rel=\"nofollow noreferrer\">MSDOC</a> and this SO <a href=\"https://stackoverflow.com/q/70444686/16630138\">Thread</a> for more information on configuring the Authentication and Authorization for securing the Azure Functions.</p>\n"}],"owner":{"account_id":25813452,"reputation":9,"user_id":19553779,"display_name":"Venkatesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670588456,"creation_date":1670521860,"question_id":74734413,"body_markdown":"I have created a sample Azure HTTP Trigger Java Function using Visual Studio Code and Deployed it to Azure Function App.  Now it is Working Fine in Postman without authorization \r\n\r\n**Postman Basic Auth Screenshot**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    package com.function;\r\n    \r\n    import com.microsoft.azure.functions.ExecutionContext;\r\n    import com.microsoft.azure.functions.HttpMethod;\r\n    import com.microsoft.azure.functions.HttpRequestMessage;\r\n    import com.microsoft.azure.functions.HttpResponseMessage;\r\n    import com.microsoft.azure.functions.HttpStatus;\r\n    import com.microsoft.azure.functions.annotation.AuthorizationLevel;\r\n    import com.microsoft.azure.functions.annotation.FunctionName;\r\n    import com.microsoft.azure.functions.annotation.HttpTrigger;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    /**\r\n     * Azure Functions with HTTP Trigger.\r\n     */\r\n    public class Function {\r\n        /**\r\n         * This function listens at endpoint &quot;/api/HttpExample&quot;. Two ways to invoke it using &quot;curl&quot; command in bash:\r\n         * 1. curl -d &quot;HTTP Body&quot; {your host}/api/HttpExample\r\n         * 2. curl &quot;{your host}/api/HttpExample?name=HTTP%20Query&quot;\r\n         */\r\n        @FunctionName(&quot;HttpExample&quot;)\r\n        public HttpResponseMessage run(\r\n                @HttpTrigger(\r\n                    name = &quot;req&quot;,\r\n                    methods = {HttpMethod.GET, HttpMethod.POST},\r\n                    authLevel = AuthorizationLevel.ANONYMOUS)\r\n                    HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n                final ExecutionContext context) {\r\n            context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\r\n    \r\n            // Parse query parameter\r\n            final String query = request.getQueryParameters().get(&quot;name&quot;);\r\n            final String name = request.getBody().orElse(query);\r\n    \r\n      \r\n    \r\n              if (name == null) {\r\n                    return request.createResponseBuilder(HttpStatus.BAD_REQUEST).body(&quot;Please pass a name on the query string or in the request body&quot;).build();\r\n                }\r\n    \r\n         else {\r\n                        return request.createResponseBuilder(HttpStatus.OK).body(&quot;Hello, &quot; + name).build();\r\n            \r\n                    }\r\n            }\r\n        }\r\n    \r\n\r\nNow I need to add basic auth to that Function.  How do I accomplish this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PErae.png","title":"How to add Basic Auth for Azure HttpTrigger Java Function","body":"<p>I have created a sample Azure HTTP Trigger Java Function using Visual Studio Code and Deployed it to Azure Function App.  Now it is Working Fine in Postman without authorization</p>\n<p><strong>Postman Basic Auth Screenshot</strong></p>\n<p><a href=\"https://i.stack.imgur.com/PErae.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PErae.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package com.function;\n\nimport com.microsoft.azure.functions.ExecutionContext;\nimport com.microsoft.azure.functions.HttpMethod;\nimport com.microsoft.azure.functions.HttpRequestMessage;\nimport com.microsoft.azure.functions.HttpResponseMessage;\nimport com.microsoft.azure.functions.HttpStatus;\nimport com.microsoft.azure.functions.annotation.AuthorizationLevel;\nimport com.microsoft.azure.functions.annotation.FunctionName;\nimport com.microsoft.azure.functions.annotation.HttpTrigger;\n\nimport java.util.Optional;\n\n/**\n * Azure Functions with HTTP Trigger.\n */\npublic class Function {\n    /**\n     * This function listens at endpoint &quot;/api/HttpExample&quot;. Two ways to invoke it using &quot;curl&quot; command in bash:\n     * 1. curl -d &quot;HTTP Body&quot; {your host}/api/HttpExample\n     * 2. curl &quot;{your host}/api/HttpExample?name=HTTP%20Query&quot;\n     */\n    @FunctionName(&quot;HttpExample&quot;)\n    public HttpResponseMessage run(\n            @HttpTrigger(\n                name = &quot;req&quot;,\n                methods = {HttpMethod.GET, HttpMethod.POST},\n                authLevel = AuthorizationLevel.ANONYMOUS)\n                HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n            final ExecutionContext context) {\n        context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\n\n        // Parse query parameter\n        final String query = request.getQueryParameters().get(&quot;name&quot;);\n        final String name = request.getBody().orElse(query);\n\n  \n\n          if (name == null) {\n                return request.createResponseBuilder(HttpStatus.BAD_REQUEST).body(&quot;Please pass a name on the query string or in the request body&quot;).build();\n            }\n\n     else {\n                    return request.createResponseBuilder(HttpStatus.OK).body(&quot;Hello, &quot; + name).build();\n        \n                }\n        }\n    }\n</code></pre>\n<p>Now I need to add basic auth to that Function.  How do I accomplish this?</p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"score":0,"creation_date":1613681285,"post_id":66267573,"comment_id":117158327,"body_markdown":"Are you sure that has to do with Spring Security ? That sign-in page seems unrelated but, if it was it would probably be due to .formLogin(). Additionally, not sure if it makes a difference but, I always use &#39;/**&#39; to authenticate all requests for any URI","body":"Are you sure that has to do with Spring Security ? That sign-in page seems unrelated but, if it was it would probably be due to .formLogin(). Additionally, not sure if it makes a difference but, I always use &#39;/**&#39; to authenticate all requests for any URI"},{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1613682694,"post_id":66267573,"comment_id":117158831,"body_markdown":"I guess using  `/**` will allow making POST requests to endpoints like `/test`, `/test/test/test`, so it&#39;s undesirable behavior for me.","body":"I guess using  <code>&#47;**</code> will allow making POST requests to endpoints like <code>&#47;test</code>, <code>&#47;test&#47;test&#47;test</code>, so it&#39;s undesirable behavior for me."},{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1613682908,"post_id":66267573,"comment_id":117158910,"body_markdown":"@user3696953 Not 100% sure it&#39;s related to Spring Security, I&#39;m just getting started. But it seems (to me) like Spring Security is completely ignoring my `.antMatchers(HttpMethod.POST, &quot;/&quot;).permitAll()` line and therefore returning login page due to `.anyRequest().authenticated()`.","body":"@user3696953 Not 100% sure it&#39;s related to Spring Security, I&#39;m just getting started. But it seems (to me) like Spring Security is completely ignoring my <code>.antMatchers(HttpMethod.POST, &quot;&#47;&quot;).permitAll()</code> line and therefore returning login page due to <code>.anyRequest().authenticated()</code>."},{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1613683324,"post_id":66267573,"comment_id":117159047,"body_markdown":"@user3696953 If I disable the login page with `.formLogin().disable()`, `403 Forbidden` is returned in Postman.","body":"@user3696953 If I disable the login page with <code>.formLogin().disable()</code>, <code>403 Forbidden</code> is returned in Postman."},{"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"score":0,"creation_date":1613683411,"post_id":66267573,"comment_id":117159080,"body_markdown":"Maybe try disabling these other items as well\n`.formLogin().disable()`\n`.httpBasic().disable()`\n`.logout().disable()`\n`.csrf.disable()`","body":"Maybe try disabling these other items as well <code>.formLogin().disable()</code> <code>.httpBasic().disable()</code> <code>.logout().disable()</code> <code>.csrf.disable()</code>"},{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1613683771,"post_id":66267573,"comment_id":117159223,"body_markdown":"@user3696953 Ok, I&#39;ve figured out that `.csrf().disable()` is the solution. Do you have any idea why?","body":"@user3696953 Ok, I&#39;ve figured out that <code>.csrf().disable()</code> is the solution. Do you have any idea why?"}],"answers":[{"tags":[],"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1613684080,"creation_date":1613684080,"answer_id":66268482,"question_id":66267573,"body_markdown":"So, CSRF stands for Cross-Site Request Forgery and I believe is enabled by default with Spring Web/Security. When it is enabled, you need to properly pass the correct csrf token to your app in order to access your application otherwise you will get thrown a 403 forbidden type error. Alternatively, there are other means of authenticating users if you so desired.\r\n\r\n`.csrf().disable()`","title":"Spring Security returns login page despite permitAll","body":"<p>So, CSRF stands for Cross-Site Request Forgery and I believe is enabled by default with Spring Web/Security. When it is enabled, you need to properly pass the correct csrf token to your app in order to access your application otherwise you will get thrown a 403 forbidden type error. Alternatively, there are other means of authenticating users if you so desired.</p>\n<p><code>.csrf().disable()</code></p>\n"},{"tags":[],"owner":{"account_id":7055162,"reputation":870,"user_id":5517820,"accept_rate":68,"display_name":"MehdiB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670588422,"creation_date":1670588422,"answer_id":74743066,"question_id":66267573,"body_markdown":"Actually disabling CSRF is not a good idea for all situations. CSRF is enabled by default and as a result, the CSRF token is added to the HttpServletRequest attribute named `_csrf`. So you only need to add it to your requests.\r\nIf you are using Thymeleaf for your html templates you could add something like this to your forms:\r\n\r\n```\r\n&lt;input type=&quot;hidden&quot; th:name=&quot;${_csrf.parameterName}&quot; th:value=&quot;${_csrf.token}&quot;/&gt;\r\n```\r\n\r\n","title":"Spring Security returns login page despite permitAll","body":"<p>Actually disabling CSRF is not a good idea for all situations. CSRF is enabled by default and as a result, the CSRF token is added to the HttpServletRequest attribute named <code>_csrf</code>. So you only need to add it to your requests.\nIf you are using Thymeleaf for your html templates you could add something like this to your forms:</p>\n<pre><code>&lt;input type=&quot;hidden&quot; th:name=&quot;${_csrf.parameterName}&quot; th:value=&quot;${_csrf.token}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":793,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":66268482,"answer_count":2,"score":1,"last_activity_date":1670588422,"creation_date":1613679507,"question_id":66267573,"body_markdown":"I know there is a lot of questions like this, but I could not find an answer which solves my case.\r\n\r\nHere is my config:\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .antMatchers(HttpMethod.POST, &quot;/&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .formLogin()\r\n                .permitAll()\r\n                .and()\r\n            .logout().permitAll();\r\n    }\r\n}\r\n```\r\n\r\nAnd here is my endpoint I want users to have access without logging in:\r\n```java\r\n@Slf4j\r\n@RestController\r\npublic class MyController {\r\n\r\n    @PostMapping(value = &quot;/&quot;, consumes = MediaType.TEXT_PLAIN_VALUE)\r\n    public void acceptAnonymously(HttpEntity&lt;String&gt; requestEntity) {\r\n        log.debug(&quot;body: {}&quot;, requestEntity.getBody());\r\n    }\r\n\r\n}\r\n```\r\n\r\nSo basically, I want to allow making unauthenticated POST requests to `localhost:8080`. Everything else should be authenticated. But when I hit `localhost:8080` with postman, this is what I get:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QxOtx.png","title":"Spring Security returns login page despite permitAll","body":"<p>I know there is a lot of questions like this, but I could not find an answer which solves my case.</p>\n<p>Here is my config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(HttpMethod.POST, &quot;/&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n            .formLogin()\n                .permitAll()\n                .and()\n            .logout().permitAll();\n    }\n}\n</code></pre>\n<p>And here is my endpoint I want users to have access without logging in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestController\npublic class MyController {\n\n    @PostMapping(value = &quot;/&quot;, consumes = MediaType.TEXT_PLAIN_VALUE)\n    public void acceptAnonymously(HttpEntity&lt;String&gt; requestEntity) {\n        log.debug(&quot;body: {}&quot;, requestEntity.getBody());\n    }\n\n}\n</code></pre>\n<p>So basically, I want to allow making unauthenticated POST requests to <code>localhost:8080</code>. Everything else should be authenticated. But when I hit <code>localhost:8080</code> with postman, this is what I get:\n<a href=\"https://i.stack.imgur.com/QxOtx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QxOtx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","json","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670587999,"creation_date":1670586222,"answer_id":74742656,"question_id":74742320,"body_markdown":"You can customize indentation options of the [`DefaultPrettyPrinter`][defaultPrinter] using its methods `indentObjectsWith()` and `indentArraysWith()`. Both expect an instance of [`Indenter`][indenter] interface. One of its implementations shipped with Jackson is [`DefaultIndenter`][defaultIndenter].\r\n\r\n```\r\nDefaultPrettyPrinter printer = new DefaultPrettyPrinter();\r\nprinter.indentObjectsWith(new DefaultIndenter());\r\nprinter.indentArraysWith(new DefaultIndenter());\r\n```\r\n\r\nWhen we have customized the `DefaultPrettyPrinter`, `ObjectMapper` should be instructed to use it for serialization.\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.setDefaultPrettyPrinter(printer);\r\n```\r\n\r\nFinally, produce the JSON:\r\n\r\n```\r\nArrayList&lt;ActionOutput&gt; res = manager.getRes();\r\n\r\nmapper\r\n    .writerWithDefaultPrettyPrinter()\r\n    .writeValue(new File(args[1]), res)\r\n```\r\n\r\nHere&#39;s a small demo illustrating that indentations would be set correctly.\r\n\r\nConsider the following POJO:\r\n\r\n    public class ActionOutput {\r\n        private String key1;\r\n        private List&lt;String&gt; key2;\r\n        private String key3;\r\n        \r\n        // all-args constructor, getters\r\n    }\r\n\r\n*Serialization example:*\r\n\r\n```\r\nList&lt;ActionOutput&gt; actions = List.of(\r\n    new ActionOutput(&quot;value&quot;, List.of(), null),\r\n    new ActionOutput(&quot;value&quot;, List.of(), null)\r\n);\r\n        \r\nString jsonRes = mapper\r\n    .writerWithDefaultPrettyPrinter()\r\n    .writeValueAsString(actions);\r\n    \r\nSystem.out.println(jsonRes);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n[\r\n  {\r\n    &quot;key1&quot; : &quot;value&quot;,\r\n    &quot;key2&quot; : [ ],\r\n    &quot;key3&quot; : null\r\n  },\r\n  {\r\n    &quot;key1&quot; : &quot;value&quot;,\r\n    &quot;key2&quot; : [ ],\r\n    &quot;key3&quot; : null\r\n  }\r\n]\r\n```\r\n\r\n\r\n\r\n   [defaultPrinter]: https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-core/2.9.9/com/fasterxml/jackson/core/util/DefaultPrettyPrinter.html\r\n\r\n   [indenter]: https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-core/2.7.2/com/fasterxml/jackson/core/util/DefaultPrettyPrinter.Indenter.html\r\n\r\n   [defaultIndenter]: https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-core/2.7.2/com/fasterxml/jackson/core/util/DefaultIndenter.html","title":"ObjectMapper not printing correct json in file","body":"<p>You can customize indentation options of the <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-core/2.9.9/com/fasterxml/jackson/core/util/DefaultPrettyPrinter.html\" rel=\"nofollow noreferrer\"><code>DefaultPrettyPrinter</code></a> using its methods <code>indentObjectsWith()</code> and <code>indentArraysWith()</code>. Both expect an instance of <a href=\"https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-core/2.7.2/com/fasterxml/jackson/core/util/DefaultPrettyPrinter.Indenter.html\" rel=\"nofollow noreferrer\"><code>Indenter</code></a> interface. One of its implementations shipped with Jackson is <a href=\"https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-core/2.7.2/com/fasterxml/jackson/core/util/DefaultIndenter.html\" rel=\"nofollow noreferrer\"><code>DefaultIndenter</code></a>.</p>\n<pre><code>DefaultPrettyPrinter printer = new DefaultPrettyPrinter();\nprinter.indentObjectsWith(new DefaultIndenter());\nprinter.indentArraysWith(new DefaultIndenter());\n</code></pre>\n<p>When we have customized the <code>DefaultPrettyPrinter</code>, <code>ObjectMapper</code> should be instructed to use it for serialization.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.setDefaultPrettyPrinter(printer);\n</code></pre>\n<p>Finally, produce the JSON:</p>\n<pre><code>ArrayList&lt;ActionOutput&gt; res = manager.getRes();\n\nmapper\n    .writerWithDefaultPrettyPrinter()\n    .writeValue(new File(args[1]), res)\n</code></pre>\n<p>Here's a small demo illustrating that indentations would be set correctly.</p>\n<p>Consider the following POJO:</p>\n<pre><code>public class ActionOutput {\n    private String key1;\n    private List&lt;String&gt; key2;\n    private String key3;\n    \n    // all-args constructor, getters\n}\n</code></pre>\n<p><em>Serialization example:</em></p>\n<pre><code>List&lt;ActionOutput&gt; actions = List.of(\n    new ActionOutput(&quot;value&quot;, List.of(), null),\n    new ActionOutput(&quot;value&quot;, List.of(), null)\n);\n        \nString jsonRes = mapper\n    .writerWithDefaultPrettyPrinter()\n    .writeValueAsString(actions);\n    \nSystem.out.println(jsonRes);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[\n  {\n    &quot;key1&quot; : &quot;value&quot;,\n    &quot;key2&quot; : [ ],\n    &quot;key3&quot; : null\n  },\n  {\n    &quot;key1&quot; : &quot;value&quot;,\n    &quot;key2&quot; : [ ],\n    &quot;key3&quot; : null\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":20121404,"reputation":25,"user_id":14755840,"display_name":"Stefan Radulescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74742656,"answer_count":1,"score":2,"last_activity_date":1670588206,"creation_date":1670584409,"question_id":74742320,"body_markdown":"```\r\nArrayList&lt;ActionOutput&gt; res = manager.getRes();\r\nobjectMapper.configure(SerializationFeature.INDENT_OUTPUT, true);\r\nobjectMapper.writeValue(new File(args[1]), res);\r\n```\r\nI expect my outputFile to look EXACTLY like this:\r\n\r\n```\r\n[\r\n  {\r\n    &quot;key1&quot;: &quot;value&quot;,\r\n    &quot;key2&quot;: [],\r\n    &quot;key3&quot;: null\r\n  },\r\n  {\r\n    &quot;key1&quot;: &quot;value&quot;,\r\n    &quot;key2&quot;: [],\r\n    &quot;key3&quot;: null\r\n  }\r\n]\r\n\r\n```\r\n\r\nbut it looks like this:\r\n```\r\n[ {                   &lt;-- I need a newline after [\r\n  &quot;key1&quot; : &quot;value&quot;,\r\n  &quot;key2&quot; : [ ],\r\n  &quot;key3&quot; : null\r\n}, {                  &lt;-- I need a newline after },\r\n  &quot;key1&quot; : &quot;value&quot;,\r\n  &quot;key2&quot; : [ ],       &lt;-- no whitespace in empty array: [] instead of [ ]\r\n  &quot;key3&quot; : null       &lt;-- no whitespace after keys: &quot;key3&quot;: null instead of &quot;key3&quot; : null\r\n  } ]                 &lt;-- I need a newline after }\r\n```\r\nHow can I achieve this?\r\nI tried also to use pretty printer on objectMapper, but the result is the same.","title":"ObjectMapper not printing correct json in file","body":"<pre><code>ArrayList&lt;ActionOutput&gt; res = manager.getRes();\nobjectMapper.configure(SerializationFeature.INDENT_OUTPUT, true);\nobjectMapper.writeValue(new File(args[1]), res);\n</code></pre>\n<p>I expect my outputFile to look EXACTLY like this:</p>\n<pre><code>[\n  {\n    &quot;key1&quot;: &quot;value&quot;,\n    &quot;key2&quot;: [],\n    &quot;key3&quot;: null\n  },\n  {\n    &quot;key1&quot;: &quot;value&quot;,\n    &quot;key2&quot;: [],\n    &quot;key3&quot;: null\n  }\n]\n\n</code></pre>\n<p>but it looks like this:</p>\n<pre><code>[ {                   &lt;-- I need a newline after [\n  &quot;key1&quot; : &quot;value&quot;,\n  &quot;key2&quot; : [ ],\n  &quot;key3&quot; : null\n}, {                  &lt;-- I need a newline after },\n  &quot;key1&quot; : &quot;value&quot;,\n  &quot;key2&quot; : [ ],       &lt;-- no whitespace in empty array: [] instead of [ ]\n  &quot;key3&quot; : null       &lt;-- no whitespace after keys: &quot;key3&quot;: null instead of &quot;key3&quot; : null\n  } ]                 &lt;-- I need a newline after }\n</code></pre>\n<p>How can I achieve this?\nI tried also to use pretty printer on objectMapper, but the result is the same.</p>\n"},{"tags":["java","sql","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670588397,"post_id":74742990,"comment_id":131914209,"body_markdown":"You have a time value (perhaps) as string, that you either want to use as parameter with the wrong type or convert to result with the wrong data type","body":"You have a time value (perhaps) as string, that you either want to use as parameter with the wrong type or convert to result with the wrong data type"},{"owner":{"display_name":"user20263794"},"score":0,"creation_date":1670590548,"post_id":74742990,"comment_id":131914916,"body_markdown":"I couldn&#39;t find it. Which parameter do you say? @XtremeBaumer","body":"I couldn&#39;t find it. Which parameter do you say? @XtremeBaumer"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670590674,"post_id":74742990,"comment_id":131914946,"body_markdown":"How would I know? You havent provided the whole stack trace nor any example data","body":"How would I know? You havent provided the whole stack trace nor any example data"},{"owner":{"display_name":"user20263794"},"score":0,"creation_date":1670840816,"post_id":74742990,"comment_id":131958344,"body_markdown":"I solved the problem but there is another problem. I used integer to time function for convert integer time column what in database and I delete the function for hibernate. When I delete the function problem was fixed. So how can I convert the column integer to time ?","body":"I solved the problem but there is another problem. I used integer to time function for convert integer time column what in database and I delete the function for hibernate. When I delete the function problem was fixed. So how can I convert the column integer to time ?"}],"owner":{"display_name":"user20263794"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670587963,"creation_date":1670587963,"question_id":74742990,"body_markdown":"I want to list my data on a grid and I used hibernate for it on Java. But my code doesn&#39;t work and I get error. When I run my SQL script it works. I think there is an error on my code and there isn&#39;t an error on my SQL script. Code blocks and error screenshot is below. How can I fix it ?\r\n\r\nDaoImp.java:\r\n\r\n```\r\n@Override public DealResponse radyolojiSorgulamaListesiAlt(List&lt;BaseFilter&gt; prmFilter, Integer start, Integer limit) {\r\n        //sysFunc.writeDealLog_Start(new DealLog(_projeEnum.LogLevel.StartMethod, &quot;tr.com.metasoft.deal.dao.sbs&quot;, &quot;SbsIstemFisHastaDaoImpl&quot;, &quot;istemHastaSiraListesi&quot;));\r\n        DealResponse response = new DealResponse();\r\n        try {\r\n\r\n            List&lt;PatolojiSorusturmaUI&gt; liste =new ArrayList&lt;&gt;();\r\n            List&lt;PatolojiSorusturmaUI&gt; listeCount = new ArrayList&lt;&gt;();\r\n\r\n            StringBuilder sqlAna = new StringBuilder();\r\n            sqlAna.append(\r\n                    &quot;select dbo.IntegerIntoTime(sif.ISTEM_FS_SAAT)   as hstGelisSaati,\\n&quot; +\r\n                            &quot;hrk.ISTEM_DURUM as istemDurum,\\n&quot; +\r\n                            &quot;ACCESSION_NUMBER as accessionNumber,\\n&quot; +\r\n                            &quot;srck.RC_CIHAZ AS rcCihaz,srck.RC_CIHAZ_SEVK as rcSevkDurum,\\n&quot; +\r\n                            &quot;sd.DOKTOR_AD + &#39; &#39;  + sd.DOKTOR_SOYAD  as cekimYapan,\\n&quot; +\r\n                            &quot;sifh.HASTA_GELIS_TRH as hstGelisTrh,\\n&quot; +\r\n                            &quot;dbo.IntegerIntoTime(sif.ISTEM_FS_SAAT) as hstGelisSaat,\\n&quot; +\r\n                            &quot;SBS_SAGLIK_RAPOR_ID as sbsSaglikRaporId,\\n&quot; +\r\n                            &quot;hrk.ISTSH_TRH  as sevkistemTrh,\\n&quot; +\r\n                            &quot;hrk.KABUL_TRH   as sevkkabulTrh,\\n&quot; +\r\n                            &quot;dbo.IntegerIntoTime(hrk.ISTSH_ISLEM_SAAT)  as sevkistemSaat,\\n&quot; +\r\n                            &quot;dbo.IntegerIntoTime(hrk.KABUL_SAAT )  as sevkkabulSaat,\\n&quot; +\r\n                            &quot;hrk.SEVK_ID as sevkId,NULL as teknisyen,\\n&quot; +\r\n                            &quot;hzm.HIZMET_SUT_KODU as Butce_Kodu,\\n&quot; +\r\n                            &quot;hzm.HIZMET_SUT_TANIMI as Butce_Tanimi,\\n&quot; +\r\n                            &quot;hrk.ISTSH_ID AS istem_Id\\n&quot;+\r\n\r\n                            &quot;from SBS_ISTEM_FIS  as sif  with(nolock)\\n&quot; +\r\n                            &quot;inner join SBS_ISTEM_FIS_HASTA as sifh with(nolock) on sif.ISTEM_FS_ID=sifh.SBS_ISTEM_FIS_ID and isnull(sif.PSF_ID,0)=0\\n&quot; +\r\n                            &quot;inner join SBS_ISTEM_HAREKET as hrk with(nolock) on sif.ISTEM_FS_ID=hrk.ISTEM_FIS_ID and isnull(hrk.PSF_ID,0)=0\\n&quot; +\r\n                            &quot;inner join SBS_ISTEM_FIS as siff        with(nolock) on siff.ISTEM_FS_ID=hrk.ISTEM_FIS_ID and (isnull(siff.PSF_ID,0)=0)\\n&quot; +\r\n                            &quot;inner join STOK_KART_HIZMET as hzm with(nolock) on hrk.ISTSH_STOKKART_ID = hzm.STOK_ID and (isnull(hzm.PSF_ID,0)=0)\\n&quot; +\r\n                            &quot;left join SBS_DOKTOR as sd with(nolock) on SD.KIMLIK_ID = HRK.UYGULAYACAK_HEKIM_KIMLIK_ID and (isnull(hzm.PSF_ID,0)=0)\\n&quot; +\r\n                            &quot;left join TUR_DETAY AS TD WITH(NOLOCK) ON TD.TUR_DETAY_ID=SD.CALISMA_TURU AND ISNULL(TD.PSF_ID,0)=0 AND (TD.TUR_DEGER_KOD=&#39;DISHEKIMI&#39; or TD.TUR_DEGER_KOD=&#39;HEKIM&#39;)\\n&quot; +\r\n                            &quot;inner join SBS_HASTA  as hst with(nolock) on hst.HASTA_KIMLIK_ID=sifh.HASTA_KIMLIK_ID and isnull(hst.PSF_ID,0)=0\\n&quot; +\r\n                            &quot;inner join  KIMLIK as k  with(nolock) on   k.KIMLIK_ID =sifh.HASTA_KIMLIK_ID  and  isnull(k.PSF_ID,0)=0\\n&quot; +\r\n                            &quot;left join TUR_DETAY as tdc  with(nolock) on k.CINSIYET_TUR_ID = tdc.TUR_DETAY_ID  and  isnull(tdc.PSF_ID,0)=0\\n&quot; +\r\n                            &quot;left join SBS_GIZLI_HASTA as gh ON gh.TC_KIMLIK_NO = sifh.KIMLIK_TC_NO and (GETDATE() BETWEEN gh.MAHKEME_TARIHI AND hst.GIZLILIK_BITIS_TARIH) and ISNULL(gh.PSF_ID,0) = 0\\n&quot; +\r\n                            &quot;left join BIRIM as b  with(nolock)  on b.BIRIM_ID = sifh.HASTA_SERVIS_ID and isnull(b.PSF_ID,0)=0\\n&quot; +\r\n                            &quot;left join SBS_KLINIK as klinik  with(nolock) on b.BIRIM_ID = klinik.BIRIM_ID and isnull(klinik.PSF_ID,0)=0\\n&quot; +\r\n                            &quot;left join SBS_KLINIK_UST as ust  with(nolock) on klinik.KLINIK_UST_ID = ust.KLINIK_UST_ID and (ISNULL(ust.PSF_ID,0)=0)\\n&quot; +\r\n                            &quot;left join TUR_DETAY as klinikTur  with(nolock) on klinik.KLINIK_TUR_ID = klinikTur.TUR_DETAY_ID and isnull(klinikTur.PSF_ID,0)=0\\n&quot; +\r\n                            &quot;left join CARI_KURUM_TUR as ck  with(nolock) on  sifh.HASTA_KURUM_TUR_ID  = ck.KURUM_TUR_ID and isnull(ck.PSF_ID,0)=0\\n&quot; +\r\n                            &quot;left join CARI_KART as cari  with(nolock) on sifh.HASTA_KURUM_ID = cari.CARI_KART_ID and isnull(cari.PSF_ID,0)=0\\n&quot; +\r\n                            &quot;left join SBS_SIRA_TUR as siraTur  with(nolock)on hst.SIRA_TUR_ID = siraTur.SBS_SIRA_TUR_ID and isnull(siraTur.PSF_ID,0)=0\\n&quot; +\r\n                            &quot;left join BIRIM as br on br.BIRIM_ID =sif.ISTEM_FS_ISTEM_YAPAN_BIRIM_ID\\n&quot; +\r\n                            &quot;left join BIRIM as ustBirim on ustBirim.BIRIM_ID =br.UST_BIRIM_ID\\n&quot; +\r\n                            &quot;left join KAYIT_DURUM as tdKayitDurum with(nolock) on tdKayitDurum.KAYIT_DURUM_ID=hrk.ISTSH_KAYIT_DURUM_ID   and isnull(tdKayitDurum.PSF_ID,0)=0\\n&quot; +\r\n                            &quot;left join SBS_RONTGEN_CIHAZ as srck with(nolock) on srck.SBS_RONTGEN_CIHAZ_ID=hrk.RONTGEN_CIHAZ_ID  and isnull(srck.PSF_ID,0)=0\\n&quot; +\r\n                            &quot;left join BIRIM as rontgenBirim on  srck.RC_CIHAZ_SRVNO= rontgenBirim.BIRIM_ID\\n&quot; +\r\n                            &quot;left join BIRIM rontgenUstBirim on rontgenBirim.UST_BIRIM_ID =rontgenUstBirim.BIRIM_ID and rontgenUstBirim.BIRIM_ID =ustBirim.BIRIM_ID\\n&quot; +\r\n                            &quot;where (isnull(hrk.PSF_ID,0)=0)\\n&quot; +\r\n                            &quot;and (isnull(sifh.PSF_ID,0)=0)\\n&quot; +\r\n                            &quot;and  hzm.HIZMET_TUR  &amp;4 =4\\n&quot;);\r\n\r\n            if (sysFunc.getFilterInBaseFilterList(&quot;baslangicTrh&quot;, prmFilter).fieldValue != null &amp;&amp; sysFunc.getFilterInBaseFilterList(&quot;baslangicTrh&quot;, prmFilter).fieldValue != &quot;&quot;) {\r\n                sqlAna.append( &quot; and sifh.HASTA_GELIS_TRH &gt;= &#39;&quot;+(sysFunc.getFilterInBaseFilterList(&quot;baslangicTrh&quot;, prmFilter).fieldValue.toString()) + &quot;&#39;&quot; + &quot; \\n&quot;);\r\n            }\r\n            if (sysFunc.getFilterInBaseFilterList(&quot;bitisTrh&quot;, prmFilter).fieldValue != null &amp;&amp; sysFunc.getFilterInBaseFilterList(&quot;bitisTrh&quot;, prmFilter).fieldValue != &quot;&quot;) {\r\n                sqlAna.append( &quot; and sifh.HASTA_GELIS_TRH &lt;= &#39;&quot;+(sysFunc.getFilterInBaseFilterList(&quot;bitisTrh&quot;, prmFilter).fieldValue.toString()) + &quot;&#39;&quot; + &quot; \\n&quot;);\r\n            }\r\n            if (sysFunc.getFilterInBaseFilterList(&quot;hastaTcKimlikNo&quot;, prmFilter).fieldValue != null &amp;&amp; sysFunc.getFilterInBaseFilterList(&quot;hastaTcKimlikNo&quot;, prmFilter).fieldValue != &quot;&quot;) {\r\n                sqlAna.append( &quot; and sifh.KIMLIK_TC_NO = &#39;&quot;+(sysFunc.getFilterInBaseFilterList(&quot;hastaTcKimlikNo&quot;, prmFilter).fieldValue.toString()) + &quot;&#39;&quot; + &quot; \\n&quot;);\r\n            }\r\n            if (sysFunc.getFilterInBaseFilterList(&quot;birimAd&quot;, prmFilter).fieldValue != null &amp;&amp; sysFunc.getFilterInBaseFilterList(&quot;birimAd&quot;, prmFilter).fieldValue != &quot;&quot;) {\r\n                sqlAna.append( &quot; and sifh.HASTA_SERVIS_AD = &#39;&quot;+(sysFunc.getFilterInBaseFilterList(&quot;birimAd&quot;, prmFilter).fieldValue.toString()) + &quot;&#39;&quot; + &quot; \\n&quot;);\r\n            }\r\n            if (sysFunc.getFilterInBaseFilterList(&quot;hekimAdSoyad&quot;, prmFilter).fieldValue != null &amp;&amp; sysFunc.getFilterInBaseFilterList(&quot;hekimAdSoyad&quot;, prmFilter).fieldValue != &quot;&quot;) {\r\n                sqlAna.append( &quot; and sifh.HEKIM_AD_SOYAD = &#39;&quot;+(sysFunc.getFilterInBaseFilterList(&quot;hekimAdSoyad&quot;, prmFilter).fieldValue.toString()) + &quot;&#39;&quot; + &quot; \\n&quot;);\r\n            }\r\n            if (sysFunc.getFilterInBaseFilterList(&quot;hastaKodu&quot;, prmFilter).fieldValue != null &amp;&amp; sysFunc.getFilterInBaseFilterList(&quot;hastaKodu&quot;, prmFilter).fieldValue != &quot;&quot;) {\r\n                sqlAna.append( &quot; and hst.HASTA_KODU = &#39;&quot;+(sysFunc.getFilterInBaseFilterList(&quot;hastaKodu&quot;, prmFilter).fieldValue.toString()) + &quot;&#39;&quot; + &quot; \\n&quot;);\r\n            }\r\n            sqlAna.append(&quot;group by sifh.HASTA_KIMLIK_ID,&quot; + &quot; \\n&quot; );\r\n            sqlAna.append(&quot;sifh.HASTA_GELIS_ID,&quot; + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;sifh.HST_GELIS_KOD,&quot; + &quot; \\n&quot; );\r\n            sqlAna.append(&quot;sifh.HASTA_AD_SOYAD,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;hst.HASTA_KODU,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;(sd.DOKTOR_AD +&#39; &#39; + sd.DOKTOR_SOYAD),&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;(b.BIRIM_AD),&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;sifh.KIMLIK_TC_NO,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;ck.KURUM_TUR_TANIM,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;sifh.HASTA_KURUM_TUR_ID,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;dbo.IntegerIntoTime(sif.ISTEM_FS_SAAT),&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;cari.CARI_KART_ADI,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;cari.CARI_KART_ADI,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;klinikTur.TUR_DEGER_KOD,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;hst.SIRA_TUR_ID,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;siraTur.Ad,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;gh.HASTA_RUMUZ,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;hst.GIZLILIK_BITIS_TARIH,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;b.BIRIM_ID,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;sd.KIMLIK_ID,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;convert(date ,sif.ISTEM_FS_TRH ,102),&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;hrk.ISTEM_DURUM,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;cast(convert(date,sifh.KIMLIK_DOGUM_TRH,102) as nvarchar), &quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;ACCESSION_NUMBER,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;srck.RC_CIHAZ,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;srck.RC_CIHAZ_SEVK,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;sd.DOKTOR_AD + &#39; &#39;  + sd.DOKTOR_SOYAD,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;sifh.HASTA_GELIS_TRH,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;sif.ISTEM_FS_SAAT,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;SBS_SAGLIK_RAPOR_ID,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;hrk.ISTSH_TRH,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;hrk.KABUL_TRH,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;dbo.IntegerIntoTime(hrk.ISTSH_ISLEM_SAAT),&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;dbo.IntegerIntoTime(hrk.KABUL_SAAT ),&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;hrk.SEVK_ID,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;hzm.HIZMET_SUT_KODU,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;hzm.HIZMET_SUT_TANIMI,&quot;  + &quot; \\n&quot;);\r\n            sqlAna.append(&quot;hrk.ISTSH_ID&quot;);\r\n\r\n            org.hibernate.Query queryListCount = hibernate().createSQLQuery(sqlAna.toString()).addScalar(&quot;hstGelisSaati&quot;,StringType.INSTANCE)\r\n                    .addScalar(&quot;istemDurum&quot;,IntegerType.INSTANCE).addScalar(&quot;accessionNumber&quot;, StringType.INSTANCE).addScalar(&quot;rcCihaz&quot;,StringType.INSTANCE)\r\n                    .addScalar(&quot;rcSevkDurum&quot;,IntegerType.INSTANCE).addScalar(&quot;cekimYapan&quot;,StringType.INSTANCE).addScalar(&quot;hstGelisTrh&quot;, DateType.INSTANCE)\r\n                    .addScalar(&quot;hstGelisSaat&quot;,IntegerType.INSTANCE).addScalar(&quot;sbsSaglikRaporId&quot;,IntegerType.INSTANCE).addScalar(&quot;sevkistemTrh&quot;,DateType.INSTANCE)\r\n                    .addScalar(&quot;sevkkabulTrh&quot;,DateType.INSTANCE).addScalar(&quot;sevkistemSaat&quot;,IntegerType.INSTANCE).addScalar(&quot;sevkkabulSaat&quot;,IntegerType.INSTANCE)\r\n                    .addScalar(&quot;teknisyen&quot;,StringType.INSTANCE).addScalar(&quot;Butce_Kodu&quot;,IntegerType.INSTANCE).addScalar(&quot;Butce_Tanimi&quot;,StringType.INSTANCE)\r\n                    .addScalar(&quot;istem_Id&quot;,IntegerType.INSTANCE);\r\n\r\n            liste = queryListCount.setResultTransformer(Transformers.aliasToBean(SbsKlinikSevkUI.class)).list();\r\n            //sih.ACIL_ONCELIK_TURU ,sih.ISTSH_ISLEM_SAAT,SHRU.HST_GELIS_SAAT, sih.ACCESSION_NUMBER,sih.KABUL_TRH\r\n            response.setData(liste);\r\n            response.setTotal(liste.size());\r\n            response.setSuccessful(true);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            response.setSuccessful(false);\r\n            response.setMessageCode(&quot;SISTEM.ERROR.0001&quot;);\r\n        }\r\n        return response;\r\n```\r\n\r\nUIModel.java:\r\n\r\n```\r\nprivate String hstGelisSaati;\r\n\r\nprivate Integer istemDurum;\r\n\r\nprivate String accessionNumber;\r\n\r\nprivate String rcCihaz;\r\n\r\nprivate Integer rcSevkDurum;\r\n\r\nprivate String cekimYapan;\r\n\r\nprivate Date hstGelisTrh;\r\n\r\nprivate Integer hstGelisSaat;\r\n\r\nprivate Integer sbsSaglikRaporId;\r\n\r\nprivate Date sevkistemTrh;\r\n\r\nprivate Date sevkkabulTrh;\r\n\r\nprivate Integer sevkistemSaat;\r\n\r\nprivate Integer sevkkabulSaat;\r\n\r\nprivate Integer Butce_Kodu;\r\n\r\nprivate String Butce_Tanimi;\r\n\r\nprivate Integer istem_Id;\r\n\r\n\r\npublic String getHstGelisSaati() {\r\n        return hstGelisSaati;\r\n    }\r\n\r\n    public void setHstGelisSaati(String hstGelisSaati) {\r\n        this.hstGelisSaati = hstGelisSaati;\r\n    }\r\n\r\n public Integer getIstemDurum() {\r\n        return istemDurum;\r\n    }\r\n\r\n    public void setIstemDurum(Integer istemDurum) {\r\n        this.istemDurum = istemDurum;\r\n    }\r\n\r\n    public String getAccessionNumber() {\r\n        return accessionNumber;\r\n    }\r\n\r\n    public void setAccessionNumber(String accessionNumber) {\r\n        this.accessionNumber = accessionNumber;\r\n    }\r\n\r\n    public Integer getRcSevkDurum() {\r\n        return rcSevkDurum;\r\n    }\r\n\r\n    public void setRcSevkDurum(Integer rcSevkDurum) {\r\n        this.rcSevkDurum = rcSevkDurum;\r\n    }\r\n\r\n    public String getCekimYapan() { \r\n        return cekimYapan; }\r\n\r\n    public void setCekimYapan(String cekimYapan) { \r\n        this.cekimYapan = cekimYapan; }\r\n\r\n    public Date getHstGelisTrh() {\r\n        return hstGelisTrh;\r\n    }\r\n\r\n    public void setHstGelisTrh(Date hstGelisTrh) {\r\n        this.hstGelisTrh = hstGelisTrh;\r\n    }\r\n   \r\n    public Integer getHstGelisSaat() {\r\n        return hstGelisSaat;\r\n    }\r\n\r\n    public void setHstGelisSaat(Integer hstGelisSaat) {\r\n        this.hstGelisSaat = hstGelisSaat;\r\n    }\r\n\r\n    public Integer getSbsSaglikRaporId() {\r\n        return sbsSaglikRaporId;\r\n    }\r\n\r\n    public void setSbsSaglikRaporId(Integer sbsSaglikRaporId) {\r\n        this.sbsSaglikRaporId = sbsSaglikRaporId;\r\n    }\r\n\r\n    public Date getsevkistemTrh() {\r\n        return sevkistemTrh;\r\n    }\r\n\r\n    public void setsevkistemTrh(Date sevkistemTrh) {\r\n        this.sevkistemTrh = sevkistemTrh;\r\n    }\r\n\r\n    public Date getsevkkabulTrh() {\r\n        return sevkkabulTrh;\r\n    }\r\n\r\n    public void setsevkkabulTrh(Date sevkkabulTrh) {\r\n        this.sevkkabulTrh = sevkkabulTrh;\r\n    }\r\n\r\n    public Integer getsevkistemSaat() {\r\n        return sevkistemSaat;\r\n    }\r\n\r\n    public void setsevkistemSaat(Integer sevkistemSaat) {\r\n        this.sevkistemSaat = sevkistemSaat;\r\n    }\r\n\r\n    public Integer getsevkkabulSaat() {\r\n        return sevkkabulSaat;\r\n    }\r\n\r\n    public void setsevkkabulSaat(Integer sevkkabulSaat) {\r\n        this.sevkkabulSaat = sevkkabulSaat;\r\n    }\r\n\r\n    public Integer getButce_Kodu() {\r\n        return Butce_Kodu;\r\n    }\r\n\r\n    public void setButce_Kodu(Integer Butce_Kodu) {\r\n        this.Butce_Kodu = Butce_Kodu;\r\n    }\r\n\r\n    public String getButce_Tanimi() {\r\n        return Butce_Tanimi;\r\n    }\r\n\r\n    public void setButce_Tanimi(String Butce_Tanimi) {\r\n        this.Butce_Tanimi = Butce_Tanimi;\r\n    }\r\n\r\n    public Integer getIstem_Id() {\r\n        return istem_Id;\r\n    }\r\n\r\n    public void setistem_Id(Integer istem_Id) {\r\n        this.istem_Id = istem_Id;\r\n    }\r\n\r\n```\r\n\r\n[the error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1FphM.png","title":"How can I fix java.sql.SQLException: Value 14:50 cannot be converted to INTEGER error?","body":"<p>I want to list my data on a grid and I used hibernate for it on Java. But my code doesn't work and I get error. When I run my SQL script it works. I think there is an error on my code and there isn't an error on my SQL script. Code blocks and error screenshot is below. How can I fix it ?</p>\n<p>DaoImp.java:</p>\n<pre><code>@Override public DealResponse radyolojiSorgulamaListesiAlt(List&lt;BaseFilter&gt; prmFilter, Integer start, Integer limit) {\n        //sysFunc.writeDealLog_Start(new DealLog(_projeEnum.LogLevel.StartMethod, &quot;tr.com.metasoft.deal.dao.sbs&quot;, &quot;SbsIstemFisHastaDaoImpl&quot;, &quot;istemHastaSiraListesi&quot;));\n        DealResponse response = new DealResponse();\n        try {\n\n            List&lt;PatolojiSorusturmaUI&gt; liste =new ArrayList&lt;&gt;();\n            List&lt;PatolojiSorusturmaUI&gt; listeCount = new ArrayList&lt;&gt;();\n\n            StringBuilder sqlAna = new StringBuilder();\n            sqlAna.append(\n                    &quot;select dbo.IntegerIntoTime(sif.ISTEM_FS_SAAT)   as hstGelisSaati,\\n&quot; +\n                            &quot;hrk.ISTEM_DURUM as istemDurum,\\n&quot; +\n                            &quot;ACCESSION_NUMBER as accessionNumber,\\n&quot; +\n                            &quot;srck.RC_CIHAZ AS rcCihaz,srck.RC_CIHAZ_SEVK as rcSevkDurum,\\n&quot; +\n                            &quot;sd.DOKTOR_AD + ' '  + sd.DOKTOR_SOYAD  as cekimYapan,\\n&quot; +\n                            &quot;sifh.HASTA_GELIS_TRH as hstGelisTrh,\\n&quot; +\n                            &quot;dbo.IntegerIntoTime(sif.ISTEM_FS_SAAT) as hstGelisSaat,\\n&quot; +\n                            &quot;SBS_SAGLIK_RAPOR_ID as sbsSaglikRaporId,\\n&quot; +\n                            &quot;hrk.ISTSH_TRH  as sevkistemTrh,\\n&quot; +\n                            &quot;hrk.KABUL_TRH   as sevkkabulTrh,\\n&quot; +\n                            &quot;dbo.IntegerIntoTime(hrk.ISTSH_ISLEM_SAAT)  as sevkistemSaat,\\n&quot; +\n                            &quot;dbo.IntegerIntoTime(hrk.KABUL_SAAT )  as sevkkabulSaat,\\n&quot; +\n                            &quot;hrk.SEVK_ID as sevkId,NULL as teknisyen,\\n&quot; +\n                            &quot;hzm.HIZMET_SUT_KODU as Butce_Kodu,\\n&quot; +\n                            &quot;hzm.HIZMET_SUT_TANIMI as Butce_Tanimi,\\n&quot; +\n                            &quot;hrk.ISTSH_ID AS istem_Id\\n&quot;+\n\n                            &quot;from SBS_ISTEM_FIS  as sif  with(nolock)\\n&quot; +\n                            &quot;inner join SBS_ISTEM_FIS_HASTA as sifh with(nolock) on sif.ISTEM_FS_ID=sifh.SBS_ISTEM_FIS_ID and isnull(sif.PSF_ID,0)=0\\n&quot; +\n                            &quot;inner join SBS_ISTEM_HAREKET as hrk with(nolock) on sif.ISTEM_FS_ID=hrk.ISTEM_FIS_ID and isnull(hrk.PSF_ID,0)=0\\n&quot; +\n                            &quot;inner join SBS_ISTEM_FIS as siff        with(nolock) on siff.ISTEM_FS_ID=hrk.ISTEM_FIS_ID and (isnull(siff.PSF_ID,0)=0)\\n&quot; +\n                            &quot;inner join STOK_KART_HIZMET as hzm with(nolock) on hrk.ISTSH_STOKKART_ID = hzm.STOK_ID and (isnull(hzm.PSF_ID,0)=0)\\n&quot; +\n                            &quot;left join SBS_DOKTOR as sd with(nolock) on SD.KIMLIK_ID = HRK.UYGULAYACAK_HEKIM_KIMLIK_ID and (isnull(hzm.PSF_ID,0)=0)\\n&quot; +\n                            &quot;left join TUR_DETAY AS TD WITH(NOLOCK) ON TD.TUR_DETAY_ID=SD.CALISMA_TURU AND ISNULL(TD.PSF_ID,0)=0 AND (TD.TUR_DEGER_KOD='DISHEKIMI' or TD.TUR_DEGER_KOD='HEKIM')\\n&quot; +\n                            &quot;inner join SBS_HASTA  as hst with(nolock) on hst.HASTA_KIMLIK_ID=sifh.HASTA_KIMLIK_ID and isnull(hst.PSF_ID,0)=0\\n&quot; +\n                            &quot;inner join  KIMLIK as k  with(nolock) on   k.KIMLIK_ID =sifh.HASTA_KIMLIK_ID  and  isnull(k.PSF_ID,0)=0\\n&quot; +\n                            &quot;left join TUR_DETAY as tdc  with(nolock) on k.CINSIYET_TUR_ID = tdc.TUR_DETAY_ID  and  isnull(tdc.PSF_ID,0)=0\\n&quot; +\n                            &quot;left join SBS_GIZLI_HASTA as gh ON gh.TC_KIMLIK_NO = sifh.KIMLIK_TC_NO and (GETDATE() BETWEEN gh.MAHKEME_TARIHI AND hst.GIZLILIK_BITIS_TARIH) and ISNULL(gh.PSF_ID,0) = 0\\n&quot; +\n                            &quot;left join BIRIM as b  with(nolock)  on b.BIRIM_ID = sifh.HASTA_SERVIS_ID and isnull(b.PSF_ID,0)=0\\n&quot; +\n                            &quot;left join SBS_KLINIK as klinik  with(nolock) on b.BIRIM_ID = klinik.BIRIM_ID and isnull(klinik.PSF_ID,0)=0\\n&quot; +\n                            &quot;left join SBS_KLINIK_UST as ust  with(nolock) on klinik.KLINIK_UST_ID = ust.KLINIK_UST_ID and (ISNULL(ust.PSF_ID,0)=0)\\n&quot; +\n                            &quot;left join TUR_DETAY as klinikTur  with(nolock) on klinik.KLINIK_TUR_ID = klinikTur.TUR_DETAY_ID and isnull(klinikTur.PSF_ID,0)=0\\n&quot; +\n                            &quot;left join CARI_KURUM_TUR as ck  with(nolock) on  sifh.HASTA_KURUM_TUR_ID  = ck.KURUM_TUR_ID and isnull(ck.PSF_ID,0)=0\\n&quot; +\n                            &quot;left join CARI_KART as cari  with(nolock) on sifh.HASTA_KURUM_ID = cari.CARI_KART_ID and isnull(cari.PSF_ID,0)=0\\n&quot; +\n                            &quot;left join SBS_SIRA_TUR as siraTur  with(nolock)on hst.SIRA_TUR_ID = siraTur.SBS_SIRA_TUR_ID and isnull(siraTur.PSF_ID,0)=0\\n&quot; +\n                            &quot;left join BIRIM as br on br.BIRIM_ID =sif.ISTEM_FS_ISTEM_YAPAN_BIRIM_ID\\n&quot; +\n                            &quot;left join BIRIM as ustBirim on ustBirim.BIRIM_ID =br.UST_BIRIM_ID\\n&quot; +\n                            &quot;left join KAYIT_DURUM as tdKayitDurum with(nolock) on tdKayitDurum.KAYIT_DURUM_ID=hrk.ISTSH_KAYIT_DURUM_ID   and isnull(tdKayitDurum.PSF_ID,0)=0\\n&quot; +\n                            &quot;left join SBS_RONTGEN_CIHAZ as srck with(nolock) on srck.SBS_RONTGEN_CIHAZ_ID=hrk.RONTGEN_CIHAZ_ID  and isnull(srck.PSF_ID,0)=0\\n&quot; +\n                            &quot;left join BIRIM as rontgenBirim on  srck.RC_CIHAZ_SRVNO= rontgenBirim.BIRIM_ID\\n&quot; +\n                            &quot;left join BIRIM rontgenUstBirim on rontgenBirim.UST_BIRIM_ID =rontgenUstBirim.BIRIM_ID and rontgenUstBirim.BIRIM_ID =ustBirim.BIRIM_ID\\n&quot; +\n                            &quot;where (isnull(hrk.PSF_ID,0)=0)\\n&quot; +\n                            &quot;and (isnull(sifh.PSF_ID,0)=0)\\n&quot; +\n                            &quot;and  hzm.HIZMET_TUR  &amp;4 =4\\n&quot;);\n\n            if (sysFunc.getFilterInBaseFilterList(&quot;baslangicTrh&quot;, prmFilter).fieldValue != null &amp;&amp; sysFunc.getFilterInBaseFilterList(&quot;baslangicTrh&quot;, prmFilter).fieldValue != &quot;&quot;) {\n                sqlAna.append( &quot; and sifh.HASTA_GELIS_TRH &gt;= '&quot;+(sysFunc.getFilterInBaseFilterList(&quot;baslangicTrh&quot;, prmFilter).fieldValue.toString()) + &quot;'&quot; + &quot; \\n&quot;);\n            }\n            if (sysFunc.getFilterInBaseFilterList(&quot;bitisTrh&quot;, prmFilter).fieldValue != null &amp;&amp; sysFunc.getFilterInBaseFilterList(&quot;bitisTrh&quot;, prmFilter).fieldValue != &quot;&quot;) {\n                sqlAna.append( &quot; and sifh.HASTA_GELIS_TRH &lt;= '&quot;+(sysFunc.getFilterInBaseFilterList(&quot;bitisTrh&quot;, prmFilter).fieldValue.toString()) + &quot;'&quot; + &quot; \\n&quot;);\n            }\n            if (sysFunc.getFilterInBaseFilterList(&quot;hastaTcKimlikNo&quot;, prmFilter).fieldValue != null &amp;&amp; sysFunc.getFilterInBaseFilterList(&quot;hastaTcKimlikNo&quot;, prmFilter).fieldValue != &quot;&quot;) {\n                sqlAna.append( &quot; and sifh.KIMLIK_TC_NO = '&quot;+(sysFunc.getFilterInBaseFilterList(&quot;hastaTcKimlikNo&quot;, prmFilter).fieldValue.toString()) + &quot;'&quot; + &quot; \\n&quot;);\n            }\n            if (sysFunc.getFilterInBaseFilterList(&quot;birimAd&quot;, prmFilter).fieldValue != null &amp;&amp; sysFunc.getFilterInBaseFilterList(&quot;birimAd&quot;, prmFilter).fieldValue != &quot;&quot;) {\n                sqlAna.append( &quot; and sifh.HASTA_SERVIS_AD = '&quot;+(sysFunc.getFilterInBaseFilterList(&quot;birimAd&quot;, prmFilter).fieldValue.toString()) + &quot;'&quot; + &quot; \\n&quot;);\n            }\n            if (sysFunc.getFilterInBaseFilterList(&quot;hekimAdSoyad&quot;, prmFilter).fieldValue != null &amp;&amp; sysFunc.getFilterInBaseFilterList(&quot;hekimAdSoyad&quot;, prmFilter).fieldValue != &quot;&quot;) {\n                sqlAna.append( &quot; and sifh.HEKIM_AD_SOYAD = '&quot;+(sysFunc.getFilterInBaseFilterList(&quot;hekimAdSoyad&quot;, prmFilter).fieldValue.toString()) + &quot;'&quot; + &quot; \\n&quot;);\n            }\n            if (sysFunc.getFilterInBaseFilterList(&quot;hastaKodu&quot;, prmFilter).fieldValue != null &amp;&amp; sysFunc.getFilterInBaseFilterList(&quot;hastaKodu&quot;, prmFilter).fieldValue != &quot;&quot;) {\n                sqlAna.append( &quot; and hst.HASTA_KODU = '&quot;+(sysFunc.getFilterInBaseFilterList(&quot;hastaKodu&quot;, prmFilter).fieldValue.toString()) + &quot;'&quot; + &quot; \\n&quot;);\n            }\n            sqlAna.append(&quot;group by sifh.HASTA_KIMLIK_ID,&quot; + &quot; \\n&quot; );\n            sqlAna.append(&quot;sifh.HASTA_GELIS_ID,&quot; + &quot; \\n&quot;);\n            sqlAna.append(&quot;sifh.HST_GELIS_KOD,&quot; + &quot; \\n&quot; );\n            sqlAna.append(&quot;sifh.HASTA_AD_SOYAD,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;hst.HASTA_KODU,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;(sd.DOKTOR_AD +' ' + sd.DOKTOR_SOYAD),&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;(b.BIRIM_AD),&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;sifh.KIMLIK_TC_NO,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;ck.KURUM_TUR_TANIM,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;sifh.HASTA_KURUM_TUR_ID,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;dbo.IntegerIntoTime(sif.ISTEM_FS_SAAT),&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;cari.CARI_KART_ADI,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;cari.CARI_KART_ADI,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;klinikTur.TUR_DEGER_KOD,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;hst.SIRA_TUR_ID,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;siraTur.Ad,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;gh.HASTA_RUMUZ,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;hst.GIZLILIK_BITIS_TARIH,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;b.BIRIM_ID,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;sd.KIMLIK_ID,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;convert(date ,sif.ISTEM_FS_TRH ,102),&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;hrk.ISTEM_DURUM,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;cast(convert(date,sifh.KIMLIK_DOGUM_TRH,102) as nvarchar), &quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;ACCESSION_NUMBER,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;srck.RC_CIHAZ,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;srck.RC_CIHAZ_SEVK,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;sd.DOKTOR_AD + ' '  + sd.DOKTOR_SOYAD,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;sifh.HASTA_GELIS_TRH,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;sif.ISTEM_FS_SAAT,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;SBS_SAGLIK_RAPOR_ID,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;hrk.ISTSH_TRH,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;hrk.KABUL_TRH,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;dbo.IntegerIntoTime(hrk.ISTSH_ISLEM_SAAT),&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;dbo.IntegerIntoTime(hrk.KABUL_SAAT ),&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;hrk.SEVK_ID,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;hzm.HIZMET_SUT_KODU,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;hzm.HIZMET_SUT_TANIMI,&quot;  + &quot; \\n&quot;);\n            sqlAna.append(&quot;hrk.ISTSH_ID&quot;);\n\n            org.hibernate.Query queryListCount = hibernate().createSQLQuery(sqlAna.toString()).addScalar(&quot;hstGelisSaati&quot;,StringType.INSTANCE)\n                    .addScalar(&quot;istemDurum&quot;,IntegerType.INSTANCE).addScalar(&quot;accessionNumber&quot;, StringType.INSTANCE).addScalar(&quot;rcCihaz&quot;,StringType.INSTANCE)\n                    .addScalar(&quot;rcSevkDurum&quot;,IntegerType.INSTANCE).addScalar(&quot;cekimYapan&quot;,StringType.INSTANCE).addScalar(&quot;hstGelisTrh&quot;, DateType.INSTANCE)\n                    .addScalar(&quot;hstGelisSaat&quot;,IntegerType.INSTANCE).addScalar(&quot;sbsSaglikRaporId&quot;,IntegerType.INSTANCE).addScalar(&quot;sevkistemTrh&quot;,DateType.INSTANCE)\n                    .addScalar(&quot;sevkkabulTrh&quot;,DateType.INSTANCE).addScalar(&quot;sevkistemSaat&quot;,IntegerType.INSTANCE).addScalar(&quot;sevkkabulSaat&quot;,IntegerType.INSTANCE)\n                    .addScalar(&quot;teknisyen&quot;,StringType.INSTANCE).addScalar(&quot;Butce_Kodu&quot;,IntegerType.INSTANCE).addScalar(&quot;Butce_Tanimi&quot;,StringType.INSTANCE)\n                    .addScalar(&quot;istem_Id&quot;,IntegerType.INSTANCE);\n\n            liste = queryListCount.setResultTransformer(Transformers.aliasToBean(SbsKlinikSevkUI.class)).list();\n            //sih.ACIL_ONCELIK_TURU ,sih.ISTSH_ISLEM_SAAT,SHRU.HST_GELIS_SAAT, sih.ACCESSION_NUMBER,sih.KABUL_TRH\n            response.setData(liste);\n            response.setTotal(liste.size());\n            response.setSuccessful(true);\n        } catch (Exception e) {\n            e.printStackTrace();\n            response.setSuccessful(false);\n            response.setMessageCode(&quot;SISTEM.ERROR.0001&quot;);\n        }\n        return response;\n</code></pre>\n<p>UIModel.java:</p>\n<pre><code>private String hstGelisSaati;\n\nprivate Integer istemDurum;\n\nprivate String accessionNumber;\n\nprivate String rcCihaz;\n\nprivate Integer rcSevkDurum;\n\nprivate String cekimYapan;\n\nprivate Date hstGelisTrh;\n\nprivate Integer hstGelisSaat;\n\nprivate Integer sbsSaglikRaporId;\n\nprivate Date sevkistemTrh;\n\nprivate Date sevkkabulTrh;\n\nprivate Integer sevkistemSaat;\n\nprivate Integer sevkkabulSaat;\n\nprivate Integer Butce_Kodu;\n\nprivate String Butce_Tanimi;\n\nprivate Integer istem_Id;\n\n\npublic String getHstGelisSaati() {\n        return hstGelisSaati;\n    }\n\n    public void setHstGelisSaati(String hstGelisSaati) {\n        this.hstGelisSaati = hstGelisSaati;\n    }\n\n public Integer getIstemDurum() {\n        return istemDurum;\n    }\n\n    public void setIstemDurum(Integer istemDurum) {\n        this.istemDurum = istemDurum;\n    }\n\n    public String getAccessionNumber() {\n        return accessionNumber;\n    }\n\n    public void setAccessionNumber(String accessionNumber) {\n        this.accessionNumber = accessionNumber;\n    }\n\n    public Integer getRcSevkDurum() {\n        return rcSevkDurum;\n    }\n\n    public void setRcSevkDurum(Integer rcSevkDurum) {\n        this.rcSevkDurum = rcSevkDurum;\n    }\n\n    public String getCekimYapan() { \n        return cekimYapan; }\n\n    public void setCekimYapan(String cekimYapan) { \n        this.cekimYapan = cekimYapan; }\n\n    public Date getHstGelisTrh() {\n        return hstGelisTrh;\n    }\n\n    public void setHstGelisTrh(Date hstGelisTrh) {\n        this.hstGelisTrh = hstGelisTrh;\n    }\n   \n    public Integer getHstGelisSaat() {\n        return hstGelisSaat;\n    }\n\n    public void setHstGelisSaat(Integer hstGelisSaat) {\n        this.hstGelisSaat = hstGelisSaat;\n    }\n\n    public Integer getSbsSaglikRaporId() {\n        return sbsSaglikRaporId;\n    }\n\n    public void setSbsSaglikRaporId(Integer sbsSaglikRaporId) {\n        this.sbsSaglikRaporId = sbsSaglikRaporId;\n    }\n\n    public Date getsevkistemTrh() {\n        return sevkistemTrh;\n    }\n\n    public void setsevkistemTrh(Date sevkistemTrh) {\n        this.sevkistemTrh = sevkistemTrh;\n    }\n\n    public Date getsevkkabulTrh() {\n        return sevkkabulTrh;\n    }\n\n    public void setsevkkabulTrh(Date sevkkabulTrh) {\n        this.sevkkabulTrh = sevkkabulTrh;\n    }\n\n    public Integer getsevkistemSaat() {\n        return sevkistemSaat;\n    }\n\n    public void setsevkistemSaat(Integer sevkistemSaat) {\n        this.sevkistemSaat = sevkistemSaat;\n    }\n\n    public Integer getsevkkabulSaat() {\n        return sevkkabulSaat;\n    }\n\n    public void setsevkkabulSaat(Integer sevkkabulSaat) {\n        this.sevkkabulSaat = sevkkabulSaat;\n    }\n\n    public Integer getButce_Kodu() {\n        return Butce_Kodu;\n    }\n\n    public void setButce_Kodu(Integer Butce_Kodu) {\n        this.Butce_Kodu = Butce_Kodu;\n    }\n\n    public String getButce_Tanimi() {\n        return Butce_Tanimi;\n    }\n\n    public void setButce_Tanimi(String Butce_Tanimi) {\n        this.Butce_Tanimi = Butce_Tanimi;\n    }\n\n    public Integer getIstem_Id() {\n        return istem_Id;\n    }\n\n    public void setistem_Id(Integer istem_Id) {\n        this.istem_Id = istem_Id;\n    }\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1FphM.png\" rel=\"nofollow noreferrer\">the error</a></p>\n"},{"tags":["java","spring-boot","junit","springmockito"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670586047,"post_id":74742588,"comment_id":131913498,"body_markdown":"You&#39;re test doesn&#39;t define `referentialAdapter`. Please provide a [mre] and the stacktrace of the exception. Generally this means you didn&#39;t properly set up your mock. Also, I don&#39;t think combining Mockito and Spring in this way works.","body":"You&#39;re test doesn&#39;t define <code>referentialAdapter</code>. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the stacktrace of the exception. Generally this means you didn&#39;t properly set up your mock. Also, I don&#39;t think combining Mockito and Spring in this way works."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670586939,"post_id":74742588,"comment_id":131913724,"body_markdown":"As far as I&#39;m aware `@ExtendWith(SpringExtension.class)` doesn&#39;t apply Mockito. Maybe you want `@ExtendWith(MockitoExtension.class)` instead.","body":"As far as I&#39;m aware <code>@ExtendWith(SpringExtension.class)</code> doesn&#39;t apply Mockito. Maybe you want <code>@ExtendWith(MockitoExtension.class)</code> instead."},{"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"score":0,"creation_date":1670587520,"post_id":74742588,"comment_id":131913910,"body_markdown":"i&#39;ve updated my question, even with MockitoExtension, it throw an exception when call the execute() method.","body":"i&#39;ve updated my question, even with MockitoExtension, it throw an exception when call the execute() method."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670587722,"post_id":74742588,"comment_id":131913959,"body_markdown":"I rather expect a `NullPointerException` on `.where(whereCondition)`, not on `.execute()` as you haven&#39;t setup your mock, meaning that `queryFactory.update(..)` returns `null`.","body":"I rather expect a <code>NullPointerException</code> on <code>.where(whereCondition)</code>, not on <code>.execute()</code> as you haven&#39;t setup your mock, meaning that <code>queryFactory.update(..)</code> returns <code>null</code>."},{"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"score":0,"creation_date":1670595144,"post_id":74742588,"comment_id":131916393,"body_markdown":"i do agree, cause when i evaluate the expression of queryFactory, i see that templates and entityManager are null","body":"i do agree, cause when i evaluate the expression of queryFactory, i see that templates and entityManager are null"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670595283,"post_id":74742588,"comment_id":131916432,"body_markdown":"That is the problem with using mocks. You have to configure the mock correctly, or it doesn&#39;t work. You may want to consider whether this isn&#39;t better served by testing against an actual database (e.g. using testcontainers-java).","body":"That is the problem with using mocks. You have to configure the mock correctly, or it doesn&#39;t work. You may want to consider whether this isn&#39;t better served by testing against an actual database (e.g. using testcontainers-java)."}],"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670587835,"creation_date":1670585804,"question_id":74742588,"body_markdown":"I have this method to update a table in DB, it works correctly, until I create the unit test for it:\r\n\r\n   \r\n\r\n     public class ReferentialAdapter {\r\n            private final JPAQueryFactory queryFactory;\r\n            \r\n            public void enableServiceConfigs(String roleCode, String countryIsoCode, List&lt;String&gt; services) {\r\n                QServiceConfigEntity qServiceConfigEntity = QServiceConfigEntity.serviceConfigEntity;\r\n                QCountryRoleEntity qCountryRoleEntity = QCountryRoleEntity.countryRoleEntity;\r\n                QServiceEntity qServiceEntity = QServiceEntity.serviceEntity;\r\n                JPQLQuery&lt;Long&gt; countryRoleId = JPAExpressions.select(qCountryRoleEntity.id).from(qCountryRoleEntity)\r\n                        .where(qCountryRoleEntity.country.isoCode.equalsIgnoreCase(countryIsoCode).and(qCountryRoleEntity.role.code.equalsIgnoreCase(roleCode)));\r\n        \r\n                BooleanExpression whereCondition = qServiceConfigEntity.countryRole.id.eq(countryRoleId)\r\n                        .and(qServiceConfigEntity.service.id.in(serviceIds));\r\n\r\n                queryFactory.update(qServiceConfigEntity)\r\n                        .where(whereCondition)\r\n                        .set(qServiceConfigEntity.isEnabled, Boolean.TRUE)\r\n                        .execute();\r\n            }\r\n        }\r\n\r\nconfiguration for JPAQueryFactory:\r\n\r\n    @Configuration\r\n    public class QueryDslConfig {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        @Bean\r\n        public JPAQueryFactory jpaQueryFactory() {\r\n            return new JPAQueryFactory(entityManager);\r\n        }\r\n    }\r\n\r\n\r\nbut this test throw a null pointer exception when call the execute() for the update.\r\n\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class ReferentialAdapterTest {\r\n    \r\n        @Mock\r\n        private  JPAQueryFactory queryFactory;\r\n    \r\n        @InjectMocks\r\n        private ReferentialAdapter referentialAdapter;\r\n      \r\n        @Test\r\n        void shouldEnableServicesConfig() {\r\n            String roleCode = &quot;CA_ICS_HBE&quot;;\r\n            String countryIsoCode= &quot;FR&quot;;\r\n            List&lt;String&gt; services = Arrays.asList(&quot;VT&quot; , &quot;CAF&quot;);\r\n            referentialAdapter.enableServiceConfigs(roleCode,countryIsoCode,services);\r\n            verify(queryFactory,times(1)).update(any());\r\n        }\r\n    }\r\n\r\n","title":"Null pointer when creating a unit test for JPAQueryFactory","body":"<p>I have this method to update a table in DB, it works correctly, until I create the unit test for it:</p>\n<pre><code> public class ReferentialAdapter {\n        private final JPAQueryFactory queryFactory;\n        \n        public void enableServiceConfigs(String roleCode, String countryIsoCode, List&lt;String&gt; services) {\n            QServiceConfigEntity qServiceConfigEntity = QServiceConfigEntity.serviceConfigEntity;\n            QCountryRoleEntity qCountryRoleEntity = QCountryRoleEntity.countryRoleEntity;\n            QServiceEntity qServiceEntity = QServiceEntity.serviceEntity;\n            JPQLQuery&lt;Long&gt; countryRoleId = JPAExpressions.select(qCountryRoleEntity.id).from(qCountryRoleEntity)\n                    .where(qCountryRoleEntity.country.isoCode.equalsIgnoreCase(countryIsoCode).and(qCountryRoleEntity.role.code.equalsIgnoreCase(roleCode)));\n    \n            BooleanExpression whereCondition = qServiceConfigEntity.countryRole.id.eq(countryRoleId)\n                    .and(qServiceConfigEntity.service.id.in(serviceIds));\n\n            queryFactory.update(qServiceConfigEntity)\n                    .where(whereCondition)\n                    .set(qServiceConfigEntity.isEnabled, Boolean.TRUE)\n                    .execute();\n        }\n    }\n</code></pre>\n<p>configuration for JPAQueryFactory:</p>\n<pre><code>@Configuration\npublic class QueryDslConfig {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Bean\n    public JPAQueryFactory jpaQueryFactory() {\n        return new JPAQueryFactory(entityManager);\n    }\n}\n</code></pre>\n<p>but this test throw a null pointer exception when call the execute() for the update.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ReferentialAdapterTest {\n\n    @Mock\n    private  JPAQueryFactory queryFactory;\n\n    @InjectMocks\n    private ReferentialAdapter referentialAdapter;\n  \n    @Test\n    void shouldEnableServicesConfig() {\n        String roleCode = &quot;CA_ICS_HBE&quot;;\n        String countryIsoCode= &quot;FR&quot;;\n        List&lt;String&gt; services = Arrays.asList(&quot;VT&quot; , &quot;CAF&quot;);\n        referentialAdapter.enableServiceConfigs(roleCode,countryIsoCode,services);\n        verify(queryFactory,times(1)).update(any());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-el"],"answers":[{"tags":[],"owner":{"account_id":3549643,"reputation":2077,"user_id":2964811,"display_name":"nndru"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1413454827,"creation_date":1413438105,"answer_id":26397010,"question_id":26396859,"body_markdown":"Please, use next expression `#{T(java.lang.String).format(&#39;%d-%d&#39;, user.id, user.serviceId)}`. \r\nHope this helps.\r\n\r\n**Update.**\r\n\r\nIf this expression will be used within `@Cacheable(key)` field, please update expression in next way: `T(java.lang.String).format(&#39;%d-%d&#39;, #user.id, #user.serviceId)`.","title":"Concatenate two integers in Spring EL","body":"<p>Please, use next expression <code>#{T(java.lang.String).format('%d-%d', user.id, user.serviceId)}</code>. \nHope this helps.</p>\n\n<p><strong>Update.</strong></p>\n\n<p>If this expression will be used within <code>@Cacheable(key)</code> field, please update expression in next way: <code>T(java.lang.String).format('%d-%d', #user.id, #user.serviceId)</code>.</p>\n"},{"tags":[],"owner":{"account_id":20087529,"reputation":1,"user_id":15739237,"display_name":"Aliaksei Halkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670587831,"creation_date":1670587831,"answer_id":74742961,"question_id":26396859,"body_markdown":"I added it and it really works in java spring booot caches:\r\n\r\n    @Cacheable(cacheNames = ALL_CLASS_MKTU_BY_RESH_DATA, key = &quot;{T(java.lang.String).format(\\&quot;%d-%d-%d\\&quot;,#id,#year,#type)}&quot;)\r\n    public List&lt;String&gt; findAll(int id, int year, int type) {\r\n//\r\n}","title":"Concatenate two integers in Spring EL","body":"<p>I added it and it really works in java spring booot caches:</p>\n<pre><code>@Cacheable(cacheNames = ALL_CLASS_MKTU_BY_RESH_DATA, key = &quot;{T(java.lang.String).format(\\&quot;%d-%d-%d\\&quot;,#id,#year,#type)}&quot;)\npublic List&lt;String&gt; findAll(int id, int year, int type) {\n</code></pre>\n<p>//\n}</p>\n"}],"owner":{"account_id":2008573,"reputation":5307,"user_id":1797689,"accept_rate":67,"display_name":"khateeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6161,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":26397010,"answer_count":2,"score":5,"last_activity_date":1670587831,"creation_date":1413437418,"question_id":26396859,"body_markdown":"I want to create a Spring EL in which I want that two integers be concatenated as `a-b` with `a` and `b` being integers. Spring EL does not support `concat` function with integers as they are not `String`s. I have tried to cast them like `#T(java.lang.String).valueOf(user.id).concat(&#39;-&#39;).concat(#T(java.lang.String).valueOf(user.serviceId))` but this is not working.\r\n\r\nWhat should be the correct expression?","title":"Concatenate two integers in Spring EL","body":"<p>I want to create a Spring EL in which I want that two integers be concatenated as <code>a-b</code> with <code>a</code> and <code>b</code> being integers. Spring EL does not support <code>concat</code> function with integers as they are not <code>String</code>s. I have tried to cast them like <code>#T(java.lang.String).valueOf(user.id).concat('-').concat(#T(java.lang.String).valueOf(user.serviceId))</code> but this is not working.</p>\n\n<p>What should be the correct expression?</p>\n"},{"tags":["java","physics","simulation"],"answers":[{"tags":[],"owner":{"account_id":362769,"reputation":6323,"user_id":706138,"accept_rate":100,"display_name":"adlawson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1310847629,"creation_date":1310847629,"answer_id":6719977,"question_id":6719956,"body_markdown":"To understand physics, you must first understand maths. Attempting to write a physics engine without using mathematical equations is like making a cake without ingredients.\r\n\r\nEntire careers are built on creating physics engines, so my advice is to either use an existing engine, or get your books out.","title":"How should I program a simulation of physics?","body":"<p>To understand physics, you must first understand maths. Attempting to write a physics engine without using mathematical equations is like making a cake without ingredients.</p>\n\n<p>Entire careers are built on creating physics engines, so my advice is to either use an existing engine, or get your books out.</p>\n"},{"tags":[],"owner":{"account_id":234269,"reputation":21022,"user_id":500314,"accept_rate":100,"display_name":"Kipton Barros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1310847680,"creation_date":1310847680,"answer_id":6719984,"question_id":6719956,"body_markdown":"Building a physics simulator can be a lot of work. Two dimensions is considerably simpler than three, so maybe you want to start with 2D. You might want to begin with an existing package like [JBox2D][1]. It has a constraint solver, friction, etc. You can build on top of JBox2D or study how it works.\r\n\r\nAn HTML5 version is available with online demos: [GWTBox2D][2]\r\n\r\n\r\n  [1]: http://www.jbox2d.org/\r\n  [2]: http://gwtbox2d.appspot.com/","title":"How should I program a simulation of physics?","body":"<p>Building a physics simulator can be a lot of work. Two dimensions is considerably simpler than three, so maybe you want to start with 2D. You might want to begin with an existing package like <a href=\"http://www.jbox2d.org/\" rel=\"nofollow\">JBox2D</a>. It has a constraint solver, friction, etc. You can build on top of JBox2D or study how it works.</p>\n\n<p>An HTML5 version is available with online demos: <a href=\"http://gwtbox2d.appspot.com/\" rel=\"nofollow\">GWTBox2D</a></p>\n"},{"tags":[],"owner":{"account_id":227164,"reputation":19782,"user_id":488657,"display_name":"Bart"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1670587578,"creation_date":1310848106,"answer_id":6720025,"question_id":6719956,"body_markdown":"Creating a physics engine is hard. (Very hard). But it can also be a lot of fun. Well, fun in a &quot;why am I doing this to myself?&quot; kind of way.\r\n\r\nAssuming your have a fair grasp of the maths involved*, and assuming you&#39;re interested in Rigid Body Dynamics there are a couple of classic references to start with:\r\n\r\n- First of all Chris Hecker&#39;s [Rigid Body Dynamics tutorials][1]\r\n- And of course Witkin and Baraff&#39;s [SIGGRAPH course][2]\r\n\r\nThose are good places to start and will provide more than enough of a challenge for you.\r\n\r\nYou could also look at [Box2D][3] by Erin Catto and his associated [GDC tutorials][4] which you can download. \r\n\r\nFor more specific help, the forums for [Bullet][5] also contain a sub-section where you can discuss and ask questions once you have understood some of the basics. \r\n\r\n*If you don&#39;t have this fair grasp, learn. If you&#39;re not willing to, don&#39;t try and just use an existing engine. If this is your very first programming experience, just focus on the programming first. Don&#39;t get yourself overwhelmed. \r\n\r\nGood luck. \r\n\r\n\r\n  [1]: https://www.chrishecker.com/Rigid_Body_Dynamics\r\n  [2]: http://www.cs.cmu.edu/~baraff/sigcourse/\r\n  [3]: http://www.box2d.org/\r\n  [4]: http://code.google.com/p/box2d/downloads/list\r\n  [5]: http://www.bulletphysics.com/","title":"How should I program a simulation of physics?","body":"<p>Creating a physics engine is hard. (Very hard). But it can also be a lot of fun. Well, fun in a &quot;why am I doing this to myself?&quot; kind of way.</p>\n<p>Assuming your have a fair grasp of the maths involved*, and assuming you're interested in Rigid Body Dynamics there are a couple of classic references to start with:</p>\n<ul>\n<li>First of all Chris Hecker's <a href=\"https://www.chrishecker.com/Rigid_Body_Dynamics\" rel=\"nofollow noreferrer\">Rigid Body Dynamics tutorials</a></li>\n<li>And of course Witkin and Baraff's <a href=\"http://www.cs.cmu.edu/%7Ebaraff/sigcourse/\" rel=\"nofollow noreferrer\">SIGGRAPH course</a></li>\n</ul>\n<p>Those are good places to start and will provide more than enough of a challenge for you.</p>\n<p>You could also look at <a href=\"http://www.box2d.org/\" rel=\"nofollow noreferrer\">Box2D</a> by Erin Catto and his associated <a href=\"http://code.google.com/p/box2d/downloads/list\" rel=\"nofollow noreferrer\">GDC tutorials</a> which you can download.</p>\n<p>For more specific help, the forums for <a href=\"http://www.bulletphysics.com/\" rel=\"nofollow noreferrer\">Bullet</a> also contain a sub-section where you can discuss and ask questions once you have understood some of the basics.</p>\n<p>*If you don't have this fair grasp, learn. If you're not willing to, don't try and just use an existing engine. If this is your very first programming experience, just focus on the programming first. Don't get yourself overwhelmed.</p>\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":3444851,"reputation":249,"user_id":2885905,"display_name":"Daneos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484927065,"creation_date":1484927065,"answer_id":41767452,"question_id":6719956,"body_markdown":"There is a program called Easy Java Simulations\r\nthat does exactly what you want!\r\nYou can create java applets and has many of the visual objects ready.\r\nYou can also write java code and subprograms.\r\n\r\nvisit    http://fem.um.es/Ejs/    to download.\r\n","title":"How should I program a simulation of physics?","body":"<p>There is a program called Easy Java Simulations\nthat does exactly what you want!\nYou can create java applets and has many of the visual objects ready.\nYou can also write java code and subprograms.</p>\n\n<p>visit    <a href=\"http://fem.um.es/Ejs/\" rel=\"nofollow noreferrer\">http://fem.um.es/Ejs/</a>    to download.</p>\n"}],"owner":{"account_id":782798,"reputation":91,"user_id":848113,"display_name":"Mahendra Chouhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22166,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":4,"score":8,"last_activity_date":1670587578,"creation_date":1310847402,"question_id":6719956,"body_markdown":"I am trying to create a Java package that can be used to write simulation programs.\r\nMy goal is to create &#39;objects&#39; like springs or solid objects like cubes and spheres. They will have mass, velocity, gravity etc. and they can interact with each other. \r\n\r\nI have seen some simulation programs on [www.myphysicslab.com][1] but my problem is that I don&#39;t want to write different equations for different senarios. Is there any way to do this? I am new to programming.\r\n\r\n\r\n  [1]: http://www.myphysicslab.com","title":"How should I program a simulation of physics?","body":"<p>I am trying to create a Java package that can be used to write simulation programs.\nMy goal is to create 'objects' like springs or solid objects like cubes and spheres. They will have mass, velocity, gravity etc. and they can interact with each other. </p>\n\n<p>I have seen some simulation programs on <a href=\"http://www.myphysicslab.com\" rel=\"noreferrer\">www.myphysicslab.com</a> but my problem is that I don't want to write different equations for different senarios. Is there any way to do this? I am new to programming.</p>\n"},{"tags":["java","java-8","hashmap","java-stream"],"comments":[{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1545801742,"post_id":53927656,"comment_id":94696734,"body_markdown":"Return all the employees whose gender is M.","body":"Return all the employees whose gender is M."}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1545841765,"creation_date":1545801216,"answer_id":53927683,"question_id":53927656,"body_markdown":"You could simply iterate on the key-value pairs and filter as:\r\n\r\n\r\n    Map&lt;String, Map&lt;String, Employee&gt;&gt; output = new HashMap&lt;&gt;();\r\n    tempCollection.forEach((k, v) -&gt; {\r\n        if (v.values().stream().anyMatch(i -&gt; &quot;M&quot;.equals(i.getGender()))) {\r\n            output.put(k, v.entrySet()\r\n                    .stream()\r\n                    .filter(i -&gt; &quot;M&quot;.equals(i.getValue().getGender()))\r\n                    .collect(toMap(Map.Entry::getKey, Map.Entry::getValue)));\r\n        }\r\n    });","title":"Java 8 Stream filter map in map -- Map&lt;String,Map&lt;String,Employee&gt;&gt;","body":"<p>You could simply iterate on the key-value pairs and filter as:</p>\n\n<pre><code>Map&lt;String, Map&lt;String, Employee&gt;&gt; output = new HashMap&lt;&gt;();\ntempCollection.forEach((k, v) -&gt; {\n    if (v.values().stream().anyMatch(i -&gt; \"M\".equals(i.getGender()))) {\n        output.put(k, v.entrySet()\n                .stream()\n                .filter(i -&gt; \"M\".equals(i.getValue().getGender()))\n                .collect(toMap(Map.Entry::getKey, Map.Entry::getValue)));\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545804669,"creation_date":1545801397,"answer_id":53927692,"question_id":53927656,"body_markdown":"Seems like what you&#39;re after is given a `Entry&lt;String,Map&lt;String,Employee&gt;&gt;` if there&#39;s any employee who has a gender of &quot;M&quot; then filter the inner `Map&lt;String,Employee&gt;` to contain only entries with a gender &quot;M&quot;.\r\n\r\n\r\nin which case you can `filter` along with `anyMatch` for the first criterion. Further, at the collecting phase, you can then apply the filtering on the inner map:\r\n\r\n    tempCollection.entrySet().stream()\r\n                .filter(i -&gt; i.getValue().values().stream().anyMatch(e -&gt; &quot;M&quot;.equals(e.getGender())))\r\n                .collect(toMap(Map.Entry::getKey,\r\n                        v -&gt; v.getValue().entrySet().stream()\r\n                                .filter(i -&gt; &quot;M&quot;.equals(i.getValue().getGender()))\r\n                                .collect(toMap(Map.Entry::getKey, Map.Entry::getValue))));\r\n\r\n","title":"Java 8 Stream filter map in map -- Map&lt;String,Map&lt;String,Employee&gt;&gt;","body":"<p>Seems like what you're after is given a <code>Entry&lt;String,Map&lt;String,Employee&gt;&gt;</code> if there's any employee who has a gender of \"M\" then filter the inner <code>Map&lt;String,Employee&gt;</code> to contain only entries with a gender \"M\".</p>\n\n<p>in which case you can <code>filter</code> along with <code>anyMatch</code> for the first criterion. Further, at the collecting phase, you can then apply the filtering on the inner map:</p>\n\n<pre><code>tempCollection.entrySet().stream()\n            .filter(i -&gt; i.getValue().values().stream().anyMatch(e -&gt; \"M\".equals(e.getGender())))\n            .collect(toMap(Map.Entry::getKey,\n                    v -&gt; v.getValue().entrySet().stream()\n                            .filter(i -&gt; \"M\".equals(i.getValue().getGender()))\n                            .collect(toMap(Map.Entry::getKey, Map.Entry::getValue))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28891,"reputation":10658,"user_id":77542,"accept_rate":100,"display_name":"Tordek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545801441,"creation_date":1545801441,"answer_id":53927697,"question_id":53927656,"body_markdown":"The function `allMatch` only matches if every element in the stream matches the predicate; you can use `anyMatch` to match if any element matches the predicate:\r\n\r\n    tempCollection.entrySet().stream()\r\n                            .filter(i -&gt; i.getValue().entrySet().stream().anyMatch(e-&gt; &quot;M&quot;.equals(e.getValue().getGender())))\r\n                            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));","title":"Java 8 Stream filter map in map -- Map&lt;String,Map&lt;String,Employee&gt;&gt;","body":"<p>The function <code>allMatch</code> only matches if every element in the stream matches the predicate; you can use <code>anyMatch</code> to match if any element matches the predicate:</p>\n\n<pre><code>tempCollection.entrySet().stream()\n                        .filter(i -&gt; i.getValue().entrySet().stream().anyMatch(e-&gt; \"M\".equals(e.getValue().getGender())))\n                        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545807805,"creation_date":1545807457,"answer_id":53928509,"question_id":53927656,"body_markdown":"You may do it like so,\r\n\r\n    Map&lt;String, Map&lt;String, Employee&gt;&gt; maleEmpMap = tempCollection.entrySet().stream()\r\n    \t.map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(e.getKey(),\r\n    \t\te.getValue().entrySet().stream().filter(emp -&gt; &quot;M&quot;.equals(emp.getValue().getGender()))\r\n    \t\t\t\t.collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue))))\r\n    \t.collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\nTake each map entry from the outer map and create a new map entry using the same key and the newly constructed nested map with the same key and which has only male employees as it&#39;s value. Finally collect all those matching entries into a new outer map. This will gracefully handle the empty scenario which you mentioned in the problem statement above.","title":"Java 8 Stream filter map in map -- Map&lt;String,Map&lt;String,Employee&gt;&gt;","body":"<p>You may do it like so,</p>\n\n<pre><code>Map&lt;String, Map&lt;String, Employee&gt;&gt; maleEmpMap = tempCollection.entrySet().stream()\n    .map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(e.getKey(),\n        e.getValue().entrySet().stream().filter(emp -&gt; \"M\".equals(emp.getValue().getGender()))\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue))))\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n\n<p>Take each map entry from the outer map and create a new map entry using the same key and the newly constructed nested map with the same key and which has only male employees as it's value. Finally collect all those matching entries into a new outer map. This will gracefully handle the empty scenario which you mentioned in the problem statement above.</p>\n"},{"tags":[],"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545807534,"creation_date":1545807534,"answer_id":53928528,"question_id":53927656,"body_markdown":"Other way would be like this: \r\n\r\n\r\n    map.values()\r\n         .removeIf(entry-&gt;entry.values().stream().anyMatch(e -&gt; !&quot;M&quot;.equals(e.getGender())));\r\n\r\n    map.entrySet()\r\n        .removeIf(entry-&gt;entry.getValue().size() == 0);","title":"Java 8 Stream filter map in map -- Map&lt;String,Map&lt;String,Employee&gt;&gt;","body":"<p>Other way would be like this: </p>\n\n<pre><code>map.values()\n     .removeIf(entry-&gt;entry.values().stream().anyMatch(e -&gt; !\"M\".equals(e.getGender())));\n\nmap.entrySet()\n    .removeIf(entry-&gt;entry.getValue().size() == 0);\n</code></pre>\n"}],"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1228,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":53927683,"answer_count":5,"score":4,"last_activity_date":1670587436,"creation_date":1545800972,"question_id":53927656,"body_markdown":"How to filter a `Map&lt;String,Map&lt;String,Employee&gt;&gt;` using Java 8 Filter?\r\n\r\nI have to filter only when any of employee in the list having a field value Gender = &quot;M&quot;.\r\n\r\nInput: \r\n\r\n&gt; `Map&lt;String,Map&lt;String,Employee&gt;&gt;`\r\n\r\nOutput: \r\n\r\n&gt; `Map&lt;String,Map&lt;String,Employee&gt;&gt;`\r\n\r\nFilter criteria: \r\n\r\n&gt; `Employee.genter = &quot;M&quot;`\r\n\r\nAlso i have to return empty map if the filtered result is empty.\r\n\r\nI tried the below, but it is not working as expected. It is returning the only if all the Employees are with gender &quot;M&quot;.\r\n\r\n\r\n    tempCollection.entrySet().stream()\r\n                            .filter(i -&gt; i.getValue().entrySet().stream().allMatch(e-&gt; &quot;M&quot;.equals(e.getValue().getGender())))\r\n                            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));","title":"Java 8 Stream filter map in map -- Map&lt;String,Map&lt;String,Employee&gt;&gt;","body":"<p>How to filter a <code>Map&lt;String,Map&lt;String,Employee&gt;&gt;</code> using Java 8 Filter?</p>\n\n<p>I have to filter only when any of employee in the list having a field value Gender = \"M\".</p>\n\n<p>Input: </p>\n\n<blockquote>\n  <p><code>Map&lt;String,Map&lt;String,Employee&gt;&gt;</code></p>\n</blockquote>\n\n<p>Output: </p>\n\n<blockquote>\n  <p><code>Map&lt;String,Map&lt;String,Employee&gt;&gt;</code></p>\n</blockquote>\n\n<p>Filter criteria: </p>\n\n<blockquote>\n  <p><code>Employee.genter = \"M\"</code></p>\n</blockquote>\n\n<p>Also i have to return empty map if the filtered result is empty.</p>\n\n<p>I tried the below, but it is not working as expected. It is returning the only if all the Employees are with gender \"M\".</p>\n\n<pre><code>tempCollection.entrySet().stream()\n                        .filter(i -&gt; i.getValue().entrySet().stream().allMatch(e-&gt; \"M\".equals(e.getValue().getGender())))\n                        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666884156,"post_id":74224456,"comment_id":131045508,"body_markdown":"&quot;if it&#39;s not for shorten version&quot; what do you mean?","body":"&quot;if it&#39;s not for shorten version&quot; what do you mean?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666884437,"creation_date":1666884167,"answer_id":74224511,"question_id":74224456,"body_markdown":"You&#39;re using the `PriorityQueue` constructor that [takes a Comparator as argument](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/PriorityQueue.html#%3Cinit%3E(java.util.Comparator)). The aim is to prioritize things as follows: If it has a smaller &#39;count&#39; value, then it should come earlier in the queue (be higher prio).\r\n\r\nI guess in old java you could do:\r\n\r\n```\r\nQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;(new Comparator&lt;Integer&gt;() {\r\n  public int compare(Integer n1, Integer n2) {\r\n    return count.get(n1) - count.get(n2);\r\n  }\r\n});\r\n```\r\n\r\nThe return value is interpreted as follows: If negative, that means `n1` comes before `n2`. If positive, `n1` comes after. If `0` they are equal or at least comparatively at the same &#39;level&#39;. It doesn&#39;t matter what negative number you pass. `a - b` is a cheesy way to do &#39;a comes before b if a is smaller&#39;, and can be dangerous if you have very large numbers - presumably that doesn&#39;t apply here.\r\n\r\nThe better way to write this would have been:\r\n\r\n```\r\nnew PriorityQueue&lt;&gt;(Comparator.comparingInt(count::get));\r\n```\r\n\r\nwhich more clearly states what you&#39;re trying to _do_, which is, prioritize on the result of invoking `count.get()`, passing as argument the thing in the queue.\r\n","title":"Java lambda expression? how does this interprete?","body":"<p>You're using the <code>PriorityQueue</code> constructor that <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/PriorityQueue.html#%3Cinit%3E(java.util.Comparator)\" rel=\"nofollow noreferrer\">takes a Comparator as argument</a>. The aim is to prioritize things as follows: If it has a smaller 'count' value, then it should come earlier in the queue (be higher prio).</p>\n<p>I guess in old java you could do:</p>\n<pre><code>Queue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;(new Comparator&lt;Integer&gt;() {\n  public int compare(Integer n1, Integer n2) {\n    return count.get(n1) - count.get(n2);\n  }\n});\n</code></pre>\n<p>The return value is interpreted as follows: If negative, that means <code>n1</code> comes before <code>n2</code>. If positive, <code>n1</code> comes after. If <code>0</code> they are equal or at least comparatively at the same 'level'. It doesn't matter what negative number you pass. <code>a - b</code> is a cheesy way to do 'a comes before b if a is smaller', and can be dangerous if you have very large numbers - presumably that doesn't apply here.</p>\n<p>The better way to write this would have been:</p>\n<pre><code>new PriorityQueue&lt;&gt;(Comparator.comparingInt(count::get));\n</code></pre>\n<p>which more clearly states what you're trying to <em>do</em>, which is, prioritize on the result of invoking <code>count.get()</code>, passing as argument the thing in the queue.</p>\n"}],"owner":{"account_id":26751012,"reputation":3,"user_id":20350366,"display_name":"Jin Kim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666884673,"accepted_answer_id":74224511,"answer_count":1,"score":0,"last_activity_date":1670587276,"creation_date":1666883953,"question_id":74224456,"body_markdown":"    class Solution {\r\n        public int[] topKFrequent(int[] nums, int k) {\r\n    \r\n            if (k == nums.length) {\r\n                return nums;\r\n            }\r\n     \r\n            Map&lt;Integer, Integer&gt; count = new HashMap();\r\n            for (int n: nums) {\r\n              count.put(n, count.getOrDefault(n, 0) + 1);\r\n            }\r\n    \r\n            Queue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;(\r\n            (n1, n2) -&gt; count.get(n1) - count.get(n2));\r\n    \r\n            for (int n: count.keySet()) {\r\n              heap.add(n);\r\n              if (heap.size() &gt; k) heap.poll();    \r\n            }\r\n    \r\n            int[] top = new int[k];\r\n            for(int i = k - 1; i &gt;= 0; --i) {\r\n                top[i] = heap.poll();\r\n            }\r\n            return top;\r\n        }\r\n    }\r\n\r\nso this is answer to one of leetcode problem to find top k frequent element.\r\n\r\n\r\n`Input: nums = [1,1,1,2,2,3], k = 2\r\nOutput: [1,2]`\r\n\r\n\r\n\r\n\r\nhow does (n1, n2) -&gt; count.get(n1) - count.get(n2) be written if it&#39;s not for shorten version?\r\n\r\n\r\n\r\n","title":"Java lambda expression? how does this interprete?","body":"<pre><code>class Solution {\n    public int[] topKFrequent(int[] nums, int k) {\n\n        if (k == nums.length) {\n            return nums;\n        }\n \n        Map&lt;Integer, Integer&gt; count = new HashMap();\n        for (int n: nums) {\n          count.put(n, count.getOrDefault(n, 0) + 1);\n        }\n\n        Queue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;(\n        (n1, n2) -&gt; count.get(n1) - count.get(n2));\n\n        for (int n: count.keySet()) {\n          heap.add(n);\n          if (heap.size() &gt; k) heap.poll();    \n        }\n\n        int[] top = new int[k];\n        for(int i = k - 1; i &gt;= 0; --i) {\n            top[i] = heap.poll();\n        }\n        return top;\n    }\n}\n</code></pre>\n<p>so this is answer to one of leetcode problem to find top k frequent element.</p>\n<p><code>Input: nums = [1,1,1,2,2,3], k = 2 Output: [1,2]</code></p>\n<p>how does (n1, n2) -&gt; count.get(n1) - count.get(n2) be written if it's not for shorten version?</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1522808494,"post_id":49641713,"comment_id":86291091,"body_markdown":"`Stream.sorted()` is an [intermediate  operation](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps); it doesn&#39;t modify the underlying list. Just do `allACFs.sort(Comparator.comparing(o -&gt; o.getType().getCode()));`.","body":"<code>Stream.sorted()</code> is an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">intermediate  operation</a>; it doesn&#39;t modify the underlying list. Just do <code>allACFs.sort(Comparator.comparing(o -&gt; o.getType().getCode()));</code>."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1522808489,"creation_date":1522808489,"answer_id":49641768,"question_id":49641713,"body_markdown":"Your custom comparator is not being called because you did not request any items from the stream. Therefore, sorting operation is *deferred* until you want to harvest the results of sorting.\r\n\r\nIf you want to force the call, invoke `collect(Collectors.toList())` on the stream:\r\n\r\n    List&lt;Interface&gt; list = allACFs.stream().sorted(new Comparator&lt;Interface&gt;() {\r\n        @Override\r\n        public int compare(Interface o1, Interface o2) {\r\n            System.out.println(o1.getType().getCode()+&quot; : &quot;+o2.getType().getCode()+&quot; &gt; &quot;+o1.getType().getCode().compareTo(o2.getType().getCode()));\r\n            return o1.getType().getCode().compareTo(o2.getType().getCode());\r\n        }\r\n    }).collect(Collectors.toList());","title":"Java 8 Lambda Sort is not getting called","body":"<p>Your custom comparator is not being called because you did not request any items from the stream. Therefore, sorting operation is <em>deferred</em> until you want to harvest the results of sorting.</p>\n\n<p>If you want to force the call, invoke <code>collect(Collectors.toList())</code> on the stream:</p>\n\n<pre><code>List&lt;Interface&gt; list = allACFs.stream().sorted(new Comparator&lt;Interface&gt;() {\n    @Override\n    public int compare(Interface o1, Interface o2) {\n        System.out.println(o1.getType().getCode()+\" : \"+o2.getType().getCode()+\" &gt; \"+o1.getType().getCode().compareTo(o2.getType().getCode()));\n        return o1.getType().getCode().compareTo(o2.getType().getCode());\n    }\n}).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":2029599,"reputation":3268,"user_id":1813696,"accept_rate":33,"display_name":"Debopam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49641768,"answer_count":1,"score":3,"last_activity_date":1670587245,"creation_date":1522808111,"question_id":49641713,"body_markdown":"I have a list of data. I would like to sort using a custom comparator. I have following code but it is not getting executed. Could you please let me know what is wrong.\r\n\r\nI tried with allACFs data type as `java.util.Collection`.\r\n\r\n    List&lt;Interface&gt; allACFs =  (List&lt;Interface&gt;) SearchUtil.seacrh(individualiterator, SearchUtil.startswith(&quot;type.code&quot;, &quot;ACF&quot;));\r\n    \t\t\t\r\n    allACFs.stream().sorted(new Comparator&lt;Interface&gt;() {\r\n    \r\n    \t@Override\r\n    \tpublic int compare(Interface o1, Interface o2) {\r\n    \t\tSystem.out.println(o1.getType().getCode()+&quot; : &quot;+o2.getType().getCode()+&quot; &gt; &quot;+o1.getType().getCode().compareTo(o2.getType().getCode()));\r\n    \t\treturn o1.getType().getCode().compareTo(o2.getType().getCode());\r\n    \t}\r\n    });","title":"Java 8 Lambda Sort is not getting called","body":"<p>I have a list of data. I would like to sort using a custom comparator. I have following code but it is not getting executed. Could you please let me know what is wrong.</p>\n\n<p>I tried with allACFs data type as <code>java.util.Collection</code>.</p>\n\n<pre><code>List&lt;Interface&gt; allACFs =  (List&lt;Interface&gt;) SearchUtil.seacrh(individualiterator, SearchUtil.startswith(\"type.code\", \"ACF\"));\n\nallACFs.stream().sorted(new Comparator&lt;Interface&gt;() {\n\n    @Override\n    public int compare(Interface o1, Interface o2) {\n        System.out.println(o1.getType().getCode()+\" : \"+o2.getType().getCode()+\" &gt; \"+o1.getType().getCode().compareTo(o2.getType().getCode()));\n        return o1.getType().getCode().compareTo(o2.getType().getCode());\n    }\n});\n</code></pre>\n"},{"tags":["java","wiremock"],"answers":[{"tags":[],"owner":{"account_id":7735936,"reputation":91,"user_id":5857525,"display_name":"monsIgnore"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1552316226,"creation_date":1534242737,"answer_id":51839365,"question_id":50078978,"body_markdown":"What exactly do you want to achieve?\r\nYou normally have Wiremock configurations which have different request parameters or overlapping. In your case they are exactly the same. In which case should be the first and which case should the second be shown?\r\n\r\nWiremock will always return only exactly one answer. This answer is normally determined by evaluation of the request parameters you defined in your Wiremock configuration.\r\nplease refer to this description on how Wiremock and priorities work: [Wiremock Stubbing and priorities][1]\r\n\r\nIn case there are overlapping parameters, Wiremock will choose the configuration you added most recently (in your case the second).\r\nOr you can guide Wiremock by setting priorities. A priority which is lower will be used in preference.\r\n\r\nNormally you have a more general case (with less request parameters - as catch-up) and a more specific case. The first will get a higher prio (e.g. 9) and the latter a lower one (e.q. 5).\r\nSo the latter will be choosen in preference if request parameters match and in other cases the second one.\r\n\r\n[1]: http://wiremock.org/docs/stubbing/","title":"How to use &quot;Priorities&quot; in wiremock","body":"<p>What exactly do you want to achieve?\nYou normally have Wiremock configurations which have different request parameters or overlapping. In your case they are exactly the same. In which case should be the first and which case should the second be shown?</p>\n\n<p>Wiremock will always return only exactly one answer. This answer is normally determined by evaluation of the request parameters you defined in your Wiremock configuration.\nplease refer to this description on how Wiremock and priorities work: <a href=\"http://wiremock.org/docs/stubbing/\" rel=\"noreferrer\">Wiremock Stubbing and priorities</a></p>\n\n<p>In case there are overlapping parameters, Wiremock will choose the configuration you added most recently (in your case the second).\nOr you can guide Wiremock by setting priorities. A priority which is lower will be used in preference.</p>\n\n<p>Normally you have a more general case (with less request parameters - as catch-up) and a more specific case. The first will get a higher prio (e.g. 9) and the latter a lower one (e.q. 5).\nSo the latter will be choosen in preference if request parameters match and in other cases the second one.</p>\n"},{"tags":[],"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1592733586,"creation_date":1592195128,"answer_id":62381321,"question_id":50078978,"body_markdown":"As @monsIgnore stated, for overlapping parameters the most recently added mapping that matches those parameters will be chosen.\r\n\r\nWhen I initially looked at the request matching in wiremock I thought that the most exact match would be chosen.\r\n\r\nBy &#39;most exact&#39; I mean the one that matched the most number of elements in the request. For example, given these two mappings (added in this order):\r\n\r\n### Mapping 1\r\n```\r\n  &quot;request&quot; : {\r\n    &quot;url&quot; : &quot;/oauth2/rest/consent&quot;,\r\n    &quot;method&quot; : &quot;GET&quot;,\r\n    &quot;headers&quot; : {\r\n      &quot;Cookie&quot; : {\r\n        &quot;equalTo&quot; : &quot;OAM_ID=VERSION_5&quot;\r\n      }\r\n    }\r\n  } \r\n```\r\n### Mapping 2\r\n\r\n```\r\n &quot;request&quot; : {\r\n    &quot;url&quot; : &quot;/oauth2/rest/consent&quot;,\r\n    &quot;method&quot; : &quot;GET&quot;\r\n  }\r\n```\r\nIf a request is received for url `/oauth2/rest/consent` and an OAM_ID cookie of `VERSION_5` then the mapping that matches the most elements is **Mapping 1**.\r\n\r\nHowever **Mapping 2** is chosen since it matches and it was the most recently added.\r\n\r\nIn this case by adding priorities to the Mappings you can ensure that the request with the cookie is matched against **Mapping 1**.\r\n\r\nPriorities are necessary because it&#39;s not always obvious what the most exact match is. For example if there was a third mapping:\r\n\r\n### Mapping 3\r\n```\r\n  &quot;request&quot; : {\r\n    &quot;url&quot; : &quot;/oauth2/rest/consent&quot;,\r\n    &quot;method&quot; : &quot;GET&quot;,\r\n    &quot;headers&quot; : {\r\n      &quot;Authorization&quot; : {\r\n        &quot;equalTo&quot; : &quot;Basic dXNlcjpwYXNzd29yZA==&quot;\r\n      }\r\n    },\r\n  } \r\n```\r\nIf a request arrived that had the cookie from **Mapping 1** and the Authorization header from **Mapping 3**, then it&#39;s not possible to determine the most exact match for the request.\r\n\r\nThey both match 3 elements each. This is where priorities come in.\r\n","title":"How to use &quot;Priorities&quot; in wiremock","body":"<p>As @monsIgnore stated, for overlapping parameters the most recently added mapping that matches those parameters will be chosen.</p>\n<p>When I initially looked at the request matching in wiremock I thought that the most exact match would be chosen.</p>\n<p>By 'most exact' I mean the one that matched the most number of elements in the request. For example, given these two mappings (added in this order):</p>\n<h3>Mapping 1</h3>\n<pre><code>  &quot;request&quot; : {\n    &quot;url&quot; : &quot;/oauth2/rest/consent&quot;,\n    &quot;method&quot; : &quot;GET&quot;,\n    &quot;headers&quot; : {\n      &quot;Cookie&quot; : {\n        &quot;equalTo&quot; : &quot;OAM_ID=VERSION_5&quot;\n      }\n    }\n  } \n</code></pre>\n<h3>Mapping 2</h3>\n<pre><code> &quot;request&quot; : {\n    &quot;url&quot; : &quot;/oauth2/rest/consent&quot;,\n    &quot;method&quot; : &quot;GET&quot;\n  }\n</code></pre>\n<p>If a request is received for url <code>/oauth2/rest/consent</code> and an OAM_ID cookie of <code>VERSION_5</code> then the mapping that matches the most elements is <strong>Mapping 1</strong>.</p>\n<p>However <strong>Mapping 2</strong> is chosen since it matches and it was the most recently added.</p>\n<p>In this case by adding priorities to the Mappings you can ensure that the request with the cookie is matched against <strong>Mapping 1</strong>.</p>\n<p>Priorities are necessary because it's not always obvious what the most exact match is. For example if there was a third mapping:</p>\n<h3>Mapping 3</h3>\n<pre><code>  &quot;request&quot; : {\n    &quot;url&quot; : &quot;/oauth2/rest/consent&quot;,\n    &quot;method&quot; : &quot;GET&quot;,\n    &quot;headers&quot; : {\n      &quot;Authorization&quot; : {\n        &quot;equalTo&quot; : &quot;Basic dXNlcjpwYXNzd29yZA==&quot;\n      }\n    },\n  } \n</code></pre>\n<p>If a request arrived that had the cookie from <strong>Mapping 1</strong> and the Authorization header from <strong>Mapping 3</strong>, then it's not possible to determine the most exact match for the request.</p>\n<p>They both match 3 elements each. This is where priorities come in.</p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670587200,"creation_date":1610564769,"answer_id":65708327,"question_id":50078978,"body_markdown":"Setting stub priority is supported in WireMock.\r\n-----------------------------------------------\r\n\r\nBy default, WireMock will use the most recently added matching stub to satisfy the request. \r\n\r\nYou can add priority in Java code by using `atPriority`:\r\n```\r\nstubFor(get(urlMatching(&quot;/api/.*&quot;)).atPriority(5)\r\n``` \r\nor in JSON by adding:\r\n```\r\n&quot;priority&quot;: 1\r\n``` \r\n\r\nRead more on this [here](https://wiremock.org/docs/stubbing/#stub-priority)\r\n\r\n","title":"How to use &quot;Priorities&quot; in wiremock","body":"<h2>Setting stub priority is supported in WireMock.</h2>\n<p>By default, WireMock will use the most recently added matching stub to satisfy the request.</p>\n<p>You can add priority in Java code by using <code>atPriority</code>:</p>\n<pre><code>stubFor(get(urlMatching(&quot;/api/.*&quot;)).atPriority(5)\n</code></pre>\n<p>or in JSON by adding:</p>\n<pre><code>&quot;priority&quot;: 1\n</code></pre>\n<p>Read more on this <a href=\"https://wiremock.org/docs/stubbing/#stub-priority\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":13431079,"reputation":161,"user_id":9690898,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14832,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1670587200,"creation_date":1524934744,"question_id":50078978,"body_markdown":"I want to understand how priorities work. More specifically, what is the expected output of setting priorities to stub. There&#39;s limited documentation on this and the ones available doesn&#39;t really explain what the output would look like so I&#39;m unable to verify if I have implemented it correctly.\r\n\r\nThis is my current code:\r\n\r\n        stubFor(post(urlMatching(&quot;/user/test\\\\?(and)\\\\=(que).*&quot;)).atPriority(1)\r\n        .willReturn(aResponse()\r\n                  .withStatus(200)\r\n                          .withHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;)\r\n                          .withBody(&quot;This stub is testing for Title &quot;)\r\n                  )\r\n            );   \r\n            \r\n       System.out.println(&quot;About to execute the second stub&quot;);\r\n                stubFor(post(urlMatching(&quot;/user/test\\\\?(and)\\\\=(que).*&quot;)).atPriority(2)\r\n        .willReturn(aResponse()\r\n                  .withStatus(200)\r\n                          .withHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;)\r\n                          .withBody(&quot;This stub is testing Author ID &quot;)\r\n                  )\r\n            );\r\n            \r\n                System.out.println(&quot;Second stub executed&quot;);\r\n\r\nI&#39;m sending the following request from SOAPUI:\r\n\r\n    /user/test?and=query \r\n\r\nTherefore both stubs should be executed and I should receive two responses correct?\r\n\r\nI&#39;m currently receiving only one response and that is from the stub that has priority 1. I&#39;m not getting any response from the stub that has priority 2/\r\n\r\nCan someone please help me on this?\r\n\r\n ","title":"How to use &quot;Priorities&quot; in wiremock","body":"<p>I want to understand how priorities work. More specifically, what is the expected output of setting priorities to stub. There's limited documentation on this and the ones available doesn't really explain what the output would look like so I'm unable to verify if I have implemented it correctly.</p>\n\n<p>This is my current code:</p>\n\n<pre><code>    stubFor(post(urlMatching(\"/user/test\\\\?(and)\\\\=(que).*\")).atPriority(1)\n    .willReturn(aResponse()\n              .withStatus(200)\n                      .withHeader(\"Content-Type\", \"text/plain\")\n                      .withBody(\"This stub is testing for Title \")\n              )\n        );   \n\n   System.out.println(\"About to execute the second stub\");\n            stubFor(post(urlMatching(\"/user/test\\\\?(and)\\\\=(que).*\")).atPriority(2)\n    .willReturn(aResponse()\n              .withStatus(200)\n                      .withHeader(\"Content-Type\", \"text/plain\")\n                      .withBody(\"This stub is testing Author ID \")\n              )\n        );\n\n            System.out.println(\"Second stub executed\");\n</code></pre>\n\n<p>I'm sending the following request from SOAPUI:</p>\n\n<pre><code>/user/test?and=query \n</code></pre>\n\n<p>Therefore both stubs should be executed and I should receive two responses correct?</p>\n\n<p>I'm currently receiving only one response and that is from the stub that has priority 1. I'm not getting any response from the stub that has priority 2/</p>\n\n<p>Can someone please help me on this?</p>\n"},{"tags":["java","android","email","smtp"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670590110,"post_id":74742807,"comment_id":131914768,"body_markdown":"Is it only when you try to send an attachment?","body":"Is it only when you try to send an attachment?"},{"owner":{"account_id":7627120,"reputation":613,"user_id":5783253,"accept_rate":43,"display_name":"Vijaya Varma Lanke"},"score":0,"creation_date":1670645112,"post_id":74742807,"comment_id":131926822,"body_markdown":"@blackapps even unable to send a simple mail too. Thank u","body":"@blackapps even unable to send a simple mail too. Thank u"}],"owner":{"account_id":7627120,"reputation":613,"user_id":5783253,"accept_rate":43,"display_name":"Vijaya Varma Lanke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670587072,"creation_date":1670587072,"question_id":74742807,"body_markdown":"gave so many trails to send an attachment over mail but getting this error &quot;javax.mail.MessagingException: Could not connect to SMTP host: smtp.gmail.com, port: 587;\r\n  nested exception is: java.net.NoRouteToHostException: Host unreachable&quot;\r\n\r\nNot getting what went wrong please find the below coding details\r\n\r\nOn button click calling the JavaMailAPI and passing the mailing details f=of both sender the receiver\r\n\r\n\r\nJavaMailAPI.java\r\n\r\n \r\n\r\n        public class JavaMailAPI extends javax.mail.Authenticator {\r\n        private String mailhost = &quot;smtp.gmail.com&quot;;\r\n        private String user;\r\n        private String password;\r\n        private Session session;\r\n        private Multipart _multipart = new MimeMultipart();\r\n        static {\r\n            Security.addProvider(new com.example.sendmail.JSSEProvider());\r\n        }\r\n        public JavaMailAPI(String user, String password) {\r\n            this.user = user;\r\n            this.password = password;\r\n            Properties props = new Properties();\r\n            props.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n            props.setProperty(&quot;mail.host&quot;, mailhost);\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n            props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;587&quot;);\r\n            props.put(&quot;mail.smtp.socketFactory.class&quot;,\r\n                    &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n            props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n            props.setProperty(&quot;mail.smtp.quitwait&quot;, &quot;false&quot;);\r\n            session = Session.getDefaultInstance(props, this);\r\n        }\r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n            return new PasswordAuthentication(user, password);\r\n        }\r\n        public synchronized void sendMail(String subject, String body,\r\n                                          String sender, String recipients) throws Exception {\r\n            try {\r\n                MimeMessage message = new MimeMessage(session);\r\n                DataHandler handler = new DataHandler(new ByteArrayDataSource(\r\n                        body.getBytes(), &quot;text/plain&quot;));\r\n                message.setSender(new InternetAddress(sender));\r\n                message.setSubject(subject);\r\n                message.setDataHandler(handler);\r\n                BodyPart messageBodyPart = new MimeBodyPart();\r\n                messageBodyPart.setText(body);\r\n                _multipart.addBodyPart(messageBodyPart);\r\n                // Put parts in message\r\n                message.setContent(_multipart);\r\n                if (recipients.indexOf(&#39;,&#39;) &gt; 0)\r\n                    message.setRecipients(Message.RecipientType.TO,\r\n                            InternetAddress.parse(recipients));\r\n                else\r\n                    message.setRecipient(Message.RecipientType.TO,\r\n                            new InternetAddress(recipients));\r\n                Transport.send(message);\r\n            } catch (Exception e) {\r\n            e.printStackTrace();\r\n            }\r\n        }\r\n        public void addAttachment(String filename) throws Exception {\r\n            BodyPart messageBodyPart = new MimeBodyPart();\r\n            DataSource source = new FileDataSource(filename);\r\n            messageBodyPart.setDataHandler(new DataHandler(source));\r\n            messageBodyPart.setFileName(&quot;download image&quot;);\r\n            _multipart.addBodyPart(messageBodyPart);\r\n        }\r\n        public class ByteArrayDataSource implements DataSource {\r\n            private byte[] data;\r\n            private String type;\r\n            public ByteArrayDataSource(byte[] data, String type) {\r\n                super();\r\n                this.data = data;\r\n                this.type = type;\r\n            }\r\n            public ByteArrayDataSource(byte[] data) {\r\n                super();\r\n                this.data = data;\r\n            }\r\n            public void setType(String type) {\r\n                this.type = type;\r\n            }\r\n            public String getContentType() {\r\n                if (type == null)\r\n                    return &quot;application/octet-stream&quot;;\r\n                else\r\n                    return type;\r\n            }\r\n            public InputStream getInputStream() throws IOException {\r\n                return new ByteArrayInputStream(data);\r\n            }\r\n            public String getName() {\r\n                return &quot;ByteArrayDataSource&quot;;\r\n            }\r\n            public OutputStream getOutputStream() throws IOException {\r\n                throw new IOException(&quot;Not Supported&quot;);\r\n            }\r\n        }\r\n        }\r\n\r\n   \r\nJSSEProvider.java\r\n\r\n   \r\n\r\n     public final class JSSEProvider extends Provider {\r\n        public JSSEProvider() {\r\n            super(&quot;HarmonyJSSE&quot;, 1.0, &quot;Harmony JSSE Provider&quot;);\r\n            AccessController\r\n                    .doPrivileged(new java.security.PrivilegedAction&lt;Void&gt;() {\r\n                        public Void run() {\r\n                            put(&quot;SSLContext.TLS&quot;,\r\n                                    &quot;org.apache.harmony.xnet.provider.jsse.SSLContextImpl&quot;);\r\n                            put(&quot;Alg.Alias.SSLContext.TLSv1&quot;, &quot;TLS&quot;);\r\n                            put(&quot;KeyManagerFactory.X509&quot;,\r\n                                \r\n\r\n    &quot;org.apache.harmony.xnet.provider.jsse.KeyManagerFactoryImpl&quot;);\r\n                            put(&quot;TrustManagerFactory.X509&quot;,\r\n                                    &quot;org.apache.harmony.xnet.provider.jsse.TrustManagerFactoryImpl&quot;);\r\n                            return null;\r\n                        }\r\n                    });\r\n        }\r\n        }\r\n\r\nAdd added the below jars in gradle\r\n\r\n    implementation files(&#39;libs/activation.jar&#39;)\r\n    implementation files(&#39;libs/additionnal.jar&#39;)\r\n    implementation files(&#39;libs/mail.jar&#39;)\r\n\r\nAnd added Internet permission in manifest\r\n\r\nNot getting what went wrong, please help me out to get it solved. Thank u\r\n\r\n","title":"Could not connect to SMTP host: smtp.gmail.com, port: 587 in android","body":"<p>gave so many trails to send an attachment over mail but getting this error &quot;javax.mail.MessagingException: Could not connect to SMTP host: smtp.gmail.com, port: 587;\nnested exception is: java.net.NoRouteToHostException: Host unreachable&quot;</p>\n<p>Not getting what went wrong please find the below coding details</p>\n<p>On button click calling the JavaMailAPI and passing the mailing details f=of both sender the receiver</p>\n<p>JavaMailAPI.java</p>\n<pre><code>    public class JavaMailAPI extends javax.mail.Authenticator {\n    private String mailhost = &quot;smtp.gmail.com&quot;;\n    private String user;\n    private String password;\n    private Session session;\n    private Multipart _multipart = new MimeMultipart();\n    static {\n        Security.addProvider(new com.example.sendmail.JSSEProvider());\n    }\n    public JavaMailAPI(String user, String password) {\n        this.user = user;\n        this.password = password;\n        Properties props = new Properties();\n        props.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n        props.setProperty(&quot;mail.host&quot;, mailhost);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;587&quot;);\n        props.put(&quot;mail.smtp.socketFactory.class&quot;,\n                &quot;javax.net.ssl.SSLSocketFactory&quot;);\n        props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\n        props.setProperty(&quot;mail.smtp.quitwait&quot;, &quot;false&quot;);\n        session = Session.getDefaultInstance(props, this);\n    }\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication(user, password);\n    }\n    public synchronized void sendMail(String subject, String body,\n                                      String sender, String recipients) throws Exception {\n        try {\n            MimeMessage message = new MimeMessage(session);\n            DataHandler handler = new DataHandler(new ByteArrayDataSource(\n                    body.getBytes(), &quot;text/plain&quot;));\n            message.setSender(new InternetAddress(sender));\n            message.setSubject(subject);\n            message.setDataHandler(handler);\n            BodyPart messageBodyPart = new MimeBodyPart();\n            messageBodyPart.setText(body);\n            _multipart.addBodyPart(messageBodyPart);\n            // Put parts in message\n            message.setContent(_multipart);\n            if (recipients.indexOf(',') &gt; 0)\n                message.setRecipients(Message.RecipientType.TO,\n                        InternetAddress.parse(recipients));\n            else\n                message.setRecipient(Message.RecipientType.TO,\n                        new InternetAddress(recipients));\n            Transport.send(message);\n        } catch (Exception e) {\n        e.printStackTrace();\n        }\n    }\n    public void addAttachment(String filename) throws Exception {\n        BodyPart messageBodyPart = new MimeBodyPart();\n        DataSource source = new FileDataSource(filename);\n        messageBodyPart.setDataHandler(new DataHandler(source));\n        messageBodyPart.setFileName(&quot;download image&quot;);\n        _multipart.addBodyPart(messageBodyPart);\n    }\n    public class ByteArrayDataSource implements DataSource {\n        private byte[] data;\n        private String type;\n        public ByteArrayDataSource(byte[] data, String type) {\n            super();\n            this.data = data;\n            this.type = type;\n        }\n        public ByteArrayDataSource(byte[] data) {\n            super();\n            this.data = data;\n        }\n        public void setType(String type) {\n            this.type = type;\n        }\n        public String getContentType() {\n            if (type == null)\n                return &quot;application/octet-stream&quot;;\n            else\n                return type;\n        }\n        public InputStream getInputStream() throws IOException {\n            return new ByteArrayInputStream(data);\n        }\n        public String getName() {\n            return &quot;ByteArrayDataSource&quot;;\n        }\n        public OutputStream getOutputStream() throws IOException {\n            throw new IOException(&quot;Not Supported&quot;);\n        }\n    }\n    }\n</code></pre>\n<p>JSSEProvider.java</p>\n<pre><code> public final class JSSEProvider extends Provider {\n    public JSSEProvider() {\n        super(&quot;HarmonyJSSE&quot;, 1.0, &quot;Harmony JSSE Provider&quot;);\n        AccessController\n                .doPrivileged(new java.security.PrivilegedAction&lt;Void&gt;() {\n                    public Void run() {\n                        put(&quot;SSLContext.TLS&quot;,\n                                &quot;org.apache.harmony.xnet.provider.jsse.SSLContextImpl&quot;);\n                        put(&quot;Alg.Alias.SSLContext.TLSv1&quot;, &quot;TLS&quot;);\n                        put(&quot;KeyManagerFactory.X509&quot;,\n                            \n\n&quot;org.apache.harmony.xnet.provider.jsse.KeyManagerFactoryImpl&quot;);\n                        put(&quot;TrustManagerFactory.X509&quot;,\n                                &quot;org.apache.harmony.xnet.provider.jsse.TrustManagerFactoryImpl&quot;);\n                        return null;\n                    }\n                });\n    }\n    }\n</code></pre>\n<p>Add added the below jars in gradle</p>\n<pre><code>implementation files('libs/activation.jar')\nimplementation files('libs/additionnal.jar')\nimplementation files('libs/mail.jar')\n</code></pre>\n<p>And added Internet permission in manifest</p>\n<p>Not getting what went wrong, please help me out to get it solved. Thank u</p>\n"},{"tags":["java","spring","gradle","build","sts"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1670581979,"post_id":74741798,"comment_id":131912333,"body_markdown":"Try `gradle clean build -x test --stacktrace`.","body":"Try <code>gradle clean build -x test --stacktrace</code>."},{"owner":{"account_id":1457010,"reputation":671,"user_id":1372349,"display_name":"Hillkorn"},"score":0,"creation_date":1670586066,"post_id":74741798,"comment_id":131913501,"body_markdown":"Also try running clean alone and then in another run only build. In case tasks are not properly connected it can happen that tasks related to build do run and clean runs in between. It&#39;s also a bad practice in general to run clean and build together.","body":"Also try running clean alone and then in another run only build. In case tasks are not properly connected it can happen that tasks related to build do run and clean runs in between. It&#39;s also a bad practice in general to run clean and build together."},{"owner":{"account_id":10376585,"reputation":41,"user_id":7652607,"display_name":"ram"},"score":0,"creation_date":1670587139,"post_id":74741798,"comment_id":131913781,"body_markdown":"Had done clean and build actions  separately but still facing the same issue...added the stack trace for the same...i have even deleted the demon folder under .gradle but it is of no use.","body":"Had done clean and build actions  separately but still facing the same issue...added the stack trace for the same...i have even deleted the demon folder under .gradle but it is of no use."}],"owner":{"account_id":10376585,"reputation":41,"user_id":7652607,"display_name":"ram"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670587046,"creation_date":1670581593,"question_id":74741798,"body_markdown":"I am new to gradle and not able to debug the following issue whenever I am trying to build any project.\r\nI am using the command  (gradle clean build) \r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\norg/gradle/api/internal/ExternalProcessStartedListener\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI am using gradle version 7.4.2\r\n\r\nAny help is greatly appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iwZDP.jpg\r\n  [2]: https://i.stack.imgur.com/ik3EI.jpg","title":"Gradle: Build getting failed with exception: org/gradle/ api/internal/ExternalProcessStartedListener","body":"<p>I am new to gradle and not able to debug the following issue whenever I am trying to build any project.\nI am using the command  (gradle clean build)</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\norg/gradle/api/internal/ExternalProcessStartedListener</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/iwZDP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iwZDP.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ik3EI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ik3EI.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I am using gradle version 7.4.2</p>\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["java","caching","ignite","jta","thin"],"answers":[{"tags":[],"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670585799,"creation_date":1670585799,"answer_id":74742587,"question_id":74740600,"body_markdown":"Currently you need to use a thick-client if you want to participate in JTA transactions.","title":"Can I use JTA manager for IgniteThinClient?","body":"<p>Currently you need to use a thick-client if you want to participate in JTA transactions.</p>\n"}],"owner":{"account_id":21142680,"reputation":11,"user_id":15544686,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670585799,"creation_date":1670574985,"question_id":74740600,"body_markdown":"I use thin client for caches. I need to attach a JTA transaction manager to thinClient. Can Ignite ThinClient use a JTA transaction manager? I couldn&#39;t find a property for setting JTA manager in ClientTransactionConfiguration. TransactionConfiguration has a function setTxManagerFactory to set transaction manager JTA factory, but TransactionConfiguration isn&#39;t compatible with ThinClient, it applies to fat IgniteClient.\r\n\r\n\r\n\r\n```\r\npublic ClientTransactionConfiguration transactionConfiguration() {\r\n    final ClientTransactionConfiguration configuration = new ClientTransactionConfiguration();\r\n    // configuration.setTxManagerFactory(webSphereTmFactory());\r\n    configuration.setDefaultTxIsolation(TransactionIsolation.READ_COMMITTED);\r\n    configuration.setDefaultTxConcurrency(TransactionConcurrency.PESSIMISTIC);\r\n    //  configuration.setUseJtaSynchronization(true);\r\n    return configuration;}\r\n```\r\n\r\n\r\n\r\n","title":"Can I use JTA manager for IgniteThinClient?","body":"<p>I use thin client for caches. I need to attach a JTA transaction manager to thinClient. Can Ignite ThinClient use a JTA transaction manager? I couldn't find a property for setting JTA manager in ClientTransactionConfiguration. TransactionConfiguration has a function setTxManagerFactory to set transaction manager JTA factory, but TransactionConfiguration isn't compatible with ThinClient, it applies to fat IgniteClient.</p>\n<pre><code>public ClientTransactionConfiguration transactionConfiguration() {\n    final ClientTransactionConfiguration configuration = new ClientTransactionConfiguration();\n    // configuration.setTxManagerFactory(webSphereTmFactory());\n    configuration.setDefaultTxIsolation(TransactionIsolation.READ_COMMITTED);\n    configuration.setDefaultTxConcurrency(TransactionConcurrency.PESSIMISTIC);\n    //  configuration.setUseJtaSynchronization(true);\n    return configuration;}\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":210224,"reputation":1660,"user_id":461712,"accept_rate":97,"display_name":"Etienne Marais"},"score":2,"creation_date":1287053933,"post_id":3932382,"comment_id":4196090,"body_markdown":"Is there a reason you choose not to use recursion? in some cases its faster than doing it without.","body":"Is there a reason you choose not to use recursion? in some cases its faster than doing it without."},{"owner":{"account_id":95267,"reputation":7150,"user_id":259562,"accept_rate":91,"display_name":"dierre"},"score":0,"creation_date":1287054134,"post_id":3932382,"comment_id":4196114,"body_markdown":"Because I don&#39;t know how many directories will be in a wildecarded directory so I was thinking about memory issues.","body":"Because I don&#39;t know how many directories will be in a wildecarded directory so I was thinking about memory issues."},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1287054240,"post_id":3932382,"comment_id":4196135,"body_markdown":"Did you check http://stackoverflow.com/questions/1086907/can-find-or-any-other-tool-search-for-files-breadth-first","body":"Did you check <a href=\"http://stackoverflow.com/questions/1086907/can-find-or-any-other-tool-search-for-files-breadth-first\" title=\"can find or any other tool search for files breadth first\">stackoverflow.com/questions/1086907/&hellip;</a>"},{"owner":{"account_id":95267,"reputation":7150,"user_id":259562,"accept_rate":91,"display_name":"dierre"},"score":0,"creation_date":1287054492,"post_id":3932382,"comment_id":4196170,"body_markdown":"well, my software should work under both windows and linux, using find breaks interoperability, right?","body":"well, my software should work under both windows and linux, using find breaks interoperability, right?"},{"owner":{"account_id":123211,"reputation":1039,"user_id":317553,"display_name":"Carl D&#252;vel"},"score":2,"creation_date":1287054677,"post_id":3932382,"comment_id":4196201,"body_markdown":"I think there is actually no better solution than recursion here - if you are really expecting to run into memory issues what seems to be really unlikely giving the fact that you work on directories here you could limit the recursion depth. But first I would check the maximum possible directory depth of your filesystem - chances are good that this value already renders your worries unfounded.","body":"I think there is actually no better solution than recursion here - if you are really expecting to run into memory issues what seems to be really unlikely giving the fact that you work on directories here you could limit the recursion depth. But first I would check the maximum possible directory depth of your filesystem - chances are good that this value already renders your worries unfounded."},{"owner":{"account_id":95267,"reputation":7150,"user_id":259562,"accept_rate":91,"display_name":"dierre"},"score":1,"creation_date":1287055185,"post_id":3932382,"comment_id":4196281,"body_markdown":"What about using something like depth or breadth first? Is that even a solution for what I&#39;m doing? I&#39;m not looking for a single goal but multiple goals. I have to explore always the entire tree.","body":"What about using something like depth or breadth first? Is that even a solution for what I&#39;m doing? I&#39;m not looking for a single goal but multiple goals. I have to explore always the entire tree."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1287056642,"post_id":3932382,"comment_id":4196458,"body_markdown":"Your recursive solution posted above is already a DFS - so yes either DFS or BFS would work well here.","body":"Your recursive solution posted above is already a DFS - so yes either DFS or BFS would work well here."}],"answers":[{"tags":[],"owner":{"account_id":210224,"reputation":1660,"user_id":461712,"accept_rate":97,"display_name":"Etienne Marais"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287054216,"creation_date":1287054216,"answer_id":3932446,"question_id":3932382,"body_markdown":"If you choose to use recursion, I found an example that may be close to the one you are currently using as to eliminate any ambiguity .\r\n\r\n    // Process only directories under dir\r\n    public static void visitAllDirs(File dir) {\r\n        if (dir.isDirectory()) {\r\n            process(dir);\r\n    \r\n            String[] children = dir.list();\r\n            for (int i=0; i&lt;children.length; i++) {\r\n                visitAllDirs(new File(dir, children[i]));\r\n            }\r\n        }\r\n    }\r\n\r\nThis is a very simple example, the `process()` can be where you do your handling or operations on the directory.\r\n","title":"Traversing directories without using recursion?","body":"<p>If you choose to use recursion, I found an example that may be close to the one you are currently using as to eliminate any ambiguity .</p>\n\n<pre><code>// Process only directories under dir\npublic static void visitAllDirs(File dir) {\n    if (dir.isDirectory()) {\n        process(dir);\n\n        String[] children = dir.list();\n        for (int i=0; i&lt;children.length; i++) {\n            visitAllDirs(new File(dir, children[i]));\n        }\n    }\n}\n</code></pre>\n\n<p>This is a very simple example, the <code>process()</code> can be where you do your handling or operations on the directory.</p>\n"},{"tags":[],"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1287258609,"creation_date":1287055086,"answer_id":3932567,"question_id":3932382,"body_markdown":"Recursion can always be transformed into a loop.   \r\nA quick and dirty possible solution (not tested) follows : \r\n\r\n    private static void displayDirectory(File node){\r\n        ArraList directories = new ArrayList();\r\n        if (node.isDirectory())\r\n           directories.append (node);    \r\n        // Iterate over the directory list\r\n        Iterator it = directories.iterator();\r\n        while(it.hasNext()){\r\n           File dir  = (File)it.next();           \r\n           // get childs\r\n           String[] subNote = dir.list();\r\n           for(String filename : subNote){\r\n              subNode = new File(node, filename);\r\n              // display current child name\r\n              System.out.println(subNode.getAbsoluteFile());\r\n              // if directory : add current child to the list of dir to process\r\n              if (subnode.isDirectory()){\r\n                 directories.append(subNode);\r\n              }\r\n           }\r\n        }\r\n    }\r\n\r\nplease note that the source node should be a directory for anything to be displayed.    \r\nAlso, this is a breadth-first display. if you want a depth first, you should change the &quot;append&quot; to put the file it just after the current node in the array list.    \r\n\r\ni&#39;m not sure about the memory consomation, however.    \r\nRegards    \r\nGuillaume","title":"Traversing directories without using recursion?","body":"<p>Recursion can always be transformed into a loop.<br>\nA quick and dirty possible solution (not tested) follows : </p>\n\n<pre><code>private static void displayDirectory(File node){\n    ArraList directories = new ArrayList();\n    if (node.isDirectory())\n       directories.append (node);    \n    // Iterate over the directory list\n    Iterator it = directories.iterator();\n    while(it.hasNext()){\n       File dir  = (File)it.next();           \n       // get childs\n       String[] subNote = dir.list();\n       for(String filename : subNote){\n          subNode = new File(node, filename);\n          // display current child name\n          System.out.println(subNode.getAbsoluteFile());\n          // if directory : add current child to the list of dir to process\n          if (subnode.isDirectory()){\n             directories.append(subNode);\n          }\n       }\n    }\n}\n</code></pre>\n\n<p>please note that the source node should be a directory for anything to be displayed.<br>\nAlso, this is a breadth-first display. if you want a depth first, you should change the \"append\" to put the file it just after the current node in the array list.    </p>\n\n<p>i'm not sure about the memory consomation, however.<br>\nRegards<br>\nGuillaume</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1287066430,"creation_date":1287056875,"answer_id":3932753,"question_id":3932382,"body_markdown":"&gt; Right now I&#39;m doing the stupidest thing ...\r\n\r\nRecursion is neither &quot;stupid&quot; or necessarily inefficient.  Indeed in this particular case, a recursive solution is likely to be more efficient than a non-recursive one.  And of course, the recursive solution is easier to code and to understand than the alternatives.\r\n\r\nThe only potential problem with recursion is that you could overflow the stack if the directory tree is pathologically deep.\r\n\r\nIf you really want to avoid recursion, then the natural way to do it is to use a &quot;stack of list of File&quot; data structure.  Each place where you would have recursed, you push the list  containing the current directory&#39;s (remaining) File objects onto the stack, read the new directory and start working on them.  Then when you are finished, pop the stack and continue with the parent directory.  This will give you a depth-first traversal.  If you want a breadth-first traversal, use a &quot;queue of File&quot; data structure instead of a stack.","title":"Traversing directories without using recursion?","body":"<blockquote>\n  <p>Right now I'm doing the stupidest thing ...</p>\n</blockquote>\n\n<p>Recursion is neither \"stupid\" or necessarily inefficient.  Indeed in this particular case, a recursive solution is likely to be more efficient than a non-recursive one.  And of course, the recursive solution is easier to code and to understand than the alternatives.</p>\n\n<p>The only potential problem with recursion is that you could overflow the stack if the directory tree is pathologically deep.</p>\n\n<p>If you really want to avoid recursion, then the natural way to do it is to use a \"stack of list of File\" data structure.  Each place where you would have recursed, you push the list  containing the current directory's (remaining) File objects onto the stack, read the new directory and start working on them.  Then when you are finished, pop the stack and continue with the parent directory.  This will give you a depth-first traversal.  If you want a breadth-first traversal, use a \"queue of File\" data structure instead of a stack.</p>\n"},{"tags":[],"owner":{"account_id":724859,"reputation":9,"user_id":668892,"display_name":"Michael Nieves"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1300729234,"creation_date":1300683614,"answer_id":5373988,"question_id":3932382,"body_markdown":"I am a real novice, but after working for a week on this problem... I have a clean solution... thanks for all the help from PATRY and etbal.\r\n\r\n    public class Recur {\r\n    \t// Process only directories under dir\r\n    \t\r\n    File dir;\r\n    static DirectoryComponent allDirectory;\r\n    \r\n    \tpublic Recur(File dir, DirectoryComponent allDirectory) {\r\n    \t// TODO Auto-generated constructor stub\r\n    \t\tthis.dir = dir;\r\n    }\r\n    \r\n    \tpublic static DirectoryComponent Recur(File dir, DirectoryComponent allDirectory) {\r\n    \t\tString file;\r\n    \t\tString path;\r\n    \t\t\r\n    \t\t File firstDir = new File(dir.getPath());\r\n        \t file = firstDir.getName();\r\n        \t path = firstDir.getPath();\r\n       \t\r\n    \t    if (dir.isDirectory()) {\r\n    \t    \t\r\n    \t    \tfile = firstDir.getName();\r\n      \t        path = firstDir.getPath();\r\n      \t        DirectoryComponent directory = new Directory(file, path);\r\n      \t        allDirectory.add(directory);\r\n      \t      \r\n    \t    \tString [] subNote = dir.list();\r\n          \t\tfor(String filename : subNote){\r\n          \t\t\tFile subNode = new File(firstDir, filename);\r\n          \t\t\r\n          \t\t\t// store current child name\r\n          \t\t\t\r\n          \t\t\t\tfile = subNode.getName();\r\n          \t\t\t\tpath = subNode.getPath();\r\n          \t\t\t\tdirectory.add(new FileItem(file,path));\t\t\t\r\n          \t\t}\r\n          \t\t\r\n    \t        String[] children = dir.list();\r\n    \t        for (int i=0; i&lt;children.length; i++) {\r\n    \t            Recur(new File(dir, children[i]), allDirectory);\r\n    \t        }\r\n    \t    }\r\n    \t    \r\n    \t\treturn allDirectory;\r\n    \t}\r\n    }\r\n\r\n","title":"Traversing directories without using recursion?","body":"<p>I am a real novice, but after working for a week on this problem... I have a clean solution... thanks for all the help from PATRY and etbal.</p>\n\n<pre><code>public class Recur {\n    // Process only directories under dir\n\nFile dir;\nstatic DirectoryComponent allDirectory;\n\n    public Recur(File dir, DirectoryComponent allDirectory) {\n    // TODO Auto-generated constructor stub\n        this.dir = dir;\n}\n\n    public static DirectoryComponent Recur(File dir, DirectoryComponent allDirectory) {\n        String file;\n        String path;\n\n         File firstDir = new File(dir.getPath());\n         file = firstDir.getName();\n         path = firstDir.getPath();\n\n        if (dir.isDirectory()) {\n\n            file = firstDir.getName();\n            path = firstDir.getPath();\n            DirectoryComponent directory = new Directory(file, path);\n            allDirectory.add(directory);\n\n            String [] subNote = dir.list();\n            for(String filename : subNote){\n                File subNode = new File(firstDir, filename);\n\n                // store current child name\n\n                    file = subNode.getName();\n                    path = subNode.getPath();\n                    directory.add(new FileItem(file,path));         \n            }\n\n            String[] children = dir.list();\n            for (int i=0; i&lt;children.length; i++) {\n                Recur(new File(dir, children[i]), allDirectory);\n            }\n        }\n\n        return allDirectory;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":737420,"reputation":1,"user_id":698301,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353828006,"creation_date":1302252287,"answer_id":5592636,"question_id":3932382,"body_markdown":"PARTY, thank you for advice. I transformed a little bit your code, that&#39;s what I&#39;ve got\r\n\r\n    private ArrayList&lt;File&gt; displayDirectory(File node){\r\n    ArrayList&lt;File&gt; FileList = new ArrayList();\r\n    ArrayList &lt;File&gt;directories = new &lt;File&gt;ArrayList();\r\n    if (node.isDirectory())\r\n       directories.add(node);\r\n    // Iterate over the directory list\r\n    Iterator it = directories.iterator();\r\n    for (int i = 0 ; i &lt; directories.size();i++){\r\n       File dir  =  directories.get(i);\r\n       // get childs\r\n       String[] subNode = dir.list();\r\n       for(int j = 0 ; j &lt; subNode.length;j++){\r\n          File F = new File( directories.get(i).getAbsolutePath(), subNode[j]);\r\n          // display current child name\r\n        //  System.out.println(F.getAbsoluteFile());\r\n          // if directory : add current child to the list of dir to process\r\n          if (F.isDirectory()) directories.add(F);           \r\n            else   FileList.add(F);\r\n          }\r\n    }   \r\n    return FileList;\r\n    }","title":"Traversing directories without using recursion?","body":"<p>PARTY, thank you for advice. I transformed a little bit your code, that's what I've got</p>\n\n<pre><code>private ArrayList&lt;File&gt; displayDirectory(File node){\nArrayList&lt;File&gt; FileList = new ArrayList();\nArrayList &lt;File&gt;directories = new &lt;File&gt;ArrayList();\nif (node.isDirectory())\n   directories.add(node);\n// Iterate over the directory list\nIterator it = directories.iterator();\nfor (int i = 0 ; i &lt; directories.size();i++){\n   File dir  =  directories.get(i);\n   // get childs\n   String[] subNode = dir.list();\n   for(int j = 0 ; j &lt; subNode.length;j++){\n      File F = new File( directories.get(i).getAbsolutePath(), subNode[j]);\n      // display current child name\n    //  System.out.println(F.getAbsoluteFile());\n      // if directory : add current child to the list of dir to process\n      if (F.isDirectory()) directories.add(F);           \n        else   FileList.add(F);\n      }\n}   \nreturn FileList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1285473,"reputation":2303,"user_id":1238654,"accept_rate":79,"display_name":"Lucas Batistussi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1384394386,"creation_date":1384394386,"answer_id":19968118,"question_id":3932382,"body_markdown":"My iterative solution:\r\n\r\n      ArrayDeque&lt;File&gt; stack = new ArrayDeque&lt;File&gt;();\r\n\t\t\r\n\t\tstack.push(new File(&quot;&lt;path&gt;&quot;));\r\n\t\t\r\n\t\tint n = 0;\r\n\t\t\r\n\t\twhile(!stack.isEmpty()){\r\n\t\t\t\r\n\t\t\tn++;\r\n\t\t\tFile file = stack.pop();\r\n\t\t\t\r\n\t\t\tSystem.err.println(file);\r\n\t\t\t\r\n\t\t\tFile[] files = file.listFiles();\r\n\t\t\t\r\n\t\t\tfor(File f: files){\r\n\t\t\t\t\r\n\t\t\t\tif(f.isHidden()) continue;\r\n\t\t\t\t\r\n\t\t\t\tif(f.isDirectory()){\r\n\t\t\t\t\tstack.push(f);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tn++;\r\n\t\t\t\tSystem.out.println(f);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(n);","title":"Traversing directories without using recursion?","body":"<p>My iterative solution:</p>\n\n<pre><code>  ArrayDeque&lt;File&gt; stack = new ArrayDeque&lt;File&gt;();\n\n    stack.push(new File(\"&lt;path&gt;\"));\n\n    int n = 0;\n\n    while(!stack.isEmpty()){\n\n        n++;\n        File file = stack.pop();\n\n        System.err.println(file);\n\n        File[] files = file.listFiles();\n\n        for(File f: files){\n\n            if(f.isHidden()) continue;\n\n            if(f.isDirectory()){\n                stack.push(f);\n                continue;\n            }\n\n            n++;\n            System.out.println(f);\n\n\n        }\n\n    }\n\n    System.out.println(n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51898,"reputation":79376,"user_id":155077,"accept_rate":78,"display_name":"Stefan Steiger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670585668,"creation_date":1431529398,"answer_id":30218705,"question_id":3932382,"body_markdown":"\r\nIf it will help, here&#39;s a C# version of iterative file-system traversal: \r\n\r\n    public static System.Collections.Generic.List&lt;System.IO.FileSystemInfo&gt;\r\n        ListPaths(System.IO.FileSystemInfo path)\r\n    {\r\n        System.Collections.Generic.List&lt;System.IO.FileSystemInfo&gt; ls =\r\n            new System.Collections.Generic.List&lt;System.IO.FileSystemInfo&gt;();\r\n    \r\n        System.Collections.Generic.Stack&lt;System.IO.FileSystemInfo&gt; stack\r\n            = new System.Collections.Generic.Stack&lt;System.IO.FileSystemInfo&gt;();\r\n    \r\n    \r\n        stack.Push(path);\r\n    \r\n        int n = 0;\r\n    \r\n        while (stack.Count != 0)\r\n        {\r\n            ++n; // Every element from the stack counts \r\n            System.IO.FileSystemInfo file = stack.Pop();\r\n            // System.Console.WriteLine(file);\r\n    \r\n            ls.Add(file); // These are all directories, unless the first element is a file \r\n    \r\n            if (file is System.IO.DirectoryInfo == false)\r\n                continue;\r\n    \r\n            foreach (System.IO.FileSystemInfo entry in ((System.IO.DirectoryInfo)file).GetFileSystemInfos())\r\n            {\r\n                if (entry.Attributes.HasFlag(System.IO.FileAttributes.Hidden))\r\n                    continue;\r\n    \r\n                if (entry is System.IO.DirectoryInfo)\r\n                {\r\n                    stack.Push(entry);\r\n                    continue;\r\n                }\r\n    \r\n                ++n; \r\n                // System.Console.WriteLine(entry);\r\n                ls.Add(entry); // These are all files \r\n            } // Next entry \r\n    \r\n        } // Whend \r\n    \r\n        // n = ls.Count\r\n        return ls;\r\n    } // End Function ListPaths \r\n\r\n\r\n\r\n@Stephen C:\r\nBelow as per your request, my benchmark code that I talked about in the comments (C# - not Java). &lt;br /&gt;\r\nNote that it should use stopwatch instead of datetime for better accuracy, but otherwise it&#39;s fine.&lt;br /&gt;\r\nI didn&#39;t test if the iteration delivers the same number files as the recursion, but it should.\r\n\r\n\r\n**Actually, if you pay attention to the median, you&#39;ll notice that this already starts showing with only very few files.** (my Desktop folder contains 2210 files, 415 folders, 3.2 GB total, most of it large files in the download folder, AppData, and a higher number of files due to one larger C# project [mail-server] on my desktop). \r\n\r\nTo get the numbers I talked about in the comment, install cygwin (with everything [that&#39;s about 100GB, I think] ), and index the cygwin folder.\r\n\r\n![Speed comparison][1]\r\n\r\nAs mentioned in the comments, it is not entirely correct to say it doesn&#39;t matter. &lt;br /&gt;&lt;br /&gt;\r\nWhile for a small directory tree, recursion is negligibly more efficient than iteration (in the order of several 10s of milliseconds), for a very large tree, recursion is minutes (and therefore noticeably) slower than iteration. It isn&#39;t all to difficult to grasp why either. If you have to allocate and return a new set of stack variables, each time, call a function, and store all previous results until you return, you&#39;re of course slower than when you initiate a a stack-structure on the heap once, and use that for each iteration. \r\n\r\nThe tree doesn&#39;t need to be pathologically deep for this effect to be noticed (while slow speed isn&#39;t a stack overflow, its very negative consequences are not much different from a StackOverflow-Bug). Also I wouldn&#39;t call having a lot of files &quot;pathological&quot;, because if you do an index on your main drive, you&#39;ll naturally have a lot of files. Have some HTML documentation, and the number of files explodes. You&#39;ll find that on a whole lot of files, an iteration completes in less than 30 seconds, while a recursion needs appx. 3 minutes.\r\n\r\n\r\n    using System;\r\n    using System.Data;\r\n    using System.Linq;\r\n    \r\n    \r\n    namespace IterativeDirectoryCSharp\r\n    {\r\n    \r\n    \r\n        public class SearchStrategy\r\n        {\r\n    \r\n    \r\n            //Iterative File and Folder Listing in VB.NET\r\n            public static bool IterativeSearch2(string strPath)\r\n            {\r\n                System.IO.DirectoryInfo dirInfo = new System.IO.DirectoryInfo(strPath);\r\n                System.IO.FileSystemInfo[] arrfsiEntities = null;\r\n                arrfsiEntities = dirInfo.GetFileSystemInfos();\r\n    \r\n    \r\n                // Creates and initializes a new Stack.\r\n                System.Collections.Stack strLastPathStack = new System.Collections.Stack();\r\n                System.Collections.Stack iIndexStack = new System.Collections.Stack();\r\n    \r\n                int iIndex = 0;\r\n                int iMaxEntities = arrfsiEntities.Length;\r\n                do\r\n                {\r\n                    while (iIndex &lt; iMaxEntities)\r\n                    {\r\n    \r\n                        if (arrfsiEntities[iIndex].Attributes == System.IO.FileAttributes.Directory)\r\n                        {\r\n                            //Console.WriteLine(&quot;Searching directory &quot; + arrfsiEntities[iIndex].FullName);\r\n    \r\n                            strLastPathStack.Push(System.IO.Directory.GetParent(arrfsiEntities[iIndex].FullName).FullName);\r\n                            strLastPathStack.Push(arrfsiEntities[iIndex].FullName);\r\n                            iIndexStack.Push(iIndex);\r\n    \r\n                            dirInfo = null;\r\n                            Array.Clear(arrfsiEntities, 0, arrfsiEntities.Length);\r\n                            dirInfo = new System.IO.DirectoryInfo(strLastPathStack.Pop().ToString());\r\n                            arrfsiEntities = dirInfo.GetFileSystemInfos();\r\n    \r\n                            iIndex = 0;\r\n                            iMaxEntities = arrfsiEntities.Length;\r\n                            continue;\r\n                        }\r\n                        else\r\n                        {\r\n                            //Console.WriteLine(arrfsiEntities[iIndex].FullName);\r\n                        }\r\n    \r\n                        iIndex += 1;\r\n                    } // Whend\r\n    \r\n    \r\n                    dirInfo = null;\r\n                    Array.Clear(arrfsiEntities, 0, arrfsiEntities.Length);\r\n                    // Dont try to do move the next line in the loop while/until statement, null reference when pop on an empty stack...\r\n                    if (strLastPathStack.Count == 0) \r\n                        break;\r\n    \r\n                    dirInfo = new System.IO.DirectoryInfo(strLastPathStack.Pop().ToString());\r\n                    arrfsiEntities = dirInfo.GetFileSystemInfos();\r\n    \r\n                    iIndex = (int)iIndexStack.Pop() + 1;\r\n                    iMaxEntities = arrfsiEntities.Length;\r\n                } // End do\r\n                while (true);\r\n    \r\n                return true;\r\n            } // End Function IterativeSearch2\r\n    \r\n    \r\n            public static bool IterativeSearch1(string path)\r\n            {\r\n    \r\n                System.IO.DirectoryInfo dirInfo = new System.IO.DirectoryInfo(path);\r\n                System.IO.FileSystemInfo[] arrfsiEntities = null;\r\n                arrfsiEntities = dirInfo.GetFileSystemInfos();\r\n    \r\n    \r\n                // Creates and initializes a new Stack.\r\n                System.Collections.Stack myStack = new System.Collections.Stack();\r\n                //Console.WriteLine(&quot;Stack is empty when \\t stack.count={0}&quot;, myStack.Count);\r\n    \r\n    \r\n                int iIndex = 0;\r\n                int iMaxEntities = arrfsiEntities.Length - 1;\r\n    \r\n                do\r\n                {\r\n                    for (iIndex = 0; iIndex &lt;= iMaxEntities; iIndex += 1)\r\n                    {\r\n                        if (arrfsiEntities[iIndex].Attributes == System.IO.FileAttributes.Directory)\r\n                        {\r\n                            //Console.WriteLine(&quot;Searching directory &quot; + arrfsiEntities[iIndex].FullName);\r\n                            myStack.Push(arrfsiEntities[iIndex].FullName);\r\n                        }\r\n                        else\r\n                        {\r\n                            //Console.WriteLine(&quot;{0}&quot;, arrfsiEntities[iIndex].FullName);\r\n                        }\r\n                    } // Next iIndex\r\n    \r\n                    dirInfo = null;\r\n                    Array.Clear(arrfsiEntities, 0, arrfsiEntities.Length);\r\n                    // Dont try to do move the next line in the loop while/until statement, null reference when pop on an empty stack...\r\n                    if (myStack.Count == 0) \r\n                        break;\r\n    \r\n                    dirInfo = new System.IO.DirectoryInfo(myStack.Pop().ToString());\r\n                    arrfsiEntities = dirInfo.GetFileSystemInfos();\r\n    \r\n                    iIndex = 0;\r\n                    iMaxEntities = arrfsiEntities.Length - 1;\r\n                }\r\n                while (true);\r\n    \r\n                return true;\r\n            } // End Function IterativeSearch1\r\n    \r\n    \r\n            //Recursive File and Folder Listing VB.NET\r\n            public static bool RecursiveSearch(string path)\r\n            {\r\n                System.IO.DirectoryInfo dirInfo = new System.IO.DirectoryInfo(path);\r\n                //System.IO.FileSystemInfo fileObject = default(System.IO.FileSystemInfo);\r\n                foreach (System.IO.FileSystemInfo fsiThisEntityInfo in dirInfo.GetFileSystemInfos())\r\n                {\r\n    \r\n                    if (fsiThisEntityInfo.Attributes == System.IO.FileAttributes.Directory)\r\n                    {\r\n                        //Console.WriteLine(&quot;Searching directory &quot; + fsiThisEntityInfo.FullName);\r\n                        RecursiveSearch(fsiThisEntityInfo.FullName);\r\n                    }\r\n                    else\r\n                    {\r\n                        //Console.WriteLine(fsiThisEntityInfo.FullName);\r\n                    }\r\n    \r\n                } // Next fiThisFileInfo\r\n    \r\n                return true;\r\n            } // End Function RecursiveSearch\r\n    \r\n    \r\n            // http://forums.asp.net/p/1414929/3116196.aspx\r\n            public class TimeFrame\r\n            {\r\n                public DateTime dtStartTime;\r\n                public DateTime dtEndTime;\r\n    \r\n                public TimeFrame(DateTime dtStart, DateTime dtEnd)\r\n                {\r\n                    this.dtStartTime = dtStart;\r\n                    this.dtEndTime = dtEnd;\r\n                } // End Constructor\r\n    \r\n            } // End Class TimeFrame\r\n    \r\n    \r\n    \r\n            // Small amount of files \r\n            //          Iter1\t    Iter2\t    Recurs.\r\n            // Median\t1206.231\t3910.367\t1232.4079\r\n            // Average\t1216.431647\t3940.147975\t1239.092354\r\n            // Minimum\t1172.5827\t3832.0984\t1201.2308\r\n            // Maximum\t1393.4091\t4400.4237\t1440.3386\r\n    \r\n            public static System.Data.DataTable TestStrategies(string strDirectoryToSearch)\r\n            {\r\n                System.Data.DataTable dt = new System.Data.DataTable();\r\n                \r\n                System.Collections.Generic.Dictionary&lt;int, string&gt; dictResults = new System.Collections.Generic.Dictionary&lt;int, string&gt;();\r\n    \r\n                \r\n                dt.Columns.Add(&quot;TestRun&quot;, typeof(string));\r\n                dt.Columns.Add(&quot;IterativeSearch1&quot;, typeof(double));\r\n                dt.Columns.Add(&quot;IterativeSearch2&quot;, typeof(double));\r\n                dt.Columns.Add(&quot;RecursiveSearch&quot;, typeof(double));\r\n    \r\n    \r\n                System.Data.DataRow dr = null;\r\n                System.Collections.Generic.Dictionary&lt;string, TimeFrame&gt; dictPerformance = null;\r\n                for (int i = 0; i &lt; 100; ++i)\r\n                {\r\n                    dr = dt.NewRow();\r\n                    dr[&quot;TestRun&quot;] = i + 1;\r\n    \r\n                    dictPerformance = new System.Collections.Generic.Dictionary&lt;string, TimeFrame&gt;();\r\n                    DateTime startTime;\r\n                    DateTime endTime;\r\n                    Console.WriteLine(&quot;*********************************************************&quot;);\r\n    \r\n                    startTime = DateTime.Now;\r\n                    IterativeSearch1(strDirectoryToSearch);\r\n                    endTime = DateTime.Now;\r\n                    dictPerformance.Add(&quot;IterativeSearch1&quot;, new TimeFrame(startTime, endTime));\r\n    \r\n                    Console.WriteLine(&quot;*********************************************************&quot;);\r\n    \r\n                    startTime = DateTime.Now;\r\n                    IterativeSearch2(strDirectoryToSearch);\r\n                    endTime = DateTime.Now;\r\n                    dictPerformance.Add(&quot;IterativeSearch2&quot;, new TimeFrame(startTime, endTime));\r\n    \r\n                    Console.WriteLine(&quot;*********************************************************&quot;);\r\n                    \r\n                    startTime = DateTime.Now;\r\n                    RecursiveSearch(strDirectoryToSearch);\r\n                    endTime = DateTime.Now;\r\n                    dictPerformance.Add(&quot;RecursiveSearch&quot;, new TimeFrame(startTime, endTime));\r\n    \r\n                    Console.WriteLine(&quot;*********************************************************&quot;);\r\n    \r\n                    string strResult = &quot;&quot;;\r\n                    foreach (string strKey in dictPerformance.Keys)\r\n                    {\r\n                        TimeSpan elapsedTime = dictPerformance[strKey].dtEndTime - dictPerformance[strKey].dtStartTime;\r\n    \r\n                        dr[strKey] = elapsedTime.TotalMilliseconds;\r\n                        strResult += strKey + &quot;: &quot; + elapsedTime.TotalMilliseconds.ToString() + Environment.NewLine;\r\n                    } // Next\r\n    \r\n                    //Console.WriteLine(strResult);    \r\n                    dictResults.Add(i, strResult);\r\n                    dt.Rows.Add(dr);\r\n                } // Next i\r\n    \r\n    \r\n                foreach(int iMeasurement in dictResults.Keys)\r\n                {\r\n                    Console.WriteLine(&quot;Measurement &quot; + iMeasurement.ToString());\r\n                    Console.WriteLine(dictResults[iMeasurement]);\r\n                    Console.WriteLine(Environment.NewLine);\r\n                } // Next iMeasurement\r\n    \r\n    \r\n                double[] adblIterSearch1 = dt\r\n                     .AsEnumerable()\r\n                     .Select(row =&gt; row.Field&lt;double&gt;(&quot;IterativeSearch1&quot;))\r\n                     .ToArray();\r\n    \r\n                double[] adblIterSearch2 = dt\r\n                     .AsEnumerable()\r\n                     .Select(row =&gt; row.Field&lt;double&gt;(&quot;IterativeSearch2&quot;))\r\n                     .ToArray();\r\n    \r\n                double[] adblRecursiveSearch = dt\r\n                     .AsEnumerable()\r\n                     .Select(row =&gt; row.Field&lt;double&gt;(&quot;RecursiveSearch&quot;))\r\n                     .ToArray(); \r\n    \r\n    \r\n    \r\n                dr = dt.NewRow();\r\n                dr[&quot;TestRun&quot;] = &quot;Median&quot;;\r\n                dr[&quot;IterativeSearch1&quot;] = Median&lt;double&gt;(adblIterSearch1);\r\n                dr[&quot;IterativeSearch2&quot;] = Median&lt;double&gt;(adblIterSearch2);\r\n                dr[&quot;RecursiveSearch&quot;] = Median&lt;double&gt;(adblRecursiveSearch);\r\n                dt.Rows.Add(dr);\r\n    \r\n    \r\n                dr = dt.NewRow();\r\n                dr[&quot;TestRun&quot;] = &quot;Average&quot;;\r\n                dr[&quot;IterativeSearch1&quot;] = dt.Compute(&quot;Avg(IterativeSearch1)&quot;, string.Empty);\r\n                dr[&quot;IterativeSearch2&quot;] = dt.Compute(&quot;Avg(IterativeSearch2)&quot;, string.Empty);\r\n                dr[&quot;RecursiveSearch&quot;] = dt.Compute(&quot;Avg(RecursiveSearch)&quot;, string.Empty);\r\n                dt.Rows.Add(dr);\r\n                \r\n    \r\n                dr = dt.NewRow();\r\n                dr[&quot;TestRun&quot;] = &quot;Minimum &quot;;\r\n                dr[&quot;IterativeSearch1&quot;] = dt.Compute(&quot;Min(IterativeSearch1)&quot;, string.Empty);\r\n                dr[&quot;IterativeSearch2&quot;] = dt.Compute(&quot;Min(IterativeSearch2)&quot;, string.Empty);\r\n                dr[&quot;RecursiveSearch&quot;] = dt.Compute(&quot;Min(RecursiveSearch)&quot;, string.Empty);\r\n                dt.Rows.Add(dr);\r\n    \r\n                dr = dt.NewRow();\r\n                dr[&quot;TestRun&quot;] = &quot;Maximum &quot;;\r\n                dr[&quot;IterativeSearch1&quot;] = dt.Compute(&quot;Max(IterativeSearch1)&quot;, string.Empty);\r\n                dr[&quot;IterativeSearch2&quot;] = dt.Compute(&quot;Max(IterativeSearch2)&quot;, string.Empty);\r\n                dr[&quot;RecursiveSearch&quot;] = dt.Compute(&quot;Max(RecursiveSearch)&quot;, string.Empty);\r\n                dt.Rows.Add(dr);\r\n    \r\n                return dt;\r\n            } // End Sub TestMain\r\n    \r\n    \r\n            public static double Median&lt;T&gt;(T[] numbers)\r\n            {\r\n                int numberCount = numbers.Count();\r\n    \r\n                if (numberCount == 0)\r\n                    return 0.0;\r\n    \r\n                int halfIndex = numbers.Count() / 2;\r\n                var sortedNumbers = numbers.OrderBy(n =&gt; n);\r\n                double median;\r\n    \r\n                if ((numberCount % 2) == 0)\r\n                {\r\n                    median = \r\n                        (\r\n                            (\r\n                                System.Convert.ToDouble(sortedNumbers.ElementAt&lt;T&gt;(halfIndex)) +\r\n                                System.Convert.ToDouble(sortedNumbers.ElementAt&lt;T&gt;((halfIndex - 1))\r\n                            )\r\n                        ) / 2);\r\n                }\r\n                else\r\n                {\r\n                    median = System.Convert.ToDouble(sortedNumbers.ElementAt&lt;T&gt;(halfIndex));\r\n                }\r\n    \r\n                return median;\r\n            } // End Function GetMedian\r\n    \r\n    \r\n            // http://msmvps.com/blogs/deborahk/archive/2010/05/07/linq-mean-median-and-mode.aspx\r\n            public static double CalcMedian(int[] numbers)\r\n            {\r\n                int numberCount = numbers.Count();\r\n                int halfIndex = numbers.Count() / 2;\r\n                var sortedNumbers = numbers.OrderBy(n =&gt; n);\r\n                double median;\r\n    \r\n                if ((numberCount % 2) == 0)\r\n                {\r\n                    median = ((sortedNumbers.ElementAt(halfIndex) +\r\n                        sortedNumbers.ElementAt((halfIndex - 1))) / 2);\r\n                }\r\n                else\r\n                {\r\n                    median = sortedNumbers.ElementAt(halfIndex);\r\n                }\r\n    \r\n                return median;\r\n            } // End Function CalcMedian\r\n    \r\n    \r\n        } // End Class SearchStrategy\r\n    \r\n    \r\n    } // End Namespace IterativeDirectoryCSharp\r\n\r\nIf you need to preserve the traversal order, a simplified version goes like this:\r\n\r\n    public static void PathTraverse(string initialDirectory)\r\n    {\r\n        System.Collections.Generic.Stack&lt;string&gt; stack =\r\n            new System.Collections.Generic.Stack&lt;string&gt;();\r\n        stack.Push(initialDirectory);\r\n\r\n        while (stack.Count != 0)\r\n        {\r\n            string element = stack.Pop();\r\n            System.Console.WriteLine(element);\r\n\r\n            System.IO.FileAttributes attr = System.IO.File.GetAttributes(element);\r\n            if ((attr &amp; System.IO.FileAttributes.Directory) == System.IO.FileAttributes.Directory)\r\n            {\r\n                string[] children = System.IO.Directory.GetFileSystemEntries(element, &quot;*.*&quot;, System.IO.SearchOption.TopDirectoryOnly);\r\n\r\n                for (int i = children.Length - 1; i &gt; -1; --i)\r\n                {\r\n                    stack.Push(children[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n    } // End Function PathTraverse \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/cpDH6.png","title":"Traversing directories without using recursion?","body":"<p>If it will help, here's a C# version of iterative file-system traversal:</p>\n<pre><code>public static System.Collections.Generic.List&lt;System.IO.FileSystemInfo&gt;\n    ListPaths(System.IO.FileSystemInfo path)\n{\n    System.Collections.Generic.List&lt;System.IO.FileSystemInfo&gt; ls =\n        new System.Collections.Generic.List&lt;System.IO.FileSystemInfo&gt;();\n\n    System.Collections.Generic.Stack&lt;System.IO.FileSystemInfo&gt; stack\n        = new System.Collections.Generic.Stack&lt;System.IO.FileSystemInfo&gt;();\n\n\n    stack.Push(path);\n\n    int n = 0;\n\n    while (stack.Count != 0)\n    {\n        ++n; // Every element from the stack counts \n        System.IO.FileSystemInfo file = stack.Pop();\n        // System.Console.WriteLine(file);\n\n        ls.Add(file); // These are all directories, unless the first element is a file \n\n        if (file is System.IO.DirectoryInfo == false)\n            continue;\n\n        foreach (System.IO.FileSystemInfo entry in ((System.IO.DirectoryInfo)file).GetFileSystemInfos())\n        {\n            if (entry.Attributes.HasFlag(System.IO.FileAttributes.Hidden))\n                continue;\n\n            if (entry is System.IO.DirectoryInfo)\n            {\n                stack.Push(entry);\n                continue;\n            }\n\n            ++n; \n            // System.Console.WriteLine(entry);\n            ls.Add(entry); // These are all files \n        } // Next entry \n\n    } // Whend \n\n    // n = ls.Count\n    return ls;\n} // End Function ListPaths \n</code></pre>\n<p>@Stephen C:\nBelow as per your request, my benchmark code that I talked about in the comments (C# - not Java). <br />\nNote that it should use stopwatch instead of datetime for better accuracy, but otherwise it's fine.<br />\nI didn't test if the iteration delivers the same number files as the recursion, but it should.</p>\n<p><strong>Actually, if you pay attention to the median, you'll notice that this already starts showing with only very few files.</strong> (my Desktop folder contains 2210 files, 415 folders, 3.2 GB total, most of it large files in the download folder, AppData, and a higher number of files due to one larger C# project [mail-server] on my desktop).</p>\n<p>To get the numbers I talked about in the comment, install cygwin (with everything [that's about 100GB, I think] ), and index the cygwin folder.</p>\n<p><img src=\"https://i.stack.imgur.com/cpDH6.png\" alt=\"Speed comparison\" /></p>\n<p>As mentioned in the comments, it is not entirely correct to say it doesn't matter. <br /><br />\nWhile for a small directory tree, recursion is negligibly more efficient than iteration (in the order of several 10s of milliseconds), for a very large tree, recursion is minutes (and therefore noticeably) slower than iteration. It isn't all to difficult to grasp why either. If you have to allocate and return a new set of stack variables, each time, call a function, and store all previous results until you return, you're of course slower than when you initiate a a stack-structure on the heap once, and use that for each iteration.</p>\n<p>The tree doesn't need to be pathologically deep for this effect to be noticed (while slow speed isn't a stack overflow, its very negative consequences are not much different from a StackOverflow-Bug). Also I wouldn't call having a lot of files &quot;pathological&quot;, because if you do an index on your main drive, you'll naturally have a lot of files. Have some HTML documentation, and the number of files explodes. You'll find that on a whole lot of files, an iteration completes in less than 30 seconds, while a recursion needs appx. 3 minutes.</p>\n<pre><code>using System;\nusing System.Data;\nusing System.Linq;\n\n\nnamespace IterativeDirectoryCSharp\n{\n\n\n    public class SearchStrategy\n    {\n\n\n        //Iterative File and Folder Listing in VB.NET\n        public static bool IterativeSearch2(string strPath)\n        {\n            System.IO.DirectoryInfo dirInfo = new System.IO.DirectoryInfo(strPath);\n            System.IO.FileSystemInfo[] arrfsiEntities = null;\n            arrfsiEntities = dirInfo.GetFileSystemInfos();\n\n\n            // Creates and initializes a new Stack.\n            System.Collections.Stack strLastPathStack = new System.Collections.Stack();\n            System.Collections.Stack iIndexStack = new System.Collections.Stack();\n\n            int iIndex = 0;\n            int iMaxEntities = arrfsiEntities.Length;\n            do\n            {\n                while (iIndex &lt; iMaxEntities)\n                {\n\n                    if (arrfsiEntities[iIndex].Attributes == System.IO.FileAttributes.Directory)\n                    {\n                        //Console.WriteLine(&quot;Searching directory &quot; + arrfsiEntities[iIndex].FullName);\n\n                        strLastPathStack.Push(System.IO.Directory.GetParent(arrfsiEntities[iIndex].FullName).FullName);\n                        strLastPathStack.Push(arrfsiEntities[iIndex].FullName);\n                        iIndexStack.Push(iIndex);\n\n                        dirInfo = null;\n                        Array.Clear(arrfsiEntities, 0, arrfsiEntities.Length);\n                        dirInfo = new System.IO.DirectoryInfo(strLastPathStack.Pop().ToString());\n                        arrfsiEntities = dirInfo.GetFileSystemInfos();\n\n                        iIndex = 0;\n                        iMaxEntities = arrfsiEntities.Length;\n                        continue;\n                    }\n                    else\n                    {\n                        //Console.WriteLine(arrfsiEntities[iIndex].FullName);\n                    }\n\n                    iIndex += 1;\n                } // Whend\n\n\n                dirInfo = null;\n                Array.Clear(arrfsiEntities, 0, arrfsiEntities.Length);\n                // Dont try to do move the next line in the loop while/until statement, null reference when pop on an empty stack...\n                if (strLastPathStack.Count == 0) \n                    break;\n\n                dirInfo = new System.IO.DirectoryInfo(strLastPathStack.Pop().ToString());\n                arrfsiEntities = dirInfo.GetFileSystemInfos();\n\n                iIndex = (int)iIndexStack.Pop() + 1;\n                iMaxEntities = arrfsiEntities.Length;\n            } // End do\n            while (true);\n\n            return true;\n        } // End Function IterativeSearch2\n\n\n        public static bool IterativeSearch1(string path)\n        {\n\n            System.IO.DirectoryInfo dirInfo = new System.IO.DirectoryInfo(path);\n            System.IO.FileSystemInfo[] arrfsiEntities = null;\n            arrfsiEntities = dirInfo.GetFileSystemInfos();\n\n\n            // Creates and initializes a new Stack.\n            System.Collections.Stack myStack = new System.Collections.Stack();\n            //Console.WriteLine(&quot;Stack is empty when \\t stack.count={0}&quot;, myStack.Count);\n\n\n            int iIndex = 0;\n            int iMaxEntities = arrfsiEntities.Length - 1;\n\n            do\n            {\n                for (iIndex = 0; iIndex &lt;= iMaxEntities; iIndex += 1)\n                {\n                    if (arrfsiEntities[iIndex].Attributes == System.IO.FileAttributes.Directory)\n                    {\n                        //Console.WriteLine(&quot;Searching directory &quot; + arrfsiEntities[iIndex].FullName);\n                        myStack.Push(arrfsiEntities[iIndex].FullName);\n                    }\n                    else\n                    {\n                        //Console.WriteLine(&quot;{0}&quot;, arrfsiEntities[iIndex].FullName);\n                    }\n                } // Next iIndex\n\n                dirInfo = null;\n                Array.Clear(arrfsiEntities, 0, arrfsiEntities.Length);\n                // Dont try to do move the next line in the loop while/until statement, null reference when pop on an empty stack...\n                if (myStack.Count == 0) \n                    break;\n\n                dirInfo = new System.IO.DirectoryInfo(myStack.Pop().ToString());\n                arrfsiEntities = dirInfo.GetFileSystemInfos();\n\n                iIndex = 0;\n                iMaxEntities = arrfsiEntities.Length - 1;\n            }\n            while (true);\n\n            return true;\n        } // End Function IterativeSearch1\n\n\n        //Recursive File and Folder Listing VB.NET\n        public static bool RecursiveSearch(string path)\n        {\n            System.IO.DirectoryInfo dirInfo = new System.IO.DirectoryInfo(path);\n            //System.IO.FileSystemInfo fileObject = default(System.IO.FileSystemInfo);\n            foreach (System.IO.FileSystemInfo fsiThisEntityInfo in dirInfo.GetFileSystemInfos())\n            {\n\n                if (fsiThisEntityInfo.Attributes == System.IO.FileAttributes.Directory)\n                {\n                    //Console.WriteLine(&quot;Searching directory &quot; + fsiThisEntityInfo.FullName);\n                    RecursiveSearch(fsiThisEntityInfo.FullName);\n                }\n                else\n                {\n                    //Console.WriteLine(fsiThisEntityInfo.FullName);\n                }\n\n            } // Next fiThisFileInfo\n\n            return true;\n        } // End Function RecursiveSearch\n\n\n        // http://forums.asp.net/p/1414929/3116196.aspx\n        public class TimeFrame\n        {\n            public DateTime dtStartTime;\n            public DateTime dtEndTime;\n\n            public TimeFrame(DateTime dtStart, DateTime dtEnd)\n            {\n                this.dtStartTime = dtStart;\n                this.dtEndTime = dtEnd;\n            } // End Constructor\n\n        } // End Class TimeFrame\n\n\n\n        // Small amount of files \n        //          Iter1       Iter2       Recurs.\n        // Median   1206.231    3910.367    1232.4079\n        // Average  1216.431647 3940.147975 1239.092354\n        // Minimum  1172.5827   3832.0984   1201.2308\n        // Maximum  1393.4091   4400.4237   1440.3386\n\n        public static System.Data.DataTable TestStrategies(string strDirectoryToSearch)\n        {\n            System.Data.DataTable dt = new System.Data.DataTable();\n            \n            System.Collections.Generic.Dictionary&lt;int, string&gt; dictResults = new System.Collections.Generic.Dictionary&lt;int, string&gt;();\n\n            \n            dt.Columns.Add(&quot;TestRun&quot;, typeof(string));\n            dt.Columns.Add(&quot;IterativeSearch1&quot;, typeof(double));\n            dt.Columns.Add(&quot;IterativeSearch2&quot;, typeof(double));\n            dt.Columns.Add(&quot;RecursiveSearch&quot;, typeof(double));\n\n\n            System.Data.DataRow dr = null;\n            System.Collections.Generic.Dictionary&lt;string, TimeFrame&gt; dictPerformance = null;\n            for (int i = 0; i &lt; 100; ++i)\n            {\n                dr = dt.NewRow();\n                dr[&quot;TestRun&quot;] = i + 1;\n\n                dictPerformance = new System.Collections.Generic.Dictionary&lt;string, TimeFrame&gt;();\n                DateTime startTime;\n                DateTime endTime;\n                Console.WriteLine(&quot;*********************************************************&quot;);\n\n                startTime = DateTime.Now;\n                IterativeSearch1(strDirectoryToSearch);\n                endTime = DateTime.Now;\n                dictPerformance.Add(&quot;IterativeSearch1&quot;, new TimeFrame(startTime, endTime));\n\n                Console.WriteLine(&quot;*********************************************************&quot;);\n\n                startTime = DateTime.Now;\n                IterativeSearch2(strDirectoryToSearch);\n                endTime = DateTime.Now;\n                dictPerformance.Add(&quot;IterativeSearch2&quot;, new TimeFrame(startTime, endTime));\n\n                Console.WriteLine(&quot;*********************************************************&quot;);\n                \n                startTime = DateTime.Now;\n                RecursiveSearch(strDirectoryToSearch);\n                endTime = DateTime.Now;\n                dictPerformance.Add(&quot;RecursiveSearch&quot;, new TimeFrame(startTime, endTime));\n\n                Console.WriteLine(&quot;*********************************************************&quot;);\n\n                string strResult = &quot;&quot;;\n                foreach (string strKey in dictPerformance.Keys)\n                {\n                    TimeSpan elapsedTime = dictPerformance[strKey].dtEndTime - dictPerformance[strKey].dtStartTime;\n\n                    dr[strKey] = elapsedTime.TotalMilliseconds;\n                    strResult += strKey + &quot;: &quot; + elapsedTime.TotalMilliseconds.ToString() + Environment.NewLine;\n                } // Next\n\n                //Console.WriteLine(strResult);    \n                dictResults.Add(i, strResult);\n                dt.Rows.Add(dr);\n            } // Next i\n\n\n            foreach(int iMeasurement in dictResults.Keys)\n            {\n                Console.WriteLine(&quot;Measurement &quot; + iMeasurement.ToString());\n                Console.WriteLine(dictResults[iMeasurement]);\n                Console.WriteLine(Environment.NewLine);\n            } // Next iMeasurement\n\n\n            double[] adblIterSearch1 = dt\n                 .AsEnumerable()\n                 .Select(row =&gt; row.Field&lt;double&gt;(&quot;IterativeSearch1&quot;))\n                 .ToArray();\n\n            double[] adblIterSearch2 = dt\n                 .AsEnumerable()\n                 .Select(row =&gt; row.Field&lt;double&gt;(&quot;IterativeSearch2&quot;))\n                 .ToArray();\n\n            double[] adblRecursiveSearch = dt\n                 .AsEnumerable()\n                 .Select(row =&gt; row.Field&lt;double&gt;(&quot;RecursiveSearch&quot;))\n                 .ToArray(); \n\n\n\n            dr = dt.NewRow();\n            dr[&quot;TestRun&quot;] = &quot;Median&quot;;\n            dr[&quot;IterativeSearch1&quot;] = Median&lt;double&gt;(adblIterSearch1);\n            dr[&quot;IterativeSearch2&quot;] = Median&lt;double&gt;(adblIterSearch2);\n            dr[&quot;RecursiveSearch&quot;] = Median&lt;double&gt;(adblRecursiveSearch);\n            dt.Rows.Add(dr);\n\n\n            dr = dt.NewRow();\n            dr[&quot;TestRun&quot;] = &quot;Average&quot;;\n            dr[&quot;IterativeSearch1&quot;] = dt.Compute(&quot;Avg(IterativeSearch1)&quot;, string.Empty);\n            dr[&quot;IterativeSearch2&quot;] = dt.Compute(&quot;Avg(IterativeSearch2)&quot;, string.Empty);\n            dr[&quot;RecursiveSearch&quot;] = dt.Compute(&quot;Avg(RecursiveSearch)&quot;, string.Empty);\n            dt.Rows.Add(dr);\n            \n\n            dr = dt.NewRow();\n            dr[&quot;TestRun&quot;] = &quot;Minimum &quot;;\n            dr[&quot;IterativeSearch1&quot;] = dt.Compute(&quot;Min(IterativeSearch1)&quot;, string.Empty);\n            dr[&quot;IterativeSearch2&quot;] = dt.Compute(&quot;Min(IterativeSearch2)&quot;, string.Empty);\n            dr[&quot;RecursiveSearch&quot;] = dt.Compute(&quot;Min(RecursiveSearch)&quot;, string.Empty);\n            dt.Rows.Add(dr);\n\n            dr = dt.NewRow();\n            dr[&quot;TestRun&quot;] = &quot;Maximum &quot;;\n            dr[&quot;IterativeSearch1&quot;] = dt.Compute(&quot;Max(IterativeSearch1)&quot;, string.Empty);\n            dr[&quot;IterativeSearch2&quot;] = dt.Compute(&quot;Max(IterativeSearch2)&quot;, string.Empty);\n            dr[&quot;RecursiveSearch&quot;] = dt.Compute(&quot;Max(RecursiveSearch)&quot;, string.Empty);\n            dt.Rows.Add(dr);\n\n            return dt;\n        } // End Sub TestMain\n\n\n        public static double Median&lt;T&gt;(T[] numbers)\n        {\n            int numberCount = numbers.Count();\n\n            if (numberCount == 0)\n                return 0.0;\n\n            int halfIndex = numbers.Count() / 2;\n            var sortedNumbers = numbers.OrderBy(n =&gt; n);\n            double median;\n\n            if ((numberCount % 2) == 0)\n            {\n                median = \n                    (\n                        (\n                            System.Convert.ToDouble(sortedNumbers.ElementAt&lt;T&gt;(halfIndex)) +\n                            System.Convert.ToDouble(sortedNumbers.ElementAt&lt;T&gt;((halfIndex - 1))\n                        )\n                    ) / 2);\n            }\n            else\n            {\n                median = System.Convert.ToDouble(sortedNumbers.ElementAt&lt;T&gt;(halfIndex));\n            }\n\n            return median;\n        } // End Function GetMedian\n\n\n        // http://msmvps.com/blogs/deborahk/archive/2010/05/07/linq-mean-median-and-mode.aspx\n        public static double CalcMedian(int[] numbers)\n        {\n            int numberCount = numbers.Count();\n            int halfIndex = numbers.Count() / 2;\n            var sortedNumbers = numbers.OrderBy(n =&gt; n);\n            double median;\n\n            if ((numberCount % 2) == 0)\n            {\n                median = ((sortedNumbers.ElementAt(halfIndex) +\n                    sortedNumbers.ElementAt((halfIndex - 1))) / 2);\n            }\n            else\n            {\n                median = sortedNumbers.ElementAt(halfIndex);\n            }\n\n            return median;\n        } // End Function CalcMedian\n\n\n    } // End Class SearchStrategy\n\n\n} // End Namespace IterativeDirectoryCSharp\n</code></pre>\n<p>If you need to preserve the traversal order, a simplified version goes like this:</p>\n<pre><code>public static void PathTraverse(string initialDirectory)\n{\n    System.Collections.Generic.Stack&lt;string&gt; stack =\n        new System.Collections.Generic.Stack&lt;string&gt;();\n    stack.Push(initialDirectory);\n\n    while (stack.Count != 0)\n    {\n        string element = stack.Pop();\n        System.Console.WriteLine(element);\n\n        System.IO.FileAttributes attr = System.IO.File.GetAttributes(element);\n        if ((attr &amp; System.IO.FileAttributes.Directory) == System.IO.FileAttributes.Directory)\n        {\n            string[] children = System.IO.Directory.GetFileSystemEntries(element, &quot;*.*&quot;, System.IO.SearchOption.TopDirectoryOnly);\n\n            for (int i = children.Length - 1; i &gt; -1; --i)\n            {\n                stack.Push(children[i]);\n            }\n        }\n    }\n\n} // End Function PathTraverse \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3366602,"reputation":611,"user_id":2827025,"display_name":"anemomylos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506699141,"creation_date":1506699141,"answer_id":46492253,"question_id":3932382,"body_markdown":"Based on PATRY Guillaume solution\r\n\r\n\r\n    public static List&lt;File&gt; getFolderTree(File node)\r\n      {\r\n        List&lt;File&gt; directories = new ArrayList();\r\n        if (node.isDirectory())\r\n        {\r\n          directories.add(node);\r\n        }\r\n    \r\n        for(int i=0; i&lt;directories.size(); i++)\r\n        {\r\n          File dir = directories.get(i);\r\n          String[] subNote = dir.list();\r\n          for (String filename : subNote)\r\n          {\r\n            File subNode = new File(dir, filename);\r\n    \r\n            if (subNode.isDirectory())\r\n            {\r\n              directories.add(subNode);\r\n            }\r\n          }\r\n        }\r\n        return directories;\r\n      }","title":"Traversing directories without using recursion?","body":"<p>Based on PATRY Guillaume solution</p>\n\n<pre><code>public static List&lt;File&gt; getFolderTree(File node)\n  {\n    List&lt;File&gt; directories = new ArrayList();\n    if (node.isDirectory())\n    {\n      directories.add(node);\n    }\n\n    for(int i=0; i&lt;directories.size(); i++)\n    {\n      File dir = directories.get(i);\n      String[] subNote = dir.list();\n      for (String filename : subNote)\n      {\n        File subNode = new File(dir, filename);\n\n        if (subNode.isDirectory())\n        {\n          directories.add(subNode);\n        }\n      }\n    }\n    return directories;\n  }\n</code></pre>\n"}],"owner":{"account_id":95267,"reputation":7150,"user_id":259562,"accept_rate":91,"display_name":"dierre"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7750,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":3932753,"answer_count":8,"score":6,"last_activity_date":1670585668,"creation_date":1287053715,"question_id":3932382,"body_markdown":"***The Problem***\r\nI need to write a simple software that, giving certain constraints, appends to a list a series of files.\r\nThe user could choose between two &quot;types&quot; of directory: one with a *** wildcard meaning it should also explore subdirectories and the classic one without wildcards that just get files present in that directory.\r\n\r\n***What I&#39;m doing***\r\n\r\nRight now I&#39;m doing the stupidest thing:\r\n\r\n    import java.io.File;\r\n    \r\n    public class Eseguibile {\r\n    \t\r\n    \tprivate static void displayIt(File node){\r\n    \t\t \r\n    \t\tSystem.out.println(node.getAbsoluteFile());\r\n     \r\n    \t\tif(node.isDirectory()){\r\n    \t\t\tString[] subNote = node.list();\r\n    \t\t\tfor(String filename : subNote){\r\n    \t\t\t\tdisplayIt(new File(node, filename));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args){\r\n    \t\tSystem.out.println(&quot;ciao&quot;);\r\n    \t\t\r\n    \t\tdisplayIt( new File(&quot;/home/dierre/&quot;) );\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nI do not need to build a tree because I just need the files list so I was thinking maybe there&#39;s a more efficient way to do it.\r\n\r\nI was reading about the [TreeModel][1] but, as I understand it, it&#39;s just an interface to implement a Jtree.\r\n\r\n\r\n  [1]: http://java.sun.com/products/jfc/tsc/articles/jtree/","title":"Traversing directories without using recursion?","body":"<p><em><strong>The Problem</em></strong>\nI need to write a simple software that, giving certain constraints, appends to a list a series of files.\nThe user could choose between two \"types\" of directory: one with a <em>*</em> wildcard meaning it should also explore subdirectories and the classic one without wildcards that just get files present in that directory.</p>\n\n<p><em><strong>What I'm doing</em></strong></p>\n\n<p>Right now I'm doing the stupidest thing:</p>\n\n<pre><code>import java.io.File;\n\npublic class Eseguibile {\n\n    private static void displayIt(File node){\n\n        System.out.println(node.getAbsoluteFile());\n\n        if(node.isDirectory()){\n            String[] subNote = node.list();\n            for(String filename : subNote){\n                displayIt(new File(node, filename));\n            }\n        }\n    }\n\n    public static void main(String[] args){\n        System.out.println(\"ciao\");\n\n        displayIt( new File(\"/home/dierre/\") );\n\n    }\n\n}\n</code></pre>\n\n<p>I do not need to build a tree because I just need the files list so I was thinking maybe there's a more efficient way to do it.</p>\n\n<p>I was reading about the <a href=\"http://java.sun.com/products/jfc/tsc/articles/jtree/\" rel=\"noreferrer\">TreeModel</a> but, as I understand it, it's just an interface to implement a Jtree.</p>\n"},{"tags":["java","graphql","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":2590005,"reputation":1317,"user_id":2244915,"accept_rate":75,"display_name":"loonis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670585635,"creation_date":1670585635,"answer_id":74742557,"question_id":74734116,"body_markdown":"Fixed with [spring-graphql 1.1.0][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-graphql/releases/tag/v1.1.0","title":"Mutation GraphQL map an Array to java.util.Set","body":"<p>Fixed with <a href=\"https://github.com/spring-projects/spring-graphql/releases/tag/v1.1.0\" rel=\"nofollow noreferrer\">spring-graphql 1.1.0</a></p>\n"}],"owner":{"account_id":2590005,"reputation":1317,"user_id":2244915,"accept_rate":75,"display_name":"loonis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670585635,"creation_date":1670520469,"question_id":74734116,"body_markdown":"With spring-graphql 1.0.1, I am trying to map an array of String `[String]` to a `SortedSet` in a GraphQL Mutation but I get an error.\r\n\r\n&gt; Property referenced in indexed property path &#39;names[0]&#39; is neither an\r\n&gt; array nor a List nor a Map; returned value was [[]]\r\n\r\nHow to specify the conversion from a String array of a Input type to a SortedSet ?\r\n\r\nHere is my *schema.graphqls*\r\n```\r\ntype Mutation {\r\n    save(person: PersonInput): Person\r\n}\r\n\r\ninput PersonInput {\r\n    id: String\r\n    names: [String]\r\n}\r\n\r\nType Person {\r\n    id: String\r\n    names: [String]\r\n}\r\n```\r\n\r\n```\r\n@Data\r\npublic class Person {\r\n  private String id;\r\n  private SortedSet names;\r\n}\r\n```\r\n\r\nThe mutation Query :\r\n\r\n```\r\nmutation {\r\n    save( person: {  id: &quot;1&quot;, names: [&quot;A&quot;,&quot;B&quot;]} ){\r\n        id\r\n        names\r\n    }\r\n}\r\n```` ","title":"Mutation GraphQL map an Array to java.util.Set","body":"<p>With spring-graphql 1.0.1, I am trying to map an array of String <code>[String]</code> to a <code>SortedSet</code> in a GraphQL Mutation but I get an error.</p>\n<blockquote>\n<p>Property referenced in indexed property path 'names[0]' is neither an\narray nor a List nor a Map; returned value was [[]]</p>\n</blockquote>\n<p>How to specify the conversion from a String array of a Input type to a SortedSet ?</p>\n<p>Here is my <em>schema.graphqls</em></p>\n<pre><code>type Mutation {\n    save(person: PersonInput): Person\n}\n\ninput PersonInput {\n    id: String\n    names: [String]\n}\n\nType Person {\n    id: String\n    names: [String]\n}\n</code></pre>\n<pre><code>@Data\npublic class Person {\n  private String id;\n  private SortedSet names;\n}\n</code></pre>\n<p>The mutation Query :</p>\n<pre><code>mutation {\n    save( person: {  id: &quot;1&quot;, names: [&quot;A&quot;,&quot;B&quot;]} ){\n        id\n        names\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","performance","selenium-chromedriver","ui-automation"],"comments":[{"owner":{"account_id":6991035,"reputation":61,"user_id":5360304,"display_name":"rysalka"},"score":0,"creation_date":1690397602,"post_id":74184764,"comment_id":135349559,"body_markdown":"Did you solve your problem?","body":"Did you solve your problem?"},{"owner":{"account_id":26719735,"reputation":1,"user_id":20323795,"display_name":"Ser"},"score":0,"creation_date":1690489962,"post_id":74184764,"comment_id":135365124,"body_markdown":"No(\nI&#39;ve been doing a lot of investigation. Tried to fiend any details on chrome driver developer sources, asked chat GPT but this not help","body":"No( I&#39;ve been doing a lot of investigation. Tried to fiend any details on chrome driver developer sources, asked chat GPT but this not help"}],"owner":{"account_id":26719735,"reputation":1,"user_id":20323795,"display_name":"Ser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670585143,"creation_date":1666632687,"question_id":74184764,"body_markdown":"I&#39;m currently facing page render speed issues with my Selenium tests.\r\n\r\nWhen I run Chrome 106 browser using Selenium (chromedriver) chrome automation mode and compare normal/incognito browser modes, the page render speed is five times slower.\r\n\r\nDoes anyone know how to increase performance using chromedriver ? Is it possible?\r\n\r\n[incognito mode metrics][1]\r\n[autotest mode metrics][2]\r\n\r\nThese are the arguments that I use to run the browser:\r\n\r\n&gt; C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe&quot;\r\n&gt; --allow-pre-commit-input --allow-running-insecure-content --disable-backgrounding-occluded-windows --disable-client-side-phishing-detection --disable-default-apps --disable-dev-shm-usage --disable-gpu --disable-hang-monitor --disable-popup-blocking --disable-prompt-on-repost --disable-setuid-sandbox --disable-sync --disable-user-media-security=true --disable-web-security --enable-blink-features=ShadowDOMV0 --enable-logging --log-level=0 --no-default-browser-check --no-first-run --no-sandbox --no-service-autorun --password-store=basic --remote-debugging-port=0 --start-maximized --test-type=webdriver --use-mock-keychain\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;     &gt;     options.addArguments(&quot;--start-maximized&quot;);\r\n&gt;     &gt; \toptions.addArguments(&quot;--disable-web-security&quot;);\r\n&gt;     &gt; \toptions.addArguments(&quot;--disable-user-media-security=true&quot;);\r\n&gt;     &gt; \toptions.addArguments(&quot;--allow-running-insecure-content&quot;);\r\n&gt;     &gt; \toptions.addArguments(&quot;--no-sandbox&quot;);\r\n&gt;     &gt; \toptions.addArguments(&quot;--disable-setuid-sandbox&quot;);\r\n&gt;     &gt; \toptions.addArguments(&quot;--disable-gpu&quot;);\r\n&gt;     &gt; \toptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n&gt;     &gt; \toptions.addArguments(&quot;--window-size=1600,1400&quot;);\r\n&gt;     &gt;     options.addArguments(&quot;--no-default-browser-check&quot;);\r\n\r\nWhich ways/argument(s) can help to solve my performance issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/troSH.png\r\n  [2]: https://i.stack.imgur.com/64i0F.png\r\n  [3]: https://i.stack.imgur.com/XWUYp.png","title":"Performance issues when running automated Selenium tests in Chrome in automation profile","body":"<p>I'm currently facing page render speed issues with my Selenium tests.</p>\n<p>When I run Chrome 106 browser using Selenium (chromedriver) chrome automation mode and compare normal/incognito browser modes, the page render speed is five times slower.</p>\n<p>Does anyone know how to increase performance using chromedriver ? Is it possible?</p>\n<p><a href=\"https://i.stack.imgur.com/troSH.png\" rel=\"nofollow noreferrer\">incognito mode metrics</a>\n<a href=\"https://i.stack.imgur.com/64i0F.png\" rel=\"nofollow noreferrer\">autotest mode metrics</a></p>\n<p>These are the arguments that I use to run the browser:</p>\n<blockquote>\n<p>C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe&quot;\n--allow-pre-commit-input --allow-running-insecure-content --disable-backgrounding-occluded-windows --disable-client-side-phishing-detection --disable-default-apps --disable-dev-shm-usage --disable-gpu --disable-hang-monitor --disable-popup-blocking --disable-prompt-on-repost --disable-setuid-sandbox --disable-sync --disable-user-media-security=true --disable-web-security --enable-blink-features=ShadowDOMV0 --enable-logging --log-level=0 --no-default-browser-check --no-first-run --no-sandbox --no-service-autorun --password-store=basic --remote-debugging-port=0 --start-maximized --test-type=webdriver --use-mock-keychain</p>\n<pre><code>&gt;     options.addArguments(&quot;--start-maximized&quot;);\n&gt;     options.addArguments(&quot;--disable-web-security&quot;);\n&gt;     options.addArguments(&quot;--disable-user-media-security=true&quot;);\n&gt;     options.addArguments(&quot;--allow-running-insecure-content&quot;);\n&gt;     options.addArguments(&quot;--no-sandbox&quot;);\n&gt;     options.addArguments(&quot;--disable-setuid-sandbox&quot;);\n&gt;     options.addArguments(&quot;--disable-gpu&quot;);\n&gt;     options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n&gt;     options.addArguments(&quot;--window-size=1600,1400&quot;);\n&gt;     options.addArguments(&quot;--no-default-browser-check&quot;);\n</code></pre>\n</blockquote>\n<p>Which ways/argument(s) can help to solve my performance issue?</p>\n"},{"tags":["java","jms","activemq","spring-jms"],"comments":[{"owner":{"account_id":11623061,"reputation":75,"user_id":8513741,"display_name":"user8513741"},"score":0,"creation_date":1623132943,"post_id":65346682,"comment_id":119984542,"body_markdown":"Hi Justin, yes it worked. Thank you so much for the help, apologies for the delay in response.","body":"Hi Justin, yes it worked. Thank you so much for the help, apologies for the delay in response."},{"owner":{"account_id":3299976,"reputation":426,"user_id":2776371,"display_name":"Jacob"},"score":0,"creation_date":1646306391,"post_id":65346682,"comment_id":126092878,"body_markdown":"could you please advise what the issue was? I am also seeing a similar thread dump. The stacktrace shows the place where I use Spring Webclient to make a remote API call. Is your use case also similar?","body":"could you please advise what the issue was? I am also seeing a similar thread dump. The stacktrace shows the place where I use Spring Webclient to make a remote API call. Is your use case also similar?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608233960,"creation_date":1608233566,"answer_id":65347190,"question_id":65346682,"body_markdown":"A single thread dump doesn&#39;t help much because it only provides a snapshot of what the application is doing. What you really need is a series of thread dumps so you can see what the threads are doing *over time*. However, since all you&#39;ve provided is a single thread dump I&#39;d say your problem is this thread:\r\n\r\n```\r\n&quot;DefaultMessageListenerContainer-1&quot; #42 prio=5 os_prio=0 tid=0x00007f77dd72c800 nid=0x6552 waiting on condition [0x00007f778d4c8000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n    at sun.misc.Unsafe.park(Native Method)\r\n    - parking to wait for  &lt;0x000000008a8e04d0&gt; (a java.util.concurrent.CountDownLatch$Sync)\r\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\r\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\r\n    at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)\r\n    at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:87)\r\n    at reactor.core.publisher.Mono.block(Mono.java:1680)\r\n    at com.main.service.SingularConnectionService.sendDataToSingular(SingularConnectionService.java:38)\r\n    at com.main.consumer.AmazonMQConsumer.consumeTopic(AmazonMQConsumer.java:62)\r\n    at sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)\r\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\r\n    at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114)\r\n    at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674)\r\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318)\r\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076)\r\n    at java.lang.Thread.run(Thread.java:748)\r\n```\r\nThis is the thread which is actually consuming the message from the topic. Notice that it is *blocked* in this method:\r\n```\r\ncom.main.service.SingularConnectionService.sendDataToSingular()\r\n```\r\nIt&#39;s not clear how long this blocking happens, but it&#39;s possible that this block never clears up and basically prevents your consumer from receiving any more messages. Since you&#39;re using `setConcurrency(&quot;1-1&quot;)` you only have one consumer so if it&#39;s blocked then no more messages will be consumed.\r\n\r\nYou should investigate what this method is doing and ensure you invoke any blocking operations with a timeout so threads can&#39;t be blocked indefinitely.","title":"@JmsListener suddenly stopped consuming messages without any errors or exceptions","body":"<p>A single thread dump doesn't help much because it only provides a snapshot of what the application is doing. What you really need is a series of thread dumps so you can see what the threads are doing <em>over time</em>. However, since all you've provided is a single thread dump I'd say your problem is this thread:</p>\n<pre><code>&quot;DefaultMessageListenerContainer-1&quot; #42 prio=5 os_prio=0 tid=0x00007f77dd72c800 nid=0x6552 waiting on condition [0x00007f778d4c8000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x000000008a8e04d0&gt; (a java.util.concurrent.CountDownLatch$Sync)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\n    at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)\n    at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:87)\n    at reactor.core.publisher.Mono.block(Mono.java:1680)\n    at com.main.service.SingularConnectionService.sendDataToSingular(SingularConnectionService.java:38)\n    at com.main.consumer.AmazonMQConsumer.consumeTopic(AmazonMQConsumer.java:62)\n    at sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n    at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114)\n    at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>This is the thread which is actually consuming the message from the topic. Notice that it is <em>blocked</em> in this method:</p>\n<pre><code>com.main.service.SingularConnectionService.sendDataToSingular()\n</code></pre>\n<p>It's not clear how long this blocking happens, but it's possible that this block never clears up and basically prevents your consumer from receiving any more messages. Since you're using <code>setConcurrency(&quot;1-1&quot;)</code> you only have one consumer so if it's blocked then no more messages will be consumed.</p>\n<p>You should investigate what this method is doing and ensure you invoke any blocking operations with a timeout so threads can't be blocked indefinitely.</p>\n"}],"owner":{"account_id":11623061,"reputation":75,"user_id":8513741,"display_name":"user8513741"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2676,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":65347190,"answer_count":1,"score":0,"last_activity_date":1670585083,"creation_date":1608231075,"question_id":65346682,"body_markdown":"I have an application running on production which consumes a virtual topic on ActiveMQ like\r\n```java\r\n@JmsListener(destination = &quot;Consumer.example-consumer.VirtualTopic.${spring.activemq.example.topic}&quot;)\r\npublic void consumeTopic(String message) {...}\r\n```\r\nWhere in application.properties\r\n```\r\nspring.activemq.example.topic=example.topic\r\n```\r\nAlso I have configured my Active MQ in Spring Boot like\r\n```java\r\n@Configuration\r\n@EnableJms\r\npublic class AmazonMQConfiguration {\r\n\t@Value(&quot;${spring.activemq.broker-url}&quot;)\r\n\tpublic String brokerURL;\r\n\t\r\n\t@Value(&quot;${spring.activemq.user}&quot;)\r\n\tpublic String userName;\r\n\t\r\n\t@Value(&quot;${spring.activemq.password}&quot;)\r\n\tpublic String password;\r\n\t\r\n\t@Bean\r\n\tpublic ActiveMQConnectionFactory activeMQConnectionFactory() {\r\n\t\tActiveMQConnectionFactory factory = new ActiveMQConnectionFactory();\r\n\t\tfactory.setBrokerURL(brokerURL);\r\n\t\tfactory.setUserName(userName);\r\n\t\tfactory.setPassword(password);\r\n\t\treturn factory;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic JmsTemplate jmsTemplate(){\r\n\t\treturn new JmsTemplate(activeMQConnectionFactory());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\r\n\t    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n\t    factory.setConnectionFactory(activeMQConnectionFactory());\r\n\t    factory.setConcurrency(&quot;1-1&quot;);\r\n\t    return factory;\r\n\t}\r\n}\r\n```\r\nBut suddenly yesterday my `@JmsListener` stopped consuming the messages from the virtual topic and there were around 82000 pending messages in my consumer queue in 24 hours.\r\n\r\nKindly help me with the issue as I am clueless why this issue occurred and unable to recreate it.\r\n\r\nFurther below I am providing my dependencies pom.xml code and the sample thread dump which I took when I got to know about the issue.\r\n\r\npom.xml:-\r\n```xml\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;!-- Exclude Spring Boot&#39;s Default Logging --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;!-- Add Log4j2 Dependency --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\nThread Dump:-\r\n```\r\n    2020-12-16 15:02:17\r\nFull thread dump OpenJDK 64-Bit Server VM (25.265-b01 mixed mode):\r\n\r\n&quot;Attach Listener&quot; #723 daemon prio=9 os_prio=0 tid=0x00007f77a8007800 nid=0x33b6 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;ActiveMQ InactivityMonitor Worker&quot; #55 daemon prio=5 os_prio=0 tid=0x00007f77a00bc000 nid=0x6571 waiting on condition [0x00007f7782ffd000]\r\n   java.lang.Thread.State: TIMED_WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  &lt;0x00000000855ef0a8&gt; (a java.util.concurrent.SynchronousQueue$TransferStack)\r\n\tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\r\n\tat java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)\r\n\tat java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)\r\n\tat java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)\r\n\tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n&quot;reactor-http-epoll-4&quot; #54 daemon prio=5 os_prio=0 tid=0x00007f77b84fb000 nid=0x655c runnable [0x00007f778c5af000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat io.netty.channel.epoll.Native.epollWait(Native Method)\r\n\tat io.netty.channel.epoll.Native.epollWait(Native.java:148)\r\n\tat io.netty.channel.epoll.Native.epollWait(Native.java:141)\r\n\tat io.netty.channel.epoll.EpollEventLoop.epollWaitNoTimerChange(EpollEventLoop.java:290)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:347)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n&quot;reactor-http-epoll-3&quot; #53 daemon prio=5 os_prio=0 tid=0x00007f77b84f9800 nid=0x655b runnable [0x00007f778c6b0000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat io.netty.channel.epoll.Native.epollWait(Native Method)\r\n\tat io.netty.channel.epoll.Native.epollWait(Native.java:148)\r\n\tat io.netty.channel.epoll.Native.epollWait(Native.java:141)\r\n\tat io.netty.channel.epoll.EpollEventLoop.epollWaitNoTimerChange(EpollEventLoop.java:290)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:347)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n&quot;reactor-http-epoll-2&quot; #52 daemon prio=5 os_prio=0 tid=0x00007f77b84f7800 nid=0x655a runnable [0x00007f778c7b1000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat io.netty.channel.epoll.Native.epollWait(Native Method)\r\n\tat io.netty.channel.epoll.Native.epollWait(Native.java:148)\r\n\tat io.netty.channel.epoll.Native.epollWait(Native.java:141)\r\n\tat io.netty.channel.epoll.EpollEventLoop.epollWaitNoTimerChange(EpollEventLoop.java:290)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:347)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n&quot;reactor-http-epoll-1&quot; #51 daemon prio=5 os_prio=0 tid=0x00007f77b84f6800 nid=0x6559 runnable [0x00007f778c8b2000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat io.netty.channel.epoll.Native.epollWait(Native Method)\r\n\tat io.netty.channel.epoll.Native.epollWait(Native.java:148)\r\n\tat io.netty.channel.epoll.Native.epollWait(Native.java:141)\r\n\tat io.netty.channel.epoll.EpollEventLoop.epollWaitNoTimerChange(EpollEventLoop.java:290)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:347)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n&quot;DestroyJavaVM&quot; #50 prio=5 os_prio=0 tid=0x00007f77dc04c800 nid=0x651e waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;ActiveMQ Transport: ssl://b-d15b4567-aw8b-4k80-8jd9-343hht45ab97-2.mq.ap-south-1.amazonaws.com/172.158.11.158:61617&quot; #44 prio=5 os_prio=0 tid=0x00007f77a8009800 nid=0x6554 runnable [0x00007f778d2c6000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\r\n\tat sun.security.ssl.InputRecord.read(InputRecord.java:503)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)\r\n\t- locked &lt;0x00000000855731a0&gt; (a java.lang.Object)\r\n\tat sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)\r\n\tat sun.security.ssl.AppInputStream.read(AppInputStream.java:105)\r\n\t- locked &lt;0x00000000855c6688&gt; (a sun.security.ssl.AppInputStream)\r\n\tat org.apache.activemq.transport.tcp.TcpBufferedInputStream.fill(TcpBufferedInputStream.java:50)\r\n\tat org.apache.activemq.transport.tcp.TcpTransport$2.fill(TcpTransport.java:634)\r\n\tat org.apache.activemq.transport.tcp.TcpBufferedInputStream.read(TcpBufferedInputStream.java:59)\r\n\tat org.apache.activemq.transport.tcp.TcpTransport$2.read(TcpTransport.java:619)\r\n\tat java.io.DataInputStream.readInt(DataInputStream.java:387)\r\n\tat org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:268)\r\n\tat org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:240)\r\n\tat org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:232)\r\n\tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n&quot;DefaultMessageListenerContainer-1&quot; #42 prio=5 os_prio=0 tid=0x00007f77dd72c800 nid=0x6552 waiting on condition [0x00007f778d4c8000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  &lt;0x000000008a8e04d0&gt; (a java.util.concurrent.CountDownLatch$Sync)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\r\n\tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)\r\n\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:87)\r\n\tat reactor.core.publisher.Mono.block(Mono.java:1680)\r\n\tat com.main.service.SingularConnectionService.sendDataToSingular(SingularConnectionService.java:38)\r\n\tat com.main.consumer.AmazonMQConsumer.consumeTopic(AmazonMQConsumer.java:62)\r\n\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\r\n\tat org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114)\r\n\tat org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77)\r\n\tat org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736)\r\n\tat org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696)\r\n\tat org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674)\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318)\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257)\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189)\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179)\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n&quot;ActiveMQ InactivityMonitor WriteCheckTimer&quot; #40 daemon prio=5 os_prio=0 tid=0x00007f7798038000 nid=0x6550 in Object.wait() [0x00007f778d6ca000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\tat java.lang.Object.wait(Native Method)\r\n\tat java.util.TimerThread.mainLoop(Timer.java:552)\r\n\t- locked &lt;0x000000008556c420&gt; (a java.util.TaskQueue)\r\n\tat java.util.TimerThread.run(Timer.java:505)\r\n\r\n&quot;ActiveMQ Transport: ssl://b-d15b4567-aw8b-4k80-8jd9-343hht45ab97-2.mq.ap-south-1.amazonaws.com/172.158.11.158:61617&quot; #38 prio=5 os_prio=0 tid=0x00007f7794571800 nid=0x654e runnable [0x00007f778d8cc000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\r\n\tat sun.security.ssl.InputRecord.read(InputRecord.java:503)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)\r\n\t- locked &lt;0x00000000855d9288&gt; (a java.lang.Object)\r\n\tat sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)\r\n\tat sun.security.ssl.AppInputStream.read(AppInputStream.java:105)\r\n\t- locked &lt;0x00000000855da5e8&gt; (a sun.security.ssl.AppInputStream)\r\n\tat org.apache.activemq.transport.tcp.TcpBufferedInputStream.fill(TcpBufferedInputStream.java:50)\r\n\tat org.apache.activemq.transport.tcp.TcpTransport$2.fill(TcpTransport.java:634)\r\n\tat org.apache.activemq.transport.tcp.TcpBufferedInputStream.read(TcpBufferedInputStream.java:59)\r\n\tat org.apache.activemq.transport.tcp.TcpTransport$2.read(TcpTransport.java:619)\r\n\tat java.io.DataInputStream.readInt(DataInputStream.java:387)\r\n\tat org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:268)\r\n\tat org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:240)\r\n\tat org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:232)\r\n\tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n&quot;ActiveMQ InactivityMonitor ReadCheckTimer&quot; #37 daemon prio=5 os_prio=0 tid=0x00007f7794210800 nid=0x654d in Object.wait() [0x00007f778d9cd000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\tat java.lang.Object.wait(Native Method)\r\n\tat java.util.TimerThread.mainLoop(Timer.java:552)\r\n\t- locked &lt;0x00000000855eebe0&gt; (a java.util.TaskQueue)\r\n\tat java.util.TimerThread.run(Timer.java:505)\r\n\r\n&quot;DefaultMessageListenerContainer-1&quot; #36 prio=5 os_prio=0 tid=0x00007f77dd743000 nid=0x654c in Object.wait() [0x00007f778dcce000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\tat java.lang.Object.wait(Native Method)\r\n\tat org.apache.activemq.FifoMessageDispatchChannel.dequeue(FifoMessageDispatchChannel.java:74)\r\n\t- locked &lt;0x00000000855eac88&gt; (a java.lang.Object)\r\n\tat org.apache.activemq.ActiveMQMessageConsumer.dequeue(ActiveMQMessageConsumer.java:486)\r\n\tat org.apache.activemq.ActiveMQMessageConsumer.receive(ActiveMQMessageConsumer.java:653)\r\n\tat org.springframework.jms.support.destination.JmsDestinationAccessor.receiveFromConsumer(JmsDestinationAccessor.java:132)\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveMessage(AbstractPollingMessageListenerContainer.java:418)\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:303)\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257)\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189)\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179)\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n&quot;http-nio-8082-Acceptor&quot; #34 daemon prio=5 os_prio=0 tid=0x00007f77dd827800 nid=0x654a runnable [0x00007f778ded0000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\r\n\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:419)\r\n\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:247)\r\n\t- locked &lt;0x00000000853bcca0&gt; (a java.lang.Object)\r\n\tat org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:469)\r\n\tat org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:71)\r\n\tat org.apache.tomcat.util.net.Acceptor.run(Acceptor.java:106)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```","title":"@JmsListener suddenly stopped consuming messages without any errors or exceptions","body":"<p>I have an application running on production which consumes a virtual topic on ActiveMQ like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JmsListener(destination = &quot;Consumer.example-consumer.VirtualTopic.${spring.activemq.example.topic}&quot;)\npublic void consumeTopic(String message) {...}\n</code></pre>\n<p>Where in application.properties</p>\n<pre><code>spring.activemq.example.topic=example.topic\n</code></pre>\n<p>Also I have configured my Active MQ in Spring Boot like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJms\npublic class AmazonMQConfiguration {\n    @Value(&quot;${spring.activemq.broker-url}&quot;)\n    public String brokerURL;\n    \n    @Value(&quot;${spring.activemq.user}&quot;)\n    public String userName;\n    \n    @Value(&quot;${spring.activemq.password}&quot;)\n    public String password;\n    \n    @Bean\n    public ActiveMQConnectionFactory activeMQConnectionFactory() {\n        ActiveMQConnectionFactory factory = new ActiveMQConnectionFactory();\n        factory.setBrokerURL(brokerURL);\n        factory.setUserName(userName);\n        factory.setPassword(password);\n        return factory;\n    }\n    \n    @Bean\n    public JmsTemplate jmsTemplate(){\n        return new JmsTemplate(activeMQConnectionFactory());\n    }\n\n    @Bean\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(activeMQConnectionFactory());\n        factory.setConcurrency(&quot;1-1&quot;);\n        return factory;\n    }\n}\n</code></pre>\n<p>But suddenly yesterday my <code>@JmsListener</code> stopped consuming the messages from the virtual topic and there were around 82000 pending messages in my consumer queue in 24 hours.</p>\n<p>Kindly help me with the issue as I am clueless why this issue occurred and unable to recreate it.</p>\n<p>Further below I am providing my dependencies pom.xml code and the sample thread dump which I took when I got to know about the issue.</p>\n<p>pom.xml:-</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- Exclude Spring Boot's Default Logging --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- Add Log4j2 Dependency --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Thread Dump:-</p>\n<pre><code>    2020-12-16 15:02:17\nFull thread dump OpenJDK 64-Bit Server VM (25.265-b01 mixed mode):\n\n&quot;Attach Listener&quot; #723 daemon prio=9 os_prio=0 tid=0x00007f77a8007800 nid=0x33b6 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;ActiveMQ InactivityMonitor Worker&quot; #55 daemon prio=5 os_prio=0 tid=0x00007f77a00bc000 nid=0x6571 waiting on condition [0x00007f7782ffd000]\n   java.lang.Thread.State: TIMED_WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000000855ef0a8&gt; (a java.util.concurrent.SynchronousQueue$TransferStack)\n    at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n    at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)\n    at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)\n    at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n\n&quot;reactor-http-epoll-4&quot; #54 daemon prio=5 os_prio=0 tid=0x00007f77b84fb000 nid=0x655c runnable [0x00007f778c5af000]\n   java.lang.Thread.State: RUNNABLE\n    at io.netty.channel.epoll.Native.epollWait(Native Method)\n    at io.netty.channel.epoll.Native.epollWait(Native.java:148)\n    at io.netty.channel.epoll.Native.epollWait(Native.java:141)\n    at io.netty.channel.epoll.EpollEventLoop.epollWaitNoTimerChange(EpollEventLoop.java:290)\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:347)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n\n&quot;reactor-http-epoll-3&quot; #53 daemon prio=5 os_prio=0 tid=0x00007f77b84f9800 nid=0x655b runnable [0x00007f778c6b0000]\n   java.lang.Thread.State: RUNNABLE\n    at io.netty.channel.epoll.Native.epollWait(Native Method)\n    at io.netty.channel.epoll.Native.epollWait(Native.java:148)\n    at io.netty.channel.epoll.Native.epollWait(Native.java:141)\n    at io.netty.channel.epoll.EpollEventLoop.epollWaitNoTimerChange(EpollEventLoop.java:290)\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:347)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n\n&quot;reactor-http-epoll-2&quot; #52 daemon prio=5 os_prio=0 tid=0x00007f77b84f7800 nid=0x655a runnable [0x00007f778c7b1000]\n   java.lang.Thread.State: RUNNABLE\n    at io.netty.channel.epoll.Native.epollWait(Native Method)\n    at io.netty.channel.epoll.Native.epollWait(Native.java:148)\n    at io.netty.channel.epoll.Native.epollWait(Native.java:141)\n    at io.netty.channel.epoll.EpollEventLoop.epollWaitNoTimerChange(EpollEventLoop.java:290)\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:347)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n\n&quot;reactor-http-epoll-1&quot; #51 daemon prio=5 os_prio=0 tid=0x00007f77b84f6800 nid=0x6559 runnable [0x00007f778c8b2000]\n   java.lang.Thread.State: RUNNABLE\n    at io.netty.channel.epoll.Native.epollWait(Native Method)\n    at io.netty.channel.epoll.Native.epollWait(Native.java:148)\n    at io.netty.channel.epoll.Native.epollWait(Native.java:141)\n    at io.netty.channel.epoll.EpollEventLoop.epollWaitNoTimerChange(EpollEventLoop.java:290)\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:347)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n\n&quot;DestroyJavaVM&quot; #50 prio=5 os_prio=0 tid=0x00007f77dc04c800 nid=0x651e waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;ActiveMQ Transport: ssl://b-d15b4567-aw8b-4k80-8jd9-343hht45ab97-2.mq.ap-south-1.amazonaws.com/172.158.11.158:61617&quot; #44 prio=5 os_prio=0 tid=0x00007f77a8009800 nid=0x6554 runnable [0x00007f778d2c6000]\n   java.lang.Thread.State: RUNNABLE\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\n    at sun.security.ssl.InputRecord.read(InputRecord.java:503)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)\n    - locked &lt;0x00000000855731a0&gt; (a java.lang.Object)\n    at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)\n    at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)\n    - locked &lt;0x00000000855c6688&gt; (a sun.security.ssl.AppInputStream)\n    at org.apache.activemq.transport.tcp.TcpBufferedInputStream.fill(TcpBufferedInputStream.java:50)\n    at org.apache.activemq.transport.tcp.TcpTransport$2.fill(TcpTransport.java:634)\n    at org.apache.activemq.transport.tcp.TcpBufferedInputStream.read(TcpBufferedInputStream.java:59)\n    at org.apache.activemq.transport.tcp.TcpTransport$2.read(TcpTransport.java:619)\n    at java.io.DataInputStream.readInt(DataInputStream.java:387)\n    at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:268)\n    at org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:240)\n    at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:232)\n    at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215)\n    at java.lang.Thread.run(Thread.java:748)\n\n&quot;DefaultMessageListenerContainer-1&quot; #42 prio=5 os_prio=0 tid=0x00007f77dd72c800 nid=0x6552 waiting on condition [0x00007f778d4c8000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x000000008a8e04d0&gt; (a java.util.concurrent.CountDownLatch$Sync)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\n    at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)\n    at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:87)\n    at reactor.core.publisher.Mono.block(Mono.java:1680)\n    at com.main.service.SingularConnectionService.sendDataToSingular(SingularConnectionService.java:38)\n    at com.main.consumer.AmazonMQConsumer.consumeTopic(AmazonMQConsumer.java:62)\n    at sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n    at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114)\n    at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076)\n    at java.lang.Thread.run(Thread.java:748)\n\n&quot;ActiveMQ InactivityMonitor WriteCheckTimer&quot; #40 daemon prio=5 os_prio=0 tid=0x00007f7798038000 nid=0x6550 in Object.wait() [0x00007f778d6ca000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at java.util.TimerThread.mainLoop(Timer.java:552)\n    - locked &lt;0x000000008556c420&gt; (a java.util.TaskQueue)\n    at java.util.TimerThread.run(Timer.java:505)\n\n&quot;ActiveMQ Transport: ssl://b-d15b4567-aw8b-4k80-8jd9-343hht45ab97-2.mq.ap-south-1.amazonaws.com/172.158.11.158:61617&quot; #38 prio=5 os_prio=0 tid=0x00007f7794571800 nid=0x654e runnable [0x00007f778d8cc000]\n   java.lang.Thread.State: RUNNABLE\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\n    at sun.security.ssl.InputRecord.read(InputRecord.java:503)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)\n    - locked &lt;0x00000000855d9288&gt; (a java.lang.Object)\n    at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)\n    at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)\n    - locked &lt;0x00000000855da5e8&gt; (a sun.security.ssl.AppInputStream)\n    at org.apache.activemq.transport.tcp.TcpBufferedInputStream.fill(TcpBufferedInputStream.java:50)\n    at org.apache.activemq.transport.tcp.TcpTransport$2.fill(TcpTransport.java:634)\n    at org.apache.activemq.transport.tcp.TcpBufferedInputStream.read(TcpBufferedInputStream.java:59)\n    at org.apache.activemq.transport.tcp.TcpTransport$2.read(TcpTransport.java:619)\n    at java.io.DataInputStream.readInt(DataInputStream.java:387)\n    at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:268)\n    at org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:240)\n    at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:232)\n    at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215)\n    at java.lang.Thread.run(Thread.java:748)\n\n&quot;ActiveMQ InactivityMonitor ReadCheckTimer&quot; #37 daemon prio=5 os_prio=0 tid=0x00007f7794210800 nid=0x654d in Object.wait() [0x00007f778d9cd000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at java.util.TimerThread.mainLoop(Timer.java:552)\n    - locked &lt;0x00000000855eebe0&gt; (a java.util.TaskQueue)\n    at java.util.TimerThread.run(Timer.java:505)\n\n&quot;DefaultMessageListenerContainer-1&quot; #36 prio=5 os_prio=0 tid=0x00007f77dd743000 nid=0x654c in Object.wait() [0x00007f778dcce000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at org.apache.activemq.FifoMessageDispatchChannel.dequeue(FifoMessageDispatchChannel.java:74)\n    - locked &lt;0x00000000855eac88&gt; (a java.lang.Object)\n    at org.apache.activemq.ActiveMQMessageConsumer.dequeue(ActiveMQMessageConsumer.java:486)\n    at org.apache.activemq.ActiveMQMessageConsumer.receive(ActiveMQMessageConsumer.java:653)\n    at org.springframework.jms.support.destination.JmsDestinationAccessor.receiveFromConsumer(JmsDestinationAccessor.java:132)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveMessage(AbstractPollingMessageListenerContainer.java:418)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:303)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076)\n    at java.lang.Thread.run(Thread.java:748)\n\n&quot;http-nio-8082-Acceptor&quot; #34 daemon prio=5 os_prio=0 tid=0x00007f77dd827800 nid=0x654a runnable [0x00007f778ded0000]\n   java.lang.Thread.State: RUNNABLE\n    at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\n    at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:419)\n    at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:247)\n    - locked &lt;0x00000000853bcca0&gt; (a java.lang.Object)\n    at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:469)\n    at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:71)\n    at org.apache.tomcat.util.net.Acceptor.run(Acceptor.java:106)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","timezone","date-format","ical4j"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1670416193,"post_id":74716548,"comment_id":131870752,"body_markdown":"`DateTimeFormatter` is not being used. Your error comes from `java.text.DateFormat.parse`. Why are you mixing time APIs?","body":"<code>DateTimeFormatter</code> is not being used. Your error comes from <code>java.text.DateFormat.parse</code>. Why are you mixing time APIs?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1670416274,"post_id":74716548,"comment_id":131870787,"body_markdown":"@g00se the `DateTimeFormatter` is used, but it&#39;s not the one that throws the `java.text.ParseException`, of course.","body":"@g00se the <code>DateTimeFormatter</code> is used, but it&#39;s not the one that throws the <code>java.text.ParseException</code>, of course."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670416423,"post_id":74716548,"comment_id":131870854,"body_markdown":"@deHaar. I&#39;m not quite sure what your point is. We can both see that `DateTimeFormatter` appears in the code, obviously...","body":"@deHaar. I&#39;m not quite sure what your point is. We can both see that <code>DateTimeFormatter</code> appears in the code, obviously..."},{"owner":{"account_id":27160088,"reputation":21,"user_id":20698292,"display_name":"Swati Satrusalya"},"score":0,"creation_date":1670418101,"post_id":74716548,"comment_id":131871462,"body_markdown":"I am using ical4j because i am going to use it later to write iCalendar data streams .I tried above code for timezone (ex.Asia/Calcutta).I am getting expected result without any exception.","body":"I am using ical4j because i am going to use it later to write iCalendar data streams .I tried above code for timezone (ex.Asia/Calcutta).I am getting expected result without any exception."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1670418497,"post_id":74716548,"comment_id":131871590,"body_markdown":"@g00se Just nitpicking because the line `dtstart = new DtStart(now.format(ICS_DATE_FORMATTER),tz);` definitely (and successfully) uses the `DateTimeFormatter`. You are right, the `Exception` is not thrown by it, it&#39;s not a `DateTimeParseException`","body":"@g00se Just nitpicking because the line <code>dtstart = new DtStart(now.format(ICS_DATE_FORMATTER),tz);</code> definitely (and successfully) uses the <code>DateTimeFormatter</code>. You are right, the <code>Exception</code> is not thrown by it, it&#39;s not a <code>DateTimeParseException</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1670418516,"post_id":74716548,"comment_id":131871598,"body_markdown":"OK. Actually, according to the Javadoc, it does support `java.time` so all should be well in theory. Are you using the latest version?","body":"OK. Actually, according to the Javadoc, it does support <code>java.time</code> so all should be well in theory. Are you using the latest version?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1670418564,"post_id":74716548,"comment_id":131871619,"body_markdown":"We should probably see the constructor of or the whole class `DtStart`.","body":"We should probably see the constructor of or the whole class <code>DtStart</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1670418699,"post_id":74716548,"comment_id":131871670,"body_markdown":"Try `dtstart = new DtStart(now);`","body":"Try <code>dtstart = new DtStart(now);</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1670427695,"post_id":74716548,"comment_id":131875039,"body_markdown":"@deHaar [`DtStart` dicumentation here](https://javadoc.io/static/org.mnode.ical4j/ical4j/3.2.7/net/fortuna/ical4j/model/property/DtStart.html).","body":"@deHaar <a href=\"https://javadoc.io/static/org.mnode.ical4j/ical4j/3.2.7/net/fortuna/ical4j/model/property/DtStart.html\" rel=\"nofollow noreferrer\"><code>DtStart</code> dicumentation here</a>."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1670428169,"post_id":74716548,"comment_id":131875232,"body_markdown":"@OleV.V. looks like a case for legacy compatibility: `new DtStart(Date.from(Instant.now()), tz)` might be working. No `LocalDateTime` needed","body":"@OleV.V. looks like a case for legacy compatibility: <code>new DtStart(Date.from(Instant.now()), tz)</code> might be working. No <code>LocalDateTime</code> needed"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1670428308,"post_id":74716548,"comment_id":131875288,"body_markdown":"And I have to correct my comment(s) (far) above: The `DateTimeFormatter` is used, but that&#39;s the problem: It&#39;s used to format the `LocalDateTime` as `String`, not for parsing it. That results in an invalid `String` representation, at least from the perspective of `DfStart`.","body":"And I have to correct my comment(s) (far) above: The <code>DateTimeFormatter</code> is used, but that&#39;s the problem: It&#39;s used to format the <code>LocalDateTime</code> as <code>String</code>, not for parsing it. That results in an invalid <code>String</code> representation, at least from the perspective of <code>DfStart</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1670428521,"post_id":74716548,"comment_id":131875363,"body_markdown":"There is [a version 4.0.0-beta4](https://javadoc.io/doc/org.mnode.ical4j/ical4j/latest/index.html) out where `DtStart` does support java.time. The OP would probably think twice before using it for production code immediately. @deHaar","body":"There is <a href=\"https://javadoc.io/doc/org.mnode.ical4j/ical4j/latest/index.html\" rel=\"nofollow noreferrer\">a version 4.0.0-beta4</a> out where <code>DtStart</code> does support java.time. The OP would probably think twice before using it for production code immediately. @deHaar"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670429977,"post_id":74716548,"comment_id":131875903,"body_markdown":"A little debugging and experimentation revealed that the `DtStart` constructor that you are calling expects the time in UTC with a trailing `Z`, for example `20221207T060935Z` (tested with ical4j 3.2.7).","body":"A little debugging and experimentation revealed that the <code>DtStart</code> constructor that you are calling expects the time in UTC with a trailing <code>Z</code>, for example <code>20221207T060935Z</code> (tested with ical4j 3.2.7)."},{"owner":{"account_id":27160088,"reputation":21,"user_id":20698292,"display_name":"Swati Satrusalya"},"score":0,"creation_date":1670430177,"post_id":74716548,"comment_id":131875977,"body_markdown":"Its working for all the timezone except for the timezone &quot;Australia/Lord_Howe&quot;.","body":"Its working for all the timezone except for the timezone &quot;Australia/Lord_Howe&quot;."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670430476,"post_id":74716548,"comment_id":131876092,"body_markdown":"Interesting! For me too it does work without `Z` with a couple time zones I tried, and with Australia/Lord_Howe only with `Z`.  Cant tell whats special about that zone. Well, yes, indeed I can: its the only time zone in the world that has 30 minutes summer time transitions (standard is 1 hour). But if that would cause ical4j to behave differently??!","body":"Interesting! For me too it does work without <code>Z</code> with a couple time zones I tried, and with Australia/Lord_Howe only with <code>Z</code>.  Cant tell whats special about that zone. Well, yes, indeed I can: its the only time zone in the world that has 30 minutes summer time transitions (standard is 1 hour). But if that would cause ical4j to behave differently??!"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670432098,"post_id":74716548,"comment_id":131876684,"body_markdown":"A further observation: passing the value `20220707T233445` does work with Australia/Lord_Howe. So maybe it only fails with summer time (DST)?? Its beginning to look like a bug in ical4j to me. I searched a bit for a description of one, but found nothing, though. And then the value mentioned fails with time zone Antarctica/Troll (a time zone that has 2 hours summer time adjustment). :-(","body":"A further observation: passing the value <code>20220707T233445</code> does work with Australia/Lord_Howe. So maybe it only fails with summer time (DST)?? Its beginning to look like a bug in ical4j to me. I searched a bit for a description of one, but found nothing, though. And then the value mentioned fails with time zone Antarctica/Troll (a time zone that has 2 hours summer time adjustment). :-("},{"owner":{"account_id":27160088,"reputation":21,"user_id":20698292,"display_name":"Swati Satrusalya"},"score":1,"creation_date":1670493007,"post_id":74716548,"comment_id":131889639,"body_markdown":"yeah correct problem with summer time(DST) for Australia/Lord_howe\n@Ole V.V. Seems like a bug in ical4j .","body":"yeah correct problem with summer time(DST) for Australia/Lord_howe @Ole V.V. Seems like a bug in ical4j ."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670677706,"post_id":74716548,"comment_id":131931127,"body_markdown":"It seems that it should be possible to [create a new issue on GitHub here](https://github.com/ical4j/ical4j/issues).","body":"It seems that it should be possible to <a href=\"https://github.com/ical4j/ical4j/issues\" rel=\"nofollow noreferrer\">create a new issue on GitHub here</a>."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670584462,"creation_date":1670440450,"answer_id":74721873,"question_id":74716548,"body_markdown":"No need for parsing:\r\n\r\n    package com.technojeeves.ical;\r\n    \r\n    import java.util.List;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    import net.fortuna.ical4j.model.TimeZone;\r\n    import net.fortuna.ical4j.model.TimeZoneRegistry;\r\n    import net.fortuna.ical4j.model.TimeZoneRegistryFactory;\r\n    import net.fortuna.ical4j.model.property.DtStart;\r\n    \r\n    import net.fortuna.ical4j.model.ParameterList;\r\n    import net.fortuna.ical4j.model.Parameter;\r\n    \r\n    import net.fortuna.ical4j.model.parameter.TzId;\r\n    \r\n    public class App {\r\n        public static void main(String[] args) {\r\n            LocalDateTime now = LocalDateTime.now();\r\n            DtStart&lt;LocalDateTime&gt; localDtStart = new DtStart&lt;&gt;(now);\r\n            System.out.println(localDtStart);\r\n            ParameterList params = new ParameterList(List.of(new TzId(&quot;Australia/Lord_Howe&quot;)));\r\n            DtStart&lt;ZonedDateTime&gt; zonedDtStart = new DtStart&lt;&gt;(params, ZonedDateTime.now());\r\n            System.out.println(zonedDtStart);\r\n        }\r\n    }\r\n\r\nPrints\r\n\r\n    DTSTART:20221208T150844\r\n    \r\n    DTSTART;TZID=Australia/Lord_Howe:20221209T020844\r\n\r\nSo far I haven&#39;t got the source of the version I&#39;m using (4.0.0-beta4). Yes, it&#39;s a beta, but I suspect they might have supported `Temporal` for some time. Actually I discover that all versions 4.x support it.\r\n\r\nMy guess is that they&#39;ll fix the above ctor in time to act on `ZonedDateTime` as the initializing type, since, at the moment, if that&#39;s used, `DtStart.toString` shows no sign of the zone.\r\n","title":"java.text.ParseException: Unparseable date: &quot;20221207T170935&quot; in ical4j when specifying time zone Australia/Lord_Howe","body":"<p>No need for parsing:</p>\n<pre><code>package com.technojeeves.ical;\n\nimport java.util.List;\n\nimport java.time.LocalDateTime;\nimport java.time.ZonedDateTime;\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\n\nimport net.fortuna.ical4j.model.TimeZone;\nimport net.fortuna.ical4j.model.TimeZoneRegistry;\nimport net.fortuna.ical4j.model.TimeZoneRegistryFactory;\nimport net.fortuna.ical4j.model.property.DtStart;\n\nimport net.fortuna.ical4j.model.ParameterList;\nimport net.fortuna.ical4j.model.Parameter;\n\nimport net.fortuna.ical4j.model.parameter.TzId;\n\npublic class App {\n    public static void main(String[] args) {\n        LocalDateTime now = LocalDateTime.now();\n        DtStart&lt;LocalDateTime&gt; localDtStart = new DtStart&lt;&gt;(now);\n        System.out.println(localDtStart);\n        ParameterList params = new ParameterList(List.of(new TzId(&quot;Australia/Lord_Howe&quot;)));\n        DtStart&lt;ZonedDateTime&gt; zonedDtStart = new DtStart&lt;&gt;(params, ZonedDateTime.now());\n        System.out.println(zonedDtStart);\n    }\n}\n</code></pre>\n<p>Prints</p>\n<pre><code>DTSTART:20221208T150844\n\nDTSTART;TZID=Australia/Lord_Howe:20221209T020844\n</code></pre>\n<p>So far I haven't got the source of the version I'm using (4.0.0-beta4). Yes, it's a beta, but I suspect they might have supported <code>Temporal</code> for some time. Actually I discover that all versions 4.x support it.</p>\n<p>My guess is that they'll fix the above ctor in time to act on <code>ZonedDateTime</code> as the initializing type, since, at the moment, if that's used, <code>DtStart.toString</code> shows no sign of the zone.</p>\n"}],"owner":{"account_id":27160088,"reputation":21,"user_id":20698292,"display_name":"Swati Satrusalya"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1670584462,"creation_date":1670415333,"question_id":74716548,"body_markdown":"I am getting a parsing exception while I am trying the following code\r\n\r\n        public class Timezone {\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            \r\n            TimeZoneRegistry registry = TimeZoneRegistryFactory.getInstance().createRegistry();\r\n            TimeZone tz;\r\n            LocalDateTime now = LocalDateTime.now();\r\n            final DateTimeFormatter ICS_DATE_FORMATTER =\r\n                    DateTimeFormatter.ofPattern(&quot;yyyyMMdd&#39;T&#39;HHmmss&quot;);\r\n            \r\n            //tz = registry.getTimeZone(&quot;Asia/Calcutta&quot;);\r\n            tz = registry.getTimeZone(&quot;Australia/Lord_Howe&quot;);\r\n            DtStart dtstart;\r\n            try {\r\n    \t\tdtstart = new DtStart(now.format(ICS_DATE_FORMATTER),tz);\r\n            } catch (Exception e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }    \r\n        }\r\n    }\r\n    \r\n    java.text.ParseException: Unparseable date: &quot;20221207T170935&quot;\r\n        at java.base/java.text.DateFormat.parse(DateFormat.java:395)\r\n        at net.fortuna.ical4j.model.DateTime.setTime(DateTime.java:418)\r\n        at net.fortuna.ical4j.model.DateTime.&lt;init&gt;(DateTime.java:325)\r\n        at net.fortuna.ical4j.model.property.DateProperty.setValue(DateProperty.java:137)\r\n        at net.fortuna.ical4j.model.property.DtStart.&lt;init&gt;(DtStart.java:146)\r\n        at Timezone.main(Timezone.java:33)\r\n\t\r\nI have used ical4j 3.0.19 jar and their dependency jar .\r\n\r\nIts working for all the timezone except for the timezone &quot;Australia/Lord_Howe&quot;.\r\n\r\n\r\nI am expecting the Dtstart value as :\r\n\r\nDTSTART;TZID=Australia/Lord_Howe:20221207T170935","title":"java.text.ParseException: Unparseable date: &quot;20221207T170935&quot; in ical4j when specifying time zone Australia/Lord_Howe","body":"<p>I am getting a parsing exception while I am trying the following code</p>\n<pre><code>    public class Timezone {\n\n    public static void main(String[] args) {\n        \n        \n        TimeZoneRegistry registry = TimeZoneRegistryFactory.getInstance().createRegistry();\n        TimeZone tz;\n        LocalDateTime now = LocalDateTime.now();\n        final DateTimeFormatter ICS_DATE_FORMATTER =\n                DateTimeFormatter.ofPattern(&quot;yyyyMMdd'T'HHmmss&quot;);\n        \n        //tz = registry.getTimeZone(&quot;Asia/Calcutta&quot;);\n        tz = registry.getTimeZone(&quot;Australia/Lord_Howe&quot;);\n        DtStart dtstart;\n        try {\n        dtstart = new DtStart(now.format(ICS_DATE_FORMATTER),tz);\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }    \n    }\n}\n\njava.text.ParseException: Unparseable date: &quot;20221207T170935&quot;\n    at java.base/java.text.DateFormat.parse(DateFormat.java:395)\n    at net.fortuna.ical4j.model.DateTime.setTime(DateTime.java:418)\n    at net.fortuna.ical4j.model.DateTime.&lt;init&gt;(DateTime.java:325)\n    at net.fortuna.ical4j.model.property.DateProperty.setValue(DateProperty.java:137)\n    at net.fortuna.ical4j.model.property.DtStart.&lt;init&gt;(DtStart.java:146)\n    at Timezone.main(Timezone.java:33)\n</code></pre>\n<p>I have used ical4j 3.0.19 jar and their dependency jar .</p>\n<p>Its working for all the timezone except for the timezone &quot;Australia/Lord_Howe&quot;.</p>\n<p>I am expecting the Dtstart value as :</p>\n<p>DTSTART;TZID=Australia/Lord_Howe:20221207T170935</p>\n"},{"tags":["java","android","compiler-errors"],"comments":[{"owner":{"display_name":"user166390"},"score":0,"creation_date":1325481281,"post_id":8697513,"comment_id":10820279,"body_markdown":"http://stackoverflow.com/questions/1678122/must-override-a-superclass-method-errors-after-importing-a-project-into-eclips","body":"<a href=\"http://stackoverflow.com/questions/1678122/must-override-a-superclass-method-errors-after-importing-a-project-into-eclips\" title=\"must override a superclass method errors after importing a project into eclips\">stackoverflow.com/questions/1678122/&hellip;</a>"},{"owner":{"account_id":7304266,"reputation":561,"user_id":5565746,"display_name":"Vineela Thonupunuri"},"score":0,"creation_date":1543873608,"post_id":8697513,"comment_id":94069719,"body_markdown":"If changing compiler to 1.6 don&#39;t work then refresh the project and build it. It worked for me.","body":"If changing compiler to 1.6 don&#39;t work then refresh the project and build it. It worked for me."}],"answers":[{"tags":[],"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"down_vote_count":0,"up_vote_count":173,"is_accepted":true,"score":173,"last_activity_date":1634078131,"creation_date":1325480641,"answer_id":8697564,"question_id":8697513,"body_markdown":"Check the project&#39;s properties and verify that **Java Compiler -&gt; Compiler compliance level** is set to **1.6** (or a later version).\r\n\r\n\r\nIt worked for me... i am using eclipse 2021.... and ..\r\n","title":"Why do I get &quot;must override a superclass method&quot; with @Override?","body":"<p>Check the project's properties and verify that <strong>Java Compiler -&gt; Compiler compliance level</strong> is set to <strong>1.6</strong> (or a later version).</p>\n<p>It worked for me... i am using eclipse 2021.... and ..</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1487220409,"creation_date":1325483369,"answer_id":8697805,"question_id":8697513,"body_markdown":"This is most likely due to a source code level incompatibility between Java 1.5 and 1.6.\r\n\r\n  - In Java 5, the `@Override` annotation requires that the method is actually overriding a method in a superclass.\r\n\r\n  - In Java 6 and later, the `@Override` annotation will *also* be satisfied if the method is implementing an abstract method in a superclass or interface.\r\n\r\nSo the most likely reason for seeing this in code that you expect to work is that you are compiling Java 6 (or later) code with a Java 5 compiler (or some other compiler with the compiler&#39;s source compliance level set to 5).","title":"Why do I get &quot;must override a superclass method&quot; with @Override?","body":"<p>This is most likely due to a source code level incompatibility between Java 1.5 and 1.6.</p>\n\n<ul>\n<li><p>In Java 5, the <code>@Override</code> annotation requires that the method is actually overriding a method in a superclass.</p></li>\n<li><p>In Java 6 and later, the <code>@Override</code> annotation will <em>also</em> be satisfied if the method is implementing an abstract method in a superclass or interface.</p></li>\n</ul>\n\n<p>So the most likely reason for seeing this in code that you expect to work is that you are compiling Java 6 (or later) code with a Java 5 compiler (or some other compiler with the compiler's source compliance level set to 5).</p>\n"},{"tags":[],"owner":{"account_id":1673765,"reputation":61,"user_id":1539701,"display_name":"John Paul Manoza"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1349945490,"creation_date":1342758417,"answer_id":11572902,"question_id":8697513,"body_markdown":"If you set the compiler to 1.6 and still get this error, try to check your imports, because what Eclipse does is that it always try to do this  \r\n\r\n    import android.content.DialogInterface.OnClickListener  \r\n\r\ninstead of -&gt; \r\n\r\n    import android.view.View.OnClickListener\r\n  \r\nThat solves my problem.","title":"Why do I get &quot;must override a superclass method&quot; with @Override?","body":"<p>If you set the compiler to 1.6 and still get this error, try to check your imports, because what Eclipse does is that it always try to do this  </p>\n\n<pre><code>import android.content.DialogInterface.OnClickListener  \n</code></pre>\n\n<p>instead of -> </p>\n\n<pre><code>import android.view.View.OnClickListener\n</code></pre>\n\n<p>That solves my problem.</p>\n"},{"tags":[],"owner":{"account_id":2761027,"reputation":811,"user_id":2377928,"accept_rate":76,"display_name":"Amogh Natu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562238848,"creation_date":1380305504,"answer_id":19057419,"question_id":8697513,"body_markdown":"Putting a `View.onCLickListener()` solved the problem to me. My Java Compiler --&gt; Compiler Compliance level is already set to 1.6 but still I was having the same problem.\r\n\r\nBut changing the code\r\n\r\n    rdBtn.setOnClickListener(new OnClickListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tonRadioButtonClicked(v);\r\n    \t\t\t}\r\n    \t\t});\r\n\r\nto \r\n\r\n    rdBtn.setOnClickListener(new View.OnClickListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tonRadioButtonClicked(v);\r\n    \t\t\t}\r\n    \t\t});\r\n\r\nsolved the problem in my case.\r\n","title":"Why do I get &quot;must override a superclass method&quot; with @Override?","body":"<p>Putting a <code>View.onCLickListener()</code> solved the problem to me. My Java Compiler --> Compiler Compliance level is already set to 1.6 but still I was having the same problem.</p>\n\n<p>But changing the code</p>\n\n<pre><code>rdBtn.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n                onRadioButtonClicked(v);\n            }\n        });\n</code></pre>\n\n<p>to </p>\n\n<pre><code>rdBtn.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n                onRadioButtonClicked(v);\n            }\n        });\n</code></pre>\n\n<p>solved the problem in my case.</p>\n"},{"tags":[],"owner":{"account_id":8681567,"reputation":81,"user_id":6497248,"display_name":"John McDonald"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1467946799,"creation_date":1467946799,"answer_id":38258302,"question_id":8697513,"body_markdown":"**MAVEN USERS**\r\nIf you&#39;re using Maven for build it can override the eclipse settings during build. So if you set Eclipse to 1.7 but don&#39;t specifically set the Maven JDK build version(which at the time of this writing defaults to 1.5), then it will reset eclipse target compiler back to 1.5. Set the Maven compiler as follows.\r\n\r\n        &lt;build&gt;\r\n            ...\r\n            &lt;plugins&gt;\r\n            \t....\r\n                &lt;plugin&gt;\r\n    \t\t        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t        &lt;version&gt;3.5.1&lt;/version&gt;\r\n    \t\t        &lt;configuration&gt;\r\n    \t\t        \t&lt;source&gt;1.7&lt;/source&gt;\r\n    \t\t        \t&lt;target&gt;1.7&lt;/target&gt;\r\n    \t\t    \t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n            &lt;/plugins&gt;            \r\n        &lt;/build&gt;","title":"Why do I get &quot;must override a superclass method&quot; with @Override?","body":"<p><strong>MAVEN USERS</strong>\nIf you're using Maven for build it can override the eclipse settings during build. So if you set Eclipse to 1.7 but don't specifically set the Maven JDK build version(which at the time of this writing defaults to 1.5), then it will reset eclipse target compiler back to 1.5. Set the Maven compiler as follows.</p>\n\n<pre><code>    &lt;build&gt;\n        ...\n        &lt;plugins&gt;\n            ....\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;            \n    &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2851272,"reputation":1349,"user_id":2448440,"accept_rate":50,"display_name":"Qw3ry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485343869,"creation_date":1485343869,"answer_id":41850521,"question_id":8697513,"body_markdown":"For me this happened because the Method I wanted to override was __package private__ and I tried to override it from a different package.\r\n\r\nEclipse will additionally put a warning in that case that I didn&#39;t notice because of a ton of other warnings","title":"Why do I get &quot;must override a superclass method&quot; with @Override?","body":"<p>For me this happened because the Method I wanted to override was <strong>package private</strong> and I tried to override it from a different package.</p>\n\n<p>Eclipse will additionally put a warning in that case that I didn't notice because of a ton of other warnings</p>\n"},{"tags":[],"owner":{"account_id":3204551,"reputation":1712,"user_id":2705829,"accept_rate":56,"display_name":"Marvin Glenn Lacuna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541228849,"creation_date":1541228849,"answer_id":53129213,"question_id":8697513,"body_markdown":"Now it&#39;s 2018! For easy reference, see screenshot below. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qidEV.png","title":"Why do I get &quot;must override a superclass method&quot; with @Override?","body":"<p>Now it's 2018! For easy reference, see screenshot below. </p>\n\n<p><a href=\"https://i.stack.imgur.com/qidEV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qidEV.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4972292,"reputation":991,"user_id":3999660,"display_name":"Mohammad Tbeishat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592724694,"creation_date":1592724694,"answer_id":62495686,"question_id":8697513,"body_markdown":"Now it&#39;s 2020! And you should change the compliance to 1.8 !\r\n\r\nI tried changing the compliance to 1.6 but it didn&#39;t work. And I was trying randomly changing it to other levels like 11, 12 or 13 but it didn&#39;t work either.\r\n\r\nAfter reading a bit I found this topic which has helped me to understand:\r\n[What is compiler compliance level in Eclipse?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22584427/what-is-compiler-compliance-level-in-eclipse\r\n\r\nReading that the Java compiler can compile code that will run on prior versions of the JVM. I have changed the compiler level to **1.8** and it did solve the problem. So, always aim to the highest compliance level!\r\n\r\n","title":"Why do I get &quot;must override a superclass method&quot; with @Override?","body":"<p>Now it's 2020! And you should change the compliance to 1.8 !</p>\n<p>I tried changing the compliance to 1.6 but it didn't work. And I was trying randomly changing it to other levels like 11, 12 or 13 but it didn't work either.</p>\n<p>After reading a bit I found this topic which has helped me to understand:\n<a href=\"https://stackoverflow.com/questions/22584427/what-is-compiler-compliance-level-in-eclipse\">What is compiler compliance level in Eclipse?</a></p>\n<p>Reading that the Java compiler can compile code that will run on prior versions of the JVM. I have changed the compiler level to <strong>1.8</strong> and it did solve the problem. So, always aim to the highest compliance level!</p>\n"},{"tags":[],"owner":{"account_id":14255433,"reputation":282,"user_id":10297796,"display_name":"Vikas Piprade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598710730,"creation_date":1598710730,"answer_id":63647980,"question_id":8697513,"body_markdown":"It&#39;s 2020 -\r\n\r\nProject&gt;Right Click&gt;Java Compiler&gt;Compiler Compliance Level&gt; Change this to 1.8 [or latest level]\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/raJTw.png","title":"Why do I get &quot;must override a superclass method&quot; with @Override?","body":"<p>It's 2020 -</p>\n<p>Project&gt;Right Click&gt;Java Compiler&gt;Compiler Compliance Level&gt; Change this to 1.8 [or latest level]</p>\n<p><a href=\"https://i.stack.imgur.com/raJTw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/raJTw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14099234,"reputation":11,"user_id":10185005,"display_name":"Somanath Behera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654714335,"creation_date":1654714335,"answer_id":72550814,"question_id":8697513,"body_markdown":"1. Change your jdk version to minimum 1.8 in library section of buildpath.\r\n2. Change your your project facets java version to 1.8 apply and close\r\n\r\nFinally your issues will be resolved.\r\n","title":"Why do I get &quot;must override a superclass method&quot; with @Override?","body":"<ol>\n<li>Change your jdk version to minimum 1.8 in library section of buildpath.</li>\n<li>Change your your project facets java version to 1.8 apply and close</li>\n</ol>\n<p>Finally your issues will be resolved.</p>\n"},{"tags":[],"owner":{"account_id":11087231,"reputation":1019,"user_id":8140473,"display_name":"Rohim Chou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670391380,"creation_date":1670391380,"answer_id":74712191,"question_id":8697513,"body_markdown":"for someone using **vscode** with maven, you can add [these][1] settings to your pom.xml to let vscode use the preferred compiler version:\r\n\r\n```xml\r\n&lt;project&gt;\r\n...\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n...\r\n&lt;/project&gt;\r\n```\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html","title":"Why do I get &quot;must override a superclass method&quot; with @Override?","body":"<p>for someone using <strong>vscode</strong> with maven, you can add <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">these</a> settings to your pom.xml to let vscode use the preferred compiler version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n...\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n...\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":1076514,"reputation":1984,"user_id":1074534,"accept_rate":69,"display_name":"Richard Eng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88239,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":8697564,"answer_count":11,"score":74,"last_activity_date":1670584384,"creation_date":1325480083,"question_id":8697513,"body_markdown":"The following code generates this error message at the `public void onClick` line.\r\n\r\n&gt;Multiple markers at this line  \r\n  - implements android.view.View.OnClickListener.onClick  \r\n  - The method onClick(View) of type new View.OnClickListener(){} must override a superclass method\r\n\r\nI can&#39;t understand why. This code is taken from numerous examples I&#39;ve seen. What can possibly be wrong?\r\n\r\n\r\n    private Button audioButton;\r\n\r\n    /** Called when the activity is first created. */\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main);\r\n        \r\n        audioButton = (Button) findViewById(R.id.imageButton1);\r\n        audioButton.setOnClickListener(new OnClickListener() {\r\n        \t@Override\r\n        \tpublic void onClick(View button) {\r\n        \t\tif (button.isSelected()) {\r\n        \t\t\tbutton.setSelected(false);\r\n        \t\t}\r\n        \t\telse {\r\n        \t\t\tbutton.setSelected(true);\r\n        \t\t}\r\n        \t}\r\n        });\r\n    }","title":"Why do I get &quot;must override a superclass method&quot; with @Override?","body":"<p>The following code generates this error message at the <code>public void onClick</code> line.</p>\n\n<blockquote>\n  <p>Multiple markers at this line<br>\n    - implements android.view.View.OnClickListener.onClick<br>\n    - The method onClick(View) of type new View.OnClickListener(){} must override a superclass method</p>\n</blockquote>\n\n<p>I can't understand why. This code is taken from numerous examples I've seen. What can possibly be wrong?</p>\n\n<pre><code>private Button audioButton;\n\n/** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n    audioButton = (Button) findViewById(R.id.imageButton1);\n    audioButton.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View button) {\n            if (button.isSelected()) {\n                button.setSelected(false);\n            }\n            else {\n                button.setSelected(true);\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","sorting","collections","hashmap","treemap"],"comments":[{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1670585675,"post_id":74741978,"comment_id":131913405,"body_markdown":"The following solution also worked for me so providing the answer as it can be helpful to someone in the future: `final Map&lt;String, Integer&gt; sampleTreeMap = new TreeMap&lt;&gt;(Collections.reverseOrder((a, b) -&gt; a.length() != b.length() ? Integer.compare(a.length(), b.length()) : a.compareTo(b)));`","body":"The following solution also worked for me so providing the answer as it can be helpful to someone in the future: <code>final Map&lt;String, Integer&gt; sampleTreeMap = new TreeMap&lt;&gt;(Collections.reverseOrder((a, b) -&gt; a.length() != b.length() ? Integer.compare(a.length(), b.length()) : a.compareTo(b)));</code>"}],"answers":[{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670584297,"creation_date":1670584297,"answer_id":74742298,"question_id":74741978,"body_markdown":"It looks like you want to sort the keys as numbers instead of strings. One way to do this is to provide a custom `omparator` when creating the map.\r\n\r\n```\r\nfinal Map&lt;String, Integer&gt; sampleTreeMap =\r\n                new TreeMap&lt;&gt;((Comparator.comparingLong((String s) -&gt; Long.parseLong(s))).reversed());\r\n```\r\n\r\nP.S.\r\nYou might find it helpful to read this question\r\nhttps://stackoverflow.com/questions/55500400/comparator-comparing-reversed-strange-behaviour-not-working-as-expected","title":"Java TreeMap : Unable to sort the TreeMap key in decreasing order of the length/value","body":"<p>It looks like you want to sort the keys as numbers instead of strings. One way to do this is to provide a custom <code>omparator</code> when creating the map.</p>\n<pre><code>final Map&lt;String, Integer&gt; sampleTreeMap =\n                new TreeMap&lt;&gt;((Comparator.comparingLong((String s) -&gt; Long.parseLong(s))).reversed());\n</code></pre>\n<p>P.S.\nYou might find it helpful to read this question\n<a href=\"https://stackoverflow.com/questions/55500400/comparator-comparing-reversed-strange-behaviour-not-working-as-expected\">Comparator .comparing().reversed() strange behaviour / not working as expected</a></p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74742298,"answer_count":1,"score":0,"last_activity_date":1670584297,"creation_date":1670582548,"question_id":74741978,"body_markdown":"I am trying to use the `TreeMap` to sort my keys, which are being stored in the `Map&lt;String,Integer&gt;`. But for some reason, the keys are not arranged correctly in decreasing order, as intended. I would like to know if there is a default way to achieve the intended order of the keys or I need to write some custom method to achieve this?\r\n\r\nFollowing is the sample code I have:\r\n\r\n```\r\npublic class ApplicationMain {\r\n    public static void main(String[] args) {\r\n        final Map&lt;String, Integer&gt; sampleTreeMap = new TreeMap&lt;&gt;();\r\n        sampleTreeMap.put(&quot;5903766131&quot;, 6);\r\n        sampleTreeMap.put(&quot;5903767&quot;, 7);\r\n        sampleTreeMap.put(&quot;590376614&quot;, 5);\r\n        sampleTreeMap.put(&quot;5903766170&quot;, 9);\r\n        sampleTreeMap.put(&quot;59037662&quot;, 12);\r\n        sampleTreeMap.put(&quot;5903766410&quot;, 10);\r\n\r\n        sampleTreeMap.entrySet().stream().forEach(entry -&gt;{\r\n            System.out.println(&quot;Key : &quot; + entry.getKey() + &quot; -- &quot; + entry.getValue());\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThe following is the output I am getting:\r\n\r\n```\r\nKey : 5903766131 -- 6\r\nKey : 590376614 -- 5\r\nKey : 5903766170 -- 9\r\nKey : 59037662 -- 12\r\nKey : 5903766410 -- 10\r\nKey : 5903767 -- 7\r\n```\r\n\r\nI would like the output to be in descending order of the keys, so a larger number with a higher number of digits or characters would appear at the top, then a lower number with fewer digits. Something like this:\r\n\r\n```\r\nKey : 5903766410 -- 10\r\nKey : 5903766170 -- 9\r\nKey : 5903766131 -- 6\r\nKey : 590376614 -- 5\r\nKey : 59037662 -- 12\r\nKey : 5903767 -- 7\r\n```\r\n\r\nNote:\r\n1. I cannot change my data type to Integer or Long as this is coming from another application, and I would like to use it as a string in further processing, so I would like to find a way in which I can sort them properly. \r\n\r\n2. I was previously using HashMap, but after discovering that it does not support ordering, I switched to TreeMap.\r\n\r\nPlease provide some suggestions on how to fix the issue.","title":"Java TreeMap : Unable to sort the TreeMap key in decreasing order of the length/value","body":"<p>I am trying to use the <code>TreeMap</code> to sort my keys, which are being stored in the <code>Map&lt;String,Integer&gt;</code>. But for some reason, the keys are not arranged correctly in decreasing order, as intended. I would like to know if there is a default way to achieve the intended order of the keys or I need to write some custom method to achieve this?</p>\n<p>Following is the sample code I have:</p>\n<pre><code>public class ApplicationMain {\n    public static void main(String[] args) {\n        final Map&lt;String, Integer&gt; sampleTreeMap = new TreeMap&lt;&gt;();\n        sampleTreeMap.put(&quot;5903766131&quot;, 6);\n        sampleTreeMap.put(&quot;5903767&quot;, 7);\n        sampleTreeMap.put(&quot;590376614&quot;, 5);\n        sampleTreeMap.put(&quot;5903766170&quot;, 9);\n        sampleTreeMap.put(&quot;59037662&quot;, 12);\n        sampleTreeMap.put(&quot;5903766410&quot;, 10);\n\n        sampleTreeMap.entrySet().stream().forEach(entry -&gt;{\n            System.out.println(&quot;Key : &quot; + entry.getKey() + &quot; -- &quot; + entry.getValue());\n        });\n    }\n}\n</code></pre>\n<p>The following is the output I am getting:</p>\n<pre><code>Key : 5903766131 -- 6\nKey : 590376614 -- 5\nKey : 5903766170 -- 9\nKey : 59037662 -- 12\nKey : 5903766410 -- 10\nKey : 5903767 -- 7\n</code></pre>\n<p>I would like the output to be in descending order of the keys, so a larger number with a higher number of digits or characters would appear at the top, then a lower number with fewer digits. Something like this:</p>\n<pre><code>Key : 5903766410 -- 10\nKey : 5903766170 -- 9\nKey : 5903766131 -- 6\nKey : 590376614 -- 5\nKey : 59037662 -- 12\nKey : 5903767 -- 7\n</code></pre>\n<p>Note:</p>\n<ol>\n<li><p>I cannot change my data type to Integer or Long as this is coming from another application, and I would like to use it as a string in further processing, so I would like to find a way in which I can sort them properly.</p>\n</li>\n<li><p>I was previously using HashMap, but after discovering that it does not support ordering, I switched to TreeMap.</p>\n</li>\n</ol>\n<p>Please provide some suggestions on how to fix the issue.</p>\n"},{"tags":["java","json","jackson","deserialization","encode"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670583684,"creation_date":1670580791,"answer_id":74741652,"question_id":74741429,"body_markdown":"&lt;h3&gt;TL;DR&lt;/h3&gt;\r\n\r\nYour JSON and POJO don&#39;t match, and there are several ways to resolve the problem:\r\n\r\n* parse JSON as `List&lt;FooResClass.AData&gt;` and then instantiate `FooResClass`;\r\n* define a custom Deserializer (*that allows to reuse the parsing logic and would be a preferred way if you would choose to change the code*);\r\n* change the structure of your JSON.\r\n\r\n# Details\r\n\r\nFirstly, if `AData` is nested, it should be `static` (otherwise an instance of the enclosing class would be required for instantiation and parsing would fail).\r\n\r\nSecondly, the JSON you have represents an Array of JSON-objects that correspond to the `AData` class. I.e. it&#39;s not a JSON-object but a JSON-array, which matches a `List&lt;AData&gt;`, but not to the instance of enclosing class `FooResClass`.\r\n\r\nFor instance, the following parsing would succeed:\r\n\r\n```\r\nString json = // your json data\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\nList&lt;AData&gt; aData = mapper.readValue(json,  new TypeReference&lt;List&lt;FooResClass.AData&gt;&gt;(){});\r\nFooResClass fooRes = new FooResClass(aDataList); // assuming that all-args constructor was defined\r\n```\r\n\r\nIn order to obtain an instance of `FooResClass` with your current code, the JSON should be structured in the following way:\r\n\r\n```\r\n{\r\n   &quot;aDataList&quot;:[\r\n      {\r\n         &quot;name&quot;:&quot;A&quot;,\r\n         &quot;number&quot;:1,\r\n         &quot;age&quot;:20\r\n      },\r\n      {\r\n         ...\r\n      },\r\n      {\r\n         ...\r\n      }\r\n   ]\r\n}\r\n```\r\n\r\nIf you can&#39;t change the structure of the JSON you need to customize the deserialization of the `FooResClass`.\r\n\r\n# Deserializer\r\n\r\nFor that, you can define a custom Deserializer by extending [`StdDeserializer`][stdDeserializer] and overriding its abstract method `deserialize()`.\r\n\r\nThat&#39;s how it might be implemented:\r\n\r\n    public class FooResClassDeserializer extends StdDeserializer&lt;FooResClass&gt; {\r\n    \r\n        public FooResClassDeserializer() {\r\n            this(null);\r\n        }\r\n    \r\n        public FooResClassDeserializer(Class&lt;FooResClass&gt; vc) {\r\n            super(vc);\r\n        }\r\n    \r\n        @Override\r\n        public FooResClass deserialize(JsonParser p,\r\n                                       DeserializationContext ctxt) throws IOException, JacksonException {\r\n            \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            List&lt;FooResClass.AData&gt; aDataList = mapper.readValue(p, new TypeReference&lt;&gt;() {});\r\n            return new FooResClass(aDataList);\r\n        }\r\n    }\r\n\r\nTo instruct Jackson that this Desirializer should be used while pasing `FooResClass`, you need to annotate this class with [`@JsonDeserialize`][deserialize] and specify the class of Desirializer thought the `using` attribute.\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @AllArgsConstructor\r\n    @JsonDeserialize(using = FooResClassDeserializer.class)\r\n    public static class FooResClass extends BaseResModel {\r\n    \r\n        private static final long serialVersionUID = -6398045272254450504L;\r\n    \r\n        @JsonProperty(&quot;aDataList&quot;)\r\n        private List&lt;AData&gt; aDataList;\r\n    \r\n        @Data\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        public static class AData {\r\n            @JsonProperty(&quot;number&quot;)\r\n            private Long number;\r\n            @JsonProperty(&quot;name&quot;)\r\n            private String name;\r\n        }\r\n    }\r\n\r\nWith this change, you&#39;ll be able to parse the current unaltered JSON into an instance of `FooResClass` (*I&#39;ve tested this solution by removing the* `extends` *clause, since you haven&#39;t provided* `BaseResModel` *class*).\r\n\r\n\r\n\r\n   [stdDeserializer]: https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-databind/2.9.1/com/fasterxml/jackson/databind/deser/std/StdDeserializer.html\r\n\r\n   [deserialize]: https://fasterxml.github.io/jackson-databind/javadoc/2.4/com/fasterxml/jackson/databind/annotation/JsonDeserialize.htm","title":"Convert json string to objects without key","body":"<h3>TL;DR</h3>\n<p>Your JSON and POJO don't match, and there are several ways to resolve the problem:</p>\n<ul>\n<li>parse JSON as <code>List&lt;FooResClass.AData&gt;</code> and then instantiate <code>FooResClass</code>;</li>\n<li>define a custom Deserializer (<em>that allows to reuse the parsing logic and would be a preferred way if you would choose to change the code</em>);</li>\n<li>change the structure of your JSON.</li>\n</ul>\n<h1>Details</h1>\n<p>Firstly, if <code>AData</code> is nested, it should be <code>static</code> (otherwise an instance of the enclosing class would be required for instantiation and parsing would fail).</p>\n<p>Secondly, the JSON you have represents an Array of JSON-objects that correspond to the <code>AData</code> class. I.e. it's not a JSON-object but a JSON-array, which matches a <code>List&lt;AData&gt;</code>, but not to the instance of enclosing class <code>FooResClass</code>.</p>\n<p>For instance, the following parsing would succeed:</p>\n<pre><code>String json = // your json data\nObjectMapper mapper = new ObjectMapper();\n\nList&lt;AData&gt; aData = mapper.readValue(json,  new TypeReference&lt;List&lt;FooResClass.AData&gt;&gt;(){});\nFooResClass fooRes = new FooResClass(aDataList); // assuming that all-args constructor was defined\n</code></pre>\n<p>In order to obtain an instance of <code>FooResClass</code> with your current code, the JSON should be structured in the following way:</p>\n<pre><code>{\n   &quot;aDataList&quot;:[\n      {\n         &quot;name&quot;:&quot;A&quot;,\n         &quot;number&quot;:1,\n         &quot;age&quot;:20\n      },\n      {\n         ...\n      },\n      {\n         ...\n      }\n   ]\n}\n</code></pre>\n<p>If you can't change the structure of the JSON you need to customize the deserialization of the <code>FooResClass</code>.</p>\n<h1>Deserializer</h1>\n<p>For that, you can define a custom Deserializer by extending <a href=\"https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-databind/2.9.1/com/fasterxml/jackson/databind/deser/std/StdDeserializer.html\" rel=\"nofollow noreferrer\"><code>StdDeserializer</code></a> and overriding its abstract method <code>deserialize()</code>.</p>\n<p>That's how it might be implemented:</p>\n<pre><code>public class FooResClassDeserializer extends StdDeserializer&lt;FooResClass&gt; {\n\n    public FooResClassDeserializer() {\n        this(null);\n    }\n\n    public FooResClassDeserializer(Class&lt;FooResClass&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public FooResClass deserialize(JsonParser p,\n                                   DeserializationContext ctxt) throws IOException, JacksonException {\n        \n        ObjectMapper mapper = new ObjectMapper();\n        List&lt;FooResClass.AData&gt; aDataList = mapper.readValue(p, new TypeReference&lt;&gt;() {});\n        return new FooResClass(aDataList);\n    }\n}\n</code></pre>\n<p>To instruct Jackson that this Desirializer should be used while pasing <code>FooResClass</code>, you need to annotate this class with <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.4/com/fasterxml/jackson/databind/annotation/JsonDeserialize.htm\" rel=\"nofollow noreferrer\"><code>@JsonDeserialize</code></a> and specify the class of Desirializer thought the <code>using</code> attribute.</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\n@EqualsAndHashCode(callSuper = true)\n@AllArgsConstructor\n@JsonDeserialize(using = FooResClassDeserializer.class)\npublic static class FooResClass extends BaseResModel {\n\n    private static final long serialVersionUID = -6398045272254450504L;\n\n    @JsonProperty(&quot;aDataList&quot;)\n    private List&lt;AData&gt; aDataList;\n\n    @Data\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public static class AData {\n        @JsonProperty(&quot;number&quot;)\n        private Long number;\n        @JsonProperty(&quot;name&quot;)\n        private String name;\n    }\n}\n</code></pre>\n<p>With this change, you'll be able to parse the current unaltered JSON into an instance of <code>FooResClass</code> (<em>I've tested this solution by removing the</em> <code>extends</code> <em>clause, since you haven't provided</em> <code>BaseResModel</code> <em>class</em>).</p>\n"}],"owner":{"account_id":7894840,"reputation":479,"user_id":5963886,"accept_rate":0,"display_name":"chiefpika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74741652,"answer_count":1,"score":1,"last_activity_date":1670583699,"creation_date":1670579663,"question_id":74741429,"body_markdown":"There&#39;s a json string without key for each objects like \r\n\r\n    [\r\n        {\r\n            &quot;name&quot;: &quot;A&quot;,\r\n            &quot;number&quot;: 1,\r\n            &quot;age&quot;: 20\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;B&quot;,\r\n            &quot;number&quot;: 2,\r\n            &quot;age&quot;: 30\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;C&quot;,\r\n            &quot;number&quot;: 3,\r\n            &quot;age&quot;: 40\r\n        }\r\n    ]\r\n\r\nand I only need name and number, so I have a class like below trying to encode the json string into it\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @EqualsAndHashCode(callSuper = true)\r\n    public class FooResClass extends BaseResModel {\r\n    \r\n     private static final long serialVersionUID = -6398045272254450504L;\r\n    \r\n     private List&lt;AData&gt; aDataList;\r\n    \r\n      @Data\r\n      @JsonIgnoreProperties(ignoreUnknown = true)\r\n      public class AData {\r\n        @JsonProperty(&quot;number&quot;)\r\n        private Long number;\r\n        @JsonProperty(&quot;name&quot;)\r\n        private String name;\r\n      }\r\n\r\nthen it says \r\n\r\n    jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of\r\n\r\nam I doing anything wrong?","title":"Convert json string to objects without key","body":"<p>There's a json string without key for each objects like</p>\n<pre><code>[\n    {\n        &quot;name&quot;: &quot;A&quot;,\n        &quot;number&quot;: 1,\n        &quot;age&quot;: 20\n    },\n    {\n        &quot;name&quot;: &quot;B&quot;,\n        &quot;number&quot;: 2,\n        &quot;age&quot;: 30\n    },\n    {\n        &quot;name&quot;: &quot;C&quot;,\n        &quot;number&quot;: 3,\n        &quot;age&quot;: 40\n    }\n]\n</code></pre>\n<p>and I only need name and number, so I have a class like below trying to encode the json string into it</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\n@EqualsAndHashCode(callSuper = true)\npublic class FooResClass extends BaseResModel {\n\n private static final long serialVersionUID = -6398045272254450504L;\n\n private List&lt;AData&gt; aDataList;\n\n  @Data\n  @JsonIgnoreProperties(ignoreUnknown = true)\n  public class AData {\n    @JsonProperty(&quot;number&quot;)\n    private Long number;\n    @JsonProperty(&quot;name&quot;)\n    private String name;\n  }\n</code></pre>\n<p>then it says</p>\n<pre><code>jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of\n</code></pre>\n<p>am I doing anything wrong?</p>\n"},{"tags":["java","pi"],"comments":[{"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"score":2,"creation_date":1440082709,"post_id":32121592,"comment_id":52135644,"body_markdown":"possible duplicate of [How to determine whether my calculation of pi is accurate?](http://stackoverflow.com/questions/14283270/how-to-determine-whether-my-calculation-of-pi-is-accurate)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/14283270/how-to-determine-whether-my-calculation-of-pi-is-accurate\">How to determine whether my calculation of pi is accurate?</a>"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1440082740,"post_id":32121592,"comment_id":52135673,"body_markdown":"have you tried the Nilakantha series?","body":"have you tried the Nilakantha series?"},{"owner":{"account_id":6012550,"reputation":625,"user_id":4722554,"display_name":"Tawcharowsky"},"score":0,"creation_date":1440082887,"post_id":32121592,"comment_id":52135808,"body_markdown":"[yes](https://cs.uwaterloo.ca/~alopez-o/math-faq/mathtext/node12.html)... yes there is.","body":"<a href=\"https://cs.uwaterloo.ca/~alopez-o/math-faq/mathtext/node12.html\" rel=\"nofollow noreferrer\">yes</a>... yes there is."},{"owner":{"account_id":446514,"reputation":6213,"user_id":839601,"display_name":"gnat"},"score":1,"creation_date":1440084277,"post_id":32121592,"comment_id":52136803,"body_markdown":"@BrianAgnew this question is a poor fit for Programmers - it would be quickly voted down and closed over there, see http://meta.programmers.stackexchange.com/questions/6483/why-was-my-question-closed-or-down-voted/6490#6490 Recommended reading: **[What goes on Programmers.SE? A guide for Stack Overflow](http://meta.programmers.stackexchange.com/q/7182/31260)**","body":"@BrianAgnew this question is a poor fit for Programmers - it would be quickly voted down and closed over there, see <a href=\"http://meta.programmers.stackexchange.com/questions/6483/why-was-my-question-closed-or-down-voted/6490#6490\" title=\"why was my question closed or down voted\">meta.programmers.stackexchange.com/questions/6483/&hellip;</a> Recommended reading: <b><a href=\"http://meta.programmers.stackexchange.com/q/7182/31260\">What goes on Programmers.SE? A guide for Stack Overflow</a></b>"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1440084651,"post_id":32121592,"comment_id":52137065,"body_markdown":"I am missing the Java component in this question. Yes its written in Java, but its entirely about calculating PI. You can translate this code to Python and the question would remain unchanged.","body":"I am missing the Java component in this question. Yes its written in Java, but its entirely about calculating PI. You can translate this code to Python and the question would remain unchanged."},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":1,"creation_date":1440084799,"post_id":32121592,"comment_id":52137168,"body_markdown":"You use `float` for each term, thus accumulating rounding errors. This won&#39;t give you accurate result.","body":"You use <code>float</code> for each term, thus accumulating rounding errors. This won&#39;t give you accurate result."}],"answers":[{"tags":[],"owner":{"account_id":3988445,"reputation":198,"user_id":3288257,"display_name":"L3R5"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1440086272,"creation_date":1440086272,"answer_id":32122962,"question_id":32121592,"body_markdown":"The most efficient way to calculate Pi in Java is to not calculate it at all:\r\n\r\n    System.out.println(&quot;Awesome! Pi is &quot; + Math.PI);\r\n\r\nThough your question isn&#39;t clear about this, my guess is that you are actually trying an exercise. In this case, you could try the Nilakantha series:\r\n\r\n    float pi = 3;\r\n    for(int i = 0; i &lt; 1000000; i += 2) {\r\n        pi += 4 / (float) (i * (i + 1) * (i + 2));\r\n    }\r\n\r\nEven more efficient and accurate is Machin&#39;s formula:\r\n\r\n    float pi = 4f * (4f * Math.atan(5) - Math.atan(239)) / 5f;","title":"Is there a more efficient way to calculate pi?","body":"<p>The most efficient way to calculate Pi in Java is to not calculate it at all:</p>\n\n<pre><code>System.out.println(\"Awesome! Pi is \" + Math.PI);\n</code></pre>\n\n<p>Though your question isn't clear about this, my guess is that you are actually trying an exercise. In this case, you could try the Nilakantha series:</p>\n\n<pre><code>float pi = 3;\nfor(int i = 0; i &lt; 1000000; i += 2) {\n    pi += 4 / (float) (i * (i + 1) * (i + 2));\n}\n</code></pre>\n\n<p>Even more efficient and accurate is Machin's formula:</p>\n\n<pre><code>float pi = 4f * (4f * Math.atan(5) - Math.atan(239)) / 5f;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6915115,"reputation":21,"user_id":5309692,"display_name":"Giri"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670583328,"creation_date":1670583328,"answer_id":74742132,"question_id":32121592,"body_markdown":"Why not use Pythons generator expression to implement Leibniz formula for  (one liner :)) :\r\n\r\n    4*sum(pow(-1, k)/(2*k + 1) for k in range (10000))","title":"Is there a more efficient way to calculate pi?","body":"<p>Why not use Pythons generator expression to implement Leibniz formula for  (one liner :)) :</p>\n<pre><code>4*sum(pow(-1, k)/(2*k + 1) for k in range (10000))\n</code></pre>\n"}],"owner":{"account_id":6820880,"reputation":21,"user_id":5248069,"display_name":"Ori Yonay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"answer_count":2,"score":-3,"last_activity_date":1670583328,"creation_date":1440082452,"question_id":32121592,"body_markdown":"I started learning java yesterday. Since I know other programming languages, it&#39;s easier for me to learn Java. It&#39;s pretty cool, actually. I still prefer Python :)\r\nAnyhoo, I wrote this program to calculate pi based on the algorithm (pi = 4/1 - 4/3 + 4/5 - 4/7....) and I know there are more efficient ways of calculating pi. How would I go about doing this?\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class PiCalculator\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        int calc;\r\n        Scanner in = new Scanner(System.in);\r\n        System.out.println(&quot;Welcome to Ori&#39;s Pi Calculator Program!&quot;);\r\n        System.out.println(&quot;Enter the number of calculations you would like to perform:&quot;);\r\n        calc = in.nextInt();\r\n        while (calc &lt;= 0){\r\n          System.out.println(&quot;Your number cannot be 0 or below. Try another number.&quot;);\r\n          calc = in.nextInt();\r\n        }\r\n        float a = 1;\r\n        float pi = 0;\r\n        while (calc &gt;= 0) {\r\n          pi = pi + (4/a);\r\n          a = a + 2;\r\n          calc = calc - 1;\r\n          pi = pi - (4/a);\r\n          a = a + 2;\r\n          calc = calc - 1;\r\n        }\r\n        System.out.println(&quot;Awesome! Pi is &quot; + pi);\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe result of this code, after 1,000,000 calculations is still 3.1415954. There HAS to be a more efficient way of doing this.\r\n\r\nThanks!","title":"Is there a more efficient way to calculate pi?","body":"<p>I started learning java yesterday. Since I know other programming languages, it's easier for me to learn Java. It's pretty cool, actually. I still prefer Python :)\nAnyhoo, I wrote this program to calculate pi based on the algorithm (pi = 4/1 - 4/3 + 4/5 - 4/7....) and I know there are more efficient ways of calculating pi. How would I go about doing this?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class PiCalculator\n{\n  public static void main(String[] args)\n  {\n    int calc;\n    Scanner in = new Scanner(System.in);\n    System.out.println(\"Welcome to Ori's Pi Calculator Program!\");\n    System.out.println(\"Enter the number of calculations you would like to perform:\");\n    calc = in.nextInt();\n    while (calc &lt;= 0){\n      System.out.println(\"Your number cannot be 0 or below. Try another number.\");\n      calc = in.nextInt();\n    }\n    float a = 1;\n    float pi = 0;\n    while (calc &gt;= 0) {\n      pi = pi + (4/a);\n      a = a + 2;\n      calc = calc - 1;\n      pi = pi - (4/a);\n      a = a + 2;\n      calc = calc - 1;\n    }\n    System.out.println(\"Awesome! Pi is \" + pi);\n  }\n}\n</code></pre>\n\n<p>The result of this code, after 1,000,000 calculations is still 3.1415954. There HAS to be a more efficient way of doing this.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1648750679,"post_id":71697349,"comment_id":126710540,"body_markdown":"https://www.educative.io/edpresso/what-is-integermaxvalue","body":"<a href=\"https://www.educative.io/edpresso/what-is-integermaxvalue\" rel=\"nofollow noreferrer\">educative.io/edpresso/what-is-integermaxvalue</a>"}],"answers":[{"tags":[],"owner":{"account_id":4597596,"reputation":3927,"user_id":3729184,"accept_rate":67,"display_name":"Omri Attiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648751196,"creation_date":1648750798,"answer_id":71697406,"question_id":71697349,"body_markdown":"this happens because you&#39;re exceeding the `Integer.MAX_VALUE`.\r\n\r\nYou can read about it [here](https://stackoverflow.com/questions/15004944/max-value-of-integer).\r\n\r\nYou can use instead of `int` a `long`, to store large values,\r\nand if that is not enough for you, you can use - [`BigInteger`](https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html)\r\n\r\n```\r\nBigInteger num = BigInteger.valueOf(0);\r\nfor (int i = 0; i &lt;= p; i++) {\r\n    BigInteger m = BigInteger.valueOf((int) Math.pow(10, p-i));\r\n    BigInteger next =  BigInteger.valueOf(arr[i]).multiply(m));\r\n    num = num.add(BigInteger.valueOf(arr[i]*m));\r\n}\r\n```\r\n\r\n","title":"Array form of integer","body":"<p>this happens because you're exceeding the <code>Integer.MAX_VALUE</code>.</p>\n<p>You can read about it <a href=\"https://stackoverflow.com/questions/15004944/max-value-of-integer\">here</a>.</p>\n<p>You can use instead of <code>int</code> a <code>long</code>, to store large values,\nand if that is not enough for you, you can use - <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\"><code>BigInteger</code></a></p>\n<pre><code>BigInteger num = BigInteger.valueOf(0);\nfor (int i = 0; i &lt;= p; i++) {\n    BigInteger m = BigInteger.valueOf((int) Math.pow(10, p-i));\n    BigInteger next =  BigInteger.valueOf(arr[i]).multiply(m));\n    num = num.add(BigInteger.valueOf(arr[i]*m));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16888160,"reputation":11,"user_id":12212418,"display_name":"cdelaby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648750823,"creation_date":1648750823,"answer_id":71697412,"question_id":71697349,"body_markdown":"It is because an int is coded on 4 byte so technically you can only go from -2,147,483,648 to 2,147,483,647.\r\nConsider using the long type.","title":"Array form of integer","body":"<p>It is because an int is coded on 4 byte so technically you can only go from -2,147,483,648 to 2,147,483,647.\nConsider using the long type.</p>\n"},{"tags":[],"owner":{"account_id":17117757,"reputation":143,"user_id":12386843,"display_name":"sinanorl"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1670583121,"creation_date":1648750840,"answer_id":71697416,"question_id":71697349,"body_markdown":"Because it overflows integer boundry. The maximum integer value that can be stored in Java is 2147483647. When you try to store a value greater than this, the result will be an unexpected value. To solve this issue, you can use a long data type instead of an int data type\r\n\r\nyou can read about it [here]( https://stackoverflow.com/questions/19066337/java-maximum-value-of-int) and [here](https://en.wikipedia.org/wiki/Integer_overflow)","title":"Array form of integer","body":"<p>Because it overflows integer boundry. The maximum integer value that can be stored in Java is 2147483647. When you try to store a value greater than this, the result will be an unexpected value. To solve this issue, you can use a long data type instead of an int data type</p>\n<p>you can read about it <a href=\"https://stackoverflow.com/questions/19066337/java-maximum-value-of-int\">here</a> and <a href=\"https://en.wikipedia.org/wiki/Integer_overflow\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":24762589,"reputation":23,"user_id":18646791,"display_name":"YoavK"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648801159,"creation_date":1648751146,"answer_id":71697470,"question_id":71697349,"body_markdown":"Try using long (or any other type which can represent larger numbers) instead of int.\r\nI suggest this because the int overflows: see https://en.wikipedia.org/wiki/Integer_overflow","title":"Array form of integer","body":"<p>Try using long (or any other type which can represent larger numbers) instead of int.\nI suggest this because the int overflows: see <a href=\"https://en.wikipedia.org/wiki/Integer_overflow\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Integer_overflow</a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648756895,"creation_date":1648756895,"answer_id":71698527,"question_id":71697349,"body_markdown":"A couple of things. \r\n- You don&#39;t need to use `Math.pow`.\r\n- for up to 18 digits, you can use a `long` to do the computation.\r\n- I added some extra digits to demonstrate\r\n```\r\nint[] arr={9,9,9,9,9,9,9,9,9,9,9,9,1,1,2,3,4};\r\n\r\nlong sum = 0;             // or BigInteger sum = BigInteger.ZERO;\r\nfor (int val : arr) {\r\n\tsum = sum * 10 + val; // or sum.multiply(BigInteger.TEN).add(BigInteger.valueOf(val));\r\n}\r\nSystem.out.println(sum);\r\n```\r\nprints\r\n```\r\n99999999999911234\r\n```\r\nHere is the sequence for `1,2,3,4` so you can see what is happening.\r\n```\r\n- sum = 0\r\n- sum = sum(0) * 10 + 1 (sum is now 1)\r\n- sum = sum(1) * 10 + 2 (sum is now 12)\r\n- sum = sum(12)* 10 + 3 (sum is now 123)\r\n- sum = sum(123)*10 + 4 (sum is now 1234)","title":"Array form of integer","body":"<p>A couple of things.</p>\n<ul>\n<li>You don't need to use <code>Math.pow</code>.</li>\n<li>for up to 18 digits, you can use a <code>long</code> to do the computation.</li>\n<li>I added some extra digits to demonstrate</li>\n</ul>\n<pre><code>int[] arr={9,9,9,9,9,9,9,9,9,9,9,9,1,1,2,3,4};\n\nlong sum = 0;             // or BigInteger sum = BigInteger.ZERO;\nfor (int val : arr) {\n    sum = sum * 10 + val; // or sum.multiply(BigInteger.TEN).add(BigInteger.valueOf(val));\n}\nSystem.out.println(sum);\n</code></pre>\n<p>prints</p>\n<pre><code>99999999999911234\n</code></pre>\n<p>Here is the sequence for <code>1,2,3,4</code> so you can see what is happening.</p>\n<pre><code>- sum = 0\n- sum = sum(0) * 10 + 1 (sum is now 1)\n- sum = sum(1) * 10 + 2 (sum is now 12)\n- sum = sum(12)* 10 + 3 (sum is now 123)\n- sum = sum(123)*10 + 4 (sum is now 1234)\n</code></pre>\n"}],"owner":{"account_id":22856132,"reputation":81,"user_id":17000977,"display_name":"Debankan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71698527,"answer_count":5,"score":-1,"last_activity_date":1670583121,"creation_date":1648750436,"question_id":71697349,"body_markdown":"I was trying to convert the array to integer sum=999999999999 (twelve 9) , when i am limiting the array to less than ten 9s it is giving the result but when i am giving the array of more than ten 9s it is giving an unexpected result , please explain it will be really helpful for me\r\n\r\n    int[] arr={9,9,9,9,9,9,9,9,9,9,9,9};\r\n    int p=arr.length-1;\r\n    int m;\r\n    int num=0;\r\n    for (int i = 0; i &lt;= p; i++) {\r\n        m=(int) Math.pow(10, p-i);\r\n        num += arr[i]*m;           // it is executing like: 900+90+9=999\r\n    }","title":"Array form of integer","body":"<p>I was trying to convert the array to integer sum=999999999999 (twelve 9) , when i am limiting the array to less than ten 9s it is giving the result but when i am giving the array of more than ten 9s it is giving an unexpected result , please explain it will be really helpful for me</p>\n<pre><code>int[] arr={9,9,9,9,9,9,9,9,9,9,9,9};\nint p=arr.length-1;\nint m;\nint num=0;\nfor (int i = 0; i &lt;= p; i++) {\n    m=(int) Math.pow(10, p-i);\n    num += arr[i]*m;           // it is executing like: 900+90+9=999\n}\n</code></pre>\n"},{"tags":["java","spring-boot","java-8","spring-data-jpa","jdbctemplate"],"comments":[{"owner":{"account_id":6734881,"reputation":2313,"user_id":5190019,"accept_rate":91,"display_name":"Asoub"},"score":0,"creation_date":1670584066,"post_id":74742084,"comment_id":131912955,"body_markdown":"Do you have hibernate autoCommit paramteer activated ? Else this might come from the &quot;runAsync&quot;, the transaction might have to be inside the async rather than outside.","body":"Do you have hibernate autoCommit paramteer activated ? Else this might come from the &quot;runAsync&quot;, the transaction might have to be inside the async rather than outside."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1670585148,"post_id":74742084,"comment_id":131913265,"body_markdown":"Yes, auto commit by default enabled with @Transactional annotation in spring data jpa. Ok, I will check it once. Thanks for suggestion!","body":"Yes, auto commit by default enabled with @Transactional annotation in spring data jpa. Ok, I will check it once. Thanks for suggestion!"}],"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670583058,"creation_date":1670583058,"question_id":74742084,"body_markdown":"I am trying to insert files which asynchronous batch updates but I am getting the following exception while inserting:\r\n\r\n```\r\nnested exception is org.postgresql.util.PSQLException: Large Objects may not be used in auto-commit mode.\r\n```\r\n\r\nCode Sample \r\n\r\n```\r\n  @Autowired\r\n  private JdbcTemplate jdbcTemplate;\r\n\r\n  @Autowired\r\n  private NamedParameterJdbcTemplate namedJdbcTemplate;\r\n\r\n  @Value(&quot;${jdbc.batch_insert_size}&quot;)\r\n  private int batchSize;\r\n\r\n  private static final ExecutorService executor = Executors.newFixedThreadPool(10);\r\n\r\n  @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n  public void batchInsertAsync(List&lt;User&gt; users) throws InterruptedException, ExecutionException {\r\n    \r\n    String sql = &quot;INSERT INTO `USER` (USERNAME, PASSWORD, FILE, UPDATEDTIME, USERTYPE, DATEOFBIRTH)&quot;\r\n        + &quot; VALUES(?,?,?,?,?,?)&quot;;\r\n    final AtomicInteger sublists = new AtomicInteger();\r\n    CompletableFuture[] futures = users.stream()\r\n        .collect(Collectors.groupingBy(t -&gt; sublists.getAndIncrement() / batchSize))\r\n        .values()\r\n        .stream()\r\n        .map(ul -&gt; runBatchInsert(ul, sql))\r\n        .toArray(CompletableFuture[]::new);\r\n    CompletableFuture&lt;Void&gt; run = CompletableFuture.allOf(futures);\r\n    \r\n    run.get();\r\n    \r\n    log.info(&quot;batchInsertAsync -&gt; Total time in seconds: &quot; + timer.getTotalTimeSeconds());\r\n  }\r\n  public CompletableFuture&lt;Void&gt; runBatchInsert(List&lt;User&gt; users, String sql) {\r\n    return CompletableFuture.runAsync(() -&gt; {\r\n      jdbcTemplate.batchUpdate(sql, new UserBatchPreparedStatementSetter(users));\r\n    }, executor);\r\n  }\r\n```\r\n\r\n```\r\npublic class UserBatchPreparedStatementSetter implements BatchPreparedStatementSetter{\r\n  private List&lt;User&gt; users;\r\n  \r\n  public UserBatchPreparedStatementSetter(List&lt;User&gt; users) {\r\n    super();\r\n    this.users = users;\r\n  }\r\n  @Override\r\n  public void setValues(PreparedStatement ps, int i) {\r\n    \r\n    try {\r\n      User user = users.get(i);\r\n      ps.setString(1, user.getUserName());\r\n      ps.setString(2, user.getPassword());\r\n      ps.setClob(3,org.hibernate.engine.jdbc.ClobProxy.generateProxy(user.getContent()));\r\n      ps.setDate(4, user.getUpdatedTime() == null ? null : new java.sql.Date(user.getUpdatedTime().getTime()));\r\n      ps.setString(5, user.getUserType().toString());\r\n      ps.setDate(6, new java.sql.Date(user.getDateofBirth().getTime()));\r\n    } catch (SQLException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n  @Override\r\n  public int getBatchSize() {\r\n    return users.size();\r\n  }\r\n}\r\n```\r\nCan anyone help me how to use asynchronous batch updates with large files? \r\n\r\nThanks in advance\r\n\r\n================================================================","title":"Asynchronous Batch Updates With Large Files Not Working Properly","body":"<p>I am trying to insert files which asynchronous batch updates but I am getting the following exception while inserting:</p>\n<pre><code>nested exception is org.postgresql.util.PSQLException: Large Objects may not be used in auto-commit mode.\n</code></pre>\n<p>Code Sample</p>\n<pre><code>  @Autowired\n  private JdbcTemplate jdbcTemplate;\n\n  @Autowired\n  private NamedParameterJdbcTemplate namedJdbcTemplate;\n\n  @Value(&quot;${jdbc.batch_insert_size}&quot;)\n  private int batchSize;\n\n  private static final ExecutorService executor = Executors.newFixedThreadPool(10);\n\n  @Transactional(propagation = Propagation.REQUIRES_NEW)\n  public void batchInsertAsync(List&lt;User&gt; users) throws InterruptedException, ExecutionException {\n    \n    String sql = &quot;INSERT INTO `USER` (USERNAME, PASSWORD, FILE, UPDATEDTIME, USERTYPE, DATEOFBIRTH)&quot;\n        + &quot; VALUES(?,?,?,?,?,?)&quot;;\n    final AtomicInteger sublists = new AtomicInteger();\n    CompletableFuture[] futures = users.stream()\n        .collect(Collectors.groupingBy(t -&gt; sublists.getAndIncrement() / batchSize))\n        .values()\n        .stream()\n        .map(ul -&gt; runBatchInsert(ul, sql))\n        .toArray(CompletableFuture[]::new);\n    CompletableFuture&lt;Void&gt; run = CompletableFuture.allOf(futures);\n    \n    run.get();\n    \n    log.info(&quot;batchInsertAsync -&gt; Total time in seconds: &quot; + timer.getTotalTimeSeconds());\n  }\n  public CompletableFuture&lt;Void&gt; runBatchInsert(List&lt;User&gt; users, String sql) {\n    return CompletableFuture.runAsync(() -&gt; {\n      jdbcTemplate.batchUpdate(sql, new UserBatchPreparedStatementSetter(users));\n    }, executor);\n  }\n</code></pre>\n<pre><code>public class UserBatchPreparedStatementSetter implements BatchPreparedStatementSetter{\n  private List&lt;User&gt; users;\n  \n  public UserBatchPreparedStatementSetter(List&lt;User&gt; users) {\n    super();\n    this.users = users;\n  }\n  @Override\n  public void setValues(PreparedStatement ps, int i) {\n    \n    try {\n      User user = users.get(i);\n      ps.setString(1, user.getUserName());\n      ps.setString(2, user.getPassword());\n      ps.setClob(3,org.hibernate.engine.jdbc.ClobProxy.generateProxy(user.getContent()));\n      ps.setDate(4, user.getUpdatedTime() == null ? null : new java.sql.Date(user.getUpdatedTime().getTime()));\n      ps.setString(5, user.getUserType().toString());\n      ps.setDate(6, new java.sql.Date(user.getDateofBirth().getTime()));\n    } catch (SQLException e) {\n      e.printStackTrace();\n    }\n  }\n  @Override\n  public int getBatchSize() {\n    return users.size();\n  }\n}\n</code></pre>\n<p>Can anyone help me how to use asynchronous batch updates with large files?</p>\n<p>Thanks in advance</p>\n<p>================================================================</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670574539,"post_id":74740507,"comment_id":131910150,"body_markdown":"Yes it does autowire it because it does have an implementation, though the implementation is being generated","body":"Yes it does autowire it because it does have an implementation, though the implementation is being generated"},{"owner":{"account_id":24698798,"reputation":21,"user_id":18590377,"display_name":"vishwanath challal"},"score":0,"creation_date":1670574693,"post_id":74740507,"comment_id":131910191,"body_markdown":"Do you mean it auto-generates the implementation class itself and then Autowires that bean?","body":"Do you mean it auto-generates the implementation class itself and then Autowires that bean?"},{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":2,"creation_date":1670574759,"post_id":74740507,"comment_id":131910203,"body_markdown":"it generate implementation for `UserRepository` under Spring JPA hood","body":"it generate implementation for <code>UserRepository</code> under Spring JPA hood"}],"answers":[{"tags":[],"owner":{"account_id":25434759,"reputation":146,"user_id":19238643,"display_name":"Christoph Kronberger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670578829,"creation_date":1670576706,"answer_id":74740873,"question_id":74740507,"body_markdown":"Spring Data scans for Interfaces which extends from, as an example JpaRepository, and creates a default Implementation for you under the hood.\r\n\r\nFurther informations:\r\n\r\n[Spring-Data-Repositorys][1]\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories","title":"Spring @Autowired with interfaces","body":"<p>Spring Data scans for Interfaces which extends from, as an example JpaRepository, and creates a default Implementation for you under the hood.</p>\n<p>Further informations:</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories\" rel=\"nofollow noreferrer\">Spring-Data-Repositorys</a></p>\n"}],"owner":{"account_id":24698798,"reputation":21,"user_id":18590377,"display_name":"vishwanath challal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670582826,"creation_date":1670574370,"question_id":74740507,"body_markdown":"Does spring @Autowired annotation auto-wires an intrerface which does not have its implementation class? If Yes how?\r\n\r\ne.g\r\n\r\n```\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\t\r\n}\r\n\r\n```\r\n\r\n```\r\n@RestController\r\npublic class UserJpaResource {\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository service;\r\n```\r\n\r\n\r\n\r\n","title":"Spring @Autowired with interfaces","body":"<p>Does spring @Autowired annotation auto-wires an intrerface which does not have its implementation class? If Yes how?</p>\n<p>e.g</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n    \n}\n\n</code></pre>\n<pre><code>@RestController\npublic class UserJpaResource {\n    \n    @Autowired\n    private UserRepository service;\n</code></pre>\n"},{"tags":["java","reactjs","spring","spring-boot"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1670526853,"post_id":74724432,"comment_id":131901047,"body_markdown":"Can you please take out &lt;p&gt; tags outside &lt;form&gt; and try again","body":"Can you please take out &lt;p&gt; tags outside &lt;form&gt; and try again"},{"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"score":0,"creation_date":1670532822,"post_id":74724432,"comment_id":131902739,"body_markdown":"@RohitAgarwal could you explain, in what syntax I need to wrap it in this case? If I just take it outside &lt;form&gt;&lt;/form&gt;, my IDE shows me warning that it is &quot;Unreachable code&quot; .","body":"@RohitAgarwal could you explain, in what syntax I need to wrap it in this case? If I just take it outside &lt;form&gt;&lt;/form&gt;, my IDE shows me warning that it is &quot;Unreachable code&quot; ."},{"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"score":0,"creation_date":1670533237,"post_id":74724432,"comment_id":131902834,"body_markdown":"If you mean something like \n&lt;div&gt; \n&lt;form onSubmit={this.handleClick}&gt;\n*code*\n&lt;/form&gt;\n&lt;p&gt;Date: {this.state.responseData.date}&lt;/p&gt;\n...\n&lt;/div&gt;\nIt also doesn&#39;t work (gives the same result).","body":"If you mean something like  &lt;div&gt;  &lt;form onSubmit={this.handleClick}&gt; <i>code</i> &lt;/form&gt; &lt;p&gt;Date: {this.state.responseData.date}&lt;/p&gt; ... &lt;/div&gt; It also doesn&#39;t work (gives the same result)."},{"owner":{"account_id":8704106,"reputation":499,"user_id":6512834,"display_name":"idmitrov"},"score":2,"creation_date":1670546813,"post_id":74724432,"comment_id":131905572,"body_markdown":"Perhaps your form submission refreshes the page. Try with handleClick(e) e.preventDefault();","body":"Perhaps your form submission refreshes the page. Try with handleClick(e) e.preventDefault();"},{"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"score":0,"creation_date":1670547203,"post_id":74724432,"comment_id":131905628,"body_markdown":"@idmitrov you are right! this thing was missed, thank you!","body":"@idmitrov you are right! this thing was missed, thank you!"},{"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"score":0,"creation_date":1670549949,"post_id":74724432,"comment_id":131905995,"body_markdown":"@idmitrov please feel free to make you comment as an answer on this question and I&#39;ll mark it as a correct answer.","body":"@idmitrov please feel free to make you comment as an answer on this question and I&#39;ll mark it as a correct answer."}],"answers":[{"tags":[],"owner":{"account_id":8704106,"reputation":499,"user_id":6512834,"display_name":"idmitrov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670582600,"creation_date":1670576178,"answer_id":74740785,"question_id":74724432,"body_markdown":"**Background:**\r\nThe default behavior of the forms is to refresh the page, which nowadays in modern SPA applications is something that we try to prevent due to many reasons (reset in-memory data/state, cancel ongoing requests, etc...).\r\n\r\n**Solution**\r\nSo in short whenever there is a form submission then the needed action is to prevent the default behavior.\r\n\r\n**In your situation using ReactJS**, the form submission is handled inside the **handleClick** method where the solution would be to handle the event and invoke preventDefault().\r\n\r\ne.g. \r\n\r\n    handleClick(e) {\r\n      e.preventDefault() // prevent the default behavior\r\n      // The rest of your logic...\r\n    }","title":"React + Spring app issue - AxiosError Could not fetch properties. Object may no longer exist","body":"<p><strong>Background:</strong>\nThe default behavior of the forms is to refresh the page, which nowadays in modern SPA applications is something that we try to prevent due to many reasons (reset in-memory data/state, cancel ongoing requests, etc...).</p>\n<p><strong>Solution</strong>\nSo in short whenever there is a form submission then the needed action is to prevent the default behavior.</p>\n<p><strong>In your situation using ReactJS</strong>, the form submission is handled inside the <strong>handleClick</strong> method where the solution would be to handle the event and invoke preventDefault().</p>\n<p>e.g.</p>\n<pre><code>handleClick(e) {\n  e.preventDefault() // prevent the default behavior\n  // The rest of your logic...\n}\n</code></pre>\n"}],"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74740785,"answer_count":1,"score":1,"last_activity_date":1670582600,"creation_date":1670461217,"question_id":74724432,"body_markdown":"I have a simple React + Spring app. React part should take 3 parameters from frontend forms (city, state, country) after pressing Submit button, pass them to a backend Spring controller, get a response back and show data values from response on the same page. It works with hardcoded parameters, but there is an issue with more complex React logic.\r\n\r\n**Spring controller:**\r\n\r\n        @CrossOrigin\r\n    @RestController\r\n    @RequestMapping(&quot;/pollution&quot;)\r\n    public class PollutionController {\r\n        private static final Logger LOGGER = Logger.getLogger(PollutionController.class.getName());\r\n    \r\n        JSONObject response;\r\n        private final PollutionService pollutionService;\r\n    \r\n        PollutionController(PollutionService pollutionService) {\r\n            this.pollutionService = pollutionService;\r\n        }\r\n        \r\n        @GetMapping(&quot;/current/city&quot;)\r\n        public JSONObject getCurrentPollutionDataByCityStateCountry(\r\n                @RequestParam(value = &quot;city&quot;) String city,\r\n                @RequestParam(value = &quot;state&quot;) String state,\r\n                @RequestParam(value = &quot;country&quot;) String country\r\n        ) {\r\n            try {\r\n                response = pollutionService.getCurrentPollutionDataByCityStateCountry(city, state, country);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            LOGGER.log(Level.INFO, &quot;/current/city response: {0}&quot;, response);\r\n            return response;\r\n        }\r\n    \r\n    }\r\n\r\n**Response example:**\r\n\r\n    {date=Thu Dec 08 01:15:37 CET 2022, no2=27.76, pm2_5=14.12, pm10=19.07}\r\n\r\n**React App.js part:**\r\n\r\n    import React, { Component } from &#39;react&#39;\r\n    import &#39;./App.css&#39;\r\n    \r\n    import axios from &#39;axios&#39;\r\n    \r\n    class App extends Component {\r\n    \r\n        constructor(props) {\r\n            super(props)\r\n            this.state = {\r\n                responseData:&#39;&#39;,\r\n                date: &#39;&#39;,\r\n                no2: &#39;&#39;,\r\n                pm10: &#39;&#39;,\r\n                pm2_5: &#39;&#39;\r\n            }\r\n    \r\n            this.handleClick = this.handleClick.bind(this)\r\n        }\r\n    \r\n        handleClick () {\r\n            const city = &quot;New York&quot;;\r\n            const state = &quot;New York&quot;;\r\n            const country = &quot;US&quot;;\r\n    \r\n            axios.get(&#39;http://localhost:8080/pollution/current/city?&#39; +\r\n                &#39;city=&#39; + city +\r\n                &#39;&amp;state=&#39;+ state +\r\n                &#39;&amp;country=&#39; + country)\r\n                .then(response =&gt; this.setState({responseData: response.data}))\r\n            console.log(&quot;responseData.date: &quot; + this.state.responseData.date);\r\n        }\r\n    \r\n        render () {\r\n            return (\r\n                &lt;div className=&#39;button__container&#39;&gt;\r\n                    &lt;button className=&#39;button&#39; onClick={this.handleClick}&gt;Submit&lt;/button&gt;\r\n                    &lt;p&gt; Date: {this.state.responseData.date}&lt;/p&gt;\r\n                    &lt;p&gt; no2: {this.state.responseData.no2}&lt;/p&gt;\r\n                    &lt;p&gt; pm10: {this.state.responseData.pm10}&lt;/p&gt;\r\n                    &lt;p&gt; pm2_5: {this.state.responseData.pm2_5}&lt;/p&gt;\r\n                &lt;/div&gt;\r\n            )\r\n        }\r\n    }\r\n    export default App\r\n\r\nIt works fine, I push Submit button, get response from backend and see results on the same webpage. \r\n\r\n[![Simple valid result][1]][1]\r\n\r\nBut it is just a first test stage. As you see, all 3 input parameters are hardcoded here. So I added some logic in App.js file to take parameters from forms:\r\n\r\n**Updated App.js**\r\n\r\n    import React, {Component} from &#39;react&#39;\r\n    import &#39;./App.css&#39;\r\n    \r\n    import axios from &#39;axios&#39;\r\n    \r\n    class App extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                responseData:&#39;&#39;,\r\n                date: &#39;&#39;,\r\n                no2: &#39;&#39;,\r\n                pm10: &#39;&#39;,\r\n                pm2_5: &#39;&#39;,\r\n                city: &#39;&#39;,\r\n                state: &#39;&#39;,\r\n                country: &#39;&#39;,\r\n            };\r\n    \r\n            this.handleClick = this.handleClick.bind(this)\r\n            this.handleInputChange = this.handleInputChange.bind(this);\r\n        }\r\n    \r\n        handleInputChange(event) {\r\n            const target = event.target;\r\n            const value = target.value;\r\n            const name = target.name;\r\n    \r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        }\r\n    \r\n        handleClick() {\r\n        console.log(&quot;log record 1&quot;);\r\n        console.log(&quot;city: &quot; + this.state.city);\r\n            axios.get(&#39;http://localhost:8080/pollution/current/city?&#39; +\r\n                &#39;city=&#39; + this.state.city +\r\n                &#39;&amp;state=&#39;+ this.state.state +\r\n                &#39;&amp;country=&#39; + this.state.country)\r\n                .then(response =&gt; this.setState({responseData: response.data})).catch((err) =&gt; console.error(err));\r\n\r\n        console.log(&quot;response data: &quot; + this.state.responseData);\r\n        console.log(&quot;log record 2&quot;);\r\n        }\r\n    \r\n        render() {\r\n            return (\r\n                &lt;form onSubmit={this.handleClick}&gt;\r\n                    &lt;label&gt;City:\r\n                        &lt;input name=&quot;city&quot; type=&quot;text&quot; value={this.state.city} onChange={this.handleInputChange}/&gt;\r\n                    &lt;/label&gt;\r\n                    &lt;br/&gt;\r\n                    &lt;label&gt;State:\r\n                        &lt;input name=&quot;state&quot; type=&quot;text&quot; value={this.state.state} onChange={this.handleInputChange}/&gt;\r\n                    &lt;/label&gt;\r\n                    &lt;br/&gt;\r\n                    &lt;label&gt;Country:\r\n                        &lt;input name=&quot;country&quot; type=&quot;text&quot; value={this.state.country} onChange={this.handleInputChange} /&gt;\r\n                    &lt;/label&gt;\r\n                    &lt;br/&gt;\r\n                    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\r\n                    &lt;br/&gt;\r\n                    &lt;p&gt; Date: {this.state.responseData.date}&lt;/p&gt;\r\n                    &lt;p&gt; no2: {this.state.responseData.no2}&lt;/p&gt;\r\n                    &lt;p&gt; pm10: {this.state.responseData.pm10}&lt;/p&gt;\r\n                    &lt;p&gt; pm2_5: {this.state.responseData.pm2_5}&lt;/p&gt;\r\n                &lt;/form&gt;\r\n            );\r\n        }\r\n    }\r\n    export default App\r\n\r\n**And here is an issue** - I put values in the forms, push Submit, request is going to the backend part and it generates response (I can see from backend logs, that it gets parameters and produces a result json), but **I don&#39;t see any results on the same webpage**.\r\n\r\n**Backend response log:**\r\n\r\n    INFO 77115 --- [nio-8080-exec-3] c.m.controller.PollutionController       : /current/city response: {&quot;date&quot;:&quot;Fri Dec 09 01:11:49 CET 2022&quot;,&quot;no2&quot;:&quot;19.19&quot;,&quot;pm10&quot;:&quot;45.54&quot;,&quot;pm2_5&quot;:&quot;38.07&quot;}\r\n\r\n**Result on a webpage:**\r\n\r\n[![No results][2]][2]\r\n\r\n\r\n**So my question(s)** - what is wrong with added logic in updated App.js? Why it doesn&#39;t render the response data the same way as before? What I miss here?\r\n\r\n\r\n**UPDATE:**\r\n\r\nI&#39;ve added some loggers in App.js (code above updated with them), and you can see the next result in console:\r\n\r\n[![console screenshot][3]][3]\r\n\r\nThere is no data in console for `console.log(&quot;response data: &quot; + this.state.responseData);` and there are 2 errors after this. **Why are these errors in my case?**\r\n\r\n\r\n**UPDATE 2 :**\r\n\r\nI&#39;ve added also exception handling (added to App.js above) and see this in console:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kehTO.png\r\n  [2]: https://i.stack.imgur.com/qrsZB.png\r\n  [3]: https://i.stack.imgur.com/liFzC.png\r\n  [4]: https://i.stack.imgur.com/gpLZj.png","title":"React + Spring app issue - AxiosError Could not fetch properties. Object may no longer exist","body":"<p>I have a simple React + Spring app. React part should take 3 parameters from frontend forms (city, state, country) after pressing Submit button, pass them to a backend Spring controller, get a response back and show data values from response on the same page. It works with hardcoded parameters, but there is an issue with more complex React logic.</p>\n<p><strong>Spring controller:</strong></p>\n<pre><code>    @CrossOrigin\n@RestController\n@RequestMapping(&quot;/pollution&quot;)\npublic class PollutionController {\n    private static final Logger LOGGER = Logger.getLogger(PollutionController.class.getName());\n\n    JSONObject response;\n    private final PollutionService pollutionService;\n\n    PollutionController(PollutionService pollutionService) {\n        this.pollutionService = pollutionService;\n    }\n    \n    @GetMapping(&quot;/current/city&quot;)\n    public JSONObject getCurrentPollutionDataByCityStateCountry(\n            @RequestParam(value = &quot;city&quot;) String city,\n            @RequestParam(value = &quot;state&quot;) String state,\n            @RequestParam(value = &quot;country&quot;) String country\n    ) {\n        try {\n            response = pollutionService.getCurrentPollutionDataByCityStateCountry(city, state, country);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        LOGGER.log(Level.INFO, &quot;/current/city response: {0}&quot;, response);\n        return response;\n    }\n\n}\n</code></pre>\n<p><strong>Response example:</strong></p>\n<pre><code>{date=Thu Dec 08 01:15:37 CET 2022, no2=27.76, pm2_5=14.12, pm10=19.07}\n</code></pre>\n<p><strong>React App.js part:</strong></p>\n<pre><code>import React, { Component } from 'react'\nimport './App.css'\n\nimport axios from 'axios'\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            responseData:'',\n            date: '',\n            no2: '',\n            pm10: '',\n            pm2_5: ''\n        }\n\n        this.handleClick = this.handleClick.bind(this)\n    }\n\n    handleClick () {\n        const city = &quot;New York&quot;;\n        const state = &quot;New York&quot;;\n        const country = &quot;US&quot;;\n\n        axios.get('http://localhost:8080/pollution/current/city?' +\n            'city=' + city +\n            '&amp;state='+ state +\n            '&amp;country=' + country)\n            .then(response =&gt; this.setState({responseData: response.data}))\n        console.log(&quot;responseData.date: &quot; + this.state.responseData.date);\n    }\n\n    render () {\n        return (\n            &lt;div className='button__container'&gt;\n                &lt;button className='button' onClick={this.handleClick}&gt;Submit&lt;/button&gt;\n                &lt;p&gt; Date: {this.state.responseData.date}&lt;/p&gt;\n                &lt;p&gt; no2: {this.state.responseData.no2}&lt;/p&gt;\n                &lt;p&gt; pm10: {this.state.responseData.pm10}&lt;/p&gt;\n                &lt;p&gt; pm2_5: {this.state.responseData.pm2_5}&lt;/p&gt;\n            &lt;/div&gt;\n        )\n    }\n}\nexport default App\n</code></pre>\n<p>It works fine, I push Submit button, get response from backend and see results on the same webpage.</p>\n<p><a href=\"https://i.stack.imgur.com/kehTO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kehTO.png\" alt=\"Simple valid result\" /></a></p>\n<p>But it is just a first test stage. As you see, all 3 input parameters are hardcoded here. So I added some logic in App.js file to take parameters from forms:</p>\n<p><strong>Updated App.js</strong></p>\n<pre><code>import React, {Component} from 'react'\nimport './App.css'\n\nimport axios from 'axios'\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            responseData:'',\n            date: '',\n            no2: '',\n            pm10: '',\n            pm2_5: '',\n            city: '',\n            state: '',\n            country: '',\n        };\n\n        this.handleClick = this.handleClick.bind(this)\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    handleInputChange(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleClick() {\n    console.log(&quot;log record 1&quot;);\n    console.log(&quot;city: &quot; + this.state.city);\n        axios.get('http://localhost:8080/pollution/current/city?' +\n            'city=' + this.state.city +\n            '&amp;state='+ this.state.state +\n            '&amp;country=' + this.state.country)\n            .then(response =&gt; this.setState({responseData: response.data})).catch((err) =&gt; console.error(err));\n\n    console.log(&quot;response data: &quot; + this.state.responseData);\n    console.log(&quot;log record 2&quot;);\n    }\n\n    render() {\n        return (\n            &lt;form onSubmit={this.handleClick}&gt;\n                &lt;label&gt;City:\n                    &lt;input name=&quot;city&quot; type=&quot;text&quot; value={this.state.city} onChange={this.handleInputChange}/&gt;\n                &lt;/label&gt;\n                &lt;br/&gt;\n                &lt;label&gt;State:\n                    &lt;input name=&quot;state&quot; type=&quot;text&quot; value={this.state.state} onChange={this.handleInputChange}/&gt;\n                &lt;/label&gt;\n                &lt;br/&gt;\n                &lt;label&gt;Country:\n                    &lt;input name=&quot;country&quot; type=&quot;text&quot; value={this.state.country} onChange={this.handleInputChange} /&gt;\n                &lt;/label&gt;\n                &lt;br/&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\n                &lt;br/&gt;\n                &lt;p&gt; Date: {this.state.responseData.date}&lt;/p&gt;\n                &lt;p&gt; no2: {this.state.responseData.no2}&lt;/p&gt;\n                &lt;p&gt; pm10: {this.state.responseData.pm10}&lt;/p&gt;\n                &lt;p&gt; pm2_5: {this.state.responseData.pm2_5}&lt;/p&gt;\n            &lt;/form&gt;\n        );\n    }\n}\nexport default App\n</code></pre>\n<p><strong>And here is an issue</strong> - I put values in the forms, push Submit, request is going to the backend part and it generates response (I can see from backend logs, that it gets parameters and produces a result json), but <strong>I don't see any results on the same webpage</strong>.</p>\n<p><strong>Backend response log:</strong></p>\n<pre><code>INFO 77115 --- [nio-8080-exec-3] c.m.controller.PollutionController       : /current/city response: {&quot;date&quot;:&quot;Fri Dec 09 01:11:49 CET 2022&quot;,&quot;no2&quot;:&quot;19.19&quot;,&quot;pm10&quot;:&quot;45.54&quot;,&quot;pm2_5&quot;:&quot;38.07&quot;}\n</code></pre>\n<p><strong>Result on a webpage:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/qrsZB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qrsZB.png\" alt=\"No results\" /></a></p>\n<p><strong>So my question(s)</strong> - what is wrong with added logic in updated App.js? Why it doesn't render the response data the same way as before? What I miss here?</p>\n<p><strong>UPDATE:</strong></p>\n<p>I've added some loggers in App.js (code above updated with them), and you can see the next result in console:</p>\n<p><a href=\"https://i.stack.imgur.com/liFzC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/liFzC.png\" alt=\"console screenshot\" /></a></p>\n<p>There is no data in console for <code>console.log(&quot;response data: &quot; + this.state.responseData);</code> and there are 2 errors after this. <strong>Why are these errors in my case?</strong></p>\n<p><strong>UPDATE 2 :</strong></p>\n<p>I've added also exception handling (added to App.js above) and see this in console:</p>\n<p><a href=\"https://i.stack.imgur.com/gpLZj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gpLZj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","testing","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1474996574,"post_id":39729752,"comment_id":66758764,"body_markdown":"Note that for efficiency in both development time and running time, it&#39;s usually best to list only the particular configuration classes you want to *include*.","body":"Note that for efficiency in both development time and running time, it&#39;s usually best to list only the particular configuration classes you want to <i>include</i>."}],"answers":[{"tags":[],"owner":{"account_id":4860048,"reputation":507,"user_id":3919963,"display_name":"David Miller"},"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1474995967,"creation_date":1474995967,"answer_id":39730530,"question_id":39729752,"body_markdown":"Typically you would use Spring profiles to either include or exclude Spring beans, depending on which profile is active.  In your situation you could define a production profile, which could be enabled by default; and a test profile.  In your production config class you would specify the production profile:\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:otp.properties&quot;)\r\n    @Profile({ &quot;production&quot; })\r\n    public class OTPConfig {\r\n    }\r\n\r\nThe test config class would specify the test profile:\r\n\r\n    @TestConfiguration\r\n    @Import({ TestDataSourceConfig.class, TestMailConfiguration.class,    TestOTPConfig.class })\r\n    @TestPropertySource(&quot;classpath:amc-test.properties&quot;)\r\n    @Profile({ &quot;test&quot; })\r\n    public class TestAMCApplicationConfig extends AMCApplicationConfig {\r\n    }\r\n\r\nThen, in your test class you should be able to say which profiles are active:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = TestAMCApplicationConfig.class)\r\n    @ActiveProfiles({ &quot;test&quot; })\r\n    public class AuthUserServiceTest {\r\n      ....\r\n    }\r\n\r\nWhen you run your project in production you would include &quot;production&quot; as a default active profile, by setting an environment variable:\r\n\r\n    JAVA_OPTS=&quot;-Dspring.profiles.active=production&quot;\r\n\r\nOf course your production startup script might use something else besides JAVA_OPTS to set the Java environment variables, but somehow you should set `spring.profiles.active`.","title":"Java Spring Boot Test: How to exclude java configuration class from test context","body":"<p>Typically you would use Spring profiles to either include or exclude Spring beans, depending on which profile is active.  In your situation you could define a production profile, which could be enabled by default; and a test profile.  In your production config class you would specify the production profile:</p>\n\n<pre><code>@Configuration\n@PropertySource(\"classpath:otp.properties\")\n@Profile({ \"production\" })\npublic class OTPConfig {\n}\n</code></pre>\n\n<p>The test config class would specify the test profile:</p>\n\n<pre><code>@TestConfiguration\n@Import({ TestDataSourceConfig.class, TestMailConfiguration.class,    TestOTPConfig.class })\n@TestPropertySource(\"classpath:amc-test.properties\")\n@Profile({ \"test\" })\npublic class TestAMCApplicationConfig extends AMCApplicationConfig {\n}\n</code></pre>\n\n<p>Then, in your test class you should be able to say which profiles are active:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = TestAMCApplicationConfig.class)\n@ActiveProfiles({ \"test\" })\npublic class AuthUserServiceTest {\n  ....\n}\n</code></pre>\n\n<p>When you run your project in production you would include \"production\" as a default active profile, by setting an environment variable:</p>\n\n<pre><code>JAVA_OPTS=\"-Dspring.profiles.active=production\"\n</code></pre>\n\n<p>Of course your production startup script might use something else besides JAVA_OPTS to set the Java environment variables, but somehow you should set <code>spring.profiles.active</code>.</p>\n"},{"tags":[],"owner":{"account_id":339128,"reputation":11053,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1615815827,"creation_date":1516365645,"answer_id":48341368,"question_id":39729752,"body_markdown":"You can also use `@ConditionalOnProperty` like below:\r\n\r\n    @ConditionalOnProperty(value=&quot;otpConfig&quot;, havingValue=&quot;production&quot;)\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:otp.properties&quot;)\r\n    public class OTPConfig { }\r\n    \r\nand for tests:\r\n\r\n    @ConditionalOnProperty(value=&quot;otpConfig&quot;, havingValue=&quot;test&quot;)\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:otp-test.properties&quot;)\r\n    public class TestOTPConfig { }\r\n\r\nThen specify in your `main/resources/config/application.yml`\r\n\r\n    otpConfig: production\r\n\r\nand in your `test/resources/config/application.yml`\r\n\r\n    otpConfig: test\r\n\r\n","title":"Java Spring Boot Test: How to exclude java configuration class from test context","body":"<p>You can also use <code>@ConditionalOnProperty</code> like below:</p>\n<pre><code>@ConditionalOnProperty(value=&quot;otpConfig&quot;, havingValue=&quot;production&quot;)\n@Configuration\n@PropertySource(&quot;classpath:otp.properties&quot;)\npublic class OTPConfig { }\n</code></pre>\n<p>and for tests:</p>\n<pre><code>@ConditionalOnProperty(value=&quot;otpConfig&quot;, havingValue=&quot;test&quot;)\n@Configuration\n@PropertySource(&quot;classpath:otp-test.properties&quot;)\npublic class TestOTPConfig { }\n</code></pre>\n<p>Then specify in your <code>main/resources/config/application.yml</code></p>\n<pre><code>otpConfig: production\n</code></pre>\n<p>and in your <code>test/resources/config/application.yml</code></p>\n<pre><code>otpConfig: test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8997990,"reputation":122,"user_id":6707613,"display_name":""},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1533201079,"creation_date":1533201079,"answer_id":51649828,"question_id":39729752,"body_markdown":"You can use `@ConditionalOnMissingClass(&quot;org.springframework.test.context.junit4.SpringJUnit4ClassRunner&quot;)` in Configuration class.`SpringJUnit4ClassRunner` can be replaced by any class which only exits in test environment.","title":"Java Spring Boot Test: How to exclude java configuration class from test context","body":"<p>You can use <code>@ConditionalOnMissingClass(\"org.springframework.test.context.junit4.SpringJUnit4ClassRunner\")</code> in Configuration class.<code>SpringJUnit4ClassRunner</code> can be replaced by any class which only exits in test environment.</p>\n"},{"tags":[],"owner":{"account_id":7676716,"reputation":999,"user_id":5817351,"accept_rate":29,"display_name":"User5817351"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1561411012,"creation_date":1561411012,"answer_id":56744071,"question_id":39729752,"body_markdown":"The easiest way that I use -\r\n\r\n1. Put `@ConditionalOnProperty` in my main source code. \r\n2. Then define a test bean and add it as a part of the test configuration. Either import that configuration in the main test class or any other way. This is only needed when you need to register a test bean. If you do not need that bean then go to next step. \r\n3.  Add a property in application.properties under src/test/resources to disable the use of configuration class that is present in the main folder.\r\n\r\nVoila!\r\n\r\n","title":"Java Spring Boot Test: How to exclude java configuration class from test context","body":"<p>The easiest way that I use -</p>\n\n<ol>\n<li>Put <code>@ConditionalOnProperty</code> in my main source code. </li>\n<li>Then define a test bean and add it as a part of the test configuration. Either import that configuration in the main test class or any other way. This is only needed when you need to register a test bean. If you do not need that bean then go to next step. </li>\n<li>Add a property in application.properties under src/test/resources to disable the use of configuration class that is present in the main folder.</li>\n</ol>\n\n<p>Voila!</p>\n"},{"tags":[],"owner":{"account_id":5187513,"reputation":1584,"user_id":4151472,"accept_rate":71,"display_name":"RichArt"},"down_vote_count":9,"up_vote_count":34,"is_accepted":false,"score":25,"last_activity_date":1595109629,"creation_date":1595109629,"answer_id":62974238,"question_id":39729752,"body_markdown":"You can also just mock the configuration you don&#39;t need. For example:\r\n\r\n    @MockBean\r\n    private AnyConfiguration conf;\r\n\r\nPut it into your test class. This should help to avoid that the real `AnyConfiguration` is being loaded.","title":"Java Spring Boot Test: How to exclude java configuration class from test context","body":"<p>You can also just mock the configuration you don't need. For example:</p>\n<pre><code>@MockBean\nprivate AnyConfiguration conf;\n</code></pre>\n<p>Put it into your test class. This should help to avoid that the real <code>AnyConfiguration</code> is being loaded.</p>\n"},{"tags":[],"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1610955770,"creation_date":1610955770,"answer_id":65770494,"question_id":39729752,"body_markdown":"Additionally, for excluding auto configuration:\r\n\r\n    @EnableAutoConfiguration(exclude=CassandraDataAutoConfiguration.class)\r\n    public class // ...","title":"Java Spring Boot Test: How to exclude java configuration class from test context","body":"<p>Additionally, for excluding auto configuration:</p>\n<pre><code>@EnableAutoConfiguration(exclude=CassandraDataAutoConfiguration.class)\npublic class // ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9306157,"reputation":586,"user_id":6909832,"display_name":"Matheus Santz"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1666963017,"creation_date":1665781404,"answer_id":74074845,"question_id":39729752,"body_markdown":"Create the **same class** as an &quot;useless&quot; mirror in **test folder**, for example:\r\n\r\nIn **src** you have **/app/MyConfig.java**\r\n\r\nCreate **/app/MyConfig.java** in **test folder** with **@Configuration** and leave **empty body** inside it.\r\n","title":"Java Spring Boot Test: How to exclude java configuration class from test context","body":"<p>Create the <strong>same class</strong> as an &quot;useless&quot; mirror in <strong>test folder</strong>, for example:</p>\n<p>In <strong>src</strong> you have <strong>/app/MyConfig.java</strong></p>\n<p>Create <strong>/app/MyConfig.java</strong> in <strong>test folder</strong> with <strong>@Configuration</strong> and leave <strong>empty body</strong> inside it.</p>\n"},{"tags":[],"owner":{"account_id":4803361,"reputation":2027,"user_id":3879301,"accept_rate":65,"display_name":"yN."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670582574,"creation_date":1670582574,"answer_id":74741985,"question_id":39729752,"body_markdown":"Set a profile during tests and load `OTPConfig` only if the profile is not active.\r\n\r\n    @Profile(&quot;!test&quot;)\r\n    @Configuration\r\n    class OTPConfig { ... }\r\n    \r\n    @SpringBootTest(properties = [&quot;spring.profiles.include=test&quot;])\r\n    public class AuthUserServiceTest { .... }","title":"Java Spring Boot Test: How to exclude java configuration class from test context","body":"<p>Set a profile during tests and load <code>OTPConfig</code> only if the profile is not active.</p>\n<pre><code>@Profile(&quot;!test&quot;)\n@Configuration\nclass OTPConfig { ... }\n\n@SpringBootTest(properties = [&quot;spring.profiles.include=test&quot;])\npublic class AuthUserServiceTest { .... }\n</code></pre>\n"}],"owner":{"account_id":4878625,"reputation":561,"user_id":3933006,"display_name":"Sergey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132210,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":8,"score":52,"last_activity_date":1670582574,"creation_date":1474993402,"question_id":39729752,"body_markdown":"I have a Java web app with spring boot\r\n\r\nWhen run test I need to exclude some Java config files:\r\n\r\nTest config (need to include when test run):\r\n\r\n    @TestConfiguration\r\n    @PropertySource(&quot;classpath:otp-test.properties&quot;)\r\n    public class TestOTPConfig { }\r\n\r\nProduction config (need to exclude when test run):\r\n   \r\n\r\n     @Configuration\r\n     @PropertySource(&quot;classpath:otp.properties&quot;)\r\n     public class OTPConfig { }\r\n\r\nTest class (with explicit config class):\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = TestAMCApplicationConfig.class)\r\n    public class AuthUserServiceTest { .... }\r\n\r\nTest config: \r\n\r\n    @TestConfiguration\r\n    @Import({ TestDataSourceConfig.class, TestMailConfiguration.class, TestOTPConfig.class })\r\n    @TestPropertySource(&quot;classpath:amc-test.properties&quot;)\r\n    public class TestAMCApplicationConfig extends AMCApplicationConfig { }\r\n\r\nAlso have class:\r\n\r\n    @SpringBootApplication\r\n    public class AMCApplication { }\r\n\r\nWhen test is running `OTPConfig` used, but I need `TestOTPConfig`...\r\n\r\n**How can I do it?**","title":"Java Spring Boot Test: How to exclude java configuration class from test context","body":"<p>I have a Java web app with spring boot</p>\n\n<p>When run test I need to exclude some Java config files:</p>\n\n<p>Test config (need to include when test run):</p>\n\n<pre><code>@TestConfiguration\n@PropertySource(\"classpath:otp-test.properties\")\npublic class TestOTPConfig { }\n</code></pre>\n\n<p>Production config (need to exclude when test run):</p>\n\n<pre><code> @Configuration\n @PropertySource(\"classpath:otp.properties\")\n public class OTPConfig { }\n</code></pre>\n\n<p>Test class (with explicit config class):</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = TestAMCApplicationConfig.class)\npublic class AuthUserServiceTest { .... }\n</code></pre>\n\n<p>Test config: </p>\n\n<pre><code>@TestConfiguration\n@Import({ TestDataSourceConfig.class, TestMailConfiguration.class, TestOTPConfig.class })\n@TestPropertySource(\"classpath:amc-test.properties\")\npublic class TestAMCApplicationConfig extends AMCApplicationConfig { }\n</code></pre>\n\n<p>Also have class:</p>\n\n<pre><code>@SpringBootApplication\npublic class AMCApplication { }\n</code></pre>\n\n<p>When test is running <code>OTPConfig</code> used, but I need <code>TestOTPConfig</code>...</p>\n\n<p><strong>How can I do it?</strong></p>\n"},{"tags":["java","algorithm","logic","monotone"],"comments":[{"owner":{"account_id":26382674,"reputation":1,"user_id":20035678,"display_name":"Jo&#227;o Lacerda Oliveira"},"score":0,"creation_date":1670539637,"post_id":74722649,"comment_id":131904359,"body_markdown":"It&#39;s supposed to be a hard question so I&#39;m not mad at the number and breath of the tests it just makes it harder when you don&#39;t really know what some of those tests are.","body":"It&#39;s supposed to be a hard question so I&#39;m not mad at the number and breath of the tests it just makes it harder when you don&#39;t really know what some of those tests are."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670582256,"creation_date":1670571074,"answer_id":74740053,"question_id":74722649,"body_markdown":"The problem is in how your code tests for increasing sequences that end in a zero. It is not enough to test that the sequence has n-2 increments and the last digit is a zero, because that will give a false positive on numbers like 6780. It is required that the one-but-last digit is a 9.\r\n\r\nA similar issue exist for the *decreasing* sequence logic, however, there you would not need a special test for an ending zero at all. This condition is covered by counting n-1 decrements, where the ending could be a 1 followed by a zero. There is no special case to be handled here.\r\n\r\nTo fix the first problem, I would suggest you not only check whether the last digit is a zero, but whether the last two digits are 9 and 0, or in other words, that the number modulo 100 is equal to 90.\r\n\r\nYou could replace this:\r\n\r\n    boolean endsInZero = numbers[numbers.length - 1] == 0;\r\n\r\nby this:\r\n\r\n    boolean endsInNinety = testNumber % 100 == 90;\r\n \r\nand then replace:\r\n\r\n    if (incrementingCounter == numbers.length - 2 &amp;&amp; endsInZero) return 2 - yellowOffset;\r\n\r\n\r\nby:\r\n\r\n    if (incrementingCounter == numbers.length - 2 &amp;&amp; endsInNinety) return 2 - yellowOffset;\r\n\r\nand finally remove this test:\r\n\r\n    if (decrementingCounter == numbers.length - 2 &amp;&amp; endsInZero) return 2 - yellowOffset;\r\n\r\nThis will fix it.\r\n\r\nNote that it can be helpful to have your function *print* the input it gets, so that when a test fails, at least you can know for which input there was a problem:\r\n  \r\n    System.out.println(&quot;input &quot; + number);","title":"Solution codewars to car Mileage problem, running out of ideas?","body":"<p>The problem is in how your code tests for increasing sequences that end in a zero. It is not enough to test that the sequence has n-2 increments and the last digit is a zero, because that will give a false positive on numbers like 6780. It is required that the one-but-last digit is a 9.</p>\n<p>A similar issue exist for the <em>decreasing</em> sequence logic, however, there you would not need a special test for an ending zero at all. This condition is covered by counting n-1 decrements, where the ending could be a 1 followed by a zero. There is no special case to be handled here.</p>\n<p>To fix the first problem, I would suggest you not only check whether the last digit is a zero, but whether the last two digits are 9 and 0, or in other words, that the number modulo 100 is equal to 90.</p>\n<p>You could replace this:</p>\n<pre><code>boolean endsInZero = numbers[numbers.length - 1] == 0;\n</code></pre>\n<p>by this:</p>\n<pre><code>boolean endsInNinety = testNumber % 100 == 90;\n</code></pre>\n<p>and then replace:</p>\n<pre><code>if (incrementingCounter == numbers.length - 2 &amp;&amp; endsInZero) return 2 - yellowOffset;\n</code></pre>\n<p>by:</p>\n<pre><code>if (incrementingCounter == numbers.length - 2 &amp;&amp; endsInNinety) return 2 - yellowOffset;\n</code></pre>\n<p>and finally remove this test:</p>\n<pre><code>if (decrementingCounter == numbers.length - 2 &amp;&amp; endsInZero) return 2 - yellowOffset;\n</code></pre>\n<p>This will fix it.</p>\n<p>Note that it can be helpful to have your function <em>print</em> the input it gets, so that when a test fails, at least you can know for which input there was a problem:</p>\n<pre><code>System.out.println(&quot;input &quot; + number);\n</code></pre>\n"}],"owner":{"account_id":26382674,"reputation":1,"user_id":20035678,"display_name":"Jo&#227;o Lacerda Oliveira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74740053,"answer_count":1,"score":-1,"last_activity_date":1670582422,"creation_date":1670445468,"question_id":74722649,"body_markdown":"I am trying to work out a solution to the CodeWars challenge [Catching Car Mileage Numbers](https://www.codewars.com/kata/52c4dd683bfd3b434c000292/train/java): \r\n\r\n&gt;  Write the function that parses the mileage number input, and returns a 2 if the number is &quot;interesting&quot; (see below), a 1 if an interesting number occurs within the next two miles, or a 0 if the number is not interesting.\r\n&gt; \r\n&gt; Interesting numbers are 3-or-more digit numbers that meet one or more of the following criteria:\r\n&gt; \r\n&gt; * Any digit followed by all zeros: 100, 90000\r\n&gt; * Every digit is the same number: 1111\r\n&gt; * The digits are sequential, incementing&lt;sup&gt;&lt;/sup&gt;: 1234\r\n&gt; * The digits are sequential, decrementing&lt;sup&gt;&lt;/sup&gt;: 4321\r\n&gt; * The digits are a palindrome: 1221 or 73837\r\n&gt; * The digits match one of the values in the `awesomePhrases` array\r\n&gt; \r\n&gt; &lt;sup&gt;&lt;/sup&gt; *For incrementing sequences, 0 should come after 9, and not before 1, as in 7890.*&lt;br&gt;\r\n&gt; &lt;sup&gt;&lt;/sup&gt; *For decrementing sequences, 0 should come after 1, and not before 9, as in 3210.*\r\n\r\nI can pass all tests in the first batch, but fail to pass the second batch.\r\n\r\nAny feedback would be very much appreciated, not only on a possible solution but also to the way I&#39;m thinking about the exercise.\r\n\r\n```\r\npublic static int isInteresting(int number, int[] awesomePhrases) {\r\n    for (int offSet = 0; offSet &lt;= 2; offSet++) {\r\n        int testNumber = number;\r\n        testNumber += offSet;\r\n        boolean isYellow = testNumber != number;\r\n        int yellowOffset = 0;\r\n        if (isYellow) {\r\n            yellowOffset = 1;\r\n        }\r\n        //check three or more digit number\r\n        boolean greaterThan99 = testNumber &gt; 99;\r\n        int[] numbers = Integer.toString(testNumber).chars().map(c -&gt; c - &#39;0&#39;).toArray();\r\n        int zeroCounter = 0;\r\n        int identicalCounter = 0;\r\n        int incrementingCounter = 0;\r\n        int decrementingCounter = 0;\r\n        int palindromeCounter = 0;\r\n        boolean endsInZero = numbers[numbers.length - 1] == 0;\r\n        for (int i = 0; i &lt; numbers.length; i++) {\r\n            //check digit followed by zeros\r\n            if (numbers[i] == 0) {\r\n                zeroCounter++;\r\n            }\r\n            if (i + 1 &lt; numbers.length) {\r\n                //check every digit is the same\r\n                if (numbers[i] == numbers[i + 1]) identicalCounter++;\r\n                //check ascending order\r\n                if (numbers[i + 1] - numbers[i] == 1) incrementingCounter++;\r\n                //check descending order\r\n                if (numbers[i] - numbers[i + 1] == 1) decrementingCounter++;\r\n            }\r\n        }        \r\n        if (greaterThan99) {\r\n            //check awesomePhrases\r\n            for (int phrase : awesomePhrases) {\r\n                if (phrase == testNumber) return 2 - yellowOffset;\r\n            }\r\n            //check palindrome\r\n            int reversedIndex = numbers.length - 1;\r\n            for (int i = 0; i &lt; numbers.length; i++) {\r\n                if (numbers[reversedIndex] == numbers[i]) {\r\n                    palindromeCounter++;\r\n                }\r\n                reversedIndex--;\r\n            }            \r\n            if (zeroCounter == numbers.length - 1) return 2 - yellowOffset;\r\n            if (identicalCounter == numbers.length - 1) return 2 - yellowOffset;\r\n            if (incrementingCounter == numbers.length - 1) return 2 - yellowOffset;\r\n            if (incrementingCounter == numbers.length - 2 &amp;&amp; endsInZero) return 2 - yellowOffset;\r\n            if (decrementingCounter == numbers.length - 1) return 2 - yellowOffset;\r\n            if (decrementingCounter == numbers.length - 2 &amp;&amp; endsInZero) return 2 - yellowOffset;\r\n            if (palindromeCounter == numbers.length) return 2 - yellowOffset;\r\n        }\r\n    }\r\n    return 0;\r\n}\r\n```\r\n\r\nI&#39;ve tried pretty much all I know but to no result, all the tests I try pass, would love to know what I&#39;m doing wrong.\r\n\r\n\r\n[1]:https://i.stack.imgur.com/eHx8c.png\r\n\r\n![1]","title":"Solution codewars to car Mileage problem, running out of ideas?","body":"<p>I am trying to work out a solution to the CodeWars challenge <a href=\"https://www.codewars.com/kata/52c4dd683bfd3b434c000292/train/java\" rel=\"nofollow noreferrer\">Catching Car Mileage Numbers</a>:</p>\n<blockquote>\n<p>Write the function that parses the mileage number input, and returns a 2 if the number is &quot;interesting&quot; (see below), a 1 if an interesting number occurs within the next two miles, or a 0 if the number is not interesting.</p>\n<p>Interesting numbers are 3-or-more digit numbers that meet one or more of the following criteria:</p>\n<ul>\n<li>Any digit followed by all zeros: 100, 90000</li>\n<li>Every digit is the same number: 1111</li>\n<li>The digits are sequential, incementing<sup></sup>: 1234</li>\n<li>The digits are sequential, decrementing<sup></sup>: 4321</li>\n<li>The digits are a palindrome: 1221 or 73837</li>\n<li>The digits match one of the values in the <code>awesomePhrases</code> array</li>\n</ul>\n<p><sup></sup> <em>For incrementing sequences, 0 should come after 9, and not before 1, as in 7890.</em><br>\n<sup></sup> <em>For decrementing sequences, 0 should come after 1, and not before 9, as in 3210.</em></p>\n</blockquote>\n<p>I can pass all tests in the first batch, but fail to pass the second batch.</p>\n<p>Any feedback would be very much appreciated, not only on a possible solution but also to the way I'm thinking about the exercise.</p>\n<pre><code>public static int isInteresting(int number, int[] awesomePhrases) {\n    for (int offSet = 0; offSet &lt;= 2; offSet++) {\n        int testNumber = number;\n        testNumber += offSet;\n        boolean isYellow = testNumber != number;\n        int yellowOffset = 0;\n        if (isYellow) {\n            yellowOffset = 1;\n        }\n        //check three or more digit number\n        boolean greaterThan99 = testNumber &gt; 99;\n        int[] numbers = Integer.toString(testNumber).chars().map(c -&gt; c - '0').toArray();\n        int zeroCounter = 0;\n        int identicalCounter = 0;\n        int incrementingCounter = 0;\n        int decrementingCounter = 0;\n        int palindromeCounter = 0;\n        boolean endsInZero = numbers[numbers.length - 1] == 0;\n        for (int i = 0; i &lt; numbers.length; i++) {\n            //check digit followed by zeros\n            if (numbers[i] == 0) {\n                zeroCounter++;\n            }\n            if (i + 1 &lt; numbers.length) {\n                //check every digit is the same\n                if (numbers[i] == numbers[i + 1]) identicalCounter++;\n                //check ascending order\n                if (numbers[i + 1] - numbers[i] == 1) incrementingCounter++;\n                //check descending order\n                if (numbers[i] - numbers[i + 1] == 1) decrementingCounter++;\n            }\n        }        \n        if (greaterThan99) {\n            //check awesomePhrases\n            for (int phrase : awesomePhrases) {\n                if (phrase == testNumber) return 2 - yellowOffset;\n            }\n            //check palindrome\n            int reversedIndex = numbers.length - 1;\n            for (int i = 0; i &lt; numbers.length; i++) {\n                if (numbers[reversedIndex] == numbers[i]) {\n                    palindromeCounter++;\n                }\n                reversedIndex--;\n            }            \n            if (zeroCounter == numbers.length - 1) return 2 - yellowOffset;\n            if (identicalCounter == numbers.length - 1) return 2 - yellowOffset;\n            if (incrementingCounter == numbers.length - 1) return 2 - yellowOffset;\n            if (incrementingCounter == numbers.length - 2 &amp;&amp; endsInZero) return 2 - yellowOffset;\n            if (decrementingCounter == numbers.length - 1) return 2 - yellowOffset;\n            if (decrementingCounter == numbers.length - 2 &amp;&amp; endsInZero) return 2 - yellowOffset;\n            if (palindromeCounter == numbers.length) return 2 - yellowOffset;\n        }\n    }\n    return 0;\n}\n</code></pre>\n<p>I've tried pretty much all I know but to no result, all the tests I try pass, would love to know what I'm doing wrong.</p>\n<p><img src=\"https://i.stack.imgur.com/eHx8c.png\" alt=\"1\" /></p>\n"},{"tags":["java","spring","date","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":4265069,"reputation":16090,"user_id":3763649,"accept_rate":68,"display_name":"Andrea"},"down_vote_count":1,"up_vote_count":48,"is_accepted":true,"score":47,"last_activity_date":1449659023,"creation_date":1424943531,"answer_id":28738868,"question_id":28738506,"body_markdown":"Try with this:\r\n\r\n    ${#dates.format(#dates.createNow(), &#39;dd MMM yyyy HH:mm&#39;)}\r\n\r\nwill be created a `java.util.Date()` object then formatted as you prefer.\r\n\r\n---\r\n\r\n**Using the `#calendars` utility object**\r\n\r\nThis is an alternative method:\r\n\r\n    ${#calendars.format(#calendars.createNow(), &#39;dd MMM yyyy HH:mm&#39;)}\r\n\r\nthe result will be the same.","title":"Get current date in Thymeleaf","body":"<p>Try with this:</p>\n\n<pre><code>${#dates.format(#dates.createNow(), 'dd MMM yyyy HH:mm')}\n</code></pre>\n\n<p>will be created a <code>java.util.Date()</code> object then formatted as you prefer.</p>\n\n<hr>\n\n<p><strong>Using the <code>#calendars</code> utility object</strong></p>\n\n<p>This is an alternative method:</p>\n\n<pre><code>${#calendars.format(#calendars.createNow(), 'dd MMM yyyy HH:mm')}\n</code></pre>\n\n<p>the result will be the same.</p>\n"},{"tags":[],"owner":{"account_id":5783187,"reputation":131,"user_id":4563238,"display_name":"Mykola Lysenko"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1441803672,"creation_date":1441803672,"answer_id":32480270,"question_id":28738506,"body_markdown":"This one works fine for me:\r\n\r\n`${#dates.format(#dates.createNow(),&#39;YYYY/MM/dd HH:mm&#39;)}`","title":"Get current date in Thymeleaf","body":"<p>This one works fine for me:</p>\n\n<p><code>${#dates.format(#dates.createNow(),'YYYY/MM/dd HH:mm')}</code></p>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459517126,"creation_date":1459517126,"answer_id":36357579,"question_id":28738506,"body_markdown":"Just another way to get the current date and time in thymeleaf is using,\r\n\r\n    ${execInfo.now}\r\n\r\n&gt; The current date and time (`${execInfo.now}`), a Calendar object\r\n&gt; corresponding to the moment the template engine started its execution\r\n&gt; for this template.\r\n\r\nYou can create an WebContext to modify the context variables,\r\n\r\n    WebContext ctx = new WebContext(request, servletContext, request.getLocale());\r\n\r\nWhen the context is created, it creates a object which holds the two values for the template engine. The object name is `execInfo`. The two variables are `templateName` and `now`. These variables can be accessed across anywhere in the templates.\r\n\r\nIf you need to format the date format you can do like this,\r\n\r\n    WebContext ctx = new WebContext(request, servletContext, request.getLocale());\r\n    ctx.setVariable(&quot;today&quot;, dateFormat.format(cal.getTime()));\r\n\r\nExample: \r\n\r\n    Current time : &lt;div th:text=&quot;${execInfo.now.time}&quot;&gt;Wed Feb 10 13:55:58 IST 2016&lt;/div&gt;","title":"Get current date in Thymeleaf","body":"<p>Just another way to get the current date and time in thymeleaf is using,</p>\n\n<pre><code>${execInfo.now}\n</code></pre>\n\n<blockquote>\n  <p>The current date and time (<code>${execInfo.now}</code>), a Calendar object\n  corresponding to the moment the template engine started its execution\n  for this template.</p>\n</blockquote>\n\n<p>You can create an WebContext to modify the context variables,</p>\n\n<pre><code>WebContext ctx = new WebContext(request, servletContext, request.getLocale());\n</code></pre>\n\n<p>When the context is created, it creates a object which holds the two values for the template engine. The object name is <code>execInfo</code>. The two variables are <code>templateName</code> and <code>now</code>. These variables can be accessed across anywhere in the templates.</p>\n\n<p>If you need to format the date format you can do like this,</p>\n\n<pre><code>WebContext ctx = new WebContext(request, servletContext, request.getLocale());\nctx.setVariable(\"today\", dateFormat.format(cal.getTime()));\n</code></pre>\n\n<p>Example: </p>\n\n<pre><code>Current time : &lt;div th:text=\"${execInfo.now.time}\"&gt;Wed Feb 10 13:55:58 IST 2016&lt;/div&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8230715,"reputation":351,"user_id":6191407,"display_name":"Sonu patel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1531308738,"creation_date":1531308738,"answer_id":51284427,"question_id":28738506,"body_markdown":"I hope this works :\r\n\r\n    &lt;b th:text=&quot;${#execInfo.now.time}&quot;&gt;&lt;/b&gt;","title":"Get current date in Thymeleaf","body":"<p>I hope this works :</p>\n\n<pre><code>&lt;b th:text=\"${#execInfo.now.time}\"&gt;&lt;/b&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558736982,"creation_date":1558724840,"answer_id":56298353,"question_id":28738506,"body_markdown":"The `Date` is going to be processed by the `#dates` utility.  \r\nThe new `LocalDateTime`, `LocalDate` classes are going to be processed by the `#temporals` utility. \r\n\r\n***Set the format***:\r\n\r\n    &lt;p th:text=&quot;${#dates.format(standardDate, &#39;dd-MM-yyyy HH:mm&#39;)}&quot;&gt;&lt;/p&gt;\r\n    &lt;p th:text=&quot;${#temporals.format(localDateTime, &#39;dd-MM-yyyy HH:mm&#39;)}&quot;&gt;&lt;/p&gt;\r\n    &lt;p th:text=&quot;${#temporals.format(localDate, &#39;MM-yyyy&#39;)}&quot;&gt;&lt;/p&gt;\r\n\r\nWhere you have to ***sent it to a view*** as following:\r\n\r\n    model.addAttribute(&quot;standardDate&quot;, new Date());\r\n    model.addAttribute(&quot;localDateTime&quot;, LocalDateTime.now());\r\n    model.addAttribute(&quot;localDate&quot;, LocalDate.now());\r\n\r\nFormatting the `LocalDate` is only possible if we will specify only the particular date fields, skipping the time fields.\r\n\r\n***Output result***:\r\n\r\n    24-05-2019 21:57\r\n    24-05-2019 21:57\r\n    24-05-2019\r\n\r\n","title":"Get current date in Thymeleaf","body":"<p>The <code>Date</code> is going to be processed by the <code>#dates</code> utility.<br>\nThe new <code>LocalDateTime</code>, <code>LocalDate</code> classes are going to be processed by the <code>#temporals</code> utility. </p>\n\n<p><strong><em>Set the format</em></strong>:</p>\n\n<pre><code>&lt;p th:text=\"${#dates.format(standardDate, 'dd-MM-yyyy HH:mm')}\"&gt;&lt;/p&gt;\n&lt;p th:text=\"${#temporals.format(localDateTime, 'dd-MM-yyyy HH:mm')}\"&gt;&lt;/p&gt;\n&lt;p th:text=\"${#temporals.format(localDate, 'MM-yyyy')}\"&gt;&lt;/p&gt;\n</code></pre>\n\n<p>Where you have to <strong><em>sent it to a view</em></strong> as following:</p>\n\n<pre><code>model.addAttribute(\"standardDate\", new Date());\nmodel.addAttribute(\"localDateTime\", LocalDateTime.now());\nmodel.addAttribute(\"localDate\", LocalDate.now());\n</code></pre>\n\n<p>Formatting the <code>LocalDate</code> is only possible if we will specify only the particular date fields, skipping the time fields.</p>\n\n<p><strong><em>Output result</em></strong>:</p>\n\n<pre><code>24-05-2019 21:57\n24-05-2019 21:57\n24-05-2019\n</code></pre>\n"}],"owner":{"account_id":1303449,"reputation":13425,"user_id":1252920,"accept_rate":45,"display_name":"Fred K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42476,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":28738868,"answer_count":5,"score":21,"last_activity_date":1670581929,"creation_date":1424942453,"question_id":28738506,"body_markdown":"How can I print current date (and time, eventually) from Thymeleaf?\r\nI&#39;m trying these functions:\r\nhttp://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#dates\r\nbut I can&#39;t get them work.","title":"Get current date in Thymeleaf","body":"<p>How can I print current date (and time, eventually) from Thymeleaf?\nI'm trying these functions:\n<a href=\"http://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#dates\">http://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#dates</a>\nbut I can't get them work.</p>\n"},{"tags":["java","hashmap","java-io","file-format"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1670582466,"post_id":74741845,"comment_id":131912472,"body_markdown":"I would recommend to write the data in JSON.","body":"I would recommend to write the data in JSON."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670665868,"post_id":74741845,"comment_id":131929149,"body_markdown":"JSON, XML, YAML, take your pick.","body":"JSON, XML, YAML, take your pick."}],"owner":{"account_id":27174191,"reputation":3,"user_id":20710419,"display_name":"geekynoob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670581823,"creation_date":1670581823,"question_id":74741845,"body_markdown":"I want to write out the hashmap in java, having Key:String and Value:List\\&lt;UserInfo\\&gt;.\r\nThe UserInfo object has (id, name, category, type) vaues.\r\n\r\nCan someone suggest the file format to writeout the map data, which is easy to read.\r\nI wrote in csv file, but have to write key for each object of list, that doesn&#39;t look good.\r\n\r\nI&#39;m beginner in file reading and writing in java.","title":"File Format to Write out map data","body":"<p>I want to write out the hashmap in java, having Key:String and Value:List&lt;UserInfo&gt;.\nThe UserInfo object has (id, name, category, type) vaues.</p>\n<p>Can someone suggest the file format to writeout the map data, which is easy to read.\nI wrote in csv file, but have to write key for each object of list, that doesn't look good.</p>\n<p>I'm beginner in file reading and writing in java.</p>\n"},{"tags":["java","minecraft","bukkit","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1670414022,"post_id":74710139,"comment_id":131869965,"body_markdown":"can you show console output ? Also, next time be sure to do a [mre] to don&#39;t have to explain the full feature you&#39;re trying to do but only the part which doesn&#39;t work","body":"can you show console output ? Also, next time be sure to do a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to don&#39;t have to explain the full feature you&#39;re trying to do but only the part which doesn&#39;t work"},{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1670421249,"post_id":74710139,"comment_id":131872510,"body_markdown":"Thanks so much for the help! Could you clarify what you mean by console output?","body":"Thanks so much for the help! Could you clarify what you mean by console output?"},{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1670423801,"post_id":74710139,"comment_id":131873482,"body_markdown":"I have added the &#39;latest.log&#39; file above if that helps? :)","body":"I have added the &#39;latest.log&#39; file above if that helps? :)"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1670423861,"post_id":74710139,"comment_id":131873511,"body_markdown":"Yes, console output is log. Yes, it will help if you search in console for error of something. It&#39;s the first thing you should do. Also, try to only include content of your plugin, and to copy paste, not show a picture of text","body":"Yes, console output is log. Yes, it will help if you search in console for error of something. It&#39;s the first thing you should do. Also, try to only include content of your plugin, and to copy paste, not show a picture of text"},{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1670423936,"post_id":74710139,"comment_id":131873536,"body_markdown":"I can&#39;t see any errors sadly :( What do you reckon might be going on?","body":"I can&#39;t see any errors sadly :( What do you reckon might be going on?"}],"answers":[{"tags":[],"owner":{"account_id":23084788,"reputation":11,"user_id":17196472,"display_name":"Dralexgon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670453602,"creation_date":1670453559,"answer_id":74723702,"question_id":74710139,"body_markdown":"In fact your plugin is executed by the server.jar so the file spawn at same directory than your spigot.jar\r\n\r\n[Example][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0sd9y.png","title":"Issue when using dataFolder on Java plugin - cannot find where the folder is saved","body":"<p>In fact your plugin is executed by the server.jar so the file spawn at same directory than your spigot.jar</p>\n<p><a href=\"https://i.stack.imgur.com/0sd9y.png\" rel=\"nofollow noreferrer\">Example</a></p>\n"},{"tags":[],"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670581676,"creation_date":1670581676,"answer_id":74741809,"question_id":74710139,"body_markdown":"My code finally when my **&#39;plugin.yml&#39;** and **&#39;pom.xml&#39;** files contain the following information. \r\n\r\nI can now find a &#39;player.log&#39; file nested within my plugins folder which prints out the player coordinates as follows:\r\n\r\n    09-12-2022 09:55:21 CurrentLocation(x,y,z): 47 -50 41\r\n    09-12-2022 09:55:22 CurrentLocation(x,y,z): 47 -50 41\r\n    09-12-2022 09:55:22 CurrentLocation(x,y,z): 47 -50 41\r\n    09-12-2022 09:55:23 CurrentLocation(x,y,z): 47 -50 41\r\n    09-12-2022 09:55:23 CurrentLocation(x,y,z): 47 -50 41\r\n    09-12-2022 09:55:24 CurrentLocation(x,y,z): 47 -50 41\r\n    09-12-2022 09:55:26 CurrentLocation(x,y,z): 47 -50 43\r\n    09-12-2022 09:55:26 CurrentLocation(x,y,z): 46 -50 46\r\n    09-12-2022 09:55:27 CurrentLocation(x,y,z): 45 -49 45\r\n    09-12-2022 09:55:28 CurrentLocation(x,y,z): 46 -50 42\r\n    09-12-2022 09:55:29 CurrentLocation(x,y,z): 47 -50 37\r\n    09-12-2022 09:55:30 CurrentLocation(x,y,z): 47 -49 33\r\n    09-12-2022 09:55:31 CurrentLocation(x,y,z): 46 -49 30\r\n\r\n**plugin.yml:**\r\n\r\n    name: newestplugin\r\n    main: newestfile.here.newestplugin.Main \r\n    version: 0.0.1-SNAPSHOT\r\n    api-version: 1.19 \r\n\r\n**pom.xml:**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;newestfile.here&lt;/groupId&gt;\r\n      &lt;artifactId&gt;newestplugin&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;build&gt;\r\n       &lt;resources&gt;\r\n         &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;plugin.yml&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n         &lt;/resource&gt;\r\n       &lt;/resources&gt;   \r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.10.1&lt;/version&gt;       \r\n                  &lt;configuration&gt;\r\n                      &lt;release&gt;17&lt;/release&gt;\r\n                  &lt;/configuration&gt;   \r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n       &lt;repositories&gt;\r\n           &lt;repository&gt;\r\n              &lt;id&gt;papermc-repo&lt;/id&gt;\r\n              &lt;url&gt;https://papermc.io/repo/repository/maven-public/&lt;/url&gt;\r\n           &lt;/repository&gt;\r\n       &lt;/repositories&gt;\r\n        &lt;dependencies&gt;\r\n           &lt;dependency&gt;\r\n              &lt;groupId&gt;io.papermc.paper&lt;/groupId&gt;\r\n              &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\r\n              &lt;version&gt;1.19.2-R0.1-SNAPSHOT&lt;/version&gt;\r\n              &lt;scope&gt;provided&lt;/scope&gt;\r\n           &lt;/dependency&gt;\r\n       &lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"Issue when using dataFolder on Java plugin - cannot find where the folder is saved","body":"<p>My code finally when my <strong>'plugin.yml'</strong> and <strong>'pom.xml'</strong> files contain the following information.</p>\n<p>I can now find a 'player.log' file nested within my plugins folder which prints out the player coordinates as follows:</p>\n<pre><code>09-12-2022 09:55:21 CurrentLocation(x,y,z): 47 -50 41\n09-12-2022 09:55:22 CurrentLocation(x,y,z): 47 -50 41\n09-12-2022 09:55:22 CurrentLocation(x,y,z): 47 -50 41\n09-12-2022 09:55:23 CurrentLocation(x,y,z): 47 -50 41\n09-12-2022 09:55:23 CurrentLocation(x,y,z): 47 -50 41\n09-12-2022 09:55:24 CurrentLocation(x,y,z): 47 -50 41\n09-12-2022 09:55:26 CurrentLocation(x,y,z): 47 -50 43\n09-12-2022 09:55:26 CurrentLocation(x,y,z): 46 -50 46\n09-12-2022 09:55:27 CurrentLocation(x,y,z): 45 -49 45\n09-12-2022 09:55:28 CurrentLocation(x,y,z): 46 -50 42\n09-12-2022 09:55:29 CurrentLocation(x,y,z): 47 -50 37\n09-12-2022 09:55:30 CurrentLocation(x,y,z): 47 -49 33\n09-12-2022 09:55:31 CurrentLocation(x,y,z): 46 -49 30\n</code></pre>\n<p><strong>plugin.yml:</strong></p>\n<pre><code>name: newestplugin\nmain: newestfile.here.newestplugin.Main \nversion: 0.0.1-SNAPSHOT\napi-version: 1.19 \n</code></pre>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;newestfile.here&lt;/groupId&gt;\n  &lt;artifactId&gt;newestplugin&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n   &lt;resources&gt;\n     &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;plugin.yml&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n     &lt;/resource&gt;\n   &lt;/resources&gt;   \n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.10.1&lt;/version&gt;       \n              &lt;configuration&gt;\n                  &lt;release&gt;17&lt;/release&gt;\n              &lt;/configuration&gt;   \n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n   &lt;repositories&gt;\n       &lt;repository&gt;\n          &lt;id&gt;papermc-repo&lt;/id&gt;\n          &lt;url&gt;https://papermc.io/repo/repository/maven-public/&lt;/url&gt;\n       &lt;/repository&gt;\n   &lt;/repositories&gt;\n    &lt;dependencies&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;io.papermc.paper&lt;/groupId&gt;\n          &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\n          &lt;version&gt;1.19.2-R0.1-SNAPSHOT&lt;/version&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n       &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670581676,"creation_date":1670368908,"question_id":74710139,"body_markdown":"I would like to save the output (player coordinates) of the minecraft game into a file named player.log.\r\n\r\nIf my player username was &#39;abce&#39;, the name of the file should be &#39;abce.log&#39;.\r\n\r\nHowever, I can&#39;t find where on my server this file has been stored - it is not in the plugins folder where I would like it to be. \r\n\r\nI have attached a screenshot below of where I would like the file to be saved (which is **remotely** in an **external shock-byte server plugins folder**). \r\n\r\nI have the following code:\r\n```\r\npackage newestfile.here.newestplugin;\r\n\r\nimport java.util.UUID;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.StandardOpenOption;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.io.File;\r\nimport org.bukkit.event.player.PlayerQuitEvent;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.Location;\r\nimport org.bukkit.event.player.PlayerJoinEvent;\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\nimport org.bukkit.scheduler.BukkitTask;\r\nimport java.nio.file.Files; \r\n\r\npublic class Main extends JavaPlugin implements Listener\r\n{\r\n\tboolean stopRepeater;\r\n\tHashMap&lt;UUID, BukkitTask&gt; tasks = new HashMap&lt;&gt;();\r\n \r\n    private File dataFolder;\r\n    \r\n    public void onEnable() {\r\n        Bukkit.getServer().getPluginManager().registerEvents(this,this);\r\n        getLogger().info(&quot;HELLO! WELCOME TO THE TRACKER PLUGIN&quot;);\r\n        dataFolder = new File(getDataFolder(), &quot;data&quot;); \r\n        dataFolder.mkdirs();\r\n    }\r\n    \r\n    @EventHandler\r\n    public void onLogin(final PlayerJoinEvent event) {\r\n        final Player thePlayer = event.getPlayer();\r\n        this.stopRepeater = true;\r\n        final Location playerSpawnLocation = thePlayer.getLocation();\r\n        getLogger().info(&quot;Welcome &quot; + thePlayer.getName() + &quot;. Your current position is: &quot; + playerSpawnLocation); \t\r\n        BukkitTask task = getServer().getScheduler().runTaskTimer(this, () -&gt; {\r\n            if(this.stopRepeater) {\r\n                this.logToFile(thePlayer, thePlayer.getLocation());\r\n            }\r\n        }, 0L, 20L);\r\n        tasks.put(thePlayer.getUniqueId(),task);}\r\n    \r\n    @EventHandler\r\n    public void onQuit(final PlayerQuitEvent event) {\r\n    \tPlayer thePlayer = event.getPlayer(); \r\n    \tif(!thePlayer.isOnline()) {\r\n            this.stopRepeater = false;  \r\n            getLogger().info(String.valueOf(event.getPlayer().getName()) + &quot; has left the game&quot;);\r\n            BukkitTask task = tasks.remove(thePlayer.getUniqueId()); \r\n            if(task != null) { \r\n               task.cancel();\r\n            }\r\n    \t}\r\n    }\r\n\r\n    public void logToFile(final Player currentPlayer, final Location playerCurrentLocation) {\r\n        try {\r\n        \tString content = String.valueOf(new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;).format(new Date())) + &quot; CurrentLocation(x,y,z): &quot; + playerCurrentLocation.getBlockX() + &quot; &quot; + playerCurrentLocation.getBlockY() + &quot; &quot; + playerCurrentLocation.getBlockZ() + &quot;\\n&quot;;\r\n            final File file = new File(dataFolder, currentPlayer.getName() + &quot;.log&quot;);\r\n            if (!file.exists()) {\r\n                file.createNewFile();\r\n            }\r\n            Files.write(file.toPath(),content.getBytes(StandardCharsets.UTF_8),StandardOpenOption.APPEND);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n     }\r\n}\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nOutput of the **&#39;latest.log&#39;** file: \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hcI0z.png\r\n  [2]: https://i.stack.imgur.com/HXFPu.png","title":"Issue when using dataFolder on Java plugin - cannot find where the folder is saved","body":"<p>I would like to save the output (player coordinates) of the minecraft game into a file named player.log.</p>\n<p>If my player username was 'abce', the name of the file should be 'abce.log'.</p>\n<p>However, I can't find where on my server this file has been stored - it is not in the plugins folder where I would like it to be.</p>\n<p>I have attached a screenshot below of where I would like the file to be saved (which is <strong>remotely</strong> in an <strong>external shock-byte server plugins folder</strong>).</p>\n<p>I have the following code:</p>\n<pre><code>package newestfile.here.newestplugin;\n\nimport java.util.UUID;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.StandardOpenOption;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.io.File;\nimport org.bukkit.event.player.PlayerQuitEvent;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.entity.Player;\nimport org.bukkit.Location;\nimport org.bukkit.event.player.PlayerJoinEvent;\nimport org.bukkit.Bukkit;\nimport org.bukkit.event.Listener;\nimport org.bukkit.plugin.java.JavaPlugin;\nimport org.bukkit.scheduler.BukkitTask;\nimport java.nio.file.Files; \n\npublic class Main extends JavaPlugin implements Listener\n{\n    boolean stopRepeater;\n    HashMap&lt;UUID, BukkitTask&gt; tasks = new HashMap&lt;&gt;();\n \n    private File dataFolder;\n    \n    public void onEnable() {\n        Bukkit.getServer().getPluginManager().registerEvents(this,this);\n        getLogger().info(&quot;HELLO! WELCOME TO THE TRACKER PLUGIN&quot;);\n        dataFolder = new File(getDataFolder(), &quot;data&quot;); \n        dataFolder.mkdirs();\n    }\n    \n    @EventHandler\n    public void onLogin(final PlayerJoinEvent event) {\n        final Player thePlayer = event.getPlayer();\n        this.stopRepeater = true;\n        final Location playerSpawnLocation = thePlayer.getLocation();\n        getLogger().info(&quot;Welcome &quot; + thePlayer.getName() + &quot;. Your current position is: &quot; + playerSpawnLocation);  \n        BukkitTask task = getServer().getScheduler().runTaskTimer(this, () -&gt; {\n            if(this.stopRepeater) {\n                this.logToFile(thePlayer, thePlayer.getLocation());\n            }\n        }, 0L, 20L);\n        tasks.put(thePlayer.getUniqueId(),task);}\n    \n    @EventHandler\n    public void onQuit(final PlayerQuitEvent event) {\n        Player thePlayer = event.getPlayer(); \n        if(!thePlayer.isOnline()) {\n            this.stopRepeater = false;  \n            getLogger().info(String.valueOf(event.getPlayer().getName()) + &quot; has left the game&quot;);\n            BukkitTask task = tasks.remove(thePlayer.getUniqueId()); \n            if(task != null) { \n               task.cancel();\n            }\n        }\n    }\n\n    public void logToFile(final Player currentPlayer, final Location playerCurrentLocation) {\n        try {\n            String content = String.valueOf(new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;).format(new Date())) + &quot; CurrentLocation(x,y,z): &quot; + playerCurrentLocation.getBlockX() + &quot; &quot; + playerCurrentLocation.getBlockY() + &quot; &quot; + playerCurrentLocation.getBlockZ() + &quot;\\n&quot;;\n            final File file = new File(dataFolder, currentPlayer.getName() + &quot;.log&quot;);\n            if (!file.exists()) {\n                file.createNewFile();\n            }\n            Files.write(file.toPath(),content.getBytes(StandardCharsets.UTF_8),StandardOpenOption.APPEND);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n     }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hcI0z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hcI0z.png\" alt=\"enter image description here\" /></a></p>\n<p>Output of the <strong>'latest.log'</strong> file:</p>\n<p><a href=\"https://i.stack.imgur.com/HXFPu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HXFPu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","plugins","minecraft","bukkit","spigot"],"comments":[{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":0,"creation_date":1670512136,"post_id":74731122,"comment_id":131896178,"body_markdown":"Could you show how you nested the files in your project? EG a file tree showing the `pom.xml` at the root, the java source code at `src/main/&lt;package&gt;/&lt;class&gt;.java` and the `plugin.yml` at `resources/main/plugin.yml`","body":"Could you show how you nested the files in your project? EG a file tree showing the <code>pom.xml</code> at the root, the java source code at <code>src&#47;main&#47;&lt;package&gt;&#47;&lt;class&gt;.java</code> and the <code>plugin.yml</code> at <code>resources&#47;main&#47;plugin.yml</code>"},{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1670513198,"post_id":74731122,"comment_id":131896607,"body_markdown":"Have added above - is that what you mean? Showing which package is in which folder :)","body":"Have added above - is that what you mean? Showing which package is in which folder :)"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670514078,"creation_date":1670514078,"answer_id":74732824,"question_id":74731122,"body_markdown":"You should precise in the `pom.xml` file, in the `&lt;build&gt;` section:\r\n```xml\r\n&lt;resources&gt;\r\n    &lt;resource&gt;\r\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;plugin.yml&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n        &lt;filtering&gt;true&lt;/filtering&gt;\r\n    &lt;/resource&gt;\r\n&lt;/resources&gt;\r\n```\r\nIf you have another file to add (for example `config.yml`), just copy the line `&lt;include&gt;plugin.yml&lt;/include&gt;`.","title":"Jar does not contain plugin.yml - not sure why?","body":"<p>You should precise in the <code>pom.xml</code> file, in the <code>&lt;build&gt;</code> section:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;plugin.yml&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>If you have another file to add (for example <code>config.yml</code>), just copy the line <code>&lt;include&gt;plugin.yml&lt;/include&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670581492,"creation_date":1670581492,"answer_id":74741778,"question_id":74731122,"body_markdown":"My code finally worked with the following:\r\n\r\n**plugin.yml:**\r\n\r\n    name: newestplugin\r\n    main: newestfile.here.newestplugin.Main \r\n    version: 0.0.1-SNAPSHOT\r\n    api-version: 1.19 \r\n\r\n**pom.xml:**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;newestfile.here&lt;/groupId&gt;\r\n      &lt;artifactId&gt;newestplugin&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;build&gt;\r\n       &lt;resources&gt;\r\n         &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;plugin.yml&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n         &lt;/resource&gt;\r\n       &lt;/resources&gt;   \r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.10.1&lt;/version&gt;       \r\n                  &lt;configuration&gt;\r\n                      &lt;release&gt;17&lt;/release&gt;\r\n                  &lt;/configuration&gt;   \r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n       &lt;repositories&gt;\r\n           &lt;repository&gt;\r\n              &lt;id&gt;papermc-repo&lt;/id&gt;\r\n              &lt;url&gt;https://papermc.io/repo/repository/maven-public/&lt;/url&gt;\r\n           &lt;/repository&gt;\r\n       &lt;/repositories&gt;\r\n        &lt;dependencies&gt;\r\n           &lt;dependency&gt;\r\n              &lt;groupId&gt;io.papermc.paper&lt;/groupId&gt;\r\n              &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\r\n              &lt;version&gt;1.19.2-R0.1-SNAPSHOT&lt;/version&gt;\r\n              &lt;scope&gt;provided&lt;/scope&gt;\r\n           &lt;/dependency&gt;\r\n       &lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"Jar does not contain plugin.yml - not sure why?","body":"<p>My code finally worked with the following:</p>\n<p><strong>plugin.yml:</strong></p>\n<pre><code>name: newestplugin\nmain: newestfile.here.newestplugin.Main \nversion: 0.0.1-SNAPSHOT\napi-version: 1.19 \n</code></pre>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;newestfile.here&lt;/groupId&gt;\n  &lt;artifactId&gt;newestplugin&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n   &lt;resources&gt;\n     &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;plugin.yml&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n     &lt;/resource&gt;\n   &lt;/resources&gt;   \n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.10.1&lt;/version&gt;       \n              &lt;configuration&gt;\n                  &lt;release&gt;17&lt;/release&gt;\n              &lt;/configuration&gt;   \n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n   &lt;repositories&gt;\n       &lt;repository&gt;\n          &lt;id&gt;papermc-repo&lt;/id&gt;\n          &lt;url&gt;https://papermc.io/repo/repository/maven-public/&lt;/url&gt;\n       &lt;/repository&gt;\n   &lt;/repositories&gt;\n    &lt;dependencies&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;io.papermc.paper&lt;/groupId&gt;\n          &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\n          &lt;version&gt;1.19.2-R0.1-SNAPSHOT&lt;/version&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n       &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74732824,"answer_count":2,"score":0,"last_activity_date":1670581492,"creation_date":1670506669,"question_id":74731122,"body_markdown":"I have the following code below.\r\n\r\nI am creating a plugin for Minecraft using the **Spigot/Bukkit** API and the **java programming language**.\r\n\r\nI have created this using the **maven** tool on **eclipse**. \r\n\r\nI enter **mvn clean package** into the terminal on my mac to compile the &#39;.jar&#39; file. \r\n\r\nI then drag this &#39;.jar&#39; file into my **&#39;plugins&#39;** folder on my server. \r\n\r\nHowever, I keep getting the issue: **java.io.FileNotFoundException: Jar does not contain plugin.yml**\r\n\r\nI am not sure why the jar file **does not contain** the plugin.yml. \r\n\r\nI would be so grateful for a helping hand! \r\n\r\n**pom.xml** file: \r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;newestfile.here&lt;/groupId&gt;\r\n  &lt;artifactId&gt;newestplugin&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.10.1&lt;/version&gt;       \r\n              &lt;configuration&gt;\r\n                  &lt;release&gt;17&lt;/release&gt;\r\n              &lt;/configuration&gt;   \r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n&lt;/build&gt;\r\n   &lt;repositories&gt;\r\n       &lt;repository&gt;\r\n          &lt;id&gt;papermc-repo&lt;/id&gt;\r\n          &lt;url&gt;https://papermc.io/repo/repository/maven-public/&lt;/url&gt;\r\n       &lt;/repository&gt;\r\n   &lt;/repositories&gt;\r\n    &lt;dependencies&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;io.papermc.paper&lt;/groupId&gt;\r\n          &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\r\n          &lt;version&gt;1.19.2-R0.1-SNAPSHOT&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n       &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n**plugin.yml** file:\r\n\r\n```\r\nname:newestplugin\r\nmain:newestfile.here.newestplugin.Main \r\nversion:0.0.1-SNAPSHOT\r\napi-version: 1.19 \r\n```\r\nThe top few lines of my **&#39;.java&#39;** file:\r\n\r\n```\r\npackage newestfile.here.newestplugin;\r\n\r\nimport java.util.UUID;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.StandardOpenOption;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.io.File;\r\nimport org.bukkit.event.player.PlayerQuitEvent;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.Location;\r\nimport org.bukkit.event.player.PlayerJoinEvent;\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\nimport org.bukkit.scheduler.BukkitTask;\r\nimport java.nio.file.Files; \r\n\r\npublic class Main extends JavaPlugin implements Listener\r\n{\r\n\tboolean stopRepeater;\r\n```\r\n\r\nOrganisation of **nesting** of packages:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/lWsJc.png","title":"Jar does not contain plugin.yml - not sure why?","body":"<p>I have the following code below.</p>\n<p>I am creating a plugin for Minecraft using the <strong>Spigot/Bukkit</strong> API and the <strong>java programming language</strong>.</p>\n<p>I have created this using the <strong>maven</strong> tool on <strong>eclipse</strong>.</p>\n<p>I enter <strong>mvn clean package</strong> into the terminal on my mac to compile the '.jar' file.</p>\n<p>I then drag this '.jar' file into my <strong>'plugins'</strong> folder on my server.</p>\n<p>However, I keep getting the issue: <strong>java.io.FileNotFoundException: Jar does not contain plugin.yml</strong></p>\n<p>I am not sure why the jar file <strong>does not contain</strong> the plugin.yml.</p>\n<p>I would be so grateful for a helping hand!</p>\n<p><strong>pom.xml</strong> file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;newestfile.here&lt;/groupId&gt;\n  &lt;artifactId&gt;newestplugin&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.10.1&lt;/version&gt;       \n              &lt;configuration&gt;\n                  &lt;release&gt;17&lt;/release&gt;\n              &lt;/configuration&gt;   \n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n   &lt;repositories&gt;\n       &lt;repository&gt;\n          &lt;id&gt;papermc-repo&lt;/id&gt;\n          &lt;url&gt;https://papermc.io/repo/repository/maven-public/&lt;/url&gt;\n       &lt;/repository&gt;\n   &lt;/repositories&gt;\n    &lt;dependencies&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;io.papermc.paper&lt;/groupId&gt;\n          &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\n          &lt;version&gt;1.19.2-R0.1-SNAPSHOT&lt;/version&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n       &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>plugin.yml</strong> file:</p>\n<pre><code>name:newestplugin\nmain:newestfile.here.newestplugin.Main \nversion:0.0.1-SNAPSHOT\napi-version: 1.19 \n</code></pre>\n<p>The top few lines of my <strong>'.java'</strong> file:</p>\n<pre><code>package newestfile.here.newestplugin;\n\nimport java.util.UUID;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.StandardOpenOption;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.io.File;\nimport org.bukkit.event.player.PlayerQuitEvent;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.entity.Player;\nimport org.bukkit.Location;\nimport org.bukkit.event.player.PlayerJoinEvent;\nimport org.bukkit.Bukkit;\nimport org.bukkit.event.Listener;\nimport org.bukkit.plugin.java.JavaPlugin;\nimport org.bukkit.scheduler.BukkitTask;\nimport java.nio.file.Files; \n\npublic class Main extends JavaPlugin implements Listener\n{\n    boolean stopRepeater;\n</code></pre>\n<p>Organisation of <strong>nesting</strong> of packages:</p>\n<p><a href=\"https://i.stack.imgur.com/lWsJc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lWsJc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","intellij-idea","github-copilot"],"owner":{"account_id":4858810,"reputation":7529,"user_id":3919088,"accept_rate":67,"display_name":"Plaul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670581222,"creation_date":1670581222,"question_id":74741733,"body_markdown":"If I create an Entity class in Intellij, and then, in that file,  &quot;ask&quot; co-pilot for a repostiory\r\n Like this: \r\n\r\n`//create Repository for Book entity class`\r\nIt comes up with this perfectly valid solution for a name and location(but not more)\r\n\r\n`// Path: src\\main\\java\\dat3.library.repository\\BookRepository.java`\r\n\r\nIf I now open the Copilot window and press the Refresh button it comes up with a completely acceptable suggestion, extending the JpaRepository.\r\nBut when I press the &quot;accept the  solution&quot; button, it inserts the repository inside the Entity class file, even if the suggestion includes the correct repository package.\r\n\r\nAm I missing something, or can Github Copilot/the Intellij-plugin really only create hints inside a single file?\r\nIf it can, any suggestion to how, will be much appreciated. \r\n","title":"Can github-copilot create new classes for suggestions with the Intellij Plugin","body":"<p>If I create an Entity class in Intellij, and then, in that file,  &quot;ask&quot; co-pilot for a repostiory\nLike this:</p>\n<p><code>//create Repository for Book entity class</code>\nIt comes up with this perfectly valid solution for a name and location(but not more)</p>\n<p><code>// Path: src\\main\\java\\dat3.library.repository\\BookRepository.java</code></p>\n<p>If I now open the Copilot window and press the Refresh button it comes up with a completely acceptable suggestion, extending the JpaRepository.\nBut when I press the &quot;accept the  solution&quot; button, it inserts the repository inside the Entity class file, even if the suggestion includes the correct repository package.</p>\n<p>Am I missing something, or can Github Copilot/the Intellij-plugin really only create hints inside a single file?\nIf it can, any suggestion to how, will be much appreciated.</p>\n"},{"tags":["java","sql","postgresql","jpa","hibernate-criteria"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1670582813,"post_id":74740573,"comment_id":131912580,"body_markdown":"`CriteriaBuilder` has methods `count` and `countDistinct` that take an expression.","body":"<code>CriteriaBuilder</code> has methods <code>count</code> and <code>countDistinct</code> that take an expression."},{"owner":{"account_id":10983199,"reputation":91,"user_id":8069714,"display_name":"Aksoy"},"score":0,"creation_date":1670587855,"post_id":74740573,"comment_id":131914013,"body_markdown":"@RobSpoor I put the column that I want to count into countDistinct. However I don&#39;t know how to add the condition to this ?\n\ncb.countDistinct(joinBooking.get(Booking_.status))","body":"@RobSpoor I put the column that I want to count into countDistinct. However I don&#39;t know how to add the condition to this ?  cb.countDistinct(joinBooking.get(Booking_.status))"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1670589283,"post_id":74740573,"comment_id":131914481,"body_markdown":"Right, the FILTER function. That looks to be a Postgres specific function. To support that directly probably requires you to use the `function` method. However, I&#39;m not sure this structure is possible. An alternative is to not use `COUNT` but instead use a subquery: `(SELECT COUNT(...) FROM ... WHERE ...) as columnName`. I don&#39;t know how that impacts performance.","body":"Right, the FILTER function. That looks to be a Postgres specific function. To support that directly probably requires you to use the <code>function</code> method. However, I&#39;m not sure this structure is possible. An alternative is to not use <code>COUNT</code> but instead use a subquery: <code>(SELECT COUNT(...) FROM ... WHERE ...) as columnName</code>. I don&#39;t know how that impacts performance."},{"owner":{"account_id":10983199,"reputation":91,"user_id":8069714,"display_name":"Aksoy"},"score":0,"creation_date":1670591742,"post_id":74740573,"comment_id":131915270,"body_markdown":"@RobSpoor my intention was to use subquery as you mentioned but joined tables cannot be reached from subqueries so I don&#39;t know what to add to WHERE condition otherwise subquery will produce the same result for each batch.","body":"@RobSpoor my intention was to use subquery as you mentioned but joined tables cannot be reached from subqueries so I don&#39;t know what to add to WHERE condition otherwise subquery will produce the same result for each batch."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1670591960,"post_id":74740573,"comment_id":131915322,"body_markdown":"I think that in this case, switching to `CriteriaBuilder` will limit you more than it&#39;s worth. Is there a reason you need to use `CriteriaBuilder`? Why not keep this as a native query?","body":"I think that in this case, switching to <code>CriteriaBuilder</code> will limit you more than it&#39;s worth. Is there a reason you need to use <code>CriteriaBuilder</code>? Why not keep this as a native query?"}],"owner":{"account_id":10983199,"reputation":91,"user_id":8069714,"display_name":"Aksoy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670581118,"creation_date":1670574754,"question_id":74740573,"body_markdown":"I have the tables below;\r\n\r\n**batch** table: id, name, description, create_timestamp, created_by ...\r\n\r\n**batch_run** table: id, batch_id, ...\r\n\r\n**journey** table: id, batch_id, ...\r\n\r\n**booking** table: id, journey_id, status, ...\r\n\r\n**segment** table: id, journey_id, departure_time, ...\r\n\r\n**item** table: id, booking_id, passenger_uuid\r\n\r\n\r\nHow can I use filtered count() operation in java criteria builder? Because in the end, I will convert this query into criteria builder.  \r\n\r\n    select\r\n    \tbatch.id,\r\n    \tbatch.&quot;name&quot;,\r\n    \tbatch.description,\r\n    \tbatch.create_timestamp,\r\n    \tbatch.created_by,\r\n    \tCOUNT(distinct b.id) as bookingCount,\r\n    \tCOUNT(distinct j.id) as distinctJourneyCount,\r\n    \tCOUNT(distinct b.status) FILTER(WHERE b.status = &#39;succeeded&#39;) as succeedBookingCount,\r\n    \tCOUNT(distinct b.status) FILTER(WHERE b.status = &#39;failed&#39;) as failedBookingCount,\r\n    \tCOUNT(distinct b.status) FILTER(WHERE b.status = &#39;skipped&#39;) as skippedBookingCount,\r\n    \tCOUNT(distinct b.status) FILTER(WHERE b.status = &#39;unprocessed&#39;) as unprocessedBookingCount,\r\n    \tCOUNT(distinct i.passenger_uuid) as distinctPassengerCount,\r\n    \tMIN(s.departure_time) as minimumDepartureTime,\r\n    \tMAX(s.departure_time) as mmaximumDepartureTime, \r\n    \tbatch.status \r\n    from\r\n    \tbatch\r\n    left join journey j on\r\n    \tbatch.id = j.batch_id\r\n    left join segment s on\r\n    \tj.id = s.journey_id\r\n    left join booking b on\r\n    \tj.id = b.journey_id\r\n    left join item i on\r\n    \tb.id = i.booking_id\r\n    left join batch_run br on\r\n    \tbatch.id = br.batch_id\r\n    group by\r\n    \tbatch.id;\r\n\r\n","title":"How can filtered count() operation in PostgreSQL be turned into criteria builder?","body":"<p>I have the tables below;</p>\n<p><strong>batch</strong> table: id, name, description, create_timestamp, created_by ...</p>\n<p><strong>batch_run</strong> table: id, batch_id, ...</p>\n<p><strong>journey</strong> table: id, batch_id, ...</p>\n<p><strong>booking</strong> table: id, journey_id, status, ...</p>\n<p><strong>segment</strong> table: id, journey_id, departure_time, ...</p>\n<p><strong>item</strong> table: id, booking_id, passenger_uuid</p>\n<p>How can I use filtered count() operation in java criteria builder? Because in the end, I will convert this query into criteria builder.</p>\n<pre><code>select\n    batch.id,\n    batch.&quot;name&quot;,\n    batch.description,\n    batch.create_timestamp,\n    batch.created_by,\n    COUNT(distinct b.id) as bookingCount,\n    COUNT(distinct j.id) as distinctJourneyCount,\n    COUNT(distinct b.status) FILTER(WHERE b.status = 'succeeded') as succeedBookingCount,\n    COUNT(distinct b.status) FILTER(WHERE b.status = 'failed') as failedBookingCount,\n    COUNT(distinct b.status) FILTER(WHERE b.status = 'skipped') as skippedBookingCount,\n    COUNT(distinct b.status) FILTER(WHERE b.status = 'unprocessed') as unprocessedBookingCount,\n    COUNT(distinct i.passenger_uuid) as distinctPassengerCount,\n    MIN(s.departure_time) as minimumDepartureTime,\n    MAX(s.departure_time) as mmaximumDepartureTime, \n    batch.status \nfrom\n    batch\nleft join journey j on\n    batch.id = j.batch_id\nleft join segment s on\n    j.id = s.journey_id\nleft join booking b on\n    j.id = b.journey_id\nleft join item i on\n    b.id = i.booking_id\nleft join batch_run br on\n    batch.id = br.batch_id\ngroup by\n    batch.id;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":1920229,"reputation":3923,"user_id":1731935,"accept_rate":75,"display_name":"Manuel"},"score":0,"creation_date":1669702042,"post_id":74609440,"comment_id":131696423,"body_markdown":"Show us your toString() method of Customer, Product and Wishlist.","body":"Show us your toString() method of Customer, Product and Wishlist."},{"owner":{"account_id":27078363,"reputation":13,"user_id":20627888,"display_name":"Pritam Das"},"score":0,"creation_date":1669702262,"post_id":74609440,"comment_id":131696466,"body_markdown":"For Customer, Product &amp; Wishlist I am using @Data","body":"For Customer, Product &amp; Wishlist I am using @Data"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670581326,"post_id":74609440,"comment_id":131912119,"body_markdown":"Don&#39;t use @Data with JPA entities because toString equals and hashCode will produce this problem","body":"Don&#39;t use @Data with JPA entities because toString equals and hashCode will produce this problem"}],"answers":[{"tags":[],"owner":{"account_id":7749923,"reputation":563,"user_id":5866166,"accept_rate":60,"display_name":"Pavan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669703289,"creation_date":1669703289,"answer_id":74609920,"question_id":74609440,"body_markdown":"might be the issue with the cyclic dependencies.\r\n\r\ntry adding the following annotation:\r\n\r\n    @ToString.Exclude\r\n\r\nor \r\ntry to override the toString implementation.","title":"Getting a StackOverflowError when trying to fetch a object from database","body":"<p>might be the issue with the cyclic dependencies.</p>\n<p>try adding the following annotation:</p>\n<pre><code>@ToString.Exclude\n</code></pre>\n<p>or\ntry to override the toString implementation.</p>\n"},{"tags":[],"owner":{"account_id":16748130,"reputation":24,"user_id":12105831,"display_name":"Yas.lbf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670581103,"creation_date":1670581103,"answer_id":74741712,"question_id":74609440,"body_markdown":"You have a circular dependency between product and wishlist.\r\n\r\n@Data bundles the features of @ToString , @EqualsAndHashCode , @Getter / @Setter and @RequiredArgsConstructor together.\r\n\r\nYou can either exclude fields from hashcode and equals with @EqualsAndHashCode.Exclude (See more information in [enter link description here][1] or you can replace @Data with @Getter and @Setter. \r\n\r\n\r\n  [1]: https://projectlombok.org/features/EqualsAndHashCode","title":"Getting a StackOverflowError when trying to fetch a object from database","body":"<p>You have a circular dependency between product and wishlist.</p>\n<p>@Data bundles the features of @ToString , @EqualsAndHashCode , @Getter / @Setter and @RequiredArgsConstructor together.</p>\n<p>You can either exclude fields from hashcode and equals with @EqualsAndHashCode.Exclude (See more information in <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\">enter link description here</a> or you can replace @Data with @Getter and @Setter.</p>\n"}],"owner":{"account_id":27078363,"reputation":13,"user_id":20627888,"display_name":"Pritam Das"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74741712,"answer_count":2,"score":0,"last_activity_date":1670581103,"creation_date":1669699090,"question_id":74609440,"body_markdown":"\r\nThis is my entity class\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;wishlist&quot;)\r\n    public class Wishlist {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @OneToOne(targetEntity = Customer.class, fetch = FetchType.EAGER)\r\n        @JoinColumn(nullable = false,name = &quot;customer_id&quot;)\r\n        private Customer customer;\r\n    \r\n        @Column(name = &quot;created_date&quot;)\r\n        private Date createdDate;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;product_id&quot;)\r\n        private Products product;\r\n    \r\n    \tpublic Wishlist(Customer customer, Products product) {\r\n    \t\tthis.customer = customer;\r\n    \t\tthis.createdDate = new Date();\r\n    \t\tthis.product = product;\r\n    \t}\r\n    \t\r\n    \tpublic Wishlist() {\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nThis my repository\r\n\r\n    public interface WishlistRepository extends JpaRepository&lt;Wishlist, Integer&gt; {\r\n    \tList&lt;Wishlist&gt; findAllByCustomerIdOrderByCreatedDateDesc(Integer customerId);\r\n    \tOptional&lt;Wishlist&gt; findByProductId(Integer productId);\r\n    }\r\n\r\nThis my service layer\r\n\r\n    @Service\r\n    @Transactional\r\n    public class WishlistServiceImpl implements WishlistService{\r\n\t\r\n    \t@Autowired\r\n    \tWishlistRepository wishlistRepo;\r\n    \r\n    \t@Override\r\n    \tpublic void createWishlist(Wishlist wishlist,Integer productId) throws ProductNotExistsException {\r\n    \t\tOptional&lt;Wishlist&gt; optionalProduct = wishlistRepo.findByProductId(productId);\r\n    \t\tSystem.out.println(optionalProduct)\r\n    \t}\r\n    }\r\n\r\nSo I am trying to check if the product is present on my wishlist or not using product id.\r\n\r\nBut getting the error:\r\n\r\n    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.StackOverflowError] with root cause\r\n    \r\n    java.lang.StackOverflowError: null\r\n    \tat java.base/java.lang.AbstractStringBuilder.putStringAt(AbstractStringBuilder.java:1720) ~[na:na]\r\n    \tat java.base/java.lang.AbstractStringBuilder.putStringAt(AbstractStringBuilder.java:1724) ~[na:na]\r\n    \tat java.base/java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:583) ~[na:na]\r\n    \tat java.base/java.lang.StringBuilder.append(StringBuilder.java:175) ~[na:na]\r\n    \tat java.base/java.lang.StringBuilder.append(StringBuilder.java:87) ~[na:na]\r\n    \tat java.base/java.lang.AbstractStringBuilder.&lt;init&gt;(AbstractStringBuilder.java:112) ~[na:na]\r\n    \tat java.base/java.lang.StringBuilder.&lt;init&gt;(StringBuilder.java:127) ~[na:na]\r\n    \tat com.ecommerce.entity.Customer.toString(Customer.java:29) ~[classes/:na]\r\n\r\nSo how to solve this issue?","title":"Getting a StackOverflowError when trying to fetch a object from database","body":"<p>This is my entity class</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;wishlist&quot;)\npublic class Wishlist {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @OneToOne(targetEntity = Customer.class, fetch = FetchType.EAGER)\n    @JoinColumn(nullable = false,name = &quot;customer_id&quot;)\n    private Customer customer;\n\n    @Column(name = &quot;created_date&quot;)\n    private Date createdDate;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Products product;\n\n    public Wishlist(Customer customer, Products product) {\n        this.customer = customer;\n        this.createdDate = new Date();\n        this.product = product;\n    }\n    \n    public Wishlist() {\n        \n    }\n}\n</code></pre>\n<p>This my repository</p>\n<pre><code>public interface WishlistRepository extends JpaRepository&lt;Wishlist, Integer&gt; {\n    List&lt;Wishlist&gt; findAllByCustomerIdOrderByCreatedDateDesc(Integer customerId);\n    Optional&lt;Wishlist&gt; findByProductId(Integer productId);\n}\n</code></pre>\n<p>This my service layer</p>\n<pre><code>@Service\n@Transactional\npublic class WishlistServiceImpl implements WishlistService{\n\n    @Autowired\n    WishlistRepository wishlistRepo;\n\n    @Override\n    public void createWishlist(Wishlist wishlist,Integer productId) throws ProductNotExistsException {\n        Optional&lt;Wishlist&gt; optionalProduct = wishlistRepo.findByProductId(productId);\n        System.out.println(optionalProduct)\n    }\n}\n</code></pre>\n<p>So I am trying to check if the product is present on my wishlist or not using product id.</p>\n<p>But getting the error:</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.StackOverflowError] with root cause\n\njava.lang.StackOverflowError: null\n    at java.base/java.lang.AbstractStringBuilder.putStringAt(AbstractStringBuilder.java:1720) ~[na:na]\n    at java.base/java.lang.AbstractStringBuilder.putStringAt(AbstractStringBuilder.java:1724) ~[na:na]\n    at java.base/java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:583) ~[na:na]\n    at java.base/java.lang.StringBuilder.append(StringBuilder.java:175) ~[na:na]\n    at java.base/java.lang.StringBuilder.append(StringBuilder.java:87) ~[na:na]\n    at java.base/java.lang.AbstractStringBuilder.&lt;init&gt;(AbstractStringBuilder.java:112) ~[na:na]\n    at java.base/java.lang.StringBuilder.&lt;init&gt;(StringBuilder.java:127) ~[na:na]\n    at com.ecommerce.entity.Customer.toString(Customer.java:29) ~[classes/:na]\n</code></pre>\n<p>So how to solve this issue?</p>\n"},{"tags":["java","spring-boot","spring-mvc","jpa","spring-data"],"comments":[{"owner":{"account_id":16450212,"reputation":155,"user_id":11883819,"display_name":"umesh"},"score":1,"creation_date":1590918223,"post_id":62112312,"comment_id":109857360,"body_markdown":"Thanks @Eklavya for reply, but problem was with querydsl version","body":"Thanks @Eklavya for reply, but problem was with querydsl version"},{"owner":{"account_id":4130783,"reputation":119,"user_id":3388770,"accept_rate":80,"display_name":"user3388770"},"score":0,"creation_date":1591162988,"post_id":62112312,"comment_id":109946886,"body_markdown":"what version are you using @umesh ?","body":"what version are you using @umesh ?"},{"owner":{"account_id":16450212,"reputation":155,"user_id":11883819,"display_name":"umesh"},"score":0,"creation_date":1591165879,"post_id":62112312,"comment_id":109947918,"body_markdown":"@user3388770 it was version problem now it has been solved","body":"@user3388770 it was version problem now it has been solved"},{"owner":{"account_id":4130783,"reputation":119,"user_id":3388770,"accept_rate":80,"display_name":"user3388770"},"score":0,"creation_date":1591179562,"post_id":62112312,"comment_id":109954688,"body_markdown":"I am facing similar issues, what kind of version problem it might be?","body":"I am facing similar issues, what kind of version problem it might be?"},{"owner":{"account_id":16450212,"reputation":155,"user_id":11883819,"display_name":"umesh"},"score":0,"creation_date":1591328147,"post_id":62112312,"comment_id":110019938,"body_markdown":"@user3388770 just remove &lt;version&gt; from pom.xml for querydsl dependencies","body":"@user3388770 just remove &lt;version&gt; from pom.xml for querydsl dependencies"},{"owner":{"account_id":4606083,"reputation":304,"user_id":3735541,"display_name":"Juan Pablo"},"score":0,"creation_date":1594716224,"post_id":62112312,"comment_id":111215234,"body_markdown":"good it works just fine removing the version tag","body":"good it works just fine removing the version tag"}],"answers":[{"tags":[],"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1670580779,"creation_date":1595323923,"answer_id":63011524,"question_id":62112312,"body_markdown":"As suggest by @user3388770, the reason is a mismatch of versions. In general,in your `pom.xml`/`build.gradle` do not specify a version for dependencies, that Spring already brings with except if you _really_ need it for some reason.\r\n\r\nYou can find the used/compatible depencies here: https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/html/appendix-dependency-versions.html (change the version according to your Spring version)\r\n\r\nIn case of your error, your dependencies should look like this (`build.gradle`):\r\n```lang-groovy\r\nplugins {\r\n    id &quot;org.springframework.boot&quot; version &quot;2.3.1.RELEASE&quot;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n    ...\r\n}\r\n\r\napply plugin: &#39;org.springframework.boot&#39;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n...\r\n\r\ndependencies {\r\n   annotationProcessor(\r\n            ...\r\n            //some put a version below before &quot;:jpa&quot;; dont.\r\n            &quot;com.querydsl:querydsl-apt::jpa&quot;\r\n            ...\r\n    )\r\n\r\n    //just an example without version numbers as they are delivered with spring boot automatically\r\n    compile &quot;org.springframework.boot:spring-boot-starter-web&quot;\r\n    compile &quot;org.springframework.boot:spring-boot-actuator&quot;\r\n    ...\r\n    compile group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;\r\n    compile &#39;org.thymeleaf.extras:thymeleaf-extras-java8time&#39;\r\n\r\n    //but most importantly this below \r\n    compile &quot;com.querydsl:querydsl-jpa&quot;\r\n}\r\n\r\n```","title":"Spring Boot QueryDsl returns Caused by: java.lang.UnsupportedOperationException: null","body":"<p>As suggest by @user3388770, the reason is a mismatch of versions. In general,in your <code>pom.xml</code>/<code>build.gradle</code> do not specify a version for dependencies, that Spring already brings with except if you <em>really</em> need it for some reason.</p>\n<p>You can find the used/compatible depencies here: <a href=\"https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/html/appendix-dependency-versions.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/html/appendix-dependency-versions.html</a> (change the version according to your Spring version)</p>\n<p>In case of your error, your dependencies should look like this (<code>build.gradle</code>):</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n    id &quot;org.springframework.boot&quot; version &quot;2.3.1.RELEASE&quot;\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    ...\n}\n\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n...\n\ndependencies {\n   annotationProcessor(\n            ...\n            //some put a version below before &quot;:jpa&quot;; dont.\n            &quot;com.querydsl:querydsl-apt::jpa&quot;\n            ...\n    )\n\n    //just an example without version numbers as they are delivered with spring boot automatically\n    compile &quot;org.springframework.boot:spring-boot-starter-web&quot;\n    compile &quot;org.springframework.boot:spring-boot-actuator&quot;\n    ...\n    compile group: 'org.apache.httpcomponents', name: 'httpclient'\n    compile 'org.thymeleaf.extras:thymeleaf-extras-java8time'\n\n    //but most importantly this below \n    compile &quot;com.querydsl:querydsl-jpa&quot;\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8684766,"reputation":1,"user_id":6499547,"display_name":"Harindu Liyanage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638382739,"creation_date":1638382739,"answer_id":70189347,"question_id":62112312,"body_markdown":"   If you are in POM base project use these dependencies and apt plugin to resolve this issue with given versions  \r\n  \r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.3&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n    &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.3&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;process&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n                &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Spring Boot QueryDsl returns Caused by: java.lang.UnsupportedOperationException: null","body":"<p>If you are in POM base project use these dependencies and apt plugin to resolve this issue with given versions</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n    &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n    &lt;version&gt;4.1.3&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n    &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n    &lt;version&gt;&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;plugin&gt;\n&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;1.1.3&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;process&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":16450212,"reputation":155,"user_id":11883819,"display_name":"umesh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2863,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1670580779,"creation_date":1590905573,"question_id":62112312,"body_markdown":"code is as below\r\n\r\n\t\tQContinent continent = QContinent.continent;\r\n\t\t\r\n\t\tJPAQuery query = new JPAQuery(entityManager);\r\n\t\t\r\n\t\t\r\n\t\tquery.from(continent).where(continent.name.eq(&quot;www&quot;));\r\n\t\tList&lt;Object&gt; fetch = query.fetch();\r\n\t\t\r\n\t\tSystem.err.println(&quot;===&quot; + fetch);\r\n\r\nThis returns &lt;br/&gt;\r\nCaused by: java.lang.UnsupportedOperationException: null\r\n\tat java.util.Collections$UnmodifiableMap.put(Collections.java:1457) ~[na:1.8.0_191]\r\n\tat com.querydsl.jpa.JPQLSerializer.visitConstant(JPQLSerializer.java:327) ~[querydsl-jpa-4.2.1.jar:na]\r\n\tat com.querydsl.core.support.SerializerBase.visit(SerializerBase.java:221) ~[querydsl-core-4.3.1.jar:na]\r\n\tat com.querydsl.core.support.SerializerBase.visit(SerializerBase.java:36) ~[querydsl-core-4.3.1.jar:na]\r\n\tat com.querydsl.core.types.ConstantImpl.accept(ConstantImpl.java:140) ~[querydsl-core-4.3.1.jar:na]","title":"Spring Boot QueryDsl returns Caused by: java.lang.UnsupportedOperationException: null","body":"<p>code is as below</p>\n\n<pre><code>    QContinent continent = QContinent.continent;\n\n    JPAQuery query = new JPAQuery(entityManager);\n\n\n    query.from(continent).where(continent.name.eq(\"www\"));\n    List&lt;Object&gt; fetch = query.fetch();\n\n    System.err.println(\"===\" + fetch);\n</code></pre>\n\n<p>This returns <br/>\nCaused by: java.lang.UnsupportedOperationException: null\n    at java.util.Collections$UnmodifiableMap.put(Collections.java:1457) ~[na:1.8.0_191]\n    at com.querydsl.jpa.JPQLSerializer.visitConstant(JPQLSerializer.java:327) ~[querydsl-jpa-4.2.1.jar:na]\n    at com.querydsl.core.support.SerializerBase.visit(SerializerBase.java:221) ~[querydsl-core-4.3.1.jar:na]\n    at com.querydsl.core.support.SerializerBase.visit(SerializerBase.java:36) ~[querydsl-core-4.3.1.jar:na]\n    at com.querydsl.core.types.ConstantImpl.accept(ConstantImpl.java:140) ~[querydsl-core-4.3.1.jar:na]</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9171,"page":821,"page_size":100}
