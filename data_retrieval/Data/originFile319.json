{"items":[{"tags":["java","android","android-recyclerview","android-adapter"],"answers":[{"comments":[{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1689012023,"post_id":76656196,"comment_id":135150028,"body_markdown":"can you get into details? your answer is like a comment.","body":"can you get into details? your answer is like a comment."}],"tags":[],"owner":{"account_id":13368336,"reputation":725,"user_id":9647713,"display_name":"Siddharth Shakya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689011691,"creation_date":1689011691,"answer_id":76656196,"question_id":76656171,"body_markdown":"You can create a separate model of CombinedData, you can evaluate address using for loop against the ids, you must have ids to create the new class","title":"How to show distance between two locations in recyclerview items?","body":"<p>You can create a separate model of CombinedData, you can evaluate address using for loop against the ids, you must have ids to create the new class</p>\n"},{"comments":[{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1689012772,"post_id":76656269,"comment_id":135150148,"body_markdown":"Thanks for answer. Can you provide some reference/doc/example for your last par?","body":"Thanks for answer. Can you provide some reference/doc/example for your last par?"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1689012903,"post_id":76656269,"comment_id":135150171,"body_markdown":"to calculate distance you can use: Location.distanceBetween https://developer.android.com/reference/android/location/Location#distanceBetween(double,%20double,%20double,%20double,%20float[])","body":"to calculate distance you can use: Location.distanceBetween <a href=\"https://developer.android.com/reference/android/location/Location#distanceBetween(double,%20double,%20double,%20double,%20float[])\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/location/&hellip;</a>"}],"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689012946,"creation_date":1689012434,"answer_id":76656269,"question_id":76656171,"body_markdown":"You could pass a reference of `User` instance to your `RecyclerView.Adapter` derived class. Then inside in `onBindViewHolder` override you will have access to both `User` and `School` instances which will allow you to calculate distance. \r\n\r\nTo calculate distance you can use: Location.distanceBetween https://developer.android.com/reference/android/location/Location#distanceBetween(double,%20double,%20double,%20double,%20float[])\r\n","title":"How to show distance between two locations in recyclerview items?","body":"<p>You could pass a reference of <code>User</code> instance to your <code>RecyclerView.Adapter</code> derived class. Then inside in <code>onBindViewHolder</code> override you will have access to both <code>User</code> and <code>School</code> instances which will allow you to calculate distance.</p>\n<p>To calculate distance you can use: Location.distanceBetween <a href=\"https://developer.android.com/reference/android/location/Location#distanceBetween(double,%20double,%20double,%20double,%20float%5B%5D)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/location/Location#distanceBetween(double,%20double,%20double,%20double,%20float[])</a></p>\n"}],"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76656269,"answer_count":2,"score":-2,"last_activity_date":1689012946,"creation_date":1689011432,"question_id":76656171,"body_markdown":"I have two classes `User` and `School` as follow:\r\n\r\n`User: name, age, latitude, longitude`\r\n\r\n`School: name, latitude, longitude, level, address, rating`\r\n\r\nAnd I have an adapter for lists of schools that comes from server. Everything is OK but I don&#39;t know how\r\nto show distance of user from school in each item of recyclerview. Because adapter is a list of Schools and inside the adapter I can&#39;t access to current user data. (Can I?)\r\n\r\nI tried to access the distance TextView of RecyclerView Item model from fragment but couldn&#39;t find any reference for this.","title":"How to show distance between two locations in recyclerview items?","body":"<p>I have two classes <code>User</code> and <code>School</code> as follow:</p>\n<p><code>User: name, age, latitude, longitude</code></p>\n<p><code>School: name, latitude, longitude, level, address, rating</code></p>\n<p>And I have an adapter for lists of schools that comes from server. Everything is OK but I don't know how\nto show distance of user from school in each item of recyclerview. Because adapter is a list of Schools and inside the adapter I can't access to current user data. (Can I?)</p>\n<p>I tried to access the distance TextView of RecyclerView Item model from fragment but couldn't find any reference for this.</p>\n"},{"tags":["java","web-services","file-upload","spring-boot","multifile-uploader"],"comments":[{"owner":{"account_id":9435286,"reputation":1400,"user_id":7017439,"accept_rate":86,"display_name":"Narandhran Thangavel"},"score":0,"creation_date":1490682701,"post_id":36005436,"comment_id":73208371,"body_markdown":"I also facing the same problem, and its only work in postman not working with other tools like &quot;Advance rest client&quot;. may I know why??","body":"I also facing the same problem, and its only work in postman not working with other tools like &quot;Advance rest client&quot;. may I know why??"},{"owner":{"account_id":4307476,"reputation":2427,"user_id":3519504,"display_name":"Sandeep Kumar"},"score":1,"creation_date":1576403573,"post_id":36005436,"comment_id":104882783,"body_markdown":"@Narendhran, we can upload files from ARC now, which will eliminate this problem. Please check this: https://stackoverflow.com/a/59342761/3519504","body":"@Narendhran, we can upload files from ARC now, which will eliminate this problem. Please check this: <a href=\"https://stackoverflow.com/a/59342761/3519504\">stackoverflow.com/a/59342761/3519504</a>"}],"answers":[{"comments":[{"owner":{"account_id":326900,"reputation":893,"user_id":648916,"accept_rate":52,"display_name":"Oscar Calderon"},"score":3,"creation_date":1470932094,"post_id":38013585,"comment_id":65161636,"body_markdown":"Thank you. This worked for me in Postman. Also, answer from tomeokin helps in the sens that, Postman is not suitable for all test scenarios.","body":"Thank you. This worked for me in Postman. Also, answer from tomeokin helps in the sens that, Postman is not suitable for all test scenarios."},{"owner":{"account_id":4686208,"reputation":860,"user_id":3793554,"display_name":"c.sankhala"},"score":11,"creation_date":1558610959,"post_id":38013585,"comment_id":99162979,"body_markdown":"when i remove content-type, i am getting this\n&quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;text/plain&#39; not supported&quot;","body":"when i remove content-type, i am getting this &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;text/plain&#39; not supported&quot;"},{"owner":{"account_id":4271760,"reputation":706,"user_id":3493420,"accept_rate":56,"display_name":"Marco"},"score":2,"creation_date":1603797552,"post_id":38013585,"comment_id":114144225,"body_markdown":"When I remove the Content-Type header, the server does not receive the data parameter (which is the payload).","body":"When I remove the Content-Type header, the server does not receive the data parameter (which is the payload)."},{"owner":{"account_id":38575,"reputation":3054,"user_id":110807,"accept_rate":33,"display_name":"de.la.ru"},"score":0,"creation_date":1603979385,"post_id":38013585,"comment_id":114211407,"body_markdown":"Perhaps Postman changed the way he handles it since 2016","body":"Perhaps Postman changed the way he handles it since 2016"},{"owner":{"account_id":6509311,"reputation":160,"user_id":6875546,"display_name":"Artem S. Zhelonkin"},"score":1,"creation_date":1645215691,"post_id":38013585,"comment_id":125821022,"body_markdown":"Thanks! It&#39;s solved my problem!","body":"Thanks! It&#39;s solved my problem!"}],"tags":[],"owner":{"account_id":38575,"reputation":3054,"user_id":110807,"accept_rate":33,"display_name":"de.la.ru"},"comment_count":5,"down_vote_count":2,"up_vote_count":161,"is_accepted":false,"score":159,"last_activity_date":1573159751,"creation_date":1466771645,"answer_id":38013585,"question_id":36005436,"body_markdown":"The problem is that you are setting the `Content-Type` by yourself, let it be blank. Google Chrome will do it for you. The multipart `Content-Type` needs to know the file boundary, and when you remove the `Content-Type`, Postman will do it automagically for you. ","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>The problem is that you are setting the <code>Content-Type</code> by yourself, let it be blank. Google Chrome will do it for you. The multipart <code>Content-Type</code> needs to know the file boundary, and when you remove the <code>Content-Type</code>, Postman will do it automagically for you. </p>\n"},{"comments":[{"owner":{"account_id":1021804,"reputation":12885,"user_id":1031945,"accept_rate":83,"display_name":"Aniket Kulkarni"},"score":0,"creation_date":1542947214,"post_id":38016883,"comment_id":93754402,"body_markdown":"This is really helpful answer. It solved my problem. With Advanced REST client, I am able to send the same request which I was trying with Postman. Postman requests were resulting in an errors `org.apache.commons.fileupload.FileUploadException: the request was rejected because no multipart boundary was found` and `HTTP 405`","body":"This is really helpful answer. It solved my problem. With Advanced REST client, I am able to send the same request which I was trying with Postman. Postman requests were resulting in an errors <code>org.apache.commons.fileupload.FileUploadException: the request was rejected because no multipart boundary was found</code> and <code>HTTP 405</code>"}],"tags":[],"owner":{"account_id":8698875,"reputation":17,"user_id":6509443,"display_name":"tomeokin"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1466782294,"creation_date":1466781764,"answer_id":38016883,"question_id":36005436,"body_markdown":"The &quot;Postman - REST Client&quot; is not suitable for doing post action with setting content-type.You can try to use &quot;Advanced REST client&quot; or others.\r\n\r\nAdditionally, headers was replace by consumes and produces since Spring 3.1 M2, see https://spring.io/blog/2011/06/13/spring-3-1-m2-spring-mvc-enhancements. And you can directly use `produces = MediaType.MULTIPART_FORM_DATA_VALUE`.","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>The \"Postman - REST Client\" is not suitable for doing post action with setting content-type.You can try to use \"Advanced REST client\" or others.</p>\n\n<p>Additionally, headers was replace by consumes and produces since Spring 3.1 M2, see <a href=\"https://spring.io/blog/2011/06/13/spring-3-1-m2-spring-mvc-enhancements\" rel=\"nofollow\">https://spring.io/blog/2011/06/13/spring-3-1-m2-spring-mvc-enhancements</a>. And you can directly use <code>produces = MediaType.MULTIPART_FORM_DATA_VALUE</code>.</p>\n"},{"comments":[{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":3,"creation_date":1544567966,"post_id":45080052,"comment_id":94320658,"body_markdown":"How did u get the boundary value?","body":"How did u get the boundary value?"},{"owner":{"account_id":3788825,"reputation":23839,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"score":1,"creation_date":1544591201,"post_id":45080052,"comment_id":94325714,"body_markdown":"The boundary value was suggested in the API doc.","body":"The boundary value was suggested in the API doc."}],"tags":[],"owner":{"account_id":3788825,"reputation":23839,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499947347,"creation_date":1499947347,"answer_id":45080052,"question_id":36005436,"body_markdown":"I was having the same problem while making a POST request from Postman and later I could solve the problem by setting a custom Content-Type with a boundary value set along with it like this. \r\n\r\nI thought people can run into similar problem and hence, I&#39;m sharing my solution. \r\n\r\n[![postman][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oInim.png","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>I was having the same problem while making a POST request from Postman and later I could solve the problem by setting a custom Content-Type with a boundary value set along with it like this. </p>\n\n<p>I thought people can run into similar problem and hence, I'm sharing my solution. </p>\n\n<p><a href=\"https://i.stack.imgur.com/oInim.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oInim.png\" alt=\"postman\"></a></p>\n"},{"tags":[],"owner":{"account_id":11598306,"reputation":391,"user_id":8496330,"display_name":"Bala"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1565683953,"creation_date":1503989057,"answer_id":45932419,"question_id":36005436,"body_markdown":"Unchecked the content type in Postman and postman automatically detect the content type based on your input in the run time.\r\n\r\n[![Sample][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jSuH0.jpg","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>Unchecked the content type in Postman and postman automatically detect the content type based on your input in the run time.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jSuH0.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jSuH0.jpg\" alt=\"Sample\"></a></p>\n"},{"tags":[],"owner":{"account_id":3191536,"reputation":1984,"user_id":2695666,"display_name":"gorjanz"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1513239512,"creation_date":1513239512,"answer_id":47808745,"question_id":36005436,"body_markdown":"This worked for me:\r\nUploading a file via Postman, to a SpringMVC backend webapp:\r\n\r\nBackend:\r\n[![Endpoint controller definition][1]][1]\r\n\r\n\r\nPostman:\r\n[![Headers setup][2]][2]\r\n[![POST Body setup][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wn8Ns.png\r\n  [2]: https://i.stack.imgur.com/eXips.png\r\n  [3]: https://i.stack.imgur.com/eeW06.png","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>This worked for me:\nUploading a file via Postman, to a SpringMVC backend webapp:</p>\n\n<p>Backend:\n<a href=\"https://i.stack.imgur.com/wn8Ns.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wn8Ns.png\" alt=\"Endpoint controller definition\"></a></p>\n\n<p>Postman:\n<a href=\"https://i.stack.imgur.com/eXips.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eXips.png\" alt=\"Headers setup\"></a>\n<a href=\"https://i.stack.imgur.com/eeW06.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eeW06.png\" alt=\"POST Body setup\"></a></p>\n"},{"tags":[],"owner":{"account_id":10925310,"reputation":1,"user_id":8030201,"display_name":"hao huang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576406040,"creation_date":1544238996,"answer_id":53679186,"question_id":36005436,"body_markdown":"When I use postman to send a file which is 5.6M to an external network,  I faced the same issue. The same action is succeeded on my own computer and local testing environment.\r\n\r\nAfter checking all the server configs and HTTP headers, I found that the reason is Postman may have some trouble simulating requests to external HTTP requests.\r\nFinally, I did the sendfile request on the chrome HTML page successfully.\r\nJust as a reference :)","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>When I use postman to send a file which is 5.6M to an external network,  I faced the same issue. The same action is succeeded on my own computer and local testing environment.</p>\n\n<p>After checking all the server configs and HTTP headers, I found that the reason is Postman may have some trouble simulating requests to external HTTP requests.\nFinally, I did the sendfile request on the chrome HTML page successfully.\nJust as a reference :)</p>\n"},{"tags":[],"owner":{"account_id":8583699,"reputation":254,"user_id":6430538,"display_name":"Hanz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557408545,"creation_date":1557408545,"answer_id":56060545,"question_id":36005436,"body_markdown":"I met this problem because I use request.js which writen base on axios    \r\nAnd I already set a defaults.headers in request.js\r\n\r\n    import axios from &#39;axios&#39;\r\n    const request = axios.create({\r\n      baseURL: &#39;&#39;, \r\n      timeout: 15000 \r\n    })\r\n    service.defaults.headers.post[&#39;Content-Type&#39;] = &#39;application/x-www-form-urlencoded&#39;\r\n\r\n\r\nhere is how I solve this     \r\ninstead of \r\n\r\n    request.post(&#39;/manage/product/upload.do&#39;,\r\n          param,config\r\n        )\r\n\r\nI use axios directly send request,and didn&#39;t add config\r\n\r\n    axios.post(&#39;/manage/product/upload.do&#39;,\r\n          param\r\n        )\r\n\r\nhope this can solve your problem","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>I met this problem because I use request.js which writen base on axios<br>\nAnd I already set a defaults.headers in request.js</p>\n\n<pre><code>import axios from 'axios'\nconst request = axios.create({\n  baseURL: '', \n  timeout: 15000 \n})\nservice.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'\n</code></pre>\n\n<p>here is how I solve this<br>\ninstead of </p>\n\n<pre><code>request.post('/manage/product/upload.do',\n      param,config\n    )\n</code></pre>\n\n<p>I use axios directly send request,and didn't add config</p>\n\n<pre><code>axios.post('/manage/product/upload.do',\n      param\n    )\n</code></pre>\n\n<p>hope this can solve your problem</p>\n"},{"tags":[],"owner":{"account_id":1505484,"reputation":125,"user_id":1408954,"display_name":"Bitzu"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1591102478,"creation_date":1591102478,"answer_id":62152496,"question_id":36005436,"body_markdown":"Heard you can do this in postman:\r\n\r\n[![placeholders][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/incef.png","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>Heard you can do this in postman:</p>\n\n<p><a href=\"https://i.stack.imgur.com/incef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/incef.png\" alt=\"placeholders\"></a></p>\n"},{"tags":[],"owner":{"account_id":21599958,"reputation":41,"user_id":15928285,"display_name":"Mr.A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641662171,"creation_date":1641661832,"answer_id":70634610,"question_id":36005436,"body_markdown":"You can try with below simple code, it should work. I tested on Advanced REST Client and below attached screenshot will help for configuration.\r\n\r\n\r\n````\r\npackage com.example.demo;\r\n\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\n\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n@RestController\r\npublic class ImageUploadController {\r\n\r\n\t@PostMapping(&quot;image-upload&quot;)\r\n\tpublic String uploadImage(@RequestParam MultipartFile myFile) throws IOException {\r\n\t\t\r\n\t\tbyte[] bytes = myFile.getBytes();\r\n\r\n\t\tFileOutputStream fileOutputStream = new FileOutputStream(&quot;image.jpg&quot;);\r\n\r\n\t\tfileOutputStream.write(bytes);\r\n\t\tfileOutputStream.close();\r\n\t\t\r\n\t\treturn &quot;Image uploaded successfully..!&quot;;\r\n\r\n\t}\r\n}\r\n````\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nyou can find uploaded image on below location in project.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAlso please note that if your controller should be within the package of @SpringBootApplication package. You can refer below image.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lwypy.png\r\n  [2]: https://i.stack.imgur.com/3EOQV.png\r\n  [3]: https://i.stack.imgur.com/wu1B6.png","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>You can try with below simple code, it should work. I tested on Advanced REST Client and below attached screenshot will help for configuration.</p>\n<pre><code>package com.example.demo;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\n@RestController\npublic class ImageUploadController {\n\n    @PostMapping(&quot;image-upload&quot;)\n    public String uploadImage(@RequestParam MultipartFile myFile) throws IOException {\n        \n        byte[] bytes = myFile.getBytes();\n\n        FileOutputStream fileOutputStream = new FileOutputStream(&quot;image.jpg&quot;);\n\n        fileOutputStream.write(bytes);\n        fileOutputStream.close();\n        \n        return &quot;Image uploaded successfully..!&quot;;\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lwypy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lwypy.png\" alt=\"enter image description here\" /></a></p>\n<p>you can find uploaded image on below location in project.</p>\n<p><a href=\"https://i.stack.imgur.com/3EOQV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3EOQV.png\" alt=\"enter image description here\" /></a></p>\n<p>Also please note that if your controller should be within the package of @SpringBootApplication package. You can refer below image.</p>\n<p><a href=\"https://i.stack.imgur.com/wu1B6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wu1B6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2353308,"reputation":381,"user_id":2061690,"display_name":"Sanjay Amin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689011841,"creation_date":1689011841,"answer_id":76656213,"question_id":36005436,"body_markdown":"You do not need to send `Content-Type` in Postman, leave the default setting as in `Headers` section. It should automatically calculate. \r\n[![enter image description here][1]][1]\r\n\r\nIn Body, you can select file as:\r\n[![enter image description here][2]][2]\r\n\r\nAt Spring controller side, you can add following code:\r\n\r\n     @PostMapping(&quot;/upload&quot;)  \r\n     public ResponseEntity&lt;MyResponseObject&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile myFile)\r\n      throws IOException {...}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7rLPc.png\r\n  [2]: https://i.stack.imgur.com/lgp1j.png","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>You do not need to send <code>Content-Type</code> in Postman, leave the default setting as in <code>Headers</code> section. It should automatically calculate.\n<a href=\"https://i.stack.imgur.com/7rLPc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7rLPc.png\" alt=\"enter image description here\" /></a></p>\n<p>In Body, you can select file as:\n<a href=\"https://i.stack.imgur.com/lgp1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lgp1j.png\" alt=\"enter image description here\" /></a></p>\n<p>At Spring controller side, you can add following code:</p>\n<pre><code> @PostMapping(&quot;/upload&quot;)  \n public ResponseEntity&lt;MyResponseObject&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile myFile)\n  throws IOException {...}\n</code></pre>\n"}],"owner":{"account_id":7637947,"reputation":963,"user_id":5790953,"display_name":"Mohammed Javed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257632,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"answer_count":10,"score":95,"last_activity_date":1689011841,"creation_date":1458028616,"question_id":36005436,"body_markdown":"As I am trying this with spring boot and webservices with postman chrome add-ons.\r\n\r\nIn postman `content-type=&quot;multipart/form-data&quot;` and I am getting the below exception.\r\n\r\n    HTTP Status 500 - Request processing failed; \r\n    nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; \r\n    nested exception is java.io.IOException: \r\n    org.apache.tomcat.util.http.fileupload.FileUploadException: the request was rejected because no multipart boundary was found\r\n\r\nIn Controller I specified the below code\r\n\r\n    @ResponseBody\r\n\t@RequestMapping(value = &quot;/file&quot;, headers = &quot;Content-Type= multipart/form-data&quot;, method = RequestMethod.POST)\r\n\r\n\tpublic String upload(@RequestParam(&quot;name&quot;) String name,\r\n\t\t\t@RequestParam(value = &quot;file&quot;, required = true) MultipartFile file)\r\n\t//@RequestParam ()CommonsMultipartFile[] fileUpload\r\n\t{\r\n\t\t// @RequestMapping(value=&quot;/newDocument&quot;, , method = RequestMethod.POST)\r\n\t\tif (!file.isEmpty()) {\r\n\t\t\ttry {\r\n\t\t\t\tbyte[] fileContent = file.getBytes();\r\n\t\t\t\tfileSystemHandler.create(123, fileContent, name);\r\n\t\t\t\treturn &quot;You successfully uploaded &quot; + name + &quot;!&quot;;\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\treturn &quot;You failed to upload &quot; + name + &quot; =&gt; &quot; + e.getMessage();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn &quot;You failed to upload &quot; + name + &quot; because the file was empty.&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\r\nHere I specify the file handler code\r\n\r\n    public String create(int jonId, byte[] fileContent, String name) {\r\n\t\tString status = &quot;Created file...&quot;;\r\n\t\ttry {\r\n\t\t\tString path = env.getProperty(&quot;file.uploadPath&quot;) + name;\r\n\t\t\tFile newFile = new File(path);\r\n\t\t\tnewFile.createNewFile();\r\n\t\t\tBufferedOutputStream stream = new BufferedOutputStream(new FileOutputStream(newFile));\r\n\t\t\tstream.write(fileContent);\r\n\t\t\tstream.close();\r\n\t\t} catch (IOException ex) {\r\n\t\t\tstatus = &quot;Failed to create file...&quot;;\r\n\t\t\tLogger.getLogger(FileSystemHandler.class.getName()).log(Level.SEVERE, null, ex);\r\n\t\t}\r\n\t\treturn status;\r\n\t}","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>As I am trying this with spring boot and webservices with postman chrome add-ons.</p>\n\n<p>In postman <code>content-type=\"multipart/form-data\"</code> and I am getting the below exception.</p>\n\n<pre><code>HTTP Status 500 - Request processing failed; \nnested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; \nnested exception is java.io.IOException: \norg.apache.tomcat.util.http.fileupload.FileUploadException: the request was rejected because no multipart boundary was found\n</code></pre>\n\n<p>In Controller I specified the below code</p>\n\n<pre><code>@ResponseBody\n@RequestMapping(value = \"/file\", headers = \"Content-Type= multipart/form-data\", method = RequestMethod.POST)\n\npublic String upload(@RequestParam(\"name\") String name,\n        @RequestParam(value = \"file\", required = true) MultipartFile file)\n//@RequestParam ()CommonsMultipartFile[] fileUpload\n{\n    // @RequestMapping(value=\"/newDocument\", , method = RequestMethod.POST)\n    if (!file.isEmpty()) {\n        try {\n            byte[] fileContent = file.getBytes();\n            fileSystemHandler.create(123, fileContent, name);\n            return \"You successfully uploaded \" + name + \"!\";\n        } catch (Exception e) {\n            return \"You failed to upload \" + name + \" =&gt; \" + e.getMessage();\n        }\n    } else {\n        return \"You failed to upload \" + name + \" because the file was empty.\";\n    }\n}\n</code></pre>\n\n<p>Here I specify the file handler code</p>\n\n<pre><code>public String create(int jonId, byte[] fileContent, String name) {\n    String status = \"Created file...\";\n    try {\n        String path = env.getProperty(\"file.uploadPath\") + name;\n        File newFile = new File(path);\n        newFile.createNewFile();\n        BufferedOutputStream stream = new BufferedOutputStream(new FileOutputStream(newFile));\n        stream.write(fileContent);\n        stream.close();\n    } catch (IOException ex) {\n        status = \"Failed to create file...\";\n        Logger.getLogger(FileSystemHandler.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    return status;\n}\n</code></pre>\n"},{"tags":["java","unit-testing","testing","junit"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1689010852,"post_id":76656096,"comment_id":135149827,"body_markdown":"Yes, one would assume the factory method for `LocalDate` throws an exception in that case. But the function you want to test seems to take _two_ dates. What are the behaviours of that function? That is, what is it supposed to do? You should be testing those things.","body":"Yes, one would assume the factory method for <code>LocalDate</code> throws an exception in that case. But the function you want to test seems to take <i>two</i> dates. What are the behaviours of that function? That is, what is it supposed to do? You should be testing those things."},{"owner":{"account_id":28630571,"reputation":39,"user_id":21921697,"display_name":"TrySoHard"},"score":0,"creation_date":1689011247,"post_id":76656096,"comment_id":135149894,"body_markdown":"Thing is, it seems like a not possible scenario, because i cant call the method by passing to it _a non valid date._ The error would be on a higher level. Think about this:\n\nLocalDate date = LocalDate.of(2024-40-40);\nLocalDate date2 = LocalDate.of(2024-60-60);\n\nverifyCorrectDates(date, date2);\n\nThis would simply not compile, since the LocalDate.of(...) would give me error. So i cannot test it in my method.","body":"Thing is, it seems like a not possible scenario, because i cant call the method by passing to it <i>a non valid date.</i> The error would be on a higher level. Think about this:  LocalDate date = LocalDate.of(2024-40-40); LocalDate date2 = LocalDate.of(2024-60-60);  verifyCorrectDates(date, date2);  This would simply not compile, since the LocalDate.of(...) would give me error. So i cannot test it in my method."},{"owner":{"account_id":28630571,"reputation":39,"user_id":21921697,"display_name":"TrySoHard"},"score":0,"creation_date":1689011530,"post_id":76656096,"comment_id":135149947,"body_markdown":"Oh yeah, i get it. Since my method does not accept a String, but a LocalDate, i shouldn&#39;t test this. If my method accepted two Strings that would be the case i&#39;m imagining.","body":"Oh yeah, i get it. Since my method does not accept a String, but a LocalDate, i shouldn&#39;t test this. If my method accepted two Strings that would be the case i&#39;m imagining."}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689011503,"creation_date":1689011503,"answer_id":76656176,"question_id":76656096,"body_markdown":"You should not create invalid LocalDate instances, as those will throw exceptions, so its not practical in case of testing your function. You can still come up with valid test scenerios, like check correctness of function call if its called when:\r\n\r\n1. both dates are null\r\n2. first date is null, the second date is valid.\r\n3. first date is valid, the second date is null.\r\n4. both dates are valid, and the first date is after the second date. \r\n5. both dates are valid, and the first date is before the second date \r\n6. dates are valid, and the first date is the same as the second date.","title":"JUnit, how can i test if a LocalDate is not valid?","body":"<p>You should not create invalid LocalDate instances, as those will throw exceptions, so its not practical in case of testing your function. You can still come up with valid test scenerios, like check correctness of function call if its called when:</p>\n<ol>\n<li>both dates are null</li>\n<li>first date is null, the second date is valid.</li>\n<li>first date is valid, the second date is null.</li>\n<li>both dates are valid, and the first date is after the second date.</li>\n<li>both dates are valid, and the first date is before the second date</li>\n<li>dates are valid, and the first date is the same as the second date.</li>\n</ol>\n"}],"owner":{"account_id":28630571,"reputation":39,"user_id":21921697,"display_name":"TrySoHard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689011503,"creation_date":1689010644,"question_id":76656096,"body_markdown":"I&#39;m doing some testing for a university project.\r\n\r\nI wanted to test a method *verifyCorrectDates(LocalDate firstDate, LocalDate lastDate)*.\r\n\r\nIn general, i think we could see these possible scenarios:\r\n- a LocalDate is null\r\n- a LocalDate is not valid (for example, 2023-40-40)\r\n- a LocalDate is valid\r\n\r\nSince i have two LocalDates as input, there should be 9 test to comprehend every situation.\r\n\r\nThing is: i don&#39;t know how can i test this method using a &#39;non valid date&#39;.\r\nIf i use LocalDate.of(2023,40,40) it simply gives me an error, of course. I&#39;m starting to think it&#39;s simply not possible to insert a non valid LocalDate.\r\n\r\nAny ideas?","title":"JUnit, how can i test if a LocalDate is not valid?","body":"<p>I'm doing some testing for a university project.</p>\n<p>I wanted to test a method <em>verifyCorrectDates(LocalDate firstDate, LocalDate lastDate)</em>.</p>\n<p>In general, i think we could see these possible scenarios:</p>\n<ul>\n<li>a LocalDate is null</li>\n<li>a LocalDate is not valid (for example, 2023-40-40)</li>\n<li>a LocalDate is valid</li>\n</ul>\n<p>Since i have two LocalDates as input, there should be 9 test to comprehend every situation.</p>\n<p>Thing is: i don't know how can i test this method using a 'non valid date'.\nIf i use LocalDate.of(2023,40,40) it simply gives me an error, of course. I'm starting to think it's simply not possible to insert a non valid LocalDate.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","android","gradle","errorprone"],"answers":[{"tags":[],"owner":{"account_id":10003966,"reputation":5309,"user_id":7399050,"accept_rate":60,"display_name":"ADev"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1487328455,"creation_date":1487328455,"answer_id":42295936,"question_id":39561334,"body_markdown":"Use the flag `-XepDisableWarningsInGeneratedCode`\r\n\r\nSee this [issue](https://github.com/google/error-prone/issues/463) on GitHub","title":"How do I make error-prone ignore my generated source code?","body":"<p>Use the flag <code>-XepDisableWarningsInGeneratedCode</code></p>\n\n<p>See this <a href=\"https://github.com/google/error-prone/issues/463\" rel=\"nofollow noreferrer\">issue</a> on GitHub</p>\n"},{"tags":[],"owner":{"account_id":5906169,"reputation":10565,"user_id":4647853,"accept_rate":74,"display_name":"Michal Kordas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553508664,"creation_date":1553508664,"answer_id":55335407,"question_id":39561334,"body_markdown":"In my case classes were annotated with `@AvroGenerated` and ```-XepDisableWarningsInGeneratedCode``` didn&#39;t work. \r\n\r\nThe solution was to exclude `build` directory from checks via `-XepExcludedPaths:.*/build/.*`","title":"How do I make error-prone ignore my generated source code?","body":"<p>In my case classes were annotated with <code>@AvroGenerated</code> and <code>-XepDisableWarningsInGeneratedCode</code> didn't work. </p>\n\n<p>The solution was to exclude <code>build</code> directory from checks via <code>-XepExcludedPaths:.*/build/.*</code></p>\n"},{"tags":[],"owner":{"account_id":105656,"reputation":10434,"user_id":281815,"display_name":"rbento"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689010972,"creation_date":1688936468,"answer_id":76649506,"question_id":39561334,"body_markdown":"Below a sample configuration tested while building gRPC protos, which is a scenario similar to the OPs with code generated into a target directory: `build/generated/*`\r\n\r\nGenerated protos are not marked with `@Generated`, so the aforementioned flag `-XepDisableWarningsInGeneratedCode` has no effect on the generated code and warnings are still issued.\r\n\r\nAlso the command line flag has to be prepended by `-XDcompilePolicy` as per Gradle output and by `-Xplugin:ErrorProne` as per the [documentation][1].\r\n\r\n**ErrorProne Gradle Plugin via command line args**\r\n\r\n```\r\ncompileJava {\r\n\toptions.compilerArgs &lt;&lt; &#39;-XDcompilePolicy=simple -Xplugin:ErrorProne -XepDisableWarningsInGeneratedCode&#39;\r\n}\r\n```\r\n\r\nThe command line approach do not seem to have an effect with modern Gradle, but the next approach does.\r\n\r\n**ErrorProne Gradle Plugin via options**\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;net.ltgt.errorprone&#39; version &#39;3.1.0&#39; // https://github.com/tbroyer/gradle-errorprone-plugin\r\n}\r\n\r\ndependencies {\r\n\terrorprone &quot;com.google.errorprone:error_prone_core:2.20.0&quot; // https://github.com/google/error-prone\r\n}\r\n\r\ncompileJava {\r\n\toptions.errorprone.disableWarningsInGeneratedCode = true   // for @Generated\r\n\toptions.errorprone.excludedPaths = &quot;.*/build/generated/.*&quot; // for other generated scenarios, e.g. Protobuf\r\n}\r\n```\r\n\r\n**Environment**\r\n - ErrorProne Gradle Plugin: [https://github.com/tbroyer/gradle-errorprone-plugin][2]\r\n - ErrorProne Core: [https://github.com/google/error-prone][3]\r\n - OS Mac OS X 13.4.1 aarch64\r\n - JVM 17.0.6 (Azul Systems, Inc. 17.0.6+10-LTS)\r\n - Gradle 8.2\r\n\r\n  [1]: http://errorprone.info/docs/flags\r\n  [2]: https://github.com/tbroyer/gradle-errorprone-plugin\r\n  [3]: https://github.com/google/error-prone","title":"How do I make error-prone ignore my generated source code?","body":"<p>Below a sample configuration tested while building gRPC protos, which is a scenario similar to the OPs with code generated into a target directory: <code>build/generated/*</code></p>\n<p>Generated protos are not marked with <code>@Generated</code>, so the aforementioned flag <code>-XepDisableWarningsInGeneratedCode</code> has no effect on the generated code and warnings are still issued.</p>\n<p>Also the command line flag has to be prepended by <code>-XDcompilePolicy</code> as per Gradle output and by <code>-Xplugin:ErrorProne</code> as per the <a href=\"http://errorprone.info/docs/flags\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p><strong>ErrorProne Gradle Plugin via command line args</strong></p>\n<pre><code>compileJava {\n    options.compilerArgs &lt;&lt; '-XDcompilePolicy=simple -Xplugin:ErrorProne -XepDisableWarningsInGeneratedCode'\n}\n</code></pre>\n<p>The command line approach do not seem to have an effect with modern Gradle, but the next approach does.</p>\n<p><strong>ErrorProne Gradle Plugin via options</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'net.ltgt.errorprone' version '3.1.0' // https://github.com/tbroyer/gradle-errorprone-plugin\n}\n\ndependencies {\n    errorprone &quot;com.google.errorprone:error_prone_core:2.20.0&quot; // https://github.com/google/error-prone\n}\n\ncompileJava {\n    options.errorprone.disableWarningsInGeneratedCode = true   // for @Generated\n    options.errorprone.excludedPaths = &quot;.*/build/generated/.*&quot; // for other generated scenarios, e.g. Protobuf\n}\n</code></pre>\n<p><strong>Environment</strong></p>\n<ul>\n<li>ErrorProne Gradle Plugin: <a href=\"https://github.com/tbroyer/gradle-errorprone-plugin\" rel=\"nofollow noreferrer\">https://github.com/tbroyer/gradle-errorprone-plugin</a></li>\n<li>ErrorProne Core: <a href=\"https://github.com/google/error-prone\" rel=\"nofollow noreferrer\">https://github.com/google/error-prone</a></li>\n<li>OS Mac OS X 13.4.1 aarch64</li>\n<li>JVM 17.0.6 (Azul Systems, Inc. 17.0.6+10-LTS)</li>\n<li>Gradle 8.2</li>\n</ul>\n"}],"owner":{"account_id":42943,"reputation":3354,"user_id":125320,"accept_rate":77,"display_name":"Argyle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3516,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":42295936,"answer_count":3,"score":7,"last_activity_date":1689010972,"creation_date":1474224269,"question_id":39561334,"body_markdown":"I&#39;ve recently discovered [Error Prone](http://errorprone.info) and am integrating it into my Android build using the [Gradle plugin](https://github.com/tbroyer/gradle-errorprone-plugin) linked on their page.\r\n\r\nSince our project is using Icepick (and some other code generating annotation processors), we have generated source code, which gets compiled in.  Unfortunately, some of the generated code triggers warnings in Error Prone, and I&#39;d like to filter that noise out somehow. \r\n\r\nThe generated code shows up in the `app/build/generated/source/apt/debug` directory.  How can I exempt this code from Error Prone&#39;s steely gaze?","title":"How do I make error-prone ignore my generated source code?","body":"<p>I've recently discovered <a href=\"http://errorprone.info\" rel=\"noreferrer\">Error Prone</a> and am integrating it into my Android build using the <a href=\"https://github.com/tbroyer/gradle-errorprone-plugin\" rel=\"noreferrer\">Gradle plugin</a> linked on their page.</p>\n\n<p>Since our project is using Icepick (and some other code generating annotation processors), we have generated source code, which gets compiled in.  Unfortunately, some of the generated code triggers warnings in Error Prone, and I'd like to filter that noise out somehow. </p>\n\n<p>The generated code shows up in the <code>app/build/generated/source/apt/debug</code> directory.  How can I exempt this code from Error Prone's steely gaze?</p>\n"},{"tags":["java","android","android-studio","android-intent","android-pendingintent"],"answers":[{"comments":[{"owner":{"account_id":13753395,"reputation":40,"user_id":9924942,"display_name":"M. Cahyna"},"score":0,"creation_date":1689074389,"post_id":76656125,"comment_id":135158657,"body_markdown":"Thank you, I also found another part in docs now, where they are using MUTABLE Flag. This is the link for it: https://developer.android.com/guide/topics/connectivity/nfc/advanced-nfc#foreground-dispatch","body":"Thank you, I also found another part in docs now, where they are using MUTABLE Flag. This is the link for it: <a href=\"https://developer.android.com/guide/topics/connectivity/nfc/advanced-nfc#foreground-dispatch\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/nfc/&hellip;</a>"},{"owner":{"account_id":13762909,"reputation":1124,"user_id":9932194,"display_name":"K M Rejowan Ahmmed"},"score":0,"creation_date":1689099824,"post_id":76656125,"comment_id":135164430,"body_markdown":"Good to hear that. Yap, this provides a clear concept. Also I saw some info about using UPDATE_CURRENT Flag with IMMUTABLE, which in theory could work.","body":"Good to hear that. Yap, this provides a clear concept. Also I saw some info about using UPDATE_CURRENT Flag with IMMUTABLE, which in theory could work."}],"tags":[],"owner":{"account_id":13762909,"reputation":1124,"user_id":9932194,"display_name":"K M Rejowan Ahmmed"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689010885,"creation_date":1689010885,"answer_id":76656125,"question_id":76655730,"body_markdown":"&gt; **FLAG_IMMUTABLE** : \r\n&gt; Flag indicating that the created PendingIntent should be immutable.\r\n&gt; This means that the **additional intent argument passed to** the send\r\n&gt; methods to fill in unpopulated properties of this **intent will be\r\n&gt; ignored.**\r\n&gt; \r\n&gt; **FLAG_IMMUTABLE only limits the ability to alter the semantics** of the\r\n&gt; intent that is sent by send() by the invoker of send(). The creator of\r\n&gt; the PendingIntent can always update the PendingIntent itself via\r\n&gt; FLAG_UPDATE_CURRENT.\r\n\r\nAs per Android Documentation, FLAG_IMMUTABLE removes the ability of altering the semantics, as here the the info of NFC tag is not send with the intent. \r\n\r\nBut for FLAG_MUTABLE,\r\n\r\n&gt; FLAG_MUTABLE should only be used when some functionality relies on\r\n&gt; modifying the underlying intent, e.g. any PendingIntent that needs to\r\n&gt; be used with inline reply or bubbles.\r\n\r\nMutable Flag allows to modify. \r\n\r\nThat could be the reason for working with Mutable and Not working with Immutable. \r\nThat&#39;s&#39; why when you set the PendingIntent flag to IMMUTABLE, your app crashes because the NFC intent cannot be added to your PendingIntent, leading to a null intent value in your onNewIntent() method.\r\n\r\n1. [FLAG_MUTABLE][1]\r\n2. [FLAG_IMMUTABLE][2]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/PendingIntent#FLAG_MUTABLE\r\n  [2]: https://developer.android.com/reference/android/app/PendingIntent#FLAG_IMMUTABLE","title":"Why NFC works with PendingIntent.FLAG_MUTABLE and not with PendingIntent.FLAG_IMMUTABLE","body":"<blockquote>\n<p><strong>FLAG_IMMUTABLE</strong> :\nFlag indicating that the created PendingIntent should be immutable.\nThis means that the <strong>additional intent argument passed to</strong> the send\nmethods to fill in unpopulated properties of this <strong>intent will be\nignored.</strong></p>\n<p><strong>FLAG_IMMUTABLE only limits the ability to alter the semantics</strong> of the\nintent that is sent by send() by the invoker of send(). The creator of\nthe PendingIntent can always update the PendingIntent itself via\nFLAG_UPDATE_CURRENT.</p>\n</blockquote>\n<p>As per Android Documentation, FLAG_IMMUTABLE removes the ability of altering the semantics, as here the the info of NFC tag is not send with the intent.</p>\n<p>But for FLAG_MUTABLE,</p>\n<blockquote>\n<p>FLAG_MUTABLE should only be used when some functionality relies on\nmodifying the underlying intent, e.g. any PendingIntent that needs to\nbe used with inline reply or bubbles.</p>\n</blockquote>\n<p>Mutable Flag allows to modify.</p>\n<p>That could be the reason for working with Mutable and Not working with Immutable.\nThat's' why when you set the PendingIntent flag to IMMUTABLE, your app crashes because the NFC intent cannot be added to your PendingIntent, leading to a null intent value in your onNewIntent() method.</p>\n<ol>\n<li><a href=\"https://developer.android.com/reference/android/app/PendingIntent#FLAG_MUTABLE\" rel=\"nofollow noreferrer\">FLAG_MUTABLE</a></li>\n<li><a href=\"https://developer.android.com/reference/android/app/PendingIntent#FLAG_IMMUTABLE\" rel=\"nofollow noreferrer\">FLAG_IMMUTABLE</a></li>\n</ol>\n"}],"owner":{"account_id":13753395,"reputation":40,"user_id":9924942,"display_name":"M. Cahyna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76656125,"answer_count":1,"score":0,"last_activity_date":1689010885,"creation_date":1689007200,"question_id":76655730,"body_markdown":"I have a question about NFC and Pending Intent function. I am building an app, which reads content of NDEF Tag and send value to server.\r\nAfter much searching I found a bug in the code, specifically in a function PendingIntent.\r\n\r\nThis is code of *MainActivity.java*. When I change FLAG_MUTABLE to IMMUTABLE, value of intent is **null** and app crash. When it is MUTABLE, value of intent is **android.nfc.action.NDEF_DISCOVERED** and everything works. I want to know, why it is, because every example and even somewhere in docs I found, that it should be IMMUTABLE.\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.app.PendingIntent;\r\n    import android.content.Intent;\r\n    import android.nfc.FormatException;\r\n    import android.nfc.NdefMessage;\r\n    import android.nfc.NdefRecord;\r\n    import android.nfc.NfcAdapter;\r\n    import android.nfc.Tag;\r\n    import android.nfc.tech.Ndef;\r\n    import android.os.Bundle;\r\n    import android.provider.Settings;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.Arrays;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private NfcAdapter nfcAdapter;\r\n        private PendingIntent pendingIntent;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            nfcAdapter = NfcAdapter.getDefaultAdapter(this);\r\n    \r\n            if (nfcAdapter == null) {\r\n                Toast.makeText(this, &quot;Nepodporovan&#253; telefon&quot;, Toast.LENGTH_LONG).show();\r\n            } else if (!nfcAdapter.isEnabled()) {\r\n                Toast.makeText(this, &quot;NFC je vypnut&#233;&quot;, Toast.LENGTH_LONG).show();\r\n                startActivity(new Intent(Settings.ACTION_NFC_SETTINGS));\r\n            }\r\n    \r\n            pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_MUTABLE);\r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            if (nfcAdapter != null) {\r\n                nfcAdapter.enableForegroundDispatch(this, pendingIntent, null, null);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n            if (nfcAdapter != null) {\r\n                nfcAdapter.disableForegroundDispatch(this);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onNewIntent(Intent intent) {\r\n            super.onNewIntent(intent);\r\n            Log.d(&quot;INTENT ACTION&quot;, intent.getAction());\r\n            Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\r\n            if (tag != null) {\r\n                Ndef ndef = Ndef.get(tag);\r\n                if (ndef == null) {\r\n                    Toast.makeText(this, &quot;Pr&#225;zdn&#253; NFC Tag&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n    \r\n                try {\r\n                    ndef.connect();\r\n    \r\n                    NdefMessage ndefMessage = ndef.getNdefMessage();\r\n                    if (ndefMessage != null) {\r\n                        NdefRecord[] records = ndefMessage.getRecords();\r\n                        for (NdefRecord record : records) {\r\n                            if (record.getTnf() == NdefRecord.TNF_WELL_KNOWN &amp;&amp; Arrays.equals(record.getType(), NdefRecord.RTD_TEXT)) {\r\n                                String text = readText(record);\r\n                                // TODO: Odeslat data do Google Sheets\r\n                                Toast.makeText(this, text, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (IOException | FormatException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        ndef.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            } else {\r\n                Toast.makeText(this, &quot;Pokozen&#253; NFC Tag&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    \r\n        private String readText(NdefRecord record) throws UnsupportedEncodingException {\r\n            byte[] payload = record.getPayload();\r\n    \r\n            String textEncoding = ((payload[0] &amp; 128) == 0) ? &quot;UTF-8&quot; : &quot;UTF-16&quot;;\r\n            int languageCodeLength = payload[0] &amp; 63;\r\n    \r\n            return new String(payload, languageCodeLength + 1, payload.length - languageCodeLength - 1, textEncoding);\r\n        }\r\n    }\r\n\r\n*Manifest.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.NFC&quot;/&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.nfc&quot; android:required=&quot;true&quot;/&gt;\r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.APPNFC&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;","title":"Why NFC works with PendingIntent.FLAG_MUTABLE and not with PendingIntent.FLAG_IMMUTABLE","body":"<p>I have a question about NFC and Pending Intent function. I am building an app, which reads content of NDEF Tag and send value to server.\nAfter much searching I found a bug in the code, specifically in a function PendingIntent.</p>\n<p>This is code of <em>MainActivity.java</em>. When I change FLAG_MUTABLE to IMMUTABLE, value of intent is <strong>null</strong> and app crash. When it is MUTABLE, value of intent is <strong>android.nfc.action.NDEF_DISCOVERED</strong> and everything works. I want to know, why it is, because every example and even somewhere in docs I found, that it should be IMMUTABLE.</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.PendingIntent;\nimport android.content.Intent;\nimport android.nfc.FormatException;\nimport android.nfc.NdefMessage;\nimport android.nfc.NdefRecord;\nimport android.nfc.NfcAdapter;\nimport android.nfc.Tag;\nimport android.nfc.tech.Ndef;\nimport android.os.Bundle;\nimport android.provider.Settings;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.util.Arrays;\n\npublic class MainActivity extends AppCompatActivity {\n    private NfcAdapter nfcAdapter;\n    private PendingIntent pendingIntent;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        nfcAdapter = NfcAdapter.getDefaultAdapter(this);\n\n        if (nfcAdapter == null) {\n            Toast.makeText(this, &quot;Nepodporovan telefon&quot;, Toast.LENGTH_LONG).show();\n        } else if (!nfcAdapter.isEnabled()) {\n            Toast.makeText(this, &quot;NFC je vypnut&quot;, Toast.LENGTH_LONG).show();\n            startActivity(new Intent(Settings.ACTION_NFC_SETTINGS));\n        }\n\n        pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_MUTABLE);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        if (nfcAdapter != null) {\n            nfcAdapter.enableForegroundDispatch(this, pendingIntent, null, null);\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        if (nfcAdapter != null) {\n            nfcAdapter.disableForegroundDispatch(this);\n        }\n    }\n\n    @Override\n    protected void onNewIntent(Intent intent) {\n        super.onNewIntent(intent);\n        Log.d(&quot;INTENT ACTION&quot;, intent.getAction());\n        Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\n        if (tag != null) {\n            Ndef ndef = Ndef.get(tag);\n            if (ndef == null) {\n                Toast.makeText(this, &quot;Przdn NFC Tag&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            try {\n                ndef.connect();\n\n                NdefMessage ndefMessage = ndef.getNdefMessage();\n                if (ndefMessage != null) {\n                    NdefRecord[] records = ndefMessage.getRecords();\n                    for (NdefRecord record : records) {\n                        if (record.getTnf() == NdefRecord.TNF_WELL_KNOWN &amp;&amp; Arrays.equals(record.getType(), NdefRecord.RTD_TEXT)) {\n                            String text = readText(record);\n                            // TODO: Odeslat data do Google Sheets\n                            Toast.makeText(this, text, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                }\n            } catch (IOException | FormatException e) {\n                e.printStackTrace();\n            } finally {\n                try {\n                    ndef.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        } else {\n            Toast.makeText(this, &quot;Pokozen NFC Tag&quot;, Toast.LENGTH_LONG).show();\n        }\n    }\n\n    private String readText(NdefRecord record) throws UnsupportedEncodingException {\n        byte[] payload = record.getPayload();\n\n        String textEncoding = ((payload[0] &amp; 128) == 0) ? &quot;UTF-8&quot; : &quot;UTF-16&quot;;\n        int languageCodeLength = payload[0] &amp; 63;\n\n        return new String(payload, languageCodeLength + 1, payload.length - languageCodeLength - 1, textEncoding);\n    }\n}\n</code></pre>\n<p><em>Manifest.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot;/&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.nfc&quot; android:required=&quot;true&quot;/&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.APPNFC&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","java-11","pdf-reactor"],"answers":[{"tags":[],"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689010480,"creation_date":1689010480,"answer_id":76656081,"question_id":76628209,"body_markdown":"I have contacted support. Unfortunately there is no way (yet) to create a PDF from multiple HTMLs. You have to create all PDFs separately and then use [a workaround][1] with an empty HTML and the overlay option to merge the previously created PDFs.\r\n\r\n\r\n  [1]: https://support.realobjects.com/support/solutions/articles/7000018262-can-i-merge-a-set-of-existing-pdfs-without-converting-an-additional-html-","title":"How to create a single pdf from multiple html using pdfreactor","body":"<p>I have contacted support. Unfortunately there is no way (yet) to create a PDF from multiple HTMLs. You have to create all PDFs separately and then use <a href=\"https://support.realobjects.com/support/solutions/articles/7000018262-can-i-merge-a-set-of-existing-pdfs-without-converting-an-additional-html-\" rel=\"nofollow noreferrer\">a workaround</a> with an empty HTML and the overlay option to merge the previously created PDFs.</p>\n"}],"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76656081,"answer_count":1,"score":0,"last_activity_date":1689010480,"creation_date":1688641935,"question_id":76628209,"body_markdown":"In my code I have a dynamic list of html strings and want to create a single pdf out of it using pdfreactor.\r\nThe `configuration.setMergeDocuments` method only accepts pdf files as input, not html. \r\nWhat is the best way to get a single pdf out of multiple html strings using pdfreactor?","title":"How to create a single pdf from multiple html using pdfreactor","body":"<p>In my code I have a dynamic list of html strings and want to create a single pdf out of it using pdfreactor.\nThe <code>configuration.setMergeDocuments</code> method only accepts pdf files as input, not html.\nWhat is the best way to get a single pdf out of multiple html strings using pdfreactor?</p>\n"},{"tags":["java","spring","web","initializr"],"owner":{"account_id":26376291,"reputation":21,"user_id":20030192,"display_name":"Pervaiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1689010308,"creation_date":1689010308,"question_id":76656060,"body_markdown":"When I try to create a Springboot project from https://start.spring.io/. I am getting this error\r\n&quot;Could not connect to the server. Please check your server&quot;. Downloading of project artifacts stops.\r\n[screen shot of error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eTitu.png","title":"Spring Initializr error &quot;Could not connect to the server. Please check your server&quot;","body":"<p>When I try to create a Springboot project from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>. I am getting this error\n&quot;Could not connect to the server. Please check your server&quot;. Downloading of project artifacts stops.\n<a href=\"https://i.stack.imgur.com/eTitu.png\" rel=\"nofollow noreferrer\">screen shot of error</a></p>\n"},{"tags":["java","kubernetes","kubernetes-helm","amazon-eks","apache-pulsar"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1688988269,"post_id":76650809,"comment_id":135144488,"body_markdown":"It seems unlikely to me that a standalone `java -version` invocation would honor a `PULSAR_MEM` environment variable.  Can you add the `-XX:+PrintFlagsFinal` into the `PULSAR_MEM` setting instead; then its output should be in `kubectl logs`?","body":"It seems unlikely to me that a standalone <code>java -version</code> invocation would honor a <code>PULSAR_MEM</code> environment variable.  Can you add the <code>-XX:+PrintFlagsFinal</code> into the <code>PULSAR_MEM</code> setting instead; then its output should be in <code>kubectl logs</code>?"},{"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"score":0,"creation_date":1689009839,"post_id":76650809,"comment_id":135149664,"body_markdown":"@DavidMaze Thanks for the suggestion, I did try and the logs didn&#39;t show the PULSAR_MEM variables. I&#39;ve posted the output in my question above.","body":"@DavidMaze Thanks for the suggestion, I did try and the logs didn&#39;t show the PULSAR_MEM variables. I&#39;ve posted the output in my question above."}],"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689009864,"creation_date":1688966009,"question_id":76650809,"body_markdown":"I have a Pulsar cluster running an EKS (kubernetes) cluster. I&#39;ve been advised to try and increase the JVM heap size on of the pods (called toolset) as advised by one of our support vendors:\r\n\r\n&gt; You are running this directly from the toolset pod, and the toolset pod&#39;s JVM heap allocation is very small compared to the RAM\r\n&gt; allocated to the pod. Because the Pulsar Producers need to use a\r\n&gt; buffer to batch messages, if the JVM heap is small, it will be less\r\n&gt; efficient at sending messages at high traffic. We recommend increasing\r\n&gt; the JVM heap size using the new JVM ops to control their size by\r\n&gt; percentages:\r\n&gt; https://www.baeldung.com/java-jvm-parameters-rampercentage. Once set,\r\n&gt; please restart the pod.\r\n\r\nFollowing the baeldung site above I&#39;m trying to set the parameters:\r\n\r\n - `XX:InitialRAMPercentage=50.0`\r\n - `XX:MinRAMPercentage=80.0`\r\n - `XX:MaxRAMPercentage=60.0`\r\n\r\nI set these variables in my `values.yaml` and I can see after applying these changes that they are reflected in the configmap:\r\n```bash\r\n kubectl -n pulsar describe configmap event-platform-pulsar-0-sn-toolset \r\n...\r\nData\r\n====\r\nPULSAR_MEM:\r\n----\r\n-XX:MaxDirectMemorySize=128M -XX:InitialRAMPercentage=50.0 -XX:MinRAMPercentage=80.0 -XX:MaxRAMPercentage=60.0\r\nhttpServerPort:\r\n----\r\n8000\r\nlog4j2.yaml:\r\n----\r\n...\r\n```\r\n\r\nHowever, when I try and check the value of `MaxRAMPercentage` on the toolset pod, I see the original value.\r\n```\r\n kubectl exec -it event-platform-pulsar-0-sn-toolset-0 -n pulsar -- java -XX:+PrintFlagsFinal -version | grep -E &quot;MaxRAMPercentage&quot;\r\n\r\n   double MaxRAMPercentage                         = 25.000000                                 {product} {default}\r\n```\r\n\r\nDespite the JVM memory parameters being correctly set in the ConfigMap and appearing in the Kubernetes manifest, they do not seem to be applied to the running JVM, as indicated by the `MaxRAMPercentage` still being set to the default value. What could be causing this issue, and how can I correctly set these parameters?\r\n\r\n## Further Troubleshooting Results\r\nI added the environment variable `-XX:+PrintFlagsFinal`\r\n```\r\n    PULSAR_MEM: &gt;\r\n      -XX:MaxDirectMemorySize=128M\r\n      -XX:InitialRAMPercentage=50.0\r\n      -XX:MinRAMPercentage=80.0\r\n      -XX:MaxRAMPercentage=60.0\r\n      -XX:+PrintFlagsFinal\r\n```\r\nThis the startup logs:\r\n```\r\n kubectl logs event-platform-pulsar-0-sn-toolset-0 -n pulsar\r\n[conf/client.conf] Applying config authParams = {&quot;privateKey&quot;:&quot;file:///pulsar/oauth2_keys/OAUTH2BROKERCREDS&quot;,&quot;issuerUrl&quot;:&quot;https://api.climate.com/api/oauth&quot;,&quot;audience&quot;:&quot;platform.climate.com&quot;,&quot;scope&quot;:&quot;&quot;}\r\n[conf/client.conf] Applying config authPlugin = org.apache.pulsar.client.impl.auth.oauth2.AuthenticationOAuth2\r\n[conf/client.conf] Applying config brokerServiceUrl = pulsar://event-platform-pulsar-0-sn-broker:6650/\r\n[conf/client.conf] Applying config webServiceUrl = http://event-platform-pulsar-0-sn-broker:8080/\r\n[conf/bookkeeper.conf] Applying config httpServerEnabled = true\r\n[conf/bookkeeper.conf] Applying config httpServerPort = 8000\r\n[conf/bookkeeper.conf] Applying config statsProviderClass = org.apache.bookkeeper.stats.prometheus.PrometheusMetricsProvider\r\n[conf/bookkeeper.conf] Applying config useHostNameAsBookieID = true\r\n[conf/bookkeeper.conf] Applying config zkLedgersRootPath = /ledgers\r\n[conf/bookkeeper.conf] Applying config zkServers = event-platform-pulsar-0-sn-zookeeper:2181\r\nConfiguring pulsarctl context ...\r\nSuccessfully configured pulsarctl context.\r\n```\r\n","title":"JVM Parameters Not Being Applied Despite Being Set in Kubernetes ConfigMap","body":"<p>I have a Pulsar cluster running an EKS (kubernetes) cluster. I've been advised to try and increase the JVM heap size on of the pods (called toolset) as advised by one of our support vendors:</p>\n<blockquote>\n<p>You are running this directly from the toolset pod, and the toolset pod's JVM heap allocation is very small compared to the RAM\nallocated to the pod. Because the Pulsar Producers need to use a\nbuffer to batch messages, if the JVM heap is small, it will be less\nefficient at sending messages at high traffic. We recommend increasing\nthe JVM heap size using the new JVM ops to control their size by\npercentages:\n<a href=\"https://www.baeldung.com/java-jvm-parameters-rampercentage\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-jvm-parameters-rampercentage</a>. Once set,\nplease restart the pod.</p>\n</blockquote>\n<p>Following the baeldung site above I'm trying to set the parameters:</p>\n<ul>\n<li><code>XX:InitialRAMPercentage=50.0</code></li>\n<li><code>XX:MinRAMPercentage=80.0</code></li>\n<li><code>XX:MaxRAMPercentage=60.0</code></li>\n</ul>\n<p>I set these variables in my <code>values.yaml</code> and I can see after applying these changes that they are reflected in the configmap:</p>\n<pre class=\"lang-bash prettyprint-override\"><code> kubectl -n pulsar describe configmap event-platform-pulsar-0-sn-toolset \n...\nData\n====\nPULSAR_MEM:\n----\n-XX:MaxDirectMemorySize=128M -XX:InitialRAMPercentage=50.0 -XX:MinRAMPercentage=80.0 -XX:MaxRAMPercentage=60.0\nhttpServerPort:\n----\n8000\nlog4j2.yaml:\n----\n...\n</code></pre>\n<p>However, when I try and check the value of <code>MaxRAMPercentage</code> on the toolset pod, I see the original value.</p>\n<pre><code> kubectl exec -it event-platform-pulsar-0-sn-toolset-0 -n pulsar -- java -XX:+PrintFlagsFinal -version | grep -E &quot;MaxRAMPercentage&quot;\n\n   double MaxRAMPercentage                         = 25.000000                                 {product} {default}\n</code></pre>\n<p>Despite the JVM memory parameters being correctly set in the ConfigMap and appearing in the Kubernetes manifest, they do not seem to be applied to the running JVM, as indicated by the <code>MaxRAMPercentage</code> still being set to the default value. What could be causing this issue, and how can I correctly set these parameters?</p>\n<h2>Further Troubleshooting Results</h2>\n<p>I added the environment variable <code>-XX:+PrintFlagsFinal</code></p>\n<pre><code>    PULSAR_MEM: &gt;\n      -XX:MaxDirectMemorySize=128M\n      -XX:InitialRAMPercentage=50.0\n      -XX:MinRAMPercentage=80.0\n      -XX:MaxRAMPercentage=60.0\n      -XX:+PrintFlagsFinal\n</code></pre>\n<p>This the startup logs:</p>\n<pre><code> kubectl logs event-platform-pulsar-0-sn-toolset-0 -n pulsar\n[conf/client.conf] Applying config authParams = {&quot;privateKey&quot;:&quot;file:///pulsar/oauth2_keys/OAUTH2BROKERCREDS&quot;,&quot;issuerUrl&quot;:&quot;https://api.climate.com/api/oauth&quot;,&quot;audience&quot;:&quot;platform.climate.com&quot;,&quot;scope&quot;:&quot;&quot;}\n[conf/client.conf] Applying config authPlugin = org.apache.pulsar.client.impl.auth.oauth2.AuthenticationOAuth2\n[conf/client.conf] Applying config brokerServiceUrl = pulsar://event-platform-pulsar-0-sn-broker:6650/\n[conf/client.conf] Applying config webServiceUrl = http://event-platform-pulsar-0-sn-broker:8080/\n[conf/bookkeeper.conf] Applying config httpServerEnabled = true\n[conf/bookkeeper.conf] Applying config httpServerPort = 8000\n[conf/bookkeeper.conf] Applying config statsProviderClass = org.apache.bookkeeper.stats.prometheus.PrometheusMetricsProvider\n[conf/bookkeeper.conf] Applying config useHostNameAsBookieID = true\n[conf/bookkeeper.conf] Applying config zkLedgersRootPath = /ledgers\n[conf/bookkeeper.conf] Applying config zkServers = event-platform-pulsar-0-sn-zookeeper:2181\nConfiguring pulsarctl context ...\nSuccessfully configured pulsarctl context.\n</code></pre>\n"},{"tags":["java","maven","log4j2"],"answers":[{"comments":[{"owner":{"account_id":10836930,"reputation":37,"user_id":7969625,"accept_rate":50,"display_name":"Glenn P"},"score":0,"creation_date":1687817013,"post_id":76518467,"comment_id":134986998,"body_markdown":"already tried this but log4j2 still does not write to the log file when running mvn clean tst. Any other things to look at? Thanks","body":"already tried this but log4j2 still does not write to the log file when running mvn clean tst. Any other things to look at? Thanks"},{"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"score":0,"creation_date":1687986220,"post_id":76518467,"comment_id":135015078,"body_markdown":"@GlennC Did you use `-D...` and an absolute path?","body":"@GlennC Did you use <code>-D...</code> and an absolute path?"},{"owner":{"account_id":10836930,"reputation":37,"user_id":7969625,"accept_rate":50,"display_name":"Glenn P"},"score":0,"creation_date":1688939385,"post_id":76518467,"comment_id":135138260,"body_markdown":"hi there thanks for getting back. I&#39;m having an error when executing the mvn command mentioned in the answer:\n[ERROR] Unknown lifecycle phase &quot;.configurationFile=/src/test/resources/log4j2.properties&quot;","body":"hi there thanks for getting back. I&#39;m having an error when executing the mvn command mentioned in the answer: [ERROR] Unknown lifecycle phase &quot;.configurationFile=/src/test/resources/log4j2.properties&quot;"},{"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"score":0,"creation_date":1689009510,"post_id":76518467,"comment_id":135149598,"body_markdown":"@GlennC I added a working gist for your reference. You might need to experiment on Windows with the path.  \\ is an escape char, so you would have something like C:\\\\Users\\\\...\\\\... You might need to escape he dot too","body":"@GlennC I added a working gist for your reference. You might need to experiment on Windows with the path.  \\ is an escape char, so you would have something like C:\\\\Users\\\\...\\\\... You might need to escape he dot too"},{"owner":{"account_id":10836930,"reputation":37,"user_id":7969625,"accept_rate":50,"display_name":"Glenn P"},"score":0,"creation_date":1689058293,"post_id":76518467,"comment_id":135155385,"body_markdown":"Thanks a lot. It&#39;s working now when running mvn clean test. I don&#39;t know what happened and when it started to work. But when I checked the .log file, it&#39;s getting updated now. Generally your answer provides the guidance on were to check. Cheers","body":"Thanks a lot. It&#39;s working now when running mvn clean test. I don&#39;t know what happened and when it started to work. But when I checked the .log file, it&#39;s getting updated now. Generally your answer provides the guidance on were to check. Cheers"},{"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"score":0,"creation_date":1689083620,"post_id":76518467,"comment_id":135160907,"body_markdown":"Glad it worked out for you","body":"Glad it worked out for you"}],"tags":[],"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689009204,"creation_date":1687296151,"answer_id":76518467,"question_id":76518432,"body_markdown":"Log4j2 is looking for its configuration on the classpath. For Maven based projects that usually means `[projectroot]/src/main/resources` and `[projectroot]/src/test/resources` (for test). That should work for both inside IntelliJ and the maven command line `mvn clean test`.\r\n\r\nYou can also set the system property `log4j2.configurationFile` to point to the configuration you wish to use.\r\n\r\nFor Maven that would be:\r\n\r\n```bash\r\nmvn -Dlog4j.configurationFile=/fully-qualified-path/log4j2.properties\r\n```\r\n\r\nFull details can be found here: https://logging.apache.org/log4j/2.x/manual/configuration.html\r\n\r\n**Update**:\r\n\r\nI created a [working gist](https://gist.github.com/Stwissel/06e5c11bf5829fcdbbbd7318d5da85b0) for reference.\r\n\r\nNote: path needs to be absolute, `~` won&#39;t work. Not tested on windows. Tested with Maven 3.9.2","title":"Log4j2 does not log to file when test project is executed using Maven (mvn clean test)","body":"<p>Log4j2 is looking for its configuration on the classpath. For Maven based projects that usually means <code>[projectroot]/src/main/resources</code> and <code>[projectroot]/src/test/resources</code> (for test). That should work for both inside IntelliJ and the maven command line <code>mvn clean test</code>.</p>\n<p>You can also set the system property <code>log4j2.configurationFile</code> to point to the configuration you wish to use.</p>\n<p>For Maven that would be:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn -Dlog4j.configurationFile=/fully-qualified-path/log4j2.properties\n</code></pre>\n<p>Full details can be found here: <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/configuration.html</a></p>\n<p><strong>Update</strong>:</p>\n<p>I created a <a href=\"https://gist.github.com/Stwissel/06e5c11bf5829fcdbbbd7318d5da85b0\" rel=\"nofollow noreferrer\">working gist</a> for reference.</p>\n<p>Note: path needs to be absolute, <code>~</code> won't work. Not tested on windows. Tested with Maven 3.9.2</p>\n"}],"owner":{"account_id":10836930,"reputation":37,"user_id":7969625,"accept_rate":50,"display_name":"Glenn P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76518467,"answer_count":1,"score":0,"last_activity_date":1689009204,"creation_date":1687295573,"question_id":76518432,"body_markdown":"When running using mvn clean test from IntelliJ terminal, Log4j2 does not write to the log file. But when tests are run using TestNG play button inside IntelliJ, logs are getting written.\r\n\r\nThis happened after I published the test automation framework to a JAR file.\r\n\r\nIn the previous version where the framework classes are still within the test project and not published as jar file, it is able to write logs when running using mvn clean test.\r\n\r\nAny ideas? Thanks","title":"Log4j2 does not log to file when test project is executed using Maven (mvn clean test)","body":"<p>When running using mvn clean test from IntelliJ terminal, Log4j2 does not write to the log file. But when tests are run using TestNG play button inside IntelliJ, logs are getting written.</p>\n<p>This happened after I published the test automation framework to a JAR file.</p>\n<p>In the previous version where the framework classes are still within the test project and not published as jar file, it is able to write logs when running using mvn clean test.</p>\n<p>Any ideas? Thanks</p>\n"},{"tags":["java","hibernate","setter","throws"],"answers":[{"tags":[],"owner":{"account_id":12264773,"reputation":146,"user_id":10266818,"display_name":"Matthias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689008007,"creation_date":1689008007,"answer_id":76655830,"question_id":76655815,"body_markdown":"From your description it sounds perfectly safe to remove the throws declaration. A guess would be that the setter originally took a `String` and parsed it. If you have source control, a check in the history might confirm this.","title":"Setter only does assignment, yet declares that it throws a ParseException; in Hibernate","body":"<p>From your description it sounds perfectly safe to remove the throws declaration. A guess would be that the setter originally took a <code>String</code> and parsed it. If you have source control, a check in the history might confirm this.</p>\n"}],"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76655830,"answer_count":1,"score":0,"last_activity_date":1689008007,"creation_date":1689007886,"question_id":76655815,"body_markdown":"Discovered a `Date` setter that only does the typical assignment, yet has a `throws ParseException` for what seems like no good reason. No `Date` construction is happening in the body of the setter. Just assignment.\r\n\r\nThis is on a Hibernate entity. The setters field is annotated with @Column as nullable, insertable, and updateable. Not sure if that matters.\r\n\r\nIs this obviously wrong and should be fixed by removing the `throws` or is there more research to do before deciding to remove this?\r\n\r\n","title":"Setter only does assignment, yet declares that it throws a ParseException; in Hibernate","body":"<p>Discovered a <code>Date</code> setter that only does the typical assignment, yet has a <code>throws ParseException</code> for what seems like no good reason. No <code>Date</code> construction is happening in the body of the setter. Just assignment.</p>\n<p>This is on a Hibernate entity. The setters field is annotated with @Column as nullable, insertable, and updateable. Not sure if that matters.</p>\n<p>Is this obviously wrong and should be fixed by removing the <code>throws</code> or is there more research to do before deciding to remove this?</p>\n"},{"tags":["java","button","jframe"],"comments":[{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689008691,"post_id":76655817,"comment_id":135149439,"body_markdown":"@5f3bde39-70a2-4df1-afa2-47f61b Tried this already and it produces the same result as the code above","body":"@5f3bde39-70a2-4df1-afa2-47f61b Tried this already and it produces the same result as the code above"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689008829,"post_id":76655817,"comment_id":135149468,"body_markdown":"[Avoid null layouts in Swing](https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing)\nAlso, you should really only have one `JFrame` per app. If you want extra windows, they would normally be dialog types, not application windows","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing\" rel=\"nofollow noreferrer\">Avoid null layouts in Swing</a> Also, you should really only have one <code>JFrame</code> per app. If you want extra windows, they would normally be dialog types, not application windows"},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689009199,"post_id":76655817,"comment_id":135149537,"body_markdown":"@g00se The layout was there temporarily I just noticed I have forgotten to delete it but thanks for the reminder. And yes you think it is simply easier to just reload/repaint the original Jframe?","body":"@g00se The layout was there temporarily I just noticed I have forgotten to delete it but thanks for the reminder. And yes you think it is simply easier to just reload/repaint the original Jframe?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689010688,"post_id":76655817,"comment_id":135149800,"body_markdown":"Well it looks like you&#39;ve got a &#39;roving interface&#39; so as @user16320675 said, a `CardLayout` might be the thing.","body":"Well it looks like you&#39;ve got a &#39;roving interface&#39; so as @user16320675 said, a <code>CardLayout</code> might be the thing."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689011734,"post_id":76655817,"comment_id":135149981,"body_markdown":"@user16320675 many thanks, will google around about how to use card layout.","body":"@user16320675 many thanks, will google around about how to use card layout."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689012075,"post_id":76655817,"comment_id":135150039,"body_markdown":"Many thanks @g00se (I was unable to ping both in single comment)","body":"Many thanks @g00se (I was unable to ping both in single comment)"}],"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689008006,"creation_date":1689007920,"question_id":76655817,"body_markdown":"I am currently trying to open a new Jframe when a button is pressed and this is the easy part. But there is a slight delay opening the new Jframe. \r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.*;    \r\n    import javax.swing.JFrame;\r\n\r\n     public class Aframe implements ActionListener {   \r\n\r\n    public void frame() {\r\n\tJFrame frame = new JFrame(&quot;1&quot;);\r\n        JButton button =new JButton(&quot;Start&quot;);  \r\n        JButton button2 =new JButton(&quot;Help&quot;);  \r\n        button.setBounds(50,100,110,30); \r\n        button2.setBounds(50,150,110,30); \r\n\tframe.setSize(890,700);\r\n\tframe.setLocation(300,60);\r\n        frame.setLayout(null);  //tillf&#228;lligt \r\n\tframe.setResizable(false);\r\n\tframe.setVisible(true);\r\n\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        frame.add(button);\r\n        frame.add(button2);\r\n\r\n        button.addActionListener(new ActionListener(){  \r\n            public void actionPerformed(ActionEvent e){  \r\n                frame.dispose();\r\n                JFrame frame2 = new JFrame(&quot;2&quot;);\r\n                frame2.setSize(890,700);\r\n                frame2.setLocation(300,60);\r\n                frame2.setVisible(true);\r\n                frame.dispose();\r\n                frame2.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    }  \r\n                });  \r\n\r\n\t}\r\n\r\n    public static void main(String[] args) {\r\n\t\tstart.frame();\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent arg0) {\r\n        \r\n    }\r\n\r\n    }\r\n\r\nI would like to have it appear instantly when the button is pressed or at least make it seem so. I guess it actually might be easier to repaint the entire frame rather than opening a new one? But I feel like asking here first.","title":"Java opening a new Jframe instantly so it appears without a delay","body":"<p>I am currently trying to open a new Jframe when a button is pressed and this is the easy part. But there is a slight delay opening the new Jframe.</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.*;    \nimport javax.swing.JFrame;\n\n public class Aframe implements ActionListener {   \n\npublic void frame() {\nJFrame frame = new JFrame(&quot;1&quot;);\n    JButton button =new JButton(&quot;Start&quot;);  \n    JButton button2 =new JButton(&quot;Help&quot;);  \n    button.setBounds(50,100,110,30); \n    button2.setBounds(50,150,110,30); \nframe.setSize(890,700);\nframe.setLocation(300,60);\n    frame.setLayout(null);  //tillflligt \nframe.setResizable(false);\nframe.setVisible(true);\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    frame.add(button);\n    frame.add(button2);\n\n    button.addActionListener(new ActionListener(){  \n        public void actionPerformed(ActionEvent e){  \n            frame.dispose();\n            JFrame frame2 = new JFrame(&quot;2&quot;);\n            frame2.setSize(890,700);\n            frame2.setLocation(300,60);\n            frame2.setVisible(true);\n            frame.dispose();\n            frame2.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                }  \n            });  \n\n}\n\npublic static void main(String[] args) {\n    start.frame();\n}\n\n@Override\npublic void actionPerformed(ActionEvent arg0) {\n    \n}\n\n}\n</code></pre>\n<p>I would like to have it appear instantly when the button is pressed or at least make it seem so. I guess it actually might be easier to repaint the entire frame rather than opening a new one? But I feel like asking here first.</p>\n"},{"tags":["java","spring-boot-security"],"answers":[{"comments":[{"owner":{"account_id":25397835,"reputation":9,"user_id":19207835,"display_name":"Count"},"score":0,"creation_date":1689061987,"post_id":76655816,"comment_id":135156026,"body_markdown":"Thanks for the answer. I modified the code as you suggested, I sent the POST request without include the token and I still get the error 401.","body":"Thanks for the answer. I modified the code as you suggested, I sent the POST request without include the token and I still get the error 401."}],"tags":[],"owner":{"account_id":21144793,"reputation":75,"user_id":15546361,"display_name":"Pabasara Rathnayake"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689007897,"creation_date":1689007897,"answer_id":76655816,"question_id":76655432,"body_markdown":"You have used Spring Security to manage authentication and permission in your web project based on the code you gave. You need help because you want to make the `/api/v1/accounts/register` endpoint publicly available, but it requires a valid token to access.\r\n\r\nYou must alter your `SecurityConfig` class to make the `/api/v1/accounts/register` endpoint available without authentication. This endpoint is now included in the `excludeFromCheck` list, which implies that authentication checks should not be performed on it. It is still viewed as an authenticated request though.\r\n\r\nTo resolve this, try out updating the `SecurityConfig` class in this way,\r\n\r\n    //... \r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http, AccountRepository accountRepository) throws Exception {\r\n        List&lt;AntPathRequestMatcher&gt; excludeFromCheck = List.of(\r\n            //...\r\n    \r\n            new AntPathRequestMatcher(&quot;/api/v1/accounts/register&quot;)\r\n        );\r\n    \r\n        return http\r\n            //...\r\n            .authorizeHttpRequests(requests -&gt; requests\r\n                .requestMatchers(excludeFromCheck.toArray(new AntPathRequestMatcher[0])).permitAll()\r\n                .anyRequest().authenticated()\r\n            )\r\n            //...\r\n    } \r\n\r\n","title":"I get Error 401 when I send a POST request to an excluded endpoint","body":"<p>You have used Spring Security to manage authentication and permission in your web project based on the code you gave. You need help because you want to make the <code>/api/v1/accounts/register</code> endpoint publicly available, but it requires a valid token to access.</p>\n<p>You must alter your <code>SecurityConfig</code> class to make the <code>/api/v1/accounts/register</code> endpoint available without authentication. This endpoint is now included in the <code>excludeFromCheck</code> list, which implies that authentication checks should not be performed on it. It is still viewed as an authenticated request though.</p>\n<p>To resolve this, try out updating the <code>SecurityConfig</code> class in this way,</p>\n<pre><code>//... \npublic SecurityFilterChain securityFilterChain(HttpSecurity http, AccountRepository accountRepository) throws Exception {\n    List&lt;AntPathRequestMatcher&gt; excludeFromCheck = List.of(\n        //...\n\n        new AntPathRequestMatcher(&quot;/api/v1/accounts/register&quot;)\n    );\n\n    return http\n        //...\n        .authorizeHttpRequests(requests -&gt; requests\n            .requestMatchers(excludeFromCheck.toArray(new AntPathRequestMatcher[0])).permitAll()\n            .anyRequest().authenticated()\n        )\n        //...\n} \n</code></pre>\n"}],"owner":{"account_id":25397835,"reputation":9,"user_id":19207835,"display_name":"Count"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689007897,"creation_date":1689004576,"question_id":76655432,"body_markdown":"I&#39;m developing a web app where user can authenticate with OAuth2. In the web app there are a list of endpoints that are accessible only by sending requests (GET-POST-PUT-DELETE) including a valid token.\r\nNow I want to implement my web app by allowing users to authenticate with username and password. There is a form where user can Signup to the web app (they need to fill the form with the required data). \r\nSo, once an user clicked on Signup, a POST request is sent to the URL **localhost:8080/api/v1/accounts/register** and their data are stored into the db.\r\nMy problem is that the POST request works only if a valid token is included into the request. If I don&#39;t specify a valid token, I get an &quot;error 401 unauthorized&quot;. If I send the request by including the token, I got 201.\r\nWhat I tried to do was to make the endpoint (/api/v1/accounts/register) accessible to everyone. But I still get the error 401.\r\n\r\nThose are the classes involved into the authorization:\r\n\r\nSecurityConfig.java:\r\n\r\n    package it.app.demoaimeetingroombe.configuration;\r\n    \r\n    import it.app.demoaimeetingroombe.csrf.CsrfTokenCustom;\r\n    import it.app.demoaimeetingroombe.filter.AccountCheckFilterChain;\r\n    import it.app.demoaimeetingroombe.repository.AccountRepository;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.csrf.CsrfTokenRepository;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    \r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http, AccountRepository accountRepository) throws Exception {\r\n            List&lt;AntPathRequestMatcher&gt; excludeFromCheck = List.of(\r\n                    new AntPathRequestMatcher(&quot;/api/v1/accounts/authenticate&quot;),\r\n                    new AntPathRequestMatcher(&quot;/api/v1/rooms/*/bookings/daily/*&quot;),\r\n                    new AntPathRequestMatcher(&quot;/swagger-ui/**&quot;),\r\n                    new AntPathRequestMatcher(&quot;/swagger-ui.html&quot;),\r\n                    new AntPathRequestMatcher(&quot;/api/v1/accounts/register&quot;),\r\n                    new AntPathRequestMatcher(&quot;/v3/api-docs/**&quot;),\r\n                    new AntPathRequestMatcher(&quot;/api/v1/webauthn/**&quot;)\r\n            );\r\n    \r\n            return http\r\n                    .csrf().csrfTokenRepository(customCsrfTokenRepository())\r\n                    .ignoringRequestMatchers(new AntPathRequestMatcher(&quot;/api/v1/webauthn/**&quot;))\r\n                    .and()\r\n                    .authorizeHttpRequests(requests -&gt; requests\r\n                            .requestMatchers(\r\n                                    new AntPathRequestMatcher(&quot;/api/v1/rooms/*/bookings/daily/*&quot;),\r\n                                    new AntPathRequestMatcher(&quot;/swagger-ui/**&quot;),\r\n                                    new AntPathRequestMatcher(&quot;/swagger-ui.html&quot;),\r\n                                    new AntPathRequestMatcher(&quot;/api/v1/accounts/register&quot;),\r\n                                    new AntPathRequestMatcher(&quot;/v3/api-docs/**&quot;),\r\n                                    new AntPathRequestMatcher(&quot;/api/v1/webauthn/**&quot;)).permitAll()\r\n                            .anyRequest().authenticated()\r\n                    )\r\n                    .addFilterAfter(new AccountCheckFilterChain(accountRepository, excludeFromCheck), BearerTokenAuthenticationFilter.class)\r\n                    .oauth2ResourceServer()\r\n                    .jwt()\r\n                    .and()\r\n                    .and().cors().configurationSource(httpServletRequest -&gt; {\r\n                        CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n                        corsConfiguration.setAllowedOriginPatterns(Collections.singletonList(&quot;http://localhost:3000&quot;));\r\n                        corsConfiguration.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\r\n                        corsConfiguration.setAllowCredentials(true);\r\n                        corsConfiguration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n                        corsConfiguration.setExposedHeaders(Collections.singletonList(&quot;Authorization&quot;));\r\n                        corsConfiguration.setMaxAge(3600L);\r\n                        return corsConfiguration;\r\n                    })\r\n                    .and().build();\r\n        }\r\n    \r\n        private CsrfTokenRepository customCsrfTokenRepository() {\r\n            return new CsrfTokenCustom();\r\n        }\r\n    }\r\n\r\nAccountCheckFilterChain.java:\r\n\r\n    package it.app.demoaimeetingroombe.filter;\r\n    \r\n    \r\n    import it.app.demoaimeetingroombe.repository.AccountRepository;\r\n    import jakarta.servlet.*;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    \r\n    public class AccountCheckFilterChain implements Filter {\r\n        private final AccountRepository accountRepository;\r\n        private final List&lt;AntPathRequestMatcher&gt; excludeFromCheck;\r\n    \r\n        public AccountCheckFilterChain(AccountRepository accountRepository, List&lt;AntPathRequestMatcher&gt; excludeFromCheck) {\r\n            this.accountRepository = accountRepository;\r\n            this.excludeFromCheck = excludeFromCheck;\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n                throws IOException, ServletException {\r\n            HttpServletRequest httpRequest = ((HttpServletRequest) servletRequest);\r\n            HttpServletResponse httpResponse = ((HttpServletResponse) servletResponse);\r\n            boolean shouldExclude = excludeFromCheck.stream().anyMatch(exclude -&gt; exclude.matches(httpRequest));\r\n            if (!shouldExclude) {\r\n                Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n                if (authentication == null) {\r\n                    setUnauthorized(httpResponse);\r\n                    return;\r\n                }\r\n                String accountId = authentication.getName();\r\n                if (StringUtils.isBlank(accountId) || !accountRepository.existsByIdAndIsActiveTrue(accountId)) {\r\n                    setUnauthorized(httpResponse);\r\n                    return;\r\n                }\r\n            }\r\n            filterChain.doFilter(servletRequest, servletResponse);\r\n        }\r\n    \r\n        private static void setUnauthorized(HttpServletResponse httpResponse) {\r\n            httpResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n            httpResponse.setContentType(&quot;application/json&quot;);\r\n            httpResponse.setContentLength(0);\r\n        }\r\n    }\r\n\r\nCsrfTokenCustom.java:\r\n\r\n    package it.app.demoaimeetingroombe.csrf;\r\n    \r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import org.springframework.security.web.csrf.CookieCsrfTokenRepository;\r\n    import org.springframework.security.web.csrf.CsrfToken;\r\n    import org.springframework.security.web.csrf.CsrfTokenRepository;\r\n    import org.springframework.security.web.csrf.DefaultCsrfToken;\r\n    \r\n    public class CsrfTokenCustom implements CsrfTokenRepository {\r\n        private final CookieCsrfTokenRepository delegate = CookieCsrfTokenRepository.withHttpOnlyFalse();\r\n    \r\n        @Override\r\n        public CsrfToken generateToken(HttpServletRequest request) {\r\n            return delegate.generateToken(request);\r\n        }\r\n    \r\n        @Override\r\n        public void saveToken(CsrfToken token, HttpServletRequest request, HttpServletResponse response) {\r\n            delegate.saveToken(token, request, response);\r\n        }\r\n    \r\n        @Override\r\n        public CsrfToken loadToken(HttpServletRequest request) {\r\n            CsrfToken token = delegate.loadToken(request);\r\n            if (isWebAuthnEndpoint(request)) {\r\n                String newToken = &quot;ALLOW_ALL&quot;;\r\n                return new DefaultCsrfToken(token.getHeaderName(), token.getParameterName(), newToken);\r\n            }\r\n            return token;\r\n        }\r\n    \r\n        private boolean isWebAuthnEndpoint(HttpServletRequest request) {\r\n            String requestURI = request.getRequestURI();\r\n            return requestURI.startsWith(&quot;/api/v1/webauthn/&quot;);\r\n        }\r\n    }","title":"I get Error 401 when I send a POST request to an excluded endpoint","body":"<p>I'm developing a web app where user can authenticate with OAuth2. In the web app there are a list of endpoints that are accessible only by sending requests (GET-POST-PUT-DELETE) including a valid token.\nNow I want to implement my web app by allowing users to authenticate with username and password. There is a form where user can Signup to the web app (they need to fill the form with the required data).\nSo, once an user clicked on Signup, a POST request is sent to the URL <strong>localhost:8080/api/v1/accounts/register</strong> and their data are stored into the db.\nMy problem is that the POST request works only if a valid token is included into the request. If I don't specify a valid token, I get an &quot;error 401 unauthorized&quot;. If I send the request by including the token, I got 201.\nWhat I tried to do was to make the endpoint (/api/v1/accounts/register) accessible to everyone. But I still get the error 401.</p>\n<p>Those are the classes involved into the authorization:</p>\n<p>SecurityConfig.java:</p>\n<pre><code>package it.app.demoaimeetingroombe.configuration;\n\nimport it.app.demoaimeetingroombe.csrf.CsrfTokenCustom;\nimport it.app.demoaimeetingroombe.filter.AccountCheckFilterChain;\nimport it.app.demoaimeetingroombe.repository.AccountRepository;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.csrf.CsrfTokenRepository;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.web.cors.CorsConfiguration;\n\nimport java.util.Collections;\nimport java.util.List;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http, AccountRepository accountRepository) throws Exception {\n        List&lt;AntPathRequestMatcher&gt; excludeFromCheck = List.of(\n                new AntPathRequestMatcher(&quot;/api/v1/accounts/authenticate&quot;),\n                new AntPathRequestMatcher(&quot;/api/v1/rooms/*/bookings/daily/*&quot;),\n                new AntPathRequestMatcher(&quot;/swagger-ui/**&quot;),\n                new AntPathRequestMatcher(&quot;/swagger-ui.html&quot;),\n                new AntPathRequestMatcher(&quot;/api/v1/accounts/register&quot;),\n                new AntPathRequestMatcher(&quot;/v3/api-docs/**&quot;),\n                new AntPathRequestMatcher(&quot;/api/v1/webauthn/**&quot;)\n        );\n\n        return http\n                .csrf().csrfTokenRepository(customCsrfTokenRepository())\n                .ignoringRequestMatchers(new AntPathRequestMatcher(&quot;/api/v1/webauthn/**&quot;))\n                .and()\n                .authorizeHttpRequests(requests -&gt; requests\n                        .requestMatchers(\n                                new AntPathRequestMatcher(&quot;/api/v1/rooms/*/bookings/daily/*&quot;),\n                                new AntPathRequestMatcher(&quot;/swagger-ui/**&quot;),\n                                new AntPathRequestMatcher(&quot;/swagger-ui.html&quot;),\n                                new AntPathRequestMatcher(&quot;/api/v1/accounts/register&quot;),\n                                new AntPathRequestMatcher(&quot;/v3/api-docs/**&quot;),\n                                new AntPathRequestMatcher(&quot;/api/v1/webauthn/**&quot;)).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .addFilterAfter(new AccountCheckFilterChain(accountRepository, excludeFromCheck), BearerTokenAuthenticationFilter.class)\n                .oauth2ResourceServer()\n                .jwt()\n                .and()\n                .and().cors().configurationSource(httpServletRequest -&gt; {\n                    CorsConfiguration corsConfiguration = new CorsConfiguration();\n                    corsConfiguration.setAllowedOriginPatterns(Collections.singletonList(&quot;http://localhost:3000&quot;));\n                    corsConfiguration.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\n                    corsConfiguration.setAllowCredentials(true);\n                    corsConfiguration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n                    corsConfiguration.setExposedHeaders(Collections.singletonList(&quot;Authorization&quot;));\n                    corsConfiguration.setMaxAge(3600L);\n                    return corsConfiguration;\n                })\n                .and().build();\n    }\n\n    private CsrfTokenRepository customCsrfTokenRepository() {\n        return new CsrfTokenCustom();\n    }\n}\n</code></pre>\n<p>AccountCheckFilterChain.java:</p>\n<pre><code>package it.app.demoaimeetingroombe.filter;\n\n\nimport it.app.demoaimeetingroombe.repository.AccountRepository;\nimport jakarta.servlet.*;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.apache.commons.lang3.StringUtils;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport java.io.IOException;\nimport java.util.List;\n\npublic class AccountCheckFilterChain implements Filter {\n    private final AccountRepository accountRepository;\n    private final List&lt;AntPathRequestMatcher&gt; excludeFromCheck;\n\n    public AccountCheckFilterChain(AccountRepository accountRepository, List&lt;AntPathRequestMatcher&gt; excludeFromCheck) {\n        this.accountRepository = accountRepository;\n        this.excludeFromCheck = excludeFromCheck;\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n            throws IOException, ServletException {\n        HttpServletRequest httpRequest = ((HttpServletRequest) servletRequest);\n        HttpServletResponse httpResponse = ((HttpServletResponse) servletResponse);\n        boolean shouldExclude = excludeFromCheck.stream().anyMatch(exclude -&gt; exclude.matches(httpRequest));\n        if (!shouldExclude) {\n            Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n            if (authentication == null) {\n                setUnauthorized(httpResponse);\n                return;\n            }\n            String accountId = authentication.getName();\n            if (StringUtils.isBlank(accountId) || !accountRepository.existsByIdAndIsActiveTrue(accountId)) {\n                setUnauthorized(httpResponse);\n                return;\n            }\n        }\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n\n    private static void setUnauthorized(HttpServletResponse httpResponse) {\n        httpResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n        httpResponse.setContentType(&quot;application/json&quot;);\n        httpResponse.setContentLength(0);\n    }\n}\n</code></pre>\n<p>CsrfTokenCustom.java:</p>\n<pre><code>package it.app.demoaimeetingroombe.csrf;\n\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.security.web.csrf.CookieCsrfTokenRepository;\nimport org.springframework.security.web.csrf.CsrfToken;\nimport org.springframework.security.web.csrf.CsrfTokenRepository;\nimport org.springframework.security.web.csrf.DefaultCsrfToken;\n\npublic class CsrfTokenCustom implements CsrfTokenRepository {\n    private final CookieCsrfTokenRepository delegate = CookieCsrfTokenRepository.withHttpOnlyFalse();\n\n    @Override\n    public CsrfToken generateToken(HttpServletRequest request) {\n        return delegate.generateToken(request);\n    }\n\n    @Override\n    public void saveToken(CsrfToken token, HttpServletRequest request, HttpServletResponse response) {\n        delegate.saveToken(token, request, response);\n    }\n\n    @Override\n    public CsrfToken loadToken(HttpServletRequest request) {\n        CsrfToken token = delegate.loadToken(request);\n        if (isWebAuthnEndpoint(request)) {\n            String newToken = &quot;ALLOW_ALL&quot;;\n            return new DefaultCsrfToken(token.getHeaderName(), token.getParameterName(), newToken);\n        }\n        return token;\n    }\n\n    private boolean isWebAuthnEndpoint(HttpServletRequest request) {\n        String requestURI = request.getRequestURI();\n        return requestURI.startsWith(&quot;/api/v1/webauthn/&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","flutter","exception","connection-timeout"],"comments":[{"owner":{"account_id":20453177,"reputation":116,"user_id":15007469,"display_name":"Naqeeb Abid"},"score":0,"creation_date":1689011109,"post_id":76655769,"comment_id":135149872,"body_markdown":"Are you connected to the internet? Please make sure that your internet connection is working and if possible, use a different network to test it out.","body":"Are you connected to the internet? Please make sure that your internet connection is working and if possible, use a different network to test it out."},{"owner":{"account_id":27374023,"reputation":11,"user_id":20879647,"display_name":"sandika dassanayake"},"score":0,"creation_date":1689036539,"post_id":76655769,"comment_id":135153349,"body_markdown":"@NaqeebAbid yes i checked using different networks but not works same error","body":"@NaqeebAbid yes i checked using different networks but not works same error"},{"owner":{"account_id":27374023,"reputation":11,"user_id":20879647,"display_name":"sandika dassanayake"},"score":0,"creation_date":1692851277,"post_id":76655769,"comment_id":135680736,"body_markdown":"it was a connection problem..i was able to fix the problem by changing the network thank @NaqeebAbid for answering","body":"it was a connection problem..i was able to fix the problem by changing the network thank @NaqeebAbid for answering"}],"owner":{"account_id":27374023,"reputation":11,"user_id":20879647,"display_name":"sandika dassanayake"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689007512,"creation_date":1689007512,"question_id":76655769,"body_markdown":"when running a flutter project following error comes and running fails\r\n\r\n```\r\nException in thread &quot;main&quot; java.net.ConnectException: Connection timed out: connect\r\n        at java.base/sun.nio.ch.Net.connect0(Native Method)\r\n        at java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n        at java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n        at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n        at java.base/java.net.Socket.connect(Socket.java:633)\r\n        at java.base/java.net.Socket.connect(Socket.java:583)\r\n        at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)\r\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)\r\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:590)\r\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:588)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n        at java.base/sun.net.www.http.HttpClient.privilegedOpenServer(HttpClient.java:587)\r\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:631)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:380)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:202)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1263)     \r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)      \r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:179)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1665)   \r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)    \r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\r\n        at org.gradle.wrapper.Download.downloadInternal(Download.java:58)\r\n        at org.gradle.wrapper.Download.download(Download.java:44)\r\n        at org.gradle.wrapper.Install$1.call(Install.java:61)\r\n        at org.gradle.wrapper.Install$1.call(Install.java:48)\r\n        at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\r\n        at org.gradle.wrapper.Install.createDist(Install.java:48)\r\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\r\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\r\nRunning Gradle task &#39;assembleDebug&#39;...                             45.9s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```\r\n\r\n\r\n\r\nI tried changing java version of my computer and I checked the connection but none of them works..","title":"Exception: Gradle task assembleDebug failed with exit code 1 when running a flutter app","body":"<p>when running a flutter project following error comes and running fails</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.ConnectException: Connection timed out: connect\n        at java.base/sun.nio.ch.Net.connect0(Native Method)\n        at java.base/sun.nio.ch.Net.connect(Net.java:579)\n        at java.base/sun.nio.ch.Net.connect(Net.java:568)\n        at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n        at java.base/java.net.Socket.connect(Socket.java:633)\n        at java.base/java.net.Socket.connect(Socket.java:583)\n        at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:590)\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:588)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n        at java.base/sun.net.www.http.HttpClient.privilegedOpenServer(HttpClient.java:587)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:631)\n        at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\n        at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:380)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:202)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1263)     \n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)      \n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:179)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1665)   \n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)    \n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\n        at org.gradle.wrapper.Download.downloadInternal(Download.java:58)\n        at org.gradle.wrapper.Download.download(Download.java:44)\n        at org.gradle.wrapper.Install$1.call(Install.java:61)\n        at org.gradle.wrapper.Install$1.call(Install.java:48)\n        at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\n        at org.gradle.wrapper.Install.createDist(Install.java:48)\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\nRunning Gradle task 'assembleDebug'...                             45.9s\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>I tried changing java version of my computer and I checked the connection but none of them works..</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1679497861,"post_id":75813824,"comment_id":133733367,"body_markdown":"Refer this - https://stackoverflow.com/questions/75718422/org-openqa-selenium-remote-http-connectionfailedexception-unable-to-establish-w","body":"Refer this - <a href=\"https://stackoverflow.com/questions/75718422/org-openqa-selenium-remote-http-connectionfailedexception-unable-to-establish-w\" title=\"org openqa selenium remote http connectionfailedexception unable to establish w\">stackoverflow.com/questions/75718422/&hellip;</a>"},{"owner":{"account_id":468289,"reputation":178225,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":0,"creation_date":1679566694,"post_id":75813824,"comment_id":133745926,"body_markdown":"Does this answer your question? [org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection Selenium ChromeDriver and Chrome v111](https://stackoverflow.com/questions/75718422/org-openqa-selenium-remote-http-connectionfailedexception-unable-to-establish-w)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75718422/org-openqa-selenium-remote-http-connectionfailedexception-unable-to-establish-w\">org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection Selenium ChromeDriver and Chrome v111</a>"}],"answers":[{"tags":[],"owner":{"account_id":28102140,"reputation":11,"user_id":21471146,"display_name":"Aleena"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679566494,"creation_date":1679566494,"answer_id":75821723,"question_id":75813824,"body_markdown":"https://www.youtube.com/watch?v=7ZdlSW4S7h4\r\njust add the argument for chrome, it will work. For me firefox issue still exists.\r\nChromeOptions options = new ChromeOptions();\r\n options.addArguments(&quot;--remote-allow-origins=*&quot;);","title":"Getting error for selenium - both for chrome &amp; firefox","body":"<p><a href=\"https://www.youtube.com/watch?v=7ZdlSW4S7h4\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=7ZdlSW4S7h4</a>\njust add the argument for chrome, it will work. For me firefox issue still exists.\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);</p>\n"},{"tags":[],"owner":{"account_id":28988631,"reputation":1,"user_id":22204937,"display_name":"Maku"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689007370,"creation_date":1689007323,"answer_id":76655751,"question_id":75813824,"body_markdown":"If you still having error, try adding argument options to ChromeDriver method. \r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        WebDriver driver = new ChromeDriver(options);","title":"Getting error for selenium - both for chrome &amp; firefox","body":"<p>If you still having error, try adding argument options to ChromeDriver method.</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--remote-allow-origins=*&quot;);\n    WebDriver driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":14186544,"reputation":1,"user_id":21456627,"display_name":"user184630"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689007370,"creation_date":1679496737,"question_id":75813824,"body_markdown":"I have gone through the available issues but not being able to identify the problem. Posting here to get help. OS - windows -10 browser - firefox - 107.0.1 selenium java - 4.8.1\r\n\r\ntesting for firefox - browser is not launching -\r\n\r\nCode:\r\n````\r\npackage demo;\r\n\r\nimport org.openqa.selenium.WebDriver; //import org.openqa.selenium.chrome.ChromeDriver; import org.openqa.selenium.firefox.FirefoxDriver;\r\n\r\npublic class FirstSeleniumTC {\r\n\r\npublic static void main(String[] args) {\r\n    \r\n    //System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\selenium-java\\\\chromeDriver\\\\chromedriver.exe&quot;);\r\n    //WebDriver driver = new ChromeDriver();\r\n    //driver.get(&quot;https://www.facebook.com/&quot;);\r\n    \r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\selenium-java\\\\firefoxDriver\\\\geckodriver.exe&quot;);\r\n    WebDriver driver = new FirefoxDriver();\r\n    driver.get(&quot;https://www.facebook.com/&quot;);\r\n    \r\n}\r\n````\r\nConsole Error:\r\n````\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. Host info: host: &#39;DESKTOP-QKEHO5U&#39;, ip: &#39;192.168.56.1&#39; at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561) at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229) at org.openqa.selenium.remote.RemoteWebDriver.(RemoteWebDriver.java:157) at org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:130) at org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:111) at org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:101) at demo.FirstSeleniumTC.main(FirstSeleniumTC.java:17) Caused by: org.openqa.selenium.WebDriverException: Timed out waiting for driver process to start. Build info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39; System info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.2&#39; Driver info: driver.version: FirefoxDriver at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:218) at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:98) at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543) ... 6 more\r\n````\r\nFor chrome - the browser is launched but the url is not used- showing as - not secure data-\r\n````\r\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 8431 Only local connections are allowed. Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe. ChromeDriver was started successfully. Mar 22, 2023 6:43:58 PM org.openqa.selenium.remote.http.WebSocket$Listener onError WARNING: Invalid Status code=403 text=Forbidden java.io.IOException: Invalid Status code=403 text=Forbidden at org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92) at org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118) at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333) at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454) at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:54687/devtools/browser/b8f002dc-36c4-48db-8c52-f3943bef0598 Build info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39; System info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.2&#39; Driver info: driver.version: ChromeDriver at org.openqa.selenium.remote.http.netty.NettyWebSocket.(NettyWebSocket.java:102) at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128) at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107) at org.openqa.selenium.devtools.Connection.(Connection.java:78) at org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116) at java.base/java.util.Optional.map(Optional.java:260) at org.openqa.selenium.chromium.ChromiumDriver.(ChromiumDriver.java:114) at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:82) at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:50) at demo.FirstSeleniumTC.main(FirstSeleniumTC.java:13)\r\n````\r\nPlease help. I am a beginner.","title":"Getting error for selenium - both for chrome &amp; firefox","body":"<p>I have gone through the available issues but not being able to identify the problem. Posting here to get help. OS - windows -10 browser - firefox - 107.0.1 selenium java - 4.8.1</p>\n<p>testing for firefox - browser is not launching -</p>\n<p>Code:</p>\n<pre><code>package demo;\n\nimport org.openqa.selenium.WebDriver; //import org.openqa.selenium.chrome.ChromeDriver; import org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class FirstSeleniumTC {\n\npublic static void main(String[] args) {\n    \n    //System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\selenium-java\\\\chromeDriver\\\\chromedriver.exe&quot;);\n    //WebDriver driver = new ChromeDriver();\n    //driver.get(&quot;https://www.facebook.com/&quot;);\n    \n    System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\selenium-java\\\\firefoxDriver\\\\geckodriver.exe&quot;);\n    WebDriver driver = new FirefoxDriver();\n    driver.get(&quot;https://www.facebook.com/&quot;);\n    \n}\n</code></pre>\n<p>Console Error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. Host info: host: 'DESKTOP-QKEHO5U', ip: '192.168.56.1' at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561) at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229) at org.openqa.selenium.remote.RemoteWebDriver.(RemoteWebDriver.java:157) at org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:130) at org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:111) at org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:101) at demo.FirstSeleniumTC.main(FirstSeleniumTC.java:17) Caused by: org.openqa.selenium.WebDriverException: Timed out waiting for driver process to start. Build info: version: '4.8.1', revision: '8ebccac989' System info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.2' Driver info: driver.version: FirefoxDriver at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:218) at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:98) at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543) ... 6 more\n</code></pre>\n<p>For chrome - the browser is launched but the url is not used- showing as - not secure data-</p>\n<pre><code>Starting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 8431 Only local connections are allowed. Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe. ChromeDriver was started successfully. Mar 22, 2023 6:43:58 PM org.openqa.selenium.remote.http.WebSocket$Listener onError WARNING: Invalid Status code=403 text=Forbidden java.io.IOException: Invalid Status code=403 text=Forbidden at org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92) at org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118) at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333) at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454) at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.base/java.lang.Thread.run(Thread.java:833)\n\nException in thread &quot;main&quot; org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:54687/devtools/browser/b8f002dc-36c4-48db-8c52-f3943bef0598 Build info: version: '4.8.1', revision: '8ebccac989' System info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.2' Driver info: driver.version: ChromeDriver at org.openqa.selenium.remote.http.netty.NettyWebSocket.(NettyWebSocket.java:102) at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128) at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107) at org.openqa.selenium.devtools.Connection.(Connection.java:78) at org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116) at java.base/java.util.Optional.map(Optional.java:260) at org.openqa.selenium.chromium.ChromiumDriver.(ChromiumDriver.java:114) at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:82) at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:50) at demo.FirstSeleniumTC.main(FirstSeleniumTC.java:13)\n</code></pre>\n<p>Please help. I am a beginner.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","amazon-emr","emr-serverless"],"answers":[{"tags":[],"owner":{"account_id":8894158,"reputation":129,"user_id":6639778,"display_name":"Shai Barak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689007115,"creation_date":1689007115,"answer_id":76655724,"question_id":76628542,"body_markdown":"For anyone encounter the same problem, i found the problem was quite simple - it appears that &#39;spark.setMaster(local[*])&#39; should only be used when you run locally and not to run on the cluster.","title":"Executors not seem to be created or scaling up on Spark Application on AWS EMR Serverless","body":"<p>For anyone encounter the same problem, i found the problem was quite simple - it appears that 'spark.setMaster(local[*])' should only be used when you run locally and not to run on the cluster.</p>\n"}],"owner":{"account_id":8894158,"reputation":129,"user_id":6639778,"display_name":"Shai Barak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76655724,"answer_count":1,"score":0,"last_activity_date":1689007115,"creation_date":1688644320,"question_id":76628542,"body_markdown":"I would appreciate your help with my problem.\r\n\r\nI&#39;m running a spark application on AWS EMR serverless with emr 6.11 release.\r\nI&#39;m using Spark 3.3.2 with java 17, with configuration: maximum recourses of 200 vCPU and 1600gb memory.\r\nMy application is structured to read records from s3 and saving into a broadcast variable,\r\nThen have reading some other records from s3 and iterating over them with parallelize rdd\r\nand checking them against the first records, and saving them at last.\r\nTo simplify it is something like this :\r\n\r\n```java\r\nDataset&lt;Row&gt; groupA = readAllRecords();\r\ngroupA = manipulateData(groupA);\r\nDataset&lt;Row&gt; groupB = readAllRecords();\r\n\r\ngroupB.parallelize( recordB -&gt; {\r\n   checkRecord(groupA, recordB) \r\n   saveRecord(record)      \r\n});\r\n```\r\nMy problem is I don&#39;t see in any stage that spark is scaling up any executors,\r\nalthough I have heavy workloads.\r\n\r\nThis is my dashboard : \r\n[![cloudwatch dashboard](https://i.stack.imgur.com/EDuxU.jpg)](https://i.stack.imgur.com/EDuxU.jpg)\r\nServer UI history while running local:\r\n[![Server UI history](https://i.stack.imgur.com/GL05a.jpg)](https://i.stack.imgur.com/GL05a.jpg)\r\n\r\nIs it possible it is all running on the driver ? \r\nwhat it is i don&#39;t see ?\r\n\r\nPlease let me know if more information is needed.\r\nI attached some of the log at start of the app.\r\nI noticed this error : \r\n\r\n`Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.apache.spark.storage.BlockManagerId.executorId()&quot; because &quot;idWithoutTopologyInfo&quot; is null`\r\n\r\nbut it is ignored and i&#39;m not sure it&#39;s related.\r\n\r\n&gt; ``` 23/07/05 11:17:44 INFO SparkContext: Running Spark version\r\n&gt; 3.3.2-amzn-0 23/07/05 11:17:44 INFO ResourceUtils: ============================================================== 23/07/05 11:17:44 INFO ResourceUtils: No custom resources configured\r\n&gt; for spark.driver. 23/07/05 11:17:44 INFO ResourceUtils:\r\n&gt; ============================================================== 23/07/05 11:17:44 INFO SparkContext: Submitted application: FusionApp\r\n&gt; 23/07/05 11:17:44 INFO ResourceProfile: Default ResourceProfile\r\n&gt; created, executor resources: Map(cores -&gt; name: cores, amount: 4,\r\n&gt; script: , vendor: , memory -&gt; name: memory, amount: 14336, script: ,\r\n&gt; vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ),\r\n&gt; task resources: Map(cpus -&gt; name: cpus, amount: 1.0) 23/07/05 11:17:44\r\n&gt; INFO ResourceProfile: Limiting resource is cpus at 4 tasks per\r\n&gt; executor 23/07/05 11:17:44 INFO ResourceProfileManager: Added\r\n&gt; ResourceProfile id: 0 23/07/05 11:17:44 INFO SecurityManager: Changing\r\n&gt; view acls to: hadoop 23/07/05 11:17:44 INFO SecurityManager: Changing\r\n&gt; modify acls to: hadoop 23/07/05 11:17:44 INFO SecurityManager:\r\n&gt; Changing view acls groups to:  23/07/05 11:17:44 INFO SecurityManager:\r\n&gt; Changing modify acls groups to:  23/07/05 11:17:44 INFO\r\n&gt; SecurityManager: SecurityManager: authentication enabled; ui acls\r\n&gt; disabled; users  with view permissions: Set(hadoop); groups with view\r\n&gt; permissions: Set(); users  with modify permissions: Set(hadoop);\r\n&gt; groups with modify permissions: Set() 23/07/05 11:17:45 INFO Utils:\r\n&gt; Successfully started service &#39;sparkDriver&#39; on port 41285. 23/07/05\r\n&gt; 11:17:45 INFO SparkEnv: Registering MapOutputTracker 23/07/05 11:17:45\r\n&gt; INFO SparkEnv: Registering BlockManagerMaster 23/07/05 11:17:45 INFO\r\n&gt; BlockManagerMasterEndpoint: Using\r\n&gt; org.apache.spark.storage.DefaultTopologyMapper for getting topology\r\n&gt; information 23/07/05 11:17:45 INFO BlockManagerMasterEndpoint:\r\n&gt; BlockManagerMasterEndpoint up 23/07/05 11:17:45 INFO SparkEnv:\r\n&gt; Registering BlockManagerMasterHeartbeat 23/07/05 11:17:45 INFO\r\n&gt; DiskBlockManager: Created local directory at\r\n&gt; /tmp/blockmgr-98a76adc-5862-4053-93a5-584fec796959 23/07/05 11:17:45\r\n&gt; INFO MemoryStore: MemoryStore started with capacity 8.2 GiB 23/07/05\r\n&gt; 11:17:45 INFO SparkEnv: Registering OutputCommitCoordinator 23/07/05\r\n&gt; 11:17:45 INFO SubResultCacheManager: Sub-result caches are disabled.\r\n&gt; 23/07/05 11:17:45 INFO Utils: Successfully started service &#39;SparkUI&#39;\r\n&gt; on port 4040. 23/07/05 11:17:45 INFO SparkContext: Added JAR\r\n&gt; s3://jobjars/fusion/fusion-job-1.0.0--29114-SNAPSHOT-jar-with-dependencies.jar\r\n&gt; at\r\n&gt; s3://jobjars/fusion/fusion-job-1.0.0-29114-SNAPSHOT-jar-with-dependencies.jar\r\n&gt; with timestamp 1688555864852 23/07/05 11:17:45 INFO Executor: Starting\r\n&gt; executor ID driver on host ip-172-31.ec2.internal 23/07/05 11:17:45\r\n&gt; INFO Executor: Starting executor with user classpath\r\n&gt; (userClassPathFirst = false):\r\n&gt; &#39;file:/usr/lib/hadoop-lzo/lib/*,file:/usr/lib/hadoop/hadoop-aws.jar,file:/usr/share/aws/aws-java-sdk/*,file:/usr/share/aws/emr/emrfs/conf/,file:/usr/share/aws/emr/emrfs/lib/*,file:/usr/share/aws/emr/emrfs/auxlib/*,file:/usr/share/aws/emr/goodies/lib/emr-spark-goodies.jar,file:/usr/share/aws/emr/goodies/lib/emr-serverless-spark-goodies.jar,file:/usr/share/aws/emr/security/conf,file:/usr/share/aws/emr/security/lib/*,file:/usr/share/aws/hmclient/lib/aws-glue-datacatalog-spark-client.jar,file:/usr/share/java/Hive-JSON-Serde/hive-openx-serde.jar,file:/usr/share/aws/sagemaker-spark-sdk/lib/sagemaker-spark-sdk.jar,file:/usr/share/aws/emr/s3select/lib/emr-s3-select-spark-connector.jar,file:/docker/usr/lib/hadoop-lzo/lib/*,file:/docker/usr/lib/hadoop/hadoop-aws.jar,file:/docker/usr/share/aws/aws-java-sdk/*,file:/docker/usr/share/aws/emr/emrfs/conf,file:/docker/usr/share/aws/emr/emrfs/lib/*,file:/docker/usr/share/aws/emr/emrfs/auxlib/*,file:/docker/usr/share/aws/emr/goodies/lib/emr-spark-goodies.jar,file:/docker/usr/share/aws/emr/security/conf,file:/docker/usr/share/aws/emr/security/lib/*,file:/docker/usr/share/aws/hmclient/lib/aws-glue-datacatalog-spark-client.jar,file:/docker/usr/share/java/Hive-JSON-Serde/hive-openx-serde.jar,file:/docker/usr/share/aws/sagemaker-spark-sdk/lib/sagemaker-spark-sdk.jar,file:/docker/usr/share/aws/emr/s3select/lib/emr-s3-select-spark-connector.jar,file:/usr/share/aws/redshift/jdbc/RedshiftJDBC.jar,file:/usr/share/aws/redshift/spark-redshift/lib/*,file:/home/hadoop/conf,file:/home/hadoop/emr-serverless-spark-goodies.jar,file:/home/hadoop/emr-spark-goodies.jar,file:/home/hadoop/*,file:/home/hadoop/aws-glue-datacatalog-spark-client.jar,file:/home/hadoop/hive-openx-serde.jar,file:/home/hadoop/sagemaker-spark-sdk.jar,file:/home/hadoop/hadoop-aws.jar,file:/home/hadoop/RedshiftJDBC.jar,file:/home/hadoop/emr-s3-select-spark-connector.jar&#39;\r\n&gt; 23/07/05 11:17:45 INFO Executor: Fetching\r\n&gt; s3://jobjars-/fusion/yyyy-fusion-job-1.0.0--29114-SNAPSHOT-jar-with-dependencies.jar\r\n&gt; with timestamp 1688555864852 23/07/05 11:17:45 INFO\r\n&gt; S3NativeFileSystem: Opening\r\n&gt; &#39;s3://jobjars-29114/fusion/xxx-fusion-job-1.0.0--29114-SNAPSHOT-jar-with-dependencies.jar&#39;\r\n&gt; for reading 23/07/05 11:17:45 INFO Utils: Fetching\r\n&gt; s3://jobjars-/fusion/fusion-job-1.0.0--29114-SNAPSHOT-jar-with-dependencies.jar\r\n&gt; to\r\n&gt; /tmp/spark-fd0b8589-fbd6-4b4a-b69f-98955f2f906f/userFiles-7edecef0-92cd-46c4-9ca8-bdabe9c64f86/fetchFileTemp15434886852656050499.tmp\r\n&gt; 23/07/05 11:17:57 INFO Executor: Told to re-register on heartbeat\r\n&gt; 23/07/05 11:17:57 INFO BlockManager: BlockManager null re-registering\r\n&gt; with master 23/07/05 11:17:57 INFO BlockManagerMaster: Registering\r\n&gt; BlockManager null 23/07/05 11:17:57 WARN Executor: Issue communicating\r\n&gt; with driver in heartbeater org.apache.spark.SparkException: Exception\r\n&gt; thrown in awaitResult:  \tat\r\n&gt; org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.rpc.RpcEndpointRef.askSync(RpcEndpointRef.scala:103)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.rpc.RpcEndpointRef.askSync(RpcEndpointRef.scala:87)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.storage.BlockManagerMaster.registerBlockManager(BlockManagerMaster.scala:89)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.storage.BlockManager.reregister(BlockManager.scala:643)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.executor.Executor.reportHeartBeat(Executor.scala:1057)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.executor.Executor.$anonfun$heartbeater$1(Executor.scala:238)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n&gt; ~[scala-library-2.12.15.jar:?] \tat\r\n&gt; org.apache.spark.util.Utils$.logUncaughtExceptions(Utils.scala:2100)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.Heartbeater$$anon$1.run(Heartbeater.scala:46)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n&gt; ~[?:?] \tat\r\n&gt; java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n&gt; ~[?:?] \tat\r\n&gt; java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n&gt; ~[?:?] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; ~[?:?] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; ~[?:?] \tat java.lang.Thread.run(Thread.java:833) ~[?:?] Caused by:\r\n&gt; java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;org.apache.spark.storage.BlockManagerId.executorId()&quot; because\r\n&gt; &quot;idWithoutTopologyInfo&quot; is null \tat\r\n&gt; org.apache.spark.storage.BlockManagerMasterEndpoint.org$apache$spark$storage$BlockManagerMasterEndpoint$$register(BlockManagerMasterEndpoint.scala:591)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.storage.BlockManagerMasterEndpoint$$anonfun$receiveAndReply$1.applyOrElse(BlockManagerMasterEndpoint.scala:123)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.rpc.netty.Inbox.$anonfun$process$1(Inbox.scala:103)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.rpc.netty.Inbox.safelyCall(Inbox.scala:213)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.rpc.netty.Inbox.process(Inbox.scala:100)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.rpc.netty.MessageLoop.org$apache$spark$rpc$netty$MessageLoop$$receiveLoop(MessageLoop.scala:75)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.rpc.netty.MessageLoop$$anon$1.run(MessageLoop.scala:41)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n&gt; ~[?:?] \tat java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; ~[?:?] 3 more 23/07/05 11:17:57 ERROR Inbox: Ignoring error\r\n&gt; java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;org.apache.spark.storage.BlockManagerId.executorId()&quot; because\r\n&gt; &quot;idWithoutTopologyInfo&quot; is null \tat\r\n&gt; org.apache.spark.storage.BlockManagerMasterEndpoint.org$apache$spark$storage$BlockManagerMasterEndpoint$$register(BlockManagerMasterEndpoint.scala:591)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.storage.BlockManagerMasterEndpoint$$anonfun$receiveAndReply$1.applyOrElse(BlockManagerMasterEndpoint.scala:123)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.rpc.netty.Inbox.$anonfun$process$1(Inbox.scala:103)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.rpc.netty.Inbox.safelyCall(Inbox.scala:213)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.rpc.netty.Inbox.process(Inbox.scala:100)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.rpc.netty.MessageLoop.org$apache$spark$rpc$netty$MessageLoop$$receiveLoop(MessageLoop.scala:75)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; org.apache.spark.rpc.netty.MessageLoop$$anon$1.run(MessageLoop.scala:41)\r\n&gt; ~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0] \tat\r\n&gt; java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n&gt; ~[?:?] \tat java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; ~[?:?] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; ~[?:?] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; ~[?:?] \tat java.lang.Thread.run(Thread.java:833) ~[?:?] 23/07/05\r\n&gt; 11:18:00 INFO Executor: Adding\r\n&gt; file:/tmp/spark-fd0b8589-fbd6-4b4a-b69f-98955f2f906f/userFiles-92cd-46c4-9ca8-/fusion-job-1.0.0-29114-SNAPSHOT-jar-with-dependencies.jar\r\n&gt; to class loader 23/07/05 11:18:00 INFO Utils: Successfully started\r\n&gt; service &#39;org.apache.spark.network.netty.NettyBlockTransferService&#39; on\r\n&gt; port 35657. 23/07/05 11:18:00 INFO NettyBlockTransferService: Server\r\n&gt; created on [2600:1f18:6a92:2601:18f2:3af:f80f:4dab]:35657 23/07/05\r\n&gt; 11:18:00 INFO BlockManager: Using\r\n&gt; org.apache.spark.storage.RandomBlockReplicationPolicy for block\r\n&gt; replication policy 23/07/05 11:18:00 INFO BlockManagerMaster:\r\n&gt; Registering BlockManager BlockManagerId(driver,\r\n&gt; [2600:1f18:6a92:2601:18f2:3af:f80f:4dab], 35657, None) 23/07/05\r\n&gt; 11:18:00 INFO BlockManagerMasterEndpoint: Registering block manager\r\n&gt; [2600:1f18:6a92:2601:18f2:3af:f80f:4dab]:35657 with 8.2 GiB RAM,\r\n&gt; BlockManagerId(driver, [2600:1f18:6a92:2601:18f2:3af:f80f:4dab],\r\n&gt; 35657, None) 23/07/05 11:18:00 INFO BlockManagerMaster: Registered\r\n&gt; BlockManager BlockManagerId(driver,\r\n&gt; [2600:1f18:6a92:2601:18f2:3af:f80f:4dab], 35657, None) 23/07/05\r\n&gt; 11:18:00 INFO BlockManager: Initialized BlockManager:\r\n&gt; BlockManagerId(driver, [2600:1f18:6a92:2601:18f2:3af:f80f:4dab],\r\n&gt; 35657, None) 23/07/05 11:18:00 INFO SingleEventLogFileWriter: Logging\r\n&gt; events to file:/var/log/spark/apps/local-1688555865619.inprogress\r\n&gt; 23/07/05 11:18:00 INFO SharedState: Setting\r\n&gt; hive.metastore.warehouse.dir (&#39;null&#39;) to the value of\r\n&gt; spark.sql.warehouse.dir. 23/07/05 11:18:00 INFO SharedState: Warehouse\r\n&gt; path is &#39;file:/home/hadoop/spark-warehouse&#39;. 23/07/05 11:18:01 INFO\r\n&gt; MemoryStore: Block broadcast_0 stored as values in memory (estimated\r\n&gt; size 72.0 B, free 8.2 GiB) 23/07/05 11:18:01 INFO MemoryStore: Block\r\n&gt; broadcast_0_piece0 stored as bytes in memory (estimated size 124.0 B,\r\n&gt; free 8.2 GiB) 23/07/05 11:18:01 INFO BlockManagerInfo: Added\r\n&gt; broadcast_0_piece0 in memory on\r\n&gt; [2600:1f18:6a92:2601:18f2:3af:f80f:4dab]:35657 (size: 124.0 B, free:\r\n&gt; 8.2 GiB) 23/07/05 11:18:01 INFO SparkContext: Created broadcast 0 from broadcast at Transformer.java:76 23/07/05 11:18:01 INFO MemoryStore:\r\n&gt; Block broadcast_1 stored as values in memory (estimated size 168.0 B,\r\n&gt; free 8.2 GiB) 23/07/05 11:18:01 INFO MemoryStore: Block\r\n&gt; broadcast_1_piece0 stored as bytes in memory (estimated size 304.0 B,\r\n&gt; free 8.2 GiB) 23/07/05 11:18:01 INFO BlockManagerInfo: Added\r\n&gt; broadcast_1_piece0 in memory on\r\n&gt; [2600:1f18:6a92:2601:18f2:3af:f80f:4dab]:35657 (size: 304.0 B, free:\r\n&gt; 8.2 GiB) 23/07/05 11:18:01 INFO SparkContext: Created broadcast 1 from broadcast at Transformer.java:80 23/07/05 11:18:02 INFO SparkContext:\r\n&gt; Starting job: collect at Transformer.java:123 23/07/05 11:18:02 INFO\r\n&gt; DAGScheduler: Got job 0 (collect at Transformer.java:123) with 52\r\n&gt; output partitions 23/07/05 11:18:02 INFO DAGScheduler: Final stage:\r\n&gt; ResultStage 0 (collect at Transformer.java:123) 23/07/05 11:18:02 INFO\r\n&gt; DAGScheduler: Parents of final stage: List() 23/07/05 11:18:02 INFO\r\n&gt; DAGScheduler: Missing parents: List() 23/07/05 11:18:02 INFO\r\n&gt; DAGScheduler: Submitting ResultStage 0 (ParallelCollectionRDD[0] at\r\n&gt; parallelize at Transformer.java:122), which has no missing parents\r\n&gt; 23/07/05 11:18:02 INFO MemoryStore: Block broadcast_2 stored as values\r\n&gt; in memory (estimated size 3.2 KiB, free 8.2 GiB) 23/07/05 11:18:02\r\n&gt; INFO MemoryStore: Block broadcast_2_piece0 stored as bytes in memory\r\n&gt; (estimated size 1899.0 B, free 8.2 GiB) 23/07/05 11:18:02 INFO\r\n&gt; BlockManagerInfo: Added broadcast_2_piece0 in memory on\r\n&gt; [2600:1f18:6a92:2601:18f2:3af:f80f:4dab]:35657 (size: 1899.0 B, free:\r\n&gt; 8.2 GiB) 23/07/05 11:18:02 INFO SparkContext: Created broadcast 2 from broadcast at DAGScheduler.scala:1570 23/07/05 11:18:02 INFO\r\n&gt; DAGScheduler: Submitting 52 missing tasks from ResultStage 0\r\n&gt; (ParallelCollectionRDD[0] at parallelize at Transformer.java:122)\r\n&gt; (first 15 tasks are for partitions Vector(0, 1, 2, 3, 4, 5, 6, 7, 8,\r\n&gt; 9, 10, 11, 12, 13, 14)) 23/07/05 11:18:02 INFO TaskSchedulerImpl:\r\n&gt; Adding task set 0.0 with 52 tasks resource profile 0 23/07/05 11:18:02\r\n&gt; INFO TaskSetManager: Starting task 0.0 in stage 0.0 (TID 0)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 0, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; TaskSetManager: Starting task 1.0 in stage 0.0 (TID 1)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 1, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; TaskSetManager: Starting task 2.0 in stage 0.0 (TID 2)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 2, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; TaskSetManager: Starting task 3.0 in stage 0.0 (TID 3)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 3, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; Executor: Running task 1.0 in stage 0.0 (TID 1) 23/07/05 11:18:02 INFO\r\n&gt; Executor: Running task 2.0 in stage 0.0 (TID 2) 23/07/05 11:18:02 INFO\r\n&gt; Executor: Running task 3.0 in stage 0.0 (TID 3) 23/07/05 11:18:02 INFO\r\n&gt; Executor: Running task 0.0 in stage 0.0 (TID 0) 23/07/05 11:18:02 INFO\r\n&gt; Executor: Finished task 2.0 in stage 0.0 (TID 2). 1496 bytes result\r\n&gt; sent to driver 23/07/05 11:18:02 INFO Executor: Finished task 3.0 in\r\n&gt; stage 0.0 (TID 3). 1496 bytes result sent to driver 23/07/05 11:18:02\r\n&gt; INFO Executor: Finished task 0.0 in stage 0.0 (TID 0). 1496 bytes\r\n&gt; result sent to driver 23/07/05 11:18:02 INFO TaskSetManager: Starting\r\n&gt; task 4.0 in stage 0.0 (TID 4) (ip-172-31.ec2.internal, executor\r\n&gt; driver, partition 4, PROCESS_LOCAL, 5097 bytes)\r\n&gt; taskResourceAssignments Map() 23/07/05 11:18:02 INFO Executor: Running\r\n&gt; task 4.0 in stage 0.0 (TID 4) 23/07/05 11:18:02 INFO Executor:\r\n&gt; Finished task 1.0 in stage 0.0 (TID 1). 1496 bytes result sent to\r\n&gt; driver 23/07/05 11:18:02 INFO Executor: Finished task 4.0 in stage 0.0\r\n&gt; (TID 4). 1496 bytes result sent to driver 23/07/05 11:18:02 INFO\r\n&gt; TaskSetManager: Starting task 5.0 in stage 0.0 (TID 5)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 5, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; Executor: Running task 5.0 in stage 0.0 (TID 5) 23/07/05 11:18:02 INFO\r\n&gt; Executor: Finished task 5.0 in stage 0.0 (TID 5). 1496 bytes result\r\n&gt; sent to driver 23/07/05 11:18:02 INFO TaskSetManager: Starting task\r\n&gt; 6.0 in stage 0.0 (TID 6) (ip-172-31.ec2.internal, executor driver, partition 6, PROCESS_LOCAL, 5097 bytes) taskResourceAssignments Map()\r\n&gt; 23/07/05 11:18:02 INFO Executor: Running task 6.0 in stage 0.0 (TID 6)\r\n&gt; 23/07/05 11:18:02 INFO TaskSetManager: Starting task 7.0 in stage 0.0\r\n&gt; (TID 7) (ip-172-31.ec2.internal, executor driver, partition 7,\r\n&gt; PROCESS_LOCAL, 5097 bytes) taskResourceAssignments Map() 23/07/05\r\n&gt; 11:18:02 INFO Executor: Running task 7.0 in stage 0.0 (TID 7) 23/07/05\r\n&gt; 11:18:02 INFO TaskSetManager: Starting task 8.0 in stage 0.0 (TID 8)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 8, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; Executor: Running task 8.0 in stage 0.0 (TID 8) 23/07/05 11:18:02 INFO\r\n&gt; TaskSetManager: Starting task 9.0 in stage 0.0 (TID 9)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 9, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; Executor: Finished task 6.0 in stage 0.0 (TID 6). 1496 bytes result\r\n&gt; sent to driver 23/07/05 11:18:02 INFO Executor: Running task 9.0 in\r\n&gt; stage 0.0 (TID 9) 23/07/05 11:18:02 INFO TaskSetManager: Starting task\r\n&gt; 10.0 in stage 0.0 (TID 10) (ip-172-31.ec2.internal, executor driver, partition 10, PROCESS_LOCAL, 5097 bytes) taskResourceAssignments Map()\r\n&gt; 23/07/05 11:18:02 INFO Executor: Running task 10.0 in stage 0.0 (TID\r\n&gt; 10) 23/07/05 11:18:02 INFO TaskSetManager: Finished task 0.0 in stage\r\n&gt; 0.0 (TID 0) in 143 ms on ip-172-31.ec2.internal (executor driver) (1/52) 23/07/05 11:18:02 INFO TaskSetManager: Finished task 3.0 in\r\n&gt; stage 0.0 (TID 3) in 122 ms on ip-172-31.ec2.internal (executor\r\n&gt; driver) (2/52) 23/07/05 11:18:02 INFO TaskSetManager: Finished task\r\n&gt; 4.0 in stage 0.0 (TID 4) in 33 ms on ip-172-31.ec2.internal (executor driver) (3/52) 23/07/05 11:18:02 INFO Executor: Finished task 9.0 in\r\n&gt; stage 0.0 (TID 9). 1496 bytes result sent to driver 23/07/05 11:18:02\r\n&gt; INFO TaskSetManager: Finished task 5.0 in stage 0.0 (TID 5) in 25 ms\r\n&gt; on ip-172-31.ec2.internal (executor driver) (4/52) 23/07/05 11:18:02\r\n&gt; INFO TaskSetManager: Finished task 2.0 in stage 0.0 (TID 2) in 124 ms\r\n&gt; on ip-172-31.ec2.internal (executor driver) (5/52) 23/07/05 11:18:02\r\n&gt; INFO Executor: Finished task 10.0 in stage 0.0 (TID 10). 1496 bytes\r\n&gt; result sent to driver 23/07/05 11:18:02 INFO Executor: Finished task\r\n&gt; 8.0 in stage 0.0 (TID 8). 1496 bytes result sent to driver 23/07/05 11:18:02 INFO TaskSetManager: Finished task 1.0 in stage 0.0 (TID 1)\r\n&gt; in 140 ms on ip-172-31.ec2.internal (executor driver) (6/52) 23/07/05\r\n&gt; 11:18:02 INFO TaskSetManager: Starting task 11.0 in stage 0.0 (TID 11)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 11, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; Executor: Running task 11.0 in stage 0.0 (TID 11) 23/07/05 11:18:02\r\n&gt; INFO Executor: Finished task 7.0 in stage 0.0 (TID 7). 1496 bytes\r\n&gt; result sent to driver 23/07/05 11:18:02 INFO TaskSetManager: Finished\r\n&gt; task 6.0 in stage 0.0 (TID 6) in 34 ms on ip-172-31.ec2.internal\r\n&gt; (executor driver) (7/52) 23/07/05 11:18:02 INFO Executor: Finished\r\n&gt; task 11.0 in stage 0.0 (TID 11). 1496 bytes result sent to driver\r\n&gt; 23/07/05 11:18:02 INFO TaskSetManager: Starting task 12.0 in stage 0.0\r\n&gt; (TID 12) (ip-172-31.ec2.internal, executor driver, partition 12,\r\n&gt; PROCESS_LOCAL, 5097 bytes) taskResourceAssignments Map() 23/07/05\r\n&gt; 11:18:02 INFO TaskSetManager: Finished task 9.0 in stage 0.0 (TID 9)\r\n&gt; in 30 ms on ip-172-31.ec2.internal (executor driver) (8/52) 23/07/05\r\n&gt; 11:18:02 INFO TaskSetManager: Finished task 10.0 in stage 0.0 (TID 10)\r\n&gt; in 29 ms on ip-172-31.ec2.internal (executor driver) (9/52) 23/07/05\r\n&gt; 11:18:02 INFO Executor: Running task 12.0 in stage 0.0 (TID 12)\r\n&gt; 23/07/05 11:18:02 INFO TaskSetManager: Starting task 13.0 in stage 0.0\r\n&gt; (TID 13) (ip-172-31.ec2.internal, executor driver, partition 13,\r\n&gt; PROCESS_LOCAL, 5097 bytes) taskResourceAssignments Map() 23/07/05\r\n&gt; 11:18:02 INFO Executor: Finished task 12.0 in stage 0.0 (TID 12). 1496\r\n&gt; bytes result sent to driver 23/07/05 11:18:02 INFO Executor: Running\r\n&gt; task 13.0 in stage 0.0 (TID 13) 23/07/05 11:18:02 INFO TaskSetManager:\r\n&gt; Finished task 8.0 in stage 0.0 (TID 8) in 39 ms on\r\n&gt; ip-172-31.ec2.internal (executor driver) (10/52) 23/07/05 11:18:02\r\n&gt; INFO TaskSetManager: Finished task 7.0 in stage 0.0 (TID 7) in 42 ms\r\n&gt; on ip-172-31.ec2.internal (executor driver) (11/52) 23/07/05 11:18:02\r\n&gt; INFO TaskSetManager: Starting task 14.0 in stage 0.0 (TID 14)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 14, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; Executor: Finished task 13.0 in stage 0.0 (TID 13). 1496 bytes result\r\n&gt; sent to driver 23/07/05 11:18:02 INFO Executor: Running task 14.0 in\r\n&gt; stage 0.0 (TID 14) 23/07/05 11:18:02 INFO TaskSetManager: Starting\r\n&gt; task 15.0 in stage 0.0 (TID 15) (ip-172-31.ec2.internal, executor\r\n&gt; driver, partition 15, PROCESS_LOCAL, 5097 bytes)\r\n&gt; taskResourceAssignments Map() 23/07/05 11:18:02 INFO Executor: Running\r\n&gt; task 15.0 in stage 0.0 (TID 15) 23/07/05 11:18:02 INFO TaskSetManager:\r\n&gt; Finished task 11.0 in stage 0.0 (TID 11) in 21 ms on\r\n&gt; ip-172-31.ec2.internal (executor driver) (12/52) 23/07/05 11:18:02\r\n&gt; INFO Executor: Finished task 14.0 in stage 0.0 (TID 14). 1496 bytes\r\n&gt; result sent to driver 23/07/05 11:18:02 INFO Executor: Finished task\r\n&gt; 15.0 in stage 0.0 (TID 15). 1496 bytes result sent to driver 23/07/05 11:18:02 INFO TaskSetManager: Starting task 16.0 in stage 0.0 (TID 16)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 16, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; TaskSetManager: Finished task 12.0 in stage 0.0 (TID 12) in 24 ms on\r\n&gt; ip-172-31.ec2.internal (executor driver) (13/52) 23/07/05 11:18:02\r\n&gt; INFO TaskSetManager: Finished task 13.0 in stage 0.0 (TID 13) in 18 ms\r\n&gt; on ip-172-31.ec2.internal (executor driver) (14/52) 23/07/05 11:18:02\r\n&gt; INFO Executor: Running task 16.0 in stage 0.0 (TID 16) 23/07/05\r\n&gt; 11:18:02 INFO TaskSetManager: Starting task 17.0 in stage 0.0 (TID 17)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 17, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; Executor: Finished task 16.0 in stage 0.0 (TID 16). 1496 bytes result\r\n&gt; sent to driver 23/07/05 11:18:02 INFO TaskSetManager: Starting task\r\n&gt; 18.0 in stage 0.0 (TID 18) (ip-172-31.ec2.internal, executor driver, partition 18, PROCESS_LOCAL, 5097 bytes) taskResourceAssignments Map()\r\n&gt; 23/07/05 11:18:02 INFO Executor: Running task 18.0 in stage 0.0 (TID\r\n&gt; 18) 23/07/05 11:18:02 INFO TaskSetManager: Finished task 14.0 in stage\r\n&gt; 0.0 (TID 14) in 20 ms on ip-172-31.ec2.internal (executor driver) (15/52) 23/07/05 11:18:02 INFO Executor: Finished task 18.0 in stage\r\n&gt; 0.0 (TID 18). 1496 bytes result sent to driver 23/07/05 11:18:02 INFO TaskSetManager: Finished task 15.0 in stage 0.0 (TID 15) in 22 ms on\r\n&gt; ip-172-31.ec2.internal (executor driver) (16/52) 23/07/05 11:18:02\r\n&gt; INFO Executor: Running task 17.0 in stage 0.0 (TID 17) 23/07/05\r\n&gt; 11:18:02 INFO TaskSetManager: Starting task 19.0 in stage 0.0 (TID 19)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 19, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; Executor: Running task 19.0 in stage 0.0 (TID 19) 23/07/05 11:18:02\r\n&gt; INFO TaskSetManager: Finished task 16.0 in stage 0.0 (TID 16) in 16 ms\r\n&gt; on ip-172-31.ec2.internal (executor driver) (17/52) 23/07/05 11:18:02\r\n&gt; INFO TaskSetManager: Starting task 20.0 in stage 0.0 (TID 20)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 20, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; Executor: Running task 20.0 in stage 0.0 (TID 20) 23/07/05 11:18:02\r\n&gt; INFO TaskSetManager: Starting task 21.0 in stage 0.0 (TID 21)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 21, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; Executor: Finished task 17.0 in stage 0.0 (TID 17). 1496 bytes result\r\n&gt; sent to driver 23/07/05 11:18:02 INFO Executor: Finished task 19.0 in\r\n&gt; stage 0.0 (TID 19). 1453 bytes result sent to driver 23/07/05 11:18:02\r\n&gt; INFO Executor: Running task 21.0 in stage 0.0 (TID 21) 23/07/05\r\n&gt; 11:18:02 INFO TaskSetManager: Starting task 22.0 in stage 0.0 (TID 22)\r\n&gt; (ip-172-31.ec2.internal, executor driver, partition 22, PROCESS_LOCAL,\r\n&gt; 5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\r\n&gt; Executor: Running task 22.0 in stage 0.0 (TID 22) ```\r\n\r\n\r\nAny insight would be precious :)\r\nThanks a lot!\r\n\r\n\r\nI already was trying to add executors.instances and dynamicAllocation = true \r\nalso tried Dataset recordsDF.repartition(100) for example","title":"Executors not seem to be created or scaling up on Spark Application on AWS EMR Serverless","body":"<p>I would appreciate your help with my problem.</p>\n<p>I'm running a spark application on AWS EMR serverless with emr 6.11 release.\nI'm using Spark 3.3.2 with java 17, with configuration: maximum recourses of 200 vCPU and 1600gb memory.\nMy application is structured to read records from s3 and saving into a broadcast variable,\nThen have reading some other records from s3 and iterating over them with parallelize rdd\nand checking them against the first records, and saving them at last.\nTo simplify it is something like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Dataset&lt;Row&gt; groupA = readAllRecords();\ngroupA = manipulateData(groupA);\nDataset&lt;Row&gt; groupB = readAllRecords();\n\ngroupB.parallelize( recordB -&gt; {\n   checkRecord(groupA, recordB) \n   saveRecord(record)      \n});\n</code></pre>\n<p>My problem is I don't see in any stage that spark is scaling up any executors,\nalthough I have heavy workloads.</p>\n<p>This is my dashboard :\n<a href=\"https://i.stack.imgur.com/EDuxU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EDuxU.jpg\" alt=\"cloudwatch dashboard\" /></a>\nServer UI history while running local:\n<a href=\"https://i.stack.imgur.com/GL05a.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GL05a.jpg\" alt=\"Server UI history\" /></a></p>\n<p>Is it possible it is all running on the driver ?\nwhat it is i don't see ?</p>\n<p>Please let me know if more information is needed.\nI attached some of the log at start of the app.\nI noticed this error :</p>\n<p><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.apache.spark.storage.BlockManagerId.executorId()&quot; because &quot;idWithoutTopologyInfo&quot; is null</code></p>\n<p>but it is ignored and i'm not sure it's related.</p>\n<blockquote>\n<pre><code>3.3.2-amzn-0 23/07/05 11:17:44 INFO ResourceUtils: ============================================================== 23/07/05 11:17:44 INFO ResourceUtils: No custom resources configured\nfor spark.driver. 23/07/05 11:17:44 INFO ResourceUtils:\n============================================================== 23/07/05 11:17:44 INFO SparkContext: Submitted application: FusionApp\n23/07/05 11:17:44 INFO ResourceProfile: Default ResourceProfile\ncreated, executor resources: Map(cores -&gt; name: cores, amount: 4,\nscript: , vendor: , memory -&gt; name: memory, amount: 14336, script: ,\nvendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ),\ntask resources: Map(cpus -&gt; name: cpus, amount: 1.0) 23/07/05 11:17:44\nINFO ResourceProfile: Limiting resource is cpus at 4 tasks per\nexecutor 23/07/05 11:17:44 INFO ResourceProfileManager: Added\nResourceProfile id: 0 23/07/05 11:17:44 INFO SecurityManager: Changing\nview acls to: hadoop 23/07/05 11:17:44 INFO SecurityManager: Changing\nmodify acls to: hadoop 23/07/05 11:17:44 INFO SecurityManager:\nChanging view acls groups to:  23/07/05 11:17:44 INFO SecurityManager:\nChanging modify acls groups to:  23/07/05 11:17:44 INFO\nSecurityManager: SecurityManager: authentication enabled; ui acls\ndisabled; users  with view permissions: Set(hadoop); groups with view\npermissions: Set(); users  with modify permissions: Set(hadoop);\ngroups with modify permissions: Set() 23/07/05 11:17:45 INFO Utils:\nSuccessfully started service 'sparkDriver' on port 41285. 23/07/05\n11:17:45 INFO SparkEnv: Registering MapOutputTracker 23/07/05 11:17:45\nINFO SparkEnv: Registering BlockManagerMaster 23/07/05 11:17:45 INFO\nBlockManagerMasterEndpoint: Using\norg.apache.spark.storage.DefaultTopologyMapper for getting topology\ninformation 23/07/05 11:17:45 INFO BlockManagerMasterEndpoint:\nBlockManagerMasterEndpoint up 23/07/05 11:17:45 INFO SparkEnv:\nRegistering BlockManagerMasterHeartbeat 23/07/05 11:17:45 INFO\nDiskBlockManager: Created local directory at\n/tmp/blockmgr-98a76adc-5862-4053-93a5-584fec796959 23/07/05 11:17:45\nINFO MemoryStore: MemoryStore started with capacity 8.2 GiB 23/07/05\n11:17:45 INFO SparkEnv: Registering OutputCommitCoordinator 23/07/05\n11:17:45 INFO SubResultCacheManager: Sub-result caches are disabled.\n23/07/05 11:17:45 INFO Utils: Successfully started service 'SparkUI'\non port 4040. 23/07/05 11:17:45 INFO SparkContext: Added JAR\ns3://jobjars/fusion/fusion-job-1.0.0--29114-SNAPSHOT-jar-with-dependencies.jar\nat\ns3://jobjars/fusion/fusion-job-1.0.0-29114-SNAPSHOT-jar-with-dependencies.jar\nwith timestamp 1688555864852 23/07/05 11:17:45 INFO Executor: Starting\nexecutor ID driver on host ip-172-31.ec2.internal 23/07/05 11:17:45\nINFO Executor: Starting executor with user classpath\n(userClassPathFirst = false):\n'file:/usr/lib/hadoop-lzo/lib/*,file:/usr/lib/hadoop/hadoop-aws.jar,file:/usr/share/aws/aws-java-sdk/*,file:/usr/share/aws/emr/emrfs/conf/,file:/usr/share/aws/emr/emrfs/lib/*,file:/usr/share/aws/emr/emrfs/auxlib/*,file:/usr/share/aws/emr/goodies/lib/emr-spark-goodies.jar,file:/usr/share/aws/emr/goodies/lib/emr-serverless-spark-goodies.jar,file:/usr/share/aws/emr/security/conf,file:/usr/share/aws/emr/security/lib/*,file:/usr/share/aws/hmclient/lib/aws-glue-datacatalog-spark-client.jar,file:/usr/share/java/Hive-JSON-Serde/hive-openx-serde.jar,file:/usr/share/aws/sagemaker-spark-sdk/lib/sagemaker-spark-sdk.jar,file:/usr/share/aws/emr/s3select/lib/emr-s3-select-spark-connector.jar,file:/docker/usr/lib/hadoop-lzo/lib/*,file:/docker/usr/lib/hadoop/hadoop-aws.jar,file:/docker/usr/share/aws/aws-java-sdk/*,file:/docker/usr/share/aws/emr/emrfs/conf,file:/docker/usr/share/aws/emr/emrfs/lib/*,file:/docker/usr/share/aws/emr/emrfs/auxlib/*,file:/docker/usr/share/aws/emr/goodies/lib/emr-spark-goodies.jar,file:/docker/usr/share/aws/emr/security/conf,file:/docker/usr/share/aws/emr/security/lib/*,file:/docker/usr/share/aws/hmclient/lib/aws-glue-datacatalog-spark-client.jar,file:/docker/usr/share/java/Hive-JSON-Serde/hive-openx-serde.jar,file:/docker/usr/share/aws/sagemaker-spark-sdk/lib/sagemaker-spark-sdk.jar,file:/docker/usr/share/aws/emr/s3select/lib/emr-s3-select-spark-connector.jar,file:/usr/share/aws/redshift/jdbc/RedshiftJDBC.jar,file:/usr/share/aws/redshift/spark-redshift/lib/*,file:/home/hadoop/conf,file:/home/hadoop/emr-serverless-spark-goodies.jar,file:/home/hadoop/emr-spark-goodies.jar,file:/home/hadoop/*,file:/home/hadoop/aws-glue-datacatalog-spark-client.jar,file:/home/hadoop/hive-openx-serde.jar,file:/home/hadoop/sagemaker-spark-sdk.jar,file:/home/hadoop/hadoop-aws.jar,file:/home/hadoop/RedshiftJDBC.jar,file:/home/hadoop/emr-s3-select-spark-connector.jar'\n23/07/05 11:17:45 INFO Executor: Fetching\ns3://jobjars-/fusion/yyyy-fusion-job-1.0.0--29114-SNAPSHOT-jar-with-dependencies.jar\nwith timestamp 1688555864852 23/07/05 11:17:45 INFO\nS3NativeFileSystem: Opening\n's3://jobjars-29114/fusion/xxx-fusion-job-1.0.0--29114-SNAPSHOT-jar-with-dependencies.jar'\nfor reading 23/07/05 11:17:45 INFO Utils: Fetching\ns3://jobjars-/fusion/fusion-job-1.0.0--29114-SNAPSHOT-jar-with-dependencies.jar\nto\n/tmp/spark-fd0b8589-fbd6-4b4a-b69f-98955f2f906f/userFiles-7edecef0-92cd-46c4-9ca8-bdabe9c64f86/fetchFileTemp15434886852656050499.tmp\n23/07/05 11:17:57 INFO Executor: Told to re-register on heartbeat\n23/07/05 11:17:57 INFO BlockManager: BlockManager null re-registering\nwith master 23/07/05 11:17:57 INFO BlockManagerMaster: Registering\nBlockManager null 23/07/05 11:17:57 WARN Executor: Issue communicating\nwith driver in heartbeater org.apache.spark.SparkException: Exception\nthrown in awaitResult:    at\norg.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.rpc.RpcEndpointRef.askSync(RpcEndpointRef.scala:103)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.rpc.RpcEndpointRef.askSync(RpcEndpointRef.scala:87)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.storage.BlockManagerMaster.registerBlockManager(BlockManagerMaster.scala:89)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.storage.BlockManager.reregister(BlockManager.scala:643)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.executor.Executor.reportHeartBeat(Executor.scala:1057)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.executor.Executor.$anonfun$heartbeater$1(Executor.scala:238)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\nscala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\n~[scala-library-2.12.15.jar:?]    at\norg.apache.spark.util.Utils$.logUncaughtExceptions(Utils.scala:2100)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.Heartbeater$$anon$1.run(Heartbeater.scala:46)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\njava.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n~[?:?]    at\njava.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n~[?:?]    at\njava.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n~[?:?]    at\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n~[?:?]    at\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n~[?:?]    at java.lang.Thread.run(Thread.java:833) ~[?:?] Caused by:\njava.lang.NullPointerException: Cannot invoke\n&quot;org.apache.spark.storage.BlockManagerId.executorId()&quot; because\n&quot;idWithoutTopologyInfo&quot; is null   at\norg.apache.spark.storage.BlockManagerMasterEndpoint.org$apache$spark$storage$BlockManagerMasterEndpoint$$register(BlockManagerMasterEndpoint.scala:591)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.storage.BlockManagerMasterEndpoint$$anonfun$receiveAndReply$1.applyOrElse(BlockManagerMasterEndpoint.scala:123)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.rpc.netty.Inbox.$anonfun$process$1(Inbox.scala:103)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.rpc.netty.Inbox.safelyCall(Inbox.scala:213)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.rpc.netty.Inbox.process(Inbox.scala:100)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.rpc.netty.MessageLoop.org$apache$spark$rpc$netty$MessageLoop$$receiveLoop(MessageLoop.scala:75)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.rpc.netty.MessageLoop$$anon$1.run(MessageLoop.scala:41)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\njava.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n~[?:?]    at java.util.concurrent.FutureTask.run(FutureTask.java:264)\n~[?:?] 3 more 23/07/05 11:17:57 ERROR Inbox: Ignoring error\njava.lang.NullPointerException: Cannot invoke\n&quot;org.apache.spark.storage.BlockManagerId.executorId()&quot; because\n&quot;idWithoutTopologyInfo&quot; is null   at\norg.apache.spark.storage.BlockManagerMasterEndpoint.org$apache$spark$storage$BlockManagerMasterEndpoint$$register(BlockManagerMasterEndpoint.scala:591)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.storage.BlockManagerMasterEndpoint$$anonfun$receiveAndReply$1.applyOrElse(BlockManagerMasterEndpoint.scala:123)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.rpc.netty.Inbox.$anonfun$process$1(Inbox.scala:103)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.rpc.netty.Inbox.safelyCall(Inbox.scala:213)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.rpc.netty.Inbox.process(Inbox.scala:100)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.rpc.netty.MessageLoop.org$apache$spark$rpc$netty$MessageLoop$$receiveLoop(MessageLoop.scala:75)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\norg.apache.spark.rpc.netty.MessageLoop$$anon$1.run(MessageLoop.scala:41)\n~[spark-core_2.12-3.3.2-amzn-0.jar:3.3.2-amzn-0]  at\njava.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n~[?:?]    at java.util.concurrent.FutureTask.run(FutureTask.java:264)\n~[?:?]    at\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n~[?:?]    at\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n~[?:?]    at java.lang.Thread.run(Thread.java:833) ~[?:?] 23/07/05\n11:18:00 INFO Executor: Adding\nfile:/tmp/spark-fd0b8589-fbd6-4b4a-b69f-98955f2f906f/userFiles-92cd-46c4-9ca8-/fusion-job-1.0.0-29114-SNAPSHOT-jar-with-dependencies.jar\nto class loader 23/07/05 11:18:00 INFO Utils: Successfully started\nservice 'org.apache.spark.network.netty.NettyBlockTransferService' on\nport 35657. 23/07/05 11:18:00 INFO NettyBlockTransferService: Server\ncreated on [2600:1f18:6a92:2601:18f2:3af:f80f:4dab]:35657 23/07/05\n11:18:00 INFO BlockManager: Using\norg.apache.spark.storage.RandomBlockReplicationPolicy for block\nreplication policy 23/07/05 11:18:00 INFO BlockManagerMaster:\nRegistering BlockManager BlockManagerId(driver,\n[2600:1f18:6a92:2601:18f2:3af:f80f:4dab], 35657, None) 23/07/05\n11:18:00 INFO BlockManagerMasterEndpoint: Registering block manager\n[2600:1f18:6a92:2601:18f2:3af:f80f:4dab]:35657 with 8.2 GiB RAM,\nBlockManagerId(driver, [2600:1f18:6a92:2601:18f2:3af:f80f:4dab],\n35657, None) 23/07/05 11:18:00 INFO BlockManagerMaster: Registered\nBlockManager BlockManagerId(driver,\n[2600:1f18:6a92:2601:18f2:3af:f80f:4dab], 35657, None) 23/07/05\n11:18:00 INFO BlockManager: Initialized BlockManager:\nBlockManagerId(driver, [2600:1f18:6a92:2601:18f2:3af:f80f:4dab],\n35657, None) 23/07/05 11:18:00 INFO SingleEventLogFileWriter: Logging\nevents to file:/var/log/spark/apps/local-1688555865619.inprogress\n23/07/05 11:18:00 INFO SharedState: Setting\nhive.metastore.warehouse.dir ('null') to the value of\nspark.sql.warehouse.dir. 23/07/05 11:18:00 INFO SharedState: Warehouse\npath is 'file:/home/hadoop/spark-warehouse'. 23/07/05 11:18:01 INFO\nMemoryStore: Block broadcast_0 stored as values in memory (estimated\nsize 72.0 B, free 8.2 GiB) 23/07/05 11:18:01 INFO MemoryStore: Block\nbroadcast_0_piece0 stored as bytes in memory (estimated size 124.0 B,\nfree 8.2 GiB) 23/07/05 11:18:01 INFO BlockManagerInfo: Added\nbroadcast_0_piece0 in memory on\n[2600:1f18:6a92:2601:18f2:3af:f80f:4dab]:35657 (size: 124.0 B, free:\n8.2 GiB) 23/07/05 11:18:01 INFO SparkContext: Created broadcast 0 from broadcast at Transformer.java:76 23/07/05 11:18:01 INFO MemoryStore:\nBlock broadcast_1 stored as values in memory (estimated size 168.0 B,\nfree 8.2 GiB) 23/07/05 11:18:01 INFO MemoryStore: Block\nbroadcast_1_piece0 stored as bytes in memory (estimated size 304.0 B,\nfree 8.2 GiB) 23/07/05 11:18:01 INFO BlockManagerInfo: Added\nbroadcast_1_piece0 in memory on\n[2600:1f18:6a92:2601:18f2:3af:f80f:4dab]:35657 (size: 304.0 B, free:\n8.2 GiB) 23/07/05 11:18:01 INFO SparkContext: Created broadcast 1 from broadcast at Transformer.java:80 23/07/05 11:18:02 INFO SparkContext:\nStarting job: collect at Transformer.java:123 23/07/05 11:18:02 INFO\nDAGScheduler: Got job 0 (collect at Transformer.java:123) with 52\noutput partitions 23/07/05 11:18:02 INFO DAGScheduler: Final stage:\nResultStage 0 (collect at Transformer.java:123) 23/07/05 11:18:02 INFO\nDAGScheduler: Parents of final stage: List() 23/07/05 11:18:02 INFO\nDAGScheduler: Missing parents: List() 23/07/05 11:18:02 INFO\nDAGScheduler: Submitting ResultStage 0 (ParallelCollectionRDD[0] at\nparallelize at Transformer.java:122), which has no missing parents\n23/07/05 11:18:02 INFO MemoryStore: Block broadcast_2 stored as values\nin memory (estimated size 3.2 KiB, free 8.2 GiB) 23/07/05 11:18:02\nINFO MemoryStore: Block broadcast_2_piece0 stored as bytes in memory\n(estimated size 1899.0 B, free 8.2 GiB) 23/07/05 11:18:02 INFO\nBlockManagerInfo: Added broadcast_2_piece0 in memory on\n[2600:1f18:6a92:2601:18f2:3af:f80f:4dab]:35657 (size: 1899.0 B, free:\n8.2 GiB) 23/07/05 11:18:02 INFO SparkContext: Created broadcast 2 from broadcast at DAGScheduler.scala:1570 23/07/05 11:18:02 INFO\nDAGScheduler: Submitting 52 missing tasks from ResultStage 0\n(ParallelCollectionRDD[0] at parallelize at Transformer.java:122)\n(first 15 tasks are for partitions Vector(0, 1, 2, 3, 4, 5, 6, 7, 8,\n9, 10, 11, 12, 13, 14)) 23/07/05 11:18:02 INFO TaskSchedulerImpl:\nAdding task set 0.0 with 52 tasks resource profile 0 23/07/05 11:18:02\nINFO TaskSetManager: Starting task 0.0 in stage 0.0 (TID 0)\n(ip-172-31.ec2.internal, executor driver, partition 0, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nTaskSetManager: Starting task 1.0 in stage 0.0 (TID 1)\n(ip-172-31.ec2.internal, executor driver, partition 1, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nTaskSetManager: Starting task 2.0 in stage 0.0 (TID 2)\n(ip-172-31.ec2.internal, executor driver, partition 2, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nTaskSetManager: Starting task 3.0 in stage 0.0 (TID 3)\n(ip-172-31.ec2.internal, executor driver, partition 3, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nExecutor: Running task 1.0 in stage 0.0 (TID 1) 23/07/05 11:18:02 INFO\nExecutor: Running task 2.0 in stage 0.0 (TID 2) 23/07/05 11:18:02 INFO\nExecutor: Running task 3.0 in stage 0.0 (TID 3) 23/07/05 11:18:02 INFO\nExecutor: Running task 0.0 in stage 0.0 (TID 0) 23/07/05 11:18:02 INFO\nExecutor: Finished task 2.0 in stage 0.0 (TID 2). 1496 bytes result\nsent to driver 23/07/05 11:18:02 INFO Executor: Finished task 3.0 in\nstage 0.0 (TID 3). 1496 bytes result sent to driver 23/07/05 11:18:02\nINFO Executor: Finished task 0.0 in stage 0.0 (TID 0). 1496 bytes\nresult sent to driver 23/07/05 11:18:02 INFO TaskSetManager: Starting\ntask 4.0 in stage 0.0 (TID 4) (ip-172-31.ec2.internal, executor\ndriver, partition 4, PROCESS_LOCAL, 5097 bytes)\ntaskResourceAssignments Map() 23/07/05 11:18:02 INFO Executor: Running\ntask 4.0 in stage 0.0 (TID 4) 23/07/05 11:18:02 INFO Executor:\nFinished task 1.0 in stage 0.0 (TID 1). 1496 bytes result sent to\ndriver 23/07/05 11:18:02 INFO Executor: Finished task 4.0 in stage 0.0\n(TID 4). 1496 bytes result sent to driver 23/07/05 11:18:02 INFO\nTaskSetManager: Starting task 5.0 in stage 0.0 (TID 5)\n(ip-172-31.ec2.internal, executor driver, partition 5, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nExecutor: Running task 5.0 in stage 0.0 (TID 5) 23/07/05 11:18:02 INFO\nExecutor: Finished task 5.0 in stage 0.0 (TID 5). 1496 bytes result\nsent to driver 23/07/05 11:18:02 INFO TaskSetManager: Starting task\n6.0 in stage 0.0 (TID 6) (ip-172-31.ec2.internal, executor driver, partition 6, PROCESS_LOCAL, 5097 bytes) taskResourceAssignments Map()\n23/07/05 11:18:02 INFO Executor: Running task 6.0 in stage 0.0 (TID 6)\n23/07/05 11:18:02 INFO TaskSetManager: Starting task 7.0 in stage 0.0\n(TID 7) (ip-172-31.ec2.internal, executor driver, partition 7,\nPROCESS_LOCAL, 5097 bytes) taskResourceAssignments Map() 23/07/05\n11:18:02 INFO Executor: Running task 7.0 in stage 0.0 (TID 7) 23/07/05\n11:18:02 INFO TaskSetManager: Starting task 8.0 in stage 0.0 (TID 8)\n(ip-172-31.ec2.internal, executor driver, partition 8, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nExecutor: Running task 8.0 in stage 0.0 (TID 8) 23/07/05 11:18:02 INFO\nTaskSetManager: Starting task 9.0 in stage 0.0 (TID 9)\n(ip-172-31.ec2.internal, executor driver, partition 9, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nExecutor: Finished task 6.0 in stage 0.0 (TID 6). 1496 bytes result\nsent to driver 23/07/05 11:18:02 INFO Executor: Running task 9.0 in\nstage 0.0 (TID 9) 23/07/05 11:18:02 INFO TaskSetManager: Starting task\n10.0 in stage 0.0 (TID 10) (ip-172-31.ec2.internal, executor driver, partition 10, PROCESS_LOCAL, 5097 bytes) taskResourceAssignments Map()\n23/07/05 11:18:02 INFO Executor: Running task 10.0 in stage 0.0 (TID\n10) 23/07/05 11:18:02 INFO TaskSetManager: Finished task 0.0 in stage\n0.0 (TID 0) in 143 ms on ip-172-31.ec2.internal (executor driver) (1/52) 23/07/05 11:18:02 INFO TaskSetManager: Finished task 3.0 in\nstage 0.0 (TID 3) in 122 ms on ip-172-31.ec2.internal (executor\ndriver) (2/52) 23/07/05 11:18:02 INFO TaskSetManager: Finished task\n4.0 in stage 0.0 (TID 4) in 33 ms on ip-172-31.ec2.internal (executor driver) (3/52) 23/07/05 11:18:02 INFO Executor: Finished task 9.0 in\nstage 0.0 (TID 9). 1496 bytes result sent to driver 23/07/05 11:18:02\nINFO TaskSetManager: Finished task 5.0 in stage 0.0 (TID 5) in 25 ms\non ip-172-31.ec2.internal (executor driver) (4/52) 23/07/05 11:18:02\nINFO TaskSetManager: Finished task 2.0 in stage 0.0 (TID 2) in 124 ms\non ip-172-31.ec2.internal (executor driver) (5/52) 23/07/05 11:18:02\nINFO Executor: Finished task 10.0 in stage 0.0 (TID 10). 1496 bytes\nresult sent to driver 23/07/05 11:18:02 INFO Executor: Finished task\n8.0 in stage 0.0 (TID 8). 1496 bytes result sent to driver 23/07/05 11:18:02 INFO TaskSetManager: Finished task 1.0 in stage 0.0 (TID 1)\nin 140 ms on ip-172-31.ec2.internal (executor driver) (6/52) 23/07/05\n11:18:02 INFO TaskSetManager: Starting task 11.0 in stage 0.0 (TID 11)\n(ip-172-31.ec2.internal, executor driver, partition 11, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nExecutor: Running task 11.0 in stage 0.0 (TID 11) 23/07/05 11:18:02\nINFO Executor: Finished task 7.0 in stage 0.0 (TID 7). 1496 bytes\nresult sent to driver 23/07/05 11:18:02 INFO TaskSetManager: Finished\ntask 6.0 in stage 0.0 (TID 6) in 34 ms on ip-172-31.ec2.internal\n(executor driver) (7/52) 23/07/05 11:18:02 INFO Executor: Finished\ntask 11.0 in stage 0.0 (TID 11). 1496 bytes result sent to driver\n23/07/05 11:18:02 INFO TaskSetManager: Starting task 12.0 in stage 0.0\n(TID 12) (ip-172-31.ec2.internal, executor driver, partition 12,\nPROCESS_LOCAL, 5097 bytes) taskResourceAssignments Map() 23/07/05\n11:18:02 INFO TaskSetManager: Finished task 9.0 in stage 0.0 (TID 9)\nin 30 ms on ip-172-31.ec2.internal (executor driver) (8/52) 23/07/05\n11:18:02 INFO TaskSetManager: Finished task 10.0 in stage 0.0 (TID 10)\nin 29 ms on ip-172-31.ec2.internal (executor driver) (9/52) 23/07/05\n11:18:02 INFO Executor: Running task 12.0 in stage 0.0 (TID 12)\n23/07/05 11:18:02 INFO TaskSetManager: Starting task 13.0 in stage 0.0\n(TID 13) (ip-172-31.ec2.internal, executor driver, partition 13,\nPROCESS_LOCAL, 5097 bytes) taskResourceAssignments Map() 23/07/05\n11:18:02 INFO Executor: Finished task 12.0 in stage 0.0 (TID 12). 1496\nbytes result sent to driver 23/07/05 11:18:02 INFO Executor: Running\ntask 13.0 in stage 0.0 (TID 13) 23/07/05 11:18:02 INFO TaskSetManager:\nFinished task 8.0 in stage 0.0 (TID 8) in 39 ms on\nip-172-31.ec2.internal (executor driver) (10/52) 23/07/05 11:18:02\nINFO TaskSetManager: Finished task 7.0 in stage 0.0 (TID 7) in 42 ms\non ip-172-31.ec2.internal (executor driver) (11/52) 23/07/05 11:18:02\nINFO TaskSetManager: Starting task 14.0 in stage 0.0 (TID 14)\n(ip-172-31.ec2.internal, executor driver, partition 14, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nExecutor: Finished task 13.0 in stage 0.0 (TID 13). 1496 bytes result\nsent to driver 23/07/05 11:18:02 INFO Executor: Running task 14.0 in\nstage 0.0 (TID 14) 23/07/05 11:18:02 INFO TaskSetManager: Starting\ntask 15.0 in stage 0.0 (TID 15) (ip-172-31.ec2.internal, executor\ndriver, partition 15, PROCESS_LOCAL, 5097 bytes)\ntaskResourceAssignments Map() 23/07/05 11:18:02 INFO Executor: Running\ntask 15.0 in stage 0.0 (TID 15) 23/07/05 11:18:02 INFO TaskSetManager:\nFinished task 11.0 in stage 0.0 (TID 11) in 21 ms on\nip-172-31.ec2.internal (executor driver) (12/52) 23/07/05 11:18:02\nINFO Executor: Finished task 14.0 in stage 0.0 (TID 14). 1496 bytes\nresult sent to driver 23/07/05 11:18:02 INFO Executor: Finished task\n15.0 in stage 0.0 (TID 15). 1496 bytes result sent to driver 23/07/05 11:18:02 INFO TaskSetManager: Starting task 16.0 in stage 0.0 (TID 16)\n(ip-172-31.ec2.internal, executor driver, partition 16, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nTaskSetManager: Finished task 12.0 in stage 0.0 (TID 12) in 24 ms on\nip-172-31.ec2.internal (executor driver) (13/52) 23/07/05 11:18:02\nINFO TaskSetManager: Finished task 13.0 in stage 0.0 (TID 13) in 18 ms\non ip-172-31.ec2.internal (executor driver) (14/52) 23/07/05 11:18:02\nINFO Executor: Running task 16.0 in stage 0.0 (TID 16) 23/07/05\n11:18:02 INFO TaskSetManager: Starting task 17.0 in stage 0.0 (TID 17)\n(ip-172-31.ec2.internal, executor driver, partition 17, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nExecutor: Finished task 16.0 in stage 0.0 (TID 16). 1496 bytes result\nsent to driver 23/07/05 11:18:02 INFO TaskSetManager: Starting task\n18.0 in stage 0.0 (TID 18) (ip-172-31.ec2.internal, executor driver, partition 18, PROCESS_LOCAL, 5097 bytes) taskResourceAssignments Map()\n23/07/05 11:18:02 INFO Executor: Running task 18.0 in stage 0.0 (TID\n18) 23/07/05 11:18:02 INFO TaskSetManager: Finished task 14.0 in stage\n0.0 (TID 14) in 20 ms on ip-172-31.ec2.internal (executor driver) (15/52) 23/07/05 11:18:02 INFO Executor: Finished task 18.0 in stage\n0.0 (TID 18). 1496 bytes result sent to driver 23/07/05 11:18:02 INFO TaskSetManager: Finished task 15.0 in stage 0.0 (TID 15) in 22 ms on\nip-172-31.ec2.internal (executor driver) (16/52) 23/07/05 11:18:02\nINFO Executor: Running task 17.0 in stage 0.0 (TID 17) 23/07/05\n11:18:02 INFO TaskSetManager: Starting task 19.0 in stage 0.0 (TID 19)\n(ip-172-31.ec2.internal, executor driver, partition 19, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nExecutor: Running task 19.0 in stage 0.0 (TID 19) 23/07/05 11:18:02\nINFO TaskSetManager: Finished task 16.0 in stage 0.0 (TID 16) in 16 ms\non ip-172-31.ec2.internal (executor driver) (17/52) 23/07/05 11:18:02\nINFO TaskSetManager: Starting task 20.0 in stage 0.0 (TID 20)\n(ip-172-31.ec2.internal, executor driver, partition 20, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nExecutor: Running task 20.0 in stage 0.0 (TID 20) 23/07/05 11:18:02\nINFO TaskSetManager: Starting task 21.0 in stage 0.0 (TID 21)\n(ip-172-31.ec2.internal, executor driver, partition 21, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nExecutor: Finished task 17.0 in stage 0.0 (TID 17). 1496 bytes result\nsent to driver 23/07/05 11:18:02 INFO Executor: Finished task 19.0 in\nstage 0.0 (TID 19). 1453 bytes result sent to driver 23/07/05 11:18:02\nINFO Executor: Running task 21.0 in stage 0.0 (TID 21) 23/07/05\n11:18:02 INFO TaskSetManager: Starting task 22.0 in stage 0.0 (TID 22)\n(ip-172-31.ec2.internal, executor driver, partition 22, PROCESS_LOCAL,\n5097 bytes) taskResourceAssignments Map() 23/07/05 11:18:02 INFO\nExecutor: Running task 22.0 in stage 0.0 (TID 22) ```\n</code></pre>\n</blockquote>\n<p>Any insight would be precious :)\nThanks a lot!</p>\n<p>I already was trying to add executors.instances and dynamicAllocation = true\nalso tried Dataset recordsDF.repartition(100) for example</p>\n"},{"tags":["java","android","maven"],"comments":[{"owner":{"account_id":6082188,"reputation":17560,"user_id":4747587,"accept_rate":64,"display_name":"Henry"},"score":0,"creation_date":1510817678,"post_id":47323909,"comment_id":81598559,"body_markdown":"Do you have a valid internet connection? In your android studio preferences -&gt; Build, Execution -&gt; Gradle, is the &quot;Offline Work&quot; turned off?","body":"Do you have a valid internet connection? In your android studio preferences -&gt; Build, Execution -&gt; Gradle, is the &quot;Offline Work&quot; turned off?"},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1510818057,"post_id":47323909,"comment_id":81598747,"body_markdown":"Yes, `Offline Work` is turned off...","body":"Yes, <code>Offline Work</code> is turned off..."},{"owner":{"account_id":6082188,"reputation":17560,"user_id":4747587,"accept_rate":64,"display_name":"Henry"},"score":0,"creation_date":1510881866,"post_id":47323909,"comment_id":81635910,"body_markdown":"Are you behind a Firewall? Are you able to download this file `https://dl.google.com/dl/android/maven2/com/android/support/appcompat-v7/26.1.0/appcompat-v7-26.1.0.pom` on the browser?","body":"Are you behind a Firewall? Are you able to download this file <code>https:&#47;&#47;dl.google.com&#47;dl&#47;android&#47;maven2&#47;com&#47;android&#47;support&#47;&zwnj;&#8203;appcompat-v7&#47;26.1.0&#47;&zwnj;&#8203;appcompat-v7-26.1.0.&zwnj;&#8203;pom</code> on the browser?"},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1510901387,"post_id":47323909,"comment_id":81641400,"body_markdown":"No, it returns a `404` error in browser.","body":"No, it returns a <code>404</code> error in browser."},{"owner":{"account_id":6322747,"reputation":1995,"user_id":4910154,"accept_rate":72,"display_name":"Farzad"},"score":0,"creation_date":1510973038,"post_id":47323909,"comment_id":81676862,"body_markdown":"i have this error. fix it? help me","body":"i have this error. fix it? help me"},{"owner":{"account_id":9457882,"reputation":461,"user_id":7032579,"display_name":"Jek"},"score":0,"creation_date":1631213831,"post_id":47323909,"comment_id":122174003,"body_markdown":"I just opened the link in my browser, after that it worked without errors","body":"I just opened the link in my browser, after that it worked without errors"}],"answers":[{"comments":[{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1510818097,"post_id":47324028,"comment_id":81598766,"body_markdown":"Added as you suggested, still getting same error. Is that error related to `Trust Store`?","body":"Added as you suggested, still getting same error. Is that error related to <code>Trust Store</code>?"},{"owner":{"account_id":5774013,"reputation":1046,"user_id":5369132,"accept_rate":25,"display_name":"JesseBoyd"},"score":0,"creation_date":1537812029,"post_id":47324028,"comment_id":91911297,"body_markdown":"switching back to http instead of https worked for me behind a corporate firewall although I don&#39;t think it a good long term solution.","body":"switching back to http instead of https worked for me behind a corporate firewall although I don&#39;t think it a good long term solution."}],"tags":[],"owner":{"account_id":11984859,"reputation":73,"user_id":8769618,"display_name":"AndyJJ"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1510817779,"creation_date":1510817779,"answer_id":47324028,"question_id":47323909,"body_markdown":"try replace with\r\n\r\n    repositories {\r\n        maven { url &#39;http://repo1.maven.org/maven2&#39; }\r\n    }","title":"How to resolve repository certificate error in Gradle build","body":"<p>try replace with</p>\n\n<pre><code>repositories {\n    maven { url 'http://repo1.maven.org/maven2' }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9094295,"reputation":1988,"user_id":6768769,"accept_rate":40,"display_name":"Dileep Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510831752,"creation_date":1510821815,"answer_id":47325101,"question_id":47323909,"body_markdown":"Modify in project level gradle according below\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n    \r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    \r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.0.0&#39;\r\n        \r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n        }\r\n     }\r\n\r\n    allprojects {\r\n         repositories {\r\n          google()\r\n          jcenter()\r\n       }\r\n     }\r\n\r\n     task clean(type: Delete) {\r\n      delete rootProject.buildDir\r\n    }\r\n\r\n\r\nThen, remove appcompat-v7:26.1.0 dependency from app level gradle then next \r\nGo to Android Studio File &gt; Project Structure &gt; app &gt;Dependencies &gt; tap on + &gt; Library Dependencies &gt; add dependenceis as per your requirements then OK.\r\n\r\nAlso you can try to tap on synchronize project with gradle file\r\n\r\n[![synchronize with gradle file][1]][1]\r\n\r\nFor more please go for below link\r\n\r\nhttps://developer.android.com/studio/build/gradle-plugin-3-0-0.html\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vWG1i.png\r\n\r\n**Edited**\r\n\r\nI think your problem is different so please go with below links,\r\n\r\nhttps://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ\r\n\r\nhttps://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\r\n\r\nhttps://github.com/appscode-ci/cibox/issues/16\r\n\r\nhttps://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/","title":"How to resolve repository certificate error in Gradle build","body":"<p>Modify in project level gradle according below</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n\nrepositories {\n    google()\n    jcenter()\n}\n\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.0.0'\n\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n    }\n }\n\nallprojects {\n     repositories {\n      google()\n      jcenter()\n   }\n }\n\n task clean(type: Delete) {\n  delete rootProject.buildDir\n}\n</code></pre>\n\n<p>Then, remove appcompat-v7:26.1.0 dependency from app level gradle then next \nGo to Android Studio File > Project Structure > app >Dependencies > tap on + > Library Dependencies > add dependenceis as per your requirements then OK.</p>\n\n<p>Also you can try to tap on synchronize project with gradle file</p>\n\n<p><a href=\"https://i.stack.imgur.com/vWG1i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vWG1i.png\" alt=\"synchronize with gradle file\"></a></p>\n\n<p>For more please go for below link</p>\n\n<p><a href=\"https://developer.android.com/studio/build/gradle-plugin-3-0-0.html\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/gradle-plugin-3-0-0.html</a></p>\n\n<p><strong>Edited</strong></p>\n\n<p>I think your problem is different so please go with below links,</p>\n\n<p><a href=\"https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ\">&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?</a></p>\n\n<p><a href=\"https://github.com/appscode-ci/cibox/issues/16\" rel=\"nofollow noreferrer\">https://github.com/appscode-ci/cibox/issues/16</a></p>\n\n<p><a href=\"https://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/</a></p>\n"},{"comments":[{"owner":{"account_id":2263369,"reputation":2089,"user_id":1992811,"accept_rate":87,"display_name":"Gokul Kulkarni"},"score":1,"creation_date":1568618453,"post_id":47545556,"comment_id":102316364,"body_markdown":"you have given such a nice explanation and right answer, sad to see, its still not accepted. thanks","body":"you have given such a nice explanation and right answer, sad to see, its still not accepted. thanks"},{"owner":{"account_id":381341,"reputation":512,"user_id":735935,"display_name":"Nilay Tiwari"},"score":0,"creation_date":1607670246,"post_id":47545556,"comment_id":115350235,"body_markdown":"its really a nice explanation. it worked for me. I just imported certificate in keystore and tis was not working but when i configured gradle.proprties with keystore its start working. Thanks towa","body":"its really a nice explanation. it worked for me. I just imported certificate in keystore and tis was not working but when i configured gradle.proprties with keystore its start working. Thanks towa"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1641998995,"post_id":47545556,"comment_id":124955861,"body_markdown":"It really worked thanks ..","body":"It really worked thanks .."}],"tags":[],"owner":{"account_id":12375880,"reputation":211,"user_id":9023744,"display_name":"towa"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1511952022,"creation_date":1511932704,"answer_id":47545556,"question_id":47323909,"body_markdown":"Below steps may help:\r\n\r\n**1. Add certificate to keystore-** \r\n\r\nImport some certifications into Android Studio JDK cacerts from Android Studios cacerts.\r\n\r\nAndroid Studios cacerts may be located in\r\n\r\n    {your-home-directory}/.AndroidStudio3.0/system/tasks/cacerts\r\n\r\nI used the following import command.\r\n\r\n    $ keytool -importkeystore -v -srckeystore {src cacerts} -destkeystore {dest cacerts}\r\n\r\n **2. Add modified cacert path to gradle.properties-**\r\n\r\n    systemProp.javax.net.ssl.trustStore={your-android-studio-directory}\\\\jre\\\\jre\\\\lib\\\\security\\\\cacerts\r\n    systemProp.javax.net.ssl.trustStorePassword=changeit\r\n\r\nRef : [https://www.cresco.co.jp/blog/entry/2014/][1]/\r\n\r\n\r\n  [1]: https://www.cresco.co.jp/blog/entry/2014/","title":"How to resolve repository certificate error in Gradle build","body":"<p>Below steps may help:</p>\n\n<p><strong>1. Add certificate to keystore-</strong> </p>\n\n<p>Import some certifications into Android Studio JDK cacerts from Android Studios cacerts.</p>\n\n<p>Android Studios cacerts may be located in</p>\n\n<pre><code>{your-home-directory}/.AndroidStudio3.0/system/tasks/cacerts\n</code></pre>\n\n<p>I used the following import command.</p>\n\n<pre><code>$ keytool -importkeystore -v -srckeystore {src cacerts} -destkeystore {dest cacerts}\n</code></pre>\n\n<p><strong>2. Add modified cacert path to gradle.properties-</strong></p>\n\n<pre><code>systemProp.javax.net.ssl.trustStore={your-android-studio-directory}\\\\jre\\\\jre\\\\lib\\\\security\\\\cacerts\nsystemProp.javax.net.ssl.trustStorePassword=changeit\n</code></pre>\n\n<p>Ref : <a href=\"https://www.cresco.co.jp/blog/entry/2014/\" rel=\"noreferrer\">https://www.cresco.co.jp/blog/entry/2014/</a>/</p>\n"},{"tags":[],"owner":{"account_id":12541029,"reputation":427,"user_id":9125940,"display_name":"Sucheth Shivakumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561702060,"creation_date":1560129647,"answer_id":56519570,"question_id":47323909,"body_markdown":"Your Java is not trusting the link you are using to download library.\r\nBefore proceeding on to step 2, Try step 1.\r\n\r\n1. Check if your internet is behind any firewall, Your company internet could be blocking the website you are trying to access. connect your PC to your mobile internet and trying building.\r\n\r\n2. Add certificate manually to your jdk cert strore.\r\n       - Visit the website for example https://example.com\r\n       - download the certificate from browser.\r\n       - Find your jdk installation directory.\r\n       - add cert manually to cacerts using below command,\r\n       - `sudo keytool -import -alias shibbolethnet -keystore  \r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_65.jdk/Contents/Home/jre/lib/security/cacerts -file &lt;downloadedcert.cer&gt;`\r\n\r\n      \r\n\r\n\r\n   \r\n\r\n \r\n","title":"How to resolve repository certificate error in Gradle build","body":"<p>Your Java is not trusting the link you are using to download library.\nBefore proceeding on to step 2, Try step 1.</p>\n\n<ol>\n<li><p>Check if your internet is behind any firewall, Your company internet could be blocking the website you are trying to access. connect your PC to your mobile internet and trying building.</p></li>\n<li><p>Add certificate manually to your jdk cert strore.</p>\n\n<ul>\n<li>Visit the website for example <a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a></li>\n<li>download the certificate from browser.</li>\n<li>Find your jdk installation directory.</li>\n<li>add cert manually to cacerts using below command,</li>\n<li><code>sudo keytool -import -alias shibbolethnet -keystore<br>\n/Library/Java/JavaVirtualMachines/jdk1.8.0_65.jdk/Contents/Home/jre/lib/security/cacerts -file &lt;downloadedcert.cer&gt;</code></li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1497395,"reputation":830,"user_id":1403009,"display_name":"Naveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578160703,"creation_date":1578160703,"answer_id":59593396,"question_id":47323909,"body_markdown":"You can try changing the path for the Gradle wrapper going to Eclipse &gt; Preferences &gt; Gradle. Choose Local Installation directory instead of Gradle Wrapper.","title":"How to resolve repository certificate error in Gradle build","body":"<p>You can try changing the path for the Gradle wrapper going to Eclipse > Preferences > Gradle. Choose Local Installation directory instead of Gradle Wrapper.</p>\n"},{"tags":[],"owner":{"account_id":2937936,"reputation":59,"user_id":2516469,"display_name":"Janardhan B. Chinta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609263771,"creation_date":1609263771,"answer_id":65496398,"question_id":47323909,"body_markdown":"I installed key for `plugins.gradle.org` and was able to download the following, `https://plugins.gradle.org/m2/org/springframework/boot/spring-boot-gradle-plugin/2.4.1/`\r\n\r\nHowever, failed to download `https://plugins.gradle.org/m2/org/springframework/boot/spring-boot-gradle-plugin/2.4.1/spring-boot-gradle-plugin-2.4.1.module`, which my browser is able to download.\r\n\r\nSpent a day and figured out, the url is being redirected, `spring-boot-gradle-plugin-2.4.1.module`  `https://jcenter.bintray.com/org/springframework/boot/spring-boot-gradle-plugin/2.4.1/spring-boot-gradle-plugin-2.4.1.module`\r\n\r\nAdded `jcenter.bintray.com` to my keystore and it worked. Twisted world.\r\n\r\n","title":"How to resolve repository certificate error in Gradle build","body":"<p>I installed key for <code>plugins.gradle.org</code> and was able to download the following, <code>https://plugins.gradle.org/m2/org/springframework/boot/spring-boot-gradle-plugin/2.4.1/</code></p>\n<p>However, failed to download <code>https://plugins.gradle.org/m2/org/springframework/boot/spring-boot-gradle-plugin/2.4.1/spring-boot-gradle-plugin-2.4.1.module</code>, which my browser is able to download.</p>\n<p>Spent a day and figured out, the url is being redirected, <code>spring-boot-gradle-plugin-2.4.1.module</code>  <code>https://jcenter.bintray.com/org/springframework/boot/spring-boot-gradle-plugin/2.4.1/spring-boot-gradle-plugin-2.4.1.module</code></p>\n<p>Added <code>jcenter.bintray.com</code> to my keystore and it worked. Twisted world.</p>\n"},{"tags":[],"owner":{"account_id":7206455,"reputation":11,"user_id":5501908,"display_name":"&#237;ma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655972007,"creation_date":1655972007,"answer_id":72726757,"question_id":47323909,"body_markdown":"# TL;DR\r\nThere are known JDK&#39;s with buggy HTTP client that fails during TLS v1.3 (enforced by many servers) with this misleading exception.\r\n\r\n**Update your JDK to newest possible version.**\r\n\r\n# Long story\r\n\r\nVersion of JDK might be the cause. As the time progresses and the Internet evolves servers starting to narrow down the set of transport protocols. Some may only offer TLS v1.2 and TLS v1.3. HTTP Clients (including the one in Java) might be buggy.\r\n\r\nMy experience was that truststore and certificates were OK but as Java HTTP client from OpenJDK 11.0.0 (downloaded from official OpenJDK website) had a bug in TLS v1.3 it always ended up in exception `PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target`. Which is just exception thrown. Not the real problem.\r\n\r\nSolution was to tak the freshest JDK from major version I had to use. It is fixed in 11.0.3 and by the time of writing 11.0.15 was available.\r\n                                              ","title":"How to resolve repository certificate error in Gradle build","body":"<h1>TL;DR</h1>\n<p>There are known JDK's with buggy HTTP client that fails during TLS v1.3 (enforced by many servers) with this misleading exception.</p>\n<p><strong>Update your JDK to newest possible version.</strong></p>\n<h1>Long story</h1>\n<p>Version of JDK might be the cause. As the time progresses and the Internet evolves servers starting to narrow down the set of transport protocols. Some may only offer TLS v1.2 and TLS v1.3. HTTP Clients (including the one in Java) might be buggy.</p>\n<p>My experience was that truststore and certificates were OK but as Java HTTP client from OpenJDK 11.0.0 (downloaded from official OpenJDK website) had a bug in TLS v1.3 it always ended up in exception <code>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code>. Which is just exception thrown. Not the real problem.</p>\n<p>Solution was to tak the freshest JDK from major version I had to use. It is fixed in 11.0.3 and by the time of writing 11.0.15 was available.</p>\n"},{"comments":[{"owner":{"account_id":5490196,"reputation":670,"user_id":4363776,"accept_rate":100,"display_name":"David Gomes"},"score":0,"creation_date":1688823871,"post_id":76623311,"comment_id":135127392,"body_markdown":"Changing the gradle setting in what way?","body":"Changing the gradle setting in what way?"},{"owner":{"account_id":13404374,"reputation":1,"user_id":20778604,"display_name":"emily"},"score":0,"creation_date":1689006672,"post_id":76623311,"comment_id":135149053,"body_markdown":"updated my answer for clarity, thanks!","body":"updated my answer for clarity, thanks!"}],"tags":[],"owner":{"account_id":13404374,"reputation":1,"user_id":20778604,"display_name":"emily"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689006635,"creation_date":1688583419,"answer_id":76623311,"question_id":47323909,"body_markdown":"I was getting this error for a freshly cloned repo with a dependency was used successfully in another repo, so I knew it wasn&#39;t a key cert problem. Eventually I was able to resolve it by changing the gradle settings in intelliJ by going to `Preferences -&gt;Gradle -&gt; Gradle JVM` and setting it to the right JDK I wanted to use (I wanted java 1.8 but it was set to azul 15)","title":"How to resolve repository certificate error in Gradle build","body":"<p>I was getting this error for a freshly cloned repo with a dependency was used successfully in another repo, so I knew it wasn't a key cert problem. Eventually I was able to resolve it by changing the gradle settings in intelliJ by going to <code>Preferences -&gt;Gradle -&gt; Gradle JVM</code> and setting it to the right JDK I wanted to use (I wanted java 1.8 but it was set to azul 15)</p>\n"}],"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53157,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":8,"score":13,"last_activity_date":1689006635,"creation_date":1510817306,"question_id":47323909,"body_markdown":"I installed latest version of android studio. I had jdk 8 which was already installed. When I opened android studio, I got below error.\r\n\r\n    Unable to resolve dependency for &#39;:app@debugUnitTest/compileClasspath&#39;: Could not resolve com.android.support:appcompat-v7:26.1.0.\r\n    \r\n    Could not resolve com.android.support:appcompat-v7:26.1.0.\r\n    Required by:\r\n        project :app\r\n     &gt; Could not resolve com.android.support:appcompat-v7:26.1.0.\r\n        &gt; Could not get resource &#39;https://dl.google.com/dl/android/maven2/com/android/support/appcompat-v7/26.1.0/appcompat-v7-26.1.0.pom&#39;.\r\n              &gt; Could not GET &#39;https://dl.google.com/dl/android/maven2/com/android/support/appcompat-v7/26.1.0/appcompat-v7-26.1.0.pom&#39;.\r\n                       &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n                                   &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n                                                  &gt; unable to find valid certification path to requested target  \r\nSo I removed JDK 8 and installed JDK 9, added environment variables (in windows 10). Then I restarted my system and started android studio, I still got above error. I even added  \r\n\r\n    repositories {\r\n        maven { url &quot;https://maven.google.com&quot; }\r\n    }  \r\nto gradle script. But I&#39;m still getting same error. How do I fix this error? ","title":"How to resolve repository certificate error in Gradle build","body":"<p>I installed latest version of android studio. I had jdk 8 which was already installed. When I opened android studio, I got below error.</p>\n\n<pre><code>Unable to resolve dependency for ':app@debugUnitTest/compileClasspath': Could not resolve com.android.support:appcompat-v7:26.1.0.\n\nCould not resolve com.android.support:appcompat-v7:26.1.0.\nRequired by:\n    project :app\n &gt; Could not resolve com.android.support:appcompat-v7:26.1.0.\n    &gt; Could not get resource 'https://dl.google.com/dl/android/maven2/com/android/support/appcompat-v7/26.1.0/appcompat-v7-26.1.0.pom'.\n          &gt; Could not GET 'https://dl.google.com/dl/android/maven2/com/android/support/appcompat-v7/26.1.0/appcompat-v7-26.1.0.pom'.\n                   &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n                               &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n                                              &gt; unable to find valid certification path to requested target  \n</code></pre>\n\n<p>So I removed JDK 8 and installed JDK 9, added environment variables (in windows 10). Then I restarted my system and started android studio, I still got above error. I even added  </p>\n\n<pre><code>repositories {\n    maven { url \"https://maven.google.com\" }\n}  \n</code></pre>\n\n<p>to gradle script. But I'm still getting same error. How do I fix this error? </p>\n"},{"tags":["java","algorithm","image-processing","opencv"],"comments":[{"owner":{"account_id":330103,"reputation":17394,"user_id":654019,"accept_rate":56,"display_name":"mans"},"score":1,"creation_date":1447422834,"post_id":14418983,"comment_id":55159941,"body_markdown":"The link to pixelated image is broken. can you please fix it or upload the image here. I am not sure what do you mean by pixelated :(","body":"The link to pixelated image is broken. can you please fix it or upload the image here. I am not sure what do you mean by pixelated :("}],"answers":[{"comments":[{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":1,"creation_date":1358641409,"post_id":14419059,"comment_id":20071128,"body_markdown":"Do you have any actual evidence that this works ? Because I don&#39;t think it does in any way. For the first part, depending on you vary the edge threshold you can basically go from nearly no edge in the image to nearly every point being considered an edge. How are you supposed to vary this threshold consistently ? In the second part, changing from black to white like that in any color image will most likely produce a random pattern of black &amp; white dots, since noise is inherent to image acquisition.","body":"Do you have any actual evidence that this works ? Because I don&#39;t think it does in any way. For the first part, depending on you vary the edge threshold you can basically go from nearly no edge in the image to nearly every point being considered an edge. How are you supposed to vary this threshold consistently ? In the second part, changing from black to white like that in any color image will most likely produce a random pattern of black &amp; white dots, since noise is inherent to image acquisition."},{"owner":{"account_id":81564,"reputation":3843,"user_id":229896,"accept_rate":93,"display_name":"rh"},"score":0,"creation_date":1358681693,"post_id":14419059,"comment_id":20077435,"body_markdown":"All images have can have noise but the noise can easily be accounted for by applying a median filter or other non-blurring smoothing filters. Any remaining noise in (2) will not affect the Hough line detector. It will discard some and perhaps find a few spurious lines. However, the existence of a number of parallel and vertical lines will indicate pixelation.","body":"All images have can have noise but the noise can easily be accounted for by applying a median filter or other non-blurring smoothing filters. Any remaining noise in (2) will not affect the Hough line detector. It will discard some and perhaps find a few spurious lines. However, the existence of a number of parallel and vertical lines will indicate pixelation."},{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":0,"creation_date":1358690739,"post_id":14419059,"comment_id":20079657,"body_markdown":"I won&#39;t even comment on the noise issue because that is completely wrong. Instead let us focus now on your example output. Can you really find a grid pattern there ? I mean, not by looking it, but by actually doing it. There are so many noisy lines there, that the image could virtually be anything. I have actually implemented something that uses Hough (but that doesn&#39;t matter, I&#39;ve used RANSAC too), and I can actually find something that resembles a grid. The problem is that this fails very easily for other pixelated images. I might include my answer, but I&#39;m aware it is weak.","body":"I won&#39;t even comment on the noise issue because that is completely wrong. Instead let us focus now on your example output. Can you really find a grid pattern there ? I mean, not by looking it, but by actually doing it. There are so many noisy lines there, that the image could virtually be anything. I have actually implemented something that uses Hough (but that doesn&#39;t matter, I&#39;ve used RANSAC too), and I can actually find something that resembles a grid. The problem is that this fails very easily for other pixelated images. I might include my answer, but I&#39;m aware it is weak."},{"owner":{"account_id":81564,"reputation":3843,"user_id":229896,"accept_rate":93,"display_name":"rh"},"score":1,"creation_date":1358709766,"post_id":14419059,"comment_id":20084965,"body_markdown":"What I did for an application (wasn&#39;t trying to find pixelation but the problem is similar) is filter the Hough lines to include only those that have slopes near 0 and infinity. This will give you lines that are horizontal and parallel. I actually found it easy to filter out the noisy lines that are not vertical and horizontal. The greater challenge is in determining the grid with the left over vertical and horizontal lines. The solution isn&#39;t perfect and is a port of my algorithm for one situation to another. I didn&#39;t mean to convey that this is robust.","body":"What I did for an application (wasn&#39;t trying to find pixelation but the problem is similar) is filter the Hough lines to include only those that have slopes near 0 and infinity. This will give you lines that are horizontal and parallel. I actually found it easy to filter out the noisy lines that are not vertical and horizontal. The greater challenge is in determining the grid with the left over vertical and horizontal lines. The solution isn&#39;t perfect and is a port of my algorithm for one situation to another. I didn&#39;t mean to convey that this is robust."},{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":0,"creation_date":1358710177,"post_id":14419059,"comment_id":20085111,"body_markdown":"filtering the lines based on the slope is perfectly fine, but that assumes you already know the pixelation pattern. What if it is rotated ? Or a different pixelation strategy is used ? Or maybe the photo is somewhat angled ? And, ultimately, if you filter like this in every image, you will likely construct a grid given any image, since you have so many lines there. The question&#39;s scope is very unclear. I&#39;ve determined the grid from the obtained lines in my answer, that is not hard at all.","body":"filtering the lines based on the slope is perfectly fine, but that assumes you already know the pixelation pattern. What if it is rotated ? Or a different pixelation strategy is used ? Or maybe the photo is somewhat angled ? And, ultimately, if you filter like this in every image, you will likely construct a grid given any image, since you have so many lines there. The question&#39;s scope is very unclear. I&#39;ve determined the grid from the obtained lines in my answer, that is not hard at all."}],"tags":[],"owner":{"account_id":81564,"reputation":3843,"user_id":229896,"accept_rate":93,"display_name":"rh"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1358689287,"creation_date":1358630735,"answer_id":14419059,"question_id":14418983,"body_markdown":"Some approaches:\r\n\r\n1) Implement canny or other edge detection and vary the edge threshold to see if the result is a grid. A grid can be detected by applying Hough line detector to the resulting edge image. See (2) below.\r\n\r\n2) (This is really thresholding the image before edge detection; also suggest smoothing image with median filter or other noise removal filter). Scan from left to right and at each pixel color change assign either black or white to the pixel. Continue with black/white until the color changes and toggle from black to white or white to black. If pixelated you will end up with a grid like image. You can run a standard line detection on the iamge (which you can do for [1] as well) and see if the slopes of the resulting lines are vertical and parallel and if the lines are fairly equidistant. There are sample line detection algorithms on the internet (even Java implementations).\r\n\r\nThis [website][1] has references to line detection and edge detection algorithms.\r\n\r\nEDIT: In response to question from mmgp (+1 for the challenge, I like that!), this is what I did with the sample image in the question:\r\n1) Edge detection\r\n2) Gray-scale\r\n3) Hugh-transform (high threshold)\r\nAttached is the hugh-transform output. By evaluating all lines that have horizontal/vertical slope and computing distance between them, a grid pattern can be discerned. This does not automatically mean the image is pixelated (a chess board would show up as pixelated). There can be false positives.\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://codebazaar.blogspot.com/2011/08/chess-board-recognition-project-part-1.html\r\n  [2]: http://i.stack.imgur.com/ePJoK.png","title":"How to detect if an image is pixelated","body":"<p>Some approaches:</p>\n\n<p>1) Implement canny or other edge detection and vary the edge threshold to see if the result is a grid. A grid can be detected by applying Hough line detector to the resulting edge image. See (2) below.</p>\n\n<p>2) (This is really thresholding the image before edge detection; also suggest smoothing image with median filter or other noise removal filter). Scan from left to right and at each pixel color change assign either black or white to the pixel. Continue with black/white until the color changes and toggle from black to white or white to black. If pixelated you will end up with a grid like image. You can run a standard line detection on the iamge (which you can do for <a href=\"http://codebazaar.blogspot.com/2011/08/chess-board-recognition-project-part-1.html\" rel=\"nofollow noreferrer\">1</a> as well) and see if the slopes of the resulting lines are vertical and parallel and if the lines are fairly equidistant. There are sample line detection algorithms on the internet (even Java implementations).</p>\n\n<p>This <a href=\"http://codebazaar.blogspot.com/2011/08/chess-board-recognition-project-part-1.html\" rel=\"nofollow noreferrer\">website</a> has references to line detection and edge detection algorithms.</p>\n\n<p>EDIT: In response to question from mmgp (+1 for the challenge, I like that!), this is what I did with the sample image in the question:\n1) Edge detection\n2) Gray-scale\n3) Hugh-transform (high threshold)\nAttached is the hugh-transform output. By evaluating all lines that have horizontal/vertical slope and computing distance between them, a grid pattern can be discerned. This does not automatically mean the image is pixelated (a chess board would show up as pixelated). There can be false positives.</p>\n\n<p><img src=\"https://i.stack.imgur.com/ePJoK.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":0,"creation_date":1358640923,"post_id":14420092,"comment_id":20071040,"body_markdown":"It is not enough to illustrate that assumption, because it can&#39;t work quite nicely. Could you check what it returns for http://i.imgur.com/pyKMkCi.png ? This image is certainly not &quot;pixelated&quot;.","body":"It is not enough to illustrate that assumption, because it can&#39;t work quite nicely. Could you check what it returns for <a href=\"http://i.imgur.com/pyKMkCi.png\" rel=\"nofollow noreferrer\">i.imgur.com/pyKMkCi.png</a> ? This image is certainly not &quot;pixelated&quot;."},{"owner":{"account_id":1205307,"reputation":34600,"user_id":1175101,"accept_rate":82,"display_name":"fraxel"},"score":0,"creation_date":1358642565,"post_id":14420092,"comment_id":20071339,"body_markdown":"@mmgp - I&#39;m quite clear in the post that this is a starting point. Which part of &quot;quick and rough python code, to give an idea of an approach&quot; do you not understand?","body":"@mmgp - I&#39;m quite clear in the post that this is a starting point. Which part of &quot;quick and rough python code, to give an idea of an approach&quot; do you not understand?"},{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":0,"creation_date":1358642770,"post_id":14420092,"comment_id":20071379,"body_markdown":"That part just indicates that the language being used is irrelevant, and the piece of code could supposedly be better. Did you test with the example in the link I included ? That clearly shows the method doesn&#39;t work.","body":"That part just indicates that the language being used is irrelevant, and the piece of code could supposedly be better. Did you test with the example in the link I included ? That clearly shows the method doesn&#39;t work."},{"owner":{"account_id":1205307,"reputation":34600,"user_id":1175101,"accept_rate":82,"display_name":"fraxel"},"score":0,"creation_date":1358643900,"post_id":14420092,"comment_id":20071551,"body_markdown":"@mmgp - I think you may have misunderstood. I am saying that the approach to analyse the peaks that i show is rough (not the coding - although it is too). Taking only the standard deviation is not enough (its just a quick demonstation), also the width of the peaks should be around 1. And what if you have the first graph but some peaks are missing (the image could be pixellated but have a large constant colour region). So the algorithm should be able to cope with that too. This approach can certainly work, but I have only coded a quick example illustration.","body":"@mmgp - I think you may have misunderstood. I am saying that the approach to analyse the peaks that i show is rough (not the coding - although it is too). Taking only the standard deviation is not enough (its just a quick demonstation), also the width of the peaks should be around 1. And what if you have the first graph but some peaks are missing (the image could be pixellated but have a large constant colour region). So the algorithm should be able to cope with that too. This approach can certainly work, but I have only coded a quick example illustration."}],"tags":[],"owner":{"account_id":1205307,"reputation":34600,"user_id":1175101,"accept_rate":82,"display_name":"fraxel"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1358638570,"creation_date":1358638570,"answer_id":14420092,"question_id":14418983,"body_markdown":"Here is a fairly simple approach which could work:\r\n\r\n 1. Subtract the image from a copy translated by 1 pixel in both x, and y.\r\n 2. Sum the pixels in columns and rows (I only show columns below).\r\n 3. Figure out the frequency and standard deviation of the peak positions.\r\n 4. If the standard deviation is below some threshold then the image is pixellated.\r\n\r\nYour image after step 1:\r\n\r\n![enter image description here][1]\r\n\r\nShowing a clear grid pattern. Now if we sum the pixels columnarly we get:\r\n\r\n![enter image description here][2]\r\nNow if we can figure out the regularity of the peak column spacing, and use this as a threshold to determine if the image is pixelated or not.\r\n\r\nHere is some quick and rough python code, to give an idea of an approach:\r\n\r\n    import numpy as np\r\n    import Image, ImageChops\r\n\r\n    im = Image.open(&#39;fireworks-pixelate-02.gif&#39;)    \r\n    im2 = im.transform(im.size, Image.AFFINE, (1,0,1,0,1,1))\r\n    im3 = ImageChops.subtract(im, im2)\r\n    im3 = np.asarray(im3)\r\n    im3 = np.sum(im3,axis=0)[:-1]\r\n    mean = np.mean(im3)\r\n    peak_spacing = np.diff([i for i,v in enumerate(im3) if v &gt; mean*2])\r\n    mean_spacing = np.mean(peak_spacing)\r\n    std_spacing = np.std(peak_spacing)\r\n    print &#39;mean gap:&#39;, mean_spacing, &#39;std&#39;, std_spacing\r\n\r\nOutput:\r\n\r\n    mean gap: 14.6944444444 std: 3.23882218342\r\n\r\nLow std = pixelated image\r\n\r\nThis unpixelated image:\r\n![enter image description here][3]\r\n\r\nHas a corresponding graph like this:\r\n\r\n![enter image description here][4]\r\nyeilding a much higher std:\r\n\r\n\r\n    mean gap: 16.1666666667 std: 26.8416136293\r\n\r\nNote here, that the &quot;mean gap&quot; is meaningless becuase the std is much higher.\r\n\r\nHopefully this is enough to illustrate that this approach could work quite nicely.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KDOIs.png\r\n  [2]: http://i.stack.imgur.com/9HFJS.png\r\n  [3]: http://i.stack.imgur.com/2KAdQ.gif\r\n  [4]: http://i.stack.imgur.com/8phde.png","title":"How to detect if an image is pixelated","body":"<p>Here is a fairly simple approach which could work:</p>\n\n<ol>\n<li>Subtract the image from a copy translated by 1 pixel in both x, and y.</li>\n<li>Sum the pixels in columns and rows (I only show columns below).</li>\n<li>Figure out the frequency and standard deviation of the peak positions.</li>\n<li>If the standard deviation is below some threshold then the image is pixellated.</li>\n</ol>\n\n<p>Your image after step 1:</p>\n\n<p><img src=\"https://i.stack.imgur.com/KDOIs.png\" alt=\"enter image description here\"></p>\n\n<p>Showing a clear grid pattern. Now if we sum the pixels columnarly we get:</p>\n\n<p><img src=\"https://i.stack.imgur.com/9HFJS.png\" alt=\"enter image description here\">\nNow if we can figure out the regularity of the peak column spacing, and use this as a threshold to determine if the image is pixelated or not.</p>\n\n<p>Here is some quick and rough python code, to give an idea of an approach:</p>\n\n<pre><code>import numpy as np\nimport Image, ImageChops\n\nim = Image.open('fireworks-pixelate-02.gif')    \nim2 = im.transform(im.size, Image.AFFINE, (1,0,1,0,1,1))\nim3 = ImageChops.subtract(im, im2)\nim3 = np.asarray(im3)\nim3 = np.sum(im3,axis=0)[:-1]\nmean = np.mean(im3)\npeak_spacing = np.diff([i for i,v in enumerate(im3) if v &gt; mean*2])\nmean_spacing = np.mean(peak_spacing)\nstd_spacing = np.std(peak_spacing)\nprint 'mean gap:', mean_spacing, 'std', std_spacing\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>mean gap: 14.6944444444 std: 3.23882218342\n</code></pre>\n\n<p>Low std = pixelated image</p>\n\n<p>This unpixelated image:\n<img src=\"https://i.stack.imgur.com/2KAdQ.gif\" alt=\"enter image description here\"></p>\n\n<p>Has a corresponding graph like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/8phde.png\" alt=\"enter image description here\">\nyeilding a much higher std:</p>\n\n<pre><code>mean gap: 16.1666666667 std: 26.8416136293\n</code></pre>\n\n<p>Note here, that the \"mean gap\" is meaningless becuase the std is much higher.</p>\n\n<p>Hopefully this is enough to illustrate that this approach could work quite nicely.</p>\n"},{"comments":[{"owner":{"account_id":1983292,"reputation":3476,"user_id":1779316,"accept_rate":80,"display_name":"thang"},"score":0,"creation_date":1358696494,"post_id":14425857,"comment_id":20081140,"body_markdown":"would this algorithm think that a brick wall is a pixellated image?","body":"would this algorithm think that a brick wall is a pixellated image?"},{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":0,"creation_date":1358696748,"post_id":14425857,"comment_id":20081218,"body_markdown":"@thang possibly, if we can fully detect the edges (and only those edges) of the brick wall. I mentioned some times that it is detecting rectangular areas, right ?","body":"@thang possibly, if we can fully detect the edges (and only those edges) of the brick wall. I mentioned some times that it is detecting rectangular areas, right ?"},{"owner":{"account_id":1983292,"reputation":3476,"user_id":1779316,"accept_rate":80,"display_name":"thang"},"score":0,"creation_date":1358696785,"post_id":14425857,"comment_id":20081233,"body_markdown":"or how about something like this (from quora): http://www.vectorstock.com/i/composite/21,67/262167/fabric-texture-with-squares-vector.jpg. http://www.quora.com/How-do-I-detect-if-an-image-is-pixelated","body":"or how about something like this (from quora): <a href=\"http://www.vectorstock.com/i/composite/21,67/262167/fabric-texture-with-squares-vector.jpg\" rel=\"nofollow noreferrer\">vectorstock.com/i/composite/21,67/262167/&hellip;</a>. <a href=\"http://www.quora.com/How-do-I-detect-if-an-image-is-pixelated\" rel=\"nofollow noreferrer\">quora.com/How-do-I-detect-if-an-image-is-pixelated</a>"},{"owner":{"account_id":1983292,"reputation":3476,"user_id":1779316,"accept_rate":80,"display_name":"thang"},"score":0,"creation_date":1358696976,"post_id":14425857,"comment_id":20081292,"body_markdown":"i am wondering where the pixellation comes from.  it isn&#39;t just down sampled by averaging and then up sampled because the big square pixels   don&#39;t individually contain only one color...","body":"i am wondering where the pixellation comes from.  it isn&#39;t just down sampled by averaging and then up sampled because the big square pixels   don&#39;t individually contain only one color..."},{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":0,"creation_date":1358697304,"post_id":14425857,"comment_id":20081372,"body_markdown":"@thang it detects most of the components in that linked image as rectangular (see https://lh3.ggpht.com/Q_LY3lRA18AkFMyeYRYHXoZmLwRyL5Pk_uOoPo3eWM-s_WzRmeRK1OrrzBWMc9dKUi_sGLw=s85), so it is doing what it promised in this case. I can&#39;t read the answers in your other included link, is there anything interesting ? The Fourier part that I can read is very simplistic.","body":"@thang it detects most of the components in that linked image as rectangular (see <a href=\"https://lh3.ggpht.com/Q_LY3lRA18AkFMyeYRYHXoZmLwRyL5Pk_uOoPo3eWM-s_WzRmeRK1OrrzBWMc9dKUi_sGLw=s85\" rel=\"nofollow noreferrer\">lh3.ggpht.com/&hellip;</a>), so it is doing what it promised in this case. I can&#39;t read the answers in your other included link, is there anything interesting ? The Fourier part that I can read is very simplistic."},{"owner":{"account_id":1983292,"reputation":3476,"user_id":1779316,"accept_rate":80,"display_name":"thang"},"score":0,"creation_date":1358697740,"post_id":14425857,"comment_id":20081490,"body_markdown":"nothing useful on quora.  the problem with detecting line edges is that you can confuse an actual image containing lines with a pixelated image.  if you look at the image, you can clearly tell that an image is pixelated vs a scene containing a lot of horizontal and vertical lines...","body":"nothing useful on quora.  the problem with detecting line edges is that you can confuse an actual image containing lines with a pixelated image.  if you look at the image, you can clearly tell that an image is pixelated vs a scene containing a lot of horizontal and vertical lines..."},{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":0,"creation_date":1358698350,"post_id":14425857,"comment_id":20081694,"body_markdown":"@thang I believe it is useful to detect line edges, but it is not sufficient to solve the problem. Your earlier image could be arranged to represent a pixelated drawing, and this makes the problem a lot harder. You cannot rely on the interpretation of one rectangular component per time, instead you need to do a composite analysis. This would clearly get into the realm of machine learning. If you can provide me enough pixelated and non-pixelated images of different categories (because I&#39;m not that interested in producing them), then I could try something else.","body":"@thang I believe it is useful to detect line edges, but it is not sufficient to solve the problem. Your earlier image could be arranged to represent a pixelated drawing, and this makes the problem a lot harder. You cannot rely on the interpretation of one rectangular component per time, instead you need to do a composite analysis. This would clearly get into the realm of machine learning. If you can provide me enough pixelated and non-pixelated images of different categories (because I&#39;m not that interested in producing them), then I could try something else."},{"owner":{"account_id":1983292,"reputation":3476,"user_id":1779316,"accept_rate":80,"display_name":"thang"},"score":0,"creation_date":1358698561,"post_id":14425857,"comment_id":20081755,"body_markdown":"actually, i am thinking of something even simpler.  that is, to model the pixelation process.  for example, if pixelation were due exclusively to average down sampling and then up sampling, then one can look at the spectral amplitude and phase.  average down sampling applies a rect filter, which reverses the phase at every other harmonics of Nyquist.  spectral amplitude should follow a sinc envelope.  one can just as well model other forms of pixellation.  for example, http://i.stack.imgur.com/1QTlnm.gif is likely from JPEG with very low Q, decoded, and blown up.","body":"actually, i am thinking of something even simpler.  that is, to model the pixelation process.  for example, if pixelation were due exclusively to average down sampling and then up sampling, then one can look at the spectral amplitude and phase.  average down sampling applies a rect filter, which reverses the phase at every other harmonics of Nyquist.  spectral amplitude should follow a sinc envelope.  one can just as well model other forms of pixellation.  for example, <a href=\"http://i.stack.imgur.com/1QTlnm.gif\" rel=\"nofollow noreferrer\">i.stack.imgur.com/1QTlnm.gif</a> is likely from JPEG with very low Q, decoded, and blown up."}],"tags":[],"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358694453,"creation_date":1358694453,"answer_id":14425857,"question_id":14418983,"body_markdown":"This is going to be problematic, there are many ways to pixelate images. Even using a single method, you can have it arbitrarily rotated. In theory this rotation shouldn&#39;t affect methods like Hough, but in practice it does because you cannot have perfectly rasterized lines at arbitrary angles. My approach is simplistic, it is not going to work every time (it will probably fail most of time), but you really have to better define what you want to do. Are you going to tell the user: &quot;hey, your image is pixelated, I don&#39;t want it&quot; ? What you want to do is not clear, the scope is not clear too.\r\n\r\nSo here is the approach. Split your image into its color channels, your example one is a palleted GIF but that can be easily seen as a RGB image. If it is a grayscale then you mostly like have one channel, that is fine. If your image have an alpha channel, either blend it or ignore it. With this separated color channels, apply a morphological gradient in each one, binarize each one by Otsu (since it is automatic, relatively good, easily available), and combine the n binary channels into one by adding them. The morphological gradient will give a high response for strong edges (including noise), and the binarization step will keep them. Now you remove components that are too small and do a thinning to get one-pixel-wide edges. Here is what we get with your example image after these steps:\r\n\r\n![enter image description here][1] ![enter image description here][2]\r\n\r\n    f = Import[&quot;http://www.caughtinthefire.com/wp-content/uploads/2009/03/\\\r\n         fireworks-pixelate-02.gif&quot;]\r\n    split = Binarize[ImageSubtract[Dilation[#, 1], Erosion[#, 1]]] &amp; /@ \r\n      ColorSeparate[f, &quot;RGB&quot;]\r\n    thin = Thinning[SelectComponents[Fold[ImageAdd, split[[1]], split[[2 ;;]]], \r\n      &quot;Count&quot;, # &gt; 10 &amp;]]\r\n\r\nNow we proceed to detect the lines in this thinned binary image. The expectation is that it will form many rectangular areas when the image is pixelated, but there is no guarantee that we can actually form these rectangular areas. Supposing we can, consider each of these areas as a connected component. Then if we perform a simply component analysis as: if the ratio between the area of its convex hull and the area of its bounding box is greater than some value, then this area is a rectangular area. If we end up with many rectangular areas, then you say your image is pixelated (but actually there is no confidence on saying such thing). Next we see the original image with the detected lines overlaid, at right we see the connected components (points that are not black) that remain after considering the analysis mentioned using a ratio &gt; 95%. In this case, there were 542 connected components in total, which were reduced to 483. This means nearly 90% of the components are rectangular. You could also take into consideration the area of the remaining components, or combine this analysis with other ones, but I&#39;m not doing this here.\r\n\r\n![enter image description here][3] ![enter image description here][4]\r\n\r\n    lines = ImageLines[thin, 0.05, Method -&gt; &quot;RANSAC&quot;];\r\n    Show[f, Graphics[{Thick, Blue, Line /@ lines}]] (* The left image above. *)\r\n    blank = Image[ConstantArray[255, Reverse@ImageDimensions[thin]]];\r\n    blankcc = ImagePad[Binarize[Image[Show[blank, \r\n      Graphics[{Thick, Black, Line /@ lines}]]]], 1, Black]\r\n    ccrect = SelectComponents[MorphologicalComponents[blankcc], {&quot;BoundingBoxArea&quot;, \r\n      &quot;ConvexArea&quot;}, #2/#1 &gt; 0.95 &amp;];\r\n    Colorize[ccrect, ColorFunction -&gt; &quot;DarkRainbow&quot;] (* The right image above. *)\r\n\r\nThis is your indication of &quot;pixelated&quot;.\r\n\r\nHere are other results considering other images. This is always a sequence of three images in this order: original, result as above without changing anything, result as above after changing the threshold for line detection.\r\n\r\nEverything detected as rectangular. But a threshold of `0.05` for line detection is too high here, after reducing it to `0.01` we get a better division of the components.\r\n\r\n![enter image description here][5] ![enter image description here][6] ![enter image description here][7]\r\n\r\nNext we consider an image which is outside of what we expect, so we end up with very few components. There is no threshold for line detection that will give a greater amount of rectangular components, so the third image is empty (or fully black, since no component remains).\r\n\r\n![enter image description here][8] ![enter image description here][9]\r\n\r\nLastly, a pixelation where the squares are rotated. The process for generating the following image might have been different than the one used in the example image, but I have no idea since I&#39;m not the author. The right image is the result of raising the line threshold to `0.08`. The problem here is that the regions are relatively large, which I wouldn&#39;t consider for detection of pixelated images.\r\n\r\n![enter image description here][10] ![enter image description here][11] ![enter image description here][12]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/1QTlnm.gif\r\n  [2]: http://i.stack.imgur.com/Uj96Zm.png\r\n  [3]: http://i.stack.imgur.com/PgYzMm.png\r\n  [4]: http://i.stack.imgur.com/pXuTzm.png\r\n  [5]: http://i.stack.imgur.com/ifmoGm.jpg\r\n  [6]: http://i.stack.imgur.com/XAj11m.png\r\n  [7]: http://i.stack.imgur.com/GrLefm.png\r\n  [8]: http://i.stack.imgur.com/cCDY8m.jpg\r\n  [9]: http://i.stack.imgur.com/5iFQIm.png\r\n  [10]: http://i.stack.imgur.com/EJpMam.jpg\r\n  [11]: http://i.stack.imgur.com/J4TFlm.png\r\n  [12]: http://i.stack.imgur.com/RklP5m.png","title":"How to detect if an image is pixelated","body":"<p>This is going to be problematic, there are many ways to pixelate images. Even using a single method, you can have it arbitrarily rotated. In theory this rotation shouldn't affect methods like Hough, but in practice it does because you cannot have perfectly rasterized lines at arbitrary angles. My approach is simplistic, it is not going to work every time (it will probably fail most of time), but you really have to better define what you want to do. Are you going to tell the user: \"hey, your image is pixelated, I don't want it\" ? What you want to do is not clear, the scope is not clear too.</p>\n\n<p>So here is the approach. Split your image into its color channels, your example one is a palleted GIF but that can be easily seen as a RGB image. If it is a grayscale then you mostly like have one channel, that is fine. If your image have an alpha channel, either blend it or ignore it. With this separated color channels, apply a morphological gradient in each one, binarize each one by Otsu (since it is automatic, relatively good, easily available), and combine the n binary channels into one by adding them. The morphological gradient will give a high response for strong edges (including noise), and the binarization step will keep them. Now you remove components that are too small and do a thinning to get one-pixel-wide edges. Here is what we get with your example image after these steps:</p>\n\n<p><img src=\"https://i.stack.imgur.com/1QTlnm.gif\" alt=\"enter image description here\"> <img src=\"https://i.stack.imgur.com/Uj96Zm.png\" alt=\"enter image description here\"></p>\n\n<pre><code>f = Import[\"http://www.caughtinthefire.com/wp-content/uploads/2009/03/\\\n     fireworks-pixelate-02.gif\"]\nsplit = Binarize[ImageSubtract[Dilation[#, 1], Erosion[#, 1]]] &amp; /@ \n  ColorSeparate[f, \"RGB\"]\nthin = Thinning[SelectComponents[Fold[ImageAdd, split[[1]], split[[2 ;;]]], \n  \"Count\", # &gt; 10 &amp;]]\n</code></pre>\n\n<p>Now we proceed to detect the lines in this thinned binary image. The expectation is that it will form many rectangular areas when the image is pixelated, but there is no guarantee that we can actually form these rectangular areas. Supposing we can, consider each of these areas as a connected component. Then if we perform a simply component analysis as: if the ratio between the area of its convex hull and the area of its bounding box is greater than some value, then this area is a rectangular area. If we end up with many rectangular areas, then you say your image is pixelated (but actually there is no confidence on saying such thing). Next we see the original image with the detected lines overlaid, at right we see the connected components (points that are not black) that remain after considering the analysis mentioned using a ratio > 95%. In this case, there were 542 connected components in total, which were reduced to 483. This means nearly 90% of the components are rectangular. You could also take into consideration the area of the remaining components, or combine this analysis with other ones, but I'm not doing this here.</p>\n\n<p><img src=\"https://i.stack.imgur.com/PgYzMm.png\" alt=\"enter image description here\"> <img src=\"https://i.stack.imgur.com/pXuTzm.png\" alt=\"enter image description here\"></p>\n\n<pre><code>lines = ImageLines[thin, 0.05, Method -&gt; \"RANSAC\"];\nShow[f, Graphics[{Thick, Blue, Line /@ lines}]] (* The left image above. *)\nblank = Image[ConstantArray[255, Reverse@ImageDimensions[thin]]];\nblankcc = ImagePad[Binarize[Image[Show[blank, \n  Graphics[{Thick, Black, Line /@ lines}]]]], 1, Black]\nccrect = SelectComponents[MorphologicalComponents[blankcc], {\"BoundingBoxArea\", \n  \"ConvexArea\"}, #2/#1 &gt; 0.95 &amp;];\nColorize[ccrect, ColorFunction -&gt; \"DarkRainbow\"] (* The right image above. *)\n</code></pre>\n\n<p>This is your indication of \"pixelated\".</p>\n\n<p>Here are other results considering other images. This is always a sequence of three images in this order: original, result as above without changing anything, result as above after changing the threshold for line detection.</p>\n\n<p>Everything detected as rectangular. But a threshold of <code>0.05</code> for line detection is too high here, after reducing it to <code>0.01</code> we get a better division of the components.</p>\n\n<p><img src=\"https://i.stack.imgur.com/ifmoGm.jpg\" alt=\"enter image description here\"> <img src=\"https://i.stack.imgur.com/XAj11m.png\" alt=\"enter image description here\"> <img src=\"https://i.stack.imgur.com/GrLefm.png\" alt=\"enter image description here\"></p>\n\n<p>Next we consider an image which is outside of what we expect, so we end up with very few components. There is no threshold for line detection that will give a greater amount of rectangular components, so the third image is empty (or fully black, since no component remains).</p>\n\n<p><img src=\"https://i.stack.imgur.com/cCDY8m.jpg\" alt=\"enter image description here\"> <img src=\"https://i.stack.imgur.com/5iFQIm.png\" alt=\"enter image description here\"></p>\n\n<p>Lastly, a pixelation where the squares are rotated. The process for generating the following image might have been different than the one used in the example image, but I have no idea since I'm not the author. The right image is the result of raising the line threshold to <code>0.08</code>. The problem here is that the regions are relatively large, which I wouldn't consider for detection of pixelated images.</p>\n\n<p><img src=\"https://i.stack.imgur.com/EJpMam.jpg\" alt=\"enter image description here\"> <img src=\"https://i.stack.imgur.com/J4TFlm.png\" alt=\"enter image description here\"> <img src=\"https://i.stack.imgur.com/RklP5m.png\" alt=\"enter image description here\"></p>\n"}],"owner":{"account_id":44661,"reputation":9356,"user_id":131194,"accept_rate":63,"display_name":"birdy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8222,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1689006418,"creation_date":1358630268,"question_id":14418983,"body_markdown":"There is a question like this asked on SO earlier: https://stackoverflow.com/questions/12942365/detecting-a-pixelated-image-in-python and also on [quora][1]\r\n\r\nI&#39;m trying to find out whether an image uploaded by a user can be detected as &#39;pixelated&#39;. By pixelated I mean images [like these][2]: In my case I don&#39;t have access to the original (non-pixelated) version. \r\n\r\n**My approach**: \r\n\r\nNot sure how effective this approach would be but if I could get RGB of each pixel in the image and then compare it to its neighbors to see if they are similar then I could detect that the image is pixelated? I can get the RGB of pixels but don&#39;t know how to go about comparing them to their neighbors. \r\n\r\nAre there algorithms for doing something like this available already? Are there some other approaches I could take? I&#39;m not bound to any specific language. \r\n\r\n\r\n  [1]: http://www.quora.com/How-do-I-detect-if-an-image-is-pixelated\r\n  [2]: http://www.caughtinthefire.com/wp-content/uploads/2009/03/fireworks-pixelate-02.gif?","title":"How to detect if an image is pixelated","body":"<p>There is a question like this asked on SO earlier: <a href=\"https://stackoverflow.com/questions/12942365/detecting-a-pixelated-image-in-python\">Detecting a pixelated image in python</a> and also on <a href=\"http://www.quora.com/How-do-I-detect-if-an-image-is-pixelated\" rel=\"nofollow noreferrer\">quora</a></p>\n\n<p>I'm trying to find out whether an image uploaded by a user can be detected as 'pixelated'. By pixelated I mean images <a href=\"http://www.caughtinthefire.com/wp-content/uploads/2009/03/fireworks-pixelate-02.gif?\" rel=\"nofollow noreferrer\">like these</a>: In my case I don't have access to the original (non-pixelated) version. </p>\n\n<p><strong>My approach</strong>: </p>\n\n<p>Not sure how effective this approach would be but if I could get RGB of each pixel in the image and then compare it to its neighbors to see if they are similar then I could detect that the image is pixelated? I can get the RGB of pixels but don't know how to go about comparing them to their neighbors. </p>\n\n<p>Are there algorithms for doing something like this available already? Are there some other approaches I could take? I'm not bound to any specific language. </p>\n"},{"tags":["java","spring","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1689024051,"post_id":76655527,"comment_id":135152033,"body_markdown":"You could find [this tutorial](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_multitenant_dynamic) useful. It is a servlet, but adapting it to a reactive application is straight forward.","body":"You could find <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_multitenant_dynamic\" rel=\"nofollow noreferrer\">this tutorial</a> useful. It is a servlet, but adapting it to a reactive application is straight forward."},{"owner":{"account_id":963620,"reputation":2688,"user_id":987457,"accept_rate":100,"display_name":"Jonathan"},"score":0,"creation_date":1689100232,"post_id":76655527,"comment_id":135164493,"body_markdown":"Thanks for the hint. While it is not the solution I am looking for, it helped me to get a working idea. I will elaborate on that one and assuming it works out, I will post it.","body":"Thanks for the hint. While it is not the solution I am looking for, it helped me to get a working idea. I will elaborate on that one and assuming it works out, I will post it."}],"owner":{"account_id":963620,"reputation":2688,"user_id":987457,"accept_rate":100,"display_name":"Jonathan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689005322,"creation_date":1689005322,"question_id":76655527,"body_markdown":"I would like to build a multi-tenant OAuth2 Resource Server with Spring Boot (still 2.7).\r\n\r\nBasically, my requests are of the form `server:port/tenant/...` so I have to resolve the relevant auth server from the request URL. I have found this article [article from spring][1]. The issue here is, that you have to provide a list of valid auth servers which are then all valid for any request - which is wrong in my case.\r\n\r\nI have found the `ServerWebExchangeDelegatingReactiveAuthenticationManagerResolver`, which is not documented at all. Its method signature seems to imply, it is possible to dynamically return a `ReactiveAuthenticationManager` instance depending on the request URL.\r\n\r\nI am, however, unsure, how to generate the `ReactiveAuthenticationManager` instance. I have taken a look at the predefined classes which do not seem to solve the issue &quot;resolve JWT relative to a given issuer&quot;. Best bet seems to be the `JwtReactiveAuthenticationManager`, but this class only validates the JWT in itself, so any valid JWT is accepted and it is not verified, it came from the correct server.\r\n\r\nI now see different possibilities to proceed.\r\n\r\n 1. Generate my own instance of the `ReactiveAuthenticationManagerResolver`\r\n 2. Use the `ServerWebExchangeDelegatingReactiveAuthenticationManagerResolver` and provide my own instance of the enclosed `ReactiveAuthenticationManager`\r\n 3. Use the default `JwtReactiveAuthenticationManager` and fumble my own `ReactiveJwtDecoder`\r\n\r\nI think, all the paths my lead to an eventual success, but I am unsure, how it was meant to be done.\r\n\r\nAny hints?\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/multitenancy.html","title":"Multi Tenancy OAuth Resource Server","body":"<p>I would like to build a multi-tenant OAuth2 Resource Server with Spring Boot (still 2.7).</p>\n<p>Basically, my requests are of the form <code>server:port/tenant/...</code> so I have to resolve the relevant auth server from the request URL. I have found this article <a href=\"https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/multitenancy.html\" rel=\"nofollow noreferrer\">article from spring</a>. The issue here is, that you have to provide a list of valid auth servers which are then all valid for any request - which is wrong in my case.</p>\n<p>I have found the <code>ServerWebExchangeDelegatingReactiveAuthenticationManagerResolver</code>, which is not documented at all. Its method signature seems to imply, it is possible to dynamically return a <code>ReactiveAuthenticationManager</code> instance depending on the request URL.</p>\n<p>I am, however, unsure, how to generate the <code>ReactiveAuthenticationManager</code> instance. I have taken a look at the predefined classes which do not seem to solve the issue &quot;resolve JWT relative to a given issuer&quot;. Best bet seems to be the <code>JwtReactiveAuthenticationManager</code>, but this class only validates the JWT in itself, so any valid JWT is accepted and it is not verified, it came from the correct server.</p>\n<p>I now see different possibilities to proceed.</p>\n<ol>\n<li>Generate my own instance of the <code>ReactiveAuthenticationManagerResolver</code></li>\n<li>Use the <code>ServerWebExchangeDelegatingReactiveAuthenticationManagerResolver</code> and provide my own instance of the enclosed <code>ReactiveAuthenticationManager</code></li>\n<li>Use the default <code>JwtReactiveAuthenticationManager</code> and fumble my own <code>ReactiveJwtDecoder</code></li>\n</ol>\n<p>I think, all the paths my lead to an eventual success, but I am unsure, how it was meant to be done.</p>\n<p>Any hints?</p>\n"},{"tags":["java","spring-boot","microservices"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689005295,"creation_date":1689005295,"answer_id":76655522,"question_id":76654733,"body_markdown":"SocketUtils has been removed in Spring Boot 6. It was never intended for use on production, only for integration tests. Spring docu discourage to read available ports. For random port setting server.port=0 is the correct way. Letting server to provide one for you.","title":"How to setup a micro service to run in any available port with in a particular range in spring boot","body":"<p>SocketUtils has been removed in Spring Boot 6. It was never intended for use on production, only for integration tests. Spring docu discourage to read available ports. For random port setting server.port=0 is the correct way. Letting server to provide one for you.</p>\n"}],"owner":{"account_id":28987702,"reputation":1,"user_id":22204202,"display_name":"Kiran Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689005295,"creation_date":1688999229,"question_id":76654733,"body_markdown":"I am trying to implement a microservice in SpringBoot that will have several instances running on the same virtual server for load balancing. Rather than assigning a specific port at deployment time, I want to configure the microservice to dynamically use an unused port from a preconfigured  range of ports. \r\n\r\nI have not yet tried anything to solve the issue","title":"How to setup a micro service to run in any available port with in a particular range in spring boot","body":"<p>I am trying to implement a microservice in SpringBoot that will have several instances running on the same virtual server for load balancing. Rather than assigning a specific port at deployment time, I want to configure the microservice to dynamically use an unused port from a preconfigured  range of ports.</p>\n<p>I have not yet tried anything to solve the issue</p>\n"},{"tags":["java","sql","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688991072,"post_id":76653589,"comment_id":135145102,"body_markdown":"Please format the stacktrace correctly","body":"Please format the stacktrace correctly"},{"owner":{"account_id":22137140,"reputation":11,"user_id":16387706,"display_name":"Jboyd34"},"score":0,"creation_date":1689005316,"post_id":76653589,"comment_id":135148731,"body_markdown":"@Jens Is that better or is there another way to format it?","body":"@Jens Is that better or is there another way to format it?"}],"answers":[{"tags":[],"owner":{"account_id":26758492,"reputation":46,"user_id":20356781,"display_name":"Pyaeth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688994414,"creation_date":1688993641,"answer_id":76653950,"question_id":76653589,"body_markdown":"is the database you use H2 or any database that has USER as a reserved keyword? From the error stack trace this is what I am suspecting. Try to rename your table to something custom, like *UserSummary*, and see if this is still reproducible.\r\nOr you can use this in application.properties:\r\n````\r\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\n````\r\n\r\nMore about this [here][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-h2-jdbcsqlsyntaxerrorexception-expected-identifier","title":"Spring JPA find by method is getting SQL statement error","body":"<p>is the database you use H2 or any database that has USER as a reserved keyword? From the error stack trace this is what I am suspecting. Try to rename your table to something custom, like <em>UserSummary</em>, and see if this is still reproducible.\nOr you can use this in application.properties:</p>\n<pre><code>spring.jpa.properties.hibernate.globally_quoted_identifiers=true\n</code></pre>\n<p>More about this <a href=\"https://www.baeldung.com/spring-boot-h2-jdbcsqlsyntaxerrorexception-expected-identifier\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":22137140,"reputation":11,"user_id":16387706,"display_name":"Jboyd34"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689005238,"creation_date":1688990908,"question_id":76653589,"body_markdown":"I am creating a API for a dining review. I am using spring MVC method and trying to add a user to my database using a post method at the url of http://localhost:8080/user/add . I am able to connect to my spring app and I see that everything is working as expected until my application attempts to run the findByUsername method I&#39;ve created in my repo. \r\nHere is my model class \r\n\r\n```\r\npackage com.dining.model;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Component\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Entity(name = &quot;User&quot;)\r\n@Table(name = &quot;User&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\tprivate String username;\r\n\tprivate String city;\r\n\tprivate String state;\r\n\tprivate String zip;\r\n\tprivate boolean peanutAll;\r\n\tprivate boolean eggAll;\r\n\tprivate boolean dairyAll;\r\n\t\r\n\r\n\t\r\n\t\r\n}\r\n```\r\nController \r\n\r\n```\r\npackage com.dining.controller;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.dining.exceptions.UserAlreadyExistsException;\r\nimport com.dining.model.User;\r\nimport com.dining.service.UserService;\r\n\r\nimport jakarta.validation.Valid;\r\n\r\n@RestController\r\n\r\n@RequestMapping(path=&quot;/user&quot;)\r\npublic class UserController {\r\n\t@Autowired UserService userv;\r\n\t@Autowired User returnUser;\r\n\t@PostMapping(&quot;/add&quot;)\r\n\tpublic ResponseEntity&lt;User&gt; addUser(@Valid @RequestBody User user){\r\n\t\tSystem.out.print(user.getUsername());\r\n\tOptional&lt;User&gt; tempUser =\tuserv.getUser(user.getUsername());\r\n\tif(tempUser.isEmpty()) {\r\n\t\treturnUser = userv.addUser(user);\r\n\t\treturn ResponseEntity.ok(returnUser);\r\n\t}\r\n\telse {\r\n\t\tthrow new UserAlreadyExistsException(String.format(&quot;User %s already exists&quot;, user.getUsername()));\r\n\t}\r\n\r\n\t}\r\n}\r\n\r\n```\r\nService layer \r\n\r\n```\r\npackage com.dining.service;\r\n\r\nimport java.util.Optional;\r\nimport java.util.logging.Logger;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.dining.data.UserRepo;\r\nimport com.dining.exceptions.ChangeUsernameException;\r\nimport com.dining.exceptions.UserNotFoundException;\r\nimport com.dining.model.User;\r\n\r\n@Service\r\npublic class UserService {\r\n\r\n\t@Autowired UserRepo userRepo;\r\n\t@Autowired User tempUser;\r\n\t\r\n\t\r\n\tpublic User addUser(User user) {\r\n\t\ttry {\r\n\t\t\tif(userRepo.findByUsername(user.getUsername()) != null) {\r\n\t\t\t\tthrow new SecurityException();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttempUser = userRepo.save(user);\r\n\t\t\t\t//future implementation is to add security (password)\r\n\t\t\t\treturn tempUser;\r\n\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tcatch(SecurityException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t\tSystem.out.printf(&quot;Username %s&quot;, user.getUsername())\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch(Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Optional&lt;User&gt; getUser(String username) {\r\n\t\t\r\n\t\tOptional &lt;User&gt; tempUser = userRepo.findByUsername(username);\r\n\t\tif(tempUser.isEmpty()){\r\n\t\t\tthrow new UserNotFoundException(String.format(&quot;Unable to find user: %s&quot;, username));\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn tempUser;\r\n\t\t}\r\n\t\r\n\t\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npackage com.dining.data;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.dining.model.User;\r\n@Repository\r\npublic interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\r\n\t\r\n\r\n\r\n\tOptional&lt;User&gt; findByUsername(String username);\r\n}\r\n\r\n```\r\n\r\n\r\nI have tried sending this JSON object as my body of my request. I believe the sql error comes from username value not being read. It shows username=? in the sql statement\r\n```\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;username&quot;:&quot;Jb&quot;,\r\n    &quot;city&quot;: &quot;toledo&quot;,\r\n    &quot;state&quot;: &quot;NC&quot;,\r\n    &quot;zip&quot;: &quot;43706&quot;,\r\n    &quot;peanutAll&quot;:&quot;false&quot;,\r\n    &quot;eggAll&quot;:&quot;false&quot;,\r\n    &quot;dairyAll&quot;:&quot;false&quot;\r\n}\r\n```\r\nI am noticing that if I mispell the username key in my object it isn&#39;t throwing an error. It still attempts to run the sql statement but shows username=null . Here is the error stack tracing im getting \r\n\r\n\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \\&quot;select u1_0.id,u1_0.city,u1_0.dairy_all,u1_0.egg_all,u1_0.peanut_all,u1_0.state,u1_0.username,u1_0.zip from [*]user u1_0 where u1_0.username=?\\&quot;; expected \\&quot;identifier\\&quot;; SQL statement:\\nselect u1_0.id,u1_0.city,u1_0.dairy_all,u1_0.egg_all,u1_0.peanut_all,u1_0.state,u1_0.username,u1_0.zip from user u1_0 where u1_0.username=? [42001-214]] [select u1_0.id,u1_0.city,u1_0.dairy_all,u1_0.egg_all,u1_0.peanut_all,u1_0.state,u1_0.username,u1_0.zip from user u1_0 where u1_0.username=?]; SQL [select u1_0.id,u1_0.city,u1_0.dairy_all,u1_0.egg_all,u1_0.peanut_all,u1_0.state,u1_0.username,u1_0.zip from user u1_0 where u1_0.username=?]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\\r\\n\\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\\r\\n\\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\\r\\n\\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\\r\\n\\tat jdk.proxy5/jdk.proxy5.$Proxy120.findByUsername(Unknown Source)\\r\\n\\tat com.dining.service.UserService.getUser(UserService.java:48)\r\n\r\n","title":"Spring JPA find by method is getting SQL statement error","body":"<p>I am creating a API for a dining review. I am using spring MVC method and trying to add a user to my database using a post method at the url of http://localhost:8080/user/add . I am able to connect to my spring app and I see that everything is working as expected until my application attempts to run the findByUsername method I've created in my repo.\nHere is my model class</p>\n<pre><code>package com.dining.model;\n\nimport org.springframework.stereotype.Component;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Component\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Entity(name = &quot;User&quot;)\n@Table(name = &quot;User&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String username;\n    private String city;\n    private String state;\n    private String zip;\n    private boolean peanutAll;\n    private boolean eggAll;\n    private boolean dairyAll;\n    \n\n    \n    \n}\n</code></pre>\n<p>Controller</p>\n<pre><code>package com.dining.controller;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.dining.exceptions.UserAlreadyExistsException;\nimport com.dining.model.User;\nimport com.dining.service.UserService;\n\nimport jakarta.validation.Valid;\n\n@RestController\n\n@RequestMapping(path=&quot;/user&quot;)\npublic class UserController {\n    @Autowired UserService userv;\n    @Autowired User returnUser;\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;User&gt; addUser(@Valid @RequestBody User user){\n        System.out.print(user.getUsername());\n    Optional&lt;User&gt; tempUser =   userv.getUser(user.getUsername());\n    if(tempUser.isEmpty()) {\n        returnUser = userv.addUser(user);\n        return ResponseEntity.ok(returnUser);\n    }\n    else {\n        throw new UserAlreadyExistsException(String.format(&quot;User %s already exists&quot;, user.getUsername()));\n    }\n\n    }\n}\n\n</code></pre>\n<p>Service layer</p>\n<pre><code>package com.dining.service;\n\nimport java.util.Optional;\nimport java.util.logging.Logger;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.dining.data.UserRepo;\nimport com.dining.exceptions.ChangeUsernameException;\nimport com.dining.exceptions.UserNotFoundException;\nimport com.dining.model.User;\n\n@Service\npublic class UserService {\n\n    @Autowired UserRepo userRepo;\n    @Autowired User tempUser;\n    \n    \n    public User addUser(User user) {\n        try {\n            if(userRepo.findByUsername(user.getUsername()) != null) {\n                throw new SecurityException();\n            }\n            else {\n                tempUser = userRepo.save(user);\n                //future implementation is to add security (password)\n                return tempUser;\n                        \n            }\n        }\n        \n        catch(SecurityException ex) {\n            ex.printStackTrace();\n            System.out.printf(&quot;Username %s&quot;, user.getUsername())\n            \n        }\n        catch(Exception ex) {\n            ex.printStackTrace();\n        }\n        \n        \n    }\n    \n    public Optional&lt;User&gt; getUser(String username) {\n        \n        Optional &lt;User&gt; tempUser = userRepo.findByUsername(username);\n        if(tempUser.isEmpty()){\n            throw new UserNotFoundException(String.format(&quot;Unable to find user: %s&quot;, username));\n            \n        }\n        else {\n            return tempUser;\n        }\n    \n    \n    }\n\n}\n</code></pre>\n<pre><code>package com.dining.data;\n\nimport java.util.Optional;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport com.dining.model.User;\n@Repository\npublic interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\n    \n\n\n    Optional&lt;User&gt; findByUsername(String username);\n}\n\n</code></pre>\n<p>I have tried sending this JSON object as my body of my request. I believe the sql error comes from username value not being read. It shows username=? in the sql statement</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;username&quot;:&quot;Jb&quot;,\n    &quot;city&quot;: &quot;toledo&quot;,\n    &quot;state&quot;: &quot;NC&quot;,\n    &quot;zip&quot;: &quot;43706&quot;,\n    &quot;peanutAll&quot;:&quot;false&quot;,\n    &quot;eggAll&quot;:&quot;false&quot;,\n    &quot;dairyAll&quot;:&quot;false&quot;\n}\n</code></pre>\n<p>I am noticing that if I mispell the username key in my object it isn't throwing an error. It still attempts to run the sql statement but shows username=null . Here is the error stack tracing im getting</p>\n<p>org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement &quot;select u1_0.id,u1_0.city,u1_0.dairy_all,u1_0.egg_all,u1_0.peanut_all,u1_0.state,u1_0.username,u1_0.zip from [*]user u1_0 where u1_0.username=?&quot;; expected &quot;identifier&quot;; SQL statement:\\nselect u1_0.id,u1_0.city,u1_0.dairy_all,u1_0.egg_all,u1_0.peanut_all,u1_0.state,u1_0.username,u1_0.zip from user u1_0 where u1_0.username=? [42001-214]] [select u1_0.id,u1_0.city,u1_0.dairy_all,u1_0.egg_all,u1_0.peanut_all,u1_0.state,u1_0.username,u1_0.zip from user u1_0 where u1_0.username=?]; SQL [select u1_0.id,u1_0.city,u1_0.dairy_all,u1_0.egg_all,u1_0.peanut_all,u1_0.state,u1_0.username,u1_0.zip from user u1_0 where u1_0.username=?]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\\r\\n\\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\\r\\n\\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\\r\\n\\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\\r\\n\\tat jdk.proxy5/jdk.proxy5.$Proxy120.findByUsername(Unknown Source)\\r\\n\\tat com.dining.service.UserService.getUser(UserService.java:48)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689061968,"post_id":76655441,"comment_id":135156025,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":12806374,"reputation":26,"user_id":9265910,"display_name":""},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689004629,"creation_date":1689004629,"question_id":76655441,"body_markdown":"my code is:\r\n\r\n```\r\n       OHCache&lt;Integer, String&gt; cache = OHCacheBuilder.&lt;Integer, String&gt;newBuilder()\r\n                .keySerializer(new IntSerializer())\r\n                .valueSerializer(new StringSerializer())\r\n                .capacity(64 * 1024 * 1024)\r\n                .eviction(Eviction.LRU)\r\n                .throwOOME(true)\r\n                .build();\r\n        byte[] _1mb = new byte[1 * 1024 * 1024];\r\n        for (int i = 0; i &lt; 10000; i++) {\r\n            // cache.remove(1)\r\n            cache.put(1, new String(_1mb));\r\n        }\r\n```\r\n\r\n\r\nDirect Memory will always increase more than 64M. actually, in my prod. It increased 200G.\r\nIf I open line &#39;remove(1)&#39;. It will work under 64M. \r\nCan someone help me?\r\n\r\nwork under capacity.\r\nrelease memory  hold by  replaced old values.\r\nhttps://github.com/snazy/ohc","title":"why OHC cache not released replaced values?","body":"<p>my code is:</p>\n<pre><code>       OHCache&lt;Integer, String&gt; cache = OHCacheBuilder.&lt;Integer, String&gt;newBuilder()\n                .keySerializer(new IntSerializer())\n                .valueSerializer(new StringSerializer())\n                .capacity(64 * 1024 * 1024)\n                .eviction(Eviction.LRU)\n                .throwOOME(true)\n                .build();\n        byte[] _1mb = new byte[1 * 1024 * 1024];\n        for (int i = 0; i &lt; 10000; i++) {\n            // cache.remove(1)\n            cache.put(1, new String(_1mb));\n        }\n</code></pre>\n<p>Direct Memory will always increase more than 64M. actually, in my prod. It increased 200G.\nIf I open line 'remove(1)'. It will work under 64M.\nCan someone help me?</p>\n<p>work under capacity.\nrelease memory  hold by  replaced old values.\n<a href=\"https://github.com/snazy/ohc\" rel=\"nofollow noreferrer\">https://github.com/snazy/ohc</a></p>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"comments":[{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1667904802,"post_id":74358252,"comment_id":131273826,"body_markdown":"You shall place the .png file in the Resources/drawable folder as a fallback plan.","body":"You shall place the .png file in the Resources/drawable folder as a fallback plan."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1667904863,"post_id":74358252,"comment_id":131273848,"body_markdown":"I believe the splash_icon.png is not found since the device does not recognise what DPI it is using or somehow it is a &quot;new&quot; DPI. So it will try to lookup the drawable folder (default) for the resource.","body":"I believe the splash_icon.png is not found since the device does not recognise what DPI it is using or somehow it is a &quot;new&quot; DPI. So it will try to lookup the drawable folder (default) for the resource."},{"owner":{"account_id":7981156,"reputation":122,"user_id":6022444,"display_name":"Sanjay S"},"score":0,"creation_date":1667919847,"post_id":74358252,"comment_id":131279787,"body_markdown":"I tried to put splash_icon.png in drawable, drawable-nodpi, drawable-anydpi but still error persist. so I removed from these folders.","body":"I tried to put splash_icon.png in drawable, drawable-nodpi, drawable-anydpi but still error persist. so I removed from these folders."}],"answers":[{"comments":[{"owner":{"account_id":7981156,"reputation":122,"user_id":6022444,"display_name":"Sanjay S"},"score":0,"creation_date":1667919774,"post_id":74361989,"comment_id":131279759,"body_markdown":"Hi @Hatem, I&#39;m using different size of images as I mentioned in my question, drawable-mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi but still this exception persist.","body":"Hi @Hatem, I&#39;m using different size of images as I mentioned in my question, drawable-mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi but still this exception persist."},{"owner":{"account_id":18702501,"reputation":23,"user_id":13634409,"display_name":"Hatem Darwish"},"score":0,"creation_date":1667933219,"post_id":74361989,"comment_id":131284913,"body_markdown":"Hello @SanjayS Maybe you are missing one of these type needs for your testing device or emulator \n\ndrawable-hdpi\ndrawable-mdpi\ndrawable-v24\ndrawable-xhdpi\ndrawable-xxhdpi\ndrawable-xxxhdpi\ndrawable","body":"Hello @SanjayS Maybe you are missing one of these type needs for your testing device or emulator   drawable-hdpi drawable-mdpi drawable-v24 drawable-xhdpi drawable-xxhdpi drawable-xxxhdpi drawable"}],"tags":[],"owner":{"account_id":18702501,"reputation":23,"user_id":13634409,"display_name":"Hatem Darwish"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667915993,"creation_date":1667915993,"answer_id":74361989,"question_id":74358252,"body_markdown":"In My Opinion, You Need to Use Difference sizes of image drawable like (drawable-hdpi,drawable-mdpi,drawable-xhdpi, drawable-xxhdpi , etc..)\r\n\r\nalso you can use [Android Drawable Important][1] to import Drawable with difference size. \r\n\r\nmay be found an issue with importing this library in the latest version of an android studio so you can see this [solve][2] and use it. \r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/7658-android-drawable-importer\r\n  [2]: https://stackoverflow.com/questions/60412216/android-drawable-importer-plugin-not-working-in-android-studio-3-6","title":"Fatal Exception: java.lang.RuntimeException Unable to start activity ComponentInfo{SplashActivity}","body":"<p>In My Opinion, You Need to Use Difference sizes of image drawable like (drawable-hdpi,drawable-mdpi,drawable-xhdpi, drawable-xxhdpi , etc..)</p>\n<p>also you can use <a href=\"https://plugins.jetbrains.com/plugin/7658-android-drawable-importer\" rel=\"nofollow noreferrer\">Android Drawable Important</a> to import Drawable with difference size.</p>\n<p>may be found an issue with importing this library in the latest version of an android studio so you can see this <a href=\"https://stackoverflow.com/questions/60412216/android-drawable-importer-plugin-not-working-in-android-studio-3-6\">solve</a> and use it.</p>\n"}],"owner":{"account_id":7981156,"reputation":122,"user_id":6022444,"display_name":"Sanjay S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689004190,"creation_date":1667899025,"question_id":74358252,"body_markdown":"    Fatal Exception: java.lang.RuntimeException\r\n    Unable to start activity ComponentInfo{com.packageName/com.packageName.SplashActivity}: \r\n    android.content.res.Resources$NotFoundException: Drawable \r\n    com.packageName:drawable/splash_background with resource ID #0x7f07015d\r\n    android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3900)\r\n    android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:4057)\r\n    android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:103)\r\n    android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n    android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\r\n    android.app.ActivityThread$H.handleMessage (ActivityThread.java:2407)\r\n    android.os.Handler.dispatchMessage (Handler.java:106)\r\n    android.os.Looper.loopOnce (Looper.java:233)\r\n    android.os.Looper.loop (Looper.java:334)\r\n    android.app.ActivityThread.main (ActivityThread.java:8278)\r\n    java.lang.reflect.Method.invoke (Method.java)\r\n    com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:582)\r\n    com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1065)\r\n\r\nFirebase Crashlytics show error like this \r\n\r\n&gt; Fatal Exception: java.lang.RuntimeException\r\nUnable to start activity ComponentInfo{com.packageName/com.packageName.SplashActivity}: android.content.res.Resources$NotFoundException: Drawable com.packageName:drawable/splash_background with resource ID #0x7f07015d\r\n\r\nand, next is \r\n\r\n&gt; Caused by android.content.res.Resources$NotFoundException\r\nDrawable (missing name) with resource ID #0x7f07015e\r\n\r\nI&#39;ve custom SplashActivity with just background and drawable in center on it. Using SplashTheme style like this\r\n\r\n    &lt;style name=&quot;SplashTheme&quot; parent=&quot;@style/Theme.AppCompat.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash_background&lt;/item&gt; &lt;!-- Resource ID #0x7f07015d --&gt;\r\n    &lt;/style&gt;\r\n\r\nHere is my splash_background.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:opacity=&quot;opaque&quot;&gt;\r\n        &lt;item android:drawable=&quot;@drawable/gradient_splash&quot; /&gt; &lt;!-- Resource ID #0x7f0700af --&gt;\r\n        \r\n        &lt;item android:drawable=&quot;@drawable/splash_icon&quot; android:gravity=&quot;center&quot; /&gt; &lt;!-- Resource ID #0x7f07015e --&gt;\r\n    &lt;/layer-list&gt;\r\n\r\nHere is my build.gradle configuration\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    apply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n\r\n    android {\r\n    compileSdkVersion 33\r\n    defaultConfig {\r\n        multiDexEnabled true\r\n        applicationId &quot;com.packageName&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 33\r\n        versionCode &quot;VERSION_CODE&quot;\r\n        versionName &quot;VERSION_NAME&quot;\r\n        vectorDrawables.useSupportLibrary = true\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility 1.8\r\n        targetCompatibility 1.8\r\n    }\r\n    namespace &#39;com.packageName&#39;\r\n    }\r\n    dependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;androidx.core:core:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.vectordrawable:vectordrawable:1.1.0&#39;\r\n    implementation &#39;androidx.browser:browser:1.4.0&#39;\r\n    implementation &#39;androidx.palette:palette:1.0.0&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.media:media:1.6.0&#39;\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.work:work-runtime:2.7.1&#39;\r\n\r\n    implementation &#39;com.google.android.play:core:1.10.3&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-core:21.1.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:21.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-config:21.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-ads:21.3.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:18.3.1&#39;\r\n\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n    implementation &#39;org.jsoup:jsoup:1.11.3&#39;\r\n    implementation &#39;com.facebook.shimmer:shimmer:0.4.0&#39;\r\n    implementation &#39;com.synnapps:carouselview:0.1.5&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n    implementation &#39;saschpe.android:customtabs:2.0.3&#39;\r\n    implementation &#39;com.mikhaellopez:circularfillableloaders:1.3.2&#39;\r\n    implementation &#39;io.github.inflationx:calligraphy3:3.1.1&#39;\r\n    implementation &#39;io.github.inflationx:viewpump:2.0.3&#39;\r\n    }\r\n\r\nFor your information splash_background.xml is available in drawable folder, gradient_splash.xml is available in drawable folder and splash_icon.png is available in drawable-ldpi, drawable-mdpi, drawable-hdpi, drawable-xhdpi, drawable-xxhdpi, drawable-xxxhdpi folders.","title":"Fatal Exception: java.lang.RuntimeException Unable to start activity ComponentInfo{SplashActivity}","body":"<pre><code>Fatal Exception: java.lang.RuntimeException\nUnable to start activity ComponentInfo{com.packageName/com.packageName.SplashActivity}: \nandroid.content.res.Resources$NotFoundException: Drawable \ncom.packageName:drawable/splash_background with resource ID #0x7f07015d\nandroid.app.ActivityThread.performLaunchActivity (ActivityThread.java:3900)\nandroid.app.ActivityThread.handleLaunchActivity (ActivityThread.java:4057)\nandroid.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:103)\nandroid.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nandroid.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\nandroid.app.ActivityThread$H.handleMessage (ActivityThread.java:2407)\nandroid.os.Handler.dispatchMessage (Handler.java:106)\nandroid.os.Looper.loopOnce (Looper.java:233)\nandroid.os.Looper.loop (Looper.java:334)\nandroid.app.ActivityThread.main (ActivityThread.java:8278)\njava.lang.reflect.Method.invoke (Method.java)\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:582)\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:1065)\n</code></pre>\n<p>Firebase Crashlytics show error like this</p>\n<blockquote>\n<p>Fatal Exception: java.lang.RuntimeException\nUnable to start activity ComponentInfo{com.packageName/com.packageName.SplashActivity}: android.content.res.Resources$NotFoundException: Drawable com.packageName:drawable/splash_background with resource ID #0x7f07015d</p>\n</blockquote>\n<p>and, next is</p>\n<blockquote>\n<p>Caused by android.content.res.Resources$NotFoundException\nDrawable (missing name) with resource ID #0x7f07015e</p>\n</blockquote>\n<p>I've custom SplashActivity with just background and drawable in center on it. Using SplashTheme style like this</p>\n<pre><code>&lt;style name=&quot;SplashTheme&quot; parent=&quot;@style/Theme.AppCompat.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash_background&lt;/item&gt; &lt;!-- Resource ID #0x7f07015d --&gt;\n&lt;/style&gt;\n</code></pre>\n<p>Here is my splash_background.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:opacity=&quot;opaque&quot;&gt;\n    &lt;item android:drawable=&quot;@drawable/gradient_splash&quot; /&gt; &lt;!-- Resource ID #0x7f0700af --&gt;\n    \n    &lt;item android:drawable=&quot;@drawable/splash_icon&quot; android:gravity=&quot;center&quot; /&gt; &lt;!-- Resource ID #0x7f07015e --&gt;\n&lt;/layer-list&gt;\n</code></pre>\n<p>Here is my build.gradle configuration</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'com.google.firebase.crashlytics'\n\nandroid {\ncompileSdkVersion 33\ndefaultConfig {\n    multiDexEnabled true\n    applicationId &quot;com.packageName&quot;\n    minSdkVersion 19\n    targetSdkVersion 33\n    versionCode &quot;VERSION_CODE&quot;\n    versionName &quot;VERSION_NAME&quot;\n    vectorDrawables.useSupportLibrary = true\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility 1.8\n    targetCompatibility 1.8\n}\nnamespace 'com.packageName'\n}\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'androidx.appcompat:appcompat:1.5.1'\nimplementation 'androidx.core:core:1.9.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\nimplementation 'com.google.android.material:material:1.7.0'\nimplementation 'androidx.vectordrawable:vectordrawable:1.1.0'\nimplementation 'androidx.browser:browser:1.4.0'\nimplementation 'androidx.palette:palette:1.0.0'\nimplementation 'androidx.cardview:cardview:1.0.0'\nimplementation 'androidx.media:media:1.6.0'\nimplementation 'androidx.multidex:multidex:2.0.1'\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\nimplementation 'androidx.work:work-runtime:2.7.1'\n\nimplementation 'com.google.android.play:core:1.10.3'\n\nimplementation 'com.google.firebase:firebase-core:21.1.1'\nimplementation 'com.google.firebase:firebase-analytics:21.2.0'\nimplementation 'com.google.firebase:firebase-messaging:23.1.0'\nimplementation 'com.google.firebase:firebase-config:21.2.0'\nimplementation 'com.google.firebase:firebase-ads:21.3.0'\nimplementation 'com.google.firebase:firebase-crashlytics:18.3.1'\n\nimplementation 'com.android.volley:volley:1.2.1'\nimplementation 'com.google.code.gson:gson:2.8.6'\nimplementation 'org.jsoup:jsoup:1.11.3'\nimplementation 'com.facebook.shimmer:shimmer:0.4.0'\nimplementation 'com.synnapps:carouselview:0.1.5'\nimplementation 'com.squareup.picasso:picasso:2.5.2'\nimplementation 'saschpe.android:customtabs:2.0.3'\nimplementation 'com.mikhaellopez:circularfillableloaders:1.3.2'\nimplementation 'io.github.inflationx:calligraphy3:3.1.1'\nimplementation 'io.github.inflationx:viewpump:2.0.3'\n}\n</code></pre>\n<p>For your information splash_background.xml is available in drawable folder, gradient_splash.xml is available in drawable folder and splash_icon.png is available in drawable-ldpi, drawable-mdpi, drawable-hdpi, drawable-xhdpi, drawable-xxhdpi, drawable-xxxhdpi folders.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1689004258,"post_id":76655348,"comment_id":135148484,"body_markdown":"`sarr` is declared inside the `if` block, but you are trying to use it outside of its scope.","body":"<code>sarr</code> is declared inside the <code>if</code> block, but you are trying to use it outside of its scope."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1689004331,"post_id":76655348,"comment_id":135148506,"body_markdown":"`sarr` is declared inside the if-statement, it exist only there, read up on variable scope. And `c` is only declared, it&#39;s initialized inside the `if`, there are cases when it might not get initialized, you will get compilation error about it as well. Last, but not least, take care to properly format your code, those errors would be obvious, if the code was formatted correctly.","body":"<code>sarr</code> is declared inside the if-statement, it exist only there, read up on variable scope. And <code>c</code> is only declared, it&#39;s initialized inside the <code>if</code>, there are cases when it might not get initialized, you will get compilation error about it as well. Last, but not least, take care to properly format your code, those errors would be obvious, if the code was formatted correctly."}],"owner":{"account_id":26710645,"reputation":1,"user_id":20316080,"display_name":"Sagarika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689004561,"answer_count":0,"score":0,"last_activity_date":1689004093,"creation_date":1689003953,"question_id":76655348,"body_markdown":"This is my code .. When I am compiling it it says sarr is an undeclared variable...please help me sort this problem out.\r\n```\r\nimport java.util.*;\r\npublic class StringPractise2 {\r\n  public static void main() {\r\n    String temp;\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.println(&quot;Enter the sentence:&quot;);\r\n    String s = sc.nextLine();\r\n    s = s.toUpperCase();\r\n    int l = s.length();\r\n    int c; //String sarr[];\r\n    if (s.charAt(l - 1) == &#39;@&#39; || s.charAt(l - 1) == &#39;.&#39;) {\r\n      StringTokenizer str = new StringTokenizer(s, &quot;@.&quot;);\r\n      c = str.countTokens();\r\n      String sarr[] = new String[c];\r\n      for (int i = 0; i &lt; c; i++)\r\n        sarr[i] = str.nextToken();\r\n      for (int i = 0; i &lt; c; i++) {\r\n        for (int j = i + 1; j &lt; c; j++) {\r\n          if (sarr[i].compareTo(sarr[j]) &gt; 0) {\r\n            temp = sarr[i];\r\n            sarr[i] = sarr[j];\r\n            sarr[j] = temp;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    System.out.println(&quot;The original sentence:&quot; + s);\r\n    System.out.println(&quot;The array is alphabetical order:&quot;);\r\n    for (int i = 0; i &lt; c; i++) {\r\n      System.out.println(sarr[i] + &quot; &quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n","title":"I am arranging the words in the sentence in alphabetical order","body":"<p>This is my code .. When I am compiling it it says sarr is an undeclared variable...please help me sort this problem out.</p>\n<pre><code>import java.util.*;\npublic class StringPractise2 {\n  public static void main() {\n    String temp;\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter the sentence:&quot;);\n    String s = sc.nextLine();\n    s = s.toUpperCase();\n    int l = s.length();\n    int c; //String sarr[];\n    if (s.charAt(l - 1) == '@' || s.charAt(l - 1) == '.') {\n      StringTokenizer str = new StringTokenizer(s, &quot;@.&quot;);\n      c = str.countTokens();\n      String sarr[] = new String[c];\n      for (int i = 0; i &lt; c; i++)\n        sarr[i] = str.nextToken();\n      for (int i = 0; i &lt; c; i++) {\n        for (int j = i + 1; j &lt; c; j++) {\n          if (sarr[i].compareTo(sarr[j]) &gt; 0) {\n            temp = sarr[i];\n            sarr[i] = sarr[j];\n            sarr[j] = temp;\n          }\n        }\n      }\n    }\n    System.out.println(&quot;The original sentence:&quot; + s);\n    System.out.println(&quot;The array is alphabetical order:&quot;);\n    for (int i = 0; i &lt; c; i++) {\n      System.out.println(sarr[i] + &quot; &quot;);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","xslt","xpath"],"answers":[{"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1359916272,"post_id":14671163,"comment_id":20515750,"body_markdown":"Thank you.  Unfortunately, it&#39;s still not working for me.  Perhaps the problem is my Java (vs. my XSL)?  I&#39;ve updated my question with the code above.","body":"Thank you.  Unfortunately, it&#39;s still not working for me.  Perhaps the problem is my Java (vs. my XSL)?  I&#39;ve updated my question with the code above."},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":0,"creation_date":1359918038,"post_id":14671163,"comment_id":20516237,"body_markdown":"@paulsm4 It&#39;s not the XSLT. Look at http://www.xmlplayground.com/tuCNmf - It&#39;s the same code (albeit XSLT v1.0, but that does not matter in this case) and it does what you want. Maybe you have a typo in your namespace?","body":"@paulsm4 It&#39;s not the XSLT. Look at <a href=\"http://www.xmlplayground.com/tuCNmf\" rel=\"nofollow noreferrer\">xmlplayground.com/tuCNmf</a> - It&#39;s the same code (albeit XSLT v1.0, but that does not matter in this case) and it does what you want. Maybe you have a typo in your namespace?"},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":3,"creation_date":1359919493,"post_id":14671163,"comment_id":20516650,"body_markdown":"@paulsm4 this suggested XSLT is correct but for what I can only assume are backwards compatibility reasons, `DocumentBuilderFactory` produces _non-namespace-aware_ document builders by default. You need to call `setNamespaceAware(true)` on the DBF before you call `newDocumentBuilder()` to make the parser namespace-aware.","body":"@paulsm4 this suggested XSLT is correct but for what I can only assume are backwards compatibility reasons, <code>DocumentBuilderFactory</code> produces <i>non-namespace-aware</i> document builders by default. You need to call <code>setNamespaceAware(true)</code> on the DBF before you call <code>newDocumentBuilder()</code> to make the parser namespace-aware."},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":0,"creation_date":1359923042,"post_id":14671163,"comment_id":20517736,"body_markdown":"@IanRoberts WTF are &quot;non-namespace-aware document builders&quot;? I can&#39;t imagine a single good reason to create an XML handling facility that clobbers namespaces. What were they thinking?!","body":"@IanRoberts WTF are &quot;non-namespace-aware document builders&quot;? I can&#39;t imagine a single good reason to create an XML handling facility that clobbers namespaces. What were they thinking?!"},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":0,"creation_date":1359923968,"post_id":14671163,"comment_id":20517988,"body_markdown":"@Tomalak a parser that doesn&#39;t do namespaces - `&lt;foo:bar&gt;` is just an element whose name happens to contain a colon, and `xmlns=&quot;...&quot;` is a normal attribute. It&#39;s occasionally useful, I&#39;ve had to do non-namespace-aware parsing when dealing with documents containing elements with generated names like `&lt;urn:example.com:something&gt;` (which is well-formed XML but not namespace-well-formed, namespaces are a separate spec, not part of XML 1.0 itself).","body":"@Tomalak a parser that doesn&#39;t do namespaces - <code>&lt;foo:bar&gt;</code> is just an element whose name happens to contain a colon, and <code>xmlns=&quot;...&quot;</code> is a normal attribute. It&#39;s occasionally useful, I&#39;ve had to do non-namespace-aware parsing when dealing with documents containing elements with generated names like <code>&lt;urn:example.com:something&gt;</code> (which is well-formed XML but not namespace-well-formed, namespaces are a separate spec, not part of XML 1.0 itself)."},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":0,"creation_date":1359924354,"post_id":14671163,"comment_id":20518094,"body_markdown":"@IanRoberts I can relate to reducing the namespace URI handling to &quot;accepts any string&quot;. But entirely removing them from the parser - and by default at that - is just not a very smart thing.","body":"@IanRoberts I can relate to reducing the namespace URI handling to &quot;accepts any string&quot;. But entirely removing them from the parser - and by default at that - is just not a very smart thing."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1359926546,"post_id":14671163,"comment_id":20518726,"body_markdown":"@IanRoberts - beautiful!  I was trying different XSLT syntax until I was blue in the face.  Some stuff was working, most attempts were doing nothing ... and all the while, the *SOLUTION* was to &quot;`setNamespaceAware(true)`&quot; way, way back in the DocumentBuilderFactory!  It works now.  I&#39;ve updated my original post.  Many thanks to both Tomalak (for the syntax) and Ian Roberts (for &quot;setNamespaceAware(true)&quot;.","body":"@IanRoberts - beautiful!  I was trying different XSLT syntax until I was blue in the face.  Some stuff was working, most attempts were doing nothing ... and all the while, the <i>SOLUTION</i> was to &quot;<code>setNamespaceAware(true)</code>&quot; way, way back in the DocumentBuilderFactory!  It works now.  I&#39;ve updated my original post.  Many thanks to both Tomalak (for the syntax) and Ian Roberts (for &quot;setNamespaceAware(true)&quot;."},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":3,"creation_date":1359927693,"post_id":14671163,"comment_id":20519033,"body_markdown":"@paulsm4 That&#39;s StackOverflow at work. I would not have been able to help you on my own.","body":"@paulsm4 That&#39;s StackOverflow at work. I would not have been able to help you on my own."}],"tags":[],"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"comment_count":8,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1689004092,"creation_date":1359884337,"answer_id":14671163,"question_id":14670936,"body_markdown":"    &lt;xsl:stylesheet version=&quot;2.0&quot;\r\n        xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        xmlns:a=&quot;http://example.com/abc&quot;\r\n        exclude-result-prefixes=&quot;a&quot;\r\n    &gt;\r\n        &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\r\n    \r\n        &lt;xsl:template match=&quot;@* | node()&quot;&gt;\r\n            &lt;xsl:copy&gt;\r\n              &lt;xsl:apply-templates select=&quot;@* | node()&quot; /&gt;\r\n            &lt;/xsl:copy&gt;\r\n        &lt;/xsl:template&gt;\r\n    \r\n        &lt;xsl:template match=&quot;a:* | @a:*&quot; /&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nEmpty templates match nodes but do not output anything, effectively removing what they match.","title":"XSLT: how can I filter out all elements with a specific namespace","body":"<pre><code>&lt;xsl:stylesheet version=&quot;2.0&quot;\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    xmlns:a=&quot;http://example.com/abc&quot;\n    exclude-result-prefixes=&quot;a&quot;\n&gt;\n    &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\n\n    &lt;xsl:template match=&quot;@* | node()&quot;&gt;\n        &lt;xsl:copy&gt;\n          &lt;xsl:apply-templates select=&quot;@* | node()&quot; /&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;a:* | @a:*&quot; /&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Empty templates match nodes but do not output anything, effectively removing what they match.</p>\n"},{"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1688938392,"post_id":76649604,"comment_id":135138152,"body_markdown":"(Addendum for the transcription: unfortunately the editor no longer permits `foo.com` anywhere in posts, so I have updated it to use `example.com`).","body":"(Addendum for the transcription: unfortunately the editor no longer permits <code>foo.com</code> anywhere in posts, so I have updated it to use <code>example.com</code>)."}],"tags":[],"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688938206,"creation_date":1688938206,"answer_id":76649604,"question_id":14670936,"body_markdown":"_(Posted solution on behalf of the question author to move the answer to the answer space)_.\r\n\r\nMany thanks to Tomalak for the correct XSL syntax, and to Ian Roberts for pointing out that in order to use namespaces in my XSLT, I need to call &quot;setNamespaceAware(true)&quot; at the very beginning, in my DocumentBuilderFactory.\r\n\r\nXSLT (thanks to Tomalak):\r\n\r\n    &lt;xsl:stylesheet version=&quot;2.0&quot;\r\n        xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        xmlns:a=&quot;http://example.com/abc&quot;\r\n        exclude-result-prefixes=&quot;a&quot;\r\n    &gt;\r\n        &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\r\n    \r\n        &lt;xsl:template match=&quot;@* | node()&quot;&gt;\r\n            &lt;xsl:copy&gt;\r\n              &lt;xsl:apply-templates select=&quot;@* | node()&quot; /&gt;\r\n            &lt;/xsl:copy&gt;\r\n        &lt;/xsl:template&gt;\r\n    \r\n        &lt;xsl:template match=&quot;a:* | @a:*&quot; /&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nJava program that successfully does the XSLT filtering by namespace:\r\n\r\n    import java.io.*;\r\n    import org.w3c.dom.*; // XML DOM\r\n    import javax.xml.parsers.*; // DocumentBuilder, etc\r\n    import javax.xml.transform.*; // Transformer, etc\r\n    import javax.xml.transform.stream.*; // StreamResult, StreamSource, etc\r\n    import javax.xml.transform.dom.DOMSource;\r\n    \r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test().testZoo();\r\n        }\r\n\r\n\tpublic void testZoo () {\r\n\t\tString zooXml = Test.readXmlFile (&quot;zoo.xml&quot;);\r\n\t\tif (zooXml == null)\r\n\t\t\treturn;\r\n\t\t\r\n\t\ttry {\r\n\t\t\t// Create a new document builder factory, and make sure it[s namespace-aware \r\n\t\t\tDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n\t\t\tdbf.setNamespaceAware(true);\r\n\t\t\tDocumentBuilder docBuilder = dbf.newDocumentBuilder ();\r\n\r\n\t\t\t// Read XFDD input string into DOM\r\n\t\t\tDocument xfddDoc = \r\n\t\t\t\tdocBuilder.parse(new StringBufferInputStream (zooXml));\r\n\t\t\r\n\t\t\t// Filter out all elements in &quot;http://example.com/abc&quot; namespace\r\n\t\t\tStreamSource styleSource = new StreamSource (new File (&quot;zoo.xsl&quot;));\r\n\t\t\tTransformer transformer =\r\n\t\t\t\tTransformerFactory.newInstance().newTransformer (styleSource);\r\n\t\t\r\n\t\t\t// Convert final DOM back to String\r\n\t\t\tStringWriter buffer = new StringWriter ();\r\n\t\t\ttransformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION,  &quot;yes&quot;); // Remember: we want to insert this XML as a subnode\r\n\t\t\ttransformer.setOutputProperty(OutputKeys.INDENT,  &quot;yes&quot;);\r\n\t\t\ttransformer.transform(new DOMSource(xfddDoc), new StreamResult (buffer));\r\n\t\t\tString translatedXml = buffer.toString();\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tSystem.out.println (&quot;convertTransactionData error: &quot; + e.getMessage());\r\n\t\t\te.printStackTrace ();\r\n\t\t}\r\n\t}\r\n","title":"XSLT: how can I filter out all elements with a specific namespace","body":"<p><em>(Posted solution on behalf of the question author to move the answer to the answer space)</em>.</p>\n<p>Many thanks to Tomalak for the correct XSL syntax, and to Ian Roberts for pointing out that in order to use namespaces in my XSLT, I need to call &quot;setNamespaceAware(true)&quot; at the very beginning, in my DocumentBuilderFactory.</p>\n<p>XSLT (thanks to Tomalak):</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;2.0&quot;\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    xmlns:a=&quot;http://example.com/abc&quot;\n    exclude-result-prefixes=&quot;a&quot;\n&gt;\n    &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\n\n    &lt;xsl:template match=&quot;@* | node()&quot;&gt;\n        &lt;xsl:copy&gt;\n          &lt;xsl:apply-templates select=&quot;@* | node()&quot; /&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;a:* | @a:*&quot; /&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Java program that successfully does the XSLT filtering by namespace:</p>\n<pre><code>import java.io.*;\nimport org.w3c.dom.*; // XML DOM\nimport javax.xml.parsers.*; // DocumentBuilder, etc\nimport javax.xml.transform.*; // Transformer, etc\nimport javax.xml.transform.stream.*; // StreamResult, StreamSource, etc\nimport javax.xml.transform.dom.DOMSource;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test().testZoo();\n    }\n\npublic void testZoo () {\n    String zooXml = Test.readXmlFile (&quot;zoo.xml&quot;);\n    if (zooXml == null)\n        return;\n    \n    try {\n        // Create a new document builder factory, and make sure it[s namespace-aware \n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n        dbf.setNamespaceAware(true);\n        DocumentBuilder docBuilder = dbf.newDocumentBuilder ();\n\n        // Read XFDD input string into DOM\n        Document xfddDoc = \n            docBuilder.parse(new StringBufferInputStream (zooXml));\n    \n        // Filter out all elements in &quot;http://example.com/abc&quot; namespace\n        StreamSource styleSource = new StreamSource (new File (&quot;zoo.xsl&quot;));\n        Transformer transformer =\n            TransformerFactory.newInstance().newTransformer (styleSource);\n    \n        // Convert final DOM back to String\n        StringWriter buffer = new StringWriter ();\n        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION,  &quot;yes&quot;); // Remember: we want to insert this XML as a subnode\n        transformer.setOutputProperty(OutputKeys.INDENT,  &quot;yes&quot;);\n        transformer.transform(new DOMSource(xfddDoc), new StreamResult (buffer));\n        String translatedXml = buffer.toString();\n    }\n    catch (Exception e) {\n        System.out.println (&quot;convertTransactionData error: &quot; + e.getMessage());\n        e.printStackTrace ();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2067,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":14671163,"answer_count":2,"score":4,"last_activity_date":1689004092,"creation_date":1359882255,"question_id":14670936,"body_markdown":"I have an XML file that looks like this:\r\n\r\n    &lt;zoo xmlns=&quot;http://myurl.com/wsdl/myservice&quot;&gt;\r\n      &lt;animal&gt;elephant&lt;/animal&gt;\r\n      &lt;exhibit&gt;\r\n        &lt;animal&gt;walrus&lt;/animal&gt;\r\n        &lt;animal&gt;sea otter&lt;/animal&gt;\r\n        &lt;trainer xmlns=&quot;http://example.com/abc&quot;&gt;Jack&lt;/trainer&gt;\r\n      &lt;/exhibit&gt;\r\n      &lt;exhibit xmlns=&quot;http://example.com/abc&quot;&gt;\r\n        &lt;animal&gt;lion&lt;/animal&gt;\r\n        &lt;animal&gt;tiger&lt;/animal&gt;\r\n      &lt;/exhibit&gt;\r\n    &lt;/zoo&gt;\r\n\r\nHow can I write an XSLT stylesheet that filters out all elements and/or all node trees in the &quot;http://example.com/abc&quot; namespace?\r\n\r\nDesired result XML:\r\n\r\n    &lt;zoo xmlns=&quot;http://myurl.com/wsdl/myservice&quot;&gt;\r\n      &lt;animal&gt;elephant&lt;/animal&gt;\r\n      &lt;exhibit&gt;\r\n        &lt;animal&gt;walrus&lt;/animal&gt;\r\n        &lt;animal&gt;sea otter&lt;/animal&gt;\r\n      &lt;/exhibit&gt;\r\n    &lt;/zoo&gt;\r\n\r\nI&#39;m trying something like this, but it just isn&#39;t working:\r\n\r\nFailed XSLT:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xsl:stylesheet version=&quot;2.0&quot;\r\n    \txmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n    \txmlns:a=&quot;http://example.com/abc&quot;\r\n    \texclude-result-prefixes=&quot;a&quot;&gt;\r\n        &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\r\n     \t&lt;xsl:template match=&quot;@*|node()&quot;&gt;\r\n    \t\t&lt;xsl:copy&gt;\r\n    \t\t  &lt;xsl:apply-templates select=&quot;@*|node()&quot; /&gt;\r\n    \t\t&lt;/xsl:copy&gt;\r\n    \t&lt;/xsl:template&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nUpdate\r\n---\r\n\r\nI got a good suggestion, but it&#39;s still not working. Here&#39;s the Java code I&#39;m using to do the XSLT translation:\r\n\r\n    import java.io.*;\r\n    import org.w3c.dom.*; // XML DOM\r\n    import javax.xml.parsers.*; // DocumentBuilder, etc\r\n    import javax.xml.transform.*; // Transformer, etc\r\n    import javax.xml.transform.stream.*; // StreamResult, StreamSource, etc\r\n    import javax.xml.transform.dom.DOMSource;\r\n    \r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test().testZoo();\r\n        }\r\n\r\n    \tpublic void testZoo () {\r\n    System.out.println (&quot;Reading zoo.xml&quot;);\t\t\r\n    \t\tString zooXml = MassageXfddXml.readXmlFile (&quot;zoo.xml&quot;);\r\n    \t\tif (zooXml == null)\r\n    \t\t\treturn;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t// Read XFDD input string into DOM\r\n    \t\t\tDocumentBuilder docBuilder =\r\n    \t\t\t\tDocumentBuilderFactory.newInstance().newDocumentBuilder ();\r\n    \t\t\tDocument xfddDoc = \r\n    \t\t\t\tdocBuilder.parse(new StringBufferInputStream (zooXml));\r\n    \t\t\r\n    \t\t\t// Filter out all elements in &quot;http://example.com/abc&quot; namespace\r\n    \t\t\tStreamSource styleSource = new StreamSource (new File (&quot;zoo.xsl&quot;));\r\n    \t\t\tTransformer transformer =\r\n    \t\t\t\tTransformerFactory.newInstance().newTransformer (styleSource);\r\n    \t\t\r\n    \t\t\t// Convert final DOM back to String\r\n    \t\t\tStringWriter buffer = new StringWriter ();\r\n    \t\t\ttransformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION,  &quot;yes&quot;); // Remember: we want to insert this XML as a subnode\r\n    \t\t\ttransformer.setOutputProperty(OutputKeys.INDENT,  &quot;yes&quot;);\r\n    \t\t\ttransformer.transform(new DOMSource(xfddDoc), new StreamResult (buffer));\r\n    \t\t\tString translatedXml = buffer.toString();\r\n    System.out.println (&quot;initial XML:\\n&quot; + zooXml + &quot;\\nfinal XML:\\n&quot; + translatedXml);\t\t\t\r\n    \t\t}\r\n    \t\tcatch (Exception e) {\r\n    \t\t\tSystem.out.println (&quot;convertTransactionData error: &quot; + e.getMessage());\r\n    \t\t\te.printStackTrace ();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nHere&#39;s the new stylesheet:\r\n\r\n    &lt;xsl:stylesheet version=&quot;2.0&quot;\r\n        xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        xmlns:a=&quot;http://example.com/abc&quot;\r\n        exclude-result-prefixes=&quot;a&quot;\r\n    &gt;\r\n        &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\r\n    \r\n        &lt;xsl:template match=&quot;@* | node()&quot;&gt;\r\n            &lt;xsl:copy&gt;\r\n              &lt;xsl:apply-templates select=&quot;@* | node()&quot; /&gt;\r\n            &lt;/xsl:copy&gt;\r\n        &lt;/xsl:template&gt;\r\n    \r\n        &lt;xsl:template match=&quot;a:* | @a:*&quot; /&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nAnd here&#39;s the output:\r\n\r\n    Reading zoo.xml\r\n    bytes read=337\r\n    initial XML:\r\n    &lt;zoo xmlns=&quot;http://myurl.com/wsdl/myservice&quot;&gt;\r\n      &lt;animal&gt;elephant&lt;/animal&gt;\r\n      &lt;exhibit&gt;\r\n        &lt;animal&gt;walrus&lt;/animal&gt;\r\n        &lt;animal&gt;sea otter&lt;/animal&gt;\r\n        &lt;trainer xmlns=&quot;http://example.com/abc&quot;&gt;Jack&lt;/trainer&gt;\r\n      &lt;/exhibit&gt;\r\n      &lt;exhibit xmlns=&quot;http://example.com/abc&quot;&gt;\r\n        &lt;animal&gt;lion&lt;/animal&gt;\r\n        &lt;animal&gt;tiger&lt;/animal&gt;\r\n      &lt;/exhibit&gt;\r\n    &lt;/zoo&gt;\r\n    \r\n    final XML:\r\n    &lt;zoo xmlns=&quot;http://myurl.com/wsdl/myservice&quot;&gt;\r\n      &lt;animal&gt;elephant&lt;/animal&gt;\r\n      &lt;exhibit&gt;\r\n        &lt;animal&gt;walrus&lt;/animal&gt;\r\n        &lt;animal&gt;sea otter&lt;/animal&gt;\r\n        &lt;trainer xmlns=&quot;http://example.com/abc&quot;&gt;Jack&lt;/trainer&gt;\r\n      &lt;/exhibit&gt;\r\n      &lt;exhibit xmlns=&quot;http://example.com/abc&quot;&gt;\r\n        &lt;animal&gt;lion&lt;/animal&gt;\r\n        &lt;animal&gt;tiger&lt;/animal&gt;\r\n      &lt;/exhibit&gt;\r\n    &lt;/zoo&gt;\r\n","title":"XSLT: how can I filter out all elements with a specific namespace","body":"<p>I have an XML file that looks like this:</p>\n<pre><code>&lt;zoo xmlns=&quot;http://myurl.com/wsdl/myservice&quot;&gt;\n  &lt;animal&gt;elephant&lt;/animal&gt;\n  &lt;exhibit&gt;\n    &lt;animal&gt;walrus&lt;/animal&gt;\n    &lt;animal&gt;sea otter&lt;/animal&gt;\n    &lt;trainer xmlns=&quot;http://example.com/abc&quot;&gt;Jack&lt;/trainer&gt;\n  &lt;/exhibit&gt;\n  &lt;exhibit xmlns=&quot;http://example.com/abc&quot;&gt;\n    &lt;animal&gt;lion&lt;/animal&gt;\n    &lt;animal&gt;tiger&lt;/animal&gt;\n  &lt;/exhibit&gt;\n&lt;/zoo&gt;\n</code></pre>\n<p>How can I write an XSLT stylesheet that filters out all elements and/or all node trees in the &quot;http://example.com/abc&quot; namespace?</p>\n<p>Desired result XML:</p>\n<pre><code>&lt;zoo xmlns=&quot;http://myurl.com/wsdl/myservice&quot;&gt;\n  &lt;animal&gt;elephant&lt;/animal&gt;\n  &lt;exhibit&gt;\n    &lt;animal&gt;walrus&lt;/animal&gt;\n    &lt;animal&gt;sea otter&lt;/animal&gt;\n  &lt;/exhibit&gt;\n&lt;/zoo&gt;\n</code></pre>\n<p>I'm trying something like this, but it just isn't working:</p>\n<p>Failed XSLT:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;2.0&quot;\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    xmlns:a=&quot;http://example.com/abc&quot;\n    exclude-result-prefixes=&quot;a&quot;&gt;\n    &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\n    &lt;xsl:template match=&quot;@*|node()&quot;&gt;\n        &lt;xsl:copy&gt;\n          &lt;xsl:apply-templates select=&quot;@*|node()&quot; /&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<h2>Update</h2>\n<p>I got a good suggestion, but it's still not working. Here's the Java code I'm using to do the XSLT translation:</p>\n<pre><code>import java.io.*;\nimport org.w3c.dom.*; // XML DOM\nimport javax.xml.parsers.*; // DocumentBuilder, etc\nimport javax.xml.transform.*; // Transformer, etc\nimport javax.xml.transform.stream.*; // StreamResult, StreamSource, etc\nimport javax.xml.transform.dom.DOMSource;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test().testZoo();\n    }\n\n    public void testZoo () {\nSystem.out.println (&quot;Reading zoo.xml&quot;);     \n        String zooXml = MassageXfddXml.readXmlFile (&quot;zoo.xml&quot;);\n        if (zooXml == null)\n            return;\n        \n        try {\n            // Read XFDD input string into DOM\n            DocumentBuilder docBuilder =\n                DocumentBuilderFactory.newInstance().newDocumentBuilder ();\n            Document xfddDoc = \n                docBuilder.parse(new StringBufferInputStream (zooXml));\n        \n            // Filter out all elements in &quot;http://example.com/abc&quot; namespace\n            StreamSource styleSource = new StreamSource (new File (&quot;zoo.xsl&quot;));\n            Transformer transformer =\n                TransformerFactory.newInstance().newTransformer (styleSource);\n        \n            // Convert final DOM back to String\n            StringWriter buffer = new StringWriter ();\n            transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION,  &quot;yes&quot;); // Remember: we want to insert this XML as a subnode\n            transformer.setOutputProperty(OutputKeys.INDENT,  &quot;yes&quot;);\n            transformer.transform(new DOMSource(xfddDoc), new StreamResult (buffer));\n            String translatedXml = buffer.toString();\nSystem.out.println (&quot;initial XML:\\n&quot; + zooXml + &quot;\\nfinal XML:\\n&quot; + translatedXml);          \n        }\n        catch (Exception e) {\n            System.out.println (&quot;convertTransactionData error: &quot; + e.getMessage());\n            e.printStackTrace ();\n        }\n    }\n</code></pre>\n<p>Here's the new stylesheet:</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;2.0&quot;\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    xmlns:a=&quot;http://example.com/abc&quot;\n    exclude-result-prefixes=&quot;a&quot;\n&gt;\n    &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\n\n    &lt;xsl:template match=&quot;@* | node()&quot;&gt;\n        &lt;xsl:copy&gt;\n          &lt;xsl:apply-templates select=&quot;@* | node()&quot; /&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;a:* | @a:*&quot; /&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>And here's the output:</p>\n<pre><code>Reading zoo.xml\nbytes read=337\ninitial XML:\n&lt;zoo xmlns=&quot;http://myurl.com/wsdl/myservice&quot;&gt;\n  &lt;animal&gt;elephant&lt;/animal&gt;\n  &lt;exhibit&gt;\n    &lt;animal&gt;walrus&lt;/animal&gt;\n    &lt;animal&gt;sea otter&lt;/animal&gt;\n    &lt;trainer xmlns=&quot;http://example.com/abc&quot;&gt;Jack&lt;/trainer&gt;\n  &lt;/exhibit&gt;\n  &lt;exhibit xmlns=&quot;http://example.com/abc&quot;&gt;\n    &lt;animal&gt;lion&lt;/animal&gt;\n    &lt;animal&gt;tiger&lt;/animal&gt;\n  &lt;/exhibit&gt;\n&lt;/zoo&gt;\n\nfinal XML:\n&lt;zoo xmlns=&quot;http://myurl.com/wsdl/myservice&quot;&gt;\n  &lt;animal&gt;elephant&lt;/animal&gt;\n  &lt;exhibit&gt;\n    &lt;animal&gt;walrus&lt;/animal&gt;\n    &lt;animal&gt;sea otter&lt;/animal&gt;\n    &lt;trainer xmlns=&quot;http://example.com/abc&quot;&gt;Jack&lt;/trainer&gt;\n  &lt;/exhibit&gt;\n  &lt;exhibit xmlns=&quot;http://example.com/abc&quot;&gt;\n    &lt;animal&gt;lion&lt;/animal&gt;\n    &lt;animal&gt;tiger&lt;/animal&gt;\n  &lt;/exhibit&gt;\n&lt;/zoo&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","pagination","spring-webflux","spring-data-r2dbc"],"answers":[{"comments":[{"owner":{"account_id":3386007,"reputation":647,"user_id":2841947,"accept_rate":50,"display_name":"Rahul"},"score":0,"creation_date":1689158591,"post_id":76655365,"comment_id":135172853,"body_markdown":"Regarding pt 2, how is the query&#39;s syntax JPQL? I have mentioned table and column names there not entity class names and properties.","body":"Regarding pt 2, how is the query&#39;s syntax JPQL? I have mentioned table and column names there not entity class names and properties."},{"owner":{"account_id":11880376,"reputation":1028,"user_id":8694239,"display_name":"Andrianekena Moise"},"score":0,"creation_date":1689602645,"post_id":76655365,"comment_id":135232819,"body_markdown":"If this is intended to be a `standard SQL`, then it is not valid. The following query `select f from file f` means `get the data from column named f`. So it will not return any result if the table file don&#39;t have a column with name `f`. The correct syntax to select all datas is  `select f.* from file f` in a standard SQL. However it is a valid syntax in JPQL since here, `f` can be considered as an alias to the entity object by JPA.","body":"If this is intended to be a <code>standard SQL</code>, then it is not valid. The following query <code>select f from file f</code> means <code>get the data from column named f</code>. So it will not return any result if the table file don&#39;t have a column with name <code>f</code>. The correct syntax to select all datas is  <code>select f.* from file f</code> in a standard SQL. However it is a valid syntax in JPQL since here, <code>f</code> can be considered as an alias to the entity object by JPA."}],"tags":[],"owner":{"account_id":11880376,"reputation":1028,"user_id":8694239,"display_name":"Andrianekena Moise"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689004068,"creation_date":1689004068,"answer_id":76655365,"question_id":76654530,"body_markdown":"1. searchParam should be corretly substituted in the query. `:searchParam` is a correct way to refere to a parameter in the context of spring data query.\r\n2. In the context of spring data r2dbc, the query `select f from file f ...` won&#39;t work&#39;. This is a JPQL syntax related to spring data JPA. With spring data r2dbc, the annnotation @Query is expecting a native sql query (`select * from file`). There is no ORM mapping. So a mapper should be implemented manually for a join query.","title":"Pagination with filter in Spring Data R2DBC","body":"<ol>\n<li>searchParam should be corretly substituted in the query. <code>:searchParam</code> is a correct way to refere to a parameter in the context of spring data query.</li>\n<li>In the context of spring data r2dbc, the query <code>select f from file f ...</code> won't work'. This is a JPQL syntax related to spring data JPA. With spring data r2dbc, the annnotation @Query is expecting a native sql query (<code>select * from file</code>). There is no ORM mapping. So a mapper should be implemented manually for a join query.</li>\n</ol>\n"}],"owner":{"account_id":3386007,"reputation":647,"user_id":2841947,"accept_rate":50,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689004068,"creation_date":1688997746,"question_id":76654530,"body_markdown":"I have 2 tables in postgres DB:\r\n\r\nsystem:\r\nid,\r\nsystem_id,\r\nsystem_title\r\n\r\nfile:\r\nid,\r\nfile_name,\r\nuploaded_date_time,\r\nsystem_id references id column of system table.\r\n...etc.\r\n\r\n\r\nAll the system and file details from DB are shown to the user on home page of the application. User can use a search option to search for the system title or file name. I need to return all system and file details where the given search_parameter is present in system_title or file_name.\r\n\r\nWe are using Spring webflux and Spring Data R2DBC and code looks something like below:\r\n\r\nRequestHandler method:\r\n\r\n    public Mono&lt;ServerResponse&gt; handleFilteredFileList(final ServerRequest request){\r\n      return ServerResponse.ok()\r\n    .contentType(APPLICATIOn_JSON)\r\n    .body(Bodyinserters.fromProducer(service.filterFileList(request.queryParam(&quot;searchParam&quot;).get(), PageRequest.of(Integer.parseInt(request.queryParam(&quot;page&quot;).get())\r\n    , Integer.parseInt(request.queryParam(&quot;size&quot;).get()))),Page.class));\r\n    \r\n    }\r\n\r\n\r\nService method(here uploadDateTime is the property of the Java entity object):\r\n\r\n    {\r\n      repository.getFilteredFileList(searchParam, pageRequest.withSort(Sort.by(&quot;uploadDateTime&quot;).descending()))\r\n    .collectList()\r\n    .zipWith(repository.count())\r\n    .flatMap(e-&gt; Mono.just(new PageImpl&lt;&gt;(e.getT1(), pageRequest. e.getT2())));\r\n    }\r\n\r\nRepository method:\r\n\r\n    @Query(&quot;select f from file f inner join system p on f.project_id=p.id where f.is_deleted=false AND (f.file_name LIKE CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;) OR p.syetem_title LIKE CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;))&quot;)\r\n    Flux&lt;File&gt; getFilteredFileList(@Param(&quot;searchParam&quot; String searchParam, Pageable pageable))\r\n\r\nI&#39;m facing 2 issues:\r\n\r\n1. I&#39;m not sure if searchParam value is correctly substituted in the query at runtime/execution.\r\n2. This code isn&#39;t working as expected. I&#39;m getting list of null elements.\r\n\r\nI tried to implement it by adding LIMIT and OFFSET to the query itself but it didn&#39;t work as well.\r\n\r\n\r\nAny idea what I might be missing here?\r\n\r\nThanks in advance!","title":"Pagination with filter in Spring Data R2DBC","body":"<p>I have 2 tables in postgres DB:</p>\n<p>system:\nid,\nsystem_id,\nsystem_title</p>\n<p>file:\nid,\nfile_name,\nuploaded_date_time,\nsystem_id references id column of system table.\n...etc.</p>\n<p>All the system and file details from DB are shown to the user on home page of the application. User can use a search option to search for the system title or file name. I need to return all system and file details where the given search_parameter is present in system_title or file_name.</p>\n<p>We are using Spring webflux and Spring Data R2DBC and code looks something like below:</p>\n<p>RequestHandler method:</p>\n<pre><code>public Mono&lt;ServerResponse&gt; handleFilteredFileList(final ServerRequest request){\n  return ServerResponse.ok()\n.contentType(APPLICATIOn_JSON)\n.body(Bodyinserters.fromProducer(service.filterFileList(request.queryParam(&quot;searchParam&quot;).get(), PageRequest.of(Integer.parseInt(request.queryParam(&quot;page&quot;).get())\n, Integer.parseInt(request.queryParam(&quot;size&quot;).get()))),Page.class));\n\n}\n</code></pre>\n<p>Service method(here uploadDateTime is the property of the Java entity object):</p>\n<pre><code>{\n  repository.getFilteredFileList(searchParam, pageRequest.withSort(Sort.by(&quot;uploadDateTime&quot;).descending()))\n.collectList()\n.zipWith(repository.count())\n.flatMap(e-&gt; Mono.just(new PageImpl&lt;&gt;(e.getT1(), pageRequest. e.getT2())));\n}\n</code></pre>\n<p>Repository method:</p>\n<pre><code>@Query(&quot;select f from file f inner join system p on f.project_id=p.id where f.is_deleted=false AND (f.file_name LIKE CONCAT('%', :searchParam, '%') OR p.syetem_title LIKE CONCAT('%', :searchParam, '%'))&quot;)\nFlux&lt;File&gt; getFilteredFileList(@Param(&quot;searchParam&quot; String searchParam, Pageable pageable))\n</code></pre>\n<p>I'm facing 2 issues:</p>\n<ol>\n<li>I'm not sure if searchParam value is correctly substituted in the query at runtime/execution.</li>\n<li>This code isn't working as expected. I'm getting list of null elements.</li>\n</ol>\n<p>I tried to implement it by adding LIMIT and OFFSET to the query itself but it didn't work as well.</p>\n<p>Any idea what I might be missing here?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":1437583,"reputation":517,"user_id":1358631,"accept_rate":50,"display_name":"knezmilos"},"score":0,"creation_date":1456518635,"post_id":35660761,"comment_id":59002533,"body_markdown":"I guess the performance is better if I avoid using a regex? I&#39;m on Android if it makes a difference.","body":"I guess the performance is better if I avoid using a regex? I&#39;m on Android if it makes a difference."},{"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"score":1,"creation_date":1456519185,"post_id":35660761,"comment_id":59002818,"body_markdown":"@knezmilos I don&#39;t think you will notice a big difference (it depends on the size of the text -- you can try measuring both ways). I prefer the second way because it&#39;s more clear.","body":"@knezmilos I don&#39;t think you will notice a big difference (it depends on the size of the text -- you can try measuring both ways). I prefer the second way because it&#39;s more clear."}],"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1456519062,"creation_date":1456517141,"answer_id":35660761,"question_id":35660688,"body_markdown":"Try the following:\r\n\r\n    Pattern.matches(&quot;.*\\\\p{InCyrillic}.*&quot;, text)\r\n\r\nYou may also avoid a regex and use the class [`Character.UnicodeBlock`](https://docs.oracle.com/javase/7/docs/api/java/lang/Character.UnicodeBlock.html):\r\n\r\n    for(int i = 0; i &lt; text.length(); i++) {\r\n\t\tif(Character.UnicodeBlock.of(text.charAt(i)).equals(Character.UnicodeBlock.CYRILLIC)) {\r\n\t\t\t// contains Cyrillic\r\n\t\t}\r\n\t}","title":"How to detect in Java if string contains Cyrillic?","body":"<p>Try the following:</p>\n\n<pre><code>Pattern.matches(\".*\\\\p{InCyrillic}.*\", text)\n</code></pre>\n\n<p>You may also avoid a regex and use the class <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.UnicodeBlock.html\" rel=\"noreferrer\"><code>Character.UnicodeBlock</code></a>:</p>\n\n<pre><code>for(int i = 0; i &lt; text.length(); i++) {\n    if(Character.UnicodeBlock.of(text.charAt(i)).equals(Character.UnicodeBlock.CYRILLIC)) {\n        // contains Cyrillic\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5532882,"reputation":103,"user_id":4392303,"accept_rate":100,"display_name":"Alexander Druzhynin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565897561,"creation_date":1565897561,"answer_id":57515163,"question_id":35660688,"body_markdown":"Here is another way to do the same with streams in java 8:\r\n\r\n    text.chars()\r\n            .mapToObj(Character.UnicodeBlock::of)\r\n            .filter(Character.UnicodeBlock.CYRILLIC::equals)\r\n            .findAny()\r\n            .ifPresent(character -&gt; ));\r\nOr another way, keeping the index:\r\n\r\n    char[] textChars = text.toCharArray();\r\n    IntStream.range(0, textChars.length)\r\n                     .filter(index -&gt; Character.UnicodeBlock.of(textChars[index])\r\n                                    .equals(Character.UnicodeBlock.CYRILLIC))\r\n                     .findAny() // can use findFirst()\r\n                     .ifPresent(index -&gt; );\r\n*Please note:* I&#39;m using char array here rather than String due to performance advantage of getting an element by index.","title":"How to detect in Java if string contains Cyrillic?","body":"<p>Here is another way to do the same with streams in java 8:</p>\n\n<pre><code>text.chars()\n        .mapToObj(Character.UnicodeBlock::of)\n        .filter(Character.UnicodeBlock.CYRILLIC::equals)\n        .findAny()\n        .ifPresent(character -&gt; ));\n</code></pre>\n\n<p>Or another way, keeping the index:</p>\n\n<pre><code>char[] textChars = text.toCharArray();\nIntStream.range(0, textChars.length)\n                 .filter(index -&gt; Character.UnicodeBlock.of(textChars[index])\n                                .equals(Character.UnicodeBlock.CYRILLIC))\n                 .findAny() // can use findFirst()\n                 .ifPresent(index -&gt; );\n</code></pre>\n\n<p><em>Please note:</em> I'm using char array here rather than String due to performance advantage of getting an element by index.</p>\n"},{"tags":[],"owner":{"account_id":169763,"reputation":7117,"user_id":2103602,"accept_rate":59,"display_name":"sigpwned"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689003965,"creation_date":1689002994,"answer_id":76655237,"question_id":35660688,"body_markdown":"The above examples using `UnicodeBlock` will work just fine, but can also use the [`Character.UnicodeScript`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.UnicodeScript.html) `enum` if you prefer:\r\n\r\n    boolean containsCyrillic = &quot;Your String Goes Here&quot;.codePoints()\r\n        .mapToObj(Character.UnicodeScript::of)\r\n        .anyMatch(Character.UnicodeScript.CYRILLIC::equals);\r\n\r\nIf you don&#39;t trust your input, you can be more defensive using [`Character.isValidCodePoint`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isValidCodePoint(int)):\r\n\r\n    boolean containsCyrillic =\r\n        &quot;Your Untrusted String Goes Here&quot;.codePoints()\r\n            .filter(Character::isValidCodePoint)\r\n            .mapToObj(Character.UnicodeScript::of)\r\n            .anyMatch(s -&gt; s == Character.UnicodeScript.CYRILLIC);\r\n\r\nIf you&#39;re interested in analyzing the various scripts in your text, for example to determine the predominant script of your text, you can keep track of the number of code points in various scripts:\r\n\r\n    Map&lt;Character.UnicodeScript,Long&gt; scripts = \r\n        &quot;Your Untrusted String Goes Here&quot;.codePoints()\r\n            .filter(Character::isValidCodePoint)\r\n            .mapToObj(Character.UnicodeScript::of)\r\n            .collect(groupingBy(\r\n                Function.identity(),\r\n                counting()));\r\n\r\nWe can also be a titch more efficient and use an [`EnumMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumMap.html), since `Character.UnicodeScript` is an `enum`:\r\n\r\n    Map&lt;Character.UnicodeScript,Long&gt; scripts = \r\n        &quot;Your Untrusted String Goes Here&quot;.codePoints()\r\n            .filter(Character::isValidCodePoint)\r\n            .mapToObj(Character.UnicodeScript::of)\r\n            .collect(groupingBy(\r\n                Function.identity(),\r\n                () -&gt; new EnumMap&lt;&gt;(Character.UnicodeScript.class),\r\n                counting()));\r\n\r\nIf you&#39;re just interested in the majority vote, then you can try this:\r\n\r\n    Optional&lt;Character.UnicodeScript&gt; predominantScript = \r\n        &quot;Your Untrusted String Goes Here&quot;.codePoints()\r\n            .filter(Character::isValidCodePoint)\r\n            .mapToObj(Character.UnicodeScript::of)\r\n            .filter(s -&gt; s != Character.UnicodeScript.COMMON\r\n                &amp;&amp; s != Character.UnicodeScript.INHERITED\r\n                &amp;&amp; s != Character.UnicodeScript.UNKNOWN)\r\n            .collect(groupingBy(\r\n                Function.identity(),\r\n                () -&gt; new EnumMap&lt;&gt;(Character.UnicodeScript.class),\r\n                counting()))\r\n            .entrySet()\r\n            .stream()\r\n            .sorted(\r\n                Comparator\r\n                .&lt;Map.Entry&lt;Character.UnicodeScript, Long&gt;&gt;comparingLong(Map.Entry::getValue)\r\n                .reversed()\r\n                .thenComparing(Map.Entry::getKey))\r\n            .map(Map.Entry::getKey)\r\n            .findFirst();\r\n\r\nWe filter out `Character.UnicodeScript.COMMON`, `Character.UnicodeScript.INHERITED`, and `Character.UnicodeScript.UNKNOWN` because they are &quot;catch-all&quot; categories used for shared code points, mapped to all code points, or simply unrecognized code points (per [the spec](https://www.unicode.org/reports/tr24/#Classification_by_Script)), as opposed to individual scripts.","title":"How to detect in Java if string contains Cyrillic?","body":"<p>The above examples using <code>UnicodeBlock</code> will work just fine, but can also use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.UnicodeScript.html\" rel=\"nofollow noreferrer\"><code>Character.UnicodeScript</code></a> <code>enum</code> if you prefer:</p>\n<pre><code>boolean containsCyrillic = &quot;Your String Goes Here&quot;.codePoints()\n    .mapToObj(Character.UnicodeScript::of)\n    .anyMatch(Character.UnicodeScript.CYRILLIC::equals);\n</code></pre>\n<p>If you don't trust your input, you can be more defensive using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isValidCodePoint(int)\" rel=\"nofollow noreferrer\"><code>Character.isValidCodePoint</code></a>:</p>\n<pre><code>boolean containsCyrillic =\n    &quot;Your Untrusted String Goes Here&quot;.codePoints()\n        .filter(Character::isValidCodePoint)\n        .mapToObj(Character.UnicodeScript::of)\n        .anyMatch(s -&gt; s == Character.UnicodeScript.CYRILLIC);\n</code></pre>\n<p>If you're interested in analyzing the various scripts in your text, for example to determine the predominant script of your text, you can keep track of the number of code points in various scripts:</p>\n<pre><code>Map&lt;Character.UnicodeScript,Long&gt; scripts = \n    &quot;Your Untrusted String Goes Here&quot;.codePoints()\n        .filter(Character::isValidCodePoint)\n        .mapToObj(Character.UnicodeScript::of)\n        .collect(groupingBy(\n            Function.identity(),\n            counting()));\n</code></pre>\n<p>We can also be a titch more efficient and use an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumMap.html\" rel=\"nofollow noreferrer\"><code>EnumMap</code></a>, since <code>Character.UnicodeScript</code> is an <code>enum</code>:</p>\n<pre><code>Map&lt;Character.UnicodeScript,Long&gt; scripts = \n    &quot;Your Untrusted String Goes Here&quot;.codePoints()\n        .filter(Character::isValidCodePoint)\n        .mapToObj(Character.UnicodeScript::of)\n        .collect(groupingBy(\n            Function.identity(),\n            () -&gt; new EnumMap&lt;&gt;(Character.UnicodeScript.class),\n            counting()));\n</code></pre>\n<p>If you're just interested in the majority vote, then you can try this:</p>\n<pre><code>Optional&lt;Character.UnicodeScript&gt; predominantScript = \n    &quot;Your Untrusted String Goes Here&quot;.codePoints()\n        .filter(Character::isValidCodePoint)\n        .mapToObj(Character.UnicodeScript::of)\n        .filter(s -&gt; s != Character.UnicodeScript.COMMON\n            &amp;&amp; s != Character.UnicodeScript.INHERITED\n            &amp;&amp; s != Character.UnicodeScript.UNKNOWN)\n        .collect(groupingBy(\n            Function.identity(),\n            () -&gt; new EnumMap&lt;&gt;(Character.UnicodeScript.class),\n            counting()))\n        .entrySet()\n        .stream()\n        .sorted(\n            Comparator\n            .&lt;Map.Entry&lt;Character.UnicodeScript, Long&gt;&gt;comparingLong(Map.Entry::getValue)\n            .reversed()\n            .thenComparing(Map.Entry::getKey))\n        .map(Map.Entry::getKey)\n        .findFirst();\n</code></pre>\n<p>We filter out <code>Character.UnicodeScript.COMMON</code>, <code>Character.UnicodeScript.INHERITED</code>, and <code>Character.UnicodeScript.UNKNOWN</code> because they are &quot;catch-all&quot; categories used for shared code points, mapped to all code points, or simply unrecognized code points (per <a href=\"https://www.unicode.org/reports/tr24/#Classification_by_Script\" rel=\"nofollow noreferrer\">the spec</a>), as opposed to individual scripts.</p>\n"}],"owner":{"account_id":1437583,"reputation":517,"user_id":1358631,"accept_rate":50,"display_name":"knezmilos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10302,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":35660761,"answer_count":3,"score":10,"last_activity_date":1689003965,"creation_date":1456516925,"question_id":35660688,"body_markdown":"I want to detect if a string contains Cyrillic letters.\r\n\r\nIn PHP I did something like this:\r\n\r\n    preg_match(&#39;/\\p{Cyrillic}+/ui&#39;, $text)\r\n\r\nWhat would work the same in Java?","title":"How to detect in Java if string contains Cyrillic?","body":"<p>I want to detect if a string contains Cyrillic letters.</p>\n\n<p>In PHP I did something like this:</p>\n\n<pre><code>preg_match('/\\p{Cyrillic}+/ui', $text)\n</code></pre>\n\n<p>What would work the same in Java?</p>\n"},{"tags":["java","spring-boot","out-of-memory","openshift","forkjoinpool"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688509106,"post_id":76615132,"comment_id":135082446,"body_markdown":"You haven&#39;t asked a question.","body":"You haven&#39;t asked a question."},{"owner":{"account_id":3166758,"reputation":31,"user_id":2676594,"display_name":"user2676594"},"score":0,"creation_date":1688511996,"post_id":76615132,"comment_id":135082679,"body_markdown":"maybe its not clear, i wanted to ask if there is an issue with the version 2.7.11 of springboot. In fact, under the same circumstances and conditions, we never had this error with the version 2.6.6 .","body":"maybe its not clear, i wanted to ask if there is an issue with the version 2.7.11 of springboot. In fact, under the same circumstances and conditions, we never had this error with the version 2.6.6 ."},{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":1,"creation_date":1688550416,"post_id":76615132,"comment_id":135087079,"body_markdown":"Maybe it just consumes more memory? Check your memory usage before and after, maybe you were very close to the limit before? If you get any memory metrics (before and after), please add them to your question.","body":"Maybe it just consumes more memory? Check your memory usage before and after, maybe you were very close to the limit before? If you get any memory metrics (before and after), please add them to your question."},{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":0,"creation_date":1688987340,"post_id":76615132,"comment_id":135144308,"body_markdown":"The ForkJoinPool is creating over 300 Threads and you only require 5 parallel threads. How did the previous version behave in that specific area? As others point out it may be that you were close to failure before but it may also be the case that settings on the VM or in the libraries have upped to requirements.","body":"The ForkJoinPool is creating over 300 Threads and you only require 5 parallel threads. How did the previous version behave in that specific area? As others point out it may be that you were close to failure before but it may also be the case that settings on the VM or in the libraries have upped to requirements."},{"owner":{"account_id":3166758,"reputation":31,"user_id":2676594,"display_name":"user2676594"},"score":1,"creation_date":1688988960,"post_id":76615132,"comment_id":135144635,"body_markdown":"The forkjoinpool is  also creating  more threads than expected in the previous version, i have no idea about the root cause of that behavior.","body":"The forkjoinpool is  also creating  more threads than expected in the previous version, i have no idea about the root cause of that behavior."},{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":1,"creation_date":1688990943,"post_id":76615132,"comment_id":135145072,"body_markdown":"@user2676594 That sounds like where to look. The default Stack Size for a Thread is typically 512K so 300 will be soaking up over 150 MiB. The default constructor for `java.util.concurrent.ForJoinPool` creates a pool with the same number of threads as `Runtime.AvailableProcessors()`. But it sounds like the Application Code should be trying to set it...","body":"@user2676594 That sounds like where to look. The default Stack Size for a Thread is typically 512K so 300 will be soaking up over 150 MiB. The default constructor for <code>java.util.concurrent.ForJoinPool</code> creates a pool with the same number of threads as <code>Runtime.AvailableProcessors()</code>. But it sounds like the Application Code should be trying to set it..."}],"answers":[{"tags":[],"owner":{"account_id":2978050,"reputation":23,"user_id":2528680,"display_name":"OMARoun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689001891,"creation_date":1689001891,"answer_id":76655102,"question_id":76615132,"body_markdown":"If your tasks take a long time to execute, there&#39;s a risk that ForkJoinPool could create additional threads to maintain a degree of parallelism.","title":"Unhandled exception &#39;java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached","body":"<p>If your tasks take a long time to execute, there's a risk that ForkJoinPool could create additional threads to maintain a degree of parallelism.</p>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689003841,"creation_date":1689003841,"answer_id":76655335,"question_id":76615132,"body_markdown":"Just because you have 300 threads in the ThreadGroup named &quot;ForkJoinPool&quot;, it doesn&#39;t mean all of those threads were created by the ForkJoinPool. If the runnable tasks themselves create separate (sub-) threads, those threads will also be in the same thread group. Given that your ForkJoinPool has a parallelism of only 5, it is the most likely case that your threads are themselves creating other threads. Check the code of the threads created by your ForkJoinPool.","title":"Unhandled exception &#39;java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached","body":"<p>Just because you have 300 threads in the ThreadGroup named &quot;ForkJoinPool&quot;, it doesn't mean all of those threads were created by the ForkJoinPool. If the runnable tasks themselves create separate (sub-) threads, those threads will also be in the same thread group. Given that your ForkJoinPool has a parallelism of only 5, it is the most likely case that your threads are themselves creating other threads. Check the code of the threads created by your ForkJoinPool.</p>\n"}],"owner":{"account_id":3166758,"reputation":31,"user_id":2676594,"display_name":"user2676594"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689003841,"creation_date":1688495682,"question_id":76615132,"body_markdown":"We have recently migrated a springboot application to **2.7.11** version, and while performing a load test, a nasty error raised :\r\n\r\n&gt; &quot;Unhandled exception &#39;java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\n\r\nwe noticed that the app now consumes a bit more memory than lhe last version, so i tried to collect some profiling infos through visualvm, and i noticed that a forkjoinpool (a custom thread pool with parallelism is set to 5) is creating many thread than expected (300 thread instead of 5):\r\n[![enter image description here][1]][1]\r\n\r\nRoughly speaking, the app parse a big json file and cuts it into several pieces, and foreach part we send a task to the forkjoinpool through executor.execute().\r\n\r\nNoting that we are serving this application on openshift V4, and we&#39;ve never got this weird error when using springboot **2.6.6**.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uzvp2.png\r\n  [2]: https://i.stack.imgur.com/Liopt.png","title":"Unhandled exception &#39;java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached","body":"<p>We have recently migrated a springboot application to <strong>2.7.11</strong> version, and while performing a load test, a nasty error raised :</p>\n<blockquote>\n<p>&quot;Unhandled exception 'java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached</p>\n</blockquote>\n<p>we noticed that the app now consumes a bit more memory than lhe last version, so i tried to collect some profiling infos through visualvm, and i noticed that a forkjoinpool (a custom thread pool with parallelism is set to 5) is creating many thread than expected (300 thread instead of 5):\n<a href=\"https://i.stack.imgur.com/uzvp2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uzvp2.png\" alt=\"enter image description here\" /></a></p>\n<p>Roughly speaking, the app parse a big json file and cuts it into several pieces, and foreach part we send a task to the forkjoinpool through executor.execute().</p>\n<p>Noting that we are serving this application on openshift V4, and we've never got this weird error when using springboot <strong>2.6.6</strong>.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1689002755,"post_id":76655152,"comment_id":135148133,"body_markdown":"You could submit a patch to the Tomcat project itself... Otherwise, you&#39;re basically maintaining a fork, and have to edit each release, yes. Without more details, it&#39;s hard to answer for your use case. Maybe &quot;Composition over Inheritance&quot; helps you","body":"You could submit a patch to the Tomcat project itself... Otherwise, you&#39;re basically maintaining a fork, and have to edit each release, yes. Without more details, it&#39;s hard to answer for your use case. Maybe &quot;Composition over Inheritance&quot; helps you"},{"owner":{"account_id":1976470,"reputation":874,"user_id":1774159,"accept_rate":80,"display_name":"Atul"},"score":0,"creation_date":1689003642,"post_id":76655152,"comment_id":135148351,"body_markdown":"@OneCricketeer hi, added more details and replyin edit.","body":"@OneCricketeer hi, added more details and replyin edit."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689002792,"creation_date":1689002792,"answer_id":76655211,"question_id":76655152,"body_markdown":"You should not modify the Tomcat-delivered files. Currently you are perceiving the pain of applying the wrong process.\r\n\r\nInstead, create your own library that implements the same interface as Tomcat&#39;s library. Internally, run your own code or just call the functions that are supplied by the original one from Tomcat.\r\n\r\nFinally configure Tomcat such that it would make use of your library instead of the builtin one. This should be possible via server.xml, but you did not disclose exactly which library and why you need to replace. Hence your good friend should be the [Tomcat configuration reference documentation][1].\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-10.1-doc/config/index.html","title":"How to update functions in java without editing/inheriting the file","body":"<p>You should not modify the Tomcat-delivered files. Currently you are perceiving the pain of applying the wrong process.</p>\n<p>Instead, create your own library that implements the same interface as Tomcat's library. Internally, run your own code or just call the functions that are supplied by the original one from Tomcat.</p>\n<p>Finally configure Tomcat such that it would make use of your library instead of the builtin one. This should be possible via server.xml, but you did not disclose exactly which library and why you need to replace. Hence your good friend should be the <a href=\"https://tomcat.apache.org/tomcat-10.1-doc/config/index.html\" rel=\"nofollow noreferrer\">Tomcat configuration reference documentation</a>.</p>\n"},{"comments":[{"owner":{"account_id":1976470,"reputation":874,"user_id":1774159,"accept_rate":80,"display_name":"Atul"},"score":0,"creation_date":1689003808,"post_id":76655230,"comment_id":135148376,"body_markdown":"Thanks, I will read about bytecode engineering. Yeah, I actually thought if there isn&#39;t an elegant solution, I would write a script to update the code and then proof read it manually.","body":"Thanks, I will read about bytecode engineering. Yeah, I actually thought if there isn&#39;t an elegant solution, I would write a script to update the code and then proof read it manually."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1689003960,"post_id":76655230,"comment_id":135148410,"body_markdown":"No, there isn&#39;t an elegant solution.  This is inelegant even in languages like Python and JavaScript that support (so-called) [monkey patching](https://en.wikipedia.org/wiki/Monkey_patch).","body":"No, there isn&#39;t an elegant solution.  This is inelegant even in languages like Python and JavaScript that support (so-called) <a href=\"https://en.wikipedia.org/wiki/Monkey_patch\" rel=\"nofollow noreferrer\">monkey patching</a>."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689003223,"creation_date":1689002914,"answer_id":76655230,"question_id":76655152,"body_markdown":"In theory you could do this with some &quot;bytecode engineering&quot; that rewrites or replaces bytecodes for specific methods at build or run time.  \r\n\r\nIn practice, it would be simpler to make the changes at the source code level; e.g. by using a patch script, or by using GIT merging or similar.\r\n\r\nIn either case, the process is going to be fragile; i.e. future changes to the Tomcat codebase may mean your procedure for patching may stop working.\r\n\r\n----------------------\r\n\r\n&lt;sup&gt;I won&#39;t comment on whether what you are doing is a good idea.  That will depend on what your changes are doing and whether there are viable alternatives.&lt;/sup&gt;","title":"How to update functions in java without editing/inheriting the file","body":"<p>In theory you could do this with some &quot;bytecode engineering&quot; that rewrites or replaces bytecodes for specific methods at build or run time.</p>\n<p>In practice, it would be simpler to make the changes at the source code level; e.g. by using a patch script, or by using GIT merging or similar.</p>\n<p>In either case, the process is going to be fragile; i.e. future changes to the Tomcat codebase may mean your procedure for patching may stop working.</p>\n<hr />\n<p><sup>I won't comment on whether what you are doing is a good idea.  That will depend on what your changes are doing and whether there are viable alternatives.</sup></p>\n"}],"owner":{"account_id":1976470,"reputation":874,"user_id":1774159,"accept_rate":80,"display_name":"Atul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1689003504,"creation_date":1689002323,"question_id":76655152,"body_markdown":"I have a use-case to update java tomcat library for my project. We do this by going to individual functions in each of the classes and editing them. This becomes a pain because we have to perform same activity with every tomcat release. Is there a way to update a function of a class without editing them directly or inheriting them?\r\n\r\nExample -&gt;\r\nlibrary -&gt; class A -&gt; function f1\r\n\r\nAdd a behavior change to function f1 of class A (without extending). \r\nNow when function f1 is called, it&#39;s definition is that of a new one. \r\n\r\nI am not sure how to search for answer to this question.\r\n\r\nEdit 1: Adding more details \r\n 1. Changes are specific to project, submitting a patch to tomcat itself won&#39;t work.\r\n 2. Changes are made to almost 6-7 generated jars (catalina, coyote, servlet etc)\r\n 3. I could think of crude approach to edit those files via a script, but I thought I would ask for a better alternatives first.","title":"How to update functions in java without editing/inheriting the file","body":"<p>I have a use-case to update java tomcat library for my project. We do this by going to individual functions in each of the classes and editing them. This becomes a pain because we have to perform same activity with every tomcat release. Is there a way to update a function of a class without editing them directly or inheriting them?</p>\n<p>Example -&gt;\nlibrary -&gt; class A -&gt; function f1</p>\n<p>Add a behavior change to function f1 of class A (without extending).\nNow when function f1 is called, it's definition is that of a new one.</p>\n<p>I am not sure how to search for answer to this question.</p>\n<p>Edit 1: Adding more details</p>\n<ol>\n<li>Changes are specific to project, submitting a patch to tomcat itself won't work.</li>\n<li>Changes are made to almost 6-7 generated jars (catalina, coyote, servlet etc)</li>\n<li>I could think of crude approach to edit those files via a script, but I thought I would ask for a better alternatives first.</li>\n</ol>\n"},{"tags":["java","spring","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1554748329,"post_id":55575505,"comment_id":97857884,"body_markdown":"No because both are different properties. Set the `spring.jpa.hibernate.ddl-auto` property to `none` then it should take precedence.","body":"No because both are different properties. Set the <code>spring.jpa.hibernate.ddl-auto</code> property to <code>none</code> then it should take precedence."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1554754962,"post_id":55575505,"comment_id":97860819,"body_markdown":"Out of curiosity, why would you *not* want the schema to be generated for an in-memory database?","body":"Out of curiosity, why would you <i>not</i> want the schema to be generated for an in-memory database?"},{"owner":{"account_id":4081547,"reputation":4204,"user_id":3351924,"accept_rate":89,"display_name":"secondbreakfast"},"score":0,"creation_date":1554819019,"post_id":55575505,"comment_id":97886289,"body_markdown":"@crizzis Well I was having errors with the auto generation so I needed to turn it off while I figured it out and worked on other things","body":"@crizzis Well I was having errors with the auto generation so I needed to turn it off while I figured it out and worked on other things"},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1689002149,"post_id":55575505,"comment_id":135147991,"body_markdown":"@crizzis a scenario is when already exists either the `schema.sql` or `schema-h2.sql` files. Therefore the schema already exists.","body":"@crizzis a scenario is when already exists either the <code>schema.sql</code> or <code>schema-h2.sql</code> files. Therefore the schema already exists."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1689002310,"post_id":55575505,"comment_id":135148036,"body_markdown":"@M.Deinum even when `spring.jpa.hibernate.ddl-auto` as **none** works as expected - Why is available the `spring.jpa.generate-ddl` property if  the `spring.jpa.hibernate.ddl-auto` property handles the same approach to reach the same goal?- is not clear when is mandatory use `spring.jpa.generate-ddl` over `spring.jpa.hibernate.ddl-auto`","body":"@M.Deinum even when <code>spring.jpa.hibernate.ddl-auto</code> as <b>none</b> works as expected - Why is available the <code>spring.jpa.generate-ddl</code> property if  the <code>spring.jpa.hibernate.ddl-auto</code> property handles the same approach to reach the same goal?- is not clear when is mandatory use <code>spring.jpa.generate-ddl</code> over <code>spring.jpa.hibernate.ddl-auto</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689012203,"post_id":55575505,"comment_id":135150061,"body_markdown":"`generate-ddl` is only `true` and `false` which works with any provider. Whereas `spring.jpa.hibernate.ddl-auto` allows you to specify the specify hibernate mode.","body":"<code>generate-ddl</code> is only <code>true</code> and <code>false</code> which works with any provider. Whereas <code>spring.jpa.hibernate.ddl-auto</code> allows you to specify the specify hibernate mode."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1689086509,"post_id":55575505,"comment_id":135161656,"body_markdown":"@ManuelJordan you do realize that the question asked was about an **in-memory** database?","body":"@ManuelJordan you do realize that the question asked was about an <b>in-memory</b> database?"},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1689090344,"post_id":55575505,"comment_id":135162619,"body_markdown":"@crizzis - Yes, but it could be applied to in a disk database as MySQL for _pre-production_ profile ... it to test with the target DB","body":"@crizzis - Yes, but it could be applied to in a disk database as MySQL for <i>pre-production</i> profile ... it to test with the target DB"},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1689090383,"post_id":55575505,"comment_id":135162631,"body_markdown":"@M.Deinum thanks for the reply, yes the former is generic and the latter has more options.","body":"@M.Deinum thanks for the reply, yes the former is generic and the latter has more options."}],"answers":[{"tags":[],"owner":{"account_id":367739,"reputation":1068,"user_id":714104,"accept_rate":20,"display_name":"Dominik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689003219,"creation_date":1632573600,"answer_id":69326241,"question_id":55575505,"body_markdown":"This behavior is described in the Spring Boot Reference Documentation at the [Creating and Dropping JPA Databases](https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.jpa-and-spring-data.creating-and-dropping) section as follows:\r\n\r\n&gt; By default, the DDL execution (or validation) is deferred until the\r\n&gt; `ApplicationContext` has started. There is also a\r\n&gt; `spring.jpa.generate-ddl` flag, but it is not used if Hibernate\r\n&gt; auto-configuration is active, because the `ddl-auto` settings are more\r\n&gt; fine-grained.\r\n\r\nSince the `spring.jpa.hibernate.ddl-auto` property is set by default when Hibernate is used, therefore the `spring.jpa.generate-ddl` property is ignored, at least with a H2 in-memory database\r\n\r\n","title":"H2 schema still generated when spring.jpa.generate-ddl=false","body":"<p>This behavior is described in the Spring Boot Reference Documentation at the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.jpa-and-spring-data.creating-and-dropping\" rel=\"nofollow noreferrer\">Creating and Dropping JPA Databases</a> section as follows:</p>\n<blockquote>\n<p>By default, the DDL execution (or validation) is deferred until the\n<code>ApplicationContext</code> has started. There is also a\n<code>spring.jpa.generate-ddl</code> flag, but it is not used if Hibernate\nauto-configuration is active, because the <code>ddl-auto</code> settings are more\nfine-grained.</p>\n</blockquote>\n<p>Since the <code>spring.jpa.hibernate.ddl-auto</code> property is set by default when Hibernate is used, therefore the <code>spring.jpa.generate-ddl</code> property is ignored, at least with a H2 in-memory database</p>\n"}],"owner":{"account_id":4081547,"reputation":4204,"user_id":3351924,"accept_rate":89,"display_name":"secondbreakfast"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69326241,"answer_count":1,"score":1,"last_activity_date":1689003219,"creation_date":1554732958,"question_id":55575505,"body_markdown":"I am using Spring Boot 2.1.3 with an H2 in memory database for testing. When I run my tests, the schema gets generated even when I specify the following property. \r\n\r\n    spring.jpa.generate-ddl=false\r\n\r\n\r\nIt seems that because Spring Boot defaults the following property when using H2\r\n\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n\r\nThat this takes precedence over `spring.jpa.generate-ddl=false`\r\n\r\nIs this a bug?","title":"H2 schema still generated when spring.jpa.generate-ddl=false","body":"<p>I am using Spring Boot 2.1.3 with an H2 in memory database for testing. When I run my tests, the schema gets generated even when I specify the following property. </p>\n\n<pre><code>spring.jpa.generate-ddl=false\n</code></pre>\n\n<p>It seems that because Spring Boot defaults the following property when using H2</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n\n<p>That this takes precedence over <code>spring.jpa.generate-ddl=false</code></p>\n\n<p>Is this a bug?</p>\n"},{"tags":["java","maven","google-cloud-platform","google-bigquery"],"answers":[{"tags":[],"owner":{"account_id":25604480,"reputation":1167,"user_id":19378826,"display_name":"Nestor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689003022,"creation_date":1689003022,"answer_id":76655243,"question_id":76652504,"body_markdown":"If it is in the official documentation it must be the correct numbers of jars needed for dependencies, or try this that pom content that described in the [before you begin][1] section of BigQuery API&#39;s reference.:\r\n```\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n      &lt;version&gt;26.18.0&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n```\r\n\r\nIf you scroll down a bit more you will find IDE plugins for using client libraries(that might be helpful to your use case):\r\n\r\n&gt;If you&#39;re using Visual Studio Code, IntelliJ, or Eclipse, you can add client libraries to your project using the following IDE plugins:\r\n&gt;\r\n&gt; - Cloud Code for VS Code\r\n&gt; - Cloud Code for IntelliJ\r\n&gt; - Cloud Tools for Eclipse\r\n\r\n\r\n  [1]: https://cloud.google.com/bigquery/docs/reference/libraries#install","title":"Dependency Jars required for querying data from GCP Bigquery using java","body":"<p>If it is in the official documentation it must be the correct numbers of jars needed for dependencies, or try this that pom content that described in the <a href=\"https://cloud.google.com/bigquery/docs/reference/libraries#install\" rel=\"nofollow noreferrer\">before you begin</a> section of BigQuery API's reference.:</p>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n      &lt;version&gt;26.18.0&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>If you scroll down a bit more you will find IDE plugins for using client libraries(that might be helpful to your use case):</p>\n<blockquote>\n<p>If you're using Visual Studio Code, IntelliJ, or Eclipse, you can add client libraries to your project using the following IDE plugins:</p>\n<ul>\n<li>Cloud Code for VS Code</li>\n<li>Cloud Code for IntelliJ</li>\n<li>Cloud Tools for Eclipse</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":16609354,"reputation":324,"user_id":12002856,"display_name":"DAK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76655243,"answer_count":1,"score":0,"last_activity_date":1689003022,"creation_date":1688981929,"question_id":76652504,"body_markdown":"Dependency Jars required for querying data from GCP Bigquery using java.\r\n\r\ni have to query data from gcp bigquery for that I chose java client libraries of GCP instead of REST API. I added a maven pom.xml to get the required dependencies like \r\n\r\n```\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n\r\n            &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/libraries-bom --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;26.17.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-bigquery&lt;/artifactId&gt;\r\n            &lt;version&gt;2.27.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nIt gave the 74 jars. truely all those jars required??\r\nor any correction required? ","title":"Dependency Jars required for querying data from GCP Bigquery using java","body":"<p>Dependency Jars required for querying data from GCP Bigquery using java.</p>\n<p>i have to query data from gcp bigquery for that I chose java client libraries of GCP instead of REST API. I added a maven pom.xml to get the required dependencies like</p>\n<pre><code>      &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/libraries-bom --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n                &lt;version&gt;26.17.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-bigquery&lt;/artifactId&gt;\n            &lt;version&gt;2.27.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>It gave the 74 jars. truely all those jars required??\nor any correction required?</p>\n"},{"tags":["python","java","apache-spark","oop","amazon-s3"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688564738,"post_id":76620125,"comment_id":135090391,"body_markdown":"Guessing file encodings of text files is a wicked problem. You can take it as practicably impossible","body":"Guessing file encodings of text files is a wicked problem. You can take it as practicably impossible"}],"answers":[{"tags":[],"owner":{"account_id":15267555,"reputation":21,"user_id":11015663,"display_name":"Vishal Sain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689002785,"creation_date":1689002785,"answer_id":76655209,"question_id":76620125,"body_markdown":"Was not really able to achieve the same in a single line, but this is how i did it in python. Followed the same approach in java as well.\r\n\r\n&gt; chardet_detector was the tool which made it possible.\r\n\r\n    import chardet.universaldetector as chardet_detector\r\n\r\n    def get_dataframe(spark, path, schema, delimiter):\r\n        &quot;&quot;&quot;Return a dataframe setup to read a CSV file&quot;&quot;&quot;\r\n        s3_file_content = spark.sparkContext.binaryFiles(path).flatMap(lambda x: x[1].splitlines()).collect()\r\n        file_encoding = detect_file_encoding(s3_file_content)\r\n        options = {&quot;encoding&quot;: file_encoding}\r\n        data_frame = spark.read.schema(schema).options(**options).csv(path).toDF(\r\n            *[f.metadata.get(&quot;alias&quot;) for f in schema])\r\n        data_frame.show()\r\n        return data_frame\r\n    \r\n    \r\n    def detect_file_encoding(content):\r\n        detector = chardet_detector.UniversalDetector()\r\n        for line in content:\r\n            detector.feed(line)\r\n            if detector.done:\r\n                break\r\n        detector.close()\r\n        return detector.result[&#39;encoding&#39;]\r\n\r\nPlease let me know in the comments if explanation is required. I think the code is quite self explanatory.","title":"How to use the encoding as per the file, while reading from spark","body":"<p>Was not really able to achieve the same in a single line, but this is how i did it in python. Followed the same approach in java as well.</p>\n<blockquote>\n<p>chardet_detector was the tool which made it possible.</p>\n</blockquote>\n<pre><code>import chardet.universaldetector as chardet_detector\n\ndef get_dataframe(spark, path, schema, delimiter):\n    &quot;&quot;&quot;Return a dataframe setup to read a CSV file&quot;&quot;&quot;\n    s3_file_content = spark.sparkContext.binaryFiles(path).flatMap(lambda x: x[1].splitlines()).collect()\n    file_encoding = detect_file_encoding(s3_file_content)\n    options = {&quot;encoding&quot;: file_encoding}\n    data_frame = spark.read.schema(schema).options(**options).csv(path).toDF(\n        *[f.metadata.get(&quot;alias&quot;) for f in schema])\n    data_frame.show()\n    return data_frame\n\n\ndef detect_file_encoding(content):\n    detector = chardet_detector.UniversalDetector()\n    for line in content:\n        detector.feed(line)\n        if detector.done:\n            break\n    detector.close()\n    return detector.result['encoding']\n</code></pre>\n<p>Please let me know in the comments if explanation is required. I think the code is quite self explanatory.</p>\n"}],"owner":{"account_id":15267555,"reputation":21,"user_id":11015663,"display_name":"Vishal Sain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76655209,"answer_count":1,"score":0,"last_activity_date":1689002785,"creation_date":1688558541,"question_id":76620125,"body_markdown":"I am trying to figure out a way to get the fileEncoding of each text file while i am reading it from the spark and use it as `.option(&quot;encoding&quot;,fileEncoding)`.\r\nP.S - No need to have all the code in a single line.\r\n\r\nCan some one please help me with the same?","title":"How to use the encoding as per the file, while reading from spark","body":"<p>I am trying to figure out a way to get the fileEncoding of each text file while i am reading it from the spark and use it as <code>.option(&quot;encoding&quot;,fileEncoding)</code>.\nP.S - No need to have all the code in a single line.</p>\n<p>Can some one please help me with the same?</p>\n"},{"tags":["java","spring","cron"],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1425331019,"creation_date":1425331019,"answer_id":28819596,"question_id":28819560,"body_markdown":"Just use the following cron:\r\n\r\n    @Scheduled(cron = &quot;0 0/15 * * * *&quot;)\r\n\r\nSpring cron expression syntax slightly differs from unix cron expression. One immediate difference - it supports 1 less field (6 rather than 7).","title":"Spring execute method every 15 minutes","body":"<p>Just use the following cron:</p>\n\n<pre><code>@Scheduled(cron = \"0 0/15 * * * *\")\n</code></pre>\n\n<p>Spring cron expression syntax slightly differs from unix cron expression. One immediate difference - it supports 1 less field (6 rather than 7).</p>\n"},{"tags":[],"owner":{"account_id":22195690,"reputation":51,"user_id":16437129,"display_name":"Azaan Wani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689002724,"creation_date":1689002724,"answer_id":76655200,"question_id":28819560,"body_markdown":"    @Scheduled(cron = &quot;0 0/15 * * * ?&quot;)\r\nIn springboot i used this!","title":"Spring execute method every 15 minutes","body":"<pre><code>@Scheduled(cron = &quot;0 0/15 * * * ?&quot;)\n</code></pre>\n<p>In springboot i used this!</p>\n"}],"owner":{"account_id":5585617,"reputation":3922,"user_id":4426075,"accept_rate":50,"display_name":"Semyon Tikhonenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37511,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":28819596,"answer_count":2,"score":16,"last_activity_date":1689002724,"creation_date":1425330861,"question_id":28819560,"body_markdown":"I tried to use cron expression from this site http://www.cronmaker.com/\r\n\r\n```java\r\n@Scheduled(cron = &quot;0 0/15 * 1/1 * ? *&quot;)\r\npublic void clearRps() {\r\n            \r\n}\r\n```\r\nBut it throws: java.lang.IllegalStateException: Encountered invalid @Scheduled method &#39;clearRps&#39;: Cron expression must consist of 6 fields (found 7 in &quot;0 0/15 * 1/1 * ? *&quot;)","title":"Spring execute method every 15 minutes","body":"<p>I tried to use cron expression from this site <a href=\"http://www.cronmaker.com/\" rel=\"nofollow noreferrer\">http://www.cronmaker.com/</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron = &quot;0 0/15 * 1/1 * ? *&quot;)\npublic void clearRps() {\n            \n}\n</code></pre>\n<p>But it throws: java.lang.IllegalStateException: Encountered invalid @Scheduled method 'clearRps': Cron expression must consist of 6 fields (found 7 in &quot;0 0/15 * 1/1 * ? *&quot;)</p>\n"},{"tags":["java","apache-kafka","vert.x"],"owner":{"account_id":25469099,"reputation":1,"user_id":22193286,"display_name":"Jonathan Castellanos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689002620,"creation_date":1688780450,"question_id":76641022,"body_markdown":"I need to create a POST request with vertx, following the example &quot;parallel-consumer-example-vertx&quot; I created a &quot;webClient&quot; to later invoke &quot;parallelConsumer.vertxHttpRequestStream&quot;. But at the moment of sending a Json as body, the flow of the application breaks; because the POST request is done infinitely because the commit to the kafka queue record is not done.\r\n\r\nCode fragment in method &quot;run()&quot;:\r\n\r\n```\r\nthis.parallelConsumer = JStreamVertxParallelStreamProcessor.createEosStreamProcessor(options);\r\nparallelConsumer.subscribe(of(inputTopic));\r\n\r\nStream resultStream = parallelConsumer.vertxHttpRequestStream((webClient, rec) -&gt; {\r\n            \r\n            System.out.println(&quot;Msg recibido&quot;);\r\n            \r\n            ConsumerRecord consumerRecord = rec.getSingleConsumerRecord();\r\n            \r\n            Map&lt;String, String&gt; params = new HashMap();\r\n\r\n            JsonObject payload = new JsonObject(consumerRecord.value().toString());\r\n            System.out.println(&quot;Payload&quot; + payload);\r\n            \r\n            RequestInfo reqInf = new RequestInfo(&quot;localhost&quot;, port, &quot;/send-message&quot;, params);\r\n\r\n            HttpRequest&lt;Buffer&gt; req = (HttpRequest&lt;Buffer&gt;) webClient.post(reqInf.getPort(), reqInf.getHost(), reqInf.getContextPath());\r\n                   /* Error */\r\n                   /* \r\n                    .sendJsonObject(new JsonObject(&quot;{\\&quot;hola\\&quot;:\\&quot;mundo\\&quot;}&quot;));\r\n                    .onSuccess(res -&gt; {\r\n                        System.out.println(res.bodyAsString());\r\n                    });\r\n                   */\r\n\r\n            return req;\r\n});\r\n```\r\n\r\n\r\nI was expecting the application to commit to kafka&#39;s record, just like it does when sending a webClient without body.\r\n\r\nThank you for your help\r\n\r\nDocumentation: https://github.com/confluentinc/parallel-consumer\r\n\r\nExample: https://github.com/confluentinc/parallel-consumer/blob/master/parallel-consumer-examples/parallel-consumer-example-vertx/src/main/java/io/confluent/parallelconsumer/examples/vertx/VertxApp.java","title":"Error when making a POST request with Confluent parallel-consumer and vertx","body":"<p>I need to create a POST request with vertx, following the example &quot;parallel-consumer-example-vertx&quot; I created a &quot;webClient&quot; to later invoke &quot;parallelConsumer.vertxHttpRequestStream&quot;. But at the moment of sending a Json as body, the flow of the application breaks; because the POST request is done infinitely because the commit to the kafka queue record is not done.</p>\n<p>Code fragment in method &quot;run()&quot;:</p>\n<pre><code>this.parallelConsumer = JStreamVertxParallelStreamProcessor.createEosStreamProcessor(options);\nparallelConsumer.subscribe(of(inputTopic));\n\nStream resultStream = parallelConsumer.vertxHttpRequestStream((webClient, rec) -&gt; {\n            \n            System.out.println(&quot;Msg recibido&quot;);\n            \n            ConsumerRecord consumerRecord = rec.getSingleConsumerRecord();\n            \n            Map&lt;String, String&gt; params = new HashMap();\n\n            JsonObject payload = new JsonObject(consumerRecord.value().toString());\n            System.out.println(&quot;Payload&quot; + payload);\n            \n            RequestInfo reqInf = new RequestInfo(&quot;localhost&quot;, port, &quot;/send-message&quot;, params);\n\n            HttpRequest&lt;Buffer&gt; req = (HttpRequest&lt;Buffer&gt;) webClient.post(reqInf.getPort(), reqInf.getHost(), reqInf.getContextPath());\n                   /* Error */\n                   /* \n                    .sendJsonObject(new JsonObject(&quot;{\\&quot;hola\\&quot;:\\&quot;mundo\\&quot;}&quot;));\n                    .onSuccess(res -&gt; {\n                        System.out.println(res.bodyAsString());\n                    });\n                   */\n\n            return req;\n});\n</code></pre>\n<p>I was expecting the application to commit to kafka's record, just like it does when sending a webClient without body.</p>\n<p>Thank you for your help</p>\n<p>Documentation: <a href=\"https://github.com/confluentinc/parallel-consumer\" rel=\"nofollow noreferrer\">https://github.com/confluentinc/parallel-consumer</a></p>\n<p>Example: <a href=\"https://github.com/confluentinc/parallel-consumer/blob/master/parallel-consumer-examples/parallel-consumer-example-vertx/src/main/java/io/confluent/parallelconsumer/examples/vertx/VertxApp.java\" rel=\"nofollow noreferrer\">https://github.com/confluentinc/parallel-consumer/blob/master/parallel-consumer-examples/parallel-consumer-example-vertx/src/main/java/io/confluent/parallelconsumer/examples/vertx/VertxApp.java</a></p>\n"},{"tags":["java","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689002540,"creation_date":1689002540,"answer_id":76655178,"question_id":76636898,"body_markdown":"I suspect it has to do with you replacing the `bindingResult` parameter with a new instance. For troubleshooting, I&#39;d try either looking at the Spring source code or logging the elements of `bindingResult` that _aren&#39;t_ the two &quot;notEmpty&quot; cases you&#39;re looking for. Maybe there are others you need to add back to the new instance unchanged, to keep the default behavior.","title":"SpringMvc custom binding result break date format","body":"<p>I suspect it has to do with you replacing the <code>bindingResult</code> parameter with a new instance. For troubleshooting, I'd try either looking at the Spring source code or logging the elements of <code>bindingResult</code> that <em>aren't</em> the two &quot;notEmpty&quot; cases you're looking for. Maybe there are others you need to add back to the new instance unchanged, to keep the default behavior.</p>\n"}],"owner":{"account_id":22249270,"reputation":45,"user_id":16482462,"display_name":"FalAn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689002540,"creation_date":1688732064,"question_id":76636898,"body_markdown":"i am practicing validating form with spring mvc binding result, when i validating the form, i got a result like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut i don&#39;t want the field name to just pop 2 error, i want it to pop error one at a time to an order i want, so i custom my bindingResult, here is the code:\r\n\r\nController:\r\n\r\n\t\r\n\r\n        @RequestMapping(value = {&quot;create&quot;}, method = RequestMethod.POST)\r\n    \tpublic String create(ModelMap modelMap, HttpSession session, RedirectAttributes ra, @ModelAttribute(&quot;product&quot;) @Valid Product product, BindingResult bindingResult) {\r\n    \t\tif(bindingResult.hasErrors()) {\r\n    \t\t\tvar errors = customErrorMessageOrder(bindingResult.getFieldErrors());\r\n    \t\t\tbindingResult = new BeanPropertyBindingResult(product, &quot;product&quot;);\r\n    \t\t\tfor(var e : errors) {\r\n    \t\t\t\tbindingResult.addError(e);\r\n    \t\t\t}\r\n    \t\t\tmodelMap.put(&quot;org.springframework.validation.BindingResult.product&quot;, bindingResult);\r\n    \t\t\t\r\n    \t\t\tmodelMap.put(&quot;categories&quot;, categoryService.findAll());\r\n    \t\t\treturn &quot;admin/product/create&quot;;\r\n    \t\t}\r\n    \r\n    \t\treturn &quot;redirect:/admin/product/index&quot;;\r\n    \t}\r\n    \t\r\n    \tprivate List&lt;FieldError&gt; customErrorMessageOrder(List&lt;FieldError&gt; listErrors){\r\n    \t\tvar notEmptyListErrors = listErrors\r\n    \t\t\t\t\t\t\t\t\t.stream()\r\n    \t\t\t\t\t\t\t\t\t.filter(e -&gt; e.getCode().equals(&quot;NotEmpty&quot;) || e.getCode().equals(&quot;password.notEmpty&quot;))\r\n    \t\t\t\t\t\t\t\t\t.collect(Collectors.toList());\t\r\n    \t\tif(notEmptyListErrors.size()==0) {\r\n    \t\t\treturn listErrors;\r\n    \t\t}\r\n    \t\t\r\n    \t\tvar alterListErrors = listErrors.stream().collect(Collectors.toList());\r\n    \t\t\r\n    \t\tfor(var e : notEmptyListErrors) {\r\n    \t\t\talterListErrors.removeIf(e1-&gt;e1.getField().equals(e.getField()));\r\n    \t\t}\r\n    \t\t\r\n    \t\tnotEmptyListErrors.addAll(alterListErrors);\r\n    \t\t\r\n    \t\treturn notEmptyListErrors;\r\n    \t}\r\n\r\nEverything work as i expect, but there is 1 minor problem, when i test the validation again, the ***created*** field some how became like this:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nMbn8.png\r\n  [2]: https://i.stack.imgur.com/di47N.png\r\n\r\nI have already put ***@DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)*** in my ***created*** field of the ***Product*** model, and if i remove the custom ***bindingResult*** part:\r\n\r\n        @RequestMapping(value = {&quot;create&quot;}, method = RequestMethod.POST)\r\n    \tpublic String create(ModelMap modelMap, HttpSession session, RedirectAttributes ra, @ModelAttribute(&quot;product&quot;) @Valid Product product, BindingResult bindingResult) {\r\n    \t\tif(bindingResult.hasErrors()) {\r\n    \t\t\tmodelMap.put(&quot;categories&quot;, categoryService.findAll());\r\n    \t\t\treturn &quot;admin/product/create&quot;;\r\n    \t\t}\r\n    \r\n    \t\treturn &quot;redirect:/admin/product/index&quot;;\r\n    \t}\r\n\r\nThe ***created*** field&#39;s format is back to normal, so it must have something to do with my custom ***bindingResult***, but i don&#39;t know where is the problem and how to fix it, please help :(","title":"SpringMvc custom binding result break date format","body":"<p>i am practicing validating form with spring mvc binding result, when i validating the form, i got a result like this:</p>\n<p><a href=\"https://i.stack.imgur.com/nMbn8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nMbn8.png\" alt=\"enter image description here\" /></a></p>\n<p>But i don't want the field name to just pop 2 error, i want it to pop error one at a time to an order i want, so i custom my bindingResult, here is the code:</p>\n<p>Controller:</p>\n<pre><code>    @RequestMapping(value = {&quot;create&quot;}, method = RequestMethod.POST)\n    public String create(ModelMap modelMap, HttpSession session, RedirectAttributes ra, @ModelAttribute(&quot;product&quot;) @Valid Product product, BindingResult bindingResult) {\n        if(bindingResult.hasErrors()) {\n            var errors = customErrorMessageOrder(bindingResult.getFieldErrors());\n            bindingResult = new BeanPropertyBindingResult(product, &quot;product&quot;);\n            for(var e : errors) {\n                bindingResult.addError(e);\n            }\n            modelMap.put(&quot;org.springframework.validation.BindingResult.product&quot;, bindingResult);\n            \n            modelMap.put(&quot;categories&quot;, categoryService.findAll());\n            return &quot;admin/product/create&quot;;\n        }\n\n        return &quot;redirect:/admin/product/index&quot;;\n    }\n    \n    private List&lt;FieldError&gt; customErrorMessageOrder(List&lt;FieldError&gt; listErrors){\n        var notEmptyListErrors = listErrors\n                                    .stream()\n                                    .filter(e -&gt; e.getCode().equals(&quot;NotEmpty&quot;) || e.getCode().equals(&quot;password.notEmpty&quot;))\n                                    .collect(Collectors.toList());  \n        if(notEmptyListErrors.size()==0) {\n            return listErrors;\n        }\n        \n        var alterListErrors = listErrors.stream().collect(Collectors.toList());\n        \n        for(var e : notEmptyListErrors) {\n            alterListErrors.removeIf(e1-&gt;e1.getField().equals(e.getField()));\n        }\n        \n        notEmptyListErrors.addAll(alterListErrors);\n        \n        return notEmptyListErrors;\n    }\n</code></pre>\n<p>Everything work as i expect, but there is 1 minor problem, when i test the validation again, the <em><strong>created</strong></em> field some how became like this:</p>\n<p><a href=\"https://i.stack.imgur.com/di47N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/di47N.png\" alt=\"enter image description here\" /></a></p>\n<p>I have already put <em><strong>@DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)</strong></em> in my <em><strong>created</strong></em> field of the <em><strong>Product</strong></em> model, and if i remove the custom <em><strong>bindingResult</strong></em> part:</p>\n<pre><code>    @RequestMapping(value = {&quot;create&quot;}, method = RequestMethod.POST)\n    public String create(ModelMap modelMap, HttpSession session, RedirectAttributes ra, @ModelAttribute(&quot;product&quot;) @Valid Product product, BindingResult bindingResult) {\n        if(bindingResult.hasErrors()) {\n            modelMap.put(&quot;categories&quot;, categoryService.findAll());\n            return &quot;admin/product/create&quot;;\n        }\n\n        return &quot;redirect:/admin/product/index&quot;;\n    }\n</code></pre>\n<p>The <em><strong>created</strong></em> field's format is back to normal, so it must have something to do with my custom <em><strong>bindingResult</strong></em>, but i don't know where is the problem and how to fix it, please help :(</p>\n"},{"tags":["java","spring","join","specifications","many-to-one"],"comments":[{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1688807028,"post_id":76637836,"comment_id":135125653,"body_markdown":"Hey, I did not get your question.","body":"Hey, I did not get your question."},{"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"score":0,"creation_date":1688845200,"post_id":76637836,"comment_id":135129725,"body_markdown":"This class implements Specification when criteria.getKey().contains(&quot;.&quot;)) so filter Will work on joint table city/country In This way, I can have all cities for &gt; each country in Array payload {&quot;country_code&quot;: [&quot;IT&quot;, &quot;FR&quot;]}","body":"This class implements Specification when criteria.getKey().contains(&quot;.&quot;)) so filter Will work on joint table city/country In This way, I can have all cities for &gt; each country in Array payload {&quot;country_code&quot;: [&quot;IT&quot;, &quot;FR&quot;]}"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1688896260,"post_id":76637836,"comment_id":135133226,"body_markdown":"Hm, this is no question. Are you aware that we expect to have a question how to solve a problem?","body":"Hm, this is no question. Are you aware that we expect to have a question how to solve a problem?"},{"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"score":0,"creation_date":1688974779,"post_id":76637836,"comment_id":135141664,"body_markdown":"this is a example about my response, bad response and good response [link here](https://drive.google.com/drive/folders/1pEWZ3TbJ6qf0kWdRVDMTIG9N9Nnrn5YS?usp=drive_link)","body":"this is a example about my response, bad response and good response <a href=\"https://drive.google.com/drive/folders/1pEWZ3TbJ6qf0kWdRVDMTIG9N9Nnrn5YS?usp=drive_link\" rel=\"nofollow noreferrer\">link here</a>"}],"answers":[{"tags":[],"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689002535,"creation_date":1689002535,"answer_id":76655177,"question_id":76637836,"body_markdown":"    enter code here    \r\n    @Data\r\n    @Entity\r\n    @Table(name=&quot;countries&quot;) //table is cities (this is a problem)\r\n    @Validated\r\n    public class City {\r\n\r\nMy code is ok\r\n","title":"Specification&lt;T&gt; used for filtering join table with relationship @ManyToOne","body":"<pre><code>enter code here    \n@Data\n@Entity\n@Table(name=&quot;countries&quot;) //table is cities (this is a problem)\n@Validated\npublic class City {\n</code></pre>\n<p>My code is ok</p>\n"}],"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689002535,"creation_date":1688740034,"question_id":76637836,"body_markdown":"[!(https://i.stack.imgur.com/p5Tjt.png)](https://i.stack.imgur.com/p5Tjt.png)\r\n```\r\n    {\r\n        &quot;country_code&quot;:[&quot;IT&quot;, &quot;FR&quot;, &quot;EG&quot;]\r\n    }\r\n```\r\n&gt; In this way I can filter all cities for specific country_code\r\n&gt; here model City and Country\r\n```\r\n\tpackage comgenchi.geotools.model;\r\n\r\n\timport javax.persistence.Entity;\r\n\timport javax.persistence.GeneratedValue;\r\n\timport javax.persistence.Id;\r\n\timport javax.persistence.JoinColumn;\r\n\timport javax.persistence.ManyToOne;\r\n\timport javax.persistence.Table;\r\n\timport javax.validation.constraints.NotBlank;\r\n\timport javax.validation.constraints.Pattern;\r\n\r\n\timport org.hibernate.validator.constraints.Range;\r\n\timport org.springframework.validation.annotation.Validated;\r\n\r\n\timport lombok.Data;\r\n\r\n\t@Data\r\n\t@Entity\r\n\t@Table(name=&quot;countries&quot;)\r\n\t@Validated\r\n\tpublic class City {\r\n\t\t\r\n\t\t@Id\r\n\t\t@GeneratedValue\r\n\t\tprotected int Id;\r\n\r\n\t\t@ManyToOne\r\n\t\t@JoinColumn(name=&quot;country_code&quot;)\r\n\t\tprotected Country country;\r\n\r\n\t\tprotected String postal_code;\r\n\t\t\r\n\t\t@NotBlank(message=&quot;position can not be blank&quot;)\r\n\t\tprotected String position;\r\n\r\n\t\t@NotBlank(message=&quot;region can not be blank&quot;)\r\n\t\tprotected String region;\r\n\r\n\t\t@NotBlank(message=&quot;region_code can not be blank&quot;)\r\n\t\tprotected String region_code;\r\n\r\n\t\t@NotBlank(message=&quot;province can not be blank&quot;)\r\n\t\tprotected String province;\r\n\t\t\r\n\t\t@Pattern(regexp=&quot;^([A-Z]{2,3})|([/d]{0,5})|(^$)$&quot;, message=&quot;sigle province format error&quot;)\r\n\t\tprotected String sigle_province;\r\n\r\n\t\t@Range(min=-90, max=90, message=&quot;Range for latitude must be from -90 to 90&quot;)\r\n\t\tprotected String latitude;\r\n\r\n\t\t@Range(min=-180, max=180, message=&quot;Range for longitude must be from -90 to 90&quot;)\r\n\t\tprotected String longitude;\r\n\r\n\t}\r\n\r\n\tpackage comgenchi.geotools.model;\r\n\r\n\timport javax.persistence.Column;\r\n\timport javax.persistence.Entity;\r\n\timport javax.persistence.Id;\r\n\timport javax.persistence.Table;\r\n\timport javax.validation.constraints.NotBlank;\r\n\timport javax.validation.constraints.Pattern;\r\n\r\n\timport org.springframework.validation.annotation.Validated;\r\n\r\n\timport lombok.Data;\r\n\r\n\t@Data\r\n\t@Entity\r\n\t@Table(name=&quot;countries&quot;)\r\n\t@Validated\r\n\tpublic class Country {\r\n\r\n\t\t@Id\r\n\t\t@Column(name=&quot;country_code&quot;, unique=true, nullable=false)\r\n\t\t@Pattern(regexp=&quot;^[A-Za-z]{2}$&quot;, message=&quot;country_code must be have 2 letters&quot;)\r\n\t\t@NotBlank(message = &quot;country_code not blank&quot;)\r\n\t\tprotected String country_code;\r\n\r\n\t\t@Column(name=&quot;country&quot;, unique=true, nullable=false)\r\n\t\t@NotBlank(message = &quot;country name not blank&quot;)\r\n\t\tprotected String name;\r\n\r\n\t}\r\n\r\n```\r\n\r\n&gt; This class implements Specification&lt;T&gt;\r\n&gt; resolve joint table city/country\r\n&gt; In This way, I can have all cities for &gt; each country in Array payload\r\n&gt; {&quot;country_code&quot;: [&quot;IT&quot;, &quot;FR&quot;, &quot;EG&quot;]}\r\nthis is my Json Response, bad e good\r\n[JsonResponse][1]\r\n\r\n\r\n \r\n\r\n```\r\n\tpackage comgenchi.geotools.controller;\r\n\r\n\timport javax.persistence.criteria.CriteriaBuilder;\r\n\timport javax.persistence.criteria.CriteriaQuery;\r\n\timport javax.persistence.criteria.Path;\r\n\timport javax.persistence.criteria.Predicate;\r\n\timport javax.persistence.criteria.Root;\r\n\r\n\timport org.springframework.data.jpa.domain.Specification;\r\n\timport org.springframework.lang.Nullable;\r\n\r\n\timport comgenchi.geotools.model.SearchCriteria;\r\n\r\n\t// return in all method un specification&lt;Country&gt;\r\n\tpublic final class Specs&lt;T&gt; implements Specification&lt;T&gt; {\r\n\r\n\t  private final SearchCriteria criteria;\r\n\r\n\t  public Specs(SearchCriteria searchCriteria) {\r\n\t\tthis.criteria = searchCriteria;\r\n\t  }\r\n\r\n\t  @Override\r\n\t  @Nullable\r\n\t  public Predicate toPredicate(\r\n\t\tRoot&lt;T&gt; root,\r\n\t\tCriteriaQuery&lt;?&gt; query,\r\n\t\tCriteriaBuilder builder\r\n\t  ) {\r\n\t\t\r\n\t\tPath&lt;Object&gt; key = null;\r\n\t\t//here resolve join Join Country/City\r\n&gt; \r\n\r\n\t\tswitch (criteria.getOperation()) {\r\n\t\t  case &quot;:&quot;:\r\n\t\t\tif (key.getJavaType() == String.class) {\r\n\t\t\t  return builder.like(\r\n\t\t\t\troot.&lt;String&gt;get(criteria.getKey()),\r\n\t\t\t\t&quot;%&quot; + criteria.getValue() + &quot;%&quot;\r\n\t\t\t  );\r\n\t\t\t} else {\r\n\t\t\t  return builder.equal(key, criteria.getValue());\r\n\t\t\t}\r\n\t\t  case &quot;=&quot;:\r\n\t\t\treturn builder.equal(key, criteria.getValue());\r\n\t\t  case &quot;in&quot;:\r\n\t\t\treturn builder.in(key).value(criteria.getValue());\r\n\t\t  default:\r\n\t\t\treturn null;\r\n\t\t}\r\n\t  }\r\n\t}\r\n\r\n```\r\n\r\n\r\n  [1]: https://drive.google.com/drive/folders/1pEWZ3TbJ6qf0kWdRVDMTIG9N9Nnrn5YS?usp=drive_link","title":"Specification&lt;T&gt; used for filtering join table with relationship @ManyToOne","body":"<p><a href=\"https://i.stack.imgur.com/p5Tjt.png\" rel=\"nofollow noreferrer\">!(https://i.stack.imgur.com/p5Tjt.png)</a></p>\n<pre><code>    {\n        &quot;country_code&quot;:[&quot;IT&quot;, &quot;FR&quot;, &quot;EG&quot;]\n    }\n</code></pre>\n<blockquote>\n<p>In this way I can filter all cities for specific country_code\nhere model City and Country</p>\n</blockquote>\n<pre><code>    package comgenchi.geotools.model;\n\n    import javax.persistence.Entity;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.Id;\n    import javax.persistence.JoinColumn;\n    import javax.persistence.ManyToOne;\n    import javax.persistence.Table;\n    import javax.validation.constraints.NotBlank;\n    import javax.validation.constraints.Pattern;\n\n    import org.hibernate.validator.constraints.Range;\n    import org.springframework.validation.annotation.Validated;\n\n    import lombok.Data;\n\n    @Data\n    @Entity\n    @Table(name=&quot;countries&quot;)\n    @Validated\n    public class City {\n        \n        @Id\n        @GeneratedValue\n        protected int Id;\n\n        @ManyToOne\n        @JoinColumn(name=&quot;country_code&quot;)\n        protected Country country;\n\n        protected String postal_code;\n        \n        @NotBlank(message=&quot;position can not be blank&quot;)\n        protected String position;\n\n        @NotBlank(message=&quot;region can not be blank&quot;)\n        protected String region;\n\n        @NotBlank(message=&quot;region_code can not be blank&quot;)\n        protected String region_code;\n\n        @NotBlank(message=&quot;province can not be blank&quot;)\n        protected String province;\n        \n        @Pattern(regexp=&quot;^([A-Z]{2,3})|([/d]{0,5})|(^$)$&quot;, message=&quot;sigle province format error&quot;)\n        protected String sigle_province;\n\n        @Range(min=-90, max=90, message=&quot;Range for latitude must be from -90 to 90&quot;)\n        protected String latitude;\n\n        @Range(min=-180, max=180, message=&quot;Range for longitude must be from -90 to 90&quot;)\n        protected String longitude;\n\n    }\n\n    package comgenchi.geotools.model;\n\n    import javax.persistence.Column;\n    import javax.persistence.Entity;\n    import javax.persistence.Id;\n    import javax.persistence.Table;\n    import javax.validation.constraints.NotBlank;\n    import javax.validation.constraints.Pattern;\n\n    import org.springframework.validation.annotation.Validated;\n\n    import lombok.Data;\n\n    @Data\n    @Entity\n    @Table(name=&quot;countries&quot;)\n    @Validated\n    public class Country {\n\n        @Id\n        @Column(name=&quot;country_code&quot;, unique=true, nullable=false)\n        @Pattern(regexp=&quot;^[A-Za-z]{2}$&quot;, message=&quot;country_code must be have 2 letters&quot;)\n        @NotBlank(message = &quot;country_code not blank&quot;)\n        protected String country_code;\n\n        @Column(name=&quot;country&quot;, unique=true, nullable=false)\n        @NotBlank(message = &quot;country name not blank&quot;)\n        protected String name;\n\n    }\n\n</code></pre>\n<blockquote>\n<p>This class implements Specification\nresolve joint table city/country\nIn This way, I can have all cities for &gt; each country in Array payload\n{&quot;country_code&quot;: [&quot;IT&quot;, &quot;FR&quot;, &quot;EG&quot;]}\nthis is my Json Response, bad e good\n<a href=\"https://drive.google.com/drive/folders/1pEWZ3TbJ6qf0kWdRVDMTIG9N9Nnrn5YS?usp=drive_link\" rel=\"nofollow noreferrer\">JsonResponse</a></p>\n</blockquote>\n<pre><code>    package comgenchi.geotools.controller;\n\n    import javax.persistence.criteria.CriteriaBuilder;\n    import javax.persistence.criteria.CriteriaQuery;\n    import javax.persistence.criteria.Path;\n    import javax.persistence.criteria.Predicate;\n    import javax.persistence.criteria.Root;\n\n    import org.springframework.data.jpa.domain.Specification;\n    import org.springframework.lang.Nullable;\n\n    import comgenchi.geotools.model.SearchCriteria;\n\n    // return in all method un specification&lt;Country&gt;\n    public final class Specs&lt;T&gt; implements Specification&lt;T&gt; {\n\n      private final SearchCriteria criteria;\n\n      public Specs(SearchCriteria searchCriteria) {\n        this.criteria = searchCriteria;\n      }\n\n      @Override\n      @Nullable\n      public Predicate toPredicate(\n        Root&lt;T&gt; root,\n        CriteriaQuery&lt;?&gt; query,\n        CriteriaBuilder builder\n      ) {\n        \n        Path&lt;Object&gt; key = null;\n        //here resolve join Join Country/City\n&gt; \n\n        switch (criteria.getOperation()) {\n          case &quot;:&quot;:\n            if (key.getJavaType() == String.class) {\n              return builder.like(\n                root.&lt;String&gt;get(criteria.getKey()),\n                &quot;%&quot; + criteria.getValue() + &quot;%&quot;\n              );\n            } else {\n              return builder.equal(key, criteria.getValue());\n            }\n          case &quot;=&quot;:\n            return builder.equal(key, criteria.getValue());\n          case &quot;in&quot;:\n            return builder.in(key).value(criteria.getValue());\n          default:\n            return null;\n        }\n      }\n    }\n\n</code></pre>\n"},{"tags":["java","spring-boot","slf4j","lombok"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1689002948,"post_id":76654902,"comment_id":135148181,"body_markdown":"Did you try reading the Javadoc on those annotations?","body":"Did you try reading the Javadoc on those annotations?"},{"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"score":0,"creation_date":1690338484,"post_id":76654902,"comment_id":135338164,"body_markdown":"Yes, the javadoc did not explained why and when to use this @XSlf4 annotation.","body":"Yes, the javadoc did not explained why and when to use this @XSlf4 annotation."}],"answers":[{"comments":[{"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"score":1,"creation_date":1690338340,"post_id":76655075,"comment_id":135338152,"body_markdown":"Should we always use XLogger instead of Logger.  - &quot;Liberal use of these methods is encouraged ...&quot;","body":"Should we always use XLogger instead of Logger.  - &quot;Liberal use of these methods is encouraged ...&quot;"}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1689002481,"creation_date":1689001651,"answer_id":76655075,"question_id":76654902,"body_markdown":"One annotation results in a normal logger, the other results in an extended logger. \r\n\r\nLombok generates this code for the xslf4j annotation (this code came from https://projectlombok.org/api/lombok/extern/slf4j/XSlf4j):\r\n\r\n     private static final org.slf4j.ext.XLogger log = org.slf4j.ext.XLoggerFactory.getXLogger(LogExample.class);\r\n\r\n\r\n\r\nXLogger is an extended logger, see https://www.slf4j.org/extensions.html, it has a description starting with this summary: \r\n\r\n&gt; The XLogger class provides a few extra logging methods that are quite useful for following the execution path of applications. These methods generate logging events that can be filtered separately from other debug logging. Liberal use of these methods is encouraged as the output has been found to \r\n&gt;* aid in problem diagnosis in development without requiring a debug session\r\n&gt;* aid in problem diagnosis in production where no debugging is possible\r\n&gt;* help educate new developers in learning the application.\r\n\r\n","title":"What is difference between @XSlf4j and @Slf4j annotation in Lombok?","body":"<p>One annotation results in a normal logger, the other results in an extended logger.</p>\n<p>Lombok generates this code for the xslf4j annotation (this code came from <a href=\"https://projectlombok.org/api/lombok/extern/slf4j/XSlf4j\" rel=\"nofollow noreferrer\">https://projectlombok.org/api/lombok/extern/slf4j/XSlf4j</a>):</p>\n<pre><code> private static final org.slf4j.ext.XLogger log = org.slf4j.ext.XLoggerFactory.getXLogger(LogExample.class);\n</code></pre>\n<p>XLogger is an extended logger, see <a href=\"https://www.slf4j.org/extensions.html\" rel=\"nofollow noreferrer\">https://www.slf4j.org/extensions.html</a>, it has a description starting with this summary:</p>\n<blockquote>\n<p>The XLogger class provides a few extra logging methods that are quite useful for following the execution path of applications. These methods generate logging events that can be filtered separately from other debug logging. Liberal use of these methods is encouraged as the output has been found to</p>\n<ul>\n<li>aid in problem diagnosis in development without requiring a debug session</li>\n<li>aid in problem diagnosis in production where no debugging is possible</li>\n<li>help educate new developers in learning the application.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76655075,"answer_count":1,"score":2,"last_activity_date":1689002481,"creation_date":1689000507,"question_id":76654902,"body_markdown":"Can someone please explain the difference between `lombok.extern.slf4j.XSlf4j` and `lombok.extern.slf4j.Slf4j`? Looks like `XSlf4j` is a new addition, why was this new annotation added to Lombok library.","title":"What is difference between @XSlf4j and @Slf4j annotation in Lombok?","body":"<p>Can someone please explain the difference between <code>lombok.extern.slf4j.XSlf4j</code> and <code>lombok.extern.slf4j.Slf4j</code>? Looks like <code>XSlf4j</code> is a new addition, why was this new annotation added to Lombok library.</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"score":0,"creation_date":1688989760,"post_id":76653380,"comment_id":135144793,"body_markdown":"you can encrypt your username and password?","body":"you can encrypt your username and password?"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1688990616,"post_id":76653380,"comment_id":135144988,"body_markdown":"`headers.setBasicAuth(loggedUser.getUsername(), loggedUser.getPassword());` &lt;-- hashed password.\n\n\n`HttpEntity request = new HttpEntity(headers);` &lt;-- creating Http entity with above header\n\n\n`var response = restTemplate.exchange(&quot;/api/admin/entity&quot;, HttpMethod.GET, request, String.class);` &lt;-- and making an HTTP request.\nProviding hashed password as password to Authorization Basic header does not work","body":"<code>headers.setBasicAuth(loggedUser.getUsername(), loggedUser.getPassword());</code> &lt;-- hashed password.   <code>HttpEntity request = new HttpEntity(headers);</code> &lt;-- creating Http entity with above header   <code>var response = restTemplate.exchange(&quot;&#47;api&#47;admin&#47;entity&quot;, HttpMethod.GET, request, String.class);</code> &lt;-- and making an HTTP request. Providing hashed password as password to Authorization Basic header does not work"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1688999051,"post_id":76653380,"comment_id":135147155,"body_markdown":"`However, I don&#39;t want to explicitly state username and password in the code` so what do you actually want to do?","body":"<code>However, I don&#39;t want to explicitly state username and password in the code</code> so what do you actually want to do?"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1688999872,"post_id":76653380,"comment_id":135147375,"body_markdown":"@Toerktumlare\nI&#39;m using Vaadin for frontend and I&#39;d like some of my views (pages) to have slighlty different content depending on the currently logged-in user.\n\nFor example, I&#39;ve got a grid which contains some entities. When noone is logged-in, then I&#39;d like to fetch these entities from `/api/entity`. However, if it&#39;s admin visiting this view, then the entities should be acquired from `/api/admin/entity` endpoint.\n\nObviously `/api/admin/entity` is secured, thus I need to provide admin&#39;s credentials. I don&#39;t want to do it explicitly, but I can - for example - provide it with `UserDetails`.","body":"@Toerktumlare I&#39;m using Vaadin for frontend and I&#39;d like some of my views (pages) to have slighlty different content depending on the currently logged-in user.  For example, I&#39;ve got a grid which contains some entities. When noone is logged-in, then I&#39;d like to fetch these entities from <code>&#47;api&#47;entity</code>. However, if it&#39;s admin visiting this view, then the entities should be acquired from <code>&#47;api&#47;admin&#47;entity</code> endpoint.  Obviously <code>&#47;api&#47;admin&#47;entity</code> is secured, thus I need to provide admin&#39;s credentials. I don&#39;t want to do it explicitly, but I can - for example - provide it with <code>UserDetails</code>."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1689000640,"post_id":76653380,"comment_id":135147558,"body_markdown":"please update your question with your actual intent istead of writing it in the comments","body":"please update your question with your actual intent istead of writing it in the comments"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1689000718,"post_id":76653380,"comment_id":135147578,"body_markdown":"`However, if it&#39;s admin visiting this view,` if an admin is visiting he must first login, so he should then provide his username and password.","body":"<code>However, if it&#39;s admin visiting this view,</code> if an admin is visiting he must first login, so he should then provide his username and password."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1689001106,"post_id":76653380,"comment_id":135147685,"body_markdown":"@Toerktumlare Yes, admin provides credentials what results in successful authentication. But in view class, `RestTemplate` (I&#39;ve tried also `WebClient`) needs to have admin credentials passed: it does not detect them automatically. Here&#39;s where I&#39;m stuck :/","body":"@Toerktumlare Yes, admin provides credentials what results in successful authentication. But in view class, <code>RestTemplate</code> (I&#39;ve tried also <code>WebClient</code>) needs to have admin credentials passed: it does not detect them automatically. Here&#39;s where I&#39;m stuck :/"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1689001924,"post_id":76653380,"comment_id":135147918,"body_markdown":"@Toerktumlare I&#39;ve updated main post. Thanks! I&#39;d be grateful, if you had taken a look :)","body":"@Toerktumlare I&#39;ve updated main post. Thanks! I&#39;d be grateful, if you had taken a look :)"},{"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"score":0,"creation_date":1689006630,"post_id":76653380,"comment_id":135149043,"body_markdown":"If I understand correctly, you want to get the logged-in user and then perform a REST API call with the user&#39;s credentials. You can use the security context to obtain the credentials of the logged-in user `SecurityContextHolder.getContext().getAuthentication().getCredentials()`. The credentials are set by the `AuthenticationManager` that you have configured.","body":"If I understand correctly, you want to get the logged-in user and then perform a REST API call with the user&#39;s credentials. You can use the security context to obtain the credentials of the logged-in user <code>SecurityContextHolder.getContext().getAuthentication().getCr&zwnj;&#8203;edentials()</code>. The credentials are set by the <code>AuthenticationManager</code> that you have configured."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1689170422,"post_id":76653380,"comment_id":135175771,"body_markdown":"@spyrospal Yes, you got it, but the `SecurityContextHolder.getContext().getAuthentication().getCredentials()` returned `null`. Correct me if I&#39;m wrong, but after the authentication Spring erases the credentials. As you suggested, I&#39;ve configured `AuthenticationManager` and made it *not* erase the credentials through `authenticationManagerBuilder.eraseCredentials(false);`. Now I can use RestTemplate, but I feel like this approach - with credentials not erased - is bad practice. Did you have another concept in mind in terms of `AuthenticationManager` config?","body":"@spyrospal Yes, you got it, but the <code>SecurityContextHolder.getContext().getAuthentication().getCr&zwnj;&#8203;edentials()</code> returned <code>null</code>. Correct me if I&#39;m wrong, but after the authentication Spring erases the credentials. As you suggested, I&#39;ve configured <code>AuthenticationManager</code> and made it <i>not</i> erase the credentials through <code>authenticationManagerBuilder.eraseCredentials(false);</code>. Now I can use RestTemplate, but I feel like this approach - with credentials not erased - is bad practice. Did you have another concept in mind in terms of <code>AuthenticationManager</code> config?"},{"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"score":0,"creation_date":1689172261,"post_id":76653380,"comment_id":135176241,"body_markdown":"You can set the username and password on the `UserDetails` object by configuring the `AuthenticationManager` to populate those values so it is available there instead of on the `Credentials` object. I am not sure that this is a good practice tho","body":"You can set the username and password on the <code>UserDetails</code> object by configuring the <code>AuthenticationManager</code> to populate those values so it is available there instead of on the <code>Credentials</code> object. I am not sure that this is a good practice tho"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1689186338,"post_id":76653380,"comment_id":135179276,"body_markdown":"Yeah, right that&#39;s also possible. But as you said, I don&#39;t think this is a good practice...\n\nUntil I find the solution to the question&#39;s problem, I&#39;ll use services to communicate with back-end, not controllers.","body":"Yeah, right that&#39;s also possible. But as you said, I don&#39;t think this is a good practice...  Until I find the solution to the question&#39;s problem, I&#39;ll use services to communicate with back-end, not controllers."}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689002399,"creation_date":1688989276,"question_id":76653380,"body_markdown":"I&#39;d like to make an HTTP request to one of the secured endpoints in my rest controller.\r\n\r\nI&#39;d like it to do that with `RestTemplate` and use basic auth to authenticate. However, I don&#39;t want to explicitly state username and password in the code. Thus:\r\n```\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setBasicAuth(&quot;admin&quot;, &quot;admin&quot;);\r\n```\r\nis something I want to avoid.\r\n\r\nCan someone please help me do so?\r\n\r\n**EDIT**: I realize I need to give more context, the above is way too little.\r\n\r\nI&#39;m making a full-stack web app. I use Spring Boot for backend and Vaadin for frontend. I do have 2 endpoints and both of them retrieve a list of `Entity` objects.\r\n\r\n1. `/api/entity` - retrives a part of `Entity` objects from database.\r\n2. `/api/admin/entity` - retrives all `Entity` objects.\r\n\r\nThere&#39;s `EntityView` class which is essentially a Vaadin class responsible for graphical displaying of the `Entity` data. Now, this view is restricted to **AUTHENTICATED** users only.\r\n\r\nSo, a user logs into the application. Then, user accesses the page (through `/entity` endpoint). Then, on the page there&#39;s a grid which is supposed to have `Entity` objects in it.\r\n\r\nSo, I&#39;ve written an `updateList` method which is supposed to fill the grid with data.\r\n```\r\nprivate void updateList(UserDetails loggedUser) {\r\n    if(loggedUser.getAuthorities().contains(new SimpleGrantedAuthority(Roles.ADMIN))) {\r\n        ResponseEntity&lt;List&lt;Entity&gt;&gt; response = restTemplate.\r\n               exchange(&quot;/api/admin/entity&quot;, HttpMethod.GET, HttpEntity.EMPTY, new ParameterizedTypeReference&lt;List&lt;Entity&gt;&gt;() {});\r\n        this.grid.setItems(response.getBody());\r\n    } else {\r\n        ResponseEntity&lt;List&lt;Entity&gt;&gt; response = restTemplate.\r\n               exchange(&quot;/api/entity&quot;, HttpMethod.GET, HttpEntity.EMPTY, new ParameterizedTypeReference&lt;List&lt;Entity&gt;&gt;() {}); \r\n        this.grid.setItems(response.getBody());\r\n    }\r\n```\r\n\r\nHow do I provide `RestTemplate` with the `loggedUser` credentials?\r\n\r\n**EDIT 2:** I&#39;m looking forward to any feedback on the actual practice of connecting the backend with frontend this way. For example, in Vaadin&#39;s official tutorials, they used services to connect with backend. I use (well, I&#39;m trying to) controller to do so as I intuitively think that&#39;s better?\r\n\r\nI&#39;m, however, looking for discussion on this subject as well. Maybe I should use `EntityService` instead of `EntityController`? Why so?","title":"RestTemplate and HTTP Basic but with hidden credentials","body":"<p>I'd like to make an HTTP request to one of the secured endpoints in my rest controller.</p>\n<p>I'd like it to do that with <code>RestTemplate</code> and use basic auth to authenticate. However, I don't want to explicitly state username and password in the code. Thus:</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.setBasicAuth(&quot;admin&quot;, &quot;admin&quot;);\n</code></pre>\n<p>is something I want to avoid.</p>\n<p>Can someone please help me do so?</p>\n<p><strong>EDIT</strong>: I realize I need to give more context, the above is way too little.</p>\n<p>I'm making a full-stack web app. I use Spring Boot for backend and Vaadin for frontend. I do have 2 endpoints and both of them retrieve a list of <code>Entity</code> objects.</p>\n<ol>\n<li><code>/api/entity</code> - retrives a part of <code>Entity</code> objects from database.</li>\n<li><code>/api/admin/entity</code> - retrives all <code>Entity</code> objects.</li>\n</ol>\n<p>There's <code>EntityView</code> class which is essentially a Vaadin class responsible for graphical displaying of the <code>Entity</code> data. Now, this view is restricted to <strong>AUTHENTICATED</strong> users only.</p>\n<p>So, a user logs into the application. Then, user accesses the page (through <code>/entity</code> endpoint). Then, on the page there's a grid which is supposed to have <code>Entity</code> objects in it.</p>\n<p>So, I've written an <code>updateList</code> method which is supposed to fill the grid with data.</p>\n<pre><code>private void updateList(UserDetails loggedUser) {\n    if(loggedUser.getAuthorities().contains(new SimpleGrantedAuthority(Roles.ADMIN))) {\n        ResponseEntity&lt;List&lt;Entity&gt;&gt; response = restTemplate.\n               exchange(&quot;/api/admin/entity&quot;, HttpMethod.GET, HttpEntity.EMPTY, new ParameterizedTypeReference&lt;List&lt;Entity&gt;&gt;() {});\n        this.grid.setItems(response.getBody());\n    } else {\n        ResponseEntity&lt;List&lt;Entity&gt;&gt; response = restTemplate.\n               exchange(&quot;/api/entity&quot;, HttpMethod.GET, HttpEntity.EMPTY, new ParameterizedTypeReference&lt;List&lt;Entity&gt;&gt;() {}); \n        this.grid.setItems(response.getBody());\n    }\n</code></pre>\n<p>How do I provide <code>RestTemplate</code> with the <code>loggedUser</code> credentials?</p>\n<p><strong>EDIT 2:</strong> I'm looking forward to any feedback on the actual practice of connecting the backend with frontend this way. For example, in Vaadin's official tutorials, they used services to connect with backend. I use (well, I'm trying to) controller to do so as I intuitively think that's better?</p>\n<p>I'm, however, looking for discussion on this subject as well. Maybe I should use <code>EntityService</code> instead of <code>EntityController</code>? Why so?</p>\n"},{"tags":["java","spring","spring-aop"],"comments":[{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":1,"creation_date":1689004186,"post_id":76655150,"comment_id":135148460,"body_markdown":"Spring has a way to configure singleton-style proxies at startup, and on-demand proxies for other scopes.  It almost certainly affects execution time in some way; I&#39;m pretty sure Spring doesn&#39;t claim aspects are zero-cost.","body":"Spring has a way to configure singleton-style proxies at startup, and on-demand proxies for other scopes.  It almost certainly affects execution time in some way; I&#39;m pretty sure Spring doesn&#39;t claim aspects are zero-cost."},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1689094757,"post_id":76655150,"comment_id":135163473,"body_markdown":"The point to note here is that , proxy object creation is not before the invocation of a method , rather it is on the proxy object , a method is getting called. Which negates point 2 and 3 . Do read through [Understanding AOP Proxies](https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies) - paragraph starting with `The key thing to understand here..` . Also , not every bean is proxied by the Spring Container .","body":"The point to note here is that , proxy object creation is not before the invocation of a method , rather it is on the proxy object , a method is getting called. Which negates point 2 and 3 . Do read through <a href=\"https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies\" rel=\"nofollow noreferrer\">Understanding AOP Proxies</a> - paragraph starting with <code>The key thing to understand here..</code> . Also , not every bean is proxied by the Spring Container ."}],"owner":{"account_id":397984,"reputation":537,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689002318,"creation_date":1689002318,"question_id":76655150,"body_markdown":"I have been reading about Spring AOP and have a very basic question. When does Spring AOP creates a proxy object? \r\n\r\n- Is it during the application start time when beans are created? \r\n\r\nOR\r\n- Is it any time between application start(inclusive) and before invocation of a method of the object?\r\n\r\nOR\r\n- It could be either?\r\n\r\nIf its the 2nd/3rd point then it must be true that it can add to the execution time of a method call since first it may need to create Proxy object? ","title":"When are proxy objects created in Spring AOP?","body":"<p>I have been reading about Spring AOP and have a very basic question. When does Spring AOP creates a proxy object?</p>\n<ul>\n<li>Is it during the application start time when beans are created?</li>\n</ul>\n<p>OR</p>\n<ul>\n<li>Is it any time between application start(inclusive) and before invocation of a method of the object?</li>\n</ul>\n<p>OR</p>\n<ul>\n<li>It could be either?</li>\n</ul>\n<p>If its the 2nd/3rd point then it must be true that it can add to the execution time of a method call since first it may need to create Proxy object?</p>\n"},{"tags":["java","android","xml","animation","android-6.0-marshmallow"],"comments":[{"owner":{"account_id":2128241,"reputation":3579,"user_id":1889768,"accept_rate":85,"display_name":"Abbas"},"score":0,"creation_date":1472734352,"post_id":39271662,"comment_id":65878594,"body_markdown":"What is the recyclerview version you are using?","body":"What is the recyclerview version you are using?"},{"owner":{"account_id":6341826,"reputation":300,"user_id":4923485,"accept_rate":80,"display_name":"Velrest"},"score":0,"creation_date":1472734555,"post_id":39271662,"comment_id":65878765,"body_markdown":"recycleview-v7-23.4.0 is it that what you mean?","body":"recycleview-v7-23.4.0 is it that what you mean?"},{"owner":{"account_id":2128241,"reputation":3579,"user_id":1889768,"accept_rate":85,"display_name":"Abbas"},"score":0,"creation_date":1472735184,"post_id":39271662,"comment_id":65879209,"body_markdown":"Try overriding `onMeasure` of `RecyclerView` and set max-height.","body":"Try overriding <code>onMeasure</code> of <code>RecyclerView</code> and set max-height."},{"owner":{"account_id":2128241,"reputation":3579,"user_id":1889768,"accept_rate":85,"display_name":"Abbas"},"score":1,"creation_date":1472735568,"post_id":39271662,"comment_id":65879512,"body_markdown":"Also check if anywhere in the view heirarchy a parent has height=&quot;wrap_content&quot;","body":"Also check if anywhere in the view heirarchy a parent has height=&quot;wrap_content&quot;"},{"owner":{"account_id":6341826,"reputation":300,"user_id":4923485,"accept_rate":80,"display_name":"Velrest"},"score":0,"creation_date":1472737542,"post_id":39271662,"comment_id":65881069,"body_markdown":"@Abbas if i try to override RecyclerView I always get:\nandroid.view.InflateException: Binary XML file line #65: Binary XML file line #11: Error inflating class","body":"@Abbas if i try to override RecyclerView I always get: android.view.InflateException: Binary XML file line #65: Binary XML file line #11: Error inflating class"},{"owner":{"account_id":2128241,"reputation":3579,"user_id":1889768,"accept_rate":85,"display_name":"Abbas"},"score":0,"creation_date":1472742976,"post_id":39271662,"comment_id":65885195,"body_markdown":"That could be for multiple reasons, add your updated `xml` for `RecyclerView` and also the *extended* `RecyclerView` in Java code.","body":"That could be for multiple reasons, add your updated <code>xml</code> for <code>RecyclerView</code> and also the <i>extended</i> <code>RecyclerView</code> in Java code."}],"answers":[{"tags":[],"owner":{"account_id":6341826,"reputation":300,"user_id":4923485,"accept_rate":80,"display_name":"Velrest"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1554704139,"creation_date":1473342053,"answer_id":39392550,"question_id":39271662,"body_markdown":"So I finally found out what the problem was.  \r\nIt actually was the `NestedScrollView` which resizes it&#39;s children.  \r\nSo what you need to do is to simply add `android:fillViewport=&quot;true&quot;` to your `NestedScrollView`.  \r\n\r\nThats it. I hope it helps someone although it&#39;s not a really difficult bug. I just searched at the wrong places.","title":"Android Recycler View notifyItemRemoved animation cut off","body":"<p>So I finally found out what the problem was.<br>\nIt actually was the <code>NestedScrollView</code> which resizes it's children.<br>\nSo what you need to do is to simply add <code>android:fillViewport=\"true\"</code> to your <code>NestedScrollView</code>.  </p>\n\n<p>Thats it. I hope it helps someone although it's not a really difficult bug. I just searched at the wrong places.</p>\n"}],"owner":{"account_id":6341826,"reputation":300,"user_id":4923485,"accept_rate":80,"display_name":"Velrest"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39392550,"answer_count":1,"score":3,"last_activity_date":1689002262,"creation_date":1472733061,"question_id":39271662,"body_markdown":"I&#39;m currently working on a Grade Manager for school written in Java for Android 6. I just started with Android so I&#39;m no expert.\r\n\r\n__The Problem:__  \r\nIf I call the method `notifyItemRemoved()` on my RecycleView Adapter and the last CardView moves from the left bottom place to the upper right place, the View is resized and the animation is cut of.  \r\n\r\nNow I don&#39;t know why that view is resized because RecycleView&#39;s `layout_height` attribute is `match_parent`.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.v4.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n        tools:context=&quot;.SemesterActivity&quot;\r\n        tools:showIn=&quot;@layout/activity_semester&quot;&gt;\r\n    \r\n        &lt;android.support.v7.widget.RecyclerView\r\n            android:id=&quot;@+id/subject_list_view&quot;\r\n            android:padding=&quot;20dp&quot;\r\n            android:layout_below=&quot;@+id/title&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;/&gt;\r\n    \r\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\r\n\r\nI took a `GridLayoutManager` as LayoutManager for the RecycleView.\r\n\r\n    subjectListView.setLayoutManager(new GridLayoutManager(ActivityContext, 2));\r\n\r\nHow i update the RecycleView:\r\n\r\n    SubjectAdapterObj.notifyItemRemoved(viewHolder.getAdapterPosition());\r\n\r\nThe animation is the default animation.\r\n\r\nCould the `GridLayoutManager` be the problem?\r\n\r\n\r\n__Video Example:__\r\n\r\n\r\n\r\n[![Animation cut off][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oqqsi.gif\r\n","title":"Android Recycler View notifyItemRemoved animation cut off","body":"<p>I'm currently working on a Grade Manager for school written in Java for Android 6. I just started with Android so I'm no expert.</p>\n<p><strong>The Problem:</strong><br />\nIf I call the method <code>notifyItemRemoved()</code> on my RecycleView Adapter and the last CardView moves from the left bottom place to the upper right place, the View is resized and the animation is cut of.</p>\n<p>Now I don't know why that view is resized because RecycleView's <code>layout_height</code> attribute is <code>match_parent</code>.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.v4.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n    tools:context=&quot;.SemesterActivity&quot;\n    tools:showIn=&quot;@layout/activity_semester&quot;&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=&quot;@+id/subject_list_view&quot;\n        android:padding=&quot;20dp&quot;\n        android:layout_below=&quot;@+id/title&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;/&gt;\n\n&lt;/android.support.v4.widget.NestedScrollView&gt;\n</code></pre>\n<p>I took a <code>GridLayoutManager</code> as LayoutManager for the RecycleView.</p>\n<pre><code>subjectListView.setLayoutManager(new GridLayoutManager(ActivityContext, 2));\n</code></pre>\n<p>How i update the RecycleView:</p>\n<pre><code>SubjectAdapterObj.notifyItemRemoved(viewHolder.getAdapterPosition());\n</code></pre>\n<p>The animation is the default animation.</p>\n<p>Could the <code>GridLayoutManager</code> be the problem?</p>\n<p><strong>Video Example:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/oqqsi.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oqqsi.gif\" alt=\"Animation cut off\" /></a></p>\n"},{"tags":["java","spring","hibernate","jpa"],"owner":{"account_id":1014308,"reputation":204,"user_id":1026216,"accept_rate":75,"display_name":"talkshowhost"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689002180,"creation_date":1689002180,"question_id":76655130,"body_markdown":"I have the following entity\r\n\r\n```java\r\n@Table(name = &quot;companies&quot;)\r\npublic class Company {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(insertable = false, updatable = false, name = &quot;id&quot;, columnDefinition = &quot;uuid&quot;)\r\n    private UUID id;\r\n\r\n    private UUID parentId;\r\n\r\n    @OneToMany(targetEntity = Company.class, fetch = FetchType.EAGER, mappedBy = Fields.parentId)\r\n    @Where(clause = &quot;deleted_at is null&quot;)\r\n    private List&lt;Company&gt; childCompanies;\r\n\r\n    private Instant deletedAt;\r\n    private UUID deletedBy;\r\n}\r\n```\r\n\r\nThe problem I am having is in the scenario when all child companies have been deleted, and calling `repository.findById(parentCompanyId)` returns an empty optional, because the join clause created by hibernate on the resulting query returns no results, which makes sense based on the query it creates, but it is not what I was expecting from this functionality.\r\n\r\nIs this by design or am I doing something wrong? What other approach could I follow here?\r\nMany thanks","title":"Hibernate @Where not returning parent entity if child collection query returns no results","body":"<p>I have the following entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;companies&quot;)\npublic class Company {\n\n    @Id\n    @GeneratedValue\n    @Column(insertable = false, updatable = false, name = &quot;id&quot;, columnDefinition = &quot;uuid&quot;)\n    private UUID id;\n\n    private UUID parentId;\n\n    @OneToMany(targetEntity = Company.class, fetch = FetchType.EAGER, mappedBy = Fields.parentId)\n    @Where(clause = &quot;deleted_at is null&quot;)\n    private List&lt;Company&gt; childCompanies;\n\n    private Instant deletedAt;\n    private UUID deletedBy;\n}\n</code></pre>\n<p>The problem I am having is in the scenario when all child companies have been deleted, and calling <code>repository.findById(parentCompanyId)</code> returns an empty optional, because the join clause created by hibernate on the resulting query returns no results, which makes sense based on the query it creates, but it is not what I was expecting from this functionality.</p>\n<p>Is this by design or am I doing something wrong? What other approach could I follow here?\nMany thanks</p>\n"},{"tags":["java","eclipse","nlp","importerror","stanford-nlp"],"owner":{"account_id":28988025,"reputation":11,"user_id":22204467,"display_name":"Charper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689002171,"creation_date":1689002171,"question_id":76655128,"body_markdown":"I am trying to build an application in eclipse IDE for my resume (my first) and have ran into a problem in my main file, where I am trying to import edu.stanford.nlp.pipeline.*; and have been playing around with the gradle import to see if that was the issue, as the JAR file names were different than what the stanford website had listed as the lines to copy and paste into the dependencies. \r\n\r\n**Here is the gradle build:**\r\n`\r\n    plugins {\r\n        // Apply the java-library plugin for API and implementation separation.\r\n        id &#39;java-library&#39;\r\n    }\r\n\r\n    repositories {\r\n        // Use Maven Central for resolving dependencies.\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        // Use JUnit Jupiter for testing.\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter:5.8.1&#39;\r\n\t\r\n        // This dependency is exported to consumers, that is to say found on their compile classpath.\r\n        api &#39;org.apache.commons:commons-math3:3.6.1&#39;\r\n\r\n        // This dependency is used internally, and not exposed to consumers on their own compile classpath.\r\n        implementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n    \r\n        // Import Jsoup\r\n        implementation &#39;org.jsoup:jsoup:1.16.1&#39;\r\n    \r\n        // NLPS MODELS STANFORD CORENLP AI LIBRARY\r\n        implementation &#39;edu.stanford.nlp:stanford-corenlp:4.5.4&#39;\r\n        implementation &#39;edu.stanford.nlp:CoreNLP-main:4.5.4&#39;\r\n        implementation &#39;edu.stanford.nlp:stanford-english-kbp-corenlp-models-current:4.5.4&#39;\r\n        implementation &#39;edu.stanford.nlp:stanford-corenlp:4.5.4:models&#39;\r\n        implementation &#39;edu.stanford.nlp:stanford-corenlp:4.5.4:models-english&#39;\r\n        implementation &#39;edu.stanford.nlp:stanford-corenlp:4.5.4:models-english-kbp&#39;\r\n    }\r\n\r\n    tasks.named(&#39;test&#39;) {\r\n        // Use JUnit Platform for unit tests.\r\n        useJUnitPlatform()\r\n    }\r\n`\r\n\r\n**Here is the main application:**\r\n\r\n    package Stanford.Round;\r\n\r\n    import edu.stanford.nlp.pipeline.*;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n\r\n    import java.util.Properties;\r\n    import java.util.Scanner;`\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws Exception {\r\n            // Set up scanner for console input\r\n            Scanner scanner = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a keyword:&quot;);\r\n            String keyword = scanner.nextLine();\r\n\r\n            // Scrape the Stanford Encyclopedia of Philosophy\r\n            Document doc = Jsoup.connect(&quot;https://plato.stanford.edu/search/searcher.py?query=&quot; + keyword).get();\r\n            String text = doc.text();\r\n\r\n            // Set up Stanford CoreNLP pipeline\r\n            Properties props = new Properties();\r\n            props.setProperty(&quot;annotators&quot;, &quot;tokenize, ssplit, pos, lemma, ner, parse, sentiment&quot;);\r\n            StanfordCoreNLP pipeline = new StanfordCoreNLP(props);\r\n\r\n            // Annotate the scraped text\r\n            CoreDocument document = new CoreDocument(text);\r\n            pipeline.annotate(document);\r\n\r\n            // Extract and print key ideas (this is a simplification; actual implementation would be more complex)\r\n            for (CoreSentence sentence : document.sentences()) {\r\n                String sentiment = sentence.sentiment();\r\n                System.out.println(sentence + &quot; (Sentiment: &quot; + sentiment + &quot;)&quot;);\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nAny and all help is GREATLY appreciated.\r\n\r\n\r\nThe application is throwing the following errors: Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\r\n    StanfordCoreNLP cannot be resolved to a type\r\n\t    StanfordCoreNLP cannot be resolved to a type\r\n\t    CoreDocument cannot be resolved to a type\r\n\t    CoreDocument cannot be resolved to a type\r\n\t    CoreSentence cannot be resolved to a type\r\n\t    \r\nat Stanford.Round.Main.main(Main.java:24)\r\n\r\nI downloaded the CoreNLP-main folder from github a put it into the buldpath via class folder option, and have also put the enghlish-kbp jar in the classpath. JSoup is already there, and not having any of the same issues.","title":"Stanford CoreNLP Help -- Cannot import edu.stanford.nlp.pipeline","body":"<p>I am trying to build an application in eclipse IDE for my resume (my first) and have ran into a problem in my main file, where I am trying to import edu.stanford.nlp.pipeline.*; and have been playing around with the gradle import to see if that was the issue, as the JAR file names were different than what the stanford website had listed as the lines to copy and paste into the dependencies.</p>\n<p><strong>Here is the gradle build:</strong>\n`\nplugins {\n// Apply the java-library plugin for API and implementation separation.\nid 'java-library'\n}</p>\n<pre><code>repositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit Jupiter for testing.\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.8.1'\n\n    // This dependency is exported to consumers, that is to say found on their compile classpath.\n    api 'org.apache.commons:commons-math3:3.6.1'\n\n    // This dependency is used internally, and not exposed to consumers on their own compile classpath.\n    implementation 'com.google.guava:guava:30.1.1-jre'\n\n    // Import Jsoup\n    implementation 'org.jsoup:jsoup:1.16.1'\n\n    // NLPS MODELS STANFORD CORENLP AI LIBRARY\n    implementation 'edu.stanford.nlp:stanford-corenlp:4.5.4'\n    implementation 'edu.stanford.nlp:CoreNLP-main:4.5.4'\n    implementation 'edu.stanford.nlp:stanford-english-kbp-corenlp-models-current:4.5.4'\n    implementation 'edu.stanford.nlp:stanford-corenlp:4.5.4:models'\n    implementation 'edu.stanford.nlp:stanford-corenlp:4.5.4:models-english'\n    implementation 'edu.stanford.nlp:stanford-corenlp:4.5.4:models-english-kbp'\n}\n\ntasks.named('test') {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n}\n</code></pre>\n<p>`</p>\n<p><strong>Here is the main application:</strong></p>\n<pre><code>package Stanford.Round;\n\nimport edu.stanford.nlp.pipeline.*;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\n\nimport java.util.Properties;\nimport java.util.Scanner;`\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        // Set up scanner for console input\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter a keyword:&quot;);\n        String keyword = scanner.nextLine();\n\n        // Scrape the Stanford Encyclopedia of Philosophy\n        Document doc = Jsoup.connect(&quot;https://plato.stanford.edu/search/searcher.py?query=&quot; + keyword).get();\n        String text = doc.text();\n\n        // Set up Stanford CoreNLP pipeline\n        Properties props = new Properties();\n        props.setProperty(&quot;annotators&quot;, &quot;tokenize, ssplit, pos, lemma, ner, parse, sentiment&quot;);\n        StanfordCoreNLP pipeline = new StanfordCoreNLP(props);\n\n        // Annotate the scraped text\n        CoreDocument document = new CoreDocument(text);\n        pipeline.annotate(document);\n\n        // Extract and print key ideas (this is a simplification; actual implementation would be more complex)\n        for (CoreSentence sentence : document.sentences()) {\n            String sentiment = sentence.sentiment();\n            System.out.println(sentence + &quot; (Sentiment: &quot; + sentiment + &quot;)&quot;);\n        }\n    }\n}\n</code></pre>\n<p>`</p>\n<p>Any and all help is GREATLY appreciated.</p>\n<p>The application is throwing the following errors: Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:</p>\n<pre><code>StanfordCoreNLP cannot be resolved to a type\n    StanfordCoreNLP cannot be resolved to a type\n    CoreDocument cannot be resolved to a type\n    CoreDocument cannot be resolved to a type\n    CoreSentence cannot be resolved to a type\n    \n</code></pre>\n<p>at Stanford.Round.Main.main(Main.java:24)</p>\n<p>I downloaded the CoreNLP-main folder from github a put it into the buldpath via class folder option, and have also put the enghlish-kbp jar in the classpath. JSoup is already there, and not having any of the same issues.</p>\n"},{"tags":["java","security","micronaut","okta","okta-api"],"comments":[{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1688994768,"post_id":76652920,"comment_id":135146055,"body_markdown":"Have you checked this guide? https://guides.micronaut.io/latest/micronaut-oauth2-okta.html Any issues with it? And you don&#39;t have to create another app. Just use the same token obtained by your SPA","body":"Have you checked this guide? <a href=\"https://guides.micronaut.io/latest/micronaut-oauth2-okta.html\" rel=\"nofollow noreferrer\">guides.micronaut.io/latest/micronaut-oauth2-okta.html</a> Any issues with it? And you don&#39;t have to create another app. Just use the same token obtained by your SPA"},{"owner":{"account_id":2146025,"reputation":4001,"user_id":1903629,"accept_rate":56,"display_name":"ted"},"score":0,"creation_date":1688997069,"post_id":76652920,"comment_id":135146646,"body_markdown":"Yes I started with that. Here in the Java Gradle example. They are creating a &quot;Web Application&quot; in okta. In that case they got a client secret along client id. In our case we created an SPA applcation which doesn&#39;t have a client secret. So I was hoping there would be some way that the bearer token generated in the SPA application can be used for authentication. \n\nI was not able to find a guide for that why got confused.","body":"Yes I started with that. Here in the Java Gradle example. They are creating a &quot;Web Application&quot; in okta. In that case they got a client secret along client id. In our case we created an SPA applcation which doesn&#39;t have a client secret. So I was hoping there would be some way that the bearer token generated in the SPA application can be used for authentication.   I was not able to find a guide for that why got confused."},{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1689089066,"post_id":76652920,"comment_id":135162327,"body_markdown":"you need to read &#181;N guide about JWT security - https://micronaut-projects.github.io/micronaut-security/latest/guide/#jwt there should be a section describing what to configure to perform token validation","body":"you need to read &#181;N guide about JWT security - <a href=\"https://micronaut-projects.github.io/micronaut-security/latest/guide/#jwt\" rel=\"nofollow noreferrer\">micronaut-projects.github.io/micronaut-security/latest/guide&zwnj;&#8203;/&hellip;</a> there should be a section describing what to configure to perform token validation"}],"owner":{"account_id":2146025,"reputation":4001,"user_id":1903629,"accept_rate":56,"display_name":"ted"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689001286,"creation_date":1688985508,"question_id":76652920,"body_markdown":"We have a single page application (Angular JS) and we have configured the SPA application to use the okta authorization. We have a backend serving data via Graphql which is written in Java using Micronaut Server. How to setup the authentication for backend in this case ? \r\nShould I create another application in okta and setup a web server or Is there way I can use the token generated in SPA application and pass it down to backend and verify it. \r\n\r\n\r\nEdit\r\n====\r\n\r\nBased on the comments I have used the bearer token generated from the SPA application to authorize the backend query. Used the Micronaut-security-jwt library and configured to hit my okta service. It worked. now the only question remaining how to add an authentication to graphql controller. Graphql path is configured via application.yml, I am not sure how to add the Secured annotation to the Graphql controller.\r\n\r\nFollowing setting is configuration used in application yml - \r\n\r\n    security:\r\n      enabled: true\r\n      token:\r\n        jwt:\r\n          enabled: true\r\n          claims-validators:\r\n            issuer: https://dev-xxx.okta.com/oauth2/default\r\n          signatures:\r\n            jwks:\r\n              okta:\r\n                url: https://dev-xx.okta.com/oauth2/default/v1/keys\r\n\r\n","title":"Adding Okta Authentication to a SPA app which uses a Micronaut Server running Graphql","body":"<p>We have a single page application (Angular JS) and we have configured the SPA application to use the okta authorization. We have a backend serving data via Graphql which is written in Java using Micronaut Server. How to setup the authentication for backend in this case ?\nShould I create another application in okta and setup a web server or Is there way I can use the token generated in SPA application and pass it down to backend and verify it.</p>\n<h1>Edit</h1>\n<p>Based on the comments I have used the bearer token generated from the SPA application to authorize the backend query. Used the Micronaut-security-jwt library and configured to hit my okta service. It worked. now the only question remaining how to add an authentication to graphql controller. Graphql path is configured via application.yml, I am not sure how to add the Secured annotation to the Graphql controller.</p>\n<p>Following setting is configuration used in application yml -</p>\n<pre><code>security:\n  enabled: true\n  token:\n    jwt:\n      enabled: true\n      claims-validators:\n        issuer: https://dev-xxx.okta.com/oauth2/default\n      signatures:\n        jwks:\n          okta:\n            url: https://dev-xx.okta.com/oauth2/default/v1/keys\n</code></pre>\n"},{"tags":["java","spring","docker","docker-compose","netflix-eureka"],"owner":{"account_id":11603822,"reputation":48,"user_id":11713846,"display_name":"Gustavo Cruz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689001135,"creation_date":1689001135,"question_id":76655002,"body_markdown":"I have created a Eureka Server and a Config Server and I am trying to get the Euketa Server properties that are in the Config.\r\n\r\nI&#39;m trying to dockerize these two services and for that I created a docker-compose.yml, but when I run the containers the Eureka Server is throwing a &quot;Connection refused&quot; exception. The config-server is starting normally, but the eureka server is throwing an exception.\r\n\r\nWhen I run both services through the IDE they work normally, but not through Docker.\r\n\r\nDoes anyone know what the problem could be?\r\n\r\npom.xml (naming-server)\r\n\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.gustavo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;naming-server&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;naming-server&lt;/name&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;image&gt;\r\n    \t\t\t\t\t\t&lt;name&gt;gustavosc1/${project.artifactId}:${project.version}&lt;/name&gt;\r\n    \t\t\t\t\t&lt;/image&gt;\r\n    \t\t\t\t\t&lt;pullPolicy&gt;IF_NOT_PRESENT&lt;/pullPolicy&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\napplication.yml (naming-server)\r\n\r\n    spring:\r\n      config:\r\n        import: &quot;optional:configserver:http://config-server:8888&quot;\r\n        activate:\r\n          on-profile: docker\r\n    ---\r\n    spring:\r\n      application:\r\n        name: naming-server\r\n      config:\r\n        import: &quot;optional:configserver:http://localhost:8888&quot;\r\n\r\npom.xml (config-server)\r\n\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.gustavo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;naming-server&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;naming-server&lt;/name&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;image&gt;\r\n    \t\t\t\t\t\t&lt;name&gt;gustavosc1/${project.artifactId}:${project.version}&lt;/name&gt;\r\n    \t\t\t\t\t&lt;/image&gt;\r\n    \t\t\t\t\t&lt;pullPolicy&gt;IF_NOT_PRESENT&lt;/pullPolicy&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\napplication.yml (config-server)\r\n\r\n    server:\r\n      port: 8888\r\n    spring:\r\n      application:\r\n        name: config-server\r\n      profiles:\r\n        active:    \r\n        - native\r\n\r\nconfig/naming-server-docker.yml (config-server)\r\n\r\n    server:\r\n      port: 8761\r\n    \r\n    eureka:\r\n      instance:\r\n        hostname: localhost\r\n      client:\r\n        registerWithEureka: false \r\n        fetchRegistry: false      \r\n        serviceUrl:\r\n          defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/ \r\n\r\ndocker-compose.yml\r\n\r\n    version: &#39;3.8&#39;\r\n    \r\n    services:  \r\n      config-server:\r\n        image: gustavosc1/config-server:0.0.1-SNAPSHOT\r\n        ports:\r\n          - 8888:8888\r\n      naming-server:\r\n        image: gustavosc1/naming-server:0.0.1-SNAPSHOT\r\n        restart: always\r\n        ports:\r\n          - 8761:8761\r\n        depends_on:\r\n          - config-server\r\n        links:\r\n          - config-server\r\n        environment:\r\n          SPRING_PROFILES_ACTIVE: docker\r\n\r\nnaming-server Logs\r\n\r\n    2023-07-10T14:24:57.214Z  INFO 1 --- [           main] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl=&#39;http://localhost:8761/eureka/}, exception=java.net.ConnectException: Connection refused stacktrace=jakarta.ws.rs.ProcessingException: java.net.ConnectException: Connection refused\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:275)\r\n    \tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:300)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$0(JerseyInvocation.java:662)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:205)\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:661)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:413)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.get(JerseyInvocation.java:313)\r\n    \tat com.netflix.discovery.shared.transport.jersey3.AbstractJersey3EurekaHttpClient.getApplicationsInternal(AbstractJersey3EurekaHttpClient.java:262)\r\n    \tat com.netflix.discovery.shared.transport.jersey3.AbstractJersey3EurekaHttpClient.getApplications(AbstractJersey3EurekaHttpClient.java:209)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\r\n    \tat com.netflix.discovery.shared.transport.decorator.MetricsCollectingEurekaHttpClient.execute(MetricsCollectingEurekaHttpClient.java:73)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\r\n    \tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)\r\n    \tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\r\n    \tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\r\n    \tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n    \tat com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1045)\r\n    \tat com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:958)\r\n    \tat com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:396)\r\n    \tat com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:247)\r\n    \tat com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:242)\r\n    \tat org.springframework.cloud.netflix.eureka.CloudEurekaClient.&lt;init&gt;(CloudEurekaClient.java:68)\r\n    \tat org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:320)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:365)\r\n    \tat org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:375)\r\n    \tat org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:362)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:224)\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy71.getApplications(Unknown Source)\r\n    \tat org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration.peerAwareInstanceRegistry(EurekaServerAutoConfiguration.java:211)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:711)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:694)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n    \tat com.gustavo.namingserver.NamingServerApplication.main(NamingServerApplication.java:12)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n    Caused by: java.net.ConnectException: Connection refused\r\n    \tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n    \tat java.base/sun.nio.ch.Net.pollConnectNow(Unknown Source)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(Unknown Source)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.connect(Unknown Source)\r\n    \tat java.base/java.net.Socket.connect(Unknown Source)\r\n    \tat java.base/sun.net.NetworkClient.doConnect(Unknown Source)\r\n    \tat java.base/sun.net.www.http.HttpClient.openServer(Unknown Source)\r\n    \tat java.base/sun.net.www.http.HttpClient.openServer(Unknown Source)\r\n    \tat java.base/sun.net.www.http.HttpClient.&lt;init&gt;(Unknown Source)\r\n    \tat java.base/sun.net.www.http.HttpClient.New(Unknown Source)\r\n    \tat java.base/sun.net.www.http.HttpClient.New(Unknown Source)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(Unknown Source)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.connect(Unknown Source)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n    \tat java.base/java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:409)\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:273)\r\n    \t... 115 more\r\n    \r\n    2023-07-10T14:24:57.214Z  WARN 1 --- [           main] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: java.net.ConnectException: Connection refused\r\n    2023-07-10T14:24:57.216Z  INFO 1 --- [           main] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_NAMING-SERVER/b7fe95984415:naming-server - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server    \t","title":"Exception when trying to connect Eureka Server with Config Server in Docker Compose (&quot;Connection refused&quot;)","body":"<p>I have created a Eureka Server and a Config Server and I am trying to get the Euketa Server properties that are in the Config.</p>\n<p>I'm trying to dockerize these two services and for that I created a docker-compose.yml, but when I run the containers the Eureka Server is throwing a &quot;Connection refused&quot; exception. The config-server is starting normally, but the eureka server is throwing an exception.</p>\n<p>When I run both services through the IDE they work normally, but not through Docker.</p>\n<p>Does anyone know what the problem could be?</p>\n<p>pom.xml (naming-server)</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.gustavo&lt;/groupId&gt;\n    &lt;artifactId&gt;naming-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;naming-server&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;name&gt;gustavosc1/${project.artifactId}:${project.version}&lt;/name&gt;\n                    &lt;/image&gt;\n                    &lt;pullPolicy&gt;IF_NOT_PRESENT&lt;/pullPolicy&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.yml (naming-server)</p>\n<pre><code>spring:\n  config:\n    import: &quot;optional:configserver:http://config-server:8888&quot;\n    activate:\n      on-profile: docker\n---\nspring:\n  application:\n    name: naming-server\n  config:\n    import: &quot;optional:configserver:http://localhost:8888&quot;\n</code></pre>\n<p>pom.xml (config-server)</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.gustavo&lt;/groupId&gt;\n    &lt;artifactId&gt;naming-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;naming-server&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;name&gt;gustavosc1/${project.artifactId}:${project.version}&lt;/name&gt;\n                    &lt;/image&gt;\n                    &lt;pullPolicy&gt;IF_NOT_PRESENT&lt;/pullPolicy&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.yml (config-server)</p>\n<pre><code>server:\n  port: 8888\nspring:\n  application:\n    name: config-server\n  profiles:\n    active:    \n    - native\n</code></pre>\n<p>config/naming-server-docker.yml (config-server)</p>\n<pre><code>server:\n  port: 8761\n\neureka:\n  instance:\n    hostname: localhost\n  client:\n    registerWithEureka: false \n    fetchRegistry: false      \n    serviceUrl:\n      defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/ \n</code></pre>\n<p>docker-compose.yml</p>\n<pre><code>version: '3.8'\n\nservices:  \n  config-server:\n    image: gustavosc1/config-server:0.0.1-SNAPSHOT\n    ports:\n      - 8888:8888\n  naming-server:\n    image: gustavosc1/naming-server:0.0.1-SNAPSHOT\n    restart: always\n    ports:\n      - 8761:8761\n    depends_on:\n      - config-server\n    links:\n      - config-server\n    environment:\n      SPRING_PROFILES_ACTIVE: docker\n</code></pre>\n<p>naming-server Logs</p>\n<pre><code>2023-07-10T14:24:57.214Z  INFO 1 --- [           main] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=java.net.ConnectException: Connection refused stacktrace=jakarta.ws.rs.ProcessingException: java.net.ConnectException: Connection refused\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:275)\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:300)\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$0(JerseyInvocation.java:662)\n    at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:205)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\n    at org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:661)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:413)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.get(JerseyInvocation.java:313)\n    at com.netflix.discovery.shared.transport.jersey3.AbstractJersey3EurekaHttpClient.getApplicationsInternal(AbstractJersey3EurekaHttpClient.java:262)\n    at com.netflix.discovery.shared.transport.jersey3.AbstractJersey3EurekaHttpClient.getApplications(AbstractJersey3EurekaHttpClient.java:209)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n    at com.netflix.discovery.shared.transport.decorator.MetricsCollectingEurekaHttpClient.execute(MetricsCollectingEurekaHttpClient.java:73)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n    at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)\n    at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n    at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n    at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1045)\n    at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:958)\n    at com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:396)\n    at com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:247)\n    at com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:242)\n    at org.springframework.cloud.netflix.eureka.CloudEurekaClient.&lt;init&gt;(CloudEurekaClient.java:68)\n    at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:320)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:365)\n    at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:375)\n    at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:362)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:224)\n    at jdk.proxy2/jdk.proxy2.$Proxy71.getApplications(Unknown Source)\n    at org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration.peerAwareInstanceRegistry(EurekaServerAutoConfiguration.java:211)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:711)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:694)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.gustavo.namingserver.NamingServerApplication.main(NamingServerApplication.java:12)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: java.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n    at java.base/sun.nio.ch.Net.pollConnectNow(Unknown Source)\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(Unknown Source)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(Unknown Source)\n    at java.base/java.net.Socket.connect(Unknown Source)\n    at java.base/sun.net.NetworkClient.doConnect(Unknown Source)\n    at java.base/sun.net.www.http.HttpClient.openServer(Unknown Source)\n    at java.base/sun.net.www.http.HttpClient.openServer(Unknown Source)\n    at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(Unknown Source)\n    at java.base/sun.net.www.http.HttpClient.New(Unknown Source)\n    at java.base/sun.net.www.http.HttpClient.New(Unknown Source)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(Unknown Source)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(Unknown Source)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n    at java.base/java.net.HttpURLConnection.getResponseCode(Unknown Source)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:409)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:273)\n    ... 115 more\n\n2023-07-10T14:24:57.214Z  WARN 1 --- [           main] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: java.net.ConnectException: Connection refused\n2023-07-10T14:24:57.216Z  INFO 1 --- [           main] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_NAMING-SERVER/b7fe95984415:naming-server - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server        \n</code></pre>\n"},{"tags":["java","android","kotlin","linphone","linphone-sdk"],"comments":[{"owner":{"account_id":11667426,"reputation":643,"user_id":8543717,"display_name":"Rezaul Islam"},"score":1,"creation_date":1686739639,"post_id":76472547,"comment_id":134839682,"body_markdown":"I am also looking for this solution. Also Bluetooth connected device is not working as output audio device.","body":"I am also looking for this solution. Also Bluetooth connected device is not working as output audio device."},{"owner":{"account_id":12533244,"reputation":591,"user_id":9589677,"display_name":"Shakib Uz-Zaman"},"score":1,"creation_date":1686894488,"post_id":76472547,"comment_id":134863584,"body_markdown":"I have found the solution. Please check the answer below","body":"I have found the solution. Please check the answer below"}],"answers":[{"comments":[{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1688908133,"post_id":76487268,"comment_id":135134592,"body_markdown":"This answer looks like it was generated by an AI (like ChatGPT), not by an actual human being. You should be aware that [posting AI-generated output is officially **BANNED** on Stack Overflow](https://meta.stackoverflow.com/q/421831). If this answer was indeed generated by an AI, then I strongly suggest you delete it before you get yourself into even bigger trouble: **WE TAKE PLAGIARISM SERIOUSLY HERE.** Please read: [Why posting GPT and ChatGPT generated answers is not currently allowed](https://stackoverflow.com/help/gpt-policy).","body":"This answer looks like it was generated by an AI (like ChatGPT), not by an actual human being. You should be aware that <a href=\"https://meta.stackoverflow.com/q/421831\">posting AI-generated output is officially <b>BANNED</b> on Stack Overflow</a>. If this answer was indeed generated by an AI, then I strongly suggest you delete it before you get yourself into even bigger trouble: <b>WE TAKE PLAGIARISM SERIOUSLY HERE.</b> Please read: <a href=\"https://stackoverflow.com/help/gpt-policy\">Why posting GPT and ChatGPT generated answers is not currently allowed</a>."},{"owner":{"account_id":12533244,"reputation":591,"user_id":9589677,"display_name":"Shakib Uz-Zaman"},"score":0,"creation_date":1689000212,"post_id":76487268,"comment_id":135147462,"body_markdown":"@tchrist, I have found the solution all by myself and AI was no help for finding the issue. Yes, I used Ai to rewrite my answer so that it was more concise and arranged. If, this is against the law then I will refactor the answer to the original state.","body":"@tchrist, I have found the solution all by myself and AI was no help for finding the issue. Yes, I used Ai to rewrite my answer so that it was more concise and arranged. If, this is against the law then I will refactor the answer to the original state."}],"tags":[],"owner":{"account_id":12533244,"reputation":591,"user_id":9589677,"display_name":"Shakib Uz-Zaman"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689001097,"creation_date":1686894411,"answer_id":76487268,"question_id":76472547,"body_markdown":"After investigating the issue, I have found out that the problem is within the Gradle dependency configuration where the required **.so** files are not being downloaded correctly. I have followed the following steps to resolve the issue\r\n\r\n 1. First, I downloaded the latest SDK from [this][1] link.\r\n\r\n 2. Copied the **.aar** file to the libs directory of my project.\r\n\r\n 3. In the app-level **build.gradle** file included the .aar file:\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;, &#39;*.aar&#39;])\r\n        // other dependencies\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n  [1]: https://download.linphone.org/releases/maven_repository/org/linphone/linphone-sdk-android/","title":"java.lang.UnsatisfiedLinkError: dlopen failed: /base.apk!/lib/arm64-v8a/libmediastreamer.so&quot; on linphone-sdk-android:5.2.70","body":"<p>After investigating the issue, I have found out that the problem is within the Gradle dependency configuration where the required <strong>.so</strong> files are not being downloaded correctly. I have followed the following steps to resolve the issue</p>\n<ol>\n<li><p>First, I downloaded the latest SDK from <a href=\"https://download.linphone.org/releases/maven_repository/org/linphone/linphone-sdk-android/\" rel=\"nofollow noreferrer\">this</a> link.</p>\n</li>\n<li><p>Copied the <strong>.aar</strong> file to the libs directory of my project.</p>\n</li>\n<li><p>In the app-level <strong>build.gradle</strong> file included the .aar file:</p>\n</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar', '*.aar'])\n    // other dependencies\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":12533244,"reputation":591,"user_id":9589677,"display_name":"Shakib Uz-Zaman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76487268,"answer_count":1,"score":2,"last_activity_date":1689001097,"creation_date":1686738530,"question_id":76472547,"body_markdown":"I am currently trying to integrate the LinPhone SDK **&#39;org.linphone:linphone-sdk-android:5.2.70&#39;** into my application. When I try to initiate the factory \r\n\r\n        fun initCore() {\r\n           val factory = Factory.instance()\r\n           factory.setDebugMode(true, &quot;Hello Linphone&quot;)\r\n           core = factory.createCore(null, null, getApplication())\r\n        }\r\n\r\nI am getting the following error:\r\n\r\n    java.lang.UnsatisfiedLinkError: dlopen failed: cannot locate symbol &quot;__emutls_get_address&quot; referenced by &quot;/data/app/~~etnr80db3rwY6xyBglTUnA==/package_id-XCdnucrbTwRLEvQ0pmlAmw==/base.apk!/lib/arm64-v8a/libmediastreamer.so&quot;\r\n\r\nAny insight on this is highly appreciated. Please let me know if further information is required for better clarification.\r\n\r\n","title":"java.lang.UnsatisfiedLinkError: dlopen failed: /base.apk!/lib/arm64-v8a/libmediastreamer.so&quot; on linphone-sdk-android:5.2.70","body":"<p>I am currently trying to integrate the LinPhone SDK <strong>'org.linphone:linphone-sdk-android:5.2.70'</strong> into my application. When I try to initiate the factory</p>\n<pre><code>    fun initCore() {\n       val factory = Factory.instance()\n       factory.setDebugMode(true, &quot;Hello Linphone&quot;)\n       core = factory.createCore(null, null, getApplication())\n    }\n</code></pre>\n<p>I am getting the following error:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: dlopen failed: cannot locate symbol &quot;__emutls_get_address&quot; referenced by &quot;/data/app/~~etnr80db3rwY6xyBglTUnA==/package_id-XCdnucrbTwRLEvQ0pmlAmw==/base.apk!/lib/arm64-v8a/libmediastreamer.so&quot;\n</code></pre>\n<p>Any insight on this is highly appreciated. Please let me know if further information is required for better clarification.</p>\n"},{"tags":["java","spring","constraints"],"owner":{"account_id":10530075,"reputation":1,"user_id":7759730,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689001034,"creation_date":1689001034,"question_id":76654985,"body_markdown":"I wrote a custom annotation using javax. The problem is I need to put annotation in one module(annotations) and validator in the another module(validators). But only module with validators can see the module with annotations.\r\n\r\n\r\nSo I can&#39;t put my validator inside &quot;validatedBy&quot;: \r\n\r\n**//It works only if MyAnnotation and MyValidator exist in the same module**\r\n```\r\n`@Constraint(validatedBy = {MyValidator.class}) \r\n@Target({TYPE})\r\n@Retention(RUNTIME)\r\npublic @interface MyAnnotation {   \r\n//\r\n}`\r\n```\r\n\r\nI tried create an interface in the same module as an annotation and write my validator as an implementation in my module with validators and create a bean:\r\n\r\n**//module with annotations**\r\n```\r\n`*@Constraint(validatedBy = {MyValidatorInterface.class}) \r\n@Target({TYPE})\r\n@Retention(RUNTIME)\r\npublic @interface MyAnnotation {   \r\n//\r\n}`\r\npublic interface MyValidatorInterface extends ConstraintValidator&lt;MyAnnotation, Object&gt; {\r\n}*\r\n```\r\n\r\n**//module with validators**\r\n```\r\n`*@AutoService(ConstraintValidator.class)\r\npublic class MyValidatorImpl implements MyValidatorInterface {\r\n//\r\n}`\r\n```\r\n```\r\n`@Configuration\r\npublic class ValidationConfig {\r\n    @Bean\r\n    public MyValidatorInterface getMyValidatorInterface() {\r\n        return new MyValidatorImpl();\r\n    }\r\n}*`\r\n```\r\n\r\n**When I try to use my Class with MyAnnotation I get an exception:**\r\n\r\n&quot;org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;some_path.MyValidatorInterface&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [some_path.MyValidatorInterface]: Specified class is an interface&quot;\r\n\r\nIs it possible to find a solution and keep annotation and validator in different modules?","title":"Spring valued by Interface in javax.validation.Constraint","body":"<p>I wrote a custom annotation using javax. The problem is I need to put annotation in one module(annotations) and validator in the another module(validators). But only module with validators can see the module with annotations.</p>\n<p>So I can't put my validator inside &quot;validatedBy&quot;:</p>\n<p><strong>//It works only if MyAnnotation and MyValidator exist in the same module</strong></p>\n<pre><code>`@Constraint(validatedBy = {MyValidator.class}) \n@Target({TYPE})\n@Retention(RUNTIME)\npublic @interface MyAnnotation {   \n//\n}`\n</code></pre>\n<p>I tried create an interface in the same module as an annotation and write my validator as an implementation in my module with validators and create a bean:</p>\n<p><strong>//module with annotations</strong></p>\n<pre><code>`*@Constraint(validatedBy = {MyValidatorInterface.class}) \n@Target({TYPE})\n@Retention(RUNTIME)\npublic @interface MyAnnotation {   \n//\n}`\npublic interface MyValidatorInterface extends ConstraintValidator&lt;MyAnnotation, Object&gt; {\n}*\n</code></pre>\n<p><strong>//module with validators</strong></p>\n<pre><code>`*@AutoService(ConstraintValidator.class)\npublic class MyValidatorImpl implements MyValidatorInterface {\n//\n}`\n</code></pre>\n<pre><code>`@Configuration\npublic class ValidationConfig {\n    @Bean\n    public MyValidatorInterface getMyValidatorInterface() {\n        return new MyValidatorImpl();\n    }\n}*`\n</code></pre>\n<p><strong>When I try to use my Class with MyAnnotation I get an exception:</strong></p>\n<p>&quot;org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'some_path.MyValidatorInterface': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [some_path.MyValidatorInterface]: Specified class is an interface&quot;</p>\n<p>Is it possible to find a solution and keep annotation and validator in different modules?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1366558689,"post_id":16132890,"comment_id":23045507,"body_markdown":"Did you try escaping it with a backslash?","body":"Did you try escaping it with a backslash?"},{"owner":{"account_id":1622191,"reputation":361,"user_id":1498514,"display_name":"Lord M-Cube"},"score":0,"creation_date":1366560574,"post_id":16132890,"comment_id":23046067,"body_markdown":"Yes, which results in listing all files and folders from my root directory (in my case &quot;C:\\&quot;). Oh, I should add that I&#39;m working on windows ;)","body":"Yes, which results in listing all files and folders from my root directory (in my case &quot;C:\\&quot;). Oh, I should add that I&#39;m working on windows ;)"},{"owner":{"account_id":366325,"reputation":1601,"user_id":711785,"display_name":"atlanto"},"score":2,"creation_date":1366588260,"post_id":16132890,"comment_id":23053821,"body_markdown":"http://stackoverflow.com/questions/3861086/how-to-avoid-shell-expansion-when-running-java-app-in-eclipse , and https://bugs.eclipse.org/bugs/show_bug.cgi?id=212264","body":"<a href=\"http://stackoverflow.com/questions/3861086/how-to-avoid-shell-expansion-when-running-java-app-in-eclipse\" title=\"how to avoid shell expansion when running java app in eclipse\">stackoverflow.com/questions/3861086/&hellip;</a> , and <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=212264\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=212264</a>"}],"answers":[{"comments":[{"owner":{"account_id":1622191,"reputation":361,"user_id":1498514,"display_name":"Lord M-Cube"},"score":1,"creation_date":1366572953,"post_id":16135292,"comment_id":23049894,"body_markdown":"`package asterisk;\n\npublic class CmdLineArgAsteriskTest\n{\n\tpublic static void main(String[] args)\n\t{\n\t\tSystem.out.println(args[0]);\n\t}\n}`\n\nis now my main program and the output is:\n\n`.classpath`","body":"<code>package asterisk;  public class CmdLineArgAsteriskTest { \tpublic static void main(String[] args) \t{ \t\tSystem.out.println(args[0]); \t} }</code>  is now my main program and the output is:  <code>.classpath</code>"},{"owner":{"account_id":19004,"reputation":21826,"user_id":44089,"accept_rate":79,"display_name":"Bananeweizen"},"score":0,"creation_date":1366573261,"post_id":16135292,"comment_id":23050012,"body_markdown":"I&#39;ve tried mine before posting. I&#39;ve created a new Java project, containing that line of code, a new run configuration of type &quot;Java application&quot; and I&#39;ve put &quot;*&quot; in the program arguments field of the run config. Your project or run configuration seems to be different at some place. I&#39;d suggest you create an entirely new project and run configuration for verification.","body":"I&#39;ve tried mine before posting. I&#39;ve created a new Java project, containing that line of code, a new run configuration of type &quot;Java application&quot; and I&#39;ve put &quot;*&quot; in the program arguments field of the run config. Your project or run configuration seems to be different at some place. I&#39;d suggest you create an entirely new project and run configuration for verification."},{"owner":{"account_id":5574704,"reputation":478,"user_id":4418511,"accept_rate":50,"display_name":"GC_"},"score":0,"creation_date":1617671788,"post_id":16135292,"comment_id":118363162,"body_markdown":"@Bananeweizen I get .classpath also.  Clear eclipse does something with *","body":"@Bananeweizen I get .classpath also.  Clear eclipse does something with *"}],"tags":[],"owner":{"account_id":19004,"reputation":21826,"user_id":44089,"accept_rate":79,"display_name":"Bananeweizen"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1366572536,"creation_date":1366572536,"answer_id":16135292,"question_id":16132890,"body_markdown":"It&#39;s a programming bug in your own program. Eclipse passes the main arguments verbatim to your program. You can easily check this by creating a Java program which has only this one line in main:\r\n\r\n    System.out.println(args[0]);\r\n\r\nand passing an asterisk as the only argument to that program in the run configuration. That prints the single asterisk character, as expected.","title":"Passing the asterisk as command line argument to main in Eclipse","body":"<p>It's a programming bug in your own program. Eclipse passes the main arguments verbatim to your program. You can easily check this by creating a Java program which has only this one line in main:</p>\n\n<pre><code>System.out.println(args[0]);\n</code></pre>\n\n<p>and passing an asterisk as the only argument to that program in the run configuration. That prints the single asterisk character, as expected.</p>\n"},{"tags":[],"owner":{"account_id":6827735,"reputation":21,"user_id":5252909,"display_name":"Dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440176871,"creation_date":1440176871,"answer_id":32145823,"question_id":16132890,"body_markdown":"Eclipse expands the * into a list of property names.  So the program is actually passed (on my system) an args array of:\r\n.classpath, .project, .settings, .bin, .src\r\nInstead of the * .\r\n\r\nIf I put ANY text with the *, like &quot;X*&quot;, then I get the &quot;X*&quot;.\r\n\r\nDoubles quotes does not help.  Neither does escaping it with a slash.\r\n\r\nFrom the shell it works fine, although a warning on Windows at least that you do need to put it in quotes.  Windows will strip the quotes before the program gets it.\r\n\r\nBut under Eclipse, I can find no workaround that allows passing just a * .\r\n\r\n","title":"Passing the asterisk as command line argument to main in Eclipse","body":"<p>Eclipse expands the * into a list of property names.  So the program is actually passed (on my system) an args array of:\n.classpath, .project, .settings, .bin, .src\nInstead of the * .</p>\n\n<p>If I put ANY text with the <em>, like \"X</em>\", then I get the \"X*\".</p>\n\n<p>Doubles quotes does not help.  Neither does escaping it with a slash.</p>\n\n<p>From the shell it works fine, although a warning on Windows at least that you do need to put it in quotes.  Windows will strip the quotes before the program gets it.</p>\n\n<p>But under Eclipse, I can find no workaround that allows passing just a * .</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651864406,"post_id":72140095,"comment_id":127474490,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72140095/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25214809,"reputation":1,"user_id":19052065,"display_name":"Fabi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651833255,"creation_date":1651833255,"answer_id":72140095,"question_id":16132890,"body_markdown":"To anyone running into the same problem, you need to write it as &quot;* &quot; for eclipse to pass it as *\r\n","title":"Passing the asterisk as command line argument to main in Eclipse","body":"<p>To anyone running into the same problem, you need to write it as &quot;* &quot; for eclipse to pass it as *</p>\n"},{"tags":[],"owner":{"account_id":26557495,"reputation":1,"user_id":20185872,"display_name":"Tester04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689001032,"creation_date":1689000531,"answer_id":76654904,"question_id":16132890,"body_markdown":"Select Run Configurations from Run dropdown menu. \r\n\r\nGo to Arguments tab.\r\n\r\nTick the @argfile box.","title":"Passing the asterisk as command line argument to main in Eclipse","body":"<p>Select Run Configurations from Run dropdown menu.</p>\n<p>Go to Arguments tab.</p>\n<p>Tick the @argfile box.</p>\n"}],"owner":{"account_id":1622191,"reputation":361,"user_id":1498514,"display_name":"Lord M-Cube"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2736,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1689001032,"creation_date":1366558592,"question_id":16132890,"body_markdown":"I&#39;m working on a Java project in Eclipse and now I&#39;d like to pass the asterisk `*` as a command line argument to the main. I&#39;m aware of the fact that this is a wildcard symbol and in every shell it works fine by simply putting it into quotes, so instead of `java MyProgram *` I&#39;d type `java MyProgram &quot;*&quot;`.\r\n\r\nIn Eclipse (Run Cofigurations -&gt; Arguments) it doesn&#39;t work either way, even with quotes it just lists all files inside the directory. Single quotes as in `&#39;*&#39;` works the same way as `a*a` or something, meaning the single quotes (or apostrophes) will be passed into the string, too.\r\n\r\nAny ideas how to get the `*` into the main?\r\n","title":"Passing the asterisk as command line argument to main in Eclipse","body":"<p>I'm working on a Java project in Eclipse and now I'd like to pass the asterisk <code>*</code> as a command line argument to the main. I'm aware of the fact that this is a wildcard symbol and in every shell it works fine by simply putting it into quotes, so instead of <code>java MyProgram *</code> I'd type <code>java MyProgram \"*\"</code>.</p>\n\n<p>In Eclipse (Run Cofigurations -> Arguments) it doesn't work either way, even with quotes it just lists all files inside the directory. Single quotes as in <code>'*'</code> works the same way as <code>a*a</code> or something, meaning the single quotes (or apostrophes) will be passed into the string, too.</p>\n\n<p>Any ideas how to get the <code>*</code> into the main?</p>\n"},{"tags":["java","spring","kotlin","google-cloud-platform","spring-data"],"owner":{"account_id":478256,"reputation":124,"user_id":890231,"display_name":"Andrei Ionita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689000954,"creation_date":1688973741,"question_id":76651514,"body_markdown":"I have 2 Spring projects using the the following dependency:\r\n&gt; com.google.cloud:spring-cloud-gcp-starter-data-datastore\r\n\r\nProject A (runnable jar) depends on project B (library) and both are using Spring Data Repositories for GCP Datastore persistence.\r\n\r\nI need to use different Datastore namespaces for the 2 projects.\r\n\r\nOnly thing I can think of makes use of DatastoreNamespaceProvider, but I can&#39;t figure out how I can use different namespaces for different projects / repositories / packages:\r\n\r\n       @Bean\r\n       fun datastoreNamespaceProvider(): DatastoreNamespaceProvider {\r\n            return DatastoreNamespaceProvider {\r\n                if (???) {\r\n                    datastoreNamespace2\r\n                } else {\r\n                    datastoreNamespace1\r\n                }\r\n            }\r\n        }","title":"Using multiple GCP Datastore namespaces with Spring Data Repositories","body":"<p>I have 2 Spring projects using the the following dependency:</p>\n<blockquote>\n<p>com.google.cloud:spring-cloud-gcp-starter-data-datastore</p>\n</blockquote>\n<p>Project A (runnable jar) depends on project B (library) and both are using Spring Data Repositories for GCP Datastore persistence.</p>\n<p>I need to use different Datastore namespaces for the 2 projects.</p>\n<p>Only thing I can think of makes use of DatastoreNamespaceProvider, but I can't figure out how I can use different namespaces for different projects / repositories / packages:</p>\n<pre><code>   @Bean\n   fun datastoreNamespaceProvider(): DatastoreNamespaceProvider {\n        return DatastoreNamespaceProvider {\n            if (???) {\n                datastoreNamespace2\n            } else {\n                datastoreNamespace1\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","jackson","jakarta-migration"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1687788378,"post_id":76557408,"comment_id":134981699,"body_markdown":"Why don&#39;t you use the annotations from Jackson itself? [`com.fasterxml.jackson.annotation.JsonIgnore`](https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonIgnore.html)","body":"Why don&#39;t you use the annotations from Jackson itself? <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\"><code>com.fasterxml.jackson.annotation.JsonIgnore</code></a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1687788582,"post_id":76557408,"comment_id":134981733,"body_markdown":"Why would upgrading from Java8 to Java17 need to move to Jakarta packages? Those are different things. So you are probably doing more then just upgrading to Java17 and are now mixing things.","body":"Why would upgrading from Java8 to Java17 need to move to Jakarta packages? Those are different things. So you are probably doing more then just upgrading to Java17 and are now mixing things."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1687789544,"post_id":76557408,"comment_id":134981980,"body_markdown":"@M.Deinum Afaik the Javax package that was part of Java 8 is not included anymore in Java 17, so it&#39;s recommended to migrate from Javax to Jakarta.","body":"@M.Deinum Afaik the Javax package that was part of Java 8 is not included anymore in Java 17, so it&#39;s recommended to migrate from Javax to Jakarta."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1687789725,"post_id":76557408,"comment_id":134982017,"body_markdown":"@knittl Using Jackson&#39;s `JsonCreator` and `JsonProperty` annotations instead of Jakarta&#39;s `JsonbCreator` and `JsonbProperty` annotations gives the error I mentioned in my post. And mixing annotations from Jackson and Jakarta may be possible, but feels a bit like I&#39;m the wrong track.","body":"@knittl Using Jackson&#39;s <code>JsonCreator</code> and <code>JsonProperty</code> annotations instead of Jakarta&#39;s <code>JsonbCreator</code> and <code>JsonbProperty</code> annotations gives the error I mentioned in my post. And mixing annotations from Jackson and Jakarta may be possible, but feels a bit like I&#39;m the wrong track."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687843248,"post_id":76557408,"comment_id":134989290,"body_markdown":"@wouterio you are wrong. The `jakarta` packages are the JavaEE packages, when upgrading the JDK you aren&#39;t changing those. And as you hare using Jackson that doesn&#39;t matter at all. So you must be upgrading more then just Java17. The only thing you would need are JAXB related classes for XML.","body":"@wouterio you are wrong. The <code>jakarta</code> packages are the JavaEE packages, when upgrading the JDK you aren&#39;t changing those. And as you hare using Jackson that doesn&#39;t matter at all. So you must be upgrading more then just Java17. The only thing you would need are JAXB related classes for XML."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1687899655,"post_id":76557408,"comment_id":135001247,"body_markdown":"@M.Deinum Ow yeah sorry of course, I also upgraded the maven dependencies to the most recent versions. Still the question remains. Should I undo the migration from Javax to Jakarta, or what else?","body":"@M.Deinum Ow yeah sorry of course, I also upgraded the maven dependencies to the most recent versions. Still the question remains. Should I undo the migration from Javax to Jakarta, or what else?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687932021,"post_id":76557408,"comment_id":135004264,"body_markdown":"So as stated you didn&#39;t only u pgrade java 17. Without knowing what you had this question will be impossible to answer. However as mentioned by others as well you are using jackson and you shouldn&#39;t change those annotations in the first place.","body":"So as stated you didn&#39;t only u pgrade java 17. Without knowing what you had this question will be impossible to answer. However as mentioned by others as well you are using jackson and you shouldn&#39;t change those annotations in the first place."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1688377212,"post_id":76557408,"comment_id":135061320,"body_markdown":"@M.Deinum Thank you. Please check my updated post.","body":"@M.Deinum Thank you. Please check my updated post."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688377566,"post_id":76557408,"comment_id":135061391,"body_markdown":"Those aren&#39;t the dependencies I&#39;m interested in. Which Jackson dependencies and classes you are using.","body":"Those aren&#39;t the dependencies I&#39;m interested in. Which Jackson dependencies and classes you are using."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1688381128,"post_id":76557408,"comment_id":135062032,"body_markdown":"I don&#39;t explicitly include Jackson dependencies, but `jersey-media-json-jackson` refers to `jackson-databind`, `jackson-module-jakarta-xmlbind-annotations`, `jackson-anotations`. I only use the `com.fasterxml.jackson.annotation` annotations `JsonCreator`, `JsonProperty`, `JsonAlias`, `JsonIgnore`. That counts for the old setup that&#39;s running fine, and the new setup.","body":"I don&#39;t explicitly include Jackson dependencies, but <code>jersey-media-json-jackson</code> refers to <code>jackson-databind</code>, <code>jackson-module-jakarta-xmlbind-annotations</code>, <code>jackson-anotations</code>. I only use the <code>com.fasterxml.jackson.annotation</code> annotations <code>JsonCreator</code>, <code>JsonProperty</code>, <code>JsonAlias</code>, <code>JsonIgnore</code>. That counts for the old setup that&#39;s running fine, and the new setup."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1688981593,"post_id":76557408,"comment_id":135143156,"body_markdown":"Still stuck on this... Any more ideas?","body":"Still stuck on this... Any more ideas?"}],"answers":[{"tags":[],"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689000865,"creation_date":1689000865,"answer_id":76654961,"question_id":76557408,"body_markdown":"Ok, so it turned out that the `jakarta.xml.bind-api` and `jaxb-runtime` dependencies were superfluous, and the `oauth2-client` dependency wasn&#39;t needed either but screwed things up some way or another. With the dependencies underneath, it all seems to works now:\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.connectors/jersey-apache-connector --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.connectors&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-apache-connector&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Migrating Jackson from Java 8 to 17","body":"<p>Ok, so it turned out that the <code>jakarta.xml.bind-api</code> and <code>jaxb-runtime</code> dependencies were superfluous, and the <code>oauth2-client</code> dependency wasn't needed either but screwed things up some way or another. With the dependencies underneath, it all seems to works now:</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-client --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.connectors/jersey-apache-connector --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.connectors&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-apache-connector&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2063,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76654961,"answer_count":1,"score":0,"last_activity_date":1689000865,"creation_date":1687788106,"question_id":76557408,"body_markdown":"I&#39;m trying to upgrade my project from Java 8 to 17. Afaik this inherently includes replacing Javax with Jakarta. For that I used the Intellij Javax-&gt;Jakarta migration tool. My classes use `com.fasterxml.jackson.annotation` annotations `JsonCreator` `JsonProperty` `JsonAlias` `JsonIgnore`.\r\n\r\nRunning some tests with Java 17 however gives the following error:\r\n```\r\nCaused by: jakarta.json.bind.JsonbException: Cannot create instance of a class: class io.wouter.bolendpoints.entities.BolRateLimit, No default constructor found.\r\n```\r\nwith `io.wouter.bolendpoints.entities.BolRateLimit` a class that &#39;m trying to deserialize.\r\n\r\nReplacing the `JsonCreator` and `JsonProperty` annotations with Jakarta annotations `JsonbCreator` `JsonbProperty` solves the error. But then I also need a replacement for `JsonAlias` and `JsonIgnore`. And if possible I rather stick with the Jackson annotations anyway.\r\n\r\nWhat is the right way to go here? I can find very little documentation about this.\r\n\r\nEDIT:\r\nAfter @M.Deinum&#39;s comments I got things running again with these old dependencies (and reverting all Jakarta imports to Javax):\r\n\r\n```\r\n        &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.connectors/jersey-apache-connector --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.connectors&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-apache-connector&lt;/artifactId&gt;\r\n            &lt;version&gt;2.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.security/oauth2-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;oauth2-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nHowever, the `javax.xml.bind.jaxb-api` dependency wasn&#39;t updated after 2018, so I guess I should still switch to Jakarta? These are the dependencies I&#39;d use for that:\r\n\r\n```\r\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.connectors/jersey-apache-connector --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.connectors&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-apache-connector&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.security/oauth2-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;oauth2-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nBut then I get the old error again:\r\n`Caused by: jakarta.json.bind.JsonbException: Cannot create instance of a class: class io.wouter.bolendpoints.entities.BolRateLimit, No default constructor found.`\r\n\r\nAny ideas how to move on from here?\r\n","title":"Migrating Jackson from Java 8 to 17","body":"<p>I'm trying to upgrade my project from Java 8 to 17. Afaik this inherently includes replacing Javax with Jakarta. For that I used the Intellij Javax-&gt;Jakarta migration tool. My classes use <code>com.fasterxml.jackson.annotation</code> annotations <code>JsonCreator</code> <code>JsonProperty</code> <code>JsonAlias</code> <code>JsonIgnore</code>.</p>\n<p>Running some tests with Java 17 however gives the following error:</p>\n<pre><code>Caused by: jakarta.json.bind.JsonbException: Cannot create instance of a class: class io.wouter.bolendpoints.entities.BolRateLimit, No default constructor found.\n</code></pre>\n<p>with <code>io.wouter.bolendpoints.entities.BolRateLimit</code> a class that 'm trying to deserialize.</p>\n<p>Replacing the <code>JsonCreator</code> and <code>JsonProperty</code> annotations with Jakarta annotations <code>JsonbCreator</code> <code>JsonbProperty</code> solves the error. But then I also need a replacement for <code>JsonAlias</code> and <code>JsonIgnore</code>. And if possible I rather stick with the Jackson annotations anyway.</p>\n<p>What is the right way to go here? I can find very little documentation about this.</p>\n<p>EDIT:\nAfter @M.Deinum's comments I got things running again with these old dependencies (and reverting all Jakarta imports to Javax):</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;2.35&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n            &lt;version&gt;2.35&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.connectors/jersey-apache-connector --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.connectors&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-apache-connector&lt;/artifactId&gt;\n            &lt;version&gt;2.35&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;2.35&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.security/oauth2-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.security&lt;/groupId&gt;\n            &lt;artifactId&gt;oauth2-client&lt;/artifactId&gt;\n            &lt;version&gt;2.35&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>However, the <code>javax.xml.bind.jaxb-api</code> dependency wasn't updated after 2018, so I guess I should still switch to Jakarta? These are the dependencies I'd use for that:</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.connectors/jersey-apache-connector --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.connectors&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-apache-connector&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.security/oauth2-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.security&lt;/groupId&gt;\n            &lt;artifactId&gt;oauth2-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But then I get the old error again:\n<code>Caused by: jakarta.json.bind.JsonbException: Cannot create instance of a class: class io.wouter.bolendpoints.entities.BolRateLimit, No default constructor found.</code></p>\n<p>Any ideas how to move on from here?</p>\n"},{"tags":["java","json","java-8"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688983316,"post_id":76652657,"comment_id":135143511,"body_markdown":"Please share an [mcve]","body":"Please share an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1688983450,"post_id":76652657,"comment_id":135143540,"body_markdown":"Isn&#39;t this minimal enough? I posted three lines of code..  I am confused?","body":"Isn&#39;t this minimal enough? I posted three lines of code..  I am confused?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1688991791,"post_id":76652657,"comment_id":135145270,"body_markdown":"The object named `productsJsonObject` is actually the top level object that contains the `products` object. You need to  `.get(products)` on it.","body":"The object named <code>productsJsonObject</code> is actually the top level object that contains the <code>products</code> object. You need to  <code>.get(products)</code> on it."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689000639,"creation_date":1689000639,"answer_id":76654921,"question_id":76652657,"body_markdown":"First of all, when I ran your code on the JSON string in your question, I got an error:\r\n```none\r\nException in thread &quot;main&quot; org.json.JSONException: Expected a &#39;,&#39; or &#39;]&#39; at 128 [character 26 line 6]\r\n```\r\nAs @TimMoore wrote in his [comment][1]:\r\n&gt; The object named `productsJsonObject` is actually the top level object that contains the products object.\r\n\r\nYou have an unnamed JSON object that contains a single member named *products*. Hence after you do this:\r\n```java\r\nJSONObject productsJsonObject = (JSONObject) new JSONTokener(jsonString).nextValue();\r\n```\r\nyou need to do this:\r\n```java\r\nproductsJsonObject = (JSONObject) productsJsonObject.get(&quot;products&quot;);\r\n```\r\nThen you can do this:\r\n```java\r\nJSONObject productTypesJsonObject = (JSONObject) productsJsonObject.get(&quot;productTypes&quot;);\r\n```\r\nHere is a complete example &amp;ndash; including changes I made to the JSON string in order to overcome the exception, above.\r\n\r\nNote that the code uses [text blocks][2] which were first added in JDK 15.\r\n```java\r\nimport org.json.JSONObject;\r\nimport org.json.JSONTokener;\r\n\r\npublic class OrgJsonT {\r\n\r\n    public static void main(String[] args) {\r\n        String json = &quot;&quot;&quot;\r\n{\r\n    &quot;products&quot;: {\r\n        &quot;productTypes&quot;: {\r\n            &quot;storeId&quot;: &quot;abc123&quot;,\r\n            &quot;names&quot;: [\r\n                {\r\n                    &quot;sku&quot;: 123\r\n                },\r\n                {\r\n                    &quot;prices&quot;: {\r\n                        &quot;salesTax&quot;: .2,\r\n                        &quot;wholeSalePrice&quot;: 5,\r\n                        &quot;retailPrice&quot;: 10\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    }\r\n}\r\n                &quot;&quot;&quot;;\r\n        JSONTokener jsonTokener = new JSONTokener(json);\r\n        JSONObject jsonObject = (JSONObject) jsonTokener.nextValue();\r\n        JSONObject productsJsonObject = (JSONObject) jsonObject.get(&quot;products&quot;);\r\n        JSONObject productTypesJsonObject = (JSONObject) productsJsonObject.get(&quot;productTypes&quot;);\r\n        System.out.println(productTypesJsonObject);\r\n    }\r\n}\r\n```\r\nRunning the above code prints the following:\r\n```none\r\n{&quot;names&quot;:[{&quot;sku&quot;:123},{&quot;prices&quot;:{&quot;wholeSalePrice&quot;:5,&quot;salesTax&quot;:&quot;.2&quot;,&quot;retailPrice&quot;:10}}],&quot;storeId&quot;:&quot;abc123&quot;}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76652657/org-json-jsonexception-when-trying-to-parse-complex-json-subsection#comment135145270_76652657\r\n  [2]: https://docs.oracle.com/en/java/javase/17/text-blocks/index.html","title":"org.json.JSONException when trying to parse complex JSON subsection","body":"<p>First of all, when I ran your code on the JSON string in your question, I got an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; org.json.JSONException: Expected a ',' or ']' at 128 [character 26 line 6]\n</code></pre>\n<p>As @TimMoore wrote in his <a href=\"https://stackoverflow.com/questions/76652657/org-json-jsonexception-when-trying-to-parse-complex-json-subsection#comment135145270_76652657\">comment</a>:</p>\n<blockquote>\n<p>The object named <code>productsJsonObject</code> is actually the top level object that contains the products object.</p>\n</blockquote>\n<p>You have an unnamed JSON object that contains a single member named <em>products</em>. Hence after you do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONObject productsJsonObject = (JSONObject) new JSONTokener(jsonString).nextValue();\n</code></pre>\n<p>you need to do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>productsJsonObject = (JSONObject) productsJsonObject.get(&quot;products&quot;);\n</code></pre>\n<p>Then you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONObject productTypesJsonObject = (JSONObject) productsJsonObject.get(&quot;productTypes&quot;);\n</code></pre>\n<p>Here is a complete example  including changes I made to the JSON string in order to overcome the exception, above.</p>\n<p>Note that the code uses <a href=\"https://docs.oracle.com/en/java/javase/17/text-blocks/index.html\" rel=\"nofollow noreferrer\">text blocks</a> which were first added in JDK 15.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.json.JSONObject;\nimport org.json.JSONTokener;\n\npublic class OrgJsonT {\n\n    public static void main(String[] args) {\n        String json = &quot;&quot;&quot;\n{\n    &quot;products&quot;: {\n        &quot;productTypes&quot;: {\n            &quot;storeId&quot;: &quot;abc123&quot;,\n            &quot;names&quot;: [\n                {\n                    &quot;sku&quot;: 123\n                },\n                {\n                    &quot;prices&quot;: {\n                        &quot;salesTax&quot;: .2,\n                        &quot;wholeSalePrice&quot;: 5,\n                        &quot;retailPrice&quot;: 10\n                    }\n                }\n            ]\n        }\n    }\n}\n                &quot;&quot;&quot;;\n        JSONTokener jsonTokener = new JSONTokener(json);\n        JSONObject jsonObject = (JSONObject) jsonTokener.nextValue();\n        JSONObject productsJsonObject = (JSONObject) jsonObject.get(&quot;products&quot;);\n        JSONObject productTypesJsonObject = (JSONObject) productsJsonObject.get(&quot;productTypes&quot;);\n        System.out.println(productTypesJsonObject);\n    }\n}\n</code></pre>\n<p>Running the above code prints the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{&quot;names&quot;:[{&quot;sku&quot;:123},{&quot;prices&quot;:{&quot;wholeSalePrice&quot;:5,&quot;salesTax&quot;:&quot;.2&quot;,&quot;retailPrice&quot;:10}}],&quot;storeId&quot;:&quot;abc123&quot;}\n</code></pre>\n"}],"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76654921,"answer_count":1,"score":-1,"last_activity_date":1689000639,"creation_date":1688983222,"question_id":76652657,"body_markdown":"Am facing impediments when using Java 1.8 and the `org.json` lib to marshal &amp; parse a complex JSON object...\r\n\r\nJSON dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    &lt;version&gt;NOT_KNOWN&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n---\r\n\r\nJSON response payload:\r\n\r\n```\r\n{\r\n\t&quot;products&quot;: {\r\n\t\t&quot;productTypes&quot;: {\r\n\t\t\t&quot;storeId&quot;: &quot;abc123&quot;\r\n\t\t\t&quot;names&quot;: [\r\n\t\t\t\t&quot;sku&quot;: &quot;123&quot;,\r\n\t\t\t\t&quot;prices&quot;: {\r\n\t\t\t\t\t&quot;salesTax&quot;: .2,\r\n\t\t\t\t\t&quot;wholeSalePrice&quot;: 5,\r\n\t\t\t\t\t&quot;retailPrice&quot;: 10\r\n\t\t\t\t}\r\n\t\t\t]\r\n\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n---\r\n\r\n```\r\n// After obtaining as a jsonString\r\nJSONObject productsJsonObject = (JSONObject) new JSONTokener(jsonString).nextValue();\r\n\r\n// This logs the correct the JSON listed above\r\nlogger.info(&quot;productsJsonObject = {}&quot;, productsJsonObject); \r\n\r\n// Exception happens here:\r\nJSONObject productTypeJsonSection = (JSONObject) productsJsonObject.get(&quot;productTypes&quot;);\r\n```\r\n\r\nThis exception is thrown:\r\n\r\n```\r\norg.json.JSONException: JSONObject[&quot;productTypes&quot;] not found.\r\n        at org.json.JSONObject.get(JSONObject.java:422) ~[json-NOT_KNOWN.jar:?]\r\n```\r\n\r\n","title":"org.json.JSONException when trying to parse complex JSON subsection","body":"<p>Am facing impediments when using Java 1.8 and the <code>org.json</code> lib to marshal &amp; parse a complex JSON object...</p>\n<p>JSON dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;NOT_KNOWN&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>JSON response payload:</p>\n<pre><code>{\n    &quot;products&quot;: {\n        &quot;productTypes&quot;: {\n            &quot;storeId&quot;: &quot;abc123&quot;\n            &quot;names&quot;: [\n                &quot;sku&quot;: &quot;123&quot;,\n                &quot;prices&quot;: {\n                    &quot;salesTax&quot;: .2,\n                    &quot;wholeSalePrice&quot;: 5,\n                    &quot;retailPrice&quot;: 10\n                }\n            ]\n\n        }\n    }\n}\n</code></pre>\n<hr />\n<pre><code>// After obtaining as a jsonString\nJSONObject productsJsonObject = (JSONObject) new JSONTokener(jsonString).nextValue();\n\n// This logs the correct the JSON listed above\nlogger.info(&quot;productsJsonObject = {}&quot;, productsJsonObject); \n\n// Exception happens here:\nJSONObject productTypeJsonSection = (JSONObject) productsJsonObject.get(&quot;productTypes&quot;);\n</code></pre>\n<p>This exception is thrown:</p>\n<pre><code>org.json.JSONException: JSONObject[&quot;productTypes&quot;] not found.\n        at org.json.JSONObject.get(JSONObject.java:422) ~[json-NOT_KNOWN.jar:?]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688668894,"post_id":76631478,"comment_id":135108430,"body_markdown":"Hello, please check the package structure of your classes. It looks like the UserAccountController class is not found by Spring component scan. It should be in the same package as the main application class or in a sub-package of it.","body":"Hello, please check the package structure of your classes. It looks like the UserAccountController class is not found by Spring component scan. It should be in the same package as the main application class or in a sub-package of it."},{"owner":{"account_id":28964876,"reputation":3,"user_id":22186580,"display_name":"Baromir19"},"score":0,"creation_date":1688673471,"post_id":76631478,"comment_id":135109238,"body_markdown":"Hi, class UserAccountController is in the folder src\\main\\java\\com\\lpchat\\springboot\\chatSbApp\\controller, while the main class is 1 level up (src\\main\\java\\com\\lpchat\\springboot\\chatSbApp). ErrorController is located in the same folder as UserAccountControl.. and this is the most surprising thing, perhaps","body":"Hi, class UserAccountController is in the folder src\\main\\java\\com\\lpchat\\springboot\\chatSbApp\\controller, while the main class is 1 level up (src\\main\\java\\com\\lpchat\\springboot\\chatSbApp). ErrorController is located in the same folder as UserAccountControl.. and this is the most surprising thing, perhaps"}],"answers":[{"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688713601,"creation_date":1688713601,"answer_id":76634635,"question_id":76631478,"body_markdown":"Opening link using window.location will require you to set complete path.\r\n\r\nTry to replace\r\n\r\n    &lt;button class=&quot;auth-button&quot; onclick=&quot;window.location.href=&#39;login.html&#39;&quot;&gt;Login&lt;/button&gt;\r\n\r\nWith\r\n\r\n    &lt;button class=&quot;auth-button&quot; onclick=&quot;window.location.href=&#39;http://localhost:8080/login&#39;&quot;&gt;Login&lt;/button&gt;\r\n\r\nAlso note you should not include .html extension since controller takes care of this when parsing templates","title":"Thymeleaf doesn&#39;t see page html in templates","body":"<p>Opening link using window.location will require you to set complete path.</p>\n<p>Try to replace</p>\n<pre><code>&lt;button class=&quot;auth-button&quot; onclick=&quot;window.location.href='login.html'&quot;&gt;Login&lt;/button&gt;\n</code></pre>\n<p>With</p>\n<pre><code>&lt;button class=&quot;auth-button&quot; onclick=&quot;window.location.href='http://localhost:8080/login'&quot;&gt;Login&lt;/button&gt;\n</code></pre>\n<p>Also note you should not include .html extension since controller takes care of this when parsing templates</p>\n"}],"owner":{"account_id":28964876,"reputation":3,"user_id":22186580,"display_name":"Baromir19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76634635,"answer_count":1,"score":0,"last_activity_date":1689000103,"creation_date":1688666745,"question_id":76631478,"body_markdown":"I am new to Spring boot application development. I use eclipse IDE, spring boot v.3.1.1, maven project.\r\n\r\nThe problem is that my `.html` pages are in templates (`src/main/resources/templates`), which need to be displayed by their link (like a localhost:8080/page), controllers were created for them. I also tried to display the page in case of an error (/error), which is located in the same folder - and it is displayed.\r\n\r\nIn addition, I will give the code of the main method, controllers, and a small code of the html pages (they are quite large ...)\r\n\r\n`.java` file with void main:\r\n```\r\n@SpringBootApplication\r\npublic class ChatSbAppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ChatSbAppApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nError controller (works fine):\r\n```\r\n@Controller\r\npublic class ErrorController implements org.springframework.boot.web.servlet.error.ErrorController {\r\n\r\n    @RequestMapping(&quot;/error&quot;)\r\n    public String handleError() {\r\n        return &quot;error&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String getErrorPath() {\r\n        return &quot;/error&quot;;\r\n    }\r\n}\r\n```\r\n\r\nStandard controllers:\r\n```\r\n@Controller\r\npublic class UserAccountController {\r\n\r\n    private final UserAccountService userAccountService;\r\n\r\n    @Autowired\r\n    public UserAccountController(UserAccountService userAccountService) {\r\n        this.userAccountService = userAccountService;\r\n    }\r\n    \r\n    ///registration\r\n    \r\n    @GetMapping(&quot;/register&quot;)\r\n    public String showRegistrationForm() {\r\n        return &quot;register&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public String registerUser(@RequestBody UserAccount userAccount) {\r\n        userAccountService.saveUserAccount(userAccount);\r\n        return &quot;redirect:/login&quot;;\r\n    }\r\n    \r\n    ///authorisation\r\n    \r\n    @GetMapping(&quot;/login&quot;)\r\n    public String loginUser() {\r\n        return &quot;login&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public String processLoginForm() {\r\n        return &quot;redirect:/chats&quot;;\r\n    }\r\n}\r\n```\r\n\r\napplication.properties:\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/ChatDB\r\nspring.datasource.username=postgres\r\nspring.datasource.password=1234\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nserver.error.whitelabel.enabled = false\r\nspring.jpa.open-in-view=false\r\n```\r\n\r\nI also tried changing the config, but it didn&#39;t work either.\r\n```\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Bean\r\n    public ViewResolver viewResolver() {\r\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n        resolver.setTemplateEngine(templateEngine());\r\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        return resolver;\r\n    }\r\n\r\n    @Bean\r\n    public TemplateEngine templateEngine() {\r\n        SpringTemplateEngine engine = new SpringTemplateEngine();\r\n        engine.setEnableSpringELCompiler(true);\r\n        engine.setTemplateResolver(templateResolver());\r\n        return engine;\r\n    }\r\n\r\n    @Bean\r\n    public ITemplateResolver templateResolver() {\r\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n        resolver.setPrefix(&quot;classpath:/templates/&quot;);\r\n        resolver.setSuffix(&quot;.html&quot;);\r\n        resolver.setTemplateMode(TemplateMode.HTML);\r\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        return resolver;\r\n    }\r\n    \r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(new LoggingInterceptor());\r\n    }\r\n}\r\n```\r\n\r\nHTML example below: error.html works, but same login.html does not see. Also thymeleaf saw fine .css/.js in /static...\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Error Page&lt;/title&gt;\r\n  &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{index.css}&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;div class=&quot;navbar&quot;&gt;\r\n    &lt;div class=&quot;navbar-logo&quot;&gt;\r\n        &lt;button onclick=&quot;changeColor()&quot; class=&quot;color-button&quot;&gt;\r\n        &lt;/button&gt;\r\n    &lt;/div&gt;\r\n    &lt;div style=&quot;display:flex; margin-right: 40px;&quot;&gt;\r\n      &lt;button class=&quot;auth-button&quot; onclick=&quot;window.location.href=&#39;login.html&#39;&quot;&gt;Login&lt;/button&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI can also show the logs, but there is nothing surprising in them - not 1 error or warning, but not 1 mention of the created mapping (I read, in my opinion there should be a message, like &quot;mapping was created along the path [x.html]&quot; or something like that, I didn&#39;t have such a message). The thymeleaf dependency is also in pom.xml ;) \r\n\r\n\r\nAs I described above, I tried to change the thymeleaf config, but it didn&#39;t work. Also I read some other people&#39;s problems and tried to &quot;Project-&gt;Update Maven Project&quot; (Alt+F5) but it didn&#39;t help too","title":"Thymeleaf doesn&#39;t see page html in templates","body":"<p>I am new to Spring boot application development. I use eclipse IDE, spring boot v.3.1.1, maven project.</p>\n<p>The problem is that my <code>.html</code> pages are in templates (<code>src/main/resources/templates</code>), which need to be displayed by their link (like a localhost:8080/page), controllers were created for them. I also tried to display the page in case of an error (/error), which is located in the same folder - and it is displayed.</p>\n<p>In addition, I will give the code of the main method, controllers, and a small code of the html pages (they are quite large ...)</p>\n<p><code>.java</code> file with void main:</p>\n<pre><code>@SpringBootApplication\npublic class ChatSbAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ChatSbAppApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Error controller (works fine):</p>\n<pre><code>@Controller\npublic class ErrorController implements org.springframework.boot.web.servlet.error.ErrorController {\n\n    @RequestMapping(&quot;/error&quot;)\n    public String handleError() {\n        return &quot;error&quot;;\n    }\n\n    @Override\n    public String getErrorPath() {\n        return &quot;/error&quot;;\n    }\n}\n</code></pre>\n<p>Standard controllers:</p>\n<pre><code>@Controller\npublic class UserAccountController {\n\n    private final UserAccountService userAccountService;\n\n    @Autowired\n    public UserAccountController(UserAccountService userAccountService) {\n        this.userAccountService = userAccountService;\n    }\n    \n    ///registration\n    \n    @GetMapping(&quot;/register&quot;)\n    public String showRegistrationForm() {\n        return &quot;register&quot;;\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public String registerUser(@RequestBody UserAccount userAccount) {\n        userAccountService.saveUserAccount(userAccount);\n        return &quot;redirect:/login&quot;;\n    }\n    \n    ///authorisation\n    \n    @GetMapping(&quot;/login&quot;)\n    public String loginUser() {\n        return &quot;login&quot;;\n    }\n\n    @PostMapping(&quot;/login&quot;)\n    public String processLoginForm() {\n        return &quot;redirect:/chats&quot;;\n    }\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/ChatDB\nspring.datasource.username=postgres\nspring.datasource.password=1234\nspring.datasource.driver-class-name=org.postgresql.Driver\nserver.error.whitelabel.enabled = false\nspring.jpa.open-in-view=false\n</code></pre>\n<p>I also tried changing the config, but it didn't work either.</p>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Bean\n    public ViewResolver viewResolver() {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        return resolver;\n    }\n\n    @Bean\n    public TemplateEngine templateEngine() {\n        SpringTemplateEngine engine = new SpringTemplateEngine();\n        engine.setEnableSpringELCompiler(true);\n        engine.setTemplateResolver(templateResolver());\n        return engine;\n    }\n\n    @Bean\n    public ITemplateResolver templateResolver() {\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setPrefix(&quot;classpath:/templates/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        resolver.setTemplateMode(TemplateMode.HTML);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        return resolver;\n    }\n    \n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new LoggingInterceptor());\n    }\n}\n</code></pre>\n<p>HTML example below: error.html works, but same login.html does not see. Also thymeleaf saw fine .css/.js in /static...</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Error Page&lt;/title&gt;\n  &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{index.css}&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div class=&quot;navbar&quot;&gt;\n    &lt;div class=&quot;navbar-logo&quot;&gt;\n        &lt;button onclick=&quot;changeColor()&quot; class=&quot;color-button&quot;&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n    &lt;div style=&quot;display:flex; margin-right: 40px;&quot;&gt;\n      &lt;button class=&quot;auth-button&quot; onclick=&quot;window.location.href='login.html'&quot;&gt;Login&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I can also show the logs, but there is nothing surprising in them - not 1 error or warning, but not 1 mention of the created mapping (I read, in my opinion there should be a message, like &quot;mapping was created along the path [x.html]&quot; or something like that, I didn't have such a message). The thymeleaf dependency is also in pom.xml ;)</p>\n<p>As I described above, I tried to change the thymeleaf config, but it didn't work. Also I read some other people's problems and tried to &quot;Project-&gt;Update Maven Project&quot; (Alt+F5) but it didn't help too</p>\n"},{"tags":["java","javafx-8","fxml","fxmlloader"],"answers":[{"tags":[],"owner":{"account_id":26107901,"reputation":43,"user_id":19802322,"display_name":"Mira"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688999411,"creation_date":1688999411,"answer_id":76654763,"question_id":76638122,"body_markdown":"For the sake of anyone who comes across this post in the future, this is how I managed to solve the issue:\r\n\r\nThe following method creates mainStage&#39;s scene using the fxml file as root.\r\n\r\n    public Scene getMainStageScene() throws Exception {\r\n        \r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;main_stage.fxml&quot;));    \r\n        Scene mainStageScene = new Scene(root, 800, 800);\r\n        \r\n    return mainStageScene; \r\n} \r\n \r\n\r\nTo obtain the object that has access to all elements injected by FXML, I modified the code above the following way:\r\n\r\n    public Scene getMainStageScene() throws Exception {\r\n        \r\n        FXMLLoader loader = new FXMLLoader();\r\n        loader.setLocation(getClass().getResource(&quot;main_stage.fxml&quot;));\r\n        Parent root = loader.load();\r\n\r\n\t//defined as: public static mainStage mainStageControllerInstance; before this method\r\n        mainStageControllerInstance = loader.getController(); \r\n\r\n        Scene mainStageScene = new Scene(root, 800, 800);\r\n        \r\n    return mainStageScene;   \r\n} \r\n\r\nAnd now I am able to access/modify the objects displayed on mainStage from everywhere in the program, including the popup window.","title":"Passing fxml objects between two seperate controller classes javafx fxml","body":"<p>For the sake of anyone who comes across this post in the future, this is how I managed to solve the issue:</p>\n<p>The following method creates mainStage's scene using the fxml file as root.</p>\n<pre><code>public Scene getMainStageScene() throws Exception {\n    \n    Parent root = FXMLLoader.load(getClass().getResource(&quot;main_stage.fxml&quot;));    \n    Scene mainStageScene = new Scene(root, 800, 800);\n    \nreturn mainStageScene; \n</code></pre>\n<p>}</p>\n<p>To obtain the object that has access to all elements injected by FXML, I modified the code above the following way:</p>\n<pre><code>public Scene getMainStageScene() throws Exception {\n    \n    FXMLLoader loader = new FXMLLoader();\n    loader.setLocation(getClass().getResource(&quot;main_stage.fxml&quot;));\n    Parent root = loader.load();\n\n//defined as: public static mainStage mainStageControllerInstance; before this method\n    mainStageControllerInstance = loader.getController(); \n\n    Scene mainStageScene = new Scene(root, 800, 800);\n    \nreturn mainStageScene;   \n</code></pre>\n<p>}</p>\n<p>And now I am able to access/modify the objects displayed on mainStage from everywhere in the program, including the popup window.</p>\n"}],"owner":{"account_id":26107901,"reputation":43,"user_id":19802322,"display_name":"Mira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76654763,"answer_count":1,"score":0,"last_activity_date":1688999411,"creation_date":1688742487,"question_id":76638122,"body_markdown":"I have two seperate stages (mainStage, popupStage), both with their own controller class and associated fxml file. \r\n\r\nI would like to access some buttons defined with the @FXML annotation in mainStage&#39;s controller, from popupStage&#39;s controller. I&#39;ve found that using `loader.getController()` to create an instance of the controller that has all the fxml button objects, then passing it to the popupScene&#39;s controller, and simply calling `mainStageControllerInstance.reset();` from the popupStage controller would be a viable solution. I&#39;ve managed to create a mainStageController instance using this approach, however, the buttons retrieved from this instance weren&#39;t the same ones that were being displayed on the mainStage at runtime. Therefore I am only able to affect the buttons from the mainStage controller class, and not by calling the @FXML reset() method from the popupStage controller, and adding the buttons retrieved from the `loader.getController()` object.\r\n\r\nCreating the mainStageControllerInstance object:\r\n\r\n```\r\nFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;main_scene.fxml&quot;));\r\nAnchorPane root = loader.load();\r\nmainStageController mainStageControllerInstance  = loader.getController();\r\n```\r\n\r\nI&#39;ve tried adding this code to multiple different classes/methods of the program in hopes that I would be able to reference the buttons displayed on mainStage, and modify them by the click of a button on the popup, but nothing seemed to work.\r\n\r\nI have checked all related questions that I came accross that seemingly answered my question, but nothing worked. I&#39;d greatly appreciate any help with this issue.","title":"Passing fxml objects between two seperate controller classes javafx fxml","body":"<p>I have two seperate stages (mainStage, popupStage), both with their own controller class and associated fxml file.</p>\n<p>I would like to access some buttons defined with the @FXML annotation in mainStage's controller, from popupStage's controller. I've found that using <code>loader.getController()</code> to create an instance of the controller that has all the fxml button objects, then passing it to the popupScene's controller, and simply calling <code>mainStageControllerInstance.reset();</code> from the popupStage controller would be a viable solution. I've managed to create a mainStageController instance using this approach, however, the buttons retrieved from this instance weren't the same ones that were being displayed on the mainStage at runtime. Therefore I am only able to affect the buttons from the mainStage controller class, and not by calling the @FXML reset() method from the popupStage controller, and adding the buttons retrieved from the <code>loader.getController()</code> object.</p>\n<p>Creating the mainStageControllerInstance object:</p>\n<pre><code>FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;main_scene.fxml&quot;));\nAnchorPane root = loader.load();\nmainStageController mainStageControllerInstance  = loader.getController();\n</code></pre>\n<p>I've tried adding this code to multiple different classes/methods of the program in hopes that I would be able to reference the buttons displayed on mainStage, and modify them by the click of a button on the popup, but nothing seemed to work.</p>\n<p>I have checked all related questions that I came accross that seemingly answered my question, but nothing worked. I'd greatly appreciate any help with this issue.</p>\n"},{"tags":["java","android","json","rest"],"answers":[{"tags":[],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688999021,"creation_date":1688998108,"answer_id":76654578,"question_id":76637917,"body_markdown":"**Solved**\r\n\r\nAfter almost 3 days of debugging and hours of scrapping the internet for solutions, I discovered that the issue was with the usage of the page and size parameters in the API call. Initially, I mistakenly used the @Query annotation instead of manually fixing the server-side controller to be able to handle paging and size as part of the query. \r\n\r\n\r\nwhich made a get request to the server with this path http://localhost:8080/api/v1/post/post?page=10&amp;size=10 \r\n\r\nwhen I was expecting to make a get request to this path  \r\nhttp://localhost:8080/api/v1/post/post\r\n\r\n Consequently, the API call did not return any posts, even though it appeared to be successful. That&#39;s what confused me. \r\n\r\n\r\n","title":"Unable to retrieve posts from API in Android app","body":"<p><strong>Solved</strong></p>\n<p>After almost 3 days of debugging and hours of scrapping the internet for solutions, I discovered that the issue was with the usage of the page and size parameters in the API call. Initially, I mistakenly used the @Query annotation instead of manually fixing the server-side controller to be able to handle paging and size as part of the query.</p>\n<p>which made a get request to the server with this path http://localhost:8080/api/v1/post/post?page=10&amp;size=10</p>\n<p>when I was expecting to make a get request to this path<br />\nhttp://localhost:8080/api/v1/post/post</p>\n<p>Consequently, the API call did not return any posts, even though it appeared to be successful. That's what confused me.</p>\n"}],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76654578,"answer_count":1,"score":0,"last_activity_date":1688999021,"creation_date":1688740756,"question_id":76637917,"body_markdown":"I&#39;m currently working on an Android social media application, and I&#39;m facing an issue with retrieving posts from the API. I&#39;m using Retrofit to make the API call, and although the call is successful, I&#39;m not receiving any posts in the response.\r\n\r\nHere&#39;s the relevant information:\r\n\r\n&gt; API endpoint: https://api.example.com/api/v1/post/post  \r\nRequest method: GET  \r\nRequired parameters: page (int), size (int)  \r\nRequest header: Authorization (contains a valid authentication token)  \r\n\r\nI have verified that the API call is being made correctly, and the authentication token is included in the request header. However, the response I receive does not contain any posts.\r\n\r\nHere are the relevant logs in Android Studio:\r\n\r\n```none\r\n2023-07-07 16:21:23.737  I  Auth Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huQGdtYWlsLmNvbSIsInJvbGVzIjpbIlVTRVIiXSwiaXNzIjoiL2FwaS92MS9sb2dpbiIsImV4cCI6MTY4ODc0MzI4Mn0.LaYnVqLrUtAG7weC0hk56W7anVt9nWmYet8Zg1lAuOg\r\n2023-07-07 16:21:32.075  I  we should get the posts here retrofit2.OkHttpCall$NoContentResponseBody@df0ef6d\r\n2023-07-07 16:21:32.076  I  number of posts: 0\r\n2023-07-07 16:21:32.076  I  total pages: 0\r\n2023-07-07 16:21:32.076  I  total elements: 3\r\n\r\n```\r\n\r\nAs you can see, the response indicates that there are no posts (number of posts: 0) even though there are actually 3 posts available.\r\n\r\nWhat I return in Postman:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3PDfr.png\r\n\r\n\r\nHere&#39;s the relevant code snippet for making the API call:\r\n```\r\n\r\n// Make the API call to fetch the list of posts\r\nPostService postService = retrofit.create(PostService.class);\r\nCall&lt;PostPage&gt; call = postService.getAllPosts(authToken,10, 15); // Replace page and size with your desired values\r\ncall.enqueue(new Callback&lt;PostPage&gt;() {\r\n    @Override\r\n    public void onResponse(Call&lt;PostPage&gt; call, Response&lt;PostPage&gt; response) {\r\n        System.out.println(&quot;we should get the postts here &quot; + response.raw().body().toString());\r\n        System.out.println(&quot;header check &quot;  + response.headers());\r\n        if (response.isSuccessful() &amp;&amp; response.body()!=null) {\r\n            PostPage postResponse = response.body();\r\n            List&lt;Post&gt; posts = postResponse.getPosts();\r\n            if (posts != null) {\r\n                int totalPages = postResponse.getTotalPages();\r\n                long totalElements = postResponse.getTotalElements();\r\n                System.out.println(&quot;number of posts: &quot; + posts.size());\r\n                System.out.println(&quot;total pages: &quot; + totalPages);\r\n                System.out.println(&quot;total elements: &quot; + totalElements);\r\n                postAdapter.setPostList(posts);\r\n            } else {\r\n                // Handle the case when the &#39;posts&#39; list is null\r\n                System.out.println(&quot;Received null posts list&quot;);\r\n            }\r\n        } else {\r\n            // Handle error\r\n            // Handle the login error here\r\n            System.out.println(&quot;Something went wrong displaying the post&quot;);\r\n            Toast.makeText(MainActivity.this, &quot;Login Error&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n    }\r\n\r\n```\r\nAnd here&#39;s the relevant code snippet from the server-side controller:\r\n\r\n```\r\n\r\n@GetMapping(&quot;/api/v1/post/post&quot;)\r\npublic ResponseEntity&lt;PostPage&gt; getAllPost(@RequestParam(defaultValue = &quot;0&quot;) int page,\r\n                                           @RequestParam(defaultValue = &quot;10&quot;) int size,\r\n                                           @RequestHeader(&quot;Authorization&quot;) String authorizationHeader) {\r\n    // Extract email from the authorization header and retrieve the user\r\n    // ...\r\n\r\n    // Retrieve the posts using the page and size parameters\r\n    Page&lt;Post&gt; post = postService.getAllPost(PageRequest.of(page, size));\r\n    List&lt;Post&gt; posts = post.get().toList();\r\n\r\n    // Create a PostPage object and set the necessary fields\r\n    PostPage postPage = new PostPage();\r\n    postPage.setPosts(posts);\r\n    postPage.setTotalPages(post.getTotalPages());\r\n    postPage.setTotalElements(post.getTotalElements());\r\n    postPage.setCurrentPage(post.getNumber());\r\n\r\n    return ResponseEntity.ok().body(postPage);\r\n}\r\n```\r\n\r\nI have already checked the API endpoint, request parameters, and server-side code, and they seem to be correct. However, I&#39;m unable to retrieve the posts in my Android app. Any suggestions or insights would be greatly appreciated.\r\n\r\n","title":"Unable to retrieve posts from API in Android app","body":"<p>I'm currently working on an Android social media application, and I'm facing an issue with retrieving posts from the API. I'm using Retrofit to make the API call, and although the call is successful, I'm not receiving any posts in the response.</p>\n<p>Here's the relevant information:</p>\n<blockquote>\n<p>API endpoint: <a href=\"https://api.example.com/api/v1/post/post\" rel=\"nofollow noreferrer\">https://api.example.com/api/v1/post/post</a><br />\nRequest method: GET<br />\nRequired parameters: page (int), size (int)<br />\nRequest header: Authorization (contains a valid authentication token)</p>\n</blockquote>\n<p>I have verified that the API call is being made correctly, and the authentication token is included in the request header. However, the response I receive does not contain any posts.</p>\n<p>Here are the relevant logs in Android Studio:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-07-07 16:21:23.737  I  Auth Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huQGdtYWlsLmNvbSIsInJvbGVzIjpbIlVTRVIiXSwiaXNzIjoiL2FwaS92MS9sb2dpbiIsImV4cCI6MTY4ODc0MzI4Mn0.LaYnVqLrUtAG7weC0hk56W7anVt9nWmYet8Zg1lAuOg\n2023-07-07 16:21:32.075  I  we should get the posts here retrofit2.OkHttpCall$NoContentResponseBody@df0ef6d\n2023-07-07 16:21:32.076  I  number of posts: 0\n2023-07-07 16:21:32.076  I  total pages: 0\n2023-07-07 16:21:32.076  I  total elements: 3\n\n</code></pre>\n<p>As you can see, the response indicates that there are no posts (number of posts: 0) even though there are actually 3 posts available.</p>\n<p>What I return in Postman:</p>\n<p><a href=\"https://i.stack.imgur.com/3PDfr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3PDfr.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the relevant code snippet for making the API call:</p>\n<pre><code>\n// Make the API call to fetch the list of posts\nPostService postService = retrofit.create(PostService.class);\nCall&lt;PostPage&gt; call = postService.getAllPosts(authToken,10, 15); // Replace page and size with your desired values\ncall.enqueue(new Callback&lt;PostPage&gt;() {\n    @Override\n    public void onResponse(Call&lt;PostPage&gt; call, Response&lt;PostPage&gt; response) {\n        System.out.println(&quot;we should get the postts here &quot; + response.raw().body().toString());\n        System.out.println(&quot;header check &quot;  + response.headers());\n        if (response.isSuccessful() &amp;&amp; response.body()!=null) {\n            PostPage postResponse = response.body();\n            List&lt;Post&gt; posts = postResponse.getPosts();\n            if (posts != null) {\n                int totalPages = postResponse.getTotalPages();\n                long totalElements = postResponse.getTotalElements();\n                System.out.println(&quot;number of posts: &quot; + posts.size());\n                System.out.println(&quot;total pages: &quot; + totalPages);\n                System.out.println(&quot;total elements: &quot; + totalElements);\n                postAdapter.setPostList(posts);\n            } else {\n                // Handle the case when the 'posts' list is null\n                System.out.println(&quot;Received null posts list&quot;);\n            }\n        } else {\n            // Handle error\n            // Handle the login error here\n            System.out.println(&quot;Something went wrong displaying the post&quot;);\n            Toast.makeText(MainActivity.this, &quot;Login Error&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    }\n\n</code></pre>\n<p>And here's the relevant code snippet from the server-side controller:</p>\n<pre><code>\n@GetMapping(&quot;/api/v1/post/post&quot;)\npublic ResponseEntity&lt;PostPage&gt; getAllPost(@RequestParam(defaultValue = &quot;0&quot;) int page,\n                                           @RequestParam(defaultValue = &quot;10&quot;) int size,\n                                           @RequestHeader(&quot;Authorization&quot;) String authorizationHeader) {\n    // Extract email from the authorization header and retrieve the user\n    // ...\n\n    // Retrieve the posts using the page and size parameters\n    Page&lt;Post&gt; post = postService.getAllPost(PageRequest.of(page, size));\n    List&lt;Post&gt; posts = post.get().toList();\n\n    // Create a PostPage object and set the necessary fields\n    PostPage postPage = new PostPage();\n    postPage.setPosts(posts);\n    postPage.setTotalPages(post.getTotalPages());\n    postPage.setTotalElements(post.getTotalElements());\n    postPage.setCurrentPage(post.getNumber());\n\n    return ResponseEntity.ok().body(postPage);\n}\n</code></pre>\n<p>I have already checked the API endpoint, request parameters, and server-side code, and they seem to be correct. However, I'm unable to retrieve the posts in my Android app. Any suggestions or insights would be greatly appreciated.</p>\n"},{"tags":["java","unit-testing","collections","junit"],"comments":[{"owner":{"account_id":38973,"reputation":17442,"user_id":112222,"accept_rate":88,"display_name":"Teja Kantamneni"},"score":2,"creation_date":1266864419,"post_id":2313229,"comment_id":2280742,"body_markdown":"check this SO post http://stackoverflow.com/questions/1086691/collectionassert-in-junit","body":"check this SO post <a href=\"http://stackoverflow.com/questions/1086691/collectionassert-in-junit\" title=\"collectionassert in junit\">stackoverflow.com/questions/1086691/collectionassert-in-juni&zwnj;&#8203;t</a>"},{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":0,"creation_date":1266864957,"post_id":2313229,"comment_id":2280798,"body_markdown":"Are you trying to assert that two Sets are equal to each other (contain the same elements), or that two elements of the same Set are equal?","body":"Are you trying to assert that two Sets are equal to each other (contain the same elements), or that two elements of the same Set are equal?"},{"owner":{"account_id":49871,"reputation":4752,"user_id":148638,"accept_rate":93,"display_name":"Eqbal"},"score":0,"creation_date":1266865088,"post_id":2313229,"comment_id":2280823,"body_markdown":"I need to see that the elements of two Sets are equal","body":"I need to see that the elements of two Sets are equal"}],"answers":[{"comments":[{"owner":{"account_id":113555,"reputation":1226,"user_id":299014,"accept_rate":82,"display_name":"JRSofty"},"score":1,"creation_date":1453727994,"post_id":2313319,"comment_id":57715332,"body_markdown":"I prefer this method since Hamcrest comes with JUnit 4 so it is all there no need for other libraries.","body":"I prefer this method since Hamcrest comes with JUnit 4 so it is all there no need for other libraries."},{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":2,"creation_date":1495641116,"post_id":2313319,"comment_id":75342987,"body_markdown":"This might not work when the sets have different types.","body":"This might not work when the sets have different types."}],"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":2,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1266864938,"creation_date":1266864938,"answer_id":2313319,"question_id":2313229,"body_markdown":"with [hamcrest][1]:\r\n\r\n    assertThat(s1, is(s2));\r\n\r\nwith plain assert:\r\n\r\n    assertEquals(s1, s2);\r\n\r\nNB:t the equals() method of the **concrete set class** is used\r\n\r\n\r\n  [1]: http://code.google.com/p/hamcrest/","title":"JUnit 4 compare Sets","body":"<p>with <a href=\"http://code.google.com/p/hamcrest/\" rel=\"noreferrer\">hamcrest</a>:</p>\n\n<pre><code>assertThat(s1, is(s2));\n</code></pre>\n\n<p>with plain assert:</p>\n\n<pre><code>assertEquals(s1, s2);\n</code></pre>\n\n<p>NB:t the equals() method of the <strong>concrete set class</strong> is used</p>\n"},{"comments":[{"owner":{"account_id":1704051,"reputation":275,"user_id":1563495,"accept_rate":100,"display_name":"Johannes"},"score":0,"creation_date":1359369498,"post_id":2313337,"comment_id":20314152,"body_markdown":"short but great Link, explains really fast what you can do with Junit4-","body":"short but great Link, explains really fast what you can do with Junit4-"},{"owner":{"account_id":3802767,"reputation":6319,"user_id":3155933,"accept_rate":67,"display_name":"pzp"},"score":1,"creation_date":1511201280,"post_id":2313337,"comment_id":81749875,"body_markdown":"The link is broken. Any chance you can find an archived version online or summarize its contents?","body":"The link is broken. Any chance you can find an archived version online or summarize its contents?"}],"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565335408,"creation_date":1266865103,"answer_id":2313337,"question_id":2313229,"body_markdown":"Check [this article][1]. One example from there:\r\n\r\n    @Test  \r\n    public void listEquality() {  \r\n        List&lt;Integer&gt; expected = new ArrayList&lt;Integer&gt;();  \r\n        expected.add(5);  \r\n      \r\n        List&lt;Integer&gt; actual = new ArrayList&lt;Integer&gt;();  \r\n        actual.add(5);  \r\n      \r\n        assertEquals(expected, actual);  \r\n    }  \r\n\r\n\r\n  [1]: http://web.archive.org/web/20100105155238/http://www.cavdar.net/2008/07/21/junit-4-in-60-seconds/","title":"JUnit 4 compare Sets","body":"<p>Check <a href=\"http://web.archive.org/web/20100105155238/http://www.cavdar.net/2008/07/21/junit-4-in-60-seconds/\" rel=\"nofollow noreferrer\">this article</a>. One example from there:</p>\n\n<pre><code>@Test  \npublic void listEquality() {  \n    List&lt;Integer&gt; expected = new ArrayList&lt;Integer&gt;();  \n    expected.add(5);  \n\n    List&lt;Integer&gt; actual = new ArrayList&lt;Integer&gt;();  \n    actual.add(5);  \n\n    assertEquals(expected, actual);  \n}  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":8,"creation_date":1347905606,"post_id":2313396,"comment_id":16765748,"body_markdown":"This does not display very good results in the report.  If your toStrings are clearly defined it is better, but still not good (A small difference can end up with a page of text)","body":"This does not display very good results in the report.  If your toStrings are clearly defined it is better, but still not good (A small difference can end up with a page of text)"},{"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"score":0,"creation_date":1364484465,"post_id":2313396,"comment_id":22269827,"body_markdown":"Uhm, how come I get: java.lang.AssertionError: expected: java.util.Hashtable&lt;{CompanyName=8PKQ9va3nW8pRWb4SjPF2DvdQDBmlZ, Ric=sZwmXAdYKv, Category=AvrIfd, QuoteId=4342740204922826921}&gt; but was: java.util.Hashtable&lt;{CompanyName=8PKQ9va3nW8pRWb4SjPF2DvdQDBmlZ, Ric=sZwmXAdYKv, Category=AvrIfd, QuoteId=4342740204922826921}&gt;","body":"Uhm, how come I get: java.lang.AssertionError: expected: java.util.Hashtable&lt;{CompanyName=8PKQ9va3nW8pRWb4SjPF2DvdQDB&zwnj;&#8203;mlZ, Ric=sZwmXAdYKv, Category=AvrIfd, QuoteId=4342740204922826921}&gt; but was: java.util.Hashtable&lt;{CompanyName=8PKQ9va3nW8pRWb4SjPF2DvdQDB&zwnj;&#8203;mlZ, Ric=sZwmXAdYKv, Category=AvrIfd, QuoteId=4342740204922826921}&gt;"},{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":4,"creation_date":1364485240,"post_id":2313396,"comment_id":22270383,"body_markdown":"@Giodude Do you have `equals` and `hashCode` implemented in the class that you&#39;re storing in your Hashtable?","body":"@Giodude Do you have <code>equals</code> and <code>hashCode</code> implemented in the class that you&#39;re storing in your Hashtable?"},{"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"score":0,"creation_date":1364492108,"post_id":2313396,"comment_id":22274500,"body_markdown":"As you can see those are just strings and a long... I&#39;m testing Avro to serialize and de-serialize a map and that&#39;s the result. I think there&#39;s gotta be something fishy going on with the way the strings are serialized and de-serialized that makes the test fail but I can&#39;t seem to find the problem.","body":"As you can see those are just strings and a long... I&#39;m testing Avro to serialize and de-serialize a map and that&#39;s the result. I think there&#39;s gotta be something fishy going on with the way the strings are serialized and de-serialized that makes the test fail but I can&#39;t seem to find the problem."},{"owner":{"account_id":1691486,"reputation":14379,"user_id":1553725,"display_name":"bluecollarcoder"},"score":0,"creation_date":1415233687,"post_id":2313396,"comment_id":42119847,"body_markdown":"Didn&#39;t work for me even though I am comparing two HashSet&lt;Long&gt;. @MattFriedman answer actually works for my use case.","body":"Didn&#39;t work for me even though I am comparing two HashSet&lt;Long&gt;. @MattFriedman answer actually works for my use case."},{"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"score":0,"creation_date":1421235706,"post_id":2313396,"comment_id":44279849,"body_markdown":"I&#39;ve found that if assertEquals is failing for two map comparisons with complex nesting and custom types, but you&#39;re sure that they&#39;re equal, then you should double check that all your custom types are implementing equals. If you&#39;ve forgotten even one, then you&#39;ll just get the unhelpful message that you&#39;re map references are different.","body":"I&#39;ve found that if assertEquals is failing for two map comparisons with complex nesting and custom types, but you&#39;re sure that they&#39;re equal, then you should double check that all your custom types are implementing equals. If you&#39;ve forgotten even one, then you&#39;ll just get the unhelpful message that you&#39;re map references are different."},{"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"score":0,"creation_date":1442601930,"post_id":2313396,"comment_id":53164350,"body_markdown":"I&#39;m afraid that the tests will fail for those cases that has a HashSet from one side and a decorated hash set from the other side (for example, an immutable hash set). I would  recommend to use comparison using twice the containsAll method. A = B if A contains B and B contains A.","body":"I&#39;m afraid that the tests will fail for those cases that has a HashSet from one side and a decorated hash set from the other side (for example, an immutable hash set). I would  recommend to use comparison using twice the containsAll method. A = B if A contains B and B contains A."},{"owner":{"account_id":4535825,"reputation":1025,"user_id":9104070,"display_name":"Alonso del Arte"},"score":0,"creation_date":1688417085,"post_id":2313396,"comment_id":135068892,"body_markdown":"I came upon this question because I think assuming `HashSet&lt;E&gt;` is an unreasonable assumption. If the publicly stated return type is `Set&lt;E&gt;`, then the class under test should have the freedom to use any implementation of `Set&lt;E&gt;`.","body":"I came upon this question because I think assuming <code>HashSet&lt;E&gt;</code> is an unreasonable assumption. If the publicly stated return type is <code>Set&lt;E&gt;</code>, then the class under test should have the freedom to use any implementation of <code>Set&lt;E&gt;</code>."}],"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"comment_count":8,"down_vote_count":2,"up_vote_count":122,"is_accepted":true,"score":120,"last_activity_date":1550585585,"creation_date":1266865731,"answer_id":2313396,"question_id":2313229,"body_markdown":"You can assert that the two `Set`s are equal to one another, which invokes the `Set` [`equals()` method][1].\r\n\r\n    public class SimpleTest {\r\n\r\n        private Set&lt;String&gt; setA;\r\n        private Set&lt;String&gt; setB;\r\n\r\n        @Before\r\n        public void setUp() {\r\n            setA = new HashSet&lt;String&gt;();\r\n            setA.add(&quot;Testing...&quot;);\r\n            setB = new HashSet&lt;String&gt;();\r\n            setB.add(&quot;Testing...&quot;);\r\n        }\r\n\r\n        @Test\r\n        public void testEqualSets() {\r\n            assertEquals( setA, setB );\r\n        }\r\n    }\r\n\r\nThis `@Test` will pass if the two `Set`s are the same size and contain the same elements.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html#equals%28java.lang.Object%29","title":"JUnit 4 compare Sets","body":"<p>You can assert that the two <code>Set</code>s are equal to one another, which invokes the <code>Set</code> <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html#equals%28java.lang.Object%29\" rel=\"noreferrer\"><code>equals()</code> method</a>.</p>\n\n<pre><code>public class SimpleTest {\n\n    private Set&lt;String&gt; setA;\n    private Set&lt;String&gt; setB;\n\n    @Before\n    public void setUp() {\n        setA = new HashSet&lt;String&gt;();\n        setA.add(\"Testing...\");\n        setB = new HashSet&lt;String&gt;();\n        setB.add(\"Testing...\");\n    }\n\n    @Test\n    public void testEqualSets() {\n        assertEquals( setA, setB );\n    }\n}\n</code></pre>\n\n<p>This <code>@Test</code> will pass if the two <code>Set</code>s are the same size and contain the same elements.</p>\n"},{"comments":[{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":0,"creation_date":1495640814,"post_id":3603678,"comment_id":75342753,"body_markdown":"Actually, there are several solutions for that presented in the other answers. Sets are a bit unfortunate for this, anyway, since they ignore the order. Perhaps ArrayList?","body":"Actually, there are several solutions for that presented in the other answers. Sets are a bit unfortunate for this, anyway, since they ignore the order. Perhaps ArrayList?"}],"tags":[],"owner":{"display_name":"user3458"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1283197487,"creation_date":1283197487,"answer_id":3603678,"question_id":2313229,"body_markdown":"A particularly interesting case is when you compare \r\n\r\n       java.util.Arrays$ArrayList&lt;[[name,value,type], [name1,value1,type1]]&gt; \r\n\r\nand\r\n\r\n       java.util.Collections$UnmodifiableCollection&lt;[[name,value,type], [name1,value1,type1]]&gt;\r\n\r\nSo far, the only solution I see is to change both of them into sets\r\n\r\n\tassertEquals(new HashSet&lt;CustomAttribute&gt;(customAttributes), new HashSet&lt;CustomAttribute&gt;(result.getCustomAttributes()));\r\n\r\n\r\nOr I could compare them element by element.\r\n\r\n\r\n","title":"JUnit 4 compare Sets","body":"<p>A particularly interesting case is when you compare </p>\n\n<pre><code>   java.util.Arrays$ArrayList&lt;[[name,value,type], [name1,value1,type1]]&gt; \n</code></pre>\n\n<p>and</p>\n\n<pre><code>   java.util.Collections$UnmodifiableCollection&lt;[[name,value,type], [name1,value1,type1]]&gt;\n</code></pre>\n\n<p>So far, the only solution I see is to change both of them into sets</p>\n\n<pre><code>assertEquals(new HashSet&lt;CustomAttribute&gt;(customAttributes), new HashSet&lt;CustomAttribute&gt;(result.getCustomAttributes()));\n</code></pre>\n\n<p>Or I could compare them element by element.</p>\n"},{"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":21,"creation_date":1347905729,"post_id":8903335,"comment_id":16765791,"body_markdown":"This is actually trivial, the tricky part is to clearly indicate the difference to the caller","body":"This is actually trivial, the tricky part is to clearly indicate the difference to the caller"},{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":2,"creation_date":1489571208,"post_id":8903335,"comment_id":72724831,"body_markdown":"The accepted answer is a good answer for the original question (unit test specifically for two Sets) but this answer with CollectionUtils is I think a better answer for the most general case. I wasn&#39;t able to compare a Collection and a Set unless using CollectionUtils.","body":"The accepted answer is a good answer for the original question (unit test specifically for two Sets) but this answer with CollectionUtils is I think a better answer for the most general case. I wasn&#39;t able to compare a Collection and a Set unless using CollectionUtils."}],"tags":[],"owner":{"account_id":1179943,"reputation":1535,"user_id":1155079,"accept_rate":27,"display_name":"Matt Friedman"},"comment_count":2,"down_vote_count":2,"up_vote_count":51,"is_accepted":false,"score":49,"last_activity_date":1428569926,"creation_date":1326844294,"answer_id":8903335,"question_id":2313229,"body_markdown":"Apache commons to the rescue again.\r\n\r\n    assertTrue(CollectionUtils.isEqualCollection(coll1, coll2));\r\n\r\nWorks like a charm. I don&#39;t know why but I found that with collections the following &lt;code&gt;assertEquals(coll1, coll2)&lt;/code&gt; doesn&#39;t always work. In the case where it failed for me I had two collections backed by Sets. Neither hamcrest nor junit would say the collections were equal even though I knew for sure that they were. Using CollectionUtils it works perfectly.","title":"JUnit 4 compare Sets","body":"<p>Apache commons to the rescue again.</p>\n\n<pre><code>assertTrue(CollectionUtils.isEqualCollection(coll1, coll2));\n</code></pre>\n\n<p>Works like a charm. I don't know why but I found that with collections the following <code>assertEquals(coll1, coll2)</code> doesn't always work. In the case where it failed for me I had two collections backed by Sets. Neither hamcrest nor junit would say the collections were equal even though I knew for sure that they were. Using CollectionUtils it works perfectly.</p>\n"},{"tags":[],"owner":{"account_id":142682,"reputation":17408,"user_id":350542,"accept_rate":43,"display_name":"jayunit100"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1332175731,"creation_date":1332175731,"answer_id":9774276,"question_id":2313229,"body_markdown":"As an additional method that is array based ... you can consider using unordered array assertions in junitx .  Although the Apache CollectionUtils example will work, there is a pacakge of solid assertion extensions there as well :  \r\n\r\nI think that the \r\n\r\n    ArrayAssert.assertEquivalenceArrays(new Integer[]{1,2,3}, new Integer[]{1,3,2});\r\n\r\napproach will be much more readable and debuggable for you (all Collections support toArray(), so it should be easy enough to use the ArrayAssert methods. \r\n\r\nOf course the downside here is that, junitx is an additional jar file or maven entry...     \t\r\n\r\n     &lt;dependency org=&quot;junit-addons&quot; name=&quot;junit-addons&quot; rev=&quot;1.4&quot;/&gt;\r\n\r\n","title":"JUnit 4 compare Sets","body":"<p>As an additional method that is array based ... you can consider using unordered array assertions in junitx .  Although the Apache CollectionUtils example will work, there is a pacakge of solid assertion extensions there as well :  </p>\n\n<p>I think that the </p>\n\n<pre><code>ArrayAssert.assertEquivalenceArrays(new Integer[]{1,2,3}, new Integer[]{1,3,2});\n</code></pre>\n\n<p>approach will be much more readable and debuggable for you (all Collections support toArray(), so it should be easy enough to use the ArrayAssert methods. </p>\n\n<p>Of course the downside here is that, junitx is an additional jar file or maven entry...         </p>\n\n<pre><code> &lt;dependency org=\"junit-addons\" name=\"junit-addons\" rev=\"1.4\"/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6897449,"reputation":148,"user_id":5298863,"display_name":"Laurens Op &#39;t Zandt"},"score":0,"creation_date":1490355388,"post_id":11983487,"comment_id":73086650,"body_markdown":"This makes the result of your unit test depend on the implementation of toString from list. If they decide to change the formatting the unit test wont work anymore. I would not consider this safe.","body":"This makes the result of your unit test depend on the implementation of toString from list. If they decide to change the formatting the unit test wont work anymore. I would not consider this safe."},{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":0,"creation_date":1490469227,"post_id":11983487,"comment_id":73129287,"body_markdown":"@LaurensOp&#39;tZandt You mean Oracle changing the format of Collection.toList()? That&#39;s certainly not going to happen. You are, however, right that&#39;s not particularily clean. But in practice, my impression that it&#39;s most important that it is very easy to write tests.","body":"@LaurensOp&#39;tZandt You mean Oracle changing the format of Collection.toList()? That&#39;s certainly not going to happen. You are, however, right that&#39;s not particularily clean. But in practice, my impression that it&#39;s most important that it is very easy to write tests."},{"owner":{"account_id":6897449,"reputation":148,"user_id":5298863,"display_name":"Laurens Op &#39;t Zandt"},"score":0,"creation_date":1490558220,"post_id":11983487,"comment_id":73152973,"body_markdown":"I agree, I think the toString method won&#39;t likely chance. So probably it will keep working. I just wanted to point out that its not a very  clean way. But indeed it is very easy. One problem that arises is when comparing sets. Since their order is not guaranteed.","body":"I agree, I think the toString method won&#39;t likely chance. So probably it will keep working. I just wanted to point out that its not a very  clean way. But indeed it is very easy. One problem that arises is when comparing sets. Since their order is not guaranteed."}],"tags":[],"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"comment_count":3,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1490425777,"creation_date":1345106553,"answer_id":11983487,"question_id":2313229,"body_markdown":"If you want to check whether a List or Set contains a set of specific values (instead of comparing it with an already existing collection), often the toString method of collections is handy: \r\n\r\n    String[] actualResult = calltestedmethod();\r\n    assertEquals(&quot;[foo, bar]&quot;, Arrays.asList(actualResult).toString());\r\n\r\n    List otherResult = callothertestedmethod();\r\n    assertEquals(&quot;[42, mice]&quot;, otherResult.toString());\r\n\r\nThis is a bit shorter than first constructing the expected collection and comparing it with the actual collection, and easier to write and correct. \r\n\r\n(Admittedly, this is not a particularily clean method, and can&#39;t distinguish an element &quot;foo, bar&quot; from two elements &quot;foo&quot; and &quot;bar&quot;. But in practice I think it&#39;s most important that it&#39;s easy and fast to write tests, otherwise many developers just won&#39;t without being pressed.)","title":"JUnit 4 compare Sets","body":"<p>If you want to check whether a List or Set contains a set of specific values (instead of comparing it with an already existing collection), often the toString method of collections is handy: </p>\n\n<pre><code>String[] actualResult = calltestedmethod();\nassertEquals(\"[foo, bar]\", Arrays.asList(actualResult).toString());\n\nList otherResult = callothertestedmethod();\nassertEquals(\"[42, mice]\", otherResult.toString());\n</code></pre>\n\n<p>This is a bit shorter than first constructing the expected collection and comparing it with the actual collection, and easier to write and correct. </p>\n\n<p>(Admittedly, this is not a particularily clean method, and can't distinguish an element \"foo, bar\" from two elements \"foo\" and \"bar\". But in practice I think it's most important that it's easy and fast to write tests, otherwise many developers just won't without being pressed.)</p>\n"},{"comments":[{"owner":{"account_id":1639112,"reputation":1539,"user_id":1511914,"accept_rate":73,"display_name":"fabien"},"score":2,"creation_date":1512929377,"post_id":44163238,"comment_id":82443813,"body_markdown":"What is the import for isIn? IntelliJ can&#39;t resolve the import with any hamcret package.","body":"What is the import for isIn? IntelliJ can&#39;t resolve the import with any hamcret package."}],"tags":[],"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1503299513,"creation_date":1495641252,"answer_id":44163238,"question_id":2313229,"body_markdown":"Using Hamcrest:\r\n\r\n    assertThat( set1, both(everyItem(isIn(set2))).and(containsInAnyOrder(set1)));\r\n\r\nThis works also when the sets have different datatypes, and reports on the difference instead of just failing.","title":"JUnit 4 compare Sets","body":"<p>Using Hamcrest:</p>\n\n<pre><code>assertThat( set1, both(everyItem(isIn(set2))).and(containsInAnyOrder(set1)));\n</code></pre>\n\n<p>This works also when the sets have different datatypes, and reports on the difference instead of just failing.</p>\n"},{"tags":[],"owner":{"account_id":3921864,"reputation":758,"user_id":3243751,"display_name":"FLUXparticle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515928214,"creation_date":1515928214,"answer_id":48248962,"question_id":2313229,"body_markdown":"I like the solution of Hans-Peter St&#246;rr... But I think it is not quite correct. Sadly `containsInAnyOrder` does not accept a `Collection` of objetcs to compare to. So it has to be a `Collection` of `Matcher`s:\r\n\r\n    assertThat(set1, containsInAnyOrder(set2.stream().map(IsEqual::equalTo).collect(toList())))\r\n\r\n\r\nThe import are:\r\n\r\n    import static java.util.stream.Collectors.toList;\r\n    import static org.hamcrest.Matchers.containsInAnyOrder;\r\n    import static org.junit.Assert.assertThat;\r\n","title":"JUnit 4 compare Sets","body":"<p>I like the solution of Hans-Peter Strr... But I think it is not quite correct. Sadly <code>containsInAnyOrder</code> does not accept a <code>Collection</code> of objetcs to compare to. So it has to be a <code>Collection</code> of <code>Matcher</code>s:</p>\n\n<pre><code>assertThat(set1, containsInAnyOrder(set2.stream().map(IsEqual::equalTo).collect(toList())))\n</code></pre>\n\n<p>The import are:</p>\n\n<pre><code>import static java.util.stream.Collectors.toList;\nimport static org.hamcrest.Matchers.containsInAnyOrder;\nimport static org.junit.Assert.assertThat;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12259286,"reputation":101,"user_id":8947492,"display_name":"Yusuf BESTAS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688393219,"creation_date":1688393219,"answer_id":76605546,"question_id":2313229,"body_markdown":"You can do it like that -&gt;   \r\n`assertThat(actualSet).containsExactlyInAnyOrder(expectedSet);`\r\n\r\n","title":"JUnit 4 compare Sets","body":"<p>You can do it like that -&gt;<br />\n<code>assertThat(actualSet).containsExactlyInAnyOrder(expectedSet);</code></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689097242,"post_id":76654654,"comment_id":135163914,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76654654/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1689188641,"post_id":76654654,"comment_id":135179738,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/34667877)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/34667877\">From Review</a>"}],"tags":[],"owner":{"account_id":26947872,"reputation":1,"user_id":20517578,"display_name":"MaRK MOrev"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688998694,"creation_date":1688998694,"answer_id":76654654,"question_id":2313229,"body_markdown":"containsInAnyOrder() - help me.","title":"JUnit 4 compare Sets","body":"<p>containsInAnyOrder() - help me.</p>\n"}],"owner":{"account_id":49871,"reputation":4752,"user_id":148638,"accept_rate":93,"display_name":"Eqbal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126372,"favorite_count":0,"down_vote_count":0,"up_vote_count":119,"accepted_answer_id":2313396,"answer_count":11,"score":119,"last_activity_date":1688998694,"creation_date":1266864128,"question_id":2313229,"body_markdown":"How would you succinctly assert the equality of `Collection` elements, specifically a `Set` in JUnit 4?","title":"JUnit 4 compare Sets","body":"<p>How would you succinctly assert the equality of <code>Collection</code> elements, specifically a <code>Set</code> in JUnit 4?</p>\n"},{"tags":["java","path","java-7"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1386801855,"post_id":20531247,"comment_id":30699259,"body_markdown":"http://stackoverflow.com/questions/3571223/how-do-i-get-the-file-extension-of-a-file-in-java","body":"<a href=\"http://stackoverflow.com/questions/3571223/how-do-i-get-the-file-extension-of-a-file-in-java\" title=\"how do i get the file extension of a file in java\">stackoverflow.com/questions/3571223/&hellip;</a>"},{"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"score":1,"creation_date":1386809015,"post_id":20531247,"comment_id":30701692,"body_markdown":"@assylias, that question is for finding the extension from a `String`, not a `Path` (although it would work with `Path.toString()`, but I was hoping for a way that wouldn&#39;t require that).","body":"@assylias, that question is for finding the extension from a <code>String</code>, not a <code>Path</code> (although it would work with <code>Path.toString()</code>, but I was hoping for a way that wouldn&#39;t require that)."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1386835534,"post_id":20531247,"comment_id":30710381,"body_markdown":"The notion of file extension is os dependent so I don&#39;t think there is support for it in File or Path.","body":"The notion of file extension is os dependent so I don&#39;t think there is support for it in File or Path."},{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1575033876,"post_id":20531247,"comment_id":104443012,"body_markdown":"@assylias: Well, that sucks. The notion of file extension is well-defined and used many times in Windows/Linux/MacOs/Android. Even though they might be less important in Linux than in Windows, they are still very much used on desktop and server applications.","body":"@assylias: Well, that sucks. The notion of file extension is well-defined and used many times in Windows/Linux/MacOs/Android. Even though they might be less important in Linux than in Windows, they are still very much used on desktop and server applications."}],"answers":[{"tags":[],"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1386801547,"creation_date":1386801547,"answer_id":20531401,"question_id":20531247,"body_markdown":"There is no way to do this directly on the Path object itself.\r\n\r\nThere are two options I can see:\r\n\r\n1. Convert the Path to a File and call endsWith on the String returned by File.getName()\r\n2. Call toString on the Path and call endsWith on that String.","title":"How to check the extension of a Java 7 Path","body":"<p>There is no way to do this directly on the Path object itself.</p>\n\n<p>There are two options I can see:</p>\n\n<ol>\n<li>Convert the Path to a File and call endsWith on the String returned by File.getName()</li>\n<li>Call toString on the Path and call endsWith on that String.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":7990830,"reputation":187,"user_id":6028739,"display_name":"KHanusova"},"score":0,"creation_date":1605606372,"post_id":20533064,"comment_id":114695309,"body_markdown":"This is not good solution because of possible NullPointer. It is better to use some library (e.g. apache IO utils) or PathMatcher as mentioned above.","body":"This is not good solution because of possible NullPointer. It is better to use some library (e.g. apache IO utils) or PathMatcher as mentioned above."}],"tags":[],"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"comment_count":1,"down_vote_count":1,"up_vote_count":80,"is_accepted":false,"score":79,"last_activity_date":1441293248,"creation_date":1386810000,"answer_id":20533064,"question_id":20531247,"body_markdown":"The `Path` class does not have a notion of &quot;extension&quot;, probably because the file system itself does not have it. Which is why you need to check its `String` representation and see if it ends with the &lt;strike&gt;four&lt;/strike&gt; *five* character string `.java`. Note that you need a different comparison than simple `endsWith` if you want to cover mixed case, such as `&quot;.JAVA&quot;` and `&quot;.Java&quot;`:\r\n\r\n    path.toString().toLowerCase().endsWith(&quot;.java&quot;);\r\n\r\n","title":"How to check the extension of a Java 7 Path","body":"<p>The <code>Path</code> class does not have a notion of \"extension\", probably because the file system itself does not have it. Which is why you need to check its <code>String</code> representation and see if it ends with the <strike>four</strike> <em>five</em> character string <code>.java</code>. Note that you need a different comparison than simple <code>endsWith</code> if you want to cover mixed case, such as <code>\".JAVA\"</code> and <code>\".Java\"</code>:</p>\n\n<pre><code>path.toString().toLowerCase().endsWith(\".java\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":787655,"reputation":707,"user_id":861863,"accept_rate":82,"display_name":"Josh"},"score":15,"creation_date":1439905100,"post_id":25188854,"comment_id":52044393,"body_markdown":"I think this is missing an asterisk, the following works for me: `PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:*.java&quot;);`","body":"I think this is missing an asterisk, the following works for me: <code>PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:*.java&quot;);</code>"},{"owner":{"account_id":254415,"reputation":10285,"user_id":533800,"display_name":"LaGrandMere"},"score":28,"creation_date":1440674523,"post_id":25188854,"comment_id":52376414,"body_markdown":"And if you&#39;re looking through different directories, you need to use &quot;glob:**.java&quot;","body":"And if you&#39;re looking through different directories, you need to use &quot;glob:**.java&quot;"},{"owner":{"account_id":4239567,"reputation":734,"user_id":3469861,"display_name":"JackLeEmmerdeur"},"score":1,"creation_date":1504182657,"post_id":25188854,"comment_id":78922238,"body_markdown":"For me LaGrandMere&#39;s comment did the trick. If @Dave Jarvis could merge his advise into the elected answer, I guess that would help beginners in the NIO-API. Under Windoze: If I do want to use `glob:*.java`, then `filename` should not contain any parent-path. If I use a rel/abs path like `glob:c:/users/muchwow/*.java`, it works (note that \\\\\\\\ has to be used with backslashes). The pattern `glob:**.java` just searches for everything with *.java in it, regardless of the parent path.","body":"For me LaGrandMere&#39;s comment did the trick. If @Dave Jarvis could merge his advise into the elected answer, I guess that would help beginners in the NIO-API. Under Windoze: If I do want to use <code>glob:*.java</code>, then <code>filename</code> should not contain any parent-path. If I use a rel/abs path like <code>glob:c:&#47;users&#47;muchwow&#47;*.java</code>, it works (note that \\\\\\\\ has to be used with backslashes). The pattern <code>glob:**.java</code> just searches for everything with *.java in it, regardless of the parent path."},{"owner":{"account_id":30571,"reputation":1131,"user_id":2002071,"accept_rate":60,"display_name":"Max Spring"},"score":0,"creation_date":1623261483,"post_id":25188854,"comment_id":120031593,"body_markdown":"Throwing a PathMatcher onto this problem is quite an expensive hammer, compared to just checking whether the filename (string) ends with a suffix.","body":"Throwing a PathMatcher onto this problem is quite an expensive hammer, compared to just checking whether the filename (string) ends with a suffix."},{"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"score":0,"creation_date":1671130727,"post_id":25188854,"comment_id":132037855,"body_markdown":"https://stackoverflow.com/a/36954357/10663941","body":"<a href=\"https://stackoverflow.com/a/36954357/10663941\">stackoverflow.com/a/36954357/10663941</a>"}],"tags":[],"owner":{"account_id":2698527,"reputation":2274,"user_id":2622079,"accept_rate":57,"display_name":"fan"},"comment_count":5,"down_vote_count":0,"up_vote_count":98,"is_accepted":true,"score":98,"last_activity_date":1688998406,"creation_date":1407433371,"answer_id":25188854,"question_id":20531247,"body_markdown":"Java NIO&#39;s [PathMatcher][1] provides [FileSystem.getPathMatcher(String syntaxAndPattern)][2]:\r\n\r\n    PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:*.java&quot;);\r\n    \r\n    Path filename = ...;\r\n    if (matcher.matches(filename.getFileName())) {\r\n        System.out.println(filename);\r\n    }\r\n\r\n`.getFileName()` is required when your path contains more than one component.\r\n\r\nSee the [Finding Files][3] tutorial for details.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/PathMatcher.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystem.html#getPathMatcher-java.lang.String-\r\n  [3]: http://docs.oracle.com/javase/tutorial/essential/io/find.html","title":"How to check the extension of a Java 7 Path","body":"<p>Java NIO's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/PathMatcher.html\" rel=\"nofollow noreferrer\">PathMatcher</a> provides <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystem.html#getPathMatcher-java.lang.String-\" rel=\"nofollow noreferrer\">FileSystem.getPathMatcher(String syntaxAndPattern)</a>:</p>\n<pre><code>PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:*.java&quot;);\n\nPath filename = ...;\nif (matcher.matches(filename.getFileName())) {\n    System.out.println(filename);\n}\n</code></pre>\n<p><code>.getFileName()</code> is required when your path contains more than one component.</p>\n<p>See the <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/find.html\" rel=\"nofollow noreferrer\">Finding Files</a> tutorial for details.</p>\n"},{"tags":[],"owner":{"account_id":10387195,"reputation":982,"user_id":7659837,"display_name":"Pero122"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1554935812,"creation_date":1512660541,"answer_id":47698445,"question_id":20531247,"body_markdown":"Simple solution:\r\n\r\n    if( path.toString().endsWith(&quot;.java&quot;) ) //Do something\r\n\r\nYou have to be carefull, when using the Path.endsWith method. As you stated, the method will return **true** only if it matches with a subelement of your Path object. \r\nFor example:\r\n\r\n    Path p = Paths.get(&quot;C:/Users/Public/Mycode/HelloWorld.java&quot;);\r\n    System.out.println(p.endsWith(&quot;.java&quot;)); // false\r\n    System.out.println(p.endsWith(&quot;HelloWorld.java&quot;)); // true\r\n\r\n\r\n\r\n\r\n","title":"How to check the extension of a Java 7 Path","body":"<p>Simple solution:</p>\n\n<pre><code>if( path.toString().endsWith(\".java\") ) //Do something\n</code></pre>\n\n<p>You have to be carefull, when using the Path.endsWith method. As you stated, the method will return <strong>true</strong> only if it matches with a subelement of your Path object. \nFor example:</p>\n\n<pre><code>Path p = Paths.get(\"C:/Users/Public/Mycode/HelloWorld.java\");\nSystem.out.println(p.endsWith(\".java\")); // false\nSystem.out.println(p.endsWith(\"HelloWorld.java\")); // true\n</code></pre>\n"}],"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67572,"favorite_count":0,"down_vote_count":0,"up_vote_count":100,"accepted_answer_id":25188854,"answer_count":4,"score":100,"last_activity_date":1688998406,"creation_date":1386800865,"question_id":20531247,"body_markdown":"I&#39;d like to check if a [Path][1] (introduced in Java 7) ends with a  certain extension. I tried the `endsWith()` method like so:\r\n\r\n    Path path = Paths.get(&quot;foo/bar.java&quot;)\r\n    if (path.endsWith(&quot;.java&quot;)){\r\n        //Do stuff\r\n    }\r\n\r\nHowever, this doesn&#39;t seem to work because `path.endsWith(&quot;.java&quot;)` returns false. It seems the `endsWith()` method only returns true if there is a complete match for everything after the final directory separator (e.g. `bar.java`), which isn&#39;t practical for me.\r\n\r\nSo how can I check the file extension of a Path?\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html","title":"How to check the extension of a Java 7 Path","body":"<p>I'd like to check if a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\">Path</a> (introduced in Java 7) ends with a  certain extension. I tried the <code>endsWith()</code> method like so:</p>\n\n<pre><code>Path path = Paths.get(\"foo/bar.java\")\nif (path.endsWith(\".java\")){\n    //Do stuff\n}\n</code></pre>\n\n<p>However, this doesn't seem to work because <code>path.endsWith(\".java\")</code> returns false. It seems the <code>endsWith()</code> method only returns true if there is a complete match for everything after the final directory separator (e.g. <code>bar.java</code>), which isn't practical for me.</p>\n\n<p>So how can I check the file extension of a Path?</p>\n"},{"tags":["java","sql","jar","apache-flink","avro"],"owner":{"account_id":28786435,"reputation":1,"user_id":22046802,"display_name":"Hsgh775"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688998212,"creation_date":1688997796,"question_id":76654539,"body_markdown":"I have this code below in java that takes a specific schema &#39;schema.asvc&quot; and i try to decode the data from avro format to the schema&#39;s format. \r\n\r\n \r\n\r\n\r\n\r\n    package com.example;\r\n       \r\n       import org.apache.avro.Schema; import\r\n       org.apache.avro.generic.GenericData; import\r\n       org.apache.avro.generic.GenericDatumReader; import\r\n       org.apache.avro.io.Decoder; import org.apache.avro.io.DecoderFactory;\r\n       import org.apache.flink.table.functions.ScalarFunction;\r\n       \r\n       import java.io.IOException; import java.nio.file.Files; import\r\n       java.nio.file.Paths;\r\n       \r\n       public class AvroDecoderFunction extends ScalarFunction {\r\n           private Schema schema;\r\n       \r\n       \r\n           public AvroDecoderFunction(String schemaFilePath) throws IOException {\r\n               this.schema = new Schema.Parser().parse(new String(Files.readAllBytes(Paths.get(schemaFilePath))));\r\n           }\r\n       \r\n           public GenericData.Record decodePayload(byte[] payload) throws IOException {\r\n               Decoder decoder = DecoderFactory.get().binaryDecoder(payload, null);\r\n               GenericDatumReader&lt;GenericData.Record&gt; reader = new GenericDatumReader&lt;&gt;(this.schema);\r\n               return reader.read(null, decoder);\r\n           } }\r\n\r\nfirst I would like to know is this code reasonable to do such treatment ? Then after creating the jar file, how can I launch the flink sql client with this jar and how to use this function knowing that I would like to use it on a specific field &#39;payload&#39; ?\r\n\r\nPlease any help is appreciated.\r\n\r\n","title":"How to use a UDF on flink sql client after generating the jar file?","body":"<p>I have this code below in java that takes a specific schema 'schema.asvc&quot; and i try to decode the data from avro format to the schema's format.</p>\n<pre><code>package com.example;\n   \n   import org.apache.avro.Schema; import\n   org.apache.avro.generic.GenericData; import\n   org.apache.avro.generic.GenericDatumReader; import\n   org.apache.avro.io.Decoder; import org.apache.avro.io.DecoderFactory;\n   import org.apache.flink.table.functions.ScalarFunction;\n   \n   import java.io.IOException; import java.nio.file.Files; import\n   java.nio.file.Paths;\n   \n   public class AvroDecoderFunction extends ScalarFunction {\n       private Schema schema;\n   \n   \n       public AvroDecoderFunction(String schemaFilePath) throws IOException {\n           this.schema = new Schema.Parser().parse(new String(Files.readAllBytes(Paths.get(schemaFilePath))));\n       }\n   \n       public GenericData.Record decodePayload(byte[] payload) throws IOException {\n           Decoder decoder = DecoderFactory.get().binaryDecoder(payload, null);\n           GenericDatumReader&lt;GenericData.Record&gt; reader = new GenericDatumReader&lt;&gt;(this.schema);\n           return reader.read(null, decoder);\n       } }\n</code></pre>\n<p>first I would like to know is this code reasonable to do such treatment ? Then after creating the jar file, how can I launch the flink sql client with this jar and how to use this function knowing that I would like to use it on a specific field 'payload' ?</p>\n<p>Please any help is appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688999834,"post_id":76654557,"comment_id":135147363,"body_markdown":"Java does not have non-local returns (i.e. returning from one method inside another). You will have to signal the need to return in another way. For example, your extracted method could return the Response it does now, or `null` for the happy path. Then in each of your controllers, check for null and return based on that.","body":"Java does not have non-local returns (i.e. returning from one method inside another). You will have to signal the need to return in another way. For example, your extracted method could return the Response it does now, or <code>null</code> for the happy path. Then in each of your controllers, check for null and return based on that."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1688999914,"post_id":76654557,"comment_id":135147388,"body_markdown":"For a more &quot;frame challenge&quot; type answer, you shouldn&#39;t be doing this check inside your controllers in the first place. It should be in a filter, which then fixes the duplicate code as well. Simply apply the filter to all relevant endpoints before the controller is even called.","body":"For a more &quot;frame challenge&quot; type answer, you shouldn&#39;t be doing this check inside your controllers in the first place. It should be in a filter, which then fixes the duplicate code as well. Simply apply the filter to all relevant endpoints before the controller is even called."},{"owner":{"account_id":2114626,"reputation":135,"user_id":1879196,"accept_rate":100,"display_name":"lenny"},"score":1,"creation_date":1689000571,"post_id":76654557,"comment_id":135147538,"body_markdown":"@Jorn Ah of course, this is what I was looking for. Or maybe implementing a HandlerInterceptor on all controllers... thanks","body":"@Jorn Ah of course, this is what I was looking for. Or maybe implementing a HandlerInterceptor on all controllers... thanks"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1689002234,"post_id":76654557,"comment_id":135148017,"body_markdown":"@Jorn if you have the time to provide an example of implementing  such filter that would be great , I have a similar problem scenario but mine is that the user tries to fetch data that does not belong to him, so I would need to fetch the data first then check if the user id matches the id data related to","body":"@Jorn if you have the time to provide an example of implementing  such filter that would be great , I have a similar problem scenario but mine is that the user tries to fetch data that does not belong to him, so I would need to fetch the data first then check if the user id matches the id data related to"}],"owner":{"account_id":2114626,"reputation":135,"user_id":1879196,"accept_rate":100,"display_name":"lenny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688997941,"creation_date":1688997941,"question_id":76654557,"body_markdown":"I have multiple methods in multiple Java controllers that will check (before continuing) if the authenticated user ID (from the User Principle) matches the user ID sent in the HTTP request. If the 2 do not match, then the controller will return a ResponseEntity with status code UNAUTHORIZED. The problem is that these number of lines are duplicated throughout the Java Controllers. Is there any way to extract these into a class method that is shared by all of these controllers? Here is an example in one controller:\r\n\r\n    @PostMapping(&quot;results&quot;)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;?&gt; results(\r\n            Authentication authentication,\r\n            @RequestBody ResultsRequest request\r\n    ) {\r\n        try {\r\n            User user = (User) authentication.getPrincipal();\r\n            Long userId = request.getUserId();\r\n            if (isNull(user) || !user.getId().equals(userId)) {\r\n                return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(Map.of(\r\n                        SUCCESS, false,\r\n                        ERROR, ErrorCode.RETRIEVING_ANOTHER_USER_DATA_PROHIBITED.getMessage()\r\n                ));\r\n            }\r\n            // this is the happy path - continue with the request\r\n            return resultsService.getResults(userId);\r\n\r\n        } catch (Exception e) {\r\n            LOGGER.warn(ErrorCode.ERROR_GETTING_RESULTS.getMessage(), e);\r\n        }\r\n        return ResponseEntity.ok(List.of());\r\n    }\r\n\r\nThis is currently present in dozens of files. So the lines I would like to extract are\r\n\r\n    User user = (User) authentication.getPrincipal();\r\n    Long userId = request.getUserId();\r\n    if (isNull(user) || !user.getId().equals(userId)) {\r\n        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(Map.of(\r\n                SUCCESS, false,\r\n                ERROR, ErrorCode.RETRIEVING_ANOTHER_USER_DATA_PROHIBITED.getMessage()\r\n        ));\r\n    }\r\n\r\nBut because this is a **conditional return** (i.e. will not always return, or **should not return in normal circumstances**) I&#39;m not sure how to extract this to another class/method.\r\n\r\nAny help greatly appreciated.","title":"How to extract an early return into a method shared by multiple controllers?","body":"<p>I have multiple methods in multiple Java controllers that will check (before continuing) if the authenticated user ID (from the User Principle) matches the user ID sent in the HTTP request. If the 2 do not match, then the controller will return a ResponseEntity with status code UNAUTHORIZED. The problem is that these number of lines are duplicated throughout the Java Controllers. Is there any way to extract these into a class method that is shared by all of these controllers? Here is an example in one controller:</p>\n<pre><code>@PostMapping(&quot;results&quot;)\n@ResponseBody\npublic ResponseEntity&lt;?&gt; results(\n        Authentication authentication,\n        @RequestBody ResultsRequest request\n) {\n    try {\n        User user = (User) authentication.getPrincipal();\n        Long userId = request.getUserId();\n        if (isNull(user) || !user.getId().equals(userId)) {\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(Map.of(\n                    SUCCESS, false,\n                    ERROR, ErrorCode.RETRIEVING_ANOTHER_USER_DATA_PROHIBITED.getMessage()\n            ));\n        }\n        // this is the happy path - continue with the request\n        return resultsService.getResults(userId);\n\n    } catch (Exception e) {\n        LOGGER.warn(ErrorCode.ERROR_GETTING_RESULTS.getMessage(), e);\n    }\n    return ResponseEntity.ok(List.of());\n}\n</code></pre>\n<p>This is currently present in dozens of files. So the lines I would like to extract are</p>\n<pre><code>User user = (User) authentication.getPrincipal();\nLong userId = request.getUserId();\nif (isNull(user) || !user.getId().equals(userId)) {\n    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(Map.of(\n            SUCCESS, false,\n            ERROR, ErrorCode.RETRIEVING_ANOTHER_USER_DATA_PROHIBITED.getMessage()\n    ));\n}\n</code></pre>\n<p>But because this is a <strong>conditional return</strong> (i.e. will not always return, or <strong>should not return in normal circumstances</strong>) I'm not sure how to extract this to another class/method.</p>\n<p>Any help greatly appreciated.</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667056404,"post_id":74246259,"comment_id":131082674,"body_markdown":"If you found `spring.jpa`, I see also `properties` ...(Map&lt;String,String&gt;) (this gets passed to the &quot;jpa-provider&quot; as is)","body":"If you found <code>spring.jpa</code>, I see also <code>properties</code> ...(Map&lt;String,String&gt;) (this gets passed to the &quot;jpa-provider&quot; as is)"},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1667117668,"post_id":74246259,"comment_id":131091404,"body_markdown":"@xerx593 - so where else to look for all the props that the specific implementation is using.  Finding extensive list of props with all the possible values seems interesting and useful.","body":"@xerx593 - so where else to look for all the props that the specific implementation is using.  Finding extensive list of props with all the possible values seems interesting and useful."}],"answers":[{"comments":[{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1667239548,"post_id":74256716,"comment_id":131118706,"body_markdown":"this answers it pretty much. +1","body":"this answers it pretty much. +1"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688997671,"creation_date":1667163399,"answer_id":74256716,"question_id":74246259,"body_markdown":"Such behaviour is mentioned in the docs [Binding Maps][1] (about [Relaxed Binding](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding)) as follows :\r\n\r\n&gt; Binding a.b=c to Map&lt;String, String&gt; will preserve the . in the key\r\n&gt; and return a Map with the entry {&quot;a.b&quot;=&quot;c&quot;}\r\n\r\n\r\n`JpaProperties` is now defined as \r\n\r\n```java\r\n@ConfigurationProperties(prefix = &quot;spring.jpa&quot;)\r\npublic class JpaProperties {\r\n\r\n\t/**\r\n\t * Additional native properties to set on the JPA provider.\r\n\t */\r\n   \tprivate Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n\r\n   \t.....\r\n}\r\n```\r\n\r\nThe prefix is `spring.jpa` and this map field name is `properties`. So given the following properties : \r\n\r\n``` properties\r\nspring.jpa.properties.hibernate.cache.use_query_cache=true\r\nspring.jpa.properties.foo=bar\r\n```\r\nwill bind to this properties map with the following entries:\r\n\r\n```\r\nkey=hibernate.cache.use_query_cache, value=true\r\nkey=foo, value=bar\r\n```\r\n\r\nThis properties map will be directly feed into following [`JPA API`][2] to create the `EntityManagerFactory` :\r\n\r\n```java\r\nEntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;somePersistenceUnit&quot;, properties) \r\n```\r\n\r\nSo from the spring-boot &#39;s point of view , the values of this properties map is transparent to it. Spring boot will not care if the value in this properties map is valid or not as it just simply passes it to Hibernate to let it handle.\r\n\r\nSo if you want to know all the possible values for the properties , you have to check with hibernate source codes but not the spring-boot.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding.maps\r\n  [2]: https://javadoc.io/static/javax.persistence/javax.persistence-api/2.2/javax/persistence/Persistence.html#createEntityManagerFactory-java.lang.String-java.util.Map-\r\n","title":"Spring Boot / Spring Data Jpa: Where is the property &quot;spring.jpa.properties.hibernate.generate_statistics&quot; read in the java code?","body":"<p>Such behaviour is mentioned in the docs <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding.maps\" rel=\"nofollow noreferrer\">Binding Maps</a> (about <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding\" rel=\"nofollow noreferrer\">Relaxed Binding</a>) as follows :</p>\n<blockquote>\n<p>Binding a.b=c to Map&lt;String, String&gt; will preserve the . in the key\nand return a Map with the entry {&quot;a.b&quot;=&quot;c&quot;}</p>\n</blockquote>\n<p><code>JpaProperties</code> is now defined as</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = &quot;spring.jpa&quot;)\npublic class JpaProperties {\n\n    /**\n     * Additional native properties to set on the JPA provider.\n     */\n    private Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n\n    .....\n}\n</code></pre>\n<p>The prefix is <code>spring.jpa</code> and this map field name is <code>properties</code>. So given the following properties :</p>\n<pre><code>spring.jpa.properties.hibernate.cache.use_query_cache=true\nspring.jpa.properties.foo=bar\n</code></pre>\n<p>will bind to this properties map with the following entries:</p>\n<pre><code>key=hibernate.cache.use_query_cache, value=true\nkey=foo, value=bar\n</code></pre>\n<p>This properties map will be directly feed into following <a href=\"https://javadoc.io/static/javax.persistence/javax.persistence-api/2.2/javax/persistence/Persistence.html#createEntityManagerFactory-java.lang.String-java.util.Map-\" rel=\"nofollow noreferrer\"><code>JPA API</code></a> to create the <code>EntityManagerFactory</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;somePersistenceUnit&quot;, properties) \n</code></pre>\n<p>So from the spring-boot 's point of view , the values of this properties map is transparent to it. Spring boot will not care if the value in this properties map is valid or not as it just simply passes it to Hibernate to let it handle.</p>\n<p>So if you want to know all the possible values for the properties , you have to check with hibernate source codes but not the spring-boot.</p>\n"}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74256716,"answer_count":1,"score":1,"last_activity_date":1688997783,"creation_date":1667054774,"question_id":74246259,"body_markdown":"I have gone through the [Common Application Properties][1] reference page. This contains the list of commonly used spring props and the values of these properties can be defined in application.properties or application.yml.\r\n\r\nSo, just to explore and find out the **convention** regarding how and where the above props are declared (read) in java code, I started to search the code for `spring-data-jpa` related properties. \r\n\r\nNow, from this SOF answer: \r\n\r\n* [Spring Boot / Spring Data Jpa: Where is the property &quot;spring.datasource.driverClassName&quot; read in the java code?][2] \r\n\r\nI could see that `spring.datasource.driverClassName` property is located at `org.springframework.boot.autoconfigure.jdbc.DataSourceProperties` i.e at [source][3] \r\n\r\nSimilarly I want to locate the code for other properties like - `spring.jpa.properties.hibernate.cache.use_query_cache` props and `spring.jpa.properties.hibernate.generate_statistics`. I looked at `spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm` but could not find any.\r\n\r\nAny suggestions are highly appreciated.\r\n\r\n\r\nI am Just trying to understand spring boot a little deeper.\r\n \r\nNote: I could locate [`spring.jpa`][4] but not the above props.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\r\n  [2]: https://stackoverflow.com/a/74180858/4820101\r\n  [3]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceProperties.java#L72\r\n  [4]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/JpaProperties.java#L37","title":"Spring Boot / Spring Data Jpa: Where is the property &quot;spring.jpa.properties.hibernate.generate_statistics&quot; read in the java code?","body":"<p>I have gone through the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\" rel=\"nofollow noreferrer\">Common Application Properties</a> reference page. This contains the list of commonly used spring props and the values of these properties can be defined in application.properties or application.yml.</p>\n<p>So, just to explore and find out the <strong>convention</strong> regarding how and where the above props are declared (read) in java code, I started to search the code for <code>spring-data-jpa</code> related properties.</p>\n<p>Now, from this SOF answer:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/74180858/4820101\">Spring Boot / Spring Data Jpa: Where is the property &quot;spring.datasource.driverClassName&quot; read in the java code?</a></li>\n</ul>\n<p>I could see that <code>spring.datasource.driverClassName</code> property is located at <code>org.springframework.boot.autoconfigure.jdbc.DataSourceProperties</code> i.e at <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceProperties.java#L72\" rel=\"nofollow noreferrer\">source</a></p>\n<p>Similarly I want to locate the code for other properties like - <code>spring.jpa.properties.hibernate.cache.use_query_cache</code> props and <code>spring.jpa.properties.hibernate.generate_statistics</code>. I looked at <code>spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm</code> but could not find any.</p>\n<p>Any suggestions are highly appreciated.</p>\n<p>I am Just trying to understand spring boot a little deeper.</p>\n<p>Note: I could locate <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/JpaProperties.java#L37\" rel=\"nofollow noreferrer\"><code>spring.jpa</code></a> but not the above props.</p>\n"},{"tags":["java","jaxb","osgi"],"comments":[{"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"score":0,"creation_date":1323331005,"post_id":8427539,"comment_id":10413108,"body_markdown":"Look into keywird &#39;classpath scanner&#39;, but be aware that in OSGi environments bundles do come and go.","body":"Look into keywird &#39;classpath scanner&#39;, but be aware that in OSGi environments bundles do come and go."},{"owner":{"account_id":237365,"reputation":1500,"user_id":505482,"display_name":"Valchev"},"score":0,"creation_date":1323332247,"post_id":8427539,"comment_id":10413345,"body_markdown":"Thanks for the reply. What exactly do you mean by &#39;classpath scanner&#39; ? Do you mean Waving ?","body":"Thanks for the reply. What exactly do you mean by &#39;classpath scanner&#39; ? Do you mean Waving ?"}],"answers":[{"comments":[{"owner":{"account_id":208641,"reputation":4283,"user_id":459239,"accept_rate":95,"display_name":"Christof Aenderl"},"score":1,"creation_date":1340974392,"post_id":8429913,"comment_id":14804632,"body_markdown":"BundleWiring starts with OSGi version 4.3. What about older versions?","body":"BundleWiring starts with OSGi version 4.3. What about older versions?"},{"owner":{"account_id":201851,"reputation":9354,"user_id":448551,"display_name":"BJ Hargrave"},"score":0,"creation_date":1341149681,"post_id":8429913,"comment_id":14839020,"body_markdown":"For OSGi versions before 4.3, you will need to write a lot of code to do the Bundle-Classpath handling yourself.","body":"For OSGi versions before 4.3, you will need to write a lot of code to do the Bundle-Classpath handling yourself."}],"tags":[],"owner":{"account_id":201851,"reputation":9354,"user_id":448551,"display_name":"BJ Hargrave"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1688997465,"creation_date":1323342089,"answer_id":8429913,"question_id":8427539,"body_markdown":"Searching the bundle with `Bundle.findEntries` does not search the Bundle-Classpath. You need to use the new [`BundleWiring.listResources`][1] api.\r\n\r\n\r\n[1]: http://www.osgi.org/javadoc/r4v43/core/org/osgi/framework/wiring/BundleWiring.html#listResources%28java.lang.String,%20java.lang.String,%20int%29","title":"How to find annotated classes in OSGi bundle","body":"<p>Searching the bundle with <code>Bundle.findEntries</code> does not search the Bundle-Classpath. You need to use the new <a href=\"http://www.osgi.org/javadoc/r4v43/core/org/osgi/framework/wiring/BundleWiring.html#listResources%28java.lang.String,%20java.lang.String,%20int%29\" rel=\"nofollow noreferrer\"><code>BundleWiring.listResources</code></a> api.</p>\n"},{"tags":[],"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323352031,"creation_date":1323352031,"answer_id":8431940,"question_id":8427539,"body_markdown":"Have a look at http://sourceforge.net/projects/extcos/; while its focus is on component scanning, I think it may be able to cover your use case. Note that annotations are optional in JAXB - that is, a class can be used by JAXB without being annotated.","title":"How to find annotated classes in OSGi bundle","body":"<p>Have a look at <a href=\"http://sourceforge.net/projects/extcos/\" rel=\"nofollow\">http://sourceforge.net/projects/extcos/</a>; while its focus is on component scanning, I think it may be able to cover your use case. Note that annotations are optional in JAXB - that is, a class can be used by JAXB without being annotated.</p>\n"},{"tags":[],"owner":{"account_id":449171,"reputation":28526,"user_id":843804,"accept_rate":89,"display_name":"palacsint"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323638407,"creation_date":1323638407,"answer_id":8467557,"question_id":8427539,"body_markdown":"I would take a look at the [reflections project][0]. Its [collect pre scanned metadata][1] feature also could be useful.\r\n\r\n[0]: http://code.google.com/p/reflections/\r\n[1]: http://code.google.com/p/reflections/wiki/UseCases#collect_pre_scanned_metadata","title":"How to find annotated classes in OSGi bundle","body":"<p>I would take a look at the <a href=\"http://code.google.com/p/reflections/\" rel=\"nofollow\">reflections project</a>. Its <a href=\"http://code.google.com/p/reflections/wiki/UseCases#collect_pre_scanned_metadata\" rel=\"nofollow\">collect pre scanned metadata</a> feature also could be useful.</p>\n"}],"owner":{"account_id":237365,"reputation":1500,"user_id":505482,"display_name":"Valchev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2779,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":8429913,"answer_count":3,"score":10,"last_activity_date":1688997465,"creation_date":1323328826,"question_id":8427539,"body_markdown":"My applications has several bundles, which contain JAXB annotated classes and service bundle, which is responsible for `JAXBContext` creation. \r\n\r\nThe service bundle registers `BundleListener` and capture lifecycle events, but the problem is that I don&#39;t know how to retreive annotated classes from the `org.osgi.framework.Bundle` object. Adding entry with classes into `MANIFEST.MF` and `Bundle.loadClass(..)` will solve my problem, but finding classes by annotation seems more clear solution for me.\r\n\r\nDo you have any idea how I can find annotated classes ?\r\n\r\nI think I have to scan the `jar` file for `.class` resources with \r\n\r\n    Enumeration&lt;?&gt; classes = bundle.findEntries(&quot;/&quot;, &quot;*.class&quot;, true)\r\n\r\nand load them with `Bundle.loadClass(...)`. Do you think that there is going to any performance issues with this approach?","title":"How to find annotated classes in OSGi bundle","body":"<p>My applications has several bundles, which contain JAXB annotated classes and service bundle, which is responsible for <code>JAXBContext</code> creation. </p>\n\n<p>The service bundle registers <code>BundleListener</code> and capture lifecycle events, but the problem is that I don't know how to retreive annotated classes from the <code>org.osgi.framework.Bundle</code> object. Adding entry with classes into <code>MANIFEST.MF</code> and <code>Bundle.loadClass(..)</code> will solve my problem, but finding classes by annotation seems more clear solution for me.</p>\n\n<p>Do you have any idea how I can find annotated classes ?</p>\n\n<p>I think I have to scan the <code>jar</code> file for <code>.class</code> resources with </p>\n\n<pre><code>Enumeration&lt;?&gt; classes = bundle.findEntries(\"/\", \"*.class\", true)\n</code></pre>\n\n<p>and load them with <code>Bundle.loadClass(...)</code>. Do you think that there is going to any performance issues with this approach?</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1602654525,"post_id":64347218,"comment_id":113785292,"body_markdown":"Ok, so in that case, wondering why the API not just keep `queryForPage()` to make it easier.","body":"Ok, so in that case, wondering why the API not just keep <code>queryForPage()</code> to make it easier."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":1,"creation_date":1602654940,"post_id":64347218,"comment_id":113785429,"body_markdown":"the `QueryForPage` methods return  `AggregatePageImpl` objects which are deprecated. So we would have needed to add another `queryForSearchPage` method to return a `SearchPage`, increasing the number of methods in the API. Instead we choose to clean up the API in this part.","body":"the <code>QueryForPage</code> methods return  <code>AggregatePageImpl</code> objects which are deprecated. So we would have needed to add another <code>queryForSearchPage</code> method to return a <code>SearchPage</code>, increasing the number of methods in the API. Instead we choose to clean up the API in this part."},{"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1602658373,"post_id":64347218,"comment_id":113786575,"body_markdown":"With above code, seems `SearchPage` include all hits, so not suitable to use ...","body":"With above code, seems <code>SearchPage</code> include all hits, so not suitable to use ..."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1602659756,"post_id":64347218,"comment_id":113787095,"body_markdown":"do you have a `Pageable` set on the query?","body":"do you have a <code>Pageable</code> set on the query?"},{"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1602729265,"post_id":64347218,"comment_id":113814564,"body_markdown":"I did more test, the code from answer does create a page, doesn&#39;t include all hints. But in the result both `content` and `searchHits` contains the page of items, that&#39;s redundant. So, for now `queryForPage()` seems to be a better choice.","body":"I did more test, the code from answer does create a page, doesn&#39;t include all hints. But in the result both <code>content</code> and <code>searchHits</code> contains the page of items, that&#39;s redundant. So, for now <code>queryForPage()</code> seems to be a better choice."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1602733545,"post_id":64347218,"comment_id":113815240,"body_markdown":"what do you mean by hints? Do you mean hits? If the query is paged, only the requested number of hits is returned. The `SearchHits` has a collection of `SearchHit` objects and that is returned by the `SearchHIts.getSearchHits()` method that is available in `SearchPage`. That the same list of objects is returned by `getContent()` comes from the fact, that `getContent()` is a method that must be implemented by a `Page`(`Slice`) implementation.","body":"what do you mean by hints? Do you mean hits? If the query is paged, only the requested number of hits is returned. The <code>SearchHits</code> has a collection of <code>SearchHit</code> objects and that is returned by the <code>SearchHIts.getSearchHits()</code> method that is available in <code>SearchPage</code>. That the same list of objects is returned by <code>getContent()</code> comes from the fact, that <code>getContent()</code> is a method that must be implemented by a <code>Page</code>(<code>Slice</code>) implementation."},{"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1602734132,"post_id":64347218,"comment_id":113815366,"body_markdown":"Yes, I mean `hits`. My above comment means `SearchPage` has 2 copy of the page data. So, If I return `SearchPage` directly, it would be redundant. Thus seems need to create another page-like instance to contain only 1 copy of the data to return to frontend. And, that&#39;s exactly what `queryForPage()` did.","body":"Yes, I mean <code>hits</code>. My above comment means <code>SearchPage</code> has 2 copy of the page data. So, If I return <code>SearchPage</code> directly, it would be redundant. Thus seems need to create another page-like instance to contain only 1 copy of the data to return to frontend. And, that&#39;s exactly what <code>queryForPage()</code> did."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":3,"creation_date":1602736764,"post_id":64347218,"comment_id":113815924,"body_markdown":"Thanks for notifying that duplicate list; indeed there are two lists, but they are containing the same entity objects. But two different list objects - we will need to fix this. But even when the list objects are the same, `searchPage.getContent()` and `searchPage.getSearchHits().getSearchHIts()` will both be available. I think we should have a look at the implementation of SearchPage to fix this up.","body":"Thanks for notifying that duplicate list; indeed there are two lists, but they are containing the same entity objects. But two different list objects - we will need to fix this. But even when the list objects are the same, <code>searchPage.getContent()</code> and <code>searchPage.getSearchHits().getSearchHIts()</code> will both be available. I think we should have a look at the implementation of SearchPage to fix this up."},{"owner":{"account_id":3130552,"reputation":1267,"user_id":2648444,"display_name":"vhbazan"},"score":0,"creation_date":1603966705,"post_id":64347218,"comment_id":114205290,"body_markdown":"Hey, @P.J.Meisch, thanks for your solution it really helped me. Btw, I&#39;ve also raised a question here in regards to mock ElastisearchOperations, maybe you have a better idea about it? This is the question: \nhttps://stackoverflow.com/questions/64589066/how-to-mock-elasticsearchoperations-spring-data-elasticsearch-v-4-0-3-when-uni","body":"Hey, @P.J.Meisch, thanks for your solution it really helped me. Btw, I&#39;ve also raised a question here in regards to mock ElastisearchOperations, maybe you have a better idea about it? This is the question:  <a href=\"https://stackoverflow.com/questions/64589066/how-to-mock-elasticsearchoperations-spring-data-elasticsearch-v-4-0-3-when-uni\" title=\"how to mock elasticsearchoperations spring data elasticsearch v 4 0 3 when uni\">stackoverflow.com/questions/64589066/&hellip;</a>"},{"owner":{"account_id":9974748,"reputation":51,"user_id":7379755,"display_name":"Martin"},"score":1,"creation_date":1636704094,"post_id":64347218,"comment_id":123632254,"body_markdown":"You can unpack searchHits first, and then manually construct a new Page object\n\n`List&lt;xxx&gt; list = (List&lt;xxx&gt;) SearchHitSupport.unwrapSearchHits(searchHits);`\n\n`final Page&lt;xxx&gt; page = new PageImpl&lt;xxx&gt;(list, query.getPageable(), searchHits.getTotalHits());`\n\n`return page;`","body":"You can unpack searchHits first, and then manually construct a new Page object  <code>List&lt;xxx&gt; list = (List&lt;xxx&gt;) SearchHitSupport.unwrapSearchHits(searchHits);</code>  <code>final Page&lt;xxx&gt; page = new PageImpl&lt;xxx&gt;(list, query.getPageable(), searchHits.getTotalHits());</code>  <code>return page;</code>"}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":10,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1602653693,"creation_date":1602653693,"answer_id":64347218,"question_id":64346398,"body_markdown":"The `Query` parameter to be passed into the `search()` method can have a `Pageable` set for the request. To wrap the returned `SearchHits&lt;T&gt;` object in a `SearchPage&lt;T&gt;` you just can do\r\n\r\n```java\r\nSearchPage&lt;T&gt; searchPage = SearchHitSupport.searchPageFor(searchHits, query.getPageable());\r\n``` ","title":"In &quot;spring-data-elasticsearch&quot; 4.0.4.RELEASE, how to convert SearchHits to Page?","body":"<p>The <code>Query</code> parameter to be passed into the <code>search()</code> method can have a <code>Pageable</code> set for the request. To wrap the returned <code>SearchHits&lt;T&gt;</code> object in a <code>SearchPage&lt;T&gt;</code> you just can do</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchPage&lt;T&gt; searchPage = SearchHitSupport.searchPageFor(searchHits, query.getPageable());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5733229,"reputation":546,"user_id":4528146,"display_name":"Tasos Zervos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688997133,"creation_date":1688997133,"answer_id":76654439,"question_id":64346398,"body_markdown":"From:&lt;br/&gt;\r\n`SearchHits&lt;Parcel&gt; searchHits = operations.search(query, xxx.class);`\r\n\r\nYou then:\r\n```\r\nList&lt;xxx&gt; content = (List&lt;xxx&gt;) SearchHitSupport.unwrapSearchHits(searchHits);\r\nreturn new PageImpl&lt;&gt;(content, query.getPageable(), searchHits.getTotalHits());\r\n```","title":"In &quot;spring-data-elasticsearch&quot; 4.0.4.RELEASE, how to convert SearchHits to Page?","body":"<p>From:<br/>\n<code>SearchHits&lt;Parcel&gt; searchHits = operations.search(query, xxx.class);</code></p>\n<p>You then:</p>\n<pre><code>List&lt;xxx&gt; content = (List&lt;xxx&gt;) SearchHitSupport.unwrapSearchHits(searchHits);\nreturn new PageImpl&lt;&gt;(content, query.getPageable(), searchHits.getTotalHits());\n</code></pre>\n"}],"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2274,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1688997133,"creation_date":1602647962,"question_id":64346398,"body_markdown":"In `spring-data-elasticsearch` 4.0.4.RELEASE, `ElasticsearchRestTemplate`&#39;s `queryForPage()` methods are deprecated, need to use `search()` instead, which return `SearchHits` instead of `Page`.\r\n\r\nSo, how to convert `SearchHits` to `Page`, or how to still get results as `Page`?\r\n\r\nI have searched via google, and checked official doc, and checked source code, still don&#39;t know the best way, any help?\r\n","title":"In &quot;spring-data-elasticsearch&quot; 4.0.4.RELEASE, how to convert SearchHits to Page?","body":"<p>In <code>spring-data-elasticsearch</code> 4.0.4.RELEASE, <code>ElasticsearchRestTemplate</code>'s <code>queryForPage()</code> methods are deprecated, need to use <code>search()</code> instead, which return <code>SearchHits</code> instead of <code>Page</code>.</p>\n<p>So, how to convert <code>SearchHits</code> to <code>Page</code>, or how to still get results as <code>Page</code>?</p>\n<p>I have searched via google, and checked official doc, and checked source code, still don't know the best way, any help?</p>\n"},{"tags":["java","twilio","sendgrid"],"answers":[{"comments":[{"owner":{"account_id":14855954,"reputation":372,"user_id":10850444,"display_name":"Uros Pocek"},"score":0,"creation_date":1693475862,"post_id":75008477,"comment_id":135767258,"body_markdown":"Twilio SendGrid Support url - https://support.sendgrid.com/hc/en-us/requests/new","body":"Twilio SendGrid Support url - <a href=\"https://support.sendgrid.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">support.sendgrid.com/hc/en-us/requests/new</a>"}],"tags":[],"owner":{"account_id":12349865,"reputation":338,"user_id":9009028,"display_name":"Vico"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1672850028,"creation_date":1672850028,"answer_id":75008477,"question_id":74842638,"body_markdown":"I got the same problem, seems like SendGrid have problem with people using the service for fraudulent use so you need to get verified first. On the top of the page, you probably have a message saying that you need to get verified. You will need to fill a form, then they will contact you via email to gather some more information and accept or deny your access to the service.","title":"Twilio SendGrid emails stuck in processing","body":"<p>I got the same problem, seems like SendGrid have problem with people using the service for fraudulent use so you need to get verified first. On the top of the page, you probably have a message saying that you need to get verified. You will need to fill a form, then they will contact you via email to gather some more information and accept or deny your access to the service.</p>\n"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4864,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1688997120,"creation_date":1671378233,"question_id":74842638,"body_markdown":"I&#39;m trying to integrate Twilio email verification in my application. Here&#39;s the code:\r\n\r\n```java\r\n public EmailVerificationDto sendVerificationEmail(String recipient) {\r\n        Verification verification = Verification.creator(\r\n                        PATH_SERVICE_SID,\r\n                        recipient,\r\n                        &quot;email&quot;)\r\n                .setChannelConfiguration(\r\n                        new HashMap&lt;&gt;() {{\r\n                            put(&quot;template_id&quot;, TEMPLATE_ID);\r\n                            put(&quot;from&quot;, SENDER_EMAIL);\r\n                            put(&quot;from_name&quot;, &quot;Puggle&quot;);\r\n                        }})\r\n                .create();\r\n\r\n        return new EmailVerificationDto(\r\n                verification.getTo(),\r\n                verification.getSid(),\r\n                verification.getStatus(),\r\n                verification.getDateCreated().toLocalDate()\r\n        );\r\n    }\r\n```\r\n\r\nI can see the email on the dashboard but it&#39;s stuck on processing:\r\n\r\n[![stuck][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/al1H5.jpg\r\n  [2]: https://i.stack.imgur.com/yxcdv.jpg","title":"Twilio SendGrid emails stuck in processing","body":"<p>I'm trying to integrate Twilio email verification in my application. Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public EmailVerificationDto sendVerificationEmail(String recipient) {\n        Verification verification = Verification.creator(\n                        PATH_SERVICE_SID,\n                        recipient,\n                        &quot;email&quot;)\n                .setChannelConfiguration(\n                        new HashMap&lt;&gt;() {{\n                            put(&quot;template_id&quot;, TEMPLATE_ID);\n                            put(&quot;from&quot;, SENDER_EMAIL);\n                            put(&quot;from_name&quot;, &quot;Puggle&quot;);\n                        }})\n                .create();\n\n        return new EmailVerificationDto(\n                verification.getTo(),\n                verification.getSid(),\n                verification.getStatus(),\n                verification.getDateCreated().toLocalDate()\n        );\n    }\n</code></pre>\n<p>I can see the email on the dashboard but it's stuck on processing:</p>\n<p><a href=\"https://i.stack.imgur.com/al1H5.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/al1H5.jpg\" alt=\"stuck\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/yxcdv.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yxcdv.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1688982928,"post_id":76652537,"comment_id":135143424,"body_markdown":"Hello, I suggest you to use this as a starting point. There are samples too : https://spring.io/projects/spring-session#overview","body":"Hello, I suggest you to use this as a starting point. There are samples too : <a href=\"https://spring.io/projects/spring-session#overview\" rel=\"nofollow noreferrer\">spring.io/projects/spring-session#overview</a>"}],"answers":[{"tags":[],"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688996769,"creation_date":1688996769,"answer_id":76654379,"question_id":76652537,"body_markdown":"This looks like a misunderstanding of Java EE `HttpSession`, so I suspect the code isn&#39;t doing what you intend. \r\n\r\nYou&#39;re using the `HttpSession` between calls and storing an object on it, which makes it available on subsequent calls from the same client. But your URL pattern looks more like an API than a web application, and APIs are normally &quot;stateless&quot;, not using an `HttpSession` at all.\r\n\r\nIf this *is* an API and you *do* need to store state between these two calls, you&#39;ll need to make sure your API client stores and sends back the Session ID cookie. I would guess that this is the source of your problem, not connecting back to the original session, but starting a new one when you make the second call.\r\n\r\nWhich leads to the next issue. That is, you&#39;re storing on the `HttpSession` an object under the key of the Session ID itself, which is redundant. The Session ID is already the identifier into the JEE server&#39;s &quot;map&quot; of Sessions, so there&#39;s no reason you&#39;d need to use the Session ID as a key into the Session itself. Instead, you&#39;d use some descriptive string as the key to the object. \r\n\r\nFor instance, if your Session ID is `12345`, what you&#39;re currently doing is saying, &quot;I&#39;m session `12345`, get me an object with key `12345` from this session Map&quot;. \r\n\r\nInstead, you&#39;d use a key like:\r\n```java\r\nsession.setAttribute(&quot;originalPostString&quot;, value);\r\n```\r\n\r\nAnd later:\r\n```java\r\nString data = (String) session.getAttribute(&quot;originalPostString&quot;);\r\n```\r\n","title":"Session storage in Java","body":"<p>This looks like a misunderstanding of Java EE <code>HttpSession</code>, so I suspect the code isn't doing what you intend.</p>\n<p>You're using the <code>HttpSession</code> between calls and storing an object on it, which makes it available on subsequent calls from the same client. But your URL pattern looks more like an API than a web application, and APIs are normally &quot;stateless&quot;, not using an <code>HttpSession</code> at all.</p>\n<p>If this <em>is</em> an API and you <em>do</em> need to store state between these two calls, you'll need to make sure your API client stores and sends back the Session ID cookie. I would guess that this is the source of your problem, not connecting back to the original session, but starting a new one when you make the second call.</p>\n<p>Which leads to the next issue. That is, you're storing on the <code>HttpSession</code> an object under the key of the Session ID itself, which is redundant. The Session ID is already the identifier into the JEE server's &quot;map&quot; of Sessions, so there's no reason you'd need to use the Session ID as a key into the Session itself. Instead, you'd use some descriptive string as the key to the object.</p>\n<p>For instance, if your Session ID is <code>12345</code>, what you're currently doing is saying, &quot;I'm session <code>12345</code>, get me an object with key <code>12345</code> from this session Map&quot;.</p>\n<p>Instead, you'd use a key like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>session.setAttribute(&quot;originalPostString&quot;, value);\n</code></pre>\n<p>And later:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String data = (String) session.getAttribute(&quot;originalPostString&quot;);\n</code></pre>\n"}],"owner":{"account_id":27572654,"reputation":1,"user_id":21043535,"display_name":"Bhanu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1688996812,"creation_date":1688982203,"question_id":76652537,"body_markdown":"The value is correctly stored in the session attribute, but am encountering an issue when retrieving the session data.\r\n\r\n```java\r\n    @PostMapping(&quot;/setSessionValue&quot;)\r\n    public String setSessionValue(HttpServletRequest request, @RequestBody String value) {\r\n        HttpSession session = request.getSession();\r\n        String sessionId = session.getId();\r\n        session.setAttribute(sessionId, value);\r\n        System.out.println(&quot;value: &quot; + value);\r\n        System.out.println(&quot;session attribute: &quot; + session.getAttribute(sessionId));\r\n        return sessionId;\r\n    }\r\n\r\n    @GetMapping(&quot;/getSessionValue/{sessionId}&quot;)\r\n    public String getSessionValue(@PathVariable String sessionId, HttpServletRequest request) {\r\n        HttpSession session = request.getSession();\r\n        String data = (String) session.getAttribute(sessionId);\r\n        System.out.println(&quot;data: &quot; + data);\r\n        return &quot;Value set in session: &quot; + sessionId + &quot;:&quot; + data;\r\n    }\r\n```\r\n\r\n\r\n\r\nwhen retrieving the session data am getting null","title":"Session storage in Java","body":"<p>The value is correctly stored in the session attribute, but am encountering an issue when retrieving the session data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(&quot;/setSessionValue&quot;)\n    public String setSessionValue(HttpServletRequest request, @RequestBody String value) {\n        HttpSession session = request.getSession();\n        String sessionId = session.getId();\n        session.setAttribute(sessionId, value);\n        System.out.println(&quot;value: &quot; + value);\n        System.out.println(&quot;session attribute: &quot; + session.getAttribute(sessionId));\n        return sessionId;\n    }\n\n    @GetMapping(&quot;/getSessionValue/{sessionId}&quot;)\n    public String getSessionValue(@PathVariable String sessionId, HttpServletRequest request) {\n        HttpSession session = request.getSession();\n        String data = (String) session.getAttribute(sessionId);\n        System.out.println(&quot;data: &quot; + data);\n        return &quot;Value set in session: &quot; + sessionId + &quot;:&quot; + data;\n    }\n</code></pre>\n<p>when retrieving the session data am getting null</p>\n"},{"tags":["java","arrays","merge","duplicates"],"comments":[{"owner":{"display_name":"user5156016"},"score":0,"creation_date":1486241598,"post_id":42045283,"comment_id":71264063,"body_markdown":"remove them before merging.","body":"remove them before merging."},{"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"score":0,"creation_date":1486269572,"post_id":42045283,"comment_id":71269860,"body_markdown":"I don&#39;t know what the context of the problem is, or how critical the memory usage/speed of your program is, but you should start using collections. You could do all this in one or two lines.","body":"I don&#39;t know what the context of the problem is, or how critical the memory usage/speed of your program is, but you should start using collections. You could do all this in one or two lines."},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1688994834,"post_id":42045283,"comment_id":135146075,"body_markdown":"Collections will wrap everything to an Integer, and if you are use a HashSet, it will create a zillion internal objects. If your arrays are of any significant size, or you are using this a lot, you should use the standard algorithm for doing this, which I have given below.","body":"Collections will wrap everything to an Integer, and if you are use a HashSet, it will create a zillion internal objects. If your arrays are of any significant size, or you are using this a lot, you should use the standard algorithm for doing this, which I have given below."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1688995349,"post_id":42045283,"comment_id":135146205,"body_markdown":"@rghome note this is quite an old question. The [tradeoff](https://en.wikipedia.org/wiki/Space%E2%80%93time_tradeoff) in memory consumption (in a `Set&lt;Integer&gt;`, likely on the order of MB out of GB for sets sized in the millions) is that you save costs in cpu-consumption (~O(1) checks vs ~O(n)).  A `HashSet` is a non-starter for this question outside of performing dupe checks: The OP has sorted data, and `HashSet` is inherently unordered.","body":"@rghome note this is quite an old question. The <a href=\"https://en.wikipedia.org/wiki/Space%E2%80%93time_tradeoff\" rel=\"nofollow noreferrer\">tradeoff</a> in memory consumption (in a <code>Set&lt;Integer&gt;</code>, likely on the order of MB out of GB for sets sized in the millions) is that you save costs in cpu-consumption (~O(1) checks vs ~O(n)).  A <code>HashSet</code> is a non-starter for this question outside of performing dupe checks: The OP has sorted data, and <code>HashSet</code> is inherently unordered."},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1688996631,"post_id":42045283,"comment_id":135146543,"body_markdown":"@Rouge It&#39;s not so much the memory space, but the expense of allocating it; i.e., all those Integers and other objects (depending on what classes you use), then the fact that they have to be garbage collected. There is no space-time trade-off. Using Collections will be slower _and_ use more memory. The trade-off is whether it is worth the programmer&#39;s time finding the best solution (hence the usefulness of this site!).","body":"@Rouge It&#39;s not so much the memory space, but the expense of allocating it; i.e., all those Integers and other objects (depending on what classes you use), then the fact that they have to be garbage collected. There is no space-time trade-off. Using Collections will be slower <i>and</i> use more memory. The trade-off is whether it is worth the programmer&#39;s time finding the best solution (hence the usefulness of this site!)."}],"answers":[{"tags":[],"owner":{"account_id":2486844,"reputation":1057,"user_id":2165125,"display_name":"Zenith"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1620316467,"creation_date":1486241315,"answer_id":42045436,"question_id":42045283,"body_markdown":"Call your `merge` method and do the followings. I tested it. It works fine.\r\n```java    \r\nint[] result = merge(count, count1);\r\n\r\nSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\ntry {\r\n    for (int i = 0; i &lt; result.length; i++) {\r\n        set.add(result[i]);\r\n    }\r\n    System.out.println(set);\r\n} catch (Exception e) { }\r\n```\r\n","title":"Merge two arrays and remove duplicates in Java","body":"<p>Call your <code>merge</code> method and do the followings. I tested it. It works fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] result = merge(count, count1);\n\nSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\ntry {\n    for (int i = 0; i &lt; result.length; i++) {\n        set.add(result[i]);\n    }\n    System.out.println(set);\n} catch (Exception e) { }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"score":1,"creation_date":1486272330,"post_id":42046804,"comment_id":71270318,"body_markdown":"this answer does not take into account the fact that user is merging two sorted arrays and wants to maintain the sort.","body":"this answer does not take into account the fact that user is merging two sorted arrays and wants to maintain the sort."}],"tags":[],"owner":{"account_id":198938,"reputation":1576,"user_id":443908,"accept_rate":82,"display_name":"badperson"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1486250501,"creation_date":1486250501,"answer_id":42046804,"question_id":42045283,"body_markdown":"Ok, someone hated all the answers. Here&#39;s another attempt that combines two stackoverflow q&#39;s, [combining arrays][1] and [removing dupes.][2] \r\n\r\nThis one runs a good deal faster than my earlier attempt on two lists of  a million ints. \r\n\r\n\tpublic int[] mergeArrays2(int[] arr1, int[] arr2){\r\n\t\tint[] merged = new int[arr1.length + arr2.length];\r\n\t\tSystem.arraycopy(arr1, 0, merged, 0, arr1.length);\r\n\t\tSystem.arraycopy(arr2, 0, merged, arr1.length, arr2.length);\r\n\t\t\r\n\t\tSet&lt;Integer&gt; nodupes = new HashSet&lt;Integer&gt;();\r\n\t\t\r\n\t\tfor(int i=0;i&lt;merged.length;i++){\r\n\t\t\tnodupes.add(merged[i]);\r\n\t\t}\r\n\t\t\r\n\t\tint[] nodupesarray = new int[nodupes.size()];\r\n\t\tint i = 0;\r\n\t\tIterator&lt;Integer&gt; it = nodupes.iterator();\r\n\t\twhile(it.hasNext()){\r\n\t\t\tnodupesarray[i] = it.next();\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\treturn nodupesarray;\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4697255/combine-two-integer-arrays\r\n  [2]: https://stackoverflow.com/questions/17967114/how-to-efficiently-remove-duplicates-from-an-array-without-using-set\r\n\r\n\r\nconsole output:\r\n\r\n    INFO [main] (TestMergeArray.java:40) - creating two lists of a million ints\r\n    DEBUG [main] (TestMergeArray.java:41) - list 1 size : 1000000\r\n    DEBUG [main] (TestMergeArray.java:42) - list 2 size : 1000000\r\n    INFO [main] (TestMergeArray.java:56) - now merging\r\n    INFO [main] (TestMergeArray.java:59) - done, final list size is 864975","title":"Merge two arrays and remove duplicates in Java","body":"<p>Ok, someone hated all the answers. Here's another attempt that combines two stackoverflow q's, <a href=\"https://stackoverflow.com/questions/4697255/combine-two-integer-arrays\">combining arrays</a> and <a href=\"https://stackoverflow.com/questions/17967114/how-to-efficiently-remove-duplicates-from-an-array-without-using-set\">removing dupes.</a> </p>\n\n<p>This one runs a good deal faster than my earlier attempt on two lists of  a million ints. </p>\n\n<pre><code>public int[] mergeArrays2(int[] arr1, int[] arr2){\n    int[] merged = new int[arr1.length + arr2.length];\n    System.arraycopy(arr1, 0, merged, 0, arr1.length);\n    System.arraycopy(arr2, 0, merged, arr1.length, arr2.length);\n\n    Set&lt;Integer&gt; nodupes = new HashSet&lt;Integer&gt;();\n\n    for(int i=0;i&lt;merged.length;i++){\n        nodupes.add(merged[i]);\n    }\n\n    int[] nodupesarray = new int[nodupes.size()];\n    int i = 0;\n    Iterator&lt;Integer&gt; it = nodupes.iterator();\n    while(it.hasNext()){\n        nodupesarray[i] = it.next();\n        i++;\n    }\n\n\n\n    return nodupesarray;\n}\n</code></pre>\n\n<p>console output:</p>\n\n<pre><code>INFO [main] (TestMergeArray.java:40) - creating two lists of a million ints\nDEBUG [main] (TestMergeArray.java:41) - list 1 size : 1000000\nDEBUG [main] (TestMergeArray.java:42) - list 2 size : 1000000\nINFO [main] (TestMergeArray.java:56) - now merging\nINFO [main] (TestMergeArray.java:59) - done, final list size is 864975\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9319936,"reputation":103,"user_id":6918962,"display_name":"JoryAnderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486269712,"creation_date":1486269198,"answer_id":42048569,"question_id":42045283,"body_markdown":"Can you use ArrayLists? ArrayLists would make this very easy to do.\r\n\r\n     //Consider n1 to be some global or instance variable.\r\n\r\n     import java.util.ArrayList;\r\n     public void Add(ArrayList&lt;Integer&gt; n2) {\r\n    \r\n         for(int i = 0; i &lt; n2.size(); i++) {\r\n             if(!n1.contains(i))\r\n                 n1.add(n2.get(i));\r\n         }\r\n    }","title":"Merge two arrays and remove duplicates in Java","body":"<p>Can you use ArrayLists? ArrayLists would make this very easy to do.</p>\n\n<pre><code> //Consider n1 to be some global or instance variable.\n\n import java.util.ArrayList;\n public void Add(ArrayList&lt;Integer&gt; n2) {\n\n     for(int i = 0; i &lt; n2.size(); i++) {\n         if(!n1.contains(i))\n             n1.add(n2.get(i));\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11079861,"reputation":11,"user_id":8135344,"display_name":"satya prakash"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1620365272,"creation_date":1496990991,"answer_id":44451138,"question_id":42045283,"body_markdown":"```java\r\npackage com.string.merge;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MergeArrayAndRemoveDuplicate {\r\n    public static void main(String[] args) {\r\n        int[] a = {1, 2, 2, 3, 1, 5, 3};\r\n        int[] b = {4, 3, 1, 5, 7, 8, 4, 2};\r\n\r\n        ArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; (a.length &gt; b.length ? a.length : b.length); i++) {\r\n            if (i &lt; a.length) {\r\n                int c = 0;\r\n                while (c &lt;= l.size()) {\r\n                    if (l.contains(a[i]) == false) {\r\n                        l.add(a[i]);\r\n                    }\r\n                    c++;\r\n                }\r\n            }\r\n            if (i &lt; b.length) {\r\n                int c = 0;\r\n                while (c &lt;= l.size()) {\r\n                    if (l.contains(b[i]) == false) {\r\n                        l.add(b[i]);\r\n                    }\r\n                    c++;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(l);\r\n    }\r\n}\r\n```\r\n```\r\no/p-[1, 4, 2, 3, 5, 7, 8]\r\n```\r\n","title":"Merge two arrays and remove duplicates in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>package com.string.merge;\n\nimport java.util.ArrayList;\n\npublic class MergeArrayAndRemoveDuplicate {\n    public static void main(String[] args) {\n        int[] a = {1, 2, 2, 3, 1, 5, 3};\n        int[] b = {4, 3, 1, 5, 7, 8, 4, 2};\n\n        ArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; (a.length &gt; b.length ? a.length : b.length); i++) {\n            if (i &lt; a.length) {\n                int c = 0;\n                while (c &lt;= l.size()) {\n                    if (l.contains(a[i]) == false) {\n                        l.add(a[i]);\n                    }\n                    c++;\n                }\n            }\n            if (i &lt; b.length) {\n                int c = 0;\n                while (c &lt;= l.size()) {\n                    if (l.contains(b[i]) == false) {\n                        l.add(b[i]);\n                    }\n                    c++;\n                }\n            }\n        }\n        System.out.println(l);\n    }\n}\n</code></pre>\n<pre><code>o/p-[1, 4, 2, 3, 5, 7, 8]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620320082,"creation_date":1527672973,"answer_id":50601274,"question_id":42045283,"body_markdown":"```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\npublic class MergeListAndRemoveDuplicate {\r\n    public static void main(String[] args) {\r\n        int a[] = {1, 1, 2, 1, 3, 4, 1, 2, 5};\r\n        int b[] = {1, 2, 3, 1, 3, 2, 4, 5, 6, 7};\r\n\r\n        boolean flag = true;\r\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            for (int j = 0; j &lt; b.length; j++) {\r\n                if (a[i] == b[j]) {\r\n                    flag = false;\r\n                }\r\n                if (i == j &amp;&amp; !list.contains(b[j])) {\r\n                    list.add(b[j]);\r\n                }\r\n            }\r\n            if (flag == true) {\r\n                list.add(a[i]);\r\n            }\r\n        }\r\n        System.out.println(list);\r\n    }\r\n}\r\n```\r\n","title":"Merge two arrays and remove duplicates in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\npublic class MergeListAndRemoveDuplicate {\n    public static void main(String[] args) {\n        int a[] = {1, 1, 2, 1, 3, 4, 1, 2, 5};\n        int b[] = {1, 2, 3, 1, 3, 2, 4, 5, 6, 7};\n\n        boolean flag = true;\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\n        for (int i = 0; i &lt; a.length; i++) {\n            for (int j = 0; j &lt; b.length; j++) {\n                if (a[i] == b[j]) {\n                    flag = false;\n                }\n                if (i == j &amp;&amp; !list.contains(b[j])) {\n                    list.add(b[j]);\n                }\n            }\n            if (flag == true) {\n                list.add(a[i]);\n            }\n        }\n        System.out.println(list);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53192,"reputation":1082,"user_id":159022,"accept_rate":83,"display_name":"Rz Mk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620365192,"creation_date":1537816416,"answer_id":52485880,"question_id":42045283,"body_markdown":"Here&#39;s a technique that iterates the arrays just once and does not use a hash to detect duplicates.\r\n```java\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\npublic class SortedMerge {\r\n    public static int[] merge(int[] array1, int[] array2) {\r\n        int[] a;\r\n        int[] b;\r\n        List&lt;Integer&gt; c = new ArrayList&lt;Integer&gt;();\r\n        int i = 0;\r\n        int j = 0;\r\n\r\n        // b is longer than a\r\n        if (array1.length &gt; array2.length) {\r\n            a = array2;\r\n            b = array1;\r\n        } else {\r\n            a = array1;\r\n            b = array2;\r\n        }\r\n\r\n        while (j &lt; b.length) {\r\n            int bb = b[j];\r\n\r\n            if (i &lt; a.length) {\r\n                int aa = a[i];\r\n\r\n                if (aa &gt; bb) {\r\n                    c.add(bb);\r\n                    j++;\r\n                } else {\r\n                    c.add(aa);\r\n                    i++;\r\n                    if (aa == bb) {\r\n                        j++;\r\n                    }\r\n                }\r\n            } else {\r\n                c.add(bb);\r\n                j++;\r\n            }\r\n        }\r\n        // java 8 List&lt;Integer&gt; to int[]\r\n        return c.stream().mapToInt(Integer::intValue).toArray();\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        int[] array1 = new int[]{3, 5, 8, 11, 14};\r\n        int[] array2 = new int[]{1, 2, 3, 4, 6, 8, 14, 15, 17};\r\n        int[] c = merge(array1, array2);\r\n\r\n        for (int i = 0; i &lt; c.length; i++) {\r\n            System.out.format(&quot;%d,&quot;, c[i]);\r\n        }\r\n        System.out.println();\r\n        // output&gt; 1,2,3,4,5,6,8,11,14,15,17,\r\n    }\r\n}\r\n```\r\n","title":"Merge two arrays and remove duplicates in Java","body":"<p>Here's a technique that iterates the arrays just once and does not use a hash to detect duplicates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class SortedMerge {\n    public static int[] merge(int[] array1, int[] array2) {\n        int[] a;\n        int[] b;\n        List&lt;Integer&gt; c = new ArrayList&lt;Integer&gt;();\n        int i = 0;\n        int j = 0;\n\n        // b is longer than a\n        if (array1.length &gt; array2.length) {\n            a = array2;\n            b = array1;\n        } else {\n            a = array1;\n            b = array2;\n        }\n\n        while (j &lt; b.length) {\n            int bb = b[j];\n\n            if (i &lt; a.length) {\n                int aa = a[i];\n\n                if (aa &gt; bb) {\n                    c.add(bb);\n                    j++;\n                } else {\n                    c.add(aa);\n                    i++;\n                    if (aa == bb) {\n                        j++;\n                    }\n                }\n            } else {\n                c.add(bb);\n                j++;\n            }\n        }\n        // java 8 List&lt;Integer&gt; to int[]\n        return c.stream().mapToInt(Integer::intValue).toArray();\n    }\n\n    public static void main(String[] args) throws Exception {\n        int[] array1 = new int[]{3, 5, 8, 11, 14};\n        int[] array2 = new int[]{1, 2, 3, 4, 6, 8, 14, 15, 17};\n        int[] c = merge(array1, array2);\n\n        for (int i = 0; i &lt; c.length; i++) {\n            System.out.format(&quot;%d,&quot;, c[i]);\n        }\n        System.out.println();\n        // output&gt; 1,2,3,4,5,6,8,11,14,15,17,\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1533035,"reputation":1531,"user_id":1819810,"display_name":"Weekend"},"score":0,"creation_date":1678863653,"post_id":58804821,"comment_id":133613591,"body_markdown":"There is `IntStream.concat()` also, `int[] foo = IntStream.concat(intStream1, intStream2).distinct().toArray();`,  Maybe this could avoid (un)boxing?","body":"There is <code>IntStream.concat()</code> also, <code>int[] foo = IntStream.concat(intStream1, intStream2).distinct().toArray();</code>,  Maybe this could avoid (un)boxing?"}],"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573488397,"creation_date":1573488397,"answer_id":58804821,"question_id":42045283,"body_markdown":"_this clearer lambda solution is slightly slower  because of the (un)boxing_&lt;br /&gt;\r\nrequires Java 8 or above\r\n\r\n    public static int[] mergedistinct( int[] array1, int[] array2 ) {\r\n      Stream&lt;Integer&gt; s1 = IntStream.of( array1 ).boxed();\r\n      Stream&lt;Integer&gt; s2 = IntStream.of( array2 ).boxed();\r\n      return( Stream.concat( s1, s2 ).distinct().mapToInt( i -&gt; i ).toArray() );\r\n    }\r\n\r\n`[1, 2, 3, 5, 4, 7, 8]`&lt;br /&gt;\r\n\r\n_if you need the array sorted:_\r\n\r\n    \r\n    return( Stream.concat( s1, s2 ).distinct().sorted().mapToInt( i -&gt; i ).toArray() );","title":"Merge two arrays and remove duplicates in Java","body":"<p><em>this clearer lambda solution is slightly slower  because of the (un)boxing</em><br />\nrequires Java 8 or above</p>\n\n<pre><code>public static int[] mergedistinct( int[] array1, int[] array2 ) {\n  Stream&lt;Integer&gt; s1 = IntStream.of( array1 ).boxed();\n  Stream&lt;Integer&gt; s2 = IntStream.of( array2 ).boxed();\n  return( Stream.concat( s1, s2 ).distinct().mapToInt( i -&gt; i ).toArray() );\n}\n</code></pre>\n\n<p><code>[1, 2, 3, 5, 4, 7, 8]</code><br /></p>\n\n<p><em>if you need the array sorted:</em></p>\n\n<pre><code>\nreturn( Stream.concat( s1, s2 ).distinct().sorted().mapToInt( i -&gt; i ).toArray() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688996697,"creation_date":1688994575,"answer_id":76654087,"question_id":42045283,"body_markdown":"There is a known algorithm for this. You should not use Sets or Lists and they will chew up memory and run slow for no benefit.\r\n\r\nHere is a simple, standard and fairly optimal solution for merging sorted arrays. It assumes the incoming arrays are already sorted and contain unique integers.\r\n\r\n\tpublic static int[] mergeSortedArrays(int[] array1, int[] array2) {\r\n\t\tint[] result = new int[array1.length + array2.length];\r\n\t\tint i = 0, j = 0, k = 0;\r\n\t\twhile (i &lt; array1.length) {\r\n\t\t\twhile (j &lt; array2.length &amp;&amp; array2[j] &lt; array1[i]) {\r\n\t\t\t\tresult[k++] = array2[j++];\r\n\t\t\t}\r\n\t\t\tif (j &lt; array2.length &amp;&amp; array2[j] == array1[i]) {\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\tresult[k++] = array1[i++];\r\n\t\t}\r\n\t\twhile (j &lt; array2.length) {\r\n\t\t\tresult[k++] = array2[j++];\r\n\t\t}\r\n\r\n\t\tif (k != result.length) {\r\n\t\t\tresult = Arrays.copyOf(result, k);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n","title":"Merge two arrays and remove duplicates in Java","body":"<p>There is a known algorithm for this. You should not use Sets or Lists and they will chew up memory and run slow for no benefit.</p>\n<p>Here is a simple, standard and fairly optimal solution for merging sorted arrays. It assumes the incoming arrays are already sorted and contain unique integers.</p>\n<pre><code>public static int[] mergeSortedArrays(int[] array1, int[] array2) {\n    int[] result = new int[array1.length + array2.length];\n    int i = 0, j = 0, k = 0;\n    while (i &lt; array1.length) {\n        while (j &lt; array2.length &amp;&amp; array2[j] &lt; array1[i]) {\n            result[k++] = array2[j++];\n        }\n        if (j &lt; array2.length &amp;&amp; array2[j] == array1[i]) {\n            j++;\n        }\n        result[k++] = array1[i++];\n    }\n    while (j &lt; array2.length) {\n        result[k++] = array2[j++];\n    }\n\n    if (k != result.length) {\n        result = Arrays.copyOf(result, k);\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":5765885,"reputation":59,"user_id":4550864,"accept_rate":75,"display_name":"Compsciguy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22710,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":42046804,"answer_count":8,"score":3,"last_activity_date":1688996697,"creation_date":1486240295,"question_id":42045283,"body_markdown":"I am having trouble removing the duplicates from two arrays that have been merged into one. I have written the following code that merges the arrays, yet I&#39;m not sure how to remove the duplicates from the final array. Assume the arrays are already sorted.\r\n\r\n    public static int[] merge(int[] list1, int[] list2) {\r\n        int[] result = new int[list1.length + list2.length];\r\n\r\n        int i = 0;\r\n        int j = 0;\r\n\r\n        for (int k = 0; k &lt; (list1.length + list2.length); k++) {\r\n            if (i &gt;= list1.length) {\r\n                result[k] = list2[j];\r\n                j++;\r\n            } \r\n            else if (j &gt;= list2.length) {\r\n                result[k] = list1[i];\r\n                i++;\r\n            } \r\n            else {\r\n                if (list1[i] &lt; list2[j]) {\r\n                    result[k] = list1[i];\r\n                    i++;\r\n                } else {\r\n                    result[k] = list2[j];\r\n                    j++;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"Merge two arrays and remove duplicates in Java","body":"<p>I am having trouble removing the duplicates from two arrays that have been merged into one. I have written the following code that merges the arrays, yet I'm not sure how to remove the duplicates from the final array. Assume the arrays are already sorted.</p>\n\n<pre><code>public static int[] merge(int[] list1, int[] list2) {\n    int[] result = new int[list1.length + list2.length];\n\n    int i = 0;\n    int j = 0;\n\n    for (int k = 0; k &lt; (list1.length + list2.length); k++) {\n        if (i &gt;= list1.length) {\n            result[k] = list2[j];\n            j++;\n        } \n        else if (j &gt;= list2.length) {\n            result[k] = list1[i];\n            i++;\n        } \n        else {\n            if (list1[i] &lt; list2[j]) {\n                result[k] = list1[i];\n                i++;\n            } else {\n                result[k] = list2[j];\n                j++;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","html","validation","jsoup"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1423866157,"post_id":28509726,"comment_id":45338547,"body_markdown":"Is that class definition even valid? AdMarkupWhitelist looks like a constructor (no return type) but it&#39;s not named the same as the class name...","body":"Is that class definition even valid? AdMarkupWhitelist looks like a constructor (no return type) but it&#39;s not named the same as the class name..."},{"owner":{"account_id":180322,"reputation":7922,"user_id":413570,"accept_rate":73,"display_name":"rodrigoalvesvieira"},"score":0,"creation_date":1423866682,"post_id":28509726,"comment_id":45338775,"body_markdown":"sorry, now you know the real name of my class :p but that is not the problem","body":"sorry, now you know the real name of my class :p but that is not the problem"},{"owner":{"account_id":3453115,"reputation":1949,"user_id":2892277,"display_name":"Nikolay"},"score":1,"creation_date":1423866989,"post_id":28509726,"comment_id":45338890,"body_markdown":"unfortunately, seems there is no straightforward way to do this. Look at https://github.com/jhy/jsoup/blob/master/src/main/java/org/jsoup/safety/Cleaner.java#L60 which used by `Jsoup.isValid` internally. I think the only way is calculate a difference between dirty and cleaned document.","body":"unfortunately, seems there is no straightforward way to do this. Look at <a href=\"https://github.com/jhy/jsoup/blob/master/src/main/java/org/jsoup/safety/Cleaner.java#L60\" rel=\"nofollow noreferrer\">github.com/jhy/jsoup/blob/master/src/main/java/org/jsoup/saf&zwnj;&#8203;ety/&hellip;</a> which used by <code>Jsoup.isValid</code> internally. I think the only way is calculate a difference between dirty and cleaned document."},{"owner":{"account_id":1194736,"reputation":223,"user_id":1166694,"accept_rate":40,"display_name":"Thorsten"},"score":0,"creation_date":1460532118,"post_id":28509726,"comment_id":60780008,"body_markdown":"I asked a similar question a while ago and got an answer. [JSOUP - How to get list of disallowed tags found in html?](http://stackoverflow.com/questions/30817745/jsoup-how-to-get-list-of-disallowed-tags-found-in-html)","body":"I asked a similar question a while ago and got an answer. <a href=\"http://stackoverflow.com/questions/30817745/jsoup-how-to-get-list-of-disallowed-tags-found-in-html\">JSOUP - How to get list of disallowed tags found in html?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5107419,"reputation":46,"user_id":4095112,"display_name":"Victor Martinez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429879795,"creation_date":1429879795,"answer_id":29847979,"question_id":28509726,"body_markdown":"Well, I&#39;ve never used `isValid` cause HTML validation is something that depends on what you really want to see in the page. For example, let&#39;s say you requested a page and selected an element. This element being NULL means that the HTML is invalid for me.\r\n\r\nWhat I do is: let&#39;s say that I want a anchor like\r\n\r\n`a href=&quot;http://stackoverflow.com/questions/28509726/how-to-effectively-know-whats-wrong-with-input-via-jsoup`\r\n\r\nI use the Jsoup to select the element. If it comes `NULL` means that my page is invalid.\r\n\r\n\r\n    Elements anchors = Jsoup.parse(html).select(&quot;a[href*=stackoverflow.com/questions/]&quot;);\r\n    if (anchors.isEmpty()) {\r\n      // Invalid\r\n    }\r\n    // valid\r\n\r\n","title":"How to effectively know what&#39;s wrong with input via Jsoup?","body":"<p>Well, I've never used <code>isValid</code> cause HTML validation is something that depends on what you really want to see in the page. For example, let's say you requested a page and selected an element. This element being NULL means that the HTML is invalid for me.</p>\n\n<p>What I do is: let's say that I want a anchor like</p>\n\n<p><code>a href=\"http://stackoverflow.com/questions/28509726/how-to-effectively-know-whats-wrong-with-input-via-jsoup</code></p>\n\n<p>I use the Jsoup to select the element. If it comes <code>NULL</code> means that my page is invalid.</p>\n\n<pre><code>Elements anchors = Jsoup.parse(html).select(\"a[href*=stackoverflow.com/questions/]\");\nif (anchors.isEmpty()) {\n  // Invalid\n}\n// valid\n</code></pre>\n"}],"owner":{"account_id":180322,"reputation":7922,"user_id":413570,"accept_rate":73,"display_name":"rodrigoalvesvieira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688996629,"creation_date":1423866040,"question_id":28509726,"body_markdown":"I am trying to validate HTML code using Jsoup and the method `Jsoup.isValid` always returns false but I&#39;m in the dark here because it does not tell me where the error is.\r\n\r\nHere is my code:\r\n\r\n    class PageWhitelist extends Whitelist {\r\n\t    public PageWhitelist() {\r\n\t\t    addTags(&quot;html&quot;, &quot;head&quot;, &quot;meta&quot;, &quot;style&quot;, &quot;body&quot;, &quot;a&quot;, &quot;div&quot;);\r\n\t\t    addProtocols(&quot;a&quot;, &quot;href&quot;, &quot;http&quot;);\r\n\t    }\r\n    }\r\n\r\n    String markup = &quot;&lt;body&gt;&lt;head&gt;...&quot;;\r\n\r\n    PageWhitelist whitelist = new PageWhitelist();\r\n\tboolean valid = Jsoup.isValid(markup, whitelist);\r\n    assertTrue(valid);\r\n\r\n`valid` simply evaluates to false, the test fails and Jsoup does not give me any clue of what is causing the error whatsoever.\r\n\r\nHow can I know what is really going on?\r\n\r\n","title":"How to effectively know what&#39;s wrong with input via Jsoup?","body":"<p>I am trying to validate HTML code using Jsoup and the method <code>Jsoup.isValid</code> always returns false but I'm in the dark here because it does not tell me where the error is.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>class PageWhitelist extends Whitelist {\n    public PageWhitelist() {\n        addTags(\"html\", \"head\", \"meta\", \"style\", \"body\", \"a\", \"div\");\n        addProtocols(\"a\", \"href\", \"http\");\n    }\n}\n\nString markup = \"&lt;body&gt;&lt;head&gt;...\";\n\nPageWhitelist whitelist = new PageWhitelist();\nboolean valid = Jsoup.isValid(markup, whitelist);\nassertTrue(valid);\n</code></pre>\n\n<p><code>valid</code> simply evaluates to false, the test fails and Jsoup does not give me any clue of what is causing the error whatsoever.</p>\n\n<p>How can I know what is really going on?</p>\n"},{"tags":["java","kubernetes","apache-zookeeper","apache-drill"],"owner":{"account_id":335028,"reputation":1001,"user_id":661859,"accept_rate":75,"display_name":"Nitul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688996291,"creation_date":1683031334,"question_id":76154954,"body_markdown":"Setup:\r\n\r\n1. Java application can use specified JDBC driver to connect to drill via zookeeper.\r\nhttps://drill.apache.org/docs/using-the-jdbc-driver/\r\n\r\nE.g. jdbc:drill:zk=10.10.100.56:2181/drill/drillbits1;schema=hive\r\n\r\n2. Using this zookeeper provides a host name of the drill which is available and ready to serve the query.\r\n\r\n3. Java app will connect to this drill host and gets the connection to execute the query.\r\n\r\n\r\nIn case of Kubernetes drill pod is running and registered to zookeeper with some dynamic pod name. Something like apachedrill-cb97cfc7c-mfkhr.\r\n\r\nNow, zookeeper provides apache drill&#39;s hostname as above and java app is trying to connect to this pod, but this pod host name is resolved and it failed.\r\n\r\n\r\n    java.sql.SQLNonTransientConnectionException: Failure in connecting to Drill: oadd.org.apache.drill.exec.rpc.RpcException: CONNECTION : java.net.UnknownHostException: apachedrill-cb97cfc7c-mfkhr\r\n    \\tat org.apache.drill.jdbc.impl.DrillConnectionImpl.&lt;init&gt;(DrillConnectionImpl.java:164)\r\n    \\tat org.apache.drill.jdbc.impl.DrillJdbc41Factory.newDrillConnection(DrillJdbc41Factory.java:67)\r\n    \\tat org.apache.drill.jdbc.impl.DrillFactory.newConnection(DrillFactory.java:67)\r\n    \\tat oadd.org.apache.calcite.avatica.UnregisteredDriver.connect(UnregisteredDriver.java:138)\r\n    \\tat org.apache.drill.jdbc.Driver.connect(Driver.java:75)\r\n    \\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n    \\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n    \\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n    \\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n    \\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n    \\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n    \\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n\r\n\r\n\r\nThe solution can be exposing the apache drill pod host name to kubernetes cluster.\r\nBut is there anything we are missing, as a part of zookeeper and apache drill configuration setup.\r\n\r\n\r\nSome sample helm charts : https://github.com/Agirish/drill-helm-charts\r\n\r\n\r\nIssue: https://issues.apache.org/jira/browse/DRILL-8427\r\n","title":"Apache drill connectivity with zookeeper on Kubernetes cluster with JDBC data source with Kubernetes or docker","body":"<p>Setup:</p>\n<ol>\n<li>Java application can use specified JDBC driver to connect to drill via zookeeper.\n<a href=\"https://drill.apache.org/docs/using-the-jdbc-driver/\" rel=\"nofollow noreferrer\">https://drill.apache.org/docs/using-the-jdbc-driver/</a></li>\n</ol>\n<p>E.g. jdbc:drill:zk=10.10.100.56:2181/drill/drillbits1;schema=hive</p>\n<ol start=\"2\">\n<li><p>Using this zookeeper provides a host name of the drill which is available and ready to serve the query.</p>\n</li>\n<li><p>Java app will connect to this drill host and gets the connection to execute the query.</p>\n</li>\n</ol>\n<p>In case of Kubernetes drill pod is running and registered to zookeeper with some dynamic pod name. Something like apachedrill-cb97cfc7c-mfkhr.</p>\n<p>Now, zookeeper provides apache drill's hostname as above and java app is trying to connect to this pod, but this pod host name is resolved and it failed.</p>\n<pre><code>java.sql.SQLNonTransientConnectionException: Failure in connecting to Drill: oadd.org.apache.drill.exec.rpc.RpcException: CONNECTION : java.net.UnknownHostException: apachedrill-cb97cfc7c-mfkhr\n\\tat org.apache.drill.jdbc.impl.DrillConnectionImpl.&lt;init&gt;(DrillConnectionImpl.java:164)\n\\tat org.apache.drill.jdbc.impl.DrillJdbc41Factory.newDrillConnection(DrillJdbc41Factory.java:67)\n\\tat org.apache.drill.jdbc.impl.DrillFactory.newConnection(DrillFactory.java:67)\n\\tat oadd.org.apache.calcite.avatica.UnregisteredDriver.connect(UnregisteredDriver.java:138)\n\\tat org.apache.drill.jdbc.Driver.connect(Driver.java:75)\n\\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n\\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\n\\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n\\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\n\\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n\\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n</code></pre>\n<p>The solution can be exposing the apache drill pod host name to kubernetes cluster.\nBut is there anything we are missing, as a part of zookeeper and apache drill configuration setup.</p>\n<p>Some sample helm charts : <a href=\"https://github.com/Agirish/drill-helm-charts\" rel=\"nofollow noreferrer\">https://github.com/Agirish/drill-helm-charts</a></p>\n<p>Issue: <a href=\"https://issues.apache.org/jira/browse/DRILL-8427\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/DRILL-8427</a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688993855,"post_id":76653958,"comment_id":135145817,"body_markdown":"First of all: Take care of java naming conventions. package name should be lower case","body":"First of all: Take care of java naming conventions. package name should be lower case"},{"owner":{"account_id":23150564,"reputation":7,"user_id":17252645,"display_name":"Aleksso"},"score":0,"creation_date":1688994035,"post_id":76653958,"comment_id":135145867,"body_markdown":"@Jens fixed that, from ProjekatFakture to fakture. Thanks for advice","body":"@Jens fixed that, from ProjekatFakture to fakture. Thanks for advice"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1688995170,"post_id":76653958,"comment_id":135146158,"body_markdown":"Wild guess using Spring Boot 3.x? Next to that you are using `@DataJpaTest` which will only load persistence related things **not** services, controllers etc. etc. so trying to inject a service in an `@DataJpaTest` will fail. The `@DataJpaTest` is meant to test repositories.","body":"Wild guess using Spring Boot 3.x? Next to that you are using <code>@DataJpaTest</code> which will only load persistence related things <b>not</b> services, controllers etc. etc. so trying to inject a service in an <code>@DataJpaTest</code> will fail. The <code>@DataJpaTest</code> is meant to test repositories."},{"owner":{"account_id":23150564,"reputation":7,"user_id":17252645,"display_name":"Aleksso"},"score":0,"creation_date":1688995597,"post_id":76653958,"comment_id":135146282,"body_markdown":"@M.Deinum I am avoiding to use it in any 3.x version because of lot of issues which I had, its about 2.7.x something, not sure but can&#39;t find where to check that but pretty sure I set that up on 2.7.x","body":"@M.Deinum I am avoiding to use it in any 3.x version because of lot of issues which I had, its about 2.7.x something, not sure but can&#39;t find where to check that but pretty sure I set that up on 2.7.x"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688995660,"post_id":76653958,"comment_id":135146302,"body_markdown":"As stated (as well) you are using `@DataJpaTest` which will only setup JPA and repositories and will ignore everything else. Injecting a service will fail.","body":"As stated (as well) you are using <code>@DataJpaTest</code> which will only setup JPA and repositories and will ignore everything else. Injecting a service will fail."},{"owner":{"account_id":23150564,"reputation":7,"user_id":17252645,"display_name":"Aleksso"},"score":0,"creation_date":1688996055,"post_id":76653958,"comment_id":135146387,"body_markdown":"@M.Deinum, yes, that was the reason. I have changed @ DataJpaTest to @ SpringBootTest and put @ Autowired annotation over service instance in test. It did insertion in my db. Thanks!","body":"@M.Deinum, yes, that was the reason. I have changed @ DataJpaTest to @ SpringBootTest and put @ Autowired annotation over service instance in test. It did insertion in my db. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689094468,"post_id":76654285,"comment_id":135163431,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76654285/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23150564,"reputation":7,"user_id":17252645,"display_name":"Aleksso"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688996105,"creation_date":1688996105,"answer_id":76654285,"question_id":76653958,"body_markdown":"    package com.example.fakture;\r\n    \r\n    import com.example.fakture.country.CountriesEntity;\r\n    import com.example.fakture.country.CountryService;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit.jupiter.SpringJUnitConfig;\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    @SpringJUnitConfig\r\n    @SpringBootTest\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    public class CountryServiceTests {\r\n    \r\n        @Autowired\r\n        private CountryService countryService;\r\n    \r\n        @Test\r\n        public void testCreateCountry(){\r\n    \r\n            CountriesEntity country = new CountriesEntity();\r\n            country.setName(&quot;Srbija&quot;);\r\n            country.setCode(&quot;SRB&quot;);\r\n            country.setFullName(&quot;Republic of Serbia&quot;);\r\n    \r\n            CountriesEntity createdCountry = countryService.saveCountry(country);\r\n    \r\n            assertNotNull(createdCountry);\r\n            assertNotNull(createdCountry.getCouId());\r\n            assertEquals(&quot;Srbija&quot;, createdCountry.getName());\r\n            assertEquals(&quot;SRB&quot;, createdCountry.getCode());\r\n            assertEquals(&quot;Republic of Serbia&quot;, createdCountry.getFullName());\r\n        }\r\n    }\r\n\r\n","title":"Unsatisfied dependency spring boot","body":"<pre><code>package com.example.fakture;\n\nimport com.example.fakture.country.CountriesEntity;\nimport com.example.fakture.country.CountryService;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit.jupiter.SpringJUnitConfig;\nimport static org.junit.jupiter.api.Assertions.*;\n\n@SpringJUnitConfig\n@SpringBootTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\npublic class CountryServiceTests {\n\n    @Autowired\n    private CountryService countryService;\n\n    @Test\n    public void testCreateCountry(){\n\n        CountriesEntity country = new CountriesEntity();\n        country.setName(&quot;Srbija&quot;);\n        country.setCode(&quot;SRB&quot;);\n        country.setFullName(&quot;Republic of Serbia&quot;);\n\n        CountriesEntity createdCountry = countryService.saveCountry(country);\n\n        assertNotNull(createdCountry);\n        assertNotNull(createdCountry.getCouId());\n        assertEquals(&quot;Srbija&quot;, createdCountry.getName());\n        assertEquals(&quot;SRB&quot;, createdCountry.getCode());\n        assertEquals(&quot;Republic of Serbia&quot;, createdCountry.getFullName());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23150564,"reputation":7,"user_id":17252645,"display_name":"Aleksso"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76654285,"answer_count":1,"score":0,"last_activity_date":1688996105,"creation_date":1688993683,"question_id":76653958,"body_markdown":"Just finished creating entity, repo, service and controller for table countries in db. I will attach everything here and error which I have after trying to run test file.\r\n\r\nCountriesEntity.java:\r\n\r\n   \r\n\r\n     package com.example.ProjekatFakture.country;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;countries&quot;, schema = &quot;fakture&quot;, catalog = &quot;&quot;)\r\n    public class CountriesEntity {\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Id\r\n        @Column(name = &quot;cou_id&quot;)\r\n        private int couId;\r\n        @Basic\r\n        @Column(name = &quot;code&quot;)\r\n        private String code;\r\n        @Basic\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n        @Basic\r\n        @Column(name = &quot;full_name&quot;)\r\n        private String fullName;\r\n    \r\n        public int getCouId() {\r\n            return couId;\r\n        }\r\n    \r\n        public void setCouId(int couId) {\r\n            this.couId = couId;\r\n        }\r\n    \r\n        public String getCode() {\r\n            return code;\r\n        }\r\n    \r\n        public void setCode(String code) {\r\n            this.code = code;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getFullName() {\r\n            return fullName;\r\n        }\r\n    \r\n        public void setFullName(String fullName) {\r\n            this.fullName = fullName;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n    \r\n            CountriesEntity that = (CountriesEntity) o;\r\n    \r\n            if (couId != that.couId) return false;\r\n            if (code != null ? !code.equals(that.code) : that.code != null) return false;\r\n            if (name != null ? !name.equals(that.name) : that.name != null) return false;\r\n            if (fullName != null ? !fullName.equals(that.fullName) : that.fullName != null) return false;\r\n    \r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int result = couId;\r\n            result = 31 * result + (code != null ? code.hashCode() : 0);\r\n            result = 31 * result + (name != null ? name.hashCode() : 0);\r\n            result = 31 * result + (fullName != null ? fullName.hashCode() : 0);\r\n            return result;\r\n        }\r\n    }\r\n\r\nCountryRepository.java:\r\n\r\n    package com.example.ProjekatFakture.country;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface CountryRepository extends JpaRepository&lt;CountriesEntity, Integer&gt; {\r\n    }\r\n\r\nCountryService.java:\r\n\r\n    package com.example.ProjekatFakture.country;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class CountryService {\r\n        private final CountryRepository countryRepository;\r\n    \r\n        @Autowired\r\n        public CountryService(CountryRepository countryRepository) {\r\n            this.countryRepository = countryRepository;\r\n        }\r\n    \r\n        public CountriesEntity saveCountry(CountriesEntity country){\r\n            return countryRepository.save(country);\r\n        }\r\n    }\r\n\r\nCountryController.java:\r\n\r\n    package com.example.ProjekatFakture.country;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    \r\n    @Controller\r\n    public class CountryController {\r\n    \r\n        private final CountryService countryService;\r\n    \r\n        @Autowired\r\n        public CountryController(CountryService countryService) {\r\n            this.countryService = countryService;\r\n        }\r\n    \r\n        @PostMapping\r\n        public CountriesEntity createCountry(@RequestBody CountriesEntity country){\r\n            return countryService.saveCountry(country);\r\n        }\r\n    }\r\n\r\nAnd test java file:\r\n\r\n    package com.example.ProjekatFakture;\r\n    \r\n    import com.example.ProjekatFakture.country.CountriesEntity;\r\n    import com.example.ProjekatFakture.country.CountryService;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\r\n    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n    import org.springframework.test.context.junit.jupiter.SpringJUnitConfig;\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    @SpringJUnitConfig\r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    public class CountryServiceTests {\r\n    \r\n        @Autowired\r\n        private CountryService countryService;\r\n    \r\n        @Test\r\n        public void testCreateCountry(){\r\n    \r\n            CountriesEntity country = new CountriesEntity();\r\n            country.setName(&quot;Srbija&quot;);\r\n            country.setCode(&quot;SRB&quot;);\r\n            country.setFullName(&quot;Republic of Serbia&quot;);\r\n    \r\n            CountriesEntity createdCountry = countryService.saveCountry(country);\r\n    \r\n            assertNotNull(createdCountry);\r\n            assertNotNull(createdCountry.getCouId());\r\n            assertEquals(&quot;Srbija&quot;, createdCountry.getName());\r\n            assertEquals(&quot;SRB&quot;, createdCountry.getCode());\r\n            assertEquals(&quot;Republic of Serbia&quot;, createdCountry.getFullName());\r\n        }\r\n    }\r\n\r\nHere is error which I receive after trying to run that test:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.example.ProjekatFakture.CountryServiceTests&#39;: Unsatisfied dependency expressed through field &#39;countryService&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.ProjekatFakture.country.CountryService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n    \tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.ProjekatFakture.country.CountryService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)\r\n    \t... 76 more\r\n\r\n\r\nHave you guys ever faced something like this and where I am mistaken?\r\n","title":"Unsatisfied dependency spring boot","body":"<p>Just finished creating entity, repo, service and controller for table countries in db. I will attach everything here and error which I have after trying to run test file.</p>\n<p>CountriesEntity.java:</p>\n<pre><code> package com.example.ProjekatFakture.country;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;countries&quot;, schema = &quot;fakture&quot;, catalog = &quot;&quot;)\npublic class CountriesEntity {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;cou_id&quot;)\n    private int couId;\n    @Basic\n    @Column(name = &quot;code&quot;)\n    private String code;\n    @Basic\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @Basic\n    @Column(name = &quot;full_name&quot;)\n    private String fullName;\n\n    public int getCouId() {\n        return couId;\n    }\n\n    public void setCouId(int couId) {\n        this.couId = couId;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getFullName() {\n        return fullName;\n    }\n\n    public void setFullName(String fullName) {\n        this.fullName = fullName;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        CountriesEntity that = (CountriesEntity) o;\n\n        if (couId != that.couId) return false;\n        if (code != null ? !code.equals(that.code) : that.code != null) return false;\n        if (name != null ? !name.equals(that.name) : that.name != null) return false;\n        if (fullName != null ? !fullName.equals(that.fullName) : that.fullName != null) return false;\n\n        return true;\n    }\n\n    @Override\n    public int hashCode() {\n        int result = couId;\n        result = 31 * result + (code != null ? code.hashCode() : 0);\n        result = 31 * result + (name != null ? name.hashCode() : 0);\n        result = 31 * result + (fullName != null ? fullName.hashCode() : 0);\n        return result;\n    }\n}\n</code></pre>\n<p>CountryRepository.java:</p>\n<pre><code>package com.example.ProjekatFakture.country;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface CountryRepository extends JpaRepository&lt;CountriesEntity, Integer&gt; {\n}\n</code></pre>\n<p>CountryService.java:</p>\n<pre><code>package com.example.ProjekatFakture.country;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class CountryService {\n    private final CountryRepository countryRepository;\n\n    @Autowired\n    public CountryService(CountryRepository countryRepository) {\n        this.countryRepository = countryRepository;\n    }\n\n    public CountriesEntity saveCountry(CountriesEntity country){\n        return countryRepository.save(country);\n    }\n}\n</code></pre>\n<p>CountryController.java:</p>\n<pre><code>package com.example.ProjekatFakture.country;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\n\n@Controller\npublic class CountryController {\n\n    private final CountryService countryService;\n\n    @Autowired\n    public CountryController(CountryService countryService) {\n        this.countryService = countryService;\n    }\n\n    @PostMapping\n    public CountriesEntity createCountry(@RequestBody CountriesEntity country){\n        return countryService.saveCountry(country);\n    }\n}\n</code></pre>\n<p>And test java file:</p>\n<pre><code>package com.example.ProjekatFakture;\n\nimport com.example.ProjekatFakture.country.CountriesEntity;\nimport com.example.ProjekatFakture.country.CountryService;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.test.context.junit.jupiter.SpringJUnitConfig;\nimport static org.junit.jupiter.api.Assertions.*;\n\n@SpringJUnitConfig\n@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\npublic class CountryServiceTests {\n\n    @Autowired\n    private CountryService countryService;\n\n    @Test\n    public void testCreateCountry(){\n\n        CountriesEntity country = new CountriesEntity();\n        country.setName(&quot;Srbija&quot;);\n        country.setCode(&quot;SRB&quot;);\n        country.setFullName(&quot;Republic of Serbia&quot;);\n\n        CountriesEntity createdCountry = countryService.saveCountry(country);\n\n        assertNotNull(createdCountry);\n        assertNotNull(createdCountry.getCouId());\n        assertEquals(&quot;Srbija&quot;, createdCountry.getName());\n        assertEquals(&quot;SRB&quot;, createdCountry.getCode());\n        assertEquals(&quot;Republic of Serbia&quot;, createdCountry.getFullName());\n    }\n}\n</code></pre>\n<p>Here is error which I receive after trying to run that test:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.ProjekatFakture.CountryServiceTests': Unsatisfied dependency expressed through field 'countryService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.ProjekatFakture.country.CountryService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.ProjekatFakture.country.CountryService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)\n    ... 76 more\n</code></pre>\n<p>Have you guys ever faced something like this and where I am mistaken?</p>\n"},{"tags":["java","gwt","gwt-rpc"],"comments":[{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1690166576,"post_id":76654223,"comment_id":135310523,"body_markdown":"Can you add more information about your actual service, any generics being used, etc? That error says that the `Map&lt;K,V&gt;` was generic with a `V` defined to be `String`, but instead a `HashMap` was found in the values of the map. This check was added in GWT 2.5.0-rc1, , and could have unserialized without error (but incorrectly) before that version.","body":"Can you add more information about your actual service, any generics being used, etc? That error says that the <code>Map&lt;K,V&gt;</code> was generic with a <code>V</code> defined to be <code>String</code>, but instead a <code>HashMap</code> was found in the values of the map. This check was added in GWT 2.5.0-rc1, , and could have unserialized without error (but incorrectly) before that version."}],"owner":{"account_id":27601754,"reputation":1,"user_id":21066841,"display_name":"Kiran Kadam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688996081,"creation_date":1688995613,"question_id":76654223,"body_markdown":"We have migrated GWT version from 2.1.0 to 2.9.0\r\nAnd since that upgrade one of the GWT RPC is failing with the SerializaedTypeViolationException\r\nFollowing is the caused by stack trace.\r\nI searched for this error And I found solutions like 1)To implement no arguments constructor if missing for the Type parameter 2) implement isSerializable or Serializable interface.\r\nI have done that by creating the following custom class as follows and used that in request but still no luck.. \r\n\r\n````\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.Iterator;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\nimport com.google.gwt.user.client.rpc.IsSerializable;\r\n\r\n/**\r\n * This class is an implmentation for an ordered Map.\r\n */\r\npublic class CustomMap implements Map, IsSerializable, Serializable\r\n{\r\n    private ArrayList key;\r\n    private ArrayList value;\r\n     \r\n    public CustomMap ()\r\n    {\r\n        this.key = new ArrayList();\r\n        this.value = new ArrayList();\r\n    }\r\n    \r\n    public CustomMap (int size)\r\n    {\r\n        this.key = new ArrayList(size);\r\n        this.value = new ArrayList(size);\r\n    }\r\n````\r\n\r\nPlease guide me with following issue fix if anyone has faced the same and resolved it.\r\n````\r\nCaused by: com.google.gwt.user.client.rpc.SerializedTypeViolationException: Attempt to deserialize an object of type class java.util.HashMap when an object of type class java.lang.String is expected\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserialize(ServerSerializationStreamReader.java:663)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.readObject(ServerSerializationStreamReader.java:592)\r\n\tat com.google.gwt.user.server.rpc.core.java.util.Map_ServerCustomFieldSerializerBase.deserialize(Map_ServerCustomFieldSerializerBase.java:38)\r\n\tat com.google.gwt.user.server.rpc.core.java.util.HashMap_ServerCustomFieldSerializer.deserialize(HashMap_ServerCustomFieldSerializer.java:40)\r\n\tat com.google.gwt.user.server.rpc.core.java.util.HashMap_ServerCustomFieldSerializer.deserializeInstance(HashMap_ServerCustomFieldSerializer.java:54)\r\n\tat com.google.gwt.user.server.rpc.core.java.util.HashMap_ServerCustomFieldSerializer.deserializeInstance(HashMap_ServerCustomFieldSerializer.java:33)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeImpl(ServerSerializationStreamReader.java:887)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserialize(ServerSerializationStreamReader.java:687)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.readObject(ServerSerializationStreamReader.java:592)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader$ValueReader$8.readValue(ServerSerializationStreamReader.java:149)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeValue(ServerSerializationStreamReader.java:434)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeClass(ServerSerializationStreamReader.java:833)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeImpl(ServerSerializationStreamReader.java:906)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserialize(ServerSerializationStreamReader.java:687)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.readObject(ServerSerializationStreamReader.java:592)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader$ValueReader$8.readValue(ServerSerializationStreamReader.java:149)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeValue(ServerSerializationStreamReader.java:434)\r\n\tat com.google.gwt.user.server.rpc.RPC.decodeRequest(RPC.java:312)\r\n\t... 116 more\r\n````\r\nI am initiating a GWT RPC call, where there is one of the property sent with the object passed in the payload, is of type java.util.HashMap for which the request is failing with &quot;IncompatibleRemoteServiceException&quot; while decoding the request only at the server when initiated the following line.\r\n\r\n````\r\nrpcRequest = RPC.decodeRequest(payload, this.getClass(), this);\r\n\r\n````\r\n\r\nAnd this exception is ````&quot;Caused by: com.google.gwt.user.client.rpc.SerializedTypeViolationException: Attempt to deserialize an object of type class java.util.HashMap when an object of type class java.lang.String is expected&quot;````\r\n\r\nAny help is appreciated.\r\nThanks in advance.","title":"GWT RPC Exception : Attempt to deserialize an object of type class java.util.HashMap when an object of type class java.lang.String is expected","body":"<p>We have migrated GWT version from 2.1.0 to 2.9.0\nAnd since that upgrade one of the GWT RPC is failing with the SerializaedTypeViolationException\nFollowing is the caused by stack trace.\nI searched for this error And I found solutions like 1)To implement no arguments constructor if missing for the Type parameter 2) implement isSerializable or Serializable interface.\nI have done that by creating the following custom class as follows and used that in request but still no luck..</p>\n<pre><code>import java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Set;\n\nimport com.google.gwt.user.client.rpc.IsSerializable;\n\n/**\n * This class is an implmentation for an ordered Map.\n */\npublic class CustomMap implements Map, IsSerializable, Serializable\n{\n    private ArrayList key;\n    private ArrayList value;\n     \n    public CustomMap ()\n    {\n        this.key = new ArrayList();\n        this.value = new ArrayList();\n    }\n    \n    public CustomMap (int size)\n    {\n        this.key = new ArrayList(size);\n        this.value = new ArrayList(size);\n    }\n</code></pre>\n<p>Please guide me with following issue fix if anyone has faced the same and resolved it.</p>\n<pre><code>Caused by: com.google.gwt.user.client.rpc.SerializedTypeViolationException: Attempt to deserialize an object of type class java.util.HashMap when an object of type class java.lang.String is expected\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserialize(ServerSerializationStreamReader.java:663)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.readObject(ServerSerializationStreamReader.java:592)\n    at com.google.gwt.user.server.rpc.core.java.util.Map_ServerCustomFieldSerializerBase.deserialize(Map_ServerCustomFieldSerializerBase.java:38)\n    at com.google.gwt.user.server.rpc.core.java.util.HashMap_ServerCustomFieldSerializer.deserialize(HashMap_ServerCustomFieldSerializer.java:40)\n    at com.google.gwt.user.server.rpc.core.java.util.HashMap_ServerCustomFieldSerializer.deserializeInstance(HashMap_ServerCustomFieldSerializer.java:54)\n    at com.google.gwt.user.server.rpc.core.java.util.HashMap_ServerCustomFieldSerializer.deserializeInstance(HashMap_ServerCustomFieldSerializer.java:33)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeImpl(ServerSerializationStreamReader.java:887)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserialize(ServerSerializationStreamReader.java:687)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.readObject(ServerSerializationStreamReader.java:592)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader$ValueReader$8.readValue(ServerSerializationStreamReader.java:149)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeValue(ServerSerializationStreamReader.java:434)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeClass(ServerSerializationStreamReader.java:833)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeImpl(ServerSerializationStreamReader.java:906)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserialize(ServerSerializationStreamReader.java:687)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.readObject(ServerSerializationStreamReader.java:592)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader$ValueReader$8.readValue(ServerSerializationStreamReader.java:149)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeValue(ServerSerializationStreamReader.java:434)\n    at com.google.gwt.user.server.rpc.RPC.decodeRequest(RPC.java:312)\n    ... 116 more\n</code></pre>\n<p>I am initiating a GWT RPC call, where there is one of the property sent with the object passed in the payload, is of type java.util.HashMap for which the request is failing with &quot;IncompatibleRemoteServiceException&quot; while decoding the request only at the server when initiated the following line.</p>\n<pre><code>rpcRequest = RPC.decodeRequest(payload, this.getClass(), this);\n\n</code></pre>\n<p>And this exception is <code>&quot;Caused by: com.google.gwt.user.client.rpc.SerializedTypeViolationException: Attempt to deserialize an object of type class java.util.HashMap when an object of type class java.lang.String is expected&quot;</code></p>\n<p>Any help is appreciated.\nThanks in advance.</p>\n"},{"tags":["java","plot","sas","jvm","enterprise-guide"],"answers":[{"tags":[],"owner":{"account_id":2319589,"reputation":537,"user_id":2035749,"accept_rate":100,"display_name":"mspehar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688996035,"creation_date":1688996035,"answer_id":76654282,"question_id":70285417,"body_markdown":"Try changing graph format in EG settings.\r\n\r\nTools &gt; Options &gt; Results &gt; Graph\r\n\r\nThere are 2 dropdown menus, try PNG in both.","title":"How can I resolve this JVM error in SAS EG","body":"<p>Try changing graph format in EG settings.</p>\n<p>Tools &gt; Options &gt; Results &gt; Graph</p>\n<p>There are 2 dropdown menus, try PNG in both.</p>\n"}],"owner":{"account_id":3937233,"reputation":31,"user_id":3253207,"display_name":"as_cool_as_aish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688996035,"creation_date":1639030247,"question_id":70285417,"body_markdown":"I am trying to run the following code in my SAS EG:\r\n    \r\n    Data sashelp.air;\r\n    \r\n    proc sgplot data=sashelp.air;\r\n    \thistogram AIR /;\r\n    \tyaxis grid;\r\n    \trun;\r\n    \r\n   The following error is coming up:\r\n    \r\n    ERROR: Unable to load the Java Virtual Machine. \r\n    Please see the installation instructions or system administrator.\r\n    \r\n  For any type of plotting, the same error is coming up. \r\n  Please suggest solutions and what the reasons for the issue could be.\r\n\r\n","title":"How can I resolve this JVM error in SAS EG","body":"<p>I am trying to run the following code in my SAS EG:</p>\n<pre><code>Data sashelp.air;\n\nproc sgplot data=sashelp.air;\n    histogram AIR /;\n    yaxis grid;\n    run;\n</code></pre>\n<p>The following error is coming up:</p>\n<pre><code>ERROR: Unable to load the Java Virtual Machine. \nPlease see the installation instructions or system administrator.\n</code></pre>\n<p>For any type of plotting, the same error is coming up.\nPlease suggest solutions and what the reasons for the issue could be.</p>\n"},{"tags":["java","spring-boot","spring-security-oauth2"],"comments":[{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1505469132,"post_id":46232331,"comment_id":79436709,"body_markdown":"try by using `grant_type=password` instead of client_credentials","body":"try by using <code>grant_type=password</code> instead of client_credentials"},{"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"score":0,"creation_date":1505469479,"post_id":46232331,"comment_id":79436933,"body_markdown":"Hi PrasannaI tried to enter grant type as password but it throwing error as invalid grant type","body":"Hi PrasannaI tried to enter grant type as password but it throwing error as invalid grant type"},{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1505469875,"post_id":46232331,"comment_id":79437185,"body_markdown":"May i know the content-type u r using in request?? it must be `application/x-www-form-urlencoded`","body":"May i know the content-type u r using in request?? it must be <code>application&#47;x-www-form-urlencoded</code>"},{"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"score":0,"creation_date":1505470239,"post_id":46232331,"comment_id":79437417,"body_markdown":"The following is the url request I am passing through post man. &quot;http://localhost:8090/oauth/token?username=sr7&amp;password=aA$gm12&amp;grant_type=password&quot;","body":"The following is the url request I am passing through post man. &quot;<a href=\"http://localhost:8090/oauth/token?username=sr7&amp;password=aA$gm12&amp;grant_type=password\" rel=\"nofollow noreferrer\">localhost:8090/oauth/&hellip;</a>&quot;"},{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1505470302,"post_id":46232331,"comment_id":79437448,"body_markdown":"Am asking about content-type...header in postman request","body":"Am asking about content-type...header in postman request"},{"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"score":0,"creation_date":1505470422,"post_id":46232331,"comment_id":79437528,"body_markdown":"ok content type: application/json and authorisation is Basic with my client name and secret key.                                                                                          Basic auth credentials:- username:my-trusted-client, password secret","body":"ok content type: application/json and authorisation is Basic with my client name and secret key.                                                                                          Basic auth credentials:- username:my-trusted-client, password secret"},{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1505471053,"post_id":46232331,"comment_id":79437914,"body_markdown":"change it to `application/x-www-form-urlencoded`","body":"change it to <code>application&#47;x-www-form-urlencoded</code>"},{"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"score":0,"creation_date":1505474293,"post_id":46232331,"comment_id":79439882,"body_markdown":"I changed but still the same result","body":"I changed but still the same result"},{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1505475327,"post_id":46232331,"comment_id":79440511,"body_markdown":"What is the complete output?? i mean error_description??","body":"What is the complete output?? i mean error_description??"},{"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"score":0,"creation_date":1505478408,"post_id":46232331,"comment_id":79442530,"body_markdown":"&quot;error&quot;: &quot;invalid_grant&quot;,\n    &quot;error_description&quot;: &quot;Bad credentials&quot;\n}                                                                                                                                is the error mesage thrown","body":"&quot;error&quot;: &quot;invalid_grant&quot;,     &quot;error_description&quot;: &quot;Bad credentials&quot; }                                                                                                                                is the error mesage thrown"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1505485699,"post_id":46232331,"comment_id":79447773,"body_markdown":"Note that you need to check if the password grant is suitable to your needs. Read more in my answer below. As for making the password grant work read more on the [official guide](https://projects.spring.io/spring-security-oauth/docs/oauth2.html). You could also use [JHipster](http://www.jhipster.tech/) Yeoman generator and generate an app with OAuth2 authentication and use it as a template for your solution. Disclosure: I&#39;m not in any way related to the team behind JHipster. I just often use it to peek how things should be done in Spring/Angular","body":"Note that you need to check if the password grant is suitable to your needs. Read more in my answer below. As for making the password grant work read more on the <a href=\"https://projects.spring.io/spring-security-oauth/docs/oauth2.html\" rel=\"nofollow noreferrer\">official guide</a>. You could also use <a href=\"http://www.jhipster.tech/\" rel=\"nofollow noreferrer\">JHipster</a> Yeoman generator and generate an app with OAuth2 authentication and use it as a template for your solution. Disclosure: I&#39;m not in any way related to the team behind JHipster. I just often use it to peek how things should be done in Spring/Angular"}],"answers":[{"tags":[],"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688995591,"creation_date":1505485372,"answer_id":46241855,"question_id":46232331,"body_markdown":"[As per the specification](https://www.rfc-editor.org/rfc/rfc6749#section-4.4) you usually (&quot;should not&quot;, using specification terminology) don&#39;t have refresh tokens in case of &#39;client credentials&#39; grant type. Quoting [this answer by @chenrui](https://stackoverflow.com/a/44510200/4494577):\r\n\r\n&gt; client_credentials OAuth grant servers the need of machine-to-machine authentication, so there is no need to refresh the token.\r\n&gt;\r\n&gt;As result, in Spring Security OAuth&#39;s `ClientCredentialsAccessTokenProvider`, `supportsRefresh` returns `false` and `refreshToken` methods returns `null`.\r\n\r\nIn &#39;client credentials&#39;  bare client&#39;s credentials are used to obtain access tokens.\r\n\r\nRecommended reading:\r\n\r\n* [About OAuth2 grants](https://alexbilbie.com/guide-to-oauth-2-grants/)\r\n* [Spring Security and OAuth2 official guide](https://projects.spring.io/spring-security-oauth/docs/oauth2.html)\r\n* [Spring Security and OAuth2 (Gigsterous blog)](https://gigsterous.github.io/engineering/2017/03/01/spring-boot-4.html)","title":"Refresh token is not returned in oauth/token response of spring","body":"<p><a href=\"https://www.rfc-editor.org/rfc/rfc6749#section-4.4\" rel=\"nofollow noreferrer\">As per the specification</a> you usually (&quot;should not&quot;, using specification terminology) don't have refresh tokens in case of 'client credentials' grant type. Quoting <a href=\"https://stackoverflow.com/a/44510200/4494577\">this answer by @chenrui</a>:</p>\n<blockquote>\n<p>client_credentials OAuth grant servers the need of machine-to-machine authentication, so there is no need to refresh the token.</p>\n<p>As result, in Spring Security OAuth's <code>ClientCredentialsAccessTokenProvider</code>, <code>supportsRefresh</code> returns <code>false</code> and <code>refreshToken</code> methods returns <code>null</code>.</p>\n</blockquote>\n<p>In 'client credentials'  bare client's credentials are used to obtain access tokens.</p>\n<p>Recommended reading:</p>\n<ul>\n<li><a href=\"https://alexbilbie.com/guide-to-oauth-2-grants/\" rel=\"nofollow noreferrer\">About OAuth2 grants</a></li>\n<li><a href=\"https://projects.spring.io/spring-security-oauth/docs/oauth2.html\" rel=\"nofollow noreferrer\">Spring Security and OAuth2 official guide</a></li>\n<li><a href=\"https://gigsterous.github.io/engineering/2017/03/01/spring-boot-4.html\" rel=\"nofollow noreferrer\">Spring Security and OAuth2 (Gigsterous blog)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9694254,"reputation":4765,"user_id":7191280,"display_name":"Carlos Alberto Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627053831,"creation_date":1627053831,"answer_id":68501541,"question_id":46232331,"body_markdown":"Besides using password grant type, try setting TokenServices support of refresh tokens on. Here is just an example, I don&#39;t know if the default token service will work in your case.\r\n\r\n \r\n\r\n    @Override\r\n        public void configure(final AuthorizationServerEndpointsConfigurer endpoints) {\r\n            var tokenService = new DefaultTokenServices();\r\n            tokenService.setSupportRefreshToken(true);\r\n            endpoints\r\n                    .accessTokenConverter(accessTokenConverter())\r\n                    .tokenServices(tokenService)\r\n                    .userDetailsService(userDetailsService)\r\n                    .authenticationManager(authenticationManager);\r\n        }","title":"Refresh token is not returned in oauth/token response of spring","body":"<p>Besides using password grant type, try setting TokenServices support of refresh tokens on. Here is just an example, I don't know if the default token service will work in your case.</p>\n<pre><code>@Override\n    public void configure(final AuthorizationServerEndpointsConfigurer endpoints) {\n        var tokenService = new DefaultTokenServices();\n        tokenService.setSupportRefreshToken(true);\n        endpoints\n                .accessTokenConverter(accessTokenConverter())\n                .tokenServices(tokenService)\n                .userDetailsService(userDetailsService)\n                .authenticationManager(authenticationManager);\n    }\n</code></pre>\n"}],"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1688995591,"creation_date":1505453786,"question_id":46232331,"body_markdown":"I am trying to create a Rest API with spring boot and spring security.\r\nThe below are the details of code changes I have made for getting authorization token:-\r\n\r\n1] AuthorizationServerConfig\r\n\r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    public class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter {\r\n    \r\n    \r\n    \t\r\n        @Autowired\r\n        private AuthenticationManager authenticationManager;\r\n    \r\n        @Autowired\r\n    \tprivate TokenStore tokenStore;\r\n    \r\n    \t@Autowired\r\n    \tprivate UserApprovalHandler userApprovalHandler;\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n            endpoints.tokenStore(tokenStore).userApprovalHandler(userApprovalHandler)\r\n            .authenticationManager(authenticationManager);\r\n        }\r\n    \r\n        @Override\r\n        public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n            clients.inMemory().withClient(&quot;my-trusted-client&quot;)\r\n                    .authorizedGrantTypes(&quot;client_credentials&quot;, &quot;password&quot;, &quot;refresh_token&quot; )\r\n                    .authorities(&quot;ROLE_CLIENT&quot;).scopes(&quot;read&quot;,&quot;write&quot;,&quot;trust&quot;)\r\n                    .secret(&quot;secret&quot;)\r\n                    .accessTokenValiditySeconds(5000)\r\n                    .refreshTokenValiditySeconds(6000).autoApprove(true);\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\r\n            security.checkTokenAccess(&quot;isAuthenticated()&quot;);\r\n        }\r\n      @Override\r\n        @Bean\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic TokenStore tokenStore() {\r\n    \t\treturn new InMemoryTokenStore();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Autowired\r\n    \tpublic TokenStoreUserApprovalHandler userApprovalHandler(TokenStore tokenStore){\r\n    \t\tTokenStoreUserApprovalHandler handler = new TokenStoreUserApprovalHandler();\r\n    \t\thandler.setTokenStore(tokenStore);\r\n    \t\thandler.setRequestFactory(new DefaultOAuth2RequestFactory(clientDetailsService));\r\n    \t\thandler.setClientDetailsService(clientDetailsService);\r\n    \t\treturn handler;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \t@Autowired\r\n    \tpublic ApprovalStore approvalStore(TokenStore tokenStore) throws Exception {\r\n    \t\tTokenApprovalStore store = new TokenApprovalStore();\r\n    \t\tstore.setTokenStore(tokenStore);\r\n    \t\treturn store;\r\n    \t}\r\n    \r\n    }\r\n2] ResourceServerConfig\r\n\r\n    @Configuration\r\n    @EnableResourceServer\r\n    public class ResourceServerConfig extends ResourceServerConfigurerAdapter {\r\n    \t\r\n    \tprivate static final String RESOURCE_ID = &quot;my_rest_api&quot;;\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(ResourceServerSecurityConfigurer resources) {\r\n    \t\tresources.resourceId(RESOURCE_ID).stateless(false);\r\n    \t}\r\n    \r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            http.headers().frameOptions().disable().and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/register&quot;).permitAll()\r\n                    .antMatchers(&quot;/ex/**&quot;).authenticated();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n3] MethodSecurityConfig\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, proxyTargetClass = true)\r\n    public class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\r\n        @SuppressWarnings(&quot;unused&quot;)\r\n    \t@Autowired\r\n        private OAuth2SecurityConfiguration securityConfig;\r\n        \r\n        @Override\r\n        protected MethodSecurityExpressionHandler createExpressionHandler() {\r\n            return new OAuth2MethodSecurityExpressionHandler();\r\n        }\r\n    }\r\n\r\nWhen I make the request through postman the following response is returned: -\r\n\r\nRequest URL:-\r\n\r\n    http://localhost:8090/oauth/token?grant_type=client_credentials&amp;username=sr7&amp;password=aA$gm12\r\n\r\nResponse received: -\r\n\r\n    {\r\n        &quot;access_token&quot;: &quot;6e55f38f-4aad-4e84-97d2-24b30d39bf5e&quot;,\r\n        &quot;token_type&quot;: &quot;bearer&quot;,\r\n        &quot;expires_in&quot;: 4999,\r\n        &quot;scope&quot;: &quot;read write trust&quot;\r\n    }\r\nKindly help me out to figure out what I am doing wrong here which is preventing me from getting refresh token along with respons.\r\n\r\nThanks in advance.\r\n\r\n","title":"Refresh token is not returned in oauth/token response of spring","body":"<p>I am trying to create a Rest API with spring boot and spring security.\nThe below are the details of code changes I have made for getting authorization token:-</p>\n\n<p>1] AuthorizationServerConfig</p>\n\n<pre><code>@Configuration\n@EnableAuthorizationServer\npublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter {\n\n\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private TokenStore tokenStore;\n\n    @Autowired\n    private UserApprovalHandler userApprovalHandler;\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n        endpoints.tokenStore(tokenStore).userApprovalHandler(userApprovalHandler)\n        .authenticationManager(authenticationManager);\n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.inMemory().withClient(\"my-trusted-client\")\n                .authorizedGrantTypes(\"client_credentials\", \"password\", \"refresh_token\" )\n                .authorities(\"ROLE_CLIENT\").scopes(\"read\",\"write\",\"trust\")\n                .secret(\"secret\")\n                .accessTokenValiditySeconds(5000)\n                .refreshTokenValiditySeconds(6000).autoApprove(true);\n    }\n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\n        security.checkTokenAccess(\"isAuthenticated()\");\n    }\n  @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n\n    @Bean\n    public TokenStore tokenStore() {\n        return new InMemoryTokenStore();\n    }\n\n    @Bean\n    @Autowired\n    public TokenStoreUserApprovalHandler userApprovalHandler(TokenStore tokenStore){\n        TokenStoreUserApprovalHandler handler = new TokenStoreUserApprovalHandler();\n        handler.setTokenStore(tokenStore);\n        handler.setRequestFactory(new DefaultOAuth2RequestFactory(clientDetailsService));\n        handler.setClientDetailsService(clientDetailsService);\n        return handler;\n    }\n\n    @Bean\n    @Autowired\n    public ApprovalStore approvalStore(TokenStore tokenStore) throws Exception {\n        TokenApprovalStore store = new TokenApprovalStore();\n        store.setTokenStore(tokenStore);\n        return store;\n    }\n\n}\n</code></pre>\n\n<p>2] ResourceServerConfig</p>\n\n<pre><code>@Configuration\n@EnableResourceServer\npublic class ResourceServerConfig extends ResourceServerConfigurerAdapter {\n\n    private static final String RESOURCE_ID = \"my_rest_api\";\n\n    @Override\n    public void configure(ResourceServerSecurityConfigurer resources) {\n        resources.resourceId(RESOURCE_ID).stateless(false);\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.headers().frameOptions().disable().and()\n                .authorizeRequests()\n                .antMatchers(\"/register\").permitAll()\n                .antMatchers(\"/ex/**\").authenticated();\n    }\n\n\n}\n</code></pre>\n\n<p>3] MethodSecurityConfig</p>\n\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true, proxyTargetClass = true)\npublic class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\n    @SuppressWarnings(\"unused\")\n    @Autowired\n    private OAuth2SecurityConfiguration securityConfig;\n\n    @Override\n    protected MethodSecurityExpressionHandler createExpressionHandler() {\n        return new OAuth2MethodSecurityExpressionHandler();\n    }\n}\n</code></pre>\n\n<p>When I make the request through postman the following response is returned: -</p>\n\n<p>Request URL:-</p>\n\n<pre><code>http://localhost:8090/oauth/token?grant_type=client_credentials&amp;username=sr7&amp;password=aA$gm12\n</code></pre>\n\n<p>Response received: -</p>\n\n<pre><code>{\n    \"access_token\": \"6e55f38f-4aad-4e84-97d2-24b30d39bf5e\",\n    \"token_type\": \"bearer\",\n    \"expires_in\": 4999,\n    \"scope\": \"read write trust\"\n}\n</code></pre>\n\n<p>Kindly help me out to figure out what I am doing wrong here which is preventing me from getting refresh token along with respons.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","annotations","aop","spring-aspects"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688642317,"post_id":76627393,"comment_id":135102784,"body_markdown":"Is the annotated method in a Component class or otherwise instantiated by Spring?","body":"Is the annotated method in a Component class or otherwise instantiated by Spring?"},{"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"score":0,"creation_date":1688660064,"post_id":76627393,"comment_id":135106908,"body_markdown":"@service class only","body":"@service class only"},{"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"score":0,"creation_date":1688670453,"post_id":76627393,"comment_id":135108698,"body_markdown":"@Jorn any idea ?","body":"@Jorn any idea ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688709623,"post_id":76627393,"comment_id":135112781,"body_markdown":"Remove the `spring-aop` dependency and `aspectj` dependency, add `spring-boot-starter-aop` instead. You are mixing jars from different (and incompatible) versions of Spring . This will never work. Never mix versions of frameworks (regardless of the framework). That being said there is already the `@Timed` annotation from the already supported micrometer project which I would recommend to use instead of re-inventing your own. Next Spring AOP works with proxies meaing only public/protected methods are intercepted and only call into the object not methods on itself (as you are inside the proxy).","body":"Remove the <code>spring-aop</code> dependency and <code>aspectj</code> dependency, add <code>spring-boot-starter-aop</code> instead. You are mixing jars from different (and incompatible) versions of Spring . This will never work. Never mix versions of frameworks (regardless of the framework). That being said there is already the <code>@Timed</code> annotation from the already supported micrometer project which I would recommend to use instead of re-inventing your own. Next Spring AOP works with proxies meaing only public/protected methods are intercepted and only call into the object not methods on itself (as you are inside the proxy)."},{"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"score":0,"creation_date":1688727066,"post_id":76627393,"comment_id":135115859,"body_markdown":"@M.Deinum changed the dependency, still not working","body":"@M.Deinum changed the dependency, still not working"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688885212,"post_id":76627393,"comment_id":135132239,"body_markdown":"And you apparently stopped reading after the first sentence. You skipped the **Next Spring AOP works with proxies meaing only public/protected methods are intercepted and only call into the object not methods on itself (as you are inside the proxy)**. As the method is `private` it is an invocation on the same object.","body":"And you apparently stopped reading after the first sentence. You skipped the <b>Next Spring AOP works with proxies meaing only public/protected methods are intercepted and only call into the object not methods on itself (as you are inside the proxy)</b>. As the method is <code>private</code> it is an invocation on the same object."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688889366,"creation_date":1688805934,"answer_id":76642110,"question_id":76627393,"body_markdown":"Inspecting your code, ...\r\n\r\n```java\r\n@MethodExecutionTime\r\nprivate String responseDataReceived(String url) {\r\n  return &quot;code&quot;;\r\n}\r\n```\r\n\r\n... I see that the annotated method is `private`. Spring AOP is [proxy-based](https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies), and dynamic proxies technically are subclasses. A subclass in Java cannot see or call its parent&#39;s private methods, hence the term &quot;private&quot;. I.e., you can only intercept public methods (both JDK interface proxies and CGLIB proxies) and protected or class-scopend methods (CGLIB only) using Spring AOP. You would need native AspectJ to intercept private ones, too. But actually, if the method is worth being intercepted, why would it be private, i.e. an implementation detail hidden from the outside world?\r\n\r\nP.S.: What is &quot;sustome&quot; supposed to mean?","title":"Custom annotation issue?","body":"<p>Inspecting your code, ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MethodExecutionTime\nprivate String responseDataReceived(String url) {\n  return &quot;code&quot;;\n}\n</code></pre>\n<p>... I see that the annotated method is <code>private</code>. Spring AOP is <a href=\"https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies\" rel=\"nofollow noreferrer\">proxy-based</a>, and dynamic proxies technically are subclasses. A subclass in Java cannot see or call its parent's private methods, hence the term &quot;private&quot;. I.e., you can only intercept public methods (both JDK interface proxies and CGLIB proxies) and protected or class-scopend methods (CGLIB only) using Spring AOP. You would need native AspectJ to intercept private ones, too. But actually, if the method is worth being intercepted, why would it be private, i.e. an implementation detail hidden from the outside world?</p>\n<p>P.S.: What is &quot;sustome&quot; supposed to mean?</p>\n"}],"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1688995494,"creation_date":1688635711,"question_id":76627393,"body_markdown":"\r\nAnnotation \r\n```\r\n@Target(ElementType.METHOD) // Annotation can be applied to methods\r\n@Retention(RetentionPolicy.RUNTIME) // Annotation will be retained at runtime\r\npublic @interface MethodExecutionTime {\r\n} \r\n```\r\nAspect class\r\n\r\n```\r\n@Aspect\r\n@Component\r\npublic class MethodExecutionTimeAspect {\r\n    private static final Logger logger = LoggerFactory.getLogger(MethodExecutionTimeAspect.class);\r\n    @Around(&quot;@annotation(com.teamsapi.custom_annotation.annotation.MethodExecutionTime)&quot;)\r\n    public Object measureExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object result = joinPoint.proceed();\r\n        long endTime = System.currentTimeMillis();\r\n        long executionTime = endTime - startTime;\r\n        logger.warn(&quot;Method &#39;{}&#39; took {} milliseconds to execute.&quot;, joinPoint.getSignature().toShortString(), executionTime);\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nconfig\r\n```\r\ndependencies {\r\n\timplementation &#39;org.jsoup:jsoup:1.15.3&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &#39;org.springframework:spring-aop:5.3.9&#39;\r\n\timplementation &#39;org.aspectj:aspectjweaver:1.9.7&#39;\r\n}\r\n\r\n\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n```\r\n\r\n\r\n\r\nthis is a method in service class, not working for it\r\n\r\n```\r\n@MethodExecutionTime\r\n    private String responseDataReceived(String url) {\r\n       return &quot;code&quot;;\r\n    }\r\n```\r\n\r\nhow to execute this code properly \r\ntell me any way to implement it properly \r\nworking fine for some method while not for some method, why it is not working tell me the way to resolve it\r\n","title":"Custom annotation issue?","body":"<p>Annotation</p>\n<pre><code>@Target(ElementType.METHOD) // Annotation can be applied to methods\n@Retention(RetentionPolicy.RUNTIME) // Annotation will be retained at runtime\npublic @interface MethodExecutionTime {\n} \n</code></pre>\n<p>Aspect class</p>\n<pre><code>@Aspect\n@Component\npublic class MethodExecutionTimeAspect {\n    private static final Logger logger = LoggerFactory.getLogger(MethodExecutionTimeAspect.class);\n    @Around(&quot;@annotation(com.teamsapi.custom_annotation.annotation.MethodExecutionTime)&quot;)\n    public Object measureExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = joinPoint.proceed();\n        long endTime = System.currentTimeMillis();\n        long executionTime = endTime - startTime;\n        logger.warn(&quot;Method '{}' took {} milliseconds to execute.&quot;, joinPoint.getSignature().toShortString(), executionTime);\n        return result;\n    }\n}\n</code></pre>\n<p>config</p>\n<pre><code>dependencies {\n    implementation 'org.jsoup:jsoup:1.15.3'\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.springframework:spring-aop:5.3.9'\n    implementation 'org.aspectj:aspectjweaver:1.9.7'\n}\n\n\nplugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n</code></pre>\n<p>this is a method in service class, not working for it</p>\n<pre><code>@MethodExecutionTime\n    private String responseDataReceived(String url) {\n       return &quot;code&quot;;\n    }\n</code></pre>\n<p>how to execute this code properly\ntell me any way to implement it properly\nworking fine for some method while not for some method, why it is not working tell me the way to resolve it</p>\n"},{"tags":["java","websocket","apache-camel","spring-websocket","spring-camel"],"comments":[{"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1689008465,"post_id":76654156,"comment_id":135149388,"body_markdown":"I can see that you keep trying on your project, could you make finally work? or this question is still actual?","body":"I can see that you keep trying on your project, could you make finally work? or this question is still actual?"},{"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"score":0,"creation_date":1689008661,"post_id":76654156,"comment_id":135149434,"body_markdown":"No i can&#39;t , tried  alot but nothing works","body":"No i can&#39;t , tried  alot but nothing works"},{"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"score":0,"creation_date":1689084930,"post_id":76654156,"comment_id":135161277,"body_markdown":"Any idea on accessing wss:// using camel ?","body":"Any idea on accessing wss:// using camel ?"}],"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688995099,"creation_date":1688995099,"question_id":76654156,"body_markdown":"I have create wss socket using springboot and it works fine I have tested using online tool as well as springboot client.\r\nthe socket is open at endpoint `wss://spring-ou5b.onrender.com/web-socket-endpoint and received message on /app/message`\r\nNow I am trying to send data to this socket using apache camel repo at \r\nhttps://github.com/rksharma1401/apache-camel-microservice\r\n\r\nBelow is the route \r\n  \r\n\r\n      package learn.camelmicorservices.routes;\r\n    \r\n    import org.apache.camel.InOut;\r\n    import org.apache.camel.Produce;\r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class ActiveMqSenderRouter extends RouteBuilder {\r\n     \r\n    \t@Override\r\n    \t@InOut\r\n    \t@Produce(value =&quot;app/message&quot; )\r\n    \tpublic void configure() throws Exception {\r\n    int i=0;\r\n    \t\tfrom(&quot;timer:wss-timer?period=5000&quot;).transform().constant(&quot;{\\&quot;name\\&quot;:\\&quot;new&quot;+(++i)+&quot;\\&quot;}&quot; )\r\n    \t\t\t.log(&quot;Created&quot;+&quot;${body}&quot;)\r\n    \t\t\t.to(&quot;wss://spring-ou5b.onrender.com/web-socket-endpoint?sendToAll=true&quot;)\r\n    \t\t\t.log(&quot;After End&quot;+&quot;${body}&quot;);\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nbut I get error as \r\n\r\n&gt; Caused by: org.apache.camel.NoSuchEndpointException: No endpoint could\r\n&gt; be found for: wss://.....\r\n\r\nwhich camel componet jar is needed for wss \r\n\r\nI have tried websocket,vertx,ahc but they don&#39;t send data or gives other errors\r\n\r\n\r\n","title":"Apache camel route send data to wss websocket on stomp","body":"<p>I have create wss socket using springboot and it works fine I have tested using online tool as well as springboot client.\nthe socket is open at endpoint <code>wss://spring-ou5b.onrender.com/web-socket-endpoint and received message on /app/message</code>\nNow I am trying to send data to this socket using apache camel repo at\n<a href=\"https://github.com/rksharma1401/apache-camel-microservice\" rel=\"nofollow noreferrer\">https://github.com/rksharma1401/apache-camel-microservice</a></p>\n<p>Below is the route</p>\n<pre><code>  package learn.camelmicorservices.routes;\n\nimport org.apache.camel.InOut;\nimport org.apache.camel.Produce;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ActiveMqSenderRouter extends RouteBuilder {\n \n    @Override\n    @InOut\n    @Produce(value =&quot;app/message&quot; )\n    public void configure() throws Exception {\nint i=0;\n        from(&quot;timer:wss-timer?period=5000&quot;).transform().constant(&quot;{\\&quot;name\\&quot;:\\&quot;new&quot;+(++i)+&quot;\\&quot;}&quot; )\n            .log(&quot;Created&quot;+&quot;${body}&quot;)\n            .to(&quot;wss://spring-ou5b.onrender.com/web-socket-endpoint?sendToAll=true&quot;)\n            .log(&quot;After End&quot;+&quot;${body}&quot;);\n\n    }\n}\n</code></pre>\n<p>but I get error as</p>\n<blockquote>\n<p>Caused by: org.apache.camel.NoSuchEndpointException: No endpoint could\nbe found for: wss://.....</p>\n</blockquote>\n<p>which camel componet jar is needed for wss</p>\n<p>I have tried websocket,vertx,ahc but they don't send data or gives other errors</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688994119,"creation_date":1688994119,"answer_id":76654014,"question_id":76645291,"body_markdown":"You can add a validator to the message handler factory and annotate the parameter with `@Valid`; this externalizes the validation.\r\n\r\nhttps://docs.spring.io/spring-amqp/docs/current/reference/html/#async-annotation-driven-enable-signature\r\n\r\nhttps://docs.spring.io/spring-amqp/docs/current/reference/html/#rabbit-validation\r\n\r\n&gt;SonarLint issues I can&#39;t use more than 5 logical operators\r\n\r\nYou can reduce the condition count by storing intermediate results in local booleans and then check that all are true.","title":"How can I validate the queue message?","body":"<p>You can add a validator to the message handler factory and annotate the parameter with <code>@Valid</code>; this externalizes the validation.</p>\n<p><a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#async-annotation-driven-enable-signature\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/docs/current/reference/html/#async-annotation-driven-enable-signature</a></p>\n<p><a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#rabbit-validation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/docs/current/reference/html/#rabbit-validation</a></p>\n<blockquote>\n<p>SonarLint issues I can't use more than 5 logical operators</p>\n</blockquote>\n<p>You can reduce the condition count by storing intermediate results in local booleans and then check that all are true.</p>\n"}],"owner":{"account_id":19293862,"reputation":1,"user_id":14134518,"display_name":"joan0627"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688994315,"creation_date":1688858297,"question_id":76645291,"body_markdown":"Currently I have this code: \r\n\r\n```java\r\n@RabbitListener(queues = &quot;${rabbitmq.queue}&quot;)\r\npublic void receivedMessage(TransferPayment transferPayment) {\r\n  log.info(&quot;Received message: {}&quot;, transferPayment);\r\n\r\n  // TODO: please correct\r\n  if (transferPayment.getData().getSecurity() != null &amp;&amp;\r\n    transferPayment.getData().getNotification() != null &amp;&amp;\r\n    transferPayment.getData().getTransfer() != null &amp;&amp;\r\n    transferPayment.getData().getDisbursementDestination() != null &amp;&amp;\r\n    transferPayment.getData().getDisbursementDestination().getThirpartyDestination() != null &amp;&amp;\r\n    transferPayment.getData().getCustomer() != null &amp;&amp;\r\n    transferPayment.getData().getCustomer().getIdentification() != null &amp;&amp;\r\n    transferPayment.getData().getLoans() != null) {\r\n\r\n    notificationUseCase.notifyPayment(transferPayment);\r\n  }\r\n}\r\n```\r\n\r\n![Message of Queue][1]\r\n\r\nI want to improve the conditional and be able to perform the same validation correctly in a cleaner way. Keep in mind that due to SonarLint issues I can&#39;t use more than 5 logical operators in the conditional, I also want to correct that.\r\nI am using clean architecture and this code is in the infrastructure layer and object `TransferPayment` is in the domain layer.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vQTpd.png","title":"How can I validate the queue message?","body":"<p>Currently I have this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RabbitListener(queues = &quot;${rabbitmq.queue}&quot;)\npublic void receivedMessage(TransferPayment transferPayment) {\n  log.info(&quot;Received message: {}&quot;, transferPayment);\n\n  // TODO: please correct\n  if (transferPayment.getData().getSecurity() != null &amp;&amp;\n    transferPayment.getData().getNotification() != null &amp;&amp;\n    transferPayment.getData().getTransfer() != null &amp;&amp;\n    transferPayment.getData().getDisbursementDestination() != null &amp;&amp;\n    transferPayment.getData().getDisbursementDestination().getThirpartyDestination() != null &amp;&amp;\n    transferPayment.getData().getCustomer() != null &amp;&amp;\n    transferPayment.getData().getCustomer().getIdentification() != null &amp;&amp;\n    transferPayment.getData().getLoans() != null) {\n\n    notificationUseCase.notifyPayment(transferPayment);\n  }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/vQTpd.png\" alt=\"Message of Queue\" /></p>\n<p>I want to improve the conditional and be able to perform the same validation correctly in a cleaner way. Keep in mind that due to SonarLint issues I can't use more than 5 logical operators in the conditional, I also want to correct that.\nI am using clean architecture and this code is in the infrastructure layer and object <code>TransferPayment</code> is in the domain layer.</p>\n"},{"tags":["java","spring","pdf","itext","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1587121601,"post_id":61269801,"comment_id":108390112,"body_markdown":"Actually the error message says it all, you add the same iText document content objects to different pdf documents (each `getByteArray` creates a new document). This can cause issues, so it is forbidden. Generate separate sets of iText document content objects for different target documents. That been said, you directly add cells to a document. This probably will cause issues as cells are meant to be added to tables.","body":"Actually the error message says it all, you add the same iText document content objects to different pdf documents (each <code>getByteArray</code> creates a new document). This can cause issues, so it is forbidden. Generate separate sets of iText document content objects for different target documents. That been said, you directly add cells to a document. This probably will cause issues as cells are meant to be added to tables."},{"owner":{"account_id":18317022,"reputation":21,"user_id":13338599,"display_name":"AnySmallEmpsilon"},"score":0,"creation_date":1587124524,"post_id":61269801,"comment_id":108391738,"body_markdown":"...you add the same iText document content objects to different pdf documents - do you mean table, header and footer? \n\nTables are different for each method, footer and header are the same.","body":"...you add the same iText document content objects to different pdf documents - do you mean table, header and footer?   Tables are different for each method, footer and header are the same."},{"owner":{"account_id":18317022,"reputation":21,"user_id":13338599,"display_name":"AnySmallEmpsilon"},"score":0,"creation_date":1587132561,"post_id":61269801,"comment_id":108396603,"body_markdown":"@mkl Thank you, problem is solved.","body":"@mkl Thank you, problem is solved."}],"answers":[{"tags":[],"owner":{"account_id":18317022,"reputation":21,"user_id":13338599,"display_name":"AnySmallEmpsilon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1587203408,"creation_date":1587203408,"answer_id":61287154,"question_id":61269801,"body_markdown":"The problem is solved. \r\nFor **each document** must be generated **separate** sets of iText objects (Cell, Paragraph, Table ... ).","title":"Itext 7 PdfException - &quot;com.itextpdf.kernel.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.&quot;","body":"<p>The problem is solved. \nFor <strong>each document</strong> must be generated <strong>separate</strong> sets of iText objects (Cell, Paragraph, Table ... ).</p>\n"}],"owner":{"account_id":18317022,"reputation":21,"user_id":13338599,"display_name":"AnySmallEmpsilon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61287154,"answer_count":1,"score":0,"last_activity_date":1688994241,"creation_date":1587120576,"question_id":61269801,"body_markdown":"I&#39;m getting the exception described in the title when I&#39;m trying to print a few documents continuously.\r\n\r\nThe first one was printed but for second process doc.close() thrown exception. \r\n\r\n1.print methods. \r\n\r\n    private void print1(Cell header, Table table, Cell footer, int size) throws Exception {\r\n        byte[] bytes = somePrintService.getByteArray(header, table, footer, size);\r\n        somePrintService.printbytes(bytes);\r\n    }\r\n\r\n    private void print2(Cell header, Table table, Cell footer, int size) throws Exception {\r\n        byte[] bytes = somePrintService.getByteArray(header, table, footer, size);\r\n        somePrintService.printbytes(bytes);\r\n    }\r\n\r\n2.getByteArray method in somePrintService\r\n\r\n    public byte[] getByteArray(Cell header, Table table, Cell footer, int height) {\r\n\r\n     \r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\n        PdfWriter writer = new PdfWriter(outputStream);\r\n\r\n        PdfDocument pdf = new PdfDocument(writer);\r\n        Rectangle rectangle = new Rectangle(135f, height);\r\n        PageSize pageSize = new PageSize(rectangle);\r\n        pdf.setDefaultPageSize(pageSize);\r\n\r\n        Document doc = new Document(pdf);\r\n        doc.setMargins(0, 0, 0, 0);\r\n\r\n\r\n        doc.add(header);\r\n        doc.add(table);\r\n        doc.add(footer);\r\n\r\n\r\n        doc.close(); ------- Exception thrown here!!!\r\n\r\n        return outputStream.toByteArray();\r\n    }\r\n\r\n3.Itext kernel code which thrown exception\r\n\r\n    private void write(PdfIndirectReference indirectReference) {\r\n        if (document != null &amp;&amp; !indirectReference.getDocument().equals(document)) {\r\n            throw new PdfException(PdfException.PdfIndirectObjectBelongsToOtherPdfDocument);\r\n        }\r\n        ...\r\n    }\r\n\r\n**PS1.** I am using Spring services for creating tables, fonts e.t.c.\r\n\r\n**PS2.** Itext version - 7.1.10\r\n\r\nThank you.","title":"Itext 7 PdfException - &quot;com.itextpdf.kernel.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.&quot;","body":"<p>I'm getting the exception described in the title when I'm trying to print a few documents continuously.</p>\n\n<p>The first one was printed but for second process doc.close() thrown exception. </p>\n\n<p>1.print methods. </p>\n\n<pre><code>private void print1(Cell header, Table table, Cell footer, int size) throws Exception {\n    byte[] bytes = somePrintService.getByteArray(header, table, footer, size);\n    somePrintService.printbytes(bytes);\n}\n\nprivate void print2(Cell header, Table table, Cell footer, int size) throws Exception {\n    byte[] bytes = somePrintService.getByteArray(header, table, footer, size);\n    somePrintService.printbytes(bytes);\n}\n</code></pre>\n\n<p>2.getByteArray method in somePrintService</p>\n\n<pre><code>public byte[] getByteArray(Cell header, Table table, Cell footer, int height) {\n\n\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\n    PdfWriter writer = new PdfWriter(outputStream);\n\n    PdfDocument pdf = new PdfDocument(writer);\n    Rectangle rectangle = new Rectangle(135f, height);\n    PageSize pageSize = new PageSize(rectangle);\n    pdf.setDefaultPageSize(pageSize);\n\n    Document doc = new Document(pdf);\n    doc.setMargins(0, 0, 0, 0);\n\n\n    doc.add(header);\n    doc.add(table);\n    doc.add(footer);\n\n\n    doc.close(); ------- Exception thrown here!!!\n\n    return outputStream.toByteArray();\n}\n</code></pre>\n\n<p>3.Itext kernel code which thrown exception</p>\n\n<pre><code>private void write(PdfIndirectReference indirectReference) {\n    if (document != null &amp;&amp; !indirectReference.getDocument().equals(document)) {\n        throw new PdfException(PdfException.PdfIndirectObjectBelongsToOtherPdfDocument);\n    }\n    ...\n}\n</code></pre>\n\n<p><strong>PS1.</strong> I am using Spring services for creating tables, fonts e.t.c.</p>\n\n<p><strong>PS2.</strong> Itext version - 7.1.10</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":6017569,"reputation":3366,"user_id":8007341,"display_name":"Kishan Maurya"},"score":0,"creation_date":1688450138,"post_id":76609614,"comment_id":135071828,"body_markdown":"There are permission changes from Android 12 in bluetooth permissions. https://developer.android.com/guide/topics/connectivity/bluetooth/permissions.     \n Get permission at runtime\n\nhttps://developer.android.com/guide/topics/connectivity/bluetooth/permissions#availability","body":"There are permission changes from Android 12 in bluetooth permissions. <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/bluetooth/&hellip;</a>.       Get permission at runtime  <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions#availability\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/bluetooth/&hellip;</a>"},{"owner":{"account_id":14629397,"reputation":71,"user_id":10565722,"display_name":"rover cj"},"score":0,"creation_date":1688452162,"post_id":76609614,"comment_id":135072108,"body_markdown":"I have permissions in manifest file but still not working","body":"I have permissions in manifest file but still not working"},{"owner":{"account_id":6017569,"reputation":3366,"user_id":8007341,"display_name":"Kishan Maurya"},"score":1,"creation_date":1688452425,"post_id":76609614,"comment_id":135072156,"body_markdown":"Adding in manifest is mandatory and asking runtime is also mandatory. If you just declare in manifest then android system wouldn&#39;t grant automatically. you have to request for permission.","body":"Adding in manifest is mandatory and asking runtime is also mandatory. If you just declare in manifest then android system wouldn&#39;t grant automatically. you have to request for permission."},{"owner":{"account_id":14629397,"reputation":71,"user_id":10565722,"display_name":"rover cj"},"score":0,"creation_date":1688452619,"post_id":76609614,"comment_id":135072194,"body_markdown":"In my activity code I used ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100); to get run time permission. Is this correct or is there any other way to get run time permission","body":"In my activity code I used ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100); to get run time permission. Is this correct or is there any other way to get run time permission"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1688993960,"post_id":76609614,"comment_id":135145838,"body_markdown":"&quot;`- tmp = device.createRfcommSocketToServiceRecord(MY_UUID);`&quot; seems unlikely to have been in the source code (it would seem to result in a compile error)","body":"&quot;<code>- tmp = device.createRfcommSocketToServiceRecord(MY_UUID);</code>&quot; seems unlikely to have been in the source code (it would seem to result in a compile error)"}],"owner":{"account_id":14629397,"reputation":71,"user_id":10565722,"display_name":"rover cj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688993827,"creation_date":1688448590,"question_id":76609614,"body_markdown":"I have created an app to communicate with a Bluetooth module connected to an [Arduino][1]. The app works fine on [Android&amp;nbsp;11][2].\r\n\r\nBut when I run the app on [Android 13][3], at first the app crashes and the log shows Android permission Bluetooth connect is required, even though I have written code to ask for permission for Bluetooth connect and Bluetooth scan.\r\n\r\nI&#39;m only getting the popup to allow to find, connect to and determine the relative position of nearby devices and not any popup to turn on Bluetooth.\r\n\r\nWhen I open the app again with Bluetooth turned on manually, the paired devices are shown and when tried to connect, app crashes again and error shows permission Bluetooth scan is required.\r\nWhen I open the app again and try to connect, the error shows socket might closed or timed out\r\n\r\nMy manifest:\r\n\r\n```lang-xml\r\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;\r\n                     android:usesPermissionFlags=&quot;neverForLocation&quot;\r\n                     tools:targetApi=&quot;s&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot;\r\n                  android:required=&quot;true&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot;\r\n                  android:required=&quot;true&quot;/&gt;\r\n```\r\n\r\nWhen the app is launched, the app crashes, showing:\r\n\r\n```lang-none\r\nCaused by: java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for android.content.AttributionSource@1954ea10: AdapterService getBondedDevices\r\nat com.android.bluetooth.Utils.checkPermissionForDataDelivery(Utils.java:473)\r\nat com.android.bluetooth.Utils.checkConnectPermissionForDataDelivery(Utils.java:505)\r\nat com.android.bluetooth.btservice.AdapterService$AdapterServiceBinder.getBondedDevices(AdapterService.java:2748)\r\nat com.android.bluetooth.btservice.AdapterService$AdapterServiceBinder.getBondedDevices(AdapterService.java:2740)\r\n```\r\n\r\nWhen the app is opened the second time and tries to connect with a paired device, the error shows:\r\n\r\n```lang-none\r\nFATAL EXCEPTION: Thread-3\r\nProcess: com.example.angelhand, PID: 30081\r\njava.lang.SecurityException: Need android.permission.BLUETOOTH_SCAN permission for android.content.AttributionSource@4edec11c: AdapterService cancelDiscovery\r\n    at com.android.bluetooth.Utils.checkPermissionForDataDelivery(Utils.java:473)\r\n    at com.android.bluetooth.Utils.checkScanPermissionForDataDelivery(Utils.java:532)\r\n```\r\n\r\nIf I log the socket I get, android.bluetooth.BluetoothSocket@ff3109c.\r\n\r\nAgain when I open and try to connect, the error shows:\r\n\r\n```lang-none\r\nrun:\r\njava.io.IOException: read failed, socket might closed or timeout, read ret: -1\r\n    at android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:815)\r\n```\r\n\r\nMy activity code:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private String TAG = &quot;MainActivity&quot;;\r\n    private RecyclerView recyclerView;\r\n    RelativeLayout developer_btn;\r\n    public ImageButton disconnect_btn, refresh_btn;\r\n    private DeviceListAdapter deviceListAdapter;\r\n    private List deviceList = new ArrayList&lt;&gt;();\r\n    private DeviceListModel deviceListModel;\r\n    MyApp myApp;\r\n    BluetoothAdapter bluetoothAdapter;\r\n    BluetoothManager bluetoothManager;\r\n    BluetoothDevice[] btArray;\r\n    Set&lt;BluetoothDevice&gt; set_pairedDevices;\r\n    BluetoothSocket bsocket;\r\n    public TextView connect_status,no_device_msg;\r\n    public RelativeLayout device_item, connect_layout;\r\n    public boolean ble_connected = false;\r\n    Object[] bondedObj;\r\n    public static final int STATE_LISTENING = 1;\r\n    public static final int STATE_CONNECTING = 2;\r\n    public static final int STATE_CONNECTED = 3;\r\n    public static final int STATE_CONNECTION_FAILED = 4;\r\n    public static final int STATE_MESSAGE_RECEIVED = 5;\r\n    public static final int STATE_MESSAGE_WRITE = 6;\r\n    private final static int MESSAGE_READ = 7;\r\n    public static final int ACTION_DEVICE_CONNECT = 1;\r\n    public static final int ACTION_DEVICE_DISCONNECT = 2;\r\n    public static final int REQUEST_ENABLE_BLUETOOTH = 1;\r\n\r\n    private static final UUID MY_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        myApp = ((MyApp) getApplicationContext());\r\n        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n        connect_layout = findViewById(R.id.connect_layout);\r\n        developer_btn = findViewById(R.id.developer_btn);\r\n        disconnect_btn = findViewById(R.id.disconnect_btn);\r\n        refresh_btn = findViewById(R.id.refresh_btn);\r\n        no_device_msg = findViewById(R.id.no_device_msg);\r\n        recyclerView = findViewById(R.id.device_list_recycler_view);\r\n        deviceListAdapter = new DeviceListAdapter(deviceList, this, myApp);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(this);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        recyclerView.setAdapter(deviceListAdapter);\r\n        initBluetooth();\r\n        no_device_msg.setVisibility(View.GONE);\r\n        disconnect_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                TextView tv = null;\r\n                deviceConnection(tv, null, 0, ACTION_DEVICE_DISCONNECT);\r\n\r\n            }\r\n        });\r\n        refresh_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                findPairedDevices();\r\n            }\r\n        });\r\n        developer_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (ble_connected) {\r\n                    Intent i = new Intent(MainActivity.this, DeveloperActivity.class);\r\n                    startActivity(i);\r\n                } else {\r\n                    Snackbar snackbar = Snackbar.make(connect_layout,&quot;Connect to a device&quot;, 500);\r\n                    snackbar.show();\r\n                    Intent i = new Intent(MainActivity.this, DeveloperActivity.class);\r\n                    startActivity(i);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public void onResume() {\r\n        super.onResume();\r\n        deviceConnection(null, null, 0, ACTION_DEVICE_DISCONNECT);\r\n    }\r\n\r\n    private void initBluetooth() {\r\n        if (bluetoothAdapter == null) {\r\n            // Device doesn&#39;t support Bluetooth\r\n            Toast.makeText(getApplicationContext(), &quot;Your Device doesn&#39;t support bluetooth&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        if (!bluetoothAdapter.isEnabled()) {\r\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                if (Build.VERSION.SDK_INT &gt;= 31) {\r\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100);\r\n                    //findPairedDevices();\r\n                }\r\n            }\r\n            if (Build.VERSION.SDK_INT &lt; 31) {\r\n                startActivityForResult(enableBtIntent, REQUEST_ENABLE_BLUETOOTH);\r\n            }\r\n        } else {\r\n            findPairedDevices();\r\n        }\r\n    }\r\n\r\n    public void findPairedDevices() {\r\n        no_device_msg.setVisibility(View.GONE);\r\n        deviceList.clear();\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n            if (Build.VERSION.SDK_INT &gt;= 31) {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100);\r\n            }\r\n        }\r\n        bluetoothManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= 31) {\r\n            bluetoothAdapter = bluetoothManager.getAdapter();\r\n        } else {\r\n            bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n        }\r\n        set_pairedDevices = bluetoothAdapter.getBondedDevices();\r\n        Log.w(TAG, &quot;findPairedDevices set_paired: &quot; + set_pairedDevices);\r\n        if (set_pairedDevices.size() &gt; 0) {\r\n            no_device_msg.setVisibility(View.GONE);\r\n            for (BluetoothDevice device : set_pairedDevices) {\r\n                String deviceName = device.getName();\r\n                String deviceHardwareAddress = device.getAddress();\r\n                bondedObj = set_pairedDevices.toArray();\r\n                deviceListModel = new DeviceListModel(deviceName, deviceHardwareAddress);\r\n                deviceList.add(deviceListModel);\r\n                deviceListAdapter.notifyDataSetChanged();\r\n            }\r\n        }\r\n        else{\r\n            no_device_msg.setVisibility(View.VISIBLE);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (resultCode == RESULT_OK) {\r\n            findPairedDevices();\r\n        }\r\n    }\r\n\r\n\r\n    //Handler\r\n    Handler handler = new Handler(new Handler.Callback() {\r\n        @Override\r\n        public boolean handleMessage(@NonNull Message msg) {\r\n            switch (msg.what) {\r\n                case STATE_LISTENING:\r\n                    break;\r\n                case STATE_CONNECTING:\r\n                    connect_status.setText(&quot;Connecting...&quot;);\r\n                    connect_status.setTextColor(getResources().getColor(R.color.device_connecting));\r\n                    device_item.setBackground(getResources().getDrawable(R.drawable.device_bg_active));\r\n                    ble_connected = false;\r\n                    break;\r\n                case STATE_CONNECTED:\r\n                    device_item.setBackground(getResources().getDrawable(R.drawable.device_bg_connected));\r\n                    connect_status.setTextColor(getResources().getColor(R.color.ok_green));\r\n                    connect_status.setText(&quot;Connected&quot;);\r\n                    ble_connected = true;\r\n                    break;\r\n                case STATE_CONNECTION_FAILED:\r\n                    device_item.setBackground(getResources().getDrawable(R.drawable.device_item_bg));\r\n                    connect_status.setTextColor(getResources().getColor(R.color.error_red));\r\n                    connect_status.setText(&quot;Connection failed&quot;);\r\n                    ble_connected = false;\r\n                    break;\r\n                case MESSAGE_READ:\r\n                    String arduinoMsg = msg.obj.toString(); // Read message from Arduino\r\n                    break;\r\n                case STATE_MESSAGE_RECEIVED:\r\n                    byte[] readBuff = (byte[]) msg.obj;\r\n                    String tmp_msg = new String(readBuff, 0, msg.arg1);\r\n                    break;\r\n                case STATE_MESSAGE_WRITE:\r\n                    break;\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n\r\n\r\n    private class ConnectThread extends Thread {\r\n        private final BluetoothSocket mmSocket;\r\n        private final BluetoothDevice mmDevice;\r\n\r\n        public ConnectThread(BluetoothDevice device) {\r\n\r\n            BluetoothSocket tmp = null;\r\n            mmDevice = device;\r\n            try {\r\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    if (Build.VERSION.SDK_INT &gt;= 31) {\r\n                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100);\r\n                    }\r\n                }\r\n- tmp = device.createRfcommSocketToServiceRecord(MY_UUID);\r\n            } catch (IOException e) {\r\n            }\r\n            mmSocket = tmp;\r\n            Log.w(TAG, &quot;ConnectThread: &quot;+mmSocket);\r\n        }\r\n\r\n        public void run() {\r\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\r\n                if (Build.VERSION.SDK_INT &gt;= 31) {\r\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_SCAN}, 100);\r\n                }\r\n            }\r\n            bluetoothAdapter.cancelDiscovery();\r\n            try {\r\n                handler.obtainMessage(STATE_CONNECTING).sendToTarget();\r\n                mmSocket.connect();\r\n                handler.obtainMessage(STATE_CONNECTED).sendToTarget();\r\n            } catch (IOException connectException) {\r\n                // Unable to connect; close the socket and get out\r\n                handler.obtainMessage(STATE_CONNECTION_FAILED).sendToTarget();\r\n                Log.e(TAG, &quot;run: &quot;, connectException);\r\n                try {\r\n                    mmSocket.close();\r\n                } catch (IOException closeException) { }\r\n                return;\r\n            }\r\n            bsocket = mmSocket;\r\n            myApp.setB_socket(bsocket);\r\n            myApp.setB_device_address(mmDevice.getAddress());\r\n        }\r\n\r\n        /** Will cancel an in-progress connection, and close the socket */\r\n        public void cancel() {\r\n            try {\r\n                mmSocket.close();\r\n                myApp.setB_socket(null);\r\n                myApp.setB_device_address(&quot;&quot;);\r\n                myApp.setB_device_name(&quot;&quot;);\r\n            } catch (IOException e) { }\r\n        }\r\n    }\r\n\r\n    public void deviceConnection(TextView conn_status, RelativeLayout dev_item, int position, int actionCode){\r\n        BluetoothSocket connectedSocket;\r\n        connectedSocket = myApp.getB_socket();\r\n        if(actionCode == ACTION_DEVICE_CONNECT){\r\n            connect_status = conn_status;\r\n            device_item = dev_item;\r\n            if (connectedSocket == null){\r\n                BluetoothSocket bs=null;\r\n                BluetoothDevice device = (BluetoothDevice) bondedObj[position];\r\n                ConnectThread connectThread = new ConnectThread(device);\r\n                connectThread.start();\r\n            }\r\n            else{\r\n                Log.w(TAG, &quot;deviceConnection: Already connected&quot; );\r\n                connect_status.setText(&quot;Connected&quot;);\r\n            }\r\n        }\r\n        else if(actionCode == ACTION_DEVICE_DISCONNECT){\r\n            if (connectedSocket != null){\r\n                try {\r\n                    connectedSocket.close();\r\n                    myApp.setB_socket(null);\r\n                    myApp.setB_device_address(&quot;&quot;);\r\n                    myApp.setB_device_name(&quot;&quot;);\r\n                    Snackbar snackbar = Snackbar.make(connect_layout,&quot;Disconnected&quot;, Snackbar.LENGTH_SHORT);\r\n                    snackbar.show();\r\n                    findPairedDevices();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            ble_connected = false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have tried changing my [UUID][4], but it didn&#39;t work. I also tried to create socket using createInsecureRfcommSocketToServiceRecord() method, but it didn&#39;t work either.\r\n\r\nI don&#39;t know if it helps, but when I connect my phone (Android 13 which is having the said issue) to a Bluetooth headset and then when I try to connect to the desired paired device through the app, sometimes (only sometimes) the app gets connected and I&#39;m able to send and receive data.\r\n\r\nIs there another way to launch runtime permissions in Java?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Arduino\r\n  [2]: https://en.wikipedia.org/wiki/Android_11\r\n  [3]: https://en.wikipedia.org/wiki/Android_13\r\n  [4]: https://en.wikipedia.org/wiki/Universally_unique_identifier\r\n","title":"The app crashes and is not connecting to a Bluetooth-paired device on Android 12 and greater. But it works fine on Android version 11 devices","body":"<p>I have created an app to communicate with a Bluetooth module connected to an <a href=\"https://en.wikipedia.org/wiki/Arduino\" rel=\"nofollow noreferrer\">Arduino</a>. The app works fine on <a href=\"https://en.wikipedia.org/wiki/Android_11\" rel=\"nofollow noreferrer\">Android11</a>.</p>\n<p>But when I run the app on <a href=\"https://en.wikipedia.org/wiki/Android_13\" rel=\"nofollow noreferrer\">Android 13</a>, at first the app crashes and the log shows Android permission Bluetooth connect is required, even though I have written code to ask for permission for Bluetooth connect and Bluetooth scan.</p>\n<p>I'm only getting the popup to allow to find, connect to and determine the relative position of nearby devices and not any popup to turn on Bluetooth.</p>\n<p>When I open the app again with Bluetooth turned on manually, the paired devices are shown and when tried to connect, app crashes again and error shows permission Bluetooth scan is required.\nWhen I open the app again and try to connect, the error shows socket might closed or timed out</p>\n<p>My manifest:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;\n                     android:usesPermissionFlags=&quot;neverForLocation&quot;\n                     tools:targetApi=&quot;s&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot;\n                  android:required=&quot;true&quot;/&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot;\n                  android:required=&quot;true&quot;/&gt;\n</code></pre>\n<p>When the app is launched, the app crashes, showing:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for android.content.AttributionSource@1954ea10: AdapterService getBondedDevices\nat com.android.bluetooth.Utils.checkPermissionForDataDelivery(Utils.java:473)\nat com.android.bluetooth.Utils.checkConnectPermissionForDataDelivery(Utils.java:505)\nat com.android.bluetooth.btservice.AdapterService$AdapterServiceBinder.getBondedDevices(AdapterService.java:2748)\nat com.android.bluetooth.btservice.AdapterService$AdapterServiceBinder.getBondedDevices(AdapterService.java:2740)\n</code></pre>\n<p>When the app is opened the second time and tries to connect with a paired device, the error shows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>FATAL EXCEPTION: Thread-3\nProcess: com.example.angelhand, PID: 30081\njava.lang.SecurityException: Need android.permission.BLUETOOTH_SCAN permission for android.content.AttributionSource@4edec11c: AdapterService cancelDiscovery\n    at com.android.bluetooth.Utils.checkPermissionForDataDelivery(Utils.java:473)\n    at com.android.bluetooth.Utils.checkScanPermissionForDataDelivery(Utils.java:532)\n</code></pre>\n<p>If I log the socket I get, android.bluetooth.BluetoothSocket@ff3109c.</p>\n<p>Again when I open and try to connect, the error shows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>run:\njava.io.IOException: read failed, socket might closed or timeout, read ret: -1\n    at android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:815)\n</code></pre>\n<p>My activity code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private String TAG = &quot;MainActivity&quot;;\n    private RecyclerView recyclerView;\n    RelativeLayout developer_btn;\n    public ImageButton disconnect_btn, refresh_btn;\n    private DeviceListAdapter deviceListAdapter;\n    private List deviceList = new ArrayList&lt;&gt;();\n    private DeviceListModel deviceListModel;\n    MyApp myApp;\n    BluetoothAdapter bluetoothAdapter;\n    BluetoothManager bluetoothManager;\n    BluetoothDevice[] btArray;\n    Set&lt;BluetoothDevice&gt; set_pairedDevices;\n    BluetoothSocket bsocket;\n    public TextView connect_status,no_device_msg;\n    public RelativeLayout device_item, connect_layout;\n    public boolean ble_connected = false;\n    Object[] bondedObj;\n    public static final int STATE_LISTENING = 1;\n    public static final int STATE_CONNECTING = 2;\n    public static final int STATE_CONNECTED = 3;\n    public static final int STATE_CONNECTION_FAILED = 4;\n    public static final int STATE_MESSAGE_RECEIVED = 5;\n    public static final int STATE_MESSAGE_WRITE = 6;\n    private final static int MESSAGE_READ = 7;\n    public static final int ACTION_DEVICE_CONNECT = 1;\n    public static final int ACTION_DEVICE_DISCONNECT = 2;\n    public static final int REQUEST_ENABLE_BLUETOOTH = 1;\n\n    private static final UUID MY_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        myApp = ((MyApp) getApplicationContext());\n        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n        connect_layout = findViewById(R.id.connect_layout);\n        developer_btn = findViewById(R.id.developer_btn);\n        disconnect_btn = findViewById(R.id.disconnect_btn);\n        refresh_btn = findViewById(R.id.refresh_btn);\n        no_device_msg = findViewById(R.id.no_device_msg);\n        recyclerView = findViewById(R.id.device_list_recycler_view);\n        deviceListAdapter = new DeviceListAdapter(deviceList, this, myApp);\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setAdapter(deviceListAdapter);\n        initBluetooth();\n        no_device_msg.setVisibility(View.GONE);\n        disconnect_btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                TextView tv = null;\n                deviceConnection(tv, null, 0, ACTION_DEVICE_DISCONNECT);\n\n            }\n        });\n        refresh_btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                findPairedDevices();\n            }\n        });\n        developer_btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (ble_connected) {\n                    Intent i = new Intent(MainActivity.this, DeveloperActivity.class);\n                    startActivity(i);\n                } else {\n                    Snackbar snackbar = Snackbar.make(connect_layout,&quot;Connect to a device&quot;, 500);\n                    snackbar.show();\n                    Intent i = new Intent(MainActivity.this, DeveloperActivity.class);\n                    startActivity(i);\n                }\n            }\n        });\n    }\n\n    public void onResume() {\n        super.onResume();\n        deviceConnection(null, null, 0, ACTION_DEVICE_DISCONNECT);\n    }\n\n    private void initBluetooth() {\n        if (bluetoothAdapter == null) {\n            // Device doesn't support Bluetooth\n            Toast.makeText(getApplicationContext(), &quot;Your Device doesn't support bluetooth&quot;, Toast.LENGTH_SHORT).show();\n        }\n        if (!bluetoothAdapter.isEnabled()) {\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                if (Build.VERSION.SDK_INT &gt;= 31) {\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100);\n                    //findPairedDevices();\n                }\n            }\n            if (Build.VERSION.SDK_INT &lt; 31) {\n                startActivityForResult(enableBtIntent, REQUEST_ENABLE_BLUETOOTH);\n            }\n        } else {\n            findPairedDevices();\n        }\n    }\n\n    public void findPairedDevices() {\n        no_device_msg.setVisibility(View.GONE);\n        deviceList.clear();\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n            if (Build.VERSION.SDK_INT &gt;= 31) {\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100);\n            }\n        }\n        bluetoothManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\n        if (Build.VERSION.SDK_INT &gt;= 31) {\n            bluetoothAdapter = bluetoothManager.getAdapter();\n        } else {\n            bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n        }\n        set_pairedDevices = bluetoothAdapter.getBondedDevices();\n        Log.w(TAG, &quot;findPairedDevices set_paired: &quot; + set_pairedDevices);\n        if (set_pairedDevices.size() &gt; 0) {\n            no_device_msg.setVisibility(View.GONE);\n            for (BluetoothDevice device : set_pairedDevices) {\n                String deviceName = device.getName();\n                String deviceHardwareAddress = device.getAddress();\n                bondedObj = set_pairedDevices.toArray();\n                deviceListModel = new DeviceListModel(deviceName, deviceHardwareAddress);\n                deviceList.add(deviceListModel);\n                deviceListAdapter.notifyDataSetChanged();\n            }\n        }\n        else{\n            no_device_msg.setVisibility(View.VISIBLE);\n        }\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (resultCode == RESULT_OK) {\n            findPairedDevices();\n        }\n    }\n\n\n    //Handler\n    Handler handler = new Handler(new Handler.Callback() {\n        @Override\n        public boolean handleMessage(@NonNull Message msg) {\n            switch (msg.what) {\n                case STATE_LISTENING:\n                    break;\n                case STATE_CONNECTING:\n                    connect_status.setText(&quot;Connecting...&quot;);\n                    connect_status.setTextColor(getResources().getColor(R.color.device_connecting));\n                    device_item.setBackground(getResources().getDrawable(R.drawable.device_bg_active));\n                    ble_connected = false;\n                    break;\n                case STATE_CONNECTED:\n                    device_item.setBackground(getResources().getDrawable(R.drawable.device_bg_connected));\n                    connect_status.setTextColor(getResources().getColor(R.color.ok_green));\n                    connect_status.setText(&quot;Connected&quot;);\n                    ble_connected = true;\n                    break;\n                case STATE_CONNECTION_FAILED:\n                    device_item.setBackground(getResources().getDrawable(R.drawable.device_item_bg));\n                    connect_status.setTextColor(getResources().getColor(R.color.error_red));\n                    connect_status.setText(&quot;Connection failed&quot;);\n                    ble_connected = false;\n                    break;\n                case MESSAGE_READ:\n                    String arduinoMsg = msg.obj.toString(); // Read message from Arduino\n                    break;\n                case STATE_MESSAGE_RECEIVED:\n                    byte[] readBuff = (byte[]) msg.obj;\n                    String tmp_msg = new String(readBuff, 0, msg.arg1);\n                    break;\n                case STATE_MESSAGE_WRITE:\n                    break;\n            }\n            return true;\n        }\n    });\n\n\n    private class ConnectThread extends Thread {\n        private final BluetoothSocket mmSocket;\n        private final BluetoothDevice mmDevice;\n\n        public ConnectThread(BluetoothDevice device) {\n\n            BluetoothSocket tmp = null;\n            mmDevice = device;\n            try {\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                    if (Build.VERSION.SDK_INT &gt;= 31) {\n                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100);\n                    }\n                }\n- tmp = device.createRfcommSocketToServiceRecord(MY_UUID);\n            } catch (IOException e) {\n            }\n            mmSocket = tmp;\n            Log.w(TAG, &quot;ConnectThread: &quot;+mmSocket);\n        }\n\n        public void run() {\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\n                if (Build.VERSION.SDK_INT &gt;= 31) {\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_SCAN}, 100);\n                }\n            }\n            bluetoothAdapter.cancelDiscovery();\n            try {\n                handler.obtainMessage(STATE_CONNECTING).sendToTarget();\n                mmSocket.connect();\n                handler.obtainMessage(STATE_CONNECTED).sendToTarget();\n            } catch (IOException connectException) {\n                // Unable to connect; close the socket and get out\n                handler.obtainMessage(STATE_CONNECTION_FAILED).sendToTarget();\n                Log.e(TAG, &quot;run: &quot;, connectException);\n                try {\n                    mmSocket.close();\n                } catch (IOException closeException) { }\n                return;\n            }\n            bsocket = mmSocket;\n            myApp.setB_socket(bsocket);\n            myApp.setB_device_address(mmDevice.getAddress());\n        }\n\n        /** Will cancel an in-progress connection, and close the socket */\n        public void cancel() {\n            try {\n                mmSocket.close();\n                myApp.setB_socket(null);\n                myApp.setB_device_address(&quot;&quot;);\n                myApp.setB_device_name(&quot;&quot;);\n            } catch (IOException e) { }\n        }\n    }\n\n    public void deviceConnection(TextView conn_status, RelativeLayout dev_item, int position, int actionCode){\n        BluetoothSocket connectedSocket;\n        connectedSocket = myApp.getB_socket();\n        if(actionCode == ACTION_DEVICE_CONNECT){\n            connect_status = conn_status;\n            device_item = dev_item;\n            if (connectedSocket == null){\n                BluetoothSocket bs=null;\n                BluetoothDevice device = (BluetoothDevice) bondedObj[position];\n                ConnectThread connectThread = new ConnectThread(device);\n                connectThread.start();\n            }\n            else{\n                Log.w(TAG, &quot;deviceConnection: Already connected&quot; );\n                connect_status.setText(&quot;Connected&quot;);\n            }\n        }\n        else if(actionCode == ACTION_DEVICE_DISCONNECT){\n            if (connectedSocket != null){\n                try {\n                    connectedSocket.close();\n                    myApp.setB_socket(null);\n                    myApp.setB_device_address(&quot;&quot;);\n                    myApp.setB_device_name(&quot;&quot;);\n                    Snackbar snackbar = Snackbar.make(connect_layout,&quot;Disconnected&quot;, Snackbar.LENGTH_SHORT);\n                    snackbar.show();\n                    findPairedDevices();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n            ble_connected = false;\n        }\n    }\n}\n</code></pre>\n<p>I have tried changing my <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID</a>, but it didn't work. I also tried to create socket using createInsecureRfcommSocketToServiceRecord() method, but it didn't work either.</p>\n<p>I don't know if it helps, but when I connect my phone (Android 13 which is having the said issue) to a Bluetooth headset and then when I try to connect to the desired paired device through the app, sometimes (only sometimes) the app gets connected and I'm able to send and receive data.</p>\n<p>Is there another way to launch runtime permissions in Java?</p>\n"},{"tags":["java","android","android-studio","adb","logcat"],"comments":[{"owner":{"account_id":5248259,"reputation":4894,"user_id":4193263,"display_name":"ByteHamster"},"score":0,"creation_date":1425315722,"post_id":28815356,"comment_id":45902491,"body_markdown":"Sometimes it takes 1-3 minutes after recognizing the device before the logcat is shown. Any idea on how to fix it would be great.","body":"Sometimes it takes 1-3 minutes after recognizing the device before the logcat is shown. Any idea on how to fix it would be great."},{"owner":{"account_id":1792154,"reputation":13859,"user_id":1632286,"accept_rate":94,"display_name":"squiroid"},"score":0,"creation_date":1425315863,"post_id":28815356,"comment_id":45902589,"body_markdown":"I tried it multiple times but nothing is showing inside the logcat tab while running the app instead logs are generated during debugging.","body":"I tried it multiple times but nothing is showing inside the logcat tab while running the app instead logs are generated during debugging."},{"owner":{"account_id":5607464,"reputation":1701,"user_id":4441477,"display_name":"jw_"},"score":0,"creation_date":1563167461,"post_id":28815356,"comment_id":100595583,"body_markdown":"just FYI, I restart all ,and log cat still doesn&#39;t show anything, but seems after I choose another process to show then change to the app under debug, and check &quot;Show only selected application&quot;, then it begin to show. Not sure whether these are the reasons to solve the problem.","body":"just FYI, I restart all ,and log cat still doesn&#39;t show anything, but seems after I choose another process to show then change to the app under debug, and check &quot;Show only selected application&quot;, then it begin to show. Not sure whether these are the reasons to solve the problem."},{"owner":{"account_id":7925975,"reputation":135,"user_id":5985401,"display_name":"simon"},"score":0,"creation_date":1601568774,"post_id":28815356,"comment_id":113454887,"body_markdown":"Simply restart your device developer settings","body":"Simply restart your device developer settings"}],"answers":[{"comments":[{"owner":{"account_id":1792154,"reputation":13859,"user_id":1632286,"accept_rate":94,"display_name":"squiroid"},"score":2,"creation_date":1425315792,"post_id":28815414,"comment_id":45902545,"body_markdown":"I can see the panal but there is nothing inside it.","body":"I can see the panal but there is nothing inside it."},{"owner":{"account_id":1792154,"reputation":13859,"user_id":1632286,"accept_rate":94,"display_name":"squiroid"},"score":2,"creation_date":1425316410,"post_id":28815414,"comment_id":45902908,"body_markdown":"I already mentioned it that i already restarted adb but nothing happened.","body":"I already mentioned it that i already restarted adb but nothing happened."},{"owner":{"account_id":1063098,"reputation":3550,"user_id":1064310,"accept_rate":100,"display_name":"Tristan"},"score":0,"creation_date":1425316436,"post_id":28815414,"comment_id":45902924,"body_markdown":"Ah my bad, thought you meant restarted Android Studio. Have you tried restarting Android Studio, logcat, and adb?","body":"Ah my bad, thought you meant restarted Android Studio. Have you tried restarting Android Studio, logcat, and adb?"}],"tags":[],"owner":{"account_id":1063098,"reputation":3550,"user_id":1064310,"accept_rate":100,"display_name":"Tristan"},"comment_count":3,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1470286115,"creation_date":1425315678,"answer_id":28815414,"question_id":28815356,"body_markdown":" - You may be hiding it, try pressing **Alt + 6** to open Log tab.\r\n   \r\n -  Look at the log level:- it must be verbose.\r\n   \r\n -  Restart adb.\r\n   \r\n -  If that doesn&#39;t works restart the android studio.","title":"Android Studio Logcat not showing logs","body":"<ul>\n<li><p>You may be hiding it, try pressing <strong>Alt + 6</strong> to open Log tab.</p></li>\n<li><p>Look at the log level:- it must be verbose.</p></li>\n<li><p>Restart adb.</p></li>\n<li><p>If that doesn't works restart the android studio.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5531569,"reputation":632,"user_id":4391398,"accept_rate":21,"display_name":"Clive Sargeant"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636339498,"creation_date":1460040242,"answer_id":36479620,"question_id":28815356,"body_markdown":"First, my problem: I was testing an app on a Samsung Galaxy A3 attached via usb cable. I was getting the usual logCat messages, including the filtered ones then all of a sudden the logCat stopped displaying filtered messages. Setting it to Verbose displayed a continues stream of messages with a message at the top left corner of the logCat stating &quot;too much output to display&quot;. \r\n\r\nI tried restarting Android Studio (with and without clearing the cache) but no luck. I then rebooted my phone and everything was back to normal. So it appeared that the attached phone was the problem, sending too much info to the logCat.","title":"Android Studio Logcat not showing logs","body":"<p>First, my problem: I was testing an app on a Samsung Galaxy A3 attached via usb cable. I was getting the usual logCat messages, including the filtered ones then all of a sudden the logCat stopped displaying filtered messages. Setting it to Verbose displayed a continues stream of messages with a message at the top left corner of the logCat stating &quot;too much output to display&quot;.</p>\n<p>I tried restarting Android Studio (with and without clearing the cache) but no luck. I then rebooted my phone and everything was back to normal. So it appeared that the attached phone was the problem, sending too much info to the logCat.</p>\n"},{"tags":[],"owner":{"account_id":7143487,"reputation":65,"user_id":5460154,"display_name":"Kapil Bhagia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462250639,"creation_date":1462250639,"answer_id":36995760,"question_id":28815356,"body_markdown":"I had this code:\r\n\r\n     Log.e(getMyName(),message);\r\n\r\nThe problem with this was, the variable that the getter method was accessing was null. Android Studio did not give me any error about it! Seems this was silently not letting the Log.e statement to work. I checked many blogs but couldn&#39;t find the solution. This small miss wasted my complete one hour. Hope this helps someone.","title":"Android Studio Logcat not showing logs","body":"<p>I had this code:</p>\n\n<pre><code> Log.e(getMyName(),message);\n</code></pre>\n\n<p>The problem with this was, the variable that the getter method was accessing was null. Android Studio did not give me any error about it! Seems this was silently not letting the Log.e statement to work. I checked many blogs but couldn't find the solution. This small miss wasted my complete one hour. Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":9186257,"reputation":11,"user_id":6828358,"display_name":"Peter Loane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636339356,"creation_date":1473801744,"answer_id":39479178,"question_id":28815356,"body_markdown":"Check you don&#39;t have something in the logcat search that returns no matches, for example a non existent package name.\r\n\r\nI had renamed my packages, but left an old name in the logcat search field.\r\n\r\nResult: No logcat output visible","title":"Android Studio Logcat not showing logs","body":"<p>Check you don't have something in the logcat search that returns no matches, for example a non existent package name.</p>\n<p>I had renamed my packages, but left an old name in the logcat search field.</p>\n<p>Result: No logcat output visible</p>\n"},{"tags":[],"owner":{"account_id":7913084,"reputation":1550,"user_id":5976491,"display_name":"Cletus Ajibade"},"comment_count":0,"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1579830809,"creation_date":1475071665,"answer_id":39749947,"question_id":28815356,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qZRDn.jpg\r\n\r\nIn my case in Android 2.2, for some reason, Firebase was selected by default in the dropdown box marked above. So logs didn&#39;t drop. I just needed to change it to `No Filters`. Then it worked.\r\n\r\nI even tried restarting the logcat, that didn&#39;t work too. `No Filters` did the magic.\r\n\r\nHope this helps someone.\r\n\r\n**Edit**:\r\nYou can as well select `Show only selected application` for logcat to show only the current debugging process, i.e your app.","title":"Android Studio Logcat not showing logs","body":"<p><a href=\"https://i.stack.imgur.com/qZRDn.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qZRDn.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In my case in Android 2.2, for some reason, Firebase was selected by default in the dropdown box marked above. So logs didn't drop. I just needed to change it to <code>No Filters</code>. Then it worked.</p>\n\n<p>I even tried restarting the logcat, that didn't work too. <code>No Filters</code> did the magic.</p>\n\n<p>Hope this helps someone.</p>\n\n<p><strong>Edit</strong>:\nYou can as well select <code>Show only selected application</code> for logcat to show only the current debugging process, i.e your app.</p>\n"},{"comments":[{"owner":{"account_id":9278236,"reputation":1383,"user_id":6890234,"accept_rate":76,"display_name":"Nikhil Wagh"},"score":1,"creation_date":1514045751,"post_id":43041272,"comment_id":82877253,"body_markdown":"can you please elaborate the process.","body":"can you please elaborate the process."}],"tags":[],"owner":{"account_id":10150058,"reputation":1,"user_id":7496971,"display_name":"Andrew"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490602929,"creation_date":1490602929,"answer_id":43041272,"question_id":28815356,"body_markdown":"I tried to switch &quot;Extended log&quot; in my device settings from &quot;Selectivly&quot; to &quot;Allowed&quot; and it helped. Now debug info appears in LogCat. ","title":"Android Studio Logcat not showing logs","body":"<p>I tried to switch \"Extended log\" in my device settings from \"Selectivly\" to \"Allowed\" and it helped. Now debug info appears in LogCat. </p>\n"},{"tags":[],"owner":{"account_id":11438977,"reputation":119,"user_id":8385256,"display_name":"Ehsan.sarshar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1502104014,"creation_date":1502099349,"answer_id":45544013,"question_id":28815356,"body_markdown":"on The top left of logcat there is an option to choose the emulator. may it&#39;s not selected the current emulator by default. try to changing it to current emulator and it will fix.  \r\n![image](https://i.stack.imgur.com/dnTLn.png)","title":"Android Studio Logcat not showing logs","body":"<p>on The top left of logcat there is an option to choose the emulator. may it's not selected the current emulator by default. try to changing it to current emulator and it will fix.<br>\n<img src=\"https://i.stack.imgur.com/dnTLn.png\" alt=\"image\"></p>\n"},{"tags":[],"owner":{"account_id":525226,"reputation":1422,"user_id":2558241,"accept_rate":67,"display_name":"Mehrdad Salimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1522920757,"creation_date":1512118896,"answer_id":47589836,"question_id":28815356,"body_markdown":"Besides what other guys said, look if you have written something in the search box that causes this problem(it was my case).\r\n\r\n***Note:*** Even in case of a restart, what you have written in search box won&#39;t delete and you need to delete it yourself.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v2kn3.png","title":"Android Studio Logcat not showing logs","body":"<p>Besides what other guys said, look if you have written something in the search box that causes this problem(it was my case).</p>\n\n<p><strong><em>Note:</em></strong> Even in case of a restart, what you have written in search box won't delete and you need to delete it yourself.\n<a href=\"https://i.stack.imgur.com/v2kn3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v2kn3.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4367447,"reputation":26,"user_id":3562716,"display_name":"JcDelaCueva"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517979826,"creation_date":1517979826,"answer_id":48656349,"question_id":28815356,"body_markdown":"I fixed the issue by changing the USB Options of my phone from &quot;Charging only&quot; to &quot;Transfer files (MTP)&quot;","title":"Android Studio Logcat not showing logs","body":"<p>I fixed the issue by changing the USB Options of my phone from \"Charging only\" to \"Transfer files (MTP)\"</p>\n"},{"tags":[],"owner":{"account_id":11641007,"reputation":119,"user_id":8525420,"display_name":"Aakib Jabbar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636339276,"creation_date":1527225126,"answer_id":50521917,"question_id":28815356,"body_markdown":"I had the kind of issue the way which got me the logcat to work was that I was not choosing the right filter. as I was using SQLite (Database) and in filters I had chosen Firebase.so that&#39;s why my logcat was not working.\r\n\r\n","title":"Android Studio Logcat not showing logs","body":"<p>I had the kind of issue the way which got me the logcat to work was that I was not choosing the right filter. as I was using SQLite (Database) and in filters I had chosen Firebase.so that's why my logcat was not working.</p>\n"},{"tags":[],"owner":{"account_id":6556316,"reputation":2208,"user_id":5068914,"display_name":"Mariusz Wiazowski"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1529237595,"creation_date":1529237595,"answer_id":50896520,"question_id":28815356,"body_markdown":"I have solved this issue by enabling &quot;Use libusb backend&quot; option in Android Studio -&gt; Preferences -&gt; Debugger -&gt; Android Debug Bridge (adb).[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PXnuk.jpg","title":"Android Studio Logcat not showing logs","body":"<p>I have solved this issue by enabling \"Use libusb backend\" option in Android Studio -> Preferences -> Debugger -> Android Debug Bridge (adb).<a href=\"https://i.stack.imgur.com/PXnuk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXnuk.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6098940,"reputation":439,"user_id":4758687,"display_name":"Mabad"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636339222,"creation_date":1529474042,"answer_id":50941158,"question_id":28815356,"body_markdown":"Restart both the emulator and Android Studio.","title":"Android Studio Logcat not showing logs","body":"<p>Restart both the emulator and Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":2761710,"reputation":136,"user_id":2378475,"display_name":"djsavvy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636339422,"creation_date":1545796891,"answer_id":53927294,"question_id":28815356,"body_markdown":"Cleaning and then Rebuilding fixed it for me. Apparently when I ran, it wasn&#39;t actually rebuilding the APK, just running the one that had already been made. ","title":"Android Studio Logcat not showing logs","body":"<p>Cleaning and then Rebuilding fixed it for me. Apparently when I ran, it wasn't actually rebuilding the APK, just running the one that had already been made.</p>\n"},{"tags":[],"owner":{"account_id":1716597,"reputation":1429,"user_id":1573534,"accept_rate":50,"display_name":"Mohammad Alotol"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1636339055,"creation_date":1548856852,"answer_id":54442345,"question_id":28815356,"body_markdown":"In Logcat window reselect your device then reselect your app\r\n\r\nif it didn&#39;t appear restart adb using two commands:\r\n\r\n    adb kill-server\r\n    adb start-server","title":"Android Studio Logcat not showing logs","body":"<p>In Logcat window reselect your device then reselect your app</p>\n<p>if it didn't appear restart adb using two commands:</p>\n<pre><code>adb kill-server\nadb start-server\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7328445,"reputation":492,"user_id":5582162,"accept_rate":0,"display_name":"pravingaikwad07"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1559153349,"creation_date":1559153349,"answer_id":56366313,"question_id":28815356,"body_markdown":"Try the following Steps:-\r\n\r\n***Step 1***.\r\nGoto ***File &gt; Invalidate Caches and Restart &gt; Invalidate and Restart***.\r\nAndroid Studio will restart automatically and logcat will work as expected.\r\n\r\nRefer screenshots :\r\n\r\n[![enter image description here][1]][1]\r\n[![Click on Invalidate and Restart][2]][2]\r\n\r\n\r\n***Step 2.*** \r\nIf Step(1) didn&#39;t worked then try this :\r\nGoto Terminal &gt; cd till your platform-tools directory (eg. in Windows default location is ***C:\\Users\\&lt;username&gt;\\AppData\\Local\\Android\\Sdk\\platform-tools***).\r\nNow type following command :\r\n\r\n \r\n&gt; adb kill-server\r\n\r\n&gt; adb start-server\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n***Step 3:*** \r\nIf Step(1)&amp;(2) both didn&#39;t worked then simply try clicking on Re-Start Logging button available in Logcat option. Refer screenshot - (Green colour curved arrow with grey box)\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MKaYf.png\r\n  [2]: https://i.stack.imgur.com/CvLJW.png\r\n  [3]: https://i.stack.imgur.com/ViwSQ.png\r\n  [4]: https://i.stack.imgur.com/da9Nq.png","title":"Android Studio Logcat not showing logs","body":"<p>Try the following Steps:-</p>\n\n<p><strong><em>Step 1</em></strong>.\nGoto <strong><em>File > Invalidate Caches and Restart > Invalidate and Restart</em></strong>.\nAndroid Studio will restart automatically and logcat will work as expected.</p>\n\n<p>Refer screenshots :</p>\n\n<p><a href=\"https://i.stack.imgur.com/MKaYf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MKaYf.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/CvLJW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CvLJW.png\" alt=\"Click on Invalidate and Restart\"></a></p>\n\n<p><strong><em>Step 2.</em></strong> \nIf Step(1) didn't worked then try this :\nGoto Terminal > cd till your platform-tools directory (eg. in Windows default location is <strong><em>C:\\Users\\\\AppData\\Local\\Android\\Sdk\\platform-tools</em></strong>).\nNow type following command :</p>\n\n<blockquote>\n  <p>adb kill-server</p>\n  \n  <p>adb start-server</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/ViwSQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ViwSQ.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong><em>Step 3:</em></strong> \nIf Step(1)&amp;(2) both didn't worked then simply try clicking on Re-Start Logging button available in Logcat option. Refer screenshot - (Green colour curved arrow with grey box)</p>\n\n<p><a href=\"https://i.stack.imgur.com/da9Nq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/da9Nq.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560497771,"creation_date":1559653617,"answer_id":56444560,"question_id":28815356,"body_markdown":"    You need to press Alt+6 twice to restart the logcat window. That way it&#39;ll show the log outputs.\r\n    \r\n    \r\n    Go to your sdk Folder --&gt; Platform tools --&gt;  adb  click 2 times \r\n    \r\n    using this adb server restart again \r\n    \r\n   **Please check your Sdk Location My Location is d drive Please See This**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I6YNb.png\r\n  [2]: https://i.stack.imgur.com/gQchW.png","title":"Android Studio Logcat not showing logs","body":"<pre><code>You need to press Alt+6 twice to restart the logcat window. That way it'll show the log outputs.\n\n\nGo to your sdk Folder --&gt; Platform tools --&gt;  adb  click 2 times \n\nusing this adb server restart again \n</code></pre>\n\n<p><strong>Please check your Sdk Location My Location is d drive Please See This</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/I6YNb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I6YNb.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/gQchW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQchW.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":16510165,"reputation":131,"user_id":11929167,"display_name":"jaiminkumar patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566198474,"creation_date":1566194697,"answer_id":57551196,"question_id":28815356,"body_markdown":"I had the same issue, and I resolved it by the following actions:\r\n\r\nFirst, open the terminal in android studio and navigate to the following path:\r\n\r\n&gt; C:\\Users\\user_name\\AppData\\Local\\Android\\Sdk\\platform-tools\r\n\r\nSecond, enter the command: `adb reboot`.\r\n\r\nIt takes about 2 minutes, but now logcat is functioning again and showing every logcat.","title":"Android Studio Logcat not showing logs","body":"<p>I had the same issue, and I resolved it by the following actions:</p>\n\n<p>First, open the terminal in android studio and navigate to the following path:</p>\n\n<blockquote>\n  <p>C:\\Users\\user_name\\AppData\\Local\\Android\\Sdk\\platform-tools</p>\n</blockquote>\n\n<p>Second, enter the command: <code>adb reboot</code>.</p>\n\n<p>It takes about 2 minutes, but now logcat is functioning again and showing every logcat.</p>\n"},{"tags":[],"owner":{"account_id":14235299,"reputation":629,"user_id":10387434,"display_name":"Leonid Ivankin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636339153,"creation_date":1571641330,"answer_id":58481279,"question_id":28815356,"body_markdown":"Helped restart the device (HTC)","title":"Android Studio Logcat not showing logs","body":"<p>Helped restart the device (HTC)</p>\n"},{"tags":[],"owner":{"account_id":18520334,"reputation":1,"user_id":13690946,"display_name":"StasP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591401019,"creation_date":1591401019,"answer_id":62225656,"question_id":28815356,"body_markdown":"This problem appeared after reinstalling (changing) GitHub in Android Studio.\r\nit happened when I connected the GitHub Desktop (git.exe) to the Android Studio. And right after that logcat fell.\r\n\r\nSolution: commit + push = fixed logcat))\r\n\r\nI did not understand how it works, but it is a fact\r\n","title":"Android Studio Logcat not showing logs","body":"<p>This problem appeared after reinstalling (changing) GitHub in Android Studio.\nit happened when I connected the GitHub Desktop (git.exe) to the Android Studio. And right after that logcat fell.</p>\n\n<p>Solution: commit + push = fixed logcat))</p>\n\n<p>I did not understand how it works, but it is a fact</p>\n"},{"tags":[],"owner":{"account_id":14400032,"reputation":1,"user_id":10402058,"display_name":"Saumia Singhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592244152,"creation_date":1592244152,"answer_id":62394228,"question_id":28815356,"body_markdown":"I had the same problem. I tried killing and restarting the adb-server, but it didn&#39;t help. I deleted the debug apk of the app in the path:\r\n\r\n    &lt;your_app&gt;/&lt;your_app&gt;_app/build/outputs/apk/debug/\r\n\r\nAnd run the project again. It solved the problem for me.\r\n","title":"Android Studio Logcat not showing logs","body":"<p>I had the same problem. I tried killing and restarting the adb-server, but it didn't help. I deleted the debug apk of the app in the path:</p>\n\n<pre><code>&lt;your_app&gt;/&lt;your_app&gt;_app/build/outputs/apk/debug/\n</code></pre>\n\n<p>And run the project again. It solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":14888926,"reputation":333,"user_id":10751265,"display_name":"necip"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611388087,"creation_date":1611388087,"answer_id":65856942,"question_id":28815356,"body_markdown":"**For real device, not for the emulator:**\r\n\r\nThe only thing that I did was unplug the USB cable then plugged it in again. And it worked.","title":"Android Studio Logcat not showing logs","body":"<p><strong>For real device, not for the emulator:</strong></p>\n<p>The only thing that I did was unplug the USB cable then plugged it in again. And it worked.</p>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49728,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613268360,"creation_date":1613268360,"answer_id":66191788,"question_id":28815356,"body_markdown":"If your app has crashed, there is a dropdown that has 2 process, you have to select the other process that is dead, so you can see the error message:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XxMGI.png","title":"Android Studio Logcat not showing logs","body":"<p>If your app has crashed, there is a dropdown that has 2 process, you have to select the other process that is dead, so you can see the error message:</p>\n<p><a href=\"https://i.stack.imgur.com/XxMGI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XxMGI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7376724,"reputation":5806,"user_id":5615038,"accept_rate":86,"display_name":"Fangxing"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614157957,"creation_date":1614157957,"answer_id":66347812,"question_id":28815356,"body_markdown":"In my case when select `No Filters`, I see\r\n\r\n```\r\nlogcat: Unexpected EOF!\r\n```\r\n\r\nthen I fixed it by: \r\n```\r\nadb logcat -G 100M\r\n\r\n```\r\n\r\nSee https://stackoverflow.com/questions/48689930/logcat-crashes-with-error-unexpected-eof/48704727","title":"Android Studio Logcat not showing logs","body":"<p>In my case when select <code>No Filters</code>, I see</p>\n<pre><code>logcat: Unexpected EOF!\n</code></pre>\n<p>then I fixed it by:</p>\n<pre><code>adb logcat -G 100M\n\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/48689930/logcat-crashes-with-error-unexpected-eof/48704727\">Logcat crashes with error: unexpected EOF</a></p>\n"},{"tags":[],"owner":{"account_id":17020749,"reputation":1278,"user_id":12313402,"display_name":"Vijay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621669315,"creation_date":1621668208,"answer_id":67647076,"question_id":28815356,"body_markdown":"A better approach (for ADB wifi and USB both )and it Always works Magically!\r\n\r\nFirst, run the app:\r\n \r\n[![enter image description here][1]][1]\r\n\r\nThen stop before it launch the app: [![enter image description here][2]][2]\r\n\r\nYou have to stop as soon as the red stop button becomes red from gray (which happens after Gradle build complete). In this way, you will start seeing logs, errors everything in the run tab. There is **no need** to unplug and plug USB. No need to restart ADB server.\r\n\r\nMake sure you repeat this process until you see the logs (usually takes 1 or 2 repeats) (One request - Please upvote)\r\n\r\n**Second Master Approach:**\r\n\r\nIn your emulator or android device, launch the app manually and close it manually. Then launch it from android studio.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7TSXy.png\r\n  [2]: https://i.stack.imgur.com/aDebU.png","title":"Android Studio Logcat not showing logs","body":"<p>A better approach (for ADB wifi and USB both )and it Always works Magically!</p>\n<p>First, run the app:</p>\n<p><a href=\"https://i.stack.imgur.com/7TSXy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7TSXy.png\" alt=\"enter image description here\" /></a></p>\n<p>Then stop before it launch the app: <a href=\"https://i.stack.imgur.com/aDebU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aDebU.png\" alt=\"enter image description here\" /></a></p>\n<p>You have to stop as soon as the red stop button becomes red from gray (which happens after Gradle build complete). In this way, you will start seeing logs, errors everything in the run tab. There is <strong>no need</strong> to unplug and plug USB. No need to restart ADB server.</p>\n<p>Make sure you repeat this process until you see the logs (usually takes 1 or 2 repeats) (One request - Please upvote)</p>\n<p><strong>Second Master Approach:</strong></p>\n<p>In your emulator or android device, launch the app manually and close it manually. Then launch it from android studio.</p>\n"},{"tags":[],"owner":{"account_id":5860942,"reputation":1,"user_id":4616666,"display_name":"evoships"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636339614,"creation_date":1630564072,"answer_id":69025146,"question_id":28815356,"body_markdown":"I tried all steps and debugging just to find out that I had accidently typed a space in the filter.\r\n\r\nMake sure that in your Logcat Windows a space is not chosen as a Filter.","title":"Android Studio Logcat not showing logs","body":"<p>I tried all steps and debugging just to find out that I had accidently typed a space in the filter.</p>\n<p>Make sure that in your Logcat Windows a space is not chosen as a Filter.</p>\n"},{"tags":[],"owner":{"account_id":22174051,"reputation":11,"user_id":16418914,"display_name":"Aditya Lochan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655216514,"creation_date":1655216514,"answer_id":72618659,"question_id":28815356,"body_markdown":"There will be a search bar, keep it empty. It worked in my case.","title":"Android Studio Logcat not showing logs","body":"<p>There will be a search bar, keep it empty. It worked in my case.</p>\n"},{"tags":[],"owner":{"account_id":19527353,"reputation":1,"user_id":14287914,"display_name":"Mohammed Afs23"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655444217,"creation_date":1655297907,"answer_id":72631857,"question_id":28815356,"body_markdown":"Don&#39;t do anything, if you run app in emulator or device just uninstall and reinstall the app. Done.","title":"Android Studio Logcat not showing logs","body":"<p>Don't do anything, if you run app in emulator or device just uninstall and reinstall the app. Done.</p>\n"},{"tags":[],"owner":{"account_id":7894011,"reputation":1575,"user_id":6086532,"display_name":"artenson.art98"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660385342,"creation_date":1660385342,"answer_id":73343331,"question_id":28815356,"body_markdown":"Try restarting ADB using the below commands:\r\n\r\n```\r\nadb kill-server\r\nadb start-server\r\n```\r\n","title":"Android Studio Logcat not showing logs","body":"<p>Try restarting ADB using the below commands:</p>\n<pre><code>adb kill-server\nadb start-server\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3276715,"reputation":2415,"user_id":2758499,"accept_rate":71,"display_name":"Saran Sankaran"},"score":0,"creation_date":1698630101,"post_id":76181459,"comment_id":136425827,"body_markdown":"Invalidate caches/Restart an restart takes awful amount of time. A simple restart of AS did the magic for me.","body":"Invalidate caches/Restart an restart takes awful amount of time. A simple restart of AS did the magic for me."}],"tags":[],"owner":{"account_id":15970616,"reputation":191,"user_id":11524873,"display_name":"Aishwarya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683284304,"creation_date":1683284304,"answer_id":76181459,"question_id":28815356,"body_markdown":"**File --&gt; Invalidate caches/Restart**\r\n\r\nThis solved my issue.","title":"Android Studio Logcat not showing logs","body":"<p><strong>File --&gt; Invalidate caches/Restart</strong></p>\n<p>This solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":1008209,"reputation":119,"user_id":1021356,"display_name":"Srikanth Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688993349,"creation_date":1688993349,"answer_id":76653912,"question_id":28815356,"body_markdown":"Simple invalidate cache and restart worked for me. ","title":"Android Studio Logcat not showing logs","body":"<p>Simple invalidate cache and restart worked for me.</p>\n"}],"owner":{"account_id":1792154,"reputation":13859,"user_id":1632286,"accept_rate":94,"display_name":"squiroid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93236,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":39749947,"answer_count":30,"score":45,"last_activity_date":1688993349,"creation_date":1425315504,"question_id":28815356,"body_markdown":"There is very awkward thing I am facing. Logcat is shown in debugging application, but while running (not debugging) application, it is not showing Logcat.\r\n\r\nI tried restarting it but nothing is happening.\r\n","title":"Android Studio Logcat not showing logs","body":"<p>There is very awkward thing I am facing. Logcat is shown in debugging application, but while running (not debugging) application, it is not showing Logcat.</p>\n<p>I tried restarting it but nothing is happening.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":101237,"reputation":17866,"user_id":272501,"accept_rate":96,"display_name":"test"},"score":0,"creation_date":1298502673,"post_id":5098447,"comment_id":5714570,"body_markdown":"You, sir, are a hero. Thanks.","body":"You, sir, are a hero. Thanks."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1298502928,"post_id":5098447,"comment_id":5714617,"body_markdown":"@Jahkr thanks, although I wouldn&#39;t consider this heroic by any means! :-)","body":"@Jahkr thanks, although I wouldn&#39;t consider this heroic by any means! :-)"}],"tags":[],"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1298502430,"creation_date":1298502430,"answer_id":5098447,"question_id":5098429,"body_markdown":"the simplest way would be iterate through the String and count them.\r\n\r\n    int commas = 0;\r\n    for(int i = 0; i &lt; helloWorld.length(); i++) {\r\n        if(helloWorld.charAt(i) == &#39;,&#39;) commas++;\r\n    }\r\n    \r\n    System.out.println(helloWorld + &quot; has &quot; + commas + &quot; commas!&quot;);","title":"Java - Count number of symbols in string","body":"<p>the simplest way would be iterate through the String and count them.</p>\n\n<pre><code>int commas = 0;\nfor(int i = 0; i &lt; helloWorld.length(); i++) {\n    if(helloWorld.charAt(i) == ',') commas++;\n}\n\nSystem.out.println(helloWorld + \" has \" + commas + \" commas!\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1002078,"reputation":6393,"user_id":1016721,"accept_rate":91,"display_name":"BRabbit27"},"score":3,"creation_date":1334168229,"post_id":5098456,"comment_id":12955868,"body_markdown":"This is not very helpful. Suppose the string is `&quot;One, Two, Thre,,,,&quot;` split won&#39;t count the las commas. As the javadoc of the class String says **Trailing empty strings are therefore not included in the resulting array.**","body":"This is not very helpful. Suppose the string is <code>&quot;One, Two, Thre,,,,&quot;</code> split won&#39;t count the las commas. As the javadoc of the class String says <b>Trailing empty strings are therefore not included in the resulting array.</b>"}],"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1298502493,"creation_date":1298502493,"answer_id":5098456,"question_id":5098429,"body_markdown":"    String[] tokens = helloWorld.split(&quot;,&quot;);\r\n    System.out.println(&quot;Number of commas: &quot; + (tokens.length - 1));\r\n","title":"Java - Count number of symbols in string","body":"<pre><code>String[] tokens = helloWorld.split(\",\");\nSystem.out.println(\"Number of commas: \" + (tokens.length - 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279561,"reputation":26283,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1298502592,"creation_date":1298502592,"answer_id":5098477,"question_id":5098429,"body_markdown":"    int numberOfCommas = helloWorld .replaceAll(&quot;[^,]&quot;,&quot;&quot;).length();  \r\n\r\nMore implementation you can find in [this site][1]\r\n\r\n\r\n  [1]: http://www.codecodex.com/wiki/Count_the_number_of_occurrences_of_a_specific_character_in_a_string","title":"Java - Count number of symbols in string","body":"<pre><code>int numberOfCommas = helloWorld .replaceAll(\"[^,]\",\"\").length();  \n</code></pre>\n\n<p>More implementation you can find in <a href=\"http://www.codecodex.com/wiki/Count_the_number_of_occurrences_of_a_specific_character_in_a_string\" rel=\"noreferrer\">this site</a></p>\n"},{"tags":[],"owner":{"account_id":114715,"reputation":4250,"user_id":301525,"accept_rate":90,"display_name":"m0s"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298502607,"creation_date":1298502607,"answer_id":5098481,"question_id":5098429,"body_markdown":"Not so simple but shorter way\r\n\r\n    String str = &quot;One,Two,Three,Four!&quot;;  \r\n    int num = str.replaceAll(&quot;[^,]&quot;,&quot;&quot;).length();\r\n\r\n ","title":"Java - Count number of symbols in string","body":"<p>Not so simple but shorter way</p>\n\n<pre><code>String str = \"One,Two,Three,Four!\";  \nint num = str.replaceAll(\"[^,]\",\"\").length();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1287824,"reputation":12974,"user_id":1240557,"display_name":"kryger"},"score":0,"creation_date":1454796716,"post_id":34573989,"comment_id":58207897,"body_markdown":"&quot;com.lakota.utils.StringUtils&quot;?","body":"&quot;com.lakota.utils.StringUtils&quot;?"},{"owner":{"account_id":978901,"reputation":5019,"user_id":999162,"accept_rate":90,"display_name":"kontur"},"score":0,"creation_date":1455620374,"post_id":34573989,"comment_id":58559588,"body_markdown":"In order to import something you need to install it first. -1","body":"In order to import something you need to install it first. -1"},{"owner":{"account_id":5813722,"reputation":721,"user_id":4584031,"display_name":"Mahfuz Ahmed"},"score":0,"creation_date":1455711008,"post_id":34573989,"comment_id":58608978,"body_markdown":"You must have able to import the StringUtils from lakota.","body":"You must have able to import the StringUtils from lakota."},{"owner":{"account_id":5546081,"reputation":176,"user_id":4400874,"display_name":"mdave16"},"score":1,"creation_date":1628540982,"post_id":34573989,"comment_id":121444068,"body_markdown":"another implementation can be imported from `import org.apache.commons.lang3.StringUtils;`","body":"another implementation can be imported from <code>import org.apache.commons.lang3.StringUtils;</code>"}],"tags":[],"owner":{"account_id":5813722,"reputation":721,"user_id":4584031,"display_name":"Mahfuz Ahmed"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1456656873,"creation_date":1451802784,"answer_id":34573989,"question_id":5098429,"body_markdown":"If you can import com.lakota.utils.StringUtils\r\nthen it&#39;s so simple.\r\nImport this&gt; import com.lakota.utils.StringUtils;\r\n    \r\n    int count = StringUtils.countMatches(&quot;One,Two,Three,Four!&quot;, &quot;,&quot;);\r\n\tSystem.out.println(&quot;total comma &quot;+ count);","title":"Java - Count number of symbols in string","body":"<p>If you can import com.lakota.utils.StringUtils\nthen it's so simple.\nImport this> import com.lakota.utils.StringUtils;</p>\n\n<pre><code>int count = StringUtils.countMatches(\"One,Two,Three,Four!\", \",\");\nSystem.out.println(\"total comma \"+ count);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1232443,"reputation":111,"user_id":1196726,"accept_rate":78,"display_name":"Undertaker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688993343,"creation_date":1688993343,"answer_id":76653910,"question_id":5098429,"body_markdown":"Using StringUtils:\r\n\r\n    int count = StringUtils.countMatches(&quot;elephant&quot;, &quot;e&quot;);\r\n    assertEquals(2, count);\r\nUsing Java 8:\r\n\r\n    String someString = &quot;elephant&quot;;\r\n    long count = someString.chars().filter(ch -&gt; ch == &#39;e&#39;).count();\r\n    assertEquals(2, count);\r\n\r\n    long count2 = someString.codePoints().filter(ch -&gt; ch == &#39;e&#39;).count();\r\n    assertEquals(2, count2);","title":"Java - Count number of symbols in string","body":"<p>Using StringUtils:</p>\n<pre><code>int count = StringUtils.countMatches(&quot;elephant&quot;, &quot;e&quot;);\nassertEquals(2, count);\n</code></pre>\n<p>Using Java 8:</p>\n<pre><code>String someString = &quot;elephant&quot;;\nlong count = someString.chars().filter(ch -&gt; ch == 'e').count();\nassertEquals(2, count);\n\nlong count2 = someString.codePoints().filter(ch -&gt; ch == 'e').count();\nassertEquals(2, count2);\n</code></pre>\n"}],"owner":{"account_id":101237,"reputation":17866,"user_id":272501,"accept_rate":96,"display_name":"test"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21274,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":5098447,"answer_count":6,"score":9,"last_activity_date":1688993343,"creation_date":1298502277,"question_id":5098429,"body_markdown":"Let&#39;s say I have this string:\r\n\r\n    String helloWorld = &quot;One,Two,Three,Four!&quot;;\r\n\r\nHow can I make it so it counts the number of commas in `String helloWorld`?","title":"Java - Count number of symbols in string","body":"<p>Let's say I have this string:</p>\n\n<pre><code>String helloWorld = \"One,Two,Three,Four!\";\n</code></pre>\n\n<p>How can I make it so it counts the number of commas in <code>String helloWorld</code>?</p>\n"},{"tags":["java","generics","types","compiler-errors","type-inference"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1688664976,"post_id":76628913,"comment_id":135107748,"body_markdown":"Interesting to note that the Eclipse IDE reports no issues and runs this code, whereas JDK20 javac reports the error you show.","body":"Interesting to note that the Eclipse IDE reports no issues and runs this code, whereas JDK20 javac reports the error you show."},{"owner":{"account_id":107323,"reputation":1473,"user_id":285436,"accept_rate":84,"display_name":"firas"},"score":0,"creation_date":1688711784,"post_id":76628913,"comment_id":135113121,"body_markdown":"I tested it on JDK 11 and 19 (OpenJDK) and they both reject the code.","body":"I tested it on JDK 11 and 19 (OpenJDK) and they both reject the code."}],"answers":[{"comments":[{"owner":{"account_id":107323,"reputation":1473,"user_id":285436,"accept_rate":84,"display_name":"firas"},"score":0,"creation_date":1689089196,"post_id":76651857,"comment_id":135162356,"body_markdown":"Thanks. I will have a deeper look when I get the time.","body":"Thanks. I will have a deeper look when I get the time."}],"tags":[],"owner":{"display_name":"user18473608"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688993341,"creation_date":1688976651,"answer_id":76651857,"question_id":76628913,"body_markdown":"This inference incosistence is due to lambda expressions. You can get explanations in [this mail on OpenJDK.com][1] (subject: *JDK-8219318 (???): inferred type does not conform to upper bound(s) when collecting to a HashMap*).\r\n\r\nMaybe new Java compilers (javac) have solved this problem.\r\n\r\nThat problem can be solved if you add explicit type. Examples:\r\n```java\r\nf((ArrayList&lt;? extends MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\r\n\r\nf((ArrayList&lt;MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\r\n\r\nf((List&lt;? extends MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\r\n\r\nf((List&lt;MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\r\n```\r\n\r\nAlso, you can provide an implementation of Supplier. In this case, you don&#39;t need to add explicit type. Example of anonymous class:\r\n\r\n```java\r\nf(l.stream().collect(Collectors.toCollection(new Supplier&lt;List&lt;MyInt&gt;&gt;(){\r\n   @Override\r\n   public List&lt;MyInt&gt; get() {\r\n   return new ArrayList&lt;MyInt&gt;();\r\n  }\r\n})));\r\n```\r\n\r\n\r\n  [1]: https://mail.openjdk.org/pipermail/compiler-dev/2019-December/014098.html","title":"Calling a function with unbounded generics with L-Value and R-Value","body":"<p>This inference incosistence is due to lambda expressions. You can get explanations in <a href=\"https://mail.openjdk.org/pipermail/compiler-dev/2019-December/014098.html\" rel=\"nofollow noreferrer\">this mail on OpenJDK.com</a> (subject: <em>JDK-8219318 (???): inferred type does not conform to upper bound(s) when collecting to a HashMap</em>).</p>\n<p>Maybe new Java compilers (javac) have solved this problem.</p>\n<p>That problem can be solved if you add explicit type. Examples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>f((ArrayList&lt;? extends MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\n\nf((ArrayList&lt;MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\n\nf((List&lt;? extends MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\n\nf((List&lt;MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\n</code></pre>\n<p>Also, you can provide an implementation of Supplier. In this case, you don't need to add explicit type. Example of anonymous class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>f(l.stream().collect(Collectors.toCollection(new Supplier&lt;List&lt;MyInt&gt;&gt;(){\n   @Override\n   public List&lt;MyInt&gt; get() {\n   return new ArrayList&lt;MyInt&gt;();\n  }\n})));\n</code></pre>\n"}],"owner":{"account_id":107323,"reputation":1473,"user_id":285436,"accept_rate":84,"display_name":"firas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":76651857,"answer_count":1,"score":7,"last_activity_date":1688993341,"creation_date":1688646991,"question_id":76628913,"body_markdown":"I don&#39;t **fully** understand why the following code, doesn&#39;t work:\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n\r\n    public interface MyInt&lt;E&gt; {\r\n    }\r\n\r\n    public static final class MyNum&lt;E&gt; implements MyInt&lt;E&gt; {\r\n        private E privados;\r\n    }\r\n\r\n    public static void f(List&lt;? extends MyInt&gt; l) {\r\n        System.out.println(&quot;from List&lt;?&gt;&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        var m = new MyNum();\r\n        List&lt;MyNum&gt; l = Arrays.asList(m);\r\n\r\n        ArrayList&lt;MyInt&gt; r = l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new));\r\n        f(r);\r\n        f(l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\r\n    }\r\n}\r\n```\r\n\r\nThe call `f(r)` passing the l-value works, but the call to the r-value version in the next line doesn&#39;t.\r\n\r\nIt is clear that the constraint solving process happening in the compiler is happy when we have a specific `ArrayList&lt;MyInt&gt;` enforced by the programmer, but when we ask it to do the constraint solving end-to-end by passing the result of `collect` directly to `f`, the compiler would send an error like this:\r\n\r\n```\r\njava: incompatible types: inferred type does not conform to upper bound(s)\r\n    inferred: java.lang.Object&amp;java.util.List&lt;? extends org.example.Main.MyInt&gt;&amp;java.util.Collection&lt;org.example.Main.MyNum&gt;\r\n    upper bound(s): java.util.Collection&lt;org.example.Main.MyNum&gt;,java.util.List&lt;? extends org.example.Main.MyInt&gt;,java.lang.Object\r\n```\r\n\r\nThe only differences between inferred vs upper bound (from the error message):\r\n\r\n1. the use of `&amp;` vs `,` \r\n1. The order of objects (reversed)\r\n\r\nI am assuming that the order is unimportant (they&#39;re sets) and that the `&amp;` and `,` have special meaning.\r\n\r\nSomeone has a more thorough less &quot;hand-wavy&quot; explanation of what&#39;s happening?","title":"Calling a function with unbounded generics with L-Value and R-Value","body":"<p>I don't <strong>fully</strong> understand why the following code, doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n    public interface MyInt&lt;E&gt; {\n    }\n\n    public static final class MyNum&lt;E&gt; implements MyInt&lt;E&gt; {\n        private E privados;\n    }\n\n    public static void f(List&lt;? extends MyInt&gt; l) {\n        System.out.println(&quot;from List&lt;?&gt;&quot;);\n    }\n\n    public static void main(String[] args) {\n        var m = new MyNum();\n        List&lt;MyNum&gt; l = Arrays.asList(m);\n\n        ArrayList&lt;MyInt&gt; r = l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new));\n        f(r);\n        f(l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\n    }\n}\n</code></pre>\n<p>The call <code>f(r)</code> passing the l-value works, but the call to the r-value version in the next line doesn't.</p>\n<p>It is clear that the constraint solving process happening in the compiler is happy when we have a specific <code>ArrayList&lt;MyInt&gt;</code> enforced by the programmer, but when we ask it to do the constraint solving end-to-end by passing the result of <code>collect</code> directly to <code>f</code>, the compiler would send an error like this:</p>\n<pre><code>java: incompatible types: inferred type does not conform to upper bound(s)\n    inferred: java.lang.Object&amp;java.util.List&lt;? extends org.example.Main.MyInt&gt;&amp;java.util.Collection&lt;org.example.Main.MyNum&gt;\n    upper bound(s): java.util.Collection&lt;org.example.Main.MyNum&gt;,java.util.List&lt;? extends org.example.Main.MyInt&gt;,java.lang.Object\n</code></pre>\n<p>The only differences between inferred vs upper bound (from the error message):</p>\n<ol>\n<li>the use of <code>&amp;</code> vs <code>,</code></li>\n<li>The order of objects (reversed)</li>\n</ol>\n<p>I am assuming that the order is unimportant (they're sets) and that the <code>&amp;</code> and <code>,</code> have special meaning.</p>\n<p>Someone has a more thorough less &quot;hand-wavy&quot; explanation of what's happening?</p>\n"},{"tags":["java","jbehave"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1688993410,"post_id":76653900,"comment_id":135145688,"body_markdown":"why ... do you have MockMVC in your implementation????","body":"why ... do you have MockMVC in your implementation????"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688993544,"post_id":76653900,"comment_id":135145730,"body_markdown":"Have you annotated your test class with `@RunWith(SpringRunner.class)&#39;?","body":"Have you annotated your test class with `@RunWith(SpringRunner.class)&#39;?"},{"owner":{"account_id":21303886,"reputation":99,"user_id":15679422,"display_name":"Emmanuel Donald"},"score":0,"creation_date":1688994509,"post_id":76653900,"comment_id":135146001,"body_markdown":"Stultuske, I do not want to hit the database while doing the testing, I want to use mock data, that is why I have used MockMVC. Jens: I have tried running the code with @RunWith(SpringRunner.class) and got the same error again","body":"Stultuske, I do not want to hit the database while doing the testing, I want to use mock data, that is why I have used MockMVC. Jens: I have tried running the code with @RunWith(SpringRunner.class) and got the same error again"}],"owner":{"account_id":21303886,"reputation":99,"user_id":15679422,"display_name":"Emmanuel Donald"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688993284,"creation_date":1688993284,"question_id":76653900,"body_markdown":"Using jBehave with Mockito gives null pointer exception\r\n\r\nConsole Output:\r\nExample: {ename=Tom Brown, id=1, dept=Dept 1}\r\nGiven a new Employee record\r\nWhen the Employee name is Tom Brown\r\nWhen the Employee id is 1\r\nWhen the Employee dept is Dept 1\r\nWhen the method is POST\r\nThen the returned values should match (FAILED)\r\n(java.lang.NullPointerException: Cannot invoke &quot;org.springframework.test.web.servlet.MockMvc.perform(org.springframework.test.web.servlet.RequestBuilder)&quot; because &quot;this.mockMvc&quot; is null)\r\n\r\n[Code in GitHub as Maven Project](https://github.com/donemm/code)\r\n\r\nEmployeeControllerTest.java\r\n```\r\npackage com.donemm.simpc;\r\n&lt;imports&gt;\r\npublic class EmployeeControllerTest extends JUnitStory {\r\n@Override\r\npublic Configuration configuration() {\r\n   return new MostUsefulConfiguration()\r\n         .useStoryLoader(new LoadFromClasspath(this.getClass()))\r\n         .useStoryReporterBuilder(new StoryReporterBuilder().\r\n             withDefaultFormats().withFormats(Format.CONSOLE, Format.TXT, Format.HTML));\r\n}\r\n@Override\r\npublic InjectableStepsFactory stepsFactory() {\r\n    return new InstanceStepsFactory(configuration(), new EmployeeControllerSteps());\r\n}\r\n}\r\n```\r\nEmployeeControllerSteps.java\r\n\r\n```\r\npackage com.donemm.simpc;\r\n\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.MockitoAnnotations;\r\n\r\nimport com.donemm.simpc.entity.Employee;\r\nimport com.donemm.simpc.repository.EmployeeRepository;\r\nimport com.donemm.simpc.services.EmployeeService;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.donemm.simpc.controller.EmployeeController;\r\n\r\nimport static org.hamcrest.CoreMatchers.is;\r\n\r\nimport static org.mockito.ArgumentMatchers.*;\r\nimport static org.mockito.BDDMockito.*;\r\nimport static org.mockito.Mockito.when;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.ResultActions;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.*;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\n\r\nimport org.jbehave.core.annotations.Given;\r\nimport org.jbehave.core.annotations.Named;\r\nimport org.jbehave.core.annotations.Then;\r\nimport org.jbehave.core.annotations.When;\r\n\r\n@WebMvcTest(controllers = EmployeeController.class)\r\n@AutoConfigureMockMvc\r\npublic class EmployeeControllerSteps {\r\n\t\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    \r\n    @InjectMocks private EmployeeService employeeService;\r\n\t@Mock private EmployeeRepository employeeRepository;\r\n \r\n    private Employee employee;\r\n    \r\n    @Given(value=&quot;a new Employee record&quot;, priority=11)\r\n    public void createEmployee() {\r\n    \tthis.employee = new Employee();\r\n    }\r\n    \r\n    \r\n    @When(value=&quot;the Employee name is &lt;ename&gt;&quot;, priority=10)\r\n    public void setEname(@Named(&quot;ename&quot;) String ename) {\r\n    \tthis.employee.setEname(ename);\r\n    }\r\n    \r\n    @When(value=&quot;the Employee id is &lt;id&gt;&quot;, priority=9)\r\n    public void setId(@Named(&quot;id&quot;) int id) {\r\n       this.employee.setId(id); \r\n    }\r\n    \r\n    @When(value=&quot;the Employee dept is &lt;dept&gt;&quot;, priority=6)\r\n    public void setDept(@Named(&quot;dept&quot;) String dname) {\r\n    \tthis.employee.setDept(dname);\r\n    }\r\n    \r\n    @When(value=&quot;the method is POST&quot;, priority=5)\r\n    public void methodIsGet() {\r\n    \t\r\n    }\r\n\r\n    @Then(value=&quot;the returned values should match&quot;, priority=4)\r\n    public void checkValues() throws Exception {\r\n\t\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t\t\r\n\t\twhen(employeeRepository.save(any(Employee.class))).thenReturn(this.employee);\r\n        \r\n\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\t\t\r\n        ResultActions response = this.mockMvc.perform(post(&quot;http://localhost:8080/employees&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(this.employee)));\r\n        \r\n        response.andDo(print()).\r\n        andExpect(status().isCreated())\r\n        .andExpect(jsonPath(&quot;$.ename&quot;,\r\n                is(this.employee.getEname())))\r\n        .andExpect(jsonPath(&quot;$.dname&quot;,\r\n                is(this.employee.getDept())));\r\n        \r\n    }\r\n}\r\n```\r\n\r\n[![Eclipse Project Explorer](https://i.stack.imgur.com/esEaT.jpg)](https://i.stack.imgur.com/esEaT.jpg)\r\n","title":"Using jBehave with Mockito gives null pointer exception","body":"<p>Using jBehave with Mockito gives null pointer exception</p>\n<p>Console Output:\nExample: {ename=Tom Brown, id=1, dept=Dept 1}\nGiven a new Employee record\nWhen the Employee name is Tom Brown\nWhen the Employee id is 1\nWhen the Employee dept is Dept 1\nWhen the method is POST\nThen the returned values should match (FAILED)\n(java.lang.NullPointerException: Cannot invoke &quot;org.springframework.test.web.servlet.MockMvc.perform(org.springframework.test.web.servlet.RequestBuilder)&quot; because &quot;this.mockMvc&quot; is null)</p>\n<p><a href=\"https://github.com/donemm/code\" rel=\"nofollow noreferrer\">Code in GitHub as Maven Project</a></p>\n<p>EmployeeControllerTest.java</p>\n<pre><code>package com.donemm.simpc;\n&lt;imports&gt;\npublic class EmployeeControllerTest extends JUnitStory {\n@Override\npublic Configuration configuration() {\n   return new MostUsefulConfiguration()\n         .useStoryLoader(new LoadFromClasspath(this.getClass()))\n         .useStoryReporterBuilder(new StoryReporterBuilder().\n             withDefaultFormats().withFormats(Format.CONSOLE, Format.TXT, Format.HTML));\n}\n@Override\npublic InjectableStepsFactory stepsFactory() {\n    return new InstanceStepsFactory(configuration(), new EmployeeControllerSteps());\n}\n}\n</code></pre>\n<p>EmployeeControllerSteps.java</p>\n<pre><code>package com.donemm.simpc;\n\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\n\nimport com.donemm.simpc.entity.Employee;\nimport com.donemm.simpc.repository.EmployeeRepository;\nimport com.donemm.simpc.services.EmployeeService;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.donemm.simpc.controller.EmployeeController;\n\nimport static org.hamcrest.CoreMatchers.is;\n\nimport static org.mockito.ArgumentMatchers.*;\nimport static org.mockito.BDDMockito.*;\nimport static org.mockito.Mockito.when;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.ResultActions;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.*;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\n\nimport org.jbehave.core.annotations.Given;\nimport org.jbehave.core.annotations.Named;\nimport org.jbehave.core.annotations.Then;\nimport org.jbehave.core.annotations.When;\n\n@WebMvcTest(controllers = EmployeeController.class)\n@AutoConfigureMockMvc\npublic class EmployeeControllerSteps {\n    \n    @Autowired\n    private MockMvc mockMvc;\n    \n    @InjectMocks private EmployeeService employeeService;\n    @Mock private EmployeeRepository employeeRepository;\n \n    private Employee employee;\n    \n    @Given(value=&quot;a new Employee record&quot;, priority=11)\n    public void createEmployee() {\n        this.employee = new Employee();\n    }\n    \n    \n    @When(value=&quot;the Employee name is &lt;ename&gt;&quot;, priority=10)\n    public void setEname(@Named(&quot;ename&quot;) String ename) {\n        this.employee.setEname(ename);\n    }\n    \n    @When(value=&quot;the Employee id is &lt;id&gt;&quot;, priority=9)\n    public void setId(@Named(&quot;id&quot;) int id) {\n       this.employee.setId(id); \n    }\n    \n    @When(value=&quot;the Employee dept is &lt;dept&gt;&quot;, priority=6)\n    public void setDept(@Named(&quot;dept&quot;) String dname) {\n        this.employee.setDept(dname);\n    }\n    \n    @When(value=&quot;the method is POST&quot;, priority=5)\n    public void methodIsGet() {\n        \n    }\n\n    @Then(value=&quot;the returned values should match&quot;, priority=4)\n    public void checkValues() throws Exception {\n    \n        MockitoAnnotations.initMocks(this);\n        \n        when(employeeRepository.save(any(Employee.class))).thenReturn(this.employee);\n        \n        ObjectMapper objectMapper = new ObjectMapper();\n            \n        ResultActions response = this.mockMvc.perform(post(&quot;http://localhost:8080/employees&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(this.employee)));\n        \n        response.andDo(print()).\n        andExpect(status().isCreated())\n        .andExpect(jsonPath(&quot;$.ename&quot;,\n                is(this.employee.getEname())))\n        .andExpect(jsonPath(&quot;$.dname&quot;,\n                is(this.employee.getDept())));\n        \n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/esEaT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/esEaT.jpg\" alt=\"Eclipse Project Explorer\" /></a></p>\n"},{"tags":["java","eclipse","selenium","testng","listener"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1568480356,"post_id":57937539,"comment_id":102290912,"body_markdown":"Is ITestListener.java file available in the defined package ?","body":"Is ITestListener.java file available in the defined package ?"},{"owner":{"account_id":5972806,"reputation":31,"user_id":4694679,"display_name":"Sagar"},"score":0,"creation_date":1568481561,"post_id":57937539,"comment_id":102291181,"body_markdown":"No, my class name is Listeners, I used ITestListener to implement the Listener methods.","body":"No, my class name is Listeners, I used ITestListener to implement the Listener methods."},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1568481630,"post_id":57937539,"comment_id":102291196,"body_markdown":"What are the methods available inside ITestListener class. I assume ITestListener is an interface.","body":"What are the methods available inside ITestListener class. I assume ITestListener is an interface."},{"owner":{"account_id":5972806,"reputation":31,"user_id":4694679,"display_name":"Sagar"},"score":0,"creation_date":1568482279,"post_id":57937539,"comment_id":102291367,"body_markdown":"Yes, its an interface. If I get the &quot;Add unimplemented methods&quot; option, below code will be exposed.","body":"Yes, its an interface. If I get the &quot;Add unimplemented methods&quot; option, below code will be exposed."},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1568482340,"post_id":57937539,"comment_id":102291389,"body_markdown":"Post the code for ITestListener.java","body":"Post the code for ITestListener.java"},{"owner":{"account_id":5972806,"reputation":31,"user_id":4694679,"display_name":"Sagar"},"score":0,"creation_date":1568482871,"post_id":57937539,"comment_id":102291496,"body_markdown":"`@Override\n\tpublic void onTestStart(ITestResult result) {\n\t\t// TODO Auto-generated method stub\n\t\t\n\t}\n\n\t@Override\n\tpublic void onTestSuccess(ITestResult result) {\n\t\t// TODO Auto-generated method stub\n\t\t\n\t//\tSystem.out.println(&quot;I successfully executed Listeners Pass code&quot;);\n\t}\n\n\t@Override\n\tpublic void onTestFailure(ITestResult result) {\n\t\t// TODO Auto-generated method stub\n\t\t//screenshot code \n\t\t//response if API is failed\n\t\t\n\t\tSystem.out.println(&quot;I failed executed Listeners Pass code&quot; +result.getName());\n\n\t}`","body":"<code>@Override \tpublic void onTestStart(ITestResult result) { \t\t&#47;&#47; TODO Auto-generated method stub \t\t \t}  \t@Override \tpublic void onTestSuccess(ITestResult result) { \t\t&#47;&#47; TODO Auto-generated method stub \t\t \t&#47;&#47;\tSystem.out.println(&quot;I successfully executed Listeners Pass code&quot;); \t}  \t@Override \tpublic void onTestFailure(ITestResult result) { \t\t&#47;&#47; TODO Auto-generated method stub \t\t&#47;&#47;screenshot code  \t\t&#47;&#47;response if API is failed \t\t \t\tSystem.out.println(&quot;I failed executed Listeners Pass code&quot; +result.getName());  \t}</code>"},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1568486240,"post_id":57937539,"comment_id":102292255,"body_markdown":"This is the code for method, edit your question and add the complete code for ITestListener.java.","body":"This is the code for method, edit your question and add the complete code for ITestListener.java."}],"answers":[{"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1568489014,"post_id":57938122,"comment_id":102292803,"body_markdown":"I see, by [adding empty default implementations](https://github.com/cbeust/testng/commit/3006219166232fc643bee513c84bb6772277a0d6#diff-8853c664e8e938b88ec7cb0677afac15), the [listener interface became an adapter](https://blogs.oracle.com/corejavatechtips/listeners-vs-adapters). Probably the name was not changed due to compatibility reasons.","body":"I see, by <a href=\"https://github.com/cbeust/testng/commit/3006219166232fc643bee513c84bb6772277a0d6#diff-8853c664e8e938b88ec7cb0677afac15\" rel=\"nofollow noreferrer\">adding empty default implementations</a>, the <a href=\"https://blogs.oracle.com/corejavatechtips/listeners-vs-adapters\" rel=\"nofollow noreferrer\">listener interface became an adapter</a>. Probably the name was not changed due to compatibility reasons."}],"tags":[],"owner":{"account_id":15278027,"reputation":31,"user_id":11023226,"display_name":"Rahul Kumrawat"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568485114,"creation_date":1568485114,"answer_id":57938122,"question_id":57937539,"body_markdown":"As i got to know from the below link - TestNG 7.0.0 uses JDK8 and with it default methods within interfaces. What this means is that every listener would now have a default implementation (which doesn&#39;t do anything ) for all methods defined within the interface.\r\n\r\nSo now you won&#39;t see those indications from the IDE. The biggest benefit of default methods in interfaces is that let&#39;s say you are implementing an interface that has 10 methods defined in it, you can just implement whatever you need and the rest of the behavior comes via the default methods in the interface.\r\nReference-\r\nhttps://github.com/cbeust/testng/issues/1964","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>As i got to know from the below link - TestNG 7.0.0 uses JDK8 and with it default methods within interfaces. What this means is that every listener would now have a default implementation (which doesn't do anything ) for all methods defined within the interface.</p>\n\n<p>So now you won't see those indications from the IDE. The biggest benefit of default methods in interfaces is that let's say you are implementing an interface that has 10 methods defined in it, you can just implement whatever you need and the rest of the behavior comes via the default methods in the interface.\nReference-\n<a href=\"https://github.com/cbeust/testng/issues/1964\" rel=\"nofollow noreferrer\">https://github.com/cbeust/testng/issues/1964</a></p>\n"},{"tags":[],"owner":{"account_id":17203027,"reputation":101,"user_id":12454227,"display_name":"user12454227"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1574986402,"creation_date":1574986402,"answer_id":59097397,"question_id":57937539,"body_markdown":"Right click(on the Listeners class ) -&gt; go to source-&gt; click on overide/implement methods -&gt; select the check boxes for the ITest listener (make sure all check box inside it should be checked )-&gt;click on oK. That&#39;s it !!!","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>Right click(on the Listeners class ) -> go to source-> click on overide/implement methods -> select the check boxes for the ITest listener (make sure all check box inside it should be checked )->click on oK. That's it !!!</p>\n"},{"tags":[],"owner":{"account_id":13607964,"reputation":1,"user_id":9816489,"display_name":"Harita"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587638042,"creation_date":1587638042,"answer_id":61385062,"question_id":57937539,"body_markdown":"Try downgrading the TestNg version to **6.14.3**.\r\nIt worked for me.","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>Try downgrading the TestNg version to <strong>6.14.3</strong>.\nIt worked for me.</p>\n"},{"tags":[],"owner":{"account_id":18321346,"reputation":1,"user_id":13342039,"display_name":"SinghGursimar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588316529,"creation_date":1588316529,"answer_id":61538204,"question_id":57937539,"body_markdown":"The Best solution is go to the source tab besides the File-Edit options and click the Overide/implement methods and you are set \r\n","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>The Best solution is go to the source tab besides the File-Edit options and click the Overide/implement methods and you are set </p>\n"},{"tags":[],"owner":{"account_id":19743604,"reputation":51,"user_id":14456546,"display_name":"Chris Bahonda"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604414961,"creation_date":1604414961,"answer_id":64665133,"question_id":57937539,"body_markdown":"Right click on the class --&gt; select source --&gt; choose override/implement methods --&gt; then pick the methods you&#39;d like to implement.","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>Right click on the class --&gt; select source --&gt; choose override/implement methods --&gt; then pick the methods you'd like to implement.</p>\n"},{"tags":[],"owner":{"account_id":20907429,"reputation":13,"user_id":15359042,"display_name":"Saimohit Midde"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624516830,"creation_date":1624516830,"answer_id":68110716,"question_id":57937539,"body_markdown":"All methods in ITestListener interface changed to default from 7 version onwards. You can call them with class object where you implemented interface.","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>All methods in ITestListener interface changed to default from 7 version onwards. You can call them with class object where you implemented interface.</p>\n"}],"owner":{"account_id":5972806,"reputation":31,"user_id":4694679,"display_name":"Sagar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12710,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1688993099,"creation_date":1568480048,"question_id":57937539,"body_markdown":"I am working on Selenium with Java and using Listeners.\r\n\r\nI created the class, imported the TestNG, and then added method as;\r\n\r\n    Public class Listener implements ITestListener{\r\n    }\r\n\r\nI got an error at &quot;ITestListner&quot; and then imported &quot;ITestListner(org.testng). After this it was expected that I will get an error for &quot;Listener&quot; but I didn&#39;t get any error.\r\n\r\nI tried creating with abstract class but still didn&#39;t get the error.\r\n\r\n    package com.testng;\r\n    \r\n    import org.testng.ITestListener;\r\n    \r\n    public class Listeners implements ITestListener{\r\n    \r\n    }\r\n\r\nThe expectation is when I move the cursor over &quot;Listeners&quot; I should get &quot;Add unimplemented methods&quot; option.","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>I am working on Selenium with Java and using Listeners.</p>\n\n<p>I created the class, imported the TestNG, and then added method as;</p>\n\n<pre><code>Public class Listener implements ITestListener{\n}\n</code></pre>\n\n<p>I got an error at \"ITestListner\" and then imported \"ITestListner(org.testng). After this it was expected that I will get an error for \"Listener\" but I didn't get any error.</p>\n\n<p>I tried creating with abstract class but still didn't get the error.</p>\n\n<pre><code>package com.testng;\n\nimport org.testng.ITestListener;\n\npublic class Listeners implements ITestListener{\n\n}\n</code></pre>\n\n<p>The expectation is when I move the cursor over \"Listeners\" I should get \"Add unimplemented methods\" option.</p>\n"},{"tags":["java","python","netbeans","jython"],"comments":[{"owner":{"account_id":20992201,"reputation":79,"user_id":15424845,"display_name":"Hiroaki Genpati"},"score":0,"creation_date":1617208936,"post_id":66891529,"comment_id":118242519,"body_markdown":"here what you looking for https://github.com/pypa/sampleproject/blob/main/setup.py and for packaging &amp; testing https://hynek.me/articles/testing-packaging/","body":"here what you looking for <a href=\"https://github.com/pypa/sampleproject/blob/main/setup.py\" rel=\"nofollow noreferrer\">github.com/pypa/sampleproject/blob/main/setup.py</a> and for packaging &amp; testing <a href=\"https://hynek.me/articles/testing-packaging/\" rel=\"nofollow noreferrer\">hynek.me/articles/testing-packaging</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user14551571"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617311353,"creation_date":1617311353,"answer_id":66911581,"question_id":66891529,"body_markdown":"I needed move my setup.py file to the root directory (not in the same folder with the source files.) and things began to happen. From there warnings guided my actions. Here is my setup.py that gave me my first resultd. Now to study rst and MD so I can add a README file.\r\n\r\n    from setuptools import setup, find_packages\r\n    setup (\r\n           name=&#39;JythonProject&#39;,\r\n           version=&#39;0.1&#39;,\r\n           zip_safe=True,\r\n           packages=find_packages(),\r\n           # Declare your packages&#39; dependencies here, for eg:\r\n           install_requires=[],\r\n           data_files=[(&#39;&#39;,[&#39;src/cars_pic.jpg&#39;,&#39;src/rfid_pic.jpg&#39;,&#39;src/readers_pic.jpg&#39;,&#39;src/polling_pic.jpg&#39;,&#39;src/mode_pic.jpg&#39;,&#39;src/locations_pic.jpg&#39;,&#39;src/engine_pic.jpg&#39;,&#39;src/RFIDconfig.xml&#39;,&#39;src/JMRIimportedData.xml&#39;])],\r\n           # Fill in these to make your Egg ready for upload to\r\n           # PyPI\r\n           author=&#39;James w Kelly&#39;,\r\n           author_email=&#39;jwkelly49@gmail.com&#39;,\r\n    \r\n           #summary = &#39;Just another Python package for the cheese shop&#39;,\r\n           url=&#39;&#39;,\r\n           license=&#39;MIT&#39;,\r\n           long_description=&#39;Long description of the package&#39;,\r\n    \r\n           # could also include long_description, download_url, classifiers, etc.\r\n    \r\n      \r\n           )","title":"How to configure setup.py to distribute egg","body":"<p>I needed move my setup.py file to the root directory (not in the same folder with the source files.) and things began to happen. From there warnings guided my actions. Here is my setup.py that gave me my first resultd. Now to study rst and MD so I can add a README file.</p>\n<pre><code>from setuptools import setup, find_packages\nsetup (\n       name='JythonProject',\n       version='0.1',\n       zip_safe=True,\n       packages=find_packages(),\n       # Declare your packages' dependencies here, for eg:\n       install_requires=[],\n       data_files=[('',['src/cars_pic.jpg','src/rfid_pic.jpg','src/readers_pic.jpg','src/polling_pic.jpg','src/mode_pic.jpg','src/locations_pic.jpg','src/engine_pic.jpg','src/RFIDconfig.xml','src/JMRIimportedData.xml'])],\n       # Fill in these to make your Egg ready for upload to\n       # PyPI\n       author='James w Kelly',\n       author_email='jwkelly49@gmail.com',\n\n       #summary = 'Just another Python package for the cheese shop',\n       url='',\n       license='MIT',\n       long_description='Long description of the package',\n\n       # could also include long_description, download_url, classifiers, etc.\n\n  \n       )\n</code></pre>\n"}],"owner":{"display_name":"user14551571"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688992974,"creation_date":1617207496,"question_id":66891529,"body_markdown":"First my goal is to share this the easiest way possible with non-computer geeks that already have Java JRE installed.\r\n\r\nIm using Netbeans with Python and Jython plugins. I started a **Python project** and wrote my code. I import standard JAVA packages and only one Java add-in\r\n\r\nimport gnu.io\r\n\r\nimport gnu.io.RXTXPort as RXTX\r\nRXTX is added to JDK/JRE and JRE I assume this will be a dependency\r\n\r\nThe program runs fine from within Netbeans and now I want to make an egg.\r\nThe project SRC folder contains 29 .py  + 25 .class + 7 .jpg + 2 .XML files  and   __ INIT __.py\r\n\r\nI right-click the project and use CLEAN and BUILD EGG\r\nThis puts a setup.py file in the source directory and creates a built and info folder.\r\nI also issued the Jython command from within the project SRC folder            jython setup.py  bdist_egg\r\n\r\nBoth methods run to completion and produce the following\r\n\r\nfolder build  \r\n-------- subfolder bdist.java1.80_251 -- which is empty \r\n\r\nfolder dist    \r\n------- file JythonProject0.1-py2.7.egg -- contents = list of egg-info files\r\n\r\nfolder JythonProject.egg-info  with\r\n\r\n------ file  dependency_links.txt      --  no content\r\n\r\n------ file PKG-INFO                   --  summary of setup.py entries\r\n\r\n------ file SOURCES.txt                --  setup.py + list of these files\r\n\r\n------ file top_level.txt              --  no content\r\n\r\n\r\nIve studied about the structure of the setup.py file but Ill admit that without an example Im left confused about the syntax of filling in the blanks.\r\n\r\n**QUESTION: how do I add my source data to get a working egg?**\r\n\r\n    Setup.py =\r\n    from setuptools import setup, find_packages\r\n\r\n    setup \r\n    name=&#39;JythonProject&#39;\r\n    version=&#39;0.1&#39;\r\n    packages=find_packages()   **supposed to find all .PY files ?**\r\n                               **how to include CLASS files?**\r\n    \r\n    # Declare your packages&#39; dependencies here, for eg:\r\n    install_requires=[]        **my RXTX?  path/xx.JAR?**\r\n    \r\n    # Fill in these to make your Egg ready for upload to\r\n    # PyPI\r\n    author=&#39;jwkel&#39;\r\n    author_email=&#39;email@gmail.com&#39;\r\n    #summary = &#39;Just another Python package for the cheese shop&#39;\r\n    url=&#39;&#39;  **none**\r\n    license=&#39;&#39; **I understand this**\r\n    long_description=&#39;Long description of the package&#39;\r\n\r\n","title":"How to configure setup.py to distribute egg","body":"<p>First my goal is to share this the easiest way possible with non-computer geeks that already have Java JRE installed.</p>\n<p>Im using Netbeans with Python and Jython plugins. I started a <strong>Python project</strong> and wrote my code. I import standard JAVA packages and only one Java add-in</p>\n<p>import gnu.io</p>\n<p>import gnu.io.RXTXPort as RXTX\nRXTX is added to JDK/JRE and JRE I assume this will be a dependency</p>\n<p>The program runs fine from within Netbeans and now I want to make an egg.\nThe project SRC folder contains 29 .py  + 25 .class + 7 .jpg + 2 .XML files  and   __ INIT __.py</p>\n<p>I right-click the project and use CLEAN and BUILD EGG\nThis puts a setup.py file in the source directory and creates a built and info folder.\nI also issued the Jython command from within the project SRC folder            jython setup.py  bdist_egg</p>\n<p>Both methods run to completion and produce the following</p>\n<p>folder build<br />\n-------- subfolder bdist.java1.80_251 -- which is empty</p>\n<p>folder dist<br />\n------- file JythonProject0.1-py2.7.egg -- contents = list of egg-info files</p>\n<p>folder JythonProject.egg-info  with</p>\n<p>------ file  dependency_links.txt      --  no content</p>\n<p>------ file PKG-INFO                   --  summary of setup.py entries</p>\n<p>------ file SOURCES.txt                --  setup.py + list of these files</p>\n<p>------ file top_level.txt              --  no content</p>\n<p>Ive studied about the structure of the setup.py file but Ill admit that without an example Im left confused about the syntax of filling in the blanks.</p>\n<p><strong>QUESTION: how do I add my source data to get a working egg?</strong></p>\n<pre><code>Setup.py =\nfrom setuptools import setup, find_packages\n\nsetup \nname='JythonProject'\nversion='0.1'\npackages=find_packages()   **supposed to find all .PY files ?**\n                           **how to include CLASS files?**\n\n# Declare your packages' dependencies here, for eg:\ninstall_requires=[]        **my RXTX?  path/xx.JAR?**\n\n# Fill in these to make your Egg ready for upload to\n# PyPI\nauthor='jwkel'\nauthor_email='email@gmail.com'\n#summary = 'Just another Python package for the cheese shop'\nurl=''  **none**\nlicense='' **I understand this**\nlong_description='Long description of the package'\n</code></pre>\n"},{"tags":["java","arrays","csv","file-io","data-processing"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1688859795,"post_id":76644922,"comment_id":135130850,"body_markdown":"If your needs are very simple (i.e., you control exactly what goes into the file and you don&#39;t need  to care about quote, escapes, etc.) then reading a line and splitting on comma does the job with least fuss.  No need to use a complicated swiss army knife when a single flat-blade screwdriver does the job!","body":"If your needs are very simple (i.e., you control exactly what goes into the file and you don&#39;t need  to care about quote, escapes, etc.) then reading a line and splitting on comma does the job with least fuss.  No need to use a complicated swiss army knife when a single flat-blade screwdriver does the job!"}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688856038,"creation_date":1688856038,"answer_id":76645218,"question_id":76644922,"body_markdown":"Welcome to stack overflow!\r\n\r\nThe guidelines say that questions asking for recommendations for libraries and questions asking for opinions are inappropriate. So your question may get closed for either or both of those reasons.\r\n\r\nHowever, I&#39;ll attempt to answer your question, with the caveat that what follows is not necessarily the &quot;best&quot; or &quot;most efficient&quot; way to read CSV data, especially since it reads all of the CSV data into memory in one shot, and could cause out-of-memory problems if you try to read a file that is bigger than available (to your application) memory....YMMV\r\n\r\nI use the &quot;opencsv&quot; library\r\n\r\nFor example, \r\n\r\n    CSVReader csvReader = new CSVReader(new FileReader(inputFilename));\r\n    List&lt;String[]&gt; data = csvReader.readAll();\r\n\r\nEach item in the list is a row, and each item the row&#39;s String[] is a column value for that row.","title":"How can I read and write CSV files and process the data into arrays in Java?","body":"<p>Welcome to stack overflow!</p>\n<p>The guidelines say that questions asking for recommendations for libraries and questions asking for opinions are inappropriate. So your question may get closed for either or both of those reasons.</p>\n<p>However, I'll attempt to answer your question, with the caveat that what follows is not necessarily the &quot;best&quot; or &quot;most efficient&quot; way to read CSV data, especially since it reads all of the CSV data into memory in one shot, and could cause out-of-memory problems if you try to read a file that is bigger than available (to your application) memory....YMMV</p>\n<p>I use the &quot;opencsv&quot; library</p>\n<p>For example,</p>\n<pre><code>CSVReader csvReader = new CSVReader(new FileReader(inputFilename));\nList&lt;String[]&gt; data = csvReader.readAll();\n</code></pre>\n<p>Each item in the list is a row, and each item the row's String[] is a column value for that row.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688992679,"creation_date":1688992679,"answer_id":76653819,"question_id":76644922,"body_markdown":"It depends on your data.\r\n\r\nA _CSV_ can be trivial if your data may contain commas.\r\n\r\nYou could implement a _[TSV](https://en.wikipedia.org/wiki/Tab-separated_values)_, which uses the _tab_ character.\r\n\r\n_[Wikipedia &amp;ndash; Delimiter-separated values](https://en.wikipedia.org/wiki/Delimiter-separated_values)_.\r\n\r\n&gt; _&quot;... I would appreciate it if someone could provide me with a simple example and explain the recommended approach to efficiently read, write, and process CSV files into arrays in Java.&quot;_\r\n\r\nHere is a basic read and write, using a _TSV_ structure.\r\n\r\n```java\r\nvoid append(String[] strings, File file) throws IOException {\r\n    try (FileWriter writer = new FileWriter(file, true)) {\r\n        writer.write(String.join(&quot;\\t&quot;, strings));\r\n        writer.write(System.lineSeparator());\r\n    }\r\n}\r\n\r\nList&lt;String[]&gt; read(File file) throws IOException {\r\n    try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n        List&lt;String[]&gt; list = new ArrayList&lt;&gt;();\r\n        String line;\r\n        while ((line = reader.readLine()) != null)\r\n            list.add(line.split(&quot;\\t&quot;, -1));\r\n        return list;\r\n    }\r\n}\r\n```\r\n\r\nAnd, here is a usage.\r\n\r\n```java\r\nFile file = new File(&quot;files/data.tsv&quot;);\r\nappend(new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; }, file);\r\nappend(new String[] { &quot;d&quot;, &quot;e&quot;, &quot;f&quot; }, file);\r\nList&lt;String[]&gt; list = read(file);\r\nfor (String[] strings : list)\r\n    System.out.println(Arrays.toString(strings));\r\n```\r\n\r\nThe contents of _data.tsv_,\r\n\r\n```none\r\na\tb\tc\r\nd\te\tf\r\n\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[a, b, c]\r\n[d, e, f]\r\n```","title":"How can I read and write CSV files and process the data into arrays in Java?","body":"<p>It depends on your data.</p>\n<p>A <em>CSV</em> can be trivial if your data may contain commas.</p>\n<p>You could implement a <em><a href=\"https://en.wikipedia.org/wiki/Tab-separated_values\" rel=\"nofollow noreferrer\">TSV</a></em>, which uses the <em>tab</em> character.</p>\n<p><em><a href=\"https://en.wikipedia.org/wiki/Delimiter-separated_values\" rel=\"nofollow noreferrer\">Wikipedia  Delimiter-separated values</a></em>.</p>\n<blockquote>\n<p><em>&quot;... I would appreciate it if someone could provide me with a simple example and explain the recommended approach to efficiently read, write, and process CSV files into arrays in Java.&quot;</em></p>\n</blockquote>\n<p>Here is a basic read and write, using a <em>TSV</em> structure.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void append(String[] strings, File file) throws IOException {\n    try (FileWriter writer = new FileWriter(file, true)) {\n        writer.write(String.join(&quot;\\t&quot;, strings));\n        writer.write(System.lineSeparator());\n    }\n}\n\nList&lt;String[]&gt; read(File file) throws IOException {\n    try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\n        List&lt;String[]&gt; list = new ArrayList&lt;&gt;();\n        String line;\n        while ((line = reader.readLine()) != null)\n            list.add(line.split(&quot;\\t&quot;, -1));\n        return list;\n    }\n}\n</code></pre>\n<p>And, here is a usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;files/data.tsv&quot;);\nappend(new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; }, file);\nappend(new String[] { &quot;d&quot;, &quot;e&quot;, &quot;f&quot; }, file);\nList&lt;String[]&gt; list = read(file);\nfor (String[] strings : list)\n    System.out.println(Arrays.toString(strings));\n</code></pre>\n<p>The contents of <em>data.tsv</em>,</p>\n<pre class=\"lang-none prettyprint-override\"><code>a   b   c\nd   e   f\n\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[a, b, c]\n[d, e, f]\n</code></pre>\n"}],"owner":{"account_id":28977731,"reputation":1,"user_id":22196421,"display_name":"DamianBautista"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1688992679,"creation_date":1688849810,"question_id":76644922,"body_markdown":"I am working on a Java project where I need to handle CSV files. Specifically, I need to read and write CSV files and process the data into arrays for further manipulation. I have researched different libraries and approaches, but I am unsure about the best option and how to correctly implement it, especially when it comes to efficiently storing the CSV data into arrays.\r\n\r\n\r\nI have explored various libraries and approaches for handling CSV files in Java, but I haven&#39;t been able to determine the most efficient and effective solution for reading, writing, and processing CSV data into arrays. I have attempted some implementations, but I&#39;m not getting the desired results or struggling with performance issues.\r\n\r\nI would appreciate it if someone could provide me with a simple example and explain the recommended approach to efficiently read, write, and process CSV files into arrays in Java. ","title":"How can I read and write CSV files and process the data into arrays in Java?","body":"<p>I am working on a Java project where I need to handle CSV files. Specifically, I need to read and write CSV files and process the data into arrays for further manipulation. I have researched different libraries and approaches, but I am unsure about the best option and how to correctly implement it, especially when it comes to efficiently storing the CSV data into arrays.</p>\n<p>I have explored various libraries and approaches for handling CSV files in Java, but I haven't been able to determine the most efficient and effective solution for reading, writing, and processing CSV data into arrays. I have attempted some implementations, but I'm not getting the desired results or struggling with performance issues.</p>\n<p>I would appreciate it if someone could provide me with a simple example and explain the recommended approach to efficiently read, write, and process CSV files into arrays in Java.</p>\n"},{"tags":["java","persistence","quarkus"],"comments":[{"owner":{"account_id":27118,"reputation":3700,"user_id":71208,"accept_rate":62,"display_name":"Max Rydahl Andersen"},"score":0,"creation_date":1688971641,"post_id":76647785,"comment_id":135141063,"body_markdown":"You can use .getCause() to find the exception you are looking for and extract from the message of if exception concrete class has more info cast it to that type and explore from there.","body":"You can use .getCause() to find the exception you are looking for and extract from the message of if exception concrete class has more info cast it to that type and explore from there."},{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1688992746,"post_id":76647785,"comment_id":135145516,"body_markdown":"I managed to solve it by making a command to cascade the cause","body":"I managed to solve it by making a command to cascade the cause"}],"answers":[{"comments":[{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1688992765,"post_id":76651520,"comment_id":135145523,"body_markdown":"I managed to solve it by making a command to cascade the cause, however, would it be a good practice?","body":"I managed to solve it by making a command to cascade the cause, however, would it be a good practice?"}],"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688973772,"creation_date":1688973772,"answer_id":76651520,"question_id":76647785,"body_markdown":"As was mentioned in comments you can use `getCause()` to access the cause of the exception you&#39;re getting.\r\n\r\nThat being said, I wouldn&#39;t recommend catching such exceptions as:\r\n\r\n1. `EntityManager`/`Session` are generally not considered safe to use anymore after an exception is thrown: the internal state is undetermined and they should be closed ASAP. There are a few &quot;safe&quot; exceptions such as `NoResultExcepton` but yours is not one of them. I mean it might work in practice, but if it does not (now or in a future upgrade) you&#39;re on your own.\r\n2. Depending how you set up your transactions, the exception might have marked your transaction as &quot;rollback only&quot;, in which case silencing the exception will be no use: your changes (if any) won&#39;t be persisted anyway. \r\n\r\nMaybe investigate why the exception is being thrown by the Oracle driver and try to avoid it by implementing your stored procedure differently?","title":"How you can capture the value of Cause By in a Hibernate PersistenceExceptionException in Quarkus","body":"<p>As was mentioned in comments you can use <code>getCause()</code> to access the cause of the exception you're getting.</p>\n<p>That being said, I wouldn't recommend catching such exceptions as:</p>\n<ol>\n<li><code>EntityManager</code>/<code>Session</code> are generally not considered safe to use anymore after an exception is thrown: the internal state is undetermined and they should be closed ASAP. There are a few &quot;safe&quot; exceptions such as <code>NoResultExcepton</code> but yours is not one of them. I mean it might work in practice, but if it does not (now or in a future upgrade) you're on your own.</li>\n<li>Depending how you set up your transactions, the exception might have marked your transaction as &quot;rollback only&quot;, in which case silencing the exception will be no use: your changes (if any) won't be persisted anyway.</li>\n</ol>\n<p>Maybe investigate why the exception is being thrown by the Oracle driver and try to avoid it by implementing your stored procedure differently?</p>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688992608,"creation_date":1688910538,"question_id":76647785,"body_markdown":"\r\nGood morning, I am currently working with persistent java to consult a Stored Procedure in an Oracle DB, and I am catching the exceptions through a catch, however, I have a problem with the PersistenceException exception, which I need to read its caused By to do a conditional, so I currently have it and this is what the exception.message returns me:\r\n\r\n        } catch (SQLException | PersistenceException e ) {\r\n            log.info(&quot;Excepci&#243;n SQL: &quot;+ e.getMessage());\r\n            if(e.getCause().getMessage().contains(&quot;ORA-01403&quot;)){\r\n                response = mapping.setResponseError(request, ExceptionMessages.MSG062.name(), ExceptionMessages.MSG062.getMsgCode());\r\n                log.info(SALIDA_MS + new Gson().toJson(response));\r\n            }\r\n            else {\r\n                response = mapping.setResponseError(request, ExceptionMessages.MSG019.name(), ExceptionMessages.MSG019.getMsgCode());\r\n                log.info(SALIDA_MS + new Gson().toJson(response));\r\n            }\r\n\r\nMy Repository Class:\r\n\r\n    package com.tmve.account.repositoty.impl;\r\n    \r\n    import com.tmve.account.beans.PostpaidAccount;\r\n    import com.tmve.account.repositoty.IFindPostpaidAccountByDocumentRepository;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    \r\n    import javax.inject.Inject;\r\n    import javax.inject.Singleton;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.StoredProcedureQuery;\r\n    import java.util.List;\r\n    \r\n    @Slf4j\r\n    @Singleton\r\n    public class FindPostpaidAccountByDocumentRepository implements IFindPostpaidAccountByDocumentRepository {\r\n    \r\n        @Inject\r\n        EntityManager entityManager;\r\n    \r\n        @Override\r\n        public List&lt;PostpaidAccount&gt; getPostpaidAccount(String documentType, String documentNumber) {\r\n    \r\n            StoredProcedureQuery storedProcedureQuery=entityManager\r\n                    .createNamedStoredProcedureQuery(&quot;BuscarCuentasRolesxDocId&quot;);\r\n            storedProcedureQuery.setParameter(1,documentNumber);\r\n            storedProcedureQuery.setParameter(2,Integer.parseInt(documentType));\r\n    \r\n            storedProcedureQuery.execute();\r\n    \r\n            return (List&lt;PostpaidAccount&gt;) storedProcedureQuery.getResultList();\r\n        }\r\n    }\r\n\r\nMy entity:\r\n\r\n    package com.tmve.account.beans;\r\n    \r\n    \r\n    import lombok.Getter;\r\n    import lombok.ToString;\r\n    \r\n    import javax.persistence.*;\r\n    import java.sql.Date;\r\n    \r\n    @NamedStoredProcedureQueries({\r\n            @NamedStoredProcedureQuery(\r\n                    name = PostpaidAccount.NAME_QUERY_BUSCAR_CUENTAS_ROLES_X_DOC_IDE,\r\n                    procedureName = &quot;PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID&quot;,\r\n                    resultClasses = {PostpaidAccount.class},\r\n                    parameters = {\r\n                            @StoredProcedureParameter(mode = ParameterMode.IN, type = String.class),\r\n                            @StoredProcedureParameter(mode = ParameterMode.IN, type = Integer.class),\r\n                            @StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, type = void.class),\r\n                    })\r\n    })\r\n    @Getter\r\n    @Entity\r\n    @ToString\r\n    public class PostpaidAccount {\r\n    \r\n        public static final String NAME_QUERY_BUSCAR_CUENTAS_ROLES_X_DOC_IDE=  &quot;BuscarCuentasRolesxDocId&quot;;\r\n        private static final long serialVersionUID = 5853819176277617472L;\r\n    \r\n        @Id\r\n        @Column(name = &quot;V_NUMERO_CUENTA&quot;)\r\n        Long account;\r\n        @Column(name = &quot;V_NUM_CTA_PAGADORA&quot;)\r\n        Long billingAccountNumber;\r\n        @Column(name = &quot;V_NUM_CTA_DIG_VERI&quot;)\r\n        Long billingAccountNumberValidators;\r\n        @Column(name = &quot;V_TIPO_CUENTA&quot;)\r\n        String accountType;\r\n        @Column(name = &quot;V_ESTADO&quot;)\r\n        String accountStatus;\r\n        @Column(name = &quot;V_NOMBRE_ESTADO&quot;)\r\n        String accountStatusDescription;\r\n        @Column(name = &quot;V_ID_PRODUCTO&quot;)\r\n        Integer productoId;\r\n        @Column(name = &quot;NOMBRE_PRODUCTO&quot;)\r\n        String productName;\r\n        @Column(name = &quot;FECHA_INICIO_PROD&quot;)\r\n        Date customerSince;\r\n        @Column(name = &quot;V_TITULAR_CUENTA&quot;)\r\n        String accountHolder;\r\n        @Column(name = &quot;V_TIPO_RELACION&quot;)\r\n        String relationshipType;\r\n        @Column(name = &quot;V_PLATAF&quot;)\r\n        int platformId;\r\n        @Column(name = &quot;V_IDENTIFICADOR&quot;)\r\n        String identifier;\r\n        @Column(name = &quot;NOMBRE_AREA&quot;)\r\n        String marketName;\r\n    }\r\n\r\n\r\nThis is what the e.getmessage() returns me:\r\n\r\n    Excepci&#243;n SQL: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults     \r\n\r\n\r\nBut I need to catch the cause to apply a conditional, specifically if it returns the code ORA-01403, as the exception is shown otherwise it will be caught:\r\n\r\n    javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults\r\n            at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\r\n            at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n            at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n            at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:82)\r\n            at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:147)\r\n            at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:93)\r\n            at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\r\n            at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n            at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n            at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n            at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults\r\n            at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n            at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n            at org.hibernate.procedure.internal.ProcedureCallImpl.execute(ProcedureCallImpl.java:624)\r\n            at com.tmve.account.repositoty.impl.FindPostpaidAccountByDocumentRepository.getPostpaidAccount(FindPostpaidAccountByDocumentRepository.java:29)\r\n            at com.tmve.account.service.impl.FindPostpaidAccountByDocumentService.getPostpaidAccountListByDocument(FindPostpaidAccountByDocumentService.java:43)\r\n            at com.tmve.account.service.impl.FindPostpaidAccountByDocumentService_ClientProxy.getPostpaidAccountListByDocument(Unknown Source)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController.getPostpaidAccountListByDocument(FindPostpaidAccountByDocumentController.java:47)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass.getPostpaidAccountListByDocument$$superforward1(Unknown Source)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass$$function$$1.apply(Unknown Source)\r\n            at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\r\n            at io.quarkus.resteasy.runtime.QuarkusRestPathTemplateInterceptor.restMethodInvoke(QuarkusRestPathTemplateInterceptor.java:39)\r\n            at io.quarkus.resteasy.runtime.QuarkusRestPathTemplateInterceptor_Bean.intercept(Unknown Source)\r\n            at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\r\n            at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\r\n            at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:33)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass.getPostpaidAccountListByDocument(Unknown Source)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController_ClientProxy.getPostpaidAccountListByDocument(Unknown Source)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n            at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n            at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n            ... 15 more\r\n    Caused by: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults\r\n            at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n            at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n            at org.hibernate.result.internal.OutputsImpl.convert(OutputsImpl.java:83)\r\n            at org.hibernate.result.internal.OutputsImpl.&lt;init&gt;(OutputsImpl.java:60)\r\n            at org.hibernate.procedure.internal.ProcedureOutputsImpl.&lt;init&gt;(ProcedureOutputsImpl.java:34)\r\n            at org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs(ProcedureCallImpl.java:418)\r\n            at org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs(ProcedureCallImpl.java:354)\r\n            at org.hibernate.procedure.internal.ProcedureCallImpl.outputs(ProcedureCallImpl.java:634)\r\n            at org.hibernate.procedure.internal.ProcedureCallImpl.execute(ProcedureCallImpl.java:617)\r\n            ... 44 more\r\n    Caused by: java.sql.SQLException: ORA-01403: No se ha encontrado ning&#250;n dato\r\n    ORA-06512: en &quot;PERS.PKG_COMP_CUENTAS&quot;, l&#237;nea 12122\r\n    ORA-01403: No se ha encontrado ning&#250;n dato\r\n    ORA-06512: en l&#237;nea 1\r\n    \r\n            at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:630)\r\n            at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:564)\r\n            at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1231)\r\n            at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:772)\r\n            at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:299)\r\n            at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:512)\r\n            at oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:159)\r\n            at oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:1237)\r\n            at oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.java:1820)\r\n            at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1472)\r\n            at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3761)\r\n            at oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:4136)\r\n            at oracle.jdbc.driver.OracleCallableStatement.execute(OracleCallableStatement.java:4279)\r\n            at oracle.jdbc.driver.OraclePreparedntWrapper.execute(OraclePreparedStatementWrapper.java:1014)\r\n            at io.agroal.pool.wrapper.CallableStatementWrapper.execute(CallableStatementWrapper.java:1431)\r\n            at org.hibernate.result.internal.OutputsImpl.&lt;init&gt;(OutputsImpl.java:56)\r\n            ... 49 more\r\n    Caused by: Error : 1403, Position : 0, Sql = BEGIN PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID(:1 ,:2 ,:3 ); END;, OriginalSql = {call PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID(?,?,?)}, Error Msg = ORA-01403: No se ha encontrado ning&#250;n dato\r\n    ORA-06512: en &quot;PERS.PKG_COMP_CUENTAS&quot;, l&#237;nea 12122\r\n    ORA-01403: No se ha encontrado ning&#250;n dato\r\n    ORA-06512: en l&#237;nea 1\r\n    \r\n            at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:637)\r\n            ... 64 more\r\n\r\nI need to capture oracle&#39;s own error code, that is, the one that comes in the following fragment:\r\n\r\n**Caused by: java.sql.SQLException: ORA-01403: No data found**   \r\n\r\nHow can I do this? \r\n\r\n**UPDATE 10/07/2023**                                                                                                                                                    \r\n\r\n**SOLVED**\r\n\r\nI managed to solve using the following line:\r\n\r\n **e.getCause().getCause().getLocalizedMessage()**\r\n   \r\n    catch (SQLException | PersistenceException e ) {\r\n                log.info(&quot;Excepci&#243;n SQL: &quot;+ e.getCause().getCause().getLocalizedMessage());\r\n                if(e.getCause().getCause().getLocalizedMessage().contains(&quot;ORA-01403&quot;)){\r\n                    response = mapping.setResponseError(request, ExceptionMessages.MSG062.name(), ExceptionMessages.MSG062.getMsgCode());\r\n                    log.info(SALIDA_MS + new Gson().toJson(response));\r\n                }\r\n                else {\r\n                    response = mapping.setResponseError(request, ExceptionMessages.MSG019.name(), ExceptionMessages.MSG019.getMsgCode());\r\n                    log.info(SALIDA_MS + new Gson().toJson(response));\r\n                }\r\n                return response;\r\n[![enter image description here][3]][3]\r\n\r\nHowever, is this a good practice?\r\n\r\n  [3]: https://i.stack.imgur.com/uITHZ.png","title":"How you can capture the value of Cause By in a Hibernate PersistenceExceptionException in Quarkus","body":"<p>Good morning, I am currently working with persistent java to consult a Stored Procedure in an Oracle DB, and I am catching the exceptions through a catch, however, I have a problem with the PersistenceException exception, which I need to read its caused By to do a conditional, so I currently have it and this is what the exception.message returns me:</p>\n<pre><code>    } catch (SQLException | PersistenceException e ) {\n        log.info(&quot;Excepcin SQL: &quot;+ e.getMessage());\n        if(e.getCause().getMessage().contains(&quot;ORA-01403&quot;)){\n            response = mapping.setResponseError(request, ExceptionMessages.MSG062.name(), ExceptionMessages.MSG062.getMsgCode());\n            log.info(SALIDA_MS + new Gson().toJson(response));\n        }\n        else {\n            response = mapping.setResponseError(request, ExceptionMessages.MSG019.name(), ExceptionMessages.MSG019.getMsgCode());\n            log.info(SALIDA_MS + new Gson().toJson(response));\n        }\n</code></pre>\n<p>My Repository Class:</p>\n<pre><code>package com.tmve.account.repositoty.impl;\n\nimport com.tmve.account.beans.PostpaidAccount;\nimport com.tmve.account.repositoty.IFindPostpaidAccountByDocumentRepository;\nimport lombok.extern.slf4j.Slf4j;\n\n\nimport javax.inject.Inject;\nimport javax.inject.Singleton;\nimport javax.persistence.EntityManager;\nimport javax.persistence.StoredProcedureQuery;\nimport java.util.List;\n\n@Slf4j\n@Singleton\npublic class FindPostpaidAccountByDocumentRepository implements IFindPostpaidAccountByDocumentRepository {\n\n    @Inject\n    EntityManager entityManager;\n\n    @Override\n    public List&lt;PostpaidAccount&gt; getPostpaidAccount(String documentType, String documentNumber) {\n\n        StoredProcedureQuery storedProcedureQuery=entityManager\n                .createNamedStoredProcedureQuery(&quot;BuscarCuentasRolesxDocId&quot;);\n        storedProcedureQuery.setParameter(1,documentNumber);\n        storedProcedureQuery.setParameter(2,Integer.parseInt(documentType));\n\n        storedProcedureQuery.execute();\n\n        return (List&lt;PostpaidAccount&gt;) storedProcedureQuery.getResultList();\n    }\n}\n</code></pre>\n<p>My entity:</p>\n<pre><code>package com.tmve.account.beans;\n\n\nimport lombok.Getter;\nimport lombok.ToString;\n\nimport javax.persistence.*;\nimport java.sql.Date;\n\n@NamedStoredProcedureQueries({\n        @NamedStoredProcedureQuery(\n                name = PostpaidAccount.NAME_QUERY_BUSCAR_CUENTAS_ROLES_X_DOC_IDE,\n                procedureName = &quot;PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID&quot;,\n                resultClasses = {PostpaidAccount.class},\n                parameters = {\n                        @StoredProcedureParameter(mode = ParameterMode.IN, type = String.class),\n                        @StoredProcedureParameter(mode = ParameterMode.IN, type = Integer.class),\n                        @StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, type = void.class),\n                })\n})\n@Getter\n@Entity\n@ToString\npublic class PostpaidAccount {\n\n    public static final String NAME_QUERY_BUSCAR_CUENTAS_ROLES_X_DOC_IDE=  &quot;BuscarCuentasRolesxDocId&quot;;\n    private static final long serialVersionUID = 5853819176277617472L;\n\n    @Id\n    @Column(name = &quot;V_NUMERO_CUENTA&quot;)\n    Long account;\n    @Column(name = &quot;V_NUM_CTA_PAGADORA&quot;)\n    Long billingAccountNumber;\n    @Column(name = &quot;V_NUM_CTA_DIG_VERI&quot;)\n    Long billingAccountNumberValidators;\n    @Column(name = &quot;V_TIPO_CUENTA&quot;)\n    String accountType;\n    @Column(name = &quot;V_ESTADO&quot;)\n    String accountStatus;\n    @Column(name = &quot;V_NOMBRE_ESTADO&quot;)\n    String accountStatusDescription;\n    @Column(name = &quot;V_ID_PRODUCTO&quot;)\n    Integer productoId;\n    @Column(name = &quot;NOMBRE_PRODUCTO&quot;)\n    String productName;\n    @Column(name = &quot;FECHA_INICIO_PROD&quot;)\n    Date customerSince;\n    @Column(name = &quot;V_TITULAR_CUENTA&quot;)\n    String accountHolder;\n    @Column(name = &quot;V_TIPO_RELACION&quot;)\n    String relationshipType;\n    @Column(name = &quot;V_PLATAF&quot;)\n    int platformId;\n    @Column(name = &quot;V_IDENTIFICADOR&quot;)\n    String identifier;\n    @Column(name = &quot;NOMBRE_AREA&quot;)\n    String marketName;\n}\n</code></pre>\n<p>This is what the e.getmessage() returns me:</p>\n<pre><code>Excepcin SQL: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults     \n</code></pre>\n<p>But I need to catch the cause to apply a conditional, specifically if it returns the code ORA-01403, as the exception is shown otherwise it will be caught:</p>\n<pre><code>javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults\n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359)\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n        at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:82)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:147)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:93)\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n        at org.hibernate.procedure.internal.ProcedureCallImpl.execute(ProcedureCallImpl.java:624)\n        at com.tmve.account.repositoty.impl.FindPostpaidAccountByDocumentRepository.getPostpaidAccount(FindPostpaidAccountByDocumentRepository.java:29)\n        at com.tmve.account.service.impl.FindPostpaidAccountByDocumentService.getPostpaidAccountListByDocument(FindPostpaidAccountByDocumentService.java:43)\n        at com.tmve.account.service.impl.FindPostpaidAccountByDocumentService_ClientProxy.getPostpaidAccountListByDocument(Unknown Source)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController.getPostpaidAccountListByDocument(FindPostpaidAccountByDocumentController.java:47)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass.getPostpaidAccountListByDocument$$superforward1(Unknown Source)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass$$function$$1.apply(Unknown Source)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\n        at io.quarkus.resteasy.runtime.QuarkusRestPathTemplateInterceptor.restMethodInvoke(QuarkusRestPathTemplateInterceptor.java:39)\n        at io.quarkus.resteasy.runtime.QuarkusRestPathTemplateInterceptor_Bean.intercept(Unknown Source)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:33)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass.getPostpaidAccountListByDocument(Unknown Source)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController_ClientProxy.getPostpaidAccountListByDocument(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\n        ... 15 more\nCaused by: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n        at org.hibernate.result.internal.OutputsImpl.convert(OutputsImpl.java:83)\n        at org.hibernate.result.internal.OutputsImpl.&lt;init&gt;(OutputsImpl.java:60)\n        at org.hibernate.procedure.internal.ProcedureOutputsImpl.&lt;init&gt;(ProcedureOutputsImpl.java:34)\n        at org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs(ProcedureCallImpl.java:418)\n        at org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs(ProcedureCallImpl.java:354)\n        at org.hibernate.procedure.internal.ProcedureCallImpl.outputs(ProcedureCallImpl.java:634)\n        at org.hibernate.procedure.internal.ProcedureCallImpl.execute(ProcedureCallImpl.java:617)\n        ... 44 more\nCaused by: java.sql.SQLException: ORA-01403: No se ha encontrado ningn dato\nORA-06512: en &quot;PERS.PKG_COMP_CUENTAS&quot;, lnea 12122\nORA-01403: No se ha encontrado ningn dato\nORA-06512: en lnea 1\n\n        at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:630)\n        at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:564)\n        at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1231)\n        at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:772)\n        at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:299)\n        at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:512)\n        at oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:159)\n        at oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:1237)\n        at oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.java:1820)\n        at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1472)\n        at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3761)\n        at oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:4136)\n        at oracle.jdbc.driver.OracleCallableStatement.execute(OracleCallableStatement.java:4279)\n        at oracle.jdbc.driver.OraclePreparedntWrapper.execute(OraclePreparedStatementWrapper.java:1014)\n        at io.agroal.pool.wrapper.CallableStatementWrapper.execute(CallableStatementWrapper.java:1431)\n        at org.hibernate.result.internal.OutputsImpl.&lt;init&gt;(OutputsImpl.java:56)\n        ... 49 more\nCaused by: Error : 1403, Position : 0, Sql = BEGIN PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID(:1 ,:2 ,:3 ); END;, OriginalSql = {call PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID(?,?,?)}, Error Msg = ORA-01403: No se ha encontrado ningn dato\nORA-06512: en &quot;PERS.PKG_COMP_CUENTAS&quot;, lnea 12122\nORA-01403: No se ha encontrado ningn dato\nORA-06512: en lnea 1\n\n        at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:637)\n        ... 64 more\n</code></pre>\n<p>I need to capture oracle's own error code, that is, the one that comes in the following fragment:</p>\n<p><strong>Caused by: java.sql.SQLException: ORA-01403: No data found</strong></p>\n<p>How can I do this?</p>\n<p><strong>UPDATE 10/07/2023</strong></p>\n<p><strong>SOLVED</strong></p>\n<p>I managed to solve using the following line:</p>\n<p><strong>e.getCause().getCause().getLocalizedMessage()</strong></p>\n<pre><code>catch (SQLException | PersistenceException e ) {\n            log.info(&quot;Excepcin SQL: &quot;+ e.getCause().getCause().getLocalizedMessage());\n            if(e.getCause().getCause().getLocalizedMessage().contains(&quot;ORA-01403&quot;)){\n                response = mapping.setResponseError(request, ExceptionMessages.MSG062.name(), ExceptionMessages.MSG062.getMsgCode());\n                log.info(SALIDA_MS + new Gson().toJson(response));\n            }\n            else {\n                response = mapping.setResponseError(request, ExceptionMessages.MSG019.name(), ExceptionMessages.MSG019.getMsgCode());\n                log.info(SALIDA_MS + new Gson().toJson(response));\n            }\n            return response;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uITHZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uITHZ.png\" alt=\"enter image description here\" /></a></p>\n<p>However, is this a good practice?</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1688988947,"post_id":76653123,"comment_id":135144633,"body_markdown":"What have you tried and why does it not work for you?","body":"What have you tried and why does it not work for you?"},{"owner":{"account_id":12237238,"reputation":59,"user_id":8931271,"display_name":"amit kumar"},"score":0,"creation_date":1688991258,"post_id":76653123,"comment_id":135145146,"body_markdown":"@vsfDawg I used findAll() to get all the data but it seems due to high volume of data ,sometimes it fails with cursor not found exception.","body":"@vsfDawg I used findAll() to get all the data but it seems due to high volume of data ,sometimes it fails with cursor not found exception."}],"owner":{"account_id":12237238,"reputation":59,"user_id":8931271,"display_name":"amit kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688992167,"creation_date":1688987367,"question_id":76653123,"body_markdown":"I have a mongo collection that has good amount of data in that, for my usecase I want to get all the data from the collection and keep in in-meomory.\r\n\r\nCurrently we are using JPA query findAll() to pull all the data which works fine in most of the time but sometimes we see cursor not found exception.\r\n\r\nBelow is the exact exception message\r\n\r\n&lt;code&gt; \r\n&quot;org.springframework.dao.DataAccessResourceFailureException&quot;, &quot;message&quot; : &quot;Cursor 7250434402800140524 not found on server mgs-stage.com:27017; nested exception is com.mongodb.MongoException$CursorNotFound: Cursor 7250434402800140524 not found on server mgs-stage.com:27017&quot;\r\n&lt;/code&gt;\r\n\r\nIs there any other better/efficient way to pull the data from the collection ? ","title":"Efficient way of pulling all data from a mongo collection","body":"<p>I have a mongo collection that has good amount of data in that, for my usecase I want to get all the data from the collection and keep in in-meomory.</p>\n<p>Currently we are using JPA query findAll() to pull all the data which works fine in most of the time but sometimes we see cursor not found exception.</p>\n<p>Below is the exact exception message</p>\n<code> \n\"org.springframework.dao.DataAccessResourceFailureException\", \"message\" : \"Cursor 7250434402800140524 not found on server mgs-stage.com:27017; nested exception is com.mongodb.MongoException$CursorNotFound: Cursor 7250434402800140524 not found on server mgs-stage.com:27017\"\n</code>\n<p>Is there any other better/efficient way to pull the data from the collection ?</p>\n"},{"tags":["java","testing","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"score":0,"creation_date":1494257736,"post_id":43851672,"comment_id":74739171,"body_markdown":"but this will deactivate all tests in the class. Is it possible to deactivate only several tests?","body":"but this will deactivate all tests in the class. Is it possible to deactivate only several tests?"},{"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"score":4,"creation_date":1587653091,"post_id":43851672,"comment_id":108601031,"body_markdown":"This is wrong. &quot;@IfProfileValue&quot; does not decide whether a test runs or not. It only decides which beans definition profiles should be used when the test runs. &quot;@IfProfileValue&quot; should be used as in the accepted answer. For detailed explanation see https://stackoverflow.com/questions/23607489/ifprofilevalue-vs-activeprofiles-in-the-context-of-spring-test/","body":"This is wrong. &quot;@IfProfileValue&quot; does not decide whether a test runs or not. It only decides which beans definition profiles should be used when the test runs. &quot;@IfProfileValue&quot; should be used as in the accepted answer. For detailed explanation see <a href=\"https://stackoverflow.com/questions/23607489/ifprofilevalue-vs-activeprofiles-in-the-context-of-spring-test/\" title=\"ifprofilevalue vs activeprofiles in the context of spring test\">stackoverflow.com/questions/23607489/&hellip;</a>"}],"tags":[],"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"comment_count":2,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1494257632,"creation_date":1494257632,"answer_id":43851672,"question_id":43851621,"body_markdown":"Yes you can do it.\r\n\r\nFor example use `@ActiveProfiles`:\r\n\r\n    @ActiveProfiles(&quot;default&quot;)\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class YourTest {\r\n       //tests\r\n    }","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>Yes you can do it.</p>\n\n<p>For example use <code>@ActiveProfiles</code>:</p>\n\n<pre><code>@ActiveProfiles(\"default\")\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class YourTest {\n   //tests\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5035951,"reputation":101,"user_id":4044718,"display_name":"Jonathan Garcia Rey"},"score":1,"creation_date":1534175215,"post_id":44005588,"comment_id":90606436,"body_markdown":"You can use the annotation in the whole class if you need it.","body":"You can use the annotation in the whole class if you need it."}],"tags":[],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1654801620,"creation_date":1494948358,"answer_id":44005588,"question_id":43851621,"body_markdown":"My colleague found a solution:\r\nso if you need to annotate separate tests you can use the `@IfProfileValue` annotation:\r\n\r\n    @IfProfileValue(name =&quot;spring.profiles.active&quot;, value =&quot;default&quot;)\r\n        @Test\r\n        public void testSomething() {\r\n            //testing logic\r\n        }\r\n\t\r\nThis test will run only when default profile is active\r\n\r\nUPDATE:\r\nFor Junit 5 use:\r\n\r\n    @EnabledIfSystemProperty(named = &quot;spring.profiles.active&quot;, matches = &quot;default&quot;)\r\n\r\nMore info: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-annotations-meta","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>My colleague found a solution:\nso if you need to annotate separate tests you can use the <code>@IfProfileValue</code> annotation:</p>\n<pre><code>@IfProfileValue(name =&quot;spring.profiles.active&quot;, value =&quot;default&quot;)\n    @Test\n    public void testSomething() {\n        //testing logic\n    }\n</code></pre>\n<p>This test will run only when default profile is active</p>\n<p>UPDATE:\nFor Junit 5 use:</p>\n<pre><code>@EnabledIfSystemProperty(named = &quot;spring.profiles.active&quot;, matches = &quot;default&quot;)\n</code></pre>\n<p>More info: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-annotations-meta\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-annotations-meta</a></p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598791922,"creation_date":1598791922,"answer_id":63657615,"question_id":43851621,"body_markdown":"`@IfProfileValue` only works for JUnit 4. If you&#39;re on JUnit 5, as you should be by this time, use `@EnabledIf` or `@DisabledIf`.\r\n\r\nExample:\r\n\r\n    @DisabledIf(\r\n        expression = &quot;#{systemProperties[&#39;os.name&#39;].toLowerCase().contains(&#39;mac&#39;)}&quot;,\r\n        reason = &quot;Disabled on Mac OS&quot;\r\n    )\r\n\r\nSee [the docs](https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#integration-testing-annotations-junit-jupiter) for more details.","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p><code>@IfProfileValue</code> only works for JUnit 4. If you're on JUnit 5, as you should be by this time, use <code>@EnabledIf</code> or <code>@DisabledIf</code>.</p>\n<p>Example:</p>\n<pre><code>@DisabledIf(\n    expression = &quot;#{systemProperties['os.name'].toLowerCase().contains('mac')}&quot;,\n    reason = &quot;Disabled on Mac OS&quot;\n)\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#integration-testing-annotations-junit-jupiter\" rel=\"nofollow noreferrer\">the docs</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605876593,"creation_date":1605876593,"answer_id":64929800,"question_id":43851621,"body_markdown":"If you want to run the tests from the command line using below:\r\n\r\n```\r\nSPRING_PROFILES_ACTIVE=dev ./gradlew test\r\n```\r\n\r\nand none of the above works for you, you can use below annotation (on a class or single test method):\r\n\r\n```\r\n@DisabledIfEnvironmentVariable(named = &quot;SPRING_PROFILES_ACTIVE&quot;, matches = &quot;(dev|default|local)&quot;)\r\n```\r\n\r\nThe test will be disabled if the spring profile is set to `dev` or `default` or `local` (regular expression)","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>If you want to run the tests from the command line using below:</p>\n<pre><code>SPRING_PROFILES_ACTIVE=dev ./gradlew test\n</code></pre>\n<p>and none of the above works for you, you can use below annotation (on a class or single test method):</p>\n<pre><code>@DisabledIfEnvironmentVariable(named = &quot;SPRING_PROFILES_ACTIVE&quot;, matches = &quot;(dev|default|local)&quot;)\n</code></pre>\n<p>The test will be disabled if the spring profile is set to <code>dev</code> or <code>default</code> or <code>local</code> (regular expression)</p>\n"},{"tags":[],"owner":{"account_id":12243278,"reputation":762,"user_id":10275600,"display_name":"Shtefan"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1629335639,"creation_date":1629335639,"answer_id":68840903,"question_id":43851621,"body_markdown":"You can use this profile based condition:\r\n    \r\n    @EnabledIf(value = &quot;#{&#39;${spring.profiles.active}&#39; == &#39;test&#39;}&quot;, loadContext = true)\r\n\r\n","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>You can use this profile based condition:</p>\n<pre><code>@EnabledIf(value = &quot;#{'${spring.profiles.active}' == 'test'}&quot;, loadContext = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1519327,"reputation":91,"user_id":1419478,"display_name":"Jurgen R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681380398,"creation_date":1681380398,"answer_id":76004184,"question_id":43851621,"body_markdown":"Here is another alternative for JUnit 5.9.x. This will only work on test methods and not on the class level as in that case the `isProfileActive` needs to be `static` . :\r\n\r\n```java\r\n@SpringBootTest\r\npublic class SomeTest {\r\n\r\n    @Autowired\r\n    Environment environment;\r\n\r\n    @Test\r\n    @DisabledIf(&quot;isProfileActive&quot;)\r\n    void testMethod() {}\r\n\r\n    boolean isProfileActive() {\r\n        return Arrays.stream(this.environment.getActiveProfiles()).toList().contains(&quot;myprofile&quot;);\r\n    }\r\n}\r\n```","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>Here is another alternative for JUnit 5.9.x. This will only work on test methods and not on the class level as in that case the <code>isProfileActive</code> needs to be <code>static</code> . :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\npublic class SomeTest {\n\n    @Autowired\n    Environment environment;\n\n    @Test\n    @DisabledIf(&quot;isProfileActive&quot;)\n    void testMethod() {}\n\n    boolean isProfileActive() {\n        return Arrays.stream(this.environment.getActiveProfiles()).toList().contains(&quot;myprofile&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1472916,"reputation":1703,"user_id":1384013,"accept_rate":50,"display_name":"Ubeogesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688992066,"creation_date":1688992066,"answer_id":76653745,"question_id":43851621,"body_markdown":"None of the answers have worked for me, and look incorrect at a glance (e.g. comparing a list to a string or expecting profiles to be declared via the one system property)\r\n\r\nThe following actually works:\r\n\r\n    @EnabledIf(expression = &quot;#{environment.acceptsProfiles(&#39;preprod&#39;)}&quot;, loadContext = true)\r\n\r\n\r\nUnfortunately, as of Spring 5.3.23 (that I happen to be using) ```Environment::acceptsProfiles(String...)``` is marked as deprecated in favour of ```Environment::acceptsProfiles(Profiles...)```. However the ```Profiles of(String...)``` doesn&#39;t work in an expression and leads to the following error.\r\n\r\n```Property or field &#39;Profiles&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid```\r\n\r\nIf someone knows a way around this, please correct my answer.","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>None of the answers have worked for me, and look incorrect at a glance (e.g. comparing a list to a string or expecting profiles to be declared via the one system property)</p>\n<p>The following actually works:</p>\n<pre><code>@EnabledIf(expression = &quot;#{environment.acceptsProfiles('preprod')}&quot;, loadContext = true)\n</code></pre>\n<p>Unfortunately, as of Spring 5.3.23 (that I happen to be using) <code>Environment::acceptsProfiles(String...)</code> is marked as deprecated in favour of <code>Environment::acceptsProfiles(Profiles...)</code>. However the <code>Profiles of(String...)</code> doesn't work in an expression and leads to the following error.</p>\n<p><code>Property or field 'Profiles' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid</code></p>\n<p>If someone knows a way around this, please correct my answer.</p>\n"}],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12957,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":44005588,"answer_count":7,"score":21,"last_activity_date":1688992066,"creation_date":1494257489,"question_id":43851621,"body_markdown":"I have two profiles: dev and default. And I would like to skip some (not all) tests when the active profile is default.\r\nIs it possible to mark these tests somehow to do so? Or how can this be achieved?\r\nI use springboot. This is my parent test class:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = MyServiceStarter.class, webEnvironment= SpringBootTest.WebEnvironment.DEFINED_PORT,\r\n            properties = {&quot;flyway.locations=filesystem:../database/h2&quot;, &quot;server.port=9100&quot;, &quot;spring.profiles.default=dev&quot;})\r\n    @Category(IntegrationTest.class)\r\n    public abstract class AbstractModuleIntegrationTest { ... }","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>I have two profiles: dev and default. And I would like to skip some (not all) tests when the active profile is default.\nIs it possible to mark these tests somehow to do so? Or how can this be achieved?\nI use springboot. This is my parent test class:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = MyServiceStarter.class, webEnvironment= SpringBootTest.WebEnvironment.DEFINED_PORT,\n        properties = {\"flyway.locations=filesystem:../database/h2\", \"server.port=9100\", \"spring.profiles.default=dev\"})\n@Category(IntegrationTest.class)\npublic abstract class AbstractModuleIntegrationTest { ... }\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1688991959,"post_id":76653720,"comment_id":135145315,"body_markdown":"Stop using outdated classes like `java.util.Date` and `SimpleDateformat`. Swith to the newer `java.time` API","body":"Stop using outdated classes like <code>java.util.Date</code> and <code>SimpleDateformat</code>. Swith to the newer <code>java.time</code> API"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688996297,"post_id":76653720,"comment_id":135146449,"body_markdown":"Something like `ZonedDateTime then = ZonedDateTime.now(ZoneId.of(&quot;America/New_York&quot;)).withHour(1).withMinute(25).withSecond(0);`","body":"Something like <code>ZonedDateTime then = ZonedDateTime.now(ZoneId.of(&quot;America&#47;New_York&quot;)).withHour(1)&zwnj;&#8203;.withMinute(25).with&zwnj;&#8203;Second(0);</code>"}],"owner":{"account_id":14507866,"reputation":231,"user_id":10479172,"display_name":"coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688992103,"answer_count":0,"score":0,"last_activity_date":1688991857,"creation_date":1688991857,"question_id":76653720,"body_markdown":"I would like to know, how to get date of a certain time zone and update hours , mins and seconds of it. For example\r\n\r\nif EST time now is 20230710 05:22:22 \r\nI want to update it to 20230710 01:25:00  and also get previous date and set time to 20230709 01:25:00\r\n\r\nUsing below i am getting EST time , but I am not able update the hour,mins and secs \r\nPlease advise\r\n\r\n    TimeZone tz = TimeZone.getTimeZone(&quot;EST&quot;);\r\n    long utc = System.currentTimeMillis();\r\n    Date currentTime = new Date(utc);\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    df.setTimeZone(tz);\r\n    String s = df.format(currentTime).replace(&quot;-&quot;, &quot;&quot;);\r\n\r\n","title":"How to update hours, mins and seconds in Data using java?","body":"<p>I would like to know, how to get date of a certain time zone and update hours , mins and seconds of it. For example</p>\n<p>if EST time now is 20230710 05:22:22\nI want to update it to 20230710 01:25:00  and also get previous date and set time to 20230709 01:25:00</p>\n<p>Using below i am getting EST time , but I am not able update the hour,mins and secs\nPlease advise</p>\n<pre><code>TimeZone tz = TimeZone.getTimeZone(&quot;EST&quot;);\nlong utc = System.currentTimeMillis();\nDate currentTime = new Date(utc);\nDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\ndf.setTimeZone(tz);\nString s = df.format(currentTime).replace(&quot;-&quot;, &quot;&quot;);\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":14462805,"reputation":821,"user_id":10447184,"display_name":"Marius Jaraminas"},"score":1,"creation_date":1578252413,"post_id":59603366,"comment_id":105370772,"body_markdown":"take a look in here to understand how it works: https://www.journaldev.com/744/java-array-of-arraylist-of-array","body":"take a look in here to understand how it works: <a href=\"https://www.journaldev.com/744/java-array-of-arraylist-of-array\" rel=\"nofollow noreferrer\">journaldev.com/744/java-array-of-arraylist-of-array</a>"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1578252798,"post_id":59603366,"comment_id":105370882,"body_markdown":"`ArrayList allPays` is a raw-type. **Don&#39;t** use raw-types.","body":"<code>ArrayList allPays</code> is a raw-type. <b>Don&#39;t</b> use raw-types."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1578252899,"post_id":59603366,"comment_id":105370918,"body_markdown":"Do you want to add all elements of the array or do you want to have an ArrayList od arrays?","body":"Do you want to add all elements of the array or do you want to have an ArrayList od arrays?"}],"answers":[{"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1578252800,"post_id":59603474,"comment_id":105370885,"body_markdown":"Please make sure that your answer is well-formaten before posting.","body":"Please make sure that your answer is well-formaten before posting."},{"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"score":0,"creation_date":1578252988,"post_id":59603474,"comment_id":105370946,"body_markdown":"You are right, I just pasted the original code, but never attempted to format it properly. Thank you.","body":"You are right, I just pasted the original code, but never attempted to format it properly. Thank you."}],"tags":[],"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578252752,"creation_date":1578252630,"answer_id":59603474,"question_id":59603366,"body_markdown":"It does not compile because the variable in the method addtothearray is a local variable in the main method. Passing it as an argument or making it a global variable will solve that compilation problem.\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList allPays = new ArrayList&lt;Double&gt;();\r\n        double[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\r\n        addtothearray(allPays, employeePay);\r\n    }\r\n    \r\n    public static void addtothearray(ArrayList allPays, double[] Pay) {\r\n        allPays.add(Pay);\r\n    }","title":"adding an array into an ArrayList","body":"<p>It does not compile because the variable in the method addtothearray is a local variable in the main method. Passing it as an argument or making it a global variable will solve that compilation problem.</p>\n\n<pre><code>public static void main(String[] args) {\n    ArrayList allPays = new ArrayList&lt;Double&gt;();\n    double[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\n    addtothearray(allPays, employeePay);\n}\n\npublic static void addtothearray(ArrayList allPays, double[] Pay) {\n    allPays.add(Pay);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5226795,"reputation":656,"user_id":4178596,"accept_rate":91,"display_name":"t4dohx"},"score":0,"creation_date":1578253188,"post_id":59603492,"comment_id":105371002,"body_markdown":"The OP asked for solution for `List`. If exact amount is known, there is no advantages using `ArrayList` of `double[]` over `double[10][12]`.","body":"The OP asked for solution for <code>List</code>. If exact amount is known, there is no advantages using <code>ArrayList</code> of <code>double[]</code> over <code>double[10][12]</code>."}],"tags":[],"owner":{"account_id":5226795,"reputation":656,"user_id":4178596,"accept_rate":91,"display_name":"t4dohx"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578252890,"creation_date":1578252778,"answer_id":59603492,"question_id":59603366,"body_markdown":"**Adding to an existing List**\r\n* if your List is type of `Double`  \r\n  \r\n    List&lt;Double&gt; allPays = new ArrayList&lt;&gt;();\r\n    double[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\r\n    DoubleStream.of(employeePay).forEach(allPays::add);\r\n    \r\n**Adding to an existing List**\r\n* if your List is type of `double[]`  \r\n\r\n    List&lt;double[]&gt; allPays = new ArrayList&lt;&gt;();\r\n    double[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\r\n    allPays.add(employeePay);\r\n","title":"adding an array into an ArrayList","body":"<p><strong>Adding to an existing List</strong>\n* if your List is type of <code>Double</code>  </p>\n\n<pre><code>List&lt;Double&gt; allPays = new ArrayList&lt;&gt;();\ndouble[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\nDoubleStream.of(employeePay).forEach(allPays::add);\n</code></pre>\n\n<p><strong>Adding to an existing List</strong>\n* if your List is type of <code>double[]</code>  </p>\n\n<pre><code>List&lt;double[]&gt; allPays = new ArrayList&lt;&gt;();\ndouble[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\nallPays.add(employeePay);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578252978,"creation_date":1578252978,"answer_id":59603525,"question_id":59603366,"body_markdown":"You can do it as follows:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    public class Pays {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tArrayList&lt;double[]&gt; allPays = new ArrayList&lt;double[]&gt;();\r\n    \t\tdouble[] employeePay = { 10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8, 0, 9.0, 10.0, 11.0, 12.0 };\r\n    \t\taddtothearray(allPays, employeePay);\r\n    \r\n    \t\t// Test\r\n    \t\tSystem.out.println(Arrays.toString((double[]) allPays.get(0)));\r\n    \t}\r\n    \r\n    \tpublic static void addtothearray(ArrayList&lt;double[]&gt; allPays, double[] pay) {\r\n    \t\tallPays.add(pay);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    [10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 0.0, 9.0, 10.0, 11.0, 12.0]\r\n\r\n","title":"adding an array into an ArrayList","body":"<p>You can do it as follows:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class Pays {\n\n    public static void main(String[] args) {\n        ArrayList&lt;double[]&gt; allPays = new ArrayList&lt;double[]&gt;();\n        double[] employeePay = { 10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8, 0, 9.0, 10.0, 11.0, 12.0 };\n        addtothearray(allPays, employeePay);\n\n        // Test\n        System.out.println(Arrays.toString((double[]) allPays.get(0)));\n    }\n\n    public static void addtothearray(ArrayList&lt;double[]&gt; allPays, double[] pay) {\n        allPays.add(pay);\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>[10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 0.0, 9.0, 10.0, 11.0, 12.0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7068114,"reputation":624,"user_id":5410757,"accept_rate":86,"display_name":"PaulProgrammerNoob"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630743123,"creation_date":1630743123,"answer_id":69053532,"question_id":59603366,"body_markdown":"`java.util.Collections.addAll(list, array)`","title":"adding an array into an ArrayList","body":"<p><code>java.util.Collections.addAll(list, array)</code></p>\n"},{"tags":[],"owner":{"account_id":28986782,"reputation":1,"user_id":22203444,"display_name":"Jono"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688991773,"creation_date":1688990095,"answer_id":76653485,"question_id":59603366,"body_markdown":"You are very close to getting the outcome you wanted, the problem is that your `ArrayList&lt;double&gt;` is defined to accept individual values of type double (example: 5.765) not double arrays (example: {5.5, 5.7, 3.2, etc.} ). \r\n\r\nTo fix this use `ArrayList&lt;double[]&gt;` instead. \r\n\r\nYou might also have trouble with the `addtothearray()` function, as you have not passed the location of the ArrayList to it. \r\n\r\nYou can fix this by changing the function parameters like this:\r\n\r\n    public static void addtothearray(ArrayList&lt;double[]&gt; allPays, double[] Pay) {\r\n\r\nthen pass in the allPays ArrayList when the function is called like this:\r\n\r\n    addtothearray(allPays, employeePay);","title":"adding an array into an ArrayList","body":"<p>You are very close to getting the outcome you wanted, the problem is that your <code>ArrayList&lt;double&gt;</code> is defined to accept individual values of type double (example: 5.765) not double arrays (example: {5.5, 5.7, 3.2, etc.} ).</p>\n<p>To fix this use <code>ArrayList&lt;double[]&gt;</code> instead.</p>\n<p>You might also have trouble with the <code>addtothearray()</code> function, as you have not passed the location of the ArrayList to it.</p>\n<p>You can fix this by changing the function parameters like this:</p>\n<pre><code>public static void addtothearray(ArrayList&lt;double[]&gt; allPays, double[] Pay) {\n</code></pre>\n<p>then pass in the allPays ArrayList when the function is called like this:</p>\n<pre><code>addtothearray(allPays, employeePay);\n</code></pre>\n"}],"owner":{"display_name":"user12422573"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4216,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":5,"score":-1,"last_activity_date":1688991773,"creation_date":1578251932,"question_id":59603366,"body_markdown":"I know that I am doing something silly here but I am trying to write my first piece of code using Java Arraylists and I have got myself confused.\r\n\r\nBasically I have created an Arraylist called allPays.  This is going to be an array list of employee pay for each month of the year.  So if I have 10 employees then the array list will contain 10 arrays of 12 months pay.\r\n\r\nI have then created my first array of 12 months pay.\r\n\r\nI then try and call a method to add the array to the Arraylist.\r\n\r\nPut it is not compiling  can anyone guide me on where I am going wrong.  Sorry that this appears basic but I am finding it a challenging concept.\r\n\r\n\r\n\r\n\r\n        package christmas;\r\n        import java.util.ArrayList;\r\n\r\n        public class Pays {\r\n\r\n        \tpublic static void main(String[] args) {\r\n\r\n    \r\n\t        ArrayList allPays = new ArrayList&lt;Double&gt;();\r\n \r\n\t        double[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\r\n\t\r\n\t        addtothearray(employeePay);\r\n\t\r\n\t         }\r\n\t  \r\n\t    \r\n\t        public static void addtothearray(double[] Pay) {\r\n\t\r\n\t\r\n\t        allPays.add(Pay);\r\n\t\t\r\n\t        }\r\n         }","title":"adding an array into an ArrayList","body":"<p>I know that I am doing something silly here but I am trying to write my first piece of code using Java Arraylists and I have got myself confused.</p>\n\n<p>Basically I have created an Arraylist called allPays.  This is going to be an array list of employee pay for each month of the year.  So if I have 10 employees then the array list will contain 10 arrays of 12 months pay.</p>\n\n<p>I have then created my first array of 12 months pay.</p>\n\n<p>I then try and call a method to add the array to the Arraylist.</p>\n\n<p>Put it is not compiling  can anyone guide me on where I am going wrong.  Sorry that this appears basic but I am finding it a challenging concept.</p>\n\n<pre><code>    package christmas;\n    import java.util.ArrayList;\n\n    public class Pays {\n\n        public static void main(String[] args) {\n\n\n        ArrayList allPays = new ArrayList&lt;Double&gt;();\n\n        double[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\n\n        addtothearray(employeePay);\n\n         }\n\n\n        public static void addtothearray(double[] Pay) {\n\n\n        allPays.add(Pay);\n\n        }\n     }\n</code></pre>\n"},{"tags":["java","android","kotlin","ontouchlistener","viewgroup"],"answers":[{"comments":[{"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"score":0,"creation_date":1688980381,"post_id":76636302,"comment_id":135142901,"body_markdown":"Inside text_view parent: android.widget.RelativeLayout{ace2ed7 V.E...... ........ 0,0-1080,300 #68} Inside text_view parent.parent.id: android.widget.RelativeLayout{d59a3c4 V.E...... ........ 0,0-1080,2075 #1}, I&#39;m getting the Two Relative Layout (parent layout and parent&#39;s parent layout)","body":"Inside text_view parent: android.widget.RelativeLayout{ace2ed7 V.E...... ........ 0,0-1080,300 #68} Inside text_view parent.parent.id: android.widget.RelativeLayout{d59a3c4 V.E...... ........ 0,0-1080,2075 #1}, I&#39;m getting the Two Relative Layout (parent layout and parent&#39;s parent layout)"},{"owner":{"account_id":3986872,"reputation":76,"user_id":3287176,"display_name":"Pravin Tadvi"},"score":0,"creation_date":1688980547,"post_id":76636302,"comment_id":135142947,"body_markdown":"Now, check `Log.d (&quot;tally&quot;, &quot;Inside text_view rootViewID: &quot; + (v.rootView).toString())`. is it give `RelativeLayout` or not?","body":"Now, check <code>Log.d (&quot;tally&quot;, &quot;Inside text_view rootViewID: &quot; + (v.rootView).toString())</code>. is it give <code>RelativeLayout</code> or not?"},{"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"score":0,"creation_date":1688980822,"post_id":76636302,"comment_id":135143010,"body_markdown":"Inside text_view rootViewID: DecorView@ca8a2ad[MainActivity], It&#39;s not giving me a RelativeLayout, but i don&#39;t understand why so and what is DecorView","body":"Inside text_view rootViewID: DecorView@ca8a2ad[MainActivity], It&#39;s not giving me a RelativeLayout, but i don&#39;t understand why so and what is DecorView"},{"owner":{"account_id":3986872,"reputation":76,"user_id":3287176,"display_name":"Pravin Tadvi"},"score":0,"creation_date":1688981515,"post_id":76636302,"comment_id":135143139,"body_markdown":"Yes, my point is `v.rootView` only give you `topmost view of your view hierarchy`, so you can not use that. `DecorView` is `the root of the window&#39;s view hierarchy.` ref link: https://developer.android.com/reference/android/view/View#getRootView()","body":"Yes, my point is <code>v.rootView</code> only give you <code>topmost view of your view hierarchy</code>, so you can not use that. <code>DecorView</code> is <code>the root of the window&#39;s view hierarchy.</code> ref link: <a href=\"https://developer.android.com/reference/android/view/View#getRootView()\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/view/View#getRootVie&zwnj;&#8203;w()</a>"},{"owner":{"account_id":3986872,"reputation":76,"user_id":3287176,"display_name":"Pravin Tadvi"},"score":0,"creation_date":1688982572,"post_id":76636302,"comment_id":135143360,"body_markdown":"Oh, sorry for put wrong ref link at above comment, please see this link to understand `what is decorview`?  https://akashsaggu-55383.medium.com/overlay-using-decorview-phonewindow-f13708710475","body":"Oh, sorry for put wrong ref link at above comment, please see this link to understand <code>what is decorview</code>?  <a href=\"https://akashsaggu-55383.medium.com/overlay-using-decorview-phonewindow-f13708710475\" rel=\"nofollow noreferrer\">akashsaggu-55383.medium.com/&hellip;</a>"},{"owner":{"account_id":3986872,"reputation":76,"user_id":3287176,"display_name":"Pravin Tadvi"},"score":0,"creation_date":1688991520,"post_id":76636302,"comment_id":135145203,"body_markdown":"Please see my updated answer to `track` `v.rootView` and understand `what actually you got` after call `View.rootView`.","body":"Please see my updated answer to <code>track</code> <code>v.rootView</code> and understand <code>what actually you got</code> after call <code>View.rootView</code>."},{"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"score":0,"creation_date":1689238704,"post_id":76636302,"comment_id":135186051,"body_markdown":"Thanks for the info you have provided, got a lot of clarity on Android&#39;s view hierarchy. Now what I want to ask is if I have a TextView(id = 200) inside a RelativeLayout (id = 104) which itself inside a RelativeLayout (id = 1), can I get the id of my topmost relative layout (id =1) directly using the TextView or I have to do (textview.parent.parent as ViewGroup).id, because later I can have multiple numbers of relative layouts in hierarchy and a textview at last so I want to avoid doing textview.parent.parent.parent... n number of times. to get the top relative layout&#39;s id.","body":"Thanks for the info you have provided, got a lot of clarity on Android&#39;s view hierarchy. Now what I want to ask is if I have a TextView(id = 200) inside a RelativeLayout (id = 104) which itself inside a RelativeLayout (id = 1), can I get the id of my topmost relative layout (id =1) directly using the TextView or I have to do (textview.parent.parent as ViewGroup).id, because later I can have multiple numbers of relative layouts in hierarchy and a textview at last so I want to avoid doing textview.parent.parent.parent... n number of times. to get the top relative layout&#39;s id."},{"owner":{"account_id":3986872,"reputation":76,"user_id":3287176,"display_name":"Pravin Tadvi"},"score":0,"creation_date":1689330647,"post_id":76636302,"comment_id":135201471,"body_markdown":"`can I get the id of my topmost relative layout (id =1) directly using the TextView.` Yes, for that you can use my method that describe in updated answer named `trackParentView`. For your result, just modify into my method, change condition `if(view.parent != relativeLayout)` and get `id` from that `view`.","body":"<code>can I get the id of my topmost relative layout (id =1) directly using the TextView.</code> Yes, for that you can use my method that describe in updated answer named <code>trackParentView</code>. For your result, just modify into my method, change condition <code>if(view.parent != relativeLayout)</code> and get <code>id</code> from that <code>view</code>."}],"tags":[],"owner":{"account_id":3986872,"reputation":76,"user_id":3287176,"display_name":"Pravin Tadvi"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688991562,"creation_date":1688727127,"answer_id":76636302,"question_id":76635920,"body_markdown":"Please check what view you have got exactly by below code:\r\n\r\n```\r\nLog.d (&quot;tally&quot;, &quot;Inside text_view parent: &quot; + (v.parent).toString())\r\nLog.d (&quot;tally&quot;, &quot;Inside text_view parent.parent.id: &quot; + (v. parent.parent).toString())\r\n```\r\n\r\nBecause, I think, `v.rootView` give you `topmost view` of `view hierarchy `.\r\n\r\n\r\n**[UPDATE]**\r\n\r\n**After our threads of Comment, I update here, how to track, what is exactly you got after calling `v.rootView `**\r\n\r\nfirst, read another link to better understand `android&#39;s view hierarchy`\r\n\r\nhttps://medium.com/@MrAndroid/android-window-basic-concepts-a11d6fcaaf3f#:~:text=DecorView%20is%20a%20ViewGroup%20so,event%20in%20the%20dispatchTouchEvent%20method.\r\n\r\nNow, let&#39;s try below things:\r\n```\r\nLog.d (&quot;demo&quot;, &quot;Inside text_view parent: &quot; + (v.parent).toString())\r\nLog.d (&quot;demo&quot;, &quot;Inside text_view parent.parent.id: &quot; + (v.parent.parent).toString())\r\n\r\nLog.d (&quot;demo&quot;, &quot;Inside text_view getRootView: &quot; + (v.getRootView()).toString())\r\nLog.d (&quot;demo&quot;, &quot;Inside text_view getRootView Name: &quot; + (v.getRootView().accessibilityClassName).toString())\r\nLog.d (&quot;demo&quot;, &quot;Inside text_view getRootView is ViewGroup: &quot; + (v.getRootView() is ViewGroup))\r\n\r\nif(v.getRootView() is ViewGroup){\r\n  var vg: ViewGroup  = v.getRootView() as ViewGroup;\r\n  trackParentView(v,0, vg)\r\n}\r\n````\r\n\r\nNow, use below method `trackParentView(...)`:\r\n\r\n\r\n```\r\nfun trackParentView(view :View, cnt :Int, rootView :ViewGroup){\r\n   //Log.d (&quot;trackParentView()&quot;, &quot;view (name) [track: &quot;+cnt+&quot;]: &quot;+ view.accessibilityClassName)\r\n   Log.d (&quot;trackParentView()&quot;, &quot;view (toString) [track: &quot;+cnt+&quot;]: &quot;+ view.toString())\r\n   if(view.parent != rootView){\r\n     trackParentView(view.parent as View, cnt+1, rootView)\r\n   } else {\r\n     Log.d (&quot;trackParentView()&quot;, &quot;this is rootView at : [&quot;+cnt+&quot;]: &quot;+ view.toString())\r\n   }\r\n }\r\n```","title":"Unable to Find the topmost view using View.rootView","body":"<p>Please check what view you have got exactly by below code:</p>\n<pre><code>Log.d (&quot;tally&quot;, &quot;Inside text_view parent: &quot; + (v.parent).toString())\nLog.d (&quot;tally&quot;, &quot;Inside text_view parent.parent.id: &quot; + (v. parent.parent).toString())\n</code></pre>\n<p>Because, I think, <code>v.rootView</code> give you <code>topmost view</code> of <code>view hierarchy </code>.</p>\n<p><strong>[UPDATE]</strong></p>\n<p><strong>After our threads of Comment, I update here, how to track, what is exactly you got after calling <code>v.rootView </code></strong></p>\n<p>first, read another link to better understand <code>android's view hierarchy</code></p>\n<p><a href=\"https://medium.com/@MrAndroid/android-window-basic-concepts-a11d6fcaaf3f#:%7E:text=DecorView%20is%20a%20ViewGroup%20so,event%20in%20the%20dispatchTouchEvent%20method\" rel=\"nofollow noreferrer\">https://medium.com/@MrAndroid/android-window-basic-concepts-a11d6fcaaf3f#:~:text=DecorView%20is%20a%20ViewGroup%20so,event%20in%20the%20dispatchTouchEvent%20method</a>.</p>\n<p>Now, let's try below things:</p>\n<pre><code>Log.d (&quot;demo&quot;, &quot;Inside text_view parent: &quot; + (v.parent).toString())\nLog.d (&quot;demo&quot;, &quot;Inside text_view parent.parent.id: &quot; + (v.parent.parent).toString())\n\nLog.d (&quot;demo&quot;, &quot;Inside text_view getRootView: &quot; + (v.getRootView()).toString())\nLog.d (&quot;demo&quot;, &quot;Inside text_view getRootView Name: &quot; + (v.getRootView().accessibilityClassName).toString())\nLog.d (&quot;demo&quot;, &quot;Inside text_view getRootView is ViewGroup: &quot; + (v.getRootView() is ViewGroup))\n\nif(v.getRootView() is ViewGroup){\n  var vg: ViewGroup  = v.getRootView() as ViewGroup;\n  trackParentView(v,0, vg)\n}\n</code></pre>\n<p>Now, use below method <code>trackParentView(...)</code>:</p>\n<pre><code>fun trackParentView(view :View, cnt :Int, rootView :ViewGroup){\n   //Log.d (&quot;trackParentView()&quot;, &quot;view (name) [track: &quot;+cnt+&quot;]: &quot;+ view.accessibilityClassName)\n   Log.d (&quot;trackParentView()&quot;, &quot;view (toString) [track: &quot;+cnt+&quot;]: &quot;+ view.toString())\n   if(view.parent != rootView){\n     trackParentView(view.parent as View, cnt+1, rootView)\n   } else {\n     Log.d (&quot;trackParentView()&quot;, &quot;this is rootView at : [&quot;+cnt+&quot;]: &quot;+ view.toString())\n   }\n }\n</code></pre>\n"}],"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76636302,"answer_count":1,"score":4,"last_activity_date":1688991562,"creation_date":1688724018,"question_id":76635920,"body_markdown":"I have the following View structure in my activity:\r\n\r\n- Relative Layout (id = 1)\r\n    - Relative Layout (id = 104)\r\n        - TextView (id = 200)\r\n\r\nNow when TextView is touched, I want to get the topmost relative layout&#39;s id (i.e. id = 1)\r\n\r\nI&#39;m using setOnTouchListener and inside that, I&#39;m writing two log statements as follows:\r\n\r\n   1) Log.d (&quot;demo&quot;, &quot;Inside text_view parent.parent.id: &quot; + (v.parent.parent as ViewGroup).id)\r\n   2) Log.d (&quot;demo&quot;, &quot;Inside text_view rootViewID: &quot; + (v.rootView as ViewGroup).id)\r\n\r\nI&#39;m able to get my topmost relative layout&#39;s id (id = 1) using 1st log statement but the second log statement is printing -1. \r\n\r\ncould someone please explain why I&#39;m not able to get the topmost relative layout using View.rootView?\r\n\r\nfor reference: [View.rootView][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/View#getRootView()","title":"Unable to Find the topmost view using View.rootView","body":"<p>I have the following View structure in my activity:</p>\n<ul>\n<li>Relative Layout (id = 1)\n<ul>\n<li>Relative Layout (id = 104)\n<ul>\n<li>TextView (id = 200)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Now when TextView is touched, I want to get the topmost relative layout's id (i.e. id = 1)</p>\n<p>I'm using setOnTouchListener and inside that, I'm writing two log statements as follows:</p>\n<ol>\n<li>Log.d (&quot;demo&quot;, &quot;Inside text_view parent.parent.id: &quot; + (v.parent.parent as ViewGroup).id)</li>\n<li>Log.d (&quot;demo&quot;, &quot;Inside text_view rootViewID: &quot; + (v.rootView as ViewGroup).id)</li>\n</ol>\n<p>I'm able to get my topmost relative layout's id (id = 1) using 1st log statement but the second log statement is printing -1.</p>\n<p>could someone please explain why I'm not able to get the topmost relative layout using View.rootView?</p>\n<p>for reference: <a href=\"https://developer.android.com/reference/android/view/View#getRootView()\" rel=\"nofollow noreferrer\">View.rootView</a></p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","jakarta-mail"],"comments":[{"owner":{"account_id":1487895,"reputation":1115,"user_id":1395722,"accept_rate":90,"display_name":"a.l."},"score":1,"creation_date":1508751110,"post_id":46884327,"comment_id":80719280,"body_markdown":"Have encountered the same problem. Google for a long time did not find the answer, but fortunately my scene is relatively simple, so I use of the [JavaMail](https://javaee.github.io/javamail/) api to deal with my problem","body":"Have encountered the same problem. Google for a long time did not find the answer, but fortunately my scene is relatively simple, so I use of the <a href=\"https://javaee.github.io/javamail/\" rel=\"nofollow noreferrer\">JavaMail</a> api to deal with my problem"},{"owner":{"account_id":2622881,"reputation":123,"user_id":2270534,"display_name":"Loga Nathan"},"score":0,"creation_date":1508754904,"post_id":46884327,"comment_id":80721551,"body_markdown":"Thanks for the reply @Umang Loriya .I also found this solution but when i am try to do with in the mvc `spring boot` we cannot manage the connection to `smtp` server and also i don&#39;t know how to add listener for the new mail","body":"Thanks for the reply @Umang Loriya .I also found this solution but when i am try to do with in the mvc <code>spring boot</code> we cannot manage the connection to <code>smtp</code> server and also i don&#39;t know how to add listener for the new mail"},{"owner":{"account_id":2622881,"reputation":123,"user_id":2270534,"display_name":"Loga Nathan"},"score":0,"creation_date":1508755726,"post_id":46884327,"comment_id":80722064,"body_markdown":"thanks for the reply @aLeX","body":"thanks for the reply @aLeX"}],"answers":[{"comments":[{"owner":{"account_id":2622881,"reputation":123,"user_id":2270534,"display_name":"Loga Nathan"},"score":0,"creation_date":1510641791,"post_id":47273515,"comment_id":81508921,"body_markdown":"Thanks for the reply @alexfedotov.I try `spring mail integration` also but i con&#39;t find any example using annotation based configuration.I am using `spring Boot` Annotation based configuration.","body":"Thanks for the reply @alexfedotov.I try <code>spring mail integration</code> also but i con&#39;t find any example using annotation based configuration.I am using <code>spring Boot</code> Annotation based configuration."},{"owner":{"account_id":1976370,"reputation":986,"user_id":1774076,"display_name":"alexmagnus"},"score":0,"creation_date":1510657228,"post_id":47273515,"comment_id":81517961,"body_markdown":"Added more details to the answer","body":"Added more details to the answer"},{"owner":{"account_id":5681691,"reputation":373,"user_id":4492655,"accept_rate":80,"display_name":"VGH"},"score":1,"creation_date":1580209509,"post_id":47273515,"comment_id":106014611,"body_markdown":"@Loga Nathan did you make your code working or got any complete working example for the same ?","body":"@Loga Nathan did you make your code working or got any complete working example for the same ?"},{"owner":{"account_id":5681691,"reputation":373,"user_id":4492655,"accept_rate":80,"display_name":"VGH"},"score":0,"creation_date":1590409260,"post_id":47273515,"comment_id":109660193,"body_markdown":"@alexmagnus Above code keeps listening to incoming messages. Now how to read the new emails from another class ?","body":"@alexmagnus Above code keeps listening to incoming messages. Now how to read the new emails from another class ?"},{"owner":{"account_id":1976370,"reputation":986,"user_id":1774076,"display_name":"alexmagnus"},"score":1,"creation_date":1593779863,"post_id":47273515,"comment_id":110906017,"body_markdown":"@VGH, just handle messages sent to the channel you specified. Another option is to use [service activators](https://github.com/spring-projects/spring-integration-java-dsl/wiki/spring-integration-java-dsl-reference#serviceactivators-handle)","body":"@VGH, just handle messages sent to the channel you specified. Another option is to use <a href=\"https://github.com/spring-projects/spring-integration-java-dsl/wiki/spring-integration-java-dsl-reference#serviceactivators-handle\" rel=\"nofollow noreferrer\">service activators</a>"}],"tags":[],"owner":{"account_id":1976370,"reputation":986,"user_id":1774076,"display_name":"alexmagnus"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1510657193,"creation_date":1510607086,"answer_id":47273515,"question_id":46884327,"body_markdown":"You could consider using [Spring integration mail support][1]  \r\n\r\nThere is a [Java DSL](https://github.com/spring-projects/spring-integration-java-dsl/wiki/spring-integration-java-dsl-reference) for this purposes.  \r\nAn example of IMAP config could be found [here](https://github.com/spring-projects/spring-integration-java-dsl/blob/master/src/test/java/org/springframework/integration/dsl/test/mail/MailTests.java)  \r\n\r\nThe key aspects are like this  \r\n\r\n    @Configuration\r\n\t@EnableIntegration\r\n    public class IntegrationConfig {\r\n        ...\r\n\r\n        @Bean\r\n\t\tpublic IntegrationFlow imapIdleFlow() {\r\n\t\t\treturn IntegrationFlows\r\n\t\t\t\t\t.from(Mail.imapIdleAdapter(&quot;imap://user:pw@localhost:&quot; + imapIdleServer.getPort() + &quot;/INBOX&quot;)\r\n\t\t\t\t\t\t\t.autoStartup(true)\r\n\t\t\t\t\t\t\t.searchTermStrategy(this::fromAndNotSeenTerm)\r\n\t\t\t\t\t\t\t.userFlag(&quot;testSIUserFlag&quot;)\r\n\t\t\t\t\t\t\t.javaMailProperties(p -&gt; p.put(&quot;mail.debug&quot;, &quot;false&quot;)\r\n\t\t\t\t\t\t\t\t\t.put(&quot;mail.imap.connectionpoolsize&quot;, &quot;5&quot;))\r\n\t\t\t\t\t\t\t.shouldReconnectAutomatically(false)\r\n\t\t\t\t\t\t\t.headerMapper(mailHeaderMapper()))\r\n\t\t\t\t\t.channel(MessageChannels.queue(&quot;imapIdleChannel&quot;))\r\n\t\t\t\t\t.get();\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic HeaderMapper&lt;MimeMessage&gt; mailHeaderMapper() {\r\n\t\t\treturn new DefaultMailHeaderMapper();\r\n\t\t}\r\n\r\n\t\tprivate SearchTerm fromAndNotSeenTerm(Flags supportedFlags, Folder folder) {\r\n\t\t\ttry {\r\n\t\t\t\tFromTerm fromTerm = new FromTerm(new InternetAddress(&quot;bar@baz&quot;));\r\n\t\t\t\treturn new AndTerm(fromTerm, new FlagTerm(new Flags(Flags.Flag.SEEN), false));\r\n\t\t\t}\r\n\t\t\tcatch (AddressException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\r\n\t\t}\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-integration/reference/html/mail.html#mail-inbound","title":"Spring boot read and new mail Listener on spring-boot-starter-mail","body":"<p>You could consider using <a href=\"https://docs.spring.io/spring-integration/reference/html/mail.html#mail-inbound\" rel=\"noreferrer\">Spring integration mail support</a>  </p>\n\n<p>There is a <a href=\"https://github.com/spring-projects/spring-integration-java-dsl/wiki/spring-integration-java-dsl-reference\" rel=\"noreferrer\">Java DSL</a> for this purposes.<br>\nAn example of IMAP config could be found <a href=\"https://github.com/spring-projects/spring-integration-java-dsl/blob/master/src/test/java/org/springframework/integration/dsl/test/mail/MailTests.java\" rel=\"noreferrer\">here</a>  </p>\n\n<p>The key aspects are like this  </p>\n\n<pre><code>@Configuration\n@EnableIntegration\npublic class IntegrationConfig {\n    ...\n\n    @Bean\n    public IntegrationFlow imapIdleFlow() {\n        return IntegrationFlows\n                .from(Mail.imapIdleAdapter(\"imap://user:pw@localhost:\" + imapIdleServer.getPort() + \"/INBOX\")\n                        .autoStartup(true)\n                        .searchTermStrategy(this::fromAndNotSeenTerm)\n                        .userFlag(\"testSIUserFlag\")\n                        .javaMailProperties(p -&gt; p.put(\"mail.debug\", \"false\")\n                                .put(\"mail.imap.connectionpoolsize\", \"5\"))\n                        .shouldReconnectAutomatically(false)\n                        .headerMapper(mailHeaderMapper()))\n                .channel(MessageChannels.queue(\"imapIdleChannel\"))\n                .get();\n    }\n\n    @Bean\n    public HeaderMapper&lt;MimeMessage&gt; mailHeaderMapper() {\n        return new DefaultMailHeaderMapper();\n    }\n\n    private SearchTerm fromAndNotSeenTerm(Flags supportedFlags, Folder folder) {\n        try {\n            FromTerm fromTerm = new FromTerm(new InternetAddress(\"bar@baz\"));\n            return new AndTerm(fromTerm, new FlagTerm(new Flags(Flags.Flag.SEEN), false));\n        }\n        catch (AddressException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19167456,"reputation":101,"user_id":14001886,"display_name":"Sushant Kumar Rout"},"score":0,"creation_date":1614944564,"post_id":64320919,"comment_id":117546261,"body_markdown":"For the complete details please follow my github account the link bellow: https://github.com/sushantrout/read-email-by-spring-boot/tree/main","body":"For the complete details please follow my github account the link bellow: <a href=\"https://github.com/sushantrout/read-email-by-spring-boot/tree/main\" rel=\"nofollow noreferrer\">github.com/sushantrout/read-email-by-spring-boot/tree/main</a>"}],"tags":[],"owner":{"account_id":5488688,"reputation":1124,"user_id":4362715,"display_name":"redoff"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602517000,"creation_date":1602517000,"answer_id":64320919,"question_id":46884327,"body_markdown":"If you&#39;re asking about how to receive emails based on Spring Boot and a Java library for mail-receiving (e.g Subetha SMTP), you can check [Receive emails with SubEtha SMTP and Spring Boot][1]\r\n\r\n\r\n  [1]: https://redamessoudi.com/receive-emails-with-subetha-springboot/","title":"Spring boot read and new mail Listener on spring-boot-starter-mail","body":"<p>If you're asking about how to receive emails based on Spring Boot and a Java library for mail-receiving (e.g Subetha SMTP), you can check <a href=\"https://redamessoudi.com/receive-emails-with-subetha-springboot/\" rel=\"nofollow noreferrer\">Receive emails with SubEtha SMTP and Spring Boot</a></p>\n"},{"tags":[],"owner":{"account_id":19167456,"reputation":101,"user_id":14001886,"display_name":"Sushant Kumar Rout"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614944536,"creation_date":1614944536,"answer_id":66491959,"question_id":46884327,"body_markdown":"    package com.grandview.service;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import javax.mail.Folder;\r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.Session;\r\n    import javax.mail.Store;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.grandview.model.EmailConfig;\r\n    import com.grandview.util.MessageParser;\r\n    \r\n    @Service\r\n    public class EmailService {\r\n    \t@Autowired\r\n    \tprivate EmailConfig emailConfig;\r\n    \r\n    \tFolder emailFolder;\r\n    \tStore store;\r\n    \tProperties properties = new Properties();\r\n    \r\n    \t@PostConstruct\r\n    \tvoid setup() {\r\n    \t\tString server = emailConfig.getHost();\r\n    \t\tproperties.put(&quot;mail.pop3.host&quot;, server);\r\n    \t\tproperties.put(&quot;mail.pop3.port&quot;, emailConfig.getPort());\r\n    \t\t//properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\r\n    \t\tSession emailSession = Session.getDefaultInstance(properties);\r\n    \t\tStore store = null;\r\n    \t\ttry {\r\n    \t\t\tstore = emailSession.getStore(&quot;pop3s&quot;);\r\n    \t\t\tstore.connect(server, emailConfig.getUsername(), emailConfig.getPassword());\r\n    \t\t\temailFolder = store.getFolder(&quot;INBOX&quot;);\r\n    \t\t} catch (MessagingException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Scheduled(fixedRate = 5000)\r\n    \tsynchronized void read() throws MessagingException, IOException {\r\n    \t\temailFolder.open(Folder.READ_ONLY);\r\n    \t\tMessage[] messages = emailFolder.getMessages();\r\n    \t\tfor (int i = 0; i &lt; messages.length; i++) {\r\n    \t\t\tMessage message = messages[i];\r\n    \t\t\tSystem.out.println(MessageParser.getMessageBody(message));\r\n    \t\t}\r\n    \t\temailFolder.close();\r\n    \t}\r\n    }\r\n\r\n","title":"Spring boot read and new mail Listener on spring-boot-starter-mail","body":"<pre><code>package com.grandview.service;\n\nimport java.io.IOException;\nimport java.util.Properties;\n\nimport javax.annotation.PostConstruct;\nimport javax.mail.Folder;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.Session;\nimport javax.mail.Store;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Service;\n\nimport com.grandview.model.EmailConfig;\nimport com.grandview.util.MessageParser;\n\n@Service\npublic class EmailService {\n    @Autowired\n    private EmailConfig emailConfig;\n\n    Folder emailFolder;\n    Store store;\n    Properties properties = new Properties();\n\n    @PostConstruct\n    void setup() {\n        String server = emailConfig.getHost();\n        properties.put(&quot;mail.pop3.host&quot;, server);\n        properties.put(&quot;mail.pop3.port&quot;, emailConfig.getPort());\n        //properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\n        Session emailSession = Session.getDefaultInstance(properties);\n        Store store = null;\n        try {\n            store = emailSession.getStore(&quot;pop3s&quot;);\n            store.connect(server, emailConfig.getUsername(), emailConfig.getPassword());\n            emailFolder = store.getFolder(&quot;INBOX&quot;);\n        } catch (MessagingException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Scheduled(fixedRate = 5000)\n    synchronized void read() throws MessagingException, IOException {\n        emailFolder.open(Folder.READ_ONLY);\n        Message[] messages = emailFolder.getMessages();\n        for (int i = 0; i &lt; messages.length; i++) {\n            Message message = messages[i];\n            System.out.println(MessageParser.getMessageBody(message));\n        }\n        emailFolder.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27358669,"reputation":111,"user_id":20866658,"display_name":"Sushant Patewar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688991494,"creation_date":1688991494,"answer_id":76653671,"question_id":46884327,"body_markdown":"Sharing another solution with a working example:\r\n\r\nRead incoming emails with JavaMail API, IMAP protocol and IMAP IDLE feature.\r\n\r\n1. Use JavaMail API for IMAP connection which provides implementation for IMAP.\r\n2. For monitoring we need IMAP IDLE feature, which allows our application to receive immediate notifications when new messages arrive in the mailbox, rather than relying on periodic polling.\r\n\r\nRefer detailed implementation of this here: https://medium.com/@sushant7/how-to-monitor-incoming-emails-in-a-spring-boot-application-indefinitely-7dabbdb74b2d","title":"Spring boot read and new mail Listener on spring-boot-starter-mail","body":"<p>Sharing another solution with a working example:</p>\n<p>Read incoming emails with JavaMail API, IMAP protocol and IMAP IDLE feature.</p>\n<ol>\n<li>Use JavaMail API for IMAP connection which provides implementation for IMAP.</li>\n<li>For monitoring we need IMAP IDLE feature, which allows our application to receive immediate notifications when new messages arrive in the mailbox, rather than relying on periodic polling.</li>\n</ol>\n<p>Refer detailed implementation of this here: <a href=\"https://medium.com/@sushant7/how-to-monitor-incoming-emails-in-a-spring-boot-application-indefinitely-7dabbdb74b2d\" rel=\"nofollow noreferrer\">https://medium.com/@sushant7/how-to-monitor-incoming-emails-in-a-spring-boot-application-indefinitely-7dabbdb74b2d</a></p>\n"}],"owner":{"account_id":2622881,"reputation":123,"user_id":2270534,"display_name":"Loga Nathan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20031,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47273515,"answer_count":4,"score":1,"last_activity_date":1688991494,"creation_date":1508744994,"question_id":46884327,"body_markdown":"I want to demonstrate the **email application** using the `spring boot MVC` in that web application I follow [this][1] tutorial I can easily send the emails using spring boot.\r\n\r\n**Here my question is** \r\n\r\n 1. how can I read the emails using spring boot..?\r\n 2. how can I listen for new emails and how to update the inbox on the view..?\r\n\r\nplease suggest me any solutions for that because I searched a lot but I can find only send email example.please share me if you have any **working samples** for that using spring boot. Thanks in advance.\r\n\r\n  [1]: http://www.baeldung.com/spring-email","title":"Spring boot read and new mail Listener on spring-boot-starter-mail","body":"<p>I want to demonstrate the <strong>email application</strong> using the <code>spring boot MVC</code> in that web application I follow <a href=\"http://www.baeldung.com/spring-email\" rel=\"nofollow noreferrer\">this</a> tutorial I can easily send the emails using spring boot.</p>\n\n<p><strong>Here my question is</strong> </p>\n\n<ol>\n<li>how can I read the emails using spring boot..?</li>\n<li>how can I listen for new emails and how to update the inbox on the view..?</li>\n</ol>\n\n<p>please suggest me any solutions for that because I searched a lot but I can find only send email example.please share me if you have any <strong>working samples</strong> for that using spring boot. Thanks in advance.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1688989871,"post_id":76653421,"comment_id":135144809,"body_markdown":"Note that `V` is substituted by `Integer[]`, not `Integer`.","body":"Note that <code>V</code> is substituted by <code>Integer[]</code>, not <code>Integer</code>."},{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":0,"creation_date":1688990019,"post_id":76653421,"comment_id":135144843,"body_markdown":"I thought `V[]` is substituted by `Integer[]` and `V` is substituted by `Integer`? Am I right? @Code-Apprentice","body":"I thought <code>V[]</code> is substituted by <code>Integer[]</code> and <code>V</code> is substituted by <code>Integer</code>? Am I right? @Code-Apprentice"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1689004608,"post_id":76653421,"comment_id":135148565,"body_markdown":"@MehdiRahimi oh, you are probably right...at least `V` is probably not an array type. But it might be `Object` instead of `Integer`.","body":"@MehdiRahimi oh, you are probably right...at least <code>V</code> is probably not an array type. But it might be <code>Object</code> instead of <code>Integer</code>."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1688991449,"creation_date":1688991449,"answer_id":76653663,"question_id":76653421,"body_markdown":"In this method call, the values of the `T` and `V` type parameters are not provided explicitly, so the compiler infers them. It will always try to infer valid substitutions before returning an error, even if the results are not always intuitive. In this example, the value `text` is a `String`, yes, but it is also an `Object`. Since the inference `T = String, V = Integer` is invalid because `Integer` is not a subtype of `String`, the compiler uses `T = Object, V = Integer`, which is valid.","title":"Generic method upper bound isn&#39;t checked","body":"<p>In this method call, the values of the <code>T</code> and <code>V</code> type parameters are not provided explicitly, so the compiler infers them. It will always try to infer valid substitutions before returning an error, even if the results are not always intuitive. In this example, the value <code>text</code> is a <code>String</code>, yes, but it is also an <code>Object</code>. Since the inference <code>T = String, V = Integer</code> is invalid because <code>Integer</code> is not a subtype of <code>String</code>, the compiler uses <code>T = Object, V = Integer</code>, which is valid.</p>\n"}],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76653663,"answer_count":1,"score":2,"last_activity_date":1688991449,"creation_date":1688989649,"question_id":76653421,"body_markdown":"I&#39;ve created a generic method with two type paremeter as follow inside a non-generic class:\r\n\r\n    static &lt;T, V extends T&gt; boolean testMethod(T t, V[] v) {\r\n        return true;\r\n    }\r\n\r\nThe second type parameter defined as `V extends T`.\r\n\r\nNow consider calling of this method by following arguments:\r\n\r\n    testMethod(&quot;text&quot;, new Integer[]{1, 2});\r\n\r\nWhen I try to call this method with the above parameters **I expected to got an error** of type mismatch, because type parameter `T` substituted by `String` and `V` substituted by `Integer` and as you see `V` is bounded by `T` which means **it must be of type String or its derived classes but Integer is non of them**. But the code segment compile and run successfully without any problem.\r\n\r\nCan somebody explain what is wrong about my impression of this concept?","title":"Generic method upper bound isn&#39;t checked","body":"<p>I've created a generic method with two type paremeter as follow inside a non-generic class:</p>\n<pre><code>static &lt;T, V extends T&gt; boolean testMethod(T t, V[] v) {\n    return true;\n}\n</code></pre>\n<p>The second type parameter defined as <code>V extends T</code>.</p>\n<p>Now consider calling of this method by following arguments:</p>\n<pre><code>testMethod(&quot;text&quot;, new Integer[]{1, 2});\n</code></pre>\n<p>When I try to call this method with the above parameters <strong>I expected to got an error</strong> of type mismatch, because type parameter <code>T</code> substituted by <code>String</code> and <code>V</code> substituted by <code>Integer</code> and as you see <code>V</code> is bounded by <code>T</code> which means <strong>it must be of type String or its derived classes but Integer is non of them</strong>. But the code segment compile and run successfully without any problem.</p>\n<p>Can somebody explain what is wrong about my impression of this concept?</p>\n"},{"tags":["java","oop","hierarchy","superclass"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1688880159,"post_id":76645976,"comment_id":135131922,"body_markdown":"Why would it call `A.method1()` when you have a `B`? You would need a `super.method1(arg);` in `B.method1()` to invoke the `A.method1()` (if that&#39;s what you want).","body":"Why would it call <code>A.method1()</code> when you have a <code>B</code>? You would need a <code>super.method1(arg);</code> in <code>B.method1()</code> to invoke the <code>A.method1()</code> (if that&#39;s what you want)."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688882637,"post_id":76645976,"comment_id":135132076,"body_markdown":"Or maybe ((A)b).method1(&quot;HI&quot;);","body":"Or maybe ((A)b).method1(&quot;HI&quot;);"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1688887289,"post_id":76645976,"comment_id":135132377,"body_markdown":"@SamuelMarchant That is not how it works.","body":"@SamuelMarchant That is not how it works."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688889158,"post_id":76645976,"comment_id":135132550,"body_markdown":"@SamuelMarchant Removing `this.` or `this()` has no such effect. `B extends A` : nothing can change that.","body":"@SamuelMarchant Removing <code>this.</code> or <code>this()</code> has no such effect. <code>B extends A</code> : nothing can change that."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688913197,"post_id":76645976,"comment_id":135135174,"body_markdown":"It would dependent haw you then call from outside the class in main.","body":"It would dependent haw you then call from outside the class in main."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688950567,"post_id":76645976,"comment_id":135139135,"body_markdown":"@SamuelMarchant No it wouldn&#39;t. How you call something cannot change the inheritance. Your comments do not make sense.","body":"@SamuelMarchant No it wouldn&#39;t. How you call something cannot change the inheritance. Your comments do not make sense."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688954978,"post_id":76645976,"comment_id":135139410,"body_markdown":"@user207421 how something is called can be the only way you can access, but what you are saying would then mean there was no point in super or subclass \ninheritance  because only one version of method could ever be accessed. Second, calling non static classes inside static void main often has strange results! If you want non static methods to be operated shift all your calling code into the constructor of the main class and just use main to recursively start the class.","body":"@user207421 how something is called can be the only way you can access, but what you are saying would then mean there was no point in super or subclass  inheritance  because only one version of method could ever be accessed. Second, calling non static classes inside static void main often has strange results! If you want non static methods to be operated shift all your calling code into the constructor of the main class and just use main to recursively start the class."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688956479,"post_id":76645976,"comment_id":135139517,"body_markdown":"Really that&#39;s your trouble, you are trying to manipulate the scope of a non static class in a static context, to use super this properly you must be outside the static context.  Put a constructor in for MainAB and recursively call MainAB and a System.exit(0) to close it and initialise call everything from MainAB constructor. You will be able to use super this , (choose an internal or external hierarchy method call way to call code)  Using main method, the static context always throws everything into confusion. regular question once in while in forums, someone always is trying from main.","body":"Really that&#39;s your trouble, you are trying to manipulate the scope of a non static class in a static context, to use super this properly you must be outside the static context.  Put a constructor in for MainAB and recursively call MainAB and a System.exit(0) to close it and initialise call everything from MainAB constructor. You will be able to use super this , (choose an internal or external hierarchy method call way to call code)  Using main method, the static context always throws everything into confusion. regular question once in while in forums, someone always is trying from main."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688957371,"post_id":76645976,"comment_id":135139585,"body_markdown":"Initialise B in MainAB constructor, and test using this() and then super() as the first and only line of the constructor of B. And also ((A)bref).method1(str);.  Don&#39;t forget System.exit(0) at the end of main in MainAB","body":"Initialise B in MainAB constructor, and test using this() and then super() as the first and only line of the constructor of B. And also ((A)bref).method1(str);.  Don&#39;t forget System.exit(0) at the end of main in MainAB"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688962373,"post_id":76645976,"comment_id":135139969,"body_markdown":"@SamuelMarchant It is you who is claiming that, not me: &quot;`this()`&quot; in the constructor of B would make B the superclass&quot;. This comment is not correct, and neither is your comment about removing `this.` from the method call, which accomplishes exactly nothing. I am unable to make any sense out of the rest of this. And who wants you to answer is irrelevant.","body":"@SamuelMarchant It is you who is claiming that, not me: &quot;<code>this()</code>&quot; in the constructor of B would make B the superclass&quot;. This comment is not correct, and neither is your comment about removing <code>this.</code> from the method call, which accomplishes exactly nothing. I am unable to make any sense out of the rest of this. And who wants you to answer is irrelevant."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688962970,"post_id":76645976,"comment_id":135140020,"body_markdown":"The critiqu&#39;e from admin wants to answer this one, it is always the mess the static context from main causes when trying to run through complex non static code in main.  Until you are out of the static context of main when calling.....","body":"The critiqu&#39;e from admin wants to answer this one, it is always the mess the static context from main causes when trying to run through complex non static code in main.  Until you are out of the static context of main when calling....."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688964717,"post_id":76645976,"comment_id":135140167,"body_markdown":"@SamuelMarchant I can still make no sense of what you are saying, but, your claims about `this.` and `this()` being entirely incorrect, it is difficult to have any faith in anything else you post on this topic. Impossible, actually. And who wants you to answer the question remains irrelevant. If you really must answer the question, by all means do so: downvotes may ensue.","body":"@SamuelMarchant I can still make no sense of what you are saying, but, your claims about <code>this.</code> and <code>this()</code> being entirely incorrect, it is difficult to have any faith in anything else you post on this topic. Impossible, actually. And who wants you to answer the question remains irrelevant. If you really must answer the question, by all means do so: downvotes may ensue."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689056248,"post_id":76645976,"comment_id":135155047,"body_markdown":"I finally got around to trying it with your code, and I must say &quot;using super in A is a good sign of useless from the compiler&quot; , A is not extended. The method in A would need a deliberate method in B to access because of the &quot;peculiar&quot; state of method overriding With method overloading causing &quot;ambiguity&quot;. With inheritance it looks for the deepest class with the method name and loading arguments , and B has that, but B is this() and super cannot be coded into A. Normally that code gets a problem from static context (but obviously doesn&#39;t in your code this time) but I did it my way in main.","body":"I finally got around to trying it with your code, and I must say &quot;using super in A is a good sign of useless from the compiler&quot; , A is not extended. The method in A would need a deliberate method in B to access because of the &quot;peculiar&quot; state of method overriding With method overloading causing &quot;ambiguity&quot;. With inheritance it looks for the deepest class with the method name and loading arguments , and B has that, but B is this() and super cannot be coded into A. Normally that code gets a problem from static context (but obviously doesn&#39;t in your code this time) but I did it my way in main."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689057031,"post_id":76645976,"comment_id":135155166,"body_markdown":"Sorry about this() about the constructor it&#39;s used to call another constructor in the same class with presets. https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html    Also,  java reflection would be the only direct external way of accessing the A class method specifically.","body":"Sorry about this() about the constructor it&#39;s used to call another constructor in the same class with presets. <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html</a>    Also,  java reflection would be the only direct external way of accessing the A class method specifically."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689060221,"post_id":76645976,"comment_id":135155707,"body_markdown":"@SamuelMarchant We know what `this()` does, thanks, that&#39;s how we know you&#39;re wrong. You&#39;re also wrong about using Reflection. The only way to access `A.method1(int)` specifically is via JNI.","body":"@SamuelMarchant We know what <code>this()</code> does, thanks, that&#39;s how we know you&#39;re wrong. You&#39;re also wrong about using Reflection. The only way to access <code>A.method1(int)</code> specifically is via JNI."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689130872,"post_id":76645976,"comment_id":135168177,"body_markdown":"That mislearned trouble about this() and constructors has been lurking a long time, anyhow, best practice would be to not have overridden overloads when writing a class to extend, then there will be no ambiguity of method names. Next one for me to play with that piece of code will be reflection to find if that weighs in as wrong  from what your saying. Also, Writing a class C and using.  super.  And super.super. to access is another possibility I&#39;ll try, these are very early java 1.3 sort of things when I was learning for the fun of it more than real over 15 years back.","body":"That mislearned trouble about this() and constructors has been lurking a long time, anyhow, best practice would be to not have overridden overloads when writing a class to extend, then there will be no ambiguity of method names. Next one for me to play with that piece of code will be reflection to find if that weighs in as wrong  from what your saying. Also, Writing a class C and using.  super.  And super.super. to access is another possibility I&#39;ll try, these are very early java 1.3 sort of things when I was learning for the fun of it more than real over 15 years back."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689132044,"post_id":76645976,"comment_id":135168284,"body_markdown":"Just another note on playing with that &quot;ugliness of ambiguity&quot; ,  the arguments to the methods per type have the same names also, then obtaining methods on an array with reflection has the same trouble identifying class A. If anything it all points to how to write code and &quot; don&#39;t ever do this&quot; (a bad practice) except when writing secure code that will need access by secure method access hops","body":"Just another note on playing with that &quot;ugliness of ambiguity&quot; ,  the arguments to the methods per type have the same names also, then obtaining methods on an array with reflection has the same trouble identifying class A. If anything it all points to how to write code and &quot; don&#39;t ever do this&quot; (a bad practice) except when writing secure code that will need access by secure method access hops"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689133101,"post_id":76645976,"comment_id":135168363,"body_markdown":"! , and another unspeakable toy to break with this code &quot;casting to an abstract class with methods named method1( String and int.","body":"! , and another unspeakable toy to break with this code &quot;casting to an abstract class with methods named method1( String and int."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689154996,"post_id":76645976,"comment_id":135172056,"body_markdown":"@SamuelMarchant You haven&#39;t addressed most of the critique you&#39;ve been given here. On the basis of what you have posted here you should be asking questions, not answering them.","body":"@SamuelMarchant You haven&#39;t addressed most of the critique you&#39;ve been given here. On the basis of what you have posted here you should be asking questions, not answering them."}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688880653,"creation_date":1688880653,"answer_id":76646015,"question_id":76645976,"body_markdown":"&gt;  the flow of the calls should be: B class, method1(&quot;HI&quot;) -&gt; A class, method1(&quot;HI&quot;) -&gt; A class, method1(1) -&gt; print: &quot;I&#39;m A class&quot;\r\n\r\nNo, the correct flow is:\r\n\r\nB class, method1(&quot;HI&quot;) -&gt; A class, method(&quot;HI&quot;) -&gt; B class method1(1) -&gt; print: &quot;I&#39;am B class&quot;\r\n\r\n&quot;I&#39;am B class&quot; - is printed because `method1(int arg)` is overridden in B class.\r\n\r\nThis is how Runtime Polymorphism work in Java, method invocation is decided based on the type of the object and not by the type of reference. The type of your object is B so the method1(int arg) of B is called.\r\n\r\nYou could prevent overriding `method1(int arg)` by making it final.\r\n","title":"Why is superclass method calling overrided subclass method when the superclass method is the one specified to be called?","body":"<blockquote>\n<p>the flow of the calls should be: B class, method1(&quot;HI&quot;) -&gt; A class, method1(&quot;HI&quot;) -&gt; A class, method1(1) -&gt; print: &quot;I'm A class&quot;</p>\n</blockquote>\n<p>No, the correct flow is:</p>\n<p>B class, method1(&quot;HI&quot;) -&gt; A class, method(&quot;HI&quot;) -&gt; B class method1(1) -&gt; print: &quot;I'am B class&quot;</p>\n<p>&quot;I'am B class&quot; - is printed because <code>method1(int arg)</code> is overridden in B class.</p>\n<p>This is how Runtime Polymorphism work in Java, method invocation is decided based on the type of the object and not by the type of reference. The type of your object is B so the method1(int arg) of B is called.</p>\n<p>You could prevent overriding <code>method1(int arg)</code> by making it final.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688991419,"creation_date":1688991419,"answer_id":76653660,"question_id":76645976,"body_markdown":"Class _B_ is inheriting the code from _A_.\r\n\r\nIf you hadn&#39;t overridden the _method1_ method, then _&quot;I&#39;m A class&quot;_ would be printed.\r\n\r\nOverriding is declaring that the inherited method from the super class should no longer be used.\r\n\r\nHere is the _Java_ tutorial on inheritance.  \r\n_[Inheritance (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)_.","title":"Why is superclass method calling overrided subclass method when the superclass method is the one specified to be called?","body":"<p>Class <em>B</em> is inheriting the code from <em>A</em>.</p>\n<p>If you hadn't overridden the <em>method1</em> method, then <em>&quot;I'm A class&quot;</em> would be printed.</p>\n<p>Overriding is declaring that the inherited method from the super class should no longer be used.</p>\n<p>Here is the <em>Java</em> tutorial on inheritance.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">Inheritance (The Java Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></em>.</p>\n"}],"owner":{"account_id":26404097,"reputation":25,"user_id":20054146,"display_name":"Diego L&#243;pez"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76646015,"answer_count":2,"score":0,"last_activity_date":1688991419,"creation_date":1688879664,"question_id":76645976,"body_markdown":"Here i have the following Java code example, where i&#39;m expecting &quot;I&#39;m A class&quot; from A class method1(Integer arg) to be printed in main:\r\n\r\n```\r\npublic class A {\r\n\r\n\tpublic void method1(String arg) {\r\n                //some number passed, not important\r\n\t\tthis.method1(1);\r\n\t}\r\n\tpublic void method1(int arg) {\r\n\t\tSystem.out.println(&quot;I&#39;m A class&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class B extends A{\r\n\r\n\t@Override\r\n\tpublic void method1(String arg) {\r\n\t\tsuper.method1(arg);\r\n\t}\r\n\t@Override\r\n\tpublic void method1(int arg) {\r\n\t\tSystem.out.println(&quot;I&#39;m B class&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class MainAB {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tB b = new B();\r\n                //some string passed, not important\r\n\t\tb.method1(&quot;HI&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nSo as i understand, the flow of the calls should be:\r\nB class, method1(&quot;HI&quot;)  -&gt;  A class, method1(&quot;HI&quot;)  -&gt;  A class, method1(1)  -&gt; print: &quot;I&#39;m A class&quot;\r\n\r\nBut for some reason it goes from A class to B class and method1(1) from B class is being called, and &quot;I&#39;m B class&quot; is printed.\r\n\r\nAm i missing something? How can i solve this? Thanks","title":"Why is superclass method calling overrided subclass method when the superclass method is the one specified to be called?","body":"<p>Here i have the following Java code example, where i'm expecting &quot;I'm A class&quot; from A class method1(Integer arg) to be printed in main:</p>\n<pre><code>public class A {\n\n    public void method1(String arg) {\n                //some number passed, not important\n        this.method1(1);\n    }\n    public void method1(int arg) {\n        System.out.println(&quot;I'm A class&quot;);\n    }\n}\n</code></pre>\n<pre><code>public class B extends A{\n\n    @Override\n    public void method1(String arg) {\n        super.method1(arg);\n    }\n    @Override\n    public void method1(int arg) {\n        System.out.println(&quot;I'm B class&quot;);\n    }\n}\n</code></pre>\n<pre><code>public class MainAB {\n\n    public static void main(String[] args) {\n        B b = new B();\n                //some string passed, not important\n        b.method1(&quot;HI&quot;);\n    }\n}\n</code></pre>\n<p>So as i understand, the flow of the calls should be:\nB class, method1(&quot;HI&quot;)  -&gt;  A class, method1(&quot;HI&quot;)  -&gt;  A class, method1(1)  -&gt; print: &quot;I'm A class&quot;</p>\n<p>But for some reason it goes from A class to B class and method1(1) from B class is being called, and &quot;I'm B class&quot; is printed.</p>\n<p>Am i missing something? How can i solve this? Thanks</p>\n"},{"tags":["java","quarkus","smb","jcifs","smbj"],"owner":{"account_id":28006918,"reputation":1,"user_id":21390162,"display_name":"ceid1987"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688991393,"creation_date":1688983307,"question_id":76652671,"body_markdown":"I have a Quarkus app that retrieves data from a mysql database.\r\n\r\nI am adding a functionality which uses jcifs-ng to read &amp; parse xml files on a shared drive (adding additional data to what is already retrieved from the DB).\r\n\r\nI have a **SMBConnector.java** class defined like this:\r\n```\r\n@Singleton\r\npublic class SMBConnector {\r\n\r\n    @ConfigProperty(name = &quot;smb.username&quot;)\r\n    private String username;\r\n\r\n    @ConfigProperty(name = &quot;smb.password&quot;)\r\n    private String password;\r\n\r\n    private static final String SERVERNAME = &quot;SD&quot;;\r\n    private static final String SHARENAME = &quot;Project&quot;;\r\n\r\n    private CIFSContext testCtx;\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        SingletonContext baseContext = SingletonContext.getInstance();\r\n        Credentials credentials = new NtlmPasswordAuthenticator(null, username, password);\r\n        this.testCtx = baseContext.withCredentials(credentials);\r\n        try {\r\n            String url = &quot;smb://&quot; + SERVERNAME + &quot;/&quot; + SHARENAME + &quot;/&quot;;\r\n            this.rootDir = new SmbFile(url, testCtx);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public InputStream readFileContent(String dirPath) {\r\n        try {\r\n            SmbFile dir = new SmbFile(rootDir, dirPath);\r\n            for (SmbFile file : dir.listFiles()) {\r\n                if (file.getName().startsWith(&quot;HPC_SYS&quot;) &amp;&amp; file.getName().endsWith(&quot;.xml&quot;)) {\r\n                    return file.getInputStream();\r\n                }\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\nThis class is injected in the **Parser** class which itself receives a list of different paths on the drive and calls the `readFileContent` method for every path. \r\n\r\nThe problem is that after adding the SMB Connection the entire operation takes about 3 minutes, whereas it took about 20 seconds max before adding this functionality.\r\n\r\nI am unsure if I have properly configured the connection so that it persists throughout the application&#39;s lifetime or if it is reconnecting every time when the `readFileContent` method is called. \r\n\r\nI am trying to make it so that the application only connects once by accessing the shared root directory between all the paths that we will look for, then read each file by navigating to its specific path. Really any form of optimization would help..","title":"How to make SMB connection persistent with jcifs-ng?","body":"<p>I have a Quarkus app that retrieves data from a mysql database.</p>\n<p>I am adding a functionality which uses jcifs-ng to read &amp; parse xml files on a shared drive (adding additional data to what is already retrieved from the DB).</p>\n<p>I have a <strong>SMBConnector.java</strong> class defined like this:</p>\n<pre><code>@Singleton\npublic class SMBConnector {\n\n    @ConfigProperty(name = &quot;smb.username&quot;)\n    private String username;\n\n    @ConfigProperty(name = &quot;smb.password&quot;)\n    private String password;\n\n    private static final String SERVERNAME = &quot;SD&quot;;\n    private static final String SHARENAME = &quot;Project&quot;;\n\n    private CIFSContext testCtx;\n\n    @PostConstruct\n    public void init() {\n        SingletonContext baseContext = SingletonContext.getInstance();\n        Credentials credentials = new NtlmPasswordAuthenticator(null, username, password);\n        this.testCtx = baseContext.withCredentials(credentials);\n        try {\n            String url = &quot;smb://&quot; + SERVERNAME + &quot;/&quot; + SHARENAME + &quot;/&quot;;\n            this.rootDir = new SmbFile(url, testCtx);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public InputStream readFileContent(String dirPath) {\n        try {\n            SmbFile dir = new SmbFile(rootDir, dirPath);\n            for (SmbFile file : dir.listFiles()) {\n                if (file.getName().startsWith(&quot;HPC_SYS&quot;) &amp;&amp; file.getName().endsWith(&quot;.xml&quot;)) {\n                    return file.getInputStream();\n                }\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n}\n</code></pre>\n<p>This class is injected in the <strong>Parser</strong> class which itself receives a list of different paths on the drive and calls the <code>readFileContent</code> method for every path.</p>\n<p>The problem is that after adding the SMB Connection the entire operation takes about 3 minutes, whereas it took about 20 seconds max before adding this functionality.</p>\n<p>I am unsure if I have properly configured the connection so that it persists throughout the application's lifetime or if it is reconnecting every time when the <code>readFileContent</code> method is called.</p>\n<p>I am trying to make it so that the application only connects once by accessing the shared root directory between all the paths that we will look for, then read each file by navigating to its specific path. Really any form of optimization would help..</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":26378841,"reputation":3,"user_id":20032413,"display_name":"shanu"},"score":0,"creation_date":1688896995,"post_id":76646828,"comment_id":135133304,"body_markdown":"But inside the main when I call (Node n = LL.convertArrayToLinkedList(arr);\nwhile (n != null) {\n    System.out.println(n.data);\n    n = n.next;\n} it is showing an error (  error: cannot find symbol\n        Node n = LL.convertArrayToLinkedList(arr);\n        ^\n  symbol:   class Node\n  location: class Main\n1 error)","body":"But inside the main when I call (Node n = LL.convertArrayToLinkedList(arr); while (n != null) {     System.out.println(n.data);     n = n.next; } it is showing an error (  error: cannot find symbol         Node n = LL.convertArrayToLinkedList(arr);         ^   symbol:   class Node   location: class Main 1 error)"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1688897739,"post_id":76646828,"comment_id":135133373,"body_markdown":"I think you failed to update `convertArrayToLinkedList` as in my answer. Because I ran this code.","body":"I think you failed to update <code>convertArrayToLinkedList</code> as in my answer. Because I ran this code."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688896207,"creation_date":1688896207,"answer_id":76646828,"question_id":76646778,"body_markdown":"You seem to have defined a `Node` that can hold both an `int` and an `int[]`. That is not correct. Each `Node` should only hold a single `int` and a reference to the next node.\r\n\r\n\tclass Node {\r\n\t\tNode next = null;\r\n\t\tint data;\r\n\r\n\t\tNode(int data) {\r\n\t\t\tthis.data = data;\r\n\t\t}\r\n\t}\r\n\r\nNow, your converter method should actually return the `Node`(s) you construct; guard against an empty array or null, and actually assign the elements to `Node`(s).\r\n\r\n\tpublic Node convertArrayToLinkedList(int arr[]) {\r\n\t\tif (arr == null || arr.length &lt; 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tNode n = new Node(arr[0]), c = n;\r\n\t\tfor (int i = 1; i &lt; arr.length; i++) {\r\n\t\t\tc.next = new Node(arr[i]);\r\n\t\t\tc = c.next;\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\r\nFinally, your method to print and display in `main()` might look something like\r\n\r\n\tNode n = LL.convertArrayToLinkedList(arr);\r\n\twhile (n != null) {\r\n\t\tSystem.out.println(n.data);\r\n\t\tn = n.next;\r\n\t}\r\n","title":"Convert an array to Linked List","body":"<p>You seem to have defined a <code>Node</code> that can hold both an <code>int</code> and an <code>int[]</code>. That is not correct. Each <code>Node</code> should only hold a single <code>int</code> and a reference to the next node.</p>\n<pre><code>class Node {\n    Node next = null;\n    int data;\n\n    Node(int data) {\n        this.data = data;\n    }\n}\n</code></pre>\n<p>Now, your converter method should actually return the <code>Node</code>(s) you construct; guard against an empty array or null, and actually assign the elements to <code>Node</code>(s).</p>\n<pre><code>public Node convertArrayToLinkedList(int arr[]) {\n    if (arr == null || arr.length &lt; 1) {\n        return null;\n    }\n    Node n = new Node(arr[0]), c = n;\n    for (int i = 1; i &lt; arr.length; i++) {\n        c.next = new Node(arr[i]);\n        c = c.next;\n    }\n    return n;\n}\n</code></pre>\n<p>Finally, your method to print and display in <code>main()</code> might look something like</p>\n<pre><code>Node n = LL.convertArrayToLinkedList(arr);\nwhile (n != null) {\n    System.out.println(n.data);\n    n = n.next;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20032413,"reputation":104,"user_id":14684883,"display_name":"Habibur Rahman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688898352,"creation_date":1688898352,"answer_id":76646990,"question_id":76646778,"body_markdown":"if you are trying to convert an array to a linked list you can initialize `Node` class like that\r\n\r\n    class Node{\r\n        int data;\r\n        Node next;\r\n        // Default constructor\r\n        Node(){}\r\n        // when you create a node using the value of arr[i]\r\n        Node(int data){\r\n          this.data = data;\r\n        }\r\n    }\r\n\r\nafter initializing the `Node` class `convertArrayToLinkedList(int[] arr) ` method can be-\r\n\r\n    public void convertArrayToLinkedList(int[] arr) {\r\n      if (arr.length == 0) return;\r\n      \r\n      Node tHead = new Node();\r\n      Node temp = tHead;\r\n      \r\n      for (int x : arr) {\r\n        temp.next = new Node(x);\r\n        temp = temp.next;\r\n      }\r\n      head = tHead.next;\r\n    }\r\n\r\nafter calling `LL.convertArrayToLinkedList(arr);` now you can print the values from main function using the `while` loop like that\r\n\r\n    temp = head;\r\n    while (temp != null) {\r\n      System.out.println(temp.data);\r\n      temp = temp.next;\r\n    }\r\n\r\nthere are some mistake you made\r\n\r\n    class Node{\r\n        Node next = null;\r\n        int data;\r\n        // there are no need to declare arr[]\r\n        int arr[];\r\n        Node(int data){\r\n            this.data = data;\r\n            this.next = next;\r\n        }\r\n        // the constructor declaration is not fine\r\n        Node(int arr[]){\r\n            this.data = data;\r\n            this.next = next;\r\n        }\r\n    }\r\n\r\n","title":"Convert an array to Linked List","body":"<p>if you are trying to convert an array to a linked list you can initialize <code>Node</code> class like that</p>\n<pre><code>class Node{\n    int data;\n    Node next;\n    // Default constructor\n    Node(){}\n    // when you create a node using the value of arr[i]\n    Node(int data){\n      this.data = data;\n    }\n}\n</code></pre>\n<p>after initializing the <code>Node</code> class <code>convertArrayToLinkedList(int[] arr) </code> method can be-</p>\n<pre><code>public void convertArrayToLinkedList(int[] arr) {\n  if (arr.length == 0) return;\n  \n  Node tHead = new Node();\n  Node temp = tHead;\n  \n  for (int x : arr) {\n    temp.next = new Node(x);\n    temp = temp.next;\n  }\n  head = tHead.next;\n}\n</code></pre>\n<p>after calling <code>LL.convertArrayToLinkedList(arr);</code> now you can print the values from main function using the <code>while</code> loop like that</p>\n<pre><code>temp = head;\nwhile (temp != null) {\n  System.out.println(temp.data);\n  temp = temp.next;\n}\n</code></pre>\n<p>there are some mistake you made</p>\n<pre><code>class Node{\n    Node next = null;\n    int data;\n    // there are no need to declare arr[]\n    int arr[];\n    Node(int data){\n        this.data = data;\n        this.next = next;\n    }\n    // the constructor declaration is not fine\n    Node(int arr[]){\n        this.data = data;\n        this.next = next;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688990768,"creation_date":1688957858,"answer_id":76650430,"question_id":76646778,"body_markdown":"&gt; _&quot;... I am unable to fix how can we insert `arr[i]` into `newNode`. ...&quot;_\r\n\r\nThey must be the same data-type.  \r\nVariable _arr_ is of type _int[]_, and _head_ is of type _Node_.\r\n\r\nYour _Node_ class contains the _arr_ array, which isn&#39;t entirely necessary.  \r\nYou&#39;ll only need a _Node_ for _next_, and an _int_ for the value.\r\n\r\nConsider the following example.\r\n\r\nThe static _parse_ method here will traverse the provided _arr_ array, appending the value to the _next_ field of the relevant node.\r\n\r\n```java\r\nclass Node {\r\n    int value;\r\n    Node next;\r\n\r\n    Node() {\r\n    }\r\n\r\n    static Node parse(int[] arr) {\r\n        Node head, node = head = new Node();\r\n        for (int index = 0; index &lt; arr.length; index++) {\r\n            node.setValue(arr[index]);\r\n            if (index + 1 &lt; arr.length) {\r\n                node.setNext(new Node());\r\n                node = node.getNext();\r\n            }\r\n        }\r\n        return head;\r\n    }\r\n\r\n    int getValue() {\r\n        return value;\r\n    }\r\n\r\n    void setValue(int value) {\r\n        this.value = value;\r\n    }\r\n\r\n    Node getNext() {\r\n        return next;\r\n    }\r\n\r\n    void setNext(Node next) {\r\n        this.next = next;\r\n    }\r\n}\r\n```\r\n\r\nHere is an example usage, given the code you provided.\r\n\r\n```java\r\nScanner sc = new Scanner(System.in);\r\nint len = sc.nextInt();\r\nint arr[] = new int[len];\r\nfor(int i = 0; i&lt;len; i++){\r\n    arr[i] = sc.nextInt();\r\n}\r\n\r\nNode node = Node.parse(arr);\r\n\r\nwhile (node != null) {\r\n    System.out.println(node.getValue());\r\n    node = node.getNext();\r\n}\r\n```\r\n\r\nInput and output,\r\n\r\n```none\r\n5\r\n1 2 3 4 5\r\n1\r\n2\r\n3\r\n4\r\n5\r\n```","title":"Convert an array to Linked List","body":"<blockquote>\n<p><em>&quot;... I am unable to fix how can we insert <code>arr[i]</code> into <code>newNode</code>. ...&quot;</em></p>\n</blockquote>\n<p>They must be the same data-type.<br />\nVariable <em>arr</em> is of type <em>int[]</em>, and <em>head</em> is of type <em>Node</em>.</p>\n<p>Your <em>Node</em> class contains the <em>arr</em> array, which isn't entirely necessary.<br />\nYou'll only need a <em>Node</em> for <em>next</em>, and an <em>int</em> for the value.</p>\n<p>Consider the following example.</p>\n<p>The static <em>parse</em> method here will traverse the provided <em>arr</em> array, appending the value to the <em>next</em> field of the relevant node.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Node {\n    int value;\n    Node next;\n\n    Node() {\n    }\n\n    static Node parse(int[] arr) {\n        Node head, node = head = new Node();\n        for (int index = 0; index &lt; arr.length; index++) {\n            node.setValue(arr[index]);\n            if (index + 1 &lt; arr.length) {\n                node.setNext(new Node());\n                node = node.getNext();\n            }\n        }\n        return head;\n    }\n\n    int getValue() {\n        return value;\n    }\n\n    void setValue(int value) {\n        this.value = value;\n    }\n\n    Node getNext() {\n        return next;\n    }\n\n    void setNext(Node next) {\n        this.next = next;\n    }\n}\n</code></pre>\n<p>Here is an example usage, given the code you provided.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nint len = sc.nextInt();\nint arr[] = new int[len];\nfor(int i = 0; i&lt;len; i++){\n    arr[i] = sc.nextInt();\n}\n\nNode node = Node.parse(arr);\n\nwhile (node != null) {\n    System.out.println(node.getValue());\n    node = node.getNext();\n}\n</code></pre>\n<p>Input and output,</p>\n<pre class=\"lang-none prettyprint-override\"><code>5\n1 2 3 4 5\n1\n2\n3\n4\n5\n</code></pre>\n"}],"owner":{"account_id":26378841,"reputation":3,"user_id":20032413,"display_name":"shanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688990768,"creation_date":1688895507,"question_id":76646778,"body_markdown":"I just want to convert my array to Singly Linked List , inside the function `convertArrayToLinkedList(int arr[])`. However it is showing an error \r\n\r\n    error: incompatible types: int cannot be converted to LinkeListImplementation.Node\r\n                head = arr[i];\r\n                          ^\r\n    1 error\r\n\r\nI am unable to fix how can we insert `arr[i]` into `newNode`.\r\n\r\n    import java.util.*;\r\n\r\n    class LinkeListImplementation{\r\n    Node head = null;\r\n    class Node{\r\n        Node next = null;\r\n        int data;\r\n        int arr[];\r\n        Node(int data){\r\n            this.data = data;\r\n            this.next = next;\r\n        }\r\n        Node(int arr[]){\r\n            this.data = data;\r\n            this.next = next;\r\n        }\r\n    }\r\n\r\n    public void convertArrayToLinkedList(int arr[]){\r\n        Node newNode = new Node(arr);\r\n        Node temp = head;\r\n        for(int i = 0; i&lt;arr.length; i++){\r\n            newNode.next = head;\r\n            head = arr[i];\r\n        }\r\n\r\n        while(temp!=null){\r\n            System.out.print(temp.data+&quot; &quot;);\r\n            temp = temp.next;\r\n        }\r\n    }\r\n    }\r\n\r\n    class Main{\r\n    public static void main(String[] args){\r\n        LinkeListImplementation LL = new LinkeListImplementation();\r\n        Scanner sc = new Scanner(System.in);\r\n        int len = sc.nextInt();\r\n        int arr[] = new int[len];\r\n        for(int i = 0; i&lt;len; i++){\r\n            arr[i] = sc.nextInt();\r\n        }\r\n\r\n        LL.convertArrayToLinkedList(arr);\r\n    }\r\n    }","title":"Convert an array to Linked List","body":"<p>I just want to convert my array to Singly Linked List , inside the function <code>convertArrayToLinkedList(int arr[])</code>. However it is showing an error</p>\n<pre><code>error: incompatible types: int cannot be converted to LinkeListImplementation.Node\n            head = arr[i];\n                      ^\n1 error\n</code></pre>\n<p>I am unable to fix how can we insert <code>arr[i]</code> into <code>newNode</code>.</p>\n<pre><code>import java.util.*;\n\nclass LinkeListImplementation{\nNode head = null;\nclass Node{\n    Node next = null;\n    int data;\n    int arr[];\n    Node(int data){\n        this.data = data;\n        this.next = next;\n    }\n    Node(int arr[]){\n        this.data = data;\n        this.next = next;\n    }\n}\n\npublic void convertArrayToLinkedList(int arr[]){\n    Node newNode = new Node(arr);\n    Node temp = head;\n    for(int i = 0; i&lt;arr.length; i++){\n        newNode.next = head;\n        head = arr[i];\n    }\n\n    while(temp!=null){\n        System.out.print(temp.data+&quot; &quot;);\n        temp = temp.next;\n    }\n}\n}\n\nclass Main{\npublic static void main(String[] args){\n    LinkeListImplementation LL = new LinkeListImplementation();\n    Scanner sc = new Scanner(System.in);\n    int len = sc.nextInt();\n    int arr[] = new int[len];\n    for(int i = 0; i&lt;len; i++){\n        arr[i] = sc.nextInt();\n    }\n\n    LL.convertArrayToLinkedList(arr);\n}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hashmap","yaml"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1688989497,"post_id":76653201,"comment_id":135144737,"body_markdown":"is your yaml file in the test classpath ?","body":"is your yaml file in the test classpath ?"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1688991416,"post_id":76653201,"comment_id":135145181,"body_markdown":"I don&#39;t think you can load yaml with ordinary @TestPropertySource. It is for .properties format.","body":"I don&#39;t think you can load yaml with ordinary @TestPropertySource. It is for .properties format."},{"owner":{"account_id":7215449,"reputation":1,"user_id":5508109,"display_name":"akshay ithape"},"score":0,"creation_date":1688992546,"post_id":76653201,"comment_id":135145464,"body_markdown":"ok thankyou,\nso how can we test simply the contents of the map I implemented? is it possible to do in a test class","body":"ok thankyou, so how can we test simply the contents of the map I implemented? is it possible to do in a test class"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1688997449,"post_id":76653201,"comment_id":135146748,"body_markdown":"As mentioned by @ILyaCyclone, neither `@PropertySource` nor `@TestPropertySource` support yaml files. Workarounds for this issue are described in the duplicate. Also, be aware that the keys in your YAML file are treated as numbers. You probably want to surround them with quotes, for example `&#39;0000000016&#39;`.","body":"As mentioned by @ILyaCyclone, neither <code>@PropertySource</code> nor <code>@TestPropertySource</code> support yaml files. Workarounds for this issue are described in the duplicate. Also, be aware that the keys in your YAML file are treated as numbers. You probably want to surround them with quotes, for example <code>&#39;0000000016&#39;</code>."}],"owner":{"account_id":7215449,"reputation":1,"user_id":5508109,"display_name":"akshay ithape"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688997413,"answer_count":0,"score":0,"last_activity_date":1688990440,"creation_date":1688987895,"question_id":76653201,"body_markdown":"I have implemented a map in my yaml file as below\r\n    \r\n```\r\n  replacement:\r\n        ID:\r\n          0000000016: 9000000011\r\n          0000000013: 8000000014\r\n          0000000002: 9000000000\r\n```\r\n\r\n\r\nConfig class :- \r\n\r\n\r\n```\r\n    @Configuration\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ConfigurationProperties(prefix = &quot;replacement&quot;)\r\n@Getter\r\n@Setter\r\npublic class SourceConfig {\r\n     private Map&lt;String, String&gt; ID = new HashMap&lt;&gt;();\r\n\r\n}\r\n\r\n```\r\n\r\nTest class:-\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@EnableConfigurationProperties(value = SourceConfig.class)\r\n@TestPropertySource(&quot;classpath:yaml file name&quot;)\r\nclass SourceConfigTest {\r\n\r\n    @Autowired\r\n    private SourceConfig sourceconfig;\r\n\r\n    @Test\r\n    void getID() {\r\n        assertThat(sourceconfig).isNotNull();\r\n        assertTrue(sourceconfig.getID().containsKey(&quot;0000000016&quot;));\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nWhen I run the test class sourceconfig.getID() throws a null pointer exception. Please help/suggest\r\n\r\n\r\nI expected the assert to be true and also fetch my values from map","title":"Test fail when I retrieve values from map in yaml file | Java spring boot","body":"<p>I have implemented a map in my yaml file as below</p>\n<pre><code>  replacement:\n        ID:\n          0000000016: 9000000011\n          0000000013: 8000000014\n          0000000002: 9000000000\n</code></pre>\n<p>Config class :-</p>\n<pre><code>    @Configuration\n@NoArgsConstructor\n@AllArgsConstructor\n@ConfigurationProperties(prefix = &quot;replacement&quot;)\n@Getter\n@Setter\npublic class SourceConfig {\n     private Map&lt;String, String&gt; ID = new HashMap&lt;&gt;();\n\n}\n\n</code></pre>\n<p>Test class:-</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@EnableConfigurationProperties(value = SourceConfig.class)\n@TestPropertySource(&quot;classpath:yaml file name&quot;)\nclass SourceConfigTest {\n\n    @Autowired\n    private SourceConfig sourceconfig;\n\n    @Test\n    void getID() {\n        assertThat(sourceconfig).isNotNull();\n        assertTrue(sourceconfig.getID().containsKey(&quot;0000000016&quot;));\n    }\n}\n\n\n</code></pre>\n<p>When I run the test class sourceconfig.getID() throws a null pointer exception. Please help/suggest</p>\n<p>I expected the assert to be true and also fetch my values from map</p>\n"},{"tags":["java","spring-boot","smtp","jakarta-mail","pop3"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636959330,"post_id":69970213,"comment_id":123687277,"body_markdown":"Spring Integration supports this out-of-the-box. Just wire that up.","body":"Spring Integration supports this out-of-the-box. Just wire that up."},{"owner":{"account_id":22070405,"reputation":49,"user_id":16331484,"display_name":"YoBuss"},"score":0,"creation_date":1636959721,"post_id":69970213,"comment_id":123687367,"body_markdown":"ok sir, will try this. Thanks. @M.Deinum","body":"ok sir, will try this. Thanks. @M.Deinum"}],"answers":[{"tags":[],"owner":{"account_id":27358669,"reputation":111,"user_id":20866658,"display_name":"Sushant Patewar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688990361,"creation_date":1688988288,"answer_id":76653250,"question_id":69970213,"body_markdown":"To read/listen new emails in real time you can use IMAP protocol, JavaMail API and IMAP IDLE feature.\r\n\r\nOn higher-level refer the following steps:\r\n1. Establish an IMAP connection with the email server using JavaMail API\r\n2. Monitor the Inbox with IMAP IDLE. (IMAP IDLE allows our application to receive immediate notification when new message arrives in mailbox)\r\n\r\nFor more detailed implementation refer this article: https://medium.com/@sushant7/how-to-monitor-incoming-emails-in-a-spring-boot-application-indefinitely-7dabbdb74b2d","title":"Continuous listening new emails in spring boot Application","body":"<p>To read/listen new emails in real time you can use IMAP protocol, JavaMail API and IMAP IDLE feature.</p>\n<p>On higher-level refer the following steps:</p>\n<ol>\n<li>Establish an IMAP connection with the email server using JavaMail API</li>\n<li>Monitor the Inbox with IMAP IDLE. (IMAP IDLE allows our application to receive immediate notification when new message arrives in mailbox)</li>\n</ol>\n<p>For more detailed implementation refer this article: <a href=\"https://medium.com/@sushant7/how-to-monitor-incoming-emails-in-a-spring-boot-application-indefinitely-7dabbdb74b2d\" rel=\"nofollow noreferrer\">https://medium.com/@sushant7/how-to-monitor-incoming-emails-in-a-spring-boot-application-indefinitely-7dabbdb74b2d</a></p>\n"}],"owner":{"account_id":22070405,"reputation":49,"user_id":16331484,"display_name":"YoBuss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688990361,"creation_date":1636957884,"question_id":69970213,"body_markdown":"How can I read new emails using the spring boot app?\r\nby which library it can be possible.?\r\n\r\ngoing through many tutorials but didn&#39;t get any appropriate answers till now.\r\n\r\nI want to build an application that will continuously read the mailbox, it will read only new emails coming to the outlook server inbox periodically.\r\n\r\nthe emails also contain the audio attachment which I want to download and store on the server.\r\n\r\nis there any way to listen to every new email from the inbox, and once it&#39;s done mark it as read? so same mails can not be retrieved again for reading.\r\n\r\n\r\nanyone, please help me to build a sample program.\r\n\r\nThanks in advance.\r\n\r\n","title":"Continuous listening new emails in spring boot Application","body":"<p>How can I read new emails using the spring boot app?\nby which library it can be possible.?</p>\n<p>going through many tutorials but didn't get any appropriate answers till now.</p>\n<p>I want to build an application that will continuously read the mailbox, it will read only new emails coming to the outlook server inbox periodically.</p>\n<p>the emails also contain the audio attachment which I want to download and store on the server.</p>\n<p>is there any way to listen to every new email from the inbox, and once it's done mark it as read? so same mails can not be retrieved again for reading.</p>\n<p>anyone, please help me to build a sample program.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1688970804,"post_id":76651175,"comment_id":135140927,"body_markdown":"You need to create fields, assign them from constructor args, and return each in its own method.","body":"You need to create fields, assign them from constructor args, and return each in its own method."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1688970891,"post_id":76651175,"comment_id":135140943,"body_markdown":"The fact that it implements an interface has nothing to do with how to write a constructor.","body":"The fact that it implements an interface has nothing to do with how to write a constructor."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1688970904,"post_id":76651175,"comment_id":135140945,"body_markdown":"`this.students = students;`","body":"<code>this.students = students;</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1688971017,"post_id":76651175,"comment_id":135140980,"body_markdown":"why would it be any different from a class that doesn&#39;t implement a constructor?","body":"why would it be any different from a class that doesn&#39;t implement a constructor?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":2,"creation_date":1688971052,"post_id":76651175,"comment_id":135140983,"body_markdown":"Your IDE is creating an anonymous class that implements the `Classroom` interface.","body":"Your IDE is creating an anonymous class that implements the <code>Classroom</code> interface."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688972146,"creation_date":1688972146,"answer_id":76651326,"question_id":76651175,"body_markdown":"The methods in your interface are actually getters (that don&#39;t start with &quot;get&quot;), so if you want to avoid repeating too much code, you can use an abstract class:\r\n\r\n    public abstract class AbstractClassroom implements Classroom {\r\n        private final Map&lt;String, String&gt; students;\r\n        private final Grade grade;\r\n        private final Optional&lt;String&gt; teacher;\r\n    \r\n        protected AbstractClassroom(Map&lt;String, String&gt; students, Grade grade, Optional&lt;String&gt; teacher) {\r\n            this.students = students;\r\n            this.grade = grade;\r\n            this.teacher = teacher;\r\n        }\r\n    \r\n        @Override\r\n        public Map&lt;String, String&gt; students() {\r\n            return students;\r\n        }\r\n    \r\n        @Override\r\n        public Grade grade() {\r\n            return grade;\r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;String&gt; teacher() {\r\n            return teacher;\r\n        }\r\n    }\r\n\r\nYou can then write your class `BiologyClassroom` as follows:\r\n\r\n    public class BiologyClassroom extends AbstractClassroom {\r\n        public BiologyClassroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\r\n            super(students, grade, teacher);\r\n        }\r\n    }\r\n\r\nYou can also consider dropping the interface and use the abstract class instead.\r\n\r\n","title":"How to make a Java constructor for a class that implements an interface","body":"<p>The methods in your interface are actually getters (that don't start with &quot;get&quot;), so if you want to avoid repeating too much code, you can use an abstract class:</p>\n<pre><code>public abstract class AbstractClassroom implements Classroom {\n    private final Map&lt;String, String&gt; students;\n    private final Grade grade;\n    private final Optional&lt;String&gt; teacher;\n\n    protected AbstractClassroom(Map&lt;String, String&gt; students, Grade grade, Optional&lt;String&gt; teacher) {\n        this.students = students;\n        this.grade = grade;\n        this.teacher = teacher;\n    }\n\n    @Override\n    public Map&lt;String, String&gt; students() {\n        return students;\n    }\n\n    @Override\n    public Grade grade() {\n        return grade;\n    }\n\n    @Override\n    public Optional&lt;String&gt; teacher() {\n        return teacher;\n    }\n}\n</code></pre>\n<p>You can then write your class <code>BiologyClassroom</code> as follows:</p>\n<pre><code>public class BiologyClassroom extends AbstractClassroom {\n    public BiologyClassroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\n        super(students, grade, teacher);\n    }\n}\n</code></pre>\n<p>You can also consider dropping the interface and use the abstract class instead.</p>\n"},{"comments":[{"owner":{"account_id":16917353,"reputation":117,"user_id":12235037,"display_name":"chingu"},"score":0,"creation_date":1689008554,"post_id":76653509,"comment_id":135149405,"body_markdown":"The interface was not made by me so I can&#39;t change it","body":"The interface was not made by me so I can&#39;t change it"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688990306,"creation_date":1688990306,"answer_id":76653509,"question_id":76651175,"body_markdown":"In your _interface_ you have declared _students_, _grades_, and _teacher_ as methods.  \r\nI believe you are intending to use them as _variables_.\r\n\r\nJust use basic inheritance; there is no need for an _interface_, per se.\r\n\r\n```java\r\nclass Classroom {\r\n    enum Grade {\r\n        Primary, Elementary\r\n    }\r\n\r\n    Map&lt;String, String&gt; students;\r\n    String grade;\r\n    Optional&lt;String&gt; teacher;\r\n\r\n    public Classroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\r\n        this.students = students;\r\n        this.grade = grade;\r\n        this.teacher = teacher;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass BiologyClassroom extends Classroom {\r\n    public BiologyClassroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\r\n        super(students, grade, teacher);\r\n    }\r\n}\r\n```\r\n\r\nHere is the _Java_ tutorial on inheritance.  \r\n_[Inheritance (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)_.","title":"How to make a Java constructor for a class that implements an interface","body":"<p>In your <em>interface</em> you have declared <em>students</em>, <em>grades</em>, and <em>teacher</em> as methods.<br />\nI believe you are intending to use them as <em>variables</em>.</p>\n<p>Just use basic inheritance; there is no need for an <em>interface</em>, per se.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Classroom {\n    enum Grade {\n        Primary, Elementary\n    }\n\n    Map&lt;String, String&gt; students;\n    String grade;\n    Optional&lt;String&gt; teacher;\n\n    public Classroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\n        this.students = students;\n        this.grade = grade;\n        this.teacher = teacher;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class BiologyClassroom extends Classroom {\n    public BiologyClassroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\n        super(students, grade, teacher);\n    }\n}\n</code></pre>\n<p>Here is the <em>Java</em> tutorial on inheritance.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">Inheritance (The Java Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></em>.</p>\n"}],"owner":{"account_id":16917353,"reputation":117,"user_id":12235037,"display_name":"chingu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":76651326,"answer_count":2,"score":-4,"last_activity_date":1688990306,"creation_date":1688970724,"question_id":76651175,"body_markdown":"I have an interface I need to use that looks similar to:\r\n```\r\npublic interface Classroom {\r\n    enum Grade {\r\n        Primary, Elementary\r\n    }\r\n\r\n    Map&lt;String, String&gt; students();\r\n\r\n    String grade();\r\n\r\n    Optional&lt;String&gt; teacher();\r\n}\r\n```\r\nI know in order to use an interface, I need to implement it as a class. However, I don&#39;t understand how to create the constructor for the class? I don&#39;t have any other methods or variables to add to the interface Classroom, I just need a constructor for it so I can use it and create a Classroom object.\r\n\r\n```\r\npublic class BiologyClassroom implements Classroom {\r\n    public BiologyClassroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\r\n        // not sure what to put here?\r\n    }\r\n}\r\n```\r\nWhen I do try to use the interface by doing `Classroom classroom = new Classroom()` which I know is wrong, my IDE will fix it by by replacing it with:\r\n```\r\nClassroom classroom = new Classroom() {\r\n            @Override\r\n            public Map&lt;String, String&gt; students() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Grade grade() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Optional&lt;String&gt; teacher() {\r\n                return Optional.empty();\r\n            }\r\n        }\r\n```\r\nI don&#39;t know how to interpret this suggestion from my IDE, am I supposed to write methods for `students()`, `grade()` etc? I just need to make a Classroom object using my own values for students, grade and teacher.\r\n\r\nI am new to Java. ","title":"How to make a Java constructor for a class that implements an interface","body":"<p>I have an interface I need to use that looks similar to:</p>\n<pre><code>public interface Classroom {\n    enum Grade {\n        Primary, Elementary\n    }\n\n    Map&lt;String, String&gt; students();\n\n    String grade();\n\n    Optional&lt;String&gt; teacher();\n}\n</code></pre>\n<p>I know in order to use an interface, I need to implement it as a class. However, I don't understand how to create the constructor for the class? I don't have any other methods or variables to add to the interface Classroom, I just need a constructor for it so I can use it and create a Classroom object.</p>\n<pre><code>public class BiologyClassroom implements Classroom {\n    public BiologyClassroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\n        // not sure what to put here?\n    }\n}\n</code></pre>\n<p>When I do try to use the interface by doing <code>Classroom classroom = new Classroom()</code> which I know is wrong, my IDE will fix it by by replacing it with:</p>\n<pre><code>Classroom classroom = new Classroom() {\n            @Override\n            public Map&lt;String, String&gt; students() {\n                return null;\n            }\n\n            @Override\n            public Grade grade() {\n                return null;\n            }\n\n            @Override\n            public Optional&lt;String&gt; teacher() {\n                return Optional.empty();\n            }\n        }\n</code></pre>\n<p>I don't know how to interpret this suggestion from my IDE, am I supposed to write methods for <code>students()</code>, <code>grade()</code> etc? I just need to make a Classroom object using my own values for students, grade and teacher.</p>\n<p>I am new to Java.</p>\n"},{"tags":["java","jpa","jakarta-ee","glassfish","derby"],"comments":[{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":0,"creation_date":1694304275,"post_id":76653265,"comment_id":135873875,"body_markdown":"FYI, besides IntelliJ Enterprise (the paid version) and Netbeans, also Visual Studio Code supports GlassFish. Here you can read how to set it up: https://omnifish.ee/developers/glassfish-server/ide-plugins-for-glassfish/eclipse-glassfish-in-visual-studio-code/","body":"FYI, besides IntelliJ Enterprise (the paid version) and Netbeans, also Visual Studio Code supports GlassFish. Here you can read how to set it up: <a href=\"https://omnifish.ee/developers/glassfish-server/ide-plugins-for-glassfish/eclipse-glassfish-in-visual-studio-code/\" rel=\"nofollow noreferrer\">omnifish.ee/developers/glassfish-server/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":0,"creation_date":1689200046,"post_id":76653460,"comment_id":135181443,"body_markdown":"If you use JTA in persistence.xml, then GlassFish uses configuration from the connection pool defined in the server. Either the one with the name defined by jta-datasource attribute in persistence.xml, or the default one.","body":"If you use JTA in persistence.xml, then GlassFish uses configuration from the connection pool defined in the server. Either the one with the name defined by jta-datasource attribute in persistence.xml, or the default one."},{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":0,"creation_date":1689200163,"post_id":76653460,"comment_id":135181456,"body_markdown":"If you want to define connection properties in persistence.xml you should set transaction-type to RESOURCE_LOCAL. But the you have to handle transactions in your application yourself.","body":"If you want to define connection properties in persistence.xml you should set transaction-type to RESOURCE_LOCAL. But the you have to handle transactions in your application yourself."},{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":1,"creation_date":1689200303,"post_id":76653460,"comment_id":135181475,"body_markdown":"Copying classes from derbytools to derbyclient is a good workaround. The structure of JARs in Derby DB changed while ago but Netbeans still doesnt reflect that. Its a know issue in Netbeans, hopefully will be fix soon.","body":"Copying classes from derbytools to derbyclient is a good workaround. The structure of JARs in Derby DB changed while ago but Netbeans still doesnt reflect that. Its a know issue in Netbeans, hopefully will be fix soon."}],"tags":[],"owner":{"account_id":28969902,"reputation":61,"user_id":22190461,"display_name":"Guillem Chesa"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688989925,"creation_date":1688989925,"answer_id":76653460,"question_id":76653265,"body_markdown":"### Here&#39;s the workaround that I used to solve all these issues: ###\r\n\r\n&gt; 2. Then, after downloading Apache Derby (10.16.1.1) for setting up the database server I was receiving this exception:\r\n&gt; ```\r\n&gt; An error occurred while creating the database:\r\n&gt; java.lang.ClassNotFoundException: org.apache.derby.jdbc.Clientdriver\r\n&gt; ```\r\n\r\nBasically the library had a class in the wrong package. I just copied the `jdbc` folder located in `db-derby-10.16.1.1-bin\\lib\\derbytools.jar\\org\\apache\\derby` and pasted it in `db-derby-10.16.1.1-bin\\lib\\derbyclient.jar\\org\\apache\\derby`.\r\n\r\n-----------------\r\n\r\n&gt; 3. After solving the missing class issue, every commit I tried to do to the database was being set to rollback, being unable to persist anything into the database. This is the exception I was getting:\r\n&gt; ```\r\n&gt; javax.persistence.RollbackException: Transaction &quot;rolled back&quot; because transaction was set to RollbackOnly.\r\n&gt; ```\r\n\r\nHere the problem was that when the `persistence.xml` file was created, instead of using the jakarta library for the persistence-unit properties, it was using the old javax library, creating an incompatibility. Change all the `javax` for `jakarta`. Also, you may need to set the `transaction-type` to `JTA`.\r\n\r\n```\r\n&lt;persistence-unit name=&quot;customersDatabase&quot; transaction-type=&quot;JTA&quot;&gt;\r\n  &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n  &lt;properties&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:derby://localhost:1527/customers&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.apache.derby.jdbc.ClientDriver&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\r\n  &lt;/properties&gt;\r\n&lt;/persistence-unit&gt;\r\n```\r\n\r\n-----------------\r\n\r\n&gt; 4. Finally, when the transaction was finally not getting rolled back, I was getting an error because apparently the table I was trying to write into didn&#39;t exist. Even though I could clearly see it in the Derby server and the persistence.xml file pointed to it correctly:\r\n&gt; ```\r\n&gt; java.sql.SQLSyntaxErrorException: Table/View &#39;CUSTOMER&#39; does not exist.\r\n&gt; ```\r\n\r\nThis is the one that took me more time, I was just going crazy. In the `persistence.xml` file we stated which database we want to connect to. However, there&#39;s a file called `domain.xml` inside the GlassFish server domain&#39;s `domain-name\\config` folder which also sets up a database connection and dominates over the persistence file. It stablishes a connection to three different databases, we have to change the one named `DerbyPool`:\r\n\r\n```\r\n&lt;jdbc-connection-pool is-isolation-level-guaranteed=&quot;false&quot; datasource-classname=&quot;org.apache.derby.jdbc.ClientDataSource&quot; name=&quot;DerbyPool&quot; res-type=&quot;javax.sql.DataSource&quot;&gt;\r\n  &lt;property name=&quot;PortNumber&quot; value=&quot;1527&quot;&gt;&lt;/property&gt;\r\n  &lt;property name=&quot;Password&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\r\n  &lt;property name=&quot;User&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\r\n  &lt;property name=&quot;serverName&quot; value=&quot;localhost&quot;&gt;&lt;/property&gt;\r\n  &lt;property name=&quot;DatabaseName&quot; value=&quot;customers&quot;&gt;&lt;/property&gt;\r\n  &lt;property name=&quot;connectionAttributes&quot; value=&quot;;create=true&quot;&gt;&lt;/property&gt;\r\n&lt;/jdbc-connection-pool&gt;\r\n```\r\n\r\n-----------------\r\n\r\nAnd that&#39;s it! If you installed everything correctly and fixed these issues your GlassFish + Derby server should be running and synchronized with Netbeans and all queries to the database should be working properly.","title":"Having problems setting up Jakarta EE on Netbeans using GlassFish and Derby","body":"<h3>Here's the workaround that I used to solve all these issues:</h3>\n<blockquote>\n<ol start=\"2\">\n<li>Then, after downloading Apache Derby (10.16.1.1) for setting up the database server I was receiving this exception:</li>\n</ol>\n<pre><code>An error occurred while creating the database:\njava.lang.ClassNotFoundException: org.apache.derby.jdbc.Clientdriver\n</code></pre>\n</blockquote>\n<p>Basically the library had a class in the wrong package. I just copied the <code>jdbc</code> folder located in <code>db-derby-10.16.1.1-bin\\lib\\derbytools.jar\\org\\apache\\derby</code> and pasted it in <code>db-derby-10.16.1.1-bin\\lib\\derbyclient.jar\\org\\apache\\derby</code>.</p>\n<hr />\n<blockquote>\n<ol start=\"3\">\n<li>After solving the missing class issue, every commit I tried to do to the database was being set to rollback, being unable to persist anything into the database. This is the exception I was getting:</li>\n</ol>\n<pre><code>javax.persistence.RollbackException: Transaction &quot;rolled back&quot; because transaction was set to RollbackOnly.\n</code></pre>\n</blockquote>\n<p>Here the problem was that when the <code>persistence.xml</code> file was created, instead of using the jakarta library for the persistence-unit properties, it was using the old javax library, creating an incompatibility. Change all the <code>javax</code> for <code>jakarta</code>. Also, you may need to set the <code>transaction-type</code> to <code>JTA</code>.</p>\n<pre><code>&lt;persistence-unit name=&quot;customersDatabase&quot; transaction-type=&quot;JTA&quot;&gt;\n  &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n  &lt;properties&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:derby://localhost:1527/customers&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.apache.derby.jdbc.ClientDriver&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\n  &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n<hr />\n<blockquote>\n<ol start=\"4\">\n<li>Finally, when the transaction was finally not getting rolled back, I was getting an error because apparently the table I was trying to write into didn't exist. Even though I could clearly see it in the Derby server and the persistence.xml file pointed to it correctly:</li>\n</ol>\n<pre><code>java.sql.SQLSyntaxErrorException: Table/View 'CUSTOMER' does not exist.\n</code></pre>\n</blockquote>\n<p>This is the one that took me more time, I was just going crazy. In the <code>persistence.xml</code> file we stated which database we want to connect to. However, there's a file called <code>domain.xml</code> inside the GlassFish server domain's <code>domain-name\\config</code> folder which also sets up a database connection and dominates over the persistence file. It stablishes a connection to three different databases, we have to change the one named <code>DerbyPool</code>:</p>\n<pre><code>&lt;jdbc-connection-pool is-isolation-level-guaranteed=&quot;false&quot; datasource-classname=&quot;org.apache.derby.jdbc.ClientDataSource&quot; name=&quot;DerbyPool&quot; res-type=&quot;javax.sql.DataSource&quot;&gt;\n  &lt;property name=&quot;PortNumber&quot; value=&quot;1527&quot;&gt;&lt;/property&gt;\n  &lt;property name=&quot;Password&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\n  &lt;property name=&quot;User&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\n  &lt;property name=&quot;serverName&quot; value=&quot;localhost&quot;&gt;&lt;/property&gt;\n  &lt;property name=&quot;DatabaseName&quot; value=&quot;customers&quot;&gt;&lt;/property&gt;\n  &lt;property name=&quot;connectionAttributes&quot; value=&quot;;create=true&quot;&gt;&lt;/property&gt;\n&lt;/jdbc-connection-pool&gt;\n</code></pre>\n<hr />\n<p>And that's it! If you installed everything correctly and fixed these issues your GlassFish + Derby server should be running and synchronized with Netbeans and all queries to the database should be working properly.</p>\n"}],"owner":{"account_id":28969902,"reputation":61,"user_id":22190461,"display_name":"Guillem Chesa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76653460,"answer_count":1,"score":1,"last_activity_date":1688989925,"creation_date":1688988355,"question_id":76653265,"body_markdown":"I know it&#39;s pretty outdated technology but I found myself in the need of doing a project using Jakarta EE on GlassFish. I already know the answer, I just want to document my workaround for making this combination of technologies work together, since the information to fix all the problems that may arise is scattered through many different posts and websites.\r\n\r\nFirst I will list the issues and then I will reply with the solutions:\r\n\r\n1. First problem I encountered is that IntelliJ asks you to pay a subscription in order to use Jakarta EE functionality and Eclipse IDE has archived their plugins for GlassFish, so I ended up using Netbeans because it&#39;s the only IDE that still supports GlassFish apparently.\r\n\r\n2. Then, after downloading Apache Derby (10.16.1.1) for setting up the database server I was receiving this exception:\r\n\r\n```\r\nAn error occurred while creating the database:\r\njava.lang.ClassNotFoundException: org.apache.derby.jdbc.Clientdriver\r\n```\r\n\r\n3. After solving the missing class issue, every commit I tried to do to the database was being set to rollback, being unable to persist anything into the database. This is the exception I was getting:\r\n\r\n```\r\njavax.persistence.RollbackException: Transaction &quot;rolled back&quot; because transaction was set to RollbackOnly.\r\n```\r\n\r\n4. Finally, when the transaction was finally not getting rolled back, I was getting an error because apparently the table I was trying to write into didn&#39;t exist. Even though I could clearly see it in the Derby server and the `persistence.xml` file pointed to it correctly:\r\n\r\n```\r\njava.sql.SQLSyntaxErrorException: Table/View &#39;CUSTOMER&#39; does not exist.\r\n```","title":"Having problems setting up Jakarta EE on Netbeans using GlassFish and Derby","body":"<p>I know it's pretty outdated technology but I found myself in the need of doing a project using Jakarta EE on GlassFish. I already know the answer, I just want to document my workaround for making this combination of technologies work together, since the information to fix all the problems that may arise is scattered through many different posts and websites.</p>\n<p>First I will list the issues and then I will reply with the solutions:</p>\n<ol>\n<li><p>First problem I encountered is that IntelliJ asks you to pay a subscription in order to use Jakarta EE functionality and Eclipse IDE has archived their plugins for GlassFish, so I ended up using Netbeans because it's the only IDE that still supports GlassFish apparently.</p>\n</li>\n<li><p>Then, after downloading Apache Derby (10.16.1.1) for setting up the database server I was receiving this exception:</p>\n</li>\n</ol>\n<pre><code>An error occurred while creating the database:\njava.lang.ClassNotFoundException: org.apache.derby.jdbc.Clientdriver\n</code></pre>\n<ol start=\"3\">\n<li>After solving the missing class issue, every commit I tried to do to the database was being set to rollback, being unable to persist anything into the database. This is the exception I was getting:</li>\n</ol>\n<pre><code>javax.persistence.RollbackException: Transaction &quot;rolled back&quot; because transaction was set to RollbackOnly.\n</code></pre>\n<ol start=\"4\">\n<li>Finally, when the transaction was finally not getting rolled back, I was getting an error because apparently the table I was trying to write into didn't exist. Even though I could clearly see it in the Derby server and the <code>persistence.xml</code> file pointed to it correctly:</li>\n</ol>\n<pre><code>java.sql.SQLSyntaxErrorException: Table/View 'CUSTOMER' does not exist.\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1688990711,"post_id":76653442,"comment_id":135145011,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1688997677,"post_id":76653442,"comment_id":135146815,"body_markdown":"Data is loaded from Firebase (and pretty much any cloud API) asynchronously, and your main code will continue to run while the data is being loaded. Then when the data is available, your `onDataChange` is called. What this means is that when your `return numberF[0]` runs, none of the `numberF[0] = numberDB;` has yet been called. You can verify this by setting breakpoints and running in the debugger. --- In practice it means that you can&#39;t return a value that is asynchronously loaded and will need to handle it inside the `onDataChange`. A common workaround is to pass a custom callback.","body":"Data is loaded from Firebase (and pretty much any cloud API) asynchronously, and your main code will continue to run while the data is being loaded. Then when the data is available, your <code>onDataChange</code> is called. What this means is that when your <code>return numberF[0]</code> runs, none of the <code>numberF[0] = numberDB;</code> has yet been called. You can verify this by setting breakpoints and running in the debugger. --- In practice it means that you can&#39;t return a value that is asynchronously loaded and will need to handle it inside the <code>onDataChange</code>. A common workaround is to pass a custom callback."}],"owner":{"display_name":"user17938552"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688997685,"answer_count":0,"score":0,"last_activity_date":1688989794,"creation_date":1688989794,"question_id":76653442,"body_markdown":"Below is the structure of my Firebase Realtime Database:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4BCo5.jpg\r\n\r\nI want to get Contacts from the phone in which the app is running. Then I want to check if any of the contact&#39;s phone number is in the database. Or in other words, if a user with that particular number exists or not. If it exists, I want to put the contact in a HashMap whose key is the number and name is the value. I will later add this HashMap data to RecyclerView.\r\n\r\nI am able to get the contacts and also check the above condition, but it does not add them to the HashMap. Below is my code for getting contacts and checking:\r\n\r\n    @SuppressLint(&quot;Range&quot;)\r\n    private void getContacts() {\r\n        @SuppressLint(&quot;Recycle&quot;)\r\n        Cursor cursor = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\r\n                null, null, null, null);\r\n        while (cursor.moveToNext()) {\r\n            String name = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));\r\n            String number = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\r\n            number = number.trim();\r\n\r\n            Pattern p = Pattern.compile(\r\n                    &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;);\r\n\r\n            Matcher m = p.matcher(number);\r\n\r\n            if (m.find()) {\r\n                if (exists(number).equalsIgnoreCase(number)) {\r\n                    Log.i(&quot;Does match:&quot;, number);\r\n                    contactList.put(number, name);\r\n                } else {\r\n                    Log.wtf(&quot;Does not match:&quot;, number);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private String exists(String number) {\r\n        final String[] numberF = {&quot;&quot;};\r\n\r\n        if (number.length() &gt; 10 &amp;&amp; number.length() &lt;= 15) {\r\n            DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n            reference.child(number).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    if (snapshot.exists()) {\r\n                        String numberDB = snapshot.child(&quot;number&quot;).getValue(String.class);\r\n                        numberF[0] = numberDB;\r\n                    } else {\r\n                        numberF[0] = &quot;&quot;;\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    numberF[0] = &quot;&quot;;\r\n                }\r\n            });\r\n        } else {\r\n            numberF[0] = &quot;&quot;;\r\n        }\r\n\r\n        return numberF[0];\r\n    }\r\n\r\nPlease help me out to check the above condition or tell why it is not added to the HashMap.","title":"Compare data from Firebase Realtime Database and put it to HashMap","body":"<p>Below is the structure of my Firebase Realtime Database:</p>\n<p><a href=\"https://i.stack.imgur.com/4BCo5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4BCo5.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I want to get Contacts from the phone in which the app is running. Then I want to check if any of the contact's phone number is in the database. Or in other words, if a user with that particular number exists or not. If it exists, I want to put the contact in a HashMap whose key is the number and name is the value. I will later add this HashMap data to RecyclerView.</p>\n<p>I am able to get the contacts and also check the above condition, but it does not add them to the HashMap. Below is my code for getting contacts and checking:</p>\n<pre><code>@SuppressLint(&quot;Range&quot;)\nprivate void getContacts() {\n    @SuppressLint(&quot;Recycle&quot;)\n    Cursor cursor = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n            null, null, null, null);\n    while (cursor.moveToNext()) {\n        String name = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));\n        String number = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\n        number = number.trim();\n\n        Pattern p = Pattern.compile(\n                &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;);\n\n        Matcher m = p.matcher(number);\n\n        if (m.find()) {\n            if (exists(number).equalsIgnoreCase(number)) {\n                Log.i(&quot;Does match:&quot;, number);\n                contactList.put(number, name);\n            } else {\n                Log.wtf(&quot;Does not match:&quot;, number);\n            }\n        }\n    }\n}\n\nprivate String exists(String number) {\n    final String[] numberF = {&quot;&quot;};\n\n    if (number.length() &gt; 10 &amp;&amp; number.length() &lt;= 15) {\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n        reference.child(number).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()) {\n                    String numberDB = snapshot.child(&quot;number&quot;).getValue(String.class);\n                    numberF[0] = numberDB;\n                } else {\n                    numberF[0] = &quot;&quot;;\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                numberF[0] = &quot;&quot;;\n            }\n        });\n    } else {\n        numberF[0] = &quot;&quot;;\n    }\n\n    return numberF[0];\n}\n</code></pre>\n<p>Please help me out to check the above condition or tell why it is not added to the HashMap.</p>\n"},{"tags":["java","regex","regex-replace"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1688979915,"post_id":76652246,"comment_id":135142801,"body_markdown":"I don&#39;t see why regex is needed at all. You want to replace one char with another, use the non regex `replace(char, char)` method. (It also replaces all occurances, just doesn&#39;t use regular expressions).","body":"I don&#39;t see why regex is needed at all. You want to replace one char with another, use the non regex <code>replace(char, char)</code> method. (It also replaces all occurances, just doesn&#39;t use regular expressions)."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1688980003,"post_id":76652246,"comment_id":135142817,"body_markdown":"You probably meant - `replaceAll(&quot;\\\\+&quot;, &quot;+&quot;);`? The first parameter is the regex, the second is the replacement. But why do you want to replace a character with the **same** character? The whole operation is redundant.","body":"You probably meant - <code>replaceAll(&quot;\\\\+&quot;, &quot;+&quot;);</code>? The first parameter is the regex, the second is the replacement. But why do you want to replace a character with the <b>same</b> character? The whole operation is redundant."},{"owner":{"account_id":21455334,"reputation":3,"user_id":15807062,"display_name":"NguyenLT21"},"score":0,"creation_date":1688980987,"post_id":76652246,"comment_id":135143043,"body_markdown":"Update:\nIt working with &#39;&quot;18+ , a + b&quot;.replaceAll(&quot;\\\\+&quot;, &quot;\\\\\\\\+&quot;)&#39;","body":"Update: It working with &#39;&quot;18+ , a + b&quot;.replaceAll(&quot;\\\\+&quot;, &quot;\\\\\\\\+&quot;)&#39;"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688982675,"creation_date":1688982675,"answer_id":76652586,"question_id":76652246,"body_markdown":"TL;DR: You want `.replace`. Not `.replaceAll`. Which will replace all occurrences (Yes, `.replace` replaces all, as does `replaceAll`) - and won&#39;t complain about dangling metacharacters.\r\n\r\n-----\r\n\r\nHere&#39;s how it breaks down:\r\n\r\n* `a.replace(&quot;needle&quot;, &quot;duck&quot;)` turns __all__ needles into ducks.\r\n* `a.replaceAll(&quot;needleRegex&quot;, &quot;duck&quot;)` parses the first string argument as a regular expression (which is a programming language-esque concept to describe regular grammars, and `+` has significance in this language, hence why you got your error). Then replaces __all__ substrings within `a` that match the regex with `&quot;duck&quot;`. _`.replaceAll` is the regular expression version, `.replace` is the plain strings version_.\r\n* `a.replaceFirst(&quot;needleRegex&quot;, &quot;duck&quot;)` is like `replaceAll`, except it stops after replacing the first substring it finds.\r\n\r\nIn other words, `All/First` contrast to each other, and these methods are very badly named / should never have been part of java&lt;sup&gt;1&lt;/sup&gt;. The appropriate methods, if they are to exist at all, either [A] should have taken a `Pattern` as first argument (java is strongly nominally typed, if there&#39;s a type that represents the thing, use it), or [B] should have been named `.regexReplaceAll` instead.\r\n\r\nAs a consequence I strongly advise all to never use `.replaceAll`. If you really want to futz with regular expressions (can be quite powerful, but you should want them, you don&#39;t want some code to arbitrarily apply regex parsing as a surprise), make a pattern, use its replace-all methods instead. That way, your code is more flexible (Example: If parsing the regex is part of a profiler&#39;s performance tight loop, you can isolate it. You can explicitly set parameters, and use the vast array of methods pattern/matcher expose, instead of _just_ replaceAll/replaceFirst/matches) - and nobody will be confused when reading it:  You are using regexes, it is obvious that you are, and it is obvious that you intended to.\r\n\r\n-----\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; Java tends to take backwards compatibility fairly seriously; as a consequence I doubt these methods will be removed or even marked as obsolete/deprecated/ill-advised, because that would break existing code. However, the ecosystem may (should!) make a move; linter tools should ship out of the box advising against it, IDEs should remove or at least visually disencourage these methods in their auto-complete dialogs, and so on.\r\n","title":"replace Java-regex-quantifiers","body":"<p>TL;DR: You want <code>.replace</code>. Not <code>.replaceAll</code>. Which will replace all occurrences (Yes, <code>.replace</code> replaces all, as does <code>replaceAll</code>) - and won't complain about dangling metacharacters.</p>\n<hr />\n<p>Here's how it breaks down:</p>\n<ul>\n<li><code>a.replace(&quot;needle&quot;, &quot;duck&quot;)</code> turns <strong>all</strong> needles into ducks.</li>\n<li><code>a.replaceAll(&quot;needleRegex&quot;, &quot;duck&quot;)</code> parses the first string argument as a regular expression (which is a programming language-esque concept to describe regular grammars, and <code>+</code> has significance in this language, hence why you got your error). Then replaces <strong>all</strong> substrings within <code>a</code> that match the regex with <code>&quot;duck&quot;</code>. <em><code>.replaceAll</code> is the regular expression version, <code>.replace</code> is the plain strings version</em>.</li>\n<li><code>a.replaceFirst(&quot;needleRegex&quot;, &quot;duck&quot;)</code> is like <code>replaceAll</code>, except it stops after replacing the first substring it finds.</li>\n</ul>\n<p>In other words, <code>All/First</code> contrast to each other, and these methods are very badly named / should never have been part of java<sup>1</sup>. The appropriate methods, if they are to exist at all, either [A] should have taken a <code>Pattern</code> as first argument (java is strongly nominally typed, if there's a type that represents the thing, use it), or [B] should have been named <code>.regexReplaceAll</code> instead.</p>\n<p>As a consequence I strongly advise all to never use <code>.replaceAll</code>. If you really want to futz with regular expressions (can be quite powerful, but you should want them, you don't want some code to arbitrarily apply regex parsing as a surprise), make a pattern, use its replace-all methods instead. That way, your code is more flexible (Example: If parsing the regex is part of a profiler's performance tight loop, you can isolate it. You can explicitly set parameters, and use the vast array of methods pattern/matcher expose, instead of <em>just</em> replaceAll/replaceFirst/matches) - and nobody will be confused when reading it:  You are using regexes, it is obvious that you are, and it is obvious that you intended to.</p>\n<hr />\n<p><sup>1</sup> Java tends to take backwards compatibility fairly seriously; as a consequence I doubt these methods will be removed or even marked as obsolete/deprecated/ill-advised, because that would break existing code. However, the ecosystem may (should!) make a move; linter tools should ship out of the box advising against it, IDEs should remove or at least visually disencourage these methods in their auto-complete dialogs, and so on.</p>\n"},{"comments":[{"owner":{"account_id":21455334,"reputation":3,"user_id":15807062,"display_name":"NguyenLT21"},"score":0,"creation_date":1689130029,"post_id":76653345,"comment_id":135168117,"body_markdown":"It working with &#39;&quot;18+ , a + b&quot;.replaceAll(&quot;\\\\+&quot;, &quot;\\\\\\\\+&quot;)\n\nreplace(&quot;+&quot;, &quot;\\\\+&quot;) not working","body":"It working with &#39;&quot;18+ , a + b&quot;.replaceAll(&quot;\\\\+&quot;, &quot;\\\\\\\\+&quot;)  replace(&quot;+&quot;, &quot;\\\\+&quot;) not working"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688989012,"creation_date":1688989012,"answer_id":76653345,"question_id":76652246,"body_markdown":"&gt; _&quot;... Can I replace all symbol &quot;+&quot; by &quot;\\+&quot; in Java 11. ...&quot;_\r\n\r\nYes, you can use the _[String#replace](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence))_ method.  \r\nThe _[String#replaceAll](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String))_ method isn&#39;t required here, it is an alternative to _replace_ which allows for a _regular expression pattern_ as input.\r\n\r\n```java\r\nString string = &quot;18+, a + b&quot;;\r\nstring = string.replace(&quot;+&quot;, &quot;\\\\+&quot;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n18\\+, a \\+ b\r\n```","title":"replace Java-regex-quantifiers","body":"<blockquote>\n<p><em>&quot;... Can I replace all symbol &quot;+&quot; by &quot;+&quot; in Java 11. ...&quot;</em></p>\n</blockquote>\n<p>Yes, you can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\">String#replace</a></em> method.<br />\nThe <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String#replaceAll</a></em> method isn't required here, it is an alternative to <em>replace</em> which allows for a <em>regular expression pattern</em> as input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;18+, a + b&quot;;\nstring = string.replace(&quot;+&quot;, &quot;\\\\+&quot;);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>18\\+, a \\+ b\n</code></pre>\n"}],"owner":{"account_id":21455334,"reputation":3,"user_id":15807062,"display_name":"NguyenLT21"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1689020409,"accepted_answer_id":76653345,"answer_count":2,"score":-3,"last_activity_date":1688989012,"creation_date":1688979806,"question_id":76652246,"body_markdown":"I have a string like &quot;18+, a + b&quot;. Can I replace all symbol &quot;+&quot; by &quot;\\\\+&quot; in Java 11.\r\n\r\n\r\nI try replaceAll(&quot;+&quot;, &quot;\\\\+&quot;) but failed by Dangling meta character &#39;+&#39;\r\nException in \r\n```\r\nthread &quot;main&quot; java.util.regex.PatternSyntaxException: Dangling meta character &#39;+&#39; near index 0\r\n+\r\n^\r\n\tat java.base/java.util.regex.Pattern.error(Pattern.java:2045)\r\n\tat java.base/java.util.regex.Pattern.sequence(Pattern.java:2220)\r\n\tat java.base/java.util.regex.Pattern.expr(Pattern.java:2086)\r\n\tat java.base/java.util.regex.Pattern.compile(Pattern.java:1798)\r\n\tat java.base/java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1445)\r\n\tat java.base/java.util.regex.Pattern.compile(Pattern.java:1084)\r\n\tat java.base/java.lang.String.replaceAll(String.java:2950)\r\n```\r\n\r\nPlease help me, thank you \r\n","title":"replace Java-regex-quantifiers","body":"<p>I have a string like &quot;18+, a + b&quot;. Can I replace all symbol &quot;+&quot; by &quot;\\+&quot; in Java 11.</p>\n<p>I try replaceAll(&quot;+&quot;, &quot;\\+&quot;) but failed by Dangling meta character '+'\nException in</p>\n<pre><code>thread &quot;main&quot; java.util.regex.PatternSyntaxException: Dangling meta character '+' near index 0\n+\n^\n    at java.base/java.util.regex.Pattern.error(Pattern.java:2045)\n    at java.base/java.util.regex.Pattern.sequence(Pattern.java:2220)\n    at java.base/java.util.regex.Pattern.expr(Pattern.java:2086)\n    at java.base/java.util.regex.Pattern.compile(Pattern.java:1798)\n    at java.base/java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1445)\n    at java.base/java.util.regex.Pattern.compile(Pattern.java:1084)\n    at java.base/java.lang.String.replaceAll(String.java:2950)\n</code></pre>\n<p>Please help me, thank you</p>\n"},{"tags":["java","spring-boot","docker","spring-boot-devtools"],"comments":[{"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"score":0,"creation_date":1619508545,"post_id":67194033,"comment_id":118920037,"body_markdown":"Is the `Build Automatically` option inside the Project menu is enabled.","body":"Is the <code>Build Automatically</code> option inside the Project menu is enabled."},{"owner":{"account_id":19548493,"reputation":470,"user_id":14304675,"display_name":"Ali Momeni"},"score":0,"creation_date":1620073470,"post_id":67194033,"comment_id":119088850,"body_markdown":"i think you are asking too much from java and docker. there are so many continuous deployment tools build for this purpose. the name specifies &quot;dev&quot;tools which is for development environment not production. your solution is CI/CD which automates all these steps. also if you want to do it automatically you can call your git webhook from a shell scripts and after pushing your code build mvn and then build new docker image and run your image.","body":"i think you are asking too much from java and docker. there are so many continuous deployment tools build for this purpose. the name specifies &quot;dev&quot;tools which is for development environment not production. your solution is CI/CD which automates all these steps. also if you want to do it automatically you can call your git webhook from a shell scripts and after pushing your code build mvn and then build new docker image and run your image."}],"answers":[{"comments":[{"owner":{"account_id":14429276,"reputation":111,"user_id":11276501,"display_name":"Abneco"},"score":0,"creation_date":1619508857,"post_id":67278603,"comment_id":118920158,"body_markdown":"automatic build, see this article: https://medium.com/@bhanuchaddha/spring-boot-devtools-on-intellij-c0ab3f9afa63 (i don&#39;t know if it works)","body":"automatic build, see this article: <a href=\"https://medium.com/@bhanuchaddha/spring-boot-devtools-on-intellij-c0ab3f9afa63\" rel=\"nofollow noreferrer\">medium.com/@bhanuchaddha/&hellip;</a> (i don&#39;t know if it works)"},{"owner":{"account_id":208333,"reputation":32350,"user_id":458742,"accept_rate":69,"display_name":"spraff"},"score":0,"creation_date":1619511226,"post_id":67278603,"comment_id":118921038,"body_markdown":"I am building with `mvn`, prefer non-IDE solution. Also I have [this other problem](https://stackoverflow.com/questions/67279275/intellij-claims-to-build-but-jar-files-are-not-touched)","body":"I am building with <code>mvn</code>, prefer non-IDE solution. Also I have <a href=\"https://stackoverflow.com/questions/67279275/intellij-claims-to-build-but-jar-files-are-not-touched\">this other problem</a>"}],"tags":[],"owner":{"account_id":14429276,"reputation":111,"user_id":11276501,"display_name":"Abneco"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619508148,"creation_date":1619508148,"answer_id":67278603,"question_id":67194033,"body_markdown":"I had a similar problem when using intellij idea, I saw somewhere that you had to use the build button for it to work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PXz5v.png\r\n\r\nIn jsp the application reloads the files, it is not completely automatic, because intellij saves automatically -&gt; this behavior is the default but there is I think a way to change it. -&gt; To record manually and then that it reloads automatically.\r\n\r\nWorks for jsp apps only, if you try this with standard apps it will create a double frame execution (swing)","title":"spring-boot-devtools Automatic Restart not working","body":"<p>I had a similar problem when using intellij idea, I saw somewhere that you had to use the build button for it to work.</p>\n<p><a href=\"https://i.stack.imgur.com/PXz5v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXz5v.png\" alt=\"enter image description here\" /></a></p>\n<p>In jsp the application reloads the files, it is not completely automatic, because intellij saves automatically -&gt; this behavior is the default but there is I think a way to change it. -&gt; To record manually and then that it reloads automatically.</p>\n<p>Works for jsp apps only, if you try this with standard apps it will create a double frame execution (swing)</p>\n"},{"comments":[{"owner":{"account_id":208333,"reputation":32350,"user_id":458742,"accept_rate":69,"display_name":"spraff"},"score":0,"creation_date":1619510751,"post_id":67278709,"comment_id":118920853,"body_markdown":"I am omitting some unrelated proprietary stuff and boilerplate but the dockerfile is basically\n\n`ENV JAVA_DOCKER_OPTS &quot;-agentlib:jdwp=transport=dt_socket,server=y,address=*:8000,suspend=n&quot;`\n\n`ENV JAVA_OPTS &quot;-Dspring.devtools.restart.enabled=true&quot;`\n\n`WORKDIR $APPLICATION_DIR`\n\n`ENTRYPOINT [&quot;/bin/bash&quot;, &quot;-lc&quot;, &quot;exec java $JAVA_DOCKER_OPTS $JAVA_OPTS -jar $APPLICATION_DIR/$APPLICATION_NAME.jar&quot;]`","body":"I am omitting some unrelated proprietary stuff and boilerplate but the dockerfile is basically  <code>ENV JAVA_DOCKER_OPTS &quot;-agentlib:jdwp=transport=dt_socket,server=y,address=*:8000,&zwnj;&#8203;suspend=n&quot;</code>  <code>ENV JAVA_OPTS &quot;-Dspring.devtools.restart.enabled=true&quot;</code>  <code>WORKDIR $APPLICATION_DIR</code>  <code>ENTRYPOINT [&quot;&#47;bin&#47;bash&quot;, &quot;-lc&quot;, &quot;exec java $JAVA_DOCKER_OPTS $JAVA_OPTS -jar $APPLICATION_DIR&#47;$APPLICATION_NAME.jar&quot;]</code>"}],"tags":[],"owner":{"account_id":16267237,"reputation":620,"user_id":11746899,"display_name":"Opri"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619512916,"creation_date":1619508631,"answer_id":67278709,"question_id":67194033,"body_markdown":"I am no shore because you are not saying explicitly if you tried this things but:\r\n\r\n \r\n\r\n - try to set this on true:`(SpringApplication.setRegisterShutdownHook(true))`\r\n\r\n     \r\n\r\n  -  try adding manually in the dockerfile this property   `-Dspring.devtools.restart.enabled=true`\r\n\r\n\r\n&gt; I know it says that on default should be on true, but try to do it\r\n&gt; manually\r\n\r\n Maybe show us the dockerfile.\r\n\r\nLater Edit:\r\nSaw this in documentation:\r\n\r\n&gt; repackaged archives do not contain devtools by default. If you want to\r\n&gt; use certain remote devtools feature, youll need to disable the\r\n&gt; excludeDevtools build property to include it. The property is\r\n&gt; supported with both the Maven and Gradle plugins.\r\n\r\nThe Spring Boot developer tools are not just limited to local development. You can also use several features when running applications remotely. Remote support is opt-in, to enable it you need to make sure that **devtools** is included in the repackaged archive:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludeDevtools&gt;false&lt;/excludeDevtools&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThen you need to set a **spring.devtools.remote.secret** property, for example:\r\n\r\n    spring.devtools.remote.secret=mysecret\r\n\r\n***Remote devtools support is provided in two parts; there is a server side endpoint that accepts connections, and a client application that you run in your IDE. The server component is automatically enabled when the spring.devtools.remote.secret property is set. The client component must be launched manually.***\r\n\r\n[Documents from spring][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-remote","title":"spring-boot-devtools Automatic Restart not working","body":"<p>I am no shore because you are not saying explicitly if you tried this things but:</p>\n<ul>\n<li><p>try to set this on true:<code>(SpringApplication.setRegisterShutdownHook(true))</code></p>\n</li>\n<li><p>try adding manually in the dockerfile this property   <code>-Dspring.devtools.restart.enabled=true</code></p>\n</li>\n</ul>\n<blockquote>\n<p>I know it says that on default should be on true, but try to do it\nmanually</p>\n</blockquote>\n<p>Maybe show us the dockerfile.</p>\n<p>Later Edit:\nSaw this in documentation:</p>\n<blockquote>\n<p>repackaged archives do not contain devtools by default. If you want to\nuse certain remote devtools feature, youll need to disable the\nexcludeDevtools build property to include it. The property is\nsupported with both the Maven and Gradle plugins.</p>\n</blockquote>\n<p>The Spring Boot developer tools are not just limited to local development. You can also use several features when running applications remotely. Remote support is opt-in, to enable it you need to make sure that <strong>devtools</strong> is included in the repackaged archive:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludeDevtools&gt;false&lt;/excludeDevtools&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Then you need to set a <strong>spring.devtools.remote.secret</strong> property, for example:</p>\n<pre><code>spring.devtools.remote.secret=mysecret\n</code></pre>\n<p><em><strong>Remote devtools support is provided in two parts; there is a server side endpoint that accepts connections, and a client application that you run in your IDE. The server component is automatically enabled when the spring.devtools.remote.secret property is set. The client component must be launched manually.</strong></em></p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-remote\" rel=\"nofollow noreferrer\">Documents from spring</a></p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619878665,"creation_date":1619736289,"answer_id":67325975,"question_id":67194033,"body_markdown":"The Spring Boot Devtools offers for Spring Boot applications the functionality that usually is available in IDEs like IntelliJ in which you have the ability to, for example, [restart an application](https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart) or force a [live browser reload](https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart) when certain classes or resources change. This can be very useful in the development phase of your application.\r\n\r\nIt is typically used in conjunction with an IDE in such a way that it will be launched with the rest of your application by Spring Boot when detected in the classpath and if it is not disabled.\r\n\r\nAlthough you can configure it to monitor further resources, it will usually look for changes in your application code, in your classes and resources.\r\n\r\nIt is important to say that, AFAIK, Devtools will monitor your own classes and resources in an _exploded_ way, I mean, the restart process will not work if you overwrite your whole application jar, only if you overwrite some resources in your `classes` directory. \r\n\r\nThis functionality can be tested with Maven. Please, consider download a simple blueprint from [Spring Initializr](https://start.spring.io), with Spring Boot, Spring Boot Devtools and Spring Web, for example - in order to keep the application running. From a terminal, in the directory that contains the `pom.xml` file, run your application, for instance, with the help of the `spring-boot-maven-plugin` plugin included in the `pom.xml`:\r\n\r\n```\r\nmvn spring-boot:run\r\n```\r\n\r\nThe command will download the project dependencies, compile and run your application.\r\n\r\nNow, perform any modification in your source code, either in your classes or in your resources and, from another terminal, in the same directory, recompile your resources:\r\n\r\n```\r\nmvn compile\r\n```\r\n\r\nIf you look at the first terminal window you will see that the application is restarted to reflect the changes.\r\n\r\nIf you are using docker for your application deployment, try reproducing this behavior can be tricky.\r\n\r\nOn one hand, I do not know if it makes sense, but you can try creating a maven based image and run your code inside, just as described above. Your `Dockerfile` can look similar to this:\r\n\r\n```dockerfile\r\nFROM maven:3.5-jdk-8 as maven\r\n\r\nWORKDIR /app\r\n\r\n# Copy project pom\r\nCOPY ./pom.xml ./pom.xml\r\n\r\n# Fetch (and cache) dependencies\r\nRUN mvn dependency:go-offline -B\r\n\r\n# Copy source files\r\nCOPY ./src ./src\r\n\r\n# Run your application\r\nRUN mvn springboot:run\r\n```\r\n\r\nWith this setup, you can copy with `docker cp` your resources to the `/app/target` directory and it will trigger an application restart. As an alternative, consider mounting a volume in your container instead of using `docker cp`.\r\n\r\n__Much better__, and taking into account the fact that overwriting your application jar will probably not work, you can try to copy both your classes and library dependencies, and run your application in a exploded way. Consider the following `Dockerfile`:\r\n\r\n```dockerfile\r\nFROM maven:3.5-jdk-8 as maven\r\n\r\nWORKDIR /app\r\n\r\n# Copy your project pom\r\nCOPY ./pom.xml ./pom.xml\r\n\r\n# Fetch (and cache) dependencies\r\nRUN mvn dependency:go-offline -B\r\n\r\n# Copy source files\r\nCOPY ./src ./src\r\n\r\n# Compile application and library dependencies\r\n# The dependencies will, by default, be copied to target/dependency\r\nRUN mvn clean compile dependency:copy-dependencies -Dspring-boot.repackage.skip=true\r\n\r\n# Final run image (based on https://stackoverflow.com/questions/53691781/how-to-cache-maven-dependencies-in-docker)\r\nFROM openjdk:8u171-jre-alpine\r\n# OPTIONAL: copy dependencies so the thin jar won&#39;t need to re-download them\r\n# COPY --from=maven /root/.m2 /root/.m2\r\n\r\n# Change working directory\r\nWORKDIR /app\r\n\r\n# Copy classes from maven image\r\nCOPY --from=maven /app/target/classes ./classes\r\n\r\n# Copy dependent libraries\r\nCOPY --from=maven /app/target/dependency ./lib\r\n\r\nEXPOSE 8080\r\n\r\n# Please, modify your main class name as appropriate\r\nENTRYPOINT [&quot;java&quot;, &quot;-cp&quot;, &quot;/app/classes:/app/lib/*&quot;, &quot;com.example.demo.DemoApplication&quot;]\r\n```\r\n\r\nThe important line in the `Dockerfile` is this:\r\n\r\n```\r\nmvn clean compile dependency:copy-dependencies -Dspring-boot.repackage.skip=true\r\n```\r\n\r\nIt will instruct maven to compile your resources and copy the required libraries. Although redundant for the typical Maven phase in which the `spring-boot-maven-plugin` `repackage` goal runs, the flag `spring-boot.repackage.skip=true` will instruct this plugin to not repackage the application.\r\n\r\nWith this `Dockerfile`, build you image (let&#39;s tag it `devtools-demo`, for example):\r\n\r\n```\r\ndocker build -t devtools-demo .\r\n```\r\n\r\nAnd run it:\r\n\r\n```\r\ndocker run devtools-demo:latest\r\n```\r\n\r\nWith this setup, if now you change your classes and/or resources, and run `mvn` locally:\r\n\r\n```\r\nmvn compile\r\n```\r\n\r\nyou should be able to force the restart mechanism in your container with the following `docker cp` command:\r\n\r\n```\r\ndocker cp classes &lt;container name&gt;:/app/classes\r\n```\r\n\r\nPlease, again, consider mounting a volume in your container instead of using `docker cp`.\r\n\r\nI tested the setup and it worked properly.\r\n\r\nThe important think to keep in mind is to replace your exploded resources, not the whole application jar.\r\n\r\nAs another option, you can take an approach similar to the one indicated in your comments and run your Devtools in remote mode:\r\n\r\n```dockerfile\r\nFROM maven:3.5-jdk-8 as maven\r\n\r\nWORKDIR /app\r\n\r\n# Copy project pom\r\nCOPY ./pom.xml ./pom.xml\r\n\r\n# Fetch (and cache) dependencies\r\nRUN mvn dependency:go-offline -B\r\n\r\n# Copy source files\r\nCOPY ./src ./src\r\n\r\n# Build jar\r\nRUN mvn package &amp;&amp; cp target/your-app-version.jar app.jar\r\n\r\n# Final run image (based on https://stackoverflow.com/questions/53691781/how-to-cache-maven-dependencies-in-docker)\r\nFROM openjdk:8u171-jre-alpine\r\n# OPTIONAL: copy dependencies so the thin jar won&#39;t need to re-download them\r\n# COPY --from=maven /root/.m2 /root/.m2\r\n\r\n# Change working directory\r\nWORKDIR /app\r\n\r\n# Copy artifact from the maven image\r\nCOPY --from=maven /app/app.jar ./app.jar\r\n\r\nENV JAVA_DOCKER_OPTS &quot;-agentlib:jdwp=transport=dt_socket,server=y,address=*:8000,suspend=n&quot;\r\n\r\nENV JAVA_OPTS &quot;-Dspring.devtools.restart.enabled=true&quot;\r\n\r\nEXPOSE 8000\r\n\r\nEXPOSE 8080\r\n\r\nENTRYPOINT [&quot;/bin/bash&quot;, &quot;-lc&quot;, &quot;exec java $JAVA_DOCKER_OPTS $JAVA_OPTS -jar /app/app.jar&quot;]\r\n```\r\n\r\nFor the Spring Boot Devtools remote mode to work properly, you need several things (some of them pointed out by Opri as well in his/her answer).\r\n\r\nFirst, you need to configure the `spring-boot-maven-plugin` to [include the devtools](https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-remote) in your application jar (it will be excluded otherwise, by default):\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n  &lt;configuration&gt;\r\n    &lt;excludeDevtools&gt;false&lt;/excludeDevtools&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThen, you need to setup a value for the configuration property `spring.devtools.remote.secret`. This property has to do with the way remote debugging works in Spring Boot Devtools.\r\n\r\nThe remote debugging functionality consists of two parts, a client and a server. Basically, the client is a copy of your server code, and it uses the value of the `spring.devtools.remote.secret` configuration property to authenticate itself against the server.\r\n\r\nThis client code should be [run from an IDE](https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#_running_the_remote_client_application), and you attach your IDE debugging process to a local server exposed from that client.\r\n\r\nEvery change performed in the client monitored resources, remember, the same as in your server, is pushed to the remote server and it will trigger a restart if necessary.\r\n\r\nAs you can see, this functionality is again more appropriate from a development point of view.\r\n\r\nIf you need to actually restart your application by overwriting your jar application file, maybe a better approach will be to configure your docker container to run a shell script in your `ENTRYPOINT` or `CMD`. This shell script will monitor a copy of your jar, in a certain directory. If that resource changes, as a consequence of your `docker cp`, this shell script will stop the current running application version - this application is supposed to run from a different location to avoid problems when updating the jar -, replace the current jar with the new one, and then start the new application version. Not the same, but please, consider read [this related SO answer](https://stackoverflow.com/questions/4002462/how-can-i-write-a-java-application-that-can-update-itself-at-runtime).\r\n\r\nIn any case, when you run an application in a container, you are trying to provide a consistent and platform independent way of deployment for it. From this perspective, instead of monitoring changes in your docker container, a more convenient approach may be to generate and to deploy a new version of your container image with those new changes. This process can be automated greatly using tools like Jenkins, Travis, etcetera. These tools allow you to define CI/CD pipelines that, in response to a code commit, for example, can generate on the fly a docker image with your code and, it configured accordingly, deploy later this image to services like some docker flavor or Kubernetes, on premises or in the cloud. Some of them, especially Kubernetes, but [swarm](https://docs.docker.com/engine/swarm/swarm-tutorial/rolling-update/) an even [docker compose](https://stackoverflow.com/questions/49090395/how-to-achieve-a-rolling-update-with-docker-compose) as well, will allow you to perform rolling updates without or with minimal application service interruption.\r\n\r\nTo conclude, probably it will not fit your needs, but be aware that you can use [`spring-boot-starter-actuator`](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready) directly or with [Spring Boot Admin](https://github.com/codecentric/spring-boot-admin), for instance, to restart your application. \r\n\r\nFinally, as already indicated in the Spring Boot Devtools documentation, you can try a different option, not based on restart but in application reload, in hot swapping. This functionality is offered by commercial products like [JRebel](https://www.jrebel.com/products/jrebel) although there are some open sources alternatives as well, mainly [dcevm](https://dcevm.github.io) and the [HotswapAgent](https://github.com/HotswapProjects/HotswapAgent). [This related article](https://dzone.com/articles/hot-swap-java-bytecode-on-runtime) provides some insight in how these last two products work. [This Github project](https://github.com/HotswapProjects/hotswap-docklands) provides complementary information about how to run it in docker containers.","title":"spring-boot-devtools Automatic Restart not working","body":"<p>The Spring Boot Devtools offers for Spring Boot applications the functionality that usually is available in IDEs like IntelliJ in which you have the ability to, for example, <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart\" rel=\"noreferrer\">restart an application</a> or force a <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart\" rel=\"noreferrer\">live browser reload</a> when certain classes or resources change. This can be very useful in the development phase of your application.</p>\n<p>It is typically used in conjunction with an IDE in such a way that it will be launched with the rest of your application by Spring Boot when detected in the classpath and if it is not disabled.</p>\n<p>Although you can configure it to monitor further resources, it will usually look for changes in your application code, in your classes and resources.</p>\n<p>It is important to say that, AFAIK, Devtools will monitor your own classes and resources in an <em>exploded</em> way, I mean, the restart process will not work if you overwrite your whole application jar, only if you overwrite some resources in your <code>classes</code> directory.</p>\n<p>This functionality can be tested with Maven. Please, consider download a simple blueprint from <a href=\"https://start.spring.io\" rel=\"noreferrer\">Spring Initializr</a>, with Spring Boot, Spring Boot Devtools and Spring Web, for example - in order to keep the application running. From a terminal, in the directory that contains the <code>pom.xml</code> file, run your application, for instance, with the help of the <code>spring-boot-maven-plugin</code> plugin included in the <code>pom.xml</code>:</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>The command will download the project dependencies, compile and run your application.</p>\n<p>Now, perform any modification in your source code, either in your classes or in your resources and, from another terminal, in the same directory, recompile your resources:</p>\n<pre><code>mvn compile\n</code></pre>\n<p>If you look at the first terminal window you will see that the application is restarted to reflect the changes.</p>\n<p>If you are using docker for your application deployment, try reproducing this behavior can be tricky.</p>\n<p>On one hand, I do not know if it makes sense, but you can try creating a maven based image and run your code inside, just as described above. Your <code>Dockerfile</code> can look similar to this:</p>\n<pre><code>FROM maven:3.5-jdk-8 as maven\n\nWORKDIR /app\n\n# Copy project pom\nCOPY ./pom.xml ./pom.xml\n\n# Fetch (and cache) dependencies\nRUN mvn dependency:go-offline -B\n\n# Copy source files\nCOPY ./src ./src\n\n# Run your application\nRUN mvn springboot:run\n</code></pre>\n<p>With this setup, you can copy with <code>docker cp</code> your resources to the <code>/app/target</code> directory and it will trigger an application restart. As an alternative, consider mounting a volume in your container instead of using <code>docker cp</code>.</p>\n<p><strong>Much better</strong>, and taking into account the fact that overwriting your application jar will probably not work, you can try to copy both your classes and library dependencies, and run your application in a exploded way. Consider the following <code>Dockerfile</code>:</p>\n<pre><code>FROM maven:3.5-jdk-8 as maven\n\nWORKDIR /app\n\n# Copy your project pom\nCOPY ./pom.xml ./pom.xml\n\n# Fetch (and cache) dependencies\nRUN mvn dependency:go-offline -B\n\n# Copy source files\nCOPY ./src ./src\n\n# Compile application and library dependencies\n# The dependencies will, by default, be copied to target/dependency\nRUN mvn clean compile dependency:copy-dependencies -Dspring-boot.repackage.skip=true\n\n# Final run image (based on https://stackoverflow.com/questions/53691781/how-to-cache-maven-dependencies-in-docker)\nFROM openjdk:8u171-jre-alpine\n# OPTIONAL: copy dependencies so the thin jar won't need to re-download them\n# COPY --from=maven /root/.m2 /root/.m2\n\n# Change working directory\nWORKDIR /app\n\n# Copy classes from maven image\nCOPY --from=maven /app/target/classes ./classes\n\n# Copy dependent libraries\nCOPY --from=maven /app/target/dependency ./lib\n\nEXPOSE 8080\n\n# Please, modify your main class name as appropriate\nENTRYPOINT [&quot;java&quot;, &quot;-cp&quot;, &quot;/app/classes:/app/lib/*&quot;, &quot;com.example.demo.DemoApplication&quot;]\n</code></pre>\n<p>The important line in the <code>Dockerfile</code> is this:</p>\n<pre><code>mvn clean compile dependency:copy-dependencies -Dspring-boot.repackage.skip=true\n</code></pre>\n<p>It will instruct maven to compile your resources and copy the required libraries. Although redundant for the typical Maven phase in which the <code>spring-boot-maven-plugin</code> <code>repackage</code> goal runs, the flag <code>spring-boot.repackage.skip=true</code> will instruct this plugin to not repackage the application.</p>\n<p>With this <code>Dockerfile</code>, build you image (let's tag it <code>devtools-demo</code>, for example):</p>\n<pre><code>docker build -t devtools-demo .\n</code></pre>\n<p>And run it:</p>\n<pre><code>docker run devtools-demo:latest\n</code></pre>\n<p>With this setup, if now you change your classes and/or resources, and run <code>mvn</code> locally:</p>\n<pre><code>mvn compile\n</code></pre>\n<p>you should be able to force the restart mechanism in your container with the following <code>docker cp</code> command:</p>\n<pre><code>docker cp classes &lt;container name&gt;:/app/classes\n</code></pre>\n<p>Please, again, consider mounting a volume in your container instead of using <code>docker cp</code>.</p>\n<p>I tested the setup and it worked properly.</p>\n<p>The important think to keep in mind is to replace your exploded resources, not the whole application jar.</p>\n<p>As another option, you can take an approach similar to the one indicated in your comments and run your Devtools in remote mode:</p>\n<pre><code>FROM maven:3.5-jdk-8 as maven\n\nWORKDIR /app\n\n# Copy project pom\nCOPY ./pom.xml ./pom.xml\n\n# Fetch (and cache) dependencies\nRUN mvn dependency:go-offline -B\n\n# Copy source files\nCOPY ./src ./src\n\n# Build jar\nRUN mvn package &amp;&amp; cp target/your-app-version.jar app.jar\n\n# Final run image (based on https://stackoverflow.com/questions/53691781/how-to-cache-maven-dependencies-in-docker)\nFROM openjdk:8u171-jre-alpine\n# OPTIONAL: copy dependencies so the thin jar won't need to re-download them\n# COPY --from=maven /root/.m2 /root/.m2\n\n# Change working directory\nWORKDIR /app\n\n# Copy artifact from the maven image\nCOPY --from=maven /app/app.jar ./app.jar\n\nENV JAVA_DOCKER_OPTS &quot;-agentlib:jdwp=transport=dt_socket,server=y,address=*:8000,suspend=n&quot;\n\nENV JAVA_OPTS &quot;-Dspring.devtools.restart.enabled=true&quot;\n\nEXPOSE 8000\n\nEXPOSE 8080\n\nENTRYPOINT [&quot;/bin/bash&quot;, &quot;-lc&quot;, &quot;exec java $JAVA_DOCKER_OPTS $JAVA_OPTS -jar /app/app.jar&quot;]\n</code></pre>\n<p>For the Spring Boot Devtools remote mode to work properly, you need several things (some of them pointed out by Opri as well in his/her answer).</p>\n<p>First, you need to configure the <code>spring-boot-maven-plugin</code> to <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-remote\" rel=\"noreferrer\">include the devtools</a> in your application jar (it will be excluded otherwise, by default):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;excludeDevtools&gt;false&lt;/excludeDevtools&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Then, you need to setup a value for the configuration property <code>spring.devtools.remote.secret</code>. This property has to do with the way remote debugging works in Spring Boot Devtools.</p>\n<p>The remote debugging functionality consists of two parts, a client and a server. Basically, the client is a copy of your server code, and it uses the value of the <code>spring.devtools.remote.secret</code> configuration property to authenticate itself against the server.</p>\n<p>This client code should be <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#_running_the_remote_client_application\" rel=\"noreferrer\">run from an IDE</a>, and you attach your IDE debugging process to a local server exposed from that client.</p>\n<p>Every change performed in the client monitored resources, remember, the same as in your server, is pushed to the remote server and it will trigger a restart if necessary.</p>\n<p>As you can see, this functionality is again more appropriate from a development point of view.</p>\n<p>If you need to actually restart your application by overwriting your jar application file, maybe a better approach will be to configure your docker container to run a shell script in your <code>ENTRYPOINT</code> or <code>CMD</code>. This shell script will monitor a copy of your jar, in a certain directory. If that resource changes, as a consequence of your <code>docker cp</code>, this shell script will stop the current running application version - this application is supposed to run from a different location to avoid problems when updating the jar -, replace the current jar with the new one, and then start the new application version. Not the same, but please, consider read <a href=\"https://stackoverflow.com/questions/4002462/how-can-i-write-a-java-application-that-can-update-itself-at-runtime\">this related SO answer</a>.</p>\n<p>In any case, when you run an application in a container, you are trying to provide a consistent and platform independent way of deployment for it. From this perspective, instead of monitoring changes in your docker container, a more convenient approach may be to generate and to deploy a new version of your container image with those new changes. This process can be automated greatly using tools like Jenkins, Travis, etcetera. These tools allow you to define CI/CD pipelines that, in response to a code commit, for example, can generate on the fly a docker image with your code and, it configured accordingly, deploy later this image to services like some docker flavor or Kubernetes, on premises or in the cloud. Some of them, especially Kubernetes, but <a href=\"https://docs.docker.com/engine/swarm/swarm-tutorial/rolling-update/\" rel=\"noreferrer\">swarm</a> an even <a href=\"https://stackoverflow.com/questions/49090395/how-to-achieve-a-rolling-update-with-docker-compose\">docker compose</a> as well, will allow you to perform rolling updates without or with minimal application service interruption.</p>\n<p>To conclude, probably it will not fit your needs, but be aware that you can use <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready\" rel=\"noreferrer\"><code>spring-boot-starter-actuator</code></a> directly or with <a href=\"https://github.com/codecentric/spring-boot-admin\" rel=\"noreferrer\">Spring Boot Admin</a>, for instance, to restart your application.</p>\n<p>Finally, as already indicated in the Spring Boot Devtools documentation, you can try a different option, not based on restart but in application reload, in hot swapping. This functionality is offered by commercial products like <a href=\"https://www.jrebel.com/products/jrebel\" rel=\"noreferrer\">JRebel</a> although there are some open sources alternatives as well, mainly <a href=\"https://dcevm.github.io\" rel=\"noreferrer\">dcevm</a> and the <a href=\"https://github.com/HotswapProjects/HotswapAgent\" rel=\"noreferrer\">HotswapAgent</a>. <a href=\"https://dzone.com/articles/hot-swap-java-bytecode-on-runtime\" rel=\"noreferrer\">This related article</a> provides some insight in how these last two products work. <a href=\"https://github.com/HotswapProjects/hotswap-docklands\" rel=\"noreferrer\">This Github project</a> provides complementary information about how to run it in docker containers.</p>\n"},{"tags":[],"owner":{"account_id":7708267,"reputation":97,"user_id":5838539,"display_name":"Sagar Kale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619877833,"creation_date":1619877833,"answer_id":67347133,"question_id":67194033,"body_markdown":"In order to restart app with devtools you need to make sure following things.\r\n\r\n 1. Use any IDE or Build tools like maven gradle to start app\r\n 2. Using java -jar devtools will not work as it packages app.\r\n 3. Using maven you can run app like mvn spring-boot:run\r\n\r\n[Refer official documentation for more details.][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart","title":"spring-boot-devtools Automatic Restart not working","body":"<p>In order to restart app with devtools you need to make sure following things.</p>\n<ol>\n<li>Use any IDE or Build tools like maven gradle to start app</li>\n<li>Using java -jar devtools will not work as it packages app.</li>\n<li>Using maven you can run app like mvn spring-boot:run</li>\n</ol>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart\" rel=\"nofollow noreferrer\">Refer official documentation for more details.</a></p>\n"},{"tags":[],"owner":{"account_id":3392533,"reputation":165,"user_id":2847059,"display_name":"Mahboob Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671699983,"creation_date":1671699983,"answer_id":74886284,"question_id":67194033,"body_markdown":"I had similar issue after using dependency also spring boot was not picking up devtools configuration so I did following steps in eclipse.\r\n\r\n01. installed eclipse (assuming you have already installed)\r\n02. installed sts plugin from eclipse market (since i am eclipse generic version lover so prefer generic eclipse on top of that i installed sts plugin)\r\n03. project --&gt; build automatically\r\n04. debug as --&gt; spring boot application\r\n05. done.\r\n","title":"spring-boot-devtools Automatic Restart not working","body":"<p>I had similar issue after using dependency also spring boot was not picking up devtools configuration so I did following steps in eclipse.</p>\n<ol>\n<li>installed eclipse (assuming you have already installed)</li>\n<li>installed sts plugin from eclipse market (since i am eclipse generic version lover so prefer generic eclipse on top of that i installed sts plugin)</li>\n<li>project --&gt; build automatically</li>\n<li>debug as --&gt; spring boot application</li>\n<li>done.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12319403,"reputation":91,"user_id":8989054,"display_name":"Omkar Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688988766,"creation_date":1688988766,"answer_id":76653313,"question_id":67194033,"body_markdown":"**If you are using IntelliJ try below option**\r\n\r\n1)  Make sure you have updated pom.xml with dev dependency\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n2) Go to Settings in Intellij click on Build,Execution, Deployment\r\n\r\n3) Click on Compiler\r\n\r\n4) Now click on Build Project Automatically \r\n[![enter image description here][1]][1]\r\n\r\n\r\n5)After this click on Advanced Settings and enable auto-make start\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/koEXK.png\r\n  [2]: https://i.stack.imgur.com/03WxR.png\r\n\r\n6) Lastly stop the server and restart it, you will see the change","title":"spring-boot-devtools Automatic Restart not working","body":"<p><strong>If you are using IntelliJ try below option</strong></p>\n<ol>\n<li><p>Make sure you have updated pom.xml with dev dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Go to Settings in Intellij click on Build,Execution, Deployment</p>\n</li>\n<li><p>Click on Compiler</p>\n</li>\n<li><p>Now click on Build Project Automatically\n<a href=\"https://i.stack.imgur.com/koEXK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/koEXK.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>5)After this click on Advanced Settings and enable auto-make start</p>\n<p><a href=\"https://i.stack.imgur.com/03WxR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/03WxR.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"6\">\n<li>Lastly stop the server and restart it, you will see the change</li>\n</ol>\n"}],"owner":{"account_id":208333,"reputation":32350,"user_id":458742,"accept_rate":69,"display_name":"spraff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8418,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1688988766,"creation_date":1619000993,"question_id":67194033,"body_markdown":"I have a working Spring Boot 2.25 application built with mvn. As per [this documentation](https://docs.spring.io/spring-boot/docs/2.1.5.RELEASE/reference/html/using-boot-devtools.html) I add \r\n\r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nFrom the documentation:\r\n\r\n&gt; As DevTools monitors classpath resources, the only way to trigger a restart is to update the classpath. The way in which you cause the classpath to be updated depends on the IDE that you are using. In Eclipse, saving a modified file causes the classpath to be updated and triggers a restart. In IntelliJ IDEA, building the project (Build -&gt; Build Project) has the same effect.\r\n\r\nWith the application running I tried a simple\r\n\r\n    touch /path/to/app.jar\r\n\r\nexpecting the application to restart but nothing happened.\r\n\r\nOkay, so maybe it&#39;s doing something smarter. I modified some source .java, recompiled the .jar, and `cp`&#39;d it to replace the running .jar file and... nothing happened.\r\n\r\nAlso from the documentation\r\n\r\n&gt; DevTools relies on the application contexts shutdown hook to close it during a restart. It does not work correctly if you have disabled the shutdown hook (SpringApplication.setRegisterShutdownHook(false)).\r\n\r\nI am not doing this.\r\n\r\n&gt; DevTools needs to customize the ResourceLoader used by the ApplicationContext. If your application provides one already, it is going to be wrapped. Direct override of the getResource method on the ApplicationContext is not supported.\r\n\r\nI am not doing this.\r\n\r\nI am running this in a Docker container, if that matters. From the documentation:\r\n\r\n&gt; Developer tools are automatically disabled when running a fully packaged application. If your application is launched from java -jar or if it is started from a special classloader, then it is considered a production application. If that does not apply to you (i.e. if you run your application from a container), consider excluding devtools or set the -Dspring.devtools.restart.enabled=false system property.\r\n\r\nI don&#39;t understand what this means or if it is relevant.\r\n\r\nI want to recompile a .jar and replace it in the running docker container and trigger and application restart without restarting the container. How can I do this?\r\n\r\nEDIT: I am using `mvn` to rebuild the jar, then `docker cp` to replace it in the running container. (IntelliJ IDEA claims to rebuild the project, but the jar files are actually *not* touched, but that&#39;s another story.) I am looking for a non-IDE-specific solution.","title":"spring-boot-devtools Automatic Restart not working","body":"<p>I have a working Spring Boot 2.25 application built with mvn. As per <a href=\"https://docs.spring.io/spring-boot/docs/2.1.5.RELEASE/reference/html/using-boot-devtools.html\" rel=\"nofollow noreferrer\">this documentation</a> I add</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>From the documentation:</p>\n<blockquote>\n<p>As DevTools monitors classpath resources, the only way to trigger a restart is to update the classpath. The way in which you cause the classpath to be updated depends on the IDE that you are using. In Eclipse, saving a modified file causes the classpath to be updated and triggers a restart. In IntelliJ IDEA, building the project (Build -&gt; Build Project) has the same effect.</p>\n</blockquote>\n<p>With the application running I tried a simple</p>\n<pre><code>touch /path/to/app.jar\n</code></pre>\n<p>expecting the application to restart but nothing happened.</p>\n<p>Okay, so maybe it's doing something smarter. I modified some source .java, recompiled the .jar, and <code>cp</code>'d it to replace the running .jar file and... nothing happened.</p>\n<p>Also from the documentation</p>\n<blockquote>\n<p>DevTools relies on the application contexts shutdown hook to close it during a restart. It does not work correctly if you have disabled the shutdown hook (SpringApplication.setRegisterShutdownHook(false)).</p>\n</blockquote>\n<p>I am not doing this.</p>\n<blockquote>\n<p>DevTools needs to customize the ResourceLoader used by the ApplicationContext. If your application provides one already, it is going to be wrapped. Direct override of the getResource method on the ApplicationContext is not supported.</p>\n</blockquote>\n<p>I am not doing this.</p>\n<p>I am running this in a Docker container, if that matters. From the documentation:</p>\n<blockquote>\n<p>Developer tools are automatically disabled when running a fully packaged application. If your application is launched from java -jar or if it is started from a special classloader, then it is considered a production application. If that does not apply to you (i.e. if you run your application from a container), consider excluding devtools or set the -Dspring.devtools.restart.enabled=false system property.</p>\n</blockquote>\n<p>I don't understand what this means or if it is relevant.</p>\n<p>I want to recompile a .jar and replace it in the running docker container and trigger and application restart without restarting the container. How can I do this?</p>\n<p>EDIT: I am using <code>mvn</code> to rebuild the jar, then <code>docker cp</code> to replace it in the running container. (IntelliJ IDEA claims to rebuild the project, but the jar files are actually <em>not</em> touched, but that's another story.) I am looking for a non-IDE-specific solution.</p>\n"},{"tags":["java","database","oracle","liquibase"],"owner":{"account_id":16882330,"reputation":327,"user_id":12208032,"display_name":"RoshiDil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688988696,"creation_date":1688988696,"question_id":76653303,"body_markdown":"I am running a Liquibase migration on my project. But it gives the below error.\r\n\r\n    Liquibase update Failed: Invalid Migration File: java.lang.RuntimeException: Property &#39;forIndexName&#39; not found on object type liquibase.change.core.AddUniqueConstraintChange\r\n\r\nI tried using liquibase versions 4.3.2 and 4.11.0. Both gave the same error.\r\n\r\nI am using Oracle as the database.\r\n\r\nRemoving this property from the changelog file didn&#39;t work because then it gives the same error for another property in the changelog file.\r\n\r\nPlease give a solution for this.","title":"Liquibase update Failed due to Property &#39;forIndexName&#39; not found on object type liquibase.change.core.AddUniqueConstraintChange","body":"<p>I am running a Liquibase migration on my project. But it gives the below error.</p>\n<pre><code>Liquibase update Failed: Invalid Migration File: java.lang.RuntimeException: Property 'forIndexName' not found on object type liquibase.change.core.AddUniqueConstraintChange\n</code></pre>\n<p>I tried using liquibase versions 4.3.2 and 4.11.0. Both gave the same error.</p>\n<p>I am using Oracle as the database.</p>\n<p>Removing this property from the changelog file didn't work because then it gives the same error for another property in the changelog file.</p>\n<p>Please give a solution for this.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688798125,"post_id":76641668,"comment_id":135124881,"body_markdown":"Implement java.awt.event.ActionEvent on your window class and (write) override the method &quot;public void actionPerformed(ActionEvent e)&quot; then notify the button has an event  using the method buttonid.addActionListener(this)","body":"Implement java.awt.event.ActionEvent on your window class and (write) override the method &quot;public void actionPerformed(ActionEvent e)&quot; then notify the button has an event  using the method buttonid.addActionListener(this)"}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688832657,"post_id":76641732,"comment_id":135128358,"body_markdown":"`addActionListener` is a method, it does not contain other methods, you cannot override a method of it - maybe you meant override/implement the `actionPerformed` method of `ActionListener`","body":"<code>addActionListener</code> is a method, it does not contain other methods, you cannot override a method of it - maybe you meant override/implement the <code>actionPerformed</code> method of <code>ActionListener</code>"}],"tags":[],"owner":{"account_id":23100792,"reputation":16,"user_id":17210223,"display_name":"Faizan Khan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688988696,"creation_date":1688799379,"answer_id":76641732,"question_id":76641668,"body_markdown":"You would override the `actionPerformed` in `addActionListener` method for this. Example from [this solution](https://stackoverflow.com/a/32315816/17210223):\r\n\r\n```java\r\n@Override\r\npublic void actionPerformed(ActionEvent e) {\r\n    // the source here refers to the object that provoked this method to occur\r\n    JButton sourceBtn = (JButton) e.getSource();\r\n    sourceBtn.setBackground(Color.RED);\r\n}\r\n```\r\nYou might want to read Oracle&#39;s [documentation](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html) on this, which will strengthen your understanding here.\r\n\r\nThanks to [user16320675](https://stackoverflow.com/users/16320675/user16320675) for correcting me on my phrasing.","title":"How do I change colour of a java swing button on click via a lambda function","body":"<p>You would override the <code>actionPerformed</code> in <code>addActionListener</code> method for this. Example from <a href=\"https://stackoverflow.com/a/32315816/17210223\">this solution</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void actionPerformed(ActionEvent e) {\n    // the source here refers to the object that provoked this method to occur\n    JButton sourceBtn = (JButton) e.getSource();\n    sourceBtn.setBackground(Color.RED);\n}\n</code></pre>\n<p>You might want to read Oracle's <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">documentation</a> on this, which will strengthen your understanding here.</p>\n<p>Thanks to <a href=\"https://stackoverflow.com/users/16320675/user16320675\">user16320675</a> for correcting me on my phrasing.</p>\n"}],"owner":{"account_id":28860519,"reputation":1,"user_id":22104420,"display_name":"BigBlueWhale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76641732,"answer_count":1,"score":0,"last_activity_date":1688988696,"creation_date":1688797684,"question_id":76641668,"body_markdown":"So I have just got into java swing and cannot find how I would change the colour within a lambda function, I imagine it will have something to do with getting the source or maybe even just making the button variable at the top of the class so I can access it from anywhere in the code.\r\n\r\nHere is my window class:\r\n\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class window {\r\n    JFrame frame;\r\n    window(String title){\r\n        this.frame = new JFrame(title);\r\n        JButton button = new JButton(&quot;Text&quot;);\r\n        button.addActionListener(x-&gt; System.out.println(x.getSource()));\r\n        this.frame.setSize(550,550);\r\n        button.setBounds(550/2-75,550/2-75,150,50);\r\n\r\n        this.frame.add(button);\r\n        this.frame.setLayout(null);\r\n        this.frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nand my main class:\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        window win = new window(&quot;Hi&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI would like for the button to change colour on click.","title":"How do I change colour of a java swing button on click via a lambda function","body":"<p>So I have just got into java swing and cannot find how I would change the colour within a lambda function, I imagine it will have something to do with getting the source or maybe even just making the button variable at the top of the class so I can access it from anywhere in the code.</p>\n<p>Here is my window class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class window {\n    JFrame frame;\n    window(String title){\n        this.frame = new JFrame(title);\n        JButton button = new JButton(&quot;Text&quot;);\n        button.addActionListener(x-&gt; System.out.println(x.getSource()));\n        this.frame.setSize(550,550);\n        button.setBounds(550/2-75,550/2-75,150,50);\n\n        this.frame.add(button);\n        this.frame.setLayout(null);\n        this.frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>and my main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        window win = new window(&quot;Hi&quot;);\n    }\n}\n</code></pre>\n<p>I would like for the button to change colour on click.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7849,"page":319,"page_size":100}
