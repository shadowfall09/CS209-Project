{"items":[{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1653698403,"post_id":72412103,"comment_id":127921674,"body_markdown":"Please add the source for `SuspectService`.","body":"Please add the source for <code>SuspectService</code>."},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1653698499,"post_id":72412103,"comment_id":127921692,"body_markdown":"And `SuspectController`  as well, please","body":"And <code>SuspectController</code>  as well, please"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653809549,"post_id":72412103,"comment_id":127938145,"body_markdown":"I don&#39;t know how your Model class works, and you haven&#39;t included the full stack trace of the error, but in `NewObject` you pass a `Suspect` to `model.addAttribute(&quot;suspect&quot;, new Suspect())` and in `showById` you pass an Optional&lt;Suspect&gt;`: `model.addAttribute(&quot;suspect&quot;, SuspectService.getById(Long.valueOf(id)));`. I suppose one of those is wrong?","body":"I don&#39;t know how your Model class works, and you haven&#39;t included the full stack trace of the error, but in <code>NewObject</code> you pass a <code>Suspect</code> to <code>model.addAttribute(&quot;suspect&quot;, new Suspect())</code> and in <code>showById</code> you pass an Optional&lt;Suspect&gt;<code>: </code>model.addAttribute(&quot;suspect&quot;, SuspectService.getById(Long.valueOf(id)));`. I suppose one of those is wrong?"}],"owner":{"account_id":18246761,"reputation":41,"user_id":13282704,"display_name":"Ariana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653698759,"creation_date":1653697413,"question_id":72412103,"body_markdown":"I&#39;m trying to do an Unit test, but I receive the error &#39;cannot resolve the method thenReturn(suspectTest) ; wrap using java.Optional&#39;, but when I do (.thenReturn(Optional.of(suspectTest)), the test fails - &#39;Optional cannot be cast to class Suspect&#39;. Here it is the test, the SuspectService and the SuspectController (edited post*). Thank you in advance!\r\n\r\n```\r\n@DataJpaTest\r\npublic class ControllerTest {\r\n    @Mock\r\n    Model model;\r\n    @Mock\r\n    SuspectService suspectService;\r\n    SuspectController suspectController;\r\n\r\n    @Rule\r\n    public MockitoRule rule = MockitoJUnit.rule();\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        suspectController = new SuspectController(suspectService);\r\n    }\r\n\r\n    @Captor\r\n    ArgumentCaptor&lt;Suspect&gt; argumentCaptor;\r\n\r\n\r\n    @Test\r\n    public void showById() {\r\n        Integer id = 1;\r\n        Suspect suspectTest = new Suspect();\r\n        suspectTest.setId(Long.valueOf(id));\r\n\r\n        when(suspectService.getById(Long.valueOf(id))).thenReturn(Optional.of(suspectTest));\r\n\r\n        String viewName = suspectController.showById(id.toString(), model);\r\n        Assert.assertEquals(&quot;info&quot;, viewName);\r\n        verify(suspectService, times(1)).getById(Long.valueOf(id));\r\n\r\n        verify(model, times(1))\r\n                .addAttribute(eq(&quot;suspect&quot;), argumentCaptor.capture() );\r\n\r\n        Suspect suspectArg = argumentCaptor.getValue();\r\n        Assert.assertEquals(suspectArg.getId(), suspectTest.getId() );\r\n\r\n    }\r\n}\r\n\r\n\r\n@Service\r\npublic class SuspectService implements BaseService&lt;Suspect&gt; {\r\n    private final com.unibuc.AWBD_Project_v1.repositories.SuspectRepository suspectRepository;\r\n\r\n    @Autowired\r\n    public SuspectService(SuspectRepository SuspectRepository) {\r\n        this.suspectRepository = SuspectRepository;\r\n    }\r\n\r\n    @Override\r\n    public Suspect insert(Suspect object) {\r\n        return suspectRepository.save(object);\r\n    }\r\n\r\n    @Override\r\n    public Suspect update(Long id, Suspect updatedObject) {\r\n        var foundId =  suspectRepository.findById(id);\r\n\r\n        return foundId.map(suspectRepository::save).orElse(null);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Suspect&gt; getAll() {\r\n        return suspectRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;Suspect&gt; getById(Long id) {\r\n        return suspectRepository.findById(id);\r\n    }\r\n\r\n    @Override\r\n    public void deleteById(Long id)\r\n    {\r\n        try {\r\n            suspectRepository.deleteById(id);\r\n        } catch (SuspectException e) {\r\n            throw  new SuspectException(&quot;Suspect not found&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Page&lt;Suspect&gt; findAll(int page, int size, String sortBy, String sortType){\r\n        Sort sort = sortType.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortBy).ascending() :\r\n                Sort.by(sortBy).descending();\r\n        Pageable pageable = PageRequest.of(page - 1, size, sort);\r\n        return  suspectRepository.findAll(pageable);\r\n    }\r\n\r\n}\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/suspect&quot;)\r\npublic class SuspectController implements BaseController&lt;Suspect&gt; {\r\n    private final com.unibuc.AWBD_Project_v1.services.SuspectService SuspectService;\r\n\r\n    @Autowired\r\n    public SuspectController(SuspectService SuspectService) {\r\n        this.SuspectService = SuspectService;\r\n    }\r\n\r\n    @PostMapping(&quot;/suspects/add&quot;)\r\n    @Override\r\n    public String NewObject(Model model) {\r\n\r\n        model.addAttribute(&quot;suspect&quot;, new Suspect());\r\n        return &quot;addsuspect&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/suspects/update/{id}&quot;)\r\n    @Override\r\n    public String update(@PathVariable Long id, @Valid @ModelAttribute(&quot;suspect&quot;) Suspect suspect, BindingResult bindingResult, Model model) {\r\n        if(bindingResult.hasErrors())\r\n        {\r\n            boolean update = true;\r\n            model.addAttribute(&quot;update&quot;, update);\r\n            return &quot;addsuspect&quot;;\r\n        }\r\n        SuspectService.insert(suspect);\r\n        return &quot;redirect:/suspects&quot;;\r\n    }\r\n\r\n    @DeleteMapping(&quot;/suspects/delete/{id}&quot;)\r\n    @Override\r\n    public String deleteById(@PathVariable Long id) {\r\n        try {\r\n            SuspectService.deleteById(id);\r\n        } catch (SuspectException e)\r\n        {\r\n            throw new SuspectException(&quot;Suspect with &quot; + id + &quot; does not exist!&quot;);\r\n        }\r\n        return &quot;redirect:/suspects&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/suspect/{id}&quot;)\r\n    public String showById(@PathVariable String id, Model model){\r\n        model.addAttribute(&quot;suspect&quot;,\r\n                SuspectService.getById(Long.valueOf(id)));\r\n        return &quot;info&quot;;\r\n    }\r\n\r\n\r\n    @RequestMapping(&quot;/suspects&quot;)\r\n    public String objectsList(@RequestParam(value = &quot;page&quot;, required = false) Integer page,\r\n                              @RequestParam(value = &quot;sortBy&quot;, required = false) String sortBy,\r\n                              @RequestParam(value = &quot;sortType&quot;, required = false) String sortType, Model model) {\r\n        int size = 5;\r\n        if (page == null)\r\n            page = 1;\r\n        if(sortBy==null)\r\n            sortBy =&quot;name&quot;;\r\n        if(sortType==null)\r\n            sortType =&quot;asc&quot;;\r\n        Page&lt;Suspect&gt; pageSuspect = SuspectService.findAll(page, size, sortBy, sortType);\r\n        List&lt;Suspect&gt; suspects = pageSuspect.getContent();\r\n\r\n        model.addAttribute(&quot;currentPage&quot;, page);\r\n        model.addAttribute(&quot;totalPages&quot;, pageSuspect.getTotalPages());\r\n        model.addAttribute(&quot;totalItems&quot;, pageSuspect.getTotalElements());\r\n\r\n        model.addAttribute(&quot;sortBy&quot;, sortBy);\r\n        model.addAttribute(&quot;sortType&quot;, sortType);\r\n        model.addAttribute(&quot;reverseSortDir&quot;, sortType.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;);\r\n        model.addAttribute(&quot;suspects&quot;, suspects);\r\n        var suspect = new Suspect();\r\n        model.addAttribute(&quot;suspect&quot;, suspect);\r\n        return &quot;suspects&quot;;\r\n    }\r\n\r\n\r\n}\r\n\r\n```","title":"thenReturn() wants Optional, but test fails","body":"<p>I'm trying to do an Unit test, but I receive the error 'cannot resolve the method thenReturn(suspectTest) ; wrap using java.Optional', but when I do (.thenReturn(Optional.of(suspectTest)), the test fails - 'Optional cannot be cast to class Suspect'. Here it is the test, the SuspectService and the SuspectController (edited post*). Thank you in advance!</p>\n<pre><code>@DataJpaTest\npublic class ControllerTest {\n    @Mock\n    Model model;\n    @Mock\n    SuspectService suspectService;\n    SuspectController suspectController;\n\n    @Rule\n    public MockitoRule rule = MockitoJUnit.rule();\n\n    @Before\n    public void setUp() throws Exception {\n        suspectController = new SuspectController(suspectService);\n    }\n\n    @Captor\n    ArgumentCaptor&lt;Suspect&gt; argumentCaptor;\n\n\n    @Test\n    public void showById() {\n        Integer id = 1;\n        Suspect suspectTest = new Suspect();\n        suspectTest.setId(Long.valueOf(id));\n\n        when(suspectService.getById(Long.valueOf(id))).thenReturn(Optional.of(suspectTest));\n\n        String viewName = suspectController.showById(id.toString(), model);\n        Assert.assertEquals(&quot;info&quot;, viewName);\n        verify(suspectService, times(1)).getById(Long.valueOf(id));\n\n        verify(model, times(1))\n                .addAttribute(eq(&quot;suspect&quot;), argumentCaptor.capture() );\n\n        Suspect suspectArg = argumentCaptor.getValue();\n        Assert.assertEquals(suspectArg.getId(), suspectTest.getId() );\n\n    }\n}\n\n\n@Service\npublic class SuspectService implements BaseService&lt;Suspect&gt; {\n    private final com.unibuc.AWBD_Project_v1.repositories.SuspectRepository suspectRepository;\n\n    @Autowired\n    public SuspectService(SuspectRepository SuspectRepository) {\n        this.suspectRepository = SuspectRepository;\n    }\n\n    @Override\n    public Suspect insert(Suspect object) {\n        return suspectRepository.save(object);\n    }\n\n    @Override\n    public Suspect update(Long id, Suspect updatedObject) {\n        var foundId =  suspectRepository.findById(id);\n\n        return foundId.map(suspectRepository::save).orElse(null);\n    }\n\n    @Override\n    public List&lt;Suspect&gt; getAll() {\n        return suspectRepository.findAll();\n    }\n\n    @Override\n    public Optional&lt;Suspect&gt; getById(Long id) {\n        return suspectRepository.findById(id);\n    }\n\n    @Override\n    public void deleteById(Long id)\n    {\n        try {\n            suspectRepository.deleteById(id);\n        } catch (SuspectException e) {\n            throw  new SuspectException(&quot;Suspect not found&quot;);\n        }\n    }\n\n    @Override\n    public Page&lt;Suspect&gt; findAll(int page, int size, String sortBy, String sortType){\n        Sort sort = sortType.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortBy).ascending() :\n                Sort.by(sortBy).descending();\n        Pageable pageable = PageRequest.of(page - 1, size, sort);\n        return  suspectRepository.findAll(pageable);\n    }\n\n}\n\n\n@RestController\n@RequestMapping(&quot;/api/suspect&quot;)\npublic class SuspectController implements BaseController&lt;Suspect&gt; {\n    private final com.unibuc.AWBD_Project_v1.services.SuspectService SuspectService;\n\n    @Autowired\n    public SuspectController(SuspectService SuspectService) {\n        this.SuspectService = SuspectService;\n    }\n\n    @PostMapping(&quot;/suspects/add&quot;)\n    @Override\n    public String NewObject(Model model) {\n\n        model.addAttribute(&quot;suspect&quot;, new Suspect());\n        return &quot;addsuspect&quot;;\n    }\n\n    @PostMapping(&quot;/suspects/update/{id}&quot;)\n    @Override\n    public String update(@PathVariable Long id, @Valid @ModelAttribute(&quot;suspect&quot;) Suspect suspect, BindingResult bindingResult, Model model) {\n        if(bindingResult.hasErrors())\n        {\n            boolean update = true;\n            model.addAttribute(&quot;update&quot;, update);\n            return &quot;addsuspect&quot;;\n        }\n        SuspectService.insert(suspect);\n        return &quot;redirect:/suspects&quot;;\n    }\n\n    @DeleteMapping(&quot;/suspects/delete/{id}&quot;)\n    @Override\n    public String deleteById(@PathVariable Long id) {\n        try {\n            SuspectService.deleteById(id);\n        } catch (SuspectException e)\n        {\n            throw new SuspectException(&quot;Suspect with &quot; + id + &quot; does not exist!&quot;);\n        }\n        return &quot;redirect:/suspects&quot;;\n    }\n\n    @GetMapping(&quot;/suspect/{id}&quot;)\n    public String showById(@PathVariable String id, Model model){\n        model.addAttribute(&quot;suspect&quot;,\n                SuspectService.getById(Long.valueOf(id)));\n        return &quot;info&quot;;\n    }\n\n\n    @RequestMapping(&quot;/suspects&quot;)\n    public String objectsList(@RequestParam(value = &quot;page&quot;, required = false) Integer page,\n                              @RequestParam(value = &quot;sortBy&quot;, required = false) String sortBy,\n                              @RequestParam(value = &quot;sortType&quot;, required = false) String sortType, Model model) {\n        int size = 5;\n        if (page == null)\n            page = 1;\n        if(sortBy==null)\n            sortBy =&quot;name&quot;;\n        if(sortType==null)\n            sortType =&quot;asc&quot;;\n        Page&lt;Suspect&gt; pageSuspect = SuspectService.findAll(page, size, sortBy, sortType);\n        List&lt;Suspect&gt; suspects = pageSuspect.getContent();\n\n        model.addAttribute(&quot;currentPage&quot;, page);\n        model.addAttribute(&quot;totalPages&quot;, pageSuspect.getTotalPages());\n        model.addAttribute(&quot;totalItems&quot;, pageSuspect.getTotalElements());\n\n        model.addAttribute(&quot;sortBy&quot;, sortBy);\n        model.addAttribute(&quot;sortType&quot;, sortType);\n        model.addAttribute(&quot;reverseSortDir&quot;, sortType.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;);\n        model.addAttribute(&quot;suspects&quot;, suspects);\n        var suspect = new Suspect();\n        model.addAttribute(&quot;suspect&quot;, suspect);\n        return &quot;suspects&quot;;\n    }\n\n\n}\n\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1653685312,"post_id":72411022,"comment_id":127919487,"body_markdown":"what does `disconnect()` do? does it call some service so that you can provide a mock and verify a specific method from the mock has been called?","body":"what does <code>disconnect()</code> do? does it call some service so that you can provide a mock and verify a specific method from the mock has been called?"},{"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"score":0,"creation_date":1653686410,"post_id":72411022,"comment_id":127919755,"body_markdown":"move out verify() from lambda to test()","body":"move out verify() from lambda to test()"}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653697316,"creation_date":1653697316,"answer_id":72412098,"question_id":72411022,"body_markdown":"Move `verify(myService, times(1)).expireTokens(any())` out of the `Assert.assertThrows` function context.\r\n&lt;br&gt;`Assert.assertThrows` equal next construction:\r\n```java\r\n        try {\r\n              //run exceptional operation\r\n              service.myFunction(business);\r\n              //code after exceptional operation will not be executed\r\n              verify(myService, times(1)).expireTokens(any());\r\n        } catch (Throwable actualThrown) {\r\n            if (expectedThrowable.isInstance(actualThrown)) {\r\n                return actualThrown;                \r\n            } else {\r\n                throw new AssertionError();\r\n            }\r\n        }\r\n```\r\nSo the code defined after the exceptional function will not be executed because of raised exception. This is the reason of the incorrect test behavior.\r\n&lt;br&gt;Example of the correct test implementation:\r\n```java\r\n    @Test\r\n    public void test() {\r\n        MyService myService = mock(MyService.class);\r\n        TestService testService = new TestService(myService);\r\n        Business business = new Business();\r\n\r\n        Assert.assertThrows(Exception.class, () -&gt; {\r\n            testService.myFunction(business);\r\n        });\r\n\r\n        verify(myService, times(1)).expireTokens(any());\r\n    }\r\n\r\npublic class TestService {\r\n\r\n    private MyService myService;\r\n\r\n    public TestService(MyService myService) {\r\n        this.myService = myService;\r\n    }\r\n\r\n    public void myFunction(Business business) throws Exception {\r\n        if(business != null) {\r\n            disconnect(business);\r\n            throw new Exception(&quot;message&quot;);\r\n        }\r\n    }\r\n\r\n    public void disconnect(Business business) {\r\n        myService.expireTokens(business);\r\n    }\r\n}\r\n\r\npublic class MyService {\r\n    public void expireTokens(Business business) {\r\n    }\r\n}\r\n```","title":"Mockito - verify condition inside a method that is supposed to throw error","body":"<p>Move <code>verify(myService, times(1)).expireTokens(any())</code> out of the <code>Assert.assertThrows</code> function context.\n<br><code>Assert.assertThrows</code> equal next construction:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        try {\n              //run exceptional operation\n              service.myFunction(business);\n              //code after exceptional operation will not be executed\n              verify(myService, times(1)).expireTokens(any());\n        } catch (Throwable actualThrown) {\n            if (expectedThrowable.isInstance(actualThrown)) {\n                return actualThrown;                \n            } else {\n                throw new AssertionError();\n            }\n        }\n</code></pre>\n<p>So the code defined after the exceptional function will not be executed because of raised exception. This is the reason of the incorrect test behavior.\n<br>Example of the correct test implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void test() {\n        MyService myService = mock(MyService.class);\n        TestService testService = new TestService(myService);\n        Business business = new Business();\n\n        Assert.assertThrows(Exception.class, () -&gt; {\n            testService.myFunction(business);\n        });\n\n        verify(myService, times(1)).expireTokens(any());\n    }\n\npublic class TestService {\n\n    private MyService myService;\n\n    public TestService(MyService myService) {\n        this.myService = myService;\n    }\n\n    public void myFunction(Business business) throws Exception {\n        if(business != null) {\n            disconnect(business);\n            throw new Exception(&quot;message&quot;);\n        }\n    }\n\n    public void disconnect(Business business) {\n        myService.expireTokens(business);\n    }\n}\n\npublic class MyService {\n    public void expireTokens(Business business) {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":144187,"reputation":7338,"user_id":353046,"accept_rate":47,"display_name":"Mankind1023"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653697316,"creation_date":1653685171,"question_id":72411022,"body_markdown":"I have the following code that I&#39;m trying to test:\r\n\r\n**class foo:**\r\n\r\n    public void myFunction(Business business) {\r\n      ...\r\n      if(someCondition) {\r\n        disconnect(business);\r\n        throw exception(&quot;message&quot;);\r\n      }\r\n    }\r\n    \r\n    public void disconnect(Business business) {\r\n      ...\r\n      myService.expireTokens(business);\r\n      ...\r\n    }\r\n\r\n**foo test:**\r\n\r\n    @Test\r\n    public void test(){\r\n      Assert.assertThrows(Exception.class, () -&gt; {\r\n        service.myFunction(business);\r\n        verify(myService, times(1)).expireTokens(any());\r\n      });\r\n    }\r\n\r\nSo the problem above is that I can comment out the **disconnect()** in my if clause and the assertThrows would &#39;catch&#39; the erorr / pass the test, and if the normal flow goes through, it would still throw the expected error and pass, how can I test the nested disconnect actually went through before throwing?","title":"Mockito - verify condition inside a method that is supposed to throw error","body":"<p>I have the following code that I'm trying to test:</p>\n<p><strong>class foo:</strong></p>\n<pre><code>public void myFunction(Business business) {\n  ...\n  if(someCondition) {\n    disconnect(business);\n    throw exception(&quot;message&quot;);\n  }\n}\n\npublic void disconnect(Business business) {\n  ...\n  myService.expireTokens(business);\n  ...\n}\n</code></pre>\n<p><strong>foo test:</strong></p>\n<pre><code>@Test\npublic void test(){\n  Assert.assertThrows(Exception.class, () -&gt; {\n    service.myFunction(business);\n    verify(myService, times(1)).expireTokens(any());\n  });\n}\n</code></pre>\n<p>So the problem above is that I can comment out the <strong>disconnect()</strong> in my if clause and the assertThrows would 'catch' the erorr / pass the test, and if the normal flow goes through, it would still throw the expected error and pass, how can I test the nested disconnect actually went through before throwing?</p>\n"},{"tags":["java","spring-boot","jakarta-ee","weblogic","microprofile"],"comments":[{"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"score":1,"creation_date":1653798390,"post_id":72412081,"comment_id":127936803,"body_markdown":"You can run a spring boot application in weblogic by packaging it as a war file. (I do this frequently).","body":"You can run a spring boot application in weblogic by packaging it as a war file. (I do this frequently)."},{"owner":{"account_id":6298162,"reputation":178,"user_id":4893618,"display_name":"bobs_007"},"score":0,"creation_date":1653887064,"post_id":72412081,"comment_id":127952025,"body_markdown":"The application has been written in EJB and pure JEE standards. Moving to microprofile may be easier than spring (I would like to avoid all code changes if I can).","body":"The application has been written in EJB and pure JEE standards. Moving to microprofile may be easier than spring (I would like to avoid all code changes if I can)."},{"owner":{"account_id":6298162,"reputation":178,"user_id":4893618,"display_name":"bobs_007"},"score":0,"creation_date":1653890070,"post_id":72412081,"comment_id":127952593,"body_markdown":"Two build packaging through maven - Ear deploys to Weblogic and executable Jar for micro profile.","body":"Two build packaging through maven - Ear deploys to Weblogic and executable Jar for micro profile."}],"owner":{"account_id":6298162,"reputation":178,"user_id":4893618,"display_name":"bobs_007"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653697091,"creation_date":1653697091,"question_id":72412081,"body_markdown":"Is it possible to run **eclipse Microprofile** running in **WebLogic** like **spring boot**? ","title":"Microprofile running in weblogic like spring boot","body":"<p>Is it possible to run <strong>eclipse Microprofile</strong> running in <strong>WebLogic</strong> like <strong>spring boot</strong>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1391658193,"post_id":21593565,"comment_id":32622424,"body_markdown":"What don&#39;t you understand about the error message? I don&#39;t think it can be any clearer.","body":"What don&#39;t you understand about the error message? I don&#39;t think it can be any clearer."},{"owner":{"account_id":1050089,"reputation":20492,"user_id":1054245,"accept_rate":100,"display_name":"Prince"},"score":0,"creation_date":1391658367,"post_id":21593565,"comment_id":32622474,"body_markdown":"Try removing the `IOException`. Does it give error?","body":"Try removing the <code>IOException</code>. Does it give error?"},{"owner":{"display_name":"user2575725"},"score":0,"creation_date":1391662432,"post_id":21593565,"comment_id":32623740,"body_markdown":"ur code &quot;File f=new File(&quot;D:/abc.txt&quot;);&quot; does not creates a file so there is no need of try-catch block. Now if u add this line: f.createNewFile(); this will create a file without any contents in it and the compilation error will be gone","body":"ur code &quot;File f=new File(&quot;D:/abc.txt&quot;);&quot; does not creates a file so there is no need of try-catch block. Now if u add this line: f.createNewFile(); this will create a file without any contents in it and the compilation error will be gone"}],"answers":[{"tags":[],"owner":{"account_id":3159138,"reputation":33796,"user_id":2670792,"accept_rate":100,"display_name":"Christian Tapia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391658229,"creation_date":1391658229,"answer_id":21593585,"question_id":21593565,"body_markdown":"From [Java Docs][1]:\r\n\r\n&gt; **Throws:**&lt;br&gt;\r\n&gt; NullPointerException - If the pathname argument is null\r\n\r\nWhen you want to see what Exceptions are being thrown by a method (constructor in this case), you can search in Java Docs, or if you are using Eclipse IDE, put cursor over the method, and press &lt;kbd&gt;F2&lt;/kbd&gt;.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html","title":"What exception is thrown while creating a file in java","body":"<p>From <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow\">Java Docs</a>:</p>\n\n<blockquote>\n  <p><strong>Throws:</strong><br>\n  NullPointerException - If the pathname argument is null</p>\n</blockquote>\n\n<p>When you want to see what Exceptions are being thrown by a method (constructor in this case), you can search in Java Docs, or if you are using Eclipse IDE, put cursor over the method, and press <kbd>F2</kbd>.</p>\n"},{"tags":[],"owner":{"account_id":3775268,"reputation":739,"user_id":3136271,"accept_rate":33,"display_name":"SuRu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391658532,"creation_date":1391658532,"answer_id":21593630,"question_id":21593565,"body_markdown":"`IOException` comes when\r\n\r\n&gt; Signals that an I/O exception of some sort has occurred. This class is\r\n&gt; the general class of  exceptions produced by failed or interrupted I/O\r\n&gt; operations.\r\n\r\nin your code you are just creating a file object. It throws a `NullPointerException` if the path is null.\r\n\r\nIf you want to do any operations with that file like read, write etc... it throws `FileNotFoundException` and `IOException`","title":"What exception is thrown while creating a file in java","body":"<p><code>IOException</code> comes when</p>\n\n<blockquote>\n  <p>Signals that an I/O exception of some sort has occurred. This class is\n  the general class of  exceptions produced by failed or interrupted I/O\n  operations.</p>\n</blockquote>\n\n<p>in your code you are just creating a file object. It throws a <code>NullPointerException</code> if the path is null.</p>\n\n<p>If you want to do any operations with that file like read, write etc... it throws <code>FileNotFoundException</code> and <code>IOException</code></p>\n"},{"tags":[],"owner":{"account_id":2108963,"reputation":144,"user_id":1874613,"display_name":"SSB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391661349,"creation_date":1391661349,"answer_id":21594080,"question_id":21593565,"body_markdown":"The error caused because your code block will never throw an IOException.\r\nIOException will be thrown mostly when doing IO operations on files or other sources","title":"What exception is thrown while creating a file in java","body":"<p>The error caused because your code block will never throw an IOException.\nIOException will be thrown mostly when doing IO operations on files or other sources</p>\n"},{"tags":[],"owner":{"account_id":25315395,"reputation":1,"user_id":19137573,"display_name":"Zohaib Munir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653696926,"creation_date":1653689150,"answer_id":72411478,"question_id":21593565,"body_markdown":"**Explanation**\r\n\r\nWhen ever you try to catch checked exception only which will never be thrown by your code in try block then compiler will always give you error of compilation.\r\nIn this case you are not performing any file operation(creation, reading, writing).\r\nSo your code will never throw any io exception which is checked exception.\r\nYou can&#39;t catch that exception which will never be thrown by your try block.\r\n\r\n**How To Fix**\r\n\r\nYou can fix by removing io-exception from catch block then code will compile fine.","title":"What exception is thrown while creating a file in java","body":"<p><strong>Explanation</strong></p>\n<p>When ever you try to catch checked exception only which will never be thrown by your code in try block then compiler will always give you error of compilation.\nIn this case you are not performing any file operation(creation, reading, writing).\nSo your code will never throw any io exception which is checked exception.\nYou can't catch that exception which will never be thrown by your try block.</p>\n<p><strong>How To Fix</strong></p>\n<p>You can fix by removing io-exception from catch block then code will compile fine.</p>\n"}],"owner":{"account_id":2162940,"reputation":125,"user_id":1916693,"accept_rate":50,"display_name":"user1916693"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2873,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1653696926,"creation_date":1391658152,"question_id":21593565,"body_markdown":"    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    public class Filewrite {\r\n\t    public static void main(String args[]) {\r\n\t\t    try{\r\n\t\t\t    String content=&quot;This is my world&quot;;\r\n\t\t\t    File f=new File(&quot;D:/abc.txt&quot;);\r\n\t\t    }catch(IOException i) {\r\n\t\t\t    i.printStackTrace();\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nCompilation of the above code gives an error:\r\n\r\n    IO exception is never thrown by this corresponding try block. \r\n\r\nWhat exception may be thrown while creating a file?","title":"What exception is thrown while creating a file in java","body":"<pre><code>import java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\npublic class Filewrite {\n    public static void main(String args[]) {\n        try{\n            String content=\"This is my world\";\n            File f=new File(\"D:/abc.txt\");\n        }catch(IOException i) {\n            i.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Compilation of the above code gives an error:</p>\n\n<pre><code>IO exception is never thrown by this corresponding try block. \n</code></pre>\n\n<p>What exception may be thrown while creating a file?</p>\n"},{"tags":["java","apache-kafka","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":136699,"reputation":2056,"user_id":340380,"accept_rate":89,"display_name":"Amareswar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653695804,"creation_date":1653695804,"answer_id":72412008,"question_id":71420452,"body_markdown":"yes, your use case can be implemented in flink. RocksDB as a state backend is a good choice.","title":"Apache Flink: Best practice for a pipeline with large state","body":"<p>yes, your use case can be implemented in flink. RocksDB as a state backend is a good choice.</p>\n"}],"owner":{"account_id":1666070,"reputation":15,"user_id":1533434,"display_name":"Voldemort"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653695804,"creation_date":1646898444,"question_id":71420452,"body_markdown":"## Background ##\r\nI want to move a job that running on DB to Flink to make the system works more &quot;real time&quot;.\r\nThis job will re-calculate the &quot;state&quot; of all accounts for each 10 seconds and if this value met some conditions we will notify the user about it. \r\nThe &quot;state&quot; of an account is calculate based on the number of stocks they have and the current price of these stocks.\r\n\r\n## My solution\r\nMy idea is to create a pipeline with these inputs:\r\n- BeginStream: The begin of day data (initial data): The stock price from the last day, the number of stock of each account. The data may read from DB tables or loading from a Kafka topic.\r\n- PriceStream: A Kafka topic with each message contains the price of a stock like this:\r\n{&quot;name&quot;:&quot;stockName&quot;, &quot;price&quot;: currentPrice}\r\n- StockStream: A Kafka topic with each message contains the number of stock that account buy or sell (positive or negative number), like this:\r\n{&quot;account&quot;: accountNumber, &quot;stock&quot;: &quot;stockName&quot;, &quot;quantity&quot;: changingNumber}\r\n\r\nMy solution: Joining BeginStream with StockStream and then joining with PriceStream (all will be keyBy StockName) and for doing calculation for each stock of BeginStream, I&#39;ll create a ListState called stockStates which contains the info about: number of stock and current price.\r\n\r\nFor each event from StockStream and PriceStream, I&#39;ll update the stockStates and then calculate the &quot;state&quot;. And if this value met some conditions, we will send a message to other Kafka topic and remove this account from this ListState\r\n\r\n```\r\nBeginStream\r\n  .keyby(StockName)\r\n  .connect(\r\n      StockStream.\r\n        .keyby(StockName))\r\n  .flatMap(new EnrichmentFucntion())\r\n...\r\n  .connect(\r\n      PriceStream.\r\n        .keyby(StockName))\r\n  .flatMap(new EnrichmentFucntion())\r\n```\r\nThe system contains about 500.000 accounts, 1.000 stocks and each account hold 10-20 stocks, the throughput of PriceStream and StockStream is about 1.000 messages/second. \r\n\r\n## Question\r\nI&#39;m new with Flink and therefore I&#39;m not so sure whether my solution is a good approach ? Are there any design pattern for the similar problems ?\r\nAnd with the number of about 1000 ListState(each list contains state for about 500.000*10/1000=5.000 account) should I use RocksDB for state storing ?\r\n\r\nAny suggestions are greatly appreciated.\r\n","title":"Apache Flink: Best practice for a pipeline with large state","body":"<h2>Background</h2>\n<p>I want to move a job that running on DB to Flink to make the system works more &quot;real time&quot;.\nThis job will re-calculate the &quot;state&quot; of all accounts for each 10 seconds and if this value met some conditions we will notify the user about it.\nThe &quot;state&quot; of an account is calculate based on the number of stocks they have and the current price of these stocks.</p>\n<h2>My solution</h2>\n<p>My idea is to create a pipeline with these inputs:</p>\n<ul>\n<li>BeginStream: The begin of day data (initial data): The stock price from the last day, the number of stock of each account. The data may read from DB tables or loading from a Kafka topic.</li>\n<li>PriceStream: A Kafka topic with each message contains the price of a stock like this:\n{&quot;name&quot;:&quot;stockName&quot;, &quot;price&quot;: currentPrice}</li>\n<li>StockStream: A Kafka topic with each message contains the number of stock that account buy or sell (positive or negative number), like this:\n{&quot;account&quot;: accountNumber, &quot;stock&quot;: &quot;stockName&quot;, &quot;quantity&quot;: changingNumber}</li>\n</ul>\n<p>My solution: Joining BeginStream with StockStream and then joining with PriceStream (all will be keyBy StockName) and for doing calculation for each stock of BeginStream, I'll create a ListState called stockStates which contains the info about: number of stock and current price.</p>\n<p>For each event from StockStream and PriceStream, I'll update the stockStates and then calculate the &quot;state&quot;. And if this value met some conditions, we will send a message to other Kafka topic and remove this account from this ListState</p>\n<pre><code>BeginStream\n  .keyby(StockName)\n  .connect(\n      StockStream.\n        .keyby(StockName))\n  .flatMap(new EnrichmentFucntion())\n...\n  .connect(\n      PriceStream.\n        .keyby(StockName))\n  .flatMap(new EnrichmentFucntion())\n</code></pre>\n<p>The system contains about 500.000 accounts, 1.000 stocks and each account hold 10-20 stocks, the throughput of PriceStream and StockStream is about 1.000 messages/second.</p>\n<h2>Question</h2>\n<p>I'm new with Flink and therefore I'm not so sure whether my solution is a good approach ? Are there any design pattern for the similar problems ?\nAnd with the number of about 1000 ListState(each list contains state for about 500.000*10/1000=5.000 account) should I use RocksDB for state storing ?</p>\n<p>Any suggestions are greatly appreciated.</p>\n"},{"tags":["java","unit-testing","junit","mockito","powermock"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653694877,"creation_date":1653694877,"answer_id":72411948,"question_id":72394231,"body_markdown":"The main difference between `Powermock.whenNew` and `Mockito.mockConstruction` is that `Mokito` creates a new mock each time when the new object is instantiating when constructor is calling. But `Powermock.whenNew` can be configured to return one mock always for the construction of several objects.\r\n&lt;br&gt;According to [documentation][1]:\r\n\r\n&gt; Represents a mock of any object construction of the represented type.\r\n&gt; Within the scope of the mocked construction, the invocation of any\r\n&gt; interceptor will generate a mock which will be prepared as specified\r\n&gt; when generating this scope. The mock can also be received via this\r\n&gt; instance.\r\n\r\nYou can use `MockedConstruction&lt;T&gt;.constructed()` to get all generated mocks in context. They can be used for verification.\r\n\r\nExample of test to check behavior:\r\n```java\r\npublic class A {\r\n    private final String test;\r\n\r\n    public A(String test) {\r\n        this.test = test;\r\n    }\r\n\r\n    public String check() {\r\n        return &quot;checked &quot; + this.test;\r\n    }\r\n}\r\n\r\npublic class TestService {\r\n    public String purchaseProduct(String param) {\r\n        A a = new A(param);\r\n        return a.check();\r\n    }\r\n}\r\n\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedConstruction;\r\nimport org.mockito.Mockito;\r\n\r\nimport static org.mockito.Mockito.*;\r\n\r\npublic class ConstructorMockTest {\r\n    private MockedConstruction&lt;A&gt; mockAController;\r\n\r\n    @BeforeEach\r\n    public void beginTest() {\r\n        //create mock controller for all constructors of the given class\r\n        mockAController = Mockito.mockConstruction(A.class,\r\n                (mock, context) -&gt; {\r\n                    //implement initializer for mock. Set return value for object A mock methods\r\n                    //this initializer will be called each time during mock creation \r\n                    when(mock.check()).thenReturn(&quot; Constructor Mock A &quot;);\r\n                });\r\n    }\r\n\r\n    @Test\r\n    public void test() {\r\n        //each instantiation of class A will return new mock, which initialized by initializer from beginTest method\r\n        //new mock will be stored to mockAController.constructed() collection of mocks\r\n        A aObject = new A(&quot;test&quot;);\r\n        //ensure that method check() returns mocked value\r\n        Assertions.assertEquals(aObject.check(), &quot; Constructor Mock A &quot;);\r\n        //get just created mock for class A from controller. It will be first element of mockAController.constructed() collection\r\n        A aMock = mockAController.constructed().get(0);\r\n        //ensure that we get correct mock from mock controller, that it is equal from new created object\r\n        Assertions.assertEquals(aMock, aObject);\r\n        //verify that check method was executed on Mock\r\n        verify(aMock, times(1)).check();\r\n\r\n        //create new A object, new mock created and stored to mockAController.constructed()\r\n        A aObject2 = new A(&quot;test&quot;);\r\n        //ensure that method check() returns mocked value\r\n        Assertions.assertEquals(aObject2.check(), &quot; Constructor Mock A &quot;);\r\n        //get just created mock for class A from controller, it will be second object from constructed collection\r\n        A aMock2 = mockAController.constructed().get(1);\r\n        //ensure that we get correct mock from mock controller, that it is equal from just created A object\r\n        Assertions.assertEquals(aObject2, aMock2);\r\n        //verify that check method was executed on Mock\r\n        verify(aMock2, times(1)).check();\r\n\r\n        //Example of testing service which creates A object\r\n        TestService service = new TestService();\r\n        String serviceResult = service.purchaseProduct(&quot;test&quot;);\r\n        //ensure that service returned value  from A mock\r\n        Assertions.assertEquals(serviceResult, &quot; Constructor Mock A &quot;);\r\n        //get just created mock for class A from controller, it will be third object from constructed collection\r\n        A aMock3 = mockAController.constructed().get(2);\r\n        //verify that check method was executed on Mock\r\n        verify(aMock3, times(1)).check();\r\n    }\r\n\r\n    @AfterEach\r\n    public void endTest() {\r\n        mockAController.close();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockedConstruction.html","title":"Junit 5 use mockConstruction().withSetting().useConstructor() instead of PowerMock.whenNew().withArguments()","body":"<p>The main difference between <code>Powermock.whenNew</code> and <code>Mockito.mockConstruction</code> is that <code>Mokito</code> creates a new mock each time when the new object is instantiating when constructor is calling. But <code>Powermock.whenNew</code> can be configured to return one mock always for the construction of several objects.\n<br>According to <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockedConstruction.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Represents a mock of any object construction of the represented type.\nWithin the scope of the mocked construction, the invocation of any\ninterceptor will generate a mock which will be prepared as specified\nwhen generating this scope. The mock can also be received via this\ninstance.</p>\n</blockquote>\n<p>You can use <code>MockedConstruction&lt;T&gt;.constructed()</code> to get all generated mocks in context. They can be used for verification.</p>\n<p>Example of test to check behavior:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    private final String test;\n\n    public A(String test) {\n        this.test = test;\n    }\n\n    public String check() {\n        return &quot;checked &quot; + this.test;\n    }\n}\n\npublic class TestService {\n    public String purchaseProduct(String param) {\n        A a = new A(param);\n        return a.check();\n    }\n}\n\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockedConstruction;\nimport org.mockito.Mockito;\n\nimport static org.mockito.Mockito.*;\n\npublic class ConstructorMockTest {\n    private MockedConstruction&lt;A&gt; mockAController;\n\n    @BeforeEach\n    public void beginTest() {\n        //create mock controller for all constructors of the given class\n        mockAController = Mockito.mockConstruction(A.class,\n                (mock, context) -&gt; {\n                    //implement initializer for mock. Set return value for object A mock methods\n                    //this initializer will be called each time during mock creation \n                    when(mock.check()).thenReturn(&quot; Constructor Mock A &quot;);\n                });\n    }\n\n    @Test\n    public void test() {\n        //each instantiation of class A will return new mock, which initialized by initializer from beginTest method\n        //new mock will be stored to mockAController.constructed() collection of mocks\n        A aObject = new A(&quot;test&quot;);\n        //ensure that method check() returns mocked value\n        Assertions.assertEquals(aObject.check(), &quot; Constructor Mock A &quot;);\n        //get just created mock for class A from controller. It will be first element of mockAController.constructed() collection\n        A aMock = mockAController.constructed().get(0);\n        //ensure that we get correct mock from mock controller, that it is equal from new created object\n        Assertions.assertEquals(aMock, aObject);\n        //verify that check method was executed on Mock\n        verify(aMock, times(1)).check();\n\n        //create new A object, new mock created and stored to mockAController.constructed()\n        A aObject2 = new A(&quot;test&quot;);\n        //ensure that method check() returns mocked value\n        Assertions.assertEquals(aObject2.check(), &quot; Constructor Mock A &quot;);\n        //get just created mock for class A from controller, it will be second object from constructed collection\n        A aMock2 = mockAController.constructed().get(1);\n        //ensure that we get correct mock from mock controller, that it is equal from just created A object\n        Assertions.assertEquals(aObject2, aMock2);\n        //verify that check method was executed on Mock\n        verify(aMock2, times(1)).check();\n\n        //Example of testing service which creates A object\n        TestService service = new TestService();\n        String serviceResult = service.purchaseProduct(&quot;test&quot;);\n        //ensure that service returned value  from A mock\n        Assertions.assertEquals(serviceResult, &quot; Constructor Mock A &quot;);\n        //get just created mock for class A from controller, it will be third object from constructed collection\n        A aMock3 = mockAController.constructed().get(2);\n        //verify that check method was executed on Mock\n        verify(aMock3, times(1)).check();\n    }\n\n    @AfterEach\n    public void endTest() {\n        mockAController.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19560342,"reputation":75,"user_id":14313697,"display_name":"PoYu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6385,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72411948,"answer_count":1,"score":4,"last_activity_date":1653694877,"creation_date":1653578736,"question_id":72394231,"body_markdown":"Now I want to use Junit 5 + Mockito 4.x version + Mockito-inline 4.x Version instead of Junit 4 + PowerMock 2.0.9\r\n\r\nBecause the Junit 5 doesn&#39;t support PowerMock also Mockito-inline can mock static, look like it doesn&#39;t need PowerMock anymore.\r\n\r\nBut when I use Mockito mock static, I want to use the same effect like Powermock.whenNew(xxx.class).withArgument(1,2,3,4).thanReturn(someThing).\r\n\r\nThis is part of my code and it can work. \r\n```\r\n    @Test\r\n    void get_report_page() {\r\n        ReportPageRequest reportPageRequest = prepare_request();\r\n        prepare_reportPage(context, 9999L, pageable);\r\n\r\n        when(reportConverter.toReportSpecification(user, reportPageRequest)).thenReturn(reportSpecification);\r\n        when(PageRequest.of(1, 100)).thenReturn(pageRequest);\r\n        when(reportRepository.findAll(reportSpecification, pageRequest)).thenReturn(reportPage);\r\n        when(reportConverter.toReportPageResponse(context)).thenReturn(reportPageResponses);\r\n        pageMockedConstruction = Mockito.mockConstruction(PageImpl.class,\r\n                withSettings().useConstructor(reportPageResponses, pageable, 9999L), (mock, context) -&gt; {\r\n                    when(mock.getTotalElements()).thenReturn(123456L);\r\n                    when(mock.getTotalPages()).thenReturn(1);\r\n                    when(mock.getContent()).thenReturn(reportPageResponses);\r\n                });\r\n\r\n        Page&lt;ReportPageResponse&gt; actual = sut.getReportPage(user, reportPageRequest);\r\n\r\n        assertThat(actual.getTotalElements()).isEqualTo(123456L);\r\n        assertThat(actual.getTotalPages()).isEqualTo(1);\r\n        assertThat(actual.getContent()).isEqualTo(reportPageResponses);\r\n    }\r\n}\r\n```\r\nAnd my question is I just can verify the mock static object behavior, but can&#39;t verify the result, this is my try\r\n```\r\npageMockedConstruction = Mockito.mockConstruction(PageImpl.class,\r\n                withSettings().useConstructor(reportPageResponses, pageable, 9999L), (mock, context) -&gt; {\r\n                    when(mock.getTotalElements()).thenReturn(123456L);\r\n                    when(mock.getTotalPages()).thenReturn(1);\r\n                    when(mock.getContent()).thenReturn(reportPageResponses);\r\n                });\r\n\r\n        // I thought here will be the same mock object\r\n        // when expected and actual will throught the Mockito.mockConstruction, but actually generate the different object\r\n        PageImpl&lt;ReportPageResponse&gt; expected = new PageImpl&lt;&gt;(this.reportPageResponses, pageable, 9999L);\r\n        Page&lt;ReportPageResponse&gt; actual = sut.getReportPage(user, reportPageRequest);\r\n\r\n        // Here will be wrong, because actual and expected has different hashCode\r\n        Assertions.assertThat(actual).isEqualTo(expected);\r\n```\r\nI research so many articles, but I can&#39;t find the answer.\r\n\r\nHave somebody encountered the same question?","title":"Junit 5 use mockConstruction().withSetting().useConstructor() instead of PowerMock.whenNew().withArguments()","body":"<p>Now I want to use Junit 5 + Mockito 4.x version + Mockito-inline 4.x Version instead of Junit 4 + PowerMock 2.0.9</p>\n<p>Because the Junit 5 doesn't support PowerMock also Mockito-inline can mock static, look like it doesn't need PowerMock anymore.</p>\n<p>But when I use Mockito mock static, I want to use the same effect like Powermock.whenNew(xxx.class).withArgument(1,2,3,4).thanReturn(someThing).</p>\n<p>This is part of my code and it can work.</p>\n<pre><code>    @Test\n    void get_report_page() {\n        ReportPageRequest reportPageRequest = prepare_request();\n        prepare_reportPage(context, 9999L, pageable);\n\n        when(reportConverter.toReportSpecification(user, reportPageRequest)).thenReturn(reportSpecification);\n        when(PageRequest.of(1, 100)).thenReturn(pageRequest);\n        when(reportRepository.findAll(reportSpecification, pageRequest)).thenReturn(reportPage);\n        when(reportConverter.toReportPageResponse(context)).thenReturn(reportPageResponses);\n        pageMockedConstruction = Mockito.mockConstruction(PageImpl.class,\n                withSettings().useConstructor(reportPageResponses, pageable, 9999L), (mock, context) -&gt; {\n                    when(mock.getTotalElements()).thenReturn(123456L);\n                    when(mock.getTotalPages()).thenReturn(1);\n                    when(mock.getContent()).thenReturn(reportPageResponses);\n                });\n\n        Page&lt;ReportPageResponse&gt; actual = sut.getReportPage(user, reportPageRequest);\n\n        assertThat(actual.getTotalElements()).isEqualTo(123456L);\n        assertThat(actual.getTotalPages()).isEqualTo(1);\n        assertThat(actual.getContent()).isEqualTo(reportPageResponses);\n    }\n}\n</code></pre>\n<p>And my question is I just can verify the mock static object behavior, but can't verify the result, this is my try</p>\n<pre><code>pageMockedConstruction = Mockito.mockConstruction(PageImpl.class,\n                withSettings().useConstructor(reportPageResponses, pageable, 9999L), (mock, context) -&gt; {\n                    when(mock.getTotalElements()).thenReturn(123456L);\n                    when(mock.getTotalPages()).thenReturn(1);\n                    when(mock.getContent()).thenReturn(reportPageResponses);\n                });\n\n        // I thought here will be the same mock object\n        // when expected and actual will throught the Mockito.mockConstruction, but actually generate the different object\n        PageImpl&lt;ReportPageResponse&gt; expected = new PageImpl&lt;&gt;(this.reportPageResponses, pageable, 9999L);\n        Page&lt;ReportPageResponse&gt; actual = sut.getReportPage(user, reportPageRequest);\n\n        // Here will be wrong, because actual and expected has different hashCode\n        Assertions.assertThat(actual).isEqualTo(expected);\n</code></pre>\n<p>I research so many articles, but I can't find the answer.</p>\n<p>Have somebody encountered the same question?</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1525769467,"post_id":50229192,"comment_id":87476339,"body_markdown":"Have just checked, it works correctly.","body":"Have just checked, it works correctly."},{"owner":{"account_id":4651818,"reputation":609,"user_id":3768497,"accept_rate":57,"display_name":"Karl"},"score":0,"creation_date":1525773883,"post_id":50229192,"comment_id":87479188,"body_markdown":"Interesting, I have just updated with the full error and some more info.","body":"Interesting, I have just updated with the full error and some more info."}],"answers":[{"tags":[],"owner":{"account_id":4806222,"reputation":71,"user_id":3881184,"display_name":"Sumit Nalawade"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576477544,"creation_date":1576476376,"answer_id":59351290,"question_id":50229192,"body_markdown":"I was trying to it the same way as you mentioned when I came across [this](https://stackoverflow.com/questions/39619093/how-to-read-properties-file-from-jenkins-2-0-pipeline-script).\r\n\r\nWith [Pipeline Utility Steps](https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Utility+Steps+Plugin) plugin your work becomes simple:\r\n\r\n```\r\ndef properties = readProperties file: &quot;${WORKSPACE}/sonar-project.properties&quot;\r\necho properties.&quot;sonar.sources&quot;\r\n```","title":"Why am I getting Stream Closed error in Groovy?","body":"<p>I was trying to it the same way as you mentioned when I came across <a href=\"https://stackoverflow.com/questions/39619093/how-to-read-properties-file-from-jenkins-2-0-pipeline-script\">this</a>.</p>\n\n<p>With <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Utility+Steps+Plugin\" rel=\"nofollow noreferrer\">Pipeline Utility Steps</a> plugin your work becomes simple:</p>\n\n<pre><code>def properties = readProperties file: \"${WORKSPACE}/sonar-project.properties\"\necho properties.\"sonar.sources\"\n</code></pre>\n"}],"owner":{"account_id":4651818,"reputation":609,"user_id":3768497,"accept_rate":57,"display_name":"Karl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653694060,"creation_date":1525767979,"question_id":50229192,"body_markdown":"**Relevant sample:**\r\n\r\n    Properties properties = new Properties()\r\n    File propertiesFile = new File(&quot;${WORKSPACE}/sonar- \r\n    project.properties&quot;)\r\n    propertiesFile.withInputStream {\r\n         properties.load(it)\r\n     }\r\n     echo properties.&quot;sonar.sources&quot;\r\n\r\n**The file contains:** \r\n\r\n    sonar.sources=src\r\n    sonar.javascript.lcov.reportPath=coverage/lcov.info\r\n    sonar.exclusions=**/*.spec.js\r\n\r\n**When the code runs, it returns:**\r\n\r\n    `java.io.IOException: Stream closed\r\n    \tat java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:170)\r\n    \tat java.io.BufferedInputStream.read(BufferedInputStream.java:336)\r\n    \tat java.io.FilterInputStream.read(FilterInputStream.java:107)\r\n    \tat java.util.Properties$LineReader.readLine(Properties.java:435)\r\n    \tat java.util.Properties.load0(Properties.java:353)\r\n    \tat java.util.Properties.load(Properties.java:341)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\r\n    \tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n    \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1218)\r\n    \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1027)\r\n    \tat org.codehaus.groovy.runtime.callsite.PojoMetaClassSite.call(PojoMetaClassSite.java:47)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n    \tat com.cloudbees.groovy.cps.sandbox.DefaultInvoker.methodCall(DefaultInvoker.java:18)\r\n    \tat sonar.checkForSonarPropertiesFile(/var/jenkins_home/jobs/sc-hum-daemon-logs/builds/134/libs/pipelines/src/sonar.groovy:32)\r\n    \tat sonar.checkForSonarPropertiesFile(/var/jenkins_home/jobs/sc-hum-daemon-logs/builds/134/libs/pipelines/src/sonar.groovy:31)\r\n    \tat sonar.createSonarConfigObject(/var/jenkins_home/jobs/sc-hum-daemon-logs/builds/134/libs/pipelines/src/sonar.groovy:25)\r\n    \tat Script1.run(Script1.groovy:52)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.delegateAndExecute(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:167)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.executeSingleStage(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:427)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.catchRequiredContextForNode(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:183)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.catchRequiredContextForNode(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:181)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.executeSingleStage(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:426)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:101)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.toolsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:326)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.toolsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:325)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:99)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withEnvBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:225)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withEnvBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:224)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:98)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withCredentialsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:262)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withCredentialsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:261)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:97)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.inDeclarativeAgent(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:358)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.inDeclarativeAgent(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:357)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:95)\r\n    \tat ___cps.transform___(Native Method)\r\n    \tat com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:57)\r\n    \tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:109)\r\n    \tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:82)\r\n    \tat sun.reflect.GeneratedMethodAccessor527.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\r\n    \tat com.cloudbees.groovy.cps.impl.LocalVariableBlock$LocalVariable.get(LocalVariableBlock.java:39)\r\n    \tat com.cloudbees.groovy.cps.LValueBlock$GetAdapter.receive(LValueBlock.java:30)\r\n    \tat com.cloudbees.groovy.cps.impl.LocalVariableBlock.evalLValue(LocalVariableBlock.java:28)\r\n    \tat com.cloudbees.groovy.cps.LValueBlock$BlockImpl.eval(LValueBlock.java:55)\r\n    \tat com.cloudbees.groovy.cps.LValueBlock.eval(LValueBlock.java:16)\r\n    \tat com.cloudbees.groovy.cps.Next.step(Next.java:83)\r\n    \tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:173)\r\n    \tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:162)\r\n    \tat org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:122)\r\n    \tat org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:261)\r\n    \tat com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:162)\r\n    \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:19)\r\n    \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable$1.call(SandboxContinuable.java:35)\r\n    \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable$1.call(SandboxContinuable.java:32)\r\n    \tat org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.GroovySandbox.runInSandbox(GroovySandbox.java:108)\r\n    \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:32)\r\n    \tat org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:174)\r\n    \tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:330)\r\n    \tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$100(CpsThreadGroup.java:82)\r\n    \tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:242)\r\n    \tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:230)\r\n    \tat org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:64)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:112)\r\n    \tat jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Finished: FAILURE`\r\n\r\nThis being run in a Jenkins pipeline, not sure if this would make a difference.\r\n\r\nI am trying to get the properties loaded into the properties object, but it doesn&#39;t seem to work.\r\n\r\nI have tried a number of different ways, but none of them seem to do what I want, where as I believe this should.\r\n","title":"Why am I getting Stream Closed error in Groovy?","body":"<p><strong>Relevant sample:</strong></p>\n<pre><code>Properties properties = new Properties()\nFile propertiesFile = new File(&quot;${WORKSPACE}/sonar- \nproject.properties&quot;)\npropertiesFile.withInputStream {\n     properties.load(it)\n }\n echo properties.&quot;sonar.sources&quot;\n</code></pre>\n<p><strong>The file contains:</strong></p>\n<pre><code>sonar.sources=src\nsonar.javascript.lcov.reportPath=coverage/lcov.info\nsonar.exclusions=**/*.spec.js\n</code></pre>\n<p><strong>When the code runs, it returns:</strong></p>\n<pre><code>`java.io.IOException: Stream closed\n    at java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:170)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:336)\n    at java.io.FilterInputStream.read(FilterInputStream.java:107)\n    at java.util.Properties$LineReader.readLine(Properties.java:435)\n    at java.util.Properties.load0(Properties.java:353)\n    at java.util.Properties.load(Properties.java:341)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1218)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1027)\n    at org.codehaus.groovy.runtime.callsite.PojoMetaClassSite.call(PojoMetaClassSite.java:47)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n    at com.cloudbees.groovy.cps.sandbox.DefaultInvoker.methodCall(DefaultInvoker.java:18)\n    at sonar.checkForSonarPropertiesFile(/var/jenkins_home/jobs/sc-hum-daemon-logs/builds/134/libs/pipelines/src/sonar.groovy:32)\n    at sonar.checkForSonarPropertiesFile(/var/jenkins_home/jobs/sc-hum-daemon-logs/builds/134/libs/pipelines/src/sonar.groovy:31)\n    at sonar.createSonarConfigObject(/var/jenkins_home/jobs/sc-hum-daemon-logs/builds/134/libs/pipelines/src/sonar.groovy:25)\n    at Script1.run(Script1.groovy:52)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.delegateAndExecute(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:167)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.executeSingleStage(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:427)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.catchRequiredContextForNode(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:183)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.catchRequiredContextForNode(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:181)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.executeSingleStage(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:426)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:101)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.toolsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:326)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.toolsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:325)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:99)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withEnvBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:225)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withEnvBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:224)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:98)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withCredentialsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:262)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withCredentialsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:261)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:97)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.inDeclarativeAgent(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:358)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.inDeclarativeAgent(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:357)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:95)\n    at ___cps.transform___(Native Method)\n    at com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:57)\n    at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:109)\n    at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:82)\n    at sun.reflect.GeneratedMethodAccessor527.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\n    at com.cloudbees.groovy.cps.impl.LocalVariableBlock$LocalVariable.get(LocalVariableBlock.java:39)\n    at com.cloudbees.groovy.cps.LValueBlock$GetAdapter.receive(LValueBlock.java:30)\n    at com.cloudbees.groovy.cps.impl.LocalVariableBlock.evalLValue(LocalVariableBlock.java:28)\n    at com.cloudbees.groovy.cps.LValueBlock$BlockImpl.eval(LValueBlock.java:55)\n    at com.cloudbees.groovy.cps.LValueBlock.eval(LValueBlock.java:16)\n    at com.cloudbees.groovy.cps.Next.step(Next.java:83)\n    at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:173)\n    at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:162)\n    at org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:122)\n    at org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:261)\n    at com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:162)\n    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:19)\n    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable$1.call(SandboxContinuable.java:35)\n    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable$1.call(SandboxContinuable.java:32)\n    at org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.GroovySandbox.runInSandbox(GroovySandbox.java:108)\n    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:32)\n    at org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:174)\n    at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:330)\n    at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$100(CpsThreadGroup.java:82)\n    at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:242)\n    at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:230)\n    at org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:64)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:112)\n    at jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nFinished: FAILURE`\n</code></pre>\n<p>This being run in a Jenkins pipeline, not sure if this would make a difference.</p>\n<p>I am trying to get the properties loaded into the properties object, but it doesn't seem to work.</p>\n<p>I have tried a number of different ways, but none of them seem to do what I want, where as I believe this should.</p>\n"},{"tags":["java","static","constructor"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1296123121,"creation_date":1296123121,"answer_id":4815023,"question_id":4815014,"body_markdown":"because of this `  String.split(&quot;\\nNEW&quot;);` `split` isn&#39;t static method\r\n\r\nyou probably need \r\n\r\n    public ArchivesManager(String identifier) {\r\n        String[] components = identifier.split(&quot;\\nNEW&quot;);//NOTE: components are local to const. this doesn&#39;t make sense\r\n    }","title":"Java - are constructors static?","body":"<p>because of this <code>String.split(\"\\nNEW\");</code> <code>split</code> isn't static method</p>\n\n<p>you probably need </p>\n\n<pre><code>public ArchivesManager(String identifier) {\n    String[] components = identifier.split(\"\\nNEW\");//NOTE: components are local to const. this doesn't make sense\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":237499,"reputation":22454,"user_id":505722,"accept_rate":86,"display_name":"Jim"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1296123124,"creation_date":1296123124,"answer_id":4815024,"question_id":4815014,"body_markdown":"It&#39;s because split should be called on a String object. I.e.\r\n\r\n    String foo = &quot;Hello, world&quot;;\r\n    String[] arr = foo.split(&quot;,&quot;);","title":"Java - are constructors static?","body":"<p>It's because split should be called on a String object. I.e.</p>\n\n<pre><code>String foo = \"Hello, world\";\nString[] arr = foo.split(\",\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1296123235,"creation_date":1296123235,"answer_id":4815050,"question_id":4815014,"body_markdown":"&gt; I know that error message, but why is the constructor static?!\r\n\r\nThe constructor context is not static, but you explicitly invoked the `split` method in a static context when you qualified it with the classname; i.e. `String.split(...)`.\r\n\r\nYou probably meant to write this:\r\n\r\n    String[] components = identifier.split(&quot;\\nNEW&quot;);\r\n\r\nwhich invokes the method in the (non-static) context of the `String` object passed as `identifier`; i.e. it says *which string should be split*.\r\n","title":"Java - are constructors static?","body":"<blockquote>\n  <p>I know that error message, but why is the constructor static?!</p>\n</blockquote>\n\n<p>The constructor context is not static, but you explicitly invoked the <code>split</code> method in a static context when you qualified it with the classname; i.e. <code>String.split(...)</code>.</p>\n\n<p>You probably meant to write this:</p>\n\n<pre><code>String[] components = identifier.split(\"\\nNEW\");\n</code></pre>\n\n<p>which invokes the method in the (non-static) context of the <code>String</code> object passed as <code>identifier</code>; i.e. it says <em>which string should be split</em>.</p>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296123262,"creation_date":1296123262,"answer_id":4815058,"question_id":4815014,"body_markdown":"Instead of `String.split(&quot;\\nNEW&quot;);` you need to call `identifier.split(&quot;\\nNEW&quot;);`. You want to split the identifier object (which is of type string). Essentially what you&#39;ve said there is &quot;split the string class&quot;, which doesn&#39;t make sense and hence the compiler complains.","title":"Java - are constructors static?","body":"<p>Instead of <code>String.split(\"\\nNEW\");</code> you need to call <code>identifier.split(\"\\nNEW\");</code>. You want to split the identifier object (which is of type string). Essentially what you've said there is \"split the string class\", which doesn't make sense and hence the compiler complains.</p>\n"},{"tags":[],"owner":{"account_id":198620,"reputation":10364,"user_id":443387,"accept_rate":57,"display_name":"N-JOY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653693658,"creation_date":1296123911,"answer_id":4815149,"question_id":4815014,"body_markdown":"This error does not mean that your constructor is static. It means Split is not static method, you have to call this method from its object.","title":"Java - are constructors static?","body":"<p>This error does not mean that your constructor is static. It means Split is not static method, you have to call this method from its object.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1296125421,"creation_date":1296125421,"answer_id":4815366,"question_id":4815014,"body_markdown":"To answer the question in the title:\r\n\r\n&quot;Constructors are not members&quot; [JLS index] so static isn&#39;t really an appropriate concept. Constructors are not members because they are not inherited (I wish static methods weren&#39;t inherited either). From a class file point of view, they are special instance methods that return `void`. Bytecode calling the constructor first allocates the memory, duplicates the reference to that memory and then calls the constructor on one of those references. (If targeting 1.4 or later, for an inner class assignment of &quot;outer this&quot; and enclosing `final` fields occurs before calling the constructor.)","title":"Java - are constructors static?","body":"<p>To answer the question in the title:</p>\n\n<p>\"Constructors are not members\" [JLS index] so static isn't really an appropriate concept. Constructors are not members because they are not inherited (I wish static methods weren't inherited either). From a class file point of view, they are special instance methods that return <code>void</code>. Bytecode calling the constructor first allocates the memory, duplicates the reference to that memory and then calls the constructor on one of those references. (If targeting 1.4 or later, for an inner class assignment of \"outer this\" and enclosing <code>final</code> fields occurs before calling the constructor.)</p>\n"},{"tags":[],"owner":{"account_id":2738986,"reputation":1,"user_id":2360943,"display_name":"Heather"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1373255090,"creation_date":1373255090,"answer_id":17518888,"question_id":4815014,"body_markdown":"In fact, I don&#39;t know why the constructor is static by default. The book &quot;Thinking in Java&quot; says that, &quot;Even though it doesn&#39;t explicitly use the static keyword, the constructor is actually a static method.&quot;","title":"Java - are constructors static?","body":"<p>In fact, I don't know why the constructor is static by default. The book \"Thinking in Java\" says that, \"Even though it doesn't explicitly use the static keyword, the constructor is actually a static method.\"</p>\n"}],"owner":{"account_id":106021,"reputation":9623,"user_id":282635,"accept_rate":87,"display_name":"ryyst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2691,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4815024,"answer_count":7,"score":3,"last_activity_date":1653693658,"creation_date":1296123024,"question_id":4815014,"body_markdown":"I just wrote a constructor like this:\r\n\r\n    public ArchivesManager(String identifier) {\r\n    \tString[] components = String.split(&quot;\\nNEW&quot;);\r\n    }\r\n\r\nBut there&#39;s an error message: `non-static method split(java.lang.String) cannot be referenced from a static context`. I know that error message, but why is the constructor static?!","title":"Java - are constructors static?","body":"<p>I just wrote a constructor like this:</p>\n\n<pre><code>public ArchivesManager(String identifier) {\n    String[] components = String.split(\"\\nNEW\");\n}\n</code></pre>\n\n<p>But there's an error message: <code>non-static method split(java.lang.String) cannot be referenced from a static context</code>. I know that error message, but why is the constructor static?!</p>\n"},{"tags":["java","sql","arrays","database","list"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1653684151,"post_id":72410830,"comment_id":127919209,"body_markdown":"I don&#39;t see any casting. But if you&#39;re trying to convert `Object[]` to string you&#39;re going to need `Arrays.toString()` at minimum.","body":"I don&#39;t see any casting. But if you&#39;re trying to convert <code>Object[]</code> to string you&#39;re going to need <code>Arrays.toString()</code> at minimum."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653687072,"post_id":72410830,"comment_id":127919898,"body_markdown":"Does `Query#getResultSet` really return a list *of arrays* of objects, or did you mean it returns a list of objects?","body":"Does <code>Query#getResultSet</code> really return a list <i>of arrays</i> of objects, or did you mean it returns a list of objects?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1653695366,"post_id":72410830,"comment_id":127921284,"body_markdown":"The return statement `return array[index]` always throws an `ArrayIndexOutOfBoundsException`  because `index` is always one more than the size of `array`.","body":"The return statement <code>return array[index]</code> always throws an <code>ArrayIndexOutOfBoundsException</code>  because <code>index</code> is always one more than the size of <code>array</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653692823,"creation_date":1653687354,"answer_id":72411297,"question_id":72410830,"body_markdown":"# tl;dr\r\n\r\n    String.join( &quot; | &quot; , strings )\r\n\r\nOr, using streams:\r\n\r\n```java\r\nList\r\n        .of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) )\r\n        .stream()\r\n        .map( Object :: toString )\r\n        .collect( Collectors.joining( &quot; | &quot; ) );\r\n```\r\n\r\n&gt;2022-05-27 | Bob | 123.45\r\n\r\n# Your code works\r\n\r\nBased on the rest of your code, this:\r\n\r\n    List&lt;Object[]&gt; d = q.getResultList();\r\n\r\n… must be mistaken. Apparently `Query#getResultSet` returns a `List` of `Object` objects not really a `List` of arrays of `Object` objects as your code above declares. \r\n\r\nLet&#39;s assume you meant:\r\n\r\n    List&lt; Object &gt; d = q.getResultList() ;\r\n\r\nYour code actually works. I will substitute an `List` of `Object` objects.\r\n\r\n```java\r\nList &lt; Object &gt; d = List.of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) );\r\n```\r\n\r\nAnd run your code.\r\n\r\n```java\r\nString[] array = new String[ d.size() ];\r\nint index = 0;\r\nfor ( Object value : d )\r\n{\r\n    array[ index ] = String.valueOf( value );\r\n    index++; //keeps iterating until loop is done\r\n}\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( Arrays.toString( array ) );\r\n```\r\n\r\nWe get this result.\r\n\r\n&gt;[2022-05-27, Bob, 123.45]\r\n\r\nYou asked:\r\n\r\n&gt; Is my casting logic wrong? \r\n\r\nThere is no [casting][1] in your code.\r\n\r\nYou said:\r\n\r\n&gt; but when I go to see if any numbers are returned from the db via the webpage on localhost, I get a generic template error which usually means nothing returned.\r\n\r\nThis kind of confusion means you have stuck together too much code in one place. Separate logical chunks into separate methods. Then use unit testing to verify expected behavior.\r\n\r\nIn your current situation, the generating of text from a `List` of `Object` objects should be pulled out into its own method. Name that method something like `joinObjectsIntoAString`. Pass the `List&lt; Object &gt;` as an argument to that method. I&#39;ll leave that as an exercise for the reader.\r\n\r\n# Alternate approach\r\n\r\nYou asked:\r\n\r\n&gt; Or is there another way take a list of objects, cast it to a string, then return the string back to the method?\r\n\r\nYes, there are alternatives. \r\n\r\nI would avoid dealing with an index.\r\n\r\nWe can get a textual representation of each object by looping each element, and calling its `Object#toString` method, \r\n\r\n```java\r\nList &lt; String &gt; strings = new ArrayList &lt;&gt;( d.size() );\r\nfor ( Object o : d )\r\n{\r\n    strings.add( o.toString() );\r\n}\r\n```\r\n\r\nWe can combine those produced `String` objects with a call to the `String.join` static method. Pass an argument for your desired delimiter. \r\n\r\n    String result = String.join( &quot; | &quot; , strings );\r\n\r\n\r\n&gt;result = 2022-05-27 | Bob | 123.45\r\n\r\n## Streams\r\n\r\nWe can make that code more concise by using streams.\r\n\r\n```java\r\nList &lt; Object &gt; d = List.of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) );\r\nList &lt; String &gt; strings = d.stream().map( object -&gt; object.toString() ).toList();\r\nString result = strings.stream().collect( Collectors.joining( &quot; | &quot; ) );\r\n```\r\n\r\nWe can even turn that into a one-liner. \r\n\r\n```java\r\nString result =\r\n        List\r\n                .of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) )\r\n                .stream()\r\n                .map( object -&gt; object.toString() )\r\n                .collect( Collectors.joining( &quot; | &quot; ) );\r\n```\r\n\r\nAnd even shorter by using a method reference, `Object :: toString`. \r\n\r\n```java\r\nString result =\r\n        List\r\n                .of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) )\r\n                .stream()\r\n                .map( Object :: toString )\r\n                .collect( Collectors.joining( &quot; | &quot; ) );\r\n```\r\n\r\nSee that [code run live at Ideone.com][2].\r\n\r\n&gt;2022-05-27 | Bob | 123.45\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Type_conversion\r\n  [2]: https://ideone.com/CID126","title":"how to take a list of objects, cast it to a string, then return the string back to the method","body":"<h1>tl;dr</h1>\n<pre><code>String.join( &quot; | &quot; , strings )\n</code></pre>\n<p>Or, using streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List\n        .of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) )\n        .stream()\n        .map( Object :: toString )\n        .collect( Collectors.joining( &quot; | &quot; ) );\n</code></pre>\n<blockquote>\n<p>2022-05-27 | Bob | 123.45</p>\n</blockquote>\n<h1>Your code works</h1>\n<p>Based on the rest of your code, this:</p>\n<pre><code>List&lt;Object[]&gt; d = q.getResultList();\n</code></pre>\n<p>… must be mistaken. Apparently <code>Query#getResultSet</code> returns a <code>List</code> of <code>Object</code> objects not really a <code>List</code> of arrays of <code>Object</code> objects as your code above declares.</p>\n<p>Let's assume you meant:</p>\n<pre><code>List&lt; Object &gt; d = q.getResultList() ;\n</code></pre>\n<p>Your code actually works. I will substitute an <code>List</code> of <code>Object</code> objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Object &gt; d = List.of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) );\n</code></pre>\n<p>And run your code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] array = new String[ d.size() ];\nint index = 0;\nfor ( Object value : d )\n{\n    array[ index ] = String.valueOf( value );\n    index++; //keeps iterating until loop is done\n}\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( Arrays.toString( array ) );\n</code></pre>\n<p>We get this result.</p>\n<blockquote>\n<p>[2022-05-27, Bob, 123.45]</p>\n</blockquote>\n<p>You asked:</p>\n<blockquote>\n<p>Is my casting logic wrong?</p>\n</blockquote>\n<p>There is no <a href=\"https://en.wikipedia.org/wiki/Type_conversion\" rel=\"nofollow noreferrer\">casting</a> in your code.</p>\n<p>You said:</p>\n<blockquote>\n<p>but when I go to see if any numbers are returned from the db via the webpage on localhost, I get a generic template error which usually means nothing returned.</p>\n</blockquote>\n<p>This kind of confusion means you have stuck together too much code in one place. Separate logical chunks into separate methods. Then use unit testing to verify expected behavior.</p>\n<p>In your current situation, the generating of text from a <code>List</code> of <code>Object</code> objects should be pulled out into its own method. Name that method something like <code>joinObjectsIntoAString</code>. Pass the <code>List&lt; Object &gt;</code> as an argument to that method. I'll leave that as an exercise for the reader.</p>\n<h1>Alternate approach</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Or is there another way take a list of objects, cast it to a string, then return the string back to the method?</p>\n</blockquote>\n<p>Yes, there are alternatives.</p>\n<p>I would avoid dealing with an index.</p>\n<p>We can get a textual representation of each object by looping each element, and calling its <code>Object#toString</code> method,</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; String &gt; strings = new ArrayList &lt;&gt;( d.size() );\nfor ( Object o : d )\n{\n    strings.add( o.toString() );\n}\n</code></pre>\n<p>We can combine those produced <code>String</code> objects with a call to the <code>String.join</code> static method. Pass an argument for your desired delimiter.</p>\n<pre><code>String result = String.join( &quot; | &quot; , strings );\n</code></pre>\n<blockquote>\n<p>result = 2022-05-27 | Bob | 123.45</p>\n</blockquote>\n<h2>Streams</h2>\n<p>We can make that code more concise by using streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Object &gt; d = List.of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) );\nList &lt; String &gt; strings = d.stream().map( object -&gt; object.toString() ).toList();\nString result = strings.stream().collect( Collectors.joining( &quot; | &quot; ) );\n</code></pre>\n<p>We can even turn that into a one-liner.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result =\n        List\n                .of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) )\n                .stream()\n                .map( object -&gt; object.toString() )\n                .collect( Collectors.joining( &quot; | &quot; ) );\n</code></pre>\n<p>And even shorter by using a method reference, <code>Object :: toString</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result =\n        List\n                .of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) )\n                .stream()\n                .map( Object :: toString )\n                .collect( Collectors.joining( &quot; | &quot; ) );\n</code></pre>\n<p>See that <a href=\"https://ideone.com/CID126\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<blockquote>\n<p>2022-05-27 | Bob | 123.45</p>\n</blockquote>\n"}],"owner":{"account_id":25408582,"reputation":1,"user_id":19216846,"display_name":"Johny Leo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653692823,"creation_date":1653683793,"question_id":72410830,"body_markdown":"I currently have an application thats trying to get item id&#39;s from a database. It connects to a db, runs a select query alongside a provided &quot;vin&quot; number, obtains one column of information that contains item id numbers, takes the results and puts it into a list of objects. Now I need to find a way to take a list of objects, cast it to a string, then return the string back to the method. \r\n\r\nMy code: \r\n\r\n```java\r\npublic String getItemId(String vin) {// method that accepts string parameter called vin\r\n\tQuery q = entityManager.createNativeQuery(env.getProperty(&quot;item-id&quot;));  //query q created\r\n\tq.setParameter(&quot;vin&quot;, vin); //set parameters\r\n\tList&lt;Object[]&gt; d = q.getResultList(); //takes results and puts into list of objects//\r\n\r\n\tString[] array = new String[d.size()]; //create array of strings, size determined by number of elements from d\r\n\tint index = 0;\r\n\tfor (Object value : d) { //goes through each element in d which contains list of objects\r\n\t\tarray[index] = String.valueOf(value); //adds to index, will accept values that arent just strings,\r\n\t\tindex++; //keeps iterating until loop is done\r\n\t}\r\n\treturn array[index];\r\n}\r\n```\r\nI don&#39;t get any errors when I run the code, but when I go to see if any numbers are returned from the db via the webpage on localhost, I get a generic template error which usually means nothing returned.\r\n\r\nIs my casting logic wrong? Or is there another way take a list of objects, cast it to a string, then return the string back to the method?","title":"how to take a list of objects, cast it to a string, then return the string back to the method","body":"<p>I currently have an application thats trying to get item id's from a database. It connects to a db, runs a select query alongside a provided &quot;vin&quot; number, obtains one column of information that contains item id numbers, takes the results and puts it into a list of objects. Now I need to find a way to take a list of objects, cast it to a string, then return the string back to the method.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getItemId(String vin) {// method that accepts string parameter called vin\n    Query q = entityManager.createNativeQuery(env.getProperty(&quot;item-id&quot;));  //query q created\n    q.setParameter(&quot;vin&quot;, vin); //set parameters\n    List&lt;Object[]&gt; d = q.getResultList(); //takes results and puts into list of objects//\n\n    String[] array = new String[d.size()]; //create array of strings, size determined by number of elements from d\n    int index = 0;\n    for (Object value : d) { //goes through each element in d which contains list of objects\n        array[index] = String.valueOf(value); //adds to index, will accept values that arent just strings,\n        index++; //keeps iterating until loop is done\n    }\n    return array[index];\n}\n</code></pre>\n<p>I don't get any errors when I run the code, but when I go to see if any numbers are returned from the db via the webpage on localhost, I get a generic template error which usually means nothing returned.</p>\n<p>Is my casting logic wrong? Or is there another way take a list of objects, cast it to a string, then return the string back to the method?</p>\n"},{"tags":["java","postgresql","database-connection","connection-pooling","pg-jdbc"],"comments":[{"owner":{"account_id":1593549,"reputation":732,"user_id":1476330,"accept_rate":90,"display_name":"Luke A. Leber"},"score":0,"creation_date":1466598218,"post_id":37916489,"comment_id":63381532,"body_markdown":"Inside your listener, the variable &#39;jsonPayload&#39; does not exist.  Also, are you using the same connection to write your updates?  It&#39;s feasible that your connection with the listener attached goes out of scope and is destroyed by the GC.","body":"Inside your listener, the variable &#39;jsonPayload&#39; does not exist.  Also, are you using the same connection to write your updates?  It&#39;s feasible that your connection with the listener attached goes out of scope and is destroyed by the GC."},{"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"score":0,"creation_date":1466660173,"post_id":37916489,"comment_id":63411146,"body_markdown":"I am not using the same connection. But I checked using `netstat` that the connections were in established state i.e the old connection was not lost. `netstat --numeric-ports|grep 5432|grep my.ip` gave two connections (one old and one new) and both in ESTABLISHED state: `tcp        0      0 192.168.5.126:5432      192.168.105.213:46802   ESTABLISHED\ntcp        0      0 192.168.5.126:5432      192.168.105.213:46805   ESTABLISHED`","body":"I am not using the same connection. But I checked using <code>netstat</code> that the connections were in established state i.e the old connection was not lost. <code>netstat --numeric-ports|grep 5432|grep my.ip</code> gave two connections (one old and one new) and both in ESTABLISHED state: <code>tcp        0      0 192.168.5.126:5432      192.168.105.213:46802   ESTABLISHED tcp        0      0 192.168.5.126:5432      192.168.105.213:46805   ESTABLISHED</code>"},{"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"score":0,"creation_date":1466670558,"post_id":37916489,"comment_id":63416820,"body_markdown":"@LukeA.Leber: Please check the edit to the question.","body":"@LukeA.Leber: Please check the edit to the question."},{"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"score":0,"creation_date":1466671960,"post_id":37916489,"comment_id":63417793,"body_markdown":"@LukeA.Leber:  Since my connection is not closed, I feel my listener which I register `pgConnection.addNotificationListener(new PGNotificationListener() {})` goes out of session. Any comments?","body":"@LukeA.Leber:  Since my connection is not closed, I feel my listener which I register <code>pgConnection.addNotificationListener(new PGNotificationListener() {})</code> goes out of session. Any comments?"},{"owner":{"account_id":1593549,"reputation":732,"user_id":1476330,"accept_rate":90,"display_name":"Luke A. Leber"},"score":1,"creation_date":1466680963,"post_id":37916489,"comment_id":63424032,"body_markdown":"The notification listeners are internally maintained by that library as weak references meaning that you have to hold a hard reference externally so they won&#39;t be garbage collected.  Check out the BasicContext class: \nsynchronized (notificationListeners) {\n      notificationListeners.put(key, new WeakReference&lt;NotificationListener&gt;(listener));\n    }\nIf the GC picks up your listener, calls to &quot;get&quot; on the weak reference will return null and will not fire.","body":"The notification listeners are internally maintained by that library as weak references meaning that you have to hold a hard reference externally so they won&#39;t be garbage collected.  Check out the BasicContext class:  synchronized (notificationListeners) {       notificationListeners.put(key, new WeakReference&lt;NotificationListener&gt;(listener));     } If the GC picks up your listener, calls to &quot;get&quot; on the weak reference will return null and will not fire."}],"answers":[{"tags":[],"owner":{"account_id":1593549,"reputation":732,"user_id":1476330,"accept_rate":90,"display_name":"Luke A. Leber"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1598813522,"creation_date":1466732308,"answer_id":38004415,"question_id":37916489,"body_markdown":"The notification listeners are internally maintained by that library as weak references meaning that you have to hold a hard reference externally so they won&#39;t be garbage collected. Check out the BasicContext class lines 642 - 655: \r\n\r\n    public void addNotificationListener(String name, String channelNameFilter, NotificationListener listener) {\r\n\r\n        name = nullToEmpty(name);\r\n        channelNameFilter = channelNameFilter != null ? channelNameFilter : &quot;.*&quot;;\r\n\r\n        Pattern channelNameFilterPattern = Pattern.compile(channelNameFilter);\r\n\r\n        NotificationKey key = new NotificationKey(name, channelNameFilterPattern);\r\n\r\n        synchronized (notificationListeners) {\r\n          notificationListeners.put(key, new WeakReference&lt;NotificationListener&gt;(listener));\r\n        }\r\n\r\n    }\r\n\r\nIf the GC picks up your listener, calls to &quot;get&quot; on the weak reference will return null and will not fire as seen from lines 690 - 710\r\n\r\n      @Override\r\n      public synchronized void reportNotification(int processId, String channelName, String payload) {\r\n    \r\n        Iterator&lt;Map.Entry&lt;NotificationKey, WeakReference&lt;NotificationListener&gt;&gt;&gt; iter = notificationListeners.entrySet().iterator();\r\n        while (iter.hasNext()) {\r\n    \r\n          Map.Entry&lt;NotificationKey, WeakReference&lt;NotificationListener&gt;&gt; entry = iter.next();\r\n    \r\n          NotificationListener listener = entry.getValue().get();\r\n          if (listener == null) {\r\n    \r\n            iter.remove();\r\n          }\r\n          else if (entry.getKey().channelNameFilter.matcher(channelName).matches()) {\r\n    \r\n            listener.notification(processId, channelName, payload);\r\n          }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nTo fix this, add your notification listeners as such:\r\n\r\n    /// Do not let this reference go out of scope!\r\n        PGNotificationListener listener = new PGNotificationListener() {\r\n    \r\n        @Override\r\n        public void notification(int processId, String channelName, String payload) {\r\n            // interesting code\r\n        };\r\n    };\r\n        pgConnection.addNotificationListener(listener);\r\n\r\nQuite an odd use-case for weak references in my opinion...","title":"LISTEN/NOTIFY pgconnection goes down java?","body":"<p>The notification listeners are internally maintained by that library as weak references meaning that you have to hold a hard reference externally so they won't be garbage collected. Check out the BasicContext class lines 642 - 655:</p>\n<pre><code>public void addNotificationListener(String name, String channelNameFilter, NotificationListener listener) {\n\n    name = nullToEmpty(name);\n    channelNameFilter = channelNameFilter != null ? channelNameFilter : &quot;.*&quot;;\n\n    Pattern channelNameFilterPattern = Pattern.compile(channelNameFilter);\n\n    NotificationKey key = new NotificationKey(name, channelNameFilterPattern);\n\n    synchronized (notificationListeners) {\n      notificationListeners.put(key, new WeakReference&lt;NotificationListener&gt;(listener));\n    }\n\n}\n</code></pre>\n<p>If the GC picks up your listener, calls to &quot;get&quot; on the weak reference will return null and will not fire as seen from lines 690 - 710</p>\n<pre><code>  @Override\n  public synchronized void reportNotification(int processId, String channelName, String payload) {\n\n    Iterator&lt;Map.Entry&lt;NotificationKey, WeakReference&lt;NotificationListener&gt;&gt;&gt; iter = notificationListeners.entrySet().iterator();\n    while (iter.hasNext()) {\n\n      Map.Entry&lt;NotificationKey, WeakReference&lt;NotificationListener&gt;&gt; entry = iter.next();\n\n      NotificationListener listener = entry.getValue().get();\n      if (listener == null) {\n\n        iter.remove();\n      }\n      else if (entry.getKey().channelNameFilter.matcher(channelName).matches()) {\n\n        listener.notification(processId, channelName, payload);\n      }\n\n    }\n\n}\n</code></pre>\n<p>To fix this, add your notification listeners as such:</p>\n<pre><code>/// Do not let this reference go out of scope!\n    PGNotificationListener listener = new PGNotificationListener() {\n\n    @Override\n    public void notification(int processId, String channelName, String payload) {\n        // interesting code\n    };\n};\n    pgConnection.addNotificationListener(listener);\n</code></pre>\n<p>Quite an odd use-case for weak references in my opinion...</p>\n"}],"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5333,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":38004415,"answer_count":1,"score":9,"last_activity_date":1653692806,"creation_date":1466406636,"question_id":37916489,"body_markdown":"I am using PostgreSQL DB and applying it&#39;s `LISTEN/NOTIFY` functionality. So my listener is at my AS (Application Server) and I have triggers configured on my DB such that when CRUD operations are performed on a table a `NOTIFY` request is sent on AS. \r\n\r\n**LISTENER** class in java:\r\n\r\n            @Singleton\r\n            @Startup\r\n        NotificationListenerInterface.class)\r\n            public class NotificationListener extends Thread implements NotificationListenerInterface {\r\n            \r\n            \t@Resource(mappedName=&quot;java:/RESOURCES&quot;) \r\n            \tprivate DataSource ds;\r\n            \r\n            \t@PersistenceContext(unitName = &quot;one&quot;)\r\n            \tEntityManager em;\r\n            \r\n            \tLogger logger = Logger.getLogger(NotificationListener.class);\r\n            \r\n            \tprivate Connection Conn;\r\n            \tprivate PGConnection pgConnection = null;\r\n            \tprivate NotifyRequest notifyRequest = null;\r\n            \r\n            \t@PostConstruct\r\n            \tpublic void notificationListener() throws Throwable {\r\n            \r\n            \t\tSystem.out.println(&quot;Notification****************&quot;);\r\n            \t\ttry\r\n            \t\t{\r\n            \r\n            \r\n            \t\t\tClass.forName(&quot;com.impossibl.postgres.jdbc.PGDriver&quot;);\r\n            \t\t\tString url = &quot;jdbc:pgsql://192.xx.xx.126:5432/postgres&quot;;\r\n            \r\n            \r\n            \t\t\tConn = DriverManager.getConnection(url,&quot;postgres&quot;,&quot;password&quot;);\r\n            \t\t\tthis.pgConnection = (PGConnection) Conn;\r\n            \r\n            \t\t\tSystem.out.println(&quot;PG CONNECTON: &quot;+ pgConnection);\r\n            \t\t\tStatement listenStatement = Conn.createStatement();\r\n            \t\t\tlistenStatement.execute(&quot;LISTEN notify_channel&quot;);\r\n            \t\t\tlistenStatement.close();\r\n            \r\n            \t\t\tpgConnection.addNotificationListener(new PGNotificationListener() {\r\n            \r\n            \t\t\t\t@Override\r\n            \t\t\t\tpublic void notification(int processId, String channelName, String payload){\r\n            \r\n            \t\t\t\t\tSystem.out.println(&quot;*********INSIDE NOTIFICATION*************&quot;);\r\n            \r\n            \t\t\t\t\tSystem.out.println(&quot;Payload: &quot; + jsonPayload);\r\n    \r\n    }\r\n\r\nSo as my AS is up, I have configured that at startup the listener class is called (`@Startup annotation`) and it&#39;s start listening on the channel.\r\n\r\nNow this works fine if like say for testing I edit my table in DB manually, the notification is generated and the LISTENER receives it.\r\n\r\nHowever, when I programmatically send a UPDATE request on the table, the UPADTE is performed successfully but LISTENER is not receiving anything.\r\n\r\nI feel my connection of the LISTENER goes down when I send a request (it also makes a connection to edit entities), but I am not sure. I read about permanent connections and pooled connections, but not able to decide how to pursue that.\r\n\r\nI am using pgjdbc (http://impossibl.github.io/pgjdbc-ng/) jar for async notifications as jdbc connection requires polling.  \r\n\r\n**EDIT:**\r\n\r\nWhen I try the above listener with polling by using the standard jdbc jar (not pgjdbc), I get the notifications.\r\n\r\nI do \r\n `PGNotification notif[]  =  con.getNotifications()`\r\nand I get notifications, however doing it asynchronously like below I don&#39;t get notifications.\r\n\r\n        pgConnection.addNotificationListener(new PGNotificationListener() {\r\n                \r\n             @Override\r\n             public void notification(int processId, String channelName, String payload){\r\n                \r\n       \t\t\tSystem.out.println(&quot;*********INSIDE NOTIFICATION*************&quot;);\r\n             }\r\n\r\n**SOLVED:**\r\n\r\nMy listener **was going out of scope** after the function execution was completed as my listener had the function scope. So kept it into a member variable of my startup bean class and then it worked.\r\n","title":"LISTEN/NOTIFY pgconnection goes down java?","body":"<p>I am using PostgreSQL DB and applying it's <code>LISTEN/NOTIFY</code> functionality. So my listener is at my AS (Application Server) and I have triggers configured on my DB such that when CRUD operations are performed on a table a <code>NOTIFY</code> request is sent on AS. </p>\n\n<p><strong>LISTENER</strong> class in java:</p>\n\n<pre><code>        @Singleton\n        @Startup\n    NotificationListenerInterface.class)\n        public class NotificationListener extends Thread implements NotificationListenerInterface {\n\n            @Resource(mappedName=\"java:/RESOURCES\") \n            private DataSource ds;\n\n            @PersistenceContext(unitName = \"one\")\n            EntityManager em;\n\n            Logger logger = Logger.getLogger(NotificationListener.class);\n\n            private Connection Conn;\n            private PGConnection pgConnection = null;\n            private NotifyRequest notifyRequest = null;\n\n            @PostConstruct\n            public void notificationListener() throws Throwable {\n\n                System.out.println(\"Notification****************\");\n                try\n                {\n\n\n                    Class.forName(\"com.impossibl.postgres.jdbc.PGDriver\");\n                    String url = \"jdbc:pgsql://192.xx.xx.126:5432/postgres\";\n\n\n                    Conn = DriverManager.getConnection(url,\"postgres\",\"password\");\n                    this.pgConnection = (PGConnection) Conn;\n\n                    System.out.println(\"PG CONNECTON: \"+ pgConnection);\n                    Statement listenStatement = Conn.createStatement();\n                    listenStatement.execute(\"LISTEN notify_channel\");\n                    listenStatement.close();\n\n                    pgConnection.addNotificationListener(new PGNotificationListener() {\n\n                        @Override\n                        public void notification(int processId, String channelName, String payload){\n\n                            System.out.println(\"*********INSIDE NOTIFICATION*************\");\n\n                            System.out.println(\"Payload: \" + jsonPayload);\n\n}\n</code></pre>\n\n<p>So as my AS is up, I have configured that at startup the listener class is called (<code>@Startup annotation</code>) and it's start listening on the channel.</p>\n\n<p>Now this works fine if like say for testing I edit my table in DB manually, the notification is generated and the LISTENER receives it.</p>\n\n<p>However, when I programmatically send a UPDATE request on the table, the UPADTE is performed successfully but LISTENER is not receiving anything.</p>\n\n<p>I feel my connection of the LISTENER goes down when I send a request (it also makes a connection to edit entities), but I am not sure. I read about permanent connections and pooled connections, but not able to decide how to pursue that.</p>\n\n<p>I am using pgjdbc (<a href=\"http://impossibl.github.io/pgjdbc-ng/\" rel=\"nofollow\">http://impossibl.github.io/pgjdbc-ng/</a>) jar for async notifications as jdbc connection requires polling.  </p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>When I try the above listener with polling by using the standard jdbc jar (not pgjdbc), I get the notifications.</p>\n\n<p>I do \n <code>PGNotification notif[]  =  con.getNotifications()</code>\nand I get notifications, however doing it asynchronously like below I don't get notifications.</p>\n\n<pre><code>    pgConnection.addNotificationListener(new PGNotificationListener() {\n\n         @Override\n         public void notification(int processId, String channelName, String payload){\n\n            System.out.println(\"*********INSIDE NOTIFICATION*************\");\n         }\n</code></pre>\n\n<p><strong>SOLVED:</strong></p>\n\n<p>My listener <strong>was going out of scope</strong> after the function execution was completed as my listener had the function scope. So kept it into a member variable of my startup bean class and then it worked.</p>\n"},{"tags":["java","selenium","selenium-webdriver","automation","selenium-chromedriver"],"comments":[{"owner":{"account_id":6607120,"reputation":385,"user_id":10982121,"display_name":"steven01804"},"score":2,"creation_date":1653543773,"post_id":72387116,"comment_id":127878949,"body_markdown":"What is the html of the button when it is enabled and disabled?","body":"What is the html of the button when it is enabled and disabled?"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1653544037,"post_id":72387116,"comment_id":127879009,"body_markdown":"Steve is correct, we would need HTML when the button does not have `display: none` also when it does have `display: none`","body":"Steve is correct, we would need HTML when the button does not have <code>display: none</code> also when it does have <code>display: none</code>"},{"owner":{"account_id":6607120,"reputation":385,"user_id":10982121,"display_name":"steven01804"},"score":0,"creation_date":1653548115,"post_id":72387116,"comment_id":127879903,"body_markdown":"You can also try `driver.findElement(By.id(&quot;myID&quot;)).getCssValue(&quot;display&quot;) != &quot;none&quot;`","body":"You can also try <code>driver.findElement(By.id(&quot;myID&quot;)).getCssValue(&quot;display&quot;) != &quot;none&quot;</code>"},{"owner":{"account_id":19546691,"reputation":3,"user_id":14303287,"display_name":"Jaderson Rocha Gomes"},"score":0,"creation_date":1653573907,"post_id":72387116,"comment_id":127888347,"body_markdown":"Btn displayed: `&lt;button data-posts-count=&quot;51&quot; class=&quot;btn btn-large btn-blue btn-blue-hover-blue-dark btn-load-more btn-load-more-posts&quot;&gt; &lt;span class=&quot;caption&quot;&gt;Load more&lt;/span&gt; &lt;span class=&quot;ajax-spinner&quot;&gt;&lt;/span&gt; &lt;/button&gt;`\nBtn not displayed: `&lt;button data-posts-count=&quot;51&quot; class=&quot;btn btn-large btn-blue btn-blue-hover-blue-dark btn-load-more btn-load-more-posts&quot; style=&quot;display: none;&quot;&gt; &lt;span class=&quot;caption&quot;&gt;Load more&lt;/span&gt; &lt;span class=&quot;ajax-spinner&quot;&gt;&lt;/span&gt; &lt;/button&gt;`","body":"Btn displayed: <code>&lt;button data-posts-count=&quot;51&quot; class=&quot;btn btn-large btn-blue btn-blue-hover-blue-dark btn-load-more btn-load-more-posts&quot;&gt; &lt;span class=&quot;caption&quot;&gt;Load more&lt;&#47;span&gt; &lt;span class=&quot;ajax-spinner&quot;&gt;&lt;&#47;span&gt; &lt;&#47;button&gt;</code> Btn not displayed: <code>&lt;button data-posts-count=&quot;51&quot; class=&quot;btn btn-large btn-blue btn-blue-hover-blue-dark btn-load-more btn-load-more-posts&quot; style=&quot;display: none;&quot;&gt; &lt;span class=&quot;caption&quot;&gt;Load more&lt;&#47;span&gt; &lt;span class=&quot;ajax-spinner&quot;&gt;&lt;&#47;span&gt; &lt;&#47;button&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":25340921,"reputation":11,"user_id":19159309,"display_name":"htom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653549412,"creation_date":1653549412,"answer_id":72388156,"question_id":72387116,"body_markdown":"You can wait for element&#39;s attribute changed, just use [ExpectedCondition class][1]\r\nfor example: \r\n\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(15));\r\n    wait.until(ExpectedConditions.attributeToBe(buttonWebElement, &quot;style&quot;, &quot;display: none;&quot;)\r\n\r\nor wait for element displayed with the attribute, for example: \r\n\r\n    wait.visibilityOf(driver.findElement(By.xpath(&quot;//button[@style=&#39;display: none;&#39;]&quot;)))\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/blob/trunk/java/src/org/openqa/selenium/support/ui/ExpectedConditions.java","title":"Selenium - How to check if a &quot;Load More&quot; button is clickable/disabled?","body":"<p>You can wait for element's attribute changed, just use <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/src/org/openqa/selenium/support/ui/ExpectedConditions.java\" rel=\"nofollow noreferrer\">ExpectedCondition class</a>\nfor example:</p>\n<pre><code>    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(15));\nwait.until(ExpectedConditions.attributeToBe(buttonWebElement, &quot;style&quot;, &quot;display: none;&quot;)\n</code></pre>\n<p>or wait for element displayed with the attribute, for example:</p>\n<pre><code>wait.visibilityOf(driver.findElement(By.xpath(&quot;//button[@style='display: none;']&quot;)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19546691,"reputation":3,"user_id":14303287,"display_name":"Jaderson Rocha Gomes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653692328,"creation_date":1653692328,"answer_id":72411755,"question_id":72387116,"body_markdown":"In the end, I used try/catch for the Load More button. So when it could not be more &quot;clickable&quot; it would throw an exception. \r\n\r\n&quot;isDisplayed&quot;, &quot;isEnabled&quot;, ExpectedConditions.attributeToBe as mentioned by others did not work.\r\n\r\nHere&#39;s the code:\r\n```\r\npublic void goToArticle(String title){\r\n        int count = 0;\r\n        while(true){\r\n            for(WebElement article:articlesLink){\r\n                if(article.getText().equals(title)){\r\n                    scrollIntoCenter(article);\r\n                    clickArticle(article);\r\n                    break;\r\n                } else {\r\n                    scrollIntoCenter(lastArticle());\r\n                }\r\n            }\r\n            try {\r\n                hoverAndClick(loadMoreBtn);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;No more load button&quot;);\r\n                count++;\r\n                if (count &gt; 1){\r\n                    System.out.println(&quot;No article found&quot;);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n    }","title":"Selenium - How to check if a &quot;Load More&quot; button is clickable/disabled?","body":"<p>In the end, I used try/catch for the Load More button. So when it could not be more &quot;clickable&quot; it would throw an exception.</p>\n<p>&quot;isDisplayed&quot;, &quot;isEnabled&quot;, ExpectedConditions.attributeToBe as mentioned by others did not work.</p>\n<p>Here's the code:</p>\n<pre><code>public void goToArticle(String title){\n        int count = 0;\n        while(true){\n            for(WebElement article:articlesLink){\n                if(article.getText().equals(title)){\n                    scrollIntoCenter(article);\n                    clickArticle(article);\n                    break;\n                } else {\n                    scrollIntoCenter(lastArticle());\n                }\n            }\n            try {\n                hoverAndClick(loadMoreBtn);\n            } catch (Exception e) {\n                System.out.println(&quot;No more load button&quot;);\n                count++;\n                if (count &gt; 1){\n                    System.out.println(&quot;No article found&quot;);\n                    break;\n                }\n            }\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":19546691,"reputation":3,"user_id":14303287,"display_name":"Jaderson Rocha Gomes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72411755,"answer_count":2,"score":0,"last_activity_date":1653692328,"creation_date":1653542978,"question_id":72387116,"body_markdown":"I gotta scroll down a list of articles from a Blog until I find a specific article. For that there is a &quot;Load More&quot; button which gives you more and more articles until there&#39;s no more articles to load, so the button disappears, it gets disabled (at least thats what I thought).\r\n\r\nMy idea was to have a &quot;while&quot; loop until the button gets disabled, meanwhile it would check if the requested article showed up:\r\n\r\n``` \r\npublic void scrollIntoArticle(String title){\r\n        while(loadMoreBtn.isEnabled()){\r\n            for(WebElement article : articlesList){\r\n                if(article.getText().equals(title)){\r\n                    scrollInto(article);\r\n                    hoverAndClick(article);\r\n                    break;\r\n                } else{\r\n                    scrollInto(lastArticle());\r\n                    hoverAndClick(loadMoreBtn);\r\n                }\r\n            }\r\n        }\r\n    } \r\n```\r\nHowever, it keeps getting an error: &quot;waiting for visibility of element&quot;. Trying with &quot;isDisplayed&quot; I get the same issue.\r\n\r\nSo apparently the button never gets &quot;disabled&quot;. The only thing that happens to the element is to get a new attribute on HTML: style=&quot;display: none;&quot;. For Selenium, &quot;isEnabled&quot; is always true, so the loop keeps going, &quot;waiting for visibility of element&quot;. \r\n\r\nI am stuck, cannot figure out what condition I can use to check if all the articles got loaded up without checking the &quot;Load More&quot; button. Any suggestions? Appreciate the help!","title":"Selenium - How to check if a &quot;Load More&quot; button is clickable/disabled?","body":"<p>I gotta scroll down a list of articles from a Blog until I find a specific article. For that there is a &quot;Load More&quot; button which gives you more and more articles until there's no more articles to load, so the button disappears, it gets disabled (at least thats what I thought).</p>\n<p>My idea was to have a &quot;while&quot; loop until the button gets disabled, meanwhile it would check if the requested article showed up:</p>\n<pre><code>public void scrollIntoArticle(String title){\n        while(loadMoreBtn.isEnabled()){\n            for(WebElement article : articlesList){\n                if(article.getText().equals(title)){\n                    scrollInto(article);\n                    hoverAndClick(article);\n                    break;\n                } else{\n                    scrollInto(lastArticle());\n                    hoverAndClick(loadMoreBtn);\n                }\n            }\n        }\n    } \n</code></pre>\n<p>However, it keeps getting an error: &quot;waiting for visibility of element&quot;. Trying with &quot;isDisplayed&quot; I get the same issue.</p>\n<p>So apparently the button never gets &quot;disabled&quot;. The only thing that happens to the element is to get a new attribute on HTML: style=&quot;display: none;&quot;. For Selenium, &quot;isEnabled&quot; is always true, so the loop keeps going, &quot;waiting for visibility of element&quot;.</p>\n<p>I am stuck, cannot figure out what condition I can use to check if all the articles got loaded up without checking the &quot;Load More&quot; button. Any suggestions? Appreciate the help!</p>\n"},{"tags":["java","spring","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":19560342,"reputation":75,"user_id":14313697,"display_name":"PoYu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653618644,"creation_date":1653618644,"answer_id":72399858,"question_id":72389685,"body_markdown":"I think I have the same question as you, hope someone can solve our problem.\r\n\r\nIn my case, I also want to got a return object like PowerMock.whenNew().withArguments().thenReturn(someThing), I try a lot of times but it failed. \r\nI think mockConstruction just only can mock their behavior, can&#39;t verify their result like powerMock, and I couldn&#39;t find any articles or answers.\r\nbelow is my post link : \r\n\r\nhttps://stackoverflow.com/questions/72394231/junit-5-use-mockconstruction-withsetting-useconstructor-instead-of-powermo","title":"Mockito.mockConstruction does not return the mocked object","body":"<p>I think I have the same question as you, hope someone can solve our problem.</p>\n<p>In my case, I also want to got a return object like PowerMock.whenNew().withArguments().thenReturn(someThing), I try a lot of times but it failed.\nI think mockConstruction just only can mock their behavior, can't verify their result like powerMock, and I couldn't find any articles or answers.\nbelow is my post link :</p>\n<p><a href=\"https://stackoverflow.com/questions/72394231/junit-5-use-mockconstruction-withsetting-useconstructor-instead-of-powermo\">Junit 5 use mockConstruction().withSetting().useConstructor() instead of PowerMock.whenNew().withArguments()</a></p>\n"},{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1653692133,"creation_date":1653691729,"answer_id":72411719,"question_id":72389685,"body_markdown":"You can access mocks that were created during the instantiation of your objects via [MockedConstruction&lt;T&gt;.constructed()][1] method. It represents a collection of mocks that are created after each constructor&#39;s execution. If your object will be instantiated 3 times `MockedConstruction&lt;T&gt;.constructed()` will return 3 different mock objects for each instantiation.\r\n&lt;br&gt;According to documentation `MockedConstruction&lt;T&gt;`\r\n&gt; Represents a mock of any object construction of the represented type.\r\n&gt; Within the scope of the mocked construction, the invocation of any\r\n&gt; interceptor will generate a mock which will be prepared as specified\r\n&gt; when generating this scope. The mock can also be received via this\r\n&gt; instance.\r\n\r\nSimple implementation with comments below shows how to get mocks from `MockedConstruction` and verify them:\r\n```java\r\npublic class A {\r\n    private final String test;\r\n\r\n    public A(String test) {\r\n        this.test = test;\r\n    }\r\n\r\n    public String check() {\r\n        return &quot;checked &quot; + this.test;\r\n    }\r\n}\r\n\r\npublic class TestService {\r\n    public String purchaseProduct(String param) {\r\n        A a = new A(param);\r\n        return a.check();\r\n    }\r\n}\r\n\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedConstruction;\r\nimport org.mockito.Mockito;\r\n\r\nimport static org.mockito.Mockito.*;\r\n\r\npublic class ConstructorMockTest {\r\n    private MockedConstruction&lt;A&gt; mockAController;\r\n\r\n    @BeforeEach\r\n    public void beginTest() {\r\n        //create mock controller for all constructors of the given class\r\n        mockAController = Mockito.mockConstruction(A.class,\r\n                (mock, context) -&gt; {\r\n                    //implement initializer for mock. Set return value for object A mock methods\r\n                    when(mock.check()).thenReturn(&quot; Constructor Mock A &quot;);\r\n                });\r\n    }\r\n\r\n    @Test\r\n    public void test() {\r\n        //each instantiation of class A will return new mock, which initialized by initializer from beginTest method\r\n        //new mock will be stored to mockAController.constructed() collection of mocks\r\n        A aObject = new A(&quot;test&quot;);\r\n        //ensure that method check() returns mocked value\r\n        Assertions.assertEquals(aObject.check(), &quot; Constructor Mock A &quot;);\r\n        //get just created mock for class A from controller. It will be first element of mockAController.constructed() collection\r\n        A aMock = mockAController.constructed().get(0);\r\n        //ensure that we get correct mock from mock controller, that it is equal from new created object\r\n        Assertions.assertEquals(aMock, aObject);\r\n        //verify that check method was executed on Mock\r\n        verify(aMock, times(1)).check();\r\n\r\n        //create new A object, new mock created and stored to mockAController.constructed()\r\n        A aObject2 = new A(&quot;test&quot;);\r\n        //ensure that method check() returns mocked value\r\n        Assertions.assertEquals(aObject2.check(), &quot; Constructor Mock A &quot;);\r\n        //get just created mock for class A from controller, it will be second object from constructed collection\r\n        A aMock2 = mockAController.constructed().get(1);\r\n        //ensure that we get correct mock from mock controller, that it is equal from just created A object\r\n        Assertions.assertEquals(aObject2, aMock2);\r\n        //verify that check method was executed on Mock\r\n        verify(aMock2, times(1)).check();\r\n\r\n        //Example of testing service which creates A object\r\n        TestService service = new TestService();\r\n        String serviceResult = service.purchaseProduct(&quot;test&quot;);\r\n        //ensure that service returned value  from A mock\r\n        Assertions.assertEquals(serviceResult, &quot; Constructor Mock A &quot;);\r\n        //get just created mock for class A from controller, it will be third object from constructed collection\r\n        A aMock3 = mockAController.constructed().get(2);\r\n        //verify that check method was executed on Mock\r\n        verify(aMock3, times(1)).check();\r\n    }\r\n\r\n    @AfterEach\r\n    public void endTest() {\r\n        mockAController.close();\r\n    }\r\n}\r\n```\r\nLet&#39;s rewrite your test. I do not have the full code, but I will try to create an example with comments:\r\n```java\r\n    @Test\r\n    void shouldThrowException() throws Exception {\r\n        //given\r\n        UrlLinkDto urlLinkDto =\r\n                UrlPartLinkDto.builder().callId(&quot;333&quot;).videoId(&quot;5555544&quot;).build();\r\n        ArgumentCaptor&lt;UrlPartLinkDto&gt; argumentCaptor = ArgumentCaptor.forClass(UrlPartLinkDto.class);\r\n\r\n        try (MockedConstruction&lt;ObjectMapper&gt; objectMapperMockedConstruction = mockConstruction(ObjectMapper.class,\r\n                (objectMapper, context) -&gt; {\r\n                     //initialize ObjectMapper mock to throw exception when argumentCaptor will come to writeValueAsString method\r\n                    doThrow(JsonProcessingException.class).when(objectMapper).writeValueAsString(argumentCaptor.capture());\r\n                })) {\r\n\r\n            //execute service for testing and catch exception\r\n            Throwable throwable = catchThrowable(() -&gt; partUnlinkService.unlink(urlLinkDto, false));\r\n\r\n            //verify that inner service was executed\r\n            verify(partLogCheckService, times(1)).checkForExistingVideo(urlLinkDto.getVideoId());\r\n\r\n            //verify that ObjectMapper was instantiated\r\n            Assertions.assertEquals(1, objectMapperMockedConstruction.constructed().size());\r\n            //get mock of ObjectMapper which was instantiated during service execution\r\n            ObjectMapper objectMapper = objectMapperMockedConstruction.constructed().get(0);\r\n            //verify that writeValueAsString was executed\r\n            verify(objectMapper, times(1)).writeValueAsString(argumentCaptor.capture());\r\n\r\n            //check that exception is correct\r\n            assertThat(throwable).isInstanceOf(JsonProcessingException.class);\r\n        }\r\n    }\r\n```\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockedConstruction.html","title":"Mockito.mockConstruction does not return the mocked object","body":"<p>You can access mocks that were created during the instantiation of your objects via <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockedConstruction.html\" rel=\"noreferrer\">MockedConstruction.constructed()</a> method. It represents a collection of mocks that are created after each constructor's execution. If your object will be instantiated 3 times <code>MockedConstruction&lt;T&gt;.constructed()</code> will return 3 different mock objects for each instantiation.\n<br>According to documentation <code>MockedConstruction&lt;T&gt;</code></p>\n<blockquote>\n<p>Represents a mock of any object construction of the represented type.\nWithin the scope of the mocked construction, the invocation of any\ninterceptor will generate a mock which will be prepared as specified\nwhen generating this scope. The mock can also be received via this\ninstance.</p>\n</blockquote>\n<p>Simple implementation with comments below shows how to get mocks from <code>MockedConstruction</code> and verify them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    private final String test;\n\n    public A(String test) {\n        this.test = test;\n    }\n\n    public String check() {\n        return &quot;checked &quot; + this.test;\n    }\n}\n\npublic class TestService {\n    public String purchaseProduct(String param) {\n        A a = new A(param);\n        return a.check();\n    }\n}\n\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockedConstruction;\nimport org.mockito.Mockito;\n\nimport static org.mockito.Mockito.*;\n\npublic class ConstructorMockTest {\n    private MockedConstruction&lt;A&gt; mockAController;\n\n    @BeforeEach\n    public void beginTest() {\n        //create mock controller for all constructors of the given class\n        mockAController = Mockito.mockConstruction(A.class,\n                (mock, context) -&gt; {\n                    //implement initializer for mock. Set return value for object A mock methods\n                    when(mock.check()).thenReturn(&quot; Constructor Mock A &quot;);\n                });\n    }\n\n    @Test\n    public void test() {\n        //each instantiation of class A will return new mock, which initialized by initializer from beginTest method\n        //new mock will be stored to mockAController.constructed() collection of mocks\n        A aObject = new A(&quot;test&quot;);\n        //ensure that method check() returns mocked value\n        Assertions.assertEquals(aObject.check(), &quot; Constructor Mock A &quot;);\n        //get just created mock for class A from controller. It will be first element of mockAController.constructed() collection\n        A aMock = mockAController.constructed().get(0);\n        //ensure that we get correct mock from mock controller, that it is equal from new created object\n        Assertions.assertEquals(aMock, aObject);\n        //verify that check method was executed on Mock\n        verify(aMock, times(1)).check();\n\n        //create new A object, new mock created and stored to mockAController.constructed()\n        A aObject2 = new A(&quot;test&quot;);\n        //ensure that method check() returns mocked value\n        Assertions.assertEquals(aObject2.check(), &quot; Constructor Mock A &quot;);\n        //get just created mock for class A from controller, it will be second object from constructed collection\n        A aMock2 = mockAController.constructed().get(1);\n        //ensure that we get correct mock from mock controller, that it is equal from just created A object\n        Assertions.assertEquals(aObject2, aMock2);\n        //verify that check method was executed on Mock\n        verify(aMock2, times(1)).check();\n\n        //Example of testing service which creates A object\n        TestService service = new TestService();\n        String serviceResult = service.purchaseProduct(&quot;test&quot;);\n        //ensure that service returned value  from A mock\n        Assertions.assertEquals(serviceResult, &quot; Constructor Mock A &quot;);\n        //get just created mock for class A from controller, it will be third object from constructed collection\n        A aMock3 = mockAController.constructed().get(2);\n        //verify that check method was executed on Mock\n        verify(aMock3, times(1)).check();\n    }\n\n    @AfterEach\n    public void endTest() {\n        mockAController.close();\n    }\n}\n</code></pre>\n<p>Let's rewrite your test. I do not have the full code, but I will try to create an example with comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void shouldThrowException() throws Exception {\n        //given\n        UrlLinkDto urlLinkDto =\n                UrlPartLinkDto.builder().callId(&quot;333&quot;).videoId(&quot;5555544&quot;).build();\n        ArgumentCaptor&lt;UrlPartLinkDto&gt; argumentCaptor = ArgumentCaptor.forClass(UrlPartLinkDto.class);\n\n        try (MockedConstruction&lt;ObjectMapper&gt; objectMapperMockedConstruction = mockConstruction(ObjectMapper.class,\n                (objectMapper, context) -&gt; {\n                     //initialize ObjectMapper mock to throw exception when argumentCaptor will come to writeValueAsString method\n                    doThrow(JsonProcessingException.class).when(objectMapper).writeValueAsString(argumentCaptor.capture());\n                })) {\n\n            //execute service for testing and catch exception\n            Throwable throwable = catchThrowable(() -&gt; partUnlinkService.unlink(urlLinkDto, false));\n\n            //verify that inner service was executed\n            verify(partLogCheckService, times(1)).checkForExistingVideo(urlLinkDto.getVideoId());\n\n            //verify that ObjectMapper was instantiated\n            Assertions.assertEquals(1, objectMapperMockedConstruction.constructed().size());\n            //get mock of ObjectMapper which was instantiated during service execution\n            ObjectMapper objectMapper = objectMapperMockedConstruction.constructed().get(0);\n            //verify that writeValueAsString was executed\n            verify(objectMapper, times(1)).writeValueAsString(argumentCaptor.capture());\n\n            //check that exception is correct\n            assertThat(throwable).isInstanceOf(JsonProcessingException.class);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20084709,"reputation":216,"user_id":14726554,"display_name":"Emre Varol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17639,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72411719,"answer_count":2,"score":5,"last_activity_date":1653692133,"creation_date":1653557551,"question_id":72389685,"body_markdown":"I don&#39;t want to use powermock anymore. Because junit5 started mocking static classes. So i am trying to get rid of powermock methods.\r\n\r\nAs you know, you can create an instance of a class with whenNew keyword. So i decided to use &quot; mockConstruction &quot; . But mockConstruction does not return the mocked object. It doesn&#39;t go inside the try block.\r\n\r\nThis is my BeforeEach method:\r\n\r\n  \r\n\r\n     @BeforeEach\r\n        void setUp() {\r\n            partUnlinkService =\r\n                spy(new PartVideoUnlinkService(part1, part2,\r\n                    part3));\r\n        }\r\n\r\nThis is my test method:\r\n\r\n      @Test\r\n        void shouldThrowException() throws Exception {\r\n            //given\r\n            UrlLinkDto urlLinkDto =\r\n                UrlPartLinkDto.builder().callId(&quot;333&quot;).videoId(&quot;5555544&quot;).build();\r\n            ArgumentCaptor&lt;UrlPartLinkDto&gt; argumentCaptor = ArgumentCaptor.forClass(UrlPartLinkDto.class);\r\n            //when\r\n            try (MockedConstruction&lt;ObjectMapper&gt; ignoredVariable = mockConstruction(ObjectMapper.class,\r\n                (objectMapper, context) -&gt; {\r\n                    //then\r\n                    partUnlinkService.unlink(urlLinkDto, false);\r\n                    verify(partLogCheckService, times(1)).checkForExistingVideo(\r\n                        urlLinkDto.getVideoId());\r\n                    verify(objectMapper, times(1)).writeValueAsString(argumentCaptor.capture());\r\n                    Throwable throwable =\r\n                        catchThrowable(() -&gt; objectMapper.writeValueAsString(argumentCaptor.capture()));\r\n                    assertThat(throwable).isInstanceOf(JsonProcessingException.class);\r\n                })) {\r\n            } \r\n        }\r\n\r\n\r\nAny help would be appreciated.","title":"Mockito.mockConstruction does not return the mocked object","body":"<p>I don't want to use powermock anymore. Because junit5 started mocking static classes. So i am trying to get rid of powermock methods.</p>\n<p>As you know, you can create an instance of a class with whenNew keyword. So i decided to use &quot; mockConstruction &quot; . But mockConstruction does not return the mocked object. It doesn't go inside the try block.</p>\n<p>This is my BeforeEach method:</p>\n<pre><code> @BeforeEach\n    void setUp() {\n        partUnlinkService =\n            spy(new PartVideoUnlinkService(part1, part2,\n                part3));\n    }\n</code></pre>\n<p>This is my test method:</p>\n<pre><code>  @Test\n    void shouldThrowException() throws Exception {\n        //given\n        UrlLinkDto urlLinkDto =\n            UrlPartLinkDto.builder().callId(&quot;333&quot;).videoId(&quot;5555544&quot;).build();\n        ArgumentCaptor&lt;UrlPartLinkDto&gt; argumentCaptor = ArgumentCaptor.forClass(UrlPartLinkDto.class);\n        //when\n        try (MockedConstruction&lt;ObjectMapper&gt; ignoredVariable = mockConstruction(ObjectMapper.class,\n            (objectMapper, context) -&gt; {\n                //then\n                partUnlinkService.unlink(urlLinkDto, false);\n                verify(partLogCheckService, times(1)).checkForExistingVideo(\n                    urlLinkDto.getVideoId());\n                verify(objectMapper, times(1)).writeValueAsString(argumentCaptor.capture());\n                Throwable throwable =\n                    catchThrowable(() -&gt; objectMapper.writeValueAsString(argumentCaptor.capture()));\n                assertThat(throwable).isInstanceOf(JsonProcessingException.class);\n            })) {\n        } \n    }\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","hibernate","jpa","google-cloud-sql"],"comments":[{"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"score":0,"creation_date":1653879316,"post_id":72411673,"comment_id":127950975,"body_markdown":"Can you share your pom.xml to us to know what version of `Guava` you&#39;re using?","body":"Can you share your pom.xml to us to know what version of <code>Guava</code> you&#39;re using?"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1654000201,"post_id":72411673,"comment_id":127983400,"body_markdown":"@CatherineO This project doesn&#39;t use `Guava` at all and that method error is coming from `mysql-socket-factory` dependency if so.","body":"@CatherineO This project doesn&#39;t use <code>Guava</code> at all and that method error is coming from <code>mysql-socket-factory</code> dependency if so."},{"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"score":0,"creation_date":1654068653,"post_id":72411673,"comment_id":128001074,"body_markdown":"I found this [post](https://stackoverflow.com/questions/61735945/error-in-connecting-to-google-cloud-sql-com-google-cloud-sql-mysql-socketfactory) that might help. Also you may want to check the version of `mysql-socket-factory` that you use, it might be a version issue.","body":"I found this <a href=\"https://stackoverflow.com/questions/61735945/error-in-connecting-to-google-cloud-sql-com-google-cloud-sql-mysql-socketfactory\">post</a> that might help. Also you may want to check the version of <code>mysql-socket-factory</code> that you use, it might be a version issue."},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1654094413,"post_id":72411673,"comment_id":128010513,"body_markdown":"@CatherineO Yeah, I have tried to downgrade version and change connector to j-8 but did not help at all. Probably the app is too old to get it to work using instance connection name","body":"@CatherineO Yeah, I have tried to downgrade version and change connector to j-8 but did not help at all. Probably the app is too old to get it to work using instance connection name"}],"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653691122,"creation_date":1653691122,"question_id":72411673,"body_markdown":"I&#39;m trying to connect an old MVC Java web-app to the Cloud SQL using provided instance connection name following steps from https://github.com/GoogleCloudPlatform/cloud-sql-jdbc-socket-factory/blob/main/docs/jdbc-mysql.md \r\n\r\nRelated part of the code looks like:\r\n\r\n```\r\n      JDBCDriverInfo driverInfo = databaseInfo.getJDBCDriverInfo();\r\n\r\n      try {\r\n         Map&lt;String, String&gt; properties = new HashMap&lt;String, String&gt;();\r\n         properties.put(&quot;javax.persistence.jdbc.url&quot;, driverInfo.getJDBCUrl());\r\n         properties.put(&quot;javax.persistence.jdbc.driver&quot;, driverInfo.getJDBCDriver());\r\n\r\n         String username = databaseInfo.getUsername();\r\n         if (username != null &amp;&amp; !username.isEmpty()) {\r\n            properties.put(&quot;javax.persistence.jdbc.user&quot;, username);\r\n         }\r\n\r\n         String password = databaseInfo.getPassword();\r\n         if (password != null &amp;&amp; !password.isEmpty()) {\r\n            properties.put(&quot;javax.persistence.jdbc.password&quot;, password);\r\n         }\r\n\r\n         EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;AppPU&quot;, properties);\r\n         DBFactoryInfo factoryInfo = new DBFactoryInfo(factory);\r\n         dbFactories.put(databaseInfo.getDatasource(), factoryInfo);\r\n\r\n         String message = &quot;Created EntityManagerFactory for &quot; + databaseInfo.getDatasource() + &quot;, user &quot; + databaseInfo.getUsername() + &quot;, at &quot;\r\n               + driverInfo.getJDBCUrl() + &quot;.&quot;;\r\n         Logger.log(JPAUtils.class, Level.INFO, message);\r\n      }\r\n```\r\n\r\nwhere\r\n\r\n```\r\n   public MySQLDriverInfo(String ip, String schema) {\r\n      this.ip = ip;\r\n      this.schema = schema;\r\n   }\r\n\r\n   @Override\r\n   public String getJDBCDriver() {\r\n      String jdbcDriver = &quot;com.mysql.jdbc.Driver&quot;;\r\n      return jdbcDriver;\r\n   }\r\n\r\n   @Override\r\n   public String getJDBCUrl() {\r\n      //String dbUrl = &quot;jdbc:mysql:///&lt;DATABASE_NAME&gt;?cloudSqlInstance=&lt;INSTANCE_CONNECTION_NAME&gt;&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=&lt;MYSQL_USER_NAME&gt;&amp;password=&lt;MYSQL_USER_PASSWORD&gt;&quot;\r\n      String dbUrl = &quot;jdbc:mysql:///my_db?cloudSqlInstance=test:us-east4:cloud-sql&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=me&amp;password=*****&quot;;\r\n      return dbUrl;\r\n   }\r\n```\r\n\r\nbut that will fail to create `Persistence.createEntityManagerFactory(&quot;AppPU&quot;, properties);` as `Unable to build entity manager factory. NoSuchMethodError thrown. Possible issue with database or database data: com.google.common.util.concurrent.RateLimiter.acquire(I)D`","title":"Use Cloud SQL Instance connection name with Hibernate EntityManagerFactory","body":"<p>I'm trying to connect an old MVC Java web-app to the Cloud SQL using provided instance connection name following steps from <a href=\"https://github.com/GoogleCloudPlatform/cloud-sql-jdbc-socket-factory/blob/main/docs/jdbc-mysql.md\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/cloud-sql-jdbc-socket-factory/blob/main/docs/jdbc-mysql.md</a></p>\n<p>Related part of the code looks like:</p>\n<pre><code>      JDBCDriverInfo driverInfo = databaseInfo.getJDBCDriverInfo();\n\n      try {\n         Map&lt;String, String&gt; properties = new HashMap&lt;String, String&gt;();\n         properties.put(&quot;javax.persistence.jdbc.url&quot;, driverInfo.getJDBCUrl());\n         properties.put(&quot;javax.persistence.jdbc.driver&quot;, driverInfo.getJDBCDriver());\n\n         String username = databaseInfo.getUsername();\n         if (username != null &amp;&amp; !username.isEmpty()) {\n            properties.put(&quot;javax.persistence.jdbc.user&quot;, username);\n         }\n\n         String password = databaseInfo.getPassword();\n         if (password != null &amp;&amp; !password.isEmpty()) {\n            properties.put(&quot;javax.persistence.jdbc.password&quot;, password);\n         }\n\n         EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;AppPU&quot;, properties);\n         DBFactoryInfo factoryInfo = new DBFactoryInfo(factory);\n         dbFactories.put(databaseInfo.getDatasource(), factoryInfo);\n\n         String message = &quot;Created EntityManagerFactory for &quot; + databaseInfo.getDatasource() + &quot;, user &quot; + databaseInfo.getUsername() + &quot;, at &quot;\n               + driverInfo.getJDBCUrl() + &quot;.&quot;;\n         Logger.log(JPAUtils.class, Level.INFO, message);\n      }\n</code></pre>\n<p>where</p>\n<pre><code>   public MySQLDriverInfo(String ip, String schema) {\n      this.ip = ip;\n      this.schema = schema;\n   }\n\n   @Override\n   public String getJDBCDriver() {\n      String jdbcDriver = &quot;com.mysql.jdbc.Driver&quot;;\n      return jdbcDriver;\n   }\n\n   @Override\n   public String getJDBCUrl() {\n      //String dbUrl = &quot;jdbc:mysql:///&lt;DATABASE_NAME&gt;?cloudSqlInstance=&lt;INSTANCE_CONNECTION_NAME&gt;&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=&lt;MYSQL_USER_NAME&gt;&amp;password=&lt;MYSQL_USER_PASSWORD&gt;&quot;\n      String dbUrl = &quot;jdbc:mysql:///my_db?cloudSqlInstance=test:us-east4:cloud-sql&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=me&amp;password=*****&quot;;\n      return dbUrl;\n   }\n</code></pre>\n<p>but that will fail to create <code>Persistence.createEntityManagerFactory(&quot;AppPU&quot;, properties);</code> as <code>Unable to build entity manager factory. NoSuchMethodError thrown. Possible issue with database or database data: com.google.common.util.concurrent.RateLimiter.acquire(I)D</code></p>\n"},{"tags":["java","ubuntu","netbeans","netbeans-11"],"comments":[{"owner":{"account_id":3588133,"reputation":141,"user_id":2994783,"display_name":"user2994783"},"score":0,"creation_date":1615074479,"post_id":58825429,"comment_id":117580254,"body_markdown":"I tried the above command but I am getting the error: $ netbeans --jdkhome ~/.sdkman/candidates/java/latest\nCannot find java. Please use the --jdkhome switch.","body":"I tried the above command but I am getting the error: $ netbeans --jdkhome ~/.sdkman/candidates/java/latest Cannot find java. Please use the --jdkhome switch."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573664071,"creation_date":1573664071,"answer_id":58841936,"question_id":58825429,"body_markdown":"There is no direct solution to your problem using snap. See &quot;[Why can snap files not be modified in any way?][1]&quot;:\r\n\r\n&gt; It&#39;s impossible to change the contents of the snap without re-building\r\n&gt; the snap. This is primarily a security measure, to ensure that the\r\n&gt; snap hasn&#39;t been tampered with.\r\n\r\nHowever, there is a workaround: pass the path of the JDK to be used using the **--jdkhome** parameter when starting NetBeans. For example, to start NetBeans 11.2 using JDK 8 on Windows on my PC:\r\n\r\n`C:\\NetBeans112\\bin\\netbeans.exe --jdkhome C:\\Java\\jdk1.8.0_221`\r\n\r\n[![consoleStartUp][3]][3]\r\n\r\nSee [Can I specify the JDK to run NetBeans on?][2] for further details.\r\n\r\n  [1]: https://askubuntu.com/q/919091\r\n  [2]: http://wiki.netbeans.org/FaqJdkHome\r\n  [3]: https://i.stack.imgur.com/57A64.png","title":"How to configure netbeans when installed as snap package?","body":"<p>There is no direct solution to your problem using snap. See \"<a href=\"https://askubuntu.com/q/919091\">Why can snap files not be modified in any way?</a>\":</p>\n\n<blockquote>\n  <p>It's impossible to change the contents of the snap without re-building\n  the snap. This is primarily a security measure, to ensure that the\n  snap hasn't been tampered with.</p>\n</blockquote>\n\n<p>However, there is a workaround: pass the path of the JDK to be used using the <strong>--jdkhome</strong> parameter when starting NetBeans. For example, to start NetBeans 11.2 using JDK 8 on Windows on my PC:</p>\n\n<p><code>C:\\NetBeans112\\bin\\netbeans.exe --jdkhome C:\\Java\\jdk1.8.0_221</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/57A64.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/57A64.png\" alt=\"consoleStartUp\"></a></p>\n\n<p>See <a href=\"http://wiki.netbeans.org/FaqJdkHome\" rel=\"nofollow noreferrer\">Can I specify the JDK to run NetBeans on?</a> for further details.</p>\n"},{"tags":[],"owner":{"account_id":18438410,"reputation":126,"user_id":13431649,"display_name":"Kim Jersin"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1653689983,"creation_date":1588151317,"answer_id":61498091,"question_id":58825429,"body_markdown":"You CAN have user local versions of the netbeans configuration. Just copy the global netbeans.conf from the global snap location to your Netbeans user directory and make your changes there.\r\n\r\nExample for version 11.3 of Netbeans:\r\n&lt;pre&gt;\r\nmkdir -p ~/snap/netbeans/common/data/11.3/etc\r\ncp /snap/netbeans/current/netbeans/etc/netbeans.conf ~/snap/netbeans/common/data/11.3/etc/netbeans.conf\r\ngedit ~/snap/netbeans/common/data/11.3/etc/netbeans.conf\r\n&lt;/pre&gt;\r\n\r\nNOTE: You will need to repeat this process whenever the user directory changes as a result of a version update. Ie. from 11.3 -&gt; 12, etc.\r\n\r\nThis worked till **12.4**. Newer versions of the Snap package has changed the location of the NetBeans userdir so the script above would look like:\r\n\r\n&lt;pre&gt;\r\nmkdir -p ~/snap/netbeans/current/etc\r\ncp /snap/netbeans/current/netbeans/etc/netbeans.conf ~/snap/netbeans/current/etc/netbeans.conf\r\ngedit ~/snap/netbeans/current/etc/netbeans.conf\r\n&lt;/pre&gt;\r\n\r\nNOTE: You **will not need** to repeat this process on version updates.","title":"How to configure netbeans when installed as snap package?","body":"<p>You CAN have user local versions of the netbeans configuration. Just copy the global netbeans.conf from the global snap location to your Netbeans user directory and make your changes there.</p>\n<p>Example for version 11.3 of Netbeans:</p>\n<pre>\nmkdir -p ~/snap/netbeans/common/data/11.3/etc\ncp /snap/netbeans/current/netbeans/etc/netbeans.conf ~/snap/netbeans/common/data/11.3/etc/netbeans.conf\ngedit ~/snap/netbeans/common/data/11.3/etc/netbeans.conf\n</pre>\n<p>NOTE: You will need to repeat this process whenever the user directory changes as a result of a version update. Ie. from 11.3 -&gt; 12, etc.</p>\n<p>This worked till <strong>12.4</strong>. Newer versions of the Snap package has changed the location of the NetBeans userdir so the script above would look like:</p>\n<pre>\nmkdir -p ~/snap/netbeans/current/etc\ncp /snap/netbeans/current/netbeans/etc/netbeans.conf ~/snap/netbeans/current/etc/netbeans.conf\ngedit ~/snap/netbeans/current/etc/netbeans.conf\n</pre>\n<p>NOTE: You <strong>will not need</strong> to repeat this process on version updates.</p>\n"}],"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3018,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":61498091,"answer_count":2,"score":6,"last_activity_date":1653689983,"creation_date":1573586886,"question_id":58825429,"body_markdown":"I installed Netbeans 11.2 on Ubuntu 18.04 via snap.\r\n\r\nNow i want to configure Netbeans, modifying `netbeans.conf`. This file is placed at `/snap/netbeans/current/netbeans/etc/` and is mounted as read-only file system. So i assume you should not edit this file here.\r\n\r\nHow do i configure Netbeans if the classic way (editing `netbeans.conf`) is blocked?\r\n\r\nNote: I want to set `netbeans_jdkhome=&quot;~/.sdkman/candidates/java/latest/&quot;`.\r\n\r\n**UPDATE**\r\n\r\nThis works:\r\n\r\n    netbeans --jdkhome ~/.sdkman/candidates/java/latest\r\n","title":"How to configure netbeans when installed as snap package?","body":"<p>I installed Netbeans 11.2 on Ubuntu 18.04 via snap.</p>\n\n<p>Now i want to configure Netbeans, modifying <code>netbeans.conf</code>. This file is placed at <code>/snap/netbeans/current/netbeans/etc/</code> and is mounted as read-only file system. So i assume you should not edit this file here.</p>\n\n<p>How do i configure Netbeans if the classic way (editing <code>netbeans.conf</code>) is blocked?</p>\n\n<p>Note: I want to set <code>netbeans_jdkhome=\"~/.sdkman/candidates/java/latest/\"</code>.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>This works:</p>\n\n<pre><code>netbeans --jdkhome ~/.sdkman/candidates/java/latest\n</code></pre>\n"},{"tags":["java","xml","xml-parsing"],"comments":[{"owner":{"account_id":4697136,"reputation":61,"user_id":3801748,"display_name":"Darsh"},"score":0,"creation_date":1564402431,"post_id":57253405,"comment_id":101006982,"body_markdown":"thanks for your comment.","body":"thanks for your comment."}],"answers":[{"tags":[],"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1564403220,"creation_date":1564402595,"answer_id":57253703,"question_id":57253405,"body_markdown":"Terminology\r\n--\r\nIn your example, the `description` *element* has *mixed content*.  You&#39;re looking to extract the *text node* children of the `description` element. Identifying the right terminology is the first step to searching for answers (and narrowing overly broad questions).\r\n\r\nParsing XML\r\n---\r\n\r\n**...with Java in general**\r\n\r\n - https://stackoverflow.com/q/373833/290085\r\n - https://stackoverflow.com/questions/5059224/which-is-the-best-library-for-xml-parsing-in-java\r\n - https://stackoverflow.com/questions/4076910/how-to-retrieve-element-value-of-xml-using-java\r\n - https://stackoverflow.com/questions/1719261/is-there-an-easier-way-to-parse-xml-in-java\r\n\r\n**...with mixed content:**\r\n\r\n - https://stackoverflow.com/questions/37820152/parsing-mixed-content-xml-with-sax\r\n\r\n - https://stackoverflow.com/q/16231687/290085\r\n\r\n**...choosing parsing technology:**\r\n\r\nYou can find many tutorials on [choosing a parsing technology][1], but XPath is particularly well-suited for selecting parts of an XML document, and there are libraries available for most languages.\r\n\r\n**...via XPath, for example:**\r\n\r\nThis XPath,\r\n\r\n    //description/text()\r\n\r\nwill select all immediate text node children from the `description` element. It will not include the `p` elements or descendents thereof, as requested. \r\n\r\n  [1]: https://stackoverflow.com/questions/21019509/what-are-the-differences-between-dom-sax-and-stax-xml-parsers","title":"How to parse texts outside XML tag?","body":"<h2>Terminology</h2>\n\n<p>In your example, the <code>description</code> <em>element</em> has <em>mixed content</em>.  You're looking to extract the <em>text node</em> children of the <code>description</code> element. Identifying the right terminology is the first step to searching for answers (and narrowing overly broad questions).</p>\n\n<h2>Parsing XML</h2>\n\n<p><strong>...with Java in general</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/373833/290085\">Best XML parser for Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5059224/which-is-the-best-library-for-xml-parsing-in-java\">Which is the best library for XML parsing in java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4076910/how-to-retrieve-element-value-of-xml-using-java\">How to retrieve element value of XML using Java?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1719261/is-there-an-easier-way-to-parse-xml-in-java\">Is there an easier way to parse XML in Java?</a></li>\n</ul>\n\n<p><strong>...with mixed content:</strong></p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/37820152/parsing-mixed-content-xml-with-sax\">Parsing Mixed-Content XML with SAX</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/q/16231687/290085\">Problems parsing XML in Java</a></p></li>\n</ul>\n\n<p><strong>...choosing parsing technology:</strong></p>\n\n<p>You can find many tutorials on <a href=\"https://stackoverflow.com/questions/21019509/what-are-the-differences-between-dom-sax-and-stax-xml-parsers\">choosing a parsing technology</a>, but XPath is particularly well-suited for selecting parts of an XML document, and there are libraries available for most languages.</p>\n\n<p><strong>...via XPath, for example:</strong></p>\n\n<p>This XPath,</p>\n\n<pre><code>//description/text()\n</code></pre>\n\n<p>will select all immediate text node children from the <code>description</code> element. It will not include the <code>p</code> elements or descendents thereof, as requested. </p>\n"}],"owner":{"account_id":4697136,"reputation":61,"user_id":3801748,"display_name":"Darsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57253703,"answer_count":1,"score":2,"last_activity_date":1653689960,"creation_date":1564401504,"question_id":57253405,"body_markdown":"I want to parse texts that appear in XML file but outside XML tags. in the attached example I would like to parse only the texts that is outside of `p` tag, such as `&quot;FIELD OF THE TECHNOLOGY&quot;` and `&quot;DETAILED DESCRIPTION OF THE TECHNOLOGY&quot;`.\r\n\r\nAn example of my XML file is:\r\n\r\n    &lt;description&gt;                        \r\n    FIELD OF THE TECHNOLOGY\r\n    &lt;p&gt;The present technology is directed ....&lt;/p&gt;\r\n    &lt;p&gt;The present invention is.....&lt;/p&gt;\r\n    &lt;p&gt;One promising approach has ...,&lt;/p&gt;\r\n  \r\n\r\n    DETAILED DESCRIPTION OF THE TECHNOLOGY\r\n    &lt;p&gt;The present tech provides, ....&lt;/p&gt;\r\n    &lt;p&gt;A report by Kearse et al.,...&lt;/p&gt;\r\n    &lt;/description&gt;\r\n","title":"How to parse texts outside XML tag?","body":"<p>I want to parse texts that appear in XML file but outside XML tags. in the attached example I would like to parse only the texts that is outside of <code>p</code> tag, such as <code>\"FIELD OF THE TECHNOLOGY\"</code> and <code>\"DETAILED DESCRIPTION OF THE TECHNOLOGY\"</code>.</p>\n\n<p>An example of my XML file is:</p>\n\n<pre><code>&lt;description&gt;                        \nFIELD OF THE TECHNOLOGY\n&lt;p&gt;The present technology is directed ....&lt;/p&gt;\n&lt;p&gt;The present invention is.....&lt;/p&gt;\n&lt;p&gt;One promising approach has ...,&lt;/p&gt;\n\n\nDETAILED DESCRIPTION OF THE TECHNOLOGY\n&lt;p&gt;The present tech provides, ....&lt;/p&gt;\n&lt;p&gt;A report by Kearse et al.,...&lt;/p&gt;\n&lt;/description&gt;\n</code></pre>\n"},{"tags":["java","selenium","file-upload","webdriver","sendkeys"],"answers":[{"tags":[],"owner":{"account_id":9088496,"reputation":386,"user_id":6765457,"display_name":"FayazMd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475090087,"creation_date":1475090087,"answer_id":39755880,"question_id":39748411,"body_markdown":"From your explanation, I am assuming that, you have an HTML tag that allows you to upload a file from local drive but it is not enabled. Unless you hit submit button it wont allow you to upload a file.\r\n\r\nIn such case, try to edit the form tag to edit and then try to call sendKeys() method, and you can edit the html elements using javascript executor","title":"Uploading file in Selenium using sendKeys() is not working","body":"<p>From your explanation, I am assuming that, you have an HTML tag that allows you to upload a file from local drive but it is not enabled. Unless you hit submit button it wont allow you to upload a file.</p>\n\n<p>In such case, try to edit the form tag to edit and then try to call sendKeys() method, and you can edit the html elements using javascript executor</p>\n"},{"tags":[],"owner":{"account_id":9088496,"reputation":386,"user_id":6765457,"display_name":"FayazMd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475131783,"creation_date":1475131783,"answer_id":39763306,"question_id":39748411,"body_markdown":"Please try the following javascript executor code\r\n\r\n    String filePath = &quot;D:\\\\Images\\\\icons.png&quot;;\r\n    JavascriptExecutor jsx = (JavascriptExecutor) driver;\r\n    jsx.executeScript(&quot;document.getElementById(&#39;iconFlagFile&#39;).value=&#39;&quot; + filePath + &quot;&#39;;&quot;);\r\n\r\n","title":"Uploading file in Selenium using sendKeys() is not working","body":"<p>Please try the following javascript executor code</p>\n\n<pre><code>String filePath = \"D:\\\\Images\\\\icons.png\";\nJavascriptExecutor jsx = (JavascriptExecutor) driver;\njsx.executeScript(\"document.getElementById('iconFlagFile').value='\" + filePath + \"';\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2427689,"reputation":664,"user_id":2119289,"accept_rate":20,"display_name":"Chandra Shekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475140884,"creation_date":1475140884,"answer_id":39766352,"question_id":39748411,"body_markdown":"Please try this for file upload.\r\n\r\n        String filename = &quot;path of the file&quot;;\r\n        File file = new File(filename);\r\n        String path = file.getAbsolutePath();\r\n\t    // give the URL to upload\r\n    \tdriver.findElement(By locator).sendKeys(path);\r\n    \t \r\n\r\n","title":"Uploading file in Selenium using sendKeys() is not working","body":"<p>Please try this for file upload.</p>\n\n<pre><code>    String filename = \"path of the file\";\n    File file = new File(filename);\n    String path = file.getAbsolutePath();\n    // give the URL to upload\n    driver.findElement(By locator).sendKeys(path);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14162034,"reputation":231,"user_id":10231069,"display_name":"Vikas Rathour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580381113,"creation_date":1580381113,"answer_id":59984179,"question_id":39748411,"body_markdown":"**Use Clipboard class and Robot class combination**\r\n\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        StringSelection str = new StringSelection(&quot;File Path&quot;);\r\n        clipboard.setContents(str, null);\r\n        \r\n        WebElement element = driver.findElement(By.xpath(&quot;elementXpath&quot;));\r\n        element.click();\r\n        \r\n        Robot robot = new Robot();\r\n        robot.keyPress(KeyEvent.VK_CONTROL);\r\n        robot.keyPress(KeyEvent.VK_V);\r\n        driverwait(1);\r\n        robot.keyRelease(KeyEvent.VK_CONTROL);\r\n        robot.keyRelease(KeyEvent.VK_V);\r\n        driverwait(1);\r\n        robot.keyPress(KeyEvent.VK_ENTER);\r\n        robot.keyRelease(KeyEvent.VK_ENTER);\r\n\r\n","title":"Uploading file in Selenium using sendKeys() is not working","body":"<p><strong>Use Clipboard class and Robot class combination</strong></p>\n\n<pre><code>    Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n    StringSelection str = new StringSelection(\"File Path\");\n    clipboard.setContents(str, null);\n\n    WebElement element = driver.findElement(By.xpath(\"elementXpath\"));\n    element.click();\n\n    Robot robot = new Robot();\n    robot.keyPress(KeyEvent.VK_CONTROL);\n    robot.keyPress(KeyEvent.VK_V);\n    driverwait(1);\n    robot.keyRelease(KeyEvent.VK_CONTROL);\n    robot.keyRelease(KeyEvent.VK_V);\n    driverwait(1);\n    robot.keyPress(KeyEvent.VK_ENTER);\n    robot.keyRelease(KeyEvent.VK_ENTER);\n</code></pre>\n"}],"owner":{"account_id":8583754,"reputation":116,"user_id":6430579,"display_name":"Ubaid Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19855,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1653689853,"creation_date":1475067853,"question_id":39748411,"body_markdown":"I am unable to upload files using `sendKeys()`. This is my code\r\n\r\n    driver.findElement(By.xpath(Locators.browseFlagIconBtn)).sendKeys(&quot;D:\\\\Images\\\\icons.png&quot;);\r\n\r\nI have an input tag of type file for file upload\r\n\r\n    &lt;input type=&quot;file&quot; id=&quot;iconFlagFile&quot; name=&quot;iconFile&quot; onchange=&quot;setFlagIconFile()&quot; value=&quot;&quot; class=&quot; file-input-opacity&quot; style=&quot;position: absolute; z-index: 100; font-size: 200px; line-height: 200px; top: 0px; left: 0px; opacity: 0;&quot;&gt;\r\n\r\nHowever when I click on submit button of the form where this input field is then I am redirected to the below page:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCause of this issue : \r\n\r\nWhen I pass the path using `sendKeys()` then it correctly picks up the file that needs to be uploaded. However, the actual upload takes place when user clicks on the submit button. Now I don&#39;t know why it it searches for the file that it picked in Chrome&#39;s directory, for example: `&quot;C:\\Program Files (x86)\\Google\\Chrome\\Application\\53.0.2785.116&quot;`\r\n\r\nObviously it will not be able to find the file.\r\n\r\nQuestion: How to fix this? Let me know if I need to provide more information.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ou8hx.png","title":"Uploading file in Selenium using sendKeys() is not working","body":"<p>I am unable to upload files using <code>sendKeys()</code>. This is my code</p>\n\n<pre><code>driver.findElement(By.xpath(Locators.browseFlagIconBtn)).sendKeys(\"D:\\\\Images\\\\icons.png\");\n</code></pre>\n\n<p>I have an input tag of type file for file upload</p>\n\n<pre><code>&lt;input type=\"file\" id=\"iconFlagFile\" name=\"iconFile\" onchange=\"setFlagIconFile()\" value=\"\" class=\" file-input-opacity\" style=\"position: absolute; z-index: 100; font-size: 200px; line-height: 200px; top: 0px; left: 0px; opacity: 0;\"&gt;\n</code></pre>\n\n<p>However when I click on submit button of the form where this input field is then I am redirected to the below page:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ou8hx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ou8hx.png\" alt=\"enter image description here\"></a></p>\n\n<p>Cause of this issue : </p>\n\n<p>When I pass the path using <code>sendKeys()</code> then it correctly picks up the file that needs to be uploaded. However, the actual upload takes place when user clicks on the submit button. Now I don't know why it it searches for the file that it picked in Chrome's directory, for example: <code>\"C:\\Program Files (x86)\\Google\\Chrome\\Application\\53.0.2785.116\"</code></p>\n\n<p>Obviously it will not be able to find the file.</p>\n\n<p>Question: How to fix this? Let me know if I need to provide more information.</p>\n"},{"tags":["java","dependency-injection","guice"],"answers":[{"tags":[],"owner":{"account_id":88375,"reputation":12009,"user_id":244473,"display_name":"gpampara"},"down_vote_count":3,"up_vote_count":32,"is_accepted":true,"score":29,"last_activity_date":1265024901,"creation_date":1265024901,"answer_id":2176396,"question_id":2176216,"body_markdown":"You should not be using the `Injector` directly. Rather pass in the `Provider&lt;FooClass&gt;` instead. Also, you should be injecting the provider in the places where you use `FooClass`.\r\n\r\n    private final Provider&lt;FooClass&gt; provider;\r\n    \r\n    @Inject\r\n    public ClassWhereFooIsUsed(Provider&lt;FooClass&gt; provider) {\r\n        this.provider = provider;\r\n    }\r\n\r\n    .... somewhere else\r\n    FooClass f = provider.get(); // This is lazy","title":"How to inject Injector?","body":"<p>You should not be using the <code>Injector</code> directly. Rather pass in the <code>Provider&lt;FooClass&gt;</code> instead. Also, you should be injecting the provider in the places where you use <code>FooClass</code>.</p>\n\n<pre><code>private final Provider&lt;FooClass&gt; provider;\n\n@Inject\npublic ClassWhereFooIsUsed(Provider&lt;FooClass&gt; provider) {\n    this.provider = provider;\n}\n\n.... somewhere else\nFooClass f = provider.get(); // This is lazy\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1265036782,"creation_date":1265036782,"answer_id":2177574,"question_id":2176216,"body_markdown":"As @gpampara said, &lt;code&gt;Provider&amp;lt;T&amp;gt;&lt;/code&gt; should be used for lazy/optional initialization. Also, as I said in my answer to your other question, you should be avoiding references to the &lt;code&gt;Injector&lt;/code&gt; in your code in almost all cases.\r\n\r\nThat said, in a class that is created by Guice, the &lt;code&gt;Injector&lt;/code&gt; that is creating the object can be injected just by declaring a dependency on &lt;code&gt;Injector&lt;/code&gt;. The &lt;code&gt;Injector&lt;/code&gt; is automatically available for injection without you declaring any binding for it.\r\n\r\nIf you do inject the &lt;code&gt;Injector&lt;/code&gt;, you should think about WHY you want to do that. Why don&#39;t you just declare dependencies on the actual interfaces/classes the class depends on? It&#39;s just as easy to add a new dependency to the constructor as it is to retrieve an instance of some dependency through the &lt;code&gt;Injector&lt;/code&gt; elsewhere in your code, and it makes the code far more understandable as well.","title":"How to inject Injector?","body":"<p>As @gpampara said, <code>Provider&lt;T&gt;</code> should be used for lazy/optional initialization. Also, as I said in my answer to your other question, you should be avoiding references to the <code>Injector</code> in your code in almost all cases.</p>\n\n<p>That said, in a class that is created by Guice, the <code>Injector</code> that is creating the object can be injected just by declaring a dependency on <code>Injector</code>. The <code>Injector</code> is automatically available for injection without you declaring any binding for it.</p>\n\n<p>If you do inject the <code>Injector</code>, you should think about WHY you want to do that. Why don't you just declare dependencies on the actual interfaces/classes the class depends on? It's just as easy to add a new dependency to the constructor as it is to retrieve an instance of some dependency through the <code>Injector</code> elsewhere in your code, and it makes the code far more understandable as well.</p>\n"},{"tags":[],"owner":{"account_id":412905,"reputation":670,"user_id":786242,"display_name":"David Noha"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1522163613,"creation_date":1307382464,"answer_id":6255985,"question_id":2176216,"body_markdown":"As others have already answered, you can simply use `@Inject Injector` because Guice defines the binding itself.\r\n\r\nNormally you only need one `Injector` in your app, and a static variable is an even easier way to store and access a singleton than injecting it.  In our web app, we use [stripes-guicer][1] and get the `Injector` from its static method `GuiceInjectorFactory.getInjector()` when we need it (in our Hibernate interceptor, for example).\r\n\r\nI&#39;m a little baffled by the advice that &quot;you shouldn&#39;t use Injector directly.&quot;  How else would I get an instance injected except by calling `injector.getInstance()` or `injector.injectMembers()`?  There is no way.  Yes, you can define Provider methods, but they will never be called unless somewhere, something uses an Injector.  Yes, there are modules that use the `Injector` for you like the [ServletModule][2]; you have to create the `Injector` yourself, but you can leave it to the `ServletModule` after that.\r\n\r\nSo in some circumstances, you can avoid using the `Injector` directly, but that doesn&#39;t mean you &quot;shouldn&#39;t&quot; use it.  If you&#39;re using Guice alone without any optional modules, then you &quot;should&quot; be using an `Injector` all over the place because there&#39;s no other way to trigger injection.  (I think developers who spend all day writing code inside frameworks sometimes forget that some people actually instantiate their own objects.)\r\n\r\n\r\n  [1]: http://code.google.com/p/stripes-guicer/\r\n  [2]: https://github.com/google/guice/wiki/ServletModule","title":"How to inject Injector?","body":"<p>As others have already answered, you can simply use <code>@Inject Injector</code> because Guice defines the binding itself.</p>\n\n<p>Normally you only need one <code>Injector</code> in your app, and a static variable is an even easier way to store and access a singleton than injecting it.  In our web app, we use <a href=\"http://code.google.com/p/stripes-guicer/\" rel=\"noreferrer\">stripes-guicer</a> and get the <code>Injector</code> from its static method <code>GuiceInjectorFactory.getInjector()</code> when we need it (in our Hibernate interceptor, for example).</p>\n\n<p>I'm a little baffled by the advice that \"you shouldn't use Injector directly.\"  How else would I get an instance injected except by calling <code>injector.getInstance()</code> or <code>injector.injectMembers()</code>?  There is no way.  Yes, you can define Provider methods, but they will never be called unless somewhere, something uses an Injector.  Yes, there are modules that use the <code>Injector</code> for you like the <a href=\"https://github.com/google/guice/wiki/ServletModule\" rel=\"noreferrer\">ServletModule</a>; you have to create the <code>Injector</code> yourself, but you can leave it to the <code>ServletModule</code> after that.</p>\n\n<p>So in some circumstances, you can avoid using the <code>Injector</code> directly, but that doesn't mean you \"shouldn't\" use it.  If you're using Guice alone without any optional modules, then you \"should\" be using an <code>Injector</code> all over the place because there's no other way to trigger injection.  (I think developers who spend all day writing code inside frameworks sometimes forget that some people actually instantiate their own objects.)</p>\n"},{"tags":[],"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521147579,"creation_date":1521147579,"answer_id":49309100,"question_id":2176216,"body_markdown":"The arguments that you *probably* shouldn&#39;t be injecting an instance of `Injector` are quite valid, but as with any rule there are exceptions.\r\n\r\nI have a factory class that takes in class references for which it needs to provide an instance.  The instances aren&#39;t necessarily known (really, they are, but there are a lot and there might be more) so I can&#39;t make Providers for all of them.\r\n\r\n    public class ThingFactory {\r\n        private Injector injector;\r\n    \r\n        @Inject\r\n        ThingFactory(Injector injector) {\r\n            this.injector = injector;\r\n        }\r\n    \r\n        public &lt;T&gt; T getInstance(Class&lt;T&gt; aClass) {\r\n            return injector.getInstance(aClass);\r\n        }\r\n    }\r\n\r\nThe real class in my app is extending and overriding another class—that&#39;s why this class is basically a passthrough to Guice.","title":"How to inject Injector?","body":"<p>The arguments that you <em>probably</em> shouldn't be injecting an instance of <code>Injector</code> are quite valid, but as with any rule there are exceptions.</p>\n\n<p>I have a factory class that takes in class references for which it needs to provide an instance.  The instances aren't necessarily known (really, they are, but there are a lot and there might be more) so I can't make Providers for all of them.</p>\n\n<pre><code>public class ThingFactory {\n    private Injector injector;\n\n    @Inject\n    ThingFactory(Injector injector) {\n        this.injector = injector;\n    }\n\n    public &lt;T&gt; T getInstance(Class&lt;T&gt; aClass) {\n        return injector.getInstance(aClass);\n    }\n}\n</code></pre>\n\n<p>The real class in my app is extending and overriding another class—that's why this class is basically a passthrough to Guice.</p>\n"}],"owner":{"account_id":90816,"reputation":395,"user_id":249771,"accept_rate":50,"display_name":"Alex M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24796,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":2176396,"answer_count":4,"score":32,"last_activity_date":1653689834,"creation_date":1265022822,"question_id":2176216,"body_markdown":"Situation: i need lazy dependency instantiation in some `FooClass`, so i pass `Injector` to class as a constructor parameter.\r\n\r\n```java\r\nprivate final Injector m_injector;\r\n    \r\npublic FooClass(@Named(&quot;FooInjector&quot;) Injector injector) {\r\n    m_injector = injector;\r\n}\r\n```\r\n\r\nBut guice doesn&#39;t permit to bind core classes (injectors, modules and etc). What is the solution?","title":"How to inject Injector?","body":"<p>Situation: i need lazy dependency instantiation in some <code>FooClass</code>, so i pass <code>Injector</code> to class as a constructor parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Injector m_injector;\n    \npublic FooClass(@Named(&quot;FooInjector&quot;) Injector injector) {\n    m_injector = injector;\n}\n</code></pre>\n<p>But guice doesn't permit to bind core classes (injectors, modules and etc). What is the solution?</p>\n"},{"tags":["java","android","android-studio","mobile"],"answers":[{"tags":[],"owner":{"account_id":20265612,"reputation":1071,"user_id":14862885,"display_name":"Neptotech -vishnu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641273145,"creation_date":1641273145,"answer_id":70574322,"question_id":70574159,"body_markdown":"IT&#39;S COMMON FOR CERTAIN MODELS OF PHONES,&lt;br&gt;\r\n&gt;My `Samsung galaxy xx` behaves like this(a bit old phone `android version-5.1`)\r\n\r\n&gt;But my other phone-new model does not behave like this(`android version-9`)\r\n\r\n&gt;You need not Restart every time-You can plug out the wire and plug-in (USB wire), if it works or not don&#39;t worry, because it&#39;s common-EVEN IN MY MOBILE IF I RECEIVE A FILE IN WHATSAPP I NEED TO PLUG-OUT AND IN USB CABLE\r\n\r\n&gt;if it does not work try another mobile IT WILL WORK `if` IT WAS A MOBILE WITH GREATER VERSION/NEWER MODEL.\r\n\r\n&gt;P. S I am typing this with a greater experience of my old phone &#128513;","title":"Generated files on Android not visible on PC by USB connect? | Android Studio","body":"<p>IT'S COMMON FOR CERTAIN MODELS OF PHONES,<br></p>\n<blockquote>\n<p>My <code>Samsung galaxy xx</code> behaves like this(a bit old phone <code>android version-5.1</code>)</p>\n</blockquote>\n<blockquote>\n<p>But my other phone-new model does not behave like this(<code>android version-9</code>)</p>\n</blockquote>\n<blockquote>\n<p>You need not Restart every time-You can plug out the wire and plug-in (USB wire), if it works or not don't worry, because it's common-EVEN IN MY MOBILE IF I RECEIVE A FILE IN WHATSAPP I NEED TO PLUG-OUT AND IN USB CABLE</p>\n</blockquote>\n<blockquote>\n<p>if it does not work try another mobile IT WILL WORK <code>if</code> IT WAS A MOBILE WITH GREATER VERSION/NEWER MODEL.</p>\n</blockquote>\n<blockquote>\n<p>P. S I am typing this with a greater experience of my old phone 😁</p>\n</blockquote>\n"}],"owner":{"account_id":23820499,"reputation":11,"user_id":17828198,"display_name":"Surendar Dharani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653689750,"creation_date":1641271172,"question_id":70574159,"body_markdown":"The files generated on Android are not visible on the PC by USB connect. However, after a restart the files do show on the PC.\r\n\r\nAfterwards, if I have generated another new file, I then have to restart my mobile again to make the file visible.\r\n\r\nThis is my relevant piece of code: \r\n\r\n```java\r\nFile exportDir = new File(Environment.getExternalStorageDirectory().getAbsolutePath(), &quot;/storage/data/Scan_CSV_FILE&quot;);\r\nif (!exportDir.exists()) {\r\n\r\n    exportDir.mkdirs();\r\n}\r\nString filename = FileHeander + File_NoET.getText().toString() + &quot;.csv&quot;;\r\nFile file = new File(exportDir, filename);\r\ntry {\r\n    file.createNewFile(); \r\n    CSVWriter csvWrite = new CSVWriter(new FileWriter(file));\r\n    Cursor curCSV = sqliteDb.rawQuery(&quot;SELECT * FROM table&quot;, null);\r\n    String arrHeander[] = {&quot;filed1&quot;, &quot;filed2&quot;, &quot;filed3&quot;,&quot;filed4&quot;};\r\n    csvWrite.writeNext(arrHeander);\r\n    while (curCSV.moveToNext()) {\r\n        //Which column you want to exprort\r\n        String arrStr[] = {curCSV.getString(1), curCSV.getString(2), curCSV.getString(3), curCSV.getString(4)};\r\n        csvWrite.writeNext(arrStr);\r\n    }\r\ncsvWrite.close();\r\ncurCSV.close();\r\nToast.makeText(this, &quot;CSV Downloaded !!!&quot;, Toast.LENGTH_SHORT).show();\r\n```\r\n\r\nHow can I fix the issue so that newly generated files are immediately visible and avoiding having to restart each time?","title":"Generated files on Android not visible on PC by USB connect? | Android Studio","body":"<p>The files generated on Android are not visible on the PC by USB connect. However, after a restart the files do show on the PC.</p>\n<p>Afterwards, if I have generated another new file, I then have to restart my mobile again to make the file visible.</p>\n<p>This is my relevant piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File exportDir = new File(Environment.getExternalStorageDirectory().getAbsolutePath(), &quot;/storage/data/Scan_CSV_FILE&quot;);\nif (!exportDir.exists()) {\n\n    exportDir.mkdirs();\n}\nString filename = FileHeander + File_NoET.getText().toString() + &quot;.csv&quot;;\nFile file = new File(exportDir, filename);\ntry {\n    file.createNewFile(); \n    CSVWriter csvWrite = new CSVWriter(new FileWriter(file));\n    Cursor curCSV = sqliteDb.rawQuery(&quot;SELECT * FROM table&quot;, null);\n    String arrHeander[] = {&quot;filed1&quot;, &quot;filed2&quot;, &quot;filed3&quot;,&quot;filed4&quot;};\n    csvWrite.writeNext(arrHeander);\n    while (curCSV.moveToNext()) {\n        //Which column you want to exprort\n        String arrStr[] = {curCSV.getString(1), curCSV.getString(2), curCSV.getString(3), curCSV.getString(4)};\n        csvWrite.writeNext(arrStr);\n    }\ncsvWrite.close();\ncurCSV.close();\nToast.makeText(this, &quot;CSV Downloaded !!!&quot;, Toast.LENGTH_SHORT).show();\n</code></pre>\n<p>How can I fix the issue so that newly generated files are immediately visible and avoiding having to restart each time?</p>\n"},{"tags":["java","bluej"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414942482,"creation_date":1414942482,"answer_id":26701015,"question_id":26700920,"body_markdown":"The error message says it all:\r\n\r\n&gt; no suitable method found for max(int)\r\n\r\nSo, you want to use a method max, taking a Collection as argument, but what you&#39;re passing to the method is not a Collection, it&#39;s an int:\r\n\r\n    Collections.max(container.differenceInDays())\r\n\r\nwith `differenceInDays()` being defined as\r\n\r\n    public int differenceInDays()\r\n\r\nI assume that what you want is to find the `Container`, inside the set `containerList`, that has the greatest differenceInDays. So you need to call\r\n\r\n    Collections.max(containerList, comparatorComparingContainersByDifferenceInDays)","title":"Find highest value with Collection.max() in HashSet","body":"<p>The error message says it all:</p>\n\n<blockquote>\n  <p>no suitable method found for max(int)</p>\n</blockquote>\n\n<p>So, you want to use a method max, taking a Collection as argument, but what you're passing to the method is not a Collection, it's an int:</p>\n\n<pre><code>Collections.max(container.differenceInDays())\n</code></pre>\n\n<p>with <code>differenceInDays()</code> being defined as</p>\n\n<pre><code>public int differenceInDays()\n</code></pre>\n\n<p>I assume that what you want is to find the <code>Container</code>, inside the set <code>containerList</code>, that has the greatest differenceInDays. So you need to call</p>\n\n<pre><code>Collections.max(containerList, comparatorComparingContainersByDifferenceInDays)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414942745,"creation_date":1414942745,"answer_id":26701058,"question_id":26700920,"body_markdown":"You are using \r\n\r\n    Collections.max(container.differenceInDays())\r\n\r\nWhere your max method takes collection as parameter.see this http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max%28java.util.Collection%29\r\n\r\nSo if you make your Container implement Comparable and if you try\r\n\r\n    Container container = Collections.max(containerList);//without for loop\r\n\r\nContainer will hold max of all container. Or if Container is third party, i would sugges you creating a static class (or anonymous class) with compare method by implementing Comparator interface. something like\r\n\r\n    private class ContainerComparator implements Comparator&lt;Container&gt; {\r\n        public int compare(Container o1, Container o2) {\r\n            //here calculate diff of each and send difference between the two\r\n        }\r\n    }","title":"Find highest value with Collection.max() in HashSet","body":"<p>You are using </p>\n\n<pre><code>Collections.max(container.differenceInDays())\n</code></pre>\n\n<p>Where your max method takes collection as parameter.see this <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max%28java.util.Collection%29\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max%28java.util.Collection%29</a></p>\n\n<p>So if you make your Container implement Comparable and if you try</p>\n\n<pre><code>Container container = Collections.max(containerList);//without for loop\n</code></pre>\n\n<p>Container will hold max of all container. Or if Container is third party, i would sugges you creating a static class (or anonymous class) with compare method by implementing Comparator interface. something like</p>\n\n<pre><code>private class ContainerComparator implements Comparator&lt;Container&gt; {\n    public int compare(Container o1, Container o2) {\n        //here calculate diff of each and send difference between the two\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":386122,"reputation":4332,"user_id":743716,"accept_rate":40,"display_name":"Rafal G."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414942800,"creation_date":1414942800,"answer_id":26701072,"question_id":26700920,"body_markdown":"In Java 8 you could do the following:\r\n\r\n    OptionalInt max = containerList.stream().mapToInt(Container::differenceInDays).max();\r\n","title":"Find highest value with Collection.max() in HashSet","body":"<p>In Java 8 you could do the following:</p>\n\n<pre><code>OptionalInt max = containerList.stream().mapToInt(Container::differenceInDays).max();\n</code></pre>\n"}],"owner":{"account_id":4541027,"reputation":161,"user_id":3688895,"accept_rate":27,"display_name":"SC92"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1653689473,"creation_date":1414941917,"question_id":26700920,"body_markdown":"This is coded in BlueJ!\r\n\r\nHi guys, I am trying to find a max value in a HashSet. I&#39;m trying to use the Collection.max method, but it&#39;s not working for me. I&#39;m getting an error: no suitable method found for max(int). The error is in my VerhuurderBedrijf class, the last method called getLongestRentPeriod.\r\n\r\nI have 2 classes, (it&#39;s dutch) VerhuurderBedrijf and Container.\r\nIn the Container class, I have a method called differenceInDays. Here it calculates the difference in days between the startDate and endDate (see fields in Container class). \r\n\r\nIn the VerhuurderBedrijf I am adding the Container objects in a HashSet. In my getLongestRentPeriod, I&#39;m trying to find the highest value calculated in my differenceInDays method(Container class).\r\n\r\nLets say I add 2 container objects in my VerhuurderBedrijf class.  \r\nContainer 1 - startDate = 10-10-2014; endDate = 15-10-2014;  \r\nContainer 2 - startDate = 10-10-2014; endDate = 20-10-2014;  \r\nAs I said, the difference in days is calculated in my differenceInDatys method (Container class)/\r\n\r\nSo with my getLongestRentPeriode(verhuurderbedrijf class) I am trying to get the highest value, that would be 11 days (Container 2);\r\n\r\nSorry if it&#39;s unclear. I am bad in explaining things.\r\n\r\nHere is the full code.\r\n\r\n**VerhuurderBedrijf class**\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.text.DecimalFormat;\r\n    \r\npublic class VerhuurderBedrijf\r\n{\r\n    private HashSet&lt;Container&gt; containerList;\r\n    // Decimalen object\r\n    DecimalFormat df;\r\n    /**\r\n     * Constructor for objects of class VerhuurderBedrijf\r\n     */\r\n    public VerhuurderBedrijf()\r\n    {\r\n        containerList = new HashSet&lt;Container&gt;();\r\n        // Dit zorgt ervoor dat er 2 decimalen achter de komma komen\r\n        df = new DecimalFormat(&quot;0.00&quot;);\r\n    }\r\n    \r\n    public void addContainer(Container container)\r\n    {\r\n        // Voegt een container toe een de HashSet&lt;Container&gt;\r\n        containerList.add(container);\r\n    }\r\n        \r\n    public void gettotalIncome()\r\n    {\r\n        double total = 0;\r\n        for(Container container : containerList)\r\n        {\r\n            total += container.getIncome();\r\n        }\r\n        System.out.println(&quot;The total amount of income for the rented containers are:\\r\\n &quot; + (df.format(total)) + &quot; euros.\\r\\n&quot;);\r\n    }\r\n        \r\n    public void getAverageVolume()\r\n    {\r\n        double average = 0;\r\n        double calc = 0;\r\n        for(Container container : containerList)\r\n        {\r\n            average += container.getVolume();\r\n            calc = average / containerList.size();\r\n        }\r\n        System.out.println(&quot;The average volume of the rented container are:\\r\\n &quot; + (df.format(calc)) + &quot;.\\r\\n&quot;);\r\n    }\r\n        \r\n    public void getLongestRentPeriod()\r\n    {       \r\n        for(Container container : containerList)\r\n        {\r\n            System.out.println(&quot;max : &quot; + Collections.max(container.differenceInDays()));\r\n        }\r\n    }\r\n}  \r\n```\r\n\r\n**Container class**\r\n\r\n```java\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n    \r\npublic class Container\r\n{\r\n    private int volume;\r\n    private String startDate;\r\n    private String endDate;\r\n    // Tijd object\r\n    SimpleDateFormat format;\r\n    \r\n    public Container(int volume, String startDate, String endDate)\r\n    {\r\n        this.volume = volume;\r\n        this.startDate = startDate;\r\n        this.endDate = endDate;\r\n        // Dit zet de datum om naar een ddmmjjjj formaat, zo is het mogelijk om bijv: 12102014 in te vullen\r\n        format = new SimpleDateFormat(&quot;ddMMyyyy&quot;);\r\n    }\r\n        \r\n    public int getCosts()\r\n    {\r\n        int cost1 = 60;\r\n        int cost2 = 125;\r\n        if(volume &lt;= 2)\r\n        {\r\n            // Als de volume kleiner of gelijk is aan 2, zijn de kosten voor de container 60 euro\r\n            return cost1;\r\n        }\r\n        else\r\n        {\r\n            // Anders zijn de kosten voor de container 125 euro\r\n            return cost2;\r\n        }\r\n    }\r\n        \r\n    public int differenceInDays()\r\n    {\r\n        int startDateCheck = Integer.parseInt(startDate);\r\n        int endDateCheck = Integer.parseInt(endDate);\r\n        if(startDateCheck &gt; endDateCheck)\r\n        {\r\n            // Als er een verkeerde invoer wordt gedaan\r\n            System.out.println(&quot;Your end date cannot be earlier than your start date&quot;);\r\n        }\r\n        else\r\n        {\r\n            // Try &amp; Catch omdat er een error ParseException komt, Date is een long in plaats van een String\r\n            try\r\n            {\r\n                String start = startDate;\r\n                String end = endDate;\r\n                    \r\n                Date day1 = format.parse(start);\r\n                Date day2 = format.parse(end);\r\n                    \r\n                long difference = day2.getTime() - day1.getTime();\r\n                /*\r\n                Verschil in de dagen die hierboven wordt uitgerekend, wordt hier omgezet naar de aantal\r\n                dagen. 24 = uren, 60 = minuten, 60 = seconden, 1000 = milliseconden\r\n                */\r\n                long differenceInDays = difference / (24 * 60 * 60 * 1000) + 1;\r\n                // Hier cast ik het naar een int, omdat het een public int methode is\r\n                int castToInt = (int) differenceInDays;     \r\n                return castToInt;\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n        \r\n    public int getIncome()\r\n    {\r\n        int rent = 40;\r\n        // (Huur container * de ingevoerde volume) + (Huur container * verschil in de dagen)\r\n        int income = (rent * volume) + (rent * differenceInDays());\r\n        return income;\r\n    }\r\n        \r\n    public int getVolume()\r\n    {\r\n        return volume;\r\n    }\r\n}\r\n```\r\n\r\nI also tried this, but it&#39;s not working either. I am getting a value of 72, whats not the right number.\r\n\r\n```java\r\npublic void getLongestRentPeriod()\r\n{   \r\n    int temp = 0;\r\n    for(Container container : containerList)\r\n    {\r\n        if(temp &lt; container.differenceInDays())\r\n        {\r\n            temp = container.differenceInDays();\r\n        }\r\n        //System.out.println(&quot;max : &quot; + Collections.max(container.differenceInDays()));\r\n    }\r\n    System.out.println(&quot;max: &quot; + temp);        \r\n}\r\n```\r\n \r\nCould anyone give me some tips or suggestions for the solution? Thanks.","title":"Find highest value with Collection.max() in HashSet","body":"<p>This is coded in BlueJ!</p>\n<p>Hi guys, I am trying to find a max value in a HashSet. I'm trying to use the Collection.max method, but it's not working for me. I'm getting an error: no suitable method found for max(int). The error is in my VerhuurderBedrijf class, the last method called getLongestRentPeriod.</p>\n<p>I have 2 classes, (it's dutch) VerhuurderBedrijf and Container.\nIn the Container class, I have a method called differenceInDays. Here it calculates the difference in days between the startDate and endDate (see fields in Container class).</p>\n<p>In the VerhuurderBedrijf I am adding the Container objects in a HashSet. In my getLongestRentPeriod, I'm trying to find the highest value calculated in my differenceInDays method(Container class).</p>\n<p>Lets say I add 2 container objects in my VerhuurderBedrijf class.<br />\nContainer 1 - startDate = 10-10-2014; endDate = 15-10-2014;<br />\nContainer 2 - startDate = 10-10-2014; endDate = 20-10-2014;<br />\nAs I said, the difference in days is calculated in my differenceInDatys method (Container class)/</p>\n<p>So with my getLongestRentPeriode(verhuurderbedrijf class) I am trying to get the highest value, that would be 11 days (Container 2);</p>\n<p>Sorry if it's unclear. I am bad in explaining things.</p>\n<p>Here is the full code.</p>\n<p><strong>VerhuurderBedrijf class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.text.DecimalFormat;\n    \npublic class VerhuurderBedrijf\n{\n    private HashSet&lt;Container&gt; containerList;\n    // Decimalen object\n    DecimalFormat df;\n    /**\n     * Constructor for objects of class VerhuurderBedrijf\n     */\n    public VerhuurderBedrijf()\n    {\n        containerList = new HashSet&lt;Container&gt;();\n        // Dit zorgt ervoor dat er 2 decimalen achter de komma komen\n        df = new DecimalFormat(&quot;0.00&quot;);\n    }\n    \n    public void addContainer(Container container)\n    {\n        // Voegt een container toe een de HashSet&lt;Container&gt;\n        containerList.add(container);\n    }\n        \n    public void gettotalIncome()\n    {\n        double total = 0;\n        for(Container container : containerList)\n        {\n            total += container.getIncome();\n        }\n        System.out.println(&quot;The total amount of income for the rented containers are:\\r\\n &quot; + (df.format(total)) + &quot; euros.\\r\\n&quot;);\n    }\n        \n    public void getAverageVolume()\n    {\n        double average = 0;\n        double calc = 0;\n        for(Container container : containerList)\n        {\n            average += container.getVolume();\n            calc = average / containerList.size();\n        }\n        System.out.println(&quot;The average volume of the rented container are:\\r\\n &quot; + (df.format(calc)) + &quot;.\\r\\n&quot;);\n    }\n        \n    public void getLongestRentPeriod()\n    {       \n        for(Container container : containerList)\n        {\n            System.out.println(&quot;max : &quot; + Collections.max(container.differenceInDays()));\n        }\n    }\n}  \n</code></pre>\n<p><strong>Container class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\n    \npublic class Container\n{\n    private int volume;\n    private String startDate;\n    private String endDate;\n    // Tijd object\n    SimpleDateFormat format;\n    \n    public Container(int volume, String startDate, String endDate)\n    {\n        this.volume = volume;\n        this.startDate = startDate;\n        this.endDate = endDate;\n        // Dit zet de datum om naar een ddmmjjjj formaat, zo is het mogelijk om bijv: 12102014 in te vullen\n        format = new SimpleDateFormat(&quot;ddMMyyyy&quot;);\n    }\n        \n    public int getCosts()\n    {\n        int cost1 = 60;\n        int cost2 = 125;\n        if(volume &lt;= 2)\n        {\n            // Als de volume kleiner of gelijk is aan 2, zijn de kosten voor de container 60 euro\n            return cost1;\n        }\n        else\n        {\n            // Anders zijn de kosten voor de container 125 euro\n            return cost2;\n        }\n    }\n        \n    public int differenceInDays()\n    {\n        int startDateCheck = Integer.parseInt(startDate);\n        int endDateCheck = Integer.parseInt(endDate);\n        if(startDateCheck &gt; endDateCheck)\n        {\n            // Als er een verkeerde invoer wordt gedaan\n            System.out.println(&quot;Your end date cannot be earlier than your start date&quot;);\n        }\n        else\n        {\n            // Try &amp; Catch omdat er een error ParseException komt, Date is een long in plaats van een String\n            try\n            {\n                String start = startDate;\n                String end = endDate;\n                    \n                Date day1 = format.parse(start);\n                Date day2 = format.parse(end);\n                    \n                long difference = day2.getTime() - day1.getTime();\n                /*\n                Verschil in de dagen die hierboven wordt uitgerekend, wordt hier omgezet naar de aantal\n                dagen. 24 = uren, 60 = minuten, 60 = seconden, 1000 = milliseconden\n                */\n                long differenceInDays = difference / (24 * 60 * 60 * 1000) + 1;\n                // Hier cast ik het naar een int, omdat het een public int methode is\n                int castToInt = (int) differenceInDays;     \n                return castToInt;\n            }\n            catch(Exception e)\n            {\n                e.printStackTrace();\n            }\n        }\n        return 0;\n    }\n        \n    public int getIncome()\n    {\n        int rent = 40;\n        // (Huur container * de ingevoerde volume) + (Huur container * verschil in de dagen)\n        int income = (rent * volume) + (rent * differenceInDays());\n        return income;\n    }\n        \n    public int getVolume()\n    {\n        return volume;\n    }\n}\n</code></pre>\n<p>I also tried this, but it's not working either. I am getting a value of 72, whats not the right number.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getLongestRentPeriod()\n{   \n    int temp = 0;\n    for(Container container : containerList)\n    {\n        if(temp &lt; container.differenceInDays())\n        {\n            temp = container.differenceInDays();\n        }\n        //System.out.println(&quot;max : &quot; + Collections.max(container.differenceInDays()));\n    }\n    System.out.println(&quot;max: &quot; + temp);        \n}\n</code></pre>\n<p>Could anyone give me some tips or suggestions for the solution? Thanks.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1653690661,"post_id":72411483,"comment_id":127920569,"body_markdown":"Is there a reason you aren&#39;t just [disabling user input](https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2#setUserInputEnabled(boolean)) when you don&#39;t want to allow the user to swipe through pages?","body":"Is there a reason you aren&#39;t just <a href=\"https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2#setUserInputEnabled(boolean)\" rel=\"nofollow noreferrer\">disabling user input</a> when you don&#39;t want to allow the user to swipe through pages?"},{"owner":{"account_id":16141690,"reputation":21,"user_id":11652626,"display_name":"Cris"},"score":0,"creation_date":1653731982,"post_id":72411483,"comment_id":127925819,"body_markdown":"@ianhanniballake I tried that but apparently the returned value for the mode is always NONE. I tried to check if the mode is ZOOM but I don&#39;t actually know how to constantly check the mode","body":"@ianhanniballake I tried that but apparently the returned value for the mode is always NONE. I tried to check if the mode is ZOOM but I don&#39;t actually know how to constantly check the mode"}],"owner":{"account_id":16141690,"reputation":21,"user_id":11652626,"display_name":"Cris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653689220,"creation_date":1653689220,"question_id":72411483,"body_markdown":"I would like to know how can I make that when my image is zoomed the viewpager2 can&#39;t swipe to the next image.\r\n\r\nThe below code is my image class and it works like it should but when I simply place it in a viewpager2 and I zoom when I try to move the pic it swipes page.\r\n\r\nHow can I make so that if the mode is ZOOM the viewpager2 doesn&#39;t swipe? I would like to make so that when it reaches the image edge it can swipe but I&#39;m okay with the first part too.\r\n\r\n**No third-party libraries**\r\n\r\n```\r\nimport android.content.Context;\r\nimport android.graphics.Matrix;\r\nimport android.graphics.PointF;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.util.AttributeSet;\r\nimport android.util.Log;\r\nimport android.view.MotionEvent;\r\nimport android.view.ScaleGestureDetector;\r\n\r\npublic class ZoomImageView extends androidx.appcompat.widget.AppCompatImageView {\r\n\r\n    // We can be in one of these 3 states\r\n    static final int NONE = 0;\r\n    static final int DRAG = 1;\r\n    static final int ZOOM = 2;\r\n    static final int CLICK = 3;\r\n    protected float origWidth, origHeight;\r\n    Matrix matrix;\r\n    public int mode = NONE;\r\n    // Remember some things for zooming\r\n    PointF last = new PointF();\r\n    PointF start = new PointF();\r\n    float minScale = 1f;\r\n    float maxScale = 3f;\r\n    float[] m;\r\n    int viewWidth, viewHeight;\r\n    float saveScale = 1f;\r\n    int oldMeasuredWidth, oldMeasuredHeight;\r\n\r\n    ScaleGestureDetector mScaleDetector;\r\n\r\n    Context context;\r\n\r\n    public ZoomImageView(Context context) {\r\n        super(context);\r\n        sharedConstructing(context);\r\n    }\r\n\r\n    public ZoomImageView(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        sharedConstructing(context);\r\n    }\r\n\r\n    private void sharedConstructing(Context context) {\r\n        super.setClickable(true);\r\n        this.context = context;\r\n        mScaleDetector = new ScaleGestureDetector(context, new ScaleListener());\r\n        matrix = new Matrix();\r\n        m = new float[9];\r\n        setImageMatrix(matrix);\r\n        setScaleType(ScaleType.MATRIX);\r\n\r\n        setOnTouchListener((v, event) -&gt; {\r\n            mScaleDetector.onTouchEvent(event);\r\n            PointF curr = new PointF(event.getX(), event.getY());\r\n\r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    last.set(curr);\r\n                    start.set(last);\r\n                    mode = DRAG;\r\n                    break;\r\n\r\n                case MotionEvent.ACTION_MOVE:\r\n                    if (mode == DRAG) {\r\n                        float deltaX = curr.x - last.x;\r\n                        float deltaY = curr.y - last.y;\r\n                        float fixTransX = getFixDragTrans(deltaX, viewWidth,\r\n                                origWidth * saveScale);\r\n                        float fixTransY = getFixDragTrans(deltaY, viewHeight,\r\n                                origHeight * saveScale);\r\n                        matrix.postTranslate(fixTransX, fixTransY);\r\n                        fixTrans();\r\n                        last.set(curr.x, curr.y);\r\n                    }\r\n                    break;\r\n\r\n                case MotionEvent.ACTION_UP:\r\n                    mode = NONE;\r\n                    int xDiff = (int) Math.abs(curr.x - start.x);\r\n                    int yDiff = (int) Math.abs(curr.y - start.y);\r\n                    if (xDiff &lt; CLICK &amp;&amp; yDiff &lt; CLICK)\r\n                        performClick();\r\n                    break;\r\n\r\n                case MotionEvent.ACTION_POINTER_UP:\r\n                    mode = NONE;\r\n                    break;\r\n            }\r\n\r\n            setImageMatrix(matrix);\r\n            invalidate();\r\n            return true; // indicate event was handled\r\n        });\r\n    }\r\n\r\n    public void setMaxZoom(float x) {\r\n        maxScale = x;\r\n    }\r\n\r\n    void fixTrans() {\r\n        matrix.getValues(m);\r\n        float transX = m[Matrix.MTRANS_X];\r\n        float transY = m[Matrix.MTRANS_Y];\r\n\r\n        float fixTransX = getFixTrans(transX, viewWidth, origWidth * saveScale);\r\n        float fixTransY = getFixTrans(transY, viewHeight, origHeight\r\n                * saveScale);\r\n\r\n        if (fixTransX != 0 || fixTransY != 0)\r\n            matrix.postTranslate(fixTransX, fixTransY);\r\n    }\r\n\r\n    float getFixTrans(float trans, float viewSize, float contentSize) {\r\n        float minTrans, maxTrans;\r\n\r\n        if (contentSize &lt;= viewSize) {\r\n            minTrans = 0;\r\n            maxTrans = viewSize - contentSize;\r\n        } else {\r\n            minTrans = viewSize - contentSize;\r\n            maxTrans = 0;\r\n        }\r\n\r\n        if (trans &lt; minTrans)\r\n            return -trans + minTrans;\r\n        if (trans &gt; maxTrans)\r\n            return -trans + maxTrans;\r\n        return 0;\r\n    }\r\n\r\n    float getFixDragTrans(float delta, float viewSize, float contentSize) {\r\n        if (contentSize &lt;= viewSize) {\r\n            return 0;\r\n        }\r\n        return delta;\r\n    }\r\n\r\n    @Override\r\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\r\n        viewWidth = MeasureSpec.getSize(widthMeasureSpec);\r\n        viewHeight = MeasureSpec.getSize(heightMeasureSpec);\r\n\r\n        //\r\n        // Rescales image on rotation\r\n        //\r\n        if (oldMeasuredHeight == viewWidth &amp;&amp; oldMeasuredHeight == viewHeight\r\n                || viewWidth == 0 || viewHeight == 0)\r\n            return;\r\n        oldMeasuredHeight = viewHeight;\r\n        oldMeasuredWidth = viewWidth;\r\n\r\n        if (saveScale == 1) {\r\n            // Fit to screen.\r\n            float scale;\r\n\r\n            Drawable drawable = getDrawable();\r\n            if (drawable == null || drawable.getIntrinsicWidth() == 0\r\n                    || drawable.getIntrinsicHeight() == 0)\r\n                return;\r\n            int bmWidth = drawable.getIntrinsicWidth();\r\n            int bmHeight = drawable.getIntrinsicHeight();\r\n\r\n            Log.d(&quot;bmSize&quot;, &quot;bmWidth: &quot; + bmWidth + &quot; bmHeight : &quot; + bmHeight);\r\n\r\n            float scaleX = (float) viewWidth / (float) bmWidth;\r\n            float scaleY = (float) viewHeight / (float) bmHeight;\r\n            scale = Math.min(scaleX, scaleY);\r\n            matrix.setScale(scale, scale);\r\n\r\n            //Center the image\r\n            float redundantYSpace = (float) viewHeight - (scale * (float) bmHeight);\r\n            float redundantXSpace = (float) viewWidth - (scale * (float) bmWidth);\r\n            redundantYSpace /= (float) 2;\r\n            redundantXSpace /= (float) 2;\r\n\r\n            matrix.postTranslate(redundantXSpace, redundantYSpace);\r\n\r\n            origWidth = viewWidth - 2 * redundantXSpace;\r\n            origHeight = viewHeight - 2 * redundantYSpace;\r\n            setImageMatrix(matrix);\r\n        }\r\n        fixTrans();\r\n    }\r\n\r\n    private class ScaleListener extends\r\n            ScaleGestureDetector.SimpleOnScaleGestureListener {\r\n        @Override\r\n        public boolean onScaleBegin(ScaleGestureDetector detector) {\r\n            mode = ZOOM;\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public boolean onScale(ScaleGestureDetector detector) {\r\n            float mScaleFactor = detector.getScaleFactor();\r\n            float origScale = saveScale;\r\n            saveScale *= mScaleFactor;\r\n            if (saveScale &gt; maxScale) {\r\n                saveScale = maxScale;\r\n                mScaleFactor = maxScale / origScale;\r\n            } else if (saveScale &lt; minScale) {\r\n                saveScale = minScale;\r\n                mScaleFactor = minScale / origScale;\r\n            }\r\n\r\n            if (origWidth * saveScale &lt;= viewWidth\r\n                    || origHeight * saveScale &lt;= viewHeight)\r\n                matrix.postScale(mScaleFactor, mScaleFactor, viewWidth / 2,\r\n                        viewHeight / 2);\r\n            else\r\n                matrix.postScale(mScaleFactor, mScaleFactor,\r\n                        detector.getFocusX(), detector.getFocusY());\r\n\r\n            fixTrans();\r\n            return true;\r\n        }\r\n    }\r\n}\r\n```","title":"How to make a viewpager2 not swipe when an image is zoomed","body":"<p>I would like to know how can I make that when my image is zoomed the viewpager2 can't swipe to the next image.</p>\n<p>The below code is my image class and it works like it should but when I simply place it in a viewpager2 and I zoom when I try to move the pic it swipes page.</p>\n<p>How can I make so that if the mode is ZOOM the viewpager2 doesn't swipe? I would like to make so that when it reaches the image edge it can swipe but I'm okay with the first part too.</p>\n<p><strong>No third-party libraries</strong></p>\n<pre><code>import android.content.Context;\nimport android.graphics.Matrix;\nimport android.graphics.PointF;\nimport android.graphics.drawable.Drawable;\nimport android.util.AttributeSet;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.ScaleGestureDetector;\n\npublic class ZoomImageView extends androidx.appcompat.widget.AppCompatImageView {\n\n    // We can be in one of these 3 states\n    static final int NONE = 0;\n    static final int DRAG = 1;\n    static final int ZOOM = 2;\n    static final int CLICK = 3;\n    protected float origWidth, origHeight;\n    Matrix matrix;\n    public int mode = NONE;\n    // Remember some things for zooming\n    PointF last = new PointF();\n    PointF start = new PointF();\n    float minScale = 1f;\n    float maxScale = 3f;\n    float[] m;\n    int viewWidth, viewHeight;\n    float saveScale = 1f;\n    int oldMeasuredWidth, oldMeasuredHeight;\n\n    ScaleGestureDetector mScaleDetector;\n\n    Context context;\n\n    public ZoomImageView(Context context) {\n        super(context);\n        sharedConstructing(context);\n    }\n\n    public ZoomImageView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        sharedConstructing(context);\n    }\n\n    private void sharedConstructing(Context context) {\n        super.setClickable(true);\n        this.context = context;\n        mScaleDetector = new ScaleGestureDetector(context, new ScaleListener());\n        matrix = new Matrix();\n        m = new float[9];\n        setImageMatrix(matrix);\n        setScaleType(ScaleType.MATRIX);\n\n        setOnTouchListener((v, event) -&gt; {\n            mScaleDetector.onTouchEvent(event);\n            PointF curr = new PointF(event.getX(), event.getY());\n\n            switch (event.getAction()) {\n                case MotionEvent.ACTION_DOWN:\n                    last.set(curr);\n                    start.set(last);\n                    mode = DRAG;\n                    break;\n\n                case MotionEvent.ACTION_MOVE:\n                    if (mode == DRAG) {\n                        float deltaX = curr.x - last.x;\n                        float deltaY = curr.y - last.y;\n                        float fixTransX = getFixDragTrans(deltaX, viewWidth,\n                                origWidth * saveScale);\n                        float fixTransY = getFixDragTrans(deltaY, viewHeight,\n                                origHeight * saveScale);\n                        matrix.postTranslate(fixTransX, fixTransY);\n                        fixTrans();\n                        last.set(curr.x, curr.y);\n                    }\n                    break;\n\n                case MotionEvent.ACTION_UP:\n                    mode = NONE;\n                    int xDiff = (int) Math.abs(curr.x - start.x);\n                    int yDiff = (int) Math.abs(curr.y - start.y);\n                    if (xDiff &lt; CLICK &amp;&amp; yDiff &lt; CLICK)\n                        performClick();\n                    break;\n\n                case MotionEvent.ACTION_POINTER_UP:\n                    mode = NONE;\n                    break;\n            }\n\n            setImageMatrix(matrix);\n            invalidate();\n            return true; // indicate event was handled\n        });\n    }\n\n    public void setMaxZoom(float x) {\n        maxScale = x;\n    }\n\n    void fixTrans() {\n        matrix.getValues(m);\n        float transX = m[Matrix.MTRANS_X];\n        float transY = m[Matrix.MTRANS_Y];\n\n        float fixTransX = getFixTrans(transX, viewWidth, origWidth * saveScale);\n        float fixTransY = getFixTrans(transY, viewHeight, origHeight\n                * saveScale);\n\n        if (fixTransX != 0 || fixTransY != 0)\n            matrix.postTranslate(fixTransX, fixTransY);\n    }\n\n    float getFixTrans(float trans, float viewSize, float contentSize) {\n        float minTrans, maxTrans;\n\n        if (contentSize &lt;= viewSize) {\n            minTrans = 0;\n            maxTrans = viewSize - contentSize;\n        } else {\n            minTrans = viewSize - contentSize;\n            maxTrans = 0;\n        }\n\n        if (trans &lt; minTrans)\n            return -trans + minTrans;\n        if (trans &gt; maxTrans)\n            return -trans + maxTrans;\n        return 0;\n    }\n\n    float getFixDragTrans(float delta, float viewSize, float contentSize) {\n        if (contentSize &lt;= viewSize) {\n            return 0;\n        }\n        return delta;\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n        viewWidth = MeasureSpec.getSize(widthMeasureSpec);\n        viewHeight = MeasureSpec.getSize(heightMeasureSpec);\n\n        //\n        // Rescales image on rotation\n        //\n        if (oldMeasuredHeight == viewWidth &amp;&amp; oldMeasuredHeight == viewHeight\n                || viewWidth == 0 || viewHeight == 0)\n            return;\n        oldMeasuredHeight = viewHeight;\n        oldMeasuredWidth = viewWidth;\n\n        if (saveScale == 1) {\n            // Fit to screen.\n            float scale;\n\n            Drawable drawable = getDrawable();\n            if (drawable == null || drawable.getIntrinsicWidth() == 0\n                    || drawable.getIntrinsicHeight() == 0)\n                return;\n            int bmWidth = drawable.getIntrinsicWidth();\n            int bmHeight = drawable.getIntrinsicHeight();\n\n            Log.d(&quot;bmSize&quot;, &quot;bmWidth: &quot; + bmWidth + &quot; bmHeight : &quot; + bmHeight);\n\n            float scaleX = (float) viewWidth / (float) bmWidth;\n            float scaleY = (float) viewHeight / (float) bmHeight;\n            scale = Math.min(scaleX, scaleY);\n            matrix.setScale(scale, scale);\n\n            //Center the image\n            float redundantYSpace = (float) viewHeight - (scale * (float) bmHeight);\n            float redundantXSpace = (float) viewWidth - (scale * (float) bmWidth);\n            redundantYSpace /= (float) 2;\n            redundantXSpace /= (float) 2;\n\n            matrix.postTranslate(redundantXSpace, redundantYSpace);\n\n            origWidth = viewWidth - 2 * redundantXSpace;\n            origHeight = viewHeight - 2 * redundantYSpace;\n            setImageMatrix(matrix);\n        }\n        fixTrans();\n    }\n\n    private class ScaleListener extends\n            ScaleGestureDetector.SimpleOnScaleGestureListener {\n        @Override\n        public boolean onScaleBegin(ScaleGestureDetector detector) {\n            mode = ZOOM;\n            return true;\n        }\n\n        @Override\n        public boolean onScale(ScaleGestureDetector detector) {\n            float mScaleFactor = detector.getScaleFactor();\n            float origScale = saveScale;\n            saveScale *= mScaleFactor;\n            if (saveScale &gt; maxScale) {\n                saveScale = maxScale;\n                mScaleFactor = maxScale / origScale;\n            } else if (saveScale &lt; minScale) {\n                saveScale = minScale;\n                mScaleFactor = minScale / origScale;\n            }\n\n            if (origWidth * saveScale &lt;= viewWidth\n                    || origHeight * saveScale &lt;= viewHeight)\n                matrix.postScale(mScaleFactor, mScaleFactor, viewWidth / 2,\n                        viewHeight / 2);\n            else\n                matrix.postScale(mScaleFactor, mScaleFactor,\n                        detector.getFocusX(), detector.getFocusY());\n\n            fixTrans();\n            return true;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","backtracking","traveling-salesman"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1653664371,"post_id":72407066,"comment_id":127913173,"body_markdown":"Off the top of my head, I don&#39;t see how a classic backtracking algorithm saves different sequences either.  I guess you can&#39;t use backtracking.  That&#39;s why we have more than one algorithm for solving these things, there&#39;s no universally applicable &quot;it solves everything&quot; solution.","body":"Off the top of my head, I don&#39;t see how a classic backtracking algorithm saves different sequences either.  I guess you can&#39;t use backtracking.  That&#39;s why we have more than one algorithm for solving these things, there&#39;s no universally applicable &quot;it solves everything&quot; solution."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653667828,"post_id":72407066,"comment_id":127914514,"body_markdown":"Could you provide the rest of your code related to the problem? For example, what `isSolution()` does ?","body":"Could you provide the rest of your code related to the problem? For example, what <code>isSolution()</code> does ?"},{"owner":{"account_id":24171855,"reputation":21,"user_id":19214856,"display_name":"Adri&#225;n"},"score":0,"creation_date":1653675346,"post_id":72407066,"comment_id":127916861,"body_markdown":"Thank you for the answers. I have upload that method. The idea is to store all cities in a structure as a array while we are doing backtracking process. So, if we add a city and it wasn&#39;t the better option the algorithm has to discard it (at the same time it is computing the cost of the path of the cycle). If you know some kind of implementation I would appreciate it very much.","body":"Thank you for the answers. I have upload that method. The idea is to store all cities in a structure as a array while we are doing backtracking process. So, if we add a city and it wasn&#39;t the better option the algorithm has to discard it (at the same time it is computing the cost of the path of the cycle). If you know some kind of implementation I would appreciate it very much."},{"owner":{"account_id":24171855,"reputation":21,"user_id":19214856,"display_name":"Adri&#225;n"},"score":0,"creation_date":1653676074,"post_id":72407066,"comment_id":127917060,"body_markdown":"Note: I know that the code I posted has bugs, I just want to pass on the idea to get some kind of implementation. If you know of a book related to the topic, I am open to suggestions.","body":"Note: I know that the code I posted has bugs, I just want to pass on the idea to get some kind of implementation. If you know of a book related to the topic, I am open to suggestions."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1653686759,"post_id":72407066,"comment_id":127919833,"body_markdown":"Try looking at [Applying the method for solving  Travelling Salesman problem based on backtracking algorithm to order picking](https://www.scirp.org/journal/paperinformation.aspx?paperid=67515)","body":"Try looking at <a href=\"https://www.scirp.org/journal/paperinformation.aspx?paperid=67515\" rel=\"nofollow noreferrer\">Applying the method for solving  Travelling Salesman problem based on backtracking algorithm to order picking</a>"},{"owner":{"account_id":24171855,"reputation":21,"user_id":19214856,"display_name":"Adri&#225;n"},"score":0,"creation_date":1653754598,"post_id":72407066,"comment_id":127930371,"body_markdown":"Finally, I managed to solve the problem, it was easier than I thought. Thank you very much.","body":"Finally, I managed to solve the problem, it was easier than I thought. Thank you very much."}],"owner":{"account_id":24171855,"reputation":21,"user_id":19214856,"display_name":"Adri&#225;n"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":703,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1653689217,"creation_date":1653662265,"question_id":72407066,"body_markdown":"I&#39;ve been trying to solve TSP using backtracking. \r\n\r\nThe question is that I have to print the sequence of  cities which form part of the cycle with minimum cost and its cost.\r\nI don&#39;t know how I could save that sequence. \r\n\r\nHere is an example of the code I&#39;m trying.\r\n\r\n    public void backTracking(int node, int k, int index) {\r\n\t\tint cost = 0;\r\n\t\t\r\n\t\twhile (!isSolution() &amp;&amp; hasMoreChild(node)) { \r\n\t\t\tsolution[index] = node;\r\n\t\t\tint nextChild = getNextChild(node);\r\n\t\t\tcost += matrixAdy[node][nextChild];\r\n\t\t\tbackTracking(nextChild, k + 1, index + 1);\r\n\t\t\tsolution[index] = -1;\r\n\t\t}\r\n\t}\r\n\r\n\r\n    public boolean isSolution() {\r\n\t\tint finalNode = solution[solution.length - 1];\r\n\t\tfor (int adyNode : matrixAdy[finalNode]) {\r\n\t\t\tif (adyNode == start) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}","title":"How to apply Backtracking in solving Travelling salesman problem?","body":"<p>I've been trying to solve TSP using backtracking.</p>\n<p>The question is that I have to print the sequence of  cities which form part of the cycle with minimum cost and its cost.\nI don't know how I could save that sequence.</p>\n<p>Here is an example of the code I'm trying.</p>\n<pre><code>public void backTracking(int node, int k, int index) {\n    int cost = 0;\n    \n    while (!isSolution() &amp;&amp; hasMoreChild(node)) { \n        solution[index] = node;\n        int nextChild = getNextChild(node);\n        cost += matrixAdy[node][nextChild];\n        backTracking(nextChild, k + 1, index + 1);\n        solution[index] = -1;\n    }\n}\n\n\npublic boolean isSolution() {\n    int finalNode = solution[solution.length - 1];\n    for (int adyNode : matrixAdy[finalNode]) {\n        if (adyNode == start) return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","linode"],"answers":[{"tags":[],"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653670036,"creation_date":1653662151,"answer_id":72407045,"question_id":72405475,"body_markdown":"You need to specify the Linode endpoint with `withEndpointConfiguration`\r\n\r\n```java\r\n@Bean\r\npublic AmazonS3 linodeClient() {\r\n    AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\r\n    return AmazonS3ClientBuilder\r\n            .standard()\r\n            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(\r\n                    &quot;https://&quot; + region + &quot;.linodeobjects.com&quot;, region))\r\n            .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n            .build();\r\n}\r\n```\r\n","title":"How to Upload files and download files to LINODE object storage using Springboot?","body":"<p>You need to specify the Linode endpoint with <code>withEndpointConfiguration</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AmazonS3 linodeClient() {\n    AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\n    return AmazonS3ClientBuilder\n            .standard()\n            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(\n                    &quot;https://&quot; + region + &quot;.linodeobjects.com&quot;, region))\n            .withCredentials(new AWSStaticCredentialsProvider(credentials))\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":25403175,"reputation":25,"user_id":19212312,"display_name":"Narashimhaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72407045,"answer_count":1,"score":0,"last_activity_date":1653688616,"creation_date":1653654550,"question_id":72405475,"body_markdown":"I am using SpringBoot for development.\r\n\r\nI need to upload and download files from *Linode* Object storage (similar to *Amazon s3 bucket*). \r\n\r\nI didn&#39;t get any artifact dependency for development. I used Amazon S3 methods for development. But it ended up with an error saying Keys doesn&#39;t match s3.\r\n\r\nHere is the config code:\r\n\r\n```java\r\n@Configuration\r\npublic class WebSecurityConfig  {\r\n    @Value(&quot;${cloud.linode.credentials.access-key}&quot;)\r\n    private String accessKey;\r\n\r\n    @Value(&quot;${cloud.linode.credentials.secret-key}&quot;)\r\n    private String accessSecret;\r\n\r\n    @Value(&quot;${cloud.linode.region.static}&quot;)\r\n    private String region;\r\n\r\n    @Bean\r\n    public AmazonS3 linodeClient() {\r\n        AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\r\n        return AmazonS3ClientBuilder\r\n                .standard()\r\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n                .withRegion(region)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nHow could I solve this? Need *Linode* methods.","title":"How to Upload files and download files to LINODE object storage using Springboot?","body":"<p>I am using SpringBoot for development.</p>\n<p>I need to upload and download files from <em>Linode</em> Object storage (similar to <em>Amazon s3 bucket</em>).</p>\n<p>I didn't get any artifact dependency for development. I used Amazon S3 methods for development. But it ended up with an error saying Keys doesn't match s3.</p>\n<p>Here is the config code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebSecurityConfig  {\n    @Value(&quot;${cloud.linode.credentials.access-key}&quot;)\n    private String accessKey;\n\n    @Value(&quot;${cloud.linode.credentials.secret-key}&quot;)\n    private String accessSecret;\n\n    @Value(&quot;${cloud.linode.region.static}&quot;)\n    private String region;\n\n    @Bean\n    public AmazonS3 linodeClient() {\n        AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\n        return AmazonS3ClientBuilder\n                .standard()\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\n                .withRegion(region)\n                .build();\n    }\n}\n</code></pre>\n<p>How could I solve this? Need <em>Linode</em> methods.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1653661659,"post_id":72406943,"comment_id":127912069,"body_markdown":"If you want to return a value like &quot;A1&quot;, the return type must be `String`, not `int`.","body":"If you want to return a value like &quot;A1&quot;, the return type must be <code>String</code>, not <code>int</code>."}],"answers":[{"tags":[],"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653677475,"creation_date":1653661821,"answer_id":72406987,"question_id":72406943,"body_markdown":"You&#39;ve declared a data type of String output and returning a string when the method is completed, but if you take a closer look at your method declaration, it is declaring that your method will return an int.\r\n\r\n- `public int getSeatNumber()` &lt;-- need to return an int type.\r\n- `public String getSeatNumber()` should work without throwing errors.","title":"Can&#39;t figure out how to return a string composed of two variables, a string and a integer?- repost, updated","body":"<p>You've declared a data type of String output and returning a string when the method is completed, but if you take a closer look at your method declaration, it is declaring that your method will return an int.</p>\n<ul>\n<li><code>public int getSeatNumber()</code> &lt;-- need to return an int type.</li>\n<li><code>public String getSeatNumber()</code> should work without throwing errors.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21103765,"reputation":30,"user_id":15513188,"display_name":"NBG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653688402,"creation_date":1653662311,"answer_id":72407074,"question_id":72406943,"body_markdown":"Change your method to this:\r\n\r\n\r\n    public String getSeatNumber() {\r\n\r\n        String output = &quot;&quot; + seatLetter + String.valueOf(seatNumber);\r\n\r\n        return output; \r\n    }\r\n\r\nNotice how I changed the method return type to `String`.\r\n\r\nI advice you use `String.format` instead, as it will make your code cleaner (I didn&#39;t use it since I don&#39;t know the types of your values).\r\n","title":"Can&#39;t figure out how to return a string composed of two variables, a string and a integer?- repost, updated","body":"<p>Change your method to this:</p>\n<pre><code>public String getSeatNumber() {\n\n    String output = &quot;&quot; + seatLetter + String.valueOf(seatNumber);\n\n    return output; \n}\n</code></pre>\n<p>Notice how I changed the method return type to <code>String</code>.</p>\n<p>I advice you use <code>String.format</code> instead, as it will make your code cleaner (I didn't use it since I don't know the types of your values).</p>\n"}],"owner":{"account_id":25139050,"reputation":1,"user_id":18985547,"display_name":"Arkaiid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1653688402,"creation_date":1653661599,"question_id":72406943,"body_markdown":"This program is using a get/set method for both, but I just can&#39;t  figure out how!\r\n\r\nThanks to a helpful user recommending string.valueOf, I now have this\r\n\r\n```java\r\npublic int getSeatNumber() {\r\n    String output = &quot;&quot; + seatLetter + String.valueOf(seatNumber);\r\n    return output;\r\n}\r\n```\r\nbut it still has the same error, \r\n\r\n&gt; &quot;Incompatible types, string cannot be converted to an int&quot;.\r\n\r\nHere is the full object, although not all variables are set, as this is recycled code.\r\n\r\n```java\r\npublic class Ticket {\r\n\r\n    private int seatNumber, phoneNumber;\r\n    private double price;\r\n    private String seatLetter, name;\r\n\r\n    //default constructor\r\n    public Ticket() {\r\n        price = 300;\r\n        seatNumber = 1;\r\n        name = &quot;John Doe&quot;;\r\n        seatLetter = &quot;A&quot;;\r\n        \r\n    }\r\n    public double getPrice() {\r\n      return price;\r\n    }\r\n\r\n    public int getSeatNumber() {\r\n        String output = &quot;&quot; + seatLetter + String.valueOf(seatNumber);\r\n        return output;\r\n    }\r\n\r\n    public String getModel() {\r\n        return model;\r\n    }\r\n\r\n    public void setPrice(double _price) {\r\n        price = _price;\r\n    }\r\n\r\n    public void setSeatNumber(int _seatNumber) {\r\n        seatNumber = _seatNumber;\r\n    }\r\n\r\n    public void setSeatName(String _seatLetter) {\r\n        seatLetter = _seatLetter;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String output = &quot;&quot;;\r\n        output += &quot;Model = &quot; + model + &quot;\\n&quot;;\r\n        output += &quot;Price = $&quot; + price + &quot;\\n&quot;;\r\n        output += &quot;Horsepower = &quot; + horsePower + &quot;HP&quot;;\r\n        return output;\r\n    }\r\n}\r\n```","title":"Can&#39;t figure out how to return a string composed of two variables, a string and a integer?- repost, updated","body":"<p>This program is using a get/set method for both, but I just can't  figure out how!</p>\n<p>Thanks to a helpful user recommending string.valueOf, I now have this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int getSeatNumber() {\n    String output = &quot;&quot; + seatLetter + String.valueOf(seatNumber);\n    return output;\n}\n</code></pre>\n<p>but it still has the same error,</p>\n<blockquote>\n<p>&quot;Incompatible types, string cannot be converted to an int&quot;.</p>\n</blockquote>\n<p>Here is the full object, although not all variables are set, as this is recycled code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Ticket {\n\n    private int seatNumber, phoneNumber;\n    private double price;\n    private String seatLetter, name;\n\n    //default constructor\n    public Ticket() {\n        price = 300;\n        seatNumber = 1;\n        name = &quot;John Doe&quot;;\n        seatLetter = &quot;A&quot;;\n        \n    }\n    public double getPrice() {\n      return price;\n    }\n\n    public int getSeatNumber() {\n        String output = &quot;&quot; + seatLetter + String.valueOf(seatNumber);\n        return output;\n    }\n\n    public String getModel() {\n        return model;\n    }\n\n    public void setPrice(double _price) {\n        price = _price;\n    }\n\n    public void setSeatNumber(int _seatNumber) {\n        seatNumber = _seatNumber;\n    }\n\n    public void setSeatName(String _seatLetter) {\n        seatLetter = _seatLetter;\n    }\n\n    @Override\n    public String toString() {\n        String output = &quot;&quot;;\n        output += &quot;Model = &quot; + model + &quot;\\n&quot;;\n        output += &quot;Price = $&quot; + price + &quot;\\n&quot;;\n        output += &quot;Horsepower = &quot; + horsePower + &quot;HP&quot;;\n        return output;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":18870213,"reputation":84,"user_id":13765021,"display_name":"Alex Verdaguer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653666597,"creation_date":1653607569,"answer_id":72399002,"question_id":72398575,"body_markdown":"# import the library\r\n\r\n    from selenium.webdriver.common.by import By\r\n    from selenium.webdriver.support.ui import WebDriverWait\r\n    from selenium.webdriver.support import expected_conditions as EC\r\n\r\n# set your timeout in seconds (30 , 5, 15 ...)\r\n\r\n    wait = WebDriverWait(driver,25)\r\n\r\n# select the item you want to wait for it to load\r\n\r\n    my_select = wait.until(EC.element_to_be_clickable((By.XPATH, &#39;//[@id=&quot;ui-tabpanel-3 label&quot;]/span&#39;)))\r\n    \r\n\r\n# select the item and click on it\r\n\r\n    my_select = driver.find_element_by_xpath(&#39;//[@id=&quot;ui-tabpanel-3 label&quot;]/span&#39;)\r\n    my_select.click()\r\n# if the normal click does not work, try the following way\r\n\r\n    driver.execute_script(&quot;arguments[0].click();&quot;, my_select)\r\n\r\n\r\n","title":"How can I handle element click intercepted in Selenium with Explicit Wait?","body":"<h1>import the library</h1>\n<pre><code>from selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n</code></pre>\n<h1>set your timeout in seconds (30 , 5, 15 ...)</h1>\n<pre><code>wait = WebDriverWait(driver,25)\n</code></pre>\n<h1>select the item you want to wait for it to load</h1>\n<pre><code>my_select = wait.until(EC.element_to_be_clickable((By.XPATH, '//[@id=&quot;ui-tabpanel-3 label&quot;]/span')))\n</code></pre>\n<h1>select the item and click on it</h1>\n<pre><code>my_select = driver.find_element_by_xpath('//[@id=&quot;ui-tabpanel-3 label&quot;]/span')\nmy_select.click()\n</code></pre>\n<h1>if the normal click does not work, try the following way</h1>\n<pre><code>driver.execute_script(&quot;arguments[0].click();&quot;, my_select)\n</code></pre>\n"}],"owner":{"account_id":8938634,"reputation":21,"user_id":6668589,"display_name":"JackofallTrade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653688338,"creation_date":1653603652,"question_id":72398575,"body_markdown":"After landing to a tab (1st line of code) the page is loading for a while, and it&#39;s not consistent. Sometimes it&#39;s `10`s, `30`s like that. If I put `Thread.sleep()` for a while, then all works fine if the page gets loaded with in that time.\r\n\r\nBut instead of `thread.sleep` if I want to use the explicit wait then every time I am getting an Exception in thread &quot;main&quot; \r\n\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;span class=&quot;ui-tabview-title&quot;&gt;...&lt;/span&gt; is not clickable at point (115, 124). Other element would receive the click: &lt;div _ngcontent-xnt-c0=&quot;&quot; class=&quot;ui-blockui ui-widget-overlay ng-star-inserted&quot; style=&quot;z-index: 99999&quot;&gt;...&lt;/div&gt;\r\n      (Session info: chrome=101.0.4951.41).\r\n\r\nI have tried `clickable`, `isDiplayed`, `isEnabled` methods to handle this as my requirement is to wait till page loading complete and then only click on web-element.\r\n\r\n    driver1.findElement(By.linkText(&quot;MANAGE CAPS&quot;)).click();\r\n    Thread.sleep(7000);\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id=\\&quot;ui-tabpanel-3 label\\&quot;]/span&quot;)));\r\n    driver1.findElement(By.xpath(&quot;//*[@id=\\&quot;ui-tabpanel-3-label\\&quot;]/span&quot;)).click();","title":"How can I handle element click intercepted in Selenium with Explicit Wait?","body":"<p>After landing to a tab (1st line of code) the page is loading for a while, and it's not consistent. Sometimes it's <code>10</code>s, <code>30</code>s like that. If I put <code>Thread.sleep()</code> for a while, then all works fine if the page gets loaded with in that time.</p>\n<p>But instead of <code>thread.sleep</code> if I want to use the explicit wait then every time I am getting an Exception in thread &quot;main&quot;</p>\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;span class=&quot;ui-tabview-title&quot;&gt;...&lt;/span&gt; is not clickable at point (115, 124). Other element would receive the click: &lt;div _ngcontent-xnt-c0=&quot;&quot; class=&quot;ui-blockui ui-widget-overlay ng-star-inserted&quot; style=&quot;z-index: 99999&quot;&gt;...&lt;/div&gt;\n  (Session info: chrome=101.0.4951.41).\n</code></pre>\n<p>I have tried <code>clickable</code>, <code>isDiplayed</code>, <code>isEnabled</code> methods to handle this as my requirement is to wait till page loading complete and then only click on web-element.</p>\n<pre><code>driver1.findElement(By.linkText(&quot;MANAGE CAPS&quot;)).click();\nThread.sleep(7000);\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id=\\&quot;ui-tabpanel-3 label\\&quot;]/span&quot;)));\ndriver1.findElement(By.xpath(&quot;//*[@id=\\&quot;ui-tabpanel-3-label\\&quot;]/span&quot;)).click();\n</code></pre>\n"},{"tags":["java","xml","jdom"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1653660996,"post_id":72406653,"comment_id":127911790,"body_markdown":"Why would you want to explicitly not end a file with a newline?","body":"Why would you want to explicitly not end a file with a newline?"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":1,"creation_date":1653665363,"post_id":72406653,"comment_id":127913545,"body_markdown":"1. Output the formatted XML to a string. 2. Call the ```.strip()``` method of the string. 3. Write the string to a file.","body":"1. Output the formatted XML to a string. 2. Call the <code>.strip()</code> method of the string. 3. Write the string to a file."}],"owner":{"account_id":25396246,"reputation":1,"user_id":19206462,"display_name":"Fabiola DIONDOU NANA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653688230,"creation_date":1653660326,"question_id":72406653,"body_markdown":"I used `getPrettyFormat()` in Jdom2 and it gives me a XML file as below.\r\n\r\n \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n       &lt;courses&gt;\r\n          &lt;name id=&quot;1&quot;&gt;CynO&lt;/name&gt;\r\n       &lt;/courses&gt;\r\n\r\nMy XML file generate 5 lines instead of 4. How to delete the fifth empty line?\r\n\r\nMy code:\r\n\r\n \r\n\r\n    XMLOutputter xml = new XMLOutputter();\r\n    xml.setFormat(Format.getPrettyFormat());\r\n    xml.output(doc, new FileWriter(fileName));\r\n\r\n\r\n \r\n\r\n","title":"Remove last empty line in XML generated by Jdom2","body":"<p>I used <code>getPrettyFormat()</code> in Jdom2 and it gives me a XML file as below.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n   &lt;courses&gt;\n      &lt;name id=&quot;1&quot;&gt;CynO&lt;/name&gt;\n   &lt;/courses&gt;\n</code></pre>\n<p>My XML file generate 5 lines instead of 4. How to delete the fifth empty line?</p>\n<p>My code:</p>\n<pre><code>XMLOutputter xml = new XMLOutputter();\nxml.setFormat(Format.getPrettyFormat());\nxml.output(doc, new FileWriter(fileName));\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":25399218,"reputation":59,"user_id":19209006,"display_name":"MachoMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653688223,"creation_date":1653688223,"question_id":72411383,"body_markdown":"Using the Eclipse IDE, I am trying to develop components of an application, so it may be deployed on various operating platforms.\r\nMy main goal is to get a login interface to render on the server side. I have added the config.yml file in my project, and now I am getting a runtime error that says: \r\n\r\n    INFO  [2022-05-27 21:02:54,981] \r\n    io.dropwizard.core.server.DefaultServerFactory: Registering \r\n    jersey handler with root path prefix: /\r\n    java.lang.ClassCastException: class \r\n    org.hibernate.validator.internal.engine.ValidatorImpl cannot be \r\n    cast to class javax.validation.Validator \r\n    (org.hibernate.validator.internal.engine.ValidatorImpl and \r\n    javax.validation.Validator are in unnamed module of loader &#39;app&#39;)\r\n    INFO  [2022-05-27 21:02:54,983] \r\n    io.dropwizard.core.server.DefaultServerFactory: Registering admin \r\n    handler with root path prefix: /\r\n    INFO  [2022-05-27 21:02:54,983] \r\n    com.dropwizard.gameauth2.GameAuthApplication: Registering REST \r\n    resources\r\n\tat com.dropwizard.gameauth2.GameAuthApplication.run(GameAuthApplication.java:41)\r\n\tat io.dropwizard.core.cli.EnvironmentCommand.run(EnvironmentCommand.java:67)\r\n\tat io.dropwizard.core.cli.ConfiguredCommand.run(ConfiguredCommand.java:98)\r\n\tat io.dropwizard.core.cli.Cli.run(Cli.java:78)\r\n\tat io.dropwizard.core.Application.run(Application.java:94)\r\n\tat com.dropwizard.gameauth2.GameAuthApplication.main(GameAuthApplication.java:63)\r\n\r\n\r\nHere is my my GameAuthApplication file:\r\n\r\n    package com.dropwizard.gameauth2;\r\n\r\n    import javax.validation.Validator;\r\n    import javax.ws.rs.client.Client;\r\n\r\n    import org.glassfish.jersey.client.JerseyClientBuilder;\r\n    import org.glassfish.jersey.server.filter.RolesAllowedDynamicFeature;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\n    import com.dropwizard.gameauth2.auth.GameAuthenticator;\r\n    import com.dropwizard.gameauth2.auth.GameAuthorizer;\r\n    import com.dropwizard.gameauth2.auth.GameUser;\r\n    import com.dropwizard.gameauth2.controllers.GameUserRESTController;\r\n    import com.dropwizard.gameauth2.controllers.RESTClientController;\r\n    import com.dropwizard.gameauth2.healthcheck.AppHealthCheck;\r\n    import com.dropwizard.gameauth2.healthcheck.HealthCheckController;\r\n\r\n    import io.dropwizard.auth.AuthDynamicFeature;\r\n    import io.dropwizard.auth.AuthValueFactoryProvider;\r\n    import io.dropwizard.auth.basic.BasicCredentialAuthFilter;\r\n    import io.dropwizard.core.Application;\r\n    import io.dropwizard.core.Configuration;\r\n    import io.dropwizard.core.setup.Bootstrap;\r\n    import io.dropwizard.core.setup.Environment;\r\n\r\n    public class GameAuthApplication extends Application&lt;Configuration&gt; {\r\n\t    private static final Logger LOGGER = LoggerFactory.getLogger(GameAuthApplication.class);\r\n\r\n\t@Override\r\n\tpublic void initialize(Bootstrap&lt;Configuration&gt; b) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(Configuration c, Environment e) throws Exception \r\n\t{\r\n\t\t\r\n\t\tLOGGER.info(&quot;Registering REST resources&quot;);\r\n \r\n\t\t// FIXME: register GameUserRESTController (based on BasicAuth Security Example)\r\n\t\te.jersey().register(new GameUserRESTController((Validator) e.getValidator()));\r\n\t\t// FIXME: Create io.dropwizard.client.JerseyClientBuilder instance and give it io.dropwizard.setup.Environment reference (based on BasicAuth Security Example)\r\n\t\tfinal Client client = (Client) new JerseyClientBuilder().build();\r\n\t\te.jersey().register(new RESTClientController(client));\r\n\r\n\t\t// Application health check\r\n\t\te.healthChecks().register(&quot;APIHealthCheck&quot;, new AppHealthCheck(client));\r\n\r\n\t\t// Run multiple health checks\r\n\t\te.jersey().register(new HealthCheckController(e.healthChecks()));\r\n\t\t\r\n\t\t//Setup Basic Security\r\n\t\te.jersey().register(new AuthDynamicFeature(new \r\n    BasicCredentialAuthFilter.Builder&lt;GameUser&gt;()\r\n                .setAuthenticator(new GameAuthenticator())\r\n                .setAuthorizer(new GameAuthorizer())\r\n                .setRealm(&quot;App Security&quot;)\r\n                .buildAuthFilter()));\r\n        e.jersey().register(new AuthValueFactoryProvider.Binder&lt;&gt;(GameUser.class));\r\n        e.jersey().register(RolesAllowedDynamicFeature.class);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew GameAuthApplication().run(args);\r\n\t}\r\n\r\nIs there something in my GameAuthApplication file that I need to change?","title":"class org.hibernate.validator.internal.engine.ValidatorImpl cannot be cast to class javax.validation.Validator","body":"<p>Using the Eclipse IDE, I am trying to develop components of an application, so it may be deployed on various operating platforms.\nMy main goal is to get a login interface to render on the server side. I have added the config.yml file in my project, and now I am getting a runtime error that says:</p>\n<pre><code>INFO  [2022-05-27 21:02:54,981] \nio.dropwizard.core.server.DefaultServerFactory: Registering \njersey handler with root path prefix: /\njava.lang.ClassCastException: class \norg.hibernate.validator.internal.engine.ValidatorImpl cannot be \ncast to class javax.validation.Validator \n(org.hibernate.validator.internal.engine.ValidatorImpl and \njavax.validation.Validator are in unnamed module of loader 'app')\nINFO  [2022-05-27 21:02:54,983] \nio.dropwizard.core.server.DefaultServerFactory: Registering admin \nhandler with root path prefix: /\nINFO  [2022-05-27 21:02:54,983] \ncom.dropwizard.gameauth2.GameAuthApplication: Registering REST \nresources\nat com.dropwizard.gameauth2.GameAuthApplication.run(GameAuthApplication.java:41)\nat io.dropwizard.core.cli.EnvironmentCommand.run(EnvironmentCommand.java:67)\nat io.dropwizard.core.cli.ConfiguredCommand.run(ConfiguredCommand.java:98)\nat io.dropwizard.core.cli.Cli.run(Cli.java:78)\nat io.dropwizard.core.Application.run(Application.java:94)\nat com.dropwizard.gameauth2.GameAuthApplication.main(GameAuthApplication.java:63)\n</code></pre>\n<p>Here is my my GameAuthApplication file:</p>\n<pre><code>package com.dropwizard.gameauth2;\n\nimport javax.validation.Validator;\nimport javax.ws.rs.client.Client;\n\nimport org.glassfish.jersey.client.JerseyClientBuilder;\nimport org.glassfish.jersey.server.filter.RolesAllowedDynamicFeature;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.dropwizard.gameauth2.auth.GameAuthenticator;\nimport com.dropwizard.gameauth2.auth.GameAuthorizer;\nimport com.dropwizard.gameauth2.auth.GameUser;\nimport com.dropwizard.gameauth2.controllers.GameUserRESTController;\nimport com.dropwizard.gameauth2.controllers.RESTClientController;\nimport com.dropwizard.gameauth2.healthcheck.AppHealthCheck;\nimport com.dropwizard.gameauth2.healthcheck.HealthCheckController;\n\nimport io.dropwizard.auth.AuthDynamicFeature;\nimport io.dropwizard.auth.AuthValueFactoryProvider;\nimport io.dropwizard.auth.basic.BasicCredentialAuthFilter;\nimport io.dropwizard.core.Application;\nimport io.dropwizard.core.Configuration;\nimport io.dropwizard.core.setup.Bootstrap;\nimport io.dropwizard.core.setup.Environment;\n\npublic class GameAuthApplication extends Application&lt;Configuration&gt; {\n    private static final Logger LOGGER = LoggerFactory.getLogger(GameAuthApplication.class);\n\n@Override\npublic void initialize(Bootstrap&lt;Configuration&gt; b) {\n}\n\n@Override\npublic void run(Configuration c, Environment e) throws Exception \n{\n    \n    LOGGER.info(&quot;Registering REST resources&quot;);\n\n    // FIXME: register GameUserRESTController (based on BasicAuth Security Example)\n    e.jersey().register(new GameUserRESTController((Validator) e.getValidator()));\n    // FIXME: Create io.dropwizard.client.JerseyClientBuilder instance and give it io.dropwizard.setup.Environment reference (based on BasicAuth Security Example)\n    final Client client = (Client) new JerseyClientBuilder().build();\n    e.jersey().register(new RESTClientController(client));\n\n    // Application health check\n    e.healthChecks().register(&quot;APIHealthCheck&quot;, new AppHealthCheck(client));\n\n    // Run multiple health checks\n    e.jersey().register(new HealthCheckController(e.healthChecks()));\n    \n    //Setup Basic Security\n    e.jersey().register(new AuthDynamicFeature(new \nBasicCredentialAuthFilter.Builder&lt;GameUser&gt;()\n            .setAuthenticator(new GameAuthenticator())\n            .setAuthorizer(new GameAuthorizer())\n            .setRealm(&quot;App Security&quot;)\n            .buildAuthFilter()));\n    e.jersey().register(new AuthValueFactoryProvider.Binder&lt;&gt;(GameUser.class));\n    e.jersey().register(RolesAllowedDynamicFeature.class);\n}\n\npublic static void main(String[] args) throws Exception {\n    new GameAuthApplication().run(args);\n}\n</code></pre>\n<p>Is there something in my GameAuthApplication file that I need to change?</p>\n"},{"tags":["java","integer","overflow","math","binary-search"],"answers":[{"tags":[],"owner":{"account_id":115911,"reputation":7995,"user_id":304138,"accept_rate":88,"display_name":"Mormegil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296408576,"creation_date":1296408576,"answer_id":4844340,"question_id":4844165,"body_markdown":"Note that none of your ideas works for `low=-MAX_INT-1, high=MAX_INT`. The best I could come with is something like `low/2 + high/2 + ((low &amp;&#160;1) + (high &amp; 1))/2`.","title":"Safe integer middle value formula","body":"<p>Note that none of your ideas works for <code>low=-MAX_INT-1, high=MAX_INT</code>. The best I could come with is something like <code>low/2 + high/2 + ((low &amp; 1) + (high &amp; 1))/2</code>.</p>\n"},{"tags":[],"owner":{"account_id":104943,"reputation":14856,"user_id":280314,"accept_rate":86,"display_name":"Peter G."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296408936,"creation_date":1296408936,"answer_id":4844374,"question_id":4844165,"body_markdown":"    int half_low = low/2;\r\n    int lsb_low = low - 2*half_low;\r\n    int half_high = high/2;\r\n    int lsb_high = high - 2*half_high;\r\n    int mean = half_low + half_high + (lsb_low + lsb_high)/2;","title":"Safe integer middle value formula","body":"<pre><code>int half_low = low/2;\nint lsb_low = low - 2*half_low;\nint half_high = high/2;\nint lsb_high = high - 2*half_high;\nint mean = half_low + half_high + (lsb_low + lsb_high)/2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":209311,"reputation":5389,"user_id":460258,"display_name":"Jander"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1653688175,"creation_date":1296412180,"answer_id":4844672,"question_id":4844165,"body_markdown":"From http://aggregate.org/MAGIC/#Average%20of%20Integers:\r\n\r\n    (low &amp; high) + ((low ^ high) / 2)\r\n\r\nis an overflow-proof average of two unsigned integers.\r\n\r\nNow, this trick only works on unsigned integers.  But because `((a+x) + (b+x))/2 = (a+b)/2 + x`, you can fudge it as follows, if you have unsigned integers with the same bit size as your signed integers:\r\n\r\n    unsigned int u_low  = low + MAX_INT + 1;\r\n    unsigned int u_high = high + MAX_INT + 1;\r\n    unsigned int u_avg  = (u_low &amp; u_high) + (u_low ^ u_high)/2;\r\n    int avg = u_avg - MAX_INT - 1;\r\n\r\n----\r\n**UPDATE**: On further thought, this will work even if you don&#39;t have signed integers.  Signed and unsigned integers are equivalent over addition, subtraction, and bitwise operations.  So all we need to worry about is making sure that divide acts like an unsigned divide, which we can do by using a shift and masking out the uppermost bit.\r\n\r\n    low += MAX_INT + 1;\r\n    high += MAX_INT + 1;\r\n    avg = (low &amp; high) + (((low ^ high) &gt;&gt; 1) &amp; MAX_INT);\r\n    avg -= MAX_INT + 1;\r\n\r\n(Note that if you&#39;re using Java, you can use an unsigned shift, `... &gt;&gt;&gt; 1`, instead of `(... &gt;&gt; 1) &amp; MAX_INT`.)\r\n\r\n**HOWEVER,** there&#39;s an alternative I stumbled upon that&#39;s even simpler, and I haven&#39;t yet figured out how it works.  There&#39;s no need to adjust the numbers by MAX_INT or use unsigned variables or anything.  It&#39;s simply:\r\n\r\n    avg = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\r\n\r\nTested with all combinations of 16-bit signed integers `low` and `high` in the range -32768..32767, but not yet proven outright (by me anyway).","title":"Safe integer middle value formula","body":"<p>From <a href=\"http://aggregate.org/MAGIC/#Average%20of%20Integers\" rel=\"nofollow noreferrer\">http://aggregate.org/MAGIC/#Average%20of%20Integers</a>:</p>\n<pre><code>(low &amp; high) + ((low ^ high) / 2)\n</code></pre>\n<p>is an overflow-proof average of two unsigned integers.</p>\n<p>Now, this trick only works on unsigned integers.  But because <code>((a+x) + (b+x))/2 = (a+b)/2 + x</code>, you can fudge it as follows, if you have unsigned integers with the same bit size as your signed integers:</p>\n<pre><code>unsigned int u_low  = low + MAX_INT + 1;\nunsigned int u_high = high + MAX_INT + 1;\nunsigned int u_avg  = (u_low &amp; u_high) + (u_low ^ u_high)/2;\nint avg = u_avg - MAX_INT - 1;\n</code></pre>\n<hr />\n<p><strong>UPDATE</strong>: On further thought, this will work even if you don't have signed integers.  Signed and unsigned integers are equivalent over addition, subtraction, and bitwise operations.  So all we need to worry about is making sure that divide acts like an unsigned divide, which we can do by using a shift and masking out the uppermost bit.</p>\n<pre><code>low += MAX_INT + 1;\nhigh += MAX_INT + 1;\navg = (low &amp; high) + (((low ^ high) &gt;&gt; 1) &amp; MAX_INT);\navg -= MAX_INT + 1;\n</code></pre>\n<p>(Note that if you're using Java, you can use an unsigned shift, <code>... &gt;&gt;&gt; 1</code>, instead of <code>(... &gt;&gt; 1) &amp; MAX_INT</code>.)</p>\n<p><strong>HOWEVER,</strong> there's an alternative I stumbled upon that's even simpler, and I haven't yet figured out how it works.  There's no need to adjust the numbers by MAX_INT or use unsigned variables or anything.  It's simply:</p>\n<pre><code>avg = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\n</code></pre>\n<p>Tested with all combinations of 16-bit signed integers <code>low</code> and <code>high</code> in the range -32768..32767, but not yet proven outright (by me anyway).</p>\n"},{"tags":[],"owner":{"account_id":311784,"reputation":11,"user_id":625548,"display_name":"Lorenzo Castelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298229152,"creation_date":1298229152,"answer_id":5059336,"question_id":4844165,"body_markdown":"Assuming &lt;code&gt;high &gt;= low&lt;/code&gt;, a variant of your initial approach should also work, that is:\r\n\r\n    low + ((high - low) &gt;&gt;&gt; 1)\r\n\r\nwhere &lt;code&gt;&gt;&gt;&gt;&lt;/code&gt; is an unsigned shift (as in Java).\r\n\r\nThe idea is that &lt;code&gt;high - low&lt;/code&gt; never overflows if the result is interpreted as an unsigned integer, so the unsigned shift correctly performs division by 2 and the formula computes the middle value.","title":"Safe integer middle value formula","body":"<p>Assuming <code>high >= low</code>, a variant of your initial approach should also work, that is:</p>\n\n<pre><code>low + ((high - low) &gt;&gt;&gt; 1)\n</code></pre>\n\n<p>where <code>>>></code> is an unsigned shift (as in Java).</p>\n\n<p>The idea is that <code>high - low</code> never overflows if the result is interpreted as an unsigned integer, so the unsigned shift correctly performs division by 2 and the formula computes the middle value.</p>\n"}],"owner":{"account_id":169578,"reputation":5972,"user_id":395744,"accept_rate":61,"display_name":"eold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4334,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":4844672,"answer_count":4,"score":9,"last_activity_date":1653688175,"creation_date":1296406940,"question_id":4844165,"body_markdown":"I am looking for an efficient formula working in Java which calculates the following expression:\r\n\r\n    (low + high) / 2\r\nwhich is used for binary search.\r\nSo far, I have been using &quot;low + (high - low) / 2&quot; and &quot;high - (high - low) / 2&quot;\r\nto avoid overflow and underflows in some cases, but not both.\r\nNow I am looking for an efficient way to do this, which would for for any integer (assuming integers range from -MAX_INT - 1 to MAX_INT).\r\n\r\n**UPDATE**:\r\nCombining the answers from Jander and Peter G. and experimenting a while I got the following formulas for middle value element and its immediate neighbors:\r\n\r\nLowest-midpoint (equal to `floor((low + high)/2)`, e.g. [2 3] -&gt; 2, [2 4] -&gt; 3, [-3 -2] -&gt; -3)\r\n\r\n    mid = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\r\n\r\nHighest-midpoint (equal to `ceil((low + high)/2)`, e.g. [2 3] -&gt; 3, [2 4] -&gt; 3, [-3 -2] -&gt; -2)\r\n\r\n    low++;\r\n    mid = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\r\nBefore-midpoint (equal to `floor((low + high - 1)/2))`, e.g. [2 3] -&gt; 2, [2 4] -&gt; 2, [-7 -3] -&gt; -6)\r\n\r\n    high--;\r\n    mid = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\r\n\r\nAfter-midpoint (equal to `ceil((low + high + 1)/2))`, e.g. [2 3] -&gt; 3, [2 4] -&gt; 4, [-7 -3] -&gt; -4)\r\n\r\n    mid = (low &amp; high) + ((low ^ high) &gt;&gt; 1) + 1;\r\n\r\nOr, without bitwise and (&amp;) and or (|), slightly slower code (`x &gt;&gt; 1` can be replaced with `floor(x / 2)` to obtain bitwise operator free formulas):\r\n\r\nLeftmost-midpoint\r\n\r\n    halfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\r\n    mid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1);\r\nRightmost-midpoint\r\n\r\n    low++\r\n    halfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\r\n    mid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1);\r\nBefore-midpoint\r\n\r\n    high--;\r\n    halfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\r\n    mid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1);\r\nAfter-midpoint\r\n\r\n    halfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\r\n    mid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1) + 1;\r\n\r\n**Note**: the above `&gt;&gt;` operator is considered to be signed shift.","title":"Safe integer middle value formula","body":"<p>I am looking for an efficient formula working in Java which calculates the following expression:</p>\n\n<pre><code>(low + high) / 2\n</code></pre>\n\n<p>which is used for binary search.\nSo far, I have been using \"low + (high - low) / 2\" and \"high - (high - low) / 2\"\nto avoid overflow and underflows in some cases, but not both.\nNow I am looking for an efficient way to do this, which would for for any integer (assuming integers range from -MAX_INT - 1 to MAX_INT).</p>\n\n<p><strong>UPDATE</strong>:\nCombining the answers from Jander and Peter G. and experimenting a while I got the following formulas for middle value element and its immediate neighbors:</p>\n\n<p>Lowest-midpoint (equal to <code>floor((low + high)/2)</code>, e.g. [2 3] -> 2, [2 4] -> 3, [-3 -2] -> -3)</p>\n\n<pre><code>mid = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\n</code></pre>\n\n<p>Highest-midpoint (equal to <code>ceil((low + high)/2)</code>, e.g. [2 3] -> 3, [2 4] -> 3, [-3 -2] -> -2)</p>\n\n<pre><code>low++;\nmid = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\n</code></pre>\n\n<p>Before-midpoint (equal to <code>floor((low + high - 1)/2))</code>, e.g. [2 3] -> 2, [2 4] -> 2, [-7 -3] -> -6)</p>\n\n<pre><code>high--;\nmid = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\n</code></pre>\n\n<p>After-midpoint (equal to <code>ceil((low + high + 1)/2))</code>, e.g. [2 3] -> 3, [2 4] -> 4, [-7 -3] -> -4)</p>\n\n<pre><code>mid = (low &amp; high) + ((low ^ high) &gt;&gt; 1) + 1;\n</code></pre>\n\n<p>Or, without bitwise and (&amp;) and or (|), slightly slower code (<code>x &gt;&gt; 1</code> can be replaced with <code>floor(x / 2)</code> to obtain bitwise operator free formulas):</p>\n\n<p>Leftmost-midpoint</p>\n\n<pre><code>halfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\nmid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1);\n</code></pre>\n\n<p>Rightmost-midpoint</p>\n\n<pre><code>low++\nhalfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\nmid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1);\n</code></pre>\n\n<p>Before-midpoint</p>\n\n<pre><code>high--;\nhalfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\nmid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1);\n</code></pre>\n\n<p>After-midpoint</p>\n\n<pre><code>halfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\nmid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1) + 1;\n</code></pre>\n\n<p><strong>Note</strong>: the above <code>&gt;&gt;</code> operator is considered to be signed shift.</p>\n"},{"tags":["java","digital-signature","itext7"],"answers":[{"tags":[],"owner":{"account_id":8178327,"reputation":1669,"user_id":6156384,"display_name":"Samuel Huylebroeck"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1498217877,"creation_date":1498217877,"answer_id":44720542,"question_id":44720054,"body_markdown":"Your signature code is not opening the PDF in append mode, and hence will change the contents when signing the second time, breaking the first signature.\r\n\r\nTo sign in append mode, simply change the following line\r\n\r\n    PdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), false);\r\n\r\nto\r\n\r\n    PdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), true);\r\n\r\nThe third argument in the constructor determines whether the signer is used in append mode.","title":"iText7 PDF with multiple signatures","body":"<p>Your signature code is not opening the PDF in append mode, and hence will change the contents when signing the second time, breaking the first signature.</p>\n\n<p>To sign in append mode, simply change the following line</p>\n\n<pre><code>PdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), false);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>PdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), true);\n</code></pre>\n\n<p>The third argument in the constructor determines whether the signer is used in append mode.</p>\n"}],"owner":{"account_id":6319274,"reputation":43,"user_id":4908036,"display_name":"Isa&#237;as Louren&#231;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2836,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44720542,"answer_count":1,"score":4,"last_activity_date":1653687938,"creation_date":1498216378,"question_id":44720054,"body_markdown":"I&#39;m migrating code from iText5 to iText7 and currently i&#39;m struggling with appending one signature to a PDF already containing another signature.\r\nThose signatures are made with our National ID Card (Citizen Card).\r\n\r\nIn iText5 i used PdfStamper but it&#39;s missing from iText7...\r\n\r\nThis is what i have so far:\r\n\r\n```java\r\npackage cartaocidadao;\r\n    \r\nimport java.io.FileOutputStream;\r\nimport java.security.KeyStore;\r\nimport java.security.PrivateKey;\r\nimport java.security.Security;\r\nimport java.security.cert.Certificate;\r\nimport javax.swing.JOptionPane;\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\nimport org.poreid.config.POReIDConfig;\r\nimport org.poreid.crypto.POReIDProvider;\r\nimport com.itextpdf.signatures.OcspClientBouncyCastle;\r\nimport com.itextpdf.signatures.TSAClientBouncyCastle;\r\nimport java.io.IOException;\r\nimport java.util.Collection;\r\n    \r\nimport com.itextpdf.kernel.geom.Rectangle;\r\nimport com.itextpdf.kernel.pdf.PdfReader;\r\nimport com.itextpdf.signatures.BouncyCastleDigest;\r\nimport com.itextpdf.signatures.ICrlClient;\r\nimport com.itextpdf.signatures.DigestAlgorithms;\r\nimport com.itextpdf.signatures.IExternalDigest;\r\nimport com.itextpdf.signatures.IExternalSignature;\r\nimport com.itextpdf.signatures.IOcspClient;\r\nimport com.itextpdf.signatures.PdfSignatureAppearance;\r\nimport com.itextpdf.signatures.PdfSigner;\r\nimport com.itextpdf.signatures.PrivateKeySignature;\r\nimport com.itextpdf.signatures.ITSAClient;\r\nimport com.itextpdf.signatures.OCSPVerifier;\r\nimport java.security.GeneralSecurityException;\r\nimport static javax.swing.JOptionPane.ERROR_MESSAGE;\r\n\r\n/**\r\n *\r\n * @author i.lourenco\r\n */\r\npublic class Signature {\r\n        \r\n    /**\r\n     *  Signs the PDF with the Citizen Card Certificate\r\n     * @param src Source file\r\n     * @param dest Destination file\r\n     * @return TRUE if the PDF was signed successfully\r\n     */\r\n    protected static boolean signPDF(String src, String dest) {   \r\n        try {      \r\n            Security.addProvider(new POReIDProvider()); \r\n            BouncyCastleProvider provider = new BouncyCastleProvider();\r\n            Security.addProvider(provider);\r\n            KeyStore ks = KeyStore.getInstance(POReIDConfig.POREID);\r\n            ks.load(null);\r\n                \r\n            PrivateKey pk = (PrivateKey) ks.getKey(POReIDConfig.ASSINATURA, null);\r\n                \r\n            Certificate[] chain = ks.getCertificateChain(POReIDConfig.ASSINATURA);\r\n                \r\n            OCSPVerifier ocspVerifier = new OCSPVerifier(null, null);\r\n                \r\n            IOcspClient ocspClient = new OcspClientBouncyCastle(ocspVerifier);\r\n                \r\n            ITSAClient tsaClient = new TSAClientBouncyCastle(&quot;http://ts.cartaodecidadao.pt/tsa/server&quot;, &quot;&quot;, &quot;&quot;);\r\n                \r\n            sign(src, dest, chain, pk, DigestAlgorithms.SHA256, POReIDConfig.POREID, PdfSigner.CryptoStandard.CMS, &quot;&quot;, &quot;&quot;, null, ocspClient, tsaClient, 0);\r\n            } catch (Exception e) {\r\n           JOptionPane.showMessageDialog(null, e.getMessage(), &quot;Erro&quot;, ERROR_MESSAGE);\r\n        }\r\n            \r\n       return true;\r\n   }\r\n        \r\n    /**\r\n     * Applies the certificate, timestamp and revocation list to a PDF\r\n     * @param src Original PDF document\r\n     * @param dest Signed PDF document\r\n     * @param chain List of certificates\r\n     * @param pk Private key\r\n     * @param digestAlgorithm Encryption algorithm\r\n     * @param provider Citizen Card provider\r\n     * @param subfilter CMS\r\n     * @param reason Reason for signature\r\n     * @param location Location\r\n     * @param crlList Revocation list\r\n     * @param ocspClient Online Certification Status\r\n     * @param tsaClient Timestamp server\r\n     * @param estimatedSize\r\n     * @throws IOException\r\n     * @throws GeneralSecurityException \r\n     */\r\n    private static void sign(String src, String dest, Certificate[] chain, PrivateKey pk, String digestAlgorithm, \r\n            String provider, PdfSigner.CryptoStandard subfilter, String reason, String location, Collection&lt;ICrlClient&gt; crlList, \r\n            IOcspClient ocspClient, ITSAClient tsaClient, int estimatedSize) throws IOException, GeneralSecurityException {\r\n            \r\n        PdfReader reader = new PdfReader(src);\r\n            \r\n        PdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), false);\r\n            \r\n        PdfSignatureAppearance appearance = signer.getSignatureAppearance()\r\n                .setReason(reason)\r\n                .setLocation(location)\r\n                .setReuseAppearance(false);\r\n        Rectangle rect = new Rectangle(36, 648, 200, 100);\r\n        appearance.setPageRect(rect).setPageNumber(1);\r\n            \r\n        signer.getNewSigFieldName();\r\n            \r\n        IExternalSignature pks = new PrivateKeySignature(pk, digestAlgorithm, provider);\r\n        IExternalDigest digest = new BouncyCastleDigest();\r\n            \r\n        signer.signDetached(digest, pks, chain, crlList, ocspClient, tsaClient, estimatedSize, subfilter);\r\n    }\r\n    \r\n        \r\n}\r\n```\r\n\r\nPOReID (https://github.com/poreid/poreid) is the library used to interact with the smart card.\r\n\r\nWhen signing the document for the first time, it works fine. When signing the document again, it invalidates the first signature and only the last one is valid.\r\n\r\nPDF:\r\n\r\n[Two Signatures][1]\r\n\r\n  [1]: https://www.dropbox.com/s/xez8q6sm5glj35m/2Sig.pdf?dl=0","title":"iText7 PDF with multiple signatures","body":"<p>I'm migrating code from iText5 to iText7 and currently i'm struggling with appending one signature to a PDF already containing another signature.\nThose signatures are made with our National ID Card (Citizen Card).</p>\n<p>In iText5 i used PdfStamper but it's missing from iText7...</p>\n<p>This is what i have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package cartaocidadao;\n    \nimport java.io.FileOutputStream;\nimport java.security.KeyStore;\nimport java.security.PrivateKey;\nimport java.security.Security;\nimport java.security.cert.Certificate;\nimport javax.swing.JOptionPane;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.poreid.config.POReIDConfig;\nimport org.poreid.crypto.POReIDProvider;\nimport com.itextpdf.signatures.OcspClientBouncyCastle;\nimport com.itextpdf.signatures.TSAClientBouncyCastle;\nimport java.io.IOException;\nimport java.util.Collection;\n    \nimport com.itextpdf.kernel.geom.Rectangle;\nimport com.itextpdf.kernel.pdf.PdfReader;\nimport com.itextpdf.signatures.BouncyCastleDigest;\nimport com.itextpdf.signatures.ICrlClient;\nimport com.itextpdf.signatures.DigestAlgorithms;\nimport com.itextpdf.signatures.IExternalDigest;\nimport com.itextpdf.signatures.IExternalSignature;\nimport com.itextpdf.signatures.IOcspClient;\nimport com.itextpdf.signatures.PdfSignatureAppearance;\nimport com.itextpdf.signatures.PdfSigner;\nimport com.itextpdf.signatures.PrivateKeySignature;\nimport com.itextpdf.signatures.ITSAClient;\nimport com.itextpdf.signatures.OCSPVerifier;\nimport java.security.GeneralSecurityException;\nimport static javax.swing.JOptionPane.ERROR_MESSAGE;\n\n/**\n *\n * @author i.lourenco\n */\npublic class Signature {\n        \n    /**\n     *  Signs the PDF with the Citizen Card Certificate\n     * @param src Source file\n     * @param dest Destination file\n     * @return TRUE if the PDF was signed successfully\n     */\n    protected static boolean signPDF(String src, String dest) {   \n        try {      \n            Security.addProvider(new POReIDProvider()); \n            BouncyCastleProvider provider = new BouncyCastleProvider();\n            Security.addProvider(provider);\n            KeyStore ks = KeyStore.getInstance(POReIDConfig.POREID);\n            ks.load(null);\n                \n            PrivateKey pk = (PrivateKey) ks.getKey(POReIDConfig.ASSINATURA, null);\n                \n            Certificate[] chain = ks.getCertificateChain(POReIDConfig.ASSINATURA);\n                \n            OCSPVerifier ocspVerifier = new OCSPVerifier(null, null);\n                \n            IOcspClient ocspClient = new OcspClientBouncyCastle(ocspVerifier);\n                \n            ITSAClient tsaClient = new TSAClientBouncyCastle(&quot;http://ts.cartaodecidadao.pt/tsa/server&quot;, &quot;&quot;, &quot;&quot;);\n                \n            sign(src, dest, chain, pk, DigestAlgorithms.SHA256, POReIDConfig.POREID, PdfSigner.CryptoStandard.CMS, &quot;&quot;, &quot;&quot;, null, ocspClient, tsaClient, 0);\n            } catch (Exception e) {\n           JOptionPane.showMessageDialog(null, e.getMessage(), &quot;Erro&quot;, ERROR_MESSAGE);\n        }\n            \n       return true;\n   }\n        \n    /**\n     * Applies the certificate, timestamp and revocation list to a PDF\n     * @param src Original PDF document\n     * @param dest Signed PDF document\n     * @param chain List of certificates\n     * @param pk Private key\n     * @param digestAlgorithm Encryption algorithm\n     * @param provider Citizen Card provider\n     * @param subfilter CMS\n     * @param reason Reason for signature\n     * @param location Location\n     * @param crlList Revocation list\n     * @param ocspClient Online Certification Status\n     * @param tsaClient Timestamp server\n     * @param estimatedSize\n     * @throws IOException\n     * @throws GeneralSecurityException \n     */\n    private static void sign(String src, String dest, Certificate[] chain, PrivateKey pk, String digestAlgorithm, \n            String provider, PdfSigner.CryptoStandard subfilter, String reason, String location, Collection&lt;ICrlClient&gt; crlList, \n            IOcspClient ocspClient, ITSAClient tsaClient, int estimatedSize) throws IOException, GeneralSecurityException {\n            \n        PdfReader reader = new PdfReader(src);\n            \n        PdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), false);\n            \n        PdfSignatureAppearance appearance = signer.getSignatureAppearance()\n                .setReason(reason)\n                .setLocation(location)\n                .setReuseAppearance(false);\n        Rectangle rect = new Rectangle(36, 648, 200, 100);\n        appearance.setPageRect(rect).setPageNumber(1);\n            \n        signer.getNewSigFieldName();\n            \n        IExternalSignature pks = new PrivateKeySignature(pk, digestAlgorithm, provider);\n        IExternalDigest digest = new BouncyCastleDigest();\n            \n        signer.signDetached(digest, pks, chain, crlList, ocspClient, tsaClient, estimatedSize, subfilter);\n    }\n    \n        \n}\n</code></pre>\n<p>POReID (<a href=\"https://github.com/poreid/poreid\" rel=\"nofollow noreferrer\">https://github.com/poreid/poreid</a>) is the library used to interact with the smart card.</p>\n<p>When signing the document for the first time, it works fine. When signing the document again, it invalidates the first signature and only the last one is valid.</p>\n<p>PDF:</p>\n<p><a href=\"https://www.dropbox.com/s/xez8q6sm5glj35m/2Sig.pdf?dl=0\" rel=\"nofollow noreferrer\">Two Signatures</a></p>\n"},{"tags":["java","reflection","equals"],"answers":[{"tags":[],"owner":{"account_id":2961,"reputation":70821,"user_id":4203,"accept_rate":90,"display_name":"Hank Gay"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1653687595,"creation_date":1222213742,"answer_id":124598,"question_id":124585,"body_markdown":"If you did want to whitelist for performance reasons, consider using an annotation to indicate which fields to compare. Also, this implementation won&#39;t work if your fields don&#39;t have good implementations for `equals()`.\r\n\r\nP.S. If you go this route for `equals()`, don&#39;t forget to do something similar for `hashCode()`.\r\n\r\nP.P.S. I trust you already considered [HashCodeBuilder][1] and [EqualsBuilder][2].\r\n\r\n[1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\r\n[2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html","title":"Java equals(): to reflect or not to reflect","body":"<p>If you did want to whitelist for performance reasons, consider using an annotation to indicate which fields to compare. Also, this implementation won't work if your fields don't have good implementations for <code>equals()</code>.</p>\n<p>P.S. If you go this route for <code>equals()</code>, don't forget to do something similar for <code>hashCode()</code>.</p>\n<p>P.P.S. I trust you already considered <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"nofollow noreferrer\">HashCodeBuilder</a> and <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html\" rel=\"nofollow noreferrer\">EqualsBuilder</a>.</p>\n"},{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222213908,"creation_date":1222213908,"answer_id":124608,"question_id":124585,"body_markdown":"You can always annotate the fields you do/do not want in your equals method, that should be a straightforward and simple change to it.\r\n\r\nPerformance is obviously related to how often the object is actually compared, but a lot of frameworks use hash maps, so your equals may be being used more than you think.\r\n\r\nAlso, speaking of hash maps, you have the same issue with the hashCode method.\r\n\r\nFinally, do you really need to compare all of the fields for equality?\r\n","title":"Java equals(): to reflect or not to reflect","body":"<p>You can always annotate the fields you do/do not want in your equals method, that should be a straightforward and simple change to it.</p>\n\n<p>Performance is obviously related to how often the object is actually compared, but a lot of frameworks use hash maps, so your equals may be being used more than you think.</p>\n\n<p>Also, speaking of hash maps, you have the same issue with the hashCode method.</p>\n\n<p>Finally, do you really need to compare all of the fields for equality?</p>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222213946,"creation_date":1222213946,"answer_id":124610,"question_id":124585,"body_markdown":"If you have access to the names of the fields, why don&#39;t you make it a standard that fields you don&#39;t want to include always start with &quot;local&quot; or &quot;nochk&quot; or something like that.\r\n\r\nThen you blacklist all fields that begin with this (code is not so ugly then).\r\n\r\nI don&#39;t doubt it&#39;s a little slower.  You need to decide whether you want to swap ease-of-updates against execution speed.","title":"Java equals(): to reflect or not to reflect","body":"<p>If you have access to the names of the fields, why don't you make it a standard that fields you don't want to include always start with \"local\" or \"nochk\" or something like that.</p>\n\n<p>Then you blacklist all fields that begin with this (code is not so ugly then).</p>\n\n<p>I don't doubt it's a little slower.  You need to decide whether you want to swap ease-of-updates against execution speed.</p>\n"},{"tags":[],"owner":{"account_id":3416,"reputation":81767,"user_id":4926,"accept_rate":85,"display_name":"Jason Cohen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222214568,"creation_date":1222214568,"answer_id":124640,"question_id":124585,"body_markdown":"You have a few bugs in your code.\r\n\r\n 1. You cannot assume that `this` and `obj` are the same class.  Indeed, it&#39;s explicitly allowed for `obj` to be any other class.  You could start with `if ( ! obj instanceof myClass ) return false;` however this is *still not correct* because `obj` could be a subclass of `this` with additional fields that might matter.\r\n 1. You have to support `null` values for `obj` with a simple `if ( obj == null ) return false;`\r\n 1. You can&#39;t treat `null` and empty string as equal.  Instead treat `null` specially.  Simplest way here is to start by comparing `Field.get(obj) == Field.get(this)`.  If they are both equal or both happen to point to the same object, this is fast.  (Note: This is also an optimization, which you need since this is a slow routine.)  If this fails, you can use the fast `if ( Field.get(obj) == null || Field.get(this) == null ) return false;` to handle cases where exactly one is `null`.  Finally you can use the usual `equals()`.\r\n 1. You&#39;re not using `foundMismatch`\r\n\r\nI agree with Hank that `[HashCodeBuilder][1]` and `[EqualsBuilder][2]` is a better way to go.  It&#39;s easy to maintain, not a lot of boilerplate code, and you avoid all these issues.\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api/org/apache/commons/lang/builder/HashCodeBuilder.html\r\n  [2]: http://commons.apache.org/lang/api/org/apache/commons/lang/builder/EqualsBuilder.html","title":"Java equals(): to reflect or not to reflect","body":"<p>You have a few bugs in your code.</p>\n\n<ol>\n<li>You cannot assume that <code>this</code> and <code>obj</code> are the same class.  Indeed, it's explicitly allowed for <code>obj</code> to be any other class.  You could start with <code>if ( ! obj instanceof myClass ) return false;</code> however this is <em>still not correct</em> because <code>obj</code> could be a subclass of <code>this</code> with additional fields that might matter.</li>\n<li>You have to support <code>null</code> values for <code>obj</code> with a simple <code>if ( obj == null ) return false;</code></li>\n<li>You can't treat <code>null</code> and empty string as equal.  Instead treat <code>null</code> specially.  Simplest way here is to start by comparing <code>Field.get(obj) == Field.get(this)</code>.  If they are both equal or both happen to point to the same object, this is fast.  (Note: This is also an optimization, which you need since this is a slow routine.)  If this fails, you can use the fast <code>if ( Field.get(obj) == null || Field.get(this) == null ) return false;</code> to handle cases where exactly one is <code>null</code>.  Finally you can use the usual <code>equals()</code>.</li>\n<li>You're not using <code>foundMismatch</code></li>\n</ol>\n\n<p>I agree with Hank that <code>[HashCodeBuilder][1]</code> and <code>[EqualsBuilder][2]</code> is a better way to go.  It's easy to maintain, not a lot of boilerplate code, and you avoid all these issues.</p>\n"},{"tags":[],"owner":{"display_name":"Piotr"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1388689131,"creation_date":1222214753,"answer_id":124651,"question_id":124585,"body_markdown":"Take a look at org.apache.commons.EqualsBuilder:\r\n\r\nhttp://commons.apache.org/proper/commons-lang/javadocs/api-3.2/org/apache/commons/lang3/builder/EqualsBuilder.html","title":"Java equals(): to reflect or not to reflect","body":"<p>Take a look at org.apache.commons.EqualsBuilder:</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.2/org/apache/commons/lang3/builder/EqualsBuilder.html\" rel=\"nofollow noreferrer\">http://commons.apache.org/proper/commons-lang/javadocs/api-3.2/org/apache/commons/lang3/builder/EqualsBuilder.html</a></p>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1222222107,"creation_date":1222222107,"answer_id":125011,"question_id":124585,"body_markdown":"Here&#39;s a thought if you&#39;re worried about:\r\n\r\n1/ Forgetting to update your big series of if-statements for checking equality when you add/remove a field.\r\n\r\n2/ The performance of doing this in the equals() method.\r\n\r\nTry the following:\r\n\r\na/ Revert back to using the long sequence of if-statements in your equals() method.\r\n\r\nb/ Have a single function which contains a list of the fields (in a String array) and which will check that list against reality (i.e., the reflected fields).  It will throw an exception if they don&#39;t match.\r\n\r\nc/ In your constructor for this object, have a synchronized run-once call to this function (similar to a singleton pattern).  In other words, if this is the first object constructed by this class, call the checking function described in (b) above.\r\n\r\nThe exception will make it immediately obvious when you run your program if you haven&#39;t updated your if-statements to match the reflected fields; then you fix the if-statements and update the field list from (b) above.\r\n\r\nSubsequent construction of objects will not do this check and your equals() method will run at it&#39;s maximum possible speed.\r\n\r\nTry as I might, I haven&#39;t been able to find any real problems with this approach (greater minds may exist on StackOverflow) - there&#39;s an extra condition check on each object construction for the run-once behaviour but that seems fairly minor.\r\n\r\nIf you try hard enough, you could still get your if-statements out of step with your field-list and reflected fields but the exception will ensure your field list matches the reflected fields and you just make sure you update the if-statements and field list at the same time.\r\n","title":"Java equals(): to reflect or not to reflect","body":"<p>Here's a thought if you're worried about:</p>\n\n<p>1/ Forgetting to update your big series of if-statements for checking equality when you add/remove a field.</p>\n\n<p>2/ The performance of doing this in the equals() method.</p>\n\n<p>Try the following:</p>\n\n<p>a/ Revert back to using the long sequence of if-statements in your equals() method.</p>\n\n<p>b/ Have a single function which contains a list of the fields (in a String array) and which will check that list against reality (i.e., the reflected fields).  It will throw an exception if they don't match.</p>\n\n<p>c/ In your constructor for this object, have a synchronized run-once call to this function (similar to a singleton pattern).  In other words, if this is the first object constructed by this class, call the checking function described in (b) above.</p>\n\n<p>The exception will make it immediately obvious when you run your program if you haven't updated your if-statements to match the reflected fields; then you fix the if-statements and update the field list from (b) above.</p>\n\n<p>Subsequent construction of objects will not do this check and your equals() method will run at it's maximum possible speed.</p>\n\n<p>Try as I might, I haven't been able to find any real problems with this approach (greater minds may exist on StackOverflow) - there's an extra condition check on each object construction for the run-once behaviour but that seems fairly minor.</p>\n\n<p>If you try hard enough, you could still get your if-statements out of step with your field-list and reflected fields but the exception will ensure your field list matches the reflected fields and you just make sure you update the if-statements and field list at the same time.</p>\n"},{"tags":[],"owner":{"account_id":6957,"reputation":74511,"user_id":11858,"accept_rate":93,"display_name":"daveb"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1222256590,"creation_date":1222256590,"answer_id":126654,"question_id":124585,"body_markdown":"If you do go the reflection approach, EqualsBuilder is still your friend:\r\n\r\n     public boolean equals(Object obj) {\r\n        return EqualsBuilder.reflectionEquals(this, obj);\r\n     }\r\n","title":"Java equals(): to reflect or not to reflect","body":"<p>If you do go the reflection approach, EqualsBuilder is still your friend:</p>\n\n<pre><code> public boolean equals(Object obj) {\n    return EqualsBuilder.reflectionEquals(this, obj);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5056,"reputation":4017,"user_id":7927,"accept_rate":84,"display_name":"Wouter Lievens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1223293465,"creation_date":1223293465,"answer_id":173982,"question_id":124585,"body_markdown":"You could use Annotations to exclude fields from the check\r\n\r\ne.g.\r\n\r\n    @IgnoreEquals\r\n    String fieldThatShouldNotBeCompared;\r\n\r\nAnd then of course you check the presence of the annotation in your generic equals method.","title":"Java equals(): to reflect or not to reflect","body":"<p>You could use Annotations to exclude fields from the check</p>\n\n<p>e.g.</p>\n\n<pre><code>@IgnoreEquals\nString fieldThatShouldNotBeCompared;\n</code></pre>\n\n<p>And then of course you check the presence of the annotation in your generic equals method.</p>\n"},{"tags":[],"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1223297030,"creation_date":1223297030,"answer_id":174103,"question_id":124585,"body_markdown":"Use Eclipse, FFS!\r\n\r\nDelete the hashCode and equals methods you have.\r\n\r\nRight click on the file.\r\n\r\nSelect Source-&gt;Generate hashcode and equals...\r\n\r\nDone!  No more worries about reflection.\r\n\r\nRepeat for each field added, you just use the outline view to delete your two methods, and then let Eclipse autogenerate them.\r\n","title":"Java equals(): to reflect or not to reflect","body":"<p>Use Eclipse, FFS!</p>\n\n<p>Delete the hashCode and equals methods you have.</p>\n\n<p>Right click on the file.</p>\n\n<p>Select Source->Generate hashcode and equals...</p>\n\n<p>Done!  No more worries about reflection.</p>\n\n<p>Repeat for each field added, you just use the outline view to delete your two methods, and then let Eclipse autogenerate them.</p>\n"}],"owner":{"account_id":173822,"reputation":4732,"user_id":402777,"accept_rate":87,"display_name":"oreoshake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6092,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":124598,"answer_count":9,"score":9,"last_activity_date":1653687595,"creation_date":1222213441,"question_id":124585,"body_markdown":"This question is specifically related to overriding the equals() method for objects with a large number of fields.  First off, let me say that this large object cannot be broken down into multiple components without violating OO principles, so telling me &quot;no class should have more than x fields&quot; won&#39;t help.  \r\n\r\nMoving on, the problem came to fruition when I forgot to check one of the fields for equality.  Therefore, my equals method was incorrect.  Then I thought to use reflection:\r\n\r\n    --code removed because it was too distracting--\r\n\r\n\r\nThe purpose of this post isn&#39;t necessarily to refactor the code (this isn&#39;t even the code I am using), but instead to get input on whether or not this is a good idea.  \r\n\r\n**Pros:**\r\n\r\n - If a new field is added, it is automatically included&lt;br&gt; \r\n - The method is much more terse than 30 if statements\r\n\r\n\r\n**Cons:**\r\n\r\n - If a new field is added, it is automatically included, sometimes this is undesirable\r\n - Performance:  This has to be slower, I don&#39;t feel the need to break out a profiler\r\n - \r\nWhitelisting certain fields to ignore in the comparison is a little ugly&lt;br&gt;\r\n\r\nAny thoughts?","title":"Java equals(): to reflect or not to reflect","body":"<p>This question is specifically related to overriding the equals() method for objects with a large number of fields.  First off, let me say that this large object cannot be broken down into multiple components without violating OO principles, so telling me \"no class should have more than x fields\" won't help.  </p>\n\n<p>Moving on, the problem came to fruition when I forgot to check one of the fields for equality.  Therefore, my equals method was incorrect.  Then I thought to use reflection:</p>\n\n<pre><code>--code removed because it was too distracting--\n</code></pre>\n\n<p>The purpose of this post isn't necessarily to refactor the code (this isn't even the code I am using), but instead to get input on whether or not this is a good idea.  </p>\n\n<p><strong>Pros:</strong></p>\n\n<ul>\n<li>If a new field is added, it is automatically included<br> </li>\n<li>The method is much more terse than 30 if statements</li>\n</ul>\n\n<p><strong>Cons:</strong></p>\n\n<ul>\n<li>If a new field is added, it is automatically included, sometimes this is undesirable</li>\n<li>Performance:  This has to be slower, I don't feel the need to break out a profiler</li>\n<li>Whitelisting certain fields to ignore in the comparison is a little ugly<br></li>\n</ul>\n\n<p>Any thoughts?</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653653813,"post_id":72405246,"comment_id":127908891,"body_markdown":"That looks more like filtering than mapping.","body":"That looks more like filtering than mapping."}],"answers":[{"tags":[],"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653653861,"creation_date":1653653861,"answer_id":72405343,"question_id":72405246,"body_markdown":"You could filter before collecting:\r\n\r\n    list.stream().map( i -&gt; hasSquare(i,list)).filter(e-&gt;e!=0).distinct().collect(Collectors.toList()))\r\n\r\nand also return Integer instead of Object when you are certain that your list contains Integers.\r\n\r\n       private static Integer hasSquare(Integer i, List&lt;Integer&gt; list) {\r\n            if(list.contains(i*i)){\r\n                return i;\r\n            } else return 0;\r\n        }","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>You could filter before collecting:</p>\n<pre><code>list.stream().map( i -&gt; hasSquare(i,list)).filter(e-&gt;e!=0).distinct().collect(Collectors.toList()))\n</code></pre>\n<p>and also return Integer instead of Object when you are certain that your list contains Integers.</p>\n<pre><code>   private static Integer hasSquare(Integer i, List&lt;Integer&gt; list) {\n        if(list.contains(i*i)){\n            return i;\n        } else return 0;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653654231,"creation_date":1653653958,"answer_id":72405362,"question_id":72405246,"body_markdown":"The problem lies within the stream and your method .\r\n\r\n\r\n 1. You can easily use `filter` method in stream instead of `map` cause all you are doing is contains check in your method.\r\n 2. You are returning the values and in else part returning `0` .That is why you are having 0 in your result . \r\n  Instead of returning the existing value return only `true` or `false` that way it will be much easier to control and organized.\r\n\r\n```\r\n    private static boolean hasSquare(Integer i, List&lt;Integer&gt; list) {\r\n            return list.contains(i*i); \r\n    }\r\n```\r\nStream will be \r\n```\r\nSystem.out.println(list.stream().filter(i-&gt; hasSquare(i, list)).collect(Collectors.toList()));\r\n```","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>The problem lies within the stream and your method .</p>\n<ol>\n<li>You can easily use <code>filter</code> method in stream instead of <code>map</code> cause all you are doing is contains check in your method.</li>\n<li>You are returning the values and in else part returning <code>0</code> .That is why you are having 0 in your result .\nInstead of returning the existing value return only <code>true</code> or <code>false</code> that way it will be much easier to control and organized.</li>\n</ol>\n<pre><code>    private static boolean hasSquare(Integer i, List&lt;Integer&gt; list) {\n            return list.contains(i*i); \n    }\n</code></pre>\n<p>Stream will be</p>\n<pre><code>System.out.println(list.stream().filter(i-&gt; hasSquare(i, list)).collect(Collectors.toList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653659209,"creation_date":1653657072,"answer_id":72405991,"question_id":72405246,"body_markdown":"Your method `hasSquare()` has a cost **O(n)** because method `contains()` needs to iterate over the given list. And it will give a *quadratic* overall time complexity. But we can do better.\r\n\r\nIn order to do this in a linear time, we need to create a `HashSet` containing all the elements from the source list. And then check if the squared value of each element in the source list is present in a set.\r\n\r\nIt can be written in a single stream-statement by using the built-in collector [`collectingAndThen()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)) in conjunction with [`toSet()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toSet()). As the second argument `collectingAndThen()` expects a function that is meant to produce the final result.\r\n\r\nThe function creates a stream over the given list, and [`filter()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)) operation will take care of keeping only those elements which squared values are present in the set. Operation [`distinct()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#distinct()) is required to insure uniqueness.\r\n\r\n    public static List&lt;Integer&gt; getSquares(List&lt;Integer&gt; list) {\r\n        \r\n        return list.stream()\r\n            .collect(Collectors.collectingAndThen(\r\n                Collectors.toSet(),\r\n                set -&gt; list.stream().filter(num -&gt; set.contains(num * num))\r\n                    .distinct()\r\n                    .collect(Collectors.toList())));\r\n    }\r\n\r\nA more simple approach is to create a `HashSet` separately (and I would rather prefer this version):\r\n\r\n    public static List&lt;Integer&gt; getSquares(List&lt;Integer&gt; list) {\r\n        \r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;(list);\r\n        \r\n        return list.stream()\r\n            .filter(num -&gt; set.contains(num * num))\r\n            .distinct()\r\n            .collect(Collectors.toList());\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; source = List.of(2, 3, 6, 8, 14, 15, 9, 4);\r\n    \r\n        System.out.println(getSquares(source));\r\n    }\r\n\r\n*Output:*\r\n```\r\n[2, 3]\r\n```\r\n\r\n[*A link to the Online Demo*](https://www.jdoodle.com/ia/rrD)\r\n\r\n*Sidenote:* if you&#39;re using Java 9 and above, `List.of()` is a preferred way to initialize the List because it doesn&#39;t create an intermediate array (if number of elements not greater than `10`).","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>Your method <code>hasSquare()</code> has a cost <strong>O(n)</strong> because method <code>contains()</code> needs to iterate over the given list. And it will give a <em>quadratic</em> overall time complexity. But we can do better.</p>\n<p>In order to do this in a linear time, we need to create a <code>HashSet</code> containing all the elements from the source list. And then check if the squared value of each element in the source list is present in a set.</p>\n<p>It can be written in a single stream-statement by using the built-in collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>collectingAndThen()</code></a> in conjunction with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toSet()\" rel=\"nofollow noreferrer\"><code>toSet()</code></a>. As the second argument <code>collectingAndThen()</code> expects a function that is meant to produce the final result.</p>\n<p>The function creates a stream over the given list, and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>filter()</code></a> operation will take care of keeping only those elements which squared values are present in the set. Operation <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#distinct()\" rel=\"nofollow noreferrer\"><code>distinct()</code></a> is required to insure uniqueness.</p>\n<pre><code>public static List&lt;Integer&gt; getSquares(List&lt;Integer&gt; list) {\n    \n    return list.stream()\n        .collect(Collectors.collectingAndThen(\n            Collectors.toSet(),\n            set -&gt; list.stream().filter(num -&gt; set.contains(num * num))\n                .distinct()\n                .collect(Collectors.toList())));\n}\n</code></pre>\n<p>A more simple approach is to create a <code>HashSet</code> separately (and I would rather prefer this version):</p>\n<pre><code>public static List&lt;Integer&gt; getSquares(List&lt;Integer&gt; list) {\n    \n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;(list);\n    \n    return list.stream()\n        .filter(num -&gt; set.contains(num * num))\n        .distinct()\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; source = List.of(2, 3, 6, 8, 14, 15, 9, 4);\n\n    System.out.println(getSquares(source));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[2, 3]\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/rrD\" rel=\"nofollow noreferrer\"><em>A link to the Online Demo</em></a></p>\n<p><em>Sidenote:</em> if you're using Java 9 and above, <code>List.of()</code> is a preferred way to initialize the List because it doesn't create an intermediate array (if number of elements not greater than <code>10</code>).</p>\n"},{"tags":[],"owner":{"account_id":8709503,"reputation":454,"user_id":6516178,"display_name":"Chris Foley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653659368,"creation_date":1653659368,"answer_id":72406448,"question_id":72405246,"body_markdown":"You want to filter instead of mapping.\r\n\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class StreamTEst {\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n            List&lt;Integer&gt; result = list.stream()\r\n               .filter(i -&gt; list.contains(i*i))\r\n               .distinct()\r\n               .collect(Collectors.toList());\r\n    \t\tSystem.out.println(result);\r\n        }\r\n    }\r\n\r\n\r\nIf you start working with longer lists then you might want to create a hash set for faster lookup like this:\r\n\r\n    import java.util.*;\r\n\timport java.util.stream.Collectors;\r\n\t\r\n\tpublic class StreamTEst {\r\n\t    public static void main(String[] args) {\r\n\t        List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n\t        Set&lt;Integer&gt; lookup = new HashSet&lt;&gt;(list);\r\n\t        \r\n\t        List&lt;Integer&gt; result = list.stream()\r\n\t           .filter(i -&gt; lookup.contains(i*i))\r\n\t           .distinct()\r\n\t           .collect(Collectors.toList());\r\n\t\t\tSystem.out.println(result);\r\n\t    }\r\n\t}\r\n","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>You want to filter instead of mapping.</p>\n<pre><code>import java.util.*;\nimport java.util.stream.Collectors;\n\npublic class StreamTEst {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\n        List&lt;Integer&gt; result = list.stream()\n           .filter(i -&gt; list.contains(i*i))\n           .distinct()\n           .collect(Collectors.toList());\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>If you start working with longer lists then you might want to create a hash set for faster lookup like this:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.Collectors;\n\npublic class StreamTEst {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\n        Set&lt;Integer&gt; lookup = new HashSet&lt;&gt;(list);\n        \n        List&lt;Integer&gt; result = list.stream()\n           .filter(i -&gt; lookup.contains(i*i))\n           .distinct()\n           .collect(Collectors.toList());\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5091474,"reputation":57,"user_id":4084394,"display_name":"Burak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653664306,"creation_date":1653664306,"answer_id":72407503,"question_id":72405246,"body_markdown":"My Solution:\r\nTakes advantage of constant lookup time of Set\r\n    \r\n    import java.util.Set;\r\n    import java.util.HashSet;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List &lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n            Set &lt;Integer&gt; numbers = new HashSet &lt;Integer&gt; (list);\r\n            List &lt;Integer&gt; result = list.stream()\r\n                .filter((current) - &gt; numbers.contains(current * current))\r\n                .collect(Collectors.toList());\r\n    \r\n            System.out.println(result);\r\n        }\r\n    \r\n    }\r\n    \r\nSimilar to your approach:\r\n`List.contains()` takes n (element count in your list) time to compute. Applying same operation to each element takes n*n time, which scales logarithmically, inefficient and expensive. Java stream executes in parallel, its fast but still your code not scales well. \r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            List &lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n            System.out.println(\r\n                list.stream()\r\n                .filter(i -&gt; hasSquare(i, list))\r\n                .collect(Collectors.toList()));\r\n        }\r\n    \r\n        private static boolean hasSquare(Integer i, List &lt; Integer &gt; list) {\r\n    \r\n            if (list.contains(i * i)) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>My Solution:\nTakes advantage of constant lookup time of Set</p>\n<pre><code>import java.util.Set;\nimport java.util.HashSet;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        List &lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\n        Set &lt;Integer&gt; numbers = new HashSet &lt;Integer&gt; (list);\n        List &lt;Integer&gt; result = list.stream()\n            .filter((current) - &gt; numbers.contains(current * current))\n            .collect(Collectors.toList());\n\n        System.out.println(result);\n    }\n\n}\n</code></pre>\n<p>Similar to your approach:\n<code>List.contains()</code> takes n (element count in your list) time to compute. Applying same operation to each element takes n*n time, which scales logarithmically, inefficient and expensive. Java stream executes in parallel, its fast but still your code not scales well.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        List &lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\n        System.out.println(\n            list.stream()\n            .filter(i -&gt; hasSquare(i, list))\n            .collect(Collectors.toList()));\n    }\n\n    private static boolean hasSquare(Integer i, List &lt; Integer &gt; list) {\n\n        if (list.contains(i * i)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653664846,"creation_date":1653664846,"answer_id":72407624,"question_id":72405246,"body_markdown":"Your goal is achievable without using a third method. You could simply stream your `list` and use the `filter` operation to keep only the numbers whose square is equal to any number of the same list. Also, if you want to keep distinct elements, you could collect your elements in a `Set` instead of using an expensive operation like `disntict`.\r\n\r\n```\r\nList&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n\r\nSet&lt;Integer&gt; setRes = list.stream()\r\n        .filter(n -&gt; list.stream().anyMatch(x -&gt; x == n * n))\r\n        .collect(Collectors.toSet());\r\n\r\nSystem.out.println(setRes);\r\n```\r\n\r\nHere is a link to test the code:\r\n\r\nhttps://www.jdoodle.com/iembed/v0/rrE\r\n\r\n&lt;h5&gt;Output&lt;/h5&gt;\r\n\r\n`[2, 3]`","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>Your goal is achievable without using a third method. You could simply stream your <code>list</code> and use the <code>filter</code> operation to keep only the numbers whose square is equal to any number of the same list. Also, if you want to keep distinct elements, you could collect your elements in a <code>Set</code> instead of using an expensive operation like <code>disntict</code>.</p>\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\n\nSet&lt;Integer&gt; setRes = list.stream()\n        .filter(n -&gt; list.stream().anyMatch(x -&gt; x == n * n))\n        .collect(Collectors.toSet());\n\nSystem.out.println(setRes);\n</code></pre>\n<p>Here is a link to test the code:</p>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/rrE\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/rrE</a></p>\n<h5>Output</h5>\n<p><code>[2, 3]</code></p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653666610,"creation_date":1653666610,"answer_id":72408014,"question_id":72405246,"body_markdown":"I think below is one of straight-forward way: \r\n\r\n    List&lt;Integer&gt; list   = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n    List&lt;Integer&gt; result =  list.stream().collect(ArrayList&lt;Integer&gt;::new, (x, y) -&gt; {\r\n    \t\t\tif (list.contains((int) Math.pow(y, 2)))\r\n    \t\t\t\tx.add(y);\r\n    \t\t}, (x, y) -&gt; y.addAll(x));\r\n    \r\n    \r\n    System.out.println(result);","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>I think below is one of straight-forward way:</p>\n<pre><code>List&lt;Integer&gt; list   = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\nList&lt;Integer&gt; result =  list.stream().collect(ArrayList&lt;Integer&gt;::new, (x, y) -&gt; {\n            if (list.contains((int) Math.pow(y, 2)))\n                x.add(y);\n        }, (x, y) -&gt; y.addAll(x));\n\n\nSystem.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":15567334,"reputation":65,"user_id":11230693,"display_name":"Trups"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":7,"score":1,"last_activity_date":1653686981,"creation_date":1653653373,"question_id":72405246,"body_markdown":"I have the list of int `- 2, 3, 6, 8, 14, 15, 9, 4`. \r\n\r\nI want to search such numbers whose square is present in the list, ex: `2` square `4` is present, so the output list should have `2`.\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class StreamTest {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n        System.out.println(\r\n                list.stream()\r\n                        .map(i -&gt; hasSquare(i, list))\r\n                        .distinct()\r\n                        .collect(Collectors.toList()));\r\n    }\r\n\r\n    private static Object hasSquare(Integer i, List&lt;Integer&gt; list) {\r\n\r\n        if (list.contains(i * i)) {\r\n            return i;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis code is giving me the output `[2, 3, 0]`, but I would like to get rid of `0`. \r\n\r\nIs there a way to do the same without using a third method?","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>I have the list of int <code>- 2, 3, 6, 8, 14, 15, 9, 4</code>.</p>\n<p>I want to search such numbers whose square is present in the list, ex: <code>2</code> square <code>4</code> is present, so the output list should have <code>2</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class StreamTest {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\n        System.out.println(\n                list.stream()\n                        .map(i -&gt; hasSquare(i, list))\n                        .distinct()\n                        .collect(Collectors.toList()));\n    }\n\n    private static Object hasSquare(Integer i, List&lt;Integer&gt; list) {\n\n        if (list.contains(i * i)) {\n            return i;\n        } else {\n            return 0;\n        }\n    }\n}\n</code></pre>\n<p>This code is giving me the output <code>[2, 3, 0]</code>, but I would like to get rid of <code>0</code>.</p>\n<p>Is there a way to do the same without using a third method?</p>\n"},{"tags":["java","opengl","intersection","raytracing"],"comments":[{"owner":{"account_id":21225504,"reputation":1108,"user_id":15611270,"display_name":"Rocco"},"score":0,"creation_date":1620914835,"post_id":67520157,"comment_id":119344528,"body_markdown":"Why not the classic color picking?","body":"Why not the classic color picking?"},{"owner":{"account_id":21064327,"reputation":37,"user_id":15482011,"display_name":"luis"},"score":0,"creation_date":1620915054,"post_id":67520157,"comment_id":119344637,"body_markdown":"@Rocco that&#39;s actually a good idea but I use shaders so the colors are not consistent and they can match with the skybox / chess board txeture","body":"@Rocco that&#39;s actually a good idea but I use shaders so the colors are not consistent and they can match with the skybox / chess board txeture"},{"owner":{"account_id":21225504,"reputation":1108,"user_id":15611270,"display_name":"Rocco"},"score":1,"creation_date":1620915270,"post_id":67520157,"comment_id":119344749,"body_markdown":"What I mean with color picking is that you render the scene in a different buffer, assigning an unique solid color to each entity you want to select, removing any light effect. I&#39;ll search a link describing it since it&#39;s a long time that I don&#39;t personally code with OpenGL","body":"What I mean with color picking is that you render the scene in a different buffer, assigning an unique solid color to each entity you want to select, removing any light effect. I&#39;ll search a link describing it since it&#39;s a long time that I don&#39;t personally code with OpenGL"},{"owner":{"account_id":21064327,"reputation":37,"user_id":15482011,"display_name":"luis"},"score":0,"creation_date":1620915411,"post_id":67520157,"comment_id":119344821,"body_markdown":"Oh that is really smart, didn&#39;t think of that. I am pretty new to opengl so a reference would be helpful. Thanks!","body":"Oh that is really smart, didn&#39;t think of that. I am pretty new to opengl so a reference would be helpful. Thanks!"},{"owner":{"account_id":21225504,"reputation":1108,"user_id":15611270,"display_name":"Rocco"},"score":0,"creation_date":1620915719,"post_id":67520157,"comment_id":119344991,"body_markdown":"http://www.opengl-tutorial.org/miscellaneous/clicking-on-objects/picking-with-an-opengl-hack/ unfortunately it&#39;s not Java, but I think that the concept is clear, a custom fragment shader must produce an uniform color","body":"<a href=\"http://www.opengl-tutorial.org/miscellaneous/clicking-on-objects/picking-with-an-opengl-hack/\" rel=\"nofollow noreferrer\">opengl-tutorial.org/miscellaneous/clicking-on-objects/&hellip;</a> unfortunately it&#39;s not Java, but I think that the concept is clear, a custom fragment shader must produce an uniform color"},{"owner":{"account_id":21064327,"reputation":37,"user_id":15482011,"display_name":"luis"},"score":0,"creation_date":1620915831,"post_id":67520157,"comment_id":119345032,"body_markdown":"Thank you very much I will take a look into that!","body":"Thank you very much I will take a look into that!"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1620976812,"post_id":67520157,"comment_id":119361916,"body_markdown":"see [OpenGL 3D-raypicking with high poly meshes](https://stackoverflow.com/a/51764105/2521214) ... the 8bit stencil is ideal for you as you got just 32 objects ... no need to any heavy change of code just add the stencil commands setting which piece is rendering ...","body":"see <a href=\"https://stackoverflow.com/a/51764105/2521214\">OpenGL 3D-raypicking with high poly meshes</a> ... the 8bit stencil is ideal for you as you got just 32 objects ... no need to any heavy change of code just add the stencil commands setting which piece is rendering ..."},{"owner":{"account_id":21064327,"reputation":37,"user_id":15482011,"display_name":"luis"},"score":0,"creation_date":1621005644,"post_id":67520157,"comment_id":119373023,"body_markdown":"@Spektre thanks. I will take a look into that.","body":"@Spektre thanks. I will take a look into that."}],"answers":[{"tags":[],"owner":{"account_id":16069370,"reputation":26,"user_id":11598165,"display_name":"Vrushal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653686492,"creation_date":1653686492,"answer_id":72411195,"question_id":67520157,"body_markdown":"You&#39;ll have to follow following steps (I&#39;m assuming you are aware of rendering pipeline and aware of OpenGL/WebGL)\r\n\r\n 1. Get the list of all the objects you have. \r\n 2. Assign every object a unique color. Following would be an easy way to assign the unique color based on index of the object in the list.\r\n```\r\n    int i = // Index of the object  \r\n    // We&#39;ve added 1 to the index because 0 index is translated to black color \r\n    // And our background is also rendered as black so we skip will that color.\r\n\tint r = (i + 1 &amp; 0x000000FF) &gt;&gt; 0;\r\n\tint g = (i + 1 &amp; 0x0000FF00) &gt;&gt; 8;\r\n\tint b = (i + 1 &amp; 0x00FF0000) &gt;&gt; 16;\r\n\tglm::vec4 unique_color = glm::vec4(r / 255.0f, g / 255.0f, b / 255.0f, 1.0);\r\n```\r\n3. Create a frame-buffer and render all the objects with their uniquely assigned solid colors.\r\n6. When the rendering is complete, you now read the click position pixel color from the rendered frame buffer texture.\r\n7. Decode the color into index of object back like given below. (This is exactly revers of what we&#39;ve done in step 2)\r\n```\t\r\n\tint triangle_index =\r\n\t\tcolor.r +\r\n\t\tcolor.g * 256 +\r\n\t\tcolor.b * 256 * 256;\r\n```\r\n8. With this index you have the selected object from the initial list of all objects.\r\n9. You can read more about this technique here, http://www.opengl-tutorial.org/miscellaneous/clicking-on-objects/picking-with-an-opengl-hack/","title":"3D Object selection in opengl","body":"<p>You'll have to follow following steps (I'm assuming you are aware of rendering pipeline and aware of OpenGL/WebGL)</p>\n<ol>\n<li>Get the list of all the objects you have.</li>\n<li>Assign every object a unique color. Following would be an easy way to assign the unique color based on index of the object in the list.</li>\n</ol>\n<pre><code>    int i = // Index of the object  \n    // We've added 1 to the index because 0 index is translated to black color \n    // And our background is also rendered as black so we skip will that color.\n    int r = (i + 1 &amp; 0x000000FF) &gt;&gt; 0;\n    int g = (i + 1 &amp; 0x0000FF00) &gt;&gt; 8;\n    int b = (i + 1 &amp; 0x00FF0000) &gt;&gt; 16;\n    glm::vec4 unique_color = glm::vec4(r / 255.0f, g / 255.0f, b / 255.0f, 1.0);\n</code></pre>\n<ol start=\"3\">\n<li>Create a frame-buffer and render all the objects with their uniquely assigned solid colors.</li>\n<li>When the rendering is complete, you now read the click position pixel color from the rendered frame buffer texture.</li>\n<li>Decode the color into index of object back like given below. (This is exactly revers of what we've done in step 2)</li>\n</ol>\n<pre><code>    int triangle_index =\n        color.r +\n        color.g * 256 +\n        color.b * 256 * 256;\n</code></pre>\n<ol start=\"8\">\n<li>With this index you have the selected object from the initial list of all objects.</li>\n<li>You can read more about this technique here, <a href=\"http://www.opengl-tutorial.org/miscellaneous/clicking-on-objects/picking-with-an-opengl-hack/\" rel=\"nofollow noreferrer\">http://www.opengl-tutorial.org/miscellaneous/clicking-on-objects/picking-with-an-opengl-hack/</a></li>\n</ol>\n"}],"owner":{"account_id":21064327,"reputation":37,"user_id":15482011,"display_name":"luis"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653686492,"creation_date":1620912798,"question_id":67520157,"body_markdown":"I am currently making a 3d chess game in opengl. I still struggle with the selection of the different figures. I followed the tutorials by thinmatrix and came this far: https://i.stack.imgur.com/TRMCG.jpg.\r\n\r\nNow I want the user to be able to select the figures by clicking on them. I have the camera position, the ray in which direction the mouse is pointing and the position of the figures. How can I detect if the ray hits the figure (probably using a rectangle hitbox) when it starts at the position of the camera?\r\n\r\nMy code so far:\r\n```\r\npublic void update(Vector3f mouseRay, Camera camera, Figure figure){\r\n    Vector3f start = camera.getPosition();\r\n    Vector3f figurePos = figure.getPosition();\r\n    if(intersect()){\r\n       selectFigure();\r\n    }\r\n}\r\n```\r\n\r\nEDIT:\r\nI tried this: \r\nhttps://stackoverflow.com/questions/6533856/ray-sphere-intersection?noredirect=1&amp;lq=1\r\nbut it somehow didn&#39;t work. A sphere intersection also seemed very inefficient in respect of a ray box intersection.","title":"3D Object selection in opengl","body":"<p>I am currently making a 3d chess game in opengl. I still struggle with the selection of the different figures. I followed the tutorials by thinmatrix and came this far: <a href=\"https://i.stack.imgur.com/TRMCG.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/TRMCG.jpg</a>.</p>\n<p>Now I want the user to be able to select the figures by clicking on them. I have the camera position, the ray in which direction the mouse is pointing and the position of the figures. How can I detect if the ray hits the figure (probably using a rectangle hitbox) when it starts at the position of the camera?</p>\n<p>My code so far:</p>\n<pre><code>public void update(Vector3f mouseRay, Camera camera, Figure figure){\n    Vector3f start = camera.getPosition();\n    Vector3f figurePos = figure.getPosition();\n    if(intersect()){\n       selectFigure();\n    }\n}\n</code></pre>\n<p>EDIT:\nI tried this:\n<a href=\"https://stackoverflow.com/questions/6533856/ray-sphere-intersection?noredirect=1&amp;lq=1\">Ray-Sphere intersection</a>\nbut it somehow didn't work. A sphere intersection also seemed very inefficient in respect of a ray box intersection.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1653685446,"post_id":72411025,"comment_id":127919522,"body_markdown":"The first snippet skips logical paths. For example, it does nothing when `x1&gt;=x2` but `x1&lt;x3`.","body":"The first snippet skips logical paths. For example, it does nothing when <code>x1&gt;=x2</code> but <code>x1&lt;x3</code>."},{"owner":{"account_id":25359338,"reputation":19,"user_id":19174910,"display_name":"Ryanzz"},"score":1,"creation_date":1653685786,"post_id":72411025,"comment_id":127919608,"body_markdown":"Oh, I see, so it&#39;s terminated at the else if part since 3 is greater than 2 but smaller than 5. And the else if statements made nothing happened. Since there&#39;s no second alternate happened when x2&gt;=x1 but x2 &lt;=x3. Thank you very much shmosel!","body":"Oh, I see, so it&#39;s terminated at the else if part since 3 is greater than 2 but smaller than 5. And the else if statements made nothing happened. Since there&#39;s no second alternate happened when x2&gt;=x1 but x2 &lt;=x3. Thank you very much shmosel!"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1653687929,"post_id":72411025,"comment_id":127920099,"body_markdown":"This code is terrible. `double maxX = Math.max(x1, Math.max(x2, x3));`","body":"This code is terrible. <code>double maxX = Math.max(x1, Math.max(x2, x3));</code>"},{"owner":{"account_id":25359338,"reputation":19,"user_id":19174910,"display_name":"Ryanzz"},"score":0,"creation_date":1653693656,"post_id":72411025,"comment_id":127921038,"body_markdown":"Oh, I&#39;ve never knew this code under Math class, Thank you very much Elliott.","body":"Oh, I&#39;ve never knew this code under Math class, Thank you very much Elliott."}],"answers":[{"tags":[],"owner":{"account_id":454912,"reputation":2664,"user_id":852795,"accept_rate":85,"display_name":"Mark Cramer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653686146,"creation_date":1653686146,"answer_id":72411153,"question_id":72411025,"body_markdown":"In the first example you&#39;ve nested the if-else statements while in the second you&#39;re using logic operators. Let&#39;s just follow the flow.\r\n\r\nIn the first example, is `x1&gt;=x2`? It is not so we drop to the `else`. Is `x2&gt;=x1`? It is, so we execute the following statement. Is `x2&gt;=x3`? It is not so we&#39;re done. `maxX` is not assigned a value. You do not execute the final `else` because `x2&gt;=x1` returned `true`.\r\n\r\nIn the second example, is `(x1&gt;=x2)&amp;&amp;(x1&gt;=x3)` `true` or `false`. We know `x1&gt;=x2` is `false` and so the expression is `false`, which means to drop to the `else`. Is `(x2&gt;=x1)&amp;&amp;(x2&gt;=x3)` `true` or `false`? `x2&gt;=x1` is `true` but `x2&gt;=x3` is `false`, and so the expression is `false`. This means we drop to the final `else` and `maxX=x3`.\r\n\r\nIt the difference between evaluating the conditional one after the other, or at the same time.","title":"What&#39;s the difference between these 2 simply if statements in java","body":"<p>In the first example you've nested the if-else statements while in the second you're using logic operators. Let's just follow the flow.</p>\n<p>In the first example, is <code>x1&gt;=x2</code>? It is not so we drop to the <code>else</code>. Is <code>x2&gt;=x1</code>? It is, so we execute the following statement. Is <code>x2&gt;=x3</code>? It is not so we're done. <code>maxX</code> is not assigned a value. You do not execute the final <code>else</code> because <code>x2&gt;=x1</code> returned <code>true</code>.</p>\n<p>In the second example, is <code>(x1&gt;=x2)&amp;&amp;(x1&gt;=x3)</code> <code>true</code> or <code>false</code>. We know <code>x1&gt;=x2</code> is <code>false</code> and so the expression is <code>false</code>, which means to drop to the <code>else</code>. Is <code>(x2&gt;=x1)&amp;&amp;(x2&gt;=x3)</code> <code>true</code> or <code>false</code>? <code>x2&gt;=x1</code> is <code>true</code> but <code>x2&gt;=x3</code> is <code>false</code>, and so the expression is <code>false</code>. This means we drop to the final <code>else</code> and <code>maxX=x3</code>.</p>\n<p>It the difference between evaluating the conditional one after the other, or at the same time.</p>\n"},{"tags":[],"owner":{"account_id":22798427,"reputation":46,"user_id":16951603,"display_name":"Kognito"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653686350,"creation_date":1653686350,"answer_id":72411174,"question_id":72411025,"body_markdown":"In the first example your second statement does not do anything for the case in which x2 is greater than one, but lower than x3. You also have the same problem a statement before:\r\n\r\n        if(x1&gt;=x2) {\r\n           if(x1&gt;=x3) {\r\n               maxX = x1;\r\n           }\r\n           else {\r\n              //x1 &gt;= x2 &amp;&amp; x1 &lt; x3 =&gt; x3 is the greatest\r\n           }\r\n        }\r\n        else if(x2&gt;=x1) {\r\n           if(x2&gt;=x3)\r\n              maxX = x2;\r\n           }\r\n           else {\r\n              // x2 &gt;= x1 &amp;&amp; x2 &lt; x3 =&gt; x3 is the greatest\r\n           }\r\n        else {\r\n           // Can never be reached, as either x1 &gt;= x2 or x2 &gt;= x1\r\n           maxX = x3;\r\n        }\r\n\r\nI hope this answer was helpful, I never gave one before.","title":"What&#39;s the difference between these 2 simply if statements in java","body":"<p>In the first example your second statement does not do anything for the case in which x2 is greater than one, but lower than x3. You also have the same problem a statement before:</p>\n<pre><code>    if(x1&gt;=x2) {\n       if(x1&gt;=x3) {\n           maxX = x1;\n       }\n       else {\n          //x1 &gt;= x2 &amp;&amp; x1 &lt; x3 =&gt; x3 is the greatest\n       }\n    }\n    else if(x2&gt;=x1) {\n       if(x2&gt;=x3)\n          maxX = x2;\n       }\n       else {\n          // x2 &gt;= x1 &amp;&amp; x2 &lt; x3 =&gt; x3 is the greatest\n       }\n    else {\n       // Can never be reached, as either x1 &gt;= x2 or x2 &gt;= x1\n       maxX = x3;\n    }\n</code></pre>\n<p>I hope this answer was helpful, I never gave one before.</p>\n"}],"owner":{"account_id":25359338,"reputation":19,"user_id":19174910,"display_name":"Ryanzz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":72411174,"answer_count":2,"score":0,"last_activity_date":1653686350,"creation_date":1653685196,"question_id":72411025,"body_markdown":"As the question asked, I was working on an assignment about creating the bounding box of shapes. I was trying to make a comparison for the maximum X coordinate but it won&#39;t work as expected in the following code.\r\n```import java.util.Scanner;\r\npublic class Test{\r\n\tpublic static void main(String []args) {\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tdouble x1;\r\n\t\tdouble x2;\r\n\t\tdouble x3;\r\n\t\tdouble maxX= 0;\r\n\t\tSystem.out.println(&quot;input x1&quot;);\r\n\t\tx1 = in.nextDouble();\r\n\t\tSystem.out.println(&quot;input x2&quot;);\r\n\t\tx2 = in.nextDouble();\r\n\t\tSystem.out.println(&quot;input x3&quot;);\r\n\t\tx3 = in.nextDouble();\r\n\r\n\t\t    if(x1&gt;=x2) {\r\n\t\t\t\t if(x1&gt;=x3) {\r\n\t\t\t\t\t maxX = x1;\r\n\t\t\t\t }\r\n\t\t\t\t}\r\n\t\t\t else if(x2&gt;=x1) {\r\n\t\t\t\t if(x2&gt;=x3)\r\n\t\t\t\t\t maxX = x2;\r\n\t\t\t }\r\n\t\t\t else {\r\n\t\t\t\t maxX = x3;\r\n\t\t\t }\r\n```\r\nIf I put x1 =2,x2=3,x3=5. The returned value would equal zero. Which is the initialized value.\r\nBut the program would run correctly with the following code.\r\n```import java.util.Scanner;\r\npublic class Test{\r\n\tpublic static void main(String []args) {\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tdouble x1;\r\n\t\tdouble x2;\r\n\t\tdouble x3;\r\n\t\tdouble maxX= 0;\r\n\t\tSystem.out.println(&quot;input x1&quot;);\r\n\t\tx1 = in.nextDouble();\r\n\t\tSystem.out.println(&quot;input x2&quot;);\r\n\t\tx2 = in.nextDouble();\r\n\t\tSystem.out.println(&quot;input x3&quot;);\r\n\t\tx3 = in.nextDouble();\r\n\r\n\t\t   \r\n\t\t    \r\n\t\t\r\n\t\tif((x1&gt;=x2)&amp;&amp;(x1&gt;=x3)){\r\n\t\t\tmaxX=x1;\r\n\t\t\t\t}\r\n\t\telse if((x2&gt;=x1)&amp;&amp;(x2&gt;=x3)){\r\n\t\t\tmaxX=x2;\r\n\t\t\t}\r\n\t\telse\r\n\t\t\tmaxX=x3;\r\n\t\tSystem.out.println(maxX);\r\n\t}\r\n}\r\n```\r\nThis time the system would print 5, but I really don&#39;t get it. For the other three coordinates, I used the first method and it worked out perfectly. I don&#39;t know why this specific maxX method would get a problem. \r\n","title":"What&#39;s the difference between these 2 simply if statements in java","body":"<p>As the question asked, I was working on an assignment about creating the bounding box of shapes. I was trying to make a comparison for the maximum X coordinate but it won't work as expected in the following code.</p>\n<pre><code>public class Test{\n    public static void main(String []args) {\n        Scanner in = new Scanner(System.in);\n        double x1;\n        double x2;\n        double x3;\n        double maxX= 0;\n        System.out.println(&quot;input x1&quot;);\n        x1 = in.nextDouble();\n        System.out.println(&quot;input x2&quot;);\n        x2 = in.nextDouble();\n        System.out.println(&quot;input x3&quot;);\n        x3 = in.nextDouble();\n\n            if(x1&gt;=x2) {\n                 if(x1&gt;=x3) {\n                     maxX = x1;\n                 }\n                }\n             else if(x2&gt;=x1) {\n                 if(x2&gt;=x3)\n                     maxX = x2;\n             }\n             else {\n                 maxX = x3;\n             }\n</code></pre>\n<p>If I put x1 =2,x2=3,x3=5. The returned value would equal zero. Which is the initialized value.\nBut the program would run correctly with the following code.</p>\n<pre><code>public class Test{\n    public static void main(String []args) {\n        Scanner in = new Scanner(System.in);\n        double x1;\n        double x2;\n        double x3;\n        double maxX= 0;\n        System.out.println(&quot;input x1&quot;);\n        x1 = in.nextDouble();\n        System.out.println(&quot;input x2&quot;);\n        x2 = in.nextDouble();\n        System.out.println(&quot;input x3&quot;);\n        x3 = in.nextDouble();\n\n           \n            \n        \n        if((x1&gt;=x2)&amp;&amp;(x1&gt;=x3)){\n            maxX=x1;\n                }\n        else if((x2&gt;=x1)&amp;&amp;(x2&gt;=x3)){\n            maxX=x2;\n            }\n        else\n            maxX=x3;\n        System.out.println(maxX);\n    }\n}\n</code></pre>\n<p>This time the system would print 5, but I really don't get it. For the other three coordinates, I used the first method and it worked out perfectly. I don't know why this specific maxX method would get a problem.</p>\n"},{"tags":["java","uml","abstract-class","abstract","class-diagram"],"answers":[{"tags":[],"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653686126,"creation_date":1653643151,"answer_id":72403166,"question_id":72402730,"body_markdown":"Rather than `Realization` which is meant more for interface realization you should use simple `Generalization` with a solid line instead. This is about inheritance where the concrete inherit from the abstract classes. This means also that the association is inherited which for a realization would not be the case.\r\n\r\nSince [Christophe][1] mentioned it: There is no need to repeat operations/attributes in the inheriting class. See pp. 100 of UML 2.5:\r\n\r\n&gt; Members that are inherited by a Classifier may be shown on a diagram of that Classifier by prepending a caret ’^’ symbol to the textual representation that would be shown if the member were not inherited. [...]\r\n&gt; Inherited members may also be shown in a lighter color to help distinguish them from non-inherited members. A conforming implementation does not need to provide this option.\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3723423/christophe","title":"How to show abstract class containing other classes in Java UML class diagrams?","body":"<p>Rather than <code>Realization</code> which is meant more for interface realization you should use simple <code>Generalization</code> with a solid line instead. This is about inheritance where the concrete inherit from the abstract classes. This means also that the association is inherited which for a realization would not be the case.</p>\n<p>Since <a href=\"https://stackoverflow.com/users/3723423/christophe\">Christophe</a> mentioned it: There is no need to repeat operations/attributes in the inheriting class. See pp. 100 of UML 2.5:</p>\n<blockquote>\n<p>Members that are inherited by a Classifier may be shown on a diagram of that Classifier by prepending a caret ’^’ symbol to the textual representation that would be shown if the member were not inherited. [...]\nInherited members may also be shown in a lighter color to help distinguish them from non-inherited members. A conforming implementation does not need to provide this option.</p>\n</blockquote>\n"}],"owner":{"account_id":15835102,"reputation":31,"user_id":14113856,"display_name":"ThunderBase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2546,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1653686126,"creation_date":1653640861,"question_id":72402730,"body_markdown":"Looking for clarification on how to draw the arrows for an abstract class which contains private variables of a different class type (i.e. non-primitive variables). I&#39;ve got this as an example and was not sure if correct.\r\n\r\nImage: ![Example I made here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j4slM.png\r\n\r\nIs this correct?","title":"How to show abstract class containing other classes in Java UML class diagrams?","body":"<p>Looking for clarification on how to draw the arrows for an abstract class which contains private variables of a different class type (i.e. non-primitive variables). I've got this as an example and was not sure if correct.</p>\n<p>Image: <img src=\"https://i.stack.imgur.com/j4slM.png\" alt=\"Example I made here\" /></p>\n<p>Is this correct?</p>\n"},{"tags":["java","lambda","return"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1653680929,"post_id":72410394,"comment_id":127918384,"body_markdown":"Is there a problem with what you have?","body":"Is there a problem with what you have?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1653682490,"post_id":72410394,"comment_id":127918789,"body_markdown":"It&#39;s very unclear what you want.  The code you&#39;ve shown us compiles.","body":"It&#39;s very unclear what you want.  The code you&#39;ve shown us compiles."},{"owner":{"account_id":22279244,"reputation":27,"user_id":16507835,"display_name":"GreatField"},"score":0,"creation_date":1653682966,"post_id":72410394,"comment_id":127918904,"body_markdown":"I just need to return this object `obj[pos]` using a lambda expression, but I&#39;ve already tried using lambda in various ways and with no success.","body":"I just need to return this object <code>obj[pos]</code> using a lambda expression, but I&#39;ve already tried using lambda in various ways and with no success."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1653683357,"post_id":72410394,"comment_id":127919004,"body_markdown":"Why would you want to when you can just do `Runnable r  = obj[pos];`?  It doesn&#39;t makes sense (at least to me)  to pass an array and index to a static method so you can retrieve a value from the array using the index.","body":"Why would you want to when you can just do <code>Runnable r  = obj[pos];</code>?  It doesn&#39;t makes sense (at least to me)  to pass an array and index to a static method so you can retrieve a value from the array using the index."},{"owner":{"account_id":22279244,"reputation":27,"user_id":16507835,"display_name":"GreatField"},"score":0,"creation_date":1653684019,"post_id":72410394,"comment_id":127919177,"body_markdown":"I agree with you, it doesn&#39;t make any sense.\nBut I&#39;m just following a requirement imposed on me of returning a `Runnable` object from a method using a lambda expression","body":"I agree with you, it doesn&#39;t make any sense. But I&#39;m just following a requirement imposed on me of returning a <code>Runnable</code> object from a method using a lambda expression"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653684418,"creation_date":1653684418,"answer_id":72410923,"question_id":72410394,"body_markdown":"It sounds like you want to do this.\r\n```\r\nRunnable[] array = new Runnable[10]; // some array filled with Runnables.\r\nBiFunction&lt;Runnable[],  Integer, Runnable&gt; lookup = (arr, i) -&gt; arr[i];\r\nRunnable foo = lookup.apply(array, 3);\r\n```\r\nNow you can do `foo.run();`\r\n\r\nYou needed a `BiFunction` to accept two disparate arguments and return a third.  ","title":"return object with lambda in java","body":"<p>It sounds like you want to do this.</p>\n<pre><code>Runnable[] array = new Runnable[10]; // some array filled with Runnables.\nBiFunction&lt;Runnable[],  Integer, Runnable&gt; lookup = (arr, i) -&gt; arr[i];\nRunnable foo = lookup.apply(array, 3);\n</code></pre>\n<p>Now you can do <code>foo.run();</code></p>\n<p>You needed a <code>BiFunction</code> to accept two disparate arguments and return a third.</p>\n"}],"owner":{"account_id":22279244,"reputation":27,"user_id":16507835,"display_name":"GreatField"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1653743504,"accepted_answer_id":72410923,"answer_count":1,"score":-1,"last_activity_date":1653684418,"creation_date":1653680777,"question_id":72410394,"body_markdown":"how do I return an object using lambda in java?\r\nI try using  `objeto = (Runnable[] obj, int pos) -&gt; {obj[pos++]};` in `main()` but not work.\r\n\r\n\r\nis it possible to return object `obj[pos]` using lambda inside inst() function?\r\n\r\n```\r\nimport java.util.Comparator;\r\n\r\npublic class Runna{\r\n    public static Runnable inst(Runnable[] obj, int pos){\r\n        return obj[pos];\r\n    }\r\n}\r\n\r\n```","title":"return object with lambda in java","body":"<p>how do I return an object using lambda in java?\nI try using  <code>objeto = (Runnable[] obj, int pos) -&gt; {obj[pos++]};</code> in <code>main()</code> but not work.</p>\n<p>is it possible to return object <code>obj[pos]</code> using lambda inside inst() function?</p>\n<pre><code>import java.util.Comparator;\n\npublic class Runna{\n    public static Runnable inst(Runnable[] obj, int pos){\n        return obj[pos];\n    }\n}\n\n</code></pre>\n"},{"tags":["java","mongodb","mongodb-query"],"answers":[{"tags":[],"owner":{"account_id":20092469,"reputation":12122,"user_id":14732669,"display_name":"ray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650402844,"creation_date":1650401837,"answer_id":71931259,"question_id":71930486,"body_markdown":"With MongoDB v4.4+, you can use `$function` to use javascript to assign the _id in the array.\r\n\r\n```js\r\ndb.collection.aggregate([\r\n  {\r\n    &quot;$addFields&quot;: {\r\n      &quot;someArray&quot;: {\r\n        $function: {\r\n          body: function(arr) {\r\n                  return arr.map(function(elem) {\r\n                           elem[&#39;_id&#39;] = new ObjectId(); \r\n                           return elem;\r\n                         })\r\n                },\r\n          args: [\r\n            &quot;$someArray&quot;\r\n          ],\r\n          lang: &quot;js&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n])\r\n```\r\n\r\nHere is the [Mongo playground](https://mongoplayground.net/p/JUzQ667kx-U) for your reference. (It&#39;s slightly different from the code above as playground requires the js code to be in double quote)\r\n\r\n\r\n-----------------------------\r\nFor older version of MongoDB, you will need to use javascript to loop the documents and update them one by one.\r\n\r\n```js\r\ndb.getCollection(&quot;...&quot;).find({}).forEach(function(doc) {\r\n  doc.someArray = doc.someArray.map(function(elem) {\r\n    elem[&#39;_id&#39;] = new ObjectId(); \r\n    return elem;\r\n  })\r\n  db.getCollection(&quot;...&quot;).save(doc);\r\n})\r\n```","title":"MongoDB Java - Create a new ObjectId for each element of an existing array","body":"<p>With MongoDB v4.4+, you can use <code>$function</code> to use javascript to assign the _id in the array.</p>\n<pre class=\"lang-js prettyprint-override\"><code>db.collection.aggregate([\n  {\n    &quot;$addFields&quot;: {\n      &quot;someArray&quot;: {\n        $function: {\n          body: function(arr) {\n                  return arr.map(function(elem) {\n                           elem['_id'] = new ObjectId(); \n                           return elem;\n                         })\n                },\n          args: [\n            &quot;$someArray&quot;\n          ],\n          lang: &quot;js&quot;\n        }\n      }\n    }\n  }\n])\n</code></pre>\n<p>Here is the <a href=\"https://mongoplayground.net/p/JUzQ667kx-U\" rel=\"nofollow noreferrer\">Mongo playground</a> for your reference. (It's slightly different from the code above as playground requires the js code to be in double quote)</p>\n<hr />\n<p>For older version of MongoDB, you will need to use javascript to loop the documents and update them one by one.</p>\n<pre class=\"lang-js prettyprint-override\"><code>db.getCollection(&quot;...&quot;).find({}).forEach(function(doc) {\n  doc.someArray = doc.someArray.map(function(elem) {\n    elem['_id'] = new ObjectId(); \n    return elem;\n  })\n  db.getCollection(&quot;...&quot;).save(doc);\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4289211,"reputation":2763,"user_id":3506022,"accept_rate":70,"display_name":"Eria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653684416,"creation_date":1653684416,"answer_id":72410921,"question_id":71930486,"body_markdown":"Here is what I managed to write in the end:\r\n\r\n```java\r\nMongoCollection&lt;Document&gt; collection = database.getCollection(&quot;myCollection&quot;);\r\ncollection\r\n    .find(Filters.ne(&quot;someArray&quot;, Collections.emptyList()), MyItem.class)\r\n\t.forEach(item -&gt; {\r\n\t\titem.getSomeArray().forEach(element -&gt; {\r\n\t\t\tif( element.getId() == null ){\r\n\t\t\t\tcollection.updateOne(\r\n\t\t\t\t\tFilters.and(\r\n\t\t\t\t\t\tFilters.eq(&quot;_id&quot;, item.getId()),\r\n\t\t\t\t\t\tFilters.eq(&quot;someArray.value&quot;, element.getValue())\r\n\t\t\t\t\t),\r\n\t\t\t\t\tUpdates.set(&quot;someArray.$._id&quot;, new ObjectId())\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n```\r\n\r\nThe `value` property of sub-elements had to be unique (and luckily it was). And I had to perform separate `updateOne` operations in order to obtain a different `ObjectId` for each element.","title":"MongoDB Java - Create a new ObjectId for each element of an existing array","body":"<p>Here is what I managed to write in the end:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;myCollection&quot;);\ncollection\n    .find(Filters.ne(&quot;someArray&quot;, Collections.emptyList()), MyItem.class)\n    .forEach(item -&gt; {\n        item.getSomeArray().forEach(element -&gt; {\n            if( element.getId() == null ){\n                collection.updateOne(\n                    Filters.and(\n                        Filters.eq(&quot;_id&quot;, item.getId()),\n                        Filters.eq(&quot;someArray.value&quot;, element.getValue())\n                    ),\n                    Updates.set(&quot;someArray.$._id&quot;, new ObjectId())\n                );\n            }\n        });\n    });\n</code></pre>\n<p>The <code>value</code> property of sub-elements had to be unique (and luckily it was). And I had to perform separate <code>updateOne</code> operations in order to obtain a different <code>ObjectId</code> for each element.</p>\n"}],"owner":{"account_id":4289211,"reputation":2763,"user_id":3506022,"accept_rate":70,"display_name":"Eria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72410921,"answer_count":2,"score":0,"last_activity_date":1653684416,"creation_date":1650397506,"question_id":71930486,"body_markdown":"I have an existing collection, containing several documents.\r\n\r\n```json\r\n[{\r\n\t&quot;_id&quot;: &quot;...1&quot;,\r\n\t&quot;prop1&quot;: &quot;...&quot;,\r\n\t&quot;prop2&quot;: &quot;...&quot;,\r\n\t&quot;someArray&quot;: [\r\n\t\t{\r\n\t\t\t&quot;value&quot;: &quot;sub element 1.1&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;value&quot;: &quot;sub element 1.2&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;value&quot;: &quot;sub element 1.3&quot;\r\n\t\t}\r\n\t]\r\n}, {\r\n\t&quot;_id&quot;: &quot;...2&quot;,\r\n\t&quot;prop1&quot;: &quot;...&quot;,\r\n\t&quot;prop2&quot;: &quot;...&quot;,\r\n\t&quot;someArray&quot;: [\r\n\t\t{\r\n\t\t\t&quot;value&quot;: &quot;sub element 2.1&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;value&quot;: &quot;sub element 2.2&quot;\r\n\t\t}\r\n\t]\r\n}, // many others here...\r\n]\r\n```\r\n\r\nFor each root document, I would like to add an `_id` property of type `ObjectId` on each sub-element of `someArray`. So, after I run my command, the content of the collection is the following:\r\n\r\n```json\r\n[{\r\n\t&quot;_id&quot;: &quot;...1&quot;,\r\n\t&quot;prop1&quot;: &quot;...&quot;,\r\n\t&quot;prop2&quot;: &quot;...&quot;,\r\n\t&quot;someArray&quot;: [\r\n\t\t{\r\n\t\t\t&quot;_id&quot;: ObjectId(&quot;...&quot;),\r\n\t\t\t&quot;value&quot;: &quot;sub element 1.1&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;_id&quot;: ObjectId(&quot;...&quot;),\r\n\t\t\t&quot;value&quot;: &quot;sub element 1.2&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;_id&quot;: ObjectId(&quot;...&quot;),\r\n\t\t\t&quot;value&quot;: &quot;sub element 1.3&quot;\r\n\t\t}\r\n\t]\r\n}, {\r\n\t&quot;_id&quot;: &quot;...2&quot;,\r\n\t&quot;prop1&quot;: &quot;...&quot;,\r\n\t&quot;prop2&quot;: &quot;...&quot;,\r\n\t&quot;someArray&quot;: [\r\n\t\t{\r\n\t\t\t&quot;_id&quot;: ObjectId(&quot;...&quot;),\r\n\t\t\t&quot;value&quot;: &quot;sub element 2.1&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;_id&quot;: ObjectId(&quot;...&quot;),\r\n\t\t\t&quot;value&quot;: &quot;sub element 2.2&quot;\r\n\t\t}\r\n\t]\r\n}, // ...\r\n]\r\n```\r\n\r\nEach `ObjectId` being, of course, unique.\r\n\r\nThe closer I got was with this:\r\n\r\n```\r\ndb.getCollection(&#39;myCollection&#39;).updateMany({}, { &quot;$set&quot; : { &quot;someArray.$[]._id&quot; : ObjectId() } });\r\n```\r\n\r\nBut every sub-element of the entire collection ends up with the same ObjectId value...\r\n\r\nIdeally, I need to get this working using Java driver for MongoDB. The closest version I got is this (which presents the exact same problem: all the ObjectId created have the same value).\r\n\r\n```java\r\ndatabase\r\n\t.getCollection(&quot;myCollection&quot;)\r\n\t.updateMany(\r\n\t\tFilters.ne(&quot;someArray&quot;, Collections.emptyList()), // do not update empty arrays\r\n\t\tnew Document(&quot;$set&quot;, new Document(&quot;someArray.$[el]._id&quot;, &quot;ObjectId()&quot;)), // set the new ObjectId...\r\n\t\tnew UpdateOptions().arrayFilters(\r\n\t\t\tArrays.asList(Filters.exists(&quot;el._id&quot;, false)) // ... only when the _id property doesn&#39;t already exist\r\n\t\t)\r\n\t);\r\n```","title":"MongoDB Java - Create a new ObjectId for each element of an existing array","body":"<p>I have an existing collection, containing several documents.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{\n    &quot;_id&quot;: &quot;...1&quot;,\n    &quot;prop1&quot;: &quot;...&quot;,\n    &quot;prop2&quot;: &quot;...&quot;,\n    &quot;someArray&quot;: [\n        {\n            &quot;value&quot;: &quot;sub element 1.1&quot;\n        },\n        {\n            &quot;value&quot;: &quot;sub element 1.2&quot;\n        },\n        {\n            &quot;value&quot;: &quot;sub element 1.3&quot;\n        }\n    ]\n}, {\n    &quot;_id&quot;: &quot;...2&quot;,\n    &quot;prop1&quot;: &quot;...&quot;,\n    &quot;prop2&quot;: &quot;...&quot;,\n    &quot;someArray&quot;: [\n        {\n            &quot;value&quot;: &quot;sub element 2.1&quot;\n        },\n        {\n            &quot;value&quot;: &quot;sub element 2.2&quot;\n        }\n    ]\n}, // many others here...\n]\n</code></pre>\n<p>For each root document, I would like to add an <code>_id</code> property of type <code>ObjectId</code> on each sub-element of <code>someArray</code>. So, after I run my command, the content of the collection is the following:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{\n    &quot;_id&quot;: &quot;...1&quot;,\n    &quot;prop1&quot;: &quot;...&quot;,\n    &quot;prop2&quot;: &quot;...&quot;,\n    &quot;someArray&quot;: [\n        {\n            &quot;_id&quot;: ObjectId(&quot;...&quot;),\n            &quot;value&quot;: &quot;sub element 1.1&quot;\n        },\n        {\n            &quot;_id&quot;: ObjectId(&quot;...&quot;),\n            &quot;value&quot;: &quot;sub element 1.2&quot;\n        },\n        {\n            &quot;_id&quot;: ObjectId(&quot;...&quot;),\n            &quot;value&quot;: &quot;sub element 1.3&quot;\n        }\n    ]\n}, {\n    &quot;_id&quot;: &quot;...2&quot;,\n    &quot;prop1&quot;: &quot;...&quot;,\n    &quot;prop2&quot;: &quot;...&quot;,\n    &quot;someArray&quot;: [\n        {\n            &quot;_id&quot;: ObjectId(&quot;...&quot;),\n            &quot;value&quot;: &quot;sub element 2.1&quot;\n        },\n        {\n            &quot;_id&quot;: ObjectId(&quot;...&quot;),\n            &quot;value&quot;: &quot;sub element 2.2&quot;\n        }\n    ]\n}, // ...\n]\n</code></pre>\n<p>Each <code>ObjectId</code> being, of course, unique.</p>\n<p>The closer I got was with this:</p>\n<pre><code>db.getCollection('myCollection').updateMany({}, { &quot;$set&quot; : { &quot;someArray.$[]._id&quot; : ObjectId() } });\n</code></pre>\n<p>But every sub-element of the entire collection ends up with the same ObjectId value...</p>\n<p>Ideally, I need to get this working using Java driver for MongoDB. The closest version I got is this (which presents the exact same problem: all the ObjectId created have the same value).</p>\n<pre class=\"lang-java prettyprint-override\"><code>database\n    .getCollection(&quot;myCollection&quot;)\n    .updateMany(\n        Filters.ne(&quot;someArray&quot;, Collections.emptyList()), // do not update empty arrays\n        new Document(&quot;$set&quot;, new Document(&quot;someArray.$[el]._id&quot;, &quot;ObjectId()&quot;)), // set the new ObjectId...\n        new UpdateOptions().arrayFilters(\n            Arrays.asList(Filters.exists(&quot;el._id&quot;, false)) // ... only when the _id property doesn't already exist\n        )\n    );\n</code></pre>\n"},{"tags":["java","swing","graph","jpanel","graphstream"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1499892601,"creation_date":1499856883,"answer_id":45055683,"question_id":45050654,"body_markdown":"As shown in [*Graph Visualization: Advanced view: Integrating the viewer in your GUI*][1], &quot;you will need to create the viewer by yourself.&quot; Also, call `setVisible()` _after_ you have constructed the frame.\r\n\r\n&gt;It shows error on `frame.add(view)`.\r\n\r\nIt looks like the tutorial cited is a little dated. The [`Viewer`][2] method `addDefaultView()` now returns a `ViewPanel`, which _can_ be added to a `Container`. In the complete example below, a border is set on an enclosing `JPanel` having `GridLayout`, and that `panel` is added to the frame. Also note the need to give the `panel` a preferred size by overriding [`getPreferredSize()`][3]. Resize the window to see the effect.\r\n\r\n[![image][4]][4]\r\n\r\n\timport java.awt.*;\r\n\timport javax.swing.*;\r\n\timport javax.swing.border.*;\r\n\timport org.graphstream.graph.*;\r\n\timport org.graphstream.graph.implementations.*;\r\n\timport org.graphstream.ui.swingViewer.*;\r\n\timport org.graphstream.ui.view.*;\r\n\r\n    /** @see https://stackoverflow.com/a/45055683/230513 */\r\n\tpublic class GraphSwing {\r\n\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\tEventQueue.invokeLater(new GraphSwing()::display);\r\n\t\t}\r\n\r\n\t\tprivate void display() {\r\n\t\t\tJFrame frame = new JFrame();\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tJPanel panel = new JPanel(new GridLayout()){\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Dimension getPreferredSize() {\r\n\t\t\t\t\treturn new Dimension(640, 480);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tpanel.setBorder(BorderFactory.createLineBorder(Color.blue, 5));\r\n\t\t\tGraph graph = new SingleGraph(&quot;Tutorial&quot;, false, true);\r\n\t\t\tgraph.addEdge(&quot;AB&quot;, &quot;A&quot;, &quot;B&quot;);\r\n\t\t\tNode a = graph.getNode(&quot;A&quot;);\r\n\t\t\ta.setAttribute(&quot;xy&quot;, 1, 1);\r\n\t\t\tNode b = graph.getNode(&quot;B&quot;);\r\n\t\t\tb.setAttribute(&quot;xy&quot;, -1, -1);\r\n\t\t\tViewer viewer = new Viewer(graph, Viewer.ThreadingModel.GRAPH_IN_GUI_THREAD);\r\n\t\t\tViewPanel viewPanel = viewer.addDefaultView(false);\r\n\t\t\tpanel.add(viewPanel);\r\n\t\t\tframe.add(panel);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: http://graphstream-project.org/doc/Tutorials/Graph-Visualisation#advanced-view\r\n  [2]: https://data.graphstream-project.org/api/gs-core/current/org/graphstream/ui/view/Viewer.html\r\n  [3]: https://stackoverflow.com/q/7229226/230513\r\n  [4]: https://i.stack.imgur.com/cejT1.png","title":"Add GraphStream graph into my custom jPanel","body":"<p>As shown in <a href=\"http://graphstream-project.org/doc/Tutorials/Graph-Visualisation#advanced-view\" rel=\"nofollow noreferrer\"><em>Graph Visualization: Advanced view: Integrating the viewer in your GUI</em></a>, \"you will need to create the viewer by yourself.\" Also, call <code>setVisible()</code> <em>after</em> you have constructed the frame.</p>\n\n<blockquote>\n  <p>It shows error on <code>frame.add(view)</code>.</p>\n</blockquote>\n\n<p>It looks like the tutorial cited is a little dated. The <a href=\"https://data.graphstream-project.org/api/gs-core/current/org/graphstream/ui/view/Viewer.html\" rel=\"nofollow noreferrer\"><code>Viewer</code></a> method <code>addDefaultView()</code> now returns a <code>ViewPanel</code>, which <em>can</em> be added to a <code>Container</code>. In the complete example below, a border is set on an enclosing <code>JPanel</code> having <code>GridLayout</code>, and that <code>panel</code> is added to the frame. Also note the need to give the <code>panel</code> a preferred size by overriding <a href=\"https://stackoverflow.com/q/7229226/230513\"><code>getPreferredSize()</code></a>. Resize the window to see the effect.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cejT1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cejT1.png\" alt=\"image\"></a></p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\nimport org.graphstream.graph.*;\nimport org.graphstream.graph.implementations.*;\nimport org.graphstream.ui.swingViewer.*;\nimport org.graphstream.ui.view.*;\n\n/** @see https://stackoverflow.com/a/45055683/230513 */\npublic class GraphSwing {\n\n    public static void main(String args[]) {\n        EventQueue.invokeLater(new GraphSwing()::display);\n    }\n\n    private void display() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JPanel panel = new JPanel(new GridLayout()){\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(640, 480);\n            }\n        };\n        panel.setBorder(BorderFactory.createLineBorder(Color.blue, 5));\n        Graph graph = new SingleGraph(\"Tutorial\", false, true);\n        graph.addEdge(\"AB\", \"A\", \"B\");\n        Node a = graph.getNode(\"A\");\n        a.setAttribute(\"xy\", 1, 1);\n        Node b = graph.getNode(\"B\");\n        b.setAttribute(\"xy\", -1, -1);\n        Viewer viewer = new Viewer(graph, Viewer.ThreadingModel.GRAPH_IN_GUI_THREAD);\n        ViewPanel viewPanel = viewer.addDefaultView(false);\n        panel.add(viewPanel);\n        frame.add(panel);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10238445,"reputation":279,"user_id":7556594,"accept_rate":45,"display_name":"Noob Player"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3467,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45055683,"answer_count":1,"score":1,"last_activity_date":1653684155,"creation_date":1499843056,"question_id":45050654,"body_markdown":"I am working on GraphStream library. For now, When I run my program it opens new window for my graph and separate window for my graph. I tried to create a `JFrame` and add `JPanel` into `JFrame`, after all this I tried to add graph into my `JPanel` but it says that graph object is not a component.\r\n\r\nHere is my code:\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n    \r\n    import org.graphstream.graph.*;\r\n    import org.graphstream.graph.implementations.*;\r\n    \r\n    public class GraphExplore {\r\n    \tstatic Connection conn2;\r\n    \tstatic String result, result2;\r\n    \tstatic JFrame frame;\r\n    \tstatic JPanel panel;\r\n    \r\n    \tpublic static void main(String args[]) throws SQLException {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tshowData();\r\n    \t\t\t\t} catch (SQLException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tprivate static void showData() throws SQLException {\r\n    \r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setVisible(true);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setBounds(30, 50, 1300, 600);\r\n    \t\tpanel = new JPanel();\r\n    \t\tpanel.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n    \t\tpanel.setLayout(new BorderLayout(0, 0));\r\n    \t\tframe.setContentPane(panel);\r\n    \r\n    \t\tGraph graph = new SingleGraph(&quot;tutorial 1&quot;);\r\n    \t\tgraph.setAutoCreate(true);\r\n    \t\tgraph.setStrict(false);\r\n    \t\tgraph.display();\r\n    \r\n    \t\t// panel.add(graph);\r\n    \r\n    \t\ttry {\r\n    \t\t\tClass.forName(&quot;org.h2.Driver&quot;);\r\n    \t\t\tconn2 = DriverManager.getConnection(&quot;jdbc:h2:file:G:/hs_data/h2_db/test&quot;, &quot;sa&quot;, &quot;sa&quot;);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tStatement stmt2 = conn2.createStatement();\r\n    \t\tResultSet rs2 = stmt2.executeQuery(&quot;SELECT ANUMBER,BNUMBER,DATETIME FROM TEST&quot;);\r\n    \t\twhile (rs2.next()) {\r\n    \t\t\tresult = rs2.getString(&quot;ANUMBER&quot;);\r\n    \t\t\tresult2 = rs2.getString(&quot;BNUMBER&quot;);\r\n    \t\t\tgraph.addNode(result);\r\n    \t\t\tgraph.addNode(result2);\r\n    \t\t\tint i;\r\n    \t\t\tfor (i = 0; i &lt; 200; i++)\r\n    \t\t\t\tgraph.addEdge(&quot;string&quot; + i, result, result2);\r\n    \t\t\t// JOptionPane.showMessageDialog(null, i);\r\n    \t\t}\r\n    \r\n    \t\tfor (Node node : graph) {\r\n    \t\t\tnode.addAttribute(&quot;ui.label&quot;, node.getId());\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nThis program opens separate windows for both `jframe` and graph. I want to show my graph into my `JFrame ` or `JPanel`. Any idea about how to do this? I have seen this [link][1], but it doesn&#39;t explains me well.\r\n\r\n\r\n  [1]: http://graphstream-project.org/doc/Tutorials/Graph-Visualisation/1.0/","title":"Add GraphStream graph into my custom jPanel","body":"<p>I am working on GraphStream library. For now, When I run my program it opens new window for my graph and separate window for my graph. I tried to create a <code>JFrame</code> and add <code>JPanel</code> into <code>JFrame</code>, after all this I tried to add graph into my <code>JPanel</code> but it says that graph object is not a component.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\nimport org.graphstream.graph.*;\nimport org.graphstream.graph.implementations.*;\n\npublic class GraphExplore {\n    static Connection conn2;\n    static String result, result2;\n    static JFrame frame;\n    static JPanel panel;\n\n    public static void main(String args[]) throws SQLException {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    showData();\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    private static void showData() throws SQLException {\n\n        JFrame frame = new JFrame();\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setBounds(30, 50, 1300, 600);\n        panel = new JPanel();\n        panel.setBorder(new EmptyBorder(5, 5, 5, 5));\n        panel.setLayout(new BorderLayout(0, 0));\n        frame.setContentPane(panel);\n\n        Graph graph = new SingleGraph(\"tutorial 1\");\n        graph.setAutoCreate(true);\n        graph.setStrict(false);\n        graph.display();\n\n        // panel.add(graph);\n\n        try {\n            Class.forName(\"org.h2.Driver\");\n            conn2 = DriverManager.getConnection(\"jdbc:h2:file:G:/hs_data/h2_db/test\", \"sa\", \"sa\");\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        Statement stmt2 = conn2.createStatement();\n        ResultSet rs2 = stmt2.executeQuery(\"SELECT ANUMBER,BNUMBER,DATETIME FROM TEST\");\n        while (rs2.next()) {\n            result = rs2.getString(\"ANUMBER\");\n            result2 = rs2.getString(\"BNUMBER\");\n            graph.addNode(result);\n            graph.addNode(result2);\n            int i;\n            for (i = 0; i &lt; 200; i++)\n                graph.addEdge(\"string\" + i, result, result2);\n            // JOptionPane.showMessageDialog(null, i);\n        }\n\n        for (Node node : graph) {\n            node.addAttribute(\"ui.label\", node.getId());\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>This program opens separate windows for both <code>jframe</code> and graph. I want to show my graph into my <code>JFrame</code> or <code>JPanel</code>. Any idea about how to do this? I have seen this <a href=\"http://graphstream-project.org/doc/Tutorials/Graph-Visualisation/1.0/\" rel=\"nofollow noreferrer\">link</a>, but it doesn't explains me well.</p>\n"},{"tags":["java","spring-boot","apache-camel","jms"],"comments":[{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1653639842,"post_id":72391559,"comment_id":127904408,"body_markdown":"Haven&#39;t tried to use jaxb without schemas yet but posted some tips on how to use jaxb with Apache Camel [here](https://stackoverflow.com/questions/71423226/how-to-generate-jaxb-data-format-from-xsd-schema/71480559#71480559). JacksonXML is probably easier than jaxb which seems to require a lot more knowledge and effort to use.  The documentation and tutorials for jaxb are severly lacking especially with the javax -&gt; jakarta change.","body":"Haven&#39;t tried to use jaxb without schemas yet but posted some tips on how to use jaxb with Apache Camel <a href=\"https://stackoverflow.com/questions/71423226/how-to-generate-jaxb-data-format-from-xsd-schema/71480559#71480559\">here</a>. JacksonXML is probably easier than jaxb which seems to require a lot more knowledge and effort to use.  The documentation and tutorials for jaxb are severly lacking especially with the javax -&gt; jakarta change."}],"answers":[{"tags":[],"owner":{"account_id":86421,"reputation":1450,"user_id":240342,"accept_rate":71,"display_name":"Steve Huston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653683881,"creation_date":1653683881,"answer_id":72410841,"question_id":72391559,"body_markdown":"What exactly is the exception you get?\r\n\r\nYou may need to add public getters to TestMessage for the marshaller to get the fields.","title":"Apache Camel sending marshalled data","body":"<p>What exactly is the exception you get?</p>\n<p>You may need to add public getters to TestMessage for the marshaller to get the fields.</p>\n"}],"owner":{"account_id":25395986,"reputation":1,"user_id":19206245,"display_name":"hakoral"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653683881,"creation_date":1653566731,"question_id":72391559,"body_markdown":"I&#39;m trying to send marshalled data through a Camel route. I&#39;ve checked a few tutorials but can&#39;t get it to work and receive a ```RuntimeException```.\r\n\r\nWhat I want to accomplish:\r\n- Extract the body of the message.\r\n- Create a POJO with ```content``` and ```title``` fields.\r\n- Marshall the POJO and send it further along the route.\r\n\r\n```\r\n@Override\r\npublic void configure() {\r\n    from(&quot;Foo&quot;)\r\n        .bean(TestMessageTransformer.class, &quot;testMessageTransform&quot;)\r\n        (1).marshal()\r\n        .to(&quot;Bar&quot;)\r\n```\r\n\r\n```\r\npublic class TestMessage {\r\n\r\n    private String content;\r\n    private String title;\r\n\r\n    public TestMessage(String content, String title) {\r\n        this.content = content;\r\n        this.title = title;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class TestMessageTransformer {\r\n\r\n    @Bean(&quot;testMessageTransform&quot;)\r\n    public TestMessage transform(String message) {\r\n        return new TestMessage(message, &quot;title&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n(1) I&#39;ve tried using ```marshal().jaxb()```, ```marshal()``` with ```JacksonXMLDataFormat``` but no dice.","title":"Apache Camel sending marshalled data","body":"<p>I'm trying to send marshalled data through a Camel route. I've checked a few tutorials but can't get it to work and receive a <code>RuntimeException</code>.</p>\n<p>What I want to accomplish:</p>\n<ul>\n<li>Extract the body of the message.</li>\n<li>Create a POJO with <code>content</code> and <code>title</code> fields.</li>\n<li>Marshall the POJO and send it further along the route.</li>\n</ul>\n<pre><code>@Override\npublic void configure() {\n    from(&quot;Foo&quot;)\n        .bean(TestMessageTransformer.class, &quot;testMessageTransform&quot;)\n        (1).marshal()\n        .to(&quot;Bar&quot;)\n</code></pre>\n<pre><code>public class TestMessage {\n\n    private String content;\n    private String title;\n\n    public TestMessage(String content, String title) {\n        this.content = content;\n        this.title = title;\n    }\n\n}\n</code></pre>\n<pre><code>public class TestMessageTransformer {\n\n    @Bean(&quot;testMessageTransform&quot;)\n    public TestMessage transform(String message) {\n        return new TestMessage(message, &quot;title&quot;);\n    }\n\n}\n</code></pre>\n<p>(1) I've tried using <code>marshal().jaxb()</code>, <code>marshal()</code> with <code>JacksonXMLDataFormat</code> but no dice.</p>\n"},{"tags":["java","android","selenium-webdriver","appium","sendkeys"],"answers":[{"tags":[],"owner":{"account_id":8517682,"reputation":33,"user_id":6385620,"display_name":"rakeshsahu59"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653683789,"creation_date":1653670977,"answer_id":72408824,"question_id":72402720,"body_markdown":"Try using `Actions` class. \r\n\r\n    Actions a = new Actions(driver);\r\n    a.sendKeys(&quot;xyz&quot;);\r\n    a.perform();","title":"Its taking too much time to enter value in field using sendkeys() in Appium (Android)","body":"<p>Try using <code>Actions</code> class.</p>\n<pre><code>Actions a = new Actions(driver);\na.sendKeys(&quot;xyz&quot;);\na.perform();\n</code></pre>\n"}],"owner":{"account_id":18272910,"reputation":1,"user_id":13303347,"display_name":"faiza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653683789,"creation_date":1653640831,"question_id":72402720,"body_markdown":"I am trying to enter value in an input field and it&#39;s taking 3-4 minutes in entering the value using sendKeys.\r\nI&#39;ve already tried using / removing raw, implicit and explicit waits for element. I&#39;ve also tried changing my locator strategy. I have printed the xml before entering the value and the element is present in XML. I am unable to identify the issue here.\r\n\r\n&lt;h4&gt;Code&lt;/h4&gt;\r\n\r\n```\r\nlocator.clear();\r\nlocator.click();\r\nlocator.sendKeys(value);\r\n```\r\n\r\n&lt;h4&gt;APPIUM LOGS&lt;/h4&gt;\r\n\r\n&gt; POST /wd/hub/session/9a33c354-03a4-4772-97cb-9aaedd40bfce/element/68b0462a-bbe4-4a3f-8eed-1a7de8d6f659/value\r\n[HTTP] {&quot;id&quot;:&quot;68b0462a-bbe4-4a3f-8eed-1a7de8d6f659&quot;,&quot;text&quot;:&quot;067384633&quot;,&quot;value&quot;:[&quot;0&quot;,&quot;6&quot;,&quot;7&quot;,&quot;3&quot;,&quot;8&quot;,&quot;4&quot;,&quot;6&quot;,&quot;3&quot;,&quot;3&quot;]}\r\n[W3C (9a33c354)] Calling AppiumDriver.setValue() with args: [[&quot;0&quot;,&quot;6&quot;,&quot;7&quot;,&quot;3&quot;,&quot;8&quot;,&quot;4&quot;,&quot;6&quot;,&quot;3&quot;,&quot;3&quot;],&quot;68b0462a-bbe4-4a3f-8eed-1a7de8d6f659&quot;,&quot;9a33c354-03a4-4772-97cb-9aaedd40bfce&quot;]\r\n[WD Proxy] Matched &#39;/element/68b0462a-bbe4-4a3f-8eed-1a7de8d6f659/value&#39; to command name &#39;setValue&#39;\r\n[Protocol Converter] Added &#39;value&#39; property [&quot;0&quot;,&quot;6&quot;,&quot;7&quot;,&quot;3&quot;,&quot;8&quot;,&quot;4&quot;,&quot;6&quot;,&quot;3&quot;,&quot;3&quot;] to &#39;setValue&#39; request body\r\n[WD Proxy] Proxying [POST /element/68b0462a-bbe4-4a3f-8eed-1a7de8d6f659/value] to [POST http://127.0.0.1:8201/wd/hub/session/39a3b84a-6b5c-4075-a32b-7349af88196b/element/68b0462a-bbe4-4a3f-8eed-1a7de8d6f659/value] with body: {&quot;elementId&quot;:&quot;68b0462a-bbe4-4a3f-8eed-1a7de8d6f659&quot;,&quot;text&quot;:&quot;067384633&quot;,&quot;replace&quot;:false,&quot;value&quot;:[&quot;0&quot;,&quot;6&quot;,&quot;7&quot;,&quot;3&quot;,&quot;8&quot;,&quot;4&quot;,&quot;6&quot;,&quot;3&quot;,&quot;3&quot;]}\r\n","title":"Its taking too much time to enter value in field using sendkeys() in Appium (Android)","body":"<p>I am trying to enter value in an input field and it's taking 3-4 minutes in entering the value using sendKeys.\nI've already tried using / removing raw, implicit and explicit waits for element. I've also tried changing my locator strategy. I have printed the xml before entering the value and the element is present in XML. I am unable to identify the issue here.</p>\n<h4>Code</h4>\n<pre><code>locator.clear();\nlocator.click();\nlocator.sendKeys(value);\n</code></pre>\n<h4>APPIUM LOGS</h4>\n<blockquote>\n<p>POST /wd/hub/session/9a33c354-03a4-4772-97cb-9aaedd40bfce/element/68b0462a-bbe4-4a3f-8eed-1a7de8d6f659/value\n[HTTP] {&quot;id&quot;:&quot;68b0462a-bbe4-4a3f-8eed-1a7de8d6f659&quot;,&quot;text&quot;:&quot;067384633&quot;,&quot;value&quot;:[&quot;0&quot;,&quot;6&quot;,&quot;7&quot;,&quot;3&quot;,&quot;8&quot;,&quot;4&quot;,&quot;6&quot;,&quot;3&quot;,&quot;3&quot;]}\n[W3C (9a33c354)] Calling AppiumDriver.setValue() with args: [[&quot;0&quot;,&quot;6&quot;,&quot;7&quot;,&quot;3&quot;,&quot;8&quot;,&quot;4&quot;,&quot;6&quot;,&quot;3&quot;,&quot;3&quot;],&quot;68b0462a-bbe4-4a3f-8eed-1a7de8d6f659&quot;,&quot;9a33c354-03a4-4772-97cb-9aaedd40bfce&quot;]\n[WD Proxy] Matched '/element/68b0462a-bbe4-4a3f-8eed-1a7de8d6f659/value' to command name 'setValue'\n[Protocol Converter] Added 'value' property [&quot;0&quot;,&quot;6&quot;,&quot;7&quot;,&quot;3&quot;,&quot;8&quot;,&quot;4&quot;,&quot;6&quot;,&quot;3&quot;,&quot;3&quot;] to 'setValue' request body\n[WD Proxy] Proxying [POST /element/68b0462a-bbe4-4a3f-8eed-1a7de8d6f659/value] to [POST http://127.0.0.1:8201/wd/hub/session/39a3b84a-6b5c-4075-a32b-7349af88196b/element/68b0462a-bbe4-4a3f-8eed-1a7de8d6f659/value] with body: {&quot;elementId&quot;:&quot;68b0462a-bbe4-4a3f-8eed-1a7de8d6f659&quot;,&quot;text&quot;:&quot;067384633&quot;,&quot;replace&quot;:false,&quot;value&quot;:[&quot;0&quot;,&quot;6&quot;,&quot;7&quot;,&quot;3&quot;,&quot;8&quot;,&quot;4&quot;,&quot;6&quot;,&quot;3&quot;,&quot;3&quot;]}</p>\n</blockquote>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":2,"creation_date":1636652054,"post_id":69932497,"comment_id":123620341,"body_markdown":"What makes you think that a topic can be full or under load ? All topics use the same hardware under the hood ... so they are either all usable or all are blocked.","body":"What makes you think that a topic can be full or under load ? All topics use the same hardware under the hood ... so they are either all usable or all are blocked."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1636653428,"post_id":69932497,"comment_id":123620873,"body_markdown":"That&#39;s the whole point of the messaging middleware: to distinguish producer and consumer and have messages stored in between if consumer is not available. Consider a simple database use case: how you may know if you can insert into the table or not? Please, learn more what is Apache Kafka by itself and what is consumer group, records logs etc. You may use metrics to track a consumer lag, but that&#39;s not the way how messaging should be used...","body":"That&#39;s the whole point of the messaging middleware: to distinguish producer and consumer and have messages stored in between if consumer is not available. Consider a simple database use case: how you may know if you can insert into the table or not? Please, learn more what is Apache Kafka by itself and what is consumer group, records logs etc. You may use metrics to track a consumer lag, but that&#39;s not the way how messaging should be used..."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636727256,"creation_date":1636727256,"answer_id":69944478,"question_id":69932497,"body_markdown":"Topics don&#39;t have load. Brokers do.\r\n\r\nA broker can have leader multiple leader partitions of different topics, which clients cannot control.\r\n\r\nTherefore, you cannot guarantee that sending data to a new topic (rather, set of partitions) will have less system/network load than another.\r\n\r\nBesides that, if you start sending data to other topics, you lose ordering guarantees in both the produced data and the consumer group for any downstream systems. ","title":"Can I send a message different topics in kafka at runtime depending on the load?","body":"<p>Topics don't have load. Brokers do.</p>\n<p>A broker can have leader multiple leader partitions of different topics, which clients cannot control.</p>\n<p>Therefore, you cannot guarantee that sending data to a new topic (rather, set of partitions) will have less system/network load than another.</p>\n<p>Besides that, if you start sending data to other topics, you lose ordering guarantees in both the produced data and the consumer group for any downstream systems.</p>\n"}],"owner":{"account_id":13308771,"reputation":3,"user_id":9627933,"display_name":"asdas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653683668,"creation_date":1636651642,"question_id":69932497,"body_markdown":"I have 5 defined topics, my specific question is there any way in the code to know if a kafka topic is free or is still full to be able to balance the load between topics\r\n\r\nIn the producer I have to do the function ```.send(Topic1, object)```  but if the topic to which I am sending the information is busy or already has to load, how can I know it to change the function to ```.send(Topic2, object)```  by means of a conditional?\r\n\r\nI do not know if this can be done or that otherwise you can know this. Currently, I plan to use ListenableFuture and with  ```future.addCallback ``` to know if this process is already done and reassign the topic but I do not see it viable.","title":"Can I send a message different topics in kafka at runtime depending on the load?","body":"<p>I have 5 defined topics, my specific question is there any way in the code to know if a kafka topic is free or is still full to be able to balance the load between topics</p>\n<p>In the producer I have to do the function <code>.send(Topic1, object)</code>  but if the topic to which I am sending the information is busy or already has to load, how can I know it to change the function to <code>.send(Topic2, object)</code>  by means of a conditional?</p>\n<p>I do not know if this can be done or that otherwise you can know this. Currently, I plan to use ListenableFuture and with  <code>future.addCallback </code> to know if this process is already done and reassign the topic but I do not see it viable.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1636652351,"post_id":69932515,"comment_id":123620462,"body_markdown":"Please read why a [screenshot of HTML or code or error is a bad idea](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors). Consider updating the Question with formatted text based relevant HTML, code trials and error stack trace.","body":"Please read why a <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">screenshot of HTML or code or error is a bad idea</a>. Consider updating the Question with formatted text based relevant HTML, code trials and error stack trace."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1636657910,"post_id":69932515,"comment_id":123622423,"body_markdown":"You might try building a hashmap of webelement references, but if you also get info from those elements, do that before scrolling, and store those things in a hashmap.  Make sure the key of the key-value pair is unique for each webelement or value stored.  (That might just be an ID for each element...)  When you are done scrolling, get the size.","body":"You might try building a hashmap of webelement references, but if you also get info from those elements, do that before scrolling, and store those things in a hashmap.  Make sure the key of the key-value pair is unique for each webelement or value stored.  (That might just be an ID for each element...)  When you are done scrolling, get the size."},{"owner":{"account_id":20426875,"reputation":83,"user_id":14986668,"display_name":"Andrei Suslov"},"score":0,"creation_date":1636664305,"post_id":69932515,"comment_id":123624373,"body_markdown":"@pcalkins How do I make sure that I&#39;ve scrolled to the bottom of the elements&#39; list? Comparing by name could be tricky because the elements might have the duplicate name.","body":"@pcalkins How do I make sure that I&#39;ve scrolled to the bottom of the elements&#39; list? Comparing by name could be tricky because the elements might have the duplicate name."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1636665945,"post_id":69932515,"comment_id":123624914,"body_markdown":"Just see if the size of the hashmap has changed.  If it has, then scroll again.  If not, I&#39;d guess you&#39;ve reached the end.  You&#39;ll need to identify what&#39;s unique about those elements.  If the site&#39;s designed well they will have unique IDs, so use those as the keys in the hashmap.  Also be sure to check for stale element exceptions... those could occur if the list of elements is still loading. (get them again)","body":"Just see if the size of the hashmap has changed.  If it has, then scroll again.  If not, I&#39;d guess you&#39;ve reached the end.  You&#39;ll need to identify what&#39;s unique about those elements.  If the site&#39;s designed well they will have unique IDs, so use those as the keys in the hashmap.  Also be sure to check for stale element exceptions... those could occur if the list of elements is still loading. (get them again)"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1636705323,"post_id":69932515,"comment_id":123632640,"body_markdown":"@Andrei Suslov can you share URL?","body":"@Andrei Suslov can you share URL?"}],"owner":{"account_id":20426875,"reputation":83,"user_id":14986668,"display_name":"Andrei Suslov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653683635,"creation_date":1636651747,"question_id":69932515,"body_markdown":"I am attempting to get a list of all elements of a certain class in a table using Selenium.\r\nThe number of elements visible in the DevTools elements&#39; panel depends on the size of the browser window and does NOT reflect the real amount of elements. If I expand the browser window, the list of elements will become larger. In order to see more elements, I need to scroll down manually, but the amount of elements doesn&#39;t change still. The thing is, the table is dynamically loaded when scrolling, so elements will appear/disappear from DOM depending on how far you&#39;ve scrolled.\r\n\r\nThe screenshot of elements on a WEB-page and Chrome DevTools elements&#39; panel:\r\n\r\n![][1]\r\n\r\nUsing `driver.findElements(By.xpath(xPath))` does not work and returns an incorrect number of elements, the number that is visible on the page but not the actual amount of elements.\r\n\r\nI am trying to test that a certain number of elements is present in a table via UI, but the table has to scroll down to load things. I know you can scroll the page in Selenium, but the elements on the page disappear from the top and get replaced in the bottom when scrolling down through the page. So, I expect 13 elements to be present in a table but the most I am able to get right now is 12 simply because the screen resolution doesn&#39;t allow me to enlarge the screen anymore.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qAjvZ.png","title":"Get a list of all elements in a scrollable table using Selenium with Java","body":"<p>I am attempting to get a list of all elements of a certain class in a table using Selenium.\nThe number of elements visible in the DevTools elements' panel depends on the size of the browser window and does NOT reflect the real amount of elements. If I expand the browser window, the list of elements will become larger. In order to see more elements, I need to scroll down manually, but the amount of elements doesn't change still. The thing is, the table is dynamically loaded when scrolling, so elements will appear/disappear from DOM depending on how far you've scrolled.</p>\n<p>The screenshot of elements on a WEB-page and Chrome DevTools elements' panel:</p>\n<p><img src=\"https://i.stack.imgur.com/qAjvZ.png\" alt=\"\" /></p>\n<p>Using <code>driver.findElements(By.xpath(xPath))</code> does not work and returns an incorrect number of elements, the number that is visible on the page but not the actual amount of elements.</p>\n<p>I am trying to test that a certain number of elements is present in a table via UI, but the table has to scroll down to load things. I know you can scroll the page in Selenium, but the elements on the page disappear from the top and get replaced in the bottom when scrolling down through the page. So, I expect 13 elements to be present in a table but the most I am able to get right now is 12 simply because the screen resolution doesn't allow me to enlarge the screen anymore.</p>\n"},{"tags":["java","android","xml","android-studio","nullpointerexception"],"answers":[{"tags":[],"owner":{"account_id":3843297,"reputation":5027,"user_id":3185707,"accept_rate":50,"display_name":"dzikovskyy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653683623,"creation_date":1653683623,"answer_id":72410813,"question_id":72410363,"body_markdown":"Assign the result of calling `findViewById()` to your View variables, don&#39;t call `findViewById()` on the variables itself.\r\n\r\nSo basically replace these lines\r\n\r\n    title.findViewById(R.id.notificationTitleText);\r\n    text.findViewById(R.id.notificationMessageText);\r\n    btn_c1.findViewById(R.id.sendNotificationThroughChannel1);\r\n    btn_c2.findViewById(R.id.sendNotificationThroughChannel2);\r\n\r\nwith these\r\n\r\n    title = findViewById(R.id.notificationTitleText);\r\n    text = findViewById(R.id.notificationMessageText);\r\n    btn_c1 = findViewById(R.id.sendNotificationThroughChannel1);\r\n    btn_c2 = findViewById(R.id.sendNotificationThroughChannel2);\r\n\r\n","title":"notification channels app crashes and stops","body":"<p>Assign the result of calling <code>findViewById()</code> to your View variables, don't call <code>findViewById()</code> on the variables itself.</p>\n<p>So basically replace these lines</p>\n<pre><code>title.findViewById(R.id.notificationTitleText);\ntext.findViewById(R.id.notificationMessageText);\nbtn_c1.findViewById(R.id.sendNotificationThroughChannel1);\nbtn_c2.findViewById(R.id.sendNotificationThroughChannel2);\n</code></pre>\n<p>with these</p>\n<pre><code>title = findViewById(R.id.notificationTitleText);\ntext = findViewById(R.id.notificationMessageText);\nbtn_c1 = findViewById(R.id.sendNotificationThroughChannel1);\nbtn_c2 = findViewById(R.id.sendNotificationThroughChannel2);\n</code></pre>\n"}],"owner":{"account_id":23989140,"reputation":13,"user_id":17975549,"display_name":"Abdul Hannan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72410813,"answer_count":1,"score":-1,"last_activity_date":1653683623,"creation_date":1653680615,"question_id":72410363,"body_markdown":"this is my code: \r\n\r\n    package com.rockykhan.notificationchannels;\r\n    \r\n    import android.app.Application;\r\n    import android.app.NotificationChannel;\r\n    import android.app.NotificationManager;\r\n    import android.os.Build;\r\n    \r\n    public class app extends Application {\r\n    \r\n        // MAKING CHANNEL ID&#39;S AS FINAL STRINGS\r\n        public static final String CHANNEL_1_ID = &quot;channel1&quot;;\r\n        public static final String CHANNEL_2_ID = &quot;channel2&quot;;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n    \r\n                if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n    \r\n                    NotificationChannel channel1 = new NotificationChannel(CHANNEL_1_ID, &quot;Channel 1&quot;, NotificationManager.IMPORTANCE_HIGH);\r\n                    NotificationChannel channel2 = new NotificationChannel(CHANNEL_2_ID, &quot;Channel 2&quot;, NotificationManager.IMPORTANCE_LOW);\r\n    \r\n                    channel1.setDescription(&quot;this is channel 1&quot;);\r\n                    channel2.setDescription(&quot;this is channel 2&quot;);\r\n    \r\n                    NotificationManager manager = getSystemService(NotificationManager.class);\r\n                    manager.createNotificationChannel(channel1);\r\n                    manager.createNotificationChannel(channel2);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nmainActivity:\r\n\r\n    package com.rockykhan.notificationchannels;\r\n    \r\n    import static com.rockykhan.notificationchannels.app.CHANNEL_1_ID;\r\n    import static com.rockykhan.notificationchannels.app.CHANNEL_2_ID;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.NotificationCompat;\r\n    import androidx.core.app.NotificationManagerCompat;\r\n    \r\n    import android.app.Notification;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        EditText title, text;\r\n        Button btn_c1, btn_c2;\r\n        private NotificationManagerCompat notificationManager;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            title.findViewById(R.id.notificationTitleText);\r\n            text.findViewById(R.id.notificationMessageText);\r\n            btn_c1.findViewById(R.id.sendNotificationThroughChannel1);\r\n            btn_c2.findViewById(R.id.sendNotificationThroughChannel2);\r\n    \r\n            String notificationTitle = title.getText().toString();\r\n            String notificationText = text.getText().toString();\r\n    \r\n            notificationManager = NotificationManagerCompat.from(this);\r\n    \r\n            btn_c1.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    Notification notification = new NotificationCompat.Builder(MainActivity.this, CHANNEL_1_ID)\r\n                            .setSmallIcon(R.drawable.imp_noti)\r\n                            .setContentTitle(notificationTitle)\r\n                            .setContentText(notificationText)\r\n                            .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                            .setCategory(NotificationCompat.CATEGORY_MESSAGE)\r\n                            .build();\r\n    \r\n                    notificationManager.notify(1, notification);\r\n    \r\n                }\r\n            });\r\n            btn_c2.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    Notification notification = new NotificationCompat.Builder(MainActivity.this, CHANNEL_2_ID)\r\n                            .setSmallIcon(R.drawable.noti)\r\n                            .setContentTitle(notificationTitle)\r\n                            .setContentText(notificationText)\r\n                            .setPriority(NotificationCompat.PRIORITY_LOW)\r\n                            .setCategory(NotificationCompat.CATEGORY_MESSAGE)\r\n                            .build();\r\n    \r\n                    notificationManager.notify(2, notification);\r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n\r\nxml: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/sendNotificationThroughChannel2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Send on channel 2&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/notificationTitleText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Title&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/sendNotificationThroughChannel2&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/sendNotificationThroughChannel1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Send on channel 1&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/sendNotificationThroughChannel2&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/notificationMessageText&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/notificationMessageText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Text&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/sendNotificationThroughChannel1&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/notificationTitleText&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nlogcat: \r\n\r\n     java.lang.RuntimeException: Unable to start activity ComponentInfo{com.rockykhan.notificationchannels/com.rockykhan.notificationchannels.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.widget.EditText.findViewById(int)&#39; on a null object reference\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3408)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3547)\r\n\r\n\r\nSo I was trying to send notifications through buttons but the app doesn&#39;t seem to start. It crashes and as far as I thought, it was a problem in xml Id&#39;s but I can&#39;t find the main problem here ( I think it is something to do with the findViewbyId of the editText). Help will be much appreciated! ","title":"notification channels app crashes and stops","body":"<p>this is my code:</p>\n<pre><code>package com.rockykhan.notificationchannels;\n\nimport android.app.Application;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.os.Build;\n\npublic class app extends Application {\n\n    // MAKING CHANNEL ID'S AS FINAL STRINGS\n    public static final String CHANNEL_1_ID = &quot;channel1&quot;;\n    public static final String CHANNEL_2_ID = &quot;channel2&quot;;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n\n                NotificationChannel channel1 = new NotificationChannel(CHANNEL_1_ID, &quot;Channel 1&quot;, NotificationManager.IMPORTANCE_HIGH);\n                NotificationChannel channel2 = new NotificationChannel(CHANNEL_2_ID, &quot;Channel 2&quot;, NotificationManager.IMPORTANCE_LOW);\n\n                channel1.setDescription(&quot;this is channel 1&quot;);\n                channel2.setDescription(&quot;this is channel 2&quot;);\n\n                NotificationManager manager = getSystemService(NotificationManager.class);\n                manager.createNotificationChannel(channel1);\n                manager.createNotificationChannel(channel2);\n        }\n\n    }\n}\n</code></pre>\n<p>mainActivity:</p>\n<pre><code>package com.rockykhan.notificationchannels;\n\nimport static com.rockykhan.notificationchannels.app.CHANNEL_1_ID;\nimport static com.rockykhan.notificationchannels.app.CHANNEL_2_ID;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.NotificationCompat;\nimport androidx.core.app.NotificationManagerCompat;\n\nimport android.app.Notification;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\npublic class MainActivity extends AppCompatActivity {\n\n    EditText title, text;\n    Button btn_c1, btn_c2;\n    private NotificationManagerCompat notificationManager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        title.findViewById(R.id.notificationTitleText);\n        text.findViewById(R.id.notificationMessageText);\n        btn_c1.findViewById(R.id.sendNotificationThroughChannel1);\n        btn_c2.findViewById(R.id.sendNotificationThroughChannel2);\n\n        String notificationTitle = title.getText().toString();\n        String notificationText = text.getText().toString();\n\n        notificationManager = NotificationManagerCompat.from(this);\n\n        btn_c1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Notification notification = new NotificationCompat.Builder(MainActivity.this, CHANNEL_1_ID)\n                        .setSmallIcon(R.drawable.imp_noti)\n                        .setContentTitle(notificationTitle)\n                        .setContentText(notificationText)\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\n                        .setCategory(NotificationCompat.CATEGORY_MESSAGE)\n                        .build();\n\n                notificationManager.notify(1, notification);\n\n            }\n        });\n        btn_c2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Notification notification = new NotificationCompat.Builder(MainActivity.this, CHANNEL_2_ID)\n                        .setSmallIcon(R.drawable.noti)\n                        .setContentTitle(notificationTitle)\n                        .setContentText(notificationText)\n                        .setPriority(NotificationCompat.PRIORITY_LOW)\n                        .setCategory(NotificationCompat.CATEGORY_MESSAGE)\n                        .build();\n\n                notificationManager.notify(2, notification);\n\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/sendNotificationThroughChannel2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Send on channel 2&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/notificationTitleText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Title&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/sendNotificationThroughChannel2&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/sendNotificationThroughChannel1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Send on channel 1&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/sendNotificationThroughChannel2&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/notificationMessageText&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/notificationMessageText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Text&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/sendNotificationThroughChannel1&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/notificationTitleText&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>logcat:</p>\n<pre><code> java.lang.RuntimeException: Unable to start activity ComponentInfo{com.rockykhan.notificationchannels/com.rockykhan.notificationchannels.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View android.widget.EditText.findViewById(int)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3408)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3547)\n</code></pre>\n<p>So I was trying to send notifications through buttons but the app doesn't seem to start. It crashes and as far as I thought, it was a problem in xml Id's but I can't find the main problem here ( I think it is something to do with the findViewbyId of the editText). Help will be much appreciated!</p>\n"},{"tags":["java","hibernate","netbeans"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1636655267,"post_id":69932573,"comment_id":123621544,"body_markdown":"You need to provide more detail on exactly how you attempted to install the Hibernate plugin. Describe the steps in sufficient detail so that others can attempt to reproduce your problem. Without that additional information your question may be closed.","body":"You need to provide more detail on exactly how you attempted to install the Hibernate plugin. Describe the steps in sufficient detail so that others can attempt to reproduce your problem. Without that additional information your question may be closed."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1636674652,"post_id":69932573,"comment_id":123626885,"body_markdown":"[1] Your issue has already been raised in a bug report: [NETBEANS-4468 \nNo dependent plugins are available at Apache NetBeans plugin portal for Hibernate](https://issues.apache.org/jira/browse/NETBEANS-4468). [2] There is no official solution at the moment, but a very detailed workaround was posted in the comments by Debra Petta on 7/20/20 @ 03:56. [3] Please try her approach, and post an answer to your own question here if it works for you. And if it does not work then update your question with the new information.","body":"[1] Your issue has already been raised in a bug report: <a href=\"https://issues.apache.org/jira/browse/NETBEANS-4468\" rel=\"nofollow noreferrer\">NETBEANS-4468  No dependent plugins are available at Apache NetBeans plugin portal for Hibernate</a>. [2] There is no official solution at the moment, but a very detailed workaround was posted in the comments by Debra Petta on 7/20/20 @ 03:56. [3] Please try her approach, and post an answer to your own question here if it works for you. And if it does not work then update your question with the new information."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1636782620,"post_id":69932573,"comment_id":123654209,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":14131780,"reputation":310,"user_id":10209591,"display_name":"Codeparl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638783014,"creation_date":1638783014,"answer_id":70243335,"question_id":69932573,"body_markdown":"Well, I had the same issue but aftter a good search on google, found a neat solution.\r\nPlease read the solution here: https://issues.apache.org/jira/browse/NETBEANS-4468\r\n\r\njust follow the discussion till you get the answer.","title":"Install Hibernate in Netbeans 12.0 &quot;version 238&quot;","body":"<p>Well, I had the same issue but aftter a good search on google, found a neat solution.\nPlease read the solution here: <a href=\"https://issues.apache.org/jira/browse/NETBEANS-4468\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/NETBEANS-4468</a></p>\n<p>just follow the discussion till you get the answer.</p>\n"}],"owner":{"account_id":12021058,"reputation":15,"user_id":8794462,"display_name":"JuamBer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4394,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70243335,"answer_count":1,"score":0,"last_activity_date":1653683609,"creation_date":1636652024,"question_id":69932573,"body_markdown":"When trying to install the Hibernate plugin in Netbeans I get an error.\r\nThere is only one post that collects the same error. I have followed the prompts and it has not worked for me.\r\nI have reinstalled Netbeans and changed the org-netbeans-libs-freemarker.jar file.\r\nChanging from 239 to 238:\r\nOpenIDE module specification version: 2.44.0.238\r\nOpenIDE module implementation version: 238\r\n\r\nEven so, I keep getting the same error:\r\n\r\nSome plugins require plugin org.netbeans.libs.freemarker to be installed.\r\nThe plugin org.netbeans.libs.freemarker is requested in implementation version 238. The following plugin is affected: Hibernate.","title":"Install Hibernate in Netbeans 12.0 &quot;version 238&quot;","body":"<p>When trying to install the Hibernate plugin in Netbeans I get an error.\nThere is only one post that collects the same error. I have followed the prompts and it has not worked for me.\nI have reinstalled Netbeans and changed the org-netbeans-libs-freemarker.jar file.\nChanging from 239 to 238:\nOpenIDE module specification version: 2.44.0.238\nOpenIDE module implementation version: 238</p>\n<p>Even so, I keep getting the same error:</p>\n<p>Some plugins require plugin org.netbeans.libs.freemarker to be installed.\nThe plugin org.netbeans.libs.freemarker is requested in implementation version 238. The following plugin is affected: Hibernate.</p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1636654439,"post_id":69932724,"comment_id":123621243,"body_markdown":"Surely you want the background color of the context menu to be the same as the menu items to achieve what you want?","body":"Surely you want the background color of the context menu to be the same as the menu items to achieve what you want?"}],"answers":[{"tags":[],"owner":{"account_id":20221335,"reputation":158,"user_id":14830735,"display_name":"Hleb Shypula"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636674885,"creation_date":1636653357,"answer_id":69932812,"question_id":69932724,"body_markdown":"**If you have 1 `context-menu` on the scene at the same time:**\r\n\r\nI succeeded to change the backgroung color of `Menu` node to red by adding this code to the style sheet:\r\n\r\n```\r\n.context-menu {\r\n    -fx-background-color: #ff0000;     \r\n    -fx-border-color:  #ff0000;        \r\n}\r\n```\r\n\r\n\r\n\r\nI suppose you are attaching your style sheet to the `.fxml` file, if no, you can do it by specifying the path in SceneBuilder:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XmMwF.png\r\n\r\n\r\n**If you have 2 `context-menu` on the scene at the same time:**\r\n\r\nJust specify **2 style sheets** and then attach them sepparately for different `MenuBar` nodes like on screenshot above. In each style sheet specify `.context-menu` class with desired properties. This way it won&#39;t override each other.\r\n\r\n","title":"JavaFX css menu borders wrong color","body":"<p><strong>If you have 1 <code>context-menu</code> on the scene at the same time:</strong></p>\n<p>I succeeded to change the backgroung color of <code>Menu</code> node to red by adding this code to the style sheet:</p>\n<pre><code>.context-menu {\n    -fx-background-color: #ff0000;     \n    -fx-border-color:  #ff0000;        \n}\n</code></pre>\n<p>I suppose you are attaching your style sheet to the <code>.fxml</code> file, if no, you can do it by specifying the path in SceneBuilder:</p>\n<p><a href=\"https://i.stack.imgur.com/XmMwF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XmMwF.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>If you have 2 <code>context-menu</code> on the scene at the same time:</strong></p>\n<p>Just specify <strong>2 style sheets</strong> and then attach them sepparately for different <code>MenuBar</code> nodes like on screenshot above. In each style sheet specify <code>.context-menu</code> class with desired properties. This way it won't override each other.</p>\n"}],"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69932812,"answer_count":1,"score":2,"last_activity_date":1653683563,"creation_date":1636652848,"question_id":69932724,"body_markdown":"I have a JavaFX Application, with a MenuBar, with 3 Menus, with a few MenuItems each.\r\n\r\nAfter changing the colors of the MenuBar/Menus/MenuItems, I have these brighter bars (below &quot;Unterst&#252;tzte Melder&quot; and above &quot;Daten laden&quot;)\r\n\r\n[![Current display][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bnUyL.png\r\n\r\n\r\nI would like them to have the same color as the MenuItems Background color, i thought those were borders or shadows, but I did not manage to set them to 0 or remove them.\r\n\r\nI use CSS to style all my components\r\n\r\nCSS File:\r\n\r\n    .menu-item .label {\r\n    \t-fx-font-size:14.0px;\r\n        -fx-text-fill: white;\r\n    }\r\n    \r\n    .menu-item:focused {\r\n         -fx-background-color: darkgray;\r\n    }\r\n    \r\n    .context-menu {\r\n        -fx-background-color: #8a8a8a;\r\n    }\r\n    \r\n    #override:focused .label {\r\n    \t-fx-text-fill: #ff8800;\r\n    }\r\n    \r\n    #override .label {\r\n    \t-fx-text-fill: #ff8800;\r\n    }\r\n    \r\n    .menu-bar {\r\n        -fx-background-color: #5c5c5c;\r\n    }\r\n    \r\n    .button {\r\n    \t -fx-background-color: #CCCCCC;\r\n    }\r\n    \r\n    .menu .label {\r\n    \t-fx-text-fill: white;\r\n    }\r\n    \r\n    .menu-item {\r\n    \t -fx-background-color: #5c5c5c;\r\n    \t\r\n    }\r\n    \r\n    .menu {\r\n     -fx-background-color: #5c5c5c;\r\n    }\r\n    \r\n    .menu:hover {\r\n     -fx-background-color: darkgray;\r\n    }\r\n\r\n","title":"JavaFX css menu borders wrong color","body":"<p>I have a JavaFX Application, with a MenuBar, with 3 Menus, with a few MenuItems each.</p>\n<p>After changing the colors of the MenuBar/Menus/MenuItems, I have these brighter bars (below &quot;Unterstützte Melder&quot; and above &quot;Daten laden&quot;)</p>\n<p><a href=\"https://i.stack.imgur.com/bnUyL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bnUyL.png\" alt=\"Current display\" /></a></p>\n<p>I would like them to have the same color as the MenuItems Background color, i thought those were borders or shadows, but I did not manage to set them to 0 or remove them.</p>\n<p>I use CSS to style all my components</p>\n<p>CSS File:</p>\n<pre><code>.menu-item .label {\n    -fx-font-size:14.0px;\n    -fx-text-fill: white;\n}\n\n.menu-item:focused {\n     -fx-background-color: darkgray;\n}\n\n.context-menu {\n    -fx-background-color: #8a8a8a;\n}\n\n#override:focused .label {\n    -fx-text-fill: #ff8800;\n}\n\n#override .label {\n    -fx-text-fill: #ff8800;\n}\n\n.menu-bar {\n    -fx-background-color: #5c5c5c;\n}\n\n.button {\n     -fx-background-color: #CCCCCC;\n}\n\n.menu .label {\n    -fx-text-fill: white;\n}\n\n.menu-item {\n     -fx-background-color: #5c5c5c;\n    \n}\n\n.menu {\n -fx-background-color: #5c5c5c;\n}\n\n.menu:hover {\n -fx-background-color: darkgray;\n}\n</code></pre>\n"},{"tags":["java","double","comparable","compareto","loss-of-significance"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1636654082,"creation_date":1636654082,"answer_id":69932945,"question_id":69932911,"body_markdown":"The appropriate solution is just to use\r\n\r\n    return Double.compare(distanceCenter, compared.getDistanceCenter);\r\n\r\n...and, in fact, it&#39;s very rare that you should use subtraction in a `compareTo` method at all.  Instead, you should use the appropriate `compare` method.  (Even for `int`s, using subtraction for `compareTo` implementations can be quite broken.)","title":"Java - Comparable interface with very small number","body":"<p>The appropriate solution is just to use</p>\n<pre><code>return Double.compare(distanceCenter, compared.getDistanceCenter);\n</code></pre>\n<p>...and, in fact, it's very rare that you should use subtraction in a <code>compareTo</code> method at all.  Instead, you should use the appropriate <code>compare</code> method.  (Even for <code>int</code>s, using subtraction for <code>compareTo</code> implementations can be quite broken.)</p>\n"}],"owner":{"account_id":16244971,"reputation":56,"user_id":11730362,"display_name":"ale666"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653683516,"creation_date":1636653886,"question_id":69932911,"body_markdown":"I have this class that stores the latitude and the longitude of a coordinate and it distances from the center. \r\nAt some point in my algorithm I have a list of these Coordinate and I want to sort them by their distance from the center. Thus, I implemented the Comparable interface and it compareTo method.\r\n\r\n    public class Coordinate implements Comparable&lt;Coordinate&gt; {\r\n    \t\r\n    \tprivate Double lat;\r\n    \tprivate Double lon;\r\n    \tprivate Double distanceCenter;\r\n    \t\r\n    \tprotected Coordinate(Double lon, Double lat, Double distanceFromCenter) {\r\n    \t\tthis.lat=lat;\r\n    \t\tthis.lon=lon;\r\n    \t\tthis.distanceCenter=distanceFromCenter;\r\n    \t}\r\n    \t\r\n    \tpublic Double getDistanceFromCenter() {\r\n    \t\treturn distanceFromCenter;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int compareTo(Coordinate compared) {\r\n    \t\treturn (int) ((this.distanceCenter) - (compared.getDistanceCenter()));\r\n    \t}\r\n    }\r\n\r\nThe problem is that sometimes the difference between the two points is too small (almost zero) and java throws a\r\n\r\n    java.lang.IllegalArgumentException: Comparison method violates its general contract\r\n\r\nI solved the problem just multiplying each distance for a really high number so to avoid any &quot;loss of significance&quot; effect \r\n\r\n    @Override\r\n    public int compareTo(Eq compared) {\r\n    \treturn (int) ((this.distanceCenter*1000000000000000.0) (compared.getDistanceCenter()*1000000000000000.0));\r\n    }\r\n\r\nI would like to know if there is a more elegant way to solve this type of problem or if I&#39;m doing something wrong\r\n","title":"Java - Comparable interface with very small number","body":"<p>I have this class that stores the latitude and the longitude of a coordinate and it distances from the center.\nAt some point in my algorithm I have a list of these Coordinate and I want to sort them by their distance from the center. Thus, I implemented the Comparable interface and it compareTo method.</p>\n<pre><code>public class Coordinate implements Comparable&lt;Coordinate&gt; {\n    \n    private Double lat;\n    private Double lon;\n    private Double distanceCenter;\n    \n    protected Coordinate(Double lon, Double lat, Double distanceFromCenter) {\n        this.lat=lat;\n        this.lon=lon;\n        this.distanceCenter=distanceFromCenter;\n    }\n    \n    public Double getDistanceFromCenter() {\n        return distanceFromCenter;\n    }\n    \n    @Override\n    public int compareTo(Coordinate compared) {\n        return (int) ((this.distanceCenter) - (compared.getDistanceCenter()));\n    }\n}\n</code></pre>\n<p>The problem is that sometimes the difference between the two points is too small (almost zero) and java throws a</p>\n<pre><code>java.lang.IllegalArgumentException: Comparison method violates its general contract\n</code></pre>\n<p>I solved the problem just multiplying each distance for a really high number so to avoid any &quot;loss of significance&quot; effect</p>\n<pre><code>@Override\npublic int compareTo(Eq compared) {\n    return (int) ((this.distanceCenter*1000000000000000.0) (compared.getDistanceCenter()*1000000000000000.0));\n}\n</code></pre>\n<p>I would like to know if there is a more elegant way to solve this type of problem or if I'm doing something wrong</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636656550,"post_id":69933100,"comment_id":123622005,"body_markdown":"Try focusing on one row at a time. Can you convert `Integer[] a = {null, 2, 3, null, 5, null}` into that `2 3  5` row? Expand that answer to a list of arrays","body":"Try focusing on one row at a time. Can you convert <code>Integer[] a = {null, 2, 3, null, 5, null}</code> into that <code>2 3  5</code> row? Expand that answer to a list of arrays"}],"answers":[{"tags":[],"owner":{"display_name":"user17223316"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636662765,"creation_date":1636662372,"answer_id":69934502,"question_id":69933100,"body_markdown":"Try this.\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = {12, 28, 11, 16, 21, 12};\r\n        int length = arr.length;\r\n        int max = IntStream.of(arr).max().getAsInt();\r\n        int min = IntStream.of(arr).min().getAsInt();\r\n        System.out.println(&quot;Histgramm:&quot;);\r\n        for (int h = min; h &lt;= max; ++h) {\r\n            for (int i = 0; i &lt; length; i++)\r\n                System.out.print(arr[i] &gt;= h ? (i + 1) + &quot; &quot; : &quot;  &quot;);\r\n            System.out.println(&quot;(&quot; + h + &quot;)&quot;);\r\n        }\r\n    }\r\n\r\noutput:\r\n\r\n    Histgramm:\r\n    1 2 3 4 5 6 (11)\r\n    1 2   4 5 6 (12)\r\n      2   4 5   (13)\r\n      2   4 5   (14)\r\n      2   4 5   (15)\r\n      2   4 5   (16)\r\n      2     5   (17)\r\n      2     5   (18)\r\n      2     5   (19)\r\n      2     5   (20)\r\n      2     5   (21)\r\n      2         (22)\r\n      2         (23)\r\n      2         (24)\r\n      2         (25)\r\n      2         (26)\r\n      2         (27)\r\n      2         (28)\r\n\r\n","title":"How to write an vertical Histogram","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) {\n    int[] arr = {12, 28, 11, 16, 21, 12};\n    int length = arr.length;\n    int max = IntStream.of(arr).max().getAsInt();\n    int min = IntStream.of(arr).min().getAsInt();\n    System.out.println(&quot;Histgramm:&quot;);\n    for (int h = min; h &lt;= max; ++h) {\n        for (int i = 0; i &lt; length; i++)\n            System.out.print(arr[i] &gt;= h ? (i + 1) + &quot; &quot; : &quot;  &quot;);\n        System.out.println(&quot;(&quot; + h + &quot;)&quot;);\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Histgramm:\n1 2 3 4 5 6 (11)\n1 2   4 5 6 (12)\n  2   4 5   (13)\n  2   4 5   (14)\n  2   4 5   (15)\n  2   4 5   (16)\n  2     5   (17)\n  2     5   (18)\n  2     5   (19)\n  2     5   (20)\n  2     5   (21)\n  2         (22)\n  2         (23)\n  2         (24)\n  2         (25)\n  2         (26)\n  2         (27)\n  2         (28)\n</code></pre>\n"}],"owner":{"account_id":23309280,"reputation":1,"user_id":17388771,"display_name":"Ironbump"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653683501,"creation_date":1636654890,"question_id":69933100,"body_markdown":"So, right now I managed to output the Histogram like this:\r\n \r\n![HistogramPic][1]\r\n\r\nThe code for this picture is as following:  \r\n```java\r\nint max = getBiggest(arr);\r\nint min = getSmallest(arr);\r\nint n = max / 50 + 1;\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n    for (int j = min; j &lt; arr[i]; j += n) {\r\n        System.out.print(i + 1);         \r\n    }\r\n    System.out.println(&quot;(&quot; + arr[i] + &quot;)&quot;);     \r\n}\r\n```\r\n     \r\nBut my task is to output the Histogram like this:\r\n\r\n![HistogramVertical][2]\r\n\r\nCan someone explain me please how to write this code? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BWi0s.png\r\n  [2]: https://i.stack.imgur.com/ejiz6.png","title":"How to write an vertical Histogram","body":"<p>So, right now I managed to output the Histogram like this:</p>\n<p><img src=\"https://i.stack.imgur.com/BWi0s.png\" alt=\"HistogramPic\" /></p>\n<p>The code for this picture is as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int max = getBiggest(arr);\nint min = getSmallest(arr);\nint n = max / 50 + 1;\nfor (int i = 0; i &lt; arr.length; i++) {\n    for (int j = min; j &lt; arr[i]; j += n) {\n        System.out.print(i + 1);         \n    }\n    System.out.println(&quot;(&quot; + arr[i] + &quot;)&quot;);     \n}\n</code></pre>\n<p>But my task is to output the Histogram like this:</p>\n<p><img src=\"https://i.stack.imgur.com/ejiz6.png\" alt=\"HistogramVertical\" /></p>\n<p>Can someone explain me please how to write this code?</p>\n"},{"tags":["java","json","elasticsearch"],"comments":[{"owner":{"account_id":16487103,"reputation":231,"user_id":11912161,"display_name":"Pieter Svenson"},"score":0,"creation_date":1636656115,"post_id":69933129,"comment_id":123621855,"body_markdown":"Well, your code compares the String of what looks like to be two different formatting schemes. Have you considered storing the time as something like milliseconds since epoch? See here https://www.epochconverter.com/. You can get the time since epoch with &quot;new Date.getTime()&quot; and then you can compare this number with a certain range, like 1000 like you specified.","body":"Well, your code compares the String of what looks like to be two different formatting schemes. Have you considered storing the time as something like milliseconds since epoch? See here <a href=\"https://www.epochconverter.com/\" rel=\"nofollow noreferrer\">epochconverter.com</a>. You can get the time since epoch with &quot;new Date.getTime()&quot; and then you can compare this number with a certain range, like 1000 like you specified."},{"owner":{"account_id":14672424,"reputation":1,"user_id":10596545,"display_name":"Dev"},"score":0,"creation_date":1636657734,"post_id":69933129,"comment_id":123622368,"body_markdown":"@PieterSvenson is that why im getting that failure trace? because of the formatting schemes not being compatible?","body":"@PieterSvenson is that why im getting that failure trace? because of the formatting schemes not being compatible?"},{"owner":{"account_id":16487103,"reputation":231,"user_id":11912161,"display_name":"Pieter Svenson"},"score":0,"creation_date":1636663585,"post_id":69933129,"comment_id":123624130,"body_markdown":"Yeah, if the line that is giving the error is the second to last one, then it&#39;s comparing two strings. &quot;&lt;202[0-02-19&#39;T&#39;00:00:]00&gt;&quot; is not the same as &quot;&lt;202[1-11T17:46:46+00]00&gt;&quot;, and making these strings identical is a tedious endeavor. I would just compare the epoch time.","body":"Yeah, if the line that is giving the error is the second to last one, then it&#39;s comparing two strings. &quot;&lt;202[0-02-19&#39;T&#39;00:00:]00&gt;&quot; is not the same as &quot;&lt;202[1-11T17:46:46+00]00&gt;&quot;, and making these strings identical is a tedious endeavor. I would just compare the epoch time."},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1636685912,"post_id":69933129,"comment_id":123628760,"body_markdown":"Hi, you&#39;ve posted similar question 2 days ago, what&#39;s the difference? [How Do I overwrite data from a JSONObject using Java?](https://stackoverflow.com/questions/69903850/how-do-i-overwrite-data-from-a-jsonobject-using-java)","body":"Hi, you&#39;ve posted similar question 2 days ago, what&#39;s the difference? <a href=\"https://stackoverflow.com/questions/69903850/how-do-i-overwrite-data-from-a-jsonobject-using-java\">How Do I overwrite data from a JSONObject using Java?</a>"}],"owner":{"account_id":14672424,"reputation":1,"user_id":10596545,"display_name":"Dev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653683492,"creation_date":1636655053,"question_id":69933129,"body_markdown":"In my JSON Array inside of its file, it has an array set that goes as follows: \r\n\r\n```\r\n{\r\n&quot;user_interface_fields&quot; : {\r\n&quot;tip_identifier&quot; : {\r\n&quot;uuid&quot;: &quot;12345678-1234-1234-1234-123456789112&quot;\r\n}\r\n&quot;insert_time&quot; : &quot;2001-01-01T00:00:00Z&quot;\r\n}\r\n```\r\n\r\nAnd now I got this file written in java\r\n```\r\n@Test\r\npublic void testExampleMessageToJson() throws Throwable {\r\nlog.info(&quot;\\n\\nTesting persist service [message to json]?\\n&quot;);\r\n\r\n//Setup\r\nString rawJson = TestUtils.getResourceMessage(&quot;examples/life.json&quot;);\r\nString tip_identifier_uuid = &quot;12345678-1234-1234-1234-123456789112&quot;;\r\n\r\nlog.info(&quot;Raw Json:\\n():&quot;, rawJson); \r\nassertTrue(StringUtils.isNotBlank(rawJson));\r\n\r\n//Test\r\nJSONObject foundObj = persistService.messageToJson(rawJson); \r\n\r\n//Verify\r\nString tip_identifier_time = foundObj.getString(&quot;insert_time&quot;);\r\nString new_time = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;).format(Calendar.getInstance().getTime());\r\nfoundObj.put(new_time, foundObj).getString(&quot;insert_time&quot;);\\\r\nassertNotNull(foundObj);\r\n\r\nString new_uuid = foundObj.getJSONObject(&quot;user_interface_fields&quot;).getJSONObject(&quot;tip_identifier&quot;).getString(&quot;uuid&quot;);\r\nassertEquals(tip_identifier_uuid , new_uuid); \r\nassertEquals(tip_identifier_time, new_time);\r\nlog.info(&quot;\\n\\nTesting persist service [message to json] COMPLETE!\\n&quot;);\r\n}\r\n```\r\n\r\nMy goal is to have life.json&#39;s time to be nearly identical to our current time (so like if it&#39;s 11/11/21 01:30:21.22, insert_time&#39;s data should be around 01:30:21.2234 or whatever and at any time i or any other person runs the code it should be a near match..) \r\n\r\nBut in my failure trace it tells me: \r\n```org.junit.ComparisonFailure: expected:&lt;202[0-02-19&#39;T&#39;00:00:]00&gt; but was:&lt;202[1-11T17:46:46+00]00&gt;``` \r\n\r\nI&#39;m thinking that the logging is messed up because expected should be nearly matched as the current time (as stated in my goal). Since messagetoJson gets the current time and inserts it, when my test pulls out the insert_time it should be a couple of milliseconds behind and so I need to validate that it&#39;s within a second or ~1000 milliseconds. \r\n\r\nBut I don&#39;t know what the heck I should do or where I should go from here in order to fix that.","title":"How to replace a JSON String with Java?","body":"<p>In my JSON Array inside of its file, it has an array set that goes as follows:</p>\n<pre><code>{\n&quot;user_interface_fields&quot; : {\n&quot;tip_identifier&quot; : {\n&quot;uuid&quot;: &quot;12345678-1234-1234-1234-123456789112&quot;\n}\n&quot;insert_time&quot; : &quot;2001-01-01T00:00:00Z&quot;\n}\n</code></pre>\n<p>And now I got this file written in java</p>\n<pre><code>@Test\npublic void testExampleMessageToJson() throws Throwable {\nlog.info(&quot;\\n\\nTesting persist service [message to json]?\\n&quot;);\n\n//Setup\nString rawJson = TestUtils.getResourceMessage(&quot;examples/life.json&quot;);\nString tip_identifier_uuid = &quot;12345678-1234-1234-1234-123456789112&quot;;\n\nlog.info(&quot;Raw Json:\\n():&quot;, rawJson); \nassertTrue(StringUtils.isNotBlank(rawJson));\n\n//Test\nJSONObject foundObj = persistService.messageToJson(rawJson); \n\n//Verify\nString tip_identifier_time = foundObj.getString(&quot;insert_time&quot;);\nString new_time = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;).format(Calendar.getInstance().getTime());\nfoundObj.put(new_time, foundObj).getString(&quot;insert_time&quot;);\\\nassertNotNull(foundObj);\n\nString new_uuid = foundObj.getJSONObject(&quot;user_interface_fields&quot;).getJSONObject(&quot;tip_identifier&quot;).getString(&quot;uuid&quot;);\nassertEquals(tip_identifier_uuid , new_uuid); \nassertEquals(tip_identifier_time, new_time);\nlog.info(&quot;\\n\\nTesting persist service [message to json] COMPLETE!\\n&quot;);\n}\n</code></pre>\n<p>My goal is to have life.json's time to be nearly identical to our current time (so like if it's 11/11/21 01:30:21.22, insert_time's data should be around 01:30:21.2234 or whatever and at any time i or any other person runs the code it should be a near match..)</p>\n<p>But in my failure trace it tells me:\n<code>org.junit.ComparisonFailure: expected:&lt;202[0-02-19'T'00:00:]00&gt; but was:&lt;202[1-11T17:46:46+00]00&gt;</code></p>\n<p>I'm thinking that the logging is messed up because expected should be nearly matched as the current time (as stated in my goal). Since messagetoJson gets the current time and inserts it, when my test pulls out the insert_time it should be a couple of milliseconds behind and so I need to validate that it's within a second or ~1000 milliseconds.</p>\n<p>But I don't know what the heck I should do or where I should go from here in order to fix that.</p>\n"},{"tags":["java","kotlin","collections"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1636655668,"post_id":69933147,"comment_id":123621697,"body_markdown":"Did you mean to check `parameterType.isSupertypeOf(valueType)` instead?","body":"Did you mean to check <code>parameterType.isSupertypeOf(valueType)</code> instead?"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636657098,"creation_date":1636657098,"answer_id":69933531,"question_id":69933147,"body_markdown":"You seem to have written this the other way around:\r\n\r\n    // you can even delete the parameterType == valueType check\r\n    // isSubtypeOf returns true if the types are the same\r\n    return parameterType.isSubtypeOf(valueType)\r\n\r\nThe method call is valid if the type of the value is a subtype of the parameter type, so it should be:\r\n\r\n    return valueType.isSubtypeOf(parameterType)\r\n\r\nHowever, note that this is not safe at all. Since you only know that the value is a `LinkedHashMap&lt;*, *&gt;`, what if the map has `Int`s, `Double`s, or `UUID`s in it? That would still pass the subtype check. Because you used `starProjectedType` on the parameter type, you threw away the `&lt;String, String&gt;` part of the type, and didn&#39;t actually check that the value actually only has strings.\r\n\r\nTo make sure that the collections are compatible, you should also check the collection&#39;s elements:\r\n\r\n```\r\nfun isAssignableToMapStringString(value: Any) =\r\n    if (value is Map&lt;*, *&gt;) {\r\n        value.all { it.value is String &amp;&amp; it.key is String }\r\n    } else {\r\n        false\r\n    }\r\n```\r\n\r\nIt can be quite hard to generalise this to any `KType` though. You&#39;d have to do a lot of reflection to get the elements out of the collection. And you&#39;d have to handle maps and collections separately, since `Map` and `Collection` are unrelated interfaces :(","title":"how to assign java.util.LinkedHashMap&lt;*, *&gt; to kotlin.collections.Map&lt;*, *&gt;","body":"<p>You seem to have written this the other way around:</p>\n<pre><code>// you can even delete the parameterType == valueType check\n// isSubtypeOf returns true if the types are the same\nreturn parameterType.isSubtypeOf(valueType)\n</code></pre>\n<p>The method call is valid if the type of the value is a subtype of the parameter type, so it should be:</p>\n<pre><code>return valueType.isSubtypeOf(parameterType)\n</code></pre>\n<p>However, note that this is not safe at all. Since you only know that the value is a <code>LinkedHashMap&lt;*, *&gt;</code>, what if the map has <code>Int</code>s, <code>Double</code>s, or <code>UUID</code>s in it? That would still pass the subtype check. Because you used <code>starProjectedType</code> on the parameter type, you threw away the <code>&lt;String, String&gt;</code> part of the type, and didn't actually check that the value actually only has strings.</p>\n<p>To make sure that the collections are compatible, you should also check the collection's elements:</p>\n<pre><code>fun isAssignableToMapStringString(value: Any) =\n    if (value is Map&lt;*, *&gt;) {\n        value.all { it.value is String &amp;&amp; it.key is String }\n    } else {\n        false\n    }\n</code></pre>\n<p>It can be quite hard to generalise this to any <code>KType</code> though. You'd have to do a lot of reflection to get the elements out of the collection. And you'd have to handle maps and collections separately, since <code>Map</code> and <code>Collection</code> are unrelated interfaces :(</p>\n"}],"owner":{"account_id":4089780,"reputation":1489,"user_id":3358126,"accept_rate":44,"display_name":"Pavel Niedoba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653683469,"creation_date":1636655106,"question_id":69933147,"body_markdown":"I have declared a method which takes map as parameter:\r\n\r\n```\r\nfun myKotlinMethod(myParameter:Map&lt;String,String&gt;)...\r\n```\r\n\r\nLater I read data from json. I get an object of type: `java.util.LinkedHashMap&lt;*, *&gt;` I need to use reflection to invoke `myKotlinMethod`. Before that, I test if the value is assignable to `myParameter`. I ask parameter type using kotlin reflection and I get `kotlin.collections.Map&lt;*, *&gt;`. \r\n\r\nbottom line is that `java.util.LinkedHashMap&lt;*, *&gt;` does not implement `kotlin.collections.Map&lt;*, *&gt;` (it cannot) and therefore is not assignable. \r\n\r\n\r\nI&#39;m using this method to check assignability\r\n```\r\ninline fun isAssignable(parameterType: KType, valueType: KType): Boolean {\r\n    if (parameterType == valueType) return true\r\n    return parameterType.isSubtypeOf(valueType)\r\n}\r\n```\r\nand I test like\r\n\r\n```\r\nif (isAssignable(parameter.type.classifier!!.starProjectedType, parameterValue::class.starProjectedType))\r\n```\r\n\r\n\r\nI read about some dark magic kotlin does to collection during compile time, but during runtime, java classes should be used. This is not my case since I get kotlin classes in runtime. \r\n\r\nSo, How do I correctly check for collection types compatibility?","title":"how to assign java.util.LinkedHashMap&lt;*, *&gt; to kotlin.collections.Map&lt;*, *&gt;","body":"<p>I have declared a method which takes map as parameter:</p>\n<pre><code>fun myKotlinMethod(myParameter:Map&lt;String,String&gt;)...\n</code></pre>\n<p>Later I read data from json. I get an object of type: <code>java.util.LinkedHashMap&lt;*, *&gt;</code> I need to use reflection to invoke <code>myKotlinMethod</code>. Before that, I test if the value is assignable to <code>myParameter</code>. I ask parameter type using kotlin reflection and I get <code>kotlin.collections.Map&lt;*, *&gt;</code>.</p>\n<p>bottom line is that <code>java.util.LinkedHashMap&lt;*, *&gt;</code> does not implement <code>kotlin.collections.Map&lt;*, *&gt;</code> (it cannot) and therefore is not assignable.</p>\n<p>I'm using this method to check assignability</p>\n<pre><code>inline fun isAssignable(parameterType: KType, valueType: KType): Boolean {\n    if (parameterType == valueType) return true\n    return parameterType.isSubtypeOf(valueType)\n}\n</code></pre>\n<p>and I test like</p>\n<pre><code>if (isAssignable(parameter.type.classifier!!.starProjectedType, parameterValue::class.starProjectedType))\n</code></pre>\n<p>I read about some dark magic kotlin does to collection during compile time, but during runtime, java classes should be used. This is not my case since I get kotlin classes in runtime.</p>\n<p>So, How do I correctly check for collection types compatibility?</p>\n"},{"tags":["java","dropbox-api"],"answers":[{"tags":[],"owner":{"account_id":1370292,"reputation":16504,"user_id":1305693,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636732807,"creation_date":1636732807,"answer_id":69945729,"question_id":69933220,"body_markdown":"To update an existing file for which you have the `Metadata`, you can use the file ID. You can get the file ID using [`FileMetadata.getId`][1], and then pass that value to the `path` parameter of `uploadBuilder` (instead of `e.getPathLower()`).\r\n\r\n\r\n  [1]: http://e.getPathLower()%20https://dropbox.github.io/dropbox-sdk-java/api-docs/v4.0.1/com/dropbox/core/v2/files/FileMetadata.html#getId--","title":"Preserve Case sensitive filename in Dropbox API when updating a file","body":"<p>To update an existing file for which you have the <code>Metadata</code>, you can use the file ID. You can get the file ID using <a href=\"http://e.getPathLower()%20https://dropbox.github.io/dropbox-sdk-java/api-docs/v4.0.1/com/dropbox/core/v2/files/FileMetadata.html#getId--\" rel=\"nofollow noreferrer\"><code>FileMetadata.getId</code></a>, and then pass that value to the <code>path</code> parameter of <code>uploadBuilder</code> (instead of <code>e.getPathLower()</code>).</p>\n"}],"owner":{"account_id":110440,"reputation":11609,"user_id":292233,"accept_rate":65,"display_name":"Philipp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69945729,"answer_count":1,"score":3,"last_activity_date":1653683430,"creation_date":1636655467,"question_id":69933220,"body_markdown":"I am using code like this:\r\n\r\n    Metadata e = ...;\r\n    dbxClient.files().uploadBuilder(e.getPathLower()).withMode(WriteMode.OVERWRITE).uploadAndFinish(...)\r\n\r\nwhich results in losing the case of the filename (e.g. MyFile.txt becomes myfile.txt). This seems obvious as `getPathLower` is returning the lower-case filename. \r\n\r\n`Metadata` has another method `getDisplayName()` returning the cased path:\r\n\r\n     /**\r\n         * The cased path to be used for display purposes only. In rare instances\r\n         * the casing will not correctly match the user&#39;s filesystem, but this\r\n         * behavior will match the path provided in the Core API v1, and at least\r\n         * the last path component will have the correct casing. Changes to only the\r\n         * casing of paths won&#39;t be returned by {@link\r\n         * DbxUserFilesRequests#listFolderContinue(String)}. This field will be null\r\n         * if the file or folder is not mounted.\r\n         *\r\n         * @return value for this field, or {@code null} if not present.\r\n         */\r\n        public String getPathDisplay() {\r\n            return pathDisplay;\r\n        }\r\n\r\nI did not want to use this as it says it&#39;s for display purposes only.\r\n\r\nSo, how can I avoid losing the case of the filename correctly?","title":"Preserve Case sensitive filename in Dropbox API when updating a file","body":"<p>I am using code like this:</p>\n<pre><code>Metadata e = ...;\ndbxClient.files().uploadBuilder(e.getPathLower()).withMode(WriteMode.OVERWRITE).uploadAndFinish(...)\n</code></pre>\n<p>which results in losing the case of the filename (e.g. MyFile.txt becomes myfile.txt). This seems obvious as <code>getPathLower</code> is returning the lower-case filename.</p>\n<p><code>Metadata</code> has another method <code>getDisplayName()</code> returning the cased path:</p>\n<pre><code> /**\n     * The cased path to be used for display purposes only. In rare instances\n     * the casing will not correctly match the user's filesystem, but this\n     * behavior will match the path provided in the Core API v1, and at least\n     * the last path component will have the correct casing. Changes to only the\n     * casing of paths won't be returned by {@link\n     * DbxUserFilesRequests#listFolderContinue(String)}. This field will be null\n     * if the file or folder is not mounted.\n     *\n     * @return value for this field, or {@code null} if not present.\n     */\n    public String getPathDisplay() {\n        return pathDisplay;\n    }\n</code></pre>\n<p>I did not want to use this as it says it's for display purposes only.</p>\n<p>So, how can I avoid losing the case of the filename correctly?</p>\n"},{"tags":["java","android","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":17629258,"reputation":367,"user_id":12793676,"display_name":"vadiole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636679580,"creation_date":1636679580,"answer_id":69936817,"question_id":69933294,"body_markdown":"You should use the layout inside of the HorizontalScrollView instead of adding the image button directly. For example LinearLayout or GridLayout\r\n\r\nThe point is that the scroll view can only have one child, because the scroll view extended FrameLayout\r\n\r\nQuote from the [documentation][1]:\r\n\r\n&gt; Layout container for a view hierarchy that can be scrolled by the user, allowing it to be larger than the physical display. A HorizontalScrollView is a FrameLayout, meaning you should place one child in it containing the entire contents to scroll; this child may itself be a layout manager with a complex hierarchy of objects. A child that is often used is a LinearLayout in a horizontal orientation, presenting a horizontal array of top-level items that the user can scroll through.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/HorizontalScrollView","title":"How can I change the width of an image button in a horizontal scroll view?","body":"<p>You should use the layout inside of the HorizontalScrollView instead of adding the image button directly. For example LinearLayout or GridLayout</p>\n<p>The point is that the scroll view can only have one child, because the scroll view extended FrameLayout</p>\n<p>Quote from the <a href=\"https://developer.android.com/reference/android/widget/HorizontalScrollView\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Layout container for a view hierarchy that can be scrolled by the user, allowing it to be larger than the physical display. A HorizontalScrollView is a FrameLayout, meaning you should place one child in it containing the entire contents to scroll; this child may itself be a layout manager with a complex hierarchy of objects. A child that is often used is a LinearLayout in a horizontal orientation, presenting a horizontal array of top-level items that the user can scroll through.</p>\n</blockquote>\n"}],"owner":{"account_id":16145801,"reputation":113,"user_id":11655588,"display_name":"GlenXoseph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69936817,"answer_count":1,"score":1,"last_activity_date":1653683413,"creation_date":1636655874,"question_id":69933294,"body_markdown":"I&#39;m trying to create a page that looks like the contribution page of GitHub (like each square represents a day, and the transparency of the square represents the number of commits). I want the page to look something like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, I made a horizontal scroll view because I want the section of squares can be scrolled horizontally. And I tried to add the squares into the HSV. Here&#39;s the code:\r\n\r\n\r\n    &lt;HorizontalScrollView\r\n        android:id=&quot;@+id/scrollView&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;295dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginRight=&quot;60dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/time&quot;&gt;\r\n    \r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/imageButton1&quot;\r\n            android:layout_width=&quot;20dp&quot;  &lt;!-- the problem --&gt;\r\n            android:layout_height=&quot;35dp&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            android:background=&quot;@drawable/square&quot; /&gt;\r\n    \r\n    &lt;/HorizontalScrollView&gt;\r\n\r\nThe problem is, I cannot set the layout_width of the image button, no matter what I change it to, the design always remain like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAs you can see, the height is correct, but the width is fixed at a weird place. Is there anyway I can change it?\r\n\r\nAny help would be appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/zUzKh.png\r\n  [2]: https://i.stack.imgur.com/z7zce.png","title":"How can I change the width of an image button in a horizontal scroll view?","body":"<p>I'm trying to create a page that looks like the contribution page of GitHub (like each square represents a day, and the transparency of the square represents the number of commits). I want the page to look something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/zUzKh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zUzKh.png\" alt=\"enter image description here\" /></a></p>\n<p>So, I made a horizontal scroll view because I want the section of squares can be scrolled horizontally. And I tried to add the squares into the HSV. Here's the code:</p>\n<pre><code>&lt;HorizontalScrollView\n    android:id=&quot;@+id/scrollView&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;295dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginRight=&quot;60dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/time&quot;&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/imageButton1&quot;\n        android:layout_width=&quot;20dp&quot;  &lt;!-- the problem --&gt;\n        android:layout_height=&quot;35dp&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:background=&quot;@drawable/square&quot; /&gt;\n\n&lt;/HorizontalScrollView&gt;\n</code></pre>\n<p>The problem is, I cannot set the layout_width of the image button, no matter what I change it to, the design always remain like this:</p>\n<p><a href=\"https://i.stack.imgur.com/z7zce.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z7zce.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, the height is correct, but the width is fixed at a weird place. Is there anyway I can change it?</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","maven","jetty","slf4j","jetty-9"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636660278,"creation_date":1636660278,"answer_id":69934122,"question_id":69933358,"body_markdown":"In Jetty 9.x the configuration ...\r\n\r\n``` properties\r\norg.eclipse.jetty.util.log.class=org.eclipse.jetty.util.log.StdErrLog\r\n```\r\n\r\nWill use the built-in logger for `org.eclipse.jetty.util.log.Logger` based logging events and emit them to `System.err` (aka `STDERR` / Standard Error)\r\n\r\nThis only looks for logging events from the Jetty specific logger facade, nothing else.\r\n\r\nIf you want something more complex you&#39;ll have to setup something like slf4j and logback correctly to capture the logging events from everywhere (eg: `java.util.logging`, `log4j`, `slf4j`, `commons-logging`, etc) and route them to your specific logback appender.\r\n\r\nIn Jetty 10+ the Jetty specific Logging Facade has been dropped in favor of slf4j.  All logging is done via that interface, which gives you immense levels of configuration across a wide variety of logging implementations.","title":"jetty-logging.properties not applying to servlet","body":"<p>In Jetty 9.x the configuration ...</p>\n<pre><code>org.eclipse.jetty.util.log.class=org.eclipse.jetty.util.log.StdErrLog\n</code></pre>\n<p>Will use the built-in logger for <code>org.eclipse.jetty.util.log.Logger</code> based logging events and emit them to <code>System.err</code> (aka <code>STDERR</code> / Standard Error)</p>\n<p>This only looks for logging events from the Jetty specific logger facade, nothing else.</p>\n<p>If you want something more complex you'll have to setup something like slf4j and logback correctly to capture the logging events from everywhere (eg: <code>java.util.logging</code>, <code>log4j</code>, <code>slf4j</code>, <code>commons-logging</code>, etc) and route them to your specific logback appender.</p>\n<p>In Jetty 10+ the Jetty specific Logging Facade has been dropped in favor of slf4j.  All logging is done via that interface, which gives you immense levels of configuration across a wide variety of logging implementations.</p>\n"}],"owner":{"account_id":455897,"reputation":33,"user_id":854352,"accept_rate":25,"display_name":"Mister Mister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":983,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653683390,"creation_date":1636656167,"question_id":69933358,"body_markdown":"I inherited a jetty project with no logging configuration defined, but debugging logs seem to be enabled somehow anyway. When I try to add a `src/main/resources/jetty-logging.properties` file with this configuration, nothing seems to change.\r\n```\r\norg.eclipse.jetty.util.log.class=org.eclipse.jetty.util.log.StdErrLog\r\norg.eclipse.jetty.LEVEL=INFO\r\nca.uhn.fhir.context.LEVEL=INFO //3rd party library causing DEBUG logs\r\n```\r\n\r\nWhen I start the service locally using the maven plugin for jetty\r\n```mvn -Djetty.http.port=8080 jetty:run```\r\n\r\nI can see logs which indicate a default jetty logging package of org.eclipse.jetty.util.log.Slf4jLog\r\n```\r\n[INFO] Logging initialized @11194ms to org.eclipse.jetty.util.log.Slf4jLog\r\n[INFO] Context path = /\r\n[INFO] Tmp directory = ${LocalPath}\\eclipse-workspace\\cql-execution-service\\target\\tmp\r\n[INFO] Web defaults = org/eclipse/jetty/webapp/webdefault.xml\r\n[INFO] Web overrides =  none\r\n[INFO] web.xml file = file:///${LocalPath}/cql-execution-service/src/main/webapp/WEB-INF/web.xml\r\n[INFO] Webapp directory = ${LocalPath}\\src\\main\\webapp\r\n[INFO] jetty-9.4.7.v20170914\r\n[INFO] Scanning elapsed time=15583ms\r\n[INFO] DefaultSessionIdManager workerName=node0\r\n[INFO] No SessionScavenger set, using defaults\r\n[INFO] Scavenging every 660000ms\r\n[INFO] Started o.e.j.m.p.JettyWebAppContext@2b148329{/,file:///${LocalPath}/cql-execution-service/src/main/webapp/,AVAILABLE}{file:///${LocalPath}/cql-execution-service/src/main/webapp/}\r\n[INFO] Started ServerConnector@69f69078{HTTP/1.1,[http/1.1]}{0.0.0.0:8080}\r\n[INFO] Started @32649ms\r\n[INFO] Started Jetty Server\r\n```\r\n\r\nThis is my web.xml file:\r\n```\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;\r\n    version=&quot;2.4&quot;&gt;\r\n\r\n  &lt;display-name&gt;CqlExecSvc&lt;/display-name&gt;\r\n\r\n  &lt;filter&gt;\r\n   &lt;filter-name&gt;cross-origin&lt;/filter-name&gt;\r\n   &lt;filter-class&gt;org.eclipse.jetty.servlets.CrossOriginFilter&lt;/filter-class&gt;\r\n  &lt;/filter&gt; \r\n  &lt;filter-mapping&gt;\r\n   &lt;filter-name&gt;cross-origin&lt;/filter-name&gt;\r\n   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n  &lt;/filter-mapping&gt;\r\n\r\n  &lt;servlet&gt;\r\n   &lt;servlet-name&gt;CqlEngine&lt;/servlet-name&gt;\r\n   &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n     &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n     &lt;param-value&gt;org.opencds.cqf.cql.execution&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n  &lt;/servlet&gt;\r\n\r\n  &lt;servlet-mapping&gt;\r\n   &lt;servlet-name&gt;CqlEngine&lt;/servlet-name&gt;\r\n   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\nHowever, in my logs, I can see a lot of debugging statements from the 3rd party package, and I cannot find any other logging configuration. Any ideas as to what to check for next?","title":"jetty-logging.properties not applying to servlet","body":"<p>I inherited a jetty project with no logging configuration defined, but debugging logs seem to be enabled somehow anyway. When I try to add a <code>src/main/resources/jetty-logging.properties</code> file with this configuration, nothing seems to change.</p>\n<pre><code>org.eclipse.jetty.util.log.class=org.eclipse.jetty.util.log.StdErrLog\norg.eclipse.jetty.LEVEL=INFO\nca.uhn.fhir.context.LEVEL=INFO //3rd party library causing DEBUG logs\n</code></pre>\n<p>When I start the service locally using the maven plugin for jetty\n<code>mvn -Djetty.http.port=8080 jetty:run</code></p>\n<p>I can see logs which indicate a default jetty logging package of org.eclipse.jetty.util.log.Slf4jLog</p>\n<pre><code>[INFO] Logging initialized @11194ms to org.eclipse.jetty.util.log.Slf4jLog\n[INFO] Context path = /\n[INFO] Tmp directory = ${LocalPath}\\eclipse-workspace\\cql-execution-service\\target\\tmp\n[INFO] Web defaults = org/eclipse/jetty/webapp/webdefault.xml\n[INFO] Web overrides =  none\n[INFO] web.xml file = file:///${LocalPath}/cql-execution-service/src/main/webapp/WEB-INF/web.xml\n[INFO] Webapp directory = ${LocalPath}\\src\\main\\webapp\n[INFO] jetty-9.4.7.v20170914\n[INFO] Scanning elapsed time=15583ms\n[INFO] DefaultSessionIdManager workerName=node0\n[INFO] No SessionScavenger set, using defaults\n[INFO] Scavenging every 660000ms\n[INFO] Started o.e.j.m.p.JettyWebAppContext@2b148329{/,file:///${LocalPath}/cql-execution-service/src/main/webapp/,AVAILABLE}{file:///${LocalPath}/cql-execution-service/src/main/webapp/}\n[INFO] Started ServerConnector@69f69078{HTTP/1.1,[http/1.1]}{0.0.0.0:8080}\n[INFO] Started @32649ms\n[INFO] Started Jetty Server\n</code></pre>\n<p>This is my web.xml file:</p>\n<pre><code>&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;\n    version=&quot;2.4&quot;&gt;\n\n  &lt;display-name&gt;CqlExecSvc&lt;/display-name&gt;\n\n  &lt;filter&gt;\n   &lt;filter-name&gt;cross-origin&lt;/filter-name&gt;\n   &lt;filter-class&gt;org.eclipse.jetty.servlets.CrossOriginFilter&lt;/filter-class&gt;\n  &lt;/filter&gt; \n  &lt;filter-mapping&gt;\n   &lt;filter-name&gt;cross-origin&lt;/filter-name&gt;\n   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n  &lt;/filter-mapping&gt;\n\n  &lt;servlet&gt;\n   &lt;servlet-name&gt;CqlEngine&lt;/servlet-name&gt;\n   &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n     &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n     &lt;param-value&gt;org.opencds.cqf.cql.execution&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n   &lt;servlet-name&gt;CqlEngine&lt;/servlet-name&gt;\n   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>However, in my logs, I can see a lot of debugging statements from the 3rd party package, and I cannot find any other logging configuration. Any ideas as to what to check for next?</p>\n"},{"tags":["java","json","jackson","gson"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1636656839,"post_id":69933433,"comment_id":123622085,"body_markdown":"Do you have any setters in `Profile`?","body":"Do you have any setters in <code>Profile</code>?"},{"owner":{"account_id":6089074,"reputation":63,"user_id":8324957,"display_name":"slick"},"score":0,"creation_date":1636656928,"post_id":69933433,"comment_id":123622112,"body_markdown":"@Jo&#227;oDias Yeah, I do have the standard getters and setters .","body":"@Jo&#227;oDias Yeah, I do have the standard getters and setters ."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636657345,"creation_date":1636657345,"answer_id":69933568,"question_id":69933433,"body_markdown":"The issue is your model. You don&#39;t need `Match` because `profiles` does not really exist in your JSON. You just `json` (this one with small changes) and `Profile`:\r\n```java\r\nclass json{\r\n    String id;\r\n    Map&lt;String,Profile&gt; match;\r\n}\r\n```\r\n\r\nThis will work.","title":"How to deserialize json to nested custom map via gson?","body":"<p>The issue is your model. You don't need <code>Match</code> because <code>profiles</code> does not really exist in your JSON. You just <code>json</code> (this one with small changes) and <code>Profile</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class json{\n    String id;\n    Map&lt;String,Profile&gt; match;\n}\n</code></pre>\n<p>This will work.</p>\n"}],"owner":{"account_id":6089074,"reputation":63,"user_id":8324957,"display_name":"slick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69933568,"answer_count":1,"score":0,"last_activity_date":1653683347,"creation_date":1636656560,"question_id":69933433,"body_markdown":"I have the following json\r\n```\r\n{\r\n  &quot;id&quot;: &quot;1111&quot;,\r\n  &quot;match&quot;: {\r\n    &quot;username1&quot;: {\r\n      &quot;id&quot;: &quot;1234&quot;,\r\n      &quot;name&quot;: &quot;alex&quot;\r\n    },\r\n    &quot;username2&quot;: {\r\n      &quot;id&quot;: &quot;5678&quot;,\r\n      &quot;name&quot;: &quot;munch&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nTo deserialize it, I have the following data model class.\r\n\r\n```\r\nclass json{\r\n\tString id;\r\n\tMatch match;\r\n}\r\n\r\nclass Match {  \r\n  private Map&lt;String,Profile&gt; profiles  \r\n}\r\n\r\nclass Profile{\r\n\tprivate String id;\r\n\tprivate String name;\r\n}\r\n```\r\nI am not getting any deserialization error when I am using gson but the \r\n```profiles``` variable is coming as null.\r\nThis is how I am deserializing. \r\n``` var json = gson.fromJson(data,json.class)```\r\n\r\ninside the ```match``` object there can be a dynamic number of usernames not just two . Why am I getting ```profile``` object as null and how can I correctly populate it?\r\n\r\nMaking changes to json is the last resort here. I can make any other required changes. ","title":"How to deserialize json to nested custom map via gson?","body":"<p>I have the following json</p>\n<pre><code>{\n  &quot;id&quot;: &quot;1111&quot;,\n  &quot;match&quot;: {\n    &quot;username1&quot;: {\n      &quot;id&quot;: &quot;1234&quot;,\n      &quot;name&quot;: &quot;alex&quot;\n    },\n    &quot;username2&quot;: {\n      &quot;id&quot;: &quot;5678&quot;,\n      &quot;name&quot;: &quot;munch&quot;\n    }\n  }\n}\n</code></pre>\n<p>To deserialize it, I have the following data model class.</p>\n<pre><code>class json{\n    String id;\n    Match match;\n}\n\nclass Match {  \n  private Map&lt;String,Profile&gt; profiles  \n}\n\nclass Profile{\n    private String id;\n    private String name;\n}\n</code></pre>\n<p>I am not getting any deserialization error when I am using gson but the\n<code>profiles</code> variable is coming as null.\nThis is how I am deserializing.\n<code> var json = gson.fromJson(data,json.class)</code></p>\n<p>inside the <code>match</code> object there can be a dynamic number of usernames not just two . Why am I getting <code>profile</code> object as null and how can I correctly populate it?</p>\n<p>Making changes to json is the last resort here. I can make any other required changes.</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":23309102,"reputation":1,"user_id":17388625,"display_name":"Brian Leierzapf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636698460,"creation_date":1636698460,"answer_id":69938756,"question_id":69933472,"body_markdown":"Solution found. - https://medium.com/@bhagyajayashani/composite-key-handling-using-idclass-annotation-in-spring-boot-java-26f40bbd38a2  &lt;br/&gt;\r\n\r\nChanged from using @embeddedId to using @classId. Then created a separate join object, and created join based off individual variables not the embeddedId.\r\n\r\n```\r\n@Embeddable\r\npublic class AnnualServiceHistoryPK implements Serializable {\r\n\r\n    Integer year;\r\n    String month;\r\n    String route;\r\n\r\n    public AnnualServiceHistoryPK() {\r\n    }\r\n```\r\n\r\n\r\n```\r\n@Entity(name = &quot;AnnualServiceHistory&quot;)\r\n@Table(name = &quot;annual_service_history&quot;)\r\n@IdClass(AnnualServiceHistoryPK.class)\r\npublic class AnnualServiceHistory extends Auditable&lt;String&gt; implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;year&quot;, columnDefinition = &quot;int(4)&quot;)\r\n    Integer year;\r\n\r\n    @Id\r\n    @Column(name = &quot;month&quot;, columnDefinition = &quot;char(3)&quot;)\r\n    String month;\r\n\r\n    @Id\r\n    @Column(name = &quot;route&quot;, columnDefinition = &quot;varchar(32)&quot;)\r\n    String route;\r\n\r\n... other variables ...\r\n\r\n    @OneToMany(mappedBy = &quot;annualServiceHistory&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    Set&lt;AnnualServiceHistoryNonMachine&gt; annualServiceHistoryNonMachineList;\r\n\r\n```\r\n\r\n```\r\n@Embeddable\r\npublic class AnnualServiceHistoryNonMachinePK implements Serializable {\r\n\r\n    Integer year;\r\n    String month;\r\n    String route;\r\n    ToyInventory toyInventory;\r\n\r\n    public AnnualServiceHistoryNonMachinePK() {\r\n    }\r\n```\r\n\r\n```\r\n@Entity(name = &quot;AnnualServiceHistoryNonMachine&quot;)\r\n@Table(name = &quot;annual_service_history_non_machine&quot;)\r\n@IdClass(AnnualServiceHistoryNonMachinePK.class)\r\npublic class AnnualServiceHistoryNonMachine extends Auditable&lt;String&gt; implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;year&quot;, columnDefinition = &quot;int(4)&quot;)\r\n    Integer year;\r\n\r\n    @Id\r\n    @Column(name = &quot;month&quot;, columnDefinition = &quot;char(3)&quot;)\r\n    String month;\r\n\r\n    @Id\r\n    @Column(name = &quot;route&quot;, columnDefinition = &quot;varchar(32)&quot;)\r\n    String route;\r\n\r\n... other variables ...\r\n\r\n    @ManyToOne\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;year&quot;, referencedColumnName = &quot;year&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;month&quot;, referencedColumnName = &quot;month&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;route&quot;, referencedColumnName = &quot;route&quot;, insertable = false, updatable = false)\r\n    })\r\n    @JsonIgnore\r\n    private AnnualServiceHistory annualServiceHistory;\r\n```","title":"Java Spring: ManytoOne EmbeddedId in child class with additional Id - getting null error on child specific PK","body":"<p>Solution found. - <a href=\"https://medium.com/@bhagyajayashani/composite-key-handling-using-idclass-annotation-in-spring-boot-java-26f40bbd38a2\" rel=\"nofollow noreferrer\">https://medium.com/@bhagyajayashani/composite-key-handling-using-idclass-annotation-in-spring-boot-java-26f40bbd38a2</a>  <br/></p>\n<p>Changed from using @embeddedId to using @classId. Then created a separate join object, and created join based off individual variables not the embeddedId.</p>\n<pre><code>@Embeddable\npublic class AnnualServiceHistoryPK implements Serializable {\n\n    Integer year;\n    String month;\n    String route;\n\n    public AnnualServiceHistoryPK() {\n    }\n</code></pre>\n<pre><code>@Entity(name = &quot;AnnualServiceHistory&quot;)\n@Table(name = &quot;annual_service_history&quot;)\n@IdClass(AnnualServiceHistoryPK.class)\npublic class AnnualServiceHistory extends Auditable&lt;String&gt; implements Serializable {\n\n    @Id\n    @Column(name = &quot;year&quot;, columnDefinition = &quot;int(4)&quot;)\n    Integer year;\n\n    @Id\n    @Column(name = &quot;month&quot;, columnDefinition = &quot;char(3)&quot;)\n    String month;\n\n    @Id\n    @Column(name = &quot;route&quot;, columnDefinition = &quot;varchar(32)&quot;)\n    String route;\n\n... other variables ...\n\n    @OneToMany(mappedBy = &quot;annualServiceHistory&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    Set&lt;AnnualServiceHistoryNonMachine&gt; annualServiceHistoryNonMachineList;\n\n</code></pre>\n<pre><code>@Embeddable\npublic class AnnualServiceHistoryNonMachinePK implements Serializable {\n\n    Integer year;\n    String month;\n    String route;\n    ToyInventory toyInventory;\n\n    public AnnualServiceHistoryNonMachinePK() {\n    }\n</code></pre>\n<pre><code>@Entity(name = &quot;AnnualServiceHistoryNonMachine&quot;)\n@Table(name = &quot;annual_service_history_non_machine&quot;)\n@IdClass(AnnualServiceHistoryNonMachinePK.class)\npublic class AnnualServiceHistoryNonMachine extends Auditable&lt;String&gt; implements Serializable {\n\n    @Id\n    @Column(name = &quot;year&quot;, columnDefinition = &quot;int(4)&quot;)\n    Integer year;\n\n    @Id\n    @Column(name = &quot;month&quot;, columnDefinition = &quot;char(3)&quot;)\n    String month;\n\n    @Id\n    @Column(name = &quot;route&quot;, columnDefinition = &quot;varchar(32)&quot;)\n    String route;\n\n... other variables ...\n\n    @ManyToOne\n    @JoinColumns({\n            @JoinColumn(name = &quot;year&quot;, referencedColumnName = &quot;year&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;month&quot;, referencedColumnName = &quot;month&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;route&quot;, referencedColumnName = &quot;route&quot;, insertable = false, updatable = false)\n    })\n    @JsonIgnore\n    private AnnualServiceHistory annualServiceHistory;\n</code></pre>\n"}],"owner":{"account_id":23309102,"reputation":1,"user_id":17388625,"display_name":"Brian Leierzapf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653683292,"creation_date":1636656804,"question_id":69933472,"body_markdown":"I was able to get this ManyToOne relationship with a composite pk working for GET requests but I am having issues with saving new entries.\r\n\r\nI have a parent entity with an embedded id.\r\n\r\n    @Embeddable\r\n    public class AnnualServiceHistoryPK implements Serializable {\r\n    \r\n        @Column(name = &quot;year&quot;, columnDefinition = &quot;int(4)&quot;)\r\n        Integer year;\r\n        @Column(name = &quot;month&quot;, columnDefinition = &quot;char(3)&quot;)\r\n        String month;\r\n        @Column(name = &quot;route&quot;, columnDefinition = &quot;varchar(32)&quot;)\r\n        String route;\r\n\r\nThis is placed in the parent entity:\r\n\r\n    @Entity(name = &quot;AnnualServiceHistory&quot;)\r\n    @Table(name = &quot;annual_service_history&quot;)\r\n    public class AnnualServiceHistory extends Auditable&lt;String&gt; implements Serializable \r\n    { \r\n    @EmbeddedId\r\n    AnnualServiceHistoryPK annualServiceHistoryPK;\r\n    \r\n    ... other variables\r\n    \r\n        @OneToMany(mappedBy = &quot;annualServiceHistory&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n        List&lt;AnnualServiceHistoryNonMachine&gt; annualServiceHistoryNonMachineList;\r\n\r\nI have the child entity which maps the embedded id from the parent and adds and additional local PK.\r\n\r\n    public class AnnualServiceHistoryNonMachine extends Auditable&lt;String&gt; implements Serializable {\r\n    \r\n        @Id\r\n        @MapsId\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;year&quot;, referencedColumnName = &quot;year&quot;)\r\n        @JoinColumn(name = &quot;month&quot;, referencedColumnName = &quot;month&quot;)\r\n        @JoinColumn(name = &quot;route&quot;, referencedColumnName = &quot;route&quot;)\r\n        private AnnualServiceHistory annualServiceHistory;\r\n    \r\n        @Id\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;toy_inventory&quot;, referencedColumnName = &quot;id&quot;)\r\n        ToyInventory toyInventory;\r\n\r\n    ... other variables\r\n\r\nMy issue is, when I save the parent with a list of children for some reason during the cascading processes, when it is generating the child key it is only creating the key from the MapsId parts and complains that the toyInventory key is null. I&#39;m not sure why it loses this ID because prior to performing the repository save the child class has the toyInventory key in the object.\r\n\r\nThis is the error I am receiving: \r\n&quot;java.sql.SQLIntegrityConstraintViolationException: Column &#39;toy_inventory&#39; cannot be null&quot; ","title":"Java Spring: ManytoOne EmbeddedId in child class with additional Id - getting null error on child specific PK","body":"<p>I was able to get this ManyToOne relationship with a composite pk working for GET requests but I am having issues with saving new entries.</p>\n<p>I have a parent entity with an embedded id.</p>\n<pre><code>@Embeddable\npublic class AnnualServiceHistoryPK implements Serializable {\n\n    @Column(name = &quot;year&quot;, columnDefinition = &quot;int(4)&quot;)\n    Integer year;\n    @Column(name = &quot;month&quot;, columnDefinition = &quot;char(3)&quot;)\n    String month;\n    @Column(name = &quot;route&quot;, columnDefinition = &quot;varchar(32)&quot;)\n    String route;\n</code></pre>\n<p>This is placed in the parent entity:</p>\n<pre><code>@Entity(name = &quot;AnnualServiceHistory&quot;)\n@Table(name = &quot;annual_service_history&quot;)\npublic class AnnualServiceHistory extends Auditable&lt;String&gt; implements Serializable \n{ \n@EmbeddedId\nAnnualServiceHistoryPK annualServiceHistoryPK;\n\n... other variables\n\n    @OneToMany(mappedBy = &quot;annualServiceHistory&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    List&lt;AnnualServiceHistoryNonMachine&gt; annualServiceHistoryNonMachineList;\n</code></pre>\n<p>I have the child entity which maps the embedded id from the parent and adds and additional local PK.</p>\n<pre><code>public class AnnualServiceHistoryNonMachine extends Auditable&lt;String&gt; implements Serializable {\n\n    @Id\n    @MapsId\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;year&quot;, referencedColumnName = &quot;year&quot;)\n    @JoinColumn(name = &quot;month&quot;, referencedColumnName = &quot;month&quot;)\n    @JoinColumn(name = &quot;route&quot;, referencedColumnName = &quot;route&quot;)\n    private AnnualServiceHistory annualServiceHistory;\n\n    @Id\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;toy_inventory&quot;, referencedColumnName = &quot;id&quot;)\n    ToyInventory toyInventory;\n\n... other variables\n</code></pre>\n<p>My issue is, when I save the parent with a list of children for some reason during the cascading processes, when it is generating the child key it is only creating the key from the MapsId parts and complains that the toyInventory key is null. I'm not sure why it loses this ID because prior to performing the repository save the child class has the toyInventory key in the object.</p>\n<p>This is the error I am receiving:\n&quot;java.sql.SQLIntegrityConstraintViolationException: Column 'toy_inventory' cannot be null&quot;</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636657527,"creation_date":1636657527,"answer_id":69933599,"question_id":69933556,"body_markdown":"The expression you used contains `[]` which matches on the range of characters inbetween. Just use something like:\r\n\r\n    System.out.println(s.replaceAll(&quot;@(class|id)::&quot;,&quot;&quot;));\r\n\r\n","title":"How to remove more than one match in Java using replaceAll()?","body":"<p>The expression you used contains <code>[]</code> which matches on the range of characters inbetween. Just use something like:</p>\n<pre><code>System.out.println(s.replaceAll(&quot;@(class|id)::&quot;,&quot;&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636657534,"creation_date":1636657534,"answer_id":69933600,"question_id":69933556,"body_markdown":"`String#replaceAll` accepts a regular expression, and you&#39;re passing it a character class of substrings you&#39;re looking to replace, which isn&#39;t correct.\r\n\r\nInstead, you could change the regular expression to look specifically for the substrings:\r\n\r\n    System.out.println(s.replaceAll(&quot;@class::|@id::&quot;,&quot;&quot;));\r\n\r\nThis results in the following output:\r\n\r\n    menu-select calibration-content\r\n\r\nKeep in mind that there are more efficient methods of removing substrings from a `String` than regex.","title":"How to remove more than one match in Java using replaceAll()?","body":"<p><code>String#replaceAll</code> accepts a regular expression, and you're passing it a character class of substrings you're looking to replace, which isn't correct.</p>\n<p>Instead, you could change the regular expression to look specifically for the substrings:</p>\n<pre><code>System.out.println(s.replaceAll(&quot;@class::|@id::&quot;,&quot;&quot;));\n</code></pre>\n<p>This results in the following output:</p>\n<pre><code>menu-select calibration-content\n</code></pre>\n<p>Keep in mind that there are more efficient methods of removing substrings from a <code>String</code> than regex.</p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636657845,"creation_date":1636657845,"answer_id":69933652,"question_id":69933556,"body_markdown":"This code should work\r\n```\r\npublic static void main(String[] args) {\r\n\tString s= &quot;@class::menu-select @id::calibration-content&quot;;\r\n\tSystem.out.println(s.replaceAll(&quot;@class::|@id::&quot;, &quot;&quot;));\r\n}\r\n```\r\nIt prints\r\n```\r\nmenu-select calibration-content\r\n```","title":"How to remove more than one match in Java using replaceAll()?","body":"<p>This code should work</p>\n<pre><code>public static void main(String[] args) {\n    String s= &quot;@class::menu-select @id::calibration-content&quot;;\n    System.out.println(s.replaceAll(&quot;@class::|@id::&quot;, &quot;&quot;));\n}\n</code></pre>\n<p>It prints</p>\n<pre><code>menu-select calibration-content\n</code></pre>\n"}],"owner":{"account_id":13683403,"reputation":93,"user_id":14000375,"display_name":"Andres Acosta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69933600,"answer_count":3,"score":1,"last_activity_date":1653683246,"creation_date":1636657227,"question_id":69933556,"body_markdown":"Hi there I am trying to remove two or more words in a String with the replaceAll method in Java\r\nbut I am not good in regex at all and I have not been able to do it.\r\nSo, here is the code:\r\n\r\n        public static void main(String[] args) {\r\n        String s= &quot;@class::menu-select @id::calibration-content&quot;;\r\n        System.out.println(s.replaceAll(&quot;[(@class::)(@id::)]&quot;,&quot;&quot;));\r\n    }\r\nBut when I run this what I get is the following text **menu-eet brton-ontent** \r\nBy the way the words I am trying to remove are *@class::* and *@id::* \r\nDoes anyone know how to do this? Thanks in advance! ","title":"How to remove more than one match in Java using replaceAll()?","body":"<p>Hi there I am trying to remove two or more words in a String with the replaceAll method in Java\nbut I am not good in regex at all and I have not been able to do it.\nSo, here is the code:</p>\n<pre><code>    public static void main(String[] args) {\n    String s= &quot;@class::menu-select @id::calibration-content&quot;;\n    System.out.println(s.replaceAll(&quot;[(@class::)(@id::)]&quot;,&quot;&quot;));\n}\n</code></pre>\n<p>But when I run this what I get is the following text <strong>menu-eet brton-ontent</strong>\nBy the way the words I am trying to remove are <em>@class::</em> and <em>@id::</em>\nDoes anyone know how to do this? Thanks in advance!</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-jpa","aggregation-framework"],"answers":[{"tags":[],"owner":{"account_id":6282042,"reputation":8454,"user_id":4882692,"display_name":"Takis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647561604,"creation_date":1636661620,"answer_id":69934374,"question_id":69933707,"body_markdown":"Query\r\n- map `paymentTypes` \r\n- if `paymentType= PILOT`, filter the limits to keep only the combat hours\r\n- else `null` (we don&#39;t want that paymentType)\r\n- remove the null values (those null were paymentTypes that weren&#39;t of type PILOT)\r\n\r\n*this can cause empty arrays, either on paymentTypes or on limits,if you dont accept empty arrays, you can match and remove the documents with those empty arrays \r\n\r\n[PlayMongo](https://cmql.org/playmongo/?q=6228b275c2de7b441c4b49df)\r\n\r\n```javascript\r\naggregate(\r\n[{&quot;$addFields&quot;: \r\n    {&quot;paymentTypes&quot;: \r\n      {&quot;$map&quot;: \r\n        {&quot;input&quot;: &quot;$paymentTypes&quot;,\r\n          &quot;in&quot;: \r\n          {&quot;$cond&quot;: \r\n            [{&quot;$eq&quot;: [&quot;$$ptype.type&quot;, &quot;PILOT&quot;]},\r\n              {&quot;$mergeObjects&quot;: \r\n                [&quot;$$ptype&quot;,\r\n                  {&quot;limits&quot;: \r\n                    {&quot;$filter&quot;: \r\n                      {&quot;input&quot;: &quot;$$ptype.limits&quot;,\r\n                        &quot;cond&quot;: {&quot;$eq&quot;: [&quot;$$this.type&quot;, &quot;COMBAT_HOURS&quot;]}}}}]},\r\n              null]},\r\n          &quot;as&quot;: &quot;ptype&quot;}}}},\r\n  {&quot;$addFields&quot;: \r\n    {&quot;paymentTypes&quot;: \r\n      {&quot;$filter&quot;: \r\n        {&quot;input&quot;: &quot;$paymentTypes&quot;, &quot;cond&quot;: {&quot;$ne&quot;: [&quot;$$this&quot;, null]}}}}}])\r\n```","title":"MongoDB Extract document","body":"<p>Query</p>\n<ul>\n<li>map <code>paymentTypes</code></li>\n<li>if <code>paymentType= PILOT</code>, filter the limits to keep only the combat hours</li>\n<li>else <code>null</code> (we don't want that paymentType)</li>\n<li>remove the null values (those null were paymentTypes that weren't of type PILOT)</li>\n</ul>\n<p>*this can cause empty arrays, either on paymentTypes or on limits,if you dont accept empty arrays, you can match and remove the documents with those empty arrays</p>\n<p><a href=\"https://cmql.org/playmongo/?q=6228b275c2de7b441c4b49df\" rel=\"nofollow noreferrer\">PlayMongo</a></p>\n<pre class=\"lang-js prettyprint-override\"><code>aggregate(\n[{&quot;$addFields&quot;: \n    {&quot;paymentTypes&quot;: \n      {&quot;$map&quot;: \n        {&quot;input&quot;: &quot;$paymentTypes&quot;,\n          &quot;in&quot;: \n          {&quot;$cond&quot;: \n            [{&quot;$eq&quot;: [&quot;$$ptype.type&quot;, &quot;PILOT&quot;]},\n              {&quot;$mergeObjects&quot;: \n                [&quot;$$ptype&quot;,\n                  {&quot;limits&quot;: \n                    {&quot;$filter&quot;: \n                      {&quot;input&quot;: &quot;$$ptype.limits&quot;,\n                        &quot;cond&quot;: {&quot;$eq&quot;: [&quot;$$this.type&quot;, &quot;COMBAT_HOURS&quot;]}}}}]},\n              null]},\n          &quot;as&quot;: &quot;ptype&quot;}}}},\n  {&quot;$addFields&quot;: \n    {&quot;paymentTypes&quot;: \n      {&quot;$filter&quot;: \n        {&quot;input&quot;: &quot;$paymentTypes&quot;, &quot;cond&quot;: {&quot;$ne&quot;: [&quot;$$this&quot;, null]}}}}}])\n</code></pre>\n"}],"owner":{"account_id":22620452,"reputation":77,"user_id":16799342,"display_name":"Patrick Teixeira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69934374,"answer_count":1,"score":0,"last_activity_date":1653683211,"creation_date":1636658167,"question_id":69933707,"body_markdown":"I have this Json:\r\n\r\n    {\r\n    \t&quot;_id&quot;: {\r\n    \t\t&quot;$oid&quot;: &quot;613a55dccXXXXXXX28b5ba3a1&quot;\r\n    \t},\r\n    \t&quot;user&quot;: &quot;CHEWBACCA&quot;,\r\n    \t&quot;paymentTypes&quot;: [{\r\n    \t\t\t&quot;type&quot;: &quot;PILOT&quot;,\r\n    \t\t\t&quot;limits&quot;: [{\r\n    \t\t\t\t\t&quot;type&quot;: &quot;FLIGHT_HOURS&quot;,\r\n    \t\t\t\t\t&quot;amount&quot;: 10\r\n    \t\t\t\t},\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;type&quot;: &quot;COMBAT_HOURS&quot;,\r\n    \t\t\t\t\t&quot;amount&quot;: 80000\r\n    \t\t\t\t},\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;type&quot;: &quot;TRAINING_HOURS&quot;,\r\n    \t\t\t\t\t&quot;amount&quot;: 80000\r\n    \t\t\t\t}\r\n    \t\t\t]\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;type&quot;: &quot;WARRIOR&quot;,\r\n    \t\t\t&quot;limits&quot;: [{\r\n    \t\t\t\t\t&quot;type&quot;: &quot;FLIGHT_HOURS&quot;,\r\n    \t\t\t\t\t&quot;amount&quot;: 22\r\n    \t\t\t\t},\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;type&quot;: &quot;COMBAT_HOURS&quot;,\r\n    \t\t\t\t\t&quot;amount&quot;: 123\r\n    \t\t\t\t},\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;type&quot;: &quot;TRAINING_HOURS&quot;,\r\n    \t\t\t\t\t&quot;amount&quot;: 456\r\n    \t\t\t\t}\r\n    \t\t\t]\r\n    \t\t}\r\n    \t],\r\n    \t&quot;createdDate&quot;: &quot;2021-11-11&quot;\r\n    }\r\n\r\nI would like to filter exclusive for paymentType.type equals &quot;PILOT&quot; and limits equals type equals &quot;COMBAT_HOURS&quot;.\r\n\r\nThis is the result I would like to receive.\r\n\r\n    {\r\n    \t&quot;_id&quot;: {\r\n    \t\t&quot;$oid&quot;: &quot;613a55dccXXXXXXX28b5ba3a1&quot;\r\n    \t},\r\n    \t&quot;user&quot;: &quot;CHEWBACCA&quot;,\r\n    \t&quot;paymentTypes&quot;: [{\r\n    \t\t&quot;type&quot;: &quot;PILOT&quot;,\r\n    \t\t&quot;limits&quot;: [{\r\n    \t\t\t&quot;type&quot;: &quot;COMBAT_HOURS&quot;,\r\n    \t\t\t&quot;amount&quot;: 80000\r\n    \t\t}]\r\n    \t}],\r\n    \t&quot;createdDate&quot;: &quot;2021-11-11&quot;\r\n    }\r\n\r\nHow to extract the document to reach this result?","title":"MongoDB Extract document","body":"<p>I have this Json:</p>\n<pre><code>{\n    &quot;_id&quot;: {\n        &quot;$oid&quot;: &quot;613a55dccXXXXXXX28b5ba3a1&quot;\n    },\n    &quot;user&quot;: &quot;CHEWBACCA&quot;,\n    &quot;paymentTypes&quot;: [{\n            &quot;type&quot;: &quot;PILOT&quot;,\n            &quot;limits&quot;: [{\n                    &quot;type&quot;: &quot;FLIGHT_HOURS&quot;,\n                    &quot;amount&quot;: 10\n                },\n                {\n                    &quot;type&quot;: &quot;COMBAT_HOURS&quot;,\n                    &quot;amount&quot;: 80000\n                },\n                {\n                    &quot;type&quot;: &quot;TRAINING_HOURS&quot;,\n                    &quot;amount&quot;: 80000\n                }\n            ]\n        },\n        {\n            &quot;type&quot;: &quot;WARRIOR&quot;,\n            &quot;limits&quot;: [{\n                    &quot;type&quot;: &quot;FLIGHT_HOURS&quot;,\n                    &quot;amount&quot;: 22\n                },\n                {\n                    &quot;type&quot;: &quot;COMBAT_HOURS&quot;,\n                    &quot;amount&quot;: 123\n                },\n                {\n                    &quot;type&quot;: &quot;TRAINING_HOURS&quot;,\n                    &quot;amount&quot;: 456\n                }\n            ]\n        }\n    ],\n    &quot;createdDate&quot;: &quot;2021-11-11&quot;\n}\n</code></pre>\n<p>I would like to filter exclusive for paymentType.type equals &quot;PILOT&quot; and limits equals type equals &quot;COMBAT_HOURS&quot;.</p>\n<p>This is the result I would like to receive.</p>\n<pre><code>{\n    &quot;_id&quot;: {\n        &quot;$oid&quot;: &quot;613a55dccXXXXXXX28b5ba3a1&quot;\n    },\n    &quot;user&quot;: &quot;CHEWBACCA&quot;,\n    &quot;paymentTypes&quot;: [{\n        &quot;type&quot;: &quot;PILOT&quot;,\n        &quot;limits&quot;: [{\n            &quot;type&quot;: &quot;COMBAT_HOURS&quot;,\n            &quot;amount&quot;: 80000\n        }]\n    }],\n    &quot;createdDate&quot;: &quot;2021-11-11&quot;\n}\n</code></pre>\n<p>How to extract the document to reach this result?</p>\n"},{"tags":["java","android","opengl-es"],"owner":{"account_id":6012640,"reputation":11,"user_id":7816803,"display_name":"Thomas Mason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653683186,"creation_date":1636658529,"question_id":69933794,"body_markdown":"I&#39;m using the Java N-IDE app on my android phone, and I&#39;m trying to learn how to use OpenGL ES 1.0. I followed the instructions in two different tutorials, and my code still won&#39;t work. The compiled app draws a gray screen like it should, but it never draws the triangle.\r\n\r\nHere&#39;s my code:\r\n\r\nMainActivity.java\r\n```\r\npackage com.example.dland;\r\n\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport android.opengl.GLSurfaceView;\r\n\r\nimport com.example.dland.R;\r\n\r\npublic class MainActivity extends Activity {\r\n\t\r\n\tprivate GLSurfaceView glview;\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\t\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\t\r\n\t\tglview = new MyGLSurfaceView(this);\r\n\t\t\r\n\t\tsetContentView(glview);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMyGLSurfaceView.java\r\n```\r\npackage com.example.dland;\r\n\r\nimport android.content.Context;\r\nimport android.opengl.GLSurfaceView;\r\n\r\nimport com.example.dland.R;\r\n\r\npublic class MyGLSurfaceView extends GLSurfaceView {\r\n\t\r\n\tprivate final MyGLRenderer renderer;\r\n\r\n\tpublic MyGLSurfaceView(Context context) {\r\n\t\t\r\n\t\tsuper(context);\r\n\t\t\r\n\t\tsetEGLContextClientVersion(2);\r\n\t\t\r\n\t\trenderer = new MyGLRenderer();\r\n\t\t\r\n\t\tsetRenderer(renderer);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMyGLRenderer.java\r\n```\r\npackage com.example.dland;\r\n\r\nimport javax.microedition.khronos.egl.EGLConfig;\r\nimport javax.microedition.khronos.opengles.GL10;\r\n\r\nimport android.opengl.GLSurfaceView;\r\n\r\nimport java.nio.FloatBuffer;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\n\r\nimport com.example.dland.R;\r\n\r\npublic class MyGLRenderer implements GLSurfaceView.Renderer {\r\n\t\r\n\tprivate FloatBuffer triangleVB;\r\n\t\r\n\tpublic void onSurfaceCreated(GL10 gl, EGLConfig config) {\r\n\t\t\r\n\t\t// Set the background frame color\r\n\t\tgl.glClearColor(0.5f, 0.5f, 0.5f, 1.0f);\r\n\t\t\r\n\t\tinitShapes();\r\n\t\t\r\n\t\t// Enable use of vertex arrays\r\n\t\tgl.glEnableClientState(GL10.GL_VERTEX_ARRAY);\r\n\t\r\n\t}\r\n\t\r\n\tpublic void onDrawFrame(GL10 gl) {\r\n\t\r\n\t\t// Redraw background color\r\n\t\tgl.glClear(GL10.GL_COLOR_BUFFER_BIT | GL10.GL_DEPTH_BUFFER_BIT);\r\n\t\t\r\n\t\t// Draw the triangle\r\n\t\tgl.glColor4f(0.63671875f, 0.76953125f, 0.22265625f, 0.0f);\r\n\t\tgl.glVertexPointer(3, GL10.GL_FLOAT, 0, triangleVB);\r\n\t\tgl.glDrawArrays(GL10.GL_TRIANGLES, 0, 3);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void onSurfaceChanged(GL10 gl, int width, int height) {\r\n\t\tgl.glViewport(0, 0, width, height);\r\n\t}\r\n\t\r\n\tprivate void initShapes() {\r\n\t\t\r\n\t\tfloat triangleCoords[] = {\r\n\t\t\t// X, Y, Z\r\n\t\t\t-0.5f, -0.25f, 0,\r\n\t\t\t 0.5f, -0.25f, 0,\r\n\t\t\t 0.0f,  0.559016994f, 0\r\n\t\t}; \r\n\t\t\r\n\t\t// initialize vertex Buffer for triangle &#160;\r\n\t\tByteBuffer vbb = ByteBuffer.allocateDirect(\r\n\t\t\t\t// (# of coordinate values * 4 bytes per float)\r\n\t\t\t\ttriangleCoords.length * 4); \r\n\t\tvbb.order(ByteOrder.nativeOrder());// use the device hardware&#39;s native byte order\r\n\t\ttriangleVB = vbb.asFloatBuffer();  // create a floating point buffer from the ByteBuffer\r\n\t\ttriangleVB.put(triangleCoords);    // add the coordinates to the FloatBuffer\r\n\t\ttriangleVB.position(0);     // set the buffer to read the first coordinate\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```","title":"Code from Opengl ES 1.0 tutorial not working (Java N-IDE)","body":"<p>I'm using the Java N-IDE app on my android phone, and I'm trying to learn how to use OpenGL ES 1.0. I followed the instructions in two different tutorials, and my code still won't work. The compiled app draws a gray screen like it should, but it never draws the triangle.</p>\n<p>Here's my code:</p>\n<p>MainActivity.java</p>\n<pre><code>package com.example.dland;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.opengl.GLSurfaceView;\n\nimport com.example.dland.R;\n\npublic class MainActivity extends Activity {\n    \n    private GLSurfaceView glview;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        \n        super.onCreate(savedInstanceState);\n        \n        glview = new MyGLSurfaceView(this);\n        \n        setContentView(glview);\n        \n    }\n\n}\n</code></pre>\n<p>MyGLSurfaceView.java</p>\n<pre><code>package com.example.dland;\n\nimport android.content.Context;\nimport android.opengl.GLSurfaceView;\n\nimport com.example.dland.R;\n\npublic class MyGLSurfaceView extends GLSurfaceView {\n    \n    private final MyGLRenderer renderer;\n\n    public MyGLSurfaceView(Context context) {\n        \n        super(context);\n        \n        setEGLContextClientVersion(2);\n        \n        renderer = new MyGLRenderer();\n        \n        setRenderer(renderer);\n        \n    }\n\n}\n</code></pre>\n<p>MyGLRenderer.java</p>\n<pre><code>package com.example.dland;\n\nimport javax.microedition.khronos.egl.EGLConfig;\nimport javax.microedition.khronos.opengles.GL10;\n\nimport android.opengl.GLSurfaceView;\n\nimport java.nio.FloatBuffer;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\n\nimport com.example.dland.R;\n\npublic class MyGLRenderer implements GLSurfaceView.Renderer {\n    \n    private FloatBuffer triangleVB;\n    \n    public void onSurfaceCreated(GL10 gl, EGLConfig config) {\n        \n        // Set the background frame color\n        gl.glClearColor(0.5f, 0.5f, 0.5f, 1.0f);\n        \n        initShapes();\n        \n        // Enable use of vertex arrays\n        gl.glEnableClientState(GL10.GL_VERTEX_ARRAY);\n    \n    }\n    \n    public void onDrawFrame(GL10 gl) {\n    \n        // Redraw background color\n        gl.glClear(GL10.GL_COLOR_BUFFER_BIT | GL10.GL_DEPTH_BUFFER_BIT);\n        \n        // Draw the triangle\n        gl.glColor4f(0.63671875f, 0.76953125f, 0.22265625f, 0.0f);\n        gl.glVertexPointer(3, GL10.GL_FLOAT, 0, triangleVB);\n        gl.glDrawArrays(GL10.GL_TRIANGLES, 0, 3);\n        \n    }\n    \n    public void onSurfaceChanged(GL10 gl, int width, int height) {\n        gl.glViewport(0, 0, width, height);\n    }\n    \n    private void initShapes() {\n        \n        float triangleCoords[] = {\n            // X, Y, Z\n            -0.5f, -0.25f, 0,\n             0.5f, -0.25f, 0,\n             0.0f,  0.559016994f, 0\n        }; \n        \n        // initialize vertex Buffer for triangle  \n        ByteBuffer vbb = ByteBuffer.allocateDirect(\n                // (# of coordinate values * 4 bytes per float)\n                triangleCoords.length * 4); \n        vbb.order(ByteOrder.nativeOrder());// use the device hardware's native byte order\n        triangleVB = vbb.asFloatBuffer();  // create a floating point buffer from the ByteBuffer\n        triangleVB.put(triangleCoords);    // add the coordinates to the FloatBuffer\n        triangleVB.position(0);     // set the buffer to read the first coordinate\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1653691585,"post_id":72410745,"comment_id":127920714,"body_markdown":"Welcome on StackOverflow. It seems to answer to your question. Just, if it doesn&#39;t, can you more explain then mare [mre] ?","body":"Welcome on StackOverflow. It seems to answer to your question. Just, if it doesn&#39;t, can you more explain then mare <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653694533,"post_id":72410745,"comment_id":127921152,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":23677082,"reputation":1,"user_id":17703191,"display_name":"phimaster0303"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653743270,"answer_count":0,"score":0,"last_activity_date":1653683182,"creation_date":1653683182,"question_id":72410745,"body_markdown":"i wanted to ask in there is a simple was to send a packet to The Server in minecraft spigot 1.18.2 using ProtocolLib. I haven‘t found a simple answer anywhere.","title":"How to send packets in ProtocolLib (spigot 1.18.2)","body":"<p>i wanted to ask in there is a simple was to send a packet to The Server in minecraft spigot 1.18.2 using ProtocolLib. I haven‘t found a simple answer anywhere.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1636725827,"post_id":69934170,"comment_id":123640122,"body_markdown":"You cannot bind the list to one variabel. This is not supported by JDBC and the database","body":"You cannot bind the list to one variabel. This is not supported by JDBC and the database"},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1636729065,"post_id":69934170,"comment_id":123641510,"body_markdown":"That also count as an answer, good. So anyway, a list will be converted to several params in string, and for DB, they will be different queries, so optimizer cannot kick in, right? These structurally identical queries but with varying numbers of params in IN clause will be a pain for Oracle(and other DBs), right?","body":"That also count as an answer, good. So anyway, a list will be converted to several params in string, and for DB, they will be different queries, so optimizer cannot kick in, right? These structurally identical queries but with varying numbers of params in IN clause will be a pain for Oracle(and other DBs), right?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1636729182,"post_id":69934170,"comment_id":123641562,"body_markdown":"Exactly! May I ask why you have these large number of IN parameters?","body":"Exactly! May I ask why you have these large number of IN parameters?"},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1636729322,"post_id":69934170,"comment_id":123641626,"body_markdown":"I don&#39;t quite understand why, as they don&#39;t come from DB. I can try to find out why, maybe Monday.","body":"I don&#39;t quite understand why, as they don&#39;t come from DB. I can try to find out why, maybe Monday."},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1636965476,"post_id":69934170,"comment_id":123689025,"body_markdown":"Maybe they are from user auth service, another microservice. If that is true, I don&#39;t have access to that DB.","body":"Maybe they are from user auth service, another microservice. If that is true, I don&#39;t have access to that DB."},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1637051897,"post_id":69934170,"comment_id":123715485,"body_markdown":".. which is legit: in modern schema of organizations by micro services, one service handles user info and passes the user principal to another service, which has access to user schema; and each other services does whatever they want with this principal object, fetching from db again, maybe from another schema. But, we may see this kind of problem. @SimonMartinelli Doubt what better solution we could have..","body":".. which is legit: in modern schema of organizations by micro services, one service handles user info and passes the user principal to another service, which has access to user schema; and each other services does whatever they want with this principal object, fetching from db again, maybe from another schema. But, we may see this kind of problem. @SimonMartinelli Doubt what better solution we could have.."}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653683150,"creation_date":1636660518,"question_id":69934170,"body_markdown":"I am using CriteriaBuilder of JPA to build a long IN clause. Then, I found that Oracle does not support &gt; 1000 elements in IN clause, so I need to divide this clause into several, like `in (?, ?, ?...) or in (?, ?, ?)`. \r\n\r\nThis is done, but I think we need to optimize more, as variable length of param list cannot be optimized at DB side: due to the length is changing, Oracle optimizer will think each one is a different query, so the execution plan will change. But I think they are basically one, or two queries, as this IN clause is possible, but seldom contains &gt; 1000 elements. So, if I can bind the list to one variable, it will be 99% of the time `in (?)`, and 1% of `in (?) or in (?)`, which is very good for Oracle to see the similarity.\r\n\r\nI found Hibernate has a `setParameterList()` like said [here](https://docs.jboss.org/hibernate/orm/3.2/api/org/hibernate/Query.html#setParameterList(java.lang.String,%20java.util.Collection)), and I think this is what I need. And I know I can `unwrap()` a JPA `Query` into a Hibernate `Query`, like:\r\n\r\n    query.unwrap(org.hibernate.Query.class).getQueryString()\r\n\r\nso I want to do the same to use the method of `setParameterList()`. But Hibernate complains about &quot;named parameter not found&quot;. \r\n\r\n```\r\norg.hibernate.QueryParameterException: could not locate named parameter [excluded_orgIds0]\r\n\tat org.hibernate.engine.query.spi.ParameterMetadata.getNamedParameterDescriptor(ParameterMetadata.java:100)\r\n\tat org.hibernate.engine.query.spi.ParameterMetadata.getNamedParameterExpectedType(ParameterMetadata.java:106)\r\n\tat org.hibernate.internal.AbstractQueryImpl.determineType(AbstractQueryImpl.java:470)\r\n\tat org.hibernate.internal.AbstractQueryImpl.setParameterList(AbstractQueryImpl.java:839)\r\n    ....\r\n```\r\n\r\nWhat do I do now? \r\n\r\nEDIT:\r\nI found that `setParameterList()` is already called in the implementation class, and it can map my named param to Hibernate positional param, but seems like Hibernate will convert a list to string at last, so the array binding is not possible. \r\n\r\n`org.hibernate.ejb.QueryImpl.class`:\r\n\r\n```java\r\n\tpublic TypedQuery&lt;X&gt; setParameter(String name, Object value) {\r\n\t\ttry {\r\n\t\t\tif ( value instanceof Collection ) {\r\n\t\t\t\tquery.setParameterList( name, (Collection) value );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tquery.setParameter( name, value );\r\n\t\t\t}\r\n\t\t\tregisterParameterBinding( getParameter( name ), value );\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tcatch (QueryParameterException e) {\r\n\t\t\tthrow new IllegalArgumentException( e );\r\n\t\t}\r\n\t\tcatch (HibernateException he) {\r\n\t\t\tthrow getEntityManager().convert( he );\r\n\t\t}\r\n\t}\r\n```\r\n\r\nWhy? \r\n\r\n------\r\nOne possibility:\r\nThe whole SQL is like:\r\n```\r\nselect ih from ItemHistory as ih where ( ih.code=:param0 ) and ( ih.companyId in (select c.id from Company as c where ( ( c.organizationId in (:param1) ) or ( c.organizationId like :param2 ) or ( c.organizationId like :param3 ) ) and ( ( ( c.organizationId not in (:param4) ) and ( c.organizationId not in (:param5) ) ) and ( c.organizationId not like :param6 ) )) ) order by ih.eventDate desc\r\n```\r\nWhen I set `code` or `eventDate` or `not like ...`, I don&#39;t use parameter, but just put in the values (`queryBuilder.eq(column, &quot;333&quot;)`). I only use `queryBuilder.parameter(List.class, param1)` where there is a IN clause. \r\n\r\nDo positional param has precedence, so that if I want to use parameters, I need to use them in all the places? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4xdpp.png","title":"JPA + Hibernate: how to use array bind with CriteriaBuilder, i.e., make final query be like &quot;... in (?)&quot;, not &quot;... in (?, ?, ?)&quot;?","body":"<p>I am using CriteriaBuilder of JPA to build a long IN clause. Then, I found that Oracle does not support &gt; 1000 elements in IN clause, so I need to divide this clause into several, like <code>in (?, ?, ?...) or in (?, ?, ?)</code>.</p>\n<p>This is done, but I think we need to optimize more, as variable length of param list cannot be optimized at DB side: due to the length is changing, Oracle optimizer will think each one is a different query, so the execution plan will change. But I think they are basically one, or two queries, as this IN clause is possible, but seldom contains &gt; 1000 elements. So, if I can bind the list to one variable, it will be 99% of the time <code>in (?)</code>, and 1% of <code>in (?) or in (?)</code>, which is very good for Oracle to see the similarity.</p>\n<p>I found Hibernate has a <code>setParameterList()</code> like said <a href=\"https://docs.jboss.org/hibernate/orm/3.2/api/org/hibernate/Query.html#setParameterList(java.lang.String,%20java.util.Collection)\" rel=\"nofollow noreferrer\">here</a>, and I think this is what I need. And I know I can <code>unwrap()</code> a JPA <code>Query</code> into a Hibernate <code>Query</code>, like:</p>\n<pre><code>query.unwrap(org.hibernate.Query.class).getQueryString()\n</code></pre>\n<p>so I want to do the same to use the method of <code>setParameterList()</code>. But Hibernate complains about &quot;named parameter not found&quot;.</p>\n<pre><code>org.hibernate.QueryParameterException: could not locate named parameter [excluded_orgIds0]\n    at org.hibernate.engine.query.spi.ParameterMetadata.getNamedParameterDescriptor(ParameterMetadata.java:100)\n    at org.hibernate.engine.query.spi.ParameterMetadata.getNamedParameterExpectedType(ParameterMetadata.java:106)\n    at org.hibernate.internal.AbstractQueryImpl.determineType(AbstractQueryImpl.java:470)\n    at org.hibernate.internal.AbstractQueryImpl.setParameterList(AbstractQueryImpl.java:839)\n    ....\n</code></pre>\n<p>What do I do now?</p>\n<p>EDIT:\nI found that <code>setParameterList()</code> is already called in the implementation class, and it can map my named param to Hibernate positional param, but seems like Hibernate will convert a list to string at last, so the array binding is not possible.</p>\n<p><code>org.hibernate.ejb.QueryImpl.class</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public TypedQuery&lt;X&gt; setParameter(String name, Object value) {\n        try {\n            if ( value instanceof Collection ) {\n                query.setParameterList( name, (Collection) value );\n            }\n            else {\n                query.setParameter( name, value );\n            }\n            registerParameterBinding( getParameter( name ), value );\n            return this;\n        }\n        catch (QueryParameterException e) {\n            throw new IllegalArgumentException( e );\n        }\n        catch (HibernateException he) {\n            throw getEntityManager().convert( he );\n        }\n    }\n</code></pre>\n<p>Why?</p>\n<hr />\n<p>One possibility:\nThe whole SQL is like:</p>\n<pre><code>select ih from ItemHistory as ih where ( ih.code=:param0 ) and ( ih.companyId in (select c.id from Company as c where ( ( c.organizationId in (:param1) ) or ( c.organizationId like :param2 ) or ( c.organizationId like :param3 ) ) and ( ( ( c.organizationId not in (:param4) ) and ( c.organizationId not in (:param5) ) ) and ( c.organizationId not like :param6 ) )) ) order by ih.eventDate desc\n</code></pre>\n<p>When I set <code>code</code> or <code>eventDate</code> or <code>not like ...</code>, I don't use parameter, but just put in the values (<code>queryBuilder.eq(column, &quot;333&quot;)</code>). I only use <code>queryBuilder.parameter(List.class, param1)</code> where there is a IN clause.</p>\n<p>Do positional param has precedence, so that if I want to use parameters, I need to use them in all the places?</p>\n"},{"tags":["java","processing"],"answers":[{"tags":[],"owner":{"account_id":215245,"reputation":4343,"user_id":469755,"display_name":"Cadin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636667964,"creation_date":1636667964,"answer_id":69935430,"question_id":69934179,"body_markdown":"If you use an array, indexing off of the keycode, you can store down states for every key without having to list them all explicitly in a giant switch case like you have.\r\n\r\n```java\r\nboolean[] keys = new boolean[256];\r\n\r\nvoid keyPressed(){  \r\n  keys[keyCode] = true;\r\n}\r\n\r\nvoid keyReleased() {\r\n  keys[keyCode] = false;\r\n}\r\n```","title":"Register hotkeys in java (processing)","body":"<p>If you use an array, indexing off of the keycode, you can store down states for every key without having to list them all explicitly in a giant switch case like you have.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean[] keys = new boolean[256];\n\nvoid keyPressed(){  \n  keys[keyCode] = true;\n}\n\nvoid keyReleased() {\n  keys[keyCode] = false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636670924,"creation_date":1636670924,"answer_id":69935889,"question_id":69934179,"body_markdown":"Cadin&#39;s answer is great (+1), the technique is useful especially when making video games that need fast updates. \r\n\r\nIf you want to code something similar to an application shortcut (e.g. `Ctrl + Shift + S` to trigger **Save As...** on Windows, etc.) you could also make sure of the [`KeyEvent`][1] overrides for `keyPressed()/keyReleased()` (e.g. `keyPressed(KeyEvent key)`, `keyReleased(KeyEvent key);`).\r\n\r\nHere&#39;s a basic Windows example:\r\n\r\n    void setup(){\r\n      size(300, 300);\r\n    }\r\n    \r\n    void draw(){\r\n      background(0);\r\n    }\r\n    \r\n    void keyReleased(KeyEvent event){\r\n      println(&quot;keyCode&quot;,event.getKeyCode(),&quot;control&quot;,event.isControlDown(), &quot;alt&quot;, event.isAltDown(), &quot;shift&quot;, event.isShiftDown());\r\n      // Ctrl + Shift + S\r\n      if(event.getKeyCode() == 83 &amp;&amp; event.isShiftDown() &amp;&amp; event.isControlDown()){\r\n        println(&quot;Save As...&quot;);\r\n      }\r\n      // Ctrl + Alt + J\r\n      if(event.getKeyCode() == 74 &amp;&amp; event.isAltDown() &amp;&amp; event.isControlDown()){\r\n        println(&quot;Step Out&quot;);\r\n      }\r\n    }\r\n\r\nOn OSX shortcut might be slightly different but you can check the `platform` property first. (e.g. `if(platform == MACOSX){...}` / `if(platform == WINDOWS){...}`)\r\n\r\n\r\n  [1]: https://processing.github.io/processing-javadocs/core/processing/event/KeyEvent.html","title":"Register hotkeys in java (processing)","body":"<p>Cadin's answer is great (+1), the technique is useful especially when making video games that need fast updates.</p>\n<p>If you want to code something similar to an application shortcut (e.g. <code>Ctrl + Shift + S</code> to trigger <strong>Save As...</strong> on Windows, etc.) you could also make sure of the <a href=\"https://processing.github.io/processing-javadocs/core/processing/event/KeyEvent.html\" rel=\"nofollow noreferrer\"><code>KeyEvent</code></a> overrides for <code>keyPressed()/keyReleased()</code> (e.g. <code>keyPressed(KeyEvent key)</code>, <code>keyReleased(KeyEvent key);</code>).</p>\n<p>Here's a basic Windows example:</p>\n<pre><code>void setup(){\n  size(300, 300);\n}\n\nvoid draw(){\n  background(0);\n}\n\nvoid keyReleased(KeyEvent event){\n  println(&quot;keyCode&quot;,event.getKeyCode(),&quot;control&quot;,event.isControlDown(), &quot;alt&quot;, event.isAltDown(), &quot;shift&quot;, event.isShiftDown());\n  // Ctrl + Shift + S\n  if(event.getKeyCode() == 83 &amp;&amp; event.isShiftDown() &amp;&amp; event.isControlDown()){\n    println(&quot;Save As...&quot;);\n  }\n  // Ctrl + Alt + J\n  if(event.getKeyCode() == 74 &amp;&amp; event.isAltDown() &amp;&amp; event.isControlDown()){\n    println(&quot;Step Out&quot;);\n  }\n}\n</code></pre>\n<p>On OSX shortcut might be slightly different but you can check the <code>platform</code> property first. (e.g. <code>if(platform == MACOSX){...}</code> / <code>if(platform == WINDOWS){...}</code>)</p>\n"}],"owner":{"account_id":22982446,"reputation":35,"user_id":17109144,"display_name":"Phil_Software"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69935430,"answer_count":2,"score":1,"last_activity_date":1653683107,"creation_date":1636660549,"question_id":69934179,"body_markdown":"What is the best way to create an efficient hotkey-registering function in java? I am not really looking forward to using libraries or other add-ons for this because it seems easy to code, but I do care a lot about the efficiency of the code, so please, correct me if it could be better.\r\n\r\nHere is my code idea:\r\n\r\n    Kyeboard my_keyboard;\r\n\r\n    class Keyboard{\r\n     boolean control, alt, shift;\r\n     boolean a, b, c, d;  // ... x,y,z; here other needed letters can be declared\r\n \r\n     Keyboard(){\r\n\r\n     }\r\n    } \r\n\r\n    void setup(){  // This gets executed only once, a built-in function in processing\r\n     my_keyboard=new Keyboard();\r\n    }\r\n\r\n    void keyPressed(){  // Another built in function in processing, detects when a key is pressed\r\n     switch(keyCode){   \r\n      case 18:\r\n      my_keyboard.alt=true;\r\n      break;\r\n    \r\n      case 17:\r\n      my_keyboard.control=true;\r\n      break;\r\n     \r\n      case 16:\r\n      my_keyboard.shift=true;\r\n      break;\r\n    \r\n      //...\r\n     }\r\n    }\r\n \r\n    void keyReleased(){  // Again a built-in function\r\n     switch(keyCode){\r\n      case 18:\r\n      my_keyboard.alt=false;\r\n      break;\r\n    \r\n      case 17:\r\n      my_keyboard.control=false;\r\n      break;\r\n    \r\n      case 16:\r\n      my_keyboard.shift=false;\r\n      break;\r\n    \r\n      //...\r\n     }\r\n    } ","title":"Register hotkeys in java (processing)","body":"<p>What is the best way to create an efficient hotkey-registering function in java? I am not really looking forward to using libraries or other add-ons for this because it seems easy to code, but I do care a lot about the efficiency of the code, so please, correct me if it could be better.</p>\n<p>Here is my code idea:</p>\n<pre><code>Kyeboard my_keyboard;\n\nclass Keyboard{\n boolean control, alt, shift;\n boolean a, b, c, d;  // ... x,y,z; here other needed letters can be declared\n\n Keyboard(){\n\n }\n} \n\nvoid setup(){  // This gets executed only once, a built-in function in processing\n my_keyboard=new Keyboard();\n}\n\nvoid keyPressed(){  // Another built in function in processing, detects when a key is pressed\n switch(keyCode){   \n  case 18:\n  my_keyboard.alt=true;\n  break;\n\n  case 17:\n  my_keyboard.control=true;\n  break;\n \n  case 16:\n  my_keyboard.shift=true;\n  break;\n\n  //...\n }\n}\n\nvoid keyReleased(){  // Again a built-in function\n switch(keyCode){\n  case 18:\n  my_keyboard.alt=false;\n  break;\n\n  case 17:\n  my_keyboard.control=false;\n  break;\n\n  case 16:\n  my_keyboard.shift=false;\n  break;\n\n  //...\n }\n} \n</code></pre>\n"},{"tags":["java","algorithm","compression","computer-science"],"comments":[{"owner":{"account_id":14877095,"reputation":3715,"user_id":10756025,"display_name":"Milo Chen"},"score":0,"creation_date":1636781729,"post_id":69934199,"comment_id":123654108,"body_markdown":"In LZ77, the format of saved data will like to be (position, length, character). What does next mean here in you ```&lt;pos, len, next&gt;```? Is it mean next character?","body":"In LZ77, the format of saved data will like to be (position, length, character). What does next mean here in you <code>&lt;pos, len, next&gt;</code>? Is it mean next character?"}],"answers":[{"tags":[],"owner":{"account_id":8623377,"reputation":9580,"user_id":6457407,"display_name":"Frank Yellin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636668069,"creation_date":1636668069,"answer_id":69935444,"question_id":69934199,"body_markdown":"The LZ77 specification doesn&#39;t indicate the encoding of the triples.  If you look at the Wikipedia page https://en.wikipedia.org/wiki/LZ77_and_LZ78, the &quot;implementation&quot; section shows how various implementations have output the triplets.  \r\n\r\nYou are free to use one of these or implement your own.","title":"Saving my LZ77 tags in the decompressed file for n java","body":"<p>The LZ77 specification doesn't indicate the encoding of the triples.  If you look at the Wikipedia page <a href=\"https://en.wikipedia.org/wiki/LZ77_and_LZ78\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/LZ77_and_LZ78</a>, the &quot;implementation&quot; section shows how various implementations have output the triplets.</p>\n<p>You are free to use one of these or implement your own.</p>\n"}],"owner":{"account_id":23309963,"reputation":1,"user_id":17389365,"display_name":"Mohamed Salah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653683087,"creation_date":1636660675,"question_id":69934199,"body_markdown":"I implemented LZ77 algorithm in java and actually it works and outputs the tags correctly in the form &lt;pos, len, next&gt;. But I don&#39;t know how to save those tags in a file such that the total size of the file get lesser than the original one.\r\n\r\nI tried to convert the tags to binary and save them to the file, but actually the file size got bigger.\r\n\r\nCan anyone explain an algorithm to save the tags into the file?","title":"Saving my LZ77 tags in the decompressed file for n java","body":"<p>I implemented LZ77 algorithm in java and actually it works and outputs the tags correctly in the form &lt;pos, len, next&gt;. But I don't know how to save those tags in a file such that the total size of the file get lesser than the original one.</p>\n<p>I tried to convert the tags to binary and save them to the file, but actually the file size got bigger.</p>\n<p>Can anyone explain an algorithm to save the tags into the file?</p>\n"},{"tags":["java","security","jvm","policy","security-policy"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1636660944,"post_id":69934206,"comment_id":123623325,"body_markdown":"Check the syntax of how to specify system properties.","body":"Check the syntax of how to specify system properties."},{"owner":{"account_id":18089233,"reputation":17,"user_id":13149297,"display_name":"Alex Santos"},"score":0,"creation_date":1636661727,"post_id":69934206,"comment_id":123623523,"body_markdown":"i got syntax from oracle docs https://docs.oracle.com/javase/tutorial/ext/security/policy.html adding codeBase with out without full path didn&#39;t help.","body":"i got syntax from oracle docs <a href=\"https://docs.oracle.com/javase/tutorial/ext/security/policy.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/ext/security/policy.html</a> adding codeBase with out without full path didn&#39;t help."},{"owner":{"account_id":18089233,"reputation":17,"user_id":13149297,"display_name":"Alex Santos"},"score":0,"creation_date":1636664428,"post_id":69934206,"comment_id":123624407,"body_markdown":"i use the same format/order in the url you posted , as follows.. changing order doesn&#39;t make a difference : To launch the main class in a JAR file:\n\njava [options] -jar jarfile [args ...]","body":"i use the same format/order in the url you posted , as follows.. changing order doesn&#39;t make a difference : To launch the main class in a JAR file:  java [options] -jar jarfile [args ...]"},{"owner":{"account_id":18089233,"reputation":17,"user_id":13149297,"display_name":"Alex Santos"},"score":0,"creation_date":1636664521,"post_id":69934206,"comment_id":123624437,"body_markdown":"also , i am trying to set policy for single jar , not for whole system/os","body":"also , i am trying to set policy for single jar , not for whole system/os"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1636666535,"post_id":69934206,"comment_id":123625074,"body_markdown":"at least as posted, the second `-` is not a minus, but `\\u2013` - it is being used as the main class name (have you eventually copied it from some web-site?) - just retype the command using the keyboard","body":"at least as posted, the second <code>-</code> is not a minus, but <code>\\u2013</code> - it is being used as the main class name (have you eventually copied it from some web-site?) - just retype the command using the keyboard"},{"owner":{"account_id":18089233,"reputation":17,"user_id":13149297,"display_name":"Alex Santos"},"score":0,"creation_date":1636666750,"post_id":69934206,"comment_id":123625137,"body_markdown":"double equal is used to override existing system wide policy , single equal is used to append policy to existing system wide policy that is defined somewhere under java setup folder , neither is working on my system.. jar works fine if i didn&#39;t add  -D.. portion","body":"double equal is used to override existing system wide policy , single equal is used to append policy to existing system wide policy that is defined somewhere under java setup folder , neither is working on my system.. jar works fine if i didn&#39;t add  -D.. portion"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1636666912,"post_id":69934206,"comment_id":123625183,"body_markdown":"see my last comment (is consistent with given error message; despite I cannot reproduce it on windows command line) correction I can reproduce it on Unix)- **change the 2nd `–D` to `-D` (minus D)**","body":"see my last comment (is consistent with given error message; despite I cannot reproduce it on windows command line) correction I can reproduce it on Unix)- <b>change the 2nd <code>–D</code> to <code>-D</code> (minus D)</b>"},{"owner":{"account_id":18089233,"reputation":17,"user_id":13149297,"display_name":"Alex Santos"},"score":0,"creation_date":1636667810,"post_id":69934206,"comment_id":123625437,"body_markdown":"I&#39;ll be damned. second dash (-) visually looks like what i think it is , but turned to be \\u2013 as you said.. i had noticed that part in your previous comment.. replacing it with proper dash solved the problem.. that ended about 6 hours of agony.. thank you!","body":"I&#39;ll be damned. second dash (-) visually looks like what i think it is , but turned to be \\u2013 as you said.. i had noticed that part in your previous comment.. replacing it with proper dash solved the problem.. that ended about 6 hours of agony.. thank you!"},{"owner":{"account_id":18089233,"reputation":17,"user_id":13149297,"display_name":"Alex Santos"},"score":0,"creation_date":1636668407,"post_id":69934206,"comment_id":123625586,"body_markdown":"&quot;it is just a pixel (or half) larger&quot; I am deeply humbled by your presence sir/madam","body":"&quot;it is just a pixel (or half) larger&quot; I am deeply humbled by your presence sir/madam"},{"owner":{"account_id":18089233,"reputation":17,"user_id":13149297,"display_name":"Alex Santos"},"score":0,"creation_date":1636670683,"post_id":69934206,"comment_id":123626171,"body_markdown":"one more question , i&#39;m trying to stop my java app from accessing the shell using runtime.exec.. my app is scripted by embedded  groovy and my users may try to use shell commands which i am trying to prevent.. i think a custom policy file is the answer but ideal way for me is to give all permissions and remove just that permission whichever it is.. can java policy file work in subtractive manner as i described or is there a better way to accomplish that?","body":"one more question , i&#39;m trying to stop my java app from accessing the shell using runtime.exec.. my app is scripted by embedded  groovy and my users may try to use shell commands which i am trying to prevent.. i think a custom policy file is the answer but ideal way for me is to give all permissions and remove just that permission whichever it is.. can java policy file work in subtractive manner as i described or is there a better way to accomplish that?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1636708684,"post_id":69934206,"comment_id":123633789,"body_markdown":"@AlexSantos working in “subtractive manner” is not supported, as it would counteract the intent of a *security* API. Every policy you didn’t care about, may potentially counteract your intent. You forbid `exec`, but not installing a different security manager? Well, easy to counter-act, isn’t it? You did forbid it, but not Reflection? Let me manipulate the field via Reflection. You did forbid Reflection as well, but not the execution of native code? Let me load a native library doing exec. You considered all that, but did not restrict file access? Let me see what `/proc/…` has to offer…","body":"@AlexSantos working in “subtractive manner” is not supported, as it would counteract the intent of a <i>security</i> API. Every policy you didn’t care about, may potentially counteract your intent. You forbid <code>exec</code>, but not installing a different security manager? Well, easy to counter-act, isn’t it? You did forbid it, but not Reflection? Let me manipulate the field via Reflection. You did forbid Reflection as well, but not the execution of native code? Let me load a native library doing exec. You considered all that, but did not restrict file access? Let me see what <code>&#47;proc&#47;…</code> has to offer…"}],"answers":[{"tags":[],"owner":{"account_id":18089233,"reputation":17,"user_id":13149297,"display_name":"Alex Santos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636674810,"creation_date":1636674810,"answer_id":69936347,"question_id":69934206,"body_markdown":"i got it..\r\n\r\n#1 create a policy file and give all permissions\r\n\r\n    grant {\r\n        permission java.security.AllPermission &quot;&quot;, &quot;&quot;;\r\n    };\r\n\r\n#2 specify that policy file in command line\r\n\r\n    -Djava.security.manager -Djava.security.policy==/path/my.policy\r\n\r\n#3 create a custom security manager class\r\n\r\n    public class MySecurityManager extends SecurityManager\r\n    {\r\n    \t@Override\r\n    \tpublic void checkExec(String cmd) \r\n    \t{\r\n    \t\tthrow new RuntimeException( &quot;Cannot execute shell script&quot; );\r\n    \t}\r\n    }\r\n\r\n#4 activate your custom security manager \r\n\r\n\r\n\t\tSecurityManager securityManager = new MySecurityManager();\r\n\t\t\r\n\t\tSystem.setSecurityManager( securityManager );\r\n\r\n#5 that&#39;s it. your app can no longer execute shell commands/scripts\r\n\r\n\r\n","title":"java cannot find main class due to security policy","body":"<p>i got it..</p>\n<p>#1 create a policy file and give all permissions</p>\n<pre><code>grant {\n    permission java.security.AllPermission &quot;&quot;, &quot;&quot;;\n};\n</code></pre>\n<p>#2 specify that policy file in command line</p>\n<pre><code>-Djava.security.manager -Djava.security.policy==/path/my.policy\n</code></pre>\n<p>#3 create a custom security manager class</p>\n<pre><code>public class MySecurityManager extends SecurityManager\n{\n    @Override\n    public void checkExec(String cmd) \n    {\n        throw new RuntimeException( &quot;Cannot execute shell script&quot; );\n    }\n}\n</code></pre>\n<p>#4 activate your custom security manager</p>\n<pre><code>    SecurityManager securityManager = new MySecurityManager();\n    \n    System.setSecurityManager( securityManager );\n</code></pre>\n<p>#5 that's it. your app can no longer execute shell commands/scripts</p>\n"}],"owner":{"account_id":18089233,"reputation":17,"user_id":13149297,"display_name":"Alex Santos"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":887,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653683063,"creation_date":1636660704,"question_id":69934206,"body_markdown":"I am running a java app as follows and my policy file is in the same folder and it gives the following error. if I run it without specifying policy related parameters, it runs fine. any idea what I am doing wrong here and how to fix it? thanks. \r\n\r\nError: Could not find or load main class –Djava.security.policy==quantanywhere.policy\r\n\r\njava -Djava.security.manager –Djava.security.policy==my.policy -jar myapp.jar\r\n\r\nmy.policy file contents:\r\n\r\n    grant {\r\n        permission java.security.AllPermission;\r\n    };","title":"java cannot find main class due to security policy","body":"<p>I am running a java app as follows and my policy file is in the same folder and it gives the following error. if I run it without specifying policy related parameters, it runs fine. any idea what I am doing wrong here and how to fix it? thanks.</p>\n<p>Error: Could not find or load main class –Djava.security.policy==quantanywhere.policy</p>\n<p>java -Djava.security.manager –Djava.security.policy==my.policy -jar myapp.jar</p>\n<p>my.policy file contents:</p>\n<pre><code>grant {\n    permission java.security.AllPermission;\n};\n</code></pre>\n"},{"tags":["java","equation"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636661531,"post_id":69934297,"comment_id":123623466,"body_markdown":"https://www.baeldung.com/java-evaluate-math-expression-string","body":"<a href=\"https://www.baeldung.com/java-evaluate-math-expression-string\" rel=\"nofollow noreferrer\">baeldung.com/java-evaluate-math-expression-string</a>"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637108268,"creation_date":1636663069,"answer_id":69934646,"question_id":69934297,"body_markdown":"1. Replace `x` after digit(s)\r\n2. Replace standalone `x`\r\n\r\n```java\r\nString str = &quot;2+4x * x&quot;;\r\nfloat numToReplace = 20.4f;\r\n\r\nString expr = str\r\n    .replaceAll(&quot;(\\\\d+)x&quot;, &quot;$1 * &quot; + numToReplace)\r\n    .replaceAll(&quot;x&quot;, Float.toString(numToReplace);\r\n```\r\n----\r\nThe resulting expression may be evaluated using Nashorn script engine however it is getting deprecated:\r\n```java\r\npublic static void main(String ... args) throws ScriptException {\r\n    String str = &quot;2+4x * x&quot;;\r\n    float numToReplace = 20.4f;\r\n\r\n    String expr = str\r\n        .replaceAll(&quot;(\\\\d+)x&quot;, &quot;$1 * &quot; + numToReplace)\r\n        .replaceAll(&quot;x&quot;, Float.toString(numToReplace);\r\n\r\n    ScriptEngineManager mgr = new ScriptEngineManager();\r\n    ScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n\r\n    // a checked ScriptException may be thrown\r\n    System.out.println(expr + &quot; = &quot; + engine.eval(expr));\r\n\r\n    float result = Float.parseFloat(engine.eval(expr));\r\n    System.out.println(&quot;result = &quot; + result);\r\n}\r\n```\r\nOutput demonstrating famous floating-point capabilities:\r\n```\r\n2+4 * 20.4 * 20.4 = 1666.6399999999999\r\nresult = 1666.64\r\n```","title":"How to replace &quot;x&quot; in string and equate to a number?","body":"<ol>\n<li>Replace <code>x</code> after digit(s)</li>\n<li>Replace standalone <code>x</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;2+4x * x&quot;;\nfloat numToReplace = 20.4f;\n\nString expr = str\n    .replaceAll(&quot;(\\\\d+)x&quot;, &quot;$1 * &quot; + numToReplace)\n    .replaceAll(&quot;x&quot;, Float.toString(numToReplace);\n</code></pre>\n<hr />\n<p>The resulting expression may be evaluated using Nashorn script engine however it is getting deprecated:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String ... args) throws ScriptException {\n    String str = &quot;2+4x * x&quot;;\n    float numToReplace = 20.4f;\n\n    String expr = str\n        .replaceAll(&quot;(\\\\d+)x&quot;, &quot;$1 * &quot; + numToReplace)\n        .replaceAll(&quot;x&quot;, Float.toString(numToReplace);\n\n    ScriptEngineManager mgr = new ScriptEngineManager();\n    ScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\n\n    // a checked ScriptException may be thrown\n    System.out.println(expr + &quot; = &quot; + engine.eval(expr));\n\n    float result = Float.parseFloat(engine.eval(expr));\n    System.out.println(&quot;result = &quot; + result);\n}\n</code></pre>\n<p>Output demonstrating famous floating-point capabilities:</p>\n<pre><code>2+4 * 20.4 * 20.4 = 1666.6399999999999\nresult = 1666.64\n</code></pre>\n"}],"owner":{"account_id":22877174,"reputation":53,"user_id":17019314,"display_name":"GSDV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653683035,"creation_date":1636661167,"question_id":69934297,"body_markdown":"Given a string with only numbers, math operators, and &quot;x&quot;, and a number to replace x, how would you replace all x in the string and then equate the string into an answer? So far, I have is this:\r\n\r\n```\r\nString str = &quot;2+4x&quot;; //Example string, could be [2 +4x -  5/ 4 - 9( 6+1*x)] or [4x+0]\r\nFloat numToReplace = 20.4; //Has to be Float, cannot use Double\r\n\r\n\r\nstr = str.replace(&quot;x&quot;, numToReplace);\r\n\r\n// How to simplify the string into a number?\r\n```\r\n\r\nI can&#39;t equate the string, and I also cannot figure out how to get rid of &quot;implied multiplication&quot; (when the user inputs &quot;2x&quot;, I would want to change this to (2*x) in order for the equation to work properly after replacing x).","title":"How to replace &quot;x&quot; in string and equate to a number?","body":"<p>Given a string with only numbers, math operators, and &quot;x&quot;, and a number to replace x, how would you replace all x in the string and then equate the string into an answer? So far, I have is this:</p>\n<pre><code>String str = &quot;2+4x&quot;; //Example string, could be [2 +4x -  5/ 4 - 9( 6+1*x)] or [4x+0]\nFloat numToReplace = 20.4; //Has to be Float, cannot use Double\n\n\nstr = str.replace(&quot;x&quot;, numToReplace);\n\n// How to simplify the string into a number?\n</code></pre>\n<p>I can't equate the string, and I also cannot figure out how to get rid of &quot;implied multiplication&quot; (when the user inputs &quot;2x&quot;, I would want to change this to (2*x) in order for the equation to work properly after replacing x).</p>\n"},{"tags":["java","class","object","constructor"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1636661570,"post_id":69934344,"comment_id":123623479,"body_markdown":"Keep a static ID and increment it? Please post code as formatted text, not as links to pictures of text.","body":"Keep a static ID and increment it? Please post code as formatted text, not as links to pictures of text."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1636854559,"post_id":69934344,"comment_id":123667949,"body_markdown":"You need to put your code in the question itself. Don&#39;t link us to images of code -- nobody can copy-paste the code out of a picture! (And some of us can&#39;t even see imgur at all.)","body":"You need to put your code in the question itself. Don&#39;t link us to images of code -- nobody can copy-paste the code out of a picture! (And some of us can&#39;t even see imgur at all.)"}],"answers":[{"tags":[],"owner":{"account_id":22283160,"reputation":107,"user_id":16511253,"display_name":"Emad Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636662169,"creation_date":1636662169,"answer_id":69934465,"question_id":69934344,"body_markdown":"You can achieve this by adding a `static int variable` that starts at -1 and get incremented by 1 in the constructor. then for each object created that number will go up by 1 since its a class `static` variable. what&#39;s left to do is to assign that number to your object variable field ID.\r\n\r\n\r\n    public class Document {\r\n    \r\n        private static int count = -1;\r\n        private int ID;\r\n    \r\n        public Document() {\r\n    \r\n            this.count++;\r\n            this.ID = count;\r\n            System.out.println(this.ID);\r\n        }\r\n    }\r\n\r\n\r\n","title":"How can I give objects acending numbers","body":"<p>You can achieve this by adding a <code>static int variable</code> that starts at -1 and get incremented by 1 in the constructor. then for each object created that number will go up by 1 since its a class <code>static</code> variable. what's left to do is to assign that number to your object variable field ID.</p>\n<pre><code>public class Document {\n\n    private static int count = -1;\n    private int ID;\n\n    public Document() {\n\n        this.count++;\n        this.ID = count;\n        System.out.println(this.ID);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23235974,"reputation":1,"user_id":17325980,"display_name":"Sue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1653683020,"creation_date":1636661448,"question_id":69934344,"body_markdown":"I have a class documents , that creates documents for a search engine. The object of the class Document should have  ascending IDs. This means that the first document that was created has documentId 0, the second document has documentId 1. This is supposed to be happening in the constructor, but I am not quite sure how to start.  \r\n[The class Document][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SMaVn.png","title":"How can I give objects acending numbers","body":"<p>I have a class documents , that creates documents for a search engine. The object of the class Document should have  ascending IDs. This means that the first document that was created has documentId 0, the second document has documentId 1. This is supposed to be happening in the constructor, but I am not quite sure how to start.<br />\n<a href=\"https://i.stack.imgur.com/SMaVn.png\" rel=\"nofollow noreferrer\">The class Document</a></p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1636661961,"post_id":69934371,"comment_id":123623604,"body_markdown":"You never created a new `customerList` anywhere in your code.  You only have the initial `List&lt;Customer&gt;` that&#39;s created in the initialiser of the  `ParkingOffice` class.  You never set this variable to anything new.","body":"You never created a new <code>customerList</code> anywhere in your code.  You only have the initial <code>List&lt;Customer&gt;</code> that&#39;s created in the initialiser of the  <code>ParkingOffice</code> class.  You never set this variable to anything new."}],"answers":[{"tags":[],"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636666345,"creation_date":1636666345,"answer_id":69935163,"question_id":69934371,"body_markdown":"Your `ParkingOffice` has a `customerList` property which is a List of Customer objects.  It also has a `customers` property which is the 2D list you&#39;re asking about I think.\r\n\r\nWhen you register a customer you add it to `customerList` which makes sense.  But then you also add that list (`customerList`) to your 2D list (`customers`).\r\n\r\nSo for each new customer you add a new element to each of those two lists: `customerList` gets the new customer, and `customers` gets a new element that points to `customerList`.  For `customers` you are creating an array that looks like `[ customerList, customerList, ... ]`\r\n\r\nIt&#39;s not clear what `customers` is supposed to hold but I suspect you could just construct it on request.  So in `getCustomers()` you could return a new list with one element pointing to your `customerList`.\r\n\r\n\r\nI also want to point out that you have a subtle bug regarding hash codes.  You are calculating the hash code in `Customer` using mutable properties.  Which means that somebody could create an instance of `Customer`, put it into a hash table (or some other structure that uses hash codes) then modify the name or address of the customer which would change its hash code.  When you try to find that customer in the hash table you won&#39;t be able to get it back because its hash code has changed.\r\n\r\nYou should calculate hash codes using only immutable properties.","title":"2D ArrayList Repeating All Entries Java","body":"<p>Your <code>ParkingOffice</code> has a <code>customerList</code> property which is a List of Customer objects.  It also has a <code>customers</code> property which is the 2D list you're asking about I think.</p>\n<p>When you register a customer you add it to <code>customerList</code> which makes sense.  But then you also add that list (<code>customerList</code>) to your 2D list (<code>customers</code>).</p>\n<p>So for each new customer you add a new element to each of those two lists: <code>customerList</code> gets the new customer, and <code>customers</code> gets a new element that points to <code>customerList</code>.  For <code>customers</code> you are creating an array that looks like <code>[ customerList, customerList, ... ]</code></p>\n<p>It's not clear what <code>customers</code> is supposed to hold but I suspect you could just construct it on request.  So in <code>getCustomers()</code> you could return a new list with one element pointing to your <code>customerList</code>.</p>\n<p>I also want to point out that you have a subtle bug regarding hash codes.  You are calculating the hash code in <code>Customer</code> using mutable properties.  Which means that somebody could create an instance of <code>Customer</code>, put it into a hash table (or some other structure that uses hash codes) then modify the name or address of the customer which would change its hash code.  When you try to find that customer in the hash table you won't be able to get it back because its hash code has changed.</p>\n<p>You should calculate hash codes using only immutable properties.</p>\n"}],"owner":{"account_id":23306735,"reputation":11,"user_id":17386614,"display_name":"Minh Lam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653682962,"creation_date":1636661592,"question_id":69934371,"body_markdown":"I am trying to create a 2D ArrayList but every entry I make is added to a single entry and then repeated. Essentially instead of getting [[a, b, c], [d, e, f]] I&#39;m getting [[a, b, c, d, e, f], [a, b, c, d, e, f]]. Here is my code regarding my issue.\r\n\r\n```\r\npublic class Customer {\r\n  \r\n  private String customerId;\r\n  private String name;\r\n  private String address;\r\n  private String phoneNumber;\r\n  \r\n  public Customer(String customerId, String name, Address address, String phoneNumber) {\r\n    this.customerId = customerId;\r\n    this.name = name;\r\n    this.address = address.getAddressInfo();\r\n    this.phoneNumber = phoneNumber;\r\n  }\r\n\r\n  public String getCustomerId() {\r\n    return customerId;\r\n  }\r\n\r\n  public void setCustomerId(String customerId) {\r\n    this.customerId = customerId;\r\n  }\r\n\r\n  public String getName() {\r\n    return name;\r\n  }\r\n\r\n  public void setName(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public String getAddress() {\r\n    return address;\r\n  }\r\n\r\n  public void setAddress(Address address) {\r\n    this.address = address.getAddressInfo();\r\n  }\r\n\r\n  public String getPhoneNumber() {\r\n    return phoneNumber;\r\n  }\r\n\r\n  public void setPhoneNumber(String phoneNumber) {\r\n    this.phoneNumber = phoneNumber;\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    final int prime = 31;\r\n    int result = 1;\r\n    result = prime * result + ((address == null) ? 0 : address.hashCode());\r\n    result = prime * result + ((customerId == null) ? 0 : customerId.hashCode());\r\n    result = prime * result + ((name == null) ? 0 : name.hashCode());\r\n    result = prime * result + ((phoneNumber == null) ? 0 : phoneNumber.hashCode());\r\n    return result;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object obj) {\r\n    if (this == obj)\r\n      return true;\r\n    if (obj == null)\r\n      return false;\r\n    if (getClass() != obj.getClass())\r\n      return false;\r\n    Customer other = (Customer) obj;\r\n    if (address == null) {\r\n      if (other.address != null)\r\n        return false;\r\n    } else if (!address.equals(other.address))\r\n      return false;\r\n    if (customerId == null) {\r\n      if (other.customerId != null)\r\n        return false;\r\n    } else if (!customerId.equals(other.customerId))\r\n      return false;\r\n    if (name == null) {\r\n      if (other.name != null)\r\n        return false;\r\n    } else if (!name.equals(other.name))\r\n      return false;\r\n    if (phoneNumber == null) {\r\n      if (other.phoneNumber != null)\r\n        return false;\r\n    } else if (!phoneNumber.equals(other.phoneNumber))\r\n      return false;\r\n    return true;\r\n  }\r\n  \r\n  public String toString() {\r\n    return String.format(&quot;ID: %s, Name: %s, Address: %s, Phone: %s&quot;, \r\n        customerId, name, address, phoneNumber);\r\n  }\r\n}\r\n```\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ParkingOffice {\r\n  \r\n  private String name;\r\n  private String address;\r\n  private List&lt;List&lt;Customer&gt;&gt; customers = new ArrayList&lt;&gt;();\r\n  private List&lt;Customer&gt; customerList = new ArrayList&lt;&gt;();\r\n  \r\n  public ParkingOffice(String name, Address officeAddress) {\r\n    this.name = name;\r\n    this.address = officeAddress.getAddressInfo();\r\n  }\r\n\r\n  public String getName() {\r\n    return name;\r\n  }\r\n\r\n  public void setName(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public String getAddress() {\r\n    return address;\r\n  }\r\n\r\n  public void setAddress(Address address) {\r\n    this.address = address.getAddressInfo();\r\n  }\r\n\r\n  public List&lt;List&lt;Customer&gt;&gt; getCustomers() {\r\n    return customers;\r\n  }\r\n\r\n  public void setCustomers(List&lt;List&lt;Customer&gt;&gt; customers) {\r\n    this.customers = customers;\r\n  }\r\n\r\n  public List&lt;Customer&gt; getCustomerList() {\r\n    return customerList;\r\n  }\r\n\r\n  public void setCustomerList(List&lt;Customer&gt; customerList) {\r\n    this.customerList = customerList;\r\n  }\r\n\r\n  public Customer register(String customerId, String name, Address address, String phone) {\r\n    Customer customer = new Customer(customerId, name, address, phone);\r\n    customer.addCustomers();\r\n    this.customerList.add(customer);\r\n    this.customers.add(this.customerList);\r\n    return customer;\r\n  }\r\n\r\n}\r\n```\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass ParkingOfficeTest {\r\n  \r\n  Address address = new Address(&quot;123 Lane&quot;, null, &quot;Anaheim&quot;, &quot;CA&quot;, &quot;92801&quot;);\r\n  Customer customer = new Customer(&quot;7g8h9i&quot;, &quot;Jane&quot;, address, &quot;987654321&quot;);\r\n  Customer customer2 = new Customer(&quot;4d5e6f&quot;, &quot;Joe&quot;, address, &quot;987654321&quot;);\r\n\r\n  @Test\r\n  void testRegisterCustomer() {\r\n    parkingOffice.register(customer.getCustomerId(), customer.getName(), address, customer.getPhoneNumber());\r\n    parkingOffice.register(customer2.getCustomerId(), customer2.getName(), address, customer2.getPhoneNumber());\r\n    List&lt;List&lt;Customer&gt;&gt; customers = parkingOffice.getCustomers();\r\n    assertEquals(&quot;[[ID: 7g8h9i, Name: Jane, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321], [ID: 4d5e6f, Name: Joe, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321]]&quot;, customers);\r\n  }\r\n}\r\n```\r\n```\r\nExpected: [[ID: 7g8h9i, Name: Jane, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321], [ID: 4d5e6f, Name: Joe, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321]]\r\nActual: [[ID: 7g8h9i, Name: Jane, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321, ID: 4d5e6f, Name: Joe, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321], [ID: 7g8h9i, Name: Jane, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321, ID: 4d5e6f, Name: Joe, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321]]\r\n```\r\n\r\nThank you in advance for any feedback and help.","title":"2D ArrayList Repeating All Entries Java","body":"<p>I am trying to create a 2D ArrayList but every entry I make is added to a single entry and then repeated. Essentially instead of getting [[a, b, c], [d, e, f]] I'm getting [[a, b, c, d, e, f], [a, b, c, d, e, f]]. Here is my code regarding my issue.</p>\n<pre><code>public class Customer {\n  \n  private String customerId;\n  private String name;\n  private String address;\n  private String phoneNumber;\n  \n  public Customer(String customerId, String name, Address address, String phoneNumber) {\n    this.customerId = customerId;\n    this.name = name;\n    this.address = address.getAddressInfo();\n    this.phoneNumber = phoneNumber;\n  }\n\n  public String getCustomerId() {\n    return customerId;\n  }\n\n  public void setCustomerId(String customerId) {\n    this.customerId = customerId;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public String getAddress() {\n    return address;\n  }\n\n  public void setAddress(Address address) {\n    this.address = address.getAddressInfo();\n  }\n\n  public String getPhoneNumber() {\n    return phoneNumber;\n  }\n\n  public void setPhoneNumber(String phoneNumber) {\n    this.phoneNumber = phoneNumber;\n  }\n\n  @Override\n  public int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    result = prime * result + ((address == null) ? 0 : address.hashCode());\n    result = prime * result + ((customerId == null) ? 0 : customerId.hashCode());\n    result = prime * result + ((name == null) ? 0 : name.hashCode());\n    result = prime * result + ((phoneNumber == null) ? 0 : phoneNumber.hashCode());\n    return result;\n  }\n\n  @Override\n  public boolean equals(Object obj) {\n    if (this == obj)\n      return true;\n    if (obj == null)\n      return false;\n    if (getClass() != obj.getClass())\n      return false;\n    Customer other = (Customer) obj;\n    if (address == null) {\n      if (other.address != null)\n        return false;\n    } else if (!address.equals(other.address))\n      return false;\n    if (customerId == null) {\n      if (other.customerId != null)\n        return false;\n    } else if (!customerId.equals(other.customerId))\n      return false;\n    if (name == null) {\n      if (other.name != null)\n        return false;\n    } else if (!name.equals(other.name))\n      return false;\n    if (phoneNumber == null) {\n      if (other.phoneNumber != null)\n        return false;\n    } else if (!phoneNumber.equals(other.phoneNumber))\n      return false;\n    return true;\n  }\n  \n  public String toString() {\n    return String.format(&quot;ID: %s, Name: %s, Address: %s, Phone: %s&quot;, \n        customerId, name, address, phoneNumber);\n  }\n}\n</code></pre>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class ParkingOffice {\n  \n  private String name;\n  private String address;\n  private List&lt;List&lt;Customer&gt;&gt; customers = new ArrayList&lt;&gt;();\n  private List&lt;Customer&gt; customerList = new ArrayList&lt;&gt;();\n  \n  public ParkingOffice(String name, Address officeAddress) {\n    this.name = name;\n    this.address = officeAddress.getAddressInfo();\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public String getAddress() {\n    return address;\n  }\n\n  public void setAddress(Address address) {\n    this.address = address.getAddressInfo();\n  }\n\n  public List&lt;List&lt;Customer&gt;&gt; getCustomers() {\n    return customers;\n  }\n\n  public void setCustomers(List&lt;List&lt;Customer&gt;&gt; customers) {\n    this.customers = customers;\n  }\n\n  public List&lt;Customer&gt; getCustomerList() {\n    return customerList;\n  }\n\n  public void setCustomerList(List&lt;Customer&gt; customerList) {\n    this.customerList = customerList;\n  }\n\n  public Customer register(String customerId, String name, Address address, String phone) {\n    Customer customer = new Customer(customerId, name, address, phone);\n    customer.addCustomers();\n    this.customerList.add(customer);\n    this.customers.add(this.customerList);\n    return customer;\n  }\n\n}\n</code></pre>\n<pre><code>import static org.junit.jupiter.api.Assertions.*;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.junit.jupiter.api.Test;\n\nclass ParkingOfficeTest {\n  \n  Address address = new Address(&quot;123 Lane&quot;, null, &quot;Anaheim&quot;, &quot;CA&quot;, &quot;92801&quot;);\n  Customer customer = new Customer(&quot;7g8h9i&quot;, &quot;Jane&quot;, address, &quot;987654321&quot;);\n  Customer customer2 = new Customer(&quot;4d5e6f&quot;, &quot;Joe&quot;, address, &quot;987654321&quot;);\n\n  @Test\n  void testRegisterCustomer() {\n    parkingOffice.register(customer.getCustomerId(), customer.getName(), address, customer.getPhoneNumber());\n    parkingOffice.register(customer2.getCustomerId(), customer2.getName(), address, customer2.getPhoneNumber());\n    List&lt;List&lt;Customer&gt;&gt; customers = parkingOffice.getCustomers();\n    assertEquals(&quot;[[ID: 7g8h9i, Name: Jane, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321], [ID: 4d5e6f, Name: Joe, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321]]&quot;, customers);\n  }\n}\n</code></pre>\n<pre><code>Expected: [[ID: 7g8h9i, Name: Jane, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321], [ID: 4d5e6f, Name: Joe, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321]]\nActual: [[ID: 7g8h9i, Name: Jane, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321, ID: 4d5e6f, Name: Joe, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321], [ID: 7g8h9i, Name: Jane, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321, ID: 4d5e6f, Name: Joe, Address: 123 Lane, Anaheim, CA 92801, Phone: 987654321]]\n</code></pre>\n<p>Thank you in advance for any feedback and help.</p>\n"},{"tags":["java","jakarta-ee","application-server"],"answers":[{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636794795,"creation_date":1636665129,"answer_id":69934976,"question_id":69934396,"body_markdown":"\r\n\r\n&gt;The question is, are they the minimum compatible versions or do i have to use the exact same version as written in there?\r\n\r\nThey are minimum compatible versions, but there are also *maximum* compatible versions existing for older specs, and that isn&#39;t told by the page explicitly. For example Wildfly 23+ (current known versions) are Jakarta EE 9 compatible. Wildfly 18 and above but below 23 are Jakarta EE 8/Java EE 8 compatible.\r\n\r\nSee [source about Jakarta EE 9](https://dev.to/theelitegentleman/introducing-jakarta-ee-9-1hj8):\r\n\r\n&gt;**No backward compatibility.** Jakarta EE 9 is not backward compatible with Jakarta EE 8 or Java EE 8. It&#39;s not recommended to mix Jakarta EE 8 artifacts with Jakarta EE 9 and vice versa.\r\n\r\nSince Jakarta EE 9 changed namespaces from Java EE 8/Jakarta EE 8, it is not possible to be compatible with both even in theory.","title":"Jakarta EE compatible application servers versions","body":"<blockquote>\n<p>The question is, are they the minimum compatible versions or do i have to use the exact same version as written in there?</p>\n</blockquote>\n<p>They are minimum compatible versions, but there are also <em>maximum</em> compatible versions existing for older specs, and that isn't told by the page explicitly. For example Wildfly 23+ (current known versions) are Jakarta EE 9 compatible. Wildfly 18 and above but below 23 are Jakarta EE 8/Java EE 8 compatible.</p>\n<p>See <a href=\"https://dev.to/theelitegentleman/introducing-jakarta-ee-9-1hj8\" rel=\"nofollow noreferrer\">source about Jakarta EE 9</a>:</p>\n<blockquote>\n<p><strong>No backward compatibility.</strong> Jakarta EE 9 is not backward compatible with Jakarta EE 8 or Java EE 8. It's not recommended to mix Jakarta EE 8 artifacts with Jakarta EE 9 and vice versa.</p>\n</blockquote>\n<p>Since Jakarta EE 9 changed namespaces from Java EE 8/Jakarta EE 8, it is not possible to be compatible with both even in theory.</p>\n"}],"owner":{"account_id":20559259,"reputation":89,"user_id":15090115,"display_name":"A_X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":878,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69934976,"answer_count":1,"score":1,"last_activity_date":1653682939,"creation_date":1636661785,"question_id":69934396,"body_markdown":"I see here &lt;https://jakarta.ee/compatibility/&gt; the list with all compatible application servers for each JEE version. \r\nThe question is, are they the minimum compatible versions or do I have to use the exact same version as written in there?\r\n\r\nFor example, one of written compatible application servers for Jakarta EE 8 is Wildfly 18.0.0. Would it still be compatible with the latest Wildfly (25.0.1) as of today?","title":"Jakarta EE compatible application servers versions","body":"<p>I see here <a href=\"https://jakarta.ee/compatibility/\" rel=\"nofollow noreferrer\">https://jakarta.ee/compatibility/</a> the list with all compatible application servers for each JEE version.\nThe question is, are they the minimum compatible versions or do I have to use the exact same version as written in there?</p>\n<p>For example, one of written compatible application servers for Jakarta EE 8 is Wildfly 18.0.0. Would it still be compatible with the latest Wildfly (25.0.1) as of today?</p>\n"},{"tags":["java","c++","java-native-interface","qandroidjniobject"],"comments":[{"owner":{"account_id":407544,"reputation":8001,"user_id":777689,"display_name":"PeterT"},"score":0,"creation_date":1636663726,"post_id":69934445,"comment_id":123624171,"body_markdown":"isn&#39;t `Long` the boxed type that inherits from `Object`, did you mean to return a `long` instead?","body":"isn&#39;t <code>Long</code> the boxed type that inherits from <code>Object</code>, did you mean to return a <code>long</code> instead?"},{"owner":{"account_id":23239910,"reputation":21,"user_id":17329400,"display_name":"Artem Redko"},"score":0,"creation_date":1636664019,"post_id":69934445,"comment_id":123624281,"body_markdown":"The OperationData class actually has almost 70 private variables of different types, so I return jobject","body":"The OperationData class actually has almost 70 private variables of different types, so I return jobject"},{"owner":{"account_id":407544,"reputation":8001,"user_id":777689,"display_name":"PeterT"},"score":1,"creation_date":1636664179,"post_id":69934445,"comment_id":123624333,"body_markdown":"ok, but if you return a `java.lang.Long` object then you need to call [`longValue`](https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#longValue()) on it to get to the jlong compatible value right?","body":"ok, but if you return a <code>java.lang.Long</code> object then you need to call <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#longValue()\" rel=\"nofollow noreferrer\"><code>longValue</code></a> on it to get to the jlong compatible value right?"},{"owner":{"account_id":23239910,"reputation":21,"user_id":17329400,"display_name":"Artem Redko"},"score":0,"creation_date":1636665815,"post_id":69934445,"comment_id":123624872,"body_markdown":"You are right, I am new to java and I did not pay attention to what needs to be cast here, but if I do callbackObj.callObjectMethod(&quot;getAmount&quot;, &quot;()J&quot;).callMethod&lt;jlong&gt;(&quot;longValue&quot;);, then unfortunately this does not change the situation: W System.err: java.lang.NoSuchMethodError: no non-static method &quot;Lcom/sim/lib/operation/OperationData;.getAmount()J&quot;    W System.err: at AndroidPaymServiceUtils.approvedStatusSendToQt(Native Method)  ] JNI DETECTED ERROR IN APPLICATION: GetMethodID received NULL jclass      ]     in call to GetMethodID    ]  from void approvedStatusSendToQt(java.lang.Object)","body":"You are right, I am new to java and I did not pay attention to what needs to be cast here, but if I do callbackObj.callObjectMethod(&quot;getAmount&quot;, &quot;()J&quot;).callMethod&lt;jlong&gt;(&quot;longValue&quot;);, then unfortunately this does not change the situation: W System.err: java.lang.NoSuchMethodError: no non-static method &quot;Lcom/sim/lib/operation/OperationData;.getAmount()J&quot;    W System.err: at AndroidPaymServiceUtils.approvedStatusSendToQt(Native Method)  ] JNI DETECTED ERROR IN APPLICATION: GetMethodID received NULL jclass      ]     in call to GetMethodID    ]  from void approvedStatusSendToQt(java.lang.Object)"},{"owner":{"account_id":23239910,"reputation":21,"user_id":17329400,"display_name":"Artem Redko"},"score":0,"creation_date":1636666522,"post_id":69934445,"comment_id":123625069,"body_markdown":"I understood what you meant, but then I will have to cast it on the java side, and this will have to re-create the class and copy the values again, since this is a class in the compiled library. It will turn out a little costly, I would like to resolve this on the C ++ side without using intermediate copies, but as I understand it, this will not work. Thank you!","body":"I understood what you meant, but then I will have to cast it on the java side, and this will have to re-create the class and copy the values again, since this is a class in the compiled library. It will turn out a little costly, I would like to resolve this on the C ++ side without using intermediate copies, but as I understand it, this will not work. Thank you!"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1636700431,"post_id":69934445,"comment_id":123631237,"body_markdown":"_&quot;if I do callbackObj.callObjectMethod(&quot;getAmount&quot;, &quot;()J&quot;).callMethod&lt;jlong&gt;(&quot;longValue&quot;);, then unfortunately this does not change the situation: W System.err: java.lang.NoSuchMethodError&quot;_. Because that&#39;s the wrong method signature. `&quot;()J&quot;` means &quot;takes no argument and returns a `long`&quot;. And as has been established you&#39;re actually returning a `Long`, so you&#39;d need something like `&quot;()Ljava/lang/Long;&quot;`.","body":"<i>&quot;if I do callbackObj.callObjectMethod(&quot;getAmount&quot;, &quot;()J&quot;).callMethod&lt;jlong&gt;(&quot;longValue&quot;);, then unfortunately this does not change the situation: W System.err: java.lang.NoSuchMethodError&quot;</i>. Because that&#39;s the wrong method signature. <code>&quot;()J&quot;</code> means &quot;takes no argument and returns a <code>long</code>&quot;. And as has been established you&#39;re actually returning a <code>Long</code>, so you&#39;d need something like <code>&quot;()Ljava&#47;lang&#47;Long;&quot;</code>."},{"owner":{"account_id":23239910,"reputation":21,"user_id":17329400,"display_name":"Artem Redko"},"score":0,"creation_date":1636716280,"post_id":69934445,"comment_id":123636486,"body_markdown":"It works! Here my mistake was, thanks for your help!","body":"It works! Here my mistake was, thanks for your help!"}],"owner":{"account_id":23239910,"reputation":21,"user_id":17329400,"display_name":"Artem Redko"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653682923,"creation_date":1636662034,"question_id":69934445,"body_markdown":"In the C++ context, it is not possible to retrieve the value of jlong when calling a function from the java context using the QAndroidJniObject JNI. Only the jstring value is retrieved. How to extract jlong? How can this be done? Maybe I need on JNI extern C to pass instead of QAndroidJniObject if it is possible in Qt? \r\n\r\n    //----------In Java context:\r\n    package com.sim.lib.operation.OperationData\r\n    \r\n    public class OperationData {\r\n        private final String mID;\r\n        private Long mAmount;\r\n        public String getID() {\r\n            return this.mID;\r\n        }\r\n        public Long getAmount() {\r\n            return this.mAmount;\r\n        }\r\n        OperationData(){\r\n            this.mAmount = 55;\r\n            this.mID = &quot;someid111&quot;;\r\n        }\r\n    }\r\n    //----------In Java context:\r\n    //other package\r\n    import com.sim.lib.operation.OperationData\r\n    public static native void approvedStatusSendToQt(java.lang.Object statusObj);\r\n    OperationData mOperationData = new OperationData();\r\n    approvedStatusSendToQt((Object)mOperationData);\r\n    //------------------------------------------------In C++ context:\r\n    void AndroidClass::registerNatives()\r\n    {\r\n        JNINativeMethod methods[] {\r\n            {&quot;approvedStatusSendToQt&quot;, &quot;(Ljava/lang/Object;)V&quot;,reinterpret_cast&lt;void *&gt;(onOperationStatusApprovedReceived)}\r\n        }\r\n    //.....register method\r\n    };\r\n    static void onOperationStatusApprovedReceived(JNIEnv *env, jobject /*thiz*/,jobject statusObj)\r\n    {\r\n          QAndroidJniObject callbackObj(statusObj);\r\n    qDebug()&lt;&lt;&quot;mId&quot;&lt;&lt;callbackObj.callObjectMethod&lt;jstring&gt;(&quot;getID&quot;).toString(); //Print  &quot;someid111&quot; it&#39;s ok\r\n    qDebug()&lt;&lt;&quot;mAmount&quot;&lt;&lt; callbackObj.callMethod&lt;jlong&gt;(&quot;getAmount&quot;, &quot;()J&quot;); //Print exception  System.err: java.lang.NoSuchMethodError: no non-static method &quot;Lcom/sim/lib/operation/OperationData;.getAmount()J&quot;\r\n    //qDebug()&lt;&lt;&quot;mAmount&quot;&lt;&lt; callbackObj.callMethod&lt;jlong&gt;(&quot;getAmount&quot;);//the same mistake \r\n    }","title":"Not possible in C++ to retrieve the value of jlong from java context using QAndroidJniObject JNI. Exception java.lang.NoSuchMethodError","body":"<p>In the C++ context, it is not possible to retrieve the value of jlong when calling a function from the java context using the QAndroidJniObject JNI. Only the jstring value is retrieved. How to extract jlong? How can this be done? Maybe I need on JNI extern C to pass instead of QAndroidJniObject if it is possible in Qt?</p>\n<pre><code>//----------In Java context:\npackage com.sim.lib.operation.OperationData\n\npublic class OperationData {\n    private final String mID;\n    private Long mAmount;\n    public String getID() {\n        return this.mID;\n    }\n    public Long getAmount() {\n        return this.mAmount;\n    }\n    OperationData(){\n        this.mAmount = 55;\n        this.mID = &quot;someid111&quot;;\n    }\n}\n//----------In Java context:\n//other package\nimport com.sim.lib.operation.OperationData\npublic static native void approvedStatusSendToQt(java.lang.Object statusObj);\nOperationData mOperationData = new OperationData();\napprovedStatusSendToQt((Object)mOperationData);\n//------------------------------------------------In C++ context:\nvoid AndroidClass::registerNatives()\n{\n    JNINativeMethod methods[] {\n        {&quot;approvedStatusSendToQt&quot;, &quot;(Ljava/lang/Object;)V&quot;,reinterpret_cast&lt;void *&gt;(onOperationStatusApprovedReceived)}\n    }\n//.....register method\n};\nstatic void onOperationStatusApprovedReceived(JNIEnv *env, jobject /*thiz*/,jobject statusObj)\n{\n      QAndroidJniObject callbackObj(statusObj);\nqDebug()&lt;&lt;&quot;mId&quot;&lt;&lt;callbackObj.callObjectMethod&lt;jstring&gt;(&quot;getID&quot;).toString(); //Print  &quot;someid111&quot; it's ok\nqDebug()&lt;&lt;&quot;mAmount&quot;&lt;&lt; callbackObj.callMethod&lt;jlong&gt;(&quot;getAmount&quot;, &quot;()J&quot;); //Print exception  System.err: java.lang.NoSuchMethodError: no non-static method &quot;Lcom/sim/lib/operation/OperationData;.getAmount()J&quot;\n//qDebug()&lt;&lt;&quot;mAmount&quot;&lt;&lt; callbackObj.callMethod&lt;jlong&gt;(&quot;getAmount&quot;);//the same mistake \n}\n</code></pre>\n"},{"tags":["java","list","class"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1636662568,"post_id":69934506,"comment_id":123623805,"body_markdown":"The first thing you do is add a teacher using an uninitialized &quot;teacher&quot;. Later you update that single instance of teacher; your next problem will be that all the teachers in the list have the same data.","body":"The first thing you do is add a teacher using an uninitialized &quot;teacher&quot;. Later you update that single instance of teacher; your next problem will be that all the teachers in the list have the same data."},{"owner":{"account_id":22776874,"reputation":93,"user_id":16933388,"display_name":"J.R. BEATS"},"score":0,"creation_date":1636662656,"post_id":69934506,"comment_id":123623844,"body_markdown":"Its supposed to be from the list &quot;teach&quot;","body":"Its supposed to be from the list &quot;teach&quot;"},{"owner":{"account_id":22776874,"reputation":93,"user_id":16933388,"display_name":"J.R. BEATS"},"score":0,"creation_date":1636664583,"post_id":69934506,"comment_id":123624466,"body_markdown":"How can I fix this? Sorry I&#39;m new to Java... I would appreciate the help :)","body":"How can I fix this? Sorry I&#39;m new to Java... I would appreciate the help :)"}],"answers":[{"tags":[],"owner":{"account_id":15254576,"reputation":56,"user_id":11006806,"display_name":"Nacira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636666904,"creation_date":1636664979,"answer_id":69934953,"question_id":69934506,"body_markdown":"in Teacher Class  you must add setters\r\n\r\npublic class Teacher {\r\n\r\n\tpublic Teacher() {\r\n        //null\r\n    }\r\n\r\n    public String first_name;\r\n    public String last_name;\r\n    public String teacher_id;\r\n    public String course;\r\n\r\n    public Teacher(String first_name, String last_name, String teacher_id, String course) {\r\n        this.first_name = first_name;\r\n        this.last_name = last_name;\r\n        this.teacher_id = teacher_id;\r\n        this.course = course;\r\n    }\r\n\r\n    //return firstname\r\n    public String getFirstName() {\r\n        return first_name;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n       this.first_name = firstName;\r\n    }\r\n    \r\n    //return lastname\r\n    public String getLastName() {\r\n        return last_name;\r\n    }\r\n    \r\n    public void setLastName(String lastName) {\r\n        this.last_name = lastName;\r\n     }\r\n\r\n    //return teacherId\r\n    public String getId() {\r\n        return teacher_id;\r\n    }\r\n    \r\n    public void setId(String id) {\r\n        this.teacher_id = id;\r\n     }\r\n    \r\n    //return course\r\n    public String getCourse() {\r\n        return course;\r\n    }\r\n    \r\n    public void setCourse(String course) {\r\n        this.course = course;\r\n     }\r\n}\r\n\r\nin Main \r\ndelete this line\r\n\r\n    teach.add(new Teacher(teachers.getFirstName(), teacher.getLastName(), teacher.getId(), teacher.getCourse()));\r\n\r\nand write:\r\n\r\n    int ch; //user choice\r\n\t        \r\n\t        //add teachers\r\n\t        List&lt;Teacher&gt; teach = new ArrayList&lt;&gt;();\r\n\t        Scanner sc = new Scanner(System.in);\r\n\r\n\t        //\t        teach.add(new Teacher(teachers.getFirstName(), teacher.getLastName(), teacher.getId(), teacher.getCourse()));\r\n\r\n\t        loop : while (true) {\r\n\t            //menu\r\n\t            System.out.println(&quot;&quot;);\r\n\t            System.out.println(&quot;1: Add Teacher&quot;); //user can add a teachers name, id, and course\r\n\t            System.out.println(&quot;2: Add Student&quot;); //user can add a students name, id, courses, and GPA\r\n\t            System.out.println(&quot;3: All Teachers&quot;); //user can access teacher list and change items\r\n\t            System.out.println(&quot;4: All students&quot;); //user can access student list and change items\r\n\t            System.out.println(&quot;5: Exit Program&quot;);\r\n\t            System.out.print(&quot;Enter your choice: &quot;);\r\n\t            ch = sc.nextInt();\r\n\t            System.out.println(&quot;&quot;);\r\n\t            switch (ch) {\r\n\t                case 1:\r\n                        Teacher teachers = new Teacher();\r\n\t                    System.out.println(&quot;Enter teacher&#39;s first name: &quot;);\r\n\t                    teachers.setFirstName(sc.next());\r\n\t                    System.out.println(&quot;Enter teacher&#39;s last name: &quot;);\r\n\t                    teachers.setLastName(sc.next());\r\n\t                    System.out.println(&quot;Enter teacher&#39;s id: &quot;);\r\n\t                    teachers.setId(sc.next() );\r\n\t                    System.out.println(&quot;Enter teacher&#39;s course: &quot;);\r\n\t                    teachers.setCourse (sc.next());\r\n\r\n\t                    teach.add(teachers);\r\n\t                    \r\n\t                    break;\r\n\r\n\t                case 2:\r\n                    // .....\r\n\r\nuse setters to add values and add &quot;teachers&quot; oject to List \r\n\r\n    teach.add(teachers);\r\n\r\n","title":"When I print out my list it prints out null for all my values..... How do I fix this issue???? I want to learn how to fix this issue for future","body":"<p>in Teacher Class  you must add setters</p>\n<p>public class Teacher {</p>\n<pre><code>public Teacher() {\n    //null\n}\n\npublic String first_name;\npublic String last_name;\npublic String teacher_id;\npublic String course;\n\npublic Teacher(String first_name, String last_name, String teacher_id, String course) {\n    this.first_name = first_name;\n    this.last_name = last_name;\n    this.teacher_id = teacher_id;\n    this.course = course;\n}\n\n//return firstname\npublic String getFirstName() {\n    return first_name;\n}\n\npublic void setFirstName(String firstName) {\n   this.first_name = firstName;\n}\n\n//return lastname\npublic String getLastName() {\n    return last_name;\n}\n\npublic void setLastName(String lastName) {\n    this.last_name = lastName;\n }\n\n//return teacherId\npublic String getId() {\n    return teacher_id;\n}\n\npublic void setId(String id) {\n    this.teacher_id = id;\n }\n\n//return course\npublic String getCourse() {\n    return course;\n}\n\npublic void setCourse(String course) {\n    this.course = course;\n }\n</code></pre>\n<p>}</p>\n<p>in Main\ndelete this line</p>\n<pre><code>teach.add(new Teacher(teachers.getFirstName(), teacher.getLastName(), teacher.getId(), teacher.getCourse()));\n</code></pre>\n<p>and write:</p>\n<pre><code>int ch; //user choice\n        \n        //add teachers\n        List&lt;Teacher&gt; teach = new ArrayList&lt;&gt;();\n        Scanner sc = new Scanner(System.in);\n\n        //          teach.add(new Teacher(teachers.getFirstName(), teacher.getLastName(), teacher.getId(), teacher.getCourse()));\n\n        loop : while (true) {\n            //menu\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;1: Add Teacher&quot;); //user can add a teachers name, id, and course\n            System.out.println(&quot;2: Add Student&quot;); //user can add a students name, id, courses, and GPA\n            System.out.println(&quot;3: All Teachers&quot;); //user can access teacher list and change items\n            System.out.println(&quot;4: All students&quot;); //user can access student list and change items\n            System.out.println(&quot;5: Exit Program&quot;);\n            System.out.print(&quot;Enter your choice: &quot;);\n            ch = sc.nextInt();\n            System.out.println(&quot;&quot;);\n            switch (ch) {\n                case 1:\n                    Teacher teachers = new Teacher();\n                    System.out.println(&quot;Enter teacher's first name: &quot;);\n                    teachers.setFirstName(sc.next());\n                    System.out.println(&quot;Enter teacher's last name: &quot;);\n                    teachers.setLastName(sc.next());\n                    System.out.println(&quot;Enter teacher's id: &quot;);\n                    teachers.setId(sc.next() );\n                    System.out.println(&quot;Enter teacher's course: &quot;);\n                    teachers.setCourse (sc.next());\n\n                    teach.add(teachers);\n                    \n                    break;\n\n                case 2:\n                // .....\n</code></pre>\n<p>use setters to add values and add &quot;teachers&quot; oject to List</p>\n<pre><code>teach.add(teachers);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2059508,"reputation":2270,"user_id":1836461,"display_name":"computercarguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636665386,"creation_date":1636665386,"answer_id":69935019,"question_id":69934506,"body_markdown":"You are having OOP issues with your code.\r\n\r\n```` java\r\nteacher teachers = new teacher();\r\n...\r\nList&lt;teacher&gt; teach = new ArrayList&lt;&gt;();\r\nteach.add(new teacher(teachers.first_name, teachers.last_name, teachers.teacher_id, teachers.course));\r\n````\r\n\r\nThis snippet takes a new instance of a `teacher` and then creates a brand new instance of `teacher` to add to the list. *These are 2 distinct objects.* I&#39;m assuming you are coming from C or C++ and you are thinking of them as pointers? Fortunately, that&#39;s not how Java works.\r\n\r\nYou can simply add the &quot;teachers&quot; variable to the &quot;teach&quot; list. Then when you later update the &quot;teachers&quot; object, the data will be available in the &quot;teach&quot; list.\r\n\r\nThe caveat to this is you need to instantiate a new object for &quot;teachers&quot; inside the loop, as well as moving the modified `teach.add(teachers);` into the loop.\r\n\r\n```` java\r\nList&lt;teacher&gt; teach = new ArrayList&lt;&gt;();\r\nList&lt;student&gt; stud = new ArrayList&lt;&gt;();\r\nScanner sc = new Scanner(System.in);\r\n\r\nloop : while (true) {\r\n    ...\r\n    switch (ch) {\r\n        case 1:\r\n            teacher teachers = new teacher();\r\n            ...\r\n            teach.add(teachers);\r\n            break;\r\n        case 2:\r\n            student students = new student();\r\n            ...\r\n            stud.Add(students);\r\n            break;\r\n        ...\r\n````\r\nNow you have a new `teacher` object for every teacher as well as a list containing only valid data, rather than empty objects.\r\n\r\nThis works because &quot;teach&quot; now contains a reference to the instance of &quot;teachers&quot;. This is similar to the pointers of C and C++ I mentioned earlier. In this case, you have a reference to the whole object, not to the individual properties of the object you were trying to have earlier.\r\n\r\nThink of an object as a piece of paper and a list as a box. You can put all kinds of data on the paper, then put the piece of paper in the box. When you need a new object, you get a new piece of paper, write the data on it, and add it to the box. Then when you want to update an object, you find it in the box and update the data. It&#39;s that simple. You can have a complex object where it has instances of other objects in it, but that&#39;s beyond the scope of your question.\r\n\r\nOn a side note\r\n-\r\nClasses `teacher` and `student` should be capitalized as `Teacher` and `Student`. The list of `Teachers` should be named &quot;teachers&quot; and a single `Teacher` object should be named &quot;teacher&quot;, or something that won&#39;t be confused with the class name. In general, lists should be plural and a singular instance should be singular. ","title":"When I print out my list it prints out null for all my values..... How do I fix this issue???? I want to learn how to fix this issue for future","body":"<p>You are having OOP issues with your code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>teacher teachers = new teacher();\n...\nList&lt;teacher&gt; teach = new ArrayList&lt;&gt;();\nteach.add(new teacher(teachers.first_name, teachers.last_name, teachers.teacher_id, teachers.course));\n</code></pre>\n<p>This snippet takes a new instance of a <code>teacher</code> and then creates a brand new instance of <code>teacher</code> to add to the list. <em>These are 2 distinct objects.</em> I'm assuming you are coming from C or C++ and you are thinking of them as pointers? Fortunately, that's not how Java works.</p>\n<p>You can simply add the &quot;teachers&quot; variable to the &quot;teach&quot; list. Then when you later update the &quot;teachers&quot; object, the data will be available in the &quot;teach&quot; list.</p>\n<p>The caveat to this is you need to instantiate a new object for &quot;teachers&quot; inside the loop, as well as moving the modified <code>teach.add(teachers);</code> into the loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;teacher&gt; teach = new ArrayList&lt;&gt;();\nList&lt;student&gt; stud = new ArrayList&lt;&gt;();\nScanner sc = new Scanner(System.in);\n\nloop : while (true) {\n    ...\n    switch (ch) {\n        case 1:\n            teacher teachers = new teacher();\n            ...\n            teach.add(teachers);\n            break;\n        case 2:\n            student students = new student();\n            ...\n            stud.Add(students);\n            break;\n        ...\n</code></pre>\n<p>Now you have a new <code>teacher</code> object for every teacher as well as a list containing only valid data, rather than empty objects.</p>\n<p>This works because &quot;teach&quot; now contains a reference to the instance of &quot;teachers&quot;. This is similar to the pointers of C and C++ I mentioned earlier. In this case, you have a reference to the whole object, not to the individual properties of the object you were trying to have earlier.</p>\n<p>Think of an object as a piece of paper and a list as a box. You can put all kinds of data on the paper, then put the piece of paper in the box. When you need a new object, you get a new piece of paper, write the data on it, and add it to the box. Then when you want to update an object, you find it in the box and update the data. It's that simple. You can have a complex object where it has instances of other objects in it, but that's beyond the scope of your question.</p>\n<h2>On a side note</h2>\n<p>Classes <code>teacher</code> and <code>student</code> should be capitalized as <code>Teacher</code> and <code>Student</code>. The list of <code>Teachers</code> should be named &quot;teachers&quot; and a single <code>Teacher</code> object should be named &quot;teacher&quot;, or something that won't be confused with the class name. In general, lists should be plural and a singular instance should be singular.</p>\n"}],"owner":{"account_id":22776874,"reputation":93,"user_id":16933388,"display_name":"J.R. BEATS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69934953,"answer_count":2,"score":0,"last_activity_date":1653682886,"creation_date":1636662403,"question_id":69934506,"body_markdown":"I made a list for my teachers and print out the list. The list prints, but the problem is that my list prints out null for all values in my list. It gives me null for first name, last name, id and course. What am I doing wrong??? How can I fix this? I want to be able to print out my actual values in my list of teachers. I don&#39;t see what could be the issue if I&#39;m being totally honest. I add the first name, last name, id and course to the teacher list correctly. So, what am I missing?\r\n\r\nError:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iFvFO.png\r\n\r\nMain.java code:\r\n\r\n    package SchoolSystem;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class main{\r\n        public static void main(String[] args) throws InterruptedException {\r\n    \r\n            int ch; //user choice\r\n            teacher teachers = new teacher();\r\n            student students = new student();\r\n            //add teachers\r\n            List&lt;teacher&gt; teach = new ArrayList&lt;&gt;();\r\n            teach.add(new teacher(teachers.first_name, teachers.last_name, teachers.teacher_id, teachers.course));\r\n            Scanner sc = new Scanner(System.in);\r\n    \r\n            loop : while (true) {\r\n                //menu\r\n                System.out.println(&quot;&quot;);\r\n                System.out.println(&quot;1: Add Teacher&quot;); //user can add a teachers name, id, and course\r\n                System.out.println(&quot;2: Add Student&quot;); //user can add a students name, id, courses, and GPA\r\n                System.out.println(&quot;3: All Teachers&quot;); //user can access teacher list and change items\r\n                System.out.println(&quot;4: All students&quot;); //user can access student list and change items\r\n                System.out.println(&quot;5: Exit Program&quot;);\r\n                System.out.print(&quot;Enter your choice: &quot;);\r\n                ch = sc.nextInt();\r\n                System.out.println(&quot;&quot;);\r\n                switch (ch) {\r\n                    case 1:\r\n                        System.out.println(&quot;Enter teacher&#39;s first name: &quot;);\r\n                        teachers.first_name = sc.next();\r\n                        System.out.println(&quot;Enter teacher&#39;s last name: &quot;);\r\n                        teachers.last_name = sc.next();\r\n                        System.out.println(&quot;Enter teacher&#39;s id: &quot;);\r\n                        teachers.teacher_id = sc.next();\r\n                        System.out.println(&quot;Enter teacher&#39;s course: &quot;);\r\n                        teachers.course = sc.next();\r\n                        break;\r\n    \r\n                    case 2:\r\n                        System.out.println(&quot;Enter student&#39;s first name: &quot;);\r\n                        students.first_name = sc.next();\r\n                        System.out.println(&quot;Enter student&#39;s last name: &quot;);\r\n                        students.last_name = sc.next();\r\n                        System.out.println(&quot;Enter student&#39;s id: &quot;);\r\n                        students.student_id = sc.next();\r\n                        System.out.println(&quot;Enter student&#39;s course: &quot;);\r\n                        students.course = sc.next();\r\n                        break;\r\n    \r\n                    case 3:\r\n                        System.out.println(&quot;-----------------------------------------------------------------------------&quot;);\r\n                        System.out.printf(&quot;%1s %20s %5s %5s&quot;, &quot;FIRSTNAME&quot;, &quot;LASTNAME&quot;, &quot;ID&quot;, &quot;COURSE&quot;);\r\n                        System.out.println();\r\n                        System.out.println(&quot;-----------------------------------------------------------------------------&quot;);\r\n                        for(teacher teacher: teach){\r\n                            System.out.format(&quot;%1s %20s %5s %5s&quot;,\r\n                                    teacher.getFirstName(), teacher.getLastName(), teacher.getId(), teacher.getCourse());\r\n                            System.out.println();\r\n                        }\r\n                        System.out.println(&quot;-----------------------------------------------------------------------------&quot;);\r\n                        break;\r\n    \r\n                    case 4:\r\n                        //null\r\n                        break;\r\n    \r\n                    case 5:\r\n                        /*\r\n                        System.out.println(&quot;Exiting Program....&quot;);\r\n                        TimeUnit.SECONDS.sleep(3);\r\n                        System.out.println(&quot;Goodbye!&quot;);\r\n                        break loop;\r\n                         */\r\n                        break;\r\n    \r\n                    default:\r\n                        //System.out.println(&quot;Invalid choice! Please enter an option (1 - 5)&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nTeacher.java code:\r\n\r\n    package SchoolSystem;\r\n    \r\n    public class teacher {\r\n        public teacher() {\r\n            //null\r\n        }\r\n    \r\n        public String first_name;\r\n        public String last_name;\r\n        public String teacher_id;\r\n        public String course;\r\n    \r\n        public teacher(String first_name, String last_name, String teacher_id, String course) {\r\n            this.first_name = first_name;\r\n            this.last_name = last_name;\r\n            this.teacher_id = teacher_id;\r\n            this.course = course;\r\n        }\r\n    \r\n        //return firstname\r\n        public String getFirstName() {\r\n            return first_name;\r\n        }\r\n    \r\n        //return lastname\r\n        public String getLastName() {\r\n            return last_name;\r\n        }\r\n    \r\n        //return teacherId\r\n        public String getId() {\r\n            return teacher_id;\r\n        }\r\n    \r\n        //return course\r\n        public String getCourse() {\r\n            return course;\r\n        }\r\n    }","title":"When I print out my list it prints out null for all my values..... How do I fix this issue???? I want to learn how to fix this issue for future","body":"<p>I made a list for my teachers and print out the list. The list prints, but the problem is that my list prints out null for all values in my list. It gives me null for first name, last name, id and course. What am I doing wrong??? How can I fix this? I want to be able to print out my actual values in my list of teachers. I don't see what could be the issue if I'm being totally honest. I add the first name, last name, id and course to the teacher list correctly. So, what am I missing?</p>\n<p>Error:\n<a href=\"https://i.stack.imgur.com/iFvFO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iFvFO.png\" alt=\"enter image description here\" /></a></p>\n<p>Main.java code:</p>\n<pre><code>package SchoolSystem;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.concurrent.TimeUnit;\n\npublic class main{\n    public static void main(String[] args) throws InterruptedException {\n\n        int ch; //user choice\n        teacher teachers = new teacher();\n        student students = new student();\n        //add teachers\n        List&lt;teacher&gt; teach = new ArrayList&lt;&gt;();\n        teach.add(new teacher(teachers.first_name, teachers.last_name, teachers.teacher_id, teachers.course));\n        Scanner sc = new Scanner(System.in);\n\n        loop : while (true) {\n            //menu\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;1: Add Teacher&quot;); //user can add a teachers name, id, and course\n            System.out.println(&quot;2: Add Student&quot;); //user can add a students name, id, courses, and GPA\n            System.out.println(&quot;3: All Teachers&quot;); //user can access teacher list and change items\n            System.out.println(&quot;4: All students&quot;); //user can access student list and change items\n            System.out.println(&quot;5: Exit Program&quot;);\n            System.out.print(&quot;Enter your choice: &quot;);\n            ch = sc.nextInt();\n            System.out.println(&quot;&quot;);\n            switch (ch) {\n                case 1:\n                    System.out.println(&quot;Enter teacher's first name: &quot;);\n                    teachers.first_name = sc.next();\n                    System.out.println(&quot;Enter teacher's last name: &quot;);\n                    teachers.last_name = sc.next();\n                    System.out.println(&quot;Enter teacher's id: &quot;);\n                    teachers.teacher_id = sc.next();\n                    System.out.println(&quot;Enter teacher's course: &quot;);\n                    teachers.course = sc.next();\n                    break;\n\n                case 2:\n                    System.out.println(&quot;Enter student's first name: &quot;);\n                    students.first_name = sc.next();\n                    System.out.println(&quot;Enter student's last name: &quot;);\n                    students.last_name = sc.next();\n                    System.out.println(&quot;Enter student's id: &quot;);\n                    students.student_id = sc.next();\n                    System.out.println(&quot;Enter student's course: &quot;);\n                    students.course = sc.next();\n                    break;\n\n                case 3:\n                    System.out.println(&quot;-----------------------------------------------------------------------------&quot;);\n                    System.out.printf(&quot;%1s %20s %5s %5s&quot;, &quot;FIRSTNAME&quot;, &quot;LASTNAME&quot;, &quot;ID&quot;, &quot;COURSE&quot;);\n                    System.out.println();\n                    System.out.println(&quot;-----------------------------------------------------------------------------&quot;);\n                    for(teacher teacher: teach){\n                        System.out.format(&quot;%1s %20s %5s %5s&quot;,\n                                teacher.getFirstName(), teacher.getLastName(), teacher.getId(), teacher.getCourse());\n                        System.out.println();\n                    }\n                    System.out.println(&quot;-----------------------------------------------------------------------------&quot;);\n                    break;\n\n                case 4:\n                    //null\n                    break;\n\n                case 5:\n                    /*\n                    System.out.println(&quot;Exiting Program....&quot;);\n                    TimeUnit.SECONDS.sleep(3);\n                    System.out.println(&quot;Goodbye!&quot;);\n                    break loop;\n                     */\n                    break;\n\n                default:\n                    //System.out.println(&quot;Invalid choice! Please enter an option (1 - 5)&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Teacher.java code:</p>\n<pre><code>package SchoolSystem;\n\npublic class teacher {\n    public teacher() {\n        //null\n    }\n\n    public String first_name;\n    public String last_name;\n    public String teacher_id;\n    public String course;\n\n    public teacher(String first_name, String last_name, String teacher_id, String course) {\n        this.first_name = first_name;\n        this.last_name = last_name;\n        this.teacher_id = teacher_id;\n        this.course = course;\n    }\n\n    //return firstname\n    public String getFirstName() {\n        return first_name;\n    }\n\n    //return lastname\n    public String getLastName() {\n        return last_name;\n    }\n\n    //return teacherId\n    public String getId() {\n        return teacher_id;\n    }\n\n    //return course\n    public String getCourse() {\n        return course;\n    }\n}\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1636663051,"post_id":69934546,"comment_id":123623970,"body_markdown":"This is the problem: `SoundEvent getStepSound();` (package visibility) != `protected SoundEvent getStepSound()`.","body":"This is the problem: <code>SoundEvent getStepSound();</code> (package visibility) != <code>protected SoundEvent getStepSound()</code>."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636663030,"creation_date":1636662842,"answer_id":69934603,"question_id":69934546,"body_markdown":"When you override a method, you can *increase* its visibility, but you can&#39;t decrease it. You took a `public` method and overrode it with a `protected` one. That isn&#39;t allowed. The superclass promised that that method can be called from anywhere, and you gave it a method that didn&#39;t meet that promise. Remove the `protected` modifier and you&#39;ll be just fine.\r\n\r\nYou didn&#39;t explicit say, so I&#39;ll include this for completeness. I&#39;m assuming the parent method is `public`. If it really doesn&#39;t have a modifier (like your question shows), then it gets the default visibility of &quot;package-private&quot;. A package-private method can&#39;t be accessed at all outside of the package it was defined in, so if the writer of that class made an abstract package-private method, then they intended that no one outside of the defining package is allowed to subclass their class, so you won&#39;t be allowed to either.\r\n\r\nSee [this post](https://stackoverflow.com/a/215505/2288659) for a summary of the visibility options in Java.","title":"Why does my IDE say my piece of code isnt extending a method of its superclass, even though it is?","body":"<p>When you override a method, you can <em>increase</em> its visibility, but you can't decrease it. You took a <code>public</code> method and overrode it with a <code>protected</code> one. That isn't allowed. The superclass promised that that method can be called from anywhere, and you gave it a method that didn't meet that promise. Remove the <code>protected</code> modifier and you'll be just fine.</p>\n<p>You didn't explicit say, so I'll include this for completeness. I'm assuming the parent method is <code>public</code>. If it really doesn't have a modifier (like your question shows), then it gets the default visibility of &quot;package-private&quot;. A package-private method can't be accessed at all outside of the package it was defined in, so if the writer of that class made an abstract package-private method, then they intended that no one outside of the defining package is allowed to subclass their class, so you won't be allowed to either.</p>\n<p>See <a href=\"https://stackoverflow.com/a/215505/2288659\">this post</a> for a summary of the visibility options in Java.</p>\n"}],"owner":{"account_id":19339033,"reputation":1,"user_id":14139027,"display_name":"icedchai codes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653682863,"creation_date":1636662602,"question_id":69934546,"body_markdown":"I&#39;ve been using IntelliJ IDEA for my recent coding in java, especially Minecraft.\r\n\r\nI tried extending the class AbstractSkeletonEntity which is an abstract class with one particular method that has been trouble for me recently:\r\n\r\n\tabstract SoundEvent getStepSound();\r\nin my own code, I try overriding the method:\r\n\r\n    public class SkeletonKnightEntity extends AbstractSkeletonEntity {\r\n\r\n\r\n\r\n    public boolean SkeletonCanSpawn = true;\r\n\r\n    public SkeletonKnightEntity(EntityType&lt;? extends AbstractSkeletonEntity&gt; entityType, World world) {\r\n        super(entityType, world);\r\n\r\n    }\r\n\r\n    protected SoundEvent getAmbientSound() {\r\n        return SoundEvents.ENTITY_WITHER_SKELETON_AMBIENT;\r\n    }\r\n\r\n    protected SoundEvent getHurtSound(DamageSource source) {\r\n        return SoundEvents.ENTITY_WITHER_SKELETON_HURT;\r\n    }\r\n\r\n    protected SoundEvent getDeathSound() {\r\n        return SoundEvents.ENTITY_WITHER_SKELETON_DEATH;\r\n    }\r\n\r\n    @Override\r\n    protected void playStepSound(BlockPos pos, BlockState state) {\r\n        this.playSound(this.getStepSound(), 0.15F, 1.0F);\r\n    }\r\n\r\n    @Override\r\n    protected SoundEvent getStepSound() { return SoundEvents.ENTITY_WITHER_SKELETON_STEP;}\r\n    //^ here is the error\r\n\r\n    @Override\r\n    public void attack(LivingEntity target, float pullProgress) {\r\n\r\n    }\r\n    @Override\r\n    public void tickMovement() {\r\n        super.tickMovement();\r\n    }\r\n    public static DefaultAttributeContainer.Builder createSKnightAttributes(){\r\n        return HostileEntity.createHostileAttributes()\r\n\r\n                .add(EntityAttributes.GENERIC_MOVEMENT_SPEED, 0.25D)\r\n                .add(EntityAttributes.GENERIC_FOLLOW_RANGE, 30)\r\n                .add(EntityAttributes.GENERIC_ATTACK_DAMAGE, 1)\r\n\r\n                ;\r\n    }\r\n    @Override\r\n    protected void initGoals() {\r\n        this.goalSelector.add(3, new FleeEntityGoal(this, WolfEntity.class, 6.0F, 1.0D, 1.2D));\r\n        this.goalSelector.add(5, new WanderAroundFarGoal(this, 1.0D));\r\n        this.goalSelector.add(6, new LookAtEntityGoal(this, PlayerEntity.class, 8.0F));\r\n        this.goalSelector.add(6, new LookAroundGoal(this));\r\n        this.targetSelector.add(1, new RevengeGoal(this, new Class[0]));\r\n        this.targetSelector.add(2, new FollowTargetGoal(this, PlayerEntity.class, true));\r\n        this.targetSelector.add(3, new FollowTargetGoal(this, IronGolemEntity.class, true));\r\n        this.targetSelector.add(3, new FollowTargetGoal(this, TurtleEntity.class, 10, true, false, TurtleEntity.BABY_TURTLE_ON_LAND_FILTER));\r\n    }\r\n    protected void dropEquipment(DamageSource source, int lootingMultiplier, boolean allowDrops) {\r\n        super.dropEquipment(source, lootingMultiplier, allowDrops);\r\n        Entity entity = source.getAttacker();\r\n        if (entity instanceof CreeperEntity) {\r\n            CreeperEntity creeperEntity = (CreeperEntity)entity;\r\n            if (creeperEntity.shouldDropHead()) {\r\n                creeperEntity.onHeadDropped();\r\n                this.dropItem(Items.SKELETON_SKULL);\r\n            }\r\n        }\r\n\r\n    }\r\n    }\r\n\r\nthe IDE tells me for the code to work, I have to declare SkeletonKnightEntity abstract or implement the abstract method getStepSound() which I already did. when I try overriding the getStepSound() method, it tells me it&#39;s not overriding anything from the superclass. does anyone know what could be causing this?","title":"Why does my IDE say my piece of code isnt extending a method of its superclass, even though it is?","body":"<p>I've been using IntelliJ IDEA for my recent coding in java, especially Minecraft.</p>\n<p>I tried extending the class AbstractSkeletonEntity which is an abstract class with one particular method that has been trouble for me recently:</p>\n<pre><code>abstract SoundEvent getStepSound();\n</code></pre>\n<p>in my own code, I try overriding the method:</p>\n<pre><code>public class SkeletonKnightEntity extends AbstractSkeletonEntity {\n\n\n\npublic boolean SkeletonCanSpawn = true;\n\npublic SkeletonKnightEntity(EntityType&lt;? extends AbstractSkeletonEntity&gt; entityType, World world) {\n    super(entityType, world);\n\n}\n\nprotected SoundEvent getAmbientSound() {\n    return SoundEvents.ENTITY_WITHER_SKELETON_AMBIENT;\n}\n\nprotected SoundEvent getHurtSound(DamageSource source) {\n    return SoundEvents.ENTITY_WITHER_SKELETON_HURT;\n}\n\nprotected SoundEvent getDeathSound() {\n    return SoundEvents.ENTITY_WITHER_SKELETON_DEATH;\n}\n\n@Override\nprotected void playStepSound(BlockPos pos, BlockState state) {\n    this.playSound(this.getStepSound(), 0.15F, 1.0F);\n}\n\n@Override\nprotected SoundEvent getStepSound() { return SoundEvents.ENTITY_WITHER_SKELETON_STEP;}\n//^ here is the error\n\n@Override\npublic void attack(LivingEntity target, float pullProgress) {\n\n}\n@Override\npublic void tickMovement() {\n    super.tickMovement();\n}\npublic static DefaultAttributeContainer.Builder createSKnightAttributes(){\n    return HostileEntity.createHostileAttributes()\n\n            .add(EntityAttributes.GENERIC_MOVEMENT_SPEED, 0.25D)\n            .add(EntityAttributes.GENERIC_FOLLOW_RANGE, 30)\n            .add(EntityAttributes.GENERIC_ATTACK_DAMAGE, 1)\n\n            ;\n}\n@Override\nprotected void initGoals() {\n    this.goalSelector.add(3, new FleeEntityGoal(this, WolfEntity.class, 6.0F, 1.0D, 1.2D));\n    this.goalSelector.add(5, new WanderAroundFarGoal(this, 1.0D));\n    this.goalSelector.add(6, new LookAtEntityGoal(this, PlayerEntity.class, 8.0F));\n    this.goalSelector.add(6, new LookAroundGoal(this));\n    this.targetSelector.add(1, new RevengeGoal(this, new Class[0]));\n    this.targetSelector.add(2, new FollowTargetGoal(this, PlayerEntity.class, true));\n    this.targetSelector.add(3, new FollowTargetGoal(this, IronGolemEntity.class, true));\n    this.targetSelector.add(3, new FollowTargetGoal(this, TurtleEntity.class, 10, true, false, TurtleEntity.BABY_TURTLE_ON_LAND_FILTER));\n}\nprotected void dropEquipment(DamageSource source, int lootingMultiplier, boolean allowDrops) {\n    super.dropEquipment(source, lootingMultiplier, allowDrops);\n    Entity entity = source.getAttacker();\n    if (entity instanceof CreeperEntity) {\n        CreeperEntity creeperEntity = (CreeperEntity)entity;\n        if (creeperEntity.shouldDropHead()) {\n            creeperEntity.onHeadDropped();\n            this.dropItem(Items.SKELETON_SKULL);\n        }\n    }\n\n}\n}\n</code></pre>\n<p>the IDE tells me for the code to work, I have to declare SkeletonKnightEntity abstract or implement the abstract method getStepSound() which I already did. when I try overriding the getStepSound() method, it tells me it's not overriding anything from the superclass. does anyone know what could be causing this?</p>\n"},{"tags":["java","postgresql","jpa","spring-data-jpa","many-to-many"],"answers":[{"tags":[],"owner":{"account_id":17896121,"reputation":233,"user_id":13001494,"display_name":"Antaaaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593444437,"creation_date":1593444053,"answer_id":62641356,"question_id":62641121,"body_markdown":"You need to make any references to that ```UsersEntity``` to be null.\r\n\r\nSo basically what is the problem? While ```RolesEntity``` has a reference to that ```UsersEntity``` class you cannot delete that. The most trivial thing to do is to make a loop for each ```RolesEntity``` in your ```UsersEntity``` class and remove everything from it.\r\n\r\nThen you can successfully delete that user from your db.  \r\n\r\nCheck this out to get more info: https://stackoverflow.com/questions/1082095/how-to-remove-entity-with-manytomany-relationship-in-jpa-and-corresponding-join","title":"Remove the first entity and its relationship without removing the second entity - Spring Data JPA","body":"<p>You need to make any references to that <code>UsersEntity</code> to be null.</p>\n<p>So basically what is the problem? While <code>RolesEntity</code> has a reference to that <code>UsersEntity</code> class you cannot delete that. The most trivial thing to do is to make a loop for each <code>RolesEntity</code> in your <code>UsersEntity</code> class and remove everything from it.</p>\n<p>Then you can successfully delete that user from your db.</p>\n<p>Check this out to get more info: <a href=\"https://stackoverflow.com/questions/1082095/how-to-remove-entity-with-manytomany-relationship-in-jpa-and-corresponding-join\">How to remove entity with ManyToMany relationship in JPA (and corresponding join table rows)?</a></p>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1593445074,"creation_date":1593445074,"answer_id":62641680,"question_id":62641121,"body_markdown":"I solved my issue like this, I&#39;m not sure if this is a best approach to solve this:\r\n\r\n    public void removeUser(Long id) {\r\n        Optional&lt;UsersEntity&gt; userById = usersRepository.findById(id);\r\n        if (userById.isPresent()) {\r\n            UsersEntity user = userById.get();\r\n            for (RolesEntity role : user.getRoles()) {\r\n                role.setUsers(null);\r\n                rolesRepository.save(role);\r\n            }\r\n            usersRepository.delete(user);\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;User not found!&quot;);\r\n        }\r\n    }","title":"Remove the first entity and its relationship without removing the second entity - Spring Data JPA","body":"<p>I solved my issue like this, I'm not sure if this is a best approach to solve this:</p>\n<pre><code>public void removeUser(Long id) {\n    Optional&lt;UsersEntity&gt; userById = usersRepository.findById(id);\n    if (userById.isPresent()) {\n        UsersEntity user = userById.get();\n        for (RolesEntity role : user.getRoles()) {\n            role.setUsers(null);\n            rolesRepository.save(role);\n        }\n        usersRepository.delete(user);\n    } else {\n        throw new IllegalArgumentException(&quot;User not found!&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20741643,"reputation":11,"user_id":15231139,"display_name":"dassoop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653682862,"creation_date":1653682846,"answer_id":72410687,"question_id":62641121,"body_markdown":"I think you can do this by using CascadeType.REMOVE\r\n\r\n```\r\n    @ManyToMany(cascade = CascadeType.REMOVE, fetch = FetchType.EAGER)\r\n    @JoinTable(\r\n            name = &quot;users_roles&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private List&lt;Role&gt; roles;\r\n```","title":"Remove the first entity and its relationship without removing the second entity - Spring Data JPA","body":"<p>I think you can do this by using CascadeType.REMOVE</p>\n<pre><code>    @ManyToMany(cascade = CascadeType.REMOVE, fetch = FetchType.EAGER)\n    @JoinTable(\n            name = &quot;users_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private List&lt;Role&gt; roles;\n</code></pre>\n"}],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":62641680,"answer_count":3,"score":-1,"last_activity_date":1653682862,"creation_date":1593443328,"question_id":62641121,"body_markdown":"I have two entities, one of UserEntity and the other RoleEntity, the user can have multiple roles and the role can be used by multiple users, my entities look like:\r\n\r\n    @Entity\r\n    public class UsersEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(nullable = false)\r\n        private Long id;\r\n        //...\r\n        @ManyToMany(mappedBy = &quot;users&quot;)\r\n        private Set&lt;RolesEntity&gt; roles;\r\n        //...\r\n    \r\n        // Getters and setters\r\n    }\r\n\r\n---\r\n\r\n    @Entity\r\n    public class RolesEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(nullable = false)\r\n        private Integer id;\r\n        @NotNull\r\n        @Enumerated(EnumType.STRING)\r\n        @Column(length = 20)\r\n        private RoleEnum name;\r\n        @JoinTable(name = &quot;user_roles&quot;, joinColumns = {\r\n            @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)}, inverseJoinColumns = {\r\n            @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)})\r\n        @ManyToMany\r\n        private List&lt;UsersEntity&gt; users;\r\n    }\r\n\r\nGenerally roles are fixed they don&#39;t change a lot. Now I have a service:\r\n\r\n    public void removeUser(Long id) {\r\n        if (userRepository.findById(id).isPresent()) {\r\n            userRepository.deleteById(id);\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;User not found!&quot;);\r\n        }\r\n    }\r\n\r\nMy requirement is to remove only the user and not the roles related with this user, which mean remove the user and the relation ship. When I call the previews method I got.\r\n\r\n    org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;users&quot; violates foreign key constraint &quot;constraint_user_id&quot; on table &quot;user_roles&quot;\r\n      Detail: Key (id)=(4) is still referenced from table &quot;user_roles&quot;.\r\n\r\n---\r\n\r\nIs there any trick to solve this please?","title":"Remove the first entity and its relationship without removing the second entity - Spring Data JPA","body":"<p>I have two entities, one of UserEntity and the other RoleEntity, the user can have multiple roles and the role can be used by multiple users, my entities look like:</p>\n<pre><code>@Entity\npublic class UsersEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false)\n    private Long id;\n    //...\n    @ManyToMany(mappedBy = &quot;users&quot;)\n    private Set&lt;RolesEntity&gt; roles;\n    //...\n\n    // Getters and setters\n}\n</code></pre>\n<hr />\n<pre><code>@Entity\npublic class RolesEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false)\n    private Integer id;\n    @NotNull\n    @Enumerated(EnumType.STRING)\n    @Column(length = 20)\n    private RoleEnum name;\n    @JoinTable(name = &quot;user_roles&quot;, joinColumns = {\n        @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)}, inverseJoinColumns = {\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)})\n    @ManyToMany\n    private List&lt;UsersEntity&gt; users;\n}\n</code></pre>\n<p>Generally roles are fixed they don't change a lot. Now I have a service:</p>\n<pre><code>public void removeUser(Long id) {\n    if (userRepository.findById(id).isPresent()) {\n        userRepository.deleteById(id);\n    } else {\n        throw new IllegalArgumentException(&quot;User not found!&quot;);\n    }\n}\n</code></pre>\n<p>My requirement is to remove only the user and not the roles related with this user, which mean remove the user and the relation ship. When I call the previews method I got.</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;users&quot; violates foreign key constraint &quot;constraint_user_id&quot; on table &quot;user_roles&quot;\n  Detail: Key (id)=(4) is still referenced from table &quot;user_roles&quot;.\n</code></pre>\n<hr />\n<p>Is there any trick to solve this please?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636709568,"creation_date":1636709568,"answer_id":69940699,"question_id":69934684,"body_markdown":"What you are trying is not possible with JPA.\r\n\r\nYou habe to use the Constructor Expression.\r\n\r\n    select NEW &lt;packagename&gt;.AllRecordsDTO(r.recordName,\r\n           rt.recordTypeName,\r\n           s.name,\r\n           usi.userId,\r\n           r.createdDateTime,\r\n           usi1.userId,\r\n           r.lastChangedDateTime)\r\n    from Record r\r\n             left join Section s on s.id = r.statusId\r\n             left join UniqueSecurityIdentifier usi on usi.id = r.createdByUserId\r\n             left join RecordType rt on rt.id = r.recordTypeId\r\n             left join UniqueSecurityIdentifier usi1 on usi1.id = r.lastChangedByUserId\r\n\r\nPlease also checkout the Hibernate documentation: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#hql-select-clause","title":"Cannot create TypedQuery for query with more than one return using requested result type, despite having correct DTO","body":"<p>What you are trying is not possible with JPA.</p>\n<p>You habe to use the Constructor Expression.</p>\n<pre><code>select NEW &lt;packagename&gt;.AllRecordsDTO(r.recordName,\n       rt.recordTypeName,\n       s.name,\n       usi.userId,\n       r.createdDateTime,\n       usi1.userId,\n       r.lastChangedDateTime)\nfrom Record r\n         left join Section s on s.id = r.statusId\n         left join UniqueSecurityIdentifier usi on usi.id = r.createdByUserId\n         left join RecordType rt on rt.id = r.recordTypeId\n         left join UniqueSecurityIdentifier usi1 on usi1.id = r.lastChangedByUserId\n</code></pre>\n<p>Please also checkout the Hibernate documentation: <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#hql-select-clause\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#hql-select-clause</a></p>\n"}],"owner":{"account_id":3484456,"reputation":2621,"user_id":2915738,"display_name":"Asif Kamran Malick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69940699,"answer_count":1,"score":0,"last_activity_date":1653682803,"creation_date":1636663289,"question_id":69934684,"body_markdown":"I have gone through other similar questions on this topic and found that my setup is correct (at least confirms to what others had suggested in the past).\r\n\r\nI do have a dedicated AllRecordsDTO for the purpose of this query, and it does have all the necessary fields for successful mapping of the query result.\r\n\r\n**AllRecordsDTO.java :**\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class AllRecordsDTO {\r\n\r\n    @Getter\r\n    @Setter\r\n    private String recordName;\r\n\r\n    @Getter\r\n    @Setter\r\n    private String recordTypeName;\r\n\r\n    @Getter\r\n    @Setter\r\n    private String statusName;\r\n\r\n    @Getter\r\n    @Setter\r\n    private String createdByUserId;\r\n\r\n    @Getter\r\n    @Setter\r\n    private String createdDateTime;\r\n\r\n    @Getter\r\n    @Setter\r\n    private String lastChangedByUserId;\r\n\r\n    @Getter\r\n    @Setter\r\n    private String lastChangedDateTime;\r\n\r\n}\t\r\n```\r\n\r\n\r\nThe **allRecordsQuery** query\r\n\r\n```sql\r\n    select r.recordName,\r\n       rt.recordTypeName,\r\n       s.name,\r\n       usi.userId,\r\n       r.createdDateTime,\r\n       usi1.userId,\r\n       r.lastChangedDateTime\r\nfrom Record r\r\n         left join Section s on s.id = r.statusId\r\n         left join UniqueSecurityIdentifier usi on usi.id = r.createdByUserId\r\n         left join RecordType rt on rt.id = r.recordTypeId\r\n         left join UniqueSecurityIdentifier usi1 on usi1.id = r.lastChangedByUserId\r\n```\r\n\r\nThe line that throws the exception :\r\n\r\n    Query&lt;AllRecordsDTO&gt; createdQuery = statelessSession.createQuery(allRecordsQuery, AllRecordssDTO.class);\r\n\r\n\r\nAll the Entity fields used in the query above are String (even the date fields are String in the above entities).\r\n\r\nI am not sure what could have gone wrong.","title":"Cannot create TypedQuery for query with more than one return using requested result type, despite having correct DTO","body":"<p>I have gone through other similar questions on this topic and found that my setup is correct (at least confirms to what others had suggested in the past).</p>\n<p>I do have a dedicated AllRecordsDTO for the purpose of this query, and it does have all the necessary fields for successful mapping of the query result.</p>\n<p><strong>AllRecordsDTO.java :</strong></p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class AllRecordsDTO {\n\n    @Getter\n    @Setter\n    private String recordName;\n\n    @Getter\n    @Setter\n    private String recordTypeName;\n\n    @Getter\n    @Setter\n    private String statusName;\n\n    @Getter\n    @Setter\n    private String createdByUserId;\n\n    @Getter\n    @Setter\n    private String createdDateTime;\n\n    @Getter\n    @Setter\n    private String lastChangedByUserId;\n\n    @Getter\n    @Setter\n    private String lastChangedDateTime;\n\n}   \n</code></pre>\n<p>The <strong>allRecordsQuery</strong> query</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    select r.recordName,\n       rt.recordTypeName,\n       s.name,\n       usi.userId,\n       r.createdDateTime,\n       usi1.userId,\n       r.lastChangedDateTime\nfrom Record r\n         left join Section s on s.id = r.statusId\n         left join UniqueSecurityIdentifier usi on usi.id = r.createdByUserId\n         left join RecordType rt on rt.id = r.recordTypeId\n         left join UniqueSecurityIdentifier usi1 on usi1.id = r.lastChangedByUserId\n</code></pre>\n<p>The line that throws the exception :</p>\n<pre><code>Query&lt;AllRecordsDTO&gt; createdQuery = statelessSession.createQuery(allRecordsQuery, AllRecordssDTO.class);\n</code></pre>\n<p>All the Entity fields used in the query above are String (even the date fields are String in the above entities).</p>\n<p>I am not sure what could have gone wrong.</p>\n"},{"tags":["java","android","unity-game-engine","webview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653694467,"post_id":72409843,"comment_id":127921141,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":7563840,"reputation":4167,"user_id":5740243,"display_name":"KiynL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653682776,"creation_date":1653682405,"answer_id":72410623,"question_id":72409843,"body_markdown":"The best way to solve this problem is to use **Unity new input system**. This method allows you to set the equivalent of your keys in both Android and PC as well as in switch or xbox controls or more..., after setup you can share all the code to one point to using the Vector input of directions.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/qMnsw.png\r\n\r\nAfter defining the actions in the new input system, you can synchronize the controls by reference to the Action. Below is an example of how to use the new input system.\r\n\r\n```c-sharp\r\nprivate PlayerControls _controls;\r\npublic void Start()\r\n{\r\n    _controls = new PlayerControls();\r\n    _controls.Enable();\r\n}\r\npublic void Update()\r\n{\r\n    Vector3 input = _controls.GamePlay.Move.ReadValue&lt;Vector2&gt;();\r\n    \r\n    transform.position += input * Time.deltaTime;\r\n}\r\n```\r\n\r\n","title":"Java/Unity/Android - How do I Make a keycode event triggered when pressing a button?","body":"<p>The best way to solve this problem is to use <strong>Unity new input system</strong>. This method allows you to set the equivalent of your keys in both Android and PC as well as in switch or xbox controls or more..., after setup you can share all the code to one point to using the Vector input of directions.</p>\n<p><a href=\"https://i.stack.imgur.com/qMnsw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qMnsw.png\" alt=\"enter image description here\" /></a></p>\n<p>After defining the actions in the new input system, you can synchronize the controls by reference to the Action. Below is an example of how to use the new input system.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>private PlayerControls _controls;\npublic void Start()\n{\n    _controls = new PlayerControls();\n    _controls.Enable();\n}\npublic void Update()\n{\n    Vector3 input = _controls.GamePlay.Move.ReadValue&lt;Vector2&gt;();\n    \n    transform.position += input * Time.deltaTime;\n}\n</code></pre>\n"}],"owner":{"account_id":23885776,"reputation":11,"user_id":17885955,"display_name":"Aiman El Harzli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653682776,"creation_date":1653677054,"question_id":72409843,"body_markdown":"so, I have a WebView loading a html5 game on it, and it&#39;s working fine. \r\n\r\nBut the problem is that some games are only supporting pc, and I can&#39;t play them in my mobile. so For Example, on a PC, if a user is moving the player using arrow keys, \r\nIt will not be able to move in my mobile since I don&#39;t have arrow keys.\r\n\r\nWhat I am trying to do is make some buttons on my android project that trigger the same Keycode events on a PC.\r\n\r\nTo specify even more, instead of having 4 arrow keys, I want to have 4 buttons that triggers the same keycode that would make the player move.\r\n\r\nIs there a way to make it happen?\r\n\r\n\r\n\r\n","title":"Java/Unity/Android - How do I Make a keycode event triggered when pressing a button?","body":"<p>so, I have a WebView loading a html5 game on it, and it's working fine.</p>\n<p>But the problem is that some games are only supporting pc, and I can't play them in my mobile. so For Example, on a PC, if a user is moving the player using arrow keys,\nIt will not be able to move in my mobile since I don't have arrow keys.</p>\n<p>What I am trying to do is make some buttons on my android project that trigger the same Keycode events on a PC.</p>\n<p>To specify even more, instead of having 4 arrow keys, I want to have 4 buttons that triggers the same keycode that would make the player move.</p>\n<p>Is there a way to make it happen?</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":15366220,"reputation":2061,"user_id":11085663,"display_name":"Saeid Lotfi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653682775,"creation_date":1636663388,"question_id":69934699,"body_markdown":"Is it possible to change the color of a line in StrikethroughSpan without changing text color?\r\n\r\n[![enter image description here][1]][1]\r\n             \r\n\r\n     setSpan(\r\n            StrikethroughSpan(),\r\n            start,\r\n            start + credit.length,\r\n            Spanned.SPAN_INCLUSIVE_EXCLUSIVE\r\n        )\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NKLnj.png","title":"How to have different color for line and text in StrikethroughSpan?","body":"<p>Is it possible to change the color of a line in StrikethroughSpan without changing text color?</p>\n<p><a href=\"https://i.stack.imgur.com/NKLnj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NKLnj.png\" alt=\"enter image description here\" /></a></p>\n<pre><code> setSpan(\n        StrikethroughSpan(),\n        start,\n        start + credit.length,\n        Spanned.SPAN_INCLUSIVE_EXCLUSIVE\n    )\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":0,"creation_date":1636632317,"post_id":69927911,"comment_id":123611849,"body_markdown":"Mask `8` is used on local machines, so your addresses are interpreted as the same https://superuser.com/a/393701/891550","body":"Mask <code>8</code> is used on local machines, so your addresses are interpreted as the same <a href=\"https://superuser.com/a/393701/891550\">superuser.com/a/393701/891550</a>"},{"owner":{"account_id":1659832,"reputation":15646,"user_id":2147481,"accept_rate":82,"display_name":"Gokul Nath KP"},"score":0,"creation_date":1636632405,"post_id":69927911,"comment_id":123611885,"body_markdown":"https://serverfault.com/questions/508324/is-it-possible-to-run-two-services-on-the-same-ports-with-different-ip-but-on-th","body":"<a href=\"https://serverfault.com/questions/508324/is-it-possible-to-run-two-services-on-the-same-ports-with-different-ip-but-on-th\" title=\"is it possible to run two services on the same ports with different ip but on th\">serverfault.com/questions/508324/&hellip;</a>"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1653683114,"post_id":69927911,"comment_id":127918936,"body_markdown":"Deploy them on separate Docker containers and map them to different host ports.","body":"Deploy them on separate Docker containers and map them to different host ports."}],"answers":[{"tags":[],"owner":{"account_id":23136497,"reputation":150,"user_id":17240662,"display_name":"Batek&#39;S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636632500,"creation_date":1636632312,"answer_id":69928013,"question_id":69927911,"body_markdown":"Each port has a single, so if you have run your program it will throw an error, but if run two instances then use diffrent available port.\r\n\r\n\r\n    final SocketAddress socketAddress = new InetSocketAddress(&quot;127.0.0.2&quot;, 8888);\r\n    \r\n    Server server = NettyServerBuilder.forAddress(socketAddress)\r\n        .addService(coordinator)\r\n        .build();\r\n    server.start();\r\n    \r\n    final SocketAddress socketAddress2 = new InetSocketAddress(&quot;127.0.0.1&quot;, [Available_Port]);\r\n    \r\n    Server server2 = NettyServerBuilder.forAddress(socketAddress2)\r\n        .addService(coordinator)\r\n        .build();\r\n    server2.start();","title":"Use two local ips in same port","body":"<p>Each port has a single, so if you have run your program it will throw an error, but if run two instances then use diffrent available port.</p>\n<pre><code>final SocketAddress socketAddress = new InetSocketAddress(&quot;127.0.0.2&quot;, 8888);\n\nServer server = NettyServerBuilder.forAddress(socketAddress)\n    .addService(coordinator)\n    .build();\nserver.start();\n\nfinal SocketAddress socketAddress2 = new InetSocketAddress(&quot;127.0.0.1&quot;, [Available_Port]);\n\nServer server2 = NettyServerBuilder.forAddress(socketAddress2)\n    .addService(coordinator)\n    .build();\nserver2.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636632606,"creation_date":1636632606,"answer_id":69928092,"question_id":69927911,"body_markdown":"As you can read on https://en.wikipedia.org/wiki/Localhost,\r\n\r\n&gt; IPv4 network standards reserve the entire 127.0.0.0/8 address block for loopback purposes. That means any packet sent to one of those 16,777,214 addresses (127.0.0.1 through 127.255.255.254) is looped back. IPv6 has just a single address, ::1.\r\n\r\nSo you cannot use the same port number for two loopback addresses unless you change DNS resolution editing `/etc/hosts`.","title":"Use two local ips in same port","body":"<p>As you can read on <a href=\"https://en.wikipedia.org/wiki/Localhost\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Localhost</a>,</p>\n<blockquote>\n<p>IPv4 network standards reserve the entire 127.0.0.0/8 address block for loopback purposes. That means any packet sent to one of those 16,777,214 addresses (127.0.0.1 through 127.255.255.254) is looped back. IPv6 has just a single address, ::1.</p>\n</blockquote>\n<p>So you cannot use the same port number for two loopback addresses unless you change DNS resolution editing <code>/etc/hosts</code>.</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69928092,"answer_count":2,"score":3,"last_activity_date":1653682592,"creation_date":1636631860,"question_id":69927911,"body_markdown":"Is it possible in local to use two local ips (`127.0.0.1, 127.0.0.2`) apart from use `/etc/host` to create alias?\r\n\r\nI&#39;m trying to test two services that point to the same `port`.\r\n\r\nI was trying to use `NettyServerBuilder` with `InetSocketAddress` in ip `127.0.0.2` but it&#39;s not possible and return a `Caused by: java.net.BindException: Address already in use: bind`\r\n\r\n\r\n    final SocketAddress socketAddress = new InetSocketAddress(&quot;127.0.0.2&quot;, 8888);\r\n\r\n    Server server = NettyServerBuilder.forAddress(socketAddress)\r\n        .addService(coordinator)\r\n        .build();\r\n    server.start();\r\n\r\n    final SocketAddress socketAddress2 = new InetSocketAddress(&quot;127.0.0.1&quot;, 8888);\r\n\r\n    Server server2 = NettyServerBuilder.forAddress(socketAddress2)\r\n        .addService(coordinator)\r\n        .build();\r\n    server2.start();","title":"Use two local ips in same port","body":"<p>Is it possible in local to use two local ips (<code>127.0.0.1, 127.0.0.2</code>) apart from use <code>/etc/host</code> to create alias?</p>\n<p>I'm trying to test two services that point to the same <code>port</code>.</p>\n<p>I was trying to use <code>NettyServerBuilder</code> with <code>InetSocketAddress</code> in ip <code>127.0.0.2</code> but it's not possible and return a <code>Caused by: java.net.BindException: Address already in use: bind</code></p>\n<pre><code>final SocketAddress socketAddress = new InetSocketAddress(&quot;127.0.0.2&quot;, 8888);\n\nServer server = NettyServerBuilder.forAddress(socketAddress)\n    .addService(coordinator)\n    .build();\nserver.start();\n\nfinal SocketAddress socketAddress2 = new InetSocketAddress(&quot;127.0.0.1&quot;, 8888);\n\nServer server2 = NettyServerBuilder.forAddress(socketAddress2)\n    .addService(coordinator)\n    .build();\nserver2.start();\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2128241,"reputation":3579,"user_id":1889768,"accept_rate":85,"display_name":"Abbas"},"score":2,"creation_date":1636632640,"post_id":69928035,"comment_id":123611967,"body_markdown":"Why not wrap `ScrollView` in `LinearLayout`? I mean, if the intention is merely to scroll the contents of `LinearLayout`.","body":"Why not wrap <code>ScrollView</code> in <code>LinearLayout</code>? I mean, if the intention is merely to scroll the contents of <code>LinearLayout</code>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1636718998,"post_id":69928035,"comment_id":123637445,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":18060993,"reputation":1,"user_id":13128121,"display_name":"lui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653682549,"creation_date":1636632373,"question_id":69928035,"body_markdown":"I have an onTouchEvent on a Linearlayout which has multiple Views(Rows).\r\nWhen I set an setOnClickListener to the child views of my Linearlayout onTouchEvent on the Linearlayout won&#39;t work anymore. I just performs the setOnClickListener of the child views.\r\n\r\nI need the event.getY(); for my own smoothscroller. I add the delta movement to my scrollpoint and with that scrollpoint variable I set my items in the list. It should become an own recyclerview with endlessscroll already implemented, Is it possible to get that information out of the scrollview? Sorry for my bad English.\r\n\r\n  \r\n\r\n\r\n    \r\n    public class ScrollLinearLayout extends LinearLayout {\r\n    ....\r\n    public void init(Context context) {\r\n    \r\n      for (int i = 0; i &lt; visiblerows; i++) {\r\n                View view = inflater.inflate(R.layout.row, this);\r\n            }\r\n    }\r\n    \r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n         ... do scrolling here\r\n    }\r\n    \r\n    \r\n    ..other class\r\n    public class mylayout extends ScrollLinearLayout {\r\n    ...\r\n    @Override\r\n        public void onUpdate(int position, View v)\r\n        {\r\n            String item=locallist.get(position);\r\n            TextView text =(TextView) v.findViewById(R.id.textviewID);\r\n            text.setText(item);\r\n    \r\n           v.setOnClickListener(new OnClickListener() {\r\n               @Override\r\n               public void onClick(View v) {\r\n    \r\n               }\r\n           });\r\n    \r\n        }","title":"setOnClickListener onTouchEvent","body":"<p>I have an onTouchEvent on a Linearlayout which has multiple Views(Rows).\nWhen I set an setOnClickListener to the child views of my Linearlayout onTouchEvent on the Linearlayout won't work anymore. I just performs the setOnClickListener of the child views.</p>\n<p>I need the event.getY(); for my own smoothscroller. I add the delta movement to my scrollpoint and with that scrollpoint variable I set my items in the list. It should become an own recyclerview with endlessscroll already implemented, Is it possible to get that information out of the scrollview? Sorry for my bad English.</p>\n<pre><code>public class ScrollLinearLayout extends LinearLayout {\n....\npublic void init(Context context) {\n\n  for (int i = 0; i &lt; visiblerows; i++) {\n            View view = inflater.inflate(R.layout.row, this);\n        }\n}\n\n@Override\npublic boolean onTouchEvent(MotionEvent event) {\n     ... do scrolling here\n}\n\n\n..other class\npublic class mylayout extends ScrollLinearLayout {\n...\n@Override\n    public void onUpdate(int position, View v)\n    {\n        String item=locallist.get(position);\n        TextView text =(TextView) v.findViewById(R.id.textviewID);\n        text.setText(item);\n\n       v.setOnClickListener(new OnClickListener() {\n           @Override\n           public void onClick(View v) {\n\n           }\n       });\n\n    }\n</code></pre>\n"},{"tags":["java","jpa","testing","mockito"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1636633485,"post_id":69928136,"comment_id":123612314,"body_markdown":"Even if it is possible (and I don&#39;t think it is), by doing so you would be testing someone else&#39;s code (Spring Framework) and not yours.","body":"Even if it is possible (and I don&#39;t think it is), by doing so you would be testing someone else&#39;s code (Spring Framework) and not yours."},{"owner":{"account_id":9767945,"reputation":1563,"user_id":7240806,"display_name":"Stephan Hogenboom"},"score":0,"creation_date":1636633755,"post_id":69928136,"comment_id":123612431,"body_markdown":"In the example that i have given this would be obviously the case. However in the project that i have started working on are far more complex queries and inserts that makes us question whether ORM is interpreting the code correctly","body":"In the example that i have given this would be obviously the case. However in the project that i have started working on are far more complex queries and inserts that makes us question whether ORM is interpreting the code correctly"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1636633931,"post_id":69928136,"comment_id":123612504,"body_markdown":"ORM will interpret the code correctly, what could be wrong is the code that does not match your Database schema. But that is something you can only cover with a fully-fledged integration test.","body":"ORM will interpret the code correctly, what could be wrong is the code that does not match your Database schema. But that is something you can only cover with a fully-fledged integration test."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1636645333,"post_id":69928136,"comment_id":123617614,"body_markdown":"The problem is that the SQL may not look the same depending on the underlaying database. IMHO (and that&#39;s really just my opinion) database tests without the real database do not make much sense","body":"The problem is that the SQL may not look the same depending on the underlaying database. IMHO (and that&#39;s really just my opinion) database tests without the real database do not make much sense"},{"owner":{"account_id":9767945,"reputation":1563,"user_id":7240806,"display_name":"Stephan Hogenboom"},"score":0,"creation_date":1637063417,"post_id":69928136,"comment_id":123720056,"body_markdown":"I will consider this thanks for the remarks.","body":"I will consider this thanks for the remarks."}],"owner":{"account_id":9767945,"reputation":1563,"user_id":7240806,"display_name":"Stephan Hogenboom"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653682504,"creation_date":1636632839,"question_id":69928136,"body_markdown":"So, I have an application that is accessible through REST and we use a `JpaRepository&lt;T&gt;` to store and retrieve data.\r\n\r\nI have written some `mockMvc` tests where we test if the endpoint can be reached and the repository is called with the correct parameters.\r\n\r\nExample:\r\n```java\r\nmockMvc.perform(put(&quot;path&quot;)\r\n\t\t\t\t.contentType(APPLICATION_JSON)\r\n\t\t\t\t.characterEncoding(&quot;UTF8&quot;)\r\n\t\t\t\t.content(t)\r\n\t\t).andExpect(status().isCreated())\r\n\t\t\t\t.andExpect(content().contentType(APPLICATION_JSON));\r\n\r\nMockito.verify(tRepo.save(t));\r\n```\r\n\r\nI was wondering is there a way/ library which allows the query that the repository will create to be asserted? So i can also assert that the repository creates the correct sql-statement. Without using a h2 or containerized database?\r\n\r\nPseudo code example:\r\n\r\n```java\r\nassertEquals(\r\n  capturedSqlStatement,\r\n  &quot;INSERT INTO t (column1, column2, column3, ...) VALUES (value1, value2, value3, ...);&quot;\r\n); \r\n```","title":"JpaRepository, can I mock a repository while asserting the created query string?","body":"<p>So, I have an application that is accessible through REST and we use a <code>JpaRepository&lt;T&gt;</code> to store and retrieve data.</p>\n<p>I have written some <code>mockMvc</code> tests where we test if the endpoint can be reached and the repository is called with the correct parameters.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mockMvc.perform(put(&quot;path&quot;)\n                .contentType(APPLICATION_JSON)\n                .characterEncoding(&quot;UTF8&quot;)\n                .content(t)\n        ).andExpect(status().isCreated())\n                .andExpect(content().contentType(APPLICATION_JSON));\n\nMockito.verify(tRepo.save(t));\n</code></pre>\n<p>I was wondering is there a way/ library which allows the query that the repository will create to be asserted? So i can also assert that the repository creates the correct sql-statement. Without using a h2 or containerized database?</p>\n<p>Pseudo code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertEquals(\n  capturedSqlStatement,\n  &quot;INSERT INTO t (column1, column2, column3, ...) VALUES (value1, value2, value3, ...);&quot;\n); \n</code></pre>\n"},{"tags":["java","c","linux","tcp","operating-system"],"comments":[{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1636633509,"post_id":69928146,"comment_id":123612331,"body_markdown":"At the socket level, nothing happens on timeout except that the call returns. You can imagine a polling loop where you check every now and then for data arrival, using the timeout to make sure you don&#39;t block for &quot;too long&quot; waiting.  That&#39;s amenable to simple experiment to verify.","body":"At the socket level, nothing happens on timeout except that the call returns. You can imagine a polling loop where you check every now and then for data arrival, using the timeout to make sure you don&#39;t block for &quot;too long&quot; waiting.  That&#39;s amenable to simple experiment to verify."},{"owner":{"account_id":9517743,"reputation":706,"user_id":7073537,"display_name":"Maciej Mościcki"},"score":0,"creation_date":1636634343,"post_id":69928146,"comment_id":123612674,"body_markdown":"@user16632363 so the connection is left hanging? When does it close if there is no response? after keep alive expires?  And what if there is a response after a timeout, is it discarded?","body":"@user16632363 so the connection is left hanging? When does it close if there is no response? after keep alive expires?  And what if there is a response after a timeout, is it discarded?"},{"owner":{"account_id":17467210,"reputation":2620,"user_id":12663744,"display_name":"user123"},"score":0,"creation_date":1636638393,"post_id":69928146,"comment_id":123614416,"body_markdown":"I&#39;m far from an expert but I think that in consumer grade software, the socket call is either non-blocking or, if it is blocking, another thread is started to check for timeout. When there is a timeout, the socket is simply discarded (with close) and, if the server responds later, it is simply sent to the network card of the client and discarded. The OS isn&#39;t checking for arrival of packets since the connection is closed so it simply is not doing anything. Maybe the OS still receives the packets though. I&#39;m not so sure since I never wrote an Ethernet/WIFI driver.","body":"I&#39;m far from an expert but I think that in consumer grade software, the socket call is either non-blocking or, if it is blocking, another thread is started to check for timeout. When there is a timeout, the socket is simply discarded (with close) and, if the server responds later, it is simply sent to the network card of the client and discarded. The OS isn&#39;t checking for arrival of packets since the connection is closed so it simply is not doing anything. Maybe the OS still receives the packets though. I&#39;m not so sure since I never wrote an Ethernet/WIFI driver."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1636654178,"post_id":69928146,"comment_id":123621128,"body_markdown":"It&#39;s not &quot;left hanging&quot;.  A timed-out poll leaves the socket and the underlying TCP connection in the same state as you not having called poll at all.  Received data stays in the socket until received. The socket closes when you call close.","body":"It&#39;s not &quot;left hanging&quot;.  A timed-out poll leaves the socket and the underlying TCP connection in the same state as you not having called poll at all.  Received data stays in the socket until received. The socket closes when you call close."}],"owner":{"account_id":9517743,"reputation":706,"user_id":7073537,"display_name":"Maciej Mościcki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653682486,"creation_date":1636632887,"question_id":69928146,"body_markdown":"Let&#39;s say we have a Java web client like spring `RestTemplate`. It can be configured with a read timeout:\r\n\r\n```java\r\nRestTemplateBuilder()\r\n        .setReadTimeout(Duration.ofMillis(1000))\r\n        .build()\r\n```\r\n\r\nIf a http call is made and the server is slow to respond an exception would be thrown: `java.net.SocketTimeoutException`\r\n\r\nThe question is:\r\n**what happens to the underlying TCP connection when the timeout occurs?** \r\n\r\nFrom what I can tell `RestTemplate` uses `SocketInputStream` underneath which in turns uses native `poll` on Linux. `poll` accepts a timeout parameter, **but does it close the connection when the timeout occurs**? If not, what happens to the response when it is received? \r\n\r\nHow does the behavior of timeouts differs between Http1 and Http2 (which support multiplexing over a single TCP connection)?","title":"What happens to TCP connection on socket timeout","body":"<p>Let's say we have a Java web client like spring <code>RestTemplate</code>. It can be configured with a read timeout:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestTemplateBuilder()\n        .setReadTimeout(Duration.ofMillis(1000))\n        .build()\n</code></pre>\n<p>If a http call is made and the server is slow to respond an exception would be thrown: <code>java.net.SocketTimeoutException</code></p>\n<p>The question is:\n<strong>what happens to the underlying TCP connection when the timeout occurs?</strong></p>\n<p>From what I can tell <code>RestTemplate</code> uses <code>SocketInputStream</code> underneath which in turns uses native <code>poll</code> on Linux. <code>poll</code> accepts a timeout parameter, <strong>but does it close the connection when the timeout occurs</strong>? If not, what happens to the response when it is received?</p>\n<p>How does the behavior of timeouts differs between Http1 and Http2 (which support multiplexing over a single TCP connection)?</p>\n"},{"tags":["java","spring","mongodb","flapdoodle-embed-mongo"],"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1579348091,"post_id":59800078,"comment_id":105741261,"body_markdown":"Take a look https://stackoverflow.com/a/53346178/3710490","body":"Take a look <a href=\"https://stackoverflow.com/a/53346178/3710490\">stackoverflow.com/a/53346178/3710490</a>"},{"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"score":0,"creation_date":1598519223,"post_id":59800078,"comment_id":112487462,"body_markdown":"@Valijon: How is the linked question relevant? This question is about: &quot;I need the deamon for my test, but it does not stop after the test is completed&quot;, and your linked question is about &quot;I don&#39;t want to have the autoconfiguration of Mongo (with embedded Mongo) for certain tests&quot;.","body":"@Valijon: How is the linked question relevant? This question is about: &quot;I need the deamon for my test, but it does not stop after the test is completed&quot;, and your linked question is about &quot;I don&#39;t want to have the autoconfiguration of Mongo (with embedded Mongo) for certain tests&quot;."}],"answers":[{"tags":[],"owner":{"account_id":8540346,"reputation":90,"user_id":6400698,"display_name":"rlight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653682458,"creation_date":1653682142,"answer_id":72410575,"question_id":59800078,"body_markdown":"I had the same issue when using flapdoodle embedded MongoDB for development and while running the Spring application via `gradle bootRun`. After stopping the process, the MongoDB server survived and with more and more runs instances piled up and also the data within the MongoDB stayed.\r\n\r\nAfter quite some searching and trying out things I was able to solve the issue based on the answers provided in [https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo/issues/212][1]\r\n\r\nMy MongoDB Configuration Class looks quite similar and the key to the solution was to wait for `MongodProcess mongod` to properly stop through checking with `mongod.isProcessRunning()`. The surrounding `while` loop is a bit hacky, but it works for me:\r\n\r\n```java\r\n@Configuration\r\n@Profile(&quot;dev&quot;)\r\npublic class EmbeddedMongoConfig {\r\n\r\n    Logger logger = LoggerFactory.getLogger(EmbeddedMongoConfig.class);\r\n\r\n    private static final String CONNECTION_STRING = &quot;mongodb://%s:%d&quot;;\r\n    private static final String HOST = &quot;localhost&quot;;\r\n    private static final int PORT = 27017;\r\n\r\n\r\n    private MongodExecutable mongodExecutable;\r\n    private MongodProcess mongod;\r\n    private MongoClient client;\r\n\r\n    @Bean\r\n    public MongoTemplate mongoTemplate() throws Exception {\r\n\r\n        ImmutableMongodConfig mongoDbConfig = MongodConfig.builder()\r\n                .version(Version.Main.PRODUCTION)\r\n                .net(new Net(HOST, PORT, Network.localhostIsIPv6()))\r\n                .build();\r\n\r\n        MongodStarter starter = MongodStarter.getDefaultInstance();\r\n\r\n        mongodExecutable = starter.prepare(mongoDbConfig);\r\n        mongod = mongodExecutable.start();\r\n        client = MongoClients.create(String.format(CONNECTION_STRING, HOST, PORT));\r\n\r\n        return new MongoTemplate( client, &quot;sampledatabase&quot;);\r\n    }\r\n\r\n\r\n    /*\r\n     * solution found here: https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo/issues/212\r\n     */\r\n    @PreDestroy\r\n    public void shutdownGracefully() {\r\n        if (client != null)\r\n            client.close();\r\n        if (mongod != null)\r\n            try {\r\n                mongod.stop();\r\n            } catch (IllegalStateException e) {\r\n                logger.error(&quot;Can&#39;t stop mongod&quot;, e);\r\n            }\r\n        if (mongod != null) {\r\n            int limit = 5;\r\n            int counter = 0;\r\n            while (mongod.isProcessRunning() &amp;&amp; counter &lt; limit) {\r\n                try {\r\n                    counter++;\r\n                    Thread.sleep(2000);\r\n                } catch (InterruptedException e) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (mongodExecutable != null) {\r\n            try {\r\n                mongodExecutable.stop();\r\n            } catch (IllegalStateException e) {\r\n                logger.error(&quot;Can&#39;t stop mongodExecutable&quot;, e);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMaybe it can still help someone else who stumbles upon the same issue.\r\n\r\n\r\n  [1]: https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo/issues/212","title":"Embeded flapdoodle MongoDB process won&#39;t stop","body":"<p>I had the same issue when using flapdoodle embedded MongoDB for development and while running the Spring application via <code>gradle bootRun</code>. After stopping the process, the MongoDB server survived and with more and more runs instances piled up and also the data within the MongoDB stayed.</p>\n<p>After quite some searching and trying out things I was able to solve the issue based on the answers provided in <a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo/issues/212\" rel=\"nofollow noreferrer\">https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo/issues/212</a></p>\n<p>My MongoDB Configuration Class looks quite similar and the key to the solution was to wait for <code>MongodProcess mongod</code> to properly stop through checking with <code>mongod.isProcessRunning()</code>. The surrounding <code>while</code> loop is a bit hacky, but it works for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@Profile(&quot;dev&quot;)\npublic class EmbeddedMongoConfig {\n\n    Logger logger = LoggerFactory.getLogger(EmbeddedMongoConfig.class);\n\n    private static final String CONNECTION_STRING = &quot;mongodb://%s:%d&quot;;\n    private static final String HOST = &quot;localhost&quot;;\n    private static final int PORT = 27017;\n\n\n    private MongodExecutable mongodExecutable;\n    private MongodProcess mongod;\n    private MongoClient client;\n\n    @Bean\n    public MongoTemplate mongoTemplate() throws Exception {\n\n        ImmutableMongodConfig mongoDbConfig = MongodConfig.builder()\n                .version(Version.Main.PRODUCTION)\n                .net(new Net(HOST, PORT, Network.localhostIsIPv6()))\n                .build();\n\n        MongodStarter starter = MongodStarter.getDefaultInstance();\n\n        mongodExecutable = starter.prepare(mongoDbConfig);\n        mongod = mongodExecutable.start();\n        client = MongoClients.create(String.format(CONNECTION_STRING, HOST, PORT));\n\n        return new MongoTemplate( client, &quot;sampledatabase&quot;);\n    }\n\n\n    /*\n     * solution found here: https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo/issues/212\n     */\n    @PreDestroy\n    public void shutdownGracefully() {\n        if (client != null)\n            client.close();\n        if (mongod != null)\n            try {\n                mongod.stop();\n            } catch (IllegalStateException e) {\n                logger.error(&quot;Can't stop mongod&quot;, e);\n            }\n        if (mongod != null) {\n            int limit = 5;\n            int counter = 0;\n            while (mongod.isProcessRunning() &amp;&amp; counter &lt; limit) {\n                try {\n                    counter++;\n                    Thread.sleep(2000);\n                } catch (InterruptedException e) {\n                    break;\n                }\n            }\n        }\n        if (mongodExecutable != null) {\n            try {\n                mongodExecutable.stop();\n            } catch (IllegalStateException e) {\n                logger.error(&quot;Can't stop mongodExecutable&quot;, e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Maybe it can still help someone else who stumbles upon the same issue.</p>\n"}],"owner":{"account_id":1195373,"reputation":3266,"user_id":1167226,"accept_rate":90,"display_name":"Attila"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1772,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653682458,"creation_date":1579346417,"question_id":59800078,"body_markdown":"I am using an [flapdoodle embedded MongoDB][1] instance in my application.\r\n\r\nThe embedded MongoDB starts up and works as expected, but the process of the embedded instance won&#39;t stop when the application is being stopped or the integration tests are over.\r\n\r\nI am using the class below to manage the state of the embedded MongoDB instance. Is there something missing to properly stop the embedded MongoDB? Can we start the process of the embedded MongoDB instance as a daemon (so it won&#39;t keep the running, even when the application is being stoppped)?\r\n\r\n``` java\r\npackage ch.somePackage.configuration;\r\n\r\nimport com.mongodb.ConnectionString;\r\nimport com.mongodb.MongoClient;\r\nimport com.mongodb.client.MongoDatabase;\r\nimport de.flapdoodle.embed.mongo.MongodExecutable;\r\nimport de.flapdoodle.embed.mongo.MongodProcess;\r\nimport de.flapdoodle.embed.mongo.MongodStarter;\r\nimport de.flapdoodle.embed.mongo.config.IMongodConfig;\r\nimport de.flapdoodle.embed.mongo.config.MongodConfigBuilder;\r\nimport de.flapdoodle.embed.mongo.config.Net;\r\nimport de.flapdoodle.embed.mongo.distribution.Version;\r\nimport de.flapdoodle.embed.process.runtime.Network;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport javax.annotation.PreDestroy;\r\nimport java.io.IOException;\r\nimport java.util.Objects;\r\n\r\n@Configuration\r\npublic class DbConfiguration  {\r\n\t\r\n\tfinal static Logger logger = LoggerFactory.getLogger(DbConfiguration.class);\r\n\t\r\n\tprivate static final ConnectionString CONNECTION_STRING = new ConnectionString(&quot;mongodb://localhost:12345/some-db&quot;);\r\n\t\r\n\t@Bean\r\n\tpublic MongoHolder mongoHolder() {\r\n\t\treturn new MongoHolder();\r\n\t}\r\n\r\n\tpublic static class MongoHolder {\r\n\r\n\t\tprivate MongoClient mongoClient;\r\n\t\tprivate MongodExecutable mongodExecutable;\r\n\t\tprivate MongodProcess mongod;\r\n\r\n\t\t@PostConstruct\r\n\t\tpublic void init() throws IOException {\r\n\t\t\tfinal MongodStarter starter = MongodStarter.getDefaultInstance();\r\n\r\n\t\t\tfinal String bindIp = &quot;localhost&quot;;\r\n\t\t\tfinal int port = 12345;\r\n\t\t\tfinal IMongodConfig mongodConfig = new MongodConfigBuilder()\r\n\t\t\t\t\t.version(Version.Main.PRODUCTION)\r\n\t\t\t\t\t.net(new Net(bindIp, port, Network.localhostIsIPv6()))\r\n\t\t\t\t\t.build();\r\n\r\n\t\t\ttry {\r\n\t\t\t\tmongodExecutable = starter.prepare(mongodConfig);\r\n\t\t\t\tmongod = mongodExecutable.start();\r\n\t\t\t\tmongoClient = new MongoClient(bindIp, port);\r\n\t\t\t\tlogger.info(&quot;Started embedded mongo.&quot;);\r\n\t\t\t} catch (final Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@PreDestroy\r\n\t\tpublic final synchronized void destroy() {\r\n\t\t\tif (mongodExecutable != null) {\r\n\t\t\t\tlogger.info(&quot;Stopping embedded mongo.&quot;);\r\n\t\t\t\tmongoClient.close();\r\n\t\t\t\tmongodExecutable.stop();\r\n\t\t\t\tmongod.stop();\r\n\t\t\t\tlogger.info(&quot;Stopped embedded mongo.&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic MongoClient getMongoClient() {\r\n\t\t\treturn mongoClient;\r\n\t\t}\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic MongoDatabase mongoDatabase(final MongoHolder mongoHolder) {\r\n\t\treturn mongoHolder.getMongoClient().getDatabase(Objects.requireNonNull(CONNECTION_STRING.getDatabase()));\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo","title":"Embeded flapdoodle MongoDB process won&#39;t stop","body":"<p>I am using an <a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo\" rel=\"nofollow noreferrer\">flapdoodle embedded MongoDB</a> instance in my application.</p>\n\n<p>The embedded MongoDB starts up and works as expected, but the process of the embedded instance won't stop when the application is being stopped or the integration tests are over.</p>\n\n<p>I am using the class below to manage the state of the embedded MongoDB instance. Is there something missing to properly stop the embedded MongoDB? Can we start the process of the embedded MongoDB instance as a daemon (so it won't keep the running, even when the application is being stoppped)?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package ch.somePackage.configuration;\n\nimport com.mongodb.ConnectionString;\nimport com.mongodb.MongoClient;\nimport com.mongodb.client.MongoDatabase;\nimport de.flapdoodle.embed.mongo.MongodExecutable;\nimport de.flapdoodle.embed.mongo.MongodProcess;\nimport de.flapdoodle.embed.mongo.MongodStarter;\nimport de.flapdoodle.embed.mongo.config.IMongodConfig;\nimport de.flapdoodle.embed.mongo.config.MongodConfigBuilder;\nimport de.flapdoodle.embed.mongo.config.Net;\nimport de.flapdoodle.embed.mongo.distribution.Version;\nimport de.flapdoodle.embed.process.runtime.Network;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;\nimport java.io.IOException;\nimport java.util.Objects;\n\n@Configuration\npublic class DbConfiguration  {\n\n    final static Logger logger = LoggerFactory.getLogger(DbConfiguration.class);\n\n    private static final ConnectionString CONNECTION_STRING = new ConnectionString(\"mongodb://localhost:12345/some-db\");\n\n    @Bean\n    public MongoHolder mongoHolder() {\n        return new MongoHolder();\n    }\n\n    public static class MongoHolder {\n\n        private MongoClient mongoClient;\n        private MongodExecutable mongodExecutable;\n        private MongodProcess mongod;\n\n        @PostConstruct\n        public void init() throws IOException {\n            final MongodStarter starter = MongodStarter.getDefaultInstance();\n\n            final String bindIp = \"localhost\";\n            final int port = 12345;\n            final IMongodConfig mongodConfig = new MongodConfigBuilder()\n                    .version(Version.Main.PRODUCTION)\n                    .net(new Net(bindIp, port, Network.localhostIsIPv6()))\n                    .build();\n\n            try {\n                mongodExecutable = starter.prepare(mongodConfig);\n                mongod = mongodExecutable.start();\n                mongoClient = new MongoClient(bindIp, port);\n                logger.info(\"Started embedded mongo.\");\n            } catch (final Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n        @PreDestroy\n        public final synchronized void destroy() {\n            if (mongodExecutable != null) {\n                logger.info(\"Stopping embedded mongo.\");\n                mongoClient.close();\n                mongodExecutable.stop();\n                mongod.stop();\n                logger.info(\"Stopped embedded mongo.\");\n            }\n        }\n\n        public MongoClient getMongoClient() {\n            return mongoClient;\n        }\n    }\n\n    @Bean\n    public MongoDatabase mongoDatabase(final MongoHolder mongoHolder) {\n        return mongoHolder.getMongoClient().getDatabase(Objects.requireNonNull(CONNECTION_STRING.getDatabase()));\n    }\n}\n</code></pre>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1636635153,"post_id":69928464,"comment_id":123612986,"body_markdown":"There&#39;s something weird: you *always* modify the velocity, but only actually move the object when the button is pressed? That seems exactly the wrong way around: you want to only change the velocity if the button is pressed but always change the position (assuming you want inertia, which your code and video suggests).","body":"There&#39;s something weird: you <i>always</i> modify the velocity, but only actually move the object when the button is pressed? That seems exactly the wrong way around: you want to only change the velocity if the button is pressed but always change the position (assuming you want inertia, which your code and video suggests)."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1636635915,"post_id":69928464,"comment_id":123613307,"body_markdown":"sin is vertical, cosin is horizontal (as long as you take the angle from the horizontal axis).","body":"sin is vertical, cosin is horizontal (as long as you take the angle from the horizontal axis)."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1636636608,"post_id":69928464,"comment_id":123613609,"body_markdown":"Also: you don&#39;t want to &quot;clamp&quot; rotation to 0/360, you want it to &quot;slide over&quot; from being &gt; 360 to being just above 0. I.e. `while (rotation &gt; 360) rotation -= 360`. Otherwise you&#39;ll get a weird &quot;stop&quot; when facing north and rotation won&#39;t be smooth there.","body":"Also: you don&#39;t want to &quot;clamp&quot; rotation to 0/360, you want it to &quot;slide over&quot; from being &gt; 360 to being just above 0. I.e. <code>while (rotation &gt; 360) rotation -= 360</code>. Otherwise you&#39;ll get a weird &quot;stop&quot; when facing north and rotation won&#39;t be smooth there."}],"answers":[{"tags":[],"owner":{"account_id":233979,"reputation":851,"user_id":499837,"accept_rate":60,"display_name":"bornander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636651067,"creation_date":1636651067,"answer_id":69932362,"question_id":69928464,"body_markdown":"If you create an extra `Vector2` member, `direction` in your `Player` class you can get **libGDX** to calculate the `x` and `y` delta by using the `rotateDeg` method on `Vector2`:\r\n\r\n    direction.set(Vector2.X).rotateDeg(realRot);\r\n\r\nThis will set `direction` to *(1, 0)* and then rotate it by your rotation amount.\r\nThen you can just add `direction.x` and `direction.y` to your `position`.\r\n\r\n    position.x += direction.x;\r\n\tposition.y += direction.y;\r\n\r\nor even shorter:\r\n\r\n    position.add(direction);\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFull source for `Player` for the above animation is:\r\n\r\n\tpublic class Player {\r\n\t\tprivate final float rotSpeed;\r\n\t\tprivate final float movementSpeed;\r\n\r\n\t\tprivate final Texture texture;\r\n\t\tprivate final int textureWidth;\r\n\t\tprivate final int textureHeight;\r\n\t\tprivate final SpriteBatch batch;\r\n\t\tprivate Vector2 position;\r\n\t\tprivate Vector2 direction = new Vector2(Vector2.X); // Add this\r\n\t\tprivate int rotation;\r\n\t\tprivate float originX;\r\n\t\tprivate float originY;\r\n\t\tprivate int realRot;\r\n\r\n\t\tprivate double DEG2RAD = 180 / Math.PI;\r\n\r\n\t\tpublic Player(Texture texture, SpriteBatch batch) {\r\n\t\t\tthis.texture = texture;\r\n\t\t\tthis.batch = batch;\r\n\t\t\tthis.rotation = 0;\r\n\t\t\tthis.textureWidth = texture.getWidth();\r\n\t\t\tthis.textureHeight = texture.getHeight();\r\n\t\t\tthis.position = new Vector2(0, 0);\r\n\r\n\t\t\tthis.originX = textureWidth/2;\r\n\t\t\tthis.originY = textureHeight/2;\r\n\t\t\tthis.rotSpeed = 3f;\r\n\t\t\tthis.movementSpeed = 3f;\r\n\t\t}\r\n\r\n\t\tpublic void Movement() {\r\n\t\t\tif (Gdx.input.isKeyPressed(Input.Keys.A)) rotation += rotSpeed;\r\n\t\t\tif (Gdx.input.isKeyPressed(Input.Keys.D)) rotation -= rotSpeed;\r\n\r\n\t\t\trealRot = rotation;\r\n\r\n\t\t\t// You don&#39;t really need this\r\n\t\t\t//if (rotation &gt;= 360) realRot = 360;\r\n\t\t\t//if (rotation &lt;= 0) realRot = 0;\r\n\r\n\t\t\t// At each update, set the direction vector to point to the right, and then rotate\r\n\t\t\t// it using your readRot variable.\r\n\t\t\tdirection.set(Vector2.X).rotateDeg(realRot);\r\n\r\n\t\t\tdirection.scl(movementSpeed); // Scale the direction by you speed\r\n\r\n\t\t\tif (Gdx.input.isKeyPressed(Input.Keys.W)) {\r\n\t\t\t\tposition.x += direction.x;\r\n\t\t\t\tposition.y += direction.y;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void DrawSprite() {\r\n\t\t\tbatch.draw (\r\n\t\t\t\t\ttexture, position.x, position.y,\r\n\t\t\t\t\toriginX, originY, textureWidth,\r\n\t\t\t\t\ttextureHeight, 1, 1,\r\n\t\t\t\t\trotation, 1, 1, textureWidth,\r\n\t\t\t\t\ttextureHeight, false, false\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h6IAJ.gif","title":"Moving an object based on its rotation","body":"<p>If you create an extra <code>Vector2</code> member, <code>direction</code> in your <code>Player</code> class you can get <strong>libGDX</strong> to calculate the <code>x</code> and <code>y</code> delta by using the <code>rotateDeg</code> method on <code>Vector2</code>:</p>\n<pre><code>direction.set(Vector2.X).rotateDeg(realRot);\n</code></pre>\n<p>This will set <code>direction</code> to <em>(1, 0)</em> and then rotate it by your rotation amount.\nThen you can just add <code>direction.x</code> and <code>direction.y</code> to your <code>position</code>.</p>\n<pre><code>position.x += direction.x;\nposition.y += direction.y;\n</code></pre>\n<p>or even shorter:</p>\n<pre><code>position.add(direction);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/h6IAJ.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h6IAJ.gif\" alt=\"enter image description here\" /></a></p>\n<p>Full source for <code>Player</code> for the above animation is:</p>\n<pre><code>public class Player {\n    private final float rotSpeed;\n    private final float movementSpeed;\n\n    private final Texture texture;\n    private final int textureWidth;\n    private final int textureHeight;\n    private final SpriteBatch batch;\n    private Vector2 position;\n    private Vector2 direction = new Vector2(Vector2.X); // Add this\n    private int rotation;\n    private float originX;\n    private float originY;\n    private int realRot;\n\n    private double DEG2RAD = 180 / Math.PI;\n\n    public Player(Texture texture, SpriteBatch batch) {\n        this.texture = texture;\n        this.batch = batch;\n        this.rotation = 0;\n        this.textureWidth = texture.getWidth();\n        this.textureHeight = texture.getHeight();\n        this.position = new Vector2(0, 0);\n\n        this.originX = textureWidth/2;\n        this.originY = textureHeight/2;\n        this.rotSpeed = 3f;\n        this.movementSpeed = 3f;\n    }\n\n    public void Movement() {\n        if (Gdx.input.isKeyPressed(Input.Keys.A)) rotation += rotSpeed;\n        if (Gdx.input.isKeyPressed(Input.Keys.D)) rotation -= rotSpeed;\n\n        realRot = rotation;\n\n        // You don't really need this\n        //if (rotation &gt;= 360) realRot = 360;\n        //if (rotation &lt;= 0) realRot = 0;\n\n        // At each update, set the direction vector to point to the right, and then rotate\n        // it using your readRot variable.\n        direction.set(Vector2.X).rotateDeg(realRot);\n\n        direction.scl(movementSpeed); // Scale the direction by you speed\n\n        if (Gdx.input.isKeyPressed(Input.Keys.W)) {\n            position.x += direction.x;\n            position.y += direction.y;\n        }\n    }\n\n    public void DrawSprite() {\n        batch.draw (\n                texture, position.x, position.y,\n                originX, originY, textureWidth,\n                textureHeight, 1, 1,\n                rotation, 1, 1, textureWidth,\n                textureHeight, false, false\n        );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22358413,"reputation":160,"user_id":16575274,"display_name":"LancesLance"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69932362,"answer_count":1,"score":1,"last_activity_date":1653682392,"creation_date":1636634422,"question_id":69928464,"body_markdown":"I have this ship sprite (prototype for now) and I&#39;ve been trying to move it along its rotation but it is not working so well. &lt;br&gt;\r\n&lt;-- Vid --&gt; &lt;br&gt;\r\nhttps://i.stack.imgur.com/W64bS.jpg &lt;br&gt;\r\n&lt;-- Example Image of what I think should happen --&gt;\r\n[![enter image description here][1]][1]\r\nWhen researching, I saw that sometimes the cosine is for the x position and the sign is for the y position, this makes me a little confused about what to do. But sometimes I saw otherwise which makes me wonder since I thought the x should be using sine and y should be cosine.\r\n\r\nCode:\r\n```\r\npackage com.lance.seajam;\r\n\r\nimport com.badlogic.gdx.Input.Keys;\r\nimport com.badlogic.gdx.graphics.Texture;\r\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\nimport com.badlogic.gdx.math.Vector2;\r\nimport com.badlogic.gdx.Gdx;\r\nimport java.lang.Math;\r\n\r\npublic class Player {\r\n    private final float rotSpeed;\r\n    private final float movementSpeed;\r\n\r\n    private final Texture texture;\r\n    private final int textureWidth;\r\n    private final int textureHeight;\r\n    private final SpriteBatch batch;\r\n    private Vector2 position;\r\n    private int rotation;\r\n    private float originX;\r\n    private float originY;\r\n    private int realRot;\r\n\r\n    private double DEG2RAD = 180 / Math.PI;\r\n\r\n    public Player(Texture texture, SpriteBatch batch) {\r\n        this.texture = texture;\r\n        this.batch = batch;\r\n        this.rotation = 0;\r\n        this.textureWidth = texture.getWidth();\r\n        this.textureHeight = texture.getHeight();\r\n        this.position = new Vector2(300, 300);\r\n\r\n        this.originX = textureWidth/2;\r\n        this.originY = textureHeight/2;\r\n        this.rotSpeed = 3f;\r\n        this.movementSpeed = 3f;\r\n    }\r\n\r\n    public void Movement() {\r\n        if (Gdx.input.isKeyPressed(Keys.A)) rotation += rotSpeed;\r\n        if (Gdx.input.isKeyPressed(Keys.D)) rotation -= rotSpeed;\r\n\r\n        realRot = rotation;\r\n\r\n        if (rotation &gt;= 360) realRot = 360;\r\n        if (rotation &lt;= 0) realRot = 0;\r\n\r\n        double xVel = 0;\r\n        double yVel = 0;\r\n\r\n        xVel += Math.cos(realRot) * movementSpeed;\r\n        yVel += Math.sin(realRot) * movementSpeed;\r\n\r\n        if (Gdx.input.isKeyPressed(Keys.W)) {\r\n            position.x += xVel;\r\n            position.y += yVel;\r\n        }\r\n\r\n        System.out.println(xVel);\r\n    }\r\n\r\n    public void DrawSprite() {\r\n        batch.draw (\r\n            texture, position.x, position.y,\r\n            originX, originY, textureWidth,\r\n            textureHeight, 1, 1,\r\n            rotation, 1, 1, textureWidth,\r\n            textureHeight, false, false\r\n        );\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RVFde.png","title":"Moving an object based on its rotation","body":"<p>I have this ship sprite (prototype for now) and I've been trying to move it along its rotation but it is not working so well. <br>\n&lt;-- Vid --&gt; <br>\n<a href=\"https://i.stack.imgur.com/W64bS.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/W64bS.jpg</a> <br>\n&lt;-- Example Image of what I think should happen --&gt;\n<a href=\"https://i.stack.imgur.com/RVFde.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RVFde.png\" alt=\"enter image description here\" /></a>\nWhen researching, I saw that sometimes the cosine is for the x position and the sign is for the y position, this makes me a little confused about what to do. But sometimes I saw otherwise which makes me wonder since I thought the x should be using sine and y should be cosine.</p>\n<p>Code:</p>\n<pre><code>package com.lance.seajam;\n\nimport com.badlogic.gdx.Input.Keys;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.math.Vector2;\nimport com.badlogic.gdx.Gdx;\nimport java.lang.Math;\n\npublic class Player {\n    private final float rotSpeed;\n    private final float movementSpeed;\n\n    private final Texture texture;\n    private final int textureWidth;\n    private final int textureHeight;\n    private final SpriteBatch batch;\n    private Vector2 position;\n    private int rotation;\n    private float originX;\n    private float originY;\n    private int realRot;\n\n    private double DEG2RAD = 180 / Math.PI;\n\n    public Player(Texture texture, SpriteBatch batch) {\n        this.texture = texture;\n        this.batch = batch;\n        this.rotation = 0;\n        this.textureWidth = texture.getWidth();\n        this.textureHeight = texture.getHeight();\n        this.position = new Vector2(300, 300);\n\n        this.originX = textureWidth/2;\n        this.originY = textureHeight/2;\n        this.rotSpeed = 3f;\n        this.movementSpeed = 3f;\n    }\n\n    public void Movement() {\n        if (Gdx.input.isKeyPressed(Keys.A)) rotation += rotSpeed;\n        if (Gdx.input.isKeyPressed(Keys.D)) rotation -= rotSpeed;\n\n        realRot = rotation;\n\n        if (rotation &gt;= 360) realRot = 360;\n        if (rotation &lt;= 0) realRot = 0;\n\n        double xVel = 0;\n        double yVel = 0;\n\n        xVel += Math.cos(realRot) * movementSpeed;\n        yVel += Math.sin(realRot) * movementSpeed;\n\n        if (Gdx.input.isKeyPressed(Keys.W)) {\n            position.x += xVel;\n            position.y += yVel;\n        }\n\n        System.out.println(xVel);\n    }\n\n    public void DrawSprite() {\n        batch.draw (\n            texture, position.x, position.y,\n            originX, originY, textureWidth,\n            textureHeight, 1, 1,\n            rotation, 1, 1, textureWidth,\n            textureHeight, false, false\n        );\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1653584163,"post_id":72395389,"comment_id":127892215,"body_markdown":"Extract it into a method and call the method twice?","body":"Extract it into a method and call the method twice?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1653598742,"post_id":72395389,"comment_id":127896862,"body_markdown":"Or don&#39;t use loops at all: `public boolean isEqual(String[] input1, String[] input2) { return Arrays.toString(input1).equals(Arrays.toString(input2)); }`.","body":"Or don&#39;t use loops at all: <code>public boolean isEqual(String[] input1, String[] input2) { return Arrays.toString(input1).equals(Arrays.toString(input2)); }</code>."}],"answers":[{"tags":[],"owner":{"account_id":8842343,"reputation":51,"user_id":6604408,"display_name":"recovery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653589169,"creation_date":1653589169,"answer_id":72396345,"question_id":72395389,"body_markdown":"If your String arrays are of same size you can remove the two if statements:\r\n\r\n     public static boolean Isequal(String[] input1,String[] input2)\r\n    {\r\n        StringBuilder sb = new StringBuilder();\r\n        StringBuilder sb1 = new StringBuilder();\r\n        int i=0,j=0;\r\n        int m = input1.length;\r\n        int n = input2.length;\r\n        while(i&lt;m &amp;&amp; j&lt;n){\r\n            if(!input1[i].contentEquals(&quot;&lt;&quot;)){\r\n                sb.append(input1[i]);\r\n            }\r\n            else if(input1[i].equals(&quot;&lt;&quot;) &amp;&amp; !(sb.length() ==0))\r\n            {\r\n                sb.deleteCharAt(sb.length() - 1);\r\n            }\r\n            if(!input2[j].contentEquals(&quot;&lt;&quot;)){\r\n                sb1.append(input2[j]);\r\n            }\r\n            else if(input2[j].equals(&quot;&lt;&quot;) &amp;&amp; !(sb1.length() ==0))\r\n            {\r\n                sb1.deleteCharAt(sb1.length() - 1);\r\n            }\r\n            i++;\r\n            j++;\r\n        }\r\n        if(i&lt;m){\r\n            if(input1[i].contentEquals(&quot;&lt;&quot;)){\r\n                sb.append(input1[i]);\r\n            }\r\n            else if(input1[i].equals(&quot;&lt;&quot;) &amp;&amp; !(sb.length() ==0))\r\n            {\r\n                sb1.deleteCharAt(sb.length() - 1);\r\n            }\r\n            i++;\r\n\r\n        }\r\n        if(j&lt;n){\r\n            if(input2[j].contentEquals(&quot;&lt;&quot;)){\r\n                sb1.append(input2[j]);\r\n            }\r\n            else if(input2[j].equals(&quot;&lt;&quot;) &amp;&amp; !(sb.length() ==0))\r\n            {\r\n                sb1.deleteCharAt(sb1.length() - 1);\r\n            }\r\n\r\n        }\r\n\r\n        return  sb.toString().equals(sb1.toString());\r\n    }\r\n\r\nAlso if you are checking two string characters are equal or not you need to convert the strinbuilder to string, otherwise sb and sb1 are two differenet objects and they will not be equal even if they have same characters.","title":"How to reduce loop with same condition","body":"<p>If your String arrays are of same size you can remove the two if statements:</p>\n<pre><code> public static boolean Isequal(String[] input1,String[] input2)\n{\n    StringBuilder sb = new StringBuilder();\n    StringBuilder sb1 = new StringBuilder();\n    int i=0,j=0;\n    int m = input1.length;\n    int n = input2.length;\n    while(i&lt;m &amp;&amp; j&lt;n){\n        if(!input1[i].contentEquals(&quot;&lt;&quot;)){\n            sb.append(input1[i]);\n        }\n        else if(input1[i].equals(&quot;&lt;&quot;) &amp;&amp; !(sb.length() ==0))\n        {\n            sb.deleteCharAt(sb.length() - 1);\n        }\n        if(!input2[j].contentEquals(&quot;&lt;&quot;)){\n            sb1.append(input2[j]);\n        }\n        else if(input2[j].equals(&quot;&lt;&quot;) &amp;&amp; !(sb1.length() ==0))\n        {\n            sb1.deleteCharAt(sb1.length() - 1);\n        }\n        i++;\n        j++;\n    }\n    if(i&lt;m){\n        if(input1[i].contentEquals(&quot;&lt;&quot;)){\n            sb.append(input1[i]);\n        }\n        else if(input1[i].equals(&quot;&lt;&quot;) &amp;&amp; !(sb.length() ==0))\n        {\n            sb1.deleteCharAt(sb.length() - 1);\n        }\n        i++;\n\n    }\n    if(j&lt;n){\n        if(input2[j].contentEquals(&quot;&lt;&quot;)){\n            sb1.append(input2[j]);\n        }\n        else if(input2[j].equals(&quot;&lt;&quot;) &amp;&amp; !(sb.length() ==0))\n        {\n            sb1.deleteCharAt(sb1.length() - 1);\n        }\n\n    }\n\n    return  sb.toString().equals(sb1.toString());\n}\n</code></pre>\n<p>Also if you are checking two string characters are equal or not you need to convert the strinbuilder to string, otherwise sb and sb1 are two differenet objects and they will not be equal even if they have same characters.</p>\n"}],"owner":{"account_id":25398452,"reputation":3,"user_id":19208360,"display_name":"karasu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72396345,"answer_count":1,"score":0,"last_activity_date":1653682383,"creation_date":1653584084,"question_id":72395389,"body_markdown":"how to use only one loop with the same condition \r\n\r\nthank you\r\n\r\n&quot;&lt;&quot;  is remove the lastest character in the string \r\n\r\nanswer: check  2 two strings are equal.\r\n\r\nEx.\r\nString[] a = [&quot;a&quot;,&quot;&lt;&quot;,&quot;b&quot;]\r\n\r\n&quot;a&quot;\r\n\r\n&quot;&quot;\r\n\r\n&quot;b&quot;\r\n\r\n```\r\n\r\n      String[] input1   = {&quot;&lt;&quot;,&quot;&lt;&quot;,&quot;&lt;&quot;,&quot;&lt;&quot;,&quot;b&quot;};\r\n       \r\n      String [] input2 = {&quot;&lt;&quot;,&quot;a&quot;,&quot;&lt;&quot;,&quot;&lt;&quot;,&quot;b&quot;};\r\n        \r\n      System.out.println(Isequal(input1,input2));\r\n   \r\n     \r\n    public static boolean Isequal(String[] input1,String[] input2)\r\n    {\r\n        StringBuilder sb = new StringBuilder();\r\n        StringBuilder sb1 = new StringBuilder();\r\n        \r\n        for (String string: input1) \r\n        {\r\n            \r\n            if(!string.equals(&quot;&lt;&quot;))\r\n            {\r\n                sb.append(string);  \r\n            }\r\n            else if(string.equals(&quot;&lt;&quot;) &amp;&amp; !sb.isEmpty())\r\n            {\r\n                sb.deleteCharAt(sb.length() - 1);  \r\n            }  \r\n        }\r\n\r\n        for (String string: input2) \r\n        {\r\n            \r\n            if(!string.equals(&quot;&lt;&quot;))\r\n            {\r\n                sb1.append(string);  \r\n            }\r\n            else if(string.equals(&quot;&lt;&quot;) &amp;&amp; !sb1.isEmpty())\r\n            {\r\n                sb1.deleteCharAt(sb.length() - 1);  \r\n            }  \r\n        }\r\n        \r\n        return  sb.equals(sb1);\r\n    }\r\n```","title":"How to reduce loop with same condition","body":"<p>how to use only one loop with the same condition</p>\n<p>thank you</p>\n<p>&quot;&lt;&quot;  is remove the lastest character in the string</p>\n<p>answer: check  2 two strings are equal.</p>\n<p>Ex.\nString[] a = [&quot;a&quot;,&quot;&lt;&quot;,&quot;b&quot;]</p>\n<p>&quot;a&quot;</p>\n<p>&quot;&quot;</p>\n<p>&quot;b&quot;</p>\n<pre><code>\n      String[] input1   = {&quot;&lt;&quot;,&quot;&lt;&quot;,&quot;&lt;&quot;,&quot;&lt;&quot;,&quot;b&quot;};\n       \n      String [] input2 = {&quot;&lt;&quot;,&quot;a&quot;,&quot;&lt;&quot;,&quot;&lt;&quot;,&quot;b&quot;};\n        \n      System.out.println(Isequal(input1,input2));\n   \n     \n    public static boolean Isequal(String[] input1,String[] input2)\n    {\n        StringBuilder sb = new StringBuilder();\n        StringBuilder sb1 = new StringBuilder();\n        \n        for (String string: input1) \n        {\n            \n            if(!string.equals(&quot;&lt;&quot;))\n            {\n                sb.append(string);  \n            }\n            else if(string.equals(&quot;&lt;&quot;) &amp;&amp; !sb.isEmpty())\n            {\n                sb.deleteCharAt(sb.length() - 1);  \n            }  \n        }\n\n        for (String string: input2) \n        {\n            \n            if(!string.equals(&quot;&lt;&quot;))\n            {\n                sb1.append(string);  \n            }\n            else if(string.equals(&quot;&lt;&quot;) &amp;&amp; !sb1.isEmpty())\n            {\n                sb1.deleteCharAt(sb.length() - 1);  \n            }  \n        }\n        \n        return  sb.equals(sb1);\n    }\n</code></pre>\n"},{"tags":["java","spring","swagger"],"owner":{"account_id":23306353,"reputation":29,"user_id":17386277,"display_name":"SonYoonSeok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653682356,"creation_date":1636634686,"question_id":69928522,"body_markdown":"```\r\n@Configuration\r\npublic class SwaggerConfig {\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .securityContexts(Arrays.asList(securityContext()))\r\n                .securitySchemes(Arrays.asList(apiKey()))\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.any())\r\n                .build().apiInfo(apiInfo());\r\n    }\r\n\r\n    private ApiInfo apiInfo() {\r\n        return new ApiInfoBuilder()\r\n                .title(title)\r\n                .description(description)\r\n                .version(version)\r\n                .build();\r\n    }\r\n\r\n    private SecurityContext securityContext() {\r\n        return SecurityContext.builder()\r\n                .securityReferences(defaultAuth())\r\n                .build();\r\n    }\r\n\r\n    private List&lt;SecurityReference&gt; defaultAuth() {\r\n        AuthorizationScope authorizationScope = new AuthorizationScope(&quot;global&quot;, &quot;accessEverything&quot;);\r\n        AuthorizationScope[] authorizationScopes = new AuthorizationScope[1];\r\n        authorizationScopes[0] = authorizationScope;\r\n        return Arrays.asList(new SecurityReference(&quot;Authorization&quot;, authorizationScopes));\r\n    }\r\n\r\n    private ApiKey apiKey() {\r\n        return new ApiKey(&quot;Authorization&quot;, &quot;Authorization&quot;, &quot;header&quot;);\r\n    }\r\n}\r\n```\r\nI can find the Authorization Button on localhost&#39;s Swagger UI, but on deployed site, I can&#39;t find it. I tried deploying on several times but it always failed.\r\n","title":"There is no Authorization Button on Swagger","body":"<pre><code>@Configuration\npublic class SwaggerConfig {\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .securityContexts(Arrays.asList(securityContext()))\n                .securitySchemes(Arrays.asList(apiKey()))\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build().apiInfo(apiInfo());\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder()\n                .title(title)\n                .description(description)\n                .version(version)\n                .build();\n    }\n\n    private SecurityContext securityContext() {\n        return SecurityContext.builder()\n                .securityReferences(defaultAuth())\n                .build();\n    }\n\n    private List&lt;SecurityReference&gt; defaultAuth() {\n        AuthorizationScope authorizationScope = new AuthorizationScope(&quot;global&quot;, &quot;accessEverything&quot;);\n        AuthorizationScope[] authorizationScopes = new AuthorizationScope[1];\n        authorizationScopes[0] = authorizationScope;\n        return Arrays.asList(new SecurityReference(&quot;Authorization&quot;, authorizationScopes));\n    }\n\n    private ApiKey apiKey() {\n        return new ApiKey(&quot;Authorization&quot;, &quot;Authorization&quot;, &quot;header&quot;);\n    }\n}\n</code></pre>\n<p>I can find the Authorization Button on localhost's Swagger UI, but on deployed site, I can't find it. I tried deploying on several times but it always failed.</p>\n"},{"tags":["java","mysql","spring","caching","in-memory-cache"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1636636037,"post_id":69928759,"comment_id":123613358,"body_markdown":"Don&#39;t write your own caching solution. There are caching solutions out there, use those. Writing a proper caching solution is a difficult task, better use an existing and proven one.","body":"Don&#39;t write your own caching solution. There are caching solutions out there, use those. Writing a proper caching solution is a difficult task, better use an existing and proven one."},{"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"score":0,"creation_date":1636636541,"post_id":69928759,"comment_id":123613586,"body_markdown":"There are plenty of tutorials available: https://auth0.com/blog/spring-boot-caching-101/","body":"There are plenty of tutorials available: <a href=\"https://auth0.com/blog/spring-boot-caching-101/\" rel=\"nofollow noreferrer\">auth0.com/blog/spring-boot-caching-101</a>"},{"owner":{"account_id":17391073,"reputation":9,"user_id":14011121,"display_name":"Yasar Whizz"},"score":0,"creation_date":1636638088,"post_id":69928759,"comment_id":123614255,"body_markdown":"I actually did it using spring cache but my interviewer asked me implement this by my own.","body":"I actually did it using spring cache but my interviewer asked me implement this by my own."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1636719377,"post_id":69928759,"comment_id":123637559,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636636471,"creation_date":1636636471,"answer_id":69928914,"question_id":69928759,"body_markdown":"Why not use Caffeine, which is an already built and tested in-memory cache for Java applications? You can find more information at:\r\n\r\n - https://github.com/ben-manes/caffeine\r\n - https://www.baeldung.com/java-caching-caffeine\r\n - https://www.baeldung.com/spring-boot-caffeine-cache\r\n\r\nIt is pretty simple to configure and use. You will save yourself hours of development.","title":"Implement own in memory cache mechanism in spring boot","body":"<p>Why not use Caffeine, which is an already built and tested in-memory cache for Java applications? You can find more information at:</p>\n<ul>\n<li><a href=\"https://github.com/ben-manes/caffeine\" rel=\"nofollow noreferrer\">https://github.com/ben-manes/caffeine</a></li>\n<li><a href=\"https://www.baeldung.com/java-caching-caffeine\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-caching-caffeine</a></li>\n<li><a href=\"https://www.baeldung.com/spring-boot-caffeine-cache\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-caffeine-cache</a></li>\n</ul>\n<p>It is pretty simple to configure and use. You will save yourself hours of development.</p>\n"},{"tags":[],"owner":{"account_id":17391073,"reputation":9,"user_id":14011121,"display_name":"Yasar Whizz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651057652,"creation_date":1651057652,"answer_id":72027709,"question_id":69928759,"body_markdown":"I done it by creating concurrent hashmap and stored value in runtime and also made that hashmap object Threadsafe. which means only one thread can edit the value of hashmap","title":"Implement own in memory cache mechanism in spring boot","body":"<p>I done it by creating concurrent hashmap and stored value in runtime and also made that hashmap object Threadsafe. which means only one thread can edit the value of hashmap</p>\n"}],"owner":{"account_id":17391073,"reputation":9,"user_id":14011121,"display_name":"Yasar Whizz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72027709,"answer_count":2,"score":0,"last_activity_date":1653682336,"creation_date":1636635839,"question_id":69928759,"body_markdown":"I was asked to implement an in memory cache mechanism in my spring boot application.\r\nMy application is related to social media.\r\nUser can register and login \r\nUser can add friend\r\nUser can post status with privacy criteria public and private \r\nUser can view public post and private post of their friend post only\r\nUser can see the post which has more number of likes and they have access to.\r\n\r\n\r\nHow can I implement my own cache mechanism? I should design my own data structure to store cache.\r\n\r\nWhich api end points can I have cache features? \r\n\r\nI&#39;m new to spring.\r\n\r\nThanks in advance","title":"Implement own in memory cache mechanism in spring boot","body":"<p>I was asked to implement an in memory cache mechanism in my spring boot application.\nMy application is related to social media.\nUser can register and login\nUser can add friend\nUser can post status with privacy criteria public and private\nUser can view public post and private post of their friend post only\nUser can see the post which has more number of likes and they have access to.</p>\n<p>How can I implement my own cache mechanism? I should design my own data structure to store cache.</p>\n<p>Which api end points can I have cache features?</p>\n<p>I'm new to spring.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","anylogic","agent-based-modeling"],"answers":[{"tags":[],"owner":{"account_id":2011537,"reputation":816,"user_id":1799849,"display_name":"Artem P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636641696,"creation_date":1636641696,"answer_id":69930193,"question_id":69928773,"body_markdown":"Java has an in-built limit on the amount of text that can be used to define a single method (more explanation [here](https://stackoverflow.com/questions/12257398/how-to-fix-the-code-of-method-is-exceeding-the-65535-bytes-limit)). In this case, this error is caused by the actual text of the method is generated by AnyLogic. \r\n\r\nTo solve this I would try to restructure the model to reduce the amount of text. This can be done by defining functions that create elements instead of defining elements directly or moving elements inside other agents that are then included in **Main** agent. ","title":"AnyLogic method exceeding the byte limit error: how these methods are actually defined?","body":"<p>Java has an in-built limit on the amount of text that can be used to define a single method (more explanation <a href=\"https://stackoverflow.com/questions/12257398/how-to-fix-the-code-of-method-is-exceeding-the-65535-bytes-limit\">here</a>). In this case, this error is caused by the actual text of the method is generated by AnyLogic.</p>\n<p>To solve this I would try to restructure the model to reduce the amount of text. This can be done by defining functions that create elements instead of defining elements directly or moving elements inside other agents that are then included in <strong>Main</strong> agent.</p>\n"},{"tags":[],"owner":{"account_id":62246,"reputation":2442,"user_id":185055,"accept_rate":40,"display_name":"Stuart Rossiter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636644537,"creation_date":1636644537,"answer_id":69930871,"question_id":69928773,"body_markdown":"You can probably only know an answer to this by asking AnyLogic support since this is the internals of its code generation. My guess would be that it just splits the initialisation of space markup elements into &#39;chunks&#39; of a given number (perhaps --- and this would be rather ironic --- to try to avoid method/signature size issues).\r\n\r\n(I&#39;m assuming that the BP1-5 splits don&#39;t correspond to any &#39;functional&#39; splits in your model; e.g., different space markup networks or similar. You seem to be implying that in your question.)","title":"AnyLogic method exceeding the byte limit error: how these methods are actually defined?","body":"<p>You can probably only know an answer to this by asking AnyLogic support since this is the internals of its code generation. My guess would be that it just splits the initialisation of space markup elements into 'chunks' of a given number (perhaps --- and this would be rather ironic --- to try to avoid method/signature size issues).</p>\n<p>(I'm assuming that the BP1-5 splits don't correspond to any 'functional' splits in your model; e.g., different space markup networks or similar. You seem to be implying that in your question.)</p>\n"}],"owner":{"account_id":12969774,"reputation":1616,"user_id":9375979,"display_name":"Yashar Ahmadov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69930871,"answer_count":2,"score":0,"last_activity_date":1653682321,"creation_date":1636635887,"question_id":69928773,"body_markdown":"This is a follow-up question on [this][1]; regarding the error message as below:\r\n\r\n&gt; Description: The code of method _createPersistentElementsBP5_xjal() is exceeding the 65535 bytes limit.\r\n\r\nIt basically says that the size of the code for the method `_createPersistentElementsBP5_xjal()` has exceeded the maximum limit. By inspecting the Java code of the model, I see that my main agent is divided into six parts: `_createPersistentElementsBP1_xjal()`, `_createPersistentElementsBP2_xjal()`,..., `_createPersistentElementsBP6_xjal()`.\r\n\r\nAnd the one with number 5 has issues. However, I cannot find any defined logic on how these methods are separated (e.g., what elements to include in which method).\r\n\r\nIf you look at the top part of the screenshot, you will see that paths 5,6,7 belong to `...BP4_xjal()`. And then starts `...BP5_xjal()` (the problematic one) with intersections and a node called `reversePoint4`. In fact, `reversePoint4` and `path5/6/7` all belong to the same network. \r\n\r\nThe question is: what is the basis for such method definitions in AnyLogic (e.g., which elements will belong to which method)? Is it done arbitrarily?\r\n\r\n\r\n[![screenshot1][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69892862/anylogic-memory-error-how-to-know-how-much-the-threshold-is-exceeded\r\n  [2]: https://i.stack.imgur.com/0eRBh.jpg","title":"AnyLogic method exceeding the byte limit error: how these methods are actually defined?","body":"<p>This is a follow-up question on <a href=\"https://stackoverflow.com/questions/69892862/anylogic-memory-error-how-to-know-how-much-the-threshold-is-exceeded\">this</a>; regarding the error message as below:</p>\n<blockquote>\n<p>Description: The code of method _createPersistentElementsBP5_xjal() is exceeding the 65535 bytes limit.</p>\n</blockquote>\n<p>It basically says that the size of the code for the method <code>_createPersistentElementsBP5_xjal()</code> has exceeded the maximum limit. By inspecting the Java code of the model, I see that my main agent is divided into six parts: <code>_createPersistentElementsBP1_xjal()</code>, <code>_createPersistentElementsBP2_xjal()</code>,..., <code>_createPersistentElementsBP6_xjal()</code>.</p>\n<p>And the one with number 5 has issues. However, I cannot find any defined logic on how these methods are separated (e.g., what elements to include in which method).</p>\n<p>If you look at the top part of the screenshot, you will see that paths 5,6,7 belong to <code>...BP4_xjal()</code>. And then starts <code>...BP5_xjal()</code> (the problematic one) with intersections and a node called <code>reversePoint4</code>. In fact, <code>reversePoint4</code> and <code>path5/6/7</code> all belong to the same network.</p>\n<p>The question is: what is the basis for such method definitions in AnyLogic (e.g., which elements will belong to which method)? Is it done arbitrarily?</p>\n<p><a href=\"https://i.stack.imgur.com/0eRBh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0eRBh.jpg\" alt=\"screenshot1\" /></a></p>\n"},{"tags":["java","machine-learning","neural-network","deeplearning4j"],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636637017,"creation_date":1636637017,"answer_id":69929032,"question_id":69928960,"body_markdown":"Feature Importance isn&#39;t commonly used with neural networks in general regardless of framework.  Generally the focus should be on hyper parameters and viewing the neural network training in the UI to see how its gradient changes over time.\r\n\r\nFrom there, you see if the loss curve has something like a:\r\n```\r\n| |\r\n| |\r\n| |\r\n| |\r\n| \\\r\n|  \\________________________________\r\n------------------------------------------\r\n```\r\nloss curve. You won&#39;t always get that but anything where the training is smooth and stable indicates well tuned parameters, the right loss function being picked and the learning happening.\r\n\r\nThe only other thing I can recommend is ensure that your input data as needed is properly normalized.","title":"DL4J feature importance","body":"<p>Feature Importance isn't commonly used with neural networks in general regardless of framework.  Generally the focus should be on hyper parameters and viewing the neural network training in the UI to see how its gradient changes over time.</p>\n<p>From there, you see if the loss curve has something like a:</p>\n<pre><code>| |\n| |\n| |\n| |\n| \\\n|  \\________________________________\n------------------------------------------\n</code></pre>\n<p>loss curve. You won't always get that but anything where the training is smooth and stable indicates well tuned parameters, the right loss function being picked and the learning happening.</p>\n<p>The only other thing I can recommend is ensure that your input data as needed is properly normalized.</p>\n"}],"owner":{"account_id":18361856,"reputation":9,"user_id":13373799,"display_name":"Corius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653682253,"creation_date":1636636696,"question_id":69928960,"body_markdown":"I have built a LSTM neural network with multiple features with Deeplearning4j.\r\nNow I want to know if a feature which I have added is good or not. I remember from other programming languages that there is a possibility to get a percentage value (feature-importance) per feature.\r\n\r\nHow to get this list of features from a model?","title":"DL4J feature importance","body":"<p>I have built a LSTM neural network with multiple features with Deeplearning4j.\nNow I want to know if a feature which I have added is good or not. I remember from other programming languages that there is a possibility to get a percentage value (feature-importance) per feature.</p>\n<p>How to get this list of features from a model?</p>\n"},{"tags":["java","maven","pom.xml","executable-jar"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1636637477,"post_id":69929062,"comment_id":123613981,"body_markdown":"Is There another abc already?","body":"Is There another abc already?"},{"owner":{"account_id":5805787,"reputation":143,"user_id":4578442,"accept_rate":15,"display_name":"JG1991"},"score":0,"creation_date":1636637563,"post_id":69929062,"comment_id":123614008,"body_markdown":"No... in fact when there was.. we changed package structure of imported jar file","body":"No... in fact when there was.. we changed package structure of imported jar file"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1636638877,"post_id":69929062,"comment_id":123614632,"body_markdown":"You may need to tell your IDE to rebuild its information about your project.  IntelliJ has a restart option that allows you to discard caches.","body":"You may need to tell your IDE to rebuild its information about your project.  IntelliJ has a restart option that allows you to discard caches."},{"owner":{"account_id":6671432,"reputation":304,"user_id":5147466,"accept_rate":38,"display_name":"Venkata Rahul S"},"score":0,"creation_date":1636721610,"post_id":69929062,"comment_id":123638417,"body_markdown":"IDE issue apart, you can also try to see if maven clean was run for the project where the dependency was declared. Perhaps some old reference to that earlier class remains.","body":"IDE issue apart, you can also try to see if maven clean was run for the project where the dependency was declared. Perhaps some old reference to that earlier class remains."}],"answers":[{"tags":[],"owner":{"account_id":5805787,"reputation":143,"user_id":4578442,"accept_rate":15,"display_name":"JG1991"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636729383,"creation_date":1636729383,"answer_id":69944936,"question_id":69929062,"body_markdown":"It was pom related issue where few of the plugins were causing the issue.\r\nI tried creating project from scratch and got the difference.","title":"Importing local jar through maven gives fully qualified name of the class","body":"<p>It was pom related issue where few of the plugins were causing the issue.\nI tried creating project from scratch and got the difference.</p>\n"}],"owner":{"account_id":5805787,"reputation":143,"user_id":4578442,"accept_rate":15,"display_name":"JG1991"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653682240,"creation_date":1636637148,"question_id":69929062,"body_markdown":"I am using my local jar project in another project through a maven dependency.\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;some.groupid&lt;/groupId&gt;\r\n       &lt;artifactId&gt;some.artifactid&lt;/artifactId&gt;\r\n       &lt;version&gt;1.0.0-RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe jar is getting liked to the project but when I try to access any class from it, say com.companyname.app.Abc; it is imported as com.companyname.app.Abc and not just Abc with import statement separate.\r\n\r\nI even tried putting import statement separately, but that did not work.\r\nThe IDE I am using is IntelliJ.\r\n\r\n","title":"Importing local jar through maven gives fully qualified name of the class","body":"<p>I am using my local jar project in another project through a maven dependency.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;some.groupid&lt;/groupId&gt;\n   &lt;artifactId&gt;some.artifactid&lt;/artifactId&gt;\n   &lt;version&gt;1.0.0-RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The jar is getting liked to the project but when I try to access any class from it, say com.companyname.app.Abc; it is imported as com.companyname.app.Abc and not just Abc with import statement separate.</p>\n<p>I even tried putting import statement separately, but that did not work.\nThe IDE I am using is IntelliJ.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1636637721,"post_id":69929166,"comment_id":123614090,"body_markdown":"You may probably use `res.replaceFirst(&quot;(?s)^.*?%%%&quot;, &quot;&quot;).split(&quot;%%%&quot;)`.","body":"You may probably use <code>res.replaceFirst(&quot;(?s)^.*?%%%&quot;, &quot;&quot;).split(&quot;%%%&quot;)</code>."},{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":0,"creation_date":1636638279,"post_id":69929166,"comment_id":123614355,"body_markdown":"This is tagged Java. Where is the Java? If you mean to read lines of text into groups separated by a line of %%% then _regex is not the tool to use_.","body":"This is tagged Java. Where is the Java? If you mean to read lines of text into groups separated by a line of %%% then <i>regex is not the tool to use</i>."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636638057,"creation_date":1636638057,"answer_id":69929280,"question_id":69929166,"body_markdown":"Assuming you have a multiline string with some unimportant text before the first `%%%` delimiter, you can remove this unimportant text first and then split with `%%%`:\r\n```java\r\nString[] entries = text.replaceFirst(&quot;(?s)^.*?%%%[\\r\\n]*&quot;, &quot;&quot;).split(&quot;\\\\s*%%%\\\\s*&quot;);\r\n```\r\nSee the [first regex demo][1] and the [second regex demo][2].\r\n\r\n*Details*:\r\n\r\n - `(?s)` - `.` now matches any chars (same as [`Pattern.DOTALL`][3])\r\n - `^` - start of string\r\n - `.*?` - any zero or more chars, as few as possible\r\n - `%%%` - a `%%%` string\r\n - `[\\r\\n]*` - zero or more CR or LF chars.\r\n\r\n\r\n  [1]: https://regex101.com/r/OYXy5h/3\r\n  [2]: https://regex101.com/r/OYXy5h/4\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL","title":"Regex - get n number of groups depending on number of delimiter separating them","body":"<p>Assuming you have a multiline string with some unimportant text before the first <code>%%%</code> delimiter, you can remove this unimportant text first and then split with <code>%%%</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] entries = text.replaceFirst(&quot;(?s)^.*?%%%[\\r\\n]*&quot;, &quot;&quot;).split(&quot;\\\\s*%%%\\\\s*&quot;);\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/OYXy5h/3\" rel=\"nofollow noreferrer\">first regex demo</a> and the <a href=\"https://regex101.com/r/OYXy5h/4\" rel=\"nofollow noreferrer\">second regex demo</a>.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>(?s)</code> - <code>.</code> now matches any chars (same as <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL\" rel=\"nofollow noreferrer\"><code>Pattern.DOTALL</code></a>)</li>\n<li><code>^</code> - start of string</li>\n<li><code>.*?</code> - any zero or more chars, as few as possible</li>\n<li><code>%%%</code> - a <code>%%%</code> string</li>\n<li><code>[\\r\\n]*</code> - zero or more CR or LF chars.</li>\n</ul>\n"}],"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69929280,"answer_count":1,"score":1,"last_activity_date":1653682220,"creation_date":1636637550,"question_id":69929166,"body_markdown":"I have 2 linux commands called like this\r\n\r\n    ntpq -pn | sed -n &#39;1,2!p&#39; echo &quot;%%%&quot; chage -l root \r\n\r\nThe %%% is the delimiter I am using, for parsing the output.\r\n\r\nThe command above returns:\r\n\r\n&gt; remote           refid      st t when poll reach   delay   offset \r\n&gt; jitter\\\r\n============================================================================\\\r\n*NTP_SERVER      SOME_IP_HERE     4 u   36 1024   77    0.511   -4.415    197.945 \\\r\n%%% \\\r\nPassword inactive                           : never\\\r\nPassword expire                             : never\\\r\n\r\nThe regex that I have ```%%%((?:.*))``` works fine when I want to take only the output of the second command, but what if I have more outputs behind this one separated with %%%. I want to take them in different groups too.\r\n\r\nHow can I transform my regex pattern so that it catches all the outputs in separate groups separated by the delimiter?","title":"Regex - get n number of groups depending on number of delimiter separating them","body":"<p>I have 2 linux commands called like this</p>\n<pre><code>ntpq -pn | sed -n '1,2!p' echo &quot;%%%&quot; chage -l root \n</code></pre>\n<p>The %%% is the delimiter I am using, for parsing the output.</p>\n<p>The command above returns:</p>\n<blockquote>\n<p>remote           refid      st t when poll reach   delay   offset\njitter<br />\n============================================================================<br />\n*NTP_SERVER      SOME_IP_HERE     4 u   36 1024   77    0.511   -4.415    197.945 <br />\n%%% <br />\nPassword inactive                           : never<br />\nPassword expire                             : never\\</p>\n</blockquote>\n<p>The regex that I have <code>%%%((?:.*))</code> works fine when I want to take only the output of the second command, but what if I have more outputs behind this one separated with %%%. I want to take them in different groups too.</p>\n<p>How can I transform my regex pattern so that it catches all the outputs in separate groups separated by the delimiter?</p>\n"},{"tags":["java","linux","macos"],"comments":[{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1636638406,"post_id":69929257,"comment_id":123614426,"body_markdown":"Check what your actual Java version is according to macOS. You can use this (macOS exclusive as far as I know) command: `/usr/libexec/java_home -V`. Edit: [here](https://medium.com/notes-for-geeks/java-home-and-java-home-on-macos-f246cab643bd) is a blog post about how macOS is _different_... (warning: link hosted on Medium.com, they will likely collect your data).","body":"Check what your actual Java version is according to macOS. You can use this (macOS exclusive as far as I know) command: <code>&#47;usr&#47;libexec&#47;java_home -V</code>. Edit: <a href=\"https://medium.com/notes-for-geeks/java-home-and-java-home-on-macos-f246cab643bd\" rel=\"nofollow noreferrer\">here</a> is a blog post about how macOS is <i>different</i>... (warning: link hosted on Medium.com, they will likely collect your data)."},{"owner":{"account_id":21551455,"reputation":431,"user_id":15887490,"display_name":"Ken Hsu"},"score":0,"creation_date":1636638790,"post_id":69929257,"comment_id":123614585,"body_markdown":"This is what I got: Matching Java Virtual Machines (1):\n    9.0.4, x86_64:\t&quot;Java SE 9.0.4&quot;\t/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home\n\n/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home","body":"This is what I got: Matching Java Virtual Machines (1):     9.0.4, x86_64:\t&quot;Java SE 9.0.4&quot;\t/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Conte&zwnj;&#8203;nts/Home  /Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Hom&zwnj;&#8203;e"}],"owner":{"account_id":21551455,"reputation":431,"user_id":15887490,"display_name":"Ken Hsu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653682137,"creation_date":1636637955,"question_id":69929257,"body_markdown":"I am trying to install bowtie2, but I fail.\r\n\r\n    sudo apt install bowtie2\r\n\r\nBut I always got error messages:\r\nUnable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/bin/apt&quot; (-1)\r\n\r\nI have been tried:\r\n\r\n    sudo ln -s /usr/bin/Java /Library/Java/JavaVirtualMachines/jdk9.0.4.jdk/Contents/Home/bin/apt\r\n\r\nand\r\n\r\n    export JAVA_HOME=&#39;/usr/bin/Java&#39;\r\nBut I am still unable to install my bowtie2 function.\r\n\r\nOther backgrounds of this question:\r\nBowtie2 can be downloaded from https://www.java.com/zh-TW/download/\r\n\r\nI store the unzipped file on the Desktop.\r\n\r\nMy Java files are at the below path:\r\n/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/\r\n\r\nMy operating system version is macOS Mojave Version 10.14.6\r\n\r\nThanks in advance.","title":"Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/bin/apt&quot; (-1)","body":"<p>I am trying to install bowtie2, but I fail.</p>\n<pre><code>sudo apt install bowtie2\n</code></pre>\n<p>But I always got error messages:\nUnable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/bin/apt&quot; (-1)</p>\n<p>I have been tried:</p>\n<pre><code>sudo ln -s /usr/bin/Java /Library/Java/JavaVirtualMachines/jdk9.0.4.jdk/Contents/Home/bin/apt\n</code></pre>\n<p>and</p>\n<pre><code>export JAVA_HOME='/usr/bin/Java'\n</code></pre>\n<p>But I am still unable to install my bowtie2 function.</p>\n<p>Other backgrounds of this question:\nBowtie2 can be downloaded from <a href=\"https://www.java.com/zh-TW/download/\" rel=\"nofollow noreferrer\">https://www.java.com/zh-TW/download/</a></p>\n<p>I store the unzipped file on the Desktop.</p>\n<p>My Java files are at the below path:\n/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/</p>\n<p>My operating system version is macOS Mojave Version 10.14.6</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1636639394,"post_id":69929312,"comment_id":123614866,"body_markdown":"It&#39;s working [check here](https://onlinegdb.com/ZslI4qWCN)","body":"It&#39;s working <a href=\"https://onlinegdb.com/ZslI4qWCN\" rel=\"nofollow noreferrer\">check here</a>"}],"answers":[{"tags":[],"owner":{"account_id":22283160,"reputation":107,"user_id":16511253,"display_name":"Emad Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636640221,"creation_date":1636640221,"answer_id":69929807,"question_id":69929312,"body_markdown":"`nextInt()` works in a way that if you input a number and then press Return &quot;The enter key&quot; that key is registered and waiting, when the `nextInt()` is called again, that registered key will then get consumed by the `nextInt()` and program will continue without waiting an input, cos it assumed that there was an input. to get around this you can follow the `scanner.nextInt()` with a  `scanner.nextLine()` to consume that Return key.\r\n\r\nother way it can be done by saving a line of code is by replacing `scanner.nextInt()` with `Integer.valueOf(scanner.nextLine())`. or better yet, `Integer.parseInt(scanner.nextLine())`","title":"Java Scanner.hasNextInt() does not wait for input","body":"<p><code>nextInt()</code> works in a way that if you input a number and then press Return &quot;The enter key&quot; that key is registered and waiting, when the <code>nextInt()</code> is called again, that registered key will then get consumed by the <code>nextInt()</code> and program will continue without waiting an input, cos it assumed that there was an input. to get around this you can follow the <code>scanner.nextInt()</code> with a  <code>scanner.nextLine()</code> to consume that Return key.</p>\n<p>other way it can be done by saving a line of code is by replacing <code>scanner.nextInt()</code> with <code>Integer.valueOf(scanner.nextLine())</code>. or better yet, <code>Integer.parseInt(scanner.nextLine())</code></p>\n"},{"tags":[],"owner":{"account_id":12306672,"reputation":45,"user_id":8979527,"display_name":"brandy29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636641368,"creation_date":1636641368,"answer_id":69930109,"question_id":69929312,"body_markdown":"So apparently removing the sc.close() statement made it work. Idk why though","title":"Java Scanner.hasNextInt() does not wait for input","body":"<p>So apparently removing the sc.close() statement made it work. Idk why though</p>\n"}],"owner":{"account_id":12306672,"reputation":45,"user_id":8979527,"display_name":"brandy29"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653682126,"creation_date":1636638216,"question_id":69929312,"body_markdown":"I am trying to read only valid integers from the console. I got the example below from another Stackoverflow answer and it should work. If I call the method once it works but on the second call it somehow ignores the sc.hasNextInt() statement and doesn&#39;t wait for an input here or thinks there is already an input.\r\n \r\n\r\n       Scanner sc = new Scanner(System.in);\r\n        int input;\r\n        \r\n        do {\r\n            System.out.println(&quot;Please enter a number [0-200]!&quot;);\r\n            while (!sc.hasNextInt()) {\r\n                System.out.println(&quot;That&#39;s not a number!&quot;);\r\n                sc.next();\r\n            }\r\n            input = sc.nextInt();\r\n        } while (input &gt;= 0 &amp;&amp; input &lt;= 200);\r\n        \r\n        sc.close();\r\n        return input;\r\nExample of input:\r\n\r\n    Please enter a number [0-200]!\r\n    d\r\n    That&#39;s not a number!\r\n    -1\r\n    Please enter a number [0-200]!\r\n    That&#39;s not a number!\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException\r\n    \tat java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n    \tat java.base/java.util.Scanner.next(Scanner.java:1478)\r\n    \tat Aufgabe5.getInput(Aufgabe5.java:44)\r\n    \tat Aufgabe5.main(Aufgabe5.java:112)\r\n\r\n","title":"Java Scanner.hasNextInt() does not wait for input","body":"<p>I am trying to read only valid integers from the console. I got the example below from another Stackoverflow answer and it should work. If I call the method once it works but on the second call it somehow ignores the sc.hasNextInt() statement and doesn't wait for an input here or thinks there is already an input.</p>\n<pre><code>   Scanner sc = new Scanner(System.in);\n    int input;\n    \n    do {\n        System.out.println(&quot;Please enter a number [0-200]!&quot;);\n        while (!sc.hasNextInt()) {\n            System.out.println(&quot;That's not a number!&quot;);\n            sc.next();\n        }\n        input = sc.nextInt();\n    } while (input &gt;= 0 &amp;&amp; input &lt;= 200);\n    \n    sc.close();\n    return input;\n</code></pre>\n<p>Example of input:</p>\n<pre><code>Please enter a number [0-200]!\nd\nThat's not a number!\n-1\nPlease enter a number [0-200]!\nThat's not a number!\nException in thread &quot;main&quot; java.util.NoSuchElementException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n    at java.base/java.util.Scanner.next(Scanner.java:1478)\n    at Aufgabe5.getInput(Aufgabe5.java:44)\n    at Aufgabe5.main(Aufgabe5.java:112)\n</code></pre>\n"},{"tags":["java","gremlin","tinkerpop"],"answers":[{"tags":[],"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636732577,"creation_date":1636642003,"answer_id":69930283,"question_id":69929394,"body_markdown":"If you want to generate a Map you will need to `group` using the model as the key. Something like shown below. Obviously, you will not really want to use the `label` but something that identifies the class of the model, if you have such a property, such as `name`.\r\n\r\n\r\n```java\r\ng.V().hasLabel(&quot;model&quot;).\r\n      group().\r\n        by(&#39;name&#39;).\r\n        by(out().hasLabel(&quot;diagram&quot;).path().by(elementMap()).fold())\r\n\r\n````\r\n**EDITED after discussion in comments:**\r\n\r\nIf you do not want the whole `path` in the result but just the unique diagram nodes and their properties, the query can be amended to as shown below. This version also adds all of the properties from the label node as the group (map) key.\r\n\r\n```java\r\ng.V().hasLabel(&quot;model&quot;).\r\n      group(). \r\n        by(elementMap()).\r\n        by(out().hasLabel(&quot;diagram&quot;).elementMap().fold())\r\n```\r\n","title":"Gremlin: Get all vertices hasLabel &#39;model&#39; and their children with all properties","body":"<p>If you want to generate a Map you will need to <code>group</code> using the model as the key. Something like shown below. Obviously, you will not really want to use the <code>label</code> but something that identifies the class of the model, if you have such a property, such as <code>name</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.V().hasLabel(&quot;model&quot;).\n      group().\n        by('name').\n        by(out().hasLabel(&quot;diagram&quot;).path().by(elementMap()).fold())\n\n</code></pre>\n<p><strong>EDITED after discussion in comments:</strong></p>\n<p>If you do not want the whole <code>path</code> in the result but just the unique diagram nodes and their properties, the query can be amended to as shown below. This version also adds all of the properties from the label node as the group (map) key.</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.V().hasLabel(&quot;model&quot;).\n      group(). \n        by(elementMap()).\n        by(out().hasLabel(&quot;diagram&quot;).elementMap().fold())\n</code></pre>\n"}],"owner":{"account_id":9357329,"reputation":91,"user_id":6944940,"display_name":"Pace17881"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653682113,"creation_date":1636638533,"question_id":69929394,"body_markdown":"I have a graph which should have the following json structure\r\n```\r\n{\r\n    &quot;models&quot;: [\r\n    {\r\n        &quot;name&quot;: &quot;Model1&quot;,\r\n        &quot;id&quot;: 19,\r\n        &quot;diagram&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;Diagram1&quot;,\r\n            &quot;id&quot;: &quot;34&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;Diagram2&quot;,\r\n            &quot;id&quot;: &quot;36&quot;\r\n        }\r\n        ]\r\n    },\r\n    {\r\n        &quot;name&quot;: &quot;Model2&quot;,\r\n        &quot;id&quot;: 14,\r\n        &quot;diagram&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;Diagram2&quot;,\r\n            &quot;id&quot;: &quot;32&quot;\r\n        }\r\n        ]\r\n    }\r\n    ]\r\n}\r\n```\r\nHere is my sample graph:\r\n\r\n```java\r\ng.addV(&#39;org&#39;).property(&#39;name&#39;, &#39;Org_seppmed&#39;).as(&#39;org1&#39;).addV(&#39;org&#39;).property(&#39;name&#39;, &#39;Org_siemens&#39;).as(&#39;org2&#39;).addV(&#39;user&#39;).property(&#39;name&#39;, &#39;U_Sebastian&#39;).as(&#39;user1&#39;).addV(&#39;user&#39;).property(&#39;name&#39;, &#39;U_Jaroslaw&#39;).as(&#39;user2&#39;).addV(&#39;user&#39;).property(&#39;name&#39;, &#39;U_J&#252;rgen&#39;).as(&#39;user3&#39;).addV(&#39;user&#39;).property(&#39;name&#39;, &#39;U_Carsten&#39;).as(&#39;user4&#39;).addV(&#39;user&#39;).property(&#39;name&#39;, &#39;U_DevUser&#39;).as(&#39;user5&#39;).addE(&#39;administratedBy&#39;).from(&#39;org1&#39;).to(&#39;user1&#39;).addE(&#39;hasEmployee&#39;).from(&#39;org1&#39;).to(&#39;user2&#39;).addE(&#39;hasEmployee&#39;).from(&#39;org1&#39;).to(&#39;user3&#39;).addE(&#39;hasEmployee&#39;).from(&#39;org2&#39;).to(&#39;user4&#39;).addE(&#39;hasEmployee&#39;).from(&#39;org1&#39;).to(&#39;user5&#39;).addE(&#39;hasGuest&#39;).from(&#39;org1&#39;).to(&#39;user4&#39;).addV(&#39;project&#39;).property(&#39;name&#39;, &#39;P_Bremsen&#39;).as(&#39;projectmbt1&#39;).addV(&#39;project&#39;).property(&#39;name&#39;, &#39;P_Blinker&#39;).as(&#39;projectmbt2&#39;).addE(&#39;owns&#39;).from(&#39;user1&#39;).to(&#39;projectmbt1&#39;).addE(&#39;owns&#39;).from(&#39;user2&#39;).to(&#39;projectmbt2&#39;).addE(&#39;writes&#39;).from(&#39;user2&#39;).to(&#39;projectmbt1&#39;).addE(&#39;writes&#39;).from(&#39;user3&#39;).to(&#39;projectmbt1&#39;).addE(&#39;reads&#39;).from(&#39;user4&#39;).to(&#39;projectmbt1&#39;).addE(&#39;writes&#39;).from(&#39;user1&#39;).to(&#39;projectmbt2&#39;).addE(&#39;writes&#39;).from(&#39;user3&#39;).to(&#39;projectmbt2&#39;).addV(&#39;model&#39;).property(&#39;name&#39;, &#39;M_Bremse&#39;).as(&#39;modelmbt1&#39;).addV(&#39;model&#39;).property(&#39;name&#39;, &#39;M_Blinker&#39;).as(&#39;modelmbt2&#39;).addV(&#39;model&#39;).property(&#39;name&#39;, &#39;M_Bremse2&#39;).as(&#39;modelmbt3&#39;).addE(&#39;has&#39;).from(&#39;projectmbt1&#39;).to(&#39;modelmbt1&#39;).addE(&#39;has&#39;).from(&#39;projectmbt1&#39;).to(&#39;modelmbt3&#39;).addE(&#39;has&#39;).from(&#39;projectmbt2&#39;).to(&#39;modelmbt2&#39;).addV(&#39;diagram&#39;).property(&#39;name&#39;, &#39;D_D1&#39;).as(&#39;diagramd1&#39;).addV(&#39;diagram&#39;).property(&#39;name&#39;, &#39;D_D2&#39;).as(&#39;diagramd2&#39;).addV(&#39;diagram&#39;).property(&#39;name&#39;, &#39;D_D3&#39;).as(&#39;diagramd3&#39;).addV(&#39;diagram&#39;).property(&#39;name&#39;, &#39;D_D1&#39;).as(&#39;diagramd4&#39;).addV(&#39;testsuite&#39;).property(&#39;name&#39;, &#39;T_TestD1&#39;).as(&#39;testsuited1&#39;).addE(&#39;has&#39;).from(&#39;modelmbt1&#39;).to(&#39;diagramd1&#39;).addE(&#39;has&#39;).from(&#39;modelmbt1&#39;).to(&#39;diagramd2&#39;).addE(&#39;has&#39;).from(&#39;modelmbt2&#39;).to(&#39;diagramd3&#39;).addE(&#39;has&#39;).from(&#39;modelmbt3&#39;).to(&#39;diagramd4&#39;).addE(&#39;has&#39;).from(&#39;modelmbt1&#39;).to(&#39;testsuited1&#39;).addV(&#39;initial&#39;).as(&#39;initMBT1D1&#39;).addV(&#39;precondition&#39;).as(&#39;preMBT1D1&#39;).addV(&#39;teststep&#39;).property(&#39;name&#39;, &#39;N_Blinking left&#39;).as(&#39;node1MBT1D1&#39;).addV(&#39;teststep&#39;).property(&#39;name&#39;, &#39;N_Blinking right&#39;).as(&#39;node2MBT1D1&#39;).addV(&#39;teststep&#39;).property(&#39;name&#39;, &#39;N_Hazard flashers&#39;).as(&#39;node3MBT1D1&#39;).addV(&#39;teststep&#39;).property(&#39;name&#39;, &#39;N_Emergency flashers&#39;).as(&#39;node4MBT1D1&#39;).addV(&#39;teststep&#39;).property(&#39;name&#39;, &#39;N_Blinking off&#39;).as(&#39;node5MBT1D1&#39;).addV(&#39;node&#39;).as(&#39;connodeMBT1D1&#39;).addV(&#39;postcondition&#39;).as(&#39;postMBT1D1&#39;).addV(&#39;final&#39;).as(&#39;finalMBT1D1&#39;).addE(&#39;has&#39;).from(&#39;diagramd1&#39;).to(&#39;initMBT1D1&#39;).addE(&#39;has&#39;).from(&#39;diagramd1&#39;).to(&#39;preMBT1D1&#39;).addE(&#39;has&#39;).from(&#39;diagramd1&#39;).to(&#39;node1MBT1D1&#39;).addE(&#39;has&#39;).from(&#39;diagramd1&#39;).to(&#39;node2MBT1D1&#39;).addE(&#39;has&#39;).from(&#39;diagramd1&#39;).to(&#39;node3MBT1D1&#39;).addE(&#39;has&#39;).from(&#39;diagramd1&#39;).to(&#39;node4MBT1D1&#39;).addE(&#39;has&#39;).from(&#39;diagramd1&#39;).to(&#39;node5MBT1D1&#39;).addE(&#39;has&#39;).from(&#39;diagramd1&#39;).to(&#39;connodeMBT1D1&#39;).addE(&#39;has&#39;).from(&#39;diagramd1&#39;).to(&#39;postMBT1D1&#39;).addE(&#39;has&#39;).from(&#39;diagramd1&#39;).to(&#39;finalMBT1D1&#39;).addE(&#39;pointsTo&#39;).from(&#39;initMBT1D1&#39;).to(&#39;preMBT1D1&#39;).addE(&#39;pointsTo&#39;).from(&#39;preMBT1D1&#39;).to(&#39;node1MBT1D1&#39;).addE(&#39;pointsTo&#39;).from(&#39;preMBT1D1&#39;).to(&#39;node2MBT1D1&#39;).addE(&#39;pointsTo&#39;).from(&#39;preMBT1D1&#39;).to(&#39;node3MBT1D1&#39;).addE(&#39;pointsTo&#39;).from(&#39;preMBT1D1&#39;).to(&#39;node4MBT1D1&#39;).addE(&#39;pointsTo&#39;).from(&#39;preMBT1D1&#39;).to(&#39;node5MBT1D1&#39;).addE(&#39;pointsTo&#39;).from(&#39;node1MBT1D1&#39;).to(&#39;postMBT1D1&#39;).addE(&#39;pointsTo&#39;).from(&#39;postMBT1D1&#39;).to(&#39;node1MBT1D1&#39;).addE(&#39;pointsTo&#39;).from(&#39;node2MBT1D1&#39;).to(&#39;postMBT1D1&#39;).addE(&#39;pointsTo&#39;).from(&#39;node3MBT1D1&#39;).to(&#39;postMBT1D1&#39;).addE(&#39;pointsTo&#39;).from(&#39;node4MBT1D1&#39;).to(&#39;postMBT1D1&#39;).addE(&#39;pointsTo&#39;).from(&#39;node5MBT1D1&#39;).to(&#39;postMBT1D1&#39;).addE(&#39;pointsTo&#39;).from(&#39;postMBT1D1&#39;).to(&#39;connodeMBT1D1&#39;).addE(&#39;linksTo&#39;).from(&#39;connodeMBT1D1&#39;).to(&#39;diagramd2&#39;).addE(&#39;pointsTo&#39;).from(&#39;connodeMBT1D1&#39;).to(&#39;finalMBT1D1&#39;).addV(&#39;initial&#39;).as(&#39;initMBT1D2&#39;).addV(&#39;teststep&#39;).property(&#39;name&#39;, &#39;N_Trigger left&#39;).as(&#39;node1MBT1D2&#39;).addV(&#39;teststep&#39;).property(&#39;name&#39;, &#39;N_Trigger right&#39;).as(&#39;node2MBT1D2&#39;).addV(&#39;verificationpoint&#39;).property(&#39;name&#39;, &#39;N_Triggercheck&#39;).as(&#39;node3MBT1D2&#39;).addV(&#39;final&#39;).as(&#39;finalMBT1D2&#39;).addE(&#39;has&#39;).from(&#39;diagramd2&#39;).to(&#39;initMBT1D2&#39;).addE(&#39;has&#39;).from(&#39;diagramd2&#39;).to(&#39;node1MBT1D2&#39;).addE(&#39;has&#39;).from(&#39;diagramd2&#39;).to(&#39;node2MBT1D2&#39;).addE(&#39;has&#39;).from(&#39;diagramd2&#39;).to(&#39;node3MBT1D2&#39;).addE(&#39;has&#39;).from(&#39;diagramd2&#39;).to(&#39;finalMBT1D2&#39;).addE(&#39;pointsTo&#39;).from(&#39;initMBT1D2&#39;).to(&#39;node1MBT1D2&#39;).addE(&#39;pointsTo&#39;).from(&#39;initMBT1D2&#39;).to(&#39;node2MBT1D2&#39;).addE(&#39;pointsTo&#39;).from(&#39;node1MBT1D2&#39;).to(&#39;node3MBT1D2&#39;).addE(&#39;pointsTo&#39;).from(&#39;node2MBT1D2&#39;).to(&#39;node3MBT1D2&#39;).addE(&#39;pointsTo&#39;).from(&#39;node3MBT1D2&#39;).to(&#39;finalMBT1D2&#39;)\r\n```\r\n\r\nNow I am trying to find a query to get above structure: \r\n```java\r\ng.V().hasLabel(&quot;model&quot;).out().hasLabel(&quot;diagram&quot;).path().by(elementMap())\r\n```\r\n\r\nThe result is like:\r\n```\r\n==&gt;path[{id=12384, label=model, name=Model2}, {id=28904, label=diagram, name=Diagram2}]\r\n==&gt;path[{id=37056, label=model, name=Model1}, {id=16448, label=diagram, name=Diagram1}]\r\n==&gt;path[{id=37056, label=model, name=Model1}, {id=24808, label=diagram, name=Diagram1}]\r\n```\r\nMy expectation was to get a ```Map&lt;Model, List&lt;Diagram&gt;&gt;```. But i get for each diagram of a model a complete new entry, instead of adding all related diagrams to a model.\r\n\r\nHow can I solve my problem?","title":"Gremlin: Get all vertices hasLabel &#39;model&#39; and their children with all properties","body":"<p>I have a graph which should have the following json structure</p>\n<pre><code>{\n    &quot;models&quot;: [\n    {\n        &quot;name&quot;: &quot;Model1&quot;,\n        &quot;id&quot;: 19,\n        &quot;diagram&quot;: [\n        {\n            &quot;name&quot;: &quot;Diagram1&quot;,\n            &quot;id&quot;: &quot;34&quot;\n        },\n        {\n            &quot;name&quot;: &quot;Diagram2&quot;,\n            &quot;id&quot;: &quot;36&quot;\n        }\n        ]\n    },\n    {\n        &quot;name&quot;: &quot;Model2&quot;,\n        &quot;id&quot;: 14,\n        &quot;diagram&quot;: [\n        {\n            &quot;name&quot;: &quot;Diagram2&quot;,\n            &quot;id&quot;: &quot;32&quot;\n        }\n        ]\n    }\n    ]\n}\n</code></pre>\n<p>Here is my sample graph:</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.addV('org').property('name', 'Org_seppmed').as('org1').addV('org').property('name', 'Org_siemens').as('org2').addV('user').property('name', 'U_Sebastian').as('user1').addV('user').property('name', 'U_Jaroslaw').as('user2').addV('user').property('name', 'U_Jürgen').as('user3').addV('user').property('name', 'U_Carsten').as('user4').addV('user').property('name', 'U_DevUser').as('user5').addE('administratedBy').from('org1').to('user1').addE('hasEmployee').from('org1').to('user2').addE('hasEmployee').from('org1').to('user3').addE('hasEmployee').from('org2').to('user4').addE('hasEmployee').from('org1').to('user5').addE('hasGuest').from('org1').to('user4').addV('project').property('name', 'P_Bremsen').as('projectmbt1').addV('project').property('name', 'P_Blinker').as('projectmbt2').addE('owns').from('user1').to('projectmbt1').addE('owns').from('user2').to('projectmbt2').addE('writes').from('user2').to('projectmbt1').addE('writes').from('user3').to('projectmbt1').addE('reads').from('user4').to('projectmbt1').addE('writes').from('user1').to('projectmbt2').addE('writes').from('user3').to('projectmbt2').addV('model').property('name', 'M_Bremse').as('modelmbt1').addV('model').property('name', 'M_Blinker').as('modelmbt2').addV('model').property('name', 'M_Bremse2').as('modelmbt3').addE('has').from('projectmbt1').to('modelmbt1').addE('has').from('projectmbt1').to('modelmbt3').addE('has').from('projectmbt2').to('modelmbt2').addV('diagram').property('name', 'D_D1').as('diagramd1').addV('diagram').property('name', 'D_D2').as('diagramd2').addV('diagram').property('name', 'D_D3').as('diagramd3').addV('diagram').property('name', 'D_D1').as('diagramd4').addV('testsuite').property('name', 'T_TestD1').as('testsuited1').addE('has').from('modelmbt1').to('diagramd1').addE('has').from('modelmbt1').to('diagramd2').addE('has').from('modelmbt2').to('diagramd3').addE('has').from('modelmbt3').to('diagramd4').addE('has').from('modelmbt1').to('testsuited1').addV('initial').as('initMBT1D1').addV('precondition').as('preMBT1D1').addV('teststep').property('name', 'N_Blinking left').as('node1MBT1D1').addV('teststep').property('name', 'N_Blinking right').as('node2MBT1D1').addV('teststep').property('name', 'N_Hazard flashers').as('node3MBT1D1').addV('teststep').property('name', 'N_Emergency flashers').as('node4MBT1D1').addV('teststep').property('name', 'N_Blinking off').as('node5MBT1D1').addV('node').as('connodeMBT1D1').addV('postcondition').as('postMBT1D1').addV('final').as('finalMBT1D1').addE('has').from('diagramd1').to('initMBT1D1').addE('has').from('diagramd1').to('preMBT1D1').addE('has').from('diagramd1').to('node1MBT1D1').addE('has').from('diagramd1').to('node2MBT1D1').addE('has').from('diagramd1').to('node3MBT1D1').addE('has').from('diagramd1').to('node4MBT1D1').addE('has').from('diagramd1').to('node5MBT1D1').addE('has').from('diagramd1').to('connodeMBT1D1').addE('has').from('diagramd1').to('postMBT1D1').addE('has').from('diagramd1').to('finalMBT1D1').addE('pointsTo').from('initMBT1D1').to('preMBT1D1').addE('pointsTo').from('preMBT1D1').to('node1MBT1D1').addE('pointsTo').from('preMBT1D1').to('node2MBT1D1').addE('pointsTo').from('preMBT1D1').to('node3MBT1D1').addE('pointsTo').from('preMBT1D1').to('node4MBT1D1').addE('pointsTo').from('preMBT1D1').to('node5MBT1D1').addE('pointsTo').from('node1MBT1D1').to('postMBT1D1').addE('pointsTo').from('postMBT1D1').to('node1MBT1D1').addE('pointsTo').from('node2MBT1D1').to('postMBT1D1').addE('pointsTo').from('node3MBT1D1').to('postMBT1D1').addE('pointsTo').from('node4MBT1D1').to('postMBT1D1').addE('pointsTo').from('node5MBT1D1').to('postMBT1D1').addE('pointsTo').from('postMBT1D1').to('connodeMBT1D1').addE('linksTo').from('connodeMBT1D1').to('diagramd2').addE('pointsTo').from('connodeMBT1D1').to('finalMBT1D1').addV('initial').as('initMBT1D2').addV('teststep').property('name', 'N_Trigger left').as('node1MBT1D2').addV('teststep').property('name', 'N_Trigger right').as('node2MBT1D2').addV('verificationpoint').property('name', 'N_Triggercheck').as('node3MBT1D2').addV('final').as('finalMBT1D2').addE('has').from('diagramd2').to('initMBT1D2').addE('has').from('diagramd2').to('node1MBT1D2').addE('has').from('diagramd2').to('node2MBT1D2').addE('has').from('diagramd2').to('node3MBT1D2').addE('has').from('diagramd2').to('finalMBT1D2').addE('pointsTo').from('initMBT1D2').to('node1MBT1D2').addE('pointsTo').from('initMBT1D2').to('node2MBT1D2').addE('pointsTo').from('node1MBT1D2').to('node3MBT1D2').addE('pointsTo').from('node2MBT1D2').to('node3MBT1D2').addE('pointsTo').from('node3MBT1D2').to('finalMBT1D2')\n</code></pre>\n<p>Now I am trying to find a query to get above structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.V().hasLabel(&quot;model&quot;).out().hasLabel(&quot;diagram&quot;).path().by(elementMap())\n</code></pre>\n<p>The result is like:</p>\n<pre><code>==&gt;path[{id=12384, label=model, name=Model2}, {id=28904, label=diagram, name=Diagram2}]\n==&gt;path[{id=37056, label=model, name=Model1}, {id=16448, label=diagram, name=Diagram1}]\n==&gt;path[{id=37056, label=model, name=Model1}, {id=24808, label=diagram, name=Diagram1}]\n</code></pre>\n<p>My expectation was to get a <code>Map&lt;Model, List&lt;Diagram&gt;&gt;</code>. But i get for each diagram of a model a complete new entry, instead of adding all related diagrams to a model.</p>\n<p>How can I solve my problem?</p>\n"},{"tags":["java","methods","parameters"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1636639038,"post_id":69929450,"comment_id":123614708,"body_markdown":"`System.out.println (&quot;The area of the rectangle is &quot; + area(length, width));`, same for the perimeter.","body":"<code>System.out.println (&quot;The area of the rectangle is &quot; + area(length, width));</code>, same for the perimeter."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1636639294,"post_id":69929450,"comment_id":123614815,"body_markdown":"Hint: consider to have such discussions with your peers or tutors. Stackoverflow is a poor replacement for such learning activities.","body":"Hint: consider to have such discussions with your peers or tutors. Stackoverflow is a poor replacement for such learning activities."},{"owner":{"account_id":23136738,"reputation":7,"user_id":17240867,"display_name":"emily"},"score":0,"creation_date":1636640471,"post_id":69929450,"comment_id":123615348,"body_markdown":"Hi @GhostCat, I only have one other peer and they don&#39;t know either. Our tutors are not available until next week so thought I would ask here","body":"Hi @GhostCat, I only have one other peer and they don&#39;t know either. Our tutors are not available until next week so thought I would ask here"}],"answers":[{"tags":[],"owner":{"account_id":22283160,"reputation":107,"user_id":16511253,"display_name":"Emad Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636639249,"creation_date":1636639249,"answer_id":69929566,"question_id":69929450,"body_markdown":"Other methods can be called inside methods, you are passing an `int area` and an `int perimeter` in your `printRectangleDetails` parentheses however, you do not have to do this. Your `printRectangleDetails` method should only know the width and height, and inside the method functions then it will call the other methods `area(width, height)` and `perimeter(width, height)` and pass the width and height to them.\r\n\r\nFor the Edit question, you do not have to change the `main(String[] args)`, but since your new method `printRectangleDetails` already prints all the info of the rectangle including area and perimeter, then all you have to do is replace any methods inside `main` with a single call to `printRectangleDetails`.","title":"How to use Java Methods/ Parameters","body":"<p>Other methods can be called inside methods, you are passing an <code>int area</code> and an <code>int perimeter</code> in your <code>printRectangleDetails</code> parentheses however, you do not have to do this. Your <code>printRectangleDetails</code> method should only know the width and height, and inside the method functions then it will call the other methods <code>area(width, height)</code> and <code>perimeter(width, height)</code> and pass the width and height to them.</p>\n<p>For the Edit question, you do not have to change the <code>main(String[] args)</code>, but since your new method <code>printRectangleDetails</code> already prints all the info of the rectangle including area and perimeter, then all you have to do is replace any methods inside <code>main</code> with a single call to <code>printRectangleDetails</code>.</p>\n"}],"owner":{"account_id":23136738,"reputation":7,"user_id":17240867,"display_name":"emily"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69929566,"answer_count":1,"score":0,"last_activity_date":1653682100,"creation_date":1636638779,"question_id":69929450,"body_markdown":"I have coded a program using separate parts to find &amp; display the area and perimeter of a rectangle. I am now supposed to create a void to display the length, width, area and perimeter. However, I can&#39;t seem to get it to display when I run the program. I will pop in my code and then the instructions of the task underneath in case I haven&#39;t explained it well enough.\r\n\r\n    public class Rectangle\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            System.out.println (area(10,15));\r\n            System.out.println (perimeter(10, 15));\r\n        }\r\n    /**\r\n    * Returns the area of a rectangle\r\n    */\r\n        public static int area (int length, int width)\r\n        {\r\n            return length * width;\r\n        }\r\n    /**\r\n    * Returns the perimeter of the rectangle\r\n    */\r\n        public static int perimeter (int length, int width)\r\n        {\r\n            return 2 * (length + width);\r\n        }\r\n        public static void printRectangleDetails(int length, int width, int area, int perimeter)\r\n        {\r\n            System.out.println (&quot;The length of the rectangle is &quot; + length);\r\n            System.out.println (&quot;The width of the rectangle is &quot; + width);\r\n            System.out.println (&quot;The area of the rectangle is &quot; + area);\r\n            System.out.println (&quot;The perimeter of the rectangle is &quot; + perimeter);\r\n        }\r\n    }\r\nThe task information:\r\n&quot;Write a method called printRectangleDetailswhich, when given the height and width of a rectangle, prints four lines of output stating the height, width, area, and perimeter of the rectangle. The output should include suitable text explaining what the numbers area. Add suitable comments to the new method.printRectangleDetails()is a different kind of method fromareaand perimeter. It performs some actions (printing output) but does not return any result when it is called. Its output type must therefore be voidto show that it does not return a value, and it is an example of a void method. A call to a void method can be used as a standalone statement in your program. However, because a void method does not return a value, it cannot be used where an expression with a value is expected. Methods which return a value (non-void methods) can be used as both standalone statements and as expressions.&quot;\r\n\r\nEdit - I have now seen this on the instructions &quot;Replace the code in the main method with suitable calls of your printRectangleDetails()method.&quot; does this mean I should change the void main(String[] args) section to printRectangleDetails() &amp; if so, how would I do this?","title":"How to use Java Methods/ Parameters","body":"<p>I have coded a program using separate parts to find &amp; display the area and perimeter of a rectangle. I am now supposed to create a void to display the length, width, area and perimeter. However, I can't seem to get it to display when I run the program. I will pop in my code and then the instructions of the task underneath in case I haven't explained it well enough.</p>\n<pre><code>public class Rectangle\n{\n    public static void main(String[] args)\n    {\n        System.out.println (area(10,15));\n        System.out.println (perimeter(10, 15));\n    }\n/**\n* Returns the area of a rectangle\n*/\n    public static int area (int length, int width)\n    {\n        return length * width;\n    }\n/**\n* Returns the perimeter of the rectangle\n*/\n    public static int perimeter (int length, int width)\n    {\n        return 2 * (length + width);\n    }\n    public static void printRectangleDetails(int length, int width, int area, int perimeter)\n    {\n        System.out.println (&quot;The length of the rectangle is &quot; + length);\n        System.out.println (&quot;The width of the rectangle is &quot; + width);\n        System.out.println (&quot;The area of the rectangle is &quot; + area);\n        System.out.println (&quot;The perimeter of the rectangle is &quot; + perimeter);\n    }\n}\n</code></pre>\n<p>The task information:\n&quot;Write a method called printRectangleDetailswhich, when given the height and width of a rectangle, prints four lines of output stating the height, width, area, and perimeter of the rectangle. The output should include suitable text explaining what the numbers area. Add suitable comments to the new method.printRectangleDetails()is a different kind of method fromareaand perimeter. It performs some actions (printing output) but does not return any result when it is called. Its output type must therefore be voidto show that it does not return a value, and it is an example of a void method. A call to a void method can be used as a standalone statement in your program. However, because a void method does not return a value, it cannot be used where an expression with a value is expected. Methods which return a value (non-void methods) can be used as both standalone statements and as expressions.&quot;</p>\n<p>Edit - I have now seen this on the instructions &quot;Replace the code in the main method with suitable calls of your printRectangleDetails()method.&quot; does this mean I should change the void main(String[] args) section to printRectangleDetails() &amp; if so, how would I do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1636640101,"post_id":69929752,"comment_id":123615186,"body_markdown":"Use `System.out.println()` if you want newlines.","body":"Use <code>System.out.println()</code> if you want newlines."},{"owner":{"account_id":11898682,"reputation":1451,"user_id":8733066,"display_name":"bb1950328"},"score":0,"creation_date":1636640143,"post_id":69929752,"comment_id":123615204,"body_markdown":"just move the print outside the loop. everything inside the loop is executed `num` times","body":"just move the print outside the loop. everything inside the loop is executed <code>num</code> times"},{"owner":{"account_id":15608654,"reputation":5870,"user_id":11260716,"display_name":"Daniel Junglas"},"score":0,"creation_date":1636640280,"post_id":69929752,"comment_id":123615262,"body_markdown":"You will get the expected output if you do not enter the numbers as &quot;1 2 3 4&lt;RETURN&gt;&quot; but as &quot;1&lt;RETURN&gt;2&lt;RETURN&gt;3&lt;RETURN&gt;4&lt;RETURN&gt;&quot;.\nThe line-breaks you see in the output do not come from your code but from your input.","body":"You will get the expected output if you do not enter the numbers as &quot;1 2 3 4&lt;RETURN&gt;&quot; but as &quot;1&lt;RETURN&gt;2&lt;RETURN&gt;3&lt;RETURN&gt;4&lt;RETURN&gt;&quot;. The line-breaks you see in the output do not come from your code but from your input."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1636640310,"post_id":69929752,"comment_id":123615275,"body_markdown":"`num` is 4. So your for-loop runs 4 times. So your `print` statement inside the loop is executed 4 times.","body":"<code>num</code> is 4. So your for-loop runs 4 times. So your <code>print</code> statement inside the loop is executed 4 times."},{"owner":{"account_id":23254450,"reputation":9,"user_id":17341721,"display_name":"meorasso"},"score":0,"creation_date":1636640575,"post_id":69929752,"comment_id":123615394,"body_markdown":"Can you expound more clearly?","body":"Can you expound more clearly?"}],"answers":[{"tags":[],"owner":{"account_id":7027585,"reputation":305,"user_id":5384491,"display_name":"Arutsudar Arut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636640993,"creation_date":1636640651,"answer_id":69929926,"question_id":69929752,"body_markdown":"Since you enter the value `4` for `num`, it is looping 4 times.\r\n\r\nAlso, you are trying to get the input of integers entered in a single line separated by a `space`, and not a `return`.\r\n\r\nIf you want to read multiple Integer values from a single line of input in Java, you can do something like below.\r\n\r\n(Referred from - [Link][1])\r\n\r\n    Scanner x = new Scanner (System.in);\r\n    System.out.print(&quot;Enter the size: &quot;);\r\n    int num = x.nextInt();\r\n\r\n    int array [] = new int[num];\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    String lines = br.readLine();    \r\n        \r\n    String[] strs = lines.trim().split(&quot;\\\\s+&quot;);\r\n    for (int i = 0; i &lt; strs.length; i++) {\r\n        array[i] = Integer.parseInt(strs[i]);\r\n    }\r\n\r\nThis will store the integers in the variable `array`.\r\n\r\nNote: This works well, if you are sure that the `size` entered and then the no. of `values` entered are same. You might have to handle scenarios where they doesn&#39;t match.\r\n\r\n  [1]: https://stackoverflow.com/a/26654259/5384491","title":"Multiple loops printing in last line JAVA","body":"<p>Since you enter the value <code>4</code> for <code>num</code>, it is looping 4 times.</p>\n<p>Also, you are trying to get the input of integers entered in a single line separated by a <code>space</code>, and not a <code>return</code>.</p>\n<p>If you want to read multiple Integer values from a single line of input in Java, you can do something like below.</p>\n<p>(Referred from - <a href=\"https://stackoverflow.com/a/26654259/5384491\">Link</a>)</p>\n<pre><code>Scanner x = new Scanner (System.in);\nSystem.out.print(&quot;Enter the size: &quot;);\nint num = x.nextInt();\n\nint array [] = new int[num];\nBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\nString lines = br.readLine();    \n    \nString[] strs = lines.trim().split(&quot;\\\\s+&quot;);\nfor (int i = 0; i &lt; strs.length; i++) {\n    array[i] = Integer.parseInt(strs[i]);\n}\n</code></pre>\n<p>This will store the integers in the variable <code>array</code>.</p>\n<p>Note: This works well, if you are sure that the <code>size</code> entered and then the no. of <code>values</code> entered are same. You might have to handle scenarios where they doesn't match.</p>\n"}],"owner":{"account_id":23254450,"reputation":9,"user_id":17341721,"display_name":"meorasso"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653682048,"creation_date":1636639996,"question_id":69929752,"body_markdown":"I am currently working with arrays and loop and I found it strange that the &#39;Enter the values&#39; were printing in multiple line. You can refer to the Output of Source Code and the Expected output.\r\nSource code of Mine: \r\n\r\n    import java.util.*;\r\n    public class Mains {\r\n    \tpublic static int father(int[] arr, int len) {\r\n    \t\tint first, second, third;\r\n    \t\tint min = -(int)2_147_483_648l;\r\n    \t\tfirst = min;\r\n    \t\tsecond = min;\r\n    \t\tthird = min;\r\n    \t\tfor(int i = 0; i &lt; len; i++) {\r\n    \t\t\tif(arr[i] &gt; first) {\r\n    \t\t\t\tthird = second;\r\n    \t\t\t\tsecond = first;\r\n    \t\t\t\tfirst = arr[i];\r\n    \t\t\t} else if(arr[i] &gt; second ) {\r\n    \t\t\t\tthird = second;\r\n    \t\t\t\tsecond = arr[i];\r\n    \t\t\t} else if(arr[i] &gt; third) {\r\n    \t\t\t\tthird = arr[i];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn first + second + third;\r\n    \t}\r\n    \r\n    \tpublic static int son(int[] arr, int len) \r\n        {\r\n    \t\tint first, second, third;\r\n    \r\n    \t\tint max = 2_147_483_647;\r\n    \t\tfirst = max;\r\n    \t\tsecond = max;\r\n    \t\tthird = max;\r\n    \t\tfor(int i = 0; i &lt; len; i++) \r\n            {\r\n                if(arr[i] &lt; first)\r\n                {\r\n                    third = second;\r\n                    second = first;\r\n                    first = arr[i];\r\n                } \r\n                else if (arr[i] &lt;second)      \r\n                {\r\n                        third = second;\r\n                        second = arr[i];\r\n                }\r\n    \r\n                else if (arr[i] &lt; third)\r\n                {\r\n                        third = arr[i];\r\n                }\r\n    \t\t}\r\n    \t\treturn first+second+third;\r\n        }\r\n    \r\n        public static void main(String []args) \r\n        {\r\n            Scanner x = new Scanner (System.in);\r\n            int num;        \r\n            System.out.print(&quot;Enter the size: &quot;);\r\n            num = x.nextInt();\r\n    \r\n            int array [] = new int [num];\r\n            for(int i=0;i&lt;num;i++){\r\n                System.out.print(&quot;Enter the values: &quot;);\r\n                array[i] = x.nextInt();\r\n                \r\n                \r\n            }\r\n    \r\n            System.out.print(&quot;Father = &quot;+father(array, num)+&quot;, Son = &quot;+son(array, num));\r\n            x.close();\r\n        }\r\n    }\r\n\r\nOutput of the Source Code:\r\n\r\n    Enter the size: 4\r\n    Enter the values: 1 2 3 4\r\n    Enter the values: Enter the values: Enter the values: Father = 9, Son = 6\r\n\r\nExpected Output:\r\n\r\n    Enter the size: 4\r\n    Enter the values: 1 2 3 4\r\n    Father = 9, Son = 6\r\n\r\nAnd I do not know what is the problem and I am keeping searching on how to remove that. Please help me, thank you!","title":"Multiple loops printing in last line JAVA","body":"<p>I am currently working with arrays and loop and I found it strange that the 'Enter the values' were printing in multiple line. You can refer to the Output of Source Code and the Expected output.\nSource code of Mine:</p>\n<pre><code>import java.util.*;\npublic class Mains {\n    public static int father(int[] arr, int len) {\n        int first, second, third;\n        int min = -(int)2_147_483_648l;\n        first = min;\n        second = min;\n        third = min;\n        for(int i = 0; i &lt; len; i++) {\n            if(arr[i] &gt; first) {\n                third = second;\n                second = first;\n                first = arr[i];\n            } else if(arr[i] &gt; second ) {\n                third = second;\n                second = arr[i];\n            } else if(arr[i] &gt; third) {\n                third = arr[i];\n            }\n        }\n        return first + second + third;\n    }\n\n    public static int son(int[] arr, int len) \n    {\n        int first, second, third;\n\n        int max = 2_147_483_647;\n        first = max;\n        second = max;\n        third = max;\n        for(int i = 0; i &lt; len; i++) \n        {\n            if(arr[i] &lt; first)\n            {\n                third = second;\n                second = first;\n                first = arr[i];\n            } \n            else if (arr[i] &lt;second)      \n            {\n                    third = second;\n                    second = arr[i];\n            }\n\n            else if (arr[i] &lt; third)\n            {\n                    third = arr[i];\n            }\n        }\n        return first+second+third;\n    }\n\n    public static void main(String []args) \n    {\n        Scanner x = new Scanner (System.in);\n        int num;        \n        System.out.print(&quot;Enter the size: &quot;);\n        num = x.nextInt();\n\n        int array [] = new int [num];\n        for(int i=0;i&lt;num;i++){\n            System.out.print(&quot;Enter the values: &quot;);\n            array[i] = x.nextInt();\n            \n            \n        }\n\n        System.out.print(&quot;Father = &quot;+father(array, num)+&quot;, Son = &quot;+son(array, num));\n        x.close();\n    }\n}\n</code></pre>\n<p>Output of the Source Code:</p>\n<pre><code>Enter the size: 4\nEnter the values: 1 2 3 4\nEnter the values: Enter the values: Enter the values: Father = 9, Son = 6\n</code></pre>\n<p>Expected Output:</p>\n<pre><code>Enter the size: 4\nEnter the values: 1 2 3 4\nFather = 9, Son = 6\n</code></pre>\n<p>And I do not know what is the problem and I am keeping searching on how to remove that. Please help me, thank you!</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1636640693,"post_id":69929871,"comment_id":123615451,"body_markdown":"Multithreading and locking are complicated, you need to follow a few tutorials and play around with it. No, you only have a lock on the instance, not any other instance nor all instances of the class.","body":"Multithreading and locking are complicated, you need to follow a few tutorials and play around with it. No, you only have a lock on the instance, not any other instance nor all instances of the class."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1636645400,"post_id":69929871,"comment_id":123617650,"body_markdown":"What do you mean &quot;has lock on object...?&quot; Do you mean that some thread `t` is executing in a `synchronized(o){...}` block? That does _not_ prevent other threads from _accessing_ the object&#160;`o`. It only delays other threads that are trying to enter a similar `synchronized(o)` block until after thread `t` has left the block. If you want to prevent other threads from accessing the object, then it is _your_ responsibility to ensure that the only accesses happen inside `synchronized` blocks.","body":"What do you mean &quot;has lock on object...?&quot; Do you mean that some thread <code>t</code> is executing in a <code>synchronized(o){...}</code> block? That does <i>not</i> prevent other threads from <i>accessing</i> the object <code>o</code>. It only delays other threads that are trying to enter a similar <code>synchronized(o)</code> block until after thread <code>t</code> has left the block. If you want to prevent other threads from accessing the object, then it is <i>your</i> responsibility to ensure that the only accesses happen inside <code>synchronized</code> blocks."},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1636681314,"post_id":69929871,"comment_id":123628063,"body_markdown":"```another instance of A ```  means another lock. It has nothing to do with the previous lock.","body":"<code>another instance of A </code>  means another lock. It has nothing to do with the previous lock."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636681548,"creation_date":1636681548,"answer_id":69937017,"question_id":69929871,"body_markdown":"&gt; In multi threading a thread has acquired lock on object? Does this mean lock on all objects of that class?\r\n\r\nA thread acquires a lock on _an object_ and any other objects instances (either of the same class or others) are not affected by the lock.   It would be easy to write a test case for this:\r\n\r\n\tsynchronized (new Object()) {\r\n\t\tSystem.out.println(&quot;in lock for Object #1&quot;);\r\n\t\tThread thread = new Thread(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tsynchronized (new Object()) {\r\n\t\t\t\t\tSystem.out.println(&quot;in lock for Object #2&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tthread.start();\r\n\t\tthread.join();\r\n\t}\r\n\r\nEven though one `Object` instance is locked doesn&#39;t mean that another lock on a different object instance can&#39;t happen in parallel.  Locking on the same object _instance_ in both cases would have caused a deadlock.\r\n","title":"In multi threading a thread has acquired lock on object? Does this mean lock on all objects of that class?","body":"<blockquote>\n<p>In multi threading a thread has acquired lock on object? Does this mean lock on all objects of that class?</p>\n</blockquote>\n<p>A thread acquires a lock on <em>an object</em> and any other objects instances (either of the same class or others) are not affected by the lock.   It would be easy to write a test case for this:</p>\n<pre><code>synchronized (new Object()) {\n    System.out.println(&quot;in lock for Object #1&quot;);\n    Thread thread = new Thread(new Runnable() {\n        public void run() {\n            synchronized (new Object()) {\n                System.out.println(&quot;in lock for Object #2&quot;);\n            }\n        }\n    });\n    thread.start();\n    thread.join();\n}\n</code></pre>\n<p>Even though one <code>Object</code> instance is locked doesn't mean that another lock on a different object instance can't happen in parallel.  Locking on the same object <em>instance</em> in both cases would have caused a deadlock.</p>\n"}],"owner":{"account_id":10246966,"reputation":1,"user_id":7562476,"display_name":"chathala anil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1653681967,"creation_date":1636640457,"question_id":69929871,"body_markdown":"I mean if a thread has lock on an object of some class say A. \r\nWhat if another thread creates another instance of A and tries to access it??\r\n\r\n\r\nI don&#39;t know my question itself is valid??\r\nplease understand my question \r\nIf not? \r\nCorrect my question even if it is possible??","title":"In multi threading a thread has acquired lock on object? Does this mean lock on all objects of that class?","body":"<p>I mean if a thread has lock on an object of some class say A.\nWhat if another thread creates another instance of A and tries to access it??</p>\n<p>I don't know my question itself is valid??\nplease understand my question\nIf not?\nCorrect my question even if it is possible??</p>\n"},{"tags":["java","multithreading","arraylist","concurrency"],"comments":[{"owner":{"account_id":6497337,"reputation":672,"user_id":5029509,"accept_rate":25,"display_name":"Questioner"},"score":0,"creation_date":1636642703,"post_id":69929980,"comment_id":123616420,"body_markdown":"@Hulk , I replace `ArrayList&lt;String&gt;` with `Collections.synchronizedList` but the output is the same ...","body":"@Hulk , I replace <code>ArrayList&lt;String&gt;</code> with <code>Collections.synchronizedList</code> but the output is the same ..."},{"owner":{"account_id":6497337,"reputation":672,"user_id":5029509,"accept_rate":25,"display_name":"Questioner"},"score":0,"creation_date":1636643184,"post_id":69929980,"comment_id":123616663,"body_markdown":"@Hulk , I commented `interrupt();` but the output is still the same.","body":"@Hulk , I commented <code>interrupt();</code> but the output is still the same."},{"owner":{"account_id":6497337,"reputation":672,"user_id":5029509,"accept_rate":25,"display_name":"Questioner"},"score":0,"creation_date":1636643508,"post_id":69929980,"comment_id":123616809,"body_markdown":"@Hulk , Perfect, it works.","body":"@Hulk , Perfect, it works."}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636643688,"creation_date":1636643688,"answer_id":69930671,"question_id":69929980,"body_markdown":"There are multiple problems \r\n\r\n 1. either use a threadsafe collection or manually synchronize access - one easy option is to wrap your list with [`Collections.synchronizedList()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List))\r\n 2. `interrupt()`is not needed, the threads will terminate anyway when they reach the end of their `run()`-method\r\n 3. you need to wait for all threads to terminate before printing results - to do that, invoke [`join()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#join()) instead of `interrupt()`\r\n\r\n","title":"Calculating hash in parallel by multiple threads and adding the outputs in an ArrayList&lt;String&gt;","body":"<p>There are multiple problems</p>\n<ol>\n<li>either use a threadsafe collection or manually synchronize access - one easy option is to wrap your list with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections.synchronizedList()</code></a></li>\n<li><code>interrupt()</code>is not needed, the threads will terminate anyway when they reach the end of their <code>run()</code>-method</li>\n<li>you need to wait for all threads to terminate before printing results - to do that, invoke <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#join()\" rel=\"nofollow noreferrer\"><code>join()</code></a> instead of <code>interrupt()</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636643788,"creation_date":1636643788,"answer_id":69930696,"question_id":69929980,"body_markdown":"You have two problems: 1) there may be threads that never get far enough in their execution to add their hash ID to the collection, and 2) the collection of hash IDs is being accessed by multiple threads so you should use a thread safe collection.\r\n\r\n        ArrayList&lt;Thread&gt; threadList = new ArrayList&lt;Thread&gt;();\r\n        Collection&lt;String&gt; threadListStr = Collections.synchronizedCollection( new ArrayList&lt;String&gt;() );\r\n        int threadNumber = 100;\r\n        for (int i = 0; i &lt; threadNumber; i++) {\r\n            String tId = String.valueOf(i);\r\n            Thread thr = new Thread(() -&gt; {\r\n                threadListStr.add(calculateHash(tId));\r\n            });\r\n            threadList.add(thr);\r\n        }\r\n\r\n        // START the threads\r\n        for (int i = 0; i &lt; threadNumber; i++) {\r\n            threadList.get(i).start();\r\n        }\r\n        // STOP the threads\r\n        for (int i = 0; i &lt; threadNumber; i++) {\r\n           try {\r\n               threadList.get(i).join();\r\n           } catch( InterruptedException exc ) {\r\n               // handle interrupted exception\r\n           }\r\n        }\r\n\r\n        System.out.println(&quot;Size of ArrayList&lt;String&gt; is: &quot; + threadListStr.size());\r\n        System.out.println(&quot;Size of ArrayList&lt;Thread&gt; is: &quot; + threadList.size());\r\n        \r\n \r\n","title":"Calculating hash in parallel by multiple threads and adding the outputs in an ArrayList&lt;String&gt;","body":"<p>You have two problems: 1) there may be threads that never get far enough in their execution to add their hash ID to the collection, and 2) the collection of hash IDs is being accessed by multiple threads so you should use a thread safe collection.</p>\n<pre><code>    ArrayList&lt;Thread&gt; threadList = new ArrayList&lt;Thread&gt;();\n    Collection&lt;String&gt; threadListStr = Collections.synchronizedCollection( new ArrayList&lt;String&gt;() );\n    int threadNumber = 100;\n    for (int i = 0; i &lt; threadNumber; i++) {\n        String tId = String.valueOf(i);\n        Thread thr = new Thread(() -&gt; {\n            threadListStr.add(calculateHash(tId));\n        });\n        threadList.add(thr);\n    }\n\n    // START the threads\n    for (int i = 0; i &lt; threadNumber; i++) {\n        threadList.get(i).start();\n    }\n    // STOP the threads\n    for (int i = 0; i &lt; threadNumber; i++) {\n       try {\n           threadList.get(i).join();\n       } catch( InterruptedException exc ) {\n           // handle interrupted exception\n       }\n    }\n\n    System.out.println(&quot;Size of ArrayList&lt;String&gt; is: &quot; + threadListStr.size());\n    System.out.println(&quot;Size of ArrayList&lt;Thread&gt; is: &quot; + threadList.size());\n    \n</code></pre>\n"}],"owner":{"account_id":6497337,"reputation":672,"user_id":5029509,"accept_rate":25,"display_name":"Questioner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69930671,"answer_count":2,"score":0,"last_activity_date":1653681903,"creation_date":1636640876,"question_id":69929980,"body_markdown":"I&#39;ve written the following code in order to calculate the hash of a `String` (based on SHA-256) and then inserting all the outputs in an `ArrayList&lt;String&gt;` :\r\n\r\n            ArrayList&lt;Thread&gt; threadList = new ArrayList&lt;Thread&gt;();\r\n    \t\tArrayList&lt;String&gt; threadListStr = new ArrayList&lt;String&gt;();\r\n    \t\tint threadNumber = 100;\r\n    \t\tfor (int i = 0; i &lt; threadNumber; i++) {\r\n    \t\t\tString tId = String.valueOf(i);\r\n    \t\t\tThread thr = new Thread(() -&gt; {\r\n    \t\t\t\tthreadListStr.add(calculateHash(tId));\r\n    \t\t\t});\r\n    \t\t\tthreadList.add(thr);\r\n    \t\t}\r\n    \r\n    \t\t// START the threads\r\n    \t\tfor (int i = 0; i &lt; threadNumber; i++) {\r\n    \t\t\tthreadList.get(i).start();\r\n    \t\t}\r\n    \t\t// STOP the threads\r\n    \t\tfor (int i = 0; i &lt; threadNumber; i++) {\r\n    \t\t\tthreadList.get(i).interrupt();\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Size of ArrayList&lt;String&gt; is: &quot; + threadListStr.size());\r\n    \t\tSystem.out.println(&quot;Size of ArrayList&lt;Thread&gt; is: &quot; + threadList.size());\r\n    \t\t\r\n    \t\t/////////////////////\r\n    \t\t\r\n    \t\tpublic static String calculateHash(String tId) {\r\n    \t\tString tIdStr = org.apache.commons.codec.digest.DigestUtils.sha256Hex(tId);\r\n    \t\treturn tIdStr;\r\n    \t\t}\r\n\r\nHowever, the `ArrayList&lt;String&gt;` does not become complete and as you see after running the code 5 times, each time, `ArrayList&lt;String&gt;` has a different size (despite the `ArrayList&lt;Thread&gt;` threadList is always complete, as the number of threads is 100.)\r\n\r\n    //1th run\r\n    Size of ArrayList&lt;String&gt; is: 60\r\n    Size of ArrayList&lt;Thread&gt; is: 100\r\n    \r\n    //2nd run\r\n    Size of ArrayList&lt;String&gt; is: 30\r\n    Size of ArrayList&lt;Thread&gt; is: 100\r\n    \r\n    //3rd run\r\n    Size of ArrayList&lt;String&gt; is: 10\r\n    Size of ArrayList&lt;Thread&gt; is: 100\r\n    \r\n    //4th run\r\n    Size of ArrayList&lt;String&gt; is: 61\r\n    Size of ArrayList&lt;Thread&gt; is: 100\r\n    \r\n    //5th\r\n    Size of ArrayList&lt;String&gt; is: 69\r\n    Size of ArrayList&lt;Thread&gt; is: 100\r\n\r\nHow should be the code modified so that `ArrayList&lt;String&gt;` stores **all** the outputs **completely**?\r\n\r\n**EDITE:** I changed the code as follows, but the output is the same.\r\n\r\n\t\t\r\n\r\n            ArrayList&lt;Thread&gt; threadList = new ArrayList&lt;Thread&gt;();\r\n    \t\t//ArrayList&lt;String&gt; threadListStr = new ArrayList&lt;String&gt;();\r\n    \t\tList&lt;String&gt; threadListStrSync = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n    \t\tint threadNumber = 100;\r\n            for (int i = 0; i &lt; threadNumber; i++) {\r\n                String tId = String.valueOf(i);\r\n                Thread thr = new Thread(() -&gt; {\r\n                    threadListStrSync.add(calculateHash(tId));\r\n                });\r\n                threadList.add(thr);\r\n            }\r\n    \r\n            // START the threads\r\n            for (int i = 0; i &lt; threadNumber; i++) {\r\n                threadList.get(i).start();\r\n            }\r\n            // STOP the threads\r\n            for (int i = 0; i &lt; threadNumber; i++) {\r\n                threadList.get(i).interrupt();\r\n            }\r\n    \r\n            System.out.println(&quot;Size of ArrayList&lt;String&gt; is: &quot; + threadListStrSync.size());\r\n            System.out.println(&quot;Size of ArrayList&lt;Thread&gt; is: &quot; + threadList.size());\r\n\r\n \r\n**Note:** I commented `interrupt();` but the output is still the same. \r\n\r\n","title":"Calculating hash in parallel by multiple threads and adding the outputs in an ArrayList&lt;String&gt;","body":"<p>I've written the following code in order to calculate the hash of a <code>String</code> (based on SHA-256) and then inserting all the outputs in an <code>ArrayList&lt;String&gt;</code> :</p>\n<pre><code>        ArrayList&lt;Thread&gt; threadList = new ArrayList&lt;Thread&gt;();\n        ArrayList&lt;String&gt; threadListStr = new ArrayList&lt;String&gt;();\n        int threadNumber = 100;\n        for (int i = 0; i &lt; threadNumber; i++) {\n            String tId = String.valueOf(i);\n            Thread thr = new Thread(() -&gt; {\n                threadListStr.add(calculateHash(tId));\n            });\n            threadList.add(thr);\n        }\n\n        // START the threads\n        for (int i = 0; i &lt; threadNumber; i++) {\n            threadList.get(i).start();\n        }\n        // STOP the threads\n        for (int i = 0; i &lt; threadNumber; i++) {\n            threadList.get(i).interrupt();\n        }\n\n        System.out.println(&quot;Size of ArrayList&lt;String&gt; is: &quot; + threadListStr.size());\n        System.out.println(&quot;Size of ArrayList&lt;Thread&gt; is: &quot; + threadList.size());\n        \n        /////////////////////\n        \n        public static String calculateHash(String tId) {\n        String tIdStr = org.apache.commons.codec.digest.DigestUtils.sha256Hex(tId);\n        return tIdStr;\n        }\n</code></pre>\n<p>However, the <code>ArrayList&lt;String&gt;</code> does not become complete and as you see after running the code 5 times, each time, <code>ArrayList&lt;String&gt;</code> has a different size (despite the <code>ArrayList&lt;Thread&gt;</code> threadList is always complete, as the number of threads is 100.)</p>\n<pre><code>//1th run\nSize of ArrayList&lt;String&gt; is: 60\nSize of ArrayList&lt;Thread&gt; is: 100\n\n//2nd run\nSize of ArrayList&lt;String&gt; is: 30\nSize of ArrayList&lt;Thread&gt; is: 100\n\n//3rd run\nSize of ArrayList&lt;String&gt; is: 10\nSize of ArrayList&lt;Thread&gt; is: 100\n\n//4th run\nSize of ArrayList&lt;String&gt; is: 61\nSize of ArrayList&lt;Thread&gt; is: 100\n\n//5th\nSize of ArrayList&lt;String&gt; is: 69\nSize of ArrayList&lt;Thread&gt; is: 100\n</code></pre>\n<p>How should be the code modified so that <code>ArrayList&lt;String&gt;</code> stores <strong>all</strong> the outputs <strong>completely</strong>?</p>\n<p><strong>EDITE:</strong> I changed the code as follows, but the output is the same.</p>\n<pre><code>        ArrayList&lt;Thread&gt; threadList = new ArrayList&lt;Thread&gt;();\n        //ArrayList&lt;String&gt; threadListStr = new ArrayList&lt;String&gt;();\n        List&lt;String&gt; threadListStrSync = Collections.synchronizedList(new ArrayList&lt;&gt;());\n        int threadNumber = 100;\n        for (int i = 0; i &lt; threadNumber; i++) {\n            String tId = String.valueOf(i);\n            Thread thr = new Thread(() -&gt; {\n                threadListStrSync.add(calculateHash(tId));\n            });\n            threadList.add(thr);\n        }\n\n        // START the threads\n        for (int i = 0; i &lt; threadNumber; i++) {\n            threadList.get(i).start();\n        }\n        // STOP the threads\n        for (int i = 0; i &lt; threadNumber; i++) {\n            threadList.get(i).interrupt();\n        }\n\n        System.out.println(&quot;Size of ArrayList&lt;String&gt; is: &quot; + threadListStrSync.size());\n        System.out.println(&quot;Size of ArrayList&lt;Thread&gt; is: &quot; + threadList.size());\n</code></pre>\n<p><strong>Note:</strong> I commented <code>interrupt();</code> but the output is still the same.</p>\n"},{"tags":["java","netbeans","smtp"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1636649011,"creation_date":1636649011,"answer_id":69931915,"question_id":69930012,"body_markdown":"For classes such as `javax.activation.DataSource` you need the JAR file for the JavaBeans Activation Framework.\r\n\r\nYou can download the JAR from Maven Central [here](https://mvnrepository.com/artifact/javax.activation/activation/1.1.1) - click on the `jar` link there.\r\n\r\nIf you are using a dependency management tool such as Maven, Gradle, etc. then use the related configuration (also available in that same page). Using a dependency management tool is **strongly recommended** over just downloading JAR files one-by-one.\r\n\r\n---\r\n\r\nYou should also consider replacing your `javax` imports with `jakarta` imports, since that is now [where these packages are maintained](https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee), going forward.\r\n\r\nIf you do that, then you need to use the Jakarta Activation API, available [here](https://mvnrepository.com/artifact/jakarta.activation/jakarta.activation-api). For example:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd if you do that, you should also replace JavaMail classes too - for example, you can replace this:\r\n\r\n```java\r\nimport javax.mail.Message;\r\n```\r\n\r\nwith this:\r\n\r\n```java\r\nimport jakarta.mail.Message;\r\n```\r\n\r\nAnd use a [Jakarta Mail](https://mvnrepository.com/artifact/com.sun.mail/jakarta.mail) resource, for example:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Exception: java.lang.NoClassDefFoundError: javax/activation/DataSource when sending mail","body":"<p>For classes such as <code>javax.activation.DataSource</code> you need the JAR file for the JavaBeans Activation Framework.</p>\n<p>You can download the JAR from Maven Central <a href=\"https://mvnrepository.com/artifact/javax.activation/activation/1.1.1\" rel=\"noreferrer\">here</a> - click on the <code>jar</code> link there.</p>\n<p>If you are using a dependency management tool such as Maven, Gradle, etc. then use the related configuration (also available in that same page). Using a dependency management tool is <strong>strongly recommended</strong> over just downloading JAR files one-by-one.</p>\n<hr />\n<p>You should also consider replacing your <code>javax</code> imports with <code>jakarta</code> imports, since that is now <a href=\"https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee\" rel=\"noreferrer\">where these packages are maintained</a>, going forward.</p>\n<p>If you do that, then you need to use the Jakarta Activation API, available <a href=\"https://mvnrepository.com/artifact/jakarta.activation/jakarta.activation-api\" rel=\"noreferrer\">here</a>. For example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And if you do that, you should also replace JavaMail classes too - for example, you can replace this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.mail.Message;\n</code></pre>\n<p>with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.mail.Message;\n</code></pre>\n<p>And use a <a href=\"https://mvnrepository.com/artifact/com.sun.mail/jakarta.mail\" rel=\"noreferrer\">Jakarta Mail</a> resource, for example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15632721,"reputation":162,"user_id":11278588,"display_name":"Kepler452B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26187,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69931915,"answer_count":1,"score":4,"last_activity_date":1653681863,"creation_date":1636641034,"question_id":69930012,"body_markdown":"I&#39;m trying to send Mail using SMTP on NetBeans when I get the error message:\r\n\r\n&gt; run: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\r\n&gt; javax/activation/DataSource \tat\r\n&gt; SendMail.createMessage(SendMail.java:45) \tat\r\n&gt; SendMail.main(SendMail.java:59) Caused by:\r\n&gt; java.lang.ClassNotFoundException: javax.activation.DataSource \tat\r\n&gt; java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n&gt; \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n&gt; \t... 2 more\r\n&gt; C:\\Users\\Admin\\AppData\\Local\\NetBeans\\Cache\\12.0\\executor-snippets\\run.xml:111:\r\n&gt; The following error occurred while executing this line:\r\n&gt; C:\\Users\\Admin\\AppData\\Local\\NetBeans\\Cache\\12.0\\executor-snippets\\run.xml:68:\r\n&gt; Java returned: 1 BUILD FAILED (total time: 0 seconds)\r\n\r\nHow do I need to fix it?\r\n\r\n(I use Apache NetBeans IDE 12.0;\r\nJava: 15; Java HotSpot(TM) 64-Bit Server VM 15+36-156)","title":"Exception: java.lang.NoClassDefFoundError: javax/activation/DataSource when sending mail","body":"<p>I'm trying to send Mail using SMTP on NetBeans when I get the error message:</p>\n<blockquote>\n<p>run: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\njavax/activation/DataSource   at\nSendMail.createMessage(SendMail.java:45)  at\nSendMail.main(SendMail.java:59) Caused by:\njava.lang.ClassNotFoundException: javax.activation.DataSource     at\njava.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\nat\njava.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n... 2 more\nC:\\Users\\Admin\\AppData\\Local\\NetBeans\\Cache\\12.0\\executor-snippets\\run.xml:111:\nThe following error occurred while executing this line:\nC:\\Users\\Admin\\AppData\\Local\\NetBeans\\Cache\\12.0\\executor-snippets\\run.xml:68:\nJava returned: 1 BUILD FAILED (total time: 0 seconds)</p>\n</blockquote>\n<p>How do I need to fix it?</p>\n<p>(I use Apache NetBeans IDE 12.0;\nJava: 15; Java HotSpot(TM) 64-Bit Server VM 15+36-156)</p>\n"},{"tags":["java","spring","neo4j","spring-data","spring-data-neo4j"],"comments":[{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1653727359,"post_id":72410382,"comment_id":127925067,"body_markdown":"Does this help https://stackoverflow.com/questions/11667929/jpa-override-auto-generated-id","body":"Does this help <a href=\"https://stackoverflow.com/questions/11667929/jpa-override-auto-generated-id\" title=\"jpa override auto generated id\">stackoverflow.com/questions/11667929/&hellip;</a>"}],"owner":{"account_id":1751488,"reputation":818,"user_id":1600472,"accept_rate":60,"display_name":"Crazy Dino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653681739,"creation_date":1653680733,"question_id":72410382,"body_markdown":"In Spring Data Neo4j I&#39;ve discovered that fields annotated with `@ID`, require an ID to be manually set. However, if the field is also annotated with `@GeneratedValue` it will use the ID generated by the database. This annoyingly overwrites any values manually being set.\r\n\r\nI need the best of both world options. I don&#39;t particularly want to have to manually generate an ID every time within my application, and just rely on Neo4J to do it, but there are certainly times where I will want to manually set the ID (e.g. in my particular case exporting/importing system data and keep relationships working).\r\n\r\nI expect I can set some sort of generator; however, I&#39;ve been unable to get that to work.","title":"Spring Data Neo4j: Generate an ID only if annotated field is null on persisting new objects","body":"<p>In Spring Data Neo4j I've discovered that fields annotated with <code>@ID</code>, require an ID to be manually set. However, if the field is also annotated with <code>@GeneratedValue</code> it will use the ID generated by the database. This annoyingly overwrites any values manually being set.</p>\n<p>I need the best of both world options. I don't particularly want to have to manually generate an ID every time within my application, and just rely on Neo4J to do it, but there are certainly times where I will want to manually set the ID (e.g. in my particular case exporting/importing system data and keep relationships working).</p>\n<p>I expect I can set some sort of generator; however, I've been unable to get that to work.</p>\n"},{"tags":["java","concurrency","scheduler"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1653671711,"post_id":72408895,"comment_id":127915794,"body_markdown":"Typically the only thing that would cause a `finally` to not run is either the JVM exiting or the thread it is running on being interrupted/killed, but the latter is a fairly severe circumstance (without any checks for `Thread#isInterrupted`). How are you confirming it isn&#39;t running the `finally`, other than the semaphore not being released?","body":"Typically the only thing that would cause a <code>finally</code> to not run is either the JVM exiting or the thread it is running on being interrupted/killed, but the latter is a fairly severe circumstance (without any checks for <code>Thread#isInterrupted</code>). How are you confirming it isn&#39;t running the <code>finally</code>, other than the semaphore not being released?"},{"owner":{"account_id":1006951,"reputation":2508,"user_id":1120799,"accept_rate":81,"display_name":"ACC"},"score":0,"creation_date":1653671787,"post_id":72408895,"comment_id":127915815,"body_markdown":"I am not confirming in any other way. My final goal is to get the semaphore to release after the task is complete.","body":"I am not confirming in any other way. My final goal is to get the semaphore to release after the task is complete."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1653672039,"post_id":72408895,"comment_id":127915902,"body_markdown":"Honestly your semaphore may just not be released. I would first confirm what is running when (either through a debugger or a print statement, since threading can be a little funky with a debugger).","body":"Honestly your semaphore may just not be released. I would first confirm what is running when (either through a debugger or a print statement, since threading can be a little funky with a debugger)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":5,"creation_date":1653672181,"post_id":72408895,"comment_id":127915944,"body_markdown":"third reason for `finally` not running, the `try` is not being executed/started","body":"third reason for <code>finally</code> not running, the <code>try</code> is not being executed/started"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1653672240,"post_id":72408895,"comment_id":127915964,"body_markdown":"True enough (and likely the case here): if you don&#39;t run it, it won&#39;t run.","body":"True enough (and likely the case here): if you don&#39;t run it, it won&#39;t run."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1653994632,"post_id":72408895,"comment_id":127981229,"body_markdown":"Your actual question has been answered already, but you should further note that when `tryAcquire` returns `false` you *must not* call `release()` as you didn’t acquire the semaphore. But you’re doing exactly that, before throwing a `RejectedExecutionException`, then adding fuel to the flames by catching your own `RejectedExecutionException` and calling `release()` a second time before rethrowing the exception.","body":"Your actual question has been answered already, but you should further note that when <code>tryAcquire</code> returns <code>false</code> you <i>must not</i> call <code>release()</code> as you didn’t acquire the semaphore. But you’re doing exactly that, before throwing a <code>RejectedExecutionException</code>, then adding fuel to the flames by catching your own <code>RejectedExecutionException</code> and calling <code>release()</code> a second time before rethrowing the exception."}],"answers":[{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653671816,"creation_date":1653671816,"answer_id":72408956,"question_id":72408895,"body_markdown":"```\r\nreturn this.executor.schedule(\r\n   () -&gt; {\r\n      try {\r\n         LOG.info(&quot;before run&quot;);\r\n         task.run();\r\n      } finally {\r\n         semaphore.release();\r\n      }\r\n    },\r\n    delay,\r\n    unit\r\n    );\r\n ```\r\n\r\nThis code does not execute the lambda, it just sends it to the executor that will execute it at some time.\r\n\r\nEven if the executor starts running the lambda as soon as it receives it, your main code will not wait for it and the `return` will be applied, even if the lambda is still running the task.\r\n\r\nSo it may very well be that the first scheduled task still has not been able to release the semaphore before you invoke this method again, unless you are adding additional controls outside of this code.\r\n\r\nIn fact with your code you cannot have more than one task scheduled at a given time; until the task currently scheduled has not being finished you will not release the semaphor, but you require acquiring it to schedule a new task.","title":"Why doesn&#39;t finally block execute in a custom scheduler?","body":"<pre><code>return this.executor.schedule(\n   () -&gt; {\n      try {\n         LOG.info(&quot;before run&quot;);\n         task.run();\n      } finally {\n         semaphore.release();\n      }\n    },\n    delay,\n    unit\n    );\n</code></pre>\n<p>This code does not execute the lambda, it just sends it to the executor that will execute it at some time.</p>\n<p>Even if the executor starts running the lambda as soon as it receives it, your main code will not wait for it and the <code>return</code> will be applied, even if the lambda is still running the task.</p>\n<p>So it may very well be that the first scheduled task still has not been able to release the semaphore before you invoke this method again, unless you are adding additional controls outside of this code.</p>\n<p>In fact with your code you cannot have more than one task scheduled at a given time; until the task currently scheduled has not being finished you will not release the semaphor, but you require acquiring it to schedule a new task.</p>\n"}],"owner":{"account_id":1006951,"reputation":2508,"user_id":1120799,"accept_rate":81,"display_name":"ACC"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1653681641,"creation_date":1653671381,"question_id":72408895,"body_markdown":"I am writing a custom bounded scheduler. This should be able to schedule tasks with a given delay. Try to schedule tasks if the bound has been reached, throwing an exception after a timeout. Here is what I have so far:\r\n\r\n```java\r\npublic class BoundedScheduledExecutor {\r\n\r\n  private final ScheduledThreadPoolExecutor executor;\r\n  private final Semaphore semaphore;\r\n  private final int maxWaitSeconds;\r\n\r\n  private static final Logger LOG = LoggerFactory.getLogger(\r\n    BoundedScheduledExecutor.class\r\n  );\r\n\r\n  // constructor omitted\r\n\r\n  public ScheduledFuture&lt;?&gt; schedule(Runnable task, long delay, TimeUnit unit)\r\n    throws Exception {\r\n    try {\r\n      boolean result = semaphore.tryAcquire(this.maxWaitSeconds, TimeUnit.SECONDS);\r\n      LOG.info(&quot;result {}&quot;, result);\r\n      LOG.info(&quot;executor {}&quot;, this.executor.getActiveCount());\r\n      LOG.info(&quot;semaphore {}&quot;, this.semaphore);\r\n      if (result) {\r\n        return this.executor.schedule(\r\n            () -&gt; {\r\n              try {\r\n                LOG.info(&quot;before run&quot;);\r\n                task.run();\r\n              } finally {\r\n                semaphore.release();\r\n              }\r\n            },\r\n            delay,\r\n            unit\r\n          );\r\n      } else {\r\n        semaphore.release();\r\n        throw new RejectedExecutionException();\r\n      }\r\n    } catch (RejectedExecutionException e) {\r\n      semaphore.release();\r\n      throw e;\r\n    } catch (InterruptedException e) {\r\n      throw e;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe code is based on a similar implementation from Java concurrency in practice. In my test, I am trying to verify that if I have a short task and another task following that, the second one is scheduled once the short task finishes. My test is this:\r\n\r\n```java\r\n  public void itSchedulesAfterTimeoutWhenQueueIsFull() throws Exception {\r\n    this.boundedScheduledExecutor = new BoundedScheduledExecutor(executor, 1, 3);\r\n    Runnable blockingTask = new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        try {\r\n          Thread.sleep(1000);\r\n        } catch (InterruptedException ignored) {}\r\n      }\r\n    };\r\n\r\n    Runnable simpleTask = new Runnable() {\r\n      @Override\r\n      public void run() {}\r\n    };\r\n\r\n    this.boundedScheduledExecutor.schedule(blockingTask, 0, TimeUnit.SECONDS);\r\n    this.boundedScheduledExecutor.schedule(simpleTask, 5, TimeUnit.SECONDS);\r\n  }\r\n```\r\n\r\nBut the second call to `schedule` throws an exception because `tryAcquire` returns false. I expect my test should succeed because the first task takes 1s and is scheduled right away. The second one is scheduled after 5s, I was expecting the semaphore will be released in between so that the second task can proceed. I noticed that the semaphore is not released in the `finally` block for the scheduled task. How do I get the semaphore to release after a task is complete? Why doesn&#39;t the finally block execute? ","title":"Why doesn&#39;t finally block execute in a custom scheduler?","body":"<p>I am writing a custom bounded scheduler. This should be able to schedule tasks with a given delay. Try to schedule tasks if the bound has been reached, throwing an exception after a timeout. Here is what I have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BoundedScheduledExecutor {\n\n  private final ScheduledThreadPoolExecutor executor;\n  private final Semaphore semaphore;\n  private final int maxWaitSeconds;\n\n  private static final Logger LOG = LoggerFactory.getLogger(\n    BoundedScheduledExecutor.class\n  );\n\n  // constructor omitted\n\n  public ScheduledFuture&lt;?&gt; schedule(Runnable task, long delay, TimeUnit unit)\n    throws Exception {\n    try {\n      boolean result = semaphore.tryAcquire(this.maxWaitSeconds, TimeUnit.SECONDS);\n      LOG.info(&quot;result {}&quot;, result);\n      LOG.info(&quot;executor {}&quot;, this.executor.getActiveCount());\n      LOG.info(&quot;semaphore {}&quot;, this.semaphore);\n      if (result) {\n        return this.executor.schedule(\n            () -&gt; {\n              try {\n                LOG.info(&quot;before run&quot;);\n                task.run();\n              } finally {\n                semaphore.release();\n              }\n            },\n            delay,\n            unit\n          );\n      } else {\n        semaphore.release();\n        throw new RejectedExecutionException();\n      }\n    } catch (RejectedExecutionException e) {\n      semaphore.release();\n      throw e;\n    } catch (InterruptedException e) {\n      throw e;\n    }\n  }\n}\n</code></pre>\n<p>The code is based on a similar implementation from Java concurrency in practice. In my test, I am trying to verify that if I have a short task and another task following that, the second one is scheduled once the short task finishes. My test is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public void itSchedulesAfterTimeoutWhenQueueIsFull() throws Exception {\n    this.boundedScheduledExecutor = new BoundedScheduledExecutor(executor, 1, 3);\n    Runnable blockingTask = new Runnable() {\n      @Override\n      public void run() {\n        try {\n          Thread.sleep(1000);\n        } catch (InterruptedException ignored) {}\n      }\n    };\n\n    Runnable simpleTask = new Runnable() {\n      @Override\n      public void run() {}\n    };\n\n    this.boundedScheduledExecutor.schedule(blockingTask, 0, TimeUnit.SECONDS);\n    this.boundedScheduledExecutor.schedule(simpleTask, 5, TimeUnit.SECONDS);\n  }\n</code></pre>\n<p>But the second call to <code>schedule</code> throws an exception because <code>tryAcquire</code> returns false. I expect my test should succeed because the first task takes 1s and is scheduled right away. The second one is scheduled after 5s, I was expecting the semaphore will be released in between so that the second task can proceed. I noticed that the semaphore is not released in the <code>finally</code> block for the scheduled task. How do I get the semaphore to release after a task is complete? Why doesn't the finally block execute?</p>\n"},{"tags":["java","paypal","paypal-sandbox"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1653676036,"post_id":72409577,"comment_id":127917040,"body_markdown":"You are asking for quite some stuff. Could you precise what exactly is unclear to you or missing? The question is kinda lacking some focus on a specific single problem, instead of the broad topic of PayPal invoices.","body":"You are asking for quite some stuff. Could you precise what exactly is unclear to you or missing? The question is kinda lacking some focus on a specific single problem, instead of the broad topic of PayPal invoices."}],"answers":[{"tags":[],"owner":{"account_id":2363385,"reputation":28333,"user_id":2069605,"display_name":"Preston PHX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653680487,"creation_date":1653680487,"answer_id":72410349,"question_id":72409577,"body_markdown":"Do not use the PayPal-Java-SDK for anything (neither Invoices, nor anything else). It is deprecated.\r\n\r\nThe current version of PayPal Invoicing [is documented here.][1] There is no SDK for it. Use direct HTTPS API calls (first obtaining an access_token using your client_id and secret)\r\n\r\nIf it is useful to you, you can use some of the Java code in the [Checkout-Java-SDK][2] as a starting point (not its samples, the actual SDK&#39;s code)\r\n\r\nFor instance, the access token request code https://github.com/paypal/Checkout-Java-SDK/blob/develop/checkout-sdk/src/main/java/com/paypal/core/request/AccessTokenRequest.java\r\n\r\n  [1]: https://developer.paypal.com/docs/regional/th/invoicing/basic-integration/\r\n  [2]: https://github.com/paypal/Checkout-Java-SDK","title":"Using Java to create a PayPal invoice","body":"<p>Do not use the PayPal-Java-SDK for anything (neither Invoices, nor anything else). It is deprecated.</p>\n<p>The current version of PayPal Invoicing <a href=\"https://developer.paypal.com/docs/regional/th/invoicing/basic-integration/\" rel=\"nofollow noreferrer\">is documented here.</a> There is no SDK for it. Use direct HTTPS API calls (first obtaining an access_token using your client_id and secret)</p>\n<p>If it is useful to you, you can use some of the Java code in the <a href=\"https://github.com/paypal/Checkout-Java-SDK\" rel=\"nofollow noreferrer\">Checkout-Java-SDK</a> as a starting point (not its samples, the actual SDK's code)</p>\n<p>For instance, the access token request code <a href=\"https://github.com/paypal/Checkout-Java-SDK/blob/develop/checkout-sdk/src/main/java/com/paypal/core/request/AccessTokenRequest.java\" rel=\"nofollow noreferrer\">https://github.com/paypal/Checkout-Java-SDK/blob/develop/checkout-sdk/src/main/java/com/paypal/core/request/AccessTokenRequest.java</a></p>\n"}],"owner":{"account_id":20025526,"reputation":374,"user_id":14679433,"display_name":"Shreyas007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653734307,"answer_count":1,"score":0,"last_activity_date":1653681281,"creation_date":1653675500,"question_id":72409577,"body_markdown":"Most of the GitHub example repositories/code examples that I have tried to find on this topic have been incomplete/outdated or have no documentation which leaves me no room to explore or expand.\r\n\r\nEssentially, what I am trying to do is: \r\n  - Given the customer PayPal email (the person to send an invoice to)\r\n  - Given the amount specified\r\n\r\nHow can I successfully create an invoice from my own PayPal account using Java and send it over to the requested user/email? I have tried many of the examples found [here][1], [here][2], [here][3] and [here][4] however all of these websites/tools, as I mentioned are incomplete and do not offer any insight on how to properly send an invoice.\r\n\r\n\r\nA detailed walkthrough or explanation on how to properly do this would be greatly appreciated!\r\n\r\n\r\n  [1]: https://github.com/paypal/PayPal-Java-SDK/blob/master/rest-api-sample/src/main/java/com/paypal/api/sample/InvoiceSample.java\r\n  [2]: https://github.com/paypal/PayPal-Java-SDK/\r\n  [3]: https://github.com/paypal/PayPal-Java-SDK/wiki/Making-First-Call\r\n  [4]: https://github.com/paypal/PayPal-Java-SDK/tree/master/rest-api-sample","title":"Using Java to create a PayPal invoice","body":"<p>Most of the GitHub example repositories/code examples that I have tried to find on this topic have been incomplete/outdated or have no documentation which leaves me no room to explore or expand.</p>\n<p>Essentially, what I am trying to do is:</p>\n<ul>\n<li>Given the customer PayPal email (the person to send an invoice to)</li>\n<li>Given the amount specified</li>\n</ul>\n<p>How can I successfully create an invoice from my own PayPal account using Java and send it over to the requested user/email? I have tried many of the examples found <a href=\"https://github.com/paypal/PayPal-Java-SDK/blob/master/rest-api-sample/src/main/java/com/paypal/api/sample/InvoiceSample.java\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://github.com/paypal/PayPal-Java-SDK/\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://github.com/paypal/PayPal-Java-SDK/wiki/Making-First-Call\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/paypal/PayPal-Java-SDK/tree/master/rest-api-sample\" rel=\"nofollow noreferrer\">here</a> however all of these websites/tools, as I mentioned are incomplete and do not offer any insight on how to properly send an invoice.</p>\n<p>A detailed walkthrough or explanation on how to properly do this would be greatly appreciated!</p>\n"},{"tags":["java","java-8","java-stream","grouping","collectors"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1552077412,"post_id":55070139,"comment_id":96888882,"body_markdown":"Where would you store the ***sums for each of the four fields.*** ?","body":"Where would you store the <b><i>sums for each of the four fields.</i></b> ?"},{"owner":{"account_id":5352637,"reputation":742,"user_id":4266338,"accept_rate":86,"display_name":"Pixelstix"},"score":1,"creation_date":1552077703,"post_id":55070139,"comment_id":96888982,"body_markdown":"They are stored in a new instance.  See the constructor Stat(Stat left, Stat right).  It creates a new Stat by summing up the individual fields.  But I should have said three fields, since there are only dogs, cats, and pigeons.","body":"They are stored in a new instance.  See the constructor Stat(Stat left, Stat right).  It creates a new Stat by summing up the individual fields.  But I should have said three fields, since there are only dogs, cats, and pigeons."}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1552077777,"creation_date":1552077777,"answer_id":55070715,"question_id":55070139,"body_markdown":"You could rather achieve this using `Collectors.toMap` as :\r\n\r\n    Map&lt;Integer, Stat&gt; result = items.stream()\r\n            .collect(Collectors.toMap(Stat::getYear, \r\n                    Function.identity(), (one, another) -&gt; sumStatsOfSameYear(one, another)));\r\n\r\nwhere `sumAttributes` is defined as \r\n\r\n    // stat from the same year\r\n    private static Stat sumStatsOfSameYear(Stat one, Stat another) {\r\n        new Stat(one.getYear(), one.getCats() + another.getCats(),\r\n                one.getDogs() + another.getDogs(), one.getPigeons() + another.getPigeons()))\r\n    }","title":"How to use groupingBy with reducing without getting an Optional","body":"<p>You could rather achieve this using <code>Collectors.toMap</code> as :</p>\n\n<pre><code>Map&lt;Integer, Stat&gt; result = items.stream()\n        .collect(Collectors.toMap(Stat::getYear, \n                Function.identity(), (one, another) -&gt; sumStatsOfSameYear(one, another)));\n</code></pre>\n\n<p>where <code>sumAttributes</code> is defined as </p>\n\n<pre><code>// stat from the same year\nprivate static Stat sumStatsOfSameYear(Stat one, Stat another) {\n    new Stat(one.getYear(), one.getCats() + another.getCats(),\n            one.getDogs() + another.getDogs(), one.getPigeons() + another.getPigeons()))\n}\n</code></pre>\n"}],"owner":{"account_id":5352637,"reputation":742,"user_id":4266338,"accept_rate":86,"display_name":"Pixelstix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1789,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":55070715,"answer_count":1,"score":8,"last_activity_date":1653681240,"creation_date":1552074905,"question_id":55070139,"body_markdown":"For this greatly simplified example of my problem, I have a `Stat` object with a `year` field and three other statistics fields.  Imagine they are the yearly statistics for number of patients of each animal type from branches of a veterinarian chain, and I want to get sums for all branches by year.\r\n\r\nIn other words, from a list of `Stat` objects, I&#39;d like to return a `Map&lt;Integer, Stat&gt;`, where the integer is the year, and the Stat object has the year and sums for each of the four fields.\r\n\r\n```java\r\npublic class Stat\r\n{\r\n\tint year;\r\n\tpublic int getYear() { return year; }\r\n\r\n\tlong cats;\r\n\tpublic long getCats() { return cats; }\r\n\r\n\tlong dogs;\r\n\tpublic long getDogs() { return dogs; }\r\n\r\n\tlong pigeons;\r\n\tpublic long getPigeons() { return pigeons; }\r\n\r\n\tpublic Stat(int year, long cats, long dogs, long pigeons)\r\n\t{\r\n\t\tthis.year = year;\r\n\t\tthis.cats = cats;\r\n\t\tthis.dogs = dogs;\r\n\t\tthis.pigeons = pigeons;\r\n\t}\r\n\r\n\tpublic Stat(Stat left, Stat right)\r\n\t{\r\n\t\tif (left.year != right.year)\r\n               throw new IllegalArgumentException(&quot;Only allow combining for same year.&quot;);\r\n\t\tthis.year = left.year;\r\n\t\tthis.cats = left.cats + right.cats;\r\n\t\tthis.dogs = left.dogs + right.dogs ;\r\n\t\tthis.pigeons = left.pigeons + right.pigeons;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString()\r\n\t{\r\n\t\treturn String.format(&quot;%d c=%d d=%d p=%d&quot;, year, cats, dogs, pigeons);\r\n\t}\r\n}\r\n@Test\r\npublic void testStat()\r\n{\r\n\tList&lt;Stat&gt; items = Arrays.asList(\r\n\t\tnew Stat(2017, 5, 8, 12),\r\n\t\tnew Stat(2017, 123, 382, 15),\r\n\t\tnew Stat(2018, 1, 2, 3)\r\n\t\t);\r\n\tMap&lt;Integer, Optional&lt;Stat&gt;&gt; result = items.stream()\r\n\t\t.collect(Collectors.groupingBy(Stat::getYear,\r\n\t\t\tCollectors.reducing(Stat::new)\r\n\t\t));\r\n\tSystem.out.println(result);\r\n}\r\n```\r\n\r\nThe `Optional` is unnecessary, since `groupingBy` would never create a `List` that needs `reducing` if there were no elements.\r\n\r\nIs there a way to get `Map&lt;Integer, Stat&gt;`, preferably without having to create a blank &quot;identity&quot; object?\r\n\r\nIf I have to resort to creating an identity creation function to `reducing`, the Stat object&#39;s combining constructor has to have a year (see the constructor), so how does the identity constructor get the year passed to it?","title":"How to use groupingBy with reducing without getting an Optional","body":"<p>For this greatly simplified example of my problem, I have a <code>Stat</code> object with a <code>year</code> field and three other statistics fields.  Imagine they are the yearly statistics for number of patients of each animal type from branches of a veterinarian chain, and I want to get sums for all branches by year.</p>\n<p>In other words, from a list of <code>Stat</code> objects, I'd like to return a <code>Map&lt;Integer, Stat&gt;</code>, where the integer is the year, and the Stat object has the year and sums for each of the four fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Stat\n{\n    int year;\n    public int getYear() { return year; }\n\n    long cats;\n    public long getCats() { return cats; }\n\n    long dogs;\n    public long getDogs() { return dogs; }\n\n    long pigeons;\n    public long getPigeons() { return pigeons; }\n\n    public Stat(int year, long cats, long dogs, long pigeons)\n    {\n        this.year = year;\n        this.cats = cats;\n        this.dogs = dogs;\n        this.pigeons = pigeons;\n    }\n\n    public Stat(Stat left, Stat right)\n    {\n        if (left.year != right.year)\n               throw new IllegalArgumentException(&quot;Only allow combining for same year.&quot;);\n        this.year = left.year;\n        this.cats = left.cats + right.cats;\n        this.dogs = left.dogs + right.dogs ;\n        this.pigeons = left.pigeons + right.pigeons;\n    }\n\n    @Override\n    public String toString()\n    {\n        return String.format(&quot;%d c=%d d=%d p=%d&quot;, year, cats, dogs, pigeons);\n    }\n}\n@Test\npublic void testStat()\n{\n    List&lt;Stat&gt; items = Arrays.asList(\n        new Stat(2017, 5, 8, 12),\n        new Stat(2017, 123, 382, 15),\n        new Stat(2018, 1, 2, 3)\n        );\n    Map&lt;Integer, Optional&lt;Stat&gt;&gt; result = items.stream()\n        .collect(Collectors.groupingBy(Stat::getYear,\n            Collectors.reducing(Stat::new)\n        ));\n    System.out.println(result);\n}\n</code></pre>\n<p>The <code>Optional</code> is unnecessary, since <code>groupingBy</code> would never create a <code>List</code> that needs <code>reducing</code> if there were no elements.</p>\n<p>Is there a way to get <code>Map&lt;Integer, Stat&gt;</code>, preferably without having to create a blank &quot;identity&quot; object?</p>\n<p>If I have to resort to creating an identity creation function to <code>reducing</code>, the Stat object's combining constructor has to have a year (see the constructor), so how does the identity constructor get the year passed to it?</p>\n"},{"tags":["java","gradle","gretty"],"owner":{"account_id":1068883,"reputation":1885,"user_id":1068636,"accept_rate":74,"display_name":"user1068636"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653680981,"creation_date":1653677608,"question_id":72409924,"body_markdown":"Currently, my Gradle 5.6.2 project has a properties file located at: \r\n\r\n    gradle/wrapper/gradle-wrapper.properties\r\n\r\nIt looks like: \r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n    distributionUrl=file://localhost:/home/user1/.gradle/wrapper/dists/gradle-5.6.2-all/gradle-5.6.2-all.zip\r\n\r\n\r\nSo, when I run the gradle wrapper like so: \r\n\r\n    ./gradlew clean build\r\n\r\nIt successfully downloads the gradle-5.6.2-all.zip file from my localhost with no problems. \r\n\r\nHowever, now I would like to remove the reference absolute path to user1&#39;s home directory and instead do something like: \r\n\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n    distributionUrl=file://localhost:~/.gradle/wrapper/dists/gradle-5.6.2-all/gradle-5.6.2-all.zip\r\n\r\nHowever, it appears like Gradle takes the tilde ~ literally and complains the zip file does not exist.  Instead of a tilde, I also tried doing: \r\n\r\n    distributionUrl=file://localhost:$HOME/.gradle/wrapper/dists/gradle-5.6.2-all/gradle-5.6.2-all.zip\r\n\r\n\r\n\r\n    distributionUrl=file://localhost:${HOME}/.gradle/wrapper/dists/gradle-5.6.2-all/gradle-5.6.2-all.zip\r\n\r\n\r\nHowever, $HOME was also taken literally (i.e. it was not evaluated by Gradle to resolve &quot;/home/user1&quot; as I want). \r\n\r\nDoes anyone know how I can use my own environment variable in gradle-wrapper.properties file? ","title":"how do you use an environment variable in gradle-wrapper.properties?","body":"<p>Currently, my Gradle 5.6.2 project has a properties file located at:</p>\n<pre><code>gradle/wrapper/gradle-wrapper.properties\n</code></pre>\n<p>It looks like:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=file://localhost:/home/user1/.gradle/wrapper/dists/gradle-5.6.2-all/gradle-5.6.2-all.zip\n</code></pre>\n<p>So, when I run the gradle wrapper like so:</p>\n<pre><code>./gradlew clean build\n</code></pre>\n<p>It successfully downloads the gradle-5.6.2-all.zip file from my localhost with no problems.</p>\n<p>However, now I would like to remove the reference absolute path to user1's home directory and instead do something like:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=file://localhost:~/.gradle/wrapper/dists/gradle-5.6.2-all/gradle-5.6.2-all.zip\n</code></pre>\n<p>However, it appears like Gradle takes the tilde ~ literally and complains the zip file does not exist.  Instead of a tilde, I also tried doing:</p>\n<pre><code>distributionUrl=file://localhost:$HOME/.gradle/wrapper/dists/gradle-5.6.2-all/gradle-5.6.2-all.zip\n\n\n\ndistributionUrl=file://localhost:${HOME}/.gradle/wrapper/dists/gradle-5.6.2-all/gradle-5.6.2-all.zip\n</code></pre>\n<p>However, $HOME was also taken literally (i.e. it was not evaluated by Gradle to resolve &quot;/home/user1&quot; as I want).</p>\n<p>Does anyone know how I can use my own environment variable in gradle-wrapper.properties file?</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1653633021,"post_id":72400537,"comment_id":127902359,"body_markdown":"do you need regular expression? None of the given examples require regular expressions. `input.contains(patternStr)`","body":"do you need regular expression? None of the given examples require regular expressions. <code>input.contains(patternStr)</code>"}],"answers":[{"tags":[],"owner":{"account_id":6359024,"reputation":1479,"user_id":4935162,"display_name":"Yarin_007"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653626804,"creation_date":1653626804,"answer_id":72400570,"question_id":72400537,"body_markdown":"In regex, parentheses are meta characters. \r\ni.e., they are reserved for special use. \r\nSpecifically a feature called &quot;Capture Groups&quot;. \r\n\r\nTry escaping them with a `\\` before each bracket\r\n\r\n\r\n`I love you \\(LT\\):`\r\n\r\nhttps://stackoverflow.com/questions/14134558/list-of-all-special-characters-that-need-to-be-escaped-in-a-regex","title":"java.util.regex matching parentheses","body":"<p>In regex, parentheses are meta characters.\ni.e., they are reserved for special use.\nSpecifically a feature called &quot;Capture Groups&quot;.</p>\n<p>Try escaping them with a <code>\\</code> before each bracket</p>\n<p><code>I love you \\(LT\\):</code></p>\n<p><a href=\"https://stackoverflow.com/questions/14134558/list-of-all-special-characters-that-need-to-be-escaped-in-a-regex\">List of all special characters that need to be escaped in a regex</a></p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653635243,"creation_date":1653635243,"answer_id":72401683,"question_id":72400537,"body_markdown":"As it has been pointed out in the comments, you don&#39;t need to use a regex to check if your input `String` contains `I love you (LT):`. In fact, there is no actual pattern to represent, only a character by character comparison between a portion of your input and the string you&#39;re looking for.\r\n\r\nTo achieve what you want, you could use the `contains` method of the `String` class, which suits perfectly your needs.\r\n\r\n```\r\nString input = &quot;&lt;b&gt;I love you (LT): &lt;/b&gt;xxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\r\nString strToLookFor = &quot;I love you (LT):&quot;;\r\nSystem.out.println(&quot;Result w Contains: &quot; + input.contains(strToLookFor));  //Returns true\r\n``` \r\n\r\nInstead, if you actually need to use a regex because it is a requirement. Then, as @Yarin already said, you need to escape the parenthesis since those are characters with a special meaning. They&#39;re in fact employed for capturing groups.\r\n\r\n```\r\nString input = &quot;&lt;b&gt;I love you (LT): &lt;/b&gt;xxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\r\nString strToLookFor = &quot;I love you (LT):&quot;;\r\n\r\nPattern pattern = Pattern.compile(strPattern);\r\nMatcher matcher = pattern.matcher(input);\r\n\r\nSystem.out.println(&quot;Result w Pattern: &quot; + matcher.find());  //Returns true\r\n```","title":"java.util.regex matching parentheses","body":"<p>As it has been pointed out in the comments, you don't need to use a regex to check if your input <code>String</code> contains <code>I love you (LT):</code>. In fact, there is no actual pattern to represent, only a character by character comparison between a portion of your input and the string you're looking for.</p>\n<p>To achieve what you want, you could use the <code>contains</code> method of the <code>String</code> class, which suits perfectly your needs.</p>\n<pre><code>String input = &quot;&lt;b&gt;I love you (LT): &lt;/b&gt;xxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\nString strToLookFor = &quot;I love you (LT):&quot;;\nSystem.out.println(&quot;Result w Contains: &quot; + input.contains(strToLookFor));  //Returns true\n</code></pre>\n<p>Instead, if you actually need to use a regex because it is a requirement. Then, as @Yarin already said, you need to escape the parenthesis since those are characters with a special meaning. They're in fact employed for capturing groups.</p>\n<pre><code>String input = &quot;&lt;b&gt;I love you (LT): &lt;/b&gt;xxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\nString strToLookFor = &quot;I love you (LT):&quot;;\n\nPattern pattern = Pattern.compile(strPattern);\nMatcher matcher = pattern.matcher(input);\n\nSystem.out.println(&quot;Result w Pattern: &quot; + matcher.find());  //Returns true\n</code></pre>\n"}],"owner":{"account_id":2576749,"reputation":2384,"user_id":2234250,"accept_rate":65,"display_name":"Tung Vo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1653680523,"creation_date":1653626520,"question_id":72400537,"body_markdown":"I am using java.util.regex for matching like bellow\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String input = &quot;&lt;b&gt;I love you (LT): &lt;/b&gt;xxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\r\n\r\n        String patternStr =  &quot;I love you (LT):&quot;;\r\n        String noParentStr =  &quot;I love you&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(patternStr);\r\n        Pattern noParentPattern =  Pattern.compile(noParentStr);\r\n\r\n        Matcher matcher = pattern.matcher(input);\r\n        Matcher noParrentTheseMatcher = noParentPattern.matcher(input);\r\n\r\n        System.out.println(&quot;result:&quot; + matcher.find());\r\n        System.out.println(&quot;result no parenthese:&quot; + noParrentTheseMatcher.find());\r\n    }\r\n\r\nI can see the `input` string contain `patternStr` &quot;I love you (LT):&quot;. But I get the result\r\n\r\n    result:false\r\n    result no parenthese:true\r\n\r\nHow can i match string contain parentheses &#39;(&#39;,&#39;)&#39;","title":"java.util.regex matching parentheses","body":"<p>I am using java.util.regex for matching like bellow</p>\n<pre><code>public static void main(String[] args) {\n\n    String input = &quot;&lt;b&gt;I love you (LT): &lt;/b&gt;xxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\n\n    String patternStr =  &quot;I love you (LT):&quot;;\n    String noParentStr =  &quot;I love you&quot;;\n\n    Pattern pattern = Pattern.compile(patternStr);\n    Pattern noParentPattern =  Pattern.compile(noParentStr);\n\n    Matcher matcher = pattern.matcher(input);\n    Matcher noParrentTheseMatcher = noParentPattern.matcher(input);\n\n    System.out.println(&quot;result:&quot; + matcher.find());\n    System.out.println(&quot;result no parenthese:&quot; + noParrentTheseMatcher.find());\n}\n</code></pre>\n<p>I can see the <code>input</code> string contain <code>patternStr</code> &quot;I love you (LT):&quot;. But I get the result</p>\n<pre><code>result:false\nresult no parenthese:true\n</code></pre>\n<p>How can i match string contain parentheses '(',')'</p>\n"},{"tags":["java","android","android-studio","ionic-framework","background"],"answers":[{"tags":[],"owner":{"account_id":18943425,"reputation":51,"user_id":13822916,"display_name":"Nizar Bouraoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653680215,"creation_date":1653680117,"answer_id":72410291,"question_id":68327974,"body_markdown":"Change line: `View view = webView.getEngine().getView();` to `View view = webView.getView();`","title":"android studion giving error on disableWebView() in android studio","body":"<p>Change line: <code>View view = webView.getEngine().getView();</code> to <code>View view = webView.getView();</code></p>\n"}],"owner":{"account_id":18933951,"reputation":454,"user_id":16279514,"display_name":"web pakistan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653680215,"creation_date":1625922212,"question_id":68327974,"body_markdown":"I am trying to use `BackgroundMode.disableWebViewOptimizations();` in my ionic app but when i launch the app in the android studio then i am getting this error\r\n\r\n```\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.siloc.users, PID: 6275\r\n    java.lang.NullPointerException: Attempt to invoke interface method &#39;android.view.View org.apache.cordova.CordovaWebViewEngine.getView()&#39; on a null object reference\r\n        at de.appplant.cordova.plugin.background.BackgroundModeExt$1.lambda$run$0$BackgroundModeExt$1(BackgroundModeExt.java:169)\r\n        at de.appplant.cordova.plugin.background.-$$Lambda$BackgroundModeExt$1$ENae6xHnDD7pQOdOSwld6cT0QNo.run(Unknown Source:2)\r\n        at android.os.Handler.handleCallback(Handler.java:883)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:230)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7880)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:526)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1034)\r\nE/NetdClient: querySockNetidForUid nid:0, uid:10357, command.cmdId:11, id:0\r\n```\r\nThis is the function in BackgroundModeExt.java file\r\n\r\n```\r\n   private void disableWebViewOptimizations() {\r\n        Thread thread = new Thread(){\r\n            public void run() {\r\n                try {\r\n                    Thread.sleep(1000);\r\n                    getApp().runOnUiThread(() -&gt; {\r\n                        View view = webView.getEngine().getView();\r\n\r\n                        try {\r\n                            Class.forName(&quot;org.crosswalk.engine.XWalkCordovaView&quot;)\r\n                                 .getMethod(&quot;onShow&quot;)\r\n                                 .invoke(view);\r\n                        } catch (Exception e){\r\n                            view.dispatchWindowVisibilityChanged(View.VISIBLE);\r\n                        }\r\n                    });\r\n                } catch (InterruptedException e) {\r\n                    // do nothing\r\n                }\r\n            }\r\n        };\r\n\r\n        thread.start();\r\n    }\r\n```\r\niS there any way i can solve this problem?","title":"android studion giving error on disableWebView() in android studio","body":"<p>I am trying to use <code>BackgroundMode.disableWebViewOptimizations();</code> in my ionic app but when i launch the app in the android studio then i am getting this error</p>\n<pre><code>\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.siloc.users, PID: 6275\n    java.lang.NullPointerException: Attempt to invoke interface method 'android.view.View org.apache.cordova.CordovaWebViewEngine.getView()' on a null object reference\n        at de.appplant.cordova.plugin.background.BackgroundModeExt$1.lambda$run$0$BackgroundModeExt$1(BackgroundModeExt.java:169)\n        at de.appplant.cordova.plugin.background.-$$Lambda$BackgroundModeExt$1$ENae6xHnDD7pQOdOSwld6cT0QNo.run(Unknown Source:2)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:230)\n        at android.app.ActivityThread.main(ActivityThread.java:7880)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:526)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1034)\nE/NetdClient: querySockNetidForUid nid:0, uid:10357, command.cmdId:11, id:0\n</code></pre>\n<p>This is the function in BackgroundModeExt.java file</p>\n<pre><code>   private void disableWebViewOptimizations() {\n        Thread thread = new Thread(){\n            public void run() {\n                try {\n                    Thread.sleep(1000);\n                    getApp().runOnUiThread(() -&gt; {\n                        View view = webView.getEngine().getView();\n\n                        try {\n                            Class.forName(&quot;org.crosswalk.engine.XWalkCordovaView&quot;)\n                                 .getMethod(&quot;onShow&quot;)\n                                 .invoke(view);\n                        } catch (Exception e){\n                            view.dispatchWindowVisibilityChanged(View.VISIBLE);\n                        }\n                    });\n                } catch (InterruptedException e) {\n                    // do nothing\n                }\n            }\n        };\n\n        thread.start();\n    }\n</code></pre>\n<p>iS there any way i can solve this problem?</p>\n"},{"tags":["java","avro"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559960509,"creation_date":1559960509,"answer_id":56502935,"question_id":56484631,"body_markdown":"Why write code when there&#39;s already a tool to get json?\r\n\r\n    java -jar avro-tools-1.8.2.jar tojson data.avro &gt; output.json\r\n\r\nhttp://central.maven.org/maven2/org/apache/avro/avro-tools/1.8.2/avro-tools-1.8.2.jar\r\n\r\nOtherwise, your file has a schema, and you&#39;d have to extract it first before reading the file contents, which is exactly what the source code of above tool does\r\n\r\nhttps://github.com/apache/avro/blob/master/lang/java/tools/src/main/java/org/apache/avro/tool/DataFileReadTool.java#L77","title":"If the avro schema is stored with the data, why does the java avro api need me to supply a schema file?","body":"<p>Why write code when there's already a tool to get json?</p>\n\n<pre><code>java -jar avro-tools-1.8.2.jar tojson data.avro &gt; output.json\n</code></pre>\n\n<p><a href=\"http://central.maven.org/maven2/org/apache/avro/avro-tools/1.8.2/avro-tools-1.8.2.jar\" rel=\"nofollow noreferrer\">http://central.maven.org/maven2/org/apache/avro/avro-tools/1.8.2/avro-tools-1.8.2.jar</a></p>\n\n<p>Otherwise, your file has a schema, and you'd have to extract it first before reading the file contents, which is exactly what the source code of above tool does</p>\n\n<p><a href=\"https://github.com/apache/avro/blob/master/lang/java/tools/src/main/java/org/apache/avro/tool/DataFileReadTool.java#L77\" rel=\"nofollow noreferrer\">https://github.com/apache/avro/blob/master/lang/java/tools/src/main/java/org/apache/avro/tool/DataFileReadTool.java#L77</a></p>\n"},{"tags":[],"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653679551,"creation_date":1653679551,"answer_id":72410205,"question_id":56484631,"body_markdown":"You need to provide the reader&#39;s schema so Avro can perform [Schema Resolution][1]\r\n\r\n\r\n  [1]: https://avro.apache.org/docs/current/spec.html#Schema+Resolution","title":"If the avro schema is stored with the data, why does the java avro api need me to supply a schema file?","body":"<p>You need to provide the reader's schema so Avro can perform <a href=\"https://avro.apache.org/docs/current/spec.html#Schema+Resolution\" rel=\"nofollow noreferrer\">Schema Resolution</a></p>\n"}],"owner":{"account_id":40317,"reputation":7077,"user_id":116846,"accept_rate":85,"display_name":"Erix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1653679551,"creation_date":1559852632,"question_id":56484631,"body_markdown":"Microsoft Azure decides, in some cases, to dump data in avro format. The data in question is simply json records, from my perspective. So, I just want my json data back from the avro file.\r\n\r\nI am looking at how to &#39;deserialize&#39; avro data, and the examples here:\r\n\r\nhttps://avro.apache.org/docs/1.8.1/gettingstartedjava.html\r\n\r\nmake the claim:\r\n\r\n    Data in Avro is always stored with its corresponding schema, meaning we can always read a serialized item regardless of whether we know the schema ahead of time.\r\n\r\nUnfortunately, the examples do require knowing the schema ahead of time:\r\n\r\n    DatumReader&lt;GenericRecord&gt; datumReader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\r\n    DataFileReader&lt;GenericRecord&gt; dataFileReader = new DataFileReader&lt;GenericRecord&gt;(file, datumReader);\r\n\r\n\r\nI must be missing something, I just want my data (text / json) format, out of avro. Is there any way of doing that without knowing a schema? Can&#39;t avro just read that out of the file itself?\r\n ","title":"If the avro schema is stored with the data, why does the java avro api need me to supply a schema file?","body":"<p>Microsoft Azure decides, in some cases, to dump data in avro format. The data in question is simply json records, from my perspective. So, I just want my json data back from the avro file.</p>\n\n<p>I am looking at how to 'deserialize' avro data, and the examples here:</p>\n\n<p><a href=\"https://avro.apache.org/docs/1.8.1/gettingstartedjava.html\" rel=\"nofollow noreferrer\">https://avro.apache.org/docs/1.8.1/gettingstartedjava.html</a></p>\n\n<p>make the claim:</p>\n\n<pre><code>Data in Avro is always stored with its corresponding schema, meaning we can always read a serialized item regardless of whether we know the schema ahead of time.\n</code></pre>\n\n<p>Unfortunately, the examples do require knowing the schema ahead of time:</p>\n\n<pre><code>DatumReader&lt;GenericRecord&gt; datumReader = new GenericDatumReader&lt;GenericRecord&gt;(schema);\nDataFileReader&lt;GenericRecord&gt; dataFileReader = new DataFileReader&lt;GenericRecord&gt;(file, datumReader);\n</code></pre>\n\n<p>I must be missing something, I just want my data (text / json) format, out of avro. Is there any way of doing that without knowing a schema? Can't avro just read that out of the file itself?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8683,"page":1309,"page_size":100}
