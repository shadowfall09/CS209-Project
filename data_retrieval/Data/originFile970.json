{"items":[{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665516136,"post_id":74032700,"comment_id":130717843,"body_markdown":"An error should be thrown by the internal deserializer, yes, but this depends on how you configured your consumer factory. Please share your configs","body":"An error should be thrown by the internal deserializer, yes, but this depends on how you configured your consumer factory. Please share your configs"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1665520318,"post_id":74032700,"comment_id":130719149,"body_markdown":"As long as the deserializer can handle them, you can configure a filter to discard the unwanted records. See my answer.","body":"As long as the deserializer can handle them, you can configure a filter to discard the unwanted records. See my answer."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665520280,"creation_date":1665520280,"answer_id":74033797,"question_id":74032700,"body_markdown":"You can add a `RecordFilterStragegy` in the second listener container to discard unwanted types.\r\n\r\nSee https://docs.spring.io/spring-kafka/docs/current/reference/html/#filtering-messages\r\n\r\n","title":"Using Multiple Kafka Listeners to handle specific data types on a shared topic","body":"<p>You can add a <code>RecordFilterStragegy</code> in the second listener container to discard unwanted types.</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#filtering-messages\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#filtering-messages</a></p>\n"}],"owner":{"account_id":26112588,"reputation":65,"user_id":19806238,"display_name":"planktonchumbucket"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74033797,"answer_count":1,"score":0,"last_activity_date":1665520280,"creation_date":1665513588,"question_id":74032700,"body_markdown":"I have two kafka listeners A &amp; B that are each in separate services listening to the same topic. Listener A only cares about data types 1, 2 &amp; 3 while Listener B only cares about data type 3. I was considering using individual `@KafkaHandler` methods to handle the different data types. However, my concern is about what will happen if listener B receives data types 1 or 2? Is an error thrown ? Does it safely ignore. \r\n\r\nAlso wanted to double confirm but, messages of the same type like data type 3 should be consumed by both listeners so long as the consumer group-id is different.\r\n\r\n```\r\n@KafkaListener\r\npublic class listenerA {\r\n    @KafkaHandler\r\n    public void dataType1(Object1 data) { ... }\r\n    @KafkaHandler\r\n    public void dataType2(Object2 data) { ... }\r\n    @KafkaHandler\r\n    public void dataType3(Object3 data) { ... }\r\n}\r\n```\r\n\r\n```\r\n@KafkaListener\r\npublic class listenerB {\r\n    @KafkaHandler\r\n    public void dataType3(Object3 data) { ... }\r\n}\r\n```","title":"Using Multiple Kafka Listeners to handle specific data types on a shared topic","body":"<p>I have two kafka listeners A &amp; B that are each in separate services listening to the same topic. Listener A only cares about data types 1, 2 &amp; 3 while Listener B only cares about data type 3. I was considering using individual <code>@KafkaHandler</code> methods to handle the different data types. However, my concern is about what will happen if listener B receives data types 1 or 2? Is an error thrown ? Does it safely ignore.</p>\n<p>Also wanted to double confirm but, messages of the same type like data type 3 should be consumed by both listeners so long as the consumer group-id is different.</p>\n<pre><code>@KafkaListener\npublic class listenerA {\n    @KafkaHandler\n    public void dataType1(Object1 data) { ... }\n    @KafkaHandler\n    public void dataType2(Object2 data) { ... }\n    @KafkaHandler\n    public void dataType3(Object3 data) { ... }\n}\n</code></pre>\n<pre><code>@KafkaListener\npublic class listenerB {\n    @KafkaHandler\n    public void dataType3(Object3 data) { ... }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","quarkus","smallrye-reactive-messaging"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1665516490,"post_id":74032901,"comment_id":130717942,"body_markdown":"Consumers default to start at the very end of the topic (where there is nothing to consume), so are you actually producing anything while the app is trying to consume? Also, consumers never define partition counts, anyway (plus, you can only scale up to the number of partitions)","body":"Consumers default to start at the very end of the topic (where there is nothing to consume), so are you actually producing anything while the app is trying to consume? Also, consumers never define partition counts, anyway (plus, you can only scale up to the number of partitions)"},{"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"score":0,"creation_date":1665516905,"post_id":74032901,"comment_id":130718061,"body_markdown":"Yes, I have a kafka connect source producing the data and there is almost 24k messages now. About the partitions I&#39;m talking about the `mp.messaging.incoming.plac-fate.partitions` property.","body":"Yes, I have a kafka connect source producing the data and there is almost 24k messages now. About the partitions I&#39;m talking about the <code>mp.messaging.incoming.plac-fate.partitions</code> property."},{"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"score":0,"creation_date":1665517038,"post_id":74032901,"comment_id":130718101,"body_markdown":"@OneCricketeer is there a property that set the consumer to start from the oldest message?","body":"@OneCricketeer is there a property that set the consumer to start from the oldest message?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1665517321,"post_id":74032901,"comment_id":130718177,"body_markdown":"`mp.messaging.incoming.plac-fate.auto.offset.reset=earliest`, but you also need to create a new `group.id` since you&#39;ve already started one consumer.","body":"<code>mp.messaging.incoming.plac-fate.auto.offset.reset=earliest</code>, but you also need to create a new <code>group.id</code> since you&#39;ve already started one consumer."},{"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"score":0,"creation_date":1665517670,"post_id":74032901,"comment_id":130718328,"body_markdown":"I&#39;m trying right now haha","body":"I&#39;m trying right now haha"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1665518204,"post_id":74032901,"comment_id":130718497,"body_markdown":"I&#39;d also suggest using [built in deserialization](https://quarkus.io/guides/kafka#jackson-serialization)","body":"I&#39;d also suggest using <a href=\"https://quarkus.io/guides/kafka#jackson-serialization\" rel=\"nofollow noreferrer\">built in deserialization</a>"},{"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"score":0,"creation_date":1665518435,"post_id":74032901,"comment_id":130718589,"body_markdown":"`mp.messaging.incoming.plac-fate.auto.offset.reset=earliest` works like a charm. Thx @OneCricketeer! Do you want to answer teh question?","body":"<code>mp.messaging.incoming.plac-fate.auto.offset.reset=earliest</code> works like a charm. Thx @OneCricketeer! Do you want to answer teh question?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665520149,"creation_date":1665520149,"answer_id":74033775,"question_id":74032901,"body_markdown":"Consumers default to start at the very end of the topic (where there is nothing to consume)\r\n\r\nIf you want to start at the beginning of the topic and read existing events, you&#39;ll need to add\r\n\r\n    mp.messaging.incoming.{channel-name}.auto.offset.reset=earliest","title":"Kafka consumer didn&#39;t consume","body":"<p>Consumers default to start at the very end of the topic (where there is nothing to consume)</p>\n<p>If you want to start at the beginning of the topic and read existing events, you'll need to add</p>\n<pre><code>mp.messaging.incoming.{channel-name}.auto.offset.reset=earliest\n</code></pre>\n"}],"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74033775,"answer_count":1,"score":1,"last_activity_date":1665520149,"creation_date":1665514812,"question_id":74032901,"body_markdown":"I&#39;m trying to create as app that will consume a Kafka topic with 10 partitions. I didn&#39;t define the number of partitions of the consumer at `application.properties` because the app will be deployed in OpenShift, and I want that the OpenShift do the load balance. The problem is that when I&#39;m start the application it didn&#39;t consume anything. The code is very simple, and I really don&#39;t know whats wrong:\r\n\r\nHere is the consumer, the log shows nothing:\r\n\r\n```java\r\n    @Incoming(&quot;plac-fate&quot;)\r\n    @Transactional\r\n    public void consume(NFeDistSVBAPayload payload) throws PlacException {\r\n        logger.info(&quot;Consumindo payload: &quot; + payload);\r\n        service.criaNFeDistSVBAEntity(payload);\r\n        logger.info(&quot;Payload com nrProtocolo &#39;&quot; + payload.getNrProtocolo() + &quot;&#39; consumido com sucesso.&quot;);\r\n    }\r\n```\r\n\r\nI also have as deserializer its log didn&#39;t show anything:\r\n\r\n```java\r\n@Override\r\n    public NFeDistSVBAPayload deserialize(String topic, byte[] data) {\r\n        logger.info(&quot;Deserializando mensagem do topico: &quot; + topic);\r\n        var strPayload = new String(data, StandardCharsets.UTF_8);\r\n        var module = new JaxbAnnotationModule();\r\n        var mapper = JsonMapper.builder()\r\n        .enable(JsonReadFeature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER)\r\n        .build();\r\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n        mapper.registerModule(module);\r\n        try {\r\n            var payload =  mapper.readValue(strPayload, NFeDistSVBAPayload.class);\r\n            return payload;\r\n        } catch (JsonProcessingException e) {\r\n            logger.error(e);\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nand here is the `&#224;pplication.properties`:\r\n\r\n```\r\nquarkus.kafka.devservices.enabled=false\r\nkafka.bootstrap.servers=${PLAC_KAFKA_URL}\r\nmp.messaging.incoming.plac-fate.connector=smallrye-kafka\r\nmp.messaging.incoming.plac-fate.value.deserializer=br.gov.pr.fazenda.plac.dominio.utils.DistNFePayloadSVBADeserializer\r\nmp.messaging.incoming.plac-fate.group.id=plac-fate-consumer\r\n```\r\n\r\nand here is the app log:\r\n\r\n```sh\r\n__  ____  __  _____   ___  __ ____  ______ \r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/\r\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\\r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/\r\n2022-10-11 18:53:42,919 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18229: Configured topics for channel &#39;plac-fate&#39;: [plac-fate]\r\n2022-10-11 18:53:42,949 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18214: Key deserializer omitted, using String as default\r\n2022-10-11 18:53:43,764 INFO  [io.sma.rea.mes.kafka] (smallrye-kafka-consumer-thread-0) SRMSG18257: Kafka consumer kafka-consumer-plac-fate, connected to Kafka brokers &#39;kafka:9092&#39;, belongs to the &#39;plac-fate-consumer&#39; consumer group and is configured to poll records from [plac-fate]\r\n2022-10-11 18:53:43,873 INFO  [io.quarkus] (Quarkus Main Thread) consumer 1.0-SNAPSHOT on JVM (powered by Quarkus 2.12.3.Final) started in 12.193s. Listening on: http://localhost:8080\r\n2022-10-11 18:53:43,873 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\r\n2022-10-11 18:53:43,874 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, cdi, hibernate-orm, hibernate-orm-panache, jdbc-oracle, kafka-client, micrometer, narayana-jta, qute, smallrye-context-propagation, smallrye-reactive-messaging, smallrye-reactive-messaging-kafka, vertx]\r\n```\r\n\r\nAs you can see the log says that the consumer was created and connected but it does nothing.\r\n\r\n","title":"Kafka consumer didn&#39;t consume","body":"<p>I'm trying to create as app that will consume a Kafka topic with 10 partitions. I didn't define the number of partitions of the consumer at <code>application.properties</code> because the app will be deployed in OpenShift, and I want that the OpenShift do the load balance. The problem is that when I'm start the application it didn't consume anything. The code is very simple, and I really don't know whats wrong:</p>\n<p>Here is the consumer, the log shows nothing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Incoming(&quot;plac-fate&quot;)\n    @Transactional\n    public void consume(NFeDistSVBAPayload payload) throws PlacException {\n        logger.info(&quot;Consumindo payload: &quot; + payload);\n        service.criaNFeDistSVBAEntity(payload);\n        logger.info(&quot;Payload com nrProtocolo '&quot; + payload.getNrProtocolo() + &quot;' consumido com sucesso.&quot;);\n    }\n</code></pre>\n<p>I also have as deserializer its log didn't show anything:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public NFeDistSVBAPayload deserialize(String topic, byte[] data) {\n        logger.info(&quot;Deserializando mensagem do topico: &quot; + topic);\n        var strPayload = new String(data, StandardCharsets.UTF_8);\n        var module = new JaxbAnnotationModule();\n        var mapper = JsonMapper.builder()\n        .enable(JsonReadFeature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER)\n        .build();\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        mapper.registerModule(module);\n        try {\n            var payload =  mapper.readValue(strPayload, NFeDistSVBAPayload.class);\n            return payload;\n        } catch (JsonProcessingException e) {\n            logger.error(e);\n            return null;\n        }\n    }\n</code></pre>\n<p>and here is the <code>àpplication.properties</code>:</p>\n<pre><code>quarkus.kafka.devservices.enabled=false\nkafka.bootstrap.servers=${PLAC_KAFKA_URL}\nmp.messaging.incoming.plac-fate.connector=smallrye-kafka\nmp.messaging.incoming.plac-fate.value.deserializer=br.gov.pr.fazenda.plac.dominio.utils.DistNFePayloadSVBADeserializer\nmp.messaging.incoming.plac-fate.group.id=plac-fate-consumer\n</code></pre>\n<p>and here is the app log:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>__  ____  __  _____   ___  __ ____  ______ \n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/\n2022-10-11 18:53:42,919 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18229: Configured topics for channel 'plac-fate': [plac-fate]\n2022-10-11 18:53:42,949 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18214: Key deserializer omitted, using String as default\n2022-10-11 18:53:43,764 INFO  [io.sma.rea.mes.kafka] (smallrye-kafka-consumer-thread-0) SRMSG18257: Kafka consumer kafka-consumer-plac-fate, connected to Kafka brokers 'kafka:9092', belongs to the 'plac-fate-consumer' consumer group and is configured to poll records from [plac-fate]\n2022-10-11 18:53:43,873 INFO  [io.quarkus] (Quarkus Main Thread) consumer 1.0-SNAPSHOT on JVM (powered by Quarkus 2.12.3.Final) started in 12.193s. Listening on: http://localhost:8080\n2022-10-11 18:53:43,873 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\n2022-10-11 18:53:43,874 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, cdi, hibernate-orm, hibernate-orm-panache, jdbc-oracle, kafka-client, micrometer, narayana-jta, qute, smallrye-context-propagation, smallrye-reactive-messaging, smallrye-reactive-messaging-kafka, vertx]\n</code></pre>\n<p>As you can see the log says that the consumer was created and connected but it does nothing.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1665115640,"post_id":73982251,"comment_id":130628520,"body_markdown":"`private static String raiz;` is how you declare fields.  Fields are declared at h\\the class level not as a local variable","body":"<code>private static String raiz;</code> is how you declare fields.  Fields are declared at h\\the class level not as a local variable"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1665115989,"post_id":73982251,"comment_id":130628571,"body_markdown":"What do you think `private` and `static` mean in this context? More to the point, what would a *non-private*, *non-static* local variable look like, and how would it be different?","body":"What do you think <code>private</code> and <code>static</code> mean in this context? More to the point, what would a <i>non-private</i>, <i>non-static</i> local variable look like, and how would it be different?"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1665116545,"post_id":73982251,"comment_id":130628667,"body_markdown":"Access modifiers like `private` and the keyword `static` can be used only at the class level. That means they cannot be used inside a method, constructor, or any other block that is encapsulated by a class.","body":"Access modifiers like <code>private</code> and the keyword <code>static</code> can be used only at the class level. That means they cannot be used inside a method, constructor, or any other block that is encapsulated by a class."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":1,"creation_date":1665122082,"post_id":73982251,"comment_id":130629547,"body_markdown":"Please don&#39;t post errors as images","body":"Please don&#39;t post errors as images"}],"owner":{"account_id":26551652,"reputation":1,"user_id":20180872,"display_name":"Malelizarazo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665519948,"creation_date":1665115537,"question_id":73982251,"body_markdown":"[This is the error I get][1]\r\nSo i&#39;m working on java CC, but I keep getting this error from creating arraylists and strings variables on the .jj\r\n``` \r\npublic class Parser\r\n{\r\n  public static void main(String args []) throws ParseException\r\n  {\r\n    Parser parser = new Parser(System.in);\r\n    while (true)\r\n    {\r\n      System.out.println(&quot;Reading from standard input...&quot;);\r\n      System.out.print(&quot;Enter a TREE:&quot;);\r\n      private static ArrayList nodosCheck = new ArrayList();\r\n\t  private static ArrayList nodos = new ArrayList();\r\n\t  private static String raiz;\r\n\t  private static String print=&quot;Todo anda bien&quot;;\r\n\t  System.out.println(&quot;Bienvenidos&quot;);\r\n     \r\n``` \r\n      \r\nsomeone know what is wrong?\r\nI cant run the application since the error is from the .java file of the parser.\r\nbut idk how to solve this on the .jj file \r\nThis are lists and variables that I have to modify during the program, just to clarify.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q7k9A.png","title":"Illegal modifier for the variable print; only final is permitted on javaCC","body":"<p><a href=\"https://i.stack.imgur.com/Q7k9A.png\" rel=\"nofollow noreferrer\">This is the error I get</a>\nSo i'm working on java CC, but I keep getting this error from creating arraylists and strings variables on the .jj</p>\n<pre><code>public class Parser\n{\n  public static void main(String args []) throws ParseException\n  {\n    Parser parser = new Parser(System.in);\n    while (true)\n    {\n      System.out.println(&quot;Reading from standard input...&quot;);\n      System.out.print(&quot;Enter a TREE:&quot;);\n      private static ArrayList nodosCheck = new ArrayList();\n      private static ArrayList nodos = new ArrayList();\n      private static String raiz;\n      private static String print=&quot;Todo anda bien&quot;;\n      System.out.println(&quot;Bienvenidos&quot;);\n     \n</code></pre>\n<p>someone know what is wrong?\nI cant run the application since the error is from the .java file of the parser.\nbut idk how to solve this on the .jj file\nThis are lists and variables that I have to modify during the program, just to clarify.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":1,"creation_date":1665518233,"post_id":74033351,"comment_id":130718504,"body_markdown":"Without any data source how you  can configure the  jpa because it need a datsource bean to inject?","body":"Without any data source how you  can configure the  jpa because it need a datsource bean to inject?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":1,"creation_date":1665518953,"post_id":74033351,"comment_id":130718740,"body_markdown":"Seconding @YJR. Your `JpaEntityConfig` should also be created only if the respective profile is active.","body":"Seconding @YJR. Your <code>JpaEntityConfig</code> should also be created only if the respective profile is active."}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665518711,"creation_date":1665518711,"answer_id":74033551,"question_id":74033351,"body_markdown":"As JpaEntityConfig is expecting a DataSource you can make this optional if you so wish\r\n```\r\n@Configuration\r\n@ConfigurationProperties()\r\npublic class JpaEntityConfig {\r\n\r\n    @Autowired(required = false)\r\n    DataSource dataSource;\r\n\r\n```","title":"Create a data source based on the spring profile","body":"<p>As JpaEntityConfig is expecting a DataSource you can make this optional if you so wish</p>\n<pre><code>@Configuration\n@ConfigurationProperties()\npublic class JpaEntityConfig {\n\n    @Autowired(required = false)\n    DataSource dataSource;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665519347,"creation_date":1665519347,"answer_id":74033643,"question_id":74033351,"body_markdown":"    @Configuration\r\n    @ConfigurationProperties()\r\n    @Profile(&quot;!second&quot;)\r\n    public class JpaEntityConfig {\r\n    \r\n        @Autowired\r\n        DataSource dataSource;\r\n    \r\n        public DataSource dataSource() {\r\n            return dataSource;\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\nYou can skip this jpa configuration when profile `second` is active as above.","title":"Create a data source based on the spring profile","body":"<pre><code>@Configuration\n@ConfigurationProperties()\n@Profile(&quot;!second&quot;)\npublic class JpaEntityConfig {\n\n    @Autowired\n    DataSource dataSource;\n\n    public DataSource dataSource() {\n        return dataSource;\n    }\n\n    ...\n}\n</code></pre>\n<p>You can skip this jpa configuration when profile <code>second</code> is active as above.</p>\n"}],"owner":{"account_id":1032733,"reputation":10647,"user_id":1040718,"accept_rate":57,"display_name":"cybertextron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665519347,"creation_date":1665517496,"question_id":74033351,"body_markdown":"I have two profiles in Spring: `first` and `second`. If I use the `first` profile, I want to create a datasource based on postgres, but if I use `second` I don&#39;t want any datasource created at all. I&#39;ve defined my `JpaEntityConfig` class as:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties()\r\n    public class JpaEntityConfig {\r\n    \r\n        @Autowired\r\n        DataSource dataSource;\r\n    \r\n        public DataSource dataSource() {\r\n            return dataSource;\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\nif I set `spring.profiles.active=first` then it works fine, however if I set it to `spring.profiles.active=second` then I&#39;m getting the following error:\r\n\r\n    Field dataSource in com.package.JpaEntityConfig required a bean of type &#39;javax.sql.DataSource&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    Consider defining a bean of type &#39;javax.sql.DataSource&#39; in your configuration.\r\n\r\nhow can I get around this? \r\n ","title":"Create a data source based on the spring profile","body":"<p>I have two profiles in Spring: <code>first</code> and <code>second</code>. If I use the <code>first</code> profile, I want to create a datasource based on postgres, but if I use <code>second</code> I don't want any datasource created at all. I've defined my <code>JpaEntityConfig</code> class as:</p>\n<pre><code>@Configuration\n@ConfigurationProperties()\npublic class JpaEntityConfig {\n\n    @Autowired\n    DataSource dataSource;\n\n    public DataSource dataSource() {\n        return dataSource;\n    }\n\n    ...\n}\n</code></pre>\n<p>if I set <code>spring.profiles.active=first</code> then it works fine, however if I set it to <code>spring.profiles.active=second</code> then I'm getting the following error:</p>\n<pre><code>Field dataSource in com.package.JpaEntityConfig required a bean of type 'javax.sql.DataSource' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\nConsider defining a bean of type 'javax.sql.DataSource' in your configuration.\n</code></pre>\n<p>how can I get around this?</p>\n"},{"tags":["java","generics","instanceof","typechecking"],"answers":[{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":1,"up_vote_count":92,"is_accepted":true,"score":91,"last_activity_date":1665519272,"creation_date":1255576239,"answer_id":1570099,"question_id":1570073,"body_markdown":"The error message says it all. At runtime, the type is gone, there is no way to check for it.\r\n\r\nYou could catch it by making a factory for your object like this:\r\n\r\n```java\r\npublic static &lt;T&gt; MyObject&lt;T&gt; createMyObject(Class&lt;T&gt; type) {\r\n    return new MyObject&lt;T&gt;(type);\r\n}\r\n```\r\n\r\nAnd then in the object&#39;s constructor store that type, so variable so that your method could look like this:\r\n```java\r\nif (arg0 != null &amp;&amp; !(this.type.isAssignableFrom(arg0.getClass())) {\r\n    return -1;\r\n}\r\n```","title":"Java: Instanceof and Generics","body":"<p>The error message says it all. At runtime, the type is gone, there is no way to check for it.</p>\n<p>You could catch it by making a factory for your object like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; MyObject&lt;T&gt; createMyObject(Class&lt;T&gt; type) {\n    return new MyObject&lt;T&gt;(type);\n}\n</code></pre>\n<p>And then in the object's constructor store that type, so variable so that your method could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (arg0 != null &amp;&amp; !(this.type.isAssignableFrom(arg0.getClass())) {\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255576405,"creation_date":1255576405,"answer_id":1570105,"question_id":1570073,"body_markdown":"Technically you shouldn&#39;t have to, that&#39;s the point of generics, so you can do compile-type checking:\r\n\r\n    public int indexOf(E arg0) {\r\n       ...\r\n    }\r\n\r\nbut then the @Override may be a problem if you have a class hierarchy. Otherwise see Yishai&#39;s answer.","title":"Java: Instanceof and Generics","body":"<p>Technically you shouldn't have to, that's the point of generics, so you can do compile-type checking:</p>\n\n<pre><code>public int indexOf(E arg0) {\n   ...\n}\n</code></pre>\n\n<p>but then the @Override may be a problem if you have a class hierarchy. Otherwise see Yishai's answer.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255579709,"creation_date":1255579709,"answer_id":1570232,"question_id":1570073,"body_markdown":"The runtime type of the object is a relatively arbitrary condition to filter on. I suggest keeping such muckiness away from your collection. This is simply achieved by having your collection delegate to a filter passed in a construction.\r\n\r\n    public interface FilterObject {\r\n         boolean isAllowed(Object obj);\r\n    }\r\n\r\n    public class FilterOptimizedList&lt;E&gt; implements List&lt;E&gt; {\r\n         private final FilterObject filter;\r\n         ...\r\n         public FilterOptimizedList(FilterObject filter) {\r\n             if (filter == null) {\r\n                 throw NullPointerException();\r\n             }\r\n             this.filter = filter;\r\n         }\r\n         ...\r\n         public int indexOf(Object obj) {\r\n             if (!filter.isAllows(obj)) {\r\n                  return -1;\r\n             }\r\n             ...\r\n         }\r\n         ...\r\n    }\r\n\r\n         final List&lt;String&gt; longStrs = new FilterOptimizedList&lt;String&gt;(\r\n             new FilterObject() { public boolean isAllowed(Object obj) {\r\n                 if (obj == null) {\r\n                     return true;\r\n                 } else if (obj instanceof String) {\r\n                     String str = (String)str;\r\n                     return str.length() &gt; = 4;\r\n                 } else {\r\n                     return false;\r\n                 }\r\n             }}\r\n         );","title":"Java: Instanceof and Generics","body":"<p>The runtime type of the object is a relatively arbitrary condition to filter on. I suggest keeping such muckiness away from your collection. This is simply achieved by having your collection delegate to a filter passed in a construction.</p>\n\n<pre><code>public interface FilterObject {\n     boolean isAllowed(Object obj);\n}\n\npublic class FilterOptimizedList&lt;E&gt; implements List&lt;E&gt; {\n     private final FilterObject filter;\n     ...\n     public FilterOptimizedList(FilterObject filter) {\n         if (filter == null) {\n             throw NullPointerException();\n         }\n         this.filter = filter;\n     }\n     ...\n     public int indexOf(Object obj) {\n         if (!filter.isAllows(obj)) {\n              return -1;\n         }\n         ...\n     }\n     ...\n}\n\n     final List&lt;String&gt; longStrs = new FilterOptimizedList&lt;String&gt;(\n         new FilterObject() { public boolean isAllowed(Object obj) {\n             if (obj == null) {\n                 return true;\n             } else if (obj instanceof String) {\n                 String str = (String)str;\n                 return str.length() &gt; = 4;\n             } else {\n                 return false;\n             }\n         }}\n     );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":779815,"reputation":151,"user_id":836265,"display_name":"terryscotttaylor"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1310170251,"creation_date":1310170251,"answer_id":6631819,"question_id":1570073,"body_markdown":"Provided your class extends a class with a generic parameter, you can also get this at runtime via reflection, and then use that for comparison, i.e.\r\n\r\n    class YourClass extends SomeOtherClass&lt;String&gt;\r\n    {\r\n\r\n       private Class&lt;?&gt; clazz;\r\n    \r\n       public Class&lt;?&gt; getParameterizedClass()\r\n       {\r\n          if(clazz == null)\r\n          {\r\n             ParameterizedType pt = (ParameterizedType)this.getClass().getGenericSuperclass();\r\n              clazz = (Class&lt;?&gt;)pt.getActualTypeArguments()[0];\r\n           }\r\n           return clazz;\r\n        }\r\n    }\r\n\r\n\r\nIn the case above, at runtime you will get String.class from getParameterizedClass(), and it caches so you don&#39;t get any reflection overhead upon multiple checks.  Note that you can get the other parameterized types by index from the ParameterizedType.getActualTypeArguments() method.\r\n","title":"Java: Instanceof and Generics","body":"<p>Provided your class extends a class with a generic parameter, you can also get this at runtime via reflection, and then use that for comparison, i.e.</p>\n\n<pre><code>class YourClass extends SomeOtherClass&lt;String&gt;\n{\n\n   private Class&lt;?&gt; clazz;\n\n   public Class&lt;?&gt; getParameterizedClass()\n   {\n      if(clazz == null)\n      {\n         ParameterizedType pt = (ParameterizedType)this.getClass().getGenericSuperclass();\n          clazz = (Class&lt;?&gt;)pt.getActualTypeArguments()[0];\n       }\n       return clazz;\n    }\n}\n</code></pre>\n\n<p>In the case above, at runtime you will get String.class from getParameterizedClass(), and it caches so you don't get any reflection overhead upon multiple checks.  Note that you can get the other parameterized types by index from the ParameterizedType.getActualTypeArguments() method.</p>\n"},{"tags":[],"owner":{"account_id":1984761,"reputation":157,"user_id":1780345,"display_name":"ben"},"down_vote_count":12,"up_vote_count":18,"is_accepted":false,"score":6,"last_activity_date":1351403728,"creation_date":1351402140,"answer_id":13106609,"question_id":1570073,"body_markdown":"Or you could catch a failed attempt to cast into E **eg.**&lt;br/&gt;\r\n\r\n    public int indexOf(Object arg0){\r\n      try{\r\n        E test=(E)arg0;\r\n        return doStuff(test);\r\n      }catch(ClassCastException e){\r\n        return -1;\r\n      }\r\n    }","title":"Java: Instanceof and Generics","body":"<p>Or you could catch a failed attempt to cast into E <strong>eg.</strong><br/></p>\n\n<pre><code>public int indexOf(Object arg0){\n  try{\n    E test=(E)arg0;\n    return doStuff(test);\n  }catch(ClassCastException e){\n    return -1;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269969,"reputation":11509,"user_id":559634,"accept_rate":100,"display_name":"SharkAlley"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1371090973,"creation_date":1371059598,"answer_id":17072077,"question_id":1570073,"body_markdown":"Two options for runtime type checking with generics:\r\n\r\n**Option 1 - Corrupt your constructor**\r\n\r\nLet&#39;s assume you are overriding indexOf(...), and you want to check the type just for performance, to save yourself iterating the entire collection. \r\n\r\nMake a filthy constructor like this:\r\n\r\n    public MyCollection&lt;T&gt;(Class&lt;T&gt; t) {\r\n   \r\n        this.t = t;\r\n    }\r\n\r\nThen you can use [isAssignableFrom][1] to check the type.\r\n\r\n    public int indexOf(Object o) {\r\n        \r\n        if (\r\n            o != null &amp;&amp;\r\n\r\n            !t.isAssignableFrom(o.getClass())\r\n        \r\n        ) return -1;\r\n        \r\n    //...\r\n\r\nEach time you instantiate your object you would have to repeat yourself:\r\n\r\n    new MyCollection&lt;Apples&gt;(Apples.class);\r\n\r\nYou might decide it isn&#39;t worth it. In the implementation of [ArrayList.indexOf(...)][2], they do not check that the type matches.\r\n\r\n**Option 2 - Let it fail**\r\n\r\nIf you need to use an abstract method that requires your unknown type, then all you really want is for the compiler to stop crying about **instanceof**. If you have a method like this:\r\n\r\n    protected abstract void abstractMethod(T element);\r\n\r\nYou can use it like this:\r\n\r\n    public int indexOf(Object o) {\r\n\r\n        try {\r\n\r\n            abstractMethod((T) o);\r\n\r\n        } catch (ClassCastException e) {\r\n\r\n    //...\r\n \r\n\r\nYou are casting the object to T (your generic type), just to fool the compiler. [Your cast does nothing at runtime][3], but you will still get a ClassCastException when you try to pass the wrong type of object into your abstract method.\r\n\r\nNOTE 1: If you are doing additional unchecked casts in your abstract method, your ClassCastExceptions will get caught here. That could be good or bad, so think it through.\r\n\r\nNOTE 2: [You get a free null check when you use instanceof][4]. Since you can&#39;t use it, you may need to check for null with your bare hands.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom%28java.lang.Class%29\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java#ArrayList.indexOf%28java.lang.Object%29\r\n  [3]: http://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#cannotCast\r\n  [4]: https://stackoverflow.com/questions/2950319/is-null-check-needed-before-calling-instanceof","title":"Java: Instanceof and Generics","body":"<p>Two options for runtime type checking with generics:</p>\n\n<p><strong>Option 1 - Corrupt your constructor</strong></p>\n\n<p>Let's assume you are overriding indexOf(...), and you want to check the type just for performance, to save yourself iterating the entire collection. </p>\n\n<p>Make a filthy constructor like this:</p>\n\n<pre><code>public MyCollection&lt;T&gt;(Class&lt;T&gt; t) {\n\n    this.t = t;\n}\n</code></pre>\n\n<p>Then you can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom%28java.lang.Class%29\" rel=\"noreferrer\">isAssignableFrom</a> to check the type.</p>\n\n<pre><code>public int indexOf(Object o) {\n\n    if (\n        o != null &amp;&amp;\n\n        !t.isAssignableFrom(o.getClass())\n\n    ) return -1;\n\n//...\n</code></pre>\n\n<p>Each time you instantiate your object you would have to repeat yourself:</p>\n\n<pre><code>new MyCollection&lt;Apples&gt;(Apples.class);\n</code></pre>\n\n<p>You might decide it isn't worth it. In the implementation of <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java#ArrayList.indexOf%28java.lang.Object%29\" rel=\"noreferrer\">ArrayList.indexOf(...)</a>, they do not check that the type matches.</p>\n\n<p><strong>Option 2 - Let it fail</strong></p>\n\n<p>If you need to use an abstract method that requires your unknown type, then all you really want is for the compiler to stop crying about <strong>instanceof</strong>. If you have a method like this:</p>\n\n<pre><code>protected abstract void abstractMethod(T element);\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>public int indexOf(Object o) {\n\n    try {\n\n        abstractMethod((T) o);\n\n    } catch (ClassCastException e) {\n\n//...\n</code></pre>\n\n<p>You are casting the object to T (your generic type), just to fool the compiler. <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#cannotCast\" rel=\"noreferrer\">Your cast does nothing at runtime</a>, but you will still get a ClassCastException when you try to pass the wrong type of object into your abstract method.</p>\n\n<p>NOTE 1: If you are doing additional unchecked casts in your abstract method, your ClassCastExceptions will get caught here. That could be good or bad, so think it through.</p>\n\n<p>NOTE 2: <a href=\"https://stackoverflow.com/questions/2950319/is-null-check-needed-before-calling-instanceof\">You get a free null check when you use instanceof</a>. Since you can't use it, you may need to check for null with your bare hands.</p>\n"},{"tags":[],"owner":{"account_id":5335539,"reputation":107,"user_id":4254661,"display_name":"hsaturn"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1416096666,"creation_date":1416051682,"answer_id":26945416,"question_id":1570073,"body_markdown":"I had the same problem and here is my solution (very humble, @george: this time compiling AND working ...).\r\n\r\nMy probem was inside an abstract class that implements Observer.\r\nThe Observable fires method update(...) with Object class that can be any kind of Object.\r\n\r\nI only want to handler Objects of type T \r\n\r\n\r\nThe solution is to pass the class to the constructor in order to be able to compare types at runtime.\r\n\r\n\r\n   \r\n\r\n    public abstract class AbstractOne&lt;T&gt; implements Observer {\r\n        \r\n      private Class&lt;T&gt; tClass;\r\n        public AbstractOne(Class&lt;T&gt; clazz) {\r\n        tClass = clazz;\r\n      }\r\n\r\n      @Override\r\n      public void update(Observable o, Object arg) {\r\n        if (tClass.isInstance(arg)) {\r\n          // Here I am, arg has the type T\r\n          foo((T) arg);\r\n      \t}\r\n      }\r\n\r\n      public abstract foo(T t);\r\n\r\n    }\r\n   \r\nFor the implementation we just have to pass the Class to the constructor\r\n\r\n    public class OneImpl extends AbstractOne&lt;Rule&gt; {\r\n      public OneImpl() {\r\n        super(Rule.class);\r\n      }\r\n\r\n      @Override\r\n      public void foo(Rule t){\r\n      }\r\n    }\r\n    ","title":"Java: Instanceof and Generics","body":"<p>I had the same problem and here is my solution (very humble, @george: this time compiling AND working ...).</p>\n\n<p>My probem was inside an abstract class that implements Observer.\nThe Observable fires method update(...) with Object class that can be any kind of Object.</p>\n\n<p>I only want to handler Objects of type T </p>\n\n<p>The solution is to pass the class to the constructor in order to be able to compare types at runtime.</p>\n\n<pre><code>public abstract class AbstractOne&lt;T&gt; implements Observer {\n\n  private Class&lt;T&gt; tClass;\n    public AbstractOne(Class&lt;T&gt; clazz) {\n    tClass = clazz;\n  }\n\n  @Override\n  public void update(Observable o, Object arg) {\n    if (tClass.isInstance(arg)) {\n      // Here I am, arg has the type T\n      foo((T) arg);\n    }\n  }\n\n  public abstract foo(T t);\n\n}\n</code></pre>\n\n<p>For the implementation we just have to pass the Class to the constructor</p>\n\n<pre><code>public class OneImpl extends AbstractOne&lt;Rule&gt; {\n  public OneImpl() {\n    super(Rule.class);\n  }\n\n  @Override\n  public void foo(Rule t){\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"down_vote_count":6,"up_vote_count":30,"is_accepted":false,"score":24,"last_activity_date":1424253873,"creation_date":1424253873,"answer_id":28580762,"question_id":1570073,"body_markdown":"Old post, but a simple way to do generic instanceOf checking.\r\n\r\n    public static &lt;T&gt; boolean isInstanceOf(Class&lt;T&gt; clazz, Class&lt;T&gt; targetClass) {\r\n        return clazz.isInstance(targetClass);\r\n    }","title":"Java: Instanceof and Generics","body":"<p>Old post, but a simple way to do generic instanceOf checking.</p>\n\n<pre><code>public static &lt;T&gt; boolean isInstanceOf(Class&lt;T&gt; clazz, Class&lt;T&gt; targetClass) {\n    return clazz.isInstance(targetClass);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4620550,"reputation":1723,"user_id":3748178,"accept_rate":22,"display_name":"Salathiel Genese"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616009572,"creation_date":1616009572,"answer_id":66680005,"question_id":1570073,"body_markdown":"Let Java determine it and catch the exception bottom line.\r\n\r\n    public class Behaviour&lt;T&gt; {\r\n        public void behave(Object object) {\r\n            T typedObject = null;\r\n            \r\n            try { typedObject = (T) object; }\r\n            catch (ClassCastException ignored) {}\r\n            \r\n            if (null != typedObject) {\r\n                // Do something type-safe with typedObject\r\n            }\r\n        }\r\n    }","title":"Java: Instanceof and Generics","body":"<p>Let Java determine it and catch the exception bottom line.</p>\n<pre><code>public class Behaviour&lt;T&gt; {\n    public void behave(Object object) {\n        T typedObject = null;\n        \n        try { typedObject = (T) object; }\n        catch (ClassCastException ignored) {}\n        \n        if (null != typedObject) {\n            // Do something type-safe with typedObject\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":49568,"reputation":119884,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230198,"favorite_count":0,"down_vote_count":0,"up_vote_count":171,"accepted_answer_id":1570099,"answer_count":9,"score":171,"last_activity_date":1665519272,"creation_date":1255575603,"question_id":1570073,"body_markdown":"Before I look through my generic data structure for a value&#39;s index, I&#39;d like to see if it is even an instance of the type `this` has been parametrized to.\r\n\r\nBut Eclipse complains when I do this:\r\n\r\n\t@Override\r\n\tpublic int indexOf(Object arg0) {\r\n\t\tif (!(arg0 instanceof E)) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\r\nThis is the error message:\r\n\r\n&gt; Cannot perform instanceof check against type parameter E. Use instead its erasure Object since generic type information will be erased at runtime\r\n\r\nWhat is the better way to do it?","title":"Java: Instanceof and Generics","body":"<p>Before I look through my generic data structure for a value's index, I'd like to see if it is even an instance of the type <code>this</code> has been parametrized to.</p>\n\n<p>But Eclipse complains when I do this:</p>\n\n<pre><code>@Override\npublic int indexOf(Object arg0) {\n    if (!(arg0 instanceof E)) {\n        return -1;\n    }\n</code></pre>\n\n<p>This is the error message:</p>\n\n<blockquote>\n  <p>Cannot perform instanceof check against type parameter E. Use instead its erasure Object since generic type information will be erased at runtime</p>\n</blockquote>\n\n<p>What is the better way to do it?</p>\n"},{"tags":["java","spring-boot","mockito"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1665162818,"post_id":73989740,"comment_id":130643203,"body_markdown":"Please, show your test class code.","body":"Please, show your test class code."},{"owner":{"account_id":16652013,"reputation":63,"user_id":12034595,"display_name":"WhiteFlower"},"score":0,"creation_date":1665167125,"post_id":73989740,"comment_id":130644467,"body_markdown":"when(remotecall.callAPI()).thenThrow(Exception.class); AssertTrue(logmessage);","body":"when(remotecall.callAPI()).thenThrow(Exception.class); AssertTrue(logmessage);"},{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1665222870,"post_id":73989740,"comment_id":130652671,"body_markdown":"Can you share the error stacktrace to see where exactly the null pointer exception is trown?","body":"Can you share the error stacktrace to see where exactly the null pointer exception is trown?"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":1,"creation_date":1665521648,"post_id":73989740,"comment_id":130719505,"body_markdown":"As far as I can see, the code in your test should not compile. `remotecall.callAPI()` appears to return `void`, and you can&#39;t call a method returning `void` in a call to `when()`. You can write `doThrow(Exception.class).when(remotecall).callAPI();` instead. I can&#39;t say how you could test the value passed to the `logMessage` method, because you haven&#39;t shared with us how this method is defined.","body":"As far as I can see, the code in your test should not compile. <code>remotecall.callAPI()</code> appears to return <code>void</code>, and you can&#39;t call a method returning <code>void</code> in a call to <code>when()</code>. You can write <code>doThrow(Exception.class).when(remotecall).callAPI();</code> instead. I can&#39;t say how you could test the value passed to the <code>logMessage</code> method, because you haven&#39;t shared with us how this method is defined."},{"owner":{"account_id":16652013,"reputation":63,"user_id":12034595,"display_name":"WhiteFlower"},"score":0,"creation_date":1665602993,"post_id":73989740,"comment_id":130742154,"body_markdown":"Thank you for your answer, I would not be able to simulate the real scenario because it is confidential work. But I can assure you that what you have written was really helpful, helping me figuring out the solution. Thanks","body":"Thank you for your answer, I would not be able to simulate the real scenario because it is confidential work. But I can assure you that what you have written was really helpful, helping me figuring out the solution. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665162702,"creation_date":1665162702,"answer_id":73990513,"question_id":73989740,"body_markdown":"The method callAPI() takes no arguments so your &#39;when&#39; statement should be\r\n```\r\nwhen(remotecall.callAPI()).thenThrow(Exception.class); \r\n```","title":"Assert Values After Exception Happened with Mokito","body":"<p>The method callAPI() takes no arguments so your 'when' statement should be</p>\n<pre><code>when(remotecall.callAPI()).thenThrow(Exception.class); \n</code></pre>\n"}],"owner":{"account_id":16652013,"reputation":63,"user_id":12034595,"display_name":"WhiteFlower"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73990513,"answer_count":1,"score":0,"last_activity_date":1665519210,"creation_date":1665158117,"question_id":73989740,"body_markdown":"I am trying to test a service by using Mockito that made a remote call to external API. \r\nIf the call is fails, I should do some other operations. \r\nSO I mock the external remote call, and I use the following:\r\n\r\n    public class Service {\r\n    \r\n        private Remotecall remotecall;\r\n    \r\n        public void method1() {\r\n            try {\r\n                remotecall.callAPI();\r\n            } catch (Exception e) {\r\n                logMessage(&quot;Important Log message&quot;); // goes to another method to add somedata!\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class Remotecall {\r\n    \r\n        public void callAPI() {\r\n            try {\r\n    \r\n                callExternalAPI();\r\n            } catch (Exception e) {\r\n                throw new GenericException(&quot;some message&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nI tried to use this way:\r\n \r\n\r\n    when(remotecall.callAPI()).thenThrow(Exception.class);\r\n    AssertTrue(logmessage);\r\n\r\nThe test return null point exception!\r\n\r\nHow can I write a test in java using Mockito to test the value in the logMessage() method.\r\nIs it right to mock the remotecall class and inject callAPI()?","title":"Assert Values After Exception Happened with Mokito","body":"<p>I am trying to test a service by using Mockito that made a remote call to external API.\nIf the call is fails, I should do some other operations.\nSO I mock the external remote call, and I use the following:</p>\n<pre><code>public class Service {\n\n    private Remotecall remotecall;\n\n    public void method1() {\n        try {\n            remotecall.callAPI();\n        } catch (Exception e) {\n            logMessage(&quot;Important Log message&quot;); // goes to another method to add somedata!\n        }\n    }\n}\n\npublic class Remotecall {\n\n    public void callAPI() {\n        try {\n\n            callExternalAPI();\n        } catch (Exception e) {\n            throw new GenericException(&quot;some message&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I tried to use this way:</p>\n<pre><code>when(remotecall.callAPI()).thenThrow(Exception.class);\nAssertTrue(logmessage);\n</code></pre>\n<p>The test return null point exception!</p>\n<p>How can I write a test in java using Mockito to test the value in the logMessage() method.\nIs it right to mock the remotecall class and inject callAPI()?</p>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":3,"creation_date":1665430119,"post_id":74019849,"comment_id":130694094,"body_markdown":"You can set the &#39;Compiler compliance level&#39; in the Java Compiler section of the project Properties - that sets the level of Java to use.","body":"You can set the &#39;Compiler compliance level&#39; in the Java Compiler section of the project Properties - that sets the level of Java to use."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1665430435,"post_id":74019849,"comment_id":130694183,"body_markdown":"You create a JAR file from your Eclipse project and you create an installer to install the Java runtime, your JAR, and SQLite.","body":"You create a JAR file from your Eclipse project and you create an installer to install the Java runtime, your JAR, and SQLite."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1665465879,"post_id":74019849,"comment_id":130700376,"body_markdown":"I think the reason your question was downvoted is that it&#39;s not quite full. If you have already tried what you intended to do, why didn&#39;t you post the results? Any errors? Please provide specific information about that attempt and what didn&#39;t work as expected. To learn more about this community and how we can help you, please start with the tour and read [ask] and its linked resources","body":"I think the reason your question was downvoted is that it&#39;s not quite full. If you have already tried what you intended to do, why didn&#39;t you post the results? Any errors? Please provide specific information about that attempt and what didn&#39;t work as expected. To learn more about this community and how we can help you, please start with the tour and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1665516893,"post_id":74019849,"comment_id":130718059,"body_markdown":"compiled Java programs can usually run on any newer version of java, they usually even compile with newer versions  as well. What kind of error do you get when you try to run it on a new version?","body":"compiled Java programs can usually run on any newer version of java, they usually even compile with newer versions  as well. What kind of error do you get when you try to run it on a new version?"}],"owner":{"account_id":26583403,"reputation":21,"user_id":20207714,"display_name":"JonasSnell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1665518726,"creation_date":1665429949,"question_id":74019849,"body_markdown":"My application uses SQLite and the JDBC driver.When I export my .jar from Eclipse it doesn&#39;t run on my computer because it&#39;s on an older version of Java. I could downgrade Java, but then I can&#39;t have it run on other people&#39;s computers without them having to downgrade Java. I can&#39;t update compiler because SQLite and JDBC driver need an older version of Java.\r\n\r\nHow to have it runnable on any computer?","title":"Project compiled on an older version, how to have it runnable on any computer?","body":"<p>My application uses SQLite and the JDBC driver.When I export my .jar from Eclipse it doesn't run on my computer because it's on an older version of Java. I could downgrade Java, but then I can't have it run on other people's computers without them having to downgrade Java. I can't update compiler because SQLite and JDBC driver need an older version of Java.</p>\n<p>How to have it runnable on any computer?</p>\n"},{"tags":["python","java","optapy"],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665518705,"creation_date":1665518705,"answer_id":74033549,"question_id":74030316,"body_markdown":"From the error message, it appears the constraint stream use one version of `Shift`, and the domain model use a DIFFERENT version of `Shift`. Do not redefine or define multiple versions of entity classes/problem fact classes: they will be considered distinct from one another. Note `...domain.Shift...` (the one used by Constraint Streams) is different from `...shift_planning.domain.Shift...` (the one used by the domain). Either use `domain.Shift` in your Constraint Stream or use `shift_planning.domain.Shift` in your domain. ","title":"Optapy error at &quot;solver_manager_create(solver_config)&quot;","body":"<p>From the error message, it appears the constraint stream use one version of <code>Shift</code>, and the domain model use a DIFFERENT version of <code>Shift</code>. Do not redefine or define multiple versions of entity classes/problem fact classes: they will be considered distinct from one another. Note <code>...domain.Shift...</code> (the one used by Constraint Streams) is different from <code>...shift_planning.domain.Shift...</code> (the one used by the domain). Either use <code>domain.Shift</code> in your Constraint Stream or use <code>shift_planning.domain.Shift</code> in your domain.</p>\n"}],"owner":{"account_id":16282497,"reputation":49,"user_id":11758017,"display_name":"Kerem Tatlıcı"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74033549,"answer_count":1,"score":0,"last_activity_date":1665518705,"creation_date":1665500987,"question_id":74030316,"body_markdown":"I am trying to run solver_manager_create method as it shown in the quick start code in optapy repo (https://github.com/optapy/optapy-quickstarts/blob/04fd102ee31919cacc4145d0517fe07b2627ca02/employee-scheduling/services.py#L168)\r\n\r\n```\r\nSINGLETON_ID = 1\r\nsolver_config = optapy.config.solver.SolverConfig()\r\nsolver_config\\\r\n    .withSolutionClass(EmployeeSchedule)\\\r\n    .withEntityClasses(Shift)\\\r\n    .withConstraintProviderClass(employee_scheduling_constraints)\\\r\n    .withTerminationSpentLimit(Duration.ofSeconds(60))\r\n\r\n#error occurs in this line\r\nsolver_manager = solver_manager_create(solver_config)\r\n```\r\n\r\nBut i am receiving a java.lang.IllegalArgumentException error.\r\n\r\nFull Error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: java.lang.IllegalArgumentException: Cannot use class (org.optaplanner.optapy.generated.class6.domain.Shift.GeneratedClass) in a constraint stream as it is neither the same as, nor a superclass or superinterface of one of planning entities or problem facts.\r\nEnsure that all from(), join(), ifExists() and ifNotExists() building blocks only reference classes assignable from planning entities or problem facts ([org.optaplanner.optapy.generated.class0.shift_planning.domain.Employee.GeneratedClass, org.optaplanner.optapy.generated.class1.shift_planning.domain.ConstraintForTag.GeneratedClass, org.optaplanner.optapy.generated.class2.shift_planning.domain.Shift.GeneratedClass]) annotated on the planning solution (org.optaplanner.optapy.generated.class3.shift_planning.domain.EmployeeSchedule.GeneratedClass).\r\n```\r\n\r\nwhat am i missing?\r\n","title":"Optapy error at &quot;solver_manager_create(solver_config)&quot;","body":"<p>I am trying to run solver_manager_create method as it shown in the quick start code in optapy repo (<a href=\"https://github.com/optapy/optapy-quickstarts/blob/04fd102ee31919cacc4145d0517fe07b2627ca02/employee-scheduling/services.py#L168\" rel=\"nofollow noreferrer\">https://github.com/optapy/optapy-quickstarts/blob/04fd102ee31919cacc4145d0517fe07b2627ca02/employee-scheduling/services.py#L168</a>)</p>\n<pre><code>SINGLETON_ID = 1\nsolver_config = optapy.config.solver.SolverConfig()\nsolver_config\\\n    .withSolutionClass(EmployeeSchedule)\\\n    .withEntityClasses(Shift)\\\n    .withConstraintProviderClass(employee_scheduling_constraints)\\\n    .withTerminationSpentLimit(Duration.ofSeconds(60))\n\n#error occurs in this line\nsolver_manager = solver_manager_create(solver_config)\n</code></pre>\n<p>But i am receiving a java.lang.IllegalArgumentException error.</p>\n<p>Full Error:</p>\n<pre><code>java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: Cannot use class (org.optaplanner.optapy.generated.class6.domain.Shift.GeneratedClass) in a constraint stream as it is neither the same as, nor a superclass or superinterface of one of planning entities or problem facts.\nEnsure that all from(), join(), ifExists() and ifNotExists() building blocks only reference classes assignable from planning entities or problem facts ([org.optaplanner.optapy.generated.class0.shift_planning.domain.Employee.GeneratedClass, org.optaplanner.optapy.generated.class1.shift_planning.domain.ConstraintForTag.GeneratedClass, org.optaplanner.optapy.generated.class2.shift_planning.domain.Shift.GeneratedClass]) annotated on the planning solution (org.optaplanner.optapy.generated.class3.shift_planning.domain.EmployeeSchedule.GeneratedClass).\n</code></pre>\n<p>what am i missing?</p>\n"},{"tags":["java","android","printing","windev","sunmi"],"comments":[{"owner":{"account_id":5977033,"reputation":125,"user_id":4697506,"display_name":"Rastislav Struh&#225;r"},"score":0,"creation_date":1665406917,"post_id":68794777,"comment_id":130686104,"body_markdown":"Hi, i wave similar issue, did u managed how to print on sunmi k2 ? THANKS","body":"Hi, i wave similar issue, did u managed how to print on sunmi k2 ? THANKS"},{"owner":{"account_id":14467128,"reputation":51,"user_id":10450150,"display_name":"Harvey68"},"score":1,"creation_date":1665518624,"post_id":68794777,"comment_id":130718642,"body_markdown":"I edited my question, hope it can help you.","body":"I edited my question, hope it can help you."},{"owner":{"account_id":14467128,"reputation":51,"user_id":10450150,"display_name":"Harvey68"},"score":0,"creation_date":1665519406,"post_id":68794777,"comment_id":130718878,"body_markdown":"All inside WinDev Mobile 27, create a global procedure, switch above from WL to JAVA, then call the PrintToSunmiPrinter from WinDev Mobile with the data attached. You need to send ESC/POS commands, no iPrint or so...","body":"All inside WinDev Mobile 27, create a global procedure, switch above from WL to JAVA, then call the PrintToSunmiPrinter from WinDev Mobile with the data attached. You need to send ESC/POS commands, no iPrint or so..."}],"owner":{"account_id":14467128,"reputation":51,"user_id":10450150,"display_name":"Harvey68"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665518595,"creation_date":1629055836,"question_id":68794777,"body_markdown":"I&#39;m using a Sunmi K2 POS Checkout Terminal running with Android 7.1.2\r\n\r\nI&#39;m developing a POS software with WinDev for Mobile 26, I&#39;m already displaying some windows, now the question is, how can I print on the build-in pos printer??\r\n\r\nThere is a print-test app on the kiosk installed, this works fine.\r\n\r\nIn the settings there is a printer settings too, but this says &quot;no device installed&quot;...\r\n\r\nIn the documentation there is a &quot;AIDL interface&quot; mentioned...\r\n\r\nAnd more, there is a API sample written:\r\n\r\nBound Service\r\n\r\n    Intent intent = new Intent();\r\n    intent.setPackage(&quot;com.sunmi.extprinterservice&quot;);\r\n    intent.setAction(&quot;com.sunmi.extprinterservice.PrinterService&quot;);\r\n    bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE);\r\n\r\nIt is necessary to establish a new ServiceConnection service to bind the callback\r\n\r\n    ServiceConnection serviceConnection = new ServiceConnection() {\r\n    @Override public void onServiceConnected(ComponentName name, IBinder service) {\r\n    ExtPrinterService ext = ExtPrinterService.Stub.asInterface(service);\r\n    }\r\n    @Override public void onServiceDisconnected(ComponentName name) { }\r\n    };\r\n\r\nUse ext object to realize one’s own printing task\r\n\r\n    ext.printText(“123456\\n”);\r\n\r\nUnbind the service after the completion of the usage\r\n\r\n    unbindService(serviceConnection);\r\n\r\nQuestion is, how can I use this Java code in WinDev Mobile??\r\n\r\nEDIT:\r\n\r\nI managed to print to the printer, but there is a small bug, so sometime it doesn&#39;t start immediatly, so therefore is the loop...\r\n\r\n    import android.content.ComponentName;\r\n    import android.content.Context;\r\n    import static android.content.Context.BIND_AUTO_CREATE;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.content.Intent;\r\n    import android.content.ServiceConnection;\r\n    import android.os.IBinder;\r\n    import android.widget.Toast;\r\n    import com.sunmi.extprinterservice.ExtPrinterService;\r\n    \r\n    public static void PrintToSunmiPrinter(byte[] cmd) {\r\n    \t\r\n    \tgetCurrentActivity();\r\n    \tContext context = getApplicationContext();\r\n    \tExtPrinterService ext;\r\n    \t\r\n    \tServiceConnection serviceConnection = new ServiceConnection() {\r\n    \t\t@Override public void onServiceConnected(ComponentName className, IBinder service) {\r\n    \t\t\t// This is called when the connection with the service has been\r\n    \t\t\t// established, giving us the service object we can use to\r\n    \t\t\t// interact with the service.  Because we have bound to a explicit\r\n    \t\t\t// service that we know is running in our own process, we can\r\n    \t\t\t// cast its IBinder to a concrete class and directly access it.\r\n    \t\t\ttry {\r\n    \r\n    \t\t\t\tExtPrinterService ext = ExtPrinterService.Stub.asInterface(service);\r\n    \t\t\t\tint ret_code;\r\n    \t\t\t\tint zz=0;\r\n    \t\t\t\t\r\n    \t\t\t\tret_code=ext.printerInit();\r\n    \t\t\t\twhile(ret_code==-1){\r\n    \t\t\t\t\tzz++;\r\n    \t\t\t\t\tif (zz&gt;100) { Toast.makeText(context, &quot;ERROR! / &quot;+ret_code, Toast.LENGTH_SHORT).show(); break; }\r\n    \t\t\t\t\tret_code=ext.printerInit();\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\text.sendRawData(cmd);\r\n    \t\t\t\text.cutPaper(1, 0);\r\n    \t\t\t\text.flush();\r\n    \t\t\t}  catch(Exception ex){\r\n    \t\t\t\tToast.makeText(getApplicationContext(), &quot;ERROR! &quot;+ex.getMessage(), Toast.LENGTH_SHORT).show();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override public void onServiceDisconnected(ComponentName className) {\r\n    \t\t\t// This is called when the connection with the service has been\r\n    \t\t\t// unexpectedly disconnected -- that is, its process crashed.\r\n    \t\t\t// Because it is running in our same process, we should never\r\n    \t\t\t// see this happen.\r\n    \t\t}\r\n    \t};\r\n    \t\r\n    \tIntent intent = new Intent();\r\n    \tintent.setPackage(&quot;com.sunmi.extprinterservice&quot;);\r\n    \tintent.setAction(&quot;com.sunmi.extprinterservice.PrinterService&quot;);\r\n    \tcontext.bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE);\r\n    }\r\n\r\n\r\n","title":"On a Sunmi K2 Terminal how can I print (on the build-in printer) something using WinDev Mobile?","body":"<p>I'm using a Sunmi K2 POS Checkout Terminal running with Android 7.1.2</p>\n<p>I'm developing a POS software with WinDev for Mobile 26, I'm already displaying some windows, now the question is, how can I print on the build-in pos printer??</p>\n<p>There is a print-test app on the kiosk installed, this works fine.</p>\n<p>In the settings there is a printer settings too, but this says &quot;no device installed&quot;...</p>\n<p>In the documentation there is a &quot;AIDL interface&quot; mentioned...</p>\n<p>And more, there is a API sample written:</p>\n<p>Bound Service</p>\n<pre><code>Intent intent = new Intent();\nintent.setPackage(&quot;com.sunmi.extprinterservice&quot;);\nintent.setAction(&quot;com.sunmi.extprinterservice.PrinterService&quot;);\nbindService(intent, serviceConnection, Context.BIND_AUTO_CREATE);\n</code></pre>\n<p>It is necessary to establish a new ServiceConnection service to bind the callback</p>\n<pre><code>ServiceConnection serviceConnection = new ServiceConnection() {\n@Override public void onServiceConnected(ComponentName name, IBinder service) {\nExtPrinterService ext = ExtPrinterService.Stub.asInterface(service);\n}\n@Override public void onServiceDisconnected(ComponentName name) { }\n};\n</code></pre>\n<p>Use ext object to realize one’s own printing task</p>\n<pre><code>ext.printText(“123456\\n”);\n</code></pre>\n<p>Unbind the service after the completion of the usage</p>\n<pre><code>unbindService(serviceConnection);\n</code></pre>\n<p>Question is, how can I use this Java code in WinDev Mobile??</p>\n<p>EDIT:</p>\n<p>I managed to print to the printer, but there is a small bug, so sometime it doesn't start immediatly, so therefore is the loop...</p>\n<pre><code>import android.content.ComponentName;\nimport android.content.Context;\nimport static android.content.Context.BIND_AUTO_CREATE;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.content.Intent;\nimport android.content.ServiceConnection;\nimport android.os.IBinder;\nimport android.widget.Toast;\nimport com.sunmi.extprinterservice.ExtPrinterService;\n\npublic static void PrintToSunmiPrinter(byte[] cmd) {\n    \n    getCurrentActivity();\n    Context context = getApplicationContext();\n    ExtPrinterService ext;\n    \n    ServiceConnection serviceConnection = new ServiceConnection() {\n        @Override public void onServiceConnected(ComponentName className, IBinder service) {\n            // This is called when the connection with the service has been\n            // established, giving us the service object we can use to\n            // interact with the service.  Because we have bound to a explicit\n            // service that we know is running in our own process, we can\n            // cast its IBinder to a concrete class and directly access it.\n            try {\n\n                ExtPrinterService ext = ExtPrinterService.Stub.asInterface(service);\n                int ret_code;\n                int zz=0;\n                \n                ret_code=ext.printerInit();\n                while(ret_code==-1){\n                    zz++;\n                    if (zz&gt;100) { Toast.makeText(context, &quot;ERROR! / &quot;+ret_code, Toast.LENGTH_SHORT).show(); break; }\n                    ret_code=ext.printerInit();\n                }\n                \n                ext.sendRawData(cmd);\n                ext.cutPaper(1, 0);\n                ext.flush();\n            }  catch(Exception ex){\n                Toast.makeText(getApplicationContext(), &quot;ERROR! &quot;+ex.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        }\n        \n        @Override public void onServiceDisconnected(ComponentName className) {\n            // This is called when the connection with the service has been\n            // unexpectedly disconnected -- that is, its process crashed.\n            // Because it is running in our same process, we should never\n            // see this happen.\n        }\n    };\n    \n    Intent intent = new Intent();\n    intent.setPackage(&quot;com.sunmi.extprinterservice&quot;);\n    intent.setAction(&quot;com.sunmi.extprinterservice.PrinterService&quot;);\n    context.bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE);\n}\n</code></pre>\n"},{"tags":["java","git"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1665516178,"post_id":74033068,"comment_id":130717856,"body_markdown":"I wonder.. the files that you changed - they use _your_ formatting settings. Do you commit those as is disregarding the team&#39;s conventions or do you go into trouble changing the formatting to the one the team prefers?","body":"I wonder.. the files that you changed - they use <i>your</i> formatting settings. Do you commit those as is disregarding the team&#39;s conventions or do you go into trouble changing the formatting to the one the team prefers?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1665516351,"post_id":74033068,"comment_id":130717891,"body_markdown":"BTW, this is where the Tab guys would say &quot;we told you so&quot; :)","body":"BTW, this is where the Tab guys would say &quot;we told you so&quot; :)"},{"owner":{"account_id":18321667,"reputation":158,"user_id":13342296,"display_name":"bbnt"},"score":0,"creation_date":1665516876,"post_id":74033068,"comment_id":130718052,"body_markdown":"The merge errors happen when I&#39;m rebasing to discard my formatting commit but include the rest of the commits that I&#39;ve made (the actual changes). So while I&#39;m switching back to my teams formatting.","body":"The merge errors happen when I&#39;m rebasing to discard my formatting commit but include the rest of the commits that I&#39;ve made (the actual changes). So while I&#39;m switching back to my teams formatting."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1665517121,"post_id":74033068,"comment_id":130718125,"body_markdown":"I get that. But the real changes - they will use your formatting too. So even though you discard the extra formatting-only-commit, you want the real changes to stay - which formatting are you going to expect for those? Are you going to reformat them manually to follow the team&#39;s conventions?","body":"I get that. But the real changes - they will use your formatting too. So even though you discard the extra formatting-only-commit, you want the real changes to stay - which formatting are you going to expect for those? Are you going to reformat them manually to follow the team&#39;s conventions?"},{"owner":{"account_id":18321667,"reputation":158,"user_id":13342296,"display_name":"bbnt"},"score":0,"creation_date":1665517274,"post_id":74033068,"comment_id":130718162,"body_markdown":"Yes right now the files w real changes all have merge conflicts after I rebase so I resolve each one manually and reset to the teams format before pushing to remote. Its a pain in the ass but I don&#39;t ever push my formatting to remote.","body":"Yes right now the files w real changes all have merge conflicts after I rebase so I resolve each one manually and reset to the teams format before pushing to remote. Its a pain in the ass but I don&#39;t ever push my formatting to remote."}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665518389,"creation_date":1665518389,"answer_id":74033493,"question_id":74033068,"body_markdown":"If you pass `-X theirs` during rebasing (or merge, or cherry-pick), it&#39;ll automatically resolve merge conflicts by choosing the changes you made. So the full syntax:\r\n\r\n```\r\ngit rebase -i [commit before formatting] -X theirs\r\n```\r\n\r\nThen you&#39;ll still need to update the files that you actually changed to use the team&#39;s conventions.","title":"Remove formatting commit from branch before pushing to remote without ugly merge conflicts","body":"<p>If you pass <code>-X theirs</code> during rebasing (or merge, or cherry-pick), it'll automatically resolve merge conflicts by choosing the changes you made. So the full syntax:</p>\n<pre><code>git rebase -i [commit before formatting] -X theirs\n</code></pre>\n<p>Then you'll still need to update the files that you actually changed to use the team's conventions.</p>\n"}],"owner":{"account_id":18321667,"reputation":158,"user_id":13342296,"display_name":"bbnt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665518389,"creation_date":1665515822,"question_id":74033068,"body_markdown":"I&#39;m working on a java project that uses two spaces as indent but I&#39;ve always used 4 spaces and find it much more readable. I&#39;d like a way to change my code to 4 indents (along w other minor styling changes provided by IntelliJ) while I&#39;m working on it but then discard those changes when I push to remote so that my PR doesn&#39;t show that I changed all of the files in the project and the rest of the team can keep their styling. What I&#39;ve been doing is having an initial formatting commit when I create a new branch, doing my work and making more commits, and then using &#39;git rebase -i&#39; to delete this initial commit. This works for files that I haven&#39;t edited in later commits but if I edit the files, it gives me some messy merge conflicts. Is there a better system to do this?\r\n\r\nOne other option I looked at was using the ignore blame rev but that doesn&#39;t actually change the code, it just changes the blame for the commit (so you can still see the original author) which isn&#39;t what I&#39;m looking for. ","title":"Remove formatting commit from branch before pushing to remote without ugly merge conflicts","body":"<p>I'm working on a java project that uses two spaces as indent but I've always used 4 spaces and find it much more readable. I'd like a way to change my code to 4 indents (along w other minor styling changes provided by IntelliJ) while I'm working on it but then discard those changes when I push to remote so that my PR doesn't show that I changed all of the files in the project and the rest of the team can keep their styling. What I've been doing is having an initial formatting commit when I create a new branch, doing my work and making more commits, and then using 'git rebase -i' to delete this initial commit. This works for files that I haven't edited in later commits but if I edit the files, it gives me some messy merge conflicts. Is there a better system to do this?</p>\n<p>One other option I looked at was using the ignore blame rev but that doesn't actually change the code, it just changes the blame for the commit (so you can still see the original author) which isn't what I'm looking for.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9118538,"reputation":319,"user_id":6784846,"display_name":"Annamalai Palanikumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664824357,"creation_date":1664824357,"answer_id":73939812,"question_id":73806804,"body_markdown":"This might be the answer to your question:\r\n\r\n    public static Specification&lt;OrderEntity&gt; addReference(List&lt;String&gt; orderTypes, List&lt;String&gt; refNums) {\r\n            return (root, query, builder) -&gt; {\r\n                if (null != orderTypes &amp;&amp; !orderTypes.isEmpty() &amp;&amp; null != refNums &amp;&amp; !refNums.isEmpty()) {\r\n                    Join&lt;OrderEntity, OrderDetailEntity&gt; orderSearchJoin =\r\n                            root.join(OrderEntity_.orderDetailEntityList);\r\n                    query.distinct(true);\r\n                    return builder.and(orderSearchJoin.get(OrderDetailEntity_.orderType).in(orderTypes),\r\n                            orderSearchJoin.get(OrderDetailEntity_.referenceNum).in(refNums));\r\n                } else {\r\n                    return null;\r\n                }\r\n            };\r\n        }\r\n\r\nReference:\r\n\r\nhttps://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Join.html\r\nhttps://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html","title":"Add IN clause to join specification","body":"<p>This might be the answer to your question:</p>\n<pre><code>public static Specification&lt;OrderEntity&gt; addReference(List&lt;String&gt; orderTypes, List&lt;String&gt; refNums) {\n        return (root, query, builder) -&gt; {\n            if (null != orderTypes &amp;&amp; !orderTypes.isEmpty() &amp;&amp; null != refNums &amp;&amp; !refNums.isEmpty()) {\n                Join&lt;OrderEntity, OrderDetailEntity&gt; orderSearchJoin =\n                        root.join(OrderEntity_.orderDetailEntityList);\n                query.distinct(true);\n                return builder.and(orderSearchJoin.get(OrderDetailEntity_.orderType).in(orderTypes),\n                        orderSearchJoin.get(OrderDetailEntity_.referenceNum).in(refNums));\n            } else {\n                return null;\n            }\n        };\n    }\n</code></pre>\n<p>Reference:</p>\n<p><a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Join.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Join.html</a>\n<a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html</a></p>\n"}],"owner":{"account_id":26406069,"reputation":11,"user_id":20055836,"display_name":"kalaparthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665518240,"creation_date":1663793431,"question_id":73806804,"body_markdown":"Here is the existing code and I need to pass the List of order types instead of one orderType. And this specification is already added to the `WHERE` clause of the existing search query. \r\n\r\nHow to modify the existing specification for the `IN` clause?\r\n\r\n```\r\npublic static Specification&lt;OrderEntity&gt; addReference(String orderType, String refNum) {\r\n  return (root, query, builder) -&gt; {\r\n    if (null != refType &amp;&amp; null != refNum) {\r\n      Join&lt;OrderEntity, OrderDetailEntity&gt; orderSearchJoin =\r\n                root.join(OrderEntity_.orderDetailEntityList);\r\n      query.distinct(true);      \r\n      return builder.and(\r\n                builder.equal(orderSearchJoin.get(OrderDetailEntity_.orderType), orderType),\r\n                builder.equal(orderSearchJoin.get(OrderDetailEntity_.referenceNum), refNum));\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n}\r\n```","title":"Add IN clause to join specification","body":"<p>Here is the existing code and I need to pass the List of order types instead of one orderType. And this specification is already added to the <code>WHERE</code> clause of the existing search query.</p>\n<p>How to modify the existing specification for the <code>IN</code> clause?</p>\n<pre><code>public static Specification&lt;OrderEntity&gt; addReference(String orderType, String refNum) {\n  return (root, query, builder) -&gt; {\n    if (null != refType &amp;&amp; null != refNum) {\n      Join&lt;OrderEntity, OrderDetailEntity&gt; orderSearchJoin =\n                root.join(OrderEntity_.orderDetailEntityList);\n      query.distinct(true);      \n      return builder.and(\n                builder.equal(orderSearchJoin.get(OrderDetailEntity_.orderType), orderType),\n                builder.equal(orderSearchJoin.get(OrderDetailEntity_.referenceNum), refNum));\n    } else {\n      return null;\n    }\n  };\n}\n</code></pre>\n"},{"tags":["java","openoffice-writer","odftoolkit","odfdom"],"comments":[{"owner":{"account_id":7561520,"reputation":129,"user_id":5738901,"accept_rate":25,"display_name":"j-dimension"},"score":0,"creation_date":1682289154,"post_id":73909144,"comment_id":134187587,"body_markdown":"did you ever find a solution to this issue? I am running into the same.","body":"did you ever find a solution to this issue? I am running into the same."}],"owner":{"account_id":26492574,"reputation":11,"user_id":20130811,"display_name":"bale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665518193,"creation_date":1664542604,"question_id":73909144,"body_markdown":"I couldn&#39;t find a way to copy the header from an OpenOffice writer doc to another with ODFDOM.  \r\nI tried this:\r\n```\r\nTextDocument docIntestazione = TextDocument.loadDocument(&quot;intestazione.odt&quot;);//the file with only the header\r\nTextDocument docBody = TextDocument.loadDocument(&quot;body.odt&quot;);//the file with another header which has to be replaced\r\nHeader headerBody = docBody.getHeader();\r\nHeader headerIntestazione = docIntestazione.getHeader();\r\nStyleHeaderElement styleHeaderIntestazione =  headerIntestazione.getOdfElement();\r\ndocBody.insertOdfElement(headerBody.getOdfElement(), (Document)docIntestazione, (OdfElement)styleHeaderIntestazione, true);\r\n```\r\nBut `insertOdfElement` method returns null and does nothing.\r\n\r\nI also tried:\r\n```\r\nStyleHeaderElement styleHeaderBody =  headerBody.getOdfElement();\r\nStyleHeaderElement clone = (StyleHeaderElement)styleHeaderIntestazione.cloneNode(true);\r\nstyleHeaderBody.removeChild(styleHeaderBody.getFirstChild());//it works. It removes the table that in my case is the only child of the header which has to be replaced\r\nstyleHeaderBody.appendChild(clone);\r\n```\r\nBut I get this exception:\r\n&gt; org.w3c.dom.DOMException: WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.\r\n\r\nFor org.w3c.dom.Document there is an `importNode` method, but I couldn&#39;t find it for `org.odftoolkit.simple.TextDocument`\r\n\r\n","title":"Java Odftoolkit: Copy header (with its style, tables etc) from an OpenOffice writer doc to another with ODFDOM","body":"<p>I couldn't find a way to copy the header from an OpenOffice writer doc to another with ODFDOM.<br />\nI tried this:</p>\n<pre><code>TextDocument docIntestazione = TextDocument.loadDocument(&quot;intestazione.odt&quot;);//the file with only the header\nTextDocument docBody = TextDocument.loadDocument(&quot;body.odt&quot;);//the file with another header which has to be replaced\nHeader headerBody = docBody.getHeader();\nHeader headerIntestazione = docIntestazione.getHeader();\nStyleHeaderElement styleHeaderIntestazione =  headerIntestazione.getOdfElement();\ndocBody.insertOdfElement(headerBody.getOdfElement(), (Document)docIntestazione, (OdfElement)styleHeaderIntestazione, true);\n</code></pre>\n<p>But <code>insertOdfElement</code> method returns null and does nothing.</p>\n<p>I also tried:</p>\n<pre><code>StyleHeaderElement styleHeaderBody =  headerBody.getOdfElement();\nStyleHeaderElement clone = (StyleHeaderElement)styleHeaderIntestazione.cloneNode(true);\nstyleHeaderBody.removeChild(styleHeaderBody.getFirstChild());//it works. It removes the table that in my case is the only child of the header which has to be replaced\nstyleHeaderBody.appendChild(clone);\n</code></pre>\n<p>But I get this exception:</p>\n<blockquote>\n<p>org.w3c.dom.DOMException: WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.</p>\n</blockquote>\n<p>For org.w3c.dom.Document there is an <code>importNode</code> method, but I couldn't find it for <code>org.odftoolkit.simple.TextDocument</code></p>\n"},{"tags":["java","eclipse","algorithm"],"comments":[{"owner":{"account_id":19900483,"reputation":11,"user_id":14580580,"display_name":"leomarrg1"},"score":0,"creation_date":1665518236,"post_id":74033460,"comment_id":130718505,"body_markdown":"Or is it that the algorithm takes too long to finish because of the array sizes?","body":"Or is it that the algorithm takes too long to finish because of the array sizes?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1665518327,"post_id":74033460,"comment_id":130718541,"body_markdown":"`n =+ 5000` at the top of  your main loop - that doesn&#39;t look right.","body":"<code>n =+ 5000</code> at the top of  your main loop - that doesn&#39;t look right."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":1,"creation_date":1665518689,"post_id":74033460,"comment_id":130718661,"body_markdown":"Yes, it should be `n += 5000` or `n = n+5000`. What you are doing is `n = (+5000)`, i.e. you are assigning the value 5000 to `n` after each iteration.","body":"Yes, it should be <code>n += 5000</code> or <code>n = n+5000</code>. What you are doing is <code>n = (+5000)</code>, i.e. you are assigning the value 5000 to <code>n</code> after each iteration."},{"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"score":0,"creation_date":1665555292,"post_id":74033460,"comment_id":130725007,"body_markdown":"`for(int n = 5000; n &lt;= 50000; n =+ 5000) {  arrsize = n;...`","body":"<code>for(int n = 5000; n &lt;= 50000; n =+ 5000) {  arrsize = n;...</code>"}],"owner":{"account_id":19900483,"reputation":11,"user_id":14580580,"display_name":"leomarrg1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665518180,"creation_date":1665518180,"question_id":74033460,"body_markdown":"    NUMSEXP = 10\r\n    for n in 5000, 10000, 15000 ... 50000\r\n    totalTime = 0;\r\n    \tfor i in 1 ... NUMSEXP\r\n    \t\tA &lt;- new array of n random numbers from 1 to 10*n \r\n    \t\tstartTime &lt;- get currentTime\r\n    \t\tinversions &lt;- countInversions and Sort\r\n    \t\tendTime &lt;- end time\r\n    \t\ttotalTime &lt;- totalTime + (endTime + startTime)\r\n    \tprint n, totalTime/NUMSEXP\r\n\r\nI&#39;m trying to implement the algorithm above using this code but i&#39;m having trouble creating the for loop that changes the array size from 5000 to 10000 until 50000.\r\nI already have the part that makes the algorithm runs 10 times and counts the inversion with the timers. This is the code i have, it keeps running an infinite loop.\r\n\r\n    for(int n = 0; n &lt; 50000; n =+ 5000) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//primer inicializador de array con numeros random\r\n\t\t\t\t\t\tfor(int i = 0; i &lt; arrSize; i++) {\r\n\t\t\t\t\t\t\tarr[i] = (int) (Math.random() * (10 * arrSize));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//para verificar si el algoritmo corre 10 veces\r\n\t\t\t\t\t\tint count = 1;\r\n\t\t\t\t\t\t//corre el algoritmo 10 veces\r\n\t\t\t\t\t\tfor(int j = 0; j &lt; NUMSEXP; j++) {\r\n\t\t\t\t\t\t\t//inicializa array con numeros random\r\n\t\t\t\t\t\t\tfor(int i = 0; i &lt; arrSize; i++) {\r\n\t\t\t\t\t\t\t\tarr[i] = (int) (Math.random() * (10 * arrSize));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlong srtTime = System.nanoTime();\r\n\t\t\t\t\t\t\t//corre algoritmo\r\n\t\t\t\t\t\t\tint inversionCount = countInversionAndSort(arr, 0, arr.length-1);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//termina de contar en nano segundos cuanto se tarda en correr el algoritmo\r\n\t\t\t\t\t\t\tlong ndTime = System.nanoTime();\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//imprime cuantas veces conto el algoritmo\r\n\t\t\t\t\t\t\tSystem.out.println(count++ + &quot; Inversion Count: &quot; + inversionCount);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//imprime cuanto tiempo se tardo el algoritmo en completar\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Elapsed Time in Nano seconds: &quot;+ (ndTime-srtTime) + &quot;\\n \\n&quot;);\r\n\r\n\t\t\t\t\t}\t\r\n\t\t\t\t}","title":"How to implement this algorithm to counting inversions in different array sizes?","body":"<pre><code>NUMSEXP = 10\nfor n in 5000, 10000, 15000 ... 50000\ntotalTime = 0;\n    for i in 1 ... NUMSEXP\n        A &lt;- new array of n random numbers from 1 to 10*n \n        startTime &lt;- get currentTime\n        inversions &lt;- countInversions and Sort\n        endTime &lt;- end time\n        totalTime &lt;- totalTime + (endTime + startTime)\n    print n, totalTime/NUMSEXP\n</code></pre>\n<p>I'm trying to implement the algorithm above using this code but i'm having trouble creating the for loop that changes the array size from 5000 to 10000 until 50000.\nI already have the part that makes the algorithm runs 10 times and counts the inversion with the timers. This is the code i have, it keeps running an infinite loop.</p>\n<pre><code>for(int n = 0; n &lt; 50000; n =+ 5000) {\n                \n                    //primer inicializador de array con numeros random\n                    for(int i = 0; i &lt; arrSize; i++) {\n                        arr[i] = (int) (Math.random() * (10 * arrSize));\n                    }\n                    //para verificar si el algoritmo corre 10 veces\n                    int count = 1;\n                    //corre el algoritmo 10 veces\n                    for(int j = 0; j &lt; NUMSEXP; j++) {\n                        //inicializa array con numeros random\n                        for(int i = 0; i &lt; arrSize; i++) {\n                            arr[i] = (int) (Math.random() * (10 * arrSize));\n                        }\n                        \n                        long srtTime = System.nanoTime();\n                        //corre algoritmo\n                        int inversionCount = countInversionAndSort(arr, 0, arr.length-1);\n                                    \n                        //termina de contar en nano segundos cuanto se tarda en correr el algoritmo\n                        long ndTime = System.nanoTime();\n                                    \n                        //imprime cuantas veces conto el algoritmo\n                        System.out.println(count++ + &quot; Inversion Count: &quot; + inversionCount);\n                                    \n                        //imprime cuanto tiempo se tardo el algoritmo en completar\n                        System.out.println(&quot;Elapsed Time in Nano seconds: &quot;+ (ndTime-srtTime) + &quot;\\n \\n&quot;);\n\n                }   \n            }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":2,"creation_date":1665446116,"post_id":74021677,"comment_id":130697650,"body_markdown":"`return new String[]{&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;}[value % 13];`","body":"<code>return new String[]{&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;}[value % 13];</code>"},{"owner":{"account_id":22466920,"reputation":321,"user_id":16667945,"display_name":"AbdullahSaidAbdeaaziz"},"score":0,"creation_date":1665446500,"post_id":74021677,"comment_id":130697695,"body_markdown":"[Check this](https://stackoverflow.com/questions/28049094/replacing-if-else-statement-with-pattern) for multiple methods.","body":"<a href=\"https://stackoverflow.com/questions/28049094/replacing-if-else-statement-with-pattern\">Check this</a> for multiple methods."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665447513,"post_id":74021677,"comment_id":130697839,"body_markdown":"There are much nicer solutions but a switch expression would already reduce the repetition quite a lot: https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html `return switch (rank) { case 0 -&gt; &quot;2&quot;; case 1 -&gt; &quot;3&quot;;  ... }`","body":"There are much nicer solutions but a switch expression would already reduce the repetition quite a lot: <a href=\"https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/13/language/&hellip;</a> <code>return switch (rank) { case 0 -&gt; &quot;2&quot;; case 1 -&gt; &quot;3&quot;;  ... }</code>"}],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665446354,"creation_date":1665446354,"answer_id":74021721,"question_id":74021677,"body_markdown":"Seems you can do:\r\n\r\n    if (rank &lt; 9) {\r\n      return String.valueOf(rank + 2);\r\n    }\r\n    // handle rest individually","title":"how can I make an int rank based on cards into an Array that will return string values?","body":"<p>Seems you can do:</p>\n<pre><code>if (rank &lt; 9) {\n  return String.valueOf(rank + 2);\n}\n// handle rest individually\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665447208,"creation_date":1665446620,"answer_id":74021734,"question_id":74021677,"body_markdown":"For the rank, you can set your string values in a `List` with [`List.of`][3] and use `rank` as an index into the list.\r\n\r\n    private static final List&lt;String&gt; ranks = List.of(\r\n        &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;, &quot;A&quot;);\r\n\r\nThen in the `getVal` method:\r\n\r\n    return ranks.get(rank);\r\n\r\nFor the suit, you need to map a `String` to another `String`, using [`Map.of`][1].\r\n\r\n    private static final Map&lt;String, String&gt; suits = Map.of(\r\n        &quot;spade&quot;, &quot;\\u2660&quot;, &quot;club&quot;, &quot;\\u2663&quot;, &quot;heart&quot;, &quot;\\u2665&quot;, &quot;diamond&quot;, &quot;\\u2666&quot;);\r\n\r\nThen in the `getSuit` method:\r\n\r\n    return suits.getOrDefault(suit.toLowerCase(), &quot;&quot;);\r\n\r\nThe [`getOrDefault` method][2] returns an alternative value in case the mapping doesn&#39;t exist, which appears to be what your code is doing after your if-else if block.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V)\r\n[2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)\r\n[3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E...)","title":"how can I make an int rank based on cards into an Array that will return string values?","body":"<p>For the rank, you can set your string values in a <code>List</code> with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E...)\" rel=\"nofollow noreferrer\"><code>List.of</code></a> and use <code>rank</code> as an index into the list.</p>\n<pre><code>private static final List&lt;String&gt; ranks = List.of(\n    &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;, &quot;A&quot;);\n</code></pre>\n<p>Then in the <code>getVal</code> method:</p>\n<pre><code>return ranks.get(rank);\n</code></pre>\n<p>For the suit, you need to map a <code>String</code> to another <code>String</code>, using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V)\" rel=\"nofollow noreferrer\"><code>Map.of</code></a>.</p>\n<pre><code>private static final Map&lt;String, String&gt; suits = Map.of(\n    &quot;spade&quot;, &quot;\\u2660&quot;, &quot;club&quot;, &quot;\\u2663&quot;, &quot;heart&quot;, &quot;\\u2665&quot;, &quot;diamond&quot;, &quot;\\u2666&quot;);\n</code></pre>\n<p>Then in the <code>getSuit</code> method:</p>\n<pre><code>return suits.getOrDefault(suit.toLowerCase(), &quot;&quot;);\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)\" rel=\"nofollow noreferrer\"><code>getOrDefault</code> method</a> returns an alternative value in case the mapping doesn't exist, which appears to be what your code is doing after your if-else if block.</p>\n"}],"owner":{"account_id":26329622,"reputation":1,"user_id":19990326,"display_name":"Adam Lenarduzzi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665518143,"creation_date":1665445639,"question_id":74021677,"body_markdown":"I&#39;m trying to clean up code so a selection of values pertaining to a deck of cards rank is an array, I was able to accomplish this with suits, though I can not seem to accomplish it with rank. I simply want to type this out in a way where it will return the same values but not take up so many lines, preferably through an array or linked list. \r\n\r\n```java\r\n  public String toString() {\r\n    return getVal() + getSuit();\r\n  }\r\n\r\n  public String getVal() {\r\n    int rank = value % 13;\r\n\r\n    if (rank == 0) return &quot;2&quot;; else if (rank == 1) return &quot;3&quot;; else if (\r\n      rank == 2\r\n    ) return &quot;4&quot;; else if (rank == 3) return &quot;5&quot;; else if (\r\n      rank == 4\r\n    ) return &quot;6&quot;; else if (rank == 5) return &quot;7&quot;; else if (\r\n      rank == 6\r\n    ) return &quot;8&quot;; else if (rank == 7) return &quot;9&quot;; else if (\r\n      rank == 8\r\n    ) return &quot;10&quot;; else if (rank == 9) return &quot;J&quot;; else if (\r\n      rank == 10\r\n    ) return &quot;Q&quot;; else if (rank == 11) return &quot;K&quot;; else return &quot;A&quot;;\r\n  }\r\n\r\n  public String getSuit() {\r\n    if (suit.toLowerCase().contains(&quot;spade&quot;)) {\r\n      return &quot;\\u2660&quot;;\r\n    } else if (suit.toLowerCase().contains(&quot;club&quot;)) {\r\n      return &quot;\\u2663&quot;;\r\n    } else if (suit.toLowerCase().contains(&quot;heart&quot;)) {\r\n      return &quot;\\u2665&quot;;\r\n    } else if (suit.toLowerCase().contains(&quot;diamond&quot;)) {\r\n      return &quot;\\u2666&quot;;\r\n    }\r\n\r\n    return &quot;&quot;;\r\n  }\r\n```","title":"how can I make an int rank based on cards into an Array that will return string values?","body":"<p>I'm trying to clean up code so a selection of values pertaining to a deck of cards rank is an array, I was able to accomplish this with suits, though I can not seem to accomplish it with rank. I simply want to type this out in a way where it will return the same values but not take up so many lines, preferably through an array or linked list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public String toString() {\n    return getVal() + getSuit();\n  }\n\n  public String getVal() {\n    int rank = value % 13;\n\n    if (rank == 0) return &quot;2&quot;; else if (rank == 1) return &quot;3&quot;; else if (\n      rank == 2\n    ) return &quot;4&quot;; else if (rank == 3) return &quot;5&quot;; else if (\n      rank == 4\n    ) return &quot;6&quot;; else if (rank == 5) return &quot;7&quot;; else if (\n      rank == 6\n    ) return &quot;8&quot;; else if (rank == 7) return &quot;9&quot;; else if (\n      rank == 8\n    ) return &quot;10&quot;; else if (rank == 9) return &quot;J&quot;; else if (\n      rank == 10\n    ) return &quot;Q&quot;; else if (rank == 11) return &quot;K&quot;; else return &quot;A&quot;;\n  }\n\n  public String getSuit() {\n    if (suit.toLowerCase().contains(&quot;spade&quot;)) {\n      return &quot;\\u2660&quot;;\n    } else if (suit.toLowerCase().contains(&quot;club&quot;)) {\n      return &quot;\\u2663&quot;;\n    } else if (suit.toLowerCase().contains(&quot;heart&quot;)) {\n      return &quot;\\u2665&quot;;\n    } else if (suit.toLowerCase().contains(&quot;diamond&quot;)) {\n      return &quot;\\u2666&quot;;\n    }\n\n    return &quot;&quot;;\n  }\n</code></pre>\n"},{"tags":["java","sql","sql-server","jpa"],"comments":[{"owner":{"account_id":275368,"reputation":31453,"user_id":568209,"accept_rate":38,"display_name":"Ben Thul"},"score":2,"creation_date":1665495963,"post_id":74027164,"comment_id":130710641,"body_markdown":"What is the datatype in the table? My guess is BINARY(255) based on your &quot;this is the UUID stored in my DB&quot; statement. UUIDs are 16 bytes though, so binary(16) would be a better choice. Or, if that&#39;s not possible, varbinary(255) might work (so your db isn&#39;t storing all of the extra `00` bytes to fill out the fixed-width field). Also, what is your actual database backend? You&#39;ve tagged it with sql-server which is for MSSQL, but that&#39;s not an error from MSSQL.","body":"What is the datatype in the table? My guess is BINARY(255) based on your &quot;this is the UUID stored in my DB&quot; statement. UUIDs are 16 bytes though, so binary(16) would be a better choice. Or, if that&#39;s not possible, varbinary(255) might work (so your db isn&#39;t storing all of the extra <code>00</code> bytes to fill out the fixed-width field). Also, what is your actual database backend? You&#39;ve tagged it with sql-server which is for MSSQL, but that&#39;s not an error from MSSQL."},{"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"score":0,"creation_date":1665496331,"post_id":74027164,"comment_id":130710832,"body_markdown":"i use H2 as server, but just moved it to MariaDB and yes, it is indeed BINARY(255)","body":"i use H2 as server, but just moved it to MariaDB and yes, it is indeed BINARY(255)"}],"answers":[{"tags":[],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665497914,"creation_date":1665497914,"answer_id":74029668,"question_id":74027164,"body_markdown":"Adding the parameter `columnDefinition = &#39;BINARY(16)` to the `@Column` annotation solved the issue","title":"How to query server using UUIDs","body":"<p>Adding the parameter <code>columnDefinition = 'BINARY(16)</code> to the <code>@Column</code> annotation solved the issue</p>\n"},{"tags":[],"owner":{"account_id":23204213,"reputation":71,"user_id":17298652,"display_name":"Antonio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665517796,"creation_date":1665517796,"answer_id":74033401,"question_id":74027164,"body_markdown":"in my case I used &quot;String&quot; for the field with UUID in the Java class mapping the table.\r\nThe column in the table on the database is a VARCHAR. It has worked ok for me.\r\n\r\n      @Entity\r\n      @Access(AccessType.FIELD)\r\n      @Table(name = &quot;TABLE_WITH_UUID&quot;)\r\n      @NoArgsConstructor\r\n      @AllArgsConstructor\r\n      public class TableWithUuid implements Serializable {\r\n      private static final long serialVersionUID = 1L;\r\n      \r\n      [... other fields ...]\r\n      \r\n      @Column\r\n      @Getter\r\n      @Setter\r\n      private String uuid;\r\n\r\n      [... other fields ....]\r\n\r\n\r\nThe code to create the UUID is the following:\r\n\r\n        UUID uuid = UUID.randomUUID();\r\n        String uuidString = uuid.toString();\r\n\r\nI hope it can help.","title":"How to query server using UUIDs","body":"<p>in my case I used &quot;String&quot; for the field with UUID in the Java class mapping the table.\nThe column in the table on the database is a VARCHAR. It has worked ok for me.</p>\n<pre><code>  @Entity\n  @Access(AccessType.FIELD)\n  @Table(name = &quot;TABLE_WITH_UUID&quot;)\n  @NoArgsConstructor\n  @AllArgsConstructor\n  public class TableWithUuid implements Serializable {\n  private static final long serialVersionUID = 1L;\n  \n  [... other fields ...]\n  \n  @Column\n  @Getter\n  @Setter\n  private String uuid;\n\n  [... other fields ....]\n</code></pre>\n<p>The code to create the UUID is the following:</p>\n<pre><code>    UUID uuid = UUID.randomUUID();\n    String uuidString = uuid.toString();\n</code></pre>\n<p>I hope it can help.</p>\n"}],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665517796,"creation_date":1665486640,"question_id":74027164,"body_markdown":"I have a project I am working on that uses UUIDs. Unfortunately, when I try to query my DB to check if a specific UUID exists it always returns false even if I can see it in it. To check that my program works fine I switched UUIDs to normal Long IDs and all works fine. Any help would be appreciated.\r\n\r\nThis is how I generate UUIDs in my Entity:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(insertable = false, updatable = false, nullable = false)\r\n    private UUID uuid;\r\n\r\nThis is my logic check in my service class:\r\n\r\n    boolean exists = technologyRepository.existsByUuid(t.getUuid());\r\n    if (!exists) {\r\n        throw new IllegalStateException(&quot;Technology with id &quot; + t.getUuid() + &quot; does not exist.&quot; );\r\n    }\r\n\r\n`exists` always returns false when using UUIDS \r\n\r\n`java.lang.IllegalStateException: Technology with id 61b78428-8bbf-4d84-997f-62e0484c21cc does not exist.`\r\n\r\nthis is the UUID stored in my DB:\r\n\r\n`61b784288bbf4d84997f62e0484c21cc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`\r\n\r\nThe following is the error message I get by running the query on my H2 server directly: \r\n\r\n`Values of types &quot;BINARY(255)&quot; and &quot;CHARACTER VARYING(32)&quot; are not comparable; SQL statement:\r\nSELECT * FROM TECHNOLOGY WHERE UUID = &#39;61b784288bbf4d84997f62e0484c21cc&#39; [90110-214] 90110/90110`\r\n\r\n\r\n\r\n\r\n","title":"How to query server using UUIDs","body":"<p>I have a project I am working on that uses UUIDs. Unfortunately, when I try to query my DB to check if a specific UUID exists it always returns false even if I can see it in it. To check that my program works fine I switched UUIDs to normal Long IDs and all works fine. Any help would be appreciated.</p>\n<p>This is how I generate UUIDs in my Entity:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(insertable = false, updatable = false, nullable = false)\nprivate UUID uuid;\n</code></pre>\n<p>This is my logic check in my service class:</p>\n<pre><code>boolean exists = technologyRepository.existsByUuid(t.getUuid());\nif (!exists) {\n    throw new IllegalStateException(&quot;Technology with id &quot; + t.getUuid() + &quot; does not exist.&quot; );\n}\n</code></pre>\n<p><code>exists</code> always returns false when using UUIDS</p>\n<p><code>java.lang.IllegalStateException: Technology with id 61b78428-8bbf-4d84-997f-62e0484c21cc does not exist.</code></p>\n<p>this is the UUID stored in my DB:</p>\n<p><code>61b784288bbf4d84997f62e0484c21cc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</code></p>\n<p>The following is the error message I get by running the query on my H2 server directly:</p>\n<p><code>Values of types &quot;BINARY(255)&quot; and &quot;CHARACTER VARYING(32)&quot; are not comparable; SQL statement: SELECT * FROM TECHNOLOGY WHERE UUID = '61b784288bbf4d84997f62e0484c21cc' [90110-214] 90110/90110</code></p>\n"},{"tags":["java","java.util.scanner","primes"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665515082,"post_id":74032910,"comment_id":130717574,"body_markdown":"`for(int i=0;i&lt;X;++i){Y;}` is `int=0;while(i&lt;X){Y;++i}`","body":"<code>for(int i=0;i&lt;X;++i){Y;}</code> is <code>int=0;while(i&lt;X){Y;++i}</code>"}],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665515541,"creation_date":1665515541,"answer_id":74033021,"question_id":74032910,"body_markdown":"Your `for` loop \r\n\r\n    for (int j = 2; j &lt;= n; j++){\r\n        //Do whatever\r\n    }\r\n\r\ncan be easily re-written as a `while` loop\r\n\r\n    int j = 2;\r\n\r\n    while (j &lt;= n){\r\n        //Do whatever\r\n        j++;\r\n    }\r\n\r\nA `for` loop is basically a specialized `while` loop that lets you define a starting variable, a stop condition, and an increment value.\r\n\r\nA basic `while` loop only has a stop condition, so in order to accomplish what a `for` loop does, you just need to define the starting variable `j` and the incremental `j++`","title":"print prime numbers between 2 and n","body":"<p>Your <code>for</code> loop</p>\n<pre><code>for (int j = 2; j &lt;= n; j++){\n    //Do whatever\n}\n</code></pre>\n<p>can be easily re-written as a <code>while</code> loop</p>\n<pre><code>int j = 2;\n\nwhile (j &lt;= n){\n    //Do whatever\n    j++;\n}\n</code></pre>\n<p>A <code>for</code> loop is basically a specialized <code>while</code> loop that lets you define a starting variable, a stop condition, and an increment value.</p>\n<p>A basic <code>while</code> loop only has a stop condition, so in order to accomplish what a <code>for</code> loop does, you just need to define the starting variable <code>j</code> and the incremental <code>j++</code></p>\n"},{"tags":[],"owner":{"account_id":26593733,"reputation":1,"user_id":20216489,"display_name":"JJmorg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665517623,"creation_date":1665516855,"answer_id":74033242,"question_id":74032910,"body_markdown":"   ```java\r\n     public static boolean isPrime(int n) {\r\n\t\tif(n == 1) {\r\n\t\t\treturn false;\r\n\t\t} \r\n\t\t\r\n\t\tfor(int i = 2; i &lt;= (long) Math.sqrt(n); i++) {\r\n\t\t\tif(n % i == 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\treturn true;\r\n\t}\r\n\r\n    public static void printPrimes(int endPoint) {\r\n\t\tint i = 2;\r\n\t\tSystem.out.printf(&quot;The prime numbers between 2 and %d are:%n&quot;, endPoint);\r\n\t\twhile(i &lt;= endPoint) {\r\n\t\t\tif(isPrime(i)) {\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n```\r\nThis is my first submission here so please forgive me if this is formatted poorly. \r\nEchoing what mmartinez04 said, the while loop functions very similarly to a for as far as iterating through a sequence of integers in this particular situation. The key aspect is ensuring that you are incrementing i in the body of the loop to prevent an endless loop.\r\n","title":"print prime numbers between 2 and n","body":"<pre class=\"lang-java prettyprint-override\"><code>  public static boolean isPrime(int n) {\n     if(n == 1) {\n         return false;\n     } \n     \n     for(int i = 2; i &lt;= (long) Math.sqrt(n); i++) {\n         if(n % i == 0) {\n             return false;\n         }\n     }\n         return true;\n }\n\n public static void printPrimes(int endPoint) {\n     int i = 2;\n     System.out.printf(&quot;The prime numbers between 2 and %d are:%n&quot;, endPoint);\n     while(i &lt;= endPoint) {\n         if(isPrime(i)) {\n             System.out.println(i);\n         }\n         i++;\n     }\n }\n</code></pre>\n<p>This is my first submission here so please forgive me if this is formatted poorly.\nEchoing what mmartinez04 said, the while loop functions very similarly to a for as far as iterating through a sequence of integers in this particular situation. The key aspect is ensuring that you are incrementing i in the body of the loop to prevent an endless loop.</p>\n"}],"owner":{"account_id":25918815,"reputation":1,"user_id":19641837,"display_name":"PedroVb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1665517623,"creation_date":1665514855,"question_id":74032910,"body_markdown":"I need to find all prime numbers between 2 and n, the user informs n. However, I cannot use &quot;for&quot;, only &quot;while&quot;, but I can&#39;t make the program works using &quot;while&quot;. Can somebody help me?\r\nThis is the program I made with &quot;for&quot;\r\n```\r\nimport java.util.Scanner;\r\nclass Main {\r\n\tpublic static void main(String [] args)\t{\r\n\t\tint i;\r\n\t\tint cont;\r\n\t\tint n;\r\n\t    System.out.print(&quot;Enter a number: &quot;);\r\n\t\tScanner leia = new Scanner(System.in);\r\n\t\tn = leia.nextInt();\r\n\t    System.out.println(&quot;The prime numbers from 2 to &quot;+n+&quot; are: &quot;);\r\n\t\tfor(int j = 2; j &lt;= n; j++) {\r\n\t\tcont = 0;\r\n\t\t\tfor(i = 1;i &lt;= j; i++) {\r\n\t\t\t   if(j % i == 0) {\r\n\t\t\t        cont++;        \r\n\t\t\t   }\r\n\t\t\t} if(cont == 2) {\r\n\t\t\t       System.out.print(j+&quot;  &quot;);   \r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"print prime numbers between 2 and n","body":"<p>I need to find all prime numbers between 2 and n, the user informs n. However, I cannot use &quot;for&quot;, only &quot;while&quot;, but I can't make the program works using &quot;while&quot;. Can somebody help me?\nThis is the program I made with &quot;for&quot;</p>\n<pre><code>import java.util.Scanner;\nclass Main {\n    public static void main(String [] args) {\n        int i;\n        int cont;\n        int n;\n        System.out.print(&quot;Enter a number: &quot;);\n        Scanner leia = new Scanner(System.in);\n        n = leia.nextInt();\n        System.out.println(&quot;The prime numbers from 2 to &quot;+n+&quot; are: &quot;);\n        for(int j = 2; j &lt;= n; j++) {\n        cont = 0;\n            for(i = 1;i &lt;= j; i++) {\n               if(j % i == 0) {\n                    cont++;        \n               }\n            } if(cont == 2) {\n                   System.out.print(j+&quot;  &quot;);   \n                }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":3,"creation_date":1665515464,"post_id":74033000,"comment_id":130717664,"body_markdown":"base64 decode it? Or do you give him just the content? In that case the only way is by telling him","body":"base64 decode it? Or do you give him just the content? In that case the only way is by telling him"},{"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"score":0,"creation_date":1665515536,"post_id":74033000,"comment_id":130717684,"body_markdown":"Yes I Just give him base64 string thats it.","body":"Yes I Just give him base64 string thats it."},{"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"score":0,"creation_date":1665515606,"post_id":74033000,"comment_id":130717712,"body_markdown":"When I try to decode I am getting contents inside zip file. But I dont want content inside Zip file . I just want sharath.zip as name","body":"When I try to decode I am getting contents inside zip file. But I dont want content inside Zip file . I just want sharath.zip as name"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1665515622,"post_id":74033000,"comment_id":130717716,"body_markdown":"It&#39;s a bit unclear what you&#39;re asking.  `sharath.zip` encodes to `c2hhcmF0aC56aXA=` (non-url safe encoding).  That decodes back to the file name.  What are you actually trying to do?","body":"It&#39;s a bit unclear what you&#39;re asking.  <code>sharath.zip</code> encodes to <code>c2hhcmF0aC56aXA=</code> (non-url safe encoding).  That decodes back to the file name.  What are you actually trying to do?"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1665515766,"post_id":74033000,"comment_id":130717752,"body_markdown":"the file content does not contain the file name, but you can encode both the file name and it&#39;s content into a string, e.g. `&quot;sharath.zip|c2VjcmV0IGNvbnRlbnQgOkQ=&quot;`, then when decoding, split the string on `|`, then write a file using the first part as name, the second as content after base64 decoding it.","body":"the file content does not contain the file name, but you can encode both the file name and it&#39;s content into a string, e.g. <code>&quot;sharath.zip|c2VjcmV0IGNvbnRlbnQgOkQ=&quot;</code>, then when decoding, split the string on <code>|</code>, then write a file using the first part as name, the second as content after base64 decoding it."},{"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"score":0,"creation_date":1665515772,"post_id":74033000,"comment_id":130717753,"body_markdown":"I am not giving sharath.zip as String sharath.zip is a file i have encoded sharath.zip file and given it to my friend","body":"I am not giving sharath.zip as String sharath.zip is a file i have encoded sharath.zip file and given it to my friend"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1665517649,"post_id":74033000,"comment_id":130718318,"body_markdown":"@sharath: That means you&#39;ve encoded the wrong thing.  If you want your friend to decode the string `&quot;sharath.zip&quot;`, then you need to encode that, and you haven&#39;t.  If you want your friend to decode the contents of the zip file, then you need to do that instead.  If you give your friend the wrong thing, then they won&#39;t be able to decode something that you didn&#39;t give them.","body":"@sharath: That means you&#39;ve encoded the wrong thing.  If you want your friend to decode the string <code>&quot;sharath.zip&quot;</code>, then you need to encode that, and you haven&#39;t.  If you want your friend to decode the contents of the zip file, then you need to do that instead.  If you give your friend the wrong thing, then they won&#39;t be able to decode something that you didn&#39;t give them."}],"answers":[{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665515581,"creation_date":1665515581,"answer_id":74033030,"question_id":74033000,"body_markdown":"I think for decoding, you can try something like this,\r\n\r\n```\r\n String delims=&quot;[,]&quot;;\r\n    String[] parts = base64ImageString.split(delims);\r\n    String imageString = parts[1];\r\n    byte[] imageByteArray = Base64.decode(imageString );\r\n\r\n    InputStream is = new ByteArrayInputStream(imageByteArray);\r\n\r\n    //Find out image type\r\n    String mimeType = null;\r\n    String fileExtension = null;\r\n    try {\r\n        mimeType = URLConnection.guessContentTypeFromStream(is); //mimeType is something like &quot;image/jpeg&quot;\r\n        String delimiter=&quot;[/]&quot;;\r\n        String[] tokens = mimeType.split(delimiter);\r\n        fileExtension = tokens[1];\r\n    } catch (IOException ioException){\r\n\r\n    }\r\n```","title":"Get File extension from base64 encoded In Java","body":"<p>I think for decoding, you can try something like this,</p>\n<pre><code> String delims=&quot;[,]&quot;;\n    String[] parts = base64ImageString.split(delims);\n    String imageString = parts[1];\n    byte[] imageByteArray = Base64.decode(imageString );\n\n    InputStream is = new ByteArrayInputStream(imageByteArray);\n\n    //Find out image type\n    String mimeType = null;\n    String fileExtension = null;\n    try {\n        mimeType = URLConnection.guessContentTypeFromStream(is); //mimeType is something like &quot;image/jpeg&quot;\n        String delimiter=&quot;[/]&quot;;\n        String[] tokens = mimeType.split(delimiter);\n        fileExtension = tokens[1];\n    } catch (IOException ioException){\n\n    }\n</code></pre>\n"}],"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1914,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665517529,"creation_date":1665515392,"question_id":74033000,"body_markdown":"![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0F6wb.png\r\n\r\nConsider this file type as `sharath.zip`. Suppose I have encoded `sharath.zip` to Base64 String. When I give base64String my friend. How my friend should get `sharath.zip` as file name from base64String. \r\n\r\nbase64 encoded String is &quot;5K2Q0IMKAADrq7bllYsAAAAAAAAIAOaNgealtOa5r+aMruStkMiBHwoAAOurtuWViwAAAAAAAAgkAAAAIAAAAOaNgealtOa5r+aMrgogAAABGOSRgeajgO22mseY5JGB5qOA7baax5jkkYHmo4DttprHmOStkNiFAAABAVoAJgAA&quot;","title":"Get File extension from base64 encoded In Java","body":"<p><img src=\"https://i.stack.imgur.com/0F6wb.png\" alt=\"enter image description here\" /></p>\n<p>Consider this file type as <code>sharath.zip</code>. Suppose I have encoded <code>sharath.zip</code> to Base64 String. When I give base64String my friend. How my friend should get <code>sharath.zip</code> as file name from base64String.</p>\n<p>base64 encoded String is &quot;5K2Q0IMKAADrq7bllYsAAAAAAAAIAOaNgealtOa5r+aMruStkMiBHwoAAOurtuWViwAAAAAAAAgkAAAAIAAAAOaNgealtOa5r+aMrgogAAABGOSRgeajgO22mseY5JGB5qOA7baax5jkkYHmo4DttprHmOStkNiFAAABAVoAJgAA&quot;</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1662372124,"post_id":73604960,"comment_id":129983091,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/73604960/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666116224,"post_id":73604960,"comment_id":130857935,"body_markdown":"Does this answer your question? [My service test fails when I have an if statement in the class under test SpringBoot](https://stackoverflow.com/questions/73743671/my-service-test-fails-when-i-have-an-if-statement-in-the-class-under-test-spring)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73743671/my-service-test-fails-when-i-have-an-if-statement-in-the-class-under-test-spring\">My service test fails when I have an if statement in the class under test SpringBoot</a>"}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662584450,"creation_date":1662584101,"answer_id":73641363,"question_id":73604960,"body_markdown":"I don&#39;t have your code, but I tried to be the more generic as I can.\r\nI have test like the one below and it works great.\r\nHope to been helpful.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyTest {\r\n\r\n        @Mock\r\n    \tprivate AClass aclass;\r\n\r\n        @Mock\r\n    \tprivate BClass bclass;\r\n\r\n        @Mock\r\n    \tprivate CClass cclass;\r\n    \r\n    \t@Test\r\n    \tvoid testExecute() {\r\n    \t\t\r\n    \t\twhen(aclass.getAbc(any(String.class), any(Date.class), anyString()))\r\n    \t\t\t.thenAnswer(i -&gt; getAbc(i.getArgument(0), i.getArgument(1), i.getArgument(2)));\r\n    \r\n\t\t    when(bclass.isOk())\r\n\t\t\t    .thenAnswer(i -&gt; false);\r\n\r\n\t\t    when(cclass.getCdf(anyString()))\r\n\t\t\t    .thenAnswer(i -&gt; getCdf());\r\n            ...\r\n            ...\r\n            ...\r\n    \r\n        }\r\n\r\n\t\tprivate List&lt;ABC&gt; getAbc(final String myString, final Date now, final String x) {\r\n\t\t\t...\r\n            ...\r\n            ...\r\n\t\t}\r\n\r\n\t\tprivate CDF getCdf() {\r\n\t\t\t...\r\n            ...\r\n            ...\r\n\t\t}\r\n\r\n    }\r\n\r\nAs you can see, for a simple answer I write the answer directly, for a more complex one, I create a private method with the same name and use it as answer.","title":"Mockito.mock is not working, using Mockito.when causes NullPointerException","body":"<p>I don't have your code, but I tried to be the more generic as I can.\nI have test like the one below and it works great.\nHope to been helpful.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyTest {\n\n    @Mock\n    private AClass aclass;\n\n    @Mock\n    private BClass bclass;\n\n    @Mock\n    private CClass cclass;\n\n    @Test\n    void testExecute() {\n        \n        when(aclass.getAbc(any(String.class), any(Date.class), anyString()))\n            .thenAnswer(i -&gt; getAbc(i.getArgument(0), i.getArgument(1), i.getArgument(2)));\n\n        when(bclass.isOk())\n            .thenAnswer(i -&gt; false);\n\n        when(cclass.getCdf(anyString()))\n            .thenAnswer(i -&gt; getCdf());\n        ...\n        ...\n        ...\n\n    }\n\n    private List&lt;ABC&gt; getAbc(final String myString, final Date now, final String x) {\n        ...\n        ...\n        ...\n    }\n\n    private CDF getCdf() {\n        ...\n        ...\n        ...\n    }\n\n}\n</code></pre>\n<p>As you can see, for a simple answer I write the answer directly, for a more complex one, I create a private method with the same name and use it as answer.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665515966,"creation_date":1665515966,"answer_id":74033104,"question_id":73604960,"body_markdown":"Your code will still call the real method, unless `A` is an interface. I assume it is an implementation (a class) in your code.\r\n\r\n```\r\nA a = mock(A.class);\r\nwhen(a.doX()).thenReturn(&quot;X&quot;);\r\n//   ^^^^^^^-- this is calling the real method\r\n```\r\n\r\nIf you must use the class and cannot switch to an interface, you have do use `Mockito.doReturn` instead of `Mockito.when`:\r\n\r\n```\r\nA a = mock(A.class);\r\ndoReturn(&quot;X&quot;).when(a).doX();\r\n```\r\n\r\nBut it is probably better to extract an interface and create mocks from the interface, not by subclassing your real class.","title":"Mockito.mock is not working, using Mockito.when causes NullPointerException","body":"<p>Your code will still call the real method, unless <code>A</code> is an interface. I assume it is an implementation (a class) in your code.</p>\n<pre><code>A a = mock(A.class);\nwhen(a.doX()).thenReturn(&quot;X&quot;);\n//   ^^^^^^^-- this is calling the real method\n</code></pre>\n<p>If you must use the class and cannot switch to an interface, you have do use <code>Mockito.doReturn</code> instead of <code>Mockito.when</code>:</p>\n<pre><code>A a = mock(A.class);\ndoReturn(&quot;X&quot;).when(a).doX();\n</code></pre>\n<p>But it is probably better to extract an interface and create mocks from the interface, not by subclassing your real class.</p>\n"}],"owner":{"account_id":22509486,"reputation":67,"user_id":16704621,"display_name":"George"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665515966,"creation_date":1662356806,"question_id":73604960,"body_markdown":"I have used Mockito very long time. With Mockito 4.7.0 version (and also for example with the version 3.12.4) the code:\r\n\r\n    A a = mock(A.class);\r\n    when(a.doX()).thenReturn(&quot;X&quot;);\r\n\r\ncauses the `java.lang.NullPointerException` in the second line.\r\n\r\nWhen I print the content of the variable `a`\r\n\r\n    System.out.println(a);\r\n\r\nI got also &quot;java.lang.NullPointerException&quot;.\r\n\r\nFor any other class the `Mockito.mock` and `Mockito.when` are working perfectly and if I print a content of some other class instance `b` I got &quot;Mock for B, hashcode: some hash code&quot;\r\n\r\nDo you know what could be problem? My example is simplified and I can&#39;t show the actual classes.","title":"Mockito.mock is not working, using Mockito.when causes NullPointerException","body":"<p>I have used Mockito very long time. With Mockito 4.7.0 version (and also for example with the version 3.12.4) the code:</p>\n<pre><code>A a = mock(A.class);\nwhen(a.doX()).thenReturn(&quot;X&quot;);\n</code></pre>\n<p>causes the <code>java.lang.NullPointerException</code> in the second line.</p>\n<p>When I print the content of the variable <code>a</code></p>\n<pre><code>System.out.println(a);\n</code></pre>\n<p>I got also &quot;java.lang.NullPointerException&quot;.</p>\n<p>For any other class the <code>Mockito.mock</code> and <code>Mockito.when</code> are working perfectly and if I print a content of some other class instance <code>b</code> I got &quot;Mock for B, hashcode: some hash code&quot;</p>\n<p>Do you know what could be problem? My example is simplified and I can't show the actual classes.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1664892555,"post_id":73949112,"comment_id":130570764,"body_markdown":"You cannot for a native(SQL) query - with SQL, just as in your example SQL, every parameter must be bound individually. JPQL on the other hand can break out the list parameter in the JPQL string into individual parameters when building the SQL statement. Simply @Query(value = &quot;SELECT e FROM Entity e WHERE e.field_one IN :field_one_list&quot;)","body":"You cannot for a native(SQL) query - with SQL, just as in your example SQL, every parameter must be bound individually. JPQL on the other hand can break out the list parameter in the JPQL string into individual parameters when building the SQL statement. Simply @Query(value = &quot;SELECT e FROM Entity e WHERE e.field_one IN :field_one_list&quot;)"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664893134,"post_id":73949112,"comment_id":130571012,"body_markdown":"Take care of java naming conventions. names should be camelCase not snake_case","body":"Take care of java naming conventions. names should be camelCase not snake_case"}],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665515947,"creation_date":1665138673,"answer_id":73985809,"question_id":73949112,"body_markdown":"You can try like this.\r\n\r\n```java\r\n@Query(value=&quot;select * from data_table where field_one = &#39;1000&#39; And (field_two, field_three, field_four) IN :?1 And field_type = ?2 And date &lt;=&#39;2022-09-17&#39;&quot;, nativeQuery = true)\r\n\tList&lt;Entity&gt; findByEntityConditions(String[] data, String[] fieldType);\r\n```\r\nTake data and fieldType as String Array.","title":"How to access a member of object in native query params with &#39;IN&#39; clause in JPA?","body":"<p>You can try like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value=&quot;select * from data_table where field_one = '1000' And (field_two, field_three, field_four) IN :?1 And field_type = ?2 And date &lt;='2022-09-17'&quot;, nativeQuery = true)\n    List&lt;Entity&gt; findByEntityConditions(String[] data, String[] fieldType);\n</code></pre>\n<p>Take data and fieldType as String Array.</p>\n"},{"tags":[],"owner":{"account_id":26552141,"reputation":61,"user_id":20181285,"display_name":"Sk Nur Hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665214468,"creation_date":1665214468,"answer_id":73995208,"question_id":73949112,"body_markdown":"You can try this: \r\n\r\n    @Query( SELECT *\r\n    FROM data_table\r\n    WHERE field_one = &#39;1000&#39;\r\n    AND (field_two, field_three, field_four) IN (:param1)\r\n    AND field_type IN (:param2)\r\n    AND date &lt;= &#39;2022-09-17&#39;, nativeQuery = true)\r\n    List&lt;Entity&gt; findByCustomData(@Param(&quot;param1&quot;)List&lt;String&gt; list1, @Param(&quot;param2) List&lt;String&gt; list2)\r\n\r\n","title":"How to access a member of object in native query params with &#39;IN&#39; clause in JPA?","body":"<p>You can try this:</p>\n<pre><code>@Query( SELECT *\nFROM data_table\nWHERE field_one = '1000'\nAND (field_two, field_three, field_four) IN (:param1)\nAND field_type IN (:param2)\nAND date &lt;= '2022-09-17', nativeQuery = true)\nList&lt;Entity&gt; findByCustomData(@Param(&quot;param1&quot;)List&lt;String&gt; list1, @Param(&quot;param2) List&lt;String&gt; list2)\n</code></pre>\n"}],"owner":{"account_id":7018074,"reputation":29,"user_id":5378635,"display_name":"kaushal singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665515947,"creation_date":1664892065,"question_id":73949112,"body_markdown":"I have following SQL query\r\n\r\n    SELECT *\r\n    FROM data_table\r\n    WHERE field_one = &#39;1000&#39;\r\n      AND (field_two, field_three, field_four) IN ((&#39;70033100&#39;, &#39;0090047002&#39;, &#39;CAT&#39;), (&#39;70033100&#39;, &#39;0004712&#39;, &#39;SAT&#39;), (&#39;70031337&#39;, &#39;0233263&#39;, &#39;DAT&#39;), (&#39;70033100&#39;, &#39;0090000001&#39;, &#39;CAT&#39;))\r\n      AND field_type IN (&#39;TYPE_1&#39;, &#39;TYPE_2&#39;)\r\n      AND date &lt;= &#39;2022-09-17&#39;\r\n\r\nI need to write corresponding JPA native query. I have a Entity Class given below, which is referred by query above.\r\n\r\n      class Entity {\r\n        String field_one;\r\n        String field_two;\r\n        String field_three;\r\n        String field_four;\r\n        LocalDate date;\r\n        String field_type;\r\n        }\r\n\r\nI understand that we can simply refer the list in jpa query like `:list`, for example I can have a method like\r\n\r\n    @Query(nativeQuery=true,\r\n    value = &quot;SELECT * FROM Entity WHERE field_one IN :field_one_list&quot;)\r\n    public List&lt;Entity&gt; findByFieldOneList(List&lt;String&gt; field_one_list)\r\n\r\nHow to do it for the given query?","title":"How to access a member of object in native query params with &#39;IN&#39; clause in JPA?","body":"<p>I have following SQL query</p>\n<pre><code>SELECT *\nFROM data_table\nWHERE field_one = '1000'\n  AND (field_two, field_three, field_four) IN (('70033100', '0090047002', 'CAT'), ('70033100', '0004712', 'SAT'), ('70031337', '0233263', 'DAT'), ('70033100', '0090000001', 'CAT'))\n  AND field_type IN ('TYPE_1', 'TYPE_2')\n  AND date &lt;= '2022-09-17'\n</code></pre>\n<p>I need to write corresponding JPA native query. I have a Entity Class given below, which is referred by query above.</p>\n<pre><code>  class Entity {\n    String field_one;\n    String field_two;\n    String field_three;\n    String field_four;\n    LocalDate date;\n    String field_type;\n    }\n</code></pre>\n<p>I understand that we can simply refer the list in jpa query like <code>:list</code>, for example I can have a method like</p>\n<pre><code>@Query(nativeQuery=true,\nvalue = &quot;SELECT * FROM Entity WHERE field_one IN :field_one_list&quot;)\npublic List&lt;Entity&gt; findByFieldOneList(List&lt;String&gt; field_one_list)\n</code></pre>\n<p>How to do it for the given query?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665516220,"post_id":74033034,"comment_id":130717865,"body_markdown":"No, consumers don&#39;t know about broker urls to include in tags. If you want to get broker server metadata, best to use Prometheus JMX + Node exporter on the brokers, rather than write your own metric gatherer... Also, print the metric name if you want to actually compare against the documentation","body":"No, consumers don&#39;t know about broker urls to include in tags. If you want to get broker server metadata, best to use Prometheus JMX + Node exporter on the brokers, rather than write your own metric gatherer... Also, print the metric name if you want to actually compare against the documentation"},{"owner":{"account_id":23894548,"reputation":1,"user_id":17893730,"display_name":"saksham"},"score":0,"creation_date":1665518301,"post_id":74033034,"comment_id":130718528,"body_markdown":"Thanks @OneCricketeer! That makes sense. But I am not even getting topic tag. If you look at the Apache Kafka documentation, you&#39;ll see the following line: kafka.consumer:type=consumer-fetch-manager-metrics,client-id=&quot;{client-id}&quot;,topic=&quot;{topic}&quot;","body":"Thanks @OneCricketeer! That makes sense. But I am not even getting topic tag. If you look at the Apache Kafka documentation, you&#39;ll see the following line: kafka.consumer:type=consumer-fetch-manager-metrics,client-id&zwnj;&#8203;=&quot;{client-id}&quot;,topic&zwnj;&#8203;=&quot;{topic}&quot;"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665520086,"post_id":74033034,"comment_id":130719081,"body_markdown":"Those are JMX metrics in the docs... Not sure `consumer.metrics()` method is the exact same data","body":"Those are JMX metrics in the docs... Not sure <code>consumer.metrics()</code> method is the exact same data"}],"owner":{"account_id":23894548,"reputation":1,"user_id":17893730,"display_name":"saksham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665515921,"creation_date":1665515609,"question_id":74033034,"body_markdown":"According to [Apache Kafka documentation](https://kafka.apache.org/28/documentation.html#consumer_fetch_monitoring), bytes-consumed-rate metric should contain the tags: client-id and topic, but I am only seeing the tags client-id and node-id. Can someone please help me understand what I am doing wrong here?\r\n\r\nAlso, is there a way to get additional information (like broker urls, consumer group name, etc.) in the form of tags? \r\n\r\nConsumer client code:\r\n\r\n        kafkaConsumer.subscribe(kafkaTopicNames);\r\n\r\n        while (true) {\r\n            try {\r\n                ConsumerRecords&lt;String, String&gt; consumerRecords = kafkaConsumer.poll(Duration.ofMillis(1000));\r\n\r\n                for (ConsumerRecord&lt;String, String&gt; consumerRecord : consumerRecords) {\r\n                    logger.info(&quot;Message received &quot; + consumerRecord.value());\r\n                }\r\n\r\n                Map&lt;MetricName, ? extends Metric&gt; kafkaConsumerMetrics = kafkaConsumer.metrics();\r\n\r\n                for (MetricName metricName: kafkaConsumerMetrics.keySet()) {\r\n                    Map&lt;String, String&gt; metricNameTags = metricName.tags();\r\n\r\n                    logger.info(&quot;&gt;&gt;&gt; Kafka consumer metric tags: &quot; + metricNameTags);\r\n                }\r\n            } catch (Exception exception) {}\r\n\r\n            break;\r\n        }\r\n\r\nOutput:\r\n\r\n    &gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\r\n    &gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\r\n    &gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\r\n    &gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id, node-id=node-xxxxx}\r\n    .\r\n    .\r\n    .","title":"How to get additional information for each Kafka client (producer/consumer) metric?","body":"<p>According to <a href=\"https://kafka.apache.org/28/documentation.html#consumer_fetch_monitoring\" rel=\"nofollow noreferrer\">Apache Kafka documentation</a>, bytes-consumed-rate metric should contain the tags: client-id and topic, but I am only seeing the tags client-id and node-id. Can someone please help me understand what I am doing wrong here?</p>\n<p>Also, is there a way to get additional information (like broker urls, consumer group name, etc.) in the form of tags?</p>\n<p>Consumer client code:</p>\n<pre><code>    kafkaConsumer.subscribe(kafkaTopicNames);\n\n    while (true) {\n        try {\n            ConsumerRecords&lt;String, String&gt; consumerRecords = kafkaConsumer.poll(Duration.ofMillis(1000));\n\n            for (ConsumerRecord&lt;String, String&gt; consumerRecord : consumerRecords) {\n                logger.info(&quot;Message received &quot; + consumerRecord.value());\n            }\n\n            Map&lt;MetricName, ? extends Metric&gt; kafkaConsumerMetrics = kafkaConsumer.metrics();\n\n            for (MetricName metricName: kafkaConsumerMetrics.keySet()) {\n                Map&lt;String, String&gt; metricNameTags = metricName.tags();\n\n                logger.info(&quot;&gt;&gt;&gt; Kafka consumer metric tags: &quot; + metricNameTags);\n            }\n        } catch (Exception exception) {}\n\n        break;\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>&gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\n&gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\n&gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\n&gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id, node-id=node-xxxxx}\n.\n.\n.\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka","cloudevents"],"comments":[{"owner":{"account_id":324521,"reputation":22913,"user_id":645128,"accept_rate":84,"display_name":"ryyker"},"score":0,"creation_date":1665511851,"post_id":74032278,"comment_id":130716514,"body_markdown":"[This discussion](https://github.com/cloudevents/sdk-java/issues/196) may have something useful for you.","body":"<a href=\"https://github.com/cloudevents/sdk-java/issues/196\" rel=\"nofollow noreferrer\">This discussion</a> may have something useful for you."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665515931,"post_id":74032278,"comment_id":130717792,"body_markdown":"Please share your Spring properties where you&#39;ve set `value.deserializer` to something other than StringDeserializer","body":"Please share your Spring properties where you&#39;ve set <code>value.deserializer</code> to something other than StringDeserializer"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665515978,"post_id":74032278,"comment_id":130717804,"body_markdown":"@ryyker That [shouldn&#39;t be necessary with Kafka](https://github.com/cloudevents/sdk-java/blob/master/kafka/src/main/java/io/cloudevents/kafka/CloudEventMessageDeserializer.java)","body":"@ryyker That <a href=\"https://github.com/cloudevents/sdk-java/blob/master/kafka/src/main/java/io/cloudevents/kafka/CloudEventMessageDeserializer.java\" rel=\"nofollow noreferrer\">shouldn&#39;t be necessary with Kafka</a>"},{"owner":{"account_id":324521,"reputation":22913,"user_id":645128,"accept_rate":84,"display_name":"ryyker"},"score":0,"creation_date":1665521414,"post_id":74032278,"comment_id":130719454,"body_markdown":"@OneCricketeer - LOL, Mine was a complete shot in the dark.   But thanks for linking the small example code.  Kafka looks powerful.","body":"@OneCricketeer - LOL, Mine was a complete shot in the dark.   But thanks for linking the small example code.  Kafka looks powerful."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665521485,"post_id":74032278,"comment_id":130719466,"body_markdown":"@ryyker It&#39;s not example code. Kafka always stores bytes. Spring-Kafka library defaults to consume as Strings, I believe, so that needs overwritten with the linked class.","body":"@ryyker It&#39;s not example code. Kafka always stores bytes. Spring-Kafka library defaults to consume as Strings, I believe, so that needs overwritten with the linked class."},{"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"score":0,"creation_date":1665579843,"post_id":74032278,"comment_id":130733620,"body_markdown":"Hi guys, thank you all, Found that I did not use the right deserializer. I does not figure in the code above.","body":"Hi guys, thank you all, Found that I did not use the right deserializer. I does not figure in the code above."}],"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665515897,"creation_date":1665511166,"question_id":74032278,"body_markdown":"I am new to Kafka and trying to do some testing with a producer/consumer pair.\r\n\r\nI have a producer that looks like the below code.\r\n\r\n    String key = &quot;key1&quot;;\r\n        String message = &quot;{}&quot;; // has valid json\r\n        CloudEventBuilder ceb = new CloudEventBuilder().withId(&quot;123&quot;).withSource(xxxxxxxx)\r\n            .withType(&quot;test&quot;).withData(message.getBytes());\r\n    \r\n        topicPublisher.publish(key, ceb.build());\r\n\r\n\r\n\r\nOn my consumer side, I am trying to retrieve the message.\r\n\r\n    @KafkaListener(topics = {&quot;quickstart-events&quot;},groupId = &quot;group1&quot;)\r\n      public void listen(ConsumerRecord&lt;String, CloudEvent&gt; cloudEventRecord) {\r\n        eventHandler.processEvent(cloudEventRecord);\r\n        System.out.println(&quot;received: &quot;+ &quot; key-&gt;&quot;+ cloudEventRecord.key() + &quot; value-&gt; &quot;+cloudEventRecord.value().getId());\r\n      }\r\n\r\n   An error is thrown at this line.\r\n\r\n    cloudEventRecord.value().getId()\r\n\r\nThis is the reason:\r\n\r\n&gt; Caused by: java.lang.ClassCastException: java.lang.String cannot be\r\n&gt; cast to io.cloudevents.CloudEvent","title":"String cannot be converted to CloudEvents","body":"<p>I am new to Kafka and trying to do some testing with a producer/consumer pair.</p>\n<p>I have a producer that looks like the below code.</p>\n<pre><code>String key = &quot;key1&quot;;\n    String message = &quot;{}&quot;; // has valid json\n    CloudEventBuilder ceb = new CloudEventBuilder().withId(&quot;123&quot;).withSource(xxxxxxxx)\n        .withType(&quot;test&quot;).withData(message.getBytes());\n\n    topicPublisher.publish(key, ceb.build());\n</code></pre>\n<p>On my consumer side, I am trying to retrieve the message.</p>\n<pre><code>@KafkaListener(topics = {&quot;quickstart-events&quot;},groupId = &quot;group1&quot;)\n  public void listen(ConsumerRecord&lt;String, CloudEvent&gt; cloudEventRecord) {\n    eventHandler.processEvent(cloudEventRecord);\n    System.out.println(&quot;received: &quot;+ &quot; key-&gt;&quot;+ cloudEventRecord.key() + &quot; value-&gt; &quot;+cloudEventRecord.value().getId());\n  }\n</code></pre>\n<p>An error is thrown at this line.</p>\n<pre><code>cloudEventRecord.value().getId()\n</code></pre>\n<p>This is the reason:</p>\n<blockquote>\n<p>Caused by: java.lang.ClassCastException: java.lang.String cannot be\ncast to io.cloudevents.CloudEvent</p>\n</blockquote>\n"},{"tags":["java","maven","hadoop"],"answers":[{"tags":[],"owner":{"account_id":11942884,"reputation":26,"user_id":8739074,"display_name":"Ironchef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665515423,"creation_date":1665515423,"answer_id":74033005,"question_id":72130233,"body_markdown":"In my project, we had to exclude com.nimbusds:nimbus-jose-jwt from hadoop-auth because of an odd transitive dependency. This ticket: https://issues.apache.org/jira/browse/HADOOP-14903 appears to relate to the problem. We are not using this updated version. Based on your error, maybe this &quot;fix&quot; didn&#39;t work.  ","title":"How to bypass json-smart:2.3-SNAPSHOT imported","body":"<p>In my project, we had to exclude com.nimbusds:nimbus-jose-jwt from hadoop-auth because of an odd transitive dependency. This ticket: <a href=\"https://issues.apache.org/jira/browse/HADOOP-14903\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/HADOOP-14903</a> appears to relate to the problem. We are not using this updated version. Based on your error, maybe this &quot;fix&quot; didn't work.</p>\n"}],"owner":{"account_id":14036111,"reputation":375,"user_id":10138767,"display_name":"DeenOub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1067,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74033005,"answer_count":1,"score":2,"last_activity_date":1665515423,"creation_date":1651766298,"question_id":72130233,"body_markdown":"I am building a Java Maven Project and I have a dependency &quot;net.minidev.json-smart:2.3-SNAPSHOT&quot; imported in my package hbase 2.4.9 with another dependency and this displays a warning and Jenkins takes 1 or 2 minutes to resolve only this dependency. \r\n\r\nthe dependency tree is the following : \r\n\r\n org.apache.hbase:hbase-server:2.4.9 -&gt; org.apache.hadoop:hadoop-auth:2.10 -&gt; com.nimbusds:nimbus-jose-jwt:4.41.1 -&gt; net.minidev:json-smart:2.3-SNAPSHOT)\r\n\r\nBut when I exclude hadoop-auth 2.10 to use latest ...\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hbase-server&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.9&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hadoop-auth&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-auth&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI have this dependency-tree:\r\n\r\n    [INFO] +- org.apache.hadoop:hadoop-auth:jar:3.3.2:compile\r\n    [INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n    [INFO] |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\r\n    [INFO] |  +- com.nimbusds:nimbus-jose-jwt:jar:9.8.1:compile\r\n    [INFO] |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:compile\r\n    [INFO] |  +- net.minidev:json-smart:jar:2.4.7:compile\r\n    [INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\r\n    [INFO] |  |     \\- org.ow2.asm:asm:jar:9.1:compile\r\n\r\nand when I build with `mvn -U clean install` I have this message:\r\n\r\n    [WARNING] The POM for net.minidev:json-smart:jar:2.3-SNAPSHOT is missing, no dependency information available\r\n\r\nThe debug logs do not say anything more\r\n\r\nhow can I completely remove it ?\r\n\r\nThanks a lot for your help  ","title":"How to bypass json-smart:2.3-SNAPSHOT imported","body":"<p>I am building a Java Maven Project and I have a dependency &quot;net.minidev.json-smart:2.3-SNAPSHOT&quot; imported in my package hbase 2.4.9 with another dependency and this displays a warning and Jenkins takes 1 or 2 minutes to resolve only this dependency.</p>\n<p>the dependency tree is the following :</p>\n<p>org.apache.hbase:hbase-server:2.4.9 -&gt; org.apache.hadoop:hadoop-auth:2.10 -&gt; com.nimbusds:nimbus-jose-jwt:4.41.1 -&gt; net.minidev:json-smart:2.3-SNAPSHOT)</p>\n<p>But when I exclude hadoop-auth 2.10 to use latest ...</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\n        &lt;artifactId&gt;hbase-server&lt;/artifactId&gt;\n        &lt;version&gt;2.4.9&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n                &lt;artifactId&gt;hadoop-auth&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-auth&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have this dependency-tree:</p>\n<pre><code>[INFO] +- org.apache.hadoop:hadoop-auth:jar:3.3.2:compile\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\n[INFO] |  +- com.nimbusds:nimbus-jose-jwt:jar:9.8.1:compile\n[INFO] |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:compile\n[INFO] |  +- net.minidev:json-smart:jar:2.4.7:compile\n[INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\n[INFO] |  |     \\- org.ow2.asm:asm:jar:9.1:compile\n</code></pre>\n<p>and when I build with <code>mvn -U clean install</code> I have this message:</p>\n<pre><code>[WARNING] The POM for net.minidev:json-smart:jar:2.3-SNAPSHOT is missing, no dependency information available\n</code></pre>\n<p>The debug logs do not say anything more</p>\n<p>how can I completely remove it ?</p>\n<p>Thanks a lot for your help</p>\n"},{"tags":["java","substring","brackets"],"comments":[{"owner":{"account_id":4284874,"reputation":835,"user_id":3503018,"accept_rate":38,"display_name":"soufrk"},"score":0,"creation_date":1528455173,"post_id":50759012,"comment_id":88525407,"body_markdown":"So what is your question ?","body":"So what is your question ?"},{"owner":{"account_id":13687210,"reputation":55,"user_id":9876023,"display_name":"Sia_malhotra"},"score":0,"creation_date":1528457363,"post_id":50759012,"comment_id":88526632,"body_markdown":"wnat to write in code so that it would automatically print all the possible combination of a set of bracket and expession so that they can be evaluated later is my question @soufrk","body":"wnat to write in code so that it would automatically print all the possible combination of a set of bracket and expession so that they can be evaluated later is my question @soufrk"}],"answers":[{"tags":[],"owner":{"account_id":1894006,"reputation":140,"user_id":1711367,"display_name":"ideano1"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665514897,"creation_date":1528457551,"answer_id":50759732,"question_id":50759012,"body_markdown":"clarify me whether your output seems to be wrong , as  `myExpression=a|b|c&amp;d` \r\n so when wrapping up this with brackets, the valid one will be as,\r\n\r\n    ((a|b)|(c&amp;d))\r\n\r\nbut what your example showing is \r\n\r\n    (((a|b)|c)|d)\r\n\r\nwhich is wrong as you dont have `&amp;` in it.\r\n","title":"how to print all the possible combination of a set of bracket and expession so that they can be evaluated later?","body":"<p>clarify me whether your output seems to be wrong , as  <code>myExpression=a|b|c&amp;d</code>\nso when wrapping up this with brackets, the valid one will be as,</p>\n<pre><code>((a|b)|(c&amp;d))\n</code></pre>\n<p>but what your example showing is</p>\n<pre><code>(((a|b)|c)|d)\n</code></pre>\n<p>which is wrong as you dont have <code>&amp;</code> in it.</p>\n"}],"owner":{"account_id":13687210,"reputation":55,"user_id":9876023,"display_name":"Sia_malhotra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1665514897,"creation_date":1528455050,"question_id":50759012,"body_markdown":"Below is a code snippet where brack is a set of brackets which are balanced and myExpression contains a logical operation may be having a | and &amp; operator. Is there any way by which I can print all possible combination of bracket. \r\n\r\n     /*  //  myExpression=a|b|c&amp;d brack=((()))    */\r\n            \r\n\r\n    brack = brack.substring(0,1) + brack.substring(1,2) + brack.substring(2,3) + \r\n      myExpression.substring(0,3) + brack.substring(3,4) + \r\n      myExpression.substring(3,5) + brack.substring(4,5) + \r\n      myExpression.substring(5,7) + brack.substring(5,6);\r\n\r\nThis is a manual approach I have tried.\r\nThese should print `(((a|b)|c)&amp;d), (a|(b|(c&amp;d))), ((a|b)|(c&amp;d)), (a|((b|c)&amp;d)), ((a|(b|c))&amp;d)` and as soon as we increase the brackets and expression length then it should show all the possible combination of bracket and variables.","title":"how to print all the possible combination of a set of bracket and expession so that they can be evaluated later?","body":"<p>Below is a code snippet where brack is a set of brackets which are balanced and myExpression contains a logical operation may be having a | and &amp; operator. Is there any way by which I can print all possible combination of bracket. </p>\n\n<pre><code> /*  //  myExpression=a|b|c&amp;d brack=((()))    */\n\n\nbrack = brack.substring(0,1) + brack.substring(1,2) + brack.substring(2,3) + \n  myExpression.substring(0,3) + brack.substring(3,4) + \n  myExpression.substring(3,5) + brack.substring(4,5) + \n  myExpression.substring(5,7) + brack.substring(5,6);\n</code></pre>\n\n<p>This is a manual approach I have tried.\nThese should print <code>(((a|b)|c)&amp;d), (a|(b|(c&amp;d))), ((a|b)|(c&amp;d)), (a|((b|c)&amp;d)), ((a|(b|c))&amp;d)</code> and as soon as we increase the brackets and expression length then it should show all the possible combination of bracket and variables.</p>\n"},{"tags":["java","sonarqube","windows-server-2012","sonarqube-scan"],"answers":[{"tags":[],"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1534881339,"creation_date":1534881339,"answer_id":51955817,"question_id":51951961,"body_markdown":"This is only a warning. And you see it because you use Java 9 or higher which introduced concept of modules. That concept also provides possibilities to limit access event to methods annotated as `public`. \r\nAnd in your case you use Java 9 or higher with SonarQube version which doesn&#39;t support Java modules. \r\nYour SonarQube version uses reflection to access `java.nio.DirectByteBuffer` which was made internal JVM class and not directly accessible for other modules.\r\nBut because such access restriction due to Java modules introduction was a big change Java 9 only shows warnings in case of illegal reflection accesses.\r\nSo if SonarQube works OK in your case you may continue to work but upgrade to next Java version may break it.\r\nYou may try to upgrade SonarQube version to version compatible with Java 9 and higher if you do not want those warnings to appear in logs.","title":"Why am I seeing &quot;An illegal reflective access operation has occurred&quot; from Sonarqube on Windows Server 2012?","body":"<p>This is only a warning. And you see it because you use Java 9 or higher which introduced concept of modules. That concept also provides possibilities to limit access event to methods annotated as <code>public</code>. \nAnd in your case you use Java 9 or higher with SonarQube version which doesn't support Java modules. \nYour SonarQube version uses reflection to access <code>java.nio.DirectByteBuffer</code> which was made internal JVM class and not directly accessible for other modules.\nBut because such access restriction due to Java modules introduction was a big change Java 9 only shows warnings in case of illegal reflection accesses.\nSo if SonarQube works OK in your case you may continue to work but upgrade to next Java version may break it.\nYou may try to upgrade SonarQube version to version compatible with Java 9 and higher if you do not want those warnings to appear in logs.</p>\n"}],"owner":{"account_id":1215378,"reputation":2564,"user_id":1183088,"accept_rate":62,"display_name":"Jack M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2595,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51955817,"answer_count":1,"score":2,"last_activity_date":1665514774,"creation_date":1534864942,"question_id":51951961,"body_markdown":"I am running Sonarqube on Windows Server 2012 without a SQL database, but I am getting this error:\r\n\r\n```\r\nSonarQube installed.\r\n--&gt; Wrapper Started as Console\r\nLaunching a JVM...\r\nWrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\r\n  Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\r\n2018.08.21 16:01:49 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\r\n2018.08.21 16:01:49 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on /127.0.0.1:9001\r\n2018.08.21 16:01:49 INFO  app[][o.s.a.p.ProcessLauncherImpl] Launch process[[key=&#39;es&#39;, ipcIndex=1, logFilenamePrefix=es]] from \r\n[C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\elasticsearch]: \r\nC:\\Program Files\\Java\\jre-10.0.2\\bin\\java -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:+AlwaysPreTouch -server -Xss1m -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djna.nosys=true -Djdk.io.permissionsUseCanonicalPath=true -Dio.netty.noUnsafe=true -Dio.netty.noKeySetOptimization=true -Dio.netty.recycler.maxCapacityPerThread=0 -Dlog4j.shutdownHookEnabled=false -Dlog4j2.disable.jmx=true -Dlog4j.skipJansi=true -Xms512m -Xmx512m -XX:+HeapDumpOnOutOfMemoryError -Delasticsearch -Des.path.home=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\elasticsearch -cp lib/* org.elasticsearch.bootstrap.Elasticsearch -Epath.conf=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\\conf\\es\r\n2018.08.21 16:01:49 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\r\nJava HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\n2018.08.21 16:01:49 INFO  app[][o.e.p.PluginsService] no modules loaded\r\n2018.08.21 16:01:49 INFO  app[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.transport.Netty4Plugin]\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/C:/Users/teamcityuser/Desktop/sonarqube/sonarqube-7.3/lib/common/netty-common-4.1.13.Final.jar) to constructor java.nio.DirectByteBuffer(long,int)\r\nWARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n2018.08.21 16:01:58 INFO  app[][o.s.a.SchedulerImpl] Process[es] is up\r\n2018.08.21 16:01:58 INFO  app[][o.s.a.p.ProcessLauncherImpl] Launch process[[key=&#39;web&#39;, ipcIndex=2, logFilenamePrefix=web]] from [C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3]: C:\\Program Files\\Java\\jre-10.0.2\\bin\\java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.io.tmpdir=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -cp ./lib/common/*;C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\lib\\jdbc\\h2\\h2-1.3.176.jar org.sonar.server.app.WebServer C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\\sq-process1965346097759412139properties\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/C:/Users/teamcityuser/Desktop/sonarqube/sonarqube-7.3/lib/common/netty-common-4.1.13.Final.jar) to constructor java.nio.DirectByteBuffer(long,int)\r\nWARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n2018.08.21 16:02:36 INFO  app[][o.s.a.SchedulerImpl] Process[web] is up\r\n2018.08.21 16:02:36 INFO  app[][o.s.a.p.ProcessLauncherImpl] Launch process[[key=&#39;ce&#39;, ipcIndex=3, logFilenamePrefix=ce]] from [C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3]: C:\\Program Files\\Java\\jre-10.0.2\\bin\\java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.io.tmpdir=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -cp ./lib/common/*;C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\lib\\jdbc\\h2\\h2-1.3.176.jar org.sonar.ce.app.CeServer C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\\sq-process9239565289637734744properties\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/C:/Users/teamcityuser/Desktop/sonarqube/sonarqube-7.3/lib/common/netty-common-4.1.13.Final.jar) to constructor java.nio.DirectByteBuffer(long,int)\r\nWARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n2018.08.21 16:02:42 INFO  app[][o.s.a.SchedulerImpl] Process[ce] is up\r\n2018.08.21 16:02:42 INFO  app[][o.s.a.SchedulerImpl] SonarQube is up\r\n```","title":"Why am I seeing &quot;An illegal reflective access operation has occurred&quot; from Sonarqube on Windows Server 2012?","body":"<p>I am running Sonarqube on Windows Server 2012 without a SQL database, but I am getting this error:</p>\n<pre><code>SonarQube installed.\n--&gt; Wrapper Started as Console\nLaunching a JVM...\nWrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\n  Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\n2018.08.21 16:01:49 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\n2018.08.21 16:01:49 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on /127.0.0.1:9001\n2018.08.21 16:01:49 INFO  app[][o.s.a.p.ProcessLauncherImpl] Launch process[[key='es', ipcIndex=1, logFilenamePrefix=es]] from \n[C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\elasticsearch]: \nC:\\Program Files\\Java\\jre-10.0.2\\bin\\java -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:+AlwaysPreTouch -server -Xss1m -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djna.nosys=true -Djdk.io.permissionsUseCanonicalPath=true -Dio.netty.noUnsafe=true -Dio.netty.noKeySetOptimization=true -Dio.netty.recycler.maxCapacityPerThread=0 -Dlog4j.shutdownHookEnabled=false -Dlog4j2.disable.jmx=true -Dlog4j.skipJansi=true -Xms512m -Xmx512m -XX:+HeapDumpOnOutOfMemoryError -Delasticsearch -Des.path.home=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\elasticsearch -cp lib/* org.elasticsearch.bootstrap.Elasticsearch -Epath.conf=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\\conf\\es\n2018.08.21 16:01:49 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\nJava HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\n2018.08.21 16:01:49 INFO  app[][o.e.p.PluginsService] no modules loaded\n2018.08.21 16:01:49 INFO  app[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.transport.Netty4Plugin]\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/C:/Users/teamcityuser/Desktop/sonarqube/sonarqube-7.3/lib/common/netty-common-4.1.13.Final.jar) to constructor java.nio.DirectByteBuffer(long,int)\nWARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2018.08.21 16:01:58 INFO  app[][o.s.a.SchedulerImpl] Process[es] is up\n2018.08.21 16:01:58 INFO  app[][o.s.a.p.ProcessLauncherImpl] Launch process[[key='web', ipcIndex=2, logFilenamePrefix=web]] from [C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3]: C:\\Program Files\\Java\\jre-10.0.2\\bin\\java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.io.tmpdir=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -cp ./lib/common/*;C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\lib\\jdbc\\h2\\h2-1.3.176.jar org.sonar.server.app.WebServer C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\\sq-process1965346097759412139properties\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/C:/Users/teamcityuser/Desktop/sonarqube/sonarqube-7.3/lib/common/netty-common-4.1.13.Final.jar) to constructor java.nio.DirectByteBuffer(long,int)\nWARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2018.08.21 16:02:36 INFO  app[][o.s.a.SchedulerImpl] Process[web] is up\n2018.08.21 16:02:36 INFO  app[][o.s.a.p.ProcessLauncherImpl] Launch process[[key='ce', ipcIndex=3, logFilenamePrefix=ce]] from [C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3]: C:\\Program Files\\Java\\jre-10.0.2\\bin\\java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.io.tmpdir=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -cp ./lib/common/*;C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\lib\\jdbc\\h2\\h2-1.3.176.jar org.sonar.ce.app.CeServer C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\\sq-process9239565289637734744properties\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/C:/Users/teamcityuser/Desktop/sonarqube/sonarqube-7.3/lib/common/netty-common-4.1.13.Final.jar) to constructor java.nio.DirectByteBuffer(long,int)\nWARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2018.08.21 16:02:42 INFO  app[][o.s.a.SchedulerImpl] Process[ce] is up\n2018.08.21 16:02:42 INFO  app[][o.s.a.SchedulerImpl] SonarQube is up\n</code></pre>\n"},{"tags":["java","security","wildfly","elytron"],"answers":[{"tags":[],"owner":{"account_id":25804559,"reputation":161,"user_id":19546298,"display_name":"cam-rod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665514652,"creation_date":1665514652,"answer_id":74032876,"question_id":74017764,"body_markdown":"1. No, vaults are [a legacy tool](https://docs.wildfly.org/19/WildFly_Elytron_Security.html#Security_Vault_Migration) and you should use a credential store to secure passwords.\r\n2. Yes, those commands should be sufficient. You can find more information in the [Elytron documentation](https://docs.wildfly.org/19/WildFly_Elytron_Security.html#create-and-use-a-credential-store). The [docs for the current Wildfly 26.1](https://docs.wildfly.org/26.1/WildFly_Elytron_Security.html#CredentialStore) may also be helpful.\r\n3. You can find [an example application here](https://github.com/wildfly-security-incubator/elytron-examples/tree/main/credential-store).","title":"How to get a password from Wildfly","body":"<ol>\n<li>No, vaults are <a href=\"https://docs.wildfly.org/19/WildFly_Elytron_Security.html#Security_Vault_Migration\" rel=\"nofollow noreferrer\">a legacy tool</a> and you should use a credential store to secure passwords.</li>\n<li>Yes, those commands should be sufficient. You can find more information in the <a href=\"https://docs.wildfly.org/19/WildFly_Elytron_Security.html#create-and-use-a-credential-store\" rel=\"nofollow noreferrer\">Elytron documentation</a>. The <a href=\"https://docs.wildfly.org/26.1/WildFly_Elytron_Security.html#CredentialStore\" rel=\"nofollow noreferrer\">docs for the current Wildfly 26.1</a> may also be helpful.</li>\n<li>You can find <a href=\"https://github.com/wildfly-security-incubator/elytron-examples/tree/main/credential-store\" rel=\"nofollow noreferrer\">an example application here</a>.</li>\n</ol>\n"}],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74032876,"answer_count":1,"score":-1,"last_activity_date":1665514652,"creation_date":1665418237,"question_id":74017764,"body_markdown":"I have a password to some service. I need to save it in WildFly 19 and then get it in a java application. \r\n\r\nI found a certain amount of information, but I&#39;m not sure if it&#39;s outdated.\r\n1. Do I need vault?\r\n2. How do I write my password to the Wildfly? I found the following commands. Is this enough to save the password?\r\n```\r\n/subsystem=elytron/credential-store=test:add(relative-to=jboss.server.data.dir, location=test.jceks, create=true,credential-reference={clear-text=storepass})\r\n\r\n/subsystem=elytron/credential-store=test:add-alias(alias=keystorepw,secret-value=secret)\r\n```\r\n3. How do I get a password in a java application?","title":"How to get a password from Wildfly","body":"<p>I have a password to some service. I need to save it in WildFly 19 and then get it in a java application.</p>\n<p>I found a certain amount of information, but I'm not sure if it's outdated.</p>\n<ol>\n<li>Do I need vault?</li>\n<li>How do I write my password to the Wildfly? I found the following commands. Is this enough to save the password?</li>\n</ol>\n<pre><code>/subsystem=elytron/credential-store=test:add(relative-to=jboss.server.data.dir, location=test.jceks, create=true,credential-reference={clear-text=storepass})\n\n/subsystem=elytron/credential-store=test:add-alias(alias=keystorepw,secret-value=secret)\n</code></pre>\n<ol start=\"3\">\n<li>How do I get a password in a java application?</li>\n</ol>\n"},{"tags":["java","sorting","comparator","comparable"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1492902784,"post_id":43565582,"comment_id":74182048,"body_markdown":"Your basic implementation of `Comparable` compares the names of the hills, it has nothing to do with the height","body":"Your basic implementation of <code>Comparable</code> compares the names of the hills, it has nothing to do with the height"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1492902963,"post_id":43565582,"comment_id":74182078,"body_markdown":"Create a new `Comparator` which implements the logic you need to compare the `height`s and use that with `Collections.sort`","body":"Create a new <code>Comparator</code> which implements the logic you need to compare the <code>height</code>s and use that with <code>Collections.sort</code>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1494430576,"post_id":43565582,"comment_id":74828005,"body_markdown":"By defacing your question you&#39;ve rendered it off-topic.","body":"By defacing your question you&#39;ve rendered it off-topic."},{"owner":{"account_id":1348049,"reputation":5104,"user_id":1288408,"display_name":"Modus Tollens"},"score":0,"creation_date":1494430797,"post_id":43565582,"comment_id":74828156,"body_markdown":"Hi Benjamin, I rolled back your edit to keep your question on-topic.","body":"Hi Benjamin, I rolled back your edit to keep your question on-topic."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492903036,"creation_date":1492903036,"answer_id":43565644,"question_id":43565582,"body_markdown":"Here is an example that shows how you can use `Comparable` or a `Comparator`:\r\n\r\n    /*\r\n    **  Use the Collections API to sort a List for you.\r\n    **\r\n    **  When your class has a &quot;natural&quot; sort order you can implement\r\n    **  the Comparable interface.\r\n    **\r\n    **  You can use an alternate sort order when you implement\r\n    **  a Comparator for your class.\r\n    */\r\n    import java.util.*;\r\n    \r\n    public class Person implements Comparable&lt;Person&gt;\r\n    {\r\n    \tString name;\r\n    \tint age;\r\n    \r\n    \tpublic Person(String name, int age)\r\n    \t{\r\n    \t   \tthis.name = name;\r\n    \t   \tthis.age = age;\r\n    \t}\r\n    \r\n    \tpublic String getName()\r\n    \t{\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic int getAge()\r\n    \t{\r\n    \t\treturn age;\r\n    \t}\r\n    \r\n    \tpublic String toString()\r\n    \t{\r\n    \t\treturn name + &quot; : &quot; + age;\r\n    \t}\r\n    \r\n    \t/*\r\n    \t**  Implement the natural order for this class\r\n    \t*/\r\n    \tpublic int compareTo(Person p)\r\n    \t{\r\n    \t\treturn getName().compareTo(p.getName());\r\n    \t}\r\n    \r\n    \tstatic class AgeComparator implements Comparator&lt;Person&gt;\r\n    \t{\r\n    \t\tpublic int compare(Person p1, Person p2)\r\n    \t\t{\r\n    \t\t\treturn p1.getAge() - p2.getAge();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tList&lt;Person&gt; people = new ArrayList&lt;Person&gt;();\r\n    \t\tpeople.add( new Person(&quot;Homer&quot;, 38) );\r\n    \t\tpeople.add( new Person(&quot;Marge&quot;, 35) );\r\n    \t\tpeople.add( new Person(&quot;Bart&quot;, 15) );\r\n    \t\tpeople.add( new Person(&quot;Lisa&quot;, 13) );\r\n    \r\n    \t\t// Sort by natural order\r\n    \r\n    \t\tCollections.sort(people);\r\n    \t\tSystem.out.println(&quot;Sort by Natural order&quot;);\r\n    \t\tSystem.out.println(&quot;\\t&quot; + people);\r\n    \r\n    \t\t// Sort by reverse natural order\r\n    \r\n    \t\tCollections.sort(people, Collections.reverseOrder());\r\n    \t\tSystem.out.println(&quot;Sort by reverse natural order&quot;);\r\n    \t\tSystem.out.println(&quot;\\t&quot; + people);\r\n    \r\n    \t\t//  Use a Comparator to sort by age\r\n    \r\n    \t\tCollections.sort(people, new Person.AgeComparator());\r\n    \t\tSystem.out.println(&quot;Sort using Age Comparator&quot;);\r\n    \t\tSystem.out.println(&quot;\\t&quot; + people);\r\n    \r\n    \t\t//  Use a Comparator to sort by descending age\r\n    \r\n    \t\tCollections.sort(people, Collections.reverseOrder(new Person.AgeComparator()));\r\n    \t\tSystem.out.println(&quot;Sort using Reverse Age Comparator&quot;);\r\n    \t\tSystem.out.println(&quot;\\t&quot; + people);\r\n    \r\n    \t\t//  Use a Comparator with lambda expression to sort by age\r\n    \r\n    //\t\tCollections.sort(people, (o1, o2) -&gt; o1.getAge() - o2.getAge());\r\n    //\t\tCollections.sort(people, Comparator.comparingInt(p -&gt; p.getAge()));\r\n    \t\tCollections.sort(people, Comparator.comparingInt(Person::getAge));\r\n    \t\tSystem.out.println(&quot;Sort using Lambda Age Comparator&quot;);\r\n    \t\tSystem.out.println(&quot;\\t&quot; + people);\r\n    \t}\r\n    }\r\n\r\nSo you just need to implement the `Comparator` for your `Hill` class on whatever property(s) you want.","title":"Descending sort of object using comparable or comparator","body":"<p>Here is an example that shows how you can use <code>Comparable</code> or a <code>Comparator</code>:</p>\n\n<pre><code>/*\n**  Use the Collections API to sort a List for you.\n**\n**  When your class has a \"natural\" sort order you can implement\n**  the Comparable interface.\n**\n**  You can use an alternate sort order when you implement\n**  a Comparator for your class.\n*/\nimport java.util.*;\n\npublic class Person implements Comparable&lt;Person&gt;\n{\n    String name;\n    int age;\n\n    public Person(String name, int age)\n    {\n        this.name = name;\n        this.age = age;\n    }\n\n    public String getName()\n    {\n        return name;\n    }\n\n    public int getAge()\n    {\n        return age;\n    }\n\n    public String toString()\n    {\n        return name + \" : \" + age;\n    }\n\n    /*\n    **  Implement the natural order for this class\n    */\n    public int compareTo(Person p)\n    {\n        return getName().compareTo(p.getName());\n    }\n\n    static class AgeComparator implements Comparator&lt;Person&gt;\n    {\n        public int compare(Person p1, Person p2)\n        {\n            return p1.getAge() - p2.getAge();\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        List&lt;Person&gt; people = new ArrayList&lt;Person&gt;();\n        people.add( new Person(\"Homer\", 38) );\n        people.add( new Person(\"Marge\", 35) );\n        people.add( new Person(\"Bart\", 15) );\n        people.add( new Person(\"Lisa\", 13) );\n\n        // Sort by natural order\n\n        Collections.sort(people);\n        System.out.println(\"Sort by Natural order\");\n        System.out.println(\"\\t\" + people);\n\n        // Sort by reverse natural order\n\n        Collections.sort(people, Collections.reverseOrder());\n        System.out.println(\"Sort by reverse natural order\");\n        System.out.println(\"\\t\" + people);\n\n        //  Use a Comparator to sort by age\n\n        Collections.sort(people, new Person.AgeComparator());\n        System.out.println(\"Sort using Age Comparator\");\n        System.out.println(\"\\t\" + people);\n\n        //  Use a Comparator to sort by descending age\n\n        Collections.sort(people, Collections.reverseOrder(new Person.AgeComparator()));\n        System.out.println(\"Sort using Reverse Age Comparator\");\n        System.out.println(\"\\t\" + people);\n\n        //  Use a Comparator with lambda expression to sort by age\n\n//      Collections.sort(people, (o1, o2) -&gt; o1.getAge() - o2.getAge());\n//      Collections.sort(people, Comparator.comparingInt(p -&gt; p.getAge()));\n        Collections.sort(people, Comparator.comparingInt(Person::getAge));\n        System.out.println(\"Sort using Lambda Age Comparator\");\n        System.out.println(\"\\t\" + people);\n    }\n}\n</code></pre>\n\n<p>So you just need to implement the <code>Comparator</code> for your <code>Hill</code> class on whatever property(s) you want.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1492903049,"creation_date":1492903049,"answer_id":43565647,"question_id":43565582,"body_markdown":"Your basic implementation of `Comparable` compares the names of the hills, it has nothing to do with the height\r\n\r\n&gt; How can I adjust Comparable so that it allows me to sort by name and then by height after?\r\n\r\nCreate a new Comparator which implements the logic you need to compare the heights and use that with Collections.sort\r\n\r\n\tCollections.sort(listOfHills, new Comparator&lt;Hill&gt;() {\r\n\t\t@Override\r\n\t\tpublic int compare(Hill o1, Hill o2) {\r\n\t\t\treturn o2.height &gt; o1.height ? (o2.height == o1.height ? 0 : 1) : -1;\r\n\t\t}\r\n\t});\r\n\r\nThis is one of the reasons I don&#39;t normally implement `Comparator` on objects, unless their is a good business rule associated with how the object should be compared, it&#39;s easily to provide a number of custom `Comparator`s (or allow other developers to devise their own) which implement &quot;common&quot; algorithms - but that&#39;s me","title":"Descending sort of object using comparable or comparator","body":"<p>Your basic implementation of <code>Comparable</code> compares the names of the hills, it has nothing to do with the height</p>\n\n<blockquote>\n  <p>How can I adjust Comparable so that it allows me to sort by name and then by height after?</p>\n</blockquote>\n\n<p>Create a new Comparator which implements the logic you need to compare the heights and use that with Collections.sort</p>\n\n<pre><code>Collections.sort(listOfHills, new Comparator&lt;Hill&gt;() {\n    @Override\n    public int compare(Hill o1, Hill o2) {\n        return o2.height &gt; o1.height ? (o2.height == o1.height ? 0 : 1) : -1;\n    }\n});\n</code></pre>\n\n<p>This is one of the reasons I don't normally implement <code>Comparator</code> on objects, unless their is a good business rule associated with how the object should be compared, it's easily to provide a number of custom <code>Comparator</code>s (or allow other developers to devise their own) which implement \"common\" algorithms - but that's me</p>\n"}],"owner":{"display_name":"user5568417"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":43565647,"answer_count":2,"score":-1,"last_activity_date":1665514581,"creation_date":1492902412,"question_id":43565582,"body_markdown":"So I have a Hill object that contains information about hills that is obtained from a CSV file. The file looks like this:\r\n    \r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.*;\r\n\r\n    \r\n    \r\n    public class Hill implements Comparable&lt;Hill&gt;{\r\n        public static final String CSV_FILE_URL = &quot;HIDDEN&quot;;\r\n        public static final String DELIMITER = &quot;,&quot;;\r\n        public int number;\r\n        public String name,county;\r\n        public double height,lat,lon;\r\n    \r\n    \r\n        public Hill(int number,String name,String county,double height,double lat,double lon){\r\n            this.number = number;\r\n            this.name = name;\r\n            this.county = county;\r\n            this.height = height;\r\n            this.lat = lat;\r\n            this.lon = lon;\r\n    \r\n        }\r\n    \r\n        public String toString(){\r\n            return(number + &quot;, &quot; + name + &quot;, &quot; + county + &quot;, &quot; + height + &quot;, &quot; + lat + &quot;, &quot; + lon);\r\n        }\r\n    \r\n        public static List&lt;Hill&gt; readHills() throws IOException{\r\n            String[] fields = new String[0];\r\n            URL url = new URL(CSV_FILE_URL);\r\n            Scanner input = new Scanner(url.openConnection().getInputStream());\r\n            List&lt;Hill&gt; hillList = new ArrayList&lt;&gt;();\r\n            input.nextLine();\r\n            while(input.hasNextLine()){\r\n                fields = input.nextLine().split(DELIMITER);\r\n                Hill hill = new Hill(Integer.parseInt(fields[0]),fields[1],fields[2],Double.parseDouble(fields[3]),Double.parseDouble(fields[4]),Double.parseDouble(fields[5]));\r\n                hillList.add(hill);\r\n    \r\n            }\r\n    \r\n            return hillList;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int compareTo(Hill o) {\r\n            return this.name.compareTo(o.name);\r\n        }\r\n        \r\n    \r\n    }\r\n\r\nInside my exercise class I am currently able to sort the hills alphabetically using the Comparable interface. I then get it to print the first 20 hills.\r\n\r\nNow I wish to sort the hills list by height but descending so that I can print out the 20 tallest hills.\r\n    \r\n    import java.io.IOException;\r\n    import java.util.*;\r\n\r\n    public class Exercise5 {\r\n\r\n        public static void exercise5d() throws IOException {\r\n            System.out.println(&quot;### Exercise 5D ###&quot;);\r\n            List listOfHills = Hill.readHills();\r\n            Collections.sort(listOfHills);\r\n            for(int x=0;x&lt;20;x++){\r\n                System.out.println(listOfHills.get(x));\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n    \r\n            //Attempt at reversing\r\n            Comparator&lt;Hill&gt; HillComparator = Collections.reverseOrder();\r\n            Collections.sort(listOfHills,HillComparator);\r\n            for(int x=0;x&lt;20;x++){\r\n                System.out.println(listOfHills.get(x));\r\n            }\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            exercise5d();\r\n        }\r\n    }\r\n\r\n","title":"Descending sort of object using comparable or comparator","body":"<p>So I have a Hill object that contains information about hills that is obtained from a CSV file. The file looks like this:</p>\n<pre><code>import java.io.IOException;\nimport java.net.URL;\nimport java.util.*;\n\n\n\npublic class Hill implements Comparable&lt;Hill&gt;{\n    public static final String CSV_FILE_URL = &quot;HIDDEN&quot;;\n    public static final String DELIMITER = &quot;,&quot;;\n    public int number;\n    public String name,county;\n    public double height,lat,lon;\n\n\n    public Hill(int number,String name,String county,double height,double lat,double lon){\n        this.number = number;\n        this.name = name;\n        this.county = county;\n        this.height = height;\n        this.lat = lat;\n        this.lon = lon;\n\n    }\n\n    public String toString(){\n        return(number + &quot;, &quot; + name + &quot;, &quot; + county + &quot;, &quot; + height + &quot;, &quot; + lat + &quot;, &quot; + lon);\n    }\n\n    public static List&lt;Hill&gt; readHills() throws IOException{\n        String[] fields = new String[0];\n        URL url = new URL(CSV_FILE_URL);\n        Scanner input = new Scanner(url.openConnection().getInputStream());\n        List&lt;Hill&gt; hillList = new ArrayList&lt;&gt;();\n        input.nextLine();\n        while(input.hasNextLine()){\n            fields = input.nextLine().split(DELIMITER);\n            Hill hill = new Hill(Integer.parseInt(fields[0]),fields[1],fields[2],Double.parseDouble(fields[3]),Double.parseDouble(fields[4]),Double.parseDouble(fields[5]));\n            hillList.add(hill);\n\n        }\n\n        return hillList;\n    }\n\n\n    @Override\n    public int compareTo(Hill o) {\n        return this.name.compareTo(o.name);\n    }\n    \n\n}\n</code></pre>\n<p>Inside my exercise class I am currently able to sort the hills alphabetically using the Comparable interface. I then get it to print the first 20 hills.</p>\n<p>Now I wish to sort the hills list by height but descending so that I can print out the 20 tallest hills.</p>\n<pre><code>import java.io.IOException;\nimport java.util.*;\n\npublic class Exercise5 {\n\n    public static void exercise5d() throws IOException {\n        System.out.println(&quot;### Exercise 5D ###&quot;);\n        List listOfHills = Hill.readHills();\n        Collections.sort(listOfHills);\n        for(int x=0;x&lt;20;x++){\n            System.out.println(listOfHills.get(x));\n        }\n        System.out.println(&quot;&quot;);\n\n        //Attempt at reversing\n        Comparator&lt;Hill&gt; HillComparator = Collections.reverseOrder();\n        Collections.sort(listOfHills,HillComparator);\n        for(int x=0;x&lt;20;x++){\n            System.out.println(listOfHills.get(x));\n        }\n\n\n\n    }\n\n    public static void main(String[] args) throws IOException {\n        exercise5d();\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1665522707,"post_id":74032856,"comment_id":130719801,"body_markdown":"As a regular java app or within a container? Within a container, you generally point the persistence unit at a container managed connection pool. EclipseLink&#39;s internal &#39;pool&#39; is mostly for dev use and while I&#39;ve seen shops use it in production, but most will configure an external connection pool and have EclipseLink use it instead when they get to performance tuning - you can give it a DataSource instance in the jtaDataSource/nonJtaDataSource property instead of just a string.","body":"As a regular java app or within a container? Within a container, you generally point the persistence unit at a container managed connection pool. EclipseLink&#39;s internal &#39;pool&#39; is mostly for dev use and while I&#39;ve seen shops use it in production, but most will configure an external connection pool and have EclipseLink use it instead when they get to performance tuning - you can give it a DataSource instance in the jtaDataSource/nonJtaDataSource property instead of just a string."},{"owner":{"account_id":14428183,"reputation":137,"user_id":10422248,"display_name":"Sabari"},"score":0,"creation_date":1665555561,"post_id":74032856,"comment_id":130725076,"body_markdown":"Thank you for the quick response! This is for a regular java app. So the idea is to point to a Datasource !?, and have all idle connection settings inside the Datasource. Please correct if I have misunderstood this.","body":"Thank you for the quick response! This is for a regular java app. So the idea is to point to a Datasource !?, and have all idle connection settings inside the Datasource. Please correct if I have misunderstood this."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1665588797,"post_id":74032856,"comment_id":130737510,"body_markdown":"Yes, that&#39;s what I&#39;ve done on projects where I need more control over pooling. EclipseLink&#39;s internal pooling is great, but runs synchronously in the app and why timeout/idle monitoring and some of the other features you&#39;ll find elsewhere are beyond what it supports.","body":"Yes, that&#39;s what I&#39;ve done on projects where I need more control over pooling. EclipseLink&#39;s internal pooling is great, but runs synchronously in the app and why timeout/idle monitoring and some of the other features you&#39;ll find elsewhere are beyond what it supports."}],"owner":{"account_id":14428183,"reputation":137,"user_id":10422248,"display_name":"Sabari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665514538,"creation_date":1665514538,"question_id":74032856,"body_markdown":"I am trying to use EclipseLink JPA for a sample java application. I am trying to configure the connection pool related settings in the persistence.xml, but I could not find any suitable property for specifying the minimum Idle connections to be maintained in the connection pool. I was not able to find any details around this property or idle connection time out property in the Eclipselink documentation, [here][1]. Can someone please point me to the documentation links that I am looking for?\r\n\r\n\r\n  [1]: https://www.eclipse.org/eclipselink/documentation/2.7/jpa/extensions/persistenceproperties_ref.htm#connectionpool\r\n\r\n\r\n","title":"EclipseLink - Connection Pool Settings - Idle Connections","body":"<p>I am trying to use EclipseLink JPA for a sample java application. I am trying to configure the connection pool related settings in the persistence.xml, but I could not find any suitable property for specifying the minimum Idle connections to be maintained in the connection pool. I was not able to find any details around this property or idle connection time out property in the Eclipselink documentation, <a href=\"https://www.eclipse.org/eclipselink/documentation/2.7/jpa/extensions/persistenceproperties_ref.htm#connectionpool\" rel=\"nofollow noreferrer\">here</a>. Can someone please point me to the documentation links that I am looking for?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1665514021,"post_id":74003023,"comment_id":130717241,"body_markdown":"Could you amend this question so that the question post is a question, and the answer is posted in the answer section? Thanks!","body":"Could you amend this question so that the question post is a question, and the answer is posted in the answer section? Thanks!"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":2,"creation_date":1665514052,"post_id":74003023,"comment_id":130717259,"body_markdown":"As interesting this is, this needs to be in Q&amp;A format to be on-topic.","body":"As interesting this is, this needs to be in Q&amp;A format to be on-topic."}],"answers":[{"tags":[],"owner":{"account_id":20308672,"reputation":3,"user_id":14896299,"display_name":"Sivan Kakkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665302352,"creation_date":1665302352,"answer_id":74003034,"question_id":74003023,"body_markdown":"this question is solved with answer given above.\r\n\r\nalso answer is provided on my github page: **https://github.com/bruce-Wayn/java-qns/blob/6a9714225b4884aefbdad0441e721416c5843576/magic-match-sticks.java**","title":"magic matchsticks problem geeks for geeks interview question","body":"<p>this question is solved with answer given above.</p>\n<p>also answer is provided on my github page: <strong><a href=\"https://github.com/bruce-Wayn/java-qns/blob/6a9714225b4884aefbdad0441e721416c5843576/magic-match-sticks.java\" rel=\"nofollow noreferrer\">https://github.com/bruce-Wayn/java-qns/blob/6a9714225b4884aefbdad0441e721416c5843576/magic-match-sticks.java</a></strong></p>\n"}],"owner":{"account_id":20308672,"reputation":3,"user_id":14896299,"display_name":"Sivan Kakkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665519217,"accepted_answer_id":74003034,"answer_count":1,"score":0,"last_activity_date":1665513985,"creation_date":1665302244,"question_id":74003023,"body_markdown":"I have given an interview in geeks for geeks where I was given a magic match sticks problem, I wasn&#39;t able to solve it in time. I solved it myself a day after, I wasn&#39;t able to find the solution as well on Stack Overflow, so here is the solution for you if you ever encounter that problem:\r\n\r\n```\r\n//magic match-stick problem\r\n/*in this problem set we are given n number of match boxes, \r\n* you need to add matches in a match that is \r\n* the n number of matches in each box,\r\n* but the catch is instead of adding the matches, \r\n* you need to subtract the matches pair that you will be inserting in place \r\n* of every new match stick until there is only last box left with final match stick score\r\n* eg: 1st match box: 4match sticks: 1,2,3,4 match numbers\r\n* 2nd time: 2 match sticks : (1-2), (3-4)=&gt; 1, 1\r\n* last time: (1-1) =&gt; 0\r\n* \r\n* I know I cannot explain the problem correctly in English, but I will be able to explain it to you in hindi v well\r\n* also if you can understand the code, you will understand the question\r\n* this took me one day to solve, many minor mistakes I did\r\n* this is a geeks for geeks interview question\r\n* question name magical matchsticks*/\r\n\r\npublic class practice{\r\n    public static void main(String args[]) {\t\r\n\t    int a[] = {1,2,3,4,5,6};\r\n\t\tint num;\r\n        int count;\r\n        int n = a.length;\r\n        \r\n\t    do\r\n        {\r\n\t\r\n\t    \tnum=0;\r\n\t    \tcount=0;\r\n\t    \t\r\n\t        if(n==1)\r\n            {\r\n\t            System.out.println(a[0]+&quot;last&quot;);\r\n\t        }\r\n\t        \r\n\t        else if(n&gt;1)\r\n            {\r\n\t        \t\r\n\t            \r\n\t            if(n%2==0)\r\n                {\r\n\t            \tn=n/2;\r\n\t            \t\r\n\t                for(int i = 0; i&lt;((n)) ; i++)\r\n                    {\r\n\t                \t\r\n\t                    a[i] = a[num]-a[num+1];\r\n\t                    \r\n\t                    if(a[i]&lt;0)\r\n                        {\r\n\t                        a[i] = a[i]*(-1);\r\n\t                        System.out.print(a[i]+&quot; &quot;+a[i + 1]);\r\n\t                    }\r\n\t                    \r\n\t                    System.out.println(&quot; a &quot;);\r\n\t                    \r\n\t                    num = num + 2;\r\n\t                    count++;\r\n\t                    \r\n\t                }\r\n\t            }\r\n\t            else if(n%2==1)\r\n               {\r\n\t            \tn = (n/2) +1;\r\n\t                for(int i = 0; i&lt;(n); i++)\r\n                   {    \r\n\t                    a[i] = a[num]-a[num+1];\r\n\t                    if(a[i]&lt;0)\r\n                        {\r\n\t                        a[i] = a[i]*(-1);\r\n\t                        System.out.print(a[i]+&quot; &quot;+a[i + 1]);\r\n\t                    }\r\n\t                    System.out.println(&quot;b &quot;);\r\n\t                    num = num + 2;\r\n\t                    count++;\r\n\t                }\r\n\t                \r\n\t            }\r\n\t        }\r\n\t        System.out.println(n);\r\n\t        for(int j = 0; j&lt;a.length;j++) \r\n            {\r\n\t        \tSystem.out.print(a[j]);\r\n\t        }\r\n\t        System.out.println(&quot; &quot;);\r\n\t            \r\n\t    }while(n&gt;1); \r\n\t    \r\n\t    \r\n\t    for(int k = 0; k&lt;a.length;k++) \r\n        {\r\n        \tSystem.out.print(a[k]);\r\n        }\r\n        System.out.println(&quot; &quot;);\r\n        \r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\nThis problem will show you all the steps as the program goes on, you will need to make changes so it returns value from a separate class or function.\r\n\r\nI&#39;ll be starting to provide solutions for competitive programming on this account.\r\n","title":"magic matchsticks problem geeks for geeks interview question","body":"<p>I have given an interview in geeks for geeks where I was given a magic match sticks problem, I wasn't able to solve it in time. I solved it myself a day after, I wasn't able to find the solution as well on Stack Overflow, so here is the solution for you if you ever encounter that problem:</p>\n<pre><code>//magic match-stick problem\n/*in this problem set we are given n number of match boxes, \n* you need to add matches in a match that is \n* the n number of matches in each box,\n* but the catch is instead of adding the matches, \n* you need to subtract the matches pair that you will be inserting in place \n* of every new match stick until there is only last box left with final match stick score\n* eg: 1st match box: 4match sticks: 1,2,3,4 match numbers\n* 2nd time: 2 match sticks : (1-2), (3-4)=&gt; 1, 1\n* last time: (1-1) =&gt; 0\n* \n* I know I cannot explain the problem correctly in English, but I will be able to explain it to you in hindi v well\n* also if you can understand the code, you will understand the question\n* this took me one day to solve, many minor mistakes I did\n* this is a geeks for geeks interview question\n* question name magical matchsticks*/\n\npublic class practice{\n    public static void main(String args[]) {    \n        int a[] = {1,2,3,4,5,6};\n        int num;\n        int count;\n        int n = a.length;\n        \n        do\n        {\n    \n            num=0;\n            count=0;\n            \n            if(n==1)\n            {\n                System.out.println(a[0]+&quot;last&quot;);\n            }\n            \n            else if(n&gt;1)\n            {\n                \n                \n                if(n%2==0)\n                {\n                    n=n/2;\n                    \n                    for(int i = 0; i&lt;((n)) ; i++)\n                    {\n                        \n                        a[i] = a[num]-a[num+1];\n                        \n                        if(a[i]&lt;0)\n                        {\n                            a[i] = a[i]*(-1);\n                            System.out.print(a[i]+&quot; &quot;+a[i + 1]);\n                        }\n                        \n                        System.out.println(&quot; a &quot;);\n                        \n                        num = num + 2;\n                        count++;\n                        \n                    }\n                }\n                else if(n%2==1)\n               {\n                    n = (n/2) +1;\n                    for(int i = 0; i&lt;(n); i++)\n                   {    \n                        a[i] = a[num]-a[num+1];\n                        if(a[i]&lt;0)\n                        {\n                            a[i] = a[i]*(-1);\n                            System.out.print(a[i]+&quot; &quot;+a[i + 1]);\n                        }\n                        System.out.println(&quot;b &quot;);\n                        num = num + 2;\n                        count++;\n                    }\n                    \n                }\n            }\n            System.out.println(n);\n            for(int j = 0; j&lt;a.length;j++) \n            {\n                System.out.print(a[j]);\n            }\n            System.out.println(&quot; &quot;);\n                \n        }while(n&gt;1); \n        \n        \n        for(int k = 0; k&lt;a.length;k++) \n        {\n            System.out.print(a[k]);\n        }\n        System.out.println(&quot; &quot;);\n        \n        \n    }\n}\n\n</code></pre>\n<p>This problem will show you all the steps as the program goes on, you will need to make changes so it returns value from a separate class or function.</p>\n<p>I'll be starting to provide solutions for competitive programming on this account.</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"score":0,"creation_date":1619708633,"post_id":67314324,"comment_id":118992490,"body_markdown":"It works fine for me on Linux with Bash...","body":"It works fine for me on Linux with Bash..."},{"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"score":0,"creation_date":1619716689,"post_id":67314324,"comment_id":118996230,"body_markdown":"Your gradle code works. You&#39;re messing up the setup of your env var. Run the &quot;export ...&quot; command from the same shell from where you run the gradlew script. Or just run it in one go with `USERNAME=test ./gradlew ...`","body":"Your gradle code works. You&#39;re messing up the setup of your env var. Run the &quot;export ...&quot; command from the same shell from where you run the gradlew script. Or just run it in one go with <code>USERNAME=test .&#47;gradlew ...</code>"},{"owner":{"account_id":11853101,"reputation":387,"user_id":8673809,"accept_rate":50,"display_name":"Kevin Dave"},"score":1,"creation_date":1619753421,"post_id":67314324,"comment_id":119005891,"body_markdown":"Tried both by running the &quot;export USERNAME=someusername&quot; and also &quot;USERNAME=someusername ./gradlew ...&quot; in the same shell that I use to run the gradlew script. Still failing","body":"Tried both by running the &quot;export USERNAME=someusername&quot; and also &quot;USERNAME=someusername ./gradlew ...&quot; in the same shell that I use to run the gradlew script. Still failing"},{"owner":{"account_id":1060892,"reputation":1641,"user_id":1062545,"accept_rate":17,"display_name":"Ross"},"score":0,"creation_date":1650997273,"post_id":67314324,"comment_id":127255329,"body_markdown":"@KevinDave have you ever found the solution for the problem?","body":"@KevinDave have you ever found the solution for the problem?"}],"answers":[{"tags":[],"owner":{"account_id":5467348,"reputation":43,"user_id":4347755,"display_name":"robboots"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665513877,"creation_date":1665513877,"answer_id":74032740,"question_id":67314324,"body_markdown":"The environment is likely cached by the Gradle daemon. Force the daemon to stop with this command:\r\n\r\n    ./gradlew --stop","title":"build.gradle cannot detect environment variable","body":"<p>The environment is likely cached by the Gradle daemon. Force the daemon to stop with this command:</p>\n<pre><code>./gradlew --stop\n</code></pre>\n"}],"owner":{"account_id":11853101,"reputation":387,"user_id":8673809,"accept_rate":50,"display_name":"Kevin Dave"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2675,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665513877,"creation_date":1619687339,"question_id":67314324,"body_markdown":"I&#39;m trying to run a `./gradlew` script. Inside my `build.gradle`, I have a variable that takes value from the environment variable\r\n\r\n```groovy\r\ndef username = System.getenv(&#39;USERNAME&#39;)\r\nprint username\r\n```\r\n\r\nI&#39;ve exported the environment variable by running `export USERNAME=someusername` before I run the `./gradlew` script\r\n\r\nThe result of `print username` is always `null`. I use both IntelliJ and VS Code and run the `./gradlew` script from the built-in zsh terminal.\r\n\r\nDid I miss any setup? Previously before my Mac was formated, things go well. But after it was formatted, I just started to do Java again and install everything (JDK, IntelliJ). But suddenly I got this kind of result.","title":"build.gradle cannot detect environment variable","body":"<p>I'm trying to run a <code>./gradlew</code> script. Inside my <code>build.gradle</code>, I have a variable that takes value from the environment variable</p>\n<pre><code>def username = System.getenv('USERNAME')\nprint username\n</code></pre>\n<p>I've exported the environment variable by running <code>export USERNAME=someusername</code> before I run the <code>./gradlew</code> script</p>\n<p>The result of <code>print username</code> is always <code>null</code>. I use both IntelliJ and VS Code and run the <code>./gradlew</code> script from the built-in zsh terminal.</p>\n<p>Did I miss any setup? Previously before my Mac was formated, things go well. But after it was formatted, I just started to do Java again and install everything (JDK, IntelliJ). But suddenly I got this kind of result.</p>\n"},{"tags":["java","oop","methods"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665441307,"post_id":74021100,"comment_id":130696901,"body_markdown":"What is the problem exactly? The compiler should currently tell you that `int PrintEven()` for example needs to `return` something but it doesn&#39;t. You also try to evaluate (print) the returned result of those methods in `&quot;Even numbers &quot; + B.PrintEven()` for example. What number(?) should it print in those lines?","body":"What is the problem exactly? The compiler should currently tell you that <code>int PrintEven()</code> for example needs to <code>return</code> something but it doesn&#39;t. You also try to evaluate (print) the returned result of those methods in <code>&quot;Even numbers &quot; + B.PrintEven()</code> for example. What number(?) should it print in those lines?"},{"owner":{"account_id":7019748,"reputation":1984,"user_id":5379668,"accept_rate":59,"display_name":"Davide"},"score":0,"creation_date":1665441308,"post_id":74021100,"comment_id":130696902,"body_markdown":"Okay, what is exactly your question? And please take a look at java code conventions","body":"Okay, what is exactly your question? And please take a look at java code conventions"},{"owner":{"account_id":26584389,"reputation":31,"user_id":20208544,"display_name":"Blu_Owl"},"score":0,"creation_date":1665442827,"post_id":74021100,"comment_id":130697177,"body_markdown":"@zapl hey there, that&#39;s my current issue aswell, where do I insert return in the line of code? when I&#39;m inserting it outside it tells me that &#39;variable&#39; is undefined.","body":"@zapl hey there, that&#39;s my current issue aswell, where do I insert return in the line of code? when I&#39;m inserting it outside it tells me that &#39;variable&#39; is undefined."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665443471,"post_id":74021100,"comment_id":130697284,"body_markdown":"I don&#39;t know what `variable` is either and I don&#39;t know what you wanted to return from those methods. If they don&#39;t need to return a result value (like your `Sum` method) , make them `void` and maybe do `System.out.println(&quot;Even numbers&quot;); B.PrintEven();`?","body":"I don&#39;t know what <code>variable</code> is either and I don&#39;t know what you wanted to return from those methods. If they don&#39;t need to return a result value (like your <code>Sum</code> method) , make them <code>void</code> and maybe do <code>System.out.println(&quot;Even numbers&quot;); B.PrintEven();</code>?"},{"owner":{"account_id":114799,"reputation":1290,"user_id":301740,"accept_rate":25,"display_name":"Draško Kokić"},"score":0,"creation_date":1665828683,"post_id":74021100,"comment_id":130793109,"body_markdown":"You are probably new to Java too. As any other programming language, Java is used also to communicate your algorithm to other fellow programmers. Hence, it is very important to use the code conventions. JusT THInk how AnnOYINg it is tO rEAd soMEthInG LIKE tHIs.","body":"You are probably new to Java too. As any other programming language, Java is used also to communicate your algorithm to other fellow programmers. Hence, it is very important to use the code conventions. JusT THInk how AnnOYINg it is tO rEAd soMEthInG LIKE tHIs."}],"answers":[{"tags":[],"owner":{"account_id":5948731,"reputation":185,"user_id":4677472,"display_name":"Popovkov57"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665445248,"creation_date":1665444367,"answer_id":74021567,"question_id":74021100,"body_markdown":"If your function return nothing, you need to use `void` type method.\r\n\r\nFirst you can update PrindOdd and PrintEven method to print each odd and even numbers when these functions are called:\r\n\r\n```java\r\nclass ArrayMethod {\r\n    \r\n    ...\r\n\r\n    public void PrintOdd() {\r\n    \tSystem.out.println(&quot;PrintOdd&quot;);\r\n        for (int i = 0; i &lt; Array.length; i++)\r\n            if (Array[i] % 2 != 0) {\r\n                int Odd = Array[i];\r\n\r\n                System.out.print(Odd + &quot; &quot;);\r\n            }\r\n    }\r\n\r\n    public void PrintEven() {\r\n    \tSystem.out.println(&quot;PrintEven&quot;);\r\n        for (int i = 0; i &lt; Array.length; i++)\r\n            if (Array[i] % 2 == 0) {\r\n                int Even = Array[i];\r\n                System.out.print(Even + &quot; &quot;);\r\n            }\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n\r\nTo print the result you need to update the way to call these functions:\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        ....\r\n\r\n        B.PrintEven();\r\n        B.PrintOdd();\r\n\r\n    }\r\n}\r\n```\r\n\r\nI hope that answers your question","title":"How do I print odd and even numbers using different classes in Java program?","body":"<p>If your function return nothing, you need to use <code>void</code> type method.</p>\n<p>First you can update PrindOdd and PrintEven method to print each odd and even numbers when these functions are called:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ArrayMethod {\n    \n    ...\n\n    public void PrintOdd() {\n        System.out.println(&quot;PrintOdd&quot;);\n        for (int i = 0; i &lt; Array.length; i++)\n            if (Array[i] % 2 != 0) {\n                int Odd = Array[i];\n\n                System.out.print(Odd + &quot; &quot;);\n            }\n    }\n\n    public void PrintEven() {\n        System.out.println(&quot;PrintEven&quot;);\n        for (int i = 0; i &lt; Array.length; i++)\n            if (Array[i] % 2 == 0) {\n                int Even = Array[i];\n                System.out.print(Even + &quot; &quot;);\n            }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>To print the result you need to update the way to call these functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        \n        ....\n\n        B.PrintEven();\n        B.PrintOdd();\n\n    }\n}\n</code></pre>\n<p>I hope that answers your question</p>\n"},{"tags":[],"owner":{"account_id":26584389,"reputation":31,"user_id":20208544,"display_name":"Blu_Owl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665513838,"creation_date":1665513838,"answer_id":74032732,"question_id":74021100,"body_markdown":"thank you to everyone who answered my question, the issue was resolved by making PrintOdd and PrintEven methods into Void type and calling it to main method outside of a print System. \r\n\r\nmy dearest thanks to @popovko57 and @zapl, who provided the solution.","title":"How do I print odd and even numbers using different classes in Java program?","body":"<p>thank you to everyone who answered my question, the issue was resolved by making PrintOdd and PrintEven methods into Void type and calling it to main method outside of a print System.</p>\n<p>my dearest thanks to @popovko57 and @zapl, who provided the solution.</p>\n"}],"owner":{"account_id":26584389,"reputation":31,"user_id":20208544,"display_name":"Blu_Owl"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665513838,"creation_date":1665439647,"question_id":74021100,"body_markdown":"I&#39;ve been running into the issue of calling the class that&#39;s supposed to print even and odd numbers into the main method, printing each number without overwriting the previous one.\r\nI&#39;ve tried replacing the public int with public void, and it still didn&#39;t work, if you guys could help me it would help a lot. \r\n**this is the code:**\r\n\r\n```java\r\npackage myprojects;\r\n\r\nimport java.util.*;\r\n\r\nclass ArrayMethod {\r\n    private int[] Array;\r\n\r\n    public void Calc(int[] Array) {\r\n        this.Array = Array;\r\n    }\r\n\r\n    public int Sum() {\r\n        int sum = 0;\r\n        for (int i = 0; i &lt; Array.length; i++) {\r\n            sum += Array[i];\r\n        }\r\n        return sum;\r\n    }\r\n\r\n    public double Average() {\r\n        return Sum() / Array.length;\r\n    }\r\n\r\n    public int PrintOdd() {\r\n        for (int i = 0; i &lt; Array.length; i++)\r\n            if (Array[i] % 2 != 0) {\r\n                int Odd = Array[i];\r\n\r\n                System.out.println(Odd);\r\n            }\r\n    }\r\n\r\n    public int PrintEven() {\r\n        for (int i = 0; i &lt; Array.length; i++)\r\n            if (Array[i] % 2 == 0) {\r\n                int Even = Array[i];\r\n                System.out.println(Even);\r\n            }\r\n    }\r\n}\r\n```\r\n```java\r\npublic class ArrayEX {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner S = new Scanner(System.in);\r\n\r\n        ArrayMethod B = new ArrayMethod();\r\n        int[] A = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n\r\n        B.Calc(A);\r\n        System.out.println(&quot;Sum of the numbers inside array is &quot; + B.Sum());\r\n        System.out.println(&quot;Average of the numbers inside array is &quot; + B.Average());\r\n        System.out.println(&quot;Even numbers &quot; + B.PrintEven());\r\n        System.out.println(&quot;Odd Numebrs &quot; + B.PrintOdd());\r\n\r\n\r\n    }\r\n}\r\n```","title":"How do I print odd and even numbers using different classes in Java program?","body":"<p>I've been running into the issue of calling the class that's supposed to print even and odd numbers into the main method, printing each number without overwriting the previous one.\nI've tried replacing the public int with public void, and it still didn't work, if you guys could help me it would help a lot.\n<strong>this is the code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package myprojects;\n\nimport java.util.*;\n\nclass ArrayMethod {\n    private int[] Array;\n\n    public void Calc(int[] Array) {\n        this.Array = Array;\n    }\n\n    public int Sum() {\n        int sum = 0;\n        for (int i = 0; i &lt; Array.length; i++) {\n            sum += Array[i];\n        }\n        return sum;\n    }\n\n    public double Average() {\n        return Sum() / Array.length;\n    }\n\n    public int PrintOdd() {\n        for (int i = 0; i &lt; Array.length; i++)\n            if (Array[i] % 2 != 0) {\n                int Odd = Array[i];\n\n                System.out.println(Odd);\n            }\n    }\n\n    public int PrintEven() {\n        for (int i = 0; i &lt; Array.length; i++)\n            if (Array[i] % 2 == 0) {\n                int Even = Array[i];\n                System.out.println(Even);\n            }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayEX {\n\n    public static void main(String[] args) {\n        Scanner S = new Scanner(System.in);\n\n        ArrayMethod B = new ArrayMethod();\n        int[] A = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n\n        B.Calc(A);\n        System.out.println(&quot;Sum of the numbers inside array is &quot; + B.Sum());\n        System.out.println(&quot;Average of the numbers inside array is &quot; + B.Average());\n        System.out.println(&quot;Even numbers &quot; + B.PrintEven());\n        System.out.println(&quot;Odd Numebrs &quot; + B.PrintOdd());\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1665233333,"post_id":73997089,"comment_id":130654443,"body_markdown":"In your opinion, where should `@ElementCollection private List&lt;String&gt; tuesday` be stored?","body":"In your opinion, where should <code>@ElementCollection private List&lt;String&gt; tuesday</code> be stored?"},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1665233357,"post_id":73997089,"comment_id":130654446,"body_markdown":"timetables_tuesday. I added the screen of my database to my question","body":"timetables_tuesday. I added the screen of my database to my question"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1665233660,"post_id":73997089,"comment_id":130654496,"body_markdown":"nope, `@ElementCollection` is designed to store data in separate table. in your case (postgresql, I believe) you need to use another approach: https://vladmihalcea.com/postgresql-array-java-list/","body":"nope, <code>@ElementCollection</code> is designed to store data in separate table. in your case (postgresql, I believe) you need to use another approach: <a href=\"https://vladmihalcea.com/postgresql-array-java-list/\" rel=\"nofollow noreferrer\">vladmihalcea.com/postgresql-array-java-list</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1665243619,"post_id":73997089,"comment_id":130656432,"body_markdown":"You can do the same as what Andrey is suggesting with pure JPA by using a converter to serialize the List&lt;String&gt; to/from a String. This will keep your code provider independent (or at least, not depending on the types project - but it is nifty). Using your own converter though can give you control over the representation, which might allow querying over it and any special characters that might get into the list entries.","body":"You can do the same as what Andrey is suggesting with pure JPA by using a converter to serialize the List&lt;String&gt; to/from a String. This will keep your code provider independent (or at least, not depending on the types project - but it is nifty). Using your own converter though can give you control over the representation, which might allow querying over it and any special characters that might get into the list entries."}],"answers":[{"tags":[],"owner":{"account_id":2038896,"reputation":134,"user_id":1820567,"display_name":"max de simone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665392636,"creation_date":1665390437,"answer_id":74012070,"question_id":73997089,"body_markdown":"JPA 2.0 @ElementCollection and @CollectionTable annotations allow to store a collection of Java types. Try to modify the mapping, adding the @CollectionTable annotation to your entity.\r\n\r\n```\r\n@Entity\r\n@Table(schema = &quot;working_schema&quot;)\r\npublic class Timetables {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Getter @Setter\r\n    private long id;\r\n\r\n    @Getter @Setter @ElementCollection @CollectionTable(name = &quot;Monday&quot;)\r\n    private List&lt;String&gt; monday = new ArrayList&lt;&gt;();\r\n\r\n    @Getter @Setter @ElementCollection @CollectionTable(name = &quot;Tuesday&quot;)\r\n    private List&lt;String&gt; tuesday = new ArrayList&lt;&gt;();\r\n    ...\r\n}\r\n```\r\n","title":"JPA ERROR: timetable_entity_tuesday relation does not exists","body":"<p>JPA 2.0 @ElementCollection and @CollectionTable annotations allow to store a collection of Java types. Try to modify the mapping, adding the @CollectionTable annotation to your entity.</p>\n<pre><code>@Entity\n@Table(schema = &quot;working_schema&quot;)\npublic class Timetables {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Getter @Setter\n    private long id;\n\n    @Getter @Setter @ElementCollection @CollectionTable(name = &quot;Monday&quot;)\n    private List&lt;String&gt; monday = new ArrayList&lt;&gt;();\n\n    @Getter @Setter @ElementCollection @CollectionTable(name = &quot;Tuesday&quot;)\n    private List&lt;String&gt; tuesday = new ArrayList&lt;&gt;();\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665513269,"creation_date":1665513269,"answer_id":74032641,"question_id":73997089,"body_markdown":"I think, hibernate query should be like \r\nHibernate: \r\n```\r\ninsert into timetables (id, Monday, Tuesday) \r\nvalues (?, ?, ?);\r\n```\r\n\r\nI hope it helps!","title":"JPA ERROR: timetable_entity_tuesday relation does not exists","body":"<p>I think, hibernate query should be like\nHibernate:</p>\n<pre><code>insert into timetables (id, Monday, Tuesday) \nvalues (?, ?, ?);\n</code></pre>\n<p>I hope it helps!</p>\n"}],"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665513269,"creation_date":1665233129,"question_id":73997089,"body_markdown":"I&#39;m creating a school diary app using spring boot and faced with a small problem. When I try to add some data to database, JPA shows me such error:\r\n\r\n```\r\nERROR: relation &quot;timetable_entity_tuesday&quot; does not exist\r\n```\r\n\r\nI don&#39;t know why it&#39;s happening, because I gave all the settings to my entity, where it should look for the table. \r\n\r\nSo here is my code.\r\n\r\n**TimetableEntity**\r\n```java\r\n@Entity\r\n@Table(name = &quot;timetables&quot;, schema = &quot;working_schema&quot;)\r\npublic class TimetableEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Getter @Setter\r\n    private long id;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; monday;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; tuesday;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; wednesday;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; thursday;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; friday;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; saturday;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; sunday;\r\n\r\n    @OneToOne(mappedBy = &quot;timetable&quot;)\r\n    @Getter @Setter\r\n    private ClassEntity schoolClass;\r\n\r\n    public TimetableEntity() {\r\n    }\r\n}\r\n```\r\n\r\n**TimetableRepository**\r\n```java\r\npublic interface TimetableRepository extends JpaRepository&lt;TimetableEntity, Long&gt; {\r\n}\r\n```\r\nMethod, which adds data to database, stored in service:\r\n```java\r\npublic TimetableEntity addTimetable(TimetableAddModel timetableData) throws SubjectNotFoundException {\r\n        TimetableEntity timetable = new TimetableEntity();\r\n        timetable.setTuesday(Arrays.asList(&quot;math&quot;));\r\n        timetableRepo.save(timetable);\r\n        return timetable;\r\n}\r\n```\r\n\r\nAnd here&#39; how hibernate makes queries:\r\n```sql\r\nHibernate: \r\n    insert \r\n    into\r\n        timetable_entity_tuesday\r\n        (timetable_entity_id, tuesday) \r\n    values\r\n        (?, ?)\r\n```\r\n\r\nIt tries to add data to ```timetable_entity```, although ```timetables``` table was given to entity.\r\n\r\nHere&#39;s my database:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you know what can be a problem, please tell me, I&#39;d really appreciate it!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iqgbd.png","title":"JPA ERROR: timetable_entity_tuesday relation does not exists","body":"<p>I'm creating a school diary app using spring boot and faced with a small problem. When I try to add some data to database, JPA shows me such error:</p>\n<pre><code>ERROR: relation &quot;timetable_entity_tuesday&quot; does not exist\n</code></pre>\n<p>I don't know why it's happening, because I gave all the settings to my entity, where it should look for the table.</p>\n<p>So here is my code.</p>\n<p><strong>TimetableEntity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;timetables&quot;, schema = &quot;working_schema&quot;)\npublic class TimetableEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Getter @Setter\n    private long id;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; monday;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; tuesday;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; wednesday;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; thursday;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; friday;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; saturday;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; sunday;\n\n    @OneToOne(mappedBy = &quot;timetable&quot;)\n    @Getter @Setter\n    private ClassEntity schoolClass;\n\n    public TimetableEntity() {\n    }\n}\n</code></pre>\n<p><strong>TimetableRepository</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface TimetableRepository extends JpaRepository&lt;TimetableEntity, Long&gt; {\n}\n</code></pre>\n<p>Method, which adds data to database, stored in service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public TimetableEntity addTimetable(TimetableAddModel timetableData) throws SubjectNotFoundException {\n        TimetableEntity timetable = new TimetableEntity();\n        timetable.setTuesday(Arrays.asList(&quot;math&quot;));\n        timetableRepo.save(timetable);\n        return timetable;\n}\n</code></pre>\n<p>And here' how hibernate makes queries:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Hibernate: \n    insert \n    into\n        timetable_entity_tuesday\n        (timetable_entity_id, tuesday) \n    values\n        (?, ?)\n</code></pre>\n<p>It tries to add data to <code>timetable_entity</code>, although <code>timetables</code> table was given to entity.</p>\n<p>Here's my database:</p>\n<p><a href=\"https://i.stack.imgur.com/iqgbd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iqgbd.png\" alt=\"enter image description here\" /></a></p>\n<p>If you know what can be a problem, please tell me, I'd really appreciate it!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1487711273,"post_id":42377980,"comment_id":71905013,"body_markdown":"Welcome to StackOverflow.  Sorry, this is not how StackOverflow works.  Questions of the form _&quot;Here&#39;s a bunch of my code, please debug it for me&quot;_ are considered off-topic. Please visit the [help] and read [ask] for more information.","body":"Welcome to StackOverflow.  Sorry, this is not how StackOverflow works.  Questions of the form <i>&quot;Here&#39;s a bunch of my code, please debug it for me&quot;</i> are considered off-topic. Please visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for more information."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1487711298,"post_id":42377980,"comment_id":71905026,"body_markdown":"What is the data type for your &quot;sides&quot; vs. the &quot;ns&quot; variable in the example? (the solution cheated to make it easier)","body":"What is the data type for your &quot;sides&quot; vs. the &quot;ns&quot; variable in the example? (the solution cheated to make it easier)"},{"owner":{"account_id":1119808,"reputation":9752,"user_id":1108397,"accept_rate":65,"display_name":"rupps"},"score":0,"creation_date":1487711378,"post_id":42377980,"comment_id":71905072,"body_markdown":"have you tried using a good old calculator to see who&#39;s right?","body":"have you tried using a good old calculator to see who&#39;s right?"},{"owner":{"account_id":1664089,"reputation":1217,"user_id":1531855,"display_name":"borowis"},"score":0,"creation_date":1487711627,"post_id":42377980,"comment_id":71905226,"body_markdown":"a bit more effort before asking is appreciated","body":"a bit more effort before asking is appreciated"}],"answers":[{"tags":[],"owner":{"account_id":1664089,"reputation":1217,"user_id":1531855,"display_name":"borowis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487711554,"creation_date":1487711554,"answer_id":42378079,"question_id":42377980,"body_markdown":"Change 6 and 7 and you&#39;ll get the answer you want : ) And in the future, please try debugging your code first to see what&#39;s going on.","title":"&quot;Write a Java program to compute the area of a polygon.&quot; - getting a different solution than www.w3resource.com","body":"<p>Change 6 and 7 and you'll get the answer you want : ) And in the future, please try debugging your code first to see what's going on.</p>\n"},{"tags":[],"owner":{"account_id":1326560,"reputation":2671,"user_id":1271255,"display_name":"minus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487711567,"creation_date":1487711567,"answer_id":42378083,"question_id":42377980,"body_markdown":"You mixed sides and number in the formula.\r\n\r\nThat teaches an interesting lesson of programming: &quot;_Give sensible names to variables_&quot;.","title":"&quot;Write a Java program to compute the area of a polygon.&quot; - getting a different solution than www.w3resource.com","body":"<p>You mixed sides and number in the formula.</p>\n\n<p>That teaches an interesting lesson of programming: \"<em>Give sensible names to variables</em>\".</p>\n"}],"owner":{"account_id":8995053,"reputation":1,"user_id":6705793,"display_name":"spacespacespacespace"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1524,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":2,"score":-5,"last_activity_date":1665513149,"creation_date":1487711163,"question_id":42377980,"body_markdown":"Here&#39;s the exercise:\r\n\r\n    35. Write a Java program to compute the area of a polygon. Go to the editor\r\n    Area of a polygon = (n*s^2)/(4*tan(π/n))\r\n    where n is n-sided polygon and s is the length of a side\r\n    Input Data:\r\n    Input the number of sides on the polygon: 7\r\n    Input the length of one of the sides: 6\r\n    Expected Output\r\n    \r\n    The area is: 130.82084798405722\r\n\r\nMy code returns 127.30573435631248 (length = 7, sides = 6)\r\nThe code on the website returns 130.82084798405722 (length = 7, sides = 6)\r\n\r\nI&#39;m having trouble seeing why mine is different from theirs...\r\n\r\nAny ideas?\r\n\r\n**Here&#39;s my code:**\r\n\r\n    public static void exercise35(){\r\n        int number1 = integerInput(); //set to 7, length\r\n        int sides = integerInput(); //set to 6, sides\r\n    \r\n        double area = (sides * (number1 * number1)) / (4.0 * Math.tan((Math.PI / sides)));\r\n    \r\n        System.out.println(&quot;The area of a polygon with &quot; + sides + &quot; sides of length &quot; + number1 + &quot; = &quot; + area);\r\n    }\r\n\r\n**Here&#39;s the solution from http://www.w3resource.com/java-exercises/basic/index.php (exercise #35)**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Exercise35 {\r\n        \r\n      public static void main(String[] args) {\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n            System.out.print(&quot;Input the number of sides on the polygon: &quot;);\r\n            int ns = input.nextInt();\r\n            System.out.print(&quot;Input the length of one of the sides: &quot;);\r\n            double side = input.nextDouble();\r\n            System.out.print(&quot;The area is: &quot; + polygonArea(ns, side)+&quot;\\n&quot;);\r\n        }\r\n        public static double polygonArea(int ns, double side) {\r\n            return (ns * (side * side)) / (4.0 * Math.tan((Math.PI / ns)));\r\n        }\r\n    }","title":"&quot;Write a Java program to compute the area of a polygon.&quot; - getting a different solution than www.w3resource.com","body":"<p>Here's the exercise:</p>\n<pre><code>35. Write a Java program to compute the area of a polygon. Go to the editor\nArea of a polygon = (n*s^2)/(4*tan(π/n))\nwhere n is n-sided polygon and s is the length of a side\nInput Data:\nInput the number of sides on the polygon: 7\nInput the length of one of the sides: 6\nExpected Output\n\nThe area is: 130.82084798405722\n</code></pre>\n<p>My code returns 127.30573435631248 (length = 7, sides = 6)\nThe code on the website returns 130.82084798405722 (length = 7, sides = 6)</p>\n<p>I'm having trouble seeing why mine is different from theirs...</p>\n<p>Any ideas?</p>\n<p><strong>Here's my code:</strong></p>\n<pre><code>public static void exercise35(){\n    int number1 = integerInput(); //set to 7, length\n    int sides = integerInput(); //set to 6, sides\n\n    double area = (sides * (number1 * number1)) / (4.0 * Math.tan((Math.PI / sides)));\n\n    System.out.println(&quot;The area of a polygon with &quot; + sides + &quot; sides of length &quot; + number1 + &quot; = &quot; + area);\n}\n</code></pre>\n<p><strong>Here's the solution from <a href=\"http://www.w3resource.com/java-exercises/basic/index.php\" rel=\"nofollow noreferrer\">http://www.w3resource.com/java-exercises/basic/index.php</a> (exercise #35)</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class Exercise35 {\n    \n  public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Input the number of sides on the polygon: &quot;);\n        int ns = input.nextInt();\n        System.out.print(&quot;Input the length of one of the sides: &quot;);\n        double side = input.nextDouble();\n        System.out.print(&quot;The area is: &quot; + polygonArea(ns, side)+&quot;\\n&quot;);\n    }\n    public static double polygonArea(int ns, double side) {\n        return (ns * (side * side)) / (4.0 * Math.tan((Math.PI / ns)));\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1665513695,"post_id":74032500,"comment_id":130717130,"body_markdown":"Please share a sample project on GitHub to get help with your configuration. There are too many factors that can affect it and we can spend a lot of time guessing what exactly is wrong with your configuration. See [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Please share a sample project on GitHub to get help with your configuration. There are too many factors that can affect it and we can spend a lot of time guessing what exactly is wrong with your configuration. See <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665513016,"creation_date":1665513016,"answer_id":74032601,"question_id":74032500,"body_markdown":"Why you have:\r\n \r\n\r\n       attributes[&quot;Main-Class&quot;] = ...\r\n\r\ndo you have actual Main-Class there instead of these three dots &quot;...&quot;?","title":"No main manifest attribute in jar, IntelliJ","body":"<p>Why you have:</p>\n<pre><code>   attributes[&quot;Main-Class&quot;] = ...\n</code></pre>\n<p>do you have actual Main-Class there instead of these three dots &quot;...&quot;?</p>\n"}],"owner":{"account_id":24651177,"reputation":21,"user_id":18548279,"display_name":"nathlrowe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665513016,"creation_date":1665512432,"question_id":74032500,"body_markdown":"This question has been asked many times before, but I have tried every solution and none of them worked for me.\r\n\r\nI am trying to build a simple, single-module .jar program using IntelliJ and Gradle. Here is my build.gradle.kts file:\r\n\r\n```\r\nplugins {\r\n    id(&quot;java&quot;)\r\n}\r\n\r\ngroup = ...\r\nversion = ...\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;com.itextpdf:itext7-core:7.2.3&quot;)\r\n    implementation(&quot;jakarta.mail:jakarta.mail-api:2.1.0&quot;)\r\n    implementation(&quot;org.apache.commons:commons-csv:1.9.0&quot;)\r\n    implementation(&quot;commons-net:commons-net:3.8.0&quot;)\r\n    implementation(&quot;mysql:mysql-connector-java:8.0.30&quot;)\r\n\r\n    val slf4jVersion = &quot;2.0.3&quot;\r\n    implementation(&quot;org.slf4j:slf4j-api:$slf4jVersion&quot;)\r\n    implementation(&quot;org.slf4j:slf4j-simple:$slf4jVersion&quot;)\r\n\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:5.8.1&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:5.8.1&quot;)\r\n}\r\n\r\ntasks.withType&lt;Jar&gt; {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = ...\r\n        attributes[&quot;Class-Path&quot;] = configurations.runtimeClasspath.get().asPath\r\n    }\r\n\r\n//    from(configurations.compileClasspath.get().map { if (it.isDirectory) it else zipTree(it) })\r\n}\r\n\r\ntasks.getByName&lt;Test&gt;(&quot;test&quot;) {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nI have the `from(configurations...)` line commented out now, but either way it wasn&#39;t working.\r\n\r\nThe issue is that when I try to build a .jar file and run it (in the terminal), I simply get the error:\r\n\r\n`no main manifest attribute, in ...jar`\r\n\r\nI have created dozens of different artifacts for this, trying different ways of arranging it. I&#39;ve tried having my META-INF folder in resources or src/main. I&#39;ve tried adding the contents of resources, META-INF, and the manifest itself to the jar file directly in the artifacts menu of project structure, but to no avail.\r\n\r\nI&#39;m at the end of my rope. What am I doing wrong?","title":"No main manifest attribute in jar, IntelliJ","body":"<p>This question has been asked many times before, but I have tried every solution and none of them worked for me.</p>\n<p>I am trying to build a simple, single-module .jar program using IntelliJ and Gradle. Here is my build.gradle.kts file:</p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n}\n\ngroup = ...\nversion = ...\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;com.itextpdf:itext7-core:7.2.3&quot;)\n    implementation(&quot;jakarta.mail:jakarta.mail-api:2.1.0&quot;)\n    implementation(&quot;org.apache.commons:commons-csv:1.9.0&quot;)\n    implementation(&quot;commons-net:commons-net:3.8.0&quot;)\n    implementation(&quot;mysql:mysql-connector-java:8.0.30&quot;)\n\n    val slf4jVersion = &quot;2.0.3&quot;\n    implementation(&quot;org.slf4j:slf4j-api:$slf4jVersion&quot;)\n    implementation(&quot;org.slf4j:slf4j-simple:$slf4jVersion&quot;)\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:5.8.1&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:5.8.1&quot;)\n}\n\ntasks.withType&lt;Jar&gt; {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = ...\n        attributes[&quot;Class-Path&quot;] = configurations.runtimeClasspath.get().asPath\n    }\n\n//    from(configurations.compileClasspath.get().map { if (it.isDirectory) it else zipTree(it) })\n}\n\ntasks.getByName&lt;Test&gt;(&quot;test&quot;) {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>I have the <code>from(configurations...)</code> line commented out now, but either way it wasn't working.</p>\n<p>The issue is that when I try to build a .jar file and run it (in the terminal), I simply get the error:</p>\n<p><code>no main manifest attribute, in ...jar</code></p>\n<p>I have created dozens of different artifacts for this, trying different ways of arranging it. I've tried having my META-INF folder in resources or src/main. I've tried adding the contents of resources, META-INF, and the manifest itself to the jar file directly in the artifacts menu of project structure, but to no avail.</p>\n<p>I'm at the end of my rope. What am I doing wrong?</p>\n"},{"tags":["javascript","java","android","encryption","webcrypto-api"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1665527445,"post_id":74032512,"comment_id":130720722,"body_markdown":"This seems to be [this bug](https://stackoverflow.com/q/46042127/9014097). Note that the [suggested workaround](https://issuetracker.google.com/issues/36708951#comment15) with SHA-256 as MGF1 digest probably does not work because of [this bug](https://issuetracker.google.com/issues/36708951#comment23).","body":"This seems to be <a href=\"https://stackoverflow.com/q/46042127/9014097\">this bug</a>. Note that the <a href=\"https://issuetracker.google.com/issues/36708951#comment15\" rel=\"nofollow noreferrer\">suggested workaround</a> with SHA-256 as MGF1 digest probably does not work because of <a href=\"https://issuetracker.google.com/issues/36708951#comment23\" rel=\"nofollow noreferrer\">this bug</a>."},{"owner":{"account_id":26591876,"reputation":11,"user_id":20214962,"display_name":"AmInO"},"score":0,"creation_date":1665561541,"post_id":74032512,"comment_id":130726884,"body_markdown":"@Topaco Thanks for the links. After reading them I realized that there might be a with hash function. I tried SHA-512 on both sides but it did not work but after changing it to SHA-1 and specifically `RSA/NONE/OAEPwithSHA-1andMGF1Padding` on Android app which by the way is [not recommended](https://developer.mozilla.org/en-US/docs/Web/API/RsaHashedKeyGenParams#instance_properties) by WebCrypto, it worked! So is there a way to fix this e.g. increasing API version on Android side? Is this really a bug on which side? WebCrypto or Android?","body":"@Topaco Thanks for the links. After reading them I realized that there might be a with hash function. I tried SHA-512 on both sides but it did not work but after changing it to SHA-1 and specifically <code>RSA&#47;NONE&#47;OAEPwithSHA-1andMGF1Padding</code> on Android app which by the way is <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/RsaHashedKeyGenParams#instance_properties\" rel=\"nofollow noreferrer\">not recommended</a> by WebCrypto, it worked! So is there a way to fix this e.g. increasing API version on Android side? Is this really a bug on which side? WebCrypto or Android?"}],"owner":{"account_id":26591876,"reputation":11,"user_id":20214962,"display_name":"AmInO"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665512528,"creation_date":1665512528,"question_id":74032512,"body_markdown":"I am trying to generate an RSA key pair for encryption and decryption purposes which public key gets exported as base64 text and then it gets imported to Chrome extension which then it will be used for encryption purposes.\r\nHere is my Java code for Android which `publicKeyString` is saved in database and then fetched by the extension:\r\n```java\r\nclass EnCryptor {\r\n\r\n    private static final String TRANSFORMATION = &quot;RSA/NONE/OAEPwithSHA-256andMGF1Padding&quot;;\r\n    private static final String ANDROID_KEY_STORE = &quot;AndroidKeyStore&quot;;\r\n    private KeyStore keyStore;\r\n\r\n\r\n    private byte[] encryption;\r\n\r\n    EnCryptor() throws CertificateException, NoSuchAlgorithmException, KeyStoreException,\r\n            IOException {\r\n        initKeyStore();\r\n    }\r\n\r\n    private void initKeyStore() throws KeyStoreException, CertificateException,\r\n            NoSuchAlgorithmException, IOException {\r\n        keyStore = KeyStore.getInstance(ANDROID_KEY_STORE);\r\n        keyStore.load(null);\r\n    }\r\n\r\n    byte[] encryptText(final String alias, final String textToEncrypt)\r\n            throws UnrecoverableEntryException, NoSuchAlgorithmException, KeyStoreException,\r\n            NoSuchProviderException, NoSuchPaddingException, InvalidKeyException, IOException,\r\n            InvalidAlgorithmParameterException, SignatureException, BadPaddingException,\r\n            IllegalBlockSizeException {\r\n\r\n        final Cipher cipher = Cipher.getInstance(TRANSFORMATION);\r\n        cipher.init(Cipher.ENCRYPT_MODE, getSecretKey(alias));\r\n\r\n\r\n        return (encryption = cipher.doFinal(textToEncrypt.getBytes(&quot;UTF-8&quot;)));\r\n    }\r\n\r\n    @NonNull\r\n    private PublicKey getSecretKey(final String alias) throws NoSuchAlgorithmException,\r\n            NoSuchProviderException, InvalidAlgorithmParameterException, UnrecoverableEntryException, KeyStoreException {\r\n\r\n        if (keyStore.getCertificate(alias) != null){\r\n            PublicKey pubKey = keyStore.getCertificate(alias).getPublicKey();\r\n            String publicKeyString = Base64.encodeToString(pubKey.getEncoded(), 2);\r\n            return keyStore.getCertificate(alias).getPublicKey();\r\n        }\r\n        else {\r\n            final KeyPairGenerator keyPairGenerator = KeyPairGenerator\r\n                    .getInstance(KeyProperties.KEY_ALGORITHM_RSA, ANDROID_KEY_STORE);\r\n\r\n            keyPairGenerator.initialize(new KeyGenParameterSpec.Builder(alias,\r\n                    KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\r\n                    .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_RSA_OAEP)\r\n                    .setKeySize(2048)\r\n                    .setDigests(KeyProperties.DIGEST_SHA256)\r\n                    .build());\r\n\r\n            PublicKey pubKey = keyPairGenerator.genKeyPair().getPublic();\r\n            String publicKeyString = Base64.encodeToString(pubKey.getEncoded(), 2);\r\n\r\n            return keyPairGenerator.genKeyPair().getPublic();\r\n        }\r\n    }\r\n}\r\n```\r\nAnd here is my `JavaScript` code which imports key and does the encryption:\r\n```javascript\r\nfunction encryptUsingImportedKey(pubKey,data){\r\n\r\n\r\n        const fromBase64 = buffer =&gt;\r\n            Uint8Array.from(atob(buffer), c =&gt; c.charCodeAt(0));\r\n\r\n        var pubKeyArray = fromBase64(pubKey);\r\n\r\n        keyMaterial = await window.crypto.subtle.importKey(\r\n            &#39;spki&#39;,\r\n            pubKeyArray,\r\n            {name: &#39;RSA-OAEP&#39;, hash: &#39;SHA-256&#39;,},\r\n            false,\r\n            [&#39;encrypt&#39;]\r\n        );\r\n\r\n        const encoder = new TextEncoder();\r\n        const encoded_data = encoder.encode(data);\r\n        const toBase64 = buffer =&gt;\r\n            btoa(String.fromCharCode(...new Uint8Array(buffer)));\r\n\r\n        var encrypted_array = await window.crypto.subtle.encrypt(\r\n            {\r\n                name: &quot;RSA-OAEP&quot;,\r\n            },\r\n            keyMaterial,\r\n            encoded_data\r\n        )\r\n\r\n        var encrypted = toBase64(encrypted_array);\r\n}       \r\n```\r\nbut in the end when I put `encrypted` in my `Android` app trying to decrypt it, app throws `javax.crypto.IllegalBlockSizeException` in `cipher.doFinal(encryptedData)` line. But every sample text encrypted by app itself gets decrypted without problem. Here is the `DeCryptor` class:\r\n```java\r\nclass DeCryptor {\r\n\r\n    private static final String TRANSFORMATION = &quot;RSA/NONE/OAEPwithSHA-256andMGF1Padding&quot;;\r\n    private static final String ANDROID_KEY_STORE = &quot;AndroidKeyStore&quot;;\r\n\r\n    private KeyStore keyStore;\r\n\r\n    DeCryptor() throws CertificateException, NoSuchAlgorithmException, KeyStoreException,\r\n            IOException {\r\n        initKeyStore();\r\n    }\r\n\r\n    private void initKeyStore() throws KeyStoreException, CertificateException,\r\n            NoSuchAlgorithmException, IOException {\r\n        keyStore = KeyStore.getInstance(ANDROID_KEY_STORE);\r\n        keyStore.load(null);\r\n    }\r\n\r\n    String decryptData(final String alias, final byte[] encryptedData)\r\n            throws UnrecoverableEntryException, NoSuchAlgorithmException, KeyStoreException,\r\n            NoSuchProviderException, NoSuchPaddingException, InvalidKeyException, IOException,\r\n            BadPaddingException, IllegalBlockSizeException, InvalidAlgorithmParameterException {\r\n\r\n        final Cipher cipher = Cipher.getInstance(TRANSFORMATION);\r\n        KeyStore.Entry secretKey = keyStore.getEntry(alias, null);\r\n        cipher.init(Cipher.DECRYPT_MODE, getSecretKey(alias));\r\n        byte[] decryptData = cipher.doFinal(encryptedData);\r\n\r\n        return new String(decryptData, &quot;UTF-8&quot;);\r\n    }\r\n\r\n    private PrivateKey getSecretKey(final String alias) throws NoSuchAlgorithmException,\r\n            UnrecoverableEntryException, KeyStoreException {\r\n        return ((KeyStore.PrivateKeyEntry) keyStore.getEntry(alias, null)).getPrivateKey();\r\n    }\r\n}\r\n```\r\nI also tried to read documentation for supported Algorithms for both sides and that is why I chose `RSA/NONE/OAEPwithSHA-256andMGF1Padding`.\r\nCan you please help me where is my mistake?","title":"Unable to properly use public key the generated by Android app for encryption using WebCrypto API","body":"<p>I am trying to generate an RSA key pair for encryption and decryption purposes which public key gets exported as base64 text and then it gets imported to Chrome extension which then it will be used for encryption purposes.\nHere is my Java code for Android which <code>publicKeyString</code> is saved in database and then fetched by the extension:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class EnCryptor {\n\n    private static final String TRANSFORMATION = &quot;RSA/NONE/OAEPwithSHA-256andMGF1Padding&quot;;\n    private static final String ANDROID_KEY_STORE = &quot;AndroidKeyStore&quot;;\n    private KeyStore keyStore;\n\n\n    private byte[] encryption;\n\n    EnCryptor() throws CertificateException, NoSuchAlgorithmException, KeyStoreException,\n            IOException {\n        initKeyStore();\n    }\n\n    private void initKeyStore() throws KeyStoreException, CertificateException,\n            NoSuchAlgorithmException, IOException {\n        keyStore = KeyStore.getInstance(ANDROID_KEY_STORE);\n        keyStore.load(null);\n    }\n\n    byte[] encryptText(final String alias, final String textToEncrypt)\n            throws UnrecoverableEntryException, NoSuchAlgorithmException, KeyStoreException,\n            NoSuchProviderException, NoSuchPaddingException, InvalidKeyException, IOException,\n            InvalidAlgorithmParameterException, SignatureException, BadPaddingException,\n            IllegalBlockSizeException {\n\n        final Cipher cipher = Cipher.getInstance(TRANSFORMATION);\n        cipher.init(Cipher.ENCRYPT_MODE, getSecretKey(alias));\n\n\n        return (encryption = cipher.doFinal(textToEncrypt.getBytes(&quot;UTF-8&quot;)));\n    }\n\n    @NonNull\n    private PublicKey getSecretKey(final String alias) throws NoSuchAlgorithmException,\n            NoSuchProviderException, InvalidAlgorithmParameterException, UnrecoverableEntryException, KeyStoreException {\n\n        if (keyStore.getCertificate(alias) != null){\n            PublicKey pubKey = keyStore.getCertificate(alias).getPublicKey();\n            String publicKeyString = Base64.encodeToString(pubKey.getEncoded(), 2);\n            return keyStore.getCertificate(alias).getPublicKey();\n        }\n        else {\n            final KeyPairGenerator keyPairGenerator = KeyPairGenerator\n                    .getInstance(KeyProperties.KEY_ALGORITHM_RSA, ANDROID_KEY_STORE);\n\n            keyPairGenerator.initialize(new KeyGenParameterSpec.Builder(alias,\n                    KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n                    .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_RSA_OAEP)\n                    .setKeySize(2048)\n                    .setDigests(KeyProperties.DIGEST_SHA256)\n                    .build());\n\n            PublicKey pubKey = keyPairGenerator.genKeyPair().getPublic();\n            String publicKeyString = Base64.encodeToString(pubKey.getEncoded(), 2);\n\n            return keyPairGenerator.genKeyPair().getPublic();\n        }\n    }\n}\n</code></pre>\n<p>And here is my <code>JavaScript</code> code which imports key and does the encryption:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function encryptUsingImportedKey(pubKey,data){\n\n\n        const fromBase64 = buffer =&gt;\n            Uint8Array.from(atob(buffer), c =&gt; c.charCodeAt(0));\n\n        var pubKeyArray = fromBase64(pubKey);\n\n        keyMaterial = await window.crypto.subtle.importKey(\n            'spki',\n            pubKeyArray,\n            {name: 'RSA-OAEP', hash: 'SHA-256',},\n            false,\n            ['encrypt']\n        );\n\n        const encoder = new TextEncoder();\n        const encoded_data = encoder.encode(data);\n        const toBase64 = buffer =&gt;\n            btoa(String.fromCharCode(...new Uint8Array(buffer)));\n\n        var encrypted_array = await window.crypto.subtle.encrypt(\n            {\n                name: &quot;RSA-OAEP&quot;,\n            },\n            keyMaterial,\n            encoded_data\n        )\n\n        var encrypted = toBase64(encrypted_array);\n}       \n</code></pre>\n<p>but in the end when I put <code>encrypted</code> in my <code>Android</code> app trying to decrypt it, app throws <code>javax.crypto.IllegalBlockSizeException</code> in <code>cipher.doFinal(encryptedData)</code> line. But every sample text encrypted by app itself gets decrypted without problem. Here is the <code>DeCryptor</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DeCryptor {\n\n    private static final String TRANSFORMATION = &quot;RSA/NONE/OAEPwithSHA-256andMGF1Padding&quot;;\n    private static final String ANDROID_KEY_STORE = &quot;AndroidKeyStore&quot;;\n\n    private KeyStore keyStore;\n\n    DeCryptor() throws CertificateException, NoSuchAlgorithmException, KeyStoreException,\n            IOException {\n        initKeyStore();\n    }\n\n    private void initKeyStore() throws KeyStoreException, CertificateException,\n            NoSuchAlgorithmException, IOException {\n        keyStore = KeyStore.getInstance(ANDROID_KEY_STORE);\n        keyStore.load(null);\n    }\n\n    String decryptData(final String alias, final byte[] encryptedData)\n            throws UnrecoverableEntryException, NoSuchAlgorithmException, KeyStoreException,\n            NoSuchProviderException, NoSuchPaddingException, InvalidKeyException, IOException,\n            BadPaddingException, IllegalBlockSizeException, InvalidAlgorithmParameterException {\n\n        final Cipher cipher = Cipher.getInstance(TRANSFORMATION);\n        KeyStore.Entry secretKey = keyStore.getEntry(alias, null);\n        cipher.init(Cipher.DECRYPT_MODE, getSecretKey(alias));\n        byte[] decryptData = cipher.doFinal(encryptedData);\n\n        return new String(decryptData, &quot;UTF-8&quot;);\n    }\n\n    private PrivateKey getSecretKey(final String alias) throws NoSuchAlgorithmException,\n            UnrecoverableEntryException, KeyStoreException {\n        return ((KeyStore.PrivateKeyEntry) keyStore.getEntry(alias, null)).getPrivateKey();\n    }\n}\n</code></pre>\n<p>I also tried to read documentation for supported Algorithms for both sides and that is why I chose <code>RSA/NONE/OAEPwithSHA-256andMGF1Padding</code>.\nCan you please help me where is my mistake?</p>\n"},{"tags":["java","interface","boolean","comparator"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665508912,"post_id":74031761,"comment_id":130715499,"body_markdown":"comparators have 3 cases, when x &gt; y then of `x - y` is greater 0, when x == y then exactly 0, otherwise it&#39;s smaller than 0. That&#39;s why the comparator interface (https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html) needs to return a number. i.e. checking for equality would be `if (Compare(x,y) ==0)`. You should probably just use Java&#39;s Comparator interface and the many utility functions it provides if you want to use it outside of study code. You also can&#39;t return values from an interface, like you do.","body":"comparators have 3 cases, when x &gt; y then of <code>x - y</code> is greater 0, when x == y then exactly 0, otherwise it&#39;s smaller than 0. That&#39;s why the comparator interface (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a>&zwnj;&#8203;) needs to return a number. i.e. checking for equality would be <code>if (Compare(x,y) ==0)</code>. You should probably just use Java&#39;s Comparator interface and the many utility functions it provides if you want to use it outside of study code. You also can&#39;t return values from an interface, like you do."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1665509043,"post_id":74031761,"comment_id":130715540,"body_markdown":"I think you would be better of just writing a method with name `isOffByOne`.","body":"I think you would be better of just writing a method with name <code>isOffByOne</code>."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1665509048,"post_id":74031761,"comment_id":130715544,"body_markdown":"A Comparator is something that implements the [Comparator interface](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html).  It&#39;s difficult to make sense of what you&#39;re trying to do, since the code is syntactically invalid, and a method that determines if two integers differ by unity cannot be the basis for a Comparator anyway","body":"A Comparator is something that implements the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator interface</a>.  It&#39;s difficult to make sense of what you&#39;re trying to do, since the code is syntactically invalid, and a method that determines if two integers differ by unity cannot be the basis for a Comparator anyway"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665509627,"post_id":74031761,"comment_id":130715733,"body_markdown":"```public boolean isOffByOne (int x, int y) { return Math.abs(x - y) == 1; }```","body":"<code>public boolean isOffByOne (int x, int y) { return Math.abs(x - y) == 1; }</code>"},{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1665509742,"post_id":74031761,"comment_id":130715778,"body_markdown":"@g00se I want to try and use comparators for this though","body":"@g00se I want to try and use comparators for this though"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665509795,"post_id":74031761,"comment_id":130715793,"body_markdown":"That&#39;s not appropriate","body":"That&#39;s not appropriate"},{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1665512379,"post_id":74031761,"comment_id":130716693,"body_markdown":"@accessviolation thats what im trying to understand right now and my code, which is wrong, is based off my understanding of it. Can you please show me how to implement it. Sorry about the messed up code, I&#39;m really new so I&#39;m prone to making mistakes","body":"@accessviolation thats what im trying to understand right now and my code, which is wrong, is based off my understanding of it. Can you please show me how to implement it. Sorry about the messed up code, I&#39;m really new so I&#39;m prone to making mistakes"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1665525826,"post_id":74031761,"comment_id":130720468,"body_markdown":"The job of a `Comparator` is to define an ordering - i.e., &quot;does X come before Y?&quot;.  I can&#39;t see any way to use a method that computes &quot;do X and Y differ by 1&quot; in a Comparator.  For a start,, the result for your Compare(1,999) is the same as the result for Compare(999,1); if you somehow forced that into a Comparator, you&#39;d apparently be claiming that 1 is before 999 and 999 is before 1.  So, which are you interested in achieving: using a Comparator, or having some &quot;differ by one&quot; method?","body":"The job of a <code>Comparator</code> is to define an ordering - i.e., &quot;does X come before Y?&quot;.  I can&#39;t see any way to use a method that computes &quot;do X and Y differ by 1&quot; in a Comparator.  For a start,, the result for your Compare(1,999) is the same as the result for Compare(999,1); if you somehow forced that into a Comparator, you&#39;d apparently be claiming that 1 is before 999 and 999 is before 1.  So, which are you interested in achieving: using a Comparator, or having some &quot;differ by one&quot; method?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665512505,"creation_date":1665512505,"answer_id":74032508,"question_id":74031761,"body_markdown":"Comparator already exists in java - `java.util.Comparator`. It is something _completely different_ from what you describe: Java&#39;s own comparator is a thing that you give 2 objects, and the comparator tells you which of the two &#39;comes earlier&#39; in a sorting. Such an oracle is all you need to efficiently sort stuff.\r\n\r\nIt&#39;s allowed, but a bad idea, to name types the same as core java types. You can make your own `String`, which is different from java&#39;s own `String` in all ways (your `String` does not in any way replace java&#39;s string), it&#39;s just a confusing name, is all. You&#39;re doing the same thing with `Comparator` here. Bad idea. I&#39;d call it `OffByOne` or similar.\r\n\r\n&gt; declare an interface as a comparator called compare where I&#39;m supposed to take two integers and return True if the difference between two integers is 1, and false if not.\r\n\r\nThis makes no sense whatsoever. You must have misunderstood the assignment. An interface describes the what __and does not describe the how__, whereas what you just said is describing the how. That&#39;s just not what interfaces do - they don&#39;t get to define the how. They only define the what. You&#39;re describing an implementation, not an interface.\r\n\r\n&gt; ```java\r\n&gt; public interface Compare {\r\n&gt;             int x;\r\n&gt;            int y;\r\n&gt;             if ((x-y) == 1) {\r\n&gt; ```\r\n\r\nYou can&#39;t stick code in types like this. You can stick only methods, fields, constructors, and other types in there. You can stick code in a method and then stick the method in a type, if you want. In addition, given that it is an interface, you can&#39;t stick code in one __at all__ - interfaces define what a `class` can do, not how it does it (there is the `default` mechanism. That&#39;s definitely not what this assignments wants you to do so, so it doesn&#39;t apply here).\r\n\r\nThis would be an interface:\r\n\r\n```\r\npublic interface DifferenceOfOne&lt;T&gt; {\r\n  public boolean isDifferenceOfOne(T a, T B);\r\n}\r\n```\r\n\r\nThis says: There is such a thing as a &#39;DifferenceOfOne&#39; implementation for any given type. Such a class would implement the method `isDifferenceOfOne`, which takes in 2 parameters, both of that given type, and which then returns a boolean.\r\n\r\nYou can then make an implementation for the Integer type:\r\n\r\n```\r\nclass IntDiffOfOne implements DifferenceOfOne&lt;Integer&gt; {\r\n  public boolean isDifferenceOfOne(Integer a, Integer b) {\r\n    return (a - 1 == b || b - 1 == a);\r\n  }\r\n}\r\n\r\nDifferenceOfOne&lt;Integer&gt; intDiffOfOne = new IntDiffOfOne();\r\n```\r\n\r\nOr in more common, modern java syntax:\r\n\r\n```\r\nDifferenceOfOne&lt;Integer&gt; intDiffOfOne = (a, b) -&gt; (a - 1 == b || b - 1 == a);\r\n```\r\n\r\nAnd someone else can write a DiffOfOne implementation that, I dunno, tells you if any 2 `LocalDate` instances differ by exactly 1 day, perhaps, that would be a `DifferenceOfOne&lt;LocalDate&gt;`.\r\n\r\nIf this all sounds confusing to you - go back to whomever gave you this assignment, as either the assignment makes no sense, or you misheard/misunderstood it.\r\n\r\n","title":"How can I implement a comparator to compare two numbers?","body":"<p>Comparator already exists in java - <code>java.util.Comparator</code>. It is something <em>completely different</em> from what you describe: Java's own comparator is a thing that you give 2 objects, and the comparator tells you which of the two 'comes earlier' in a sorting. Such an oracle is all you need to efficiently sort stuff.</p>\n<p>It's allowed, but a bad idea, to name types the same as core java types. You can make your own <code>String</code>, which is different from java's own <code>String</code> in all ways (your <code>String</code> does not in any way replace java's string), it's just a confusing name, is all. You're doing the same thing with <code>Comparator</code> here. Bad idea. I'd call it <code>OffByOne</code> or similar.</p>\n<blockquote>\n<p>declare an interface as a comparator called compare where I'm supposed to take two integers and return True if the difference between two integers is 1, and false if not.</p>\n</blockquote>\n<p>This makes no sense whatsoever. You must have misunderstood the assignment. An interface describes the what <strong>and does not describe the how</strong>, whereas what you just said is describing the how. That's just not what interfaces do - they don't get to define the how. They only define the what. You're describing an implementation, not an interface.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Compare {\n            int x;\n           int y;\n            if ((x-y) == 1) {\n</code></pre>\n</blockquote>\n<p>You can't stick code in types like this. You can stick only methods, fields, constructors, and other types in there. You can stick code in a method and then stick the method in a type, if you want. In addition, given that it is an interface, you can't stick code in one <strong>at all</strong> - interfaces define what a <code>class</code> can do, not how it does it (there is the <code>default</code> mechanism. That's definitely not what this assignments wants you to do so, so it doesn't apply here).</p>\n<p>This would be an interface:</p>\n<pre><code>public interface DifferenceOfOne&lt;T&gt; {\n  public boolean isDifferenceOfOne(T a, T B);\n}\n</code></pre>\n<p>This says: There is such a thing as a 'DifferenceOfOne' implementation for any given type. Such a class would implement the method <code>isDifferenceOfOne</code>, which takes in 2 parameters, both of that given type, and which then returns a boolean.</p>\n<p>You can then make an implementation for the Integer type:</p>\n<pre><code>class IntDiffOfOne implements DifferenceOfOne&lt;Integer&gt; {\n  public boolean isDifferenceOfOne(Integer a, Integer b) {\n    return (a - 1 == b || b - 1 == a);\n  }\n}\n\nDifferenceOfOne&lt;Integer&gt; intDiffOfOne = new IntDiffOfOne();\n</code></pre>\n<p>Or in more common, modern java syntax:</p>\n<pre><code>DifferenceOfOne&lt;Integer&gt; intDiffOfOne = (a, b) -&gt; (a - 1 == b || b - 1 == a);\n</code></pre>\n<p>And someone else can write a DiffOfOne implementation that, I dunno, tells you if any 2 <code>LocalDate</code> instances differ by exactly 1 day, perhaps, that would be a <code>DifferenceOfOne&lt;LocalDate&gt;</code>.</p>\n<p>If this all sounds confusing to you - go back to whomever gave you this assignment, as either the assignment makes no sense, or you misheard/misunderstood it.</p>\n"}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74032508,"answer_count":1,"score":-1,"last_activity_date":1665512505,"creation_date":1665508174,"question_id":74031761,"body_markdown":"I have a class `OffbyOne` where I declare an interface as a comparator called `compare` where I&#39;m supposed to take two integers and return True if the difference between two integers is 1, and false if not.\r\n\r\nHere is my code so far:\r\n\r\n    public static class OffbyOne {\r\n            public interface Compare {\r\n                int x;\r\n                int y;\r\n                if ((x-y) == 1) {\r\n                    return true;\r\n                } else if ((y-x)==1) {\r\n                    return true;\r\n                }\r\n                return false\r\n                public boolean equalChars(char x, char y); {\r\n                    if (Compare(x,y) == true) {\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                }\r\n\r\nI&#39;m struggling to understand how comparators work in Java and what do I have to do. If anyone can please help me with this and then provide explanations for how it is supposed to be done, it would be great for me. \r\n\r\nThank you. \r\n","title":"How can I implement a comparator to compare two numbers?","body":"<p>I have a class <code>OffbyOne</code> where I declare an interface as a comparator called <code>compare</code> where I'm supposed to take two integers and return True if the difference between two integers is 1, and false if not.</p>\n<p>Here is my code so far:</p>\n<pre><code>public static class OffbyOne {\n        public interface Compare {\n            int x;\n            int y;\n            if ((x-y) == 1) {\n                return true;\n            } else if ((y-x)==1) {\n                return true;\n            }\n            return false\n            public boolean equalChars(char x, char y); {\n                if (Compare(x,y) == true) {\n                    return true;\n                }\n                return false;\n            }\n</code></pre>\n<p>I'm struggling to understand how comparators work in Java and what do I have to do. If anyone can please help me with this and then provide explanations for how it is supposed to be done, it would be great for me.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":24944212,"reputation":61,"user_id":18809717,"display_name":"rg226965"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650281600,"creation_date":1650281600,"answer_id":71911231,"question_id":71910914,"body_markdown":"You can use the ```ModelMapper``` class to convert ```Dto to Model ``` and vice versa. ```ModelMapper``` class has ``` map()``` which maps Model to Dto and vice versa.\r\nOnce you convert the Dto to Model you can call ```currencyRepository.save()``` to save the Model to the database.\r\n\r\nYou can refer [this link][1].\r\n\r\n\r\n  [1]: https://auth0.com/blog/automatically-mapping-dto-to-entity-on-spring-boot-apis/","title":"How to map Dto objects to Entities?","body":"<p>You can use the <code>ModelMapper</code> class to convert <code>Dto to Model </code> and vice versa. <code>ModelMapper</code> class has <code> map()</code> which maps Model to Dto and vice versa.\nOnce you convert the Dto to Model you can call <code>currencyRepository.save()</code> to save the Model to the database.</p>\n<p>You can refer <a href=\"https://auth0.com/blog/automatically-mapping-dto-to-entity-on-spring-boot-apis/\" rel=\"nofollow noreferrer\">this link</a>.</p>\n"},{"tags":[],"owner":{"account_id":20032990,"reputation":59,"user_id":14685347,"display_name":"Andrey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650285925,"creation_date":1650285925,"answer_id":71911991,"question_id":71910914,"body_markdown":"You need to map Dto objects with Entities. Use [Mapstruct][1] for the purpose. Next configure any Data base in your project and make connection to it. For ease it could be [H2][2] data base. It&#39;s better to write set of CRUD REST controllers that will get all needed information from a site accordingly it&#39;s api specification and save it to DB. Then in main Spring Boot application class you code some logic applying to the REST controllers.\r\n\r\n\r\n  [1]: https://mapstruct.org/\r\n  [2]: https://www.h2database.com/html/main.html","title":"How to map Dto objects to Entities?","body":"<p>You need to map Dto objects with Entities. Use <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">Mapstruct</a> for the purpose. Next configure any Data base in your project and make connection to it. For ease it could be <a href=\"https://www.h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2</a> data base. It's better to write set of CRUD REST controllers that will get all needed information from a site accordingly it's api specification and save it to DB. Then in main Spring Boot application class you code some logic applying to the REST controllers.</p>\n"},{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665512381,"creation_date":1665512381,"answer_id":74032492,"question_id":71910914,"body_markdown":"Don&#39;t overthink it - just do `new Currency()` and set all the fields (or better - pass them into the constructor) by taking values from `CurrencyModelDto`. And then save the Entity using the Repository.\r\n\r\nAnd for god sake don&#39;t use additional libraries/frameworks to covert between Entity &amp; DTO as others suggest. This is a very simple problem and it can be solved with very simple code - no need to introduce extra dependencies to your project.\r\n\r\n","title":"How to map Dto objects to Entities?","body":"<p>Don't overthink it - just do <code>new Currency()</code> and set all the fields (or better - pass them into the constructor) by taking values from <code>CurrencyModelDto</code>. And then save the Entity using the Repository.</p>\n<p>And for god sake don't use additional libraries/frameworks to covert between Entity &amp; DTO as others suggest. This is a very simple problem and it can be solved with very simple code - no need to introduce extra dependencies to your project.</p>\n"}],"owner":{"account_id":23586290,"reputation":5,"user_id":17624701,"display_name":"JJJokers223"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1665512381,"creation_date":1650279575,"question_id":71910914,"body_markdown":"I have written a simple program that retrieves the exchange rate and some basic information about the currency using api(bank).\r\n\r\nI would like to add a database to it so that the information is stored. \r\n\r\nTo do this, I have created a `Currency` entity that references a `DTO` and a `CurrencyRepository` that I have injected into a `CurrencyService`. \r\n\r\nAnd at this point I am stuck, I don&#39;t really know how I can retrieve the values of `code`, `mid`, `effectiveDate` and save to the database.\r\n\r\nCould someone please suggest what I should do to go further?\r\n\r\n\r\n**DTO:CurrencyModelDto**\r\n\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import org.springframework.format.annotation.DateTimeFormat;\r\n    \r\n    import java.time.LocalDate;\r\n    \r\n    \r\n    @Getter\r\n    @Builder\r\n    public class CurrencyModelDto {\r\n        private String code;\r\n        private float mid;\r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        private LocalDate effectiveDate;\r\n    }\r\n\r\n**Entity:Currency**\r\n\r\n    import lombok.Getter;\r\n    import org.springframework.format.annotation.DateTimeFormat;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import java.time.LocalDate;\r\n    \r\n    @Entity\r\n    @Getter\r\n    public class Currency {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String code;\r\n        private float mid;\r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        private LocalDate effectiveDate;\r\n    }\r\n\r\n**Repository:CurrencyRepository**\r\n\r\n    import com.example.nbpmaster.repository.entity.Currency;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface CurrencyRepository extends JpaRepository&lt;Currency, Long&gt; {\r\n    }\r\n\r\n**Service:CurrencyService**\r\n\r\n    import com.example.nbpmaster.model.CurrencyModelDto;\r\n    import com.example.nbpmaster.repository.CurrencyRepository;\r\n    import com.example.nbpmaster.webclient.currency.CurrencyClient;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class CurrencyService {\r\n    \r\n        private final CurrencyClient currencyClient;\r\n        private final CurrencyRepository currencyRepository;\r\n    \r\n        public CurrencyModelDto getCurrency() {\r\n            return currencyClient.getCurrencyType(&quot;usd&quot;);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n**Client:CurrencyClient**\r\n\r\n    import com.example.nbpmaster.model.CurrencyModelDto;\r\n    import com.example.nbpmaster.webclient.dto.CurrencyDto;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @Component\r\n    public class CurrencyClient {\r\n    \r\n        public static final String URL_API_NBP = &quot;http://api.nbp.pl/api/&quot;;\r\n        private final RestTemplate restTemplate = new RestTemplate();\r\n    \r\n        public CurrencyModelDto getCurrencyType(String value) {\r\n            CurrencyDto currencyDto = callGetMethod(&quot;exchangerates/rates/a/{currency}/&quot;, CurrencyDto.class, value);\r\n            return CurrencyModelDto.builder()\r\n                    .code(currencyDto.getCode())\r\n                    .mid(currencyDto.getRates().stream().findFirst().get().getMid())\r\n                    .effectiveDate(currencyDto.getRates().stream().findFirst().get().getEffectiveDate())\r\n                    .build();\r\n        }\r\n    \r\n        private &lt;T&gt; T callGetMethod(String url, Class&lt;T&gt; responseType, Object... objects) {\r\n            return restTemplate.getForObject(URL_API_NBP + url,\r\n                    responseType, objects);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"How to map Dto objects to Entities?","body":"<p>I have written a simple program that retrieves the exchange rate and some basic information about the currency using api(bank).</p>\n<p>I would like to add a database to it so that the information is stored.</p>\n<p>To do this, I have created a <code>Currency</code> entity that references a <code>DTO</code> and a <code>CurrencyRepository</code> that I have injected into a <code>CurrencyService</code>.</p>\n<p>And at this point I am stuck, I don't really know how I can retrieve the values of <code>code</code>, <code>mid</code>, <code>effectiveDate</code> and save to the database.</p>\n<p>Could someone please suggest what I should do to go further?</p>\n<p><strong>DTO:CurrencyModelDto</strong></p>\n<pre><code>import lombok.Builder;\nimport lombok.Getter;\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport java.time.LocalDate;\n\n\n@Getter\n@Builder\npublic class CurrencyModelDto {\n    private String code;\n    private float mid;\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate effectiveDate;\n}\n</code></pre>\n<p><strong>Entity:Currency</strong></p>\n<pre><code>import lombok.Getter;\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport java.time.LocalDate;\n\n@Entity\n@Getter\npublic class Currency {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String code;\n    private float mid;\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate effectiveDate;\n}\n</code></pre>\n<p><strong>Repository:CurrencyRepository</strong></p>\n<pre><code>import com.example.nbpmaster.repository.entity.Currency;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface CurrencyRepository extends JpaRepository&lt;Currency, Long&gt; {\n}\n</code></pre>\n<p><strong>Service:CurrencyService</strong></p>\n<pre><code>import com.example.nbpmaster.model.CurrencyModelDto;\nimport com.example.nbpmaster.repository.CurrencyRepository;\nimport com.example.nbpmaster.webclient.currency.CurrencyClient;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Service;\n\n@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class CurrencyService {\n\n    private final CurrencyClient currencyClient;\n    private final CurrencyRepository currencyRepository;\n\n    public CurrencyModelDto getCurrency() {\n        return currencyClient.getCurrencyType(&quot;usd&quot;);\n\n    }\n\n}\n</code></pre>\n<p><strong>Client:CurrencyClient</strong></p>\n<pre><code>import com.example.nbpmaster.model.CurrencyModelDto;\nimport com.example.nbpmaster.webclient.dto.CurrencyDto;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.client.RestTemplate;\n\n@Component\npublic class CurrencyClient {\n\n    public static final String URL_API_NBP = &quot;http://api.nbp.pl/api/&quot;;\n    private final RestTemplate restTemplate = new RestTemplate();\n\n    public CurrencyModelDto getCurrencyType(String value) {\n        CurrencyDto currencyDto = callGetMethod(&quot;exchangerates/rates/a/{currency}/&quot;, CurrencyDto.class, value);\n        return CurrencyModelDto.builder()\n                .code(currencyDto.getCode())\n                .mid(currencyDto.getRates().stream().findFirst().get().getMid())\n                .effectiveDate(currencyDto.getRates().stream().findFirst().get().getEffectiveDate())\n                .build();\n    }\n\n    private &lt;T&gt; T callGetMethod(String url, Class&lt;T&gt; responseType, Object... objects) {\n        return restTemplate.getForObject(URL_API_NBP + url,\n                responseType, objects);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","maven","maven-compiler-plugin","system-properties"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1644242606,"post_id":71019097,"comment_id":125545602,"body_markdown":"Using `maven.compiler.release` with JDK 8 will fail because the `--release` option is supported starting with JDK9+... For JDK11 you can simply set it to `&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;`.. If you set release you don&#39;t need source/target anymore..","body":"Using <code>maven.compiler.release</code> with JDK 8 will fail because the <code>--release</code> option is supported starting with JDK9+... For JDK11 you can simply set it to <code>&lt;maven.compiler.release&gt;11&lt;&#47;maven.compiler.release&gt;</code>.. If you set release you don&#39;t need source/target anymore.."}],"answers":[{"tags":[],"owner":{"account_id":990065,"reputation":1340,"user_id":1007631,"accept_rate":60,"display_name":"ocarlsen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665512238,"creation_date":1665512238,"answer_id":74032462,"question_id":71019097,"body_markdown":"I had similar problem.  Here is how to delete `release` property from parent POM and use `--add-exports`.\r\n\r\nUse the `combine.self=&quot;override&quot;` attribute like this\r\n\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release combine.self=&quot;override&quot;/&gt;\r\n\t\t\t\t\t&lt;compilerArgs&gt;\r\n\t\t\t\t\t\t&lt;arg&gt;--add-exports&lt;/arg&gt;\r\n\t\t\t\t\t\t&lt;arg&gt;jdk.compiler/com.sun.tools.javac.api=ALL-NNAMED&lt;/arg&gt;\r\n\t\t\t\t\t&lt;/compilerArgs&gt;\r\n\t\t\t\t\t...\r\n\r\n*et, voila!*","title":"Clear/unset a system property maven.compiler.release so that is is no longer present","body":"<p>I had similar problem.  Here is how to delete <code>release</code> property from parent POM and use <code>--add-exports</code>.</p>\n<p>Use the <code>combine.self=&quot;override&quot;</code> attribute like this</p>\n<pre><code>    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release combine.self=&quot;override&quot;/&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;--add-exports&lt;/arg&gt;\n                    &lt;arg&gt;jdk.compiler/com.sun.tools.javac.api=ALL-NNAMED&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n                ...\n</code></pre>\n<p><em>et, voila!</em></p>\n"}],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74032462,"answer_count":1,"score":3,"last_activity_date":1665512238,"creation_date":1644239269,"question_id":71019097,"body_markdown":"I have a project with complicated build setup (parent POM&#39;s with parent POM&#39;s) and so it happens that my compiler plugin executes with `maven.compiler.release=8`.\r\n\r\nThis prevents me from setting source/target to Java 11 and I can&#39;t set release to 11 since I need to specify some `--add-exports`.\r\n\r\nIs there a way to remove a system property in a profile so that it will not appear and my source/target switches would work? The best I could think of is setting `maven.compiler.release` to empty value but it won&#39;t work with compiler plugin.\r\n\r\nHow do I clear the system property in a profile? Alternatively, is there a way to trace who actually set it in the first place?","title":"Clear/unset a system property maven.compiler.release so that is is no longer present","body":"<p>I have a project with complicated build setup (parent POM's with parent POM's) and so it happens that my compiler plugin executes with <code>maven.compiler.release=8</code>.</p>\n<p>This prevents me from setting source/target to Java 11 and I can't set release to 11 since I need to specify some <code>--add-exports</code>.</p>\n<p>Is there a way to remove a system property in a profile so that it will not appear and my source/target switches would work? The best I could think of is setting <code>maven.compiler.release</code> to empty value but it won't work with compiler plugin.</p>\n<p>How do I clear the system property in a profile? Alternatively, is there a way to trace who actually set it in the first place?</p>\n"},{"tags":["java","spring","rx-java","rx-java2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665511332,"post_id":74032139,"comment_id":130716319,"body_markdown":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.","body":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly."}],"answers":[{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665511762,"creation_date":1665511762,"answer_id":74032389,"question_id":74032139,"body_markdown":"You can try something like this which is asynchronous:\r\n\r\n    String variableString=&quot;&quot;;\r\n        a.subscribe( result -&gt; {\r\n              variableString = result.toString();\r\n            });\r\n        System.out.println(convertToSentence(variableString));","title":"How to get the object or item of a Single with rxJava?","body":"<p>You can try something like this which is asynchronous:</p>\n<pre><code>String variableString=&quot;&quot;;\n    a.subscribe( result -&gt; {\n          variableString = result.toString();\n        });\n    System.out.println(convertToSentence(variableString));\n</code></pre>\n"}],"owner":{"account_id":24921199,"reputation":1,"user_id":19118268,"display_name":"Sinvie Jondres"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665511762,"creation_date":1665510351,"question_id":74032139,"body_markdown":"I would like to know how to obtain the value contained in a Single and contain it in a variable? (In the example that I am going to add, capturing it is a String, but I would like its proposals to be indifferent to the type since it could be an object created by oneself or another type whatever), mention that in this case it would no longer accept a blockingGet() which for concepts I would like to keep the detail async.\r\n\r\nIn the current context it is shown that the map still gets a Single, but my goal is still to get just String, its support with the fundamentals to be able to understand this detail that has emerged when researching and practicing rxJava.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tYDp6.png","title":"How to get the object or item of a Single with rxJava?","body":"<p>I would like to know how to obtain the value contained in a Single and contain it in a variable? (In the example that I am going to add, capturing it is a String, but I would like its proposals to be indifferent to the type since it could be an object created by oneself or another type whatever), mention that in this case it would no longer accept a blockingGet() which for concepts I would like to keep the detail async.</p>\n<p>In the current context it is shown that the map still gets a Single, but my goal is still to get just String, its support with the fundamentals to be able to understand this detail that has emerged when researching and practicing rxJava.</p>\n<p><a href=\"https://i.stack.imgur.com/tYDp6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":403854,"reputation":465647,"user_id":771848,"accept_rate":100,"display_name":"alecxe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1426529514,"creation_date":1426527797,"answer_id":29083490,"question_id":29082862,"body_markdown":"The solution would still rely on exception-handling. And this is pretty much ok, even [standard Expected Conditions][1] rely on exceptions being thrown by `findElement()`.\r\n\r\nThe idea is to create a *custom Expected Condition*:\r\n\r\n      public static ExpectedCondition&lt;Boolean&gt; absenceOfElementLocated(\r\n          final By locator) {\r\n        return new ExpectedCondition&lt;Boolean&gt;() {\r\n          @Override\r\n          public Boolean apply(WebDriver driver) {\r\n            try {\r\n              driver.findElement(locator);\r\n              return false;\r\n            } catch (NoSuchElementException e) {\r\n              return true;\r\n            } catch (StaleElementReferenceException e) {\r\n              return true;\r\n            }\r\n          }\r\n    \r\n          @Override\r\n          public String toString() {\r\n            return &quot;element to not being present: &quot; + locator;\r\n          }\r\n        };\r\n      }\r\n\r\n\r\n  [1]: https://code.google.com/p/selenium/source/browse/java/client/src/org/openqa/selenium/support/ui/ExpectedConditions.java#453","title":"How to wait until an element no longer exists in Selenium","body":"<p>The solution would still rely on exception-handling. And this is pretty much ok, even <a href=\"https://code.google.com/p/selenium/source/browse/java/client/src/org/openqa/selenium/support/ui/ExpectedConditions.java#453\" rel=\"nofollow\">standard Expected Conditions</a> rely on exceptions being thrown by <code>findElement()</code>.</p>\n\n<p>The idea is to create a <em>custom Expected Condition</em>:</p>\n\n<pre><code>  public static ExpectedCondition&lt;Boolean&gt; absenceOfElementLocated(\n      final By locator) {\n    return new ExpectedCondition&lt;Boolean&gt;() {\n      @Override\n      public Boolean apply(WebDriver driver) {\n        try {\n          driver.findElement(locator);\n          return false;\n        } catch (NoSuchElementException e) {\n          return true;\n        } catch (StaleElementReferenceException e) {\n          return true;\n        }\n      }\n\n      @Override\n      public String toString() {\n        return \"element to not being present: \" + locator;\n      }\n    };\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1426528294,"creation_date":1426528294,"answer_id":29083637,"question_id":29082862,"body_markdown":"Why don&#39;t you simply find the size of `elements`. We know the the collection of elements&#39; *size* would be **0** if *element* does not exist.\r\n\r\n    if(driver.findElements(By.id(&quot;foo&quot;).size() &gt; 0 ){\r\n    \t//It should fail\r\n    }else{\r\n    \t//pass\r\n    }\r\n\r\n","title":"How to wait until an element no longer exists in Selenium","body":"<p>Why don't you simply find the size of <code>elements</code>. We know the the collection of elements' <em>size</em> would be <strong>0</strong> if <em>element</em> does not exist.</p>\n\n<pre><code>if(driver.findElements(By.id(\"foo\").size() &gt; 0 ){\n    //It should fail\n}else{\n    //pass\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3001560,"reputation":3651,"user_id":2546966,"accept_rate":60,"display_name":"Vivek Singh"},"down_vote_count":1,"up_vote_count":78,"is_accepted":true,"score":77,"last_activity_date":1590165316,"creation_date":1426529690,"answer_id":29084080,"question_id":29082862,"body_markdown":"You can also use - \r\n\r\n    new WebDriverWait(driver, 10).until(ExpectedConditions.invisibilityOfElementLocated(locator));\r\n\r\nIf you go through [the source][1] of it you can see that both `NoSuchElementException` and `staleElementReferenceException` are handled.\r\n\r\n    /**\r\n       * An expectation for checking that an element is either invisible or not\r\n       * present on the DOM.\r\n       *\r\n       * @param locator used to find the element\r\n       */\r\n      public static ExpectedCondition&lt;Boolean&gt; invisibilityOfElementLocated(\r\n          final By locator) {\r\n        return new ExpectedCondition&lt;Boolean&gt;() {\r\n          @Override\r\n          public Boolean apply(WebDriver driver) {\r\n            try {\r\n              return !(findElement(locator, driver).isDisplayed());\r\n            } catch (NoSuchElementException e) {\r\n              // Returns true because the element is not present in DOM. The\r\n              // try block checks if the element is present but is invisible.\r\n              return true;\r\n            } catch (StaleElementReferenceException e) {\r\n              // Returns true because stale element reference implies that element\r\n              // is no longer visible.\r\n              return true;\r\n            }\r\n          }\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/blob/d1a06e59f242e7920c3b7ba8f6dcd2f546857b4b/java/client/src/org/openqa/selenium/support/ui/ExpectedConditions.java#L572","title":"How to wait until an element no longer exists in Selenium","body":"<p>You can also use - </p>\n\n<pre><code>new WebDriverWait(driver, 10).until(ExpectedConditions.invisibilityOfElementLocated(locator));\n</code></pre>\n\n<p>If you go through <a href=\"https://github.com/SeleniumHQ/selenium/blob/d1a06e59f242e7920c3b7ba8f6dcd2f546857b4b/java/client/src/org/openqa/selenium/support/ui/ExpectedConditions.java#L572\" rel=\"noreferrer\">the source</a> of it you can see that both <code>NoSuchElementException</code> and <code>staleElementReferenceException</code> are handled.</p>\n\n<pre><code>/**\n   * An expectation for checking that an element is either invisible or not\n   * present on the DOM.\n   *\n   * @param locator used to find the element\n   */\n  public static ExpectedCondition&lt;Boolean&gt; invisibilityOfElementLocated(\n      final By locator) {\n    return new ExpectedCondition&lt;Boolean&gt;() {\n      @Override\n      public Boolean apply(WebDriver driver) {\n        try {\n          return !(findElement(locator, driver).isDisplayed());\n        } catch (NoSuchElementException e) {\n          // Returns true because the element is not present in DOM. The\n          // try block checks if the element is present but is invisible.\n          return true;\n        } catch (StaleElementReferenceException e) {\n          // Returns true because stale element reference implies that element\n          // is no longer visible.\n          return true;\n        }\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5551529,"reputation":21,"user_id":5194132,"display_name":"Nagaraju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460448318,"creation_date":1460446874,"answer_id":36566681,"question_id":29082862,"body_markdown":"    // pseudo code\r\n    public Fun&lt;driver,webelement&gt; ElemtDisappear(locator)\r\n    {\r\n\t\twebelement element=null;\r\n\t\tiList&lt;webelement&gt; elemt =null;\r\n\t\treturn driver=&gt;\r\n\t\t{\r\n\t\ttry\r\n\t\t{\r\n\t\telemt = driver.findelements(By.locator);\r\n\t\tif(elemt.count!=0)\r\n\t\t{\r\n\t\telement=driver.findelement(By.locator);\r\n\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t}\r\n\t\treturn(elemnt==0)?element:null;\r\n    };\r\n    \r\n    // call function\r\n    public void waitforelemDiappear(driver,locator)\r\n    {\r\n\t\twebdriverwaiter wait = new webdriverwaiter(driver,time);\r\n\t\ttry\r\n\t\t{\r\n\t\twait.until(ElemtDisappear(locator));\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t}\r\n    }\r\n\r\nAs findelement throws exception on element unaviability.so i implemented using findelements. please feel free to correct and use it as per your need.","title":"How to wait until an element no longer exists in Selenium","body":"<pre><code>// pseudo code\npublic Fun&lt;driver,webelement&gt; ElemtDisappear(locator)\n{\n    webelement element=null;\n    iList&lt;webelement&gt; elemt =null;\n    return driver=&gt;\n    {\n    try\n    {\n    elemt = driver.findelements(By.locator);\n    if(elemt.count!=0)\n    {\n    element=driver.findelement(By.locator);\n    }\n    }\n    catch(Exception e)\n    {\n    }\n    return(elemnt==0)?element:null;\n};\n\n// call function\npublic void waitforelemDiappear(driver,locator)\n{\n    webdriverwaiter wait = new webdriverwaiter(driver,time);\n    try\n    {\n    wait.until(ElemtDisappear(locator));\n    }\n    catch(Exception e)\n    {\n    }\n}\n</code></pre>\n\n<p>As findelement throws exception on element unaviability.so i implemented using findelements. please feel free to correct and use it as per your need.</p>\n"},{"tags":[],"owner":{"account_id":5958620,"reputation":3514,"user_id":4684417,"accept_rate":0,"display_name":"Abhinav Saxena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495712633,"creation_date":1495712633,"answer_id":44179746,"question_id":29082862,"body_markdown":"I found a workaround to fix this for me in efficient way, used following C# code to handle this, you may convert it to Java\r\n\r\n        public bool WaitForElementDisapper(By element)\r\n        {\r\n            try\r\n            {\r\n                while (true)\r\n                {\r\n                    try\r\n                    {\r\n                        if (driver.FindElement(element).Displayed)\r\n                            Thread.Sleep(2000);\r\n                    }\r\n                    catch (NoSuchElementException)\r\n                    {\r\n                        break;\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                logger.Error(e.Message);\r\n                return false;\r\n            }\r\n        }","title":"How to wait until an element no longer exists in Selenium","body":"<p>I found a workaround to fix this for me in efficient way, used following C# code to handle this, you may convert it to Java</p>\n\n<pre><code>    public bool WaitForElementDisapper(By element)\n    {\n        try\n        {\n            while (true)\n            {\n                try\n                {\n                    if (driver.FindElement(element).Displayed)\n                        Thread.Sleep(2000);\n                }\n                catch (NoSuchElementException)\n                {\n                    break;\n                }\n            }\n            return true;\n        }\n        catch (Exception e)\n        {\n            logger.Error(e.Message);\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4825397,"reputation":597,"user_id":3894987,"accept_rate":100,"display_name":"Huy H&#243;m Hỉnh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570615609,"creation_date":1570615609,"answer_id":58301757,"question_id":29082862,"body_markdown":"I don&#39;t know why but `ExpectedConditions.invisibilityOf(element)` is the only work for me while `ExpectedConditions.invisibilityOfElementLocated(By)`, `!ExpectedConditions.presenceOfElementLocated(By)` ... not. Try it!\r\n\r\nHope this help!","title":"How to wait until an element no longer exists in Selenium","body":"<p>I don't know why but <code>ExpectedConditions.invisibilityOf(element)</code> is the only work for me while <code>ExpectedConditions.invisibilityOfElementLocated(By)</code>, <code>!ExpectedConditions.presenceOfElementLocated(By)</code> ... not. Try it!</p>\n\n<p>Hope this help!</p>\n"},{"tags":[],"owner":{"account_id":9316336,"reputation":3758,"user_id":7107094,"accept_rate":100,"display_name":"Trev14"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629186069,"creation_date":1629186069,"answer_id":68813416,"question_id":29082862,"body_markdown":"## Good news, it&#39;s built in now (I&#39;m using Node.js in 2021)\r\n\r\nIt looks like `elementIsNotVisible` has been added to `until` after the previous answers were given. I&#39;m using selenium webdriver `4.0.0-beta.3`\r\n\r\nCheck it out:\r\n\r\n    const timeout = 60 * 1000; // 60 seconds\r\n    const element = await driver.findElement(By.id(elementId));\r\n    \r\n    // this is the important line \r\n    await driver.wait(until.elementIsNotVisible(element), timeout);","title":"How to wait until an element no longer exists in Selenium","body":"<h2>Good news, it's built in now (I'm using Node.js in 2021)</h2>\n<p>It looks like <code>elementIsNotVisible</code> has been added to <code>until</code> after the previous answers were given. I'm using selenium webdriver <code>4.0.0-beta.3</code></p>\n<p>Check it out:</p>\n<pre><code>const timeout = 60 * 1000; // 60 seconds\nconst element = await driver.findElement(By.id(elementId));\n\n// this is the important line \nawait driver.wait(until.elementIsNotVisible(element), timeout);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12610891,"reputation":29,"user_id":9170076,"display_name":"Ilnarello"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665511647,"creation_date":1665511647,"answer_id":74032369,"question_id":29082862,"body_markdown":"You can use the following logic:\r\n\r\nC# code sinppet:\r\n\r\n    //wait is the instance of WebDriverWait\r\n    wait.Until(driver =&gt; driver.FindElements(By.Xpath(&quot;your element expath&quot;)).Count == 0);    \r\nNotice how I use `FindElements` that does NOT throw `NoSuchElementException` which is swallowed by `Until()` function. So when element is gone collection size is zero.","title":"How to wait until an element no longer exists in Selenium","body":"<p>You can use the following logic:</p>\n<p>C# code sinppet:</p>\n<pre><code>//wait is the instance of WebDriverWait\nwait.Until(driver =&gt; driver.FindElements(By.Xpath(&quot;your element expath&quot;)).Count == 0);    \n</code></pre>\n<p>Notice how I use <code>FindElements</code> that does NOT throw <code>NoSuchElementException</code> which is swallowed by <code>Until()</code> function. So when element is gone collection size is zero.</p>\n"}],"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102468,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":29084080,"answer_count":8,"score":56,"last_activity_date":1665511647,"creation_date":1426525808,"question_id":29082862,"body_markdown":"I am testing a UI in which the user clicks a delete button and a table entry disappears. As such, I want to be able to check that the table entry no longer exists.\r\n\r\nI have tried using `ExpectedConditions.not()` to invert `ExpectedConditions.presenceOfElementLocated()`, hoping that it would mean &quot;expect that there is not a presence of the specified element&quot;. My code is like so:\r\n\r\n\tbrowser.navigate().to(&quot;http://stackoverflow.com&quot;);\r\n\tnew WebDriverWait(browser, 1).until(\r\n\t\t\tExpectedConditions.not(\r\n\t\t\t\t\tExpectedConditions.presenceOfElementLocated(By.id(&quot;foo&quot;))));\r\n\r\nHowever, I found that even doing this, I get a `TimeoutExpcetion` caused by a `NoSuchElementException` saying that the element &quot;foo&quot; does not exist. Of course, having no such element is what I want, but I don&#39;t want an exception to be thrown.\r\n\r\nSo how can I wait until an element no longer exists? I would prefer an example that does not rely on catching an exception if at all possible (as I understand it, exceptions should be thrown for exceptional behavior).","title":"How to wait until an element no longer exists in Selenium","body":"<p>I am testing a UI in which the user clicks a delete button and a table entry disappears. As such, I want to be able to check that the table entry no longer exists.</p>\n\n<p>I have tried using <code>ExpectedConditions.not()</code> to invert <code>ExpectedConditions.presenceOfElementLocated()</code>, hoping that it would mean \"expect that there is not a presence of the specified element\". My code is like so:</p>\n\n<pre><code>browser.navigate().to(\"http://stackoverflow.com\");\nnew WebDriverWait(browser, 1).until(\n        ExpectedConditions.not(\n                ExpectedConditions.presenceOfElementLocated(By.id(\"foo\"))));\n</code></pre>\n\n<p>However, I found that even doing this, I get a <code>TimeoutExpcetion</code> caused by a <code>NoSuchElementException</code> saying that the element \"foo\" does not exist. Of course, having no such element is what I want, but I don't want an exception to be thrown.</p>\n\n<p>So how can I wait until an element no longer exists? I would prefer an example that does not rely on catching an exception if at all possible (as I understand it, exceptions should be thrown for exceptional behavior).</p>\n"},{"tags":["java","algorithm","hashmap","hashset","disjoint-sets"],"comments":[{"owner":{"account_id":26583844,"reputation":11,"user_id":20208080,"display_name":"bells"},"score":0,"creation_date":1665434486,"post_id":74020449,"comment_id":130695364,"body_markdown":"feel free to say if something needs to be clarified","body":"feel free to say if something needs to be clarified"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1665435890,"post_id":74020449,"comment_id":130695751,"body_markdown":"Please do clarify what you are trying to achieve, example input helps. The value of x will always equals a y (when x==y itself) so you get same outcome by removing the inner for and if statements, and get a map containing a key for every member of Sets, and every value is Sets.","body":"Please do clarify what you are trying to achieve, example input helps. The value of x will always equals a y (when x==y itself) so you get same outcome by removing the inner for and if statements, and get a map containing a key for every member of Sets, and every value is Sets."},{"owner":{"account_id":26583844,"reputation":11,"user_id":20208080,"display_name":"bells"},"score":0,"creation_date":1665437005,"post_id":74020449,"comment_id":130696036,"body_markdown":"@DuncG For example, if the input Sets are: \n&#39; [0] [0, 4, 5] [1, 2] &#39;\n The method output should be:\n&#39; [0] : [ [1, 2] ],\n [0, 4, 5] : [ [1, 2] ],\n [1, 2] : [ [0] [0, 4, 5] ] &#39;\nwhere the each key is a set checked, and the value for each key is the sets disjoint from the key set. I&#39;m still trying to figure out HashMap, so I know my code is far from the correct way to achieve this.","body":"@DuncG For example, if the input Sets are:  &#39; [0] [0, 4, 5] [1, 2] &#39;  The method output should be: &#39; [0] : [ [1, 2] ],  [0, 4, 5] : [ [1, 2] ],  [1, 2] : [ [0] [0, 4, 5] ] &#39; where the each key is a set checked, and the value for each key is the sets disjoint from the key set. I&#39;m still trying to figure out HashMap, so I know my code is far from the correct way to achieve this."},{"owner":{"account_id":26583844,"reputation":11,"user_id":20208080,"display_name":"bells"},"score":0,"creation_date":1665440679,"post_id":74020449,"comment_id":130696798,"body_markdown":"@AlexanderIvanchenko I think there is a misunderstanding here. I know the definition of &quot;disjoint&quot;. In the output example, I have used commas to separate each key &amp; their value. I understand that was a poor way to display that. So in my example for set `[1, 2]` the disjoint sets are `[0], [0, 4, 5]`. The &quot;:&quot; separates a key from it&#39;s own value. I hope this clarifies everything.","body":"@AlexanderIvanchenko I think there is a misunderstanding here. I know the definition of &quot;disjoint&quot;. In the output example, I have used commas to separate each key &amp; their value. I understand that was a poor way to display that. So in my example for set <code>[1, 2]</code> the disjoint sets are <code>[0], [0, 4, 5]</code>. The &quot;:&quot; separates a key from it&#39;s own value. I hope this clarifies everything."}],"answers":[{"tags":[],"owner":{"account_id":8310021,"reputation":7568,"user_id":6245535,"display_name":"Loris Securo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665441470,"creation_date":1665441470,"answer_id":74021313,"question_id":74020449,"body_markdown":"&gt; How do I check the elements within the sets\r\n\r\nYou can just cycle trough them and use [Set.contains][1]\r\n\r\n    for (Set&lt;E&gt; x : Sets) {\r\n        for (Set&lt;E&gt; y : Sets) {\r\n            boolean isDisjoint = true;\r\n            for (E ey : y) {\r\n                if (x.contains(ey)) {\r\n                    isDisjoint = false;\r\n                    break;\r\n                }\r\n            }\r\n            ...\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Set.html#contains(java.lang.Object)","title":"How to check which of multiple given sets are disjoint?","body":"<blockquote>\n<p>How do I check the elements within the sets</p>\n</blockquote>\n<p>You can just cycle trough them and use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Set.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\">Set.contains</a></p>\n<pre><code>for (Set&lt;E&gt; x : Sets) {\n    for (Set&lt;E&gt; y : Sets) {\n        boolean isDisjoint = true;\n        for (E ey : y) {\n            if (x.contains(ey)) {\n                isDisjoint = false;\n                break;\n            }\n        }\n        ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665511641,"creation_date":1665479371,"answer_id":74025653,"question_id":74020449,"body_markdown":"You can generate a map of type `Map&lt;E,Set&lt;Set&lt;E&gt;&gt;&gt;` which associates each *distinct element* which might be found in these Sets with a *group of Sets* to which it belongs. This approach would allow to avoid redundant performing redundant iterations.\r\n\r\nA *disjoint Set* that corresponds to each *Set* can be found in the following steps:\r\n\r\n* For each *Set* create a copy of the *given Sets* (that would be a value that corresponds to a particular set in the resulting map);\r\n\r\n* Iterate over the elements of a current Set and remove a value (denoted as `disjoint` in the code below) of all Sets to which a particular element belongs. A previously generated Map containing Sets associated with each distinct element would be handy for that.\r\n\r\nIn the code below, I&#39;ve used Java 8 method [`computeIfAbsent()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)), which is concise and expressive (*an **alternative option** provided in the comments*):\r\n\r\n    public static &lt;E&gt; Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; disjointSets(Set&lt;Set&lt;E&gt;&gt; sets) {\r\n\r\n        Map&lt;E, Set&lt;Set&lt;E&gt;&gt;&gt; containsElement = new HashMap&lt;&gt;();\r\n        \r\n        for (Set&lt;E&gt; set: sets) {\r\n            for (E next: set) {\r\n                containsElement   // alternatively you can use: containsElement.putIfAbsent() + containsElement.get()add()\r\n                    .computeIfAbsent(next, k -&gt; new HashSet&lt;&gt;())\r\n                    .add(set);\r\n            }\r\n        }\r\n        \r\n        Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; result = new HashMap&lt;&gt;();\r\n        \r\n        for (Set&lt;E&gt; set: sets) {\r\n            Set&lt;Set&lt;E&gt;&gt; disjoint = new HashSet&lt;&gt;(sets);\r\n            result.put(Collections.unmodifiableSet(set), disjoint);\r\n            \r\n            for (E next: set) {\r\n                disjoint.removeAll(containsElement.get(next));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        Set&lt;Set&lt;Integer&gt;&gt; sets = Set.of(\r\n            Set.of(0), Set.of(0, 4, 5), Set.of(1, 2)\r\n        );\r\n        \r\n        disjointSets(sets).forEach((element, disjoint) -&gt; System.out.println(element + &quot; -&gt; &quot; + disjoint));\r\n    }\r\n\r\n*Output:*\r\n```\r\n[0] -&gt; [[1, 2]]\r\n[1, 2] -&gt; [[0], [0, 5, 4]]\r\n[0, 5, 4] -&gt; [[1, 2]]\r\n```\r\n\r\n*Time Complexity:* **O(n*m)** (considering that we are given `n` sets containing `m` elements).","title":"How to check which of multiple given sets are disjoint?","body":"<p>You can generate a map of type <code>Map&lt;E,Set&lt;Set&lt;E&gt;&gt;&gt;</code> which associates each <em>distinct element</em> which might be found in these Sets with a <em>group of Sets</em> to which it belongs. This approach would allow to avoid redundant performing redundant iterations.</p>\n<p>A <em>disjoint Set</em> that corresponds to each <em>Set</em> can be found in the following steps:</p>\n<ul>\n<li><p>For each <em>Set</em> create a copy of the <em>given Sets</em> (that would be a value that corresponds to a particular set in the resulting map);</p>\n</li>\n<li><p>Iterate over the elements of a current Set and remove a value (denoted as <code>disjoint</code> in the code below) of all Sets to which a particular element belongs. A previously generated Map containing Sets associated with each distinct element would be handy for that.</p>\n</li>\n</ul>\n<p>In the code below, I've used Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>computeIfAbsent()</code></a>, which is concise and expressive (<em>an <strong>alternative option</strong> provided in the comments</em>):</p>\n<pre><code>public static &lt;E&gt; Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; disjointSets(Set&lt;Set&lt;E&gt;&gt; sets) {\n\n    Map&lt;E, Set&lt;Set&lt;E&gt;&gt;&gt; containsElement = new HashMap&lt;&gt;();\n    \n    for (Set&lt;E&gt; set: sets) {\n        for (E next: set) {\n            containsElement   // alternatively you can use: containsElement.putIfAbsent() + containsElement.get()add()\n                .computeIfAbsent(next, k -&gt; new HashSet&lt;&gt;())\n                .add(set);\n        }\n    }\n    \n    Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; result = new HashMap&lt;&gt;();\n    \n    for (Set&lt;E&gt; set: sets) {\n        Set&lt;Set&lt;E&gt;&gt; disjoint = new HashSet&lt;&gt;(sets);\n        result.put(Collections.unmodifiableSet(set), disjoint);\n        \n        for (E next: set) {\n            disjoint.removeAll(containsElement.get(next));\n        }\n    }\n    return result;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    Set&lt;Set&lt;Integer&gt;&gt; sets = Set.of(\n        Set.of(0), Set.of(0, 4, 5), Set.of(1, 2)\n    );\n    \n    disjointSets(sets).forEach((element, disjoint) -&gt; System.out.println(element + &quot; -&gt; &quot; + disjoint));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[0] -&gt; [[1, 2]]\n[1, 2] -&gt; [[0], [0, 5, 4]]\n[0, 5, 4] -&gt; [[1, 2]]\n</code></pre>\n<p><em>Time Complexity:</em> <strong>O(n*m)</strong> (considering that we are given <code>n</code> sets containing <code>m</code> elements).</p>\n"}],"owner":{"account_id":26583844,"reputation":11,"user_id":20208080,"display_name":"bells"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1665511641,"creation_date":1665434214,"question_id":74020449,"body_markdown":"I want to write a method that uses the standard for loop to iterate through a given set of sets, and returns a hashmap that the disjoint sets are added to. I&#39;m aware that the does not work correctly, it&#39;s an example of how I&#39;ve tried to solve this. How do I check the elements within the sets, also without the algorithm becoming too inefficient? \r\n\r\n    public &lt;E&gt; Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; disjointSets(Set&lt;Set&lt;E&gt;&gt; Sets) {\r\n        Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; result = new HashMap&lt;&gt;();\r\n\r\n        for (Set&lt;E&gt; x : Sets) {\r\n            for (Set&lt;E&gt; y : Sets) {\r\n                if (!x.equals(y)) {\r\n                    result.put(x, Sets);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * As an example, if input sets would be:\r\n     * [0]\r\n     * [0, 4, 5]\r\n     * [1, 2]\r\n     * -&gt; expected output should be:\r\n     * [0] : [ [1, 2] ]\r\n     * [0, 4, 5] : [ [1, 2] ]\r\n     * [1, 2] : [ [0] [0, 4, 5] ]\r\n     */","title":"How to check which of multiple given sets are disjoint?","body":"<p>I want to write a method that uses the standard for loop to iterate through a given set of sets, and returns a hashmap that the disjoint sets are added to. I'm aware that the does not work correctly, it's an example of how I've tried to solve this. How do I check the elements within the sets, also without the algorithm becoming too inefficient?</p>\n<pre><code>public &lt;E&gt; Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; disjointSets(Set&lt;Set&lt;E&gt;&gt; Sets) {\n    Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; result = new HashMap&lt;&gt;();\n\n    for (Set&lt;E&gt; x : Sets) {\n        for (Set&lt;E&gt; y : Sets) {\n            if (!x.equals(y)) {\n                result.put(x, Sets);\n            }\n        }\n    }\n    return result;\n}\n/**\n * As an example, if input sets would be:\n * [0]\n * [0, 4, 5]\n * [1, 2]\n * -&gt; expected output should be:\n * [0] : [ [1, 2] ]\n * [0, 4, 5] : [ [1, 2] ]\n * [1, 2] : [ [0] [0, 4, 5] ]\n */\n</code></pre>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":5,"creation_date":1492502218,"post_id":43466682,"comment_id":73988453,"body_markdown":"Without any dirty magics, you cannot create an instance of abstract class.","body":"Without any dirty magics, you cannot create an instance of abstract class."},{"owner":{"account_id":10545748,"reputation":698,"user_id":7770095,"accept_rate":75,"display_name":"Hienz"},"score":2,"creation_date":1492502475,"post_id":43466682,"comment_id":73988589,"body_markdown":"You cannot instantiate an abstract class, but from a child-class, u can call the parent constructor with the super() method.","body":"You cannot instantiate an abstract class, but from a child-class, u can call the parent constructor with the super() method."},{"owner":{"account_id":9451707,"reputation":590,"user_id":7028310,"display_name":"0xDEADBEEF"},"score":0,"creation_date":1492502771,"post_id":43466682,"comment_id":73988752,"body_markdown":"@Deepak luckily I know the dirty magic `MyAbstract  childObject= new MyChildClass();`","body":"@Deepak luckily I know the dirty magic <code>MyAbstract  childObject= new MyChildClass();</code>"}],"answers":[{"tags":[],"owner":{"account_id":9131612,"reputation":821,"user_id":6792999,"accept_rate":76,"display_name":"Aldeguer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1492502409,"creation_date":1492502409,"answer_id":43466753,"question_id":43466682,"body_markdown":"In the constructor of a child-class you can call\r\n\r\n    super(/*params if needed*/);\r\n\r\nin order to call its parent&#39;s constructor","title":"How to call default constructor of an abstract class in Java","body":"<p>In the constructor of a child-class you can call</p>\n\n<pre><code>super(/*params if needed*/);\n</code></pre>\n\n<p>in order to call its parent's constructor</p>\n"},{"tags":[],"owner":{"account_id":10316842,"reputation":876,"user_id":7610918,"accept_rate":38,"display_name":"ProgrammerBoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1492524531,"creation_date":1492502537,"answer_id":43466791,"question_id":43466682,"body_markdown":"You can use super() in your child class. You cannot create instance of abstract class(you might know that)  \r\n\r\n      abstract class Parent{\r\n        \tParent(){\r\n        \t\tSystem.out.println(&quot;Parent contructor!&quot;);\r\n        \t}\r\n        }\r\n        \r\n        \r\n        public class Child extends Parent{\r\n        \r\n        \tpublic Child() {\r\n        \t\tsuper();\r\n        \t\tSystem.out.println(&quot;Child contructor!&quot;);\r\n        \t}\r\n        \t\r\n        \tpublic static void main(String[] args) {\r\n        \t\tnew Child();\r\n        \t}\r\n        }\r\n\r\nEven if you do not specify &lt;code&gt;super()&lt;/code&gt; in &lt;code&gt;Child&lt;/code&gt; class, still the parent class constructor will be called because &lt;code&gt;super()&lt;/code&gt; will be put by compiler in default constructor of &lt;code&gt;Child&lt;/code&gt; class while generating the .class. If you only have parameterized constructor in Parent class then you will have to explicitly call the parent class constructor by &lt;code&gt;super(..parameter)&lt;/code&gt; in your child class constructor . Hope this helps!  ","title":"How to call default constructor of an abstract class in Java","body":"<p>You can use super() in your child class. You cannot create instance of abstract class(you might know that)  </p>\n\n<pre><code>  abstract class Parent{\n        Parent(){\n            System.out.println(\"Parent contructor!\");\n        }\n    }\n\n\n    public class Child extends Parent{\n\n        public Child() {\n            super();\n            System.out.println(\"Child contructor!\");\n        }\n\n        public static void main(String[] args) {\n            new Child();\n        }\n    }\n</code></pre>\n\n<p>Even if you do not specify <code>super()</code> in <code>Child</code> class, still the parent class constructor will be called because <code>super()</code> will be put by compiler in default constructor of <code>Child</code> class while generating the .class. If you only have parameterized constructor in Parent class then you will have to explicitly call the parent class constructor by <code>super(..parameter)</code> in your child class constructor . Hope this helps!  </p>\n"},{"tags":[],"owner":{"account_id":9204199,"reputation":300,"user_id":6840126,"display_name":"Younes Ouchala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492523780,"creation_date":1492502619,"answer_id":43466813,"question_id":43466682,"body_markdown":"Something like this : \r\n\r\n    abstract class MyClass{ \r\n        int val;\r\n        public MyClass( int val) {\r\n            this.val= val;\r\n        }\r\n     \r\n    }\r\n    \r\n    class Test extends MyClass{\r\n        public Test () {\r\n            super(2);\r\n        }\r\n    }\r\n    \r\n     ","title":"How to call default constructor of an abstract class in Java","body":"<p>Something like this : </p>\n\n<pre><code>abstract class MyClass{ \n    int val;\n    public MyClass( int val) {\n        this.val= val;\n    }\n\n}\n\nclass Test extends MyClass{\n    public Test () {\n        super(2);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37853,"reputation":4899,"user_id":108350,"accept_rate":32,"display_name":"will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665511444,"creation_date":1537412562,"answer_id":52416944,"question_id":43466682,"body_markdown":"While you may not call upon a default constructor for an Abastract class, you can invoke the default constructor for the sub-class that embodies your abstract class.\r\n\r\nFor example:\r\n\r\n     abstract class Animal {\r\n\r\n          public Animal (){ ... }\r\n\r\n          abstract public String sound();\r\n     }\r\n\r\n\r\n     class Horse extends Animal{\r\n\r\n        public Horse(){ \r\n            super()\r\n        }\r\n\r\n        @Override \r\n        public String sound(){ \r\n            return &quot;neigh&quot;;\r\n        }\r\n     }\r\n\r\n     class Dog extends Animal{\r\n\r\n        public Dog(){ \r\n            super()\r\n        }\r\n\r\n        @Override \r\n        public String sound(){ \r\n            return &quot;woof&quot;;\r\n        }\r\n     }\r\n\r\n\r\nIt is not directly possible to make a new Animal. You can make new `Dog`-s and `Horse`-s with annomyously for (common) Type `Animal` example:\r\n\r\n     public Animal makeAnimals( Animal existingCreature ) \r\n         throws InstantiationException, IllegalAccessException\r\n     {\r\n         return existingCreature.getClass.newInstance();\r\n     }\r\n\r\nWill make a new instance of the concrete class you provided:\r\n\r\n     Dog   fido  = new Dog();\r\n     Horse hack  = new Horse();\r\n\r\n     Dog   puppy = makeAnimals( fido );   //  new uninitialised Dog   instance\r\n     Horse foal  = makeAnimals( hack );   //  new uninitialised Horse instance\r\n\r\n\r\nAlternatively you can make an annomyous instance\r\n\r\n    Animal parrot = new Animal() {\r\n\r\n        @Override \r\n        public String sound(){ \r\n            return &quot;squawk&quot;;\r\n        }\r\n    }\r\n\r\nAs a way to make new animal types.  If you were doing something for real like Animals it would probably be better to make a `Parot` subclass.\r\n","title":"How to call default constructor of an abstract class in Java","body":"<p>While you may not call upon a default constructor for an Abastract class, you can invoke the default constructor for the sub-class that embodies your abstract class.</p>\n<p>For example:</p>\n<pre><code> abstract class Animal {\n\n      public Animal (){ ... }\n\n      abstract public String sound();\n }\n\n\n class Horse extends Animal{\n\n    public Horse(){ \n        super()\n    }\n\n    @Override \n    public String sound(){ \n        return &quot;neigh&quot;;\n    }\n }\n\n class Dog extends Animal{\n\n    public Dog(){ \n        super()\n    }\n\n    @Override \n    public String sound(){ \n        return &quot;woof&quot;;\n    }\n }\n</code></pre>\n<p>It is not directly possible to make a new Animal. You can make new <code>Dog</code>-s and <code>Horse</code>-s with annomyously for (common) Type <code>Animal</code> example:</p>\n<pre><code> public Animal makeAnimals( Animal existingCreature ) \n     throws InstantiationException, IllegalAccessException\n {\n     return existingCreature.getClass.newInstance();\n }\n</code></pre>\n<p>Will make a new instance of the concrete class you provided:</p>\n<pre><code> Dog   fido  = new Dog();\n Horse hack  = new Horse();\n\n Dog   puppy = makeAnimals( fido );   //  new uninitialised Dog   instance\n Horse foal  = makeAnimals( hack );   //  new uninitialised Horse instance\n</code></pre>\n<p>Alternatively you can make an annomyous instance</p>\n<pre><code>Animal parrot = new Animal() {\n\n    @Override \n    public String sound(){ \n        return &quot;squawk&quot;;\n    }\n}\n</code></pre>\n<p>As a way to make new animal types.  If you were doing something for real like Animals it would probably be better to make a <code>Parot</code> subclass.</p>\n"}],"owner":{"account_id":9870025,"reputation":100,"user_id":7310028,"display_name":"Deepak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3396,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":43466791,"answer_count":4,"score":-1,"last_activity_date":1665511444,"creation_date":1492502171,"question_id":43466682,"body_markdown":"I tried to research over this topic but could not find a clarity over this. Please help me in this. ","title":"How to call default constructor of an abstract class in Java","body":"<p>I tried to research over this topic but could not find a clarity over this. Please help me in this. </p>\n"},{"tags":["java","exception","checked-exceptions","unchecked-exception"],"answers":[{"tags":[],"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507475563,"creation_date":1268241498,"answer_id":2418985,"question_id":2418947,"body_markdown":"If the exception class is a subclass of `RuntimeException`, it&#39;s not checked and does not have to be declared for functions or caught, etc. `Error` exceptions also do not have to be declared/caught.  Is that what you&#39;re asking?","title":"How to identify checked and unchecked exceptions in java?","body":"<p>If the exception class is a subclass of <code>RuntimeException</code>, it's not checked and does not have to be declared for functions or caught, etc. <code>Error</code> exceptions also do not have to be declared/caught.  Is that what you're asking?</p>\n"},{"tags":[],"owner":{"account_id":66731,"reputation":1081,"user_id":2569122,"display_name":"Derek Mortimer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268241851,"creation_date":1268241529,"answer_id":2418989,"question_id":2418947,"body_markdown":"Quite sure this will have been asked and answered before, but for the sake of it, it is covered quite nicely here: &lt;http://www.javapractices.com/topic/TopicAction.do?Id=129&gt;.\r\n\r\nStrictly speaking, unchecked exceptions will always extend `RuntimeException` whereas checked exceptions do not. The mentioned link explains when to use either.\r\n\r\nAs their name indicates, callers are obliged to deal with **checked** exceptions, typically handling them (`try/catch`) or passing them further up the stack. Unchecked exceptions are usually deemed to be caused by elements outside of the caller&#39;s control.","title":"How to identify checked and unchecked exceptions in java?","body":"<p>Quite sure this will have been asked and answered before, but for the sake of it, it is covered quite nicely here: <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=129\" rel=\"nofollow noreferrer\">http://www.javapractices.com/topic/TopicAction.do?Id=129</a>.</p>\n\n<p>Strictly speaking, unchecked exceptions will always extend <code>RuntimeException</code> whereas checked exceptions do not. The mentioned link explains when to use either.</p>\n\n<p>As their name indicates, callers are obliged to deal with <strong>checked</strong> exceptions, typically handling them (<code>try/catch</code>) or passing them further up the stack. Unchecked exceptions are usually deemed to be caused by elements outside of the caller's control.</p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1411153718,"creation_date":1268241591,"answer_id":2418994,"question_id":2418947,"body_markdown":"All `Throwable`s except subclasses of `java.lang.RuntimeException` or `java.lang.Error` are checked. Properly, in Java, &quot;exceptions&quot; are subclasses of `java.lang.Exception`, &quot;errors&quot; are subclasses of `java.lang.Error` and `java.lang.Throwable` is not usually subclassed directly. \r\n\r\nPrograms are not supposed to create their own `Error` subclasses (though the documentation is rather ambiguous on that) so generally you always create `Exceptions`, using a `RuntimeException` if you don&#39;t want it to be checked.\r\n\r\nTo know at run-time if you have a checked **exception** you could use:\r\n\r\n    if(throwable instanceof Exception &amp;&amp; !(throwable instanceof RuntimeException)) {\r\n        // this is a checked Exception\r\n        }\r\n\r\nA checked exception is one which must be either handled in a catch clause, or declared as being thrown in the method signature; the compiler enforces this.  Generally, one uses checked exceptions for exceptions which should be handled by the calling code, while unchecked exceptions are for conditions which are the result of a programming error and should be fixed by correcting the code.\r\n\r\nThat said there is much debate in the Java community about the efficacy of using checked exceptions vs. unchecked exceptions everywhere - a subject way to deep to discuss in this answer.\r\n\r\n**EDIT 2012-10-23:** In response to comments (which are quite valid), to clarify, the following would be what is required to determine if a captured `Throwable` is a checked  ***`Throwable`*** as opposed to a checked ***`Exception`***:\r\n\r\n    if(obj instanceof Throwable &amp;&amp; !(obj instanceof RuntimeException) &amp;&amp; !(obj instanceof Error)) {\r\n        // this is a checked Throwable - i.e. Throwable, but not RuntimeException or Error\r\n        }\r\n\r\nIf the object in question is *known* to be an instance of `Throwable` (e.g. it was caught), only the second part of the above &#39;if&#39; is needed (e.g. testing for Throwable is redundant).","title":"How to identify checked and unchecked exceptions in java?","body":"<p>All <code>Throwable</code>s except subclasses of <code>java.lang.RuntimeException</code> or <code>java.lang.Error</code> are checked. Properly, in Java, \"exceptions\" are subclasses of <code>java.lang.Exception</code>, \"errors\" are subclasses of <code>java.lang.Error</code> and <code>java.lang.Throwable</code> is not usually subclassed directly. </p>\n\n<p>Programs are not supposed to create their own <code>Error</code> subclasses (though the documentation is rather ambiguous on that) so generally you always create <code>Exceptions</code>, using a <code>RuntimeException</code> if you don't want it to be checked.</p>\n\n<p>To know at run-time if you have a checked <strong>exception</strong> you could use:</p>\n\n<pre><code>if(throwable instanceof Exception &amp;&amp; !(throwable instanceof RuntimeException)) {\n    // this is a checked Exception\n    }\n</code></pre>\n\n<p>A checked exception is one which must be either handled in a catch clause, or declared as being thrown in the method signature; the compiler enforces this.  Generally, one uses checked exceptions for exceptions which should be handled by the calling code, while unchecked exceptions are for conditions which are the result of a programming error and should be fixed by correcting the code.</p>\n\n<p>That said there is much debate in the Java community about the efficacy of using checked exceptions vs. unchecked exceptions everywhere - a subject way to deep to discuss in this answer.</p>\n\n<p><strong>EDIT 2012-10-23:</strong> In response to comments (which are quite valid), to clarify, the following would be what is required to determine if a captured <code>Throwable</code> is a checked  <strong><em><code>Throwable</code></em></strong> as opposed to a checked <strong><em><code>Exception</code></em></strong>:</p>\n\n<pre><code>if(obj instanceof Throwable &amp;&amp; !(obj instanceof RuntimeException) &amp;&amp; !(obj instanceof Error)) {\n    // this is a checked Throwable - i.e. Throwable, but not RuntimeException or Error\n    }\n</code></pre>\n\n<p>If the object in question is <em>known</em> to be an instance of <code>Throwable</code> (e.g. it was caught), only the second part of the above 'if' is needed (e.g. testing for Throwable is redundant).</p>\n"},{"tags":[],"owner":{"account_id":20189,"reputation":166037,"user_id":48015,"accept_rate":80,"display_name":"Christoph"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1268242467,"creation_date":1268241824,"answer_id":2419016,"question_id":2418947,"body_markdown":"See the [Java Language Spec, chapter 11](http://java.sun.com/docs/books/jls/third_edition/html/exceptions.html#11.2):\r\n\r\n&gt; The unchecked exceptions classes are the class `RuntimeException`  and its subclasses, and the class `Error` and its subclasses. All other exception classes are checked exception classes. The Java API defines a number of exception classes, both checked and unchecked. Additional exception classes, both checked and unchecked, may be declared by programmers.\r\n\r\nYou could check this via `instanceof` at runtime, though I don&#39;t really see where this would be useful.\r\n\r\nAs to the second part of your question:\r\n\r\n* checked exception represent expected error conditions, which can occur during normal program execution and therefore always have to be handled programatically (which the compiler enforces)\r\n\r\n* unchecked exception represent unexpected error conditions and signify an abnormal state of your program, due to invalid input, bugs or runtime restrictions (eg memory); the compiler won&#39;t force the programmer to handle these, ie you only have to care for them if you know of their occurrence","title":"How to identify checked and unchecked exceptions in java?","body":"<p>See the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/exceptions.html#11.2\" rel=\"noreferrer\">Java Language Spec, chapter 11</a>:</p>\n\n<blockquote>\n  <p>The unchecked exceptions classes are the class <code>RuntimeException</code>  and its subclasses, and the class <code>Error</code> and its subclasses. All other exception classes are checked exception classes. The Java API defines a number of exception classes, both checked and unchecked. Additional exception classes, both checked and unchecked, may be declared by programmers.</p>\n</blockquote>\n\n<p>You could check this via <code>instanceof</code> at runtime, though I don't really see where this would be useful.</p>\n\n<p>As to the second part of your question:</p>\n\n<ul>\n<li><p>checked exception represent expected error conditions, which can occur during normal program execution and therefore always have to be handled programatically (which the compiler enforces)</p></li>\n<li><p>unchecked exception represent unexpected error conditions and signify an abnormal state of your program, due to invalid input, bugs or runtime restrictions (eg memory); the compiler won't force the programmer to handle these, ie you only have to care for them if you know of their occurrence</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3296758,"reputation":1,"user_id":2773853,"display_name":"Ravi Kiran Lanka"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1379010128,"creation_date":1379010128,"answer_id":18771662,"question_id":2418947,"body_markdown":"    package practice;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    class Practice\r\n    {\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tException n=new NullPointerException();\r\n    \t\tif(n instanceof RuntimeException)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;this is a runtime(unchecked) exception&quot;);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;this is not a compiletime(checked) exception&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }","title":"How to identify checked and unchecked exceptions in java?","body":"<pre><code>package practice;\n\nimport java.io.IOException;\n\nclass Practice\n{\n    public static void main(String args[])\n    {\n        Exception n=new NullPointerException();\n        if(n instanceof RuntimeException)\n        {\n            System.out.println(\"this is a runtime(unchecked) exception\");\n        }\n        else\n        {\n            System.out.println(\"this is not a compiletime(checked) exception\");\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665511339,"creation_date":1586512134,"answer_id":61137750,"question_id":2418947,"body_markdown":"**Java checked vs unchecked exception**\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/Rib78.png&quot; height=&quot;300&quot;&gt;\r\n\r\n\r\n- `Error` is internal VM error and usually you can not manage it. \r\n- `Exception` - you are able to catch and handle it\r\n\r\n**Checked vs Unchecked**\r\n\r\n- **checked** exception is checked by the compiler and as a programmer you have to handle it using `try-catch-finally`, `throws`\r\n- **unchecked** exception is not checked by the compiler but you optionally can manage it explicitly \r\n\r\n\r\n`IntelliJ IDEA&#39;s` `Type Hierarchy` tool is useful when you want to find more \r\n\r\n  [2]: https://i.stack.imgur.com/0U3U9.png","title":"How to identify checked and unchecked exceptions in java?","body":"<p><strong>Java checked vs unchecked exception</strong></p>\n<img src=\"https://i.stack.imgur.com/Rib78.png\" height=\"300\">\n<ul>\n<li><code>Error</code> is internal VM error and usually you can not manage it.</li>\n<li><code>Exception</code> - you are able to catch and handle it</li>\n</ul>\n<p><strong>Checked vs Unchecked</strong></p>\n<ul>\n<li><strong>checked</strong> exception is checked by the compiler and as a programmer you have to handle it using <code>try-catch-finally</code>, <code>throws</code></li>\n<li><strong>unchecked</strong> exception is not checked by the compiler but you optionally can manage it explicitly</li>\n</ul>\n<p><code>IntelliJ IDEA's</code> <code>Type Hierarchy</code> tool is useful when you want to find more</p>\n"}],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15632,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":2418994,"answer_count":6,"score":23,"last_activity_date":1665511339,"creation_date":1268241236,"question_id":2418947,"body_markdown":"While reading about exception, I will always come across checked exceptions and unchecked exceptions, So wanted to know how to distinguish that which is what?\r\n\r\nEdit: I want to know if i create any exception class then how can i create as a checked or as an unchecked?\r\n\r\nand what is the significance of each?","title":"How to identify checked and unchecked exceptions in java?","body":"<p>While reading about exception, I will always come across checked exceptions and unchecked exceptions, So wanted to know how to distinguish that which is what?</p>\n\n<p>Edit: I want to know if i create any exception class then how can i create as a checked or as an unchecked?</p>\n\n<p>and what is the significance of each?</p>\n"},{"tags":["java","eclipse","unit-testing","package","junit5"],"answers":[{"tags":[],"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640781971,"creation_date":1640781971,"answer_id":70519618,"question_id":70519510,"body_markdown":"I can&#39;t see any code which initialize or increment `int count` variable. But as you said, you don&#39;t need `count` variable and just use `size()` method in `employees` List\r\n\r\n```java\r\n@Override\r\npublic int getEmployeeCount() {\r\n    return this.employees.size();\r\n}\r\n```\r\n\r\n","title":"Junit5 how to count employees in UnitTest","body":"<p>I can't see any code which initialize or increment <code>int count</code> variable. But as you said, you don't need <code>count</code> variable and just use <code>size()</code> method in <code>employees</code> List</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int getEmployeeCount() {\n    return this.employees.size();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":992738,"reputation":408,"user_id":1009540,"display_name":"BarbetNL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640790917,"creation_date":1640790917,"answer_id":70521340,"question_id":70519510,"body_markdown":"In @BeforeEach you&#39;re test by creating 4 employees.\r\n\r\n- Your hire method does &#39;employees.add(p);&#39; , so it expands your list.\r\n- Your fire method does not do anything, just returning false.\r\n\r\nYet you expect in test `testFire` and `testGetEmployeeCount` that the number of employees has decreased. That does not happen and will fail.\r\n\r\nYou need the following fix:\r\nIMPORTANT - Implement an equals and hash code on your PersonImpl class (so you can compare equal objects content instead of object-hash value). You can use guava or apache commmons or lombok or any other way to do that.\r\n\r\nThen implement in &#39;fire&#39; method:\r\n\r\n```\r\n    @Override\r\n    public boolean fire(Person p) {\r\n        return employees.remove(p);\r\n    }\r\n\r\n```\r\n\r\nIn this case I assume you will implement limitations in the &#39;hire&#39; method on your class to have duplicate employees, so you need only to remove it once. If employees can be duplicate, then do to remove the employee including duplicates:\r\n```\r\nreturn employees.removeAll(Collections.singletonList(p));\r\n```\r\n\r\n","title":"Junit5 how to count employees in UnitTest","body":"<p>In @BeforeEach you're test by creating 4 employees.</p>\n<ul>\n<li>Your hire method does 'employees.add(p);' , so it expands your list.</li>\n<li>Your fire method does not do anything, just returning false.</li>\n</ul>\n<p>Yet you expect in test <code>testFire</code> and <code>testGetEmployeeCount</code> that the number of employees has decreased. That does not happen and will fail.</p>\n<p>You need the following fix:\nIMPORTANT - Implement an equals and hash code on your PersonImpl class (so you can compare equal objects content instead of object-hash value). You can use guava or apache commmons or lombok or any other way to do that.</p>\n<p>Then implement in 'fire' method:</p>\n<pre><code>    @Override\n    public boolean fire(Person p) {\n        return employees.remove(p);\n    }\n\n</code></pre>\n<p>In this case I assume you will implement limitations in the 'hire' method on your class to have duplicate employees, so you need only to remove it once. If employees can be duplicate, then do to remove the employee including duplicates:</p>\n<pre><code>return employees.removeAll(Collections.singletonList(p));\n</code></pre>\n"}],"owner":{"display_name":"user17557638"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665511240,"creation_date":1640781398,"question_id":70519510,"body_markdown":"So I have 3 packages, Implementation, interfaces and test. I want to write the functionality into EmployeeImp so my unit test passes without error when I run it on TestEmployeeImp. However I&#39;m not sure how getEmployeeCount is written as it fails in the unit test. I tried to  solve it by creating the int count but it doesn&#39;t work. I know I need to use the array list to count the number of employees but I cannot come up with a solution and I can&#39;t find any samples of code that are like my unit test. If anyone can help it would be very appreciated. \r\n\r\n```\r\n//EmployeeImp\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport interfaces.Employer;\r\nimport interfaces.Person;\r\n\r\npublic class EmployerImpl implements Employer {\r\n\t\r\n\tprivate String name;\r\n\tprivate List&lt;Person&gt; employees;\r\n\tprivate int count;\r\n\r\n\r\n\tpublic EmployerImpl(String n) {\r\n\t\t//gets name\r\n\t\tthis.name = n;\r\n\t\t//Array List\r\n\t\temployees = new ArrayList&lt;Person&gt;();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void hire(Person p, String title, double salary) {\r\n\t\tp.setJob(null);\r\n\t\temployees.add(p);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;Person&gt; getEmployees() {\r\n\t\t//Returns Employees in a List\r\n\t\treturn employees;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getEmployeeCount() {\r\n\t\treturn this.count;\r\n\t\t//Returns employees size\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean fire(Person p) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getName() {\r\n\t\t//returns name\r\n\t\treturn name;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isEmployed(Person p) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Person getHighestPaid() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Person getLowestPaid() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic double getStaffCost() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getCountOf(String title) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;Person&gt; getAll(String title) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\n//Employer.java\r\nimport java.util.List;\r\n\r\npublic interface Employer {\r\n\r\n\tvoid hire(Person p, String title, double salary);\r\n\tList&lt;Person&gt; getEmployees();\r\n\tint getEmployeeCount();\r\n\tboolean fire(Person p);\r\n\tString getName();\r\n\tboolean isEmployed(Person p);\r\n\tPerson getHighestPaid();\r\n\tPerson getLowestPaid();\r\n\tdouble getStaffCost();\r\n\tint getCountOf(String title);\r\n\tList&lt;Person&gt; getAll(String title);\r\n}\r\n\r\n```\r\n\r\n```\r\n//TestEmployeeImp\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport implementation.EmployerImpl;\r\nimport implementation.PersonImpl;\r\nimport interfaces.Employer;\r\nimport interfaces.Person;\r\n\r\nclass TestEmployerImpl {\r\n\r\n\tprivate Employer e;\r\n\tprivate Person highest;\r\n\tprivate Person lowest;\r\n\t\r\n\t@BeforeEach\r\n\tvoid setUp() throws Exception {\r\n\t\te = new EmployerImpl(&quot;NCCO&quot;);\r\n\t\tlowest = new PersonImpl(&quot;John&quot;, 18);\r\n\t\te.hire(lowest, &quot;Lab Assistant&quot;, 20000);\r\n\t\thighest = new PersonImpl(&quot;Anu&quot;, 50);\r\n\t\te.hire(highest, &quot;Best Teacher&quot;, 80000);\r\n\t\te.hire(new PersonImpl(&quot;Damien&quot;, 18), &quot;Teacher&quot;, 41000);\r\n\t\te.hire(new PersonImpl(&quot;Malachy&quot;, 45), &quot;Teacher&quot;, 50000);\r\n\t\t\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testGetEmployees() {\r\n\t\tList&lt;Person&gt; l = e.getEmployees();\r\n\t\tassertNotNull(l);\r\n\t\tassertEquals(4, l.size());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testGetEmployeeCount() {\r\n\t\tassertEquals(4, e.getEmployeeCount());\r\n\t\tPerson p = new PersonImpl(&quot;Paul H&quot;, 50);\r\n\t\te.hire(p, &quot;teacher&quot;, 1000);\r\n\t\tassertEquals(5, e.getEmployeeCount());\r\n\t\te.fire(p);\r\n\t\tassertEquals(4, e.getEmployeeCount());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testFire() {\r\n\t\tPerson p = new PersonImpl(&quot;Damien&quot;, 18);\r\n\t\tboolean f= e.fire(p);\r\n\t\tassertTrue(f);\r\n\t\tassertEquals(3, e.getEmployeeCount());\r\n\t\t\r\n\t\tp = new PersonImpl(&quot;Danika&quot;, 23);\r\n\t\tf = e.fire(p);\r\n\t\tassertFalse(f);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testGetName() {\r\n\t\tassertEquals(&quot;NCCO&quot;, e.getName());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testIsEmployed() {\r\n\t\tPerson p = new PersonImpl(&quot;Damien&quot;, 18);\r\n\t\tassertTrue(e.isEmployed(p));\r\n\t\t\r\n\t\tp = new PersonImpl(&quot;Danika&quot;, 23);\r\n\t\tassertFalse(e.isEmployed(p));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testGetHighestPaid() {\r\n\t\tassertEquals(highest, e.getHighestPaid());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid getLowestPaid() {\r\n\t\tassertEquals(lowest, e.getLowestPaid());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid getStaffCost() {\r\n\t\tassertEquals(191000, e.getStaffCost());\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid testGetCountOf() {\r\n\t\tassertEquals(2, e.getCountOf(&quot;Teacher&quot;));\r\n\t\tassertEquals(0, e.getCountOf(&quot;Awesome Teacher&quot;));\r\n\t}\r\n\t\r\n\t@Test \r\n\tvoid testGetAll(){\r\n\t\tassertEquals(2, e.getAll(&quot;Teacher&quot;).size());\r\n\t\tassertNotNull(e.getAll(&quot;Dean&quot;));\r\n\t\tassertTrue(e.getAll(&quot;Dean&quot;).isEmpty());\r\n\t}\r\n\r\n}\r\n```\r\n\r\n","title":"Junit5 how to count employees in UnitTest","body":"<p>So I have 3 packages, Implementation, interfaces and test. I want to write the functionality into EmployeeImp so my unit test passes without error when I run it on TestEmployeeImp. However I'm not sure how getEmployeeCount is written as it fails in the unit test. I tried to  solve it by creating the int count but it doesn't work. I know I need to use the array list to count the number of employees but I cannot come up with a solution and I can't find any samples of code that are like my unit test. If anyone can help it would be very appreciated.</p>\n<pre><code>//EmployeeImp\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport interfaces.Employer;\nimport interfaces.Person;\n\npublic class EmployerImpl implements Employer {\n    \n    private String name;\n    private List&lt;Person&gt; employees;\n    private int count;\n\n\n    public EmployerImpl(String n) {\n        //gets name\n        this.name = n;\n        //Array List\n        employees = new ArrayList&lt;Person&gt;();\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public void hire(Person p, String title, double salary) {\n        p.setJob(null);\n        employees.add(p);\n\n    }\n\n    @Override\n    public List&lt;Person&gt; getEmployees() {\n        //Returns Employees in a List\n        return employees;\n    }\n\n    @Override\n    public int getEmployeeCount() {\n        return this.count;\n        //Returns employees size\n        \n        \n    }\n\n    @Override\n    public boolean fire(Person p) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n    @Override\n    public String getName() {\n        //returns name\n        return name;\n    }\n\n    @Override\n    public boolean isEmployed(Person p) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n    @Override\n    public Person getHighestPaid() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Person getLowestPaid() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public double getStaffCost() {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public int getCountOf(String title) {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public List&lt;Person&gt; getAll(String title) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n}\n</code></pre>\n<pre><code>//Employer.java\nimport java.util.List;\n\npublic interface Employer {\n\n    void hire(Person p, String title, double salary);\n    List&lt;Person&gt; getEmployees();\n    int getEmployeeCount();\n    boolean fire(Person p);\n    String getName();\n    boolean isEmployed(Person p);\n    Person getHighestPaid();\n    Person getLowestPaid();\n    double getStaffCost();\n    int getCountOf(String title);\n    List&lt;Person&gt; getAll(String title);\n}\n\n</code></pre>\n<pre><code>//TestEmployeeImp\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport implementation.EmployerImpl;\nimport implementation.PersonImpl;\nimport interfaces.Employer;\nimport interfaces.Person;\n\nclass TestEmployerImpl {\n\n    private Employer e;\n    private Person highest;\n    private Person lowest;\n    \n    @BeforeEach\n    void setUp() throws Exception {\n        e = new EmployerImpl(&quot;NCCO&quot;);\n        lowest = new PersonImpl(&quot;John&quot;, 18);\n        e.hire(lowest, &quot;Lab Assistant&quot;, 20000);\n        highest = new PersonImpl(&quot;Anu&quot;, 50);\n        e.hire(highest, &quot;Best Teacher&quot;, 80000);\n        e.hire(new PersonImpl(&quot;Damien&quot;, 18), &quot;Teacher&quot;, 41000);\n        e.hire(new PersonImpl(&quot;Malachy&quot;, 45), &quot;Teacher&quot;, 50000);\n        \n    }\n\n    @Test\n    void testGetEmployees() {\n        List&lt;Person&gt; l = e.getEmployees();\n        assertNotNull(l);\n        assertEquals(4, l.size());\n    }\n\n    @Test\n    void testGetEmployeeCount() {\n        assertEquals(4, e.getEmployeeCount());\n        Person p = new PersonImpl(&quot;Paul H&quot;, 50);\n        e.hire(p, &quot;teacher&quot;, 1000);\n        assertEquals(5, e.getEmployeeCount());\n        e.fire(p);\n        assertEquals(4, e.getEmployeeCount());\n    }\n\n    @Test\n    void testFire() {\n        Person p = new PersonImpl(&quot;Damien&quot;, 18);\n        boolean f= e.fire(p);\n        assertTrue(f);\n        assertEquals(3, e.getEmployeeCount());\n        \n        p = new PersonImpl(&quot;Danika&quot;, 23);\n        f = e.fire(p);\n        assertFalse(f);\n    }\n\n    @Test\n    void testGetName() {\n        assertEquals(&quot;NCCO&quot;, e.getName());\n    }\n\n    @Test\n    void testIsEmployed() {\n        Person p = new PersonImpl(&quot;Damien&quot;, 18);\n        assertTrue(e.isEmployed(p));\n        \n        p = new PersonImpl(&quot;Danika&quot;, 23);\n        assertFalse(e.isEmployed(p));\n    }\n    \n    @Test\n    public void testGetHighestPaid() {\n        assertEquals(highest, e.getHighestPaid());\n    }\n\n    @Test\n    void getLowestPaid() {\n        assertEquals(lowest, e.getLowestPaid());\n    }\n\n    @Test\n    void getStaffCost() {\n        assertEquals(191000, e.getStaffCost());\n    }\n    \n    @Test\n    void testGetCountOf() {\n        assertEquals(2, e.getCountOf(&quot;Teacher&quot;));\n        assertEquals(0, e.getCountOf(&quot;Awesome Teacher&quot;));\n    }\n    \n    @Test \n    void testGetAll(){\n        assertEquals(2, e.getAll(&quot;Teacher&quot;).size());\n        assertNotNull(e.getAll(&quot;Dean&quot;));\n        assertTrue(e.getAll(&quot;Dean&quot;).isEmpty());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","television"],"comments":[{"owner":{"account_id":6191571,"reputation":840,"user_id":4824159,"display_name":"Amit Basliyal"},"score":0,"creation_date":1469099634,"post_id":38502724,"comment_id":64404062,"body_markdown":"where you use this code in activity or adapter","body":"where you use this code in activity or adapter"},{"owner":{"account_id":8855188,"reputation":981,"user_id":6613180,"accept_rate":84,"display_name":"Rodriquez"},"score":0,"creation_date":1469099687,"post_id":38502724,"comment_id":64404103,"body_markdown":"I use this code in my custom adapter","body":"I use this code in my custom adapter"},{"owner":{"account_id":3750342,"reputation":1368,"user_id":3117966,"display_name":"Nisarg"},"score":1,"creation_date":1469099892,"post_id":38502724,"comment_id":64404231,"body_markdown":"@Rodriquez you can prevent it using OnTouchListener","body":"@Rodriquez you can prevent it using OnTouchListener"},{"owner":{"account_id":8855188,"reputation":981,"user_id":6613180,"accept_rate":84,"display_name":"Rodriquez"},"score":0,"creation_date":1469100277,"post_id":38502724,"comment_id":64404475,"body_markdown":"hey thanks for reply, i think i cant use it becouse its aplication for tv. No touch at all, just focus.","body":"hey thanks for reply, i think i cant use it becouse its aplication for tv. No touch at all, just focus."}],"answers":[{"tags":[],"owner":{"account_id":8116777,"reputation":1012,"user_id":6115035,"accept_rate":75,"display_name":"Nikhil PV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1469105167,"creation_date":1469100535,"answer_id":38503070,"question_id":38502724,"body_markdown":"Add this line\r\n\r\n    holder.title.setOnClickListener(null);","title":"disable onClick on recyclerView when is OnlongClick option","body":"<p>Add this line</p>\n\n<pre><code>holder.title.setOnClickListener(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10238057,"reputation":859,"user_id":7556310,"display_name":"Vijay E"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665511020,"creation_date":1533627151,"answer_id":51721247,"question_id":38502724,"body_markdown":"In case if there is necessity to listen both `onLongClick` and `onClick`,\r\nHere is another approach:\r\n\r\nExample:\r\n\r\n    @Override\r\n    public boolean onLongClick(View view) {\r\n        //return value true to make sure only onLongClick is executed without triggering normal onClick\r\n        return true; // or false\r\n    }\r\n\r\n`return true` means that the event is consumed. It is handled. No other click events will be notified.  \r\n`return false` means the event is not consumed. Any other click events will continue to receive notifications.  \r\n\r\nSo to make sure both `onClick` and `onLongClick` are not triggered at the same time, `return true` from `onLongClick` event.  \r\n","title":"disable onClick on recyclerView when is OnlongClick option","body":"<p>In case if there is necessity to listen both <code>onLongClick</code> and <code>onClick</code>,\nHere is another approach:</p>\n<p>Example:</p>\n<pre><code>@Override\npublic boolean onLongClick(View view) {\n    //return value true to make sure only onLongClick is executed without triggering normal onClick\n    return true; // or false\n}\n</code></pre>\n<p><code>return true</code> means that the event is consumed. It is handled. No other click events will be notified.<br />\n<code>return false</code> means the event is not consumed. Any other click events will continue to receive notifications.</p>\n<p>So to make sure both <code>onClick</code> and <code>onLongClick</code> are not triggered at the same time, <code>return true</code> from <code>onLongClick</code> event.</p>\n"}],"owner":{"account_id":8855188,"reputation":981,"user_id":6613180,"accept_rate":84,"display_name":"Rodriquez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1984,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38503070,"answer_count":2,"score":2,"last_activity_date":1665511020,"creation_date":1469099540,"question_id":38502724,"body_markdown":"How to disable `onClick` when I click for `LongClick`?\r\nIt&#39;s a code from `recyclerView`, when I try long click I just see that normal click just spamming like hell.\r\n\r\n\r\n     holder.title.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            Toast.makeText(context, &quot;To clear your recomendations, press for few seconds. &quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                    holder.title.setOnLongClickListener(new View.OnLongClickListener() {\r\n                        @Override\r\n                        public boolean onLongClick(View v) {\r\n                            clearPreferences(R.string.preferences_reminder);\r\n                            Toast.makeText(context, &quot;Recomendations cleared.&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n    \r\n                            return true;\r\n                        }\r\n                    });","title":"disable onClick on recyclerView when is OnlongClick option","body":"<p>How to disable <code>onClick</code> when I click for <code>LongClick</code>?\nIt's a code from <code>recyclerView</code>, when I try long click I just see that normal click just spamming like hell.</p>\n\n<pre><code> holder.title.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        Toast.makeText(context, \"To clear your recomendations, press for few seconds. \", Toast.LENGTH_SHORT).show();\n                    }\n                });\n                holder.title.setOnLongClickListener(new View.OnLongClickListener() {\n                    @Override\n                    public boolean onLongClick(View v) {\n                        clearPreferences(R.string.preferences_reminder);\n                        Toast.makeText(context, \"Recomendations cleared.\", Toast.LENGTH_SHORT).show();\n\n\n                        return true;\n                    }\n                });\n</code></pre>\n"},{"tags":["java","generics","groovy"],"answers":[{"tags":[],"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1665511004,"creation_date":1341838989,"answer_id":11395596,"question_id":11395527,"body_markdown":"The Groovy parser does not handle [method signatures beginning with Generic information][1]...\r\n\r\nIt parses if you add the public modifier:\r\n\r\n    interface A {\r\n      public &lt;T&gt; T getByClass( Class&lt;T&gt; clazz )\r\n    }\r\n\r\nThough I don&#39;t believe you&#39;ll gain any type checking at compile time for adding this annotation\r\n\r\n\r\n  [1]: https://user.groovy.codehaus.narkive.com/G7kxM22B/groovy-generic-interface-declaration-incompatibility#post2","title":"Groovy Generics failure","body":"<p>The Groovy parser does not handle <a href=\"https://user.groovy.codehaus.narkive.com/G7kxM22B/groovy-generic-interface-declaration-incompatibility#post2\" rel=\"nofollow noreferrer\">method signatures beginning with Generic information</a>...</p>\n<p>It parses if you add the public modifier:</p>\n<pre><code>interface A {\n  public &lt;T&gt; T getByClass( Class&lt;T&gt; clazz )\n}\n</code></pre>\n<p>Though I don't believe you'll gain any type checking at compile time for adding this annotation</p>\n"},{"tags":[],"owner":{"account_id":11395668,"reputation":99,"user_id":8354156,"display_name":"Tomi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656770627,"creation_date":1656770627,"answer_id":72839629,"question_id":11395527,"body_markdown":"Just for the completeness. You can use `def` instead of `public`. The result is identical since methods in groovy are public by default.\r\n\r\n    interface A {\r\n      def &lt;T&gt; T getByClass( Class&lt;T&gt; clazz )\r\n    }","title":"Groovy Generics failure","body":"<p>Just for the completeness. You can use <code>def</code> instead of <code>public</code>. The result is identical since methods in groovy are public by default.</p>\n<pre><code>interface A {\n  def &lt;T&gt; T getByClass( Class&lt;T&gt; clazz )\n}\n</code></pre>\n"}],"owner":{"account_id":992621,"reputation":2261,"user_id":1009459,"accept_rate":68,"display_name":"matcauthon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4163,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":11395596,"answer_count":2,"score":16,"last_activity_date":1665511004,"creation_date":1341838735,"question_id":11395527,"body_markdown":"Besides groovy is way more dynamic then java...\r\n\r\nWhy is this a compile time error in groovy (unexpected token `&lt;`):\r\n\r\n    interface A {\r\n         &lt;T&gt; T getByClass(Class&lt;T&gt; clazz)\r\n    }\r\n\r\nHow do I write this the groovy way?","title":"Groovy Generics failure","body":"<p>Besides groovy is way more dynamic then java...</p>\n\n<p>Why is this a compile time error in groovy (unexpected token <code>&lt;</code>):</p>\n\n<pre><code>interface A {\n     &lt;T&gt; T getByClass(Class&lt;T&gt; clazz)\n}\n</code></pre>\n\n<p>How do I write this the groovy way?</p>\n"},{"tags":["java","spring","spring-boot","grails","groovy"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1665557025,"post_id":74031987,"comment_id":130725463,"body_markdown":"Please check how to write a question title: [ask]. Don&#39;t post phrases like &quot;any help will be appreciated&quot; there...","body":"Please check how to write a question title: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Don&#39;t post phrases like &quot;any help will be appreciated&quot; there..."}],"answers":[{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665510937,"creation_date":1665510937,"answer_id":74032236,"question_id":74031987,"body_markdown":"    maven { url &quot;https://maven.repository.redhat.com/ga/&quot;}\r\n    compile &#39;org.springframework:org.springframework.beans:2.5.6.SEC01&#39;\r\n\r\nTry with this","title":"Trying to upgrade Groovy app from 2.3.1 to 3.3.15, I am getting lots of errors like below. any help will be appriciated","body":"<pre><code>maven { url &quot;https://maven.repository.redhat.com/ga/&quot;}\ncompile 'org.springframework:org.springframework.beans:2.5.6.SEC01'\n</code></pre>\n<p>Try with this</p>\n"}],"owner":{"account_id":22315422,"reputation":9,"user_id":16538842,"display_name":"Rahul kumar dhiman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665510937,"creation_date":1665509512,"question_id":74031987,"body_markdown":"| Running application...\r\n2022-10-11 17:19:04.189 ERROR --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [splitseasontickets.main4.Application]; nested exception is java.lang.IllegalStateException: The following classes could not be excluded because they are not auto-configuration classes:\r\n        - org.springframework.boot.autoconfigure.MessageSourceAutoConfiguration\r\n\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processDeferredImportSelectors(ConfigurationClassParser.java:561)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:187)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:308)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:228)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:272)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:92)\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:687)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524)\r\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\r\n        at grails.boot.GrailsApp.run(GrailsApp.groovy:55)\r\n        at grails.boot.GrailsApp.run(GrailsApp.groovy:374)\r\n        at grails.boot.GrailsApp.run(GrailsApp.groovy:363)\r\n        at grails.boot.GrailsApp$run.call(Unknown Source)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:136)\r\n        at splitseasontickets.main4.Application.main(Application.groovy:8)\r\nCaused by: java.lang.IllegalStateException: The following classes could not be excluded because they are not auto-configuration classes:\r\n        - org.springframework.boot.autoconfigure.MessageSourceAutoConfiguration\r\n\r\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.handleInvalidExcludes(AutoConfigurationImportSelector.java:183)\r\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.checkExcludedClasses(AutoConfigurationImportSelector.java:169)\r\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.selectImports(AutoConfigurationImportSelector.java:97)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processDeferredImportSelectors(ConfigurationClassParser.java:552)\r\n        ... 19 common frames omitted\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:bootRun&#39;.\r\n&gt; Process &#39;command &#39;/usr/lib/jvm/java-8-openjdk-amd64/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n| Error Failed to start server (Use --stacktrace to see the full trace)\r\n\r\nI am using the below dependencies in gradle...\r\n````\r\nbuildscript {\r\n    repositories {\r\n        mavenLocal()\r\n        maven { url &quot;https://repo.grails.org/grails/core&quot; }\r\n    }\r\n    dependencies {\r\n        classpath &quot;org.grails:grails-gradle-plugin:$grailsVersion&quot;\r\n        classpath &quot;org.grails.plugins:hibernate5:${gormVersion-&quot;.RELEASE&quot;}&quot;\r\n        classpath &quot;com.bertramlabs.plugins:asset-pipeline-gradle:2.15.1&quot;\r\n    }\r\n}\r\n\r\nversion &quot;0.1&quot;\r\ngroup &quot;splitseasontickets.main4&quot;\r\n\r\napply plugin:&quot;eclipse&quot;\r\napply plugin:&quot;idea&quot;\r\napply plugin:&quot;war&quot;\r\napply plugin:&quot;org.grails.grails-web&quot;\r\napply plugin:&quot;asset-pipeline&quot;\r\napply plugin:&quot;org.grails.grails-gsp&quot;\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    maven { url &quot;https://repo.grails.org/grails/core&quot; }\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    compile &quot;org.springframework.boot:spring-boot-starter-logging&quot;\r\n    compile &quot;org.springframework.boot:spring-boot-autoconfigure&quot;\r\n    compile &quot;org.grails:grails-core&quot;\r\n    compile &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\r\n    compile &quot;org.springframework.boot:spring-boot-starter-tomcat&quot;\r\n    compile &quot;org.grails:grails-web-boot&quot;\r\n    compile &quot;org.grails:grails-logging&quot;\r\n    compile &quot;org.grails:grails-plugin-rest&quot;\r\n    compile &quot;org.grails:grails-plugin-databinding&quot;\r\n    compile &quot;org.grails:grails-plugin-i18n&quot;\r\n    compile &quot;org.grails:grails-plugin-services&quot;\r\n    compile &quot;org.grails:grails-plugin-url-mappings&quot;\r\n    compile &quot;org.grails:grails-plugin-interceptors&quot;\r\n    compile &quot;org.grails.plugins:cache&quot;\r\n    compile &quot;org.grails.plugins:async&quot;\r\n    compile &quot;org.grails.plugins:scaffolding&quot;\r\n    compile &quot;org.grails.plugins:events&quot;\r\n    compile &quot;org.grails.plugins:hibernate5&quot;\r\n    compile &quot;org.hibernate:hibernate-core:5.1.16.Final&quot;\r\n    compile &quot;org.grails.plugins:gsp&quot;\r\n    console &quot;org.grails:grails-console&quot;\r\n    profile &quot;org.grails.profiles:web&quot;\r\n    runtime &#39;org.glassfish.web:el-impl:2.2&#39;\r\n    runtime &quot;com.h2database:h2&quot;\r\n    runtime &quot;org.apache.tomcat:tomcat-jdbc&quot;\r\n    runtime &#39;com.bertramlabs.plugins:asset-pipeline-grails:3.4.7&#39;\r\n    testCompile &quot;org.grails:grails-gorm-testing-support&quot;\r\n    testCompile &quot;org.grails.plugins:geb&quot;\r\n    testCompile &quot;org.grails:grails-web-testing-support&quot;\r\n    testCompile &quot;org.grails.plugins:geb:1.1.2&quot;\r\n    testRuntime &#39;org.seleniumhq.selenium:selenium-htmlunit-driver:2.52.0&#39;\r\n    testRuntime &#39;net.sourceforge.htmlunit:htmlunit:2.64.0&#39;\r\n    testRuntime &#39;org.seleniumhq.selenium:selenium-chrome-driver:4.5.0&#39;\r\n   // compile &quot;org.grails.plugins:hibernate&quot;\r\n    compile &quot;org.hibernate:hibernate-ehcache&quot;\r\n    testCompile &quot;org.grails:grails-plugin-testing&quot;\r\n    // Note: It is recommended to update to a more robust driver (Chrome, Firefox etc.)\r\n    compile group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpcore&#39;, version: &#39;4.1-beta2&#39;\r\n    compile &#39;org.grails:grails-datastore-rest-client:6.1.9.RELEASE&#39;\r\n    compile &#39;org.codehaus.groovy:groovy-sql:3.0.13&#39;\r\n    //compile group: &#39;org.grails&#39;, name: &#39;grails-web-common&#39;, version: &#39;3.0.17&#39;\r\n   compile group: &#39;org.grails&#39;, name: &#39;grails-core&#39;, version: &#39;3.1.14&#39;\r\n    compile group: &#39;net.sourceforge.jexcelapi&#39;, name: &#39;jxl&#39;, version: &#39;2.6.12&#39;\r\n    compile group: &#39;org.jmdware&#39;, name: &#39;s3-bucket-recursor&#39;, version: &#39;1.0.1&#39;\r\n\r\n    // compile group: &#39;org.apache.camel&#39;, name: &#39;camel-grape&#39;, version: &#39;3.19.0&#39;\r\n\r\n    //compile &#39;org.grails.plugins:spring-security-core:3.0.3&#39;\r\n    compile &#39;org.grails.plugins:spring-security-core:3.2.0.M1&#39;\r\n    compile &#39;org.grails.plugins:spring-security-ui:3.1.2&#39;\r\n    compile &#39;org.springframework.boot:spring-boot-starter-security:1.5.4.RELEASE&#39;\r\n    compile group: &#39;org.grails&#39;, name: &#39;grails-plugin-controllers&#39;, version: &#39;3.3.16&#39;\r\n\r\n\r\n\r\n}\r\n\r\nbootRun {\r\n    jvmArgs(&#39;-Dspring.output.ansi.enabled=always&#39;)\r\n    addResources = true\r\n    String springProfilesActive = &#39;spring.profiles.active&#39;\r\n    systemProperty springProfilesActive, System.getProperty(springProfilesActive)\r\n}\r\n\r\ntasks.withType(Test) {\r\n    systemProperty &quot;geb.env&quot;, System.getProperty(&#39;geb.env&#39;)\r\n    systemProperty &quot;geb.build.reportsDir&quot;, reporting.file(&quot;geb/integrationTest&quot;)\r\n    systemProperty &quot;webdriver.chrome.driver&quot;, System.getProperty(&#39;webdriver.chrome.driver&#39;)\r\n    systemProperty &quot;webdriver.gecko.driver&quot;, System.getProperty(&#39;webdriver.gecko.driver&#39;)\r\n}\r\n\r\nassets {\r\n    minifyJs = true\r\n    minifyCss = true\r\n}\r\n\r\n````","title":"Trying to upgrade Groovy app from 2.3.1 to 3.3.15, I am getting lots of errors like below. any help will be appriciated","body":"<p>| Running application...\n2022-10-11 17:19:04.189 ERROR --- [           main] o.s.boot.SpringApplication               : Application startup failed</p>\n<p>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [splitseasontickets.main4.Application]; nested exception is java.lang.IllegalStateException: The following classes could not be excluded because they are not auto-configuration classes:\n- org.springframework.boot.autoconfigure.MessageSourceAutoConfiguration</p>\n<pre><code>    at org.springframework.context.annotation.ConfigurationClassParser.processDeferredImportSelectors(ConfigurationClassParser.java:561)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:187)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:308)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:228)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:272)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:92)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:687)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\n    at grails.boot.GrailsApp.run(GrailsApp.groovy:55)\n    at grails.boot.GrailsApp.run(GrailsApp.groovy:374)\n    at grails.boot.GrailsApp.run(GrailsApp.groovy:363)\n    at grails.boot.GrailsApp$run.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:136)\n    at splitseasontickets.main4.Application.main(Application.groovy:8)\n</code></pre>\n<p>Caused by: java.lang.IllegalStateException: The following classes could not be excluded because they are not auto-configuration classes:\n- org.springframework.boot.autoconfigure.MessageSourceAutoConfiguration</p>\n<pre><code>    at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.handleInvalidExcludes(AutoConfigurationImportSelector.java:183)\n    at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.checkExcludedClasses(AutoConfigurationImportSelector.java:169)\n    at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.selectImports(AutoConfigurationImportSelector.java:97)\n    at org.springframework.context.annotation.ConfigurationClassParser.processDeferredImportSelectors(ConfigurationClassParser.java:552)\n    ... 19 common frames omitted\n</code></pre>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':bootRun'.</li>\n</ul>\n<blockquote>\n<p>Process 'command '/usr/lib/jvm/java-8-openjdk-amd64/bin/java'' finished with non-zero exit value 1</p>\n</blockquote>\n<ul>\n<li>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n| Error Failed to start server (Use --stacktrace to see the full trace)</li>\n</ul>\n<p>I am using the below dependencies in gradle...</p>\n<pre><code>buildscript {\n    repositories {\n        mavenLocal()\n        maven { url &quot;https://repo.grails.org/grails/core&quot; }\n    }\n    dependencies {\n        classpath &quot;org.grails:grails-gradle-plugin:$grailsVersion&quot;\n        classpath &quot;org.grails.plugins:hibernate5:${gormVersion-&quot;.RELEASE&quot;}&quot;\n        classpath &quot;com.bertramlabs.plugins:asset-pipeline-gradle:2.15.1&quot;\n    }\n}\n\nversion &quot;0.1&quot;\ngroup &quot;splitseasontickets.main4&quot;\n\napply plugin:&quot;eclipse&quot;\napply plugin:&quot;idea&quot;\napply plugin:&quot;war&quot;\napply plugin:&quot;org.grails.grails-web&quot;\napply plugin:&quot;asset-pipeline&quot;\napply plugin:&quot;org.grails.grails-gsp&quot;\n\nrepositories {\n    mavenLocal()\n    maven { url &quot;https://repo.grails.org/grails/core&quot; }\n    mavenCentral()\n}\n\ndependencies {\n    compile &quot;org.springframework.boot:spring-boot-starter-logging&quot;\n    compile &quot;org.springframework.boot:spring-boot-autoconfigure&quot;\n    compile &quot;org.grails:grails-core&quot;\n    compile &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\n    compile &quot;org.springframework.boot:spring-boot-starter-tomcat&quot;\n    compile &quot;org.grails:grails-web-boot&quot;\n    compile &quot;org.grails:grails-logging&quot;\n    compile &quot;org.grails:grails-plugin-rest&quot;\n    compile &quot;org.grails:grails-plugin-databinding&quot;\n    compile &quot;org.grails:grails-plugin-i18n&quot;\n    compile &quot;org.grails:grails-plugin-services&quot;\n    compile &quot;org.grails:grails-plugin-url-mappings&quot;\n    compile &quot;org.grails:grails-plugin-interceptors&quot;\n    compile &quot;org.grails.plugins:cache&quot;\n    compile &quot;org.grails.plugins:async&quot;\n    compile &quot;org.grails.plugins:scaffolding&quot;\n    compile &quot;org.grails.plugins:events&quot;\n    compile &quot;org.grails.plugins:hibernate5&quot;\n    compile &quot;org.hibernate:hibernate-core:5.1.16.Final&quot;\n    compile &quot;org.grails.plugins:gsp&quot;\n    console &quot;org.grails:grails-console&quot;\n    profile &quot;org.grails.profiles:web&quot;\n    runtime 'org.glassfish.web:el-impl:2.2'\n    runtime &quot;com.h2database:h2&quot;\n    runtime &quot;org.apache.tomcat:tomcat-jdbc&quot;\n    runtime 'com.bertramlabs.plugins:asset-pipeline-grails:3.4.7'\n    testCompile &quot;org.grails:grails-gorm-testing-support&quot;\n    testCompile &quot;org.grails.plugins:geb&quot;\n    testCompile &quot;org.grails:grails-web-testing-support&quot;\n    testCompile &quot;org.grails.plugins:geb:1.1.2&quot;\n    testRuntime 'org.seleniumhq.selenium:selenium-htmlunit-driver:2.52.0'\n    testRuntime 'net.sourceforge.htmlunit:htmlunit:2.64.0'\n    testRuntime 'org.seleniumhq.selenium:selenium-chrome-driver:4.5.0'\n   // compile &quot;org.grails.plugins:hibernate&quot;\n    compile &quot;org.hibernate:hibernate-ehcache&quot;\n    testCompile &quot;org.grails:grails-plugin-testing&quot;\n    // Note: It is recommended to update to a more robust driver (Chrome, Firefox etc.)\n    compile group: 'org.apache.httpcomponents', name: 'httpcore', version: '4.1-beta2'\n    compile 'org.grails:grails-datastore-rest-client:6.1.9.RELEASE'\n    compile 'org.codehaus.groovy:groovy-sql:3.0.13'\n    //compile group: 'org.grails', name: 'grails-web-common', version: '3.0.17'\n   compile group: 'org.grails', name: 'grails-core', version: '3.1.14'\n    compile group: 'net.sourceforge.jexcelapi', name: 'jxl', version: '2.6.12'\n    compile group: 'org.jmdware', name: 's3-bucket-recursor', version: '1.0.1'\n\n    // compile group: 'org.apache.camel', name: 'camel-grape', version: '3.19.0'\n\n    //compile 'org.grails.plugins:spring-security-core:3.0.3'\n    compile 'org.grails.plugins:spring-security-core:3.2.0.M1'\n    compile 'org.grails.plugins:spring-security-ui:3.1.2'\n    compile 'org.springframework.boot:spring-boot-starter-security:1.5.4.RELEASE'\n    compile group: 'org.grails', name: 'grails-plugin-controllers', version: '3.3.16'\n\n\n\n}\n\nbootRun {\n    jvmArgs('-Dspring.output.ansi.enabled=always')\n    addResources = true\n    String springProfilesActive = 'spring.profiles.active'\n    systemProperty springProfilesActive, System.getProperty(springProfilesActive)\n}\n\ntasks.withType(Test) {\n    systemProperty &quot;geb.env&quot;, System.getProperty('geb.env')\n    systemProperty &quot;geb.build.reportsDir&quot;, reporting.file(&quot;geb/integrationTest&quot;)\n    systemProperty &quot;webdriver.chrome.driver&quot;, System.getProperty('webdriver.chrome.driver')\n    systemProperty &quot;webdriver.gecko.driver&quot;, System.getProperty('webdriver.gecko.driver')\n}\n\nassets {\n    minifyJs = true\n    minifyCss = true\n}\n\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1665559088,"post_id":74031582,"comment_id":130726065,"body_markdown":"Is any of the toast messages displayed?","body":"Is any of the toast messages displayed?"},{"owner":{"account_id":26592431,"reputation":11,"user_id":20215414,"display_name":"Leen Saleh"},"score":0,"creation_date":1665573438,"post_id":74031582,"comment_id":130731240,"body_markdown":"Unfortunately no. But I tried to connect to firebase using my friend&#39;s pc and it&#39;s working completely fine. I think the problem is with my laptop or Android Studio configurations I made when I firstly installed it","body":"Unfortunately no. But I tried to connect to firebase using my friend&#39;s pc and it&#39;s working completely fine. I think the problem is with my laptop or Android Studio configurations I made when I firstly installed it"},{"owner":{"account_id":26592431,"reputation":11,"user_id":20215414,"display_name":"Leen Saleh"},"score":0,"creation_date":1665573562,"post_id":74031582,"comment_id":130731285,"body_markdown":"Should I reinstall Android Studio and try to go with the default configurations as possible as I can?","body":"Should I reinstall Android Studio and try to go with the default configurations as possible as I can?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1665574041,"post_id":74031582,"comment_id":130731445,"body_markdown":"I&#39;m not sure about Android Studio. Be sure to have an internet connection.","body":"I&#39;m not sure about Android Studio. Be sure to have an internet connection."}],"owner":{"account_id":26592431,"reputation":11,"user_id":20215414,"display_name":"Leen Saleh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665510444,"creation_date":1665507175,"question_id":74031582,"body_markdown":"I am starting to work with firebase firestore in combination with an Android/Java project. I have connected my project to Firestore and added cloud firestore as well. I am in the stage of adding data to the firestore database from the emulator&#39;s UI. The java code I&#39;m using is supposed to show a Toast indicating if the data is saved successfully or show a Toast if failed.\r\n\r\n    db.collection(&quot;TEST&quot;).add(test).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\r\n                    @Override\r\n                    public void onSuccess(DocumentReference documentReference) {\r\n                        Toast.makeText(MainActivity.this,&quot;Successful&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(MainActivity.this,&quot;Fail&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\nThe problem is when I enter information in the EditText views and hit the button, the data doesn&#39;t get saved to the database and the firestore console doesn&#39;t show anything no matter how I try to refresh the page. I have been searching for two days now but no luck at all. Please help me I&#39;m stuck.\r\n\r\nI will include the code of java and XML layout even though I don&#39;t think the problem is the code since it&#39;s so simple.\r\n\r\n**activity_main.xml:**\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/surname&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;21dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Surname&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/name&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;126dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Name&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/ok&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        android:text=&quot;OK&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/age&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/age&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;19dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Age&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/surname&quot; /&gt;\r\n\r\n**MainActivity.java:**\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    EditText user_name, user_surname, user_age;\r\n    Button okBtn;\r\n    FirebaseFirestore db;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        user_name = findViewById(R.id.name);\r\n        user_surname = findViewById(R.id.surname);\r\n        user_age = findViewById(R.id.age);\r\n        okBtn = findViewById(R.id.ok);\r\n        db = FirebaseFirestore.getInstance();\r\n\r\n        okBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String Name = user_name.getText().toString();\r\n                String Surname = user_surname.getText().toString();\r\n                String Age = user_age.getText().toString();\r\n\r\n                Map&lt;String, Object&gt; test = new HashMap&lt;&gt;();\r\n                test.put(&quot;name&quot;, Name);\r\n                test.put(&quot;surname&quot;, Surname);\r\n                test.put(&quot;age&quot;, Age);\r\n\r\n                db.collection(&quot;TEST&quot;).add(test).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\r\n                    @Override\r\n                    public void onSuccess(DocumentReference documentReference) {\r\n                        Toast.makeText(MainActivity.this,&quot;Successful&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(MainActivity.this,&quot;Fail&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n    }\r\n}","title":"Firebase firestore is not accepting or showing any data on the console","body":"<p>I am starting to work with firebase firestore in combination with an Android/Java project. I have connected my project to Firestore and added cloud firestore as well. I am in the stage of adding data to the firestore database from the emulator's UI. The java code I'm using is supposed to show a Toast indicating if the data is saved successfully or show a Toast if failed.</p>\n<pre><code>db.collection(&quot;TEST&quot;).add(test).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\n                @Override\n                public void onSuccess(DocumentReference documentReference) {\n                    Toast.makeText(MainActivity.this,&quot;Successful&quot;,Toast.LENGTH_SHORT).show();\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Toast.makeText(MainActivity.this,&quot;Fail&quot;,Toast.LENGTH_SHORT).show();\n                }\n            });\n</code></pre>\n<p>The problem is when I enter information in the EditText views and hit the button, the data doesn't get saved to the database and the firestore console doesn't show anything no matter how I try to refresh the page. I have been searching for two days now but no luck at all. Please help me I'm stuck.</p>\n<p>I will include the code of java and XML layout even though I don't think the problem is the code since it's so simple.</p>\n<p><strong>activity_main.xml:</strong></p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/surname&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;21dp&quot;\n    android:ems=&quot;10&quot;\n    android:hint=&quot;Surname&quot;\n    android:inputType=&quot;textPersonName&quot;\n    android:minHeight=&quot;48dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/name&quot; /&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/name&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;126dp&quot;\n    android:ems=&quot;10&quot;\n    android:hint=&quot;Name&quot;\n    android:inputType=&quot;textPersonName&quot;\n    android:minHeight=&quot;48dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/ok&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;15dp&quot;\n    android:text=&quot;OK&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/age&quot; /&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/age&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;19dp&quot;\n    android:ems=&quot;10&quot;\n    android:hint=&quot;Age&quot;\n    android:inputType=&quot;textPersonName&quot;\n    android:minHeight=&quot;48dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/surname&quot; /&gt;\n</code></pre>\n<p><strong>MainActivity.java:</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nEditText user_name, user_surname, user_age;\nButton okBtn;\nFirebaseFirestore db;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    user_name = findViewById(R.id.name);\n    user_surname = findViewById(R.id.surname);\n    user_age = findViewById(R.id.age);\n    okBtn = findViewById(R.id.ok);\n    db = FirebaseFirestore.getInstance();\n\n    okBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String Name = user_name.getText().toString();\n            String Surname = user_surname.getText().toString();\n            String Age = user_age.getText().toString();\n\n            Map&lt;String, Object&gt; test = new HashMap&lt;&gt;();\n            test.put(&quot;name&quot;, Name);\n            test.put(&quot;surname&quot;, Surname);\n            test.put(&quot;age&quot;, Age);\n\n            db.collection(&quot;TEST&quot;).add(test).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\n                @Override\n                public void onSuccess(DocumentReference documentReference) {\n                    Toast.makeText(MainActivity.this,&quot;Successful&quot;,Toast.LENGTH_SHORT).show();\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Toast.makeText(MainActivity.this,&quot;Fail&quot;,Toast.LENGTH_SHORT).show();\n                }\n            });\n\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1665500726,"post_id":74030261,"comment_id":130712701,"body_markdown":"Questions about optimizing running code is better asked at [codereview.se]","body":"Questions about optimizing running code is better asked at <a href=\"https://codereview.stackexchange.com\">Code Review</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665501720,"creation_date":1665501720,"answer_id":74030481,"question_id":74030261,"body_markdown":"I see two general approaches:\r\n\r\n1. create objects encapsulating the varying part of the if statements:\r\n\r\n    ```java\r\n    record ChangeCheck(Function&lt;CompanyDTO, Object&gt; dtoField, Function&lt;Company, Object&gt; entityField, Change change){\r\n\r\n        boolean check (CompanyDTO dto, Company entity){\r\n            return Objects.equals(dtoField.apply(dto), entityField.apply(company);\r\n        }\r\n    }\r\n    ```\r\n\r\n    You can then create a collection of such objects\r\n\r\n    ```java\r\n    List&lt;ChangeCheck&gt; checkers = new ArrayList&lt;&gt;();\r\n\r\n    checkers.add(new ChangeCheck(CompanyDTO::getBankName, Company::getBankName, COMPANY_BANK_NAME));\r\n    ```\r\n\r\n    In your method you just iterate of that collection.\r\n\r\n    ```java\r\n    for (ChangeCheck check : checkers){\r\n        if (check.check(companyDTO, company)) {\r\n            changes.add(check.check);\r\n        }\r\n    }\r\n    ```\r\n2. Alternatively you can use reflection to find all the fields of the dto, the matching fields of the entity and the constant/enum whatever to add to your collection of changes.\r\n\r\nThe first approach is easy to implement and to understand, but requires about the same amount of typing as the if conditions. At least it does remove the duplication of logic.\r\n","title":"How can I reduce if statements","body":"<p>I see two general approaches:</p>\n<ol>\n<li><p>create objects encapsulating the varying part of the if statements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record ChangeCheck(Function&lt;CompanyDTO, Object&gt; dtoField, Function&lt;Company, Object&gt; entityField, Change change){\n\n    boolean check (CompanyDTO dto, Company entity){\n        return Objects.equals(dtoField.apply(dto), entityField.apply(company);\n    }\n}\n</code></pre>\n<p>You can then create a collection of such objects</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ChangeCheck&gt; checkers = new ArrayList&lt;&gt;();\n\ncheckers.add(new ChangeCheck(CompanyDTO::getBankName, Company::getBankName, COMPANY_BANK_NAME));\n</code></pre>\n<p>In your method you just iterate of that collection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (ChangeCheck check : checkers){\n    if (check.check(companyDTO, company)) {\n        changes.add(check.check);\n    }\n}\n</code></pre>\n</li>\n<li><p>Alternatively you can use reflection to find all the fields of the dto, the matching fields of the entity and the constant/enum whatever to add to your collection of changes.</p>\n</li>\n</ol>\n<p>The first approach is easy to implement and to understand, but requires about the same amount of typing as the if conditions. At least it does remove the duplication of logic.</p>\n"},{"tags":[],"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665501794,"creation_date":1665501794,"answer_id":74030498,"question_id":74030261,"body_markdown":"You could extract those calls that get the value into a (lambda) function, then use a list of those functions and iterate them, roughly like\r\n\r\n\r\n\t@Value // lombok to write the constructor, write out the class if you don&#39;t have that\r\n\tstatic class Extractor {\r\n\t\tfinal Function&lt;CompanyDTO, Object&gt; dtoValue;\r\n\t\tfinal Function&lt;Company, Object&gt; value;\r\n\t\tString name;\r\n\t}\r\n\r\n\tList&lt;Extractor&gt; extractors = Arrays.asList(\r\n\t\t\tnew Extractor(CompanyDTO::getA, Company::getA, &quot;company.a&quot;),\r\n\t\t\tnew Extractor(CompanyDTO::getB, Company::getB, &quot;company.b&quot;)\r\n\t);\r\n\r\n\tprivate List&lt;String&gt; getChanges(Company company, CompanyDTO companyDTO) {\r\n\t\tList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\t\textractors.forEach(e -&gt; {\r\n\t\t\tObject old = e.value.apply(company);\r\n\t\t\tObject updated = e.dtoValue.apply(companyDTO);\r\n\t\t\tif (old != null &amp;&amp; !old.equals(updated))\r\n\t\t\t\tresult.add(e.name);\r\n\t\t});\r\n\t\treturn result;\r\n\t}\r\n\r\n\t@Value\r\n\tstatic class CompanyDTO {\r\n\t\tfinal String a;\r\n\t\tfinal Date b;\r\n\t}\r\n\r\n\t@Value\r\n\tstatic class Company {\r\n\t\tfinal String a;\r\n\t\tfinal Date b;\r\n\t}\r\n","title":"How can I reduce if statements","body":"<p>You could extract those calls that get the value into a (lambda) function, then use a list of those functions and iterate them, roughly like</p>\n<pre><code>@Value // lombok to write the constructor, write out the class if you don't have that\nstatic class Extractor {\n    final Function&lt;CompanyDTO, Object&gt; dtoValue;\n    final Function&lt;Company, Object&gt; value;\n    String name;\n}\n\nList&lt;Extractor&gt; extractors = Arrays.asList(\n        new Extractor(CompanyDTO::getA, Company::getA, &quot;company.a&quot;),\n        new Extractor(CompanyDTO::getB, Company::getB, &quot;company.b&quot;)\n);\n\nprivate List&lt;String&gt; getChanges(Company company, CompanyDTO companyDTO) {\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    extractors.forEach(e -&gt; {\n        Object old = e.value.apply(company);\n        Object updated = e.dtoValue.apply(companyDTO);\n        if (old != null &amp;&amp; !old.equals(updated))\n            result.add(e.name);\n    });\n    return result;\n}\n\n@Value\nstatic class CompanyDTO {\n    final String a;\n    final Date b;\n}\n\n@Value\nstatic class Company {\n    final String a;\n    final Date b;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21746151,"reputation":433,"user_id":16052812,"display_name":"Lasslos05"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665501959,"creation_date":1665501959,"answer_id":74030530,"question_id":74030261,"body_markdown":"You could create three Lists, one of the objects you want to compare, one with the other objects you want to compare, and a third one with all the constants: \r\n```java\r\nprivate List&lt;String&gt; getChanges(Company company, CompanyDTO companyDTO) {\r\n   List&lt;String&gt; changes = new ArrayList&lt;&gt;();\r\n\r\n   Object[] first = [company.getName(), company.getCity(), company.getCountry() ...];\r\n   Object[] second = [companyDTO.getName(), companyDTO.getCity(), companyDTO.getCountry() ...];\r\n   String[] constants = [COMPANY_NAME, COMPANY_CITY, COMPANY_COUNTRY ...];\r\n\r\n   for (int i = 0; i &lt; first.length; i++) {\r\n      if (first != null &amp;&amp; !first[i].equals(second[i])) {\r\n         changes.add(constants[i]);\r\n      }\r\n   }\r\n\r\n   return changes;\r\n}\r\n```","title":"How can I reduce if statements","body":"<p>You could create three Lists, one of the objects you want to compare, one with the other objects you want to compare, and a third one with all the constants:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;String&gt; getChanges(Company company, CompanyDTO companyDTO) {\n   List&lt;String&gt; changes = new ArrayList&lt;&gt;();\n\n   Object[] first = [company.getName(), company.getCity(), company.getCountry() ...];\n   Object[] second = [companyDTO.getName(), companyDTO.getCity(), companyDTO.getCountry() ...];\n   String[] constants = [COMPANY_NAME, COMPANY_CITY, COMPANY_COUNTRY ...];\n\n   for (int i = 0; i &lt; first.length; i++) {\n      if (first != null &amp;&amp; !first[i].equals(second[i])) {\n         changes.add(constants[i]);\n      }\n   }\n\n   return changes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665510018,"creation_date":1665510018,"answer_id":74032074,"question_id":74030261,"body_markdown":"I&#39;ll say use Reflection here.\r\n\r\nAssuming Company &amp; CompanyDTO have same field names.\r\n\r\n```java\r\nprivate List&lt;String&gt; getChanges(final Company company, final CompanyDTO companyDTO) {\r\n     final List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n     for (final Field dtoField : CompanyDTO.class.getDeclaredFields()) {\r\n          ReflectionUtils.makeAccessible(dtoField);\r\n          for (final Field comField : Company.class.getDeclaredFields()) {\r\n               ReflectionUtils.makeAccessible(comField);\r\n               if (dtoField.getName().equals(comField.getName())) {\r\n                    final Object dtoObject = ReflectionUtils.getField(dtoField, dto);\r\n                    final Object companyObject = ReflectionUtils.getField(comField, com);\r\n                    if (!Objects.equals(dtoObject, companyObject)) {\r\n                         result.add(dtoField.getName());\r\n                    }\r\n               }\r\n          }\r\n     }\r\n     return result;\r\n}\r\n\r\n```","title":"How can I reduce if statements","body":"<p>I'll say use Reflection here.</p>\n<p>Assuming Company &amp; CompanyDTO have same field names.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;String&gt; getChanges(final Company company, final CompanyDTO companyDTO) {\n     final List&lt;String&gt; result = new ArrayList&lt;&gt;();\n     for (final Field dtoField : CompanyDTO.class.getDeclaredFields()) {\n          ReflectionUtils.makeAccessible(dtoField);\n          for (final Field comField : Company.class.getDeclaredFields()) {\n               ReflectionUtils.makeAccessible(comField);\n               if (dtoField.getName().equals(comField.getName())) {\n                    final Object dtoObject = ReflectionUtils.getField(dtoField, dto);\n                    final Object companyObject = ReflectionUtils.getField(comField, com);\n                    if (!Objects.equals(dtoObject, companyObject)) {\n                         result.add(dtoField.getName());\n                    }\n               }\n          }\n     }\n     return result;\n}\n\n</code></pre>\n"}],"owner":{"account_id":20432579,"reputation":9,"user_id":14991202,"display_name":"Aron.jt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1665510018,"creation_date":1665500617,"question_id":74030261,"body_markdown":"I want to update an object, but beforehand I check the fields that can be updated; then I collect the fields&#39; names to a list.\r\n\r\nMy problem is that it has too many if-statements, and I want to reduce them.\r\nIs there any nice way to do it?\r\n\r\n    /**\r\n     * This method checks if there are any updates for a company\r\n     *\r\n     * @param company The data that comes from the database, and we want to update.\r\n     * @param companyDTO The data that may contain updates.\r\n     * @return The method returns with a list that contains the changes.\r\n     */\r\n    private List&lt;String&gt; getChanges(Company company, CompanyDTO companyDTO) {\r\n        List&lt;String&gt; changes = new ArrayList&lt;&gt;();\r\n\r\n        if (companyDTO.getName() != null &amp;&amp; !companyDTO.getName().equals(company.getName())) {\r\n            changes.add(COMPANY_NAME);\r\n        }\r\n        if (companyDTO.getShortName() != null &amp;&amp; !companyDTO.getShortName().equals(company.getShortName())) {\r\n            changes.add(COMPANY_SHORTNAME);\r\n        }\r\n        if (companyDTO.getAddress() != null &amp;&amp; !companyDTO.getAddress().equals(company.getAddress())) {\r\n            changes.add(COMPANY_ADDRESS);\r\n        }\r\n        if (companyDTO.getTaxNumber() != null &amp;&amp; !companyDTO.getTaxNumber().equals(company.getTaxNumber())) {\r\n            changes.add(COMPANY_TAX_NUMBER);\r\n        }\r\n        if (companyDTO.getFirmId() != null &amp;&amp; !companyDTO.getFirmId().equals(company.getFirmId())) {\r\n            changes.add(COMPANY_FIRM_ID);\r\n        }\r\n        if (companyDTO.getBankName() != null &amp;&amp; !companyDTO.getBankName().equals(company.getBankName())) {\r\n            changes.add(COMPANY_BANK_NAME);\r\n        }\r\n        if (companyDTO.getBankAccountNumber() != null &amp;&amp; !companyDTO.getBankAccountNumber().equals(company.getBankAccountNumber())) {\r\n            changes.add(COMPANY_BANK_ACCOUNT_NUMBER);\r\n        }\r\n        if (companyDTO.getInternalComment() != null &amp;&amp; !companyDTO.getInternalComment().equals(company.getInternalComment())) {\r\n            changes.add(COMPANY_INTERNAL_COMMENT);\r\n        }\r\n        if (companyDTO.getEnabled() != null &amp;&amp; !companyDTO.getEnabled().equals(company.getEnabled())) {\r\n            changes.add(ENABLED);\r\n        }\r\n        return changes;\r\n    }","title":"How can I reduce if statements","body":"<p>I want to update an object, but beforehand I check the fields that can be updated; then I collect the fields' names to a list.</p>\n<p>My problem is that it has too many if-statements, and I want to reduce them.\nIs there any nice way to do it?</p>\n<pre><code>/**\n * This method checks if there are any updates for a company\n *\n * @param company The data that comes from the database, and we want to update.\n * @param companyDTO The data that may contain updates.\n * @return The method returns with a list that contains the changes.\n */\nprivate List&lt;String&gt; getChanges(Company company, CompanyDTO companyDTO) {\n    List&lt;String&gt; changes = new ArrayList&lt;&gt;();\n\n    if (companyDTO.getName() != null &amp;&amp; !companyDTO.getName().equals(company.getName())) {\n        changes.add(COMPANY_NAME);\n    }\n    if (companyDTO.getShortName() != null &amp;&amp; !companyDTO.getShortName().equals(company.getShortName())) {\n        changes.add(COMPANY_SHORTNAME);\n    }\n    if (companyDTO.getAddress() != null &amp;&amp; !companyDTO.getAddress().equals(company.getAddress())) {\n        changes.add(COMPANY_ADDRESS);\n    }\n    if (companyDTO.getTaxNumber() != null &amp;&amp; !companyDTO.getTaxNumber().equals(company.getTaxNumber())) {\n        changes.add(COMPANY_TAX_NUMBER);\n    }\n    if (companyDTO.getFirmId() != null &amp;&amp; !companyDTO.getFirmId().equals(company.getFirmId())) {\n        changes.add(COMPANY_FIRM_ID);\n    }\n    if (companyDTO.getBankName() != null &amp;&amp; !companyDTO.getBankName().equals(company.getBankName())) {\n        changes.add(COMPANY_BANK_NAME);\n    }\n    if (companyDTO.getBankAccountNumber() != null &amp;&amp; !companyDTO.getBankAccountNumber().equals(company.getBankAccountNumber())) {\n        changes.add(COMPANY_BANK_ACCOUNT_NUMBER);\n    }\n    if (companyDTO.getInternalComment() != null &amp;&amp; !companyDTO.getInternalComment().equals(company.getInternalComment())) {\n        changes.add(COMPANY_INTERNAL_COMMENT);\n    }\n    if (companyDTO.getEnabled() != null &amp;&amp; !companyDTO.getEnabled().equals(company.getEnabled())) {\n        changes.add(ENABLED);\n    }\n    return changes;\n}\n</code></pre>\n"},{"tags":["java","windows","intellij-idea","java-nio"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665510440,"post_id":74032034,"comment_id":130715993,"body_markdown":"how do you get that path? Issue is not related to the editor you use I guess.","body":"how do you get that path? Issue is not related to the editor you use I guess."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1665510785,"post_id":74032034,"comment_id":130716109,"body_markdown":"Please show your code to reproduce this issue.","body":"Please show your code to reproduce this issue."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1665511663,"post_id":74032034,"comment_id":130716453,"body_markdown":"*I can get the path...* It&#39;s not a path. It&#39;s a ```java.net.URL```  I would beware of mixing that up with file/path related classes and operations. More often than not, you will need ```getResourceAsStream``` not ```getResource```. Since it&#39;s a resource, forget ```File```  and ```Path```","body":"<i>I can get the path...</i> It&#39;s not a path. It&#39;s a <code>java.net.URL</code>  I would beware of mixing that up with file/path related classes and operations. More often than not, you will need <code>getResourceAsStream</code> not <code>getResource</code>. Since it&#39;s a resource, forget <code>File</code>  and <code>Path</code>"},{"owner":{"account_id":8031814,"reputation":1068,"user_id":8818353,"display_name":"Mak"},"score":0,"creation_date":1665566471,"post_id":74032034,"comment_id":130728629,"body_markdown":"@CrazyCoder  I am using below code \n\n private String readFileToString(String filename) throws Exception {\n        URL url = getClass().getResource(filename);\n        return new String(Files.readAllBytes(Path.of(url.getPath())));\n    }\n\n\n\nIf you see there url.getPath() its giving path extra forward slash","body":"@CrazyCoder  I am using below code    private String readFileToString(String filename) throws Exception {         URL url = getClass().getResource(filename);         return new String(Files.readAllBytes(Path.of(url.getPath())));     }    If you see there url.getPath() its giving path extra forward slash"},{"owner":{"account_id":8031814,"reputation":1068,"user_id":8818353,"display_name":"Mak"},"score":0,"creation_date":1665569318,"post_id":74032034,"comment_id":130729711,"body_markdown":"@g00se even if I use url.toURI() even though it  is working. But my question is why it is not working with url.getPath() in windows OS. Why getPath() is giving absolute path in windows and virtual path in Mac OS.","body":"@g00se even if I use url.toURI() even though it  is working. But my question is why it is not working with url.getPath() in windows OS. Why getPath() is giving absolute path in windows and virtual path in Mac OS."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665569531,"post_id":74032034,"comment_id":130729784,"body_markdown":"Easier ```String text = new String(getClass().getResourceAsStream(&quot;/bar&quot;).readAllBytes());``` *Why getPath() is giving absolute path in windows and virtual path in Mac OS* What is the *exact* path given by Mac?","body":"Easier <code>String text = new String(getClass().getResourceAsStream(&quot;&#47;bar&quot;).readAllBytes()&zwnj;&#8203;);</code> <i>Why getPath() is giving absolute path in windows and virtual path in Mac OS</i> What is the <i>exact</i> path given by Mac?"}],"owner":{"account_id":8031814,"reputation":1068,"user_id":8818353,"display_name":"Mak"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665509799,"creation_date":1665509799,"question_id":74032034,"body_markdown":"I am using IntelliJ IDEA 2022.2.1 editor. In one of my test case I am reading the file from resource folder using below method ***getClass().getResource(filename)***\r\n\r\nI can get the path, but problem is it&#39;s always returning with extra forward slash(&#39;/&#39;) for an instance **/C:/Users/test/IdeaProjects/data.json** like this.\r\n\r\nDue to that extra slash at 0 index. I am getting java.nio.file.InvalidPathException.\r\n\r\nNote: this works fine in mac book, This issue is only with window OS.\r\n\r\nAny suggestion would be reuired.","title":"How to avoid auto forward slash IntelliJ IDEA 2022.2.1 in Windows 10","body":"<p>I am using IntelliJ IDEA 2022.2.1 editor. In one of my test case I am reading the file from resource folder using below method <em><strong>getClass().getResource(filename)</strong></em></p>\n<p>I can get the path, but problem is it's always returning with extra forward slash('/') for an instance <strong>/C:/Users/test/IdeaProjects/data.json</strong> like this.</p>\n<p>Due to that extra slash at 0 index. I am getting java.nio.file.InvalidPathException.</p>\n<p>Note: this works fine in mac book, This issue is only with window OS.</p>\n<p>Any suggestion would be reuired.</p>\n"},{"tags":["java","libphonenumber"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664618428,"post_id":73912826,"comment_id":130516002,"body_markdown":"*we are using the following shell commands...*  Those are Unix shell commands - are you using Powershell by any chance?","body":"<i>we are using the following shell commands...</i>  Those are Unix shell commands - are you using Powershell by any chance?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664619177,"post_id":73912826,"comment_id":130516142,"body_markdown":"*IntelliJ has no problems finding the classes and their methods when we type in the code window.* This suggests to me that it is using Maven, whereas you&#39;re attempting to us Ant. If it runs OK, it means that it has ```PhoneNumberUtil``` in its classpath. Incidentally it will be called something like libphonenumber-8.12.10.jar. Put that in your Ant classpath and you should be OK","body":"<i>IntelliJ has no problems finding the classes and their methods when we type in the code window.</i> This suggests to me that it is using Maven, whereas you&#39;re attempting to us Ant. If it runs OK, it means that it has <code>PhoneNumberUtil</code> in its classpath. Incidentally it will be called something like libphonenumber-8.12.10.jar. Put that in your Ant classpath and you should be OK"},{"owner":{"display_name":"user3033043"},"score":0,"creation_date":1664634879,"post_id":73912826,"comment_id":130518990,"body_markdown":"Hi g00se, thanks for your answer. We indeed have the jar file mentioned in the class path in the build.xml, I just forgot to add it to the post due all the stress. I also edited the original post and added a screenshot.","body":"Hi g00se, thanks for your answer. We indeed have the jar file mentioned in the class path in the build.xml, I just forgot to add it to the post due all the stress. I also edited the original post and added a screenshot."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664635153,"post_id":73912826,"comment_id":130519059,"body_markdown":"I&#39;m not sure why you&#39;re obfuscating the names of jar files, but as a result, that hasn&#39;t really helped at all. And I don&#39;t know why you have one called &#39;libphonenumber.jar&#39;, without any version string","body":"I&#39;m not sure why you&#39;re obfuscating the names of jar files, but as a result, that hasn&#39;t really helped at all. And I don&#39;t know why you have one called &#39;libphonenumber.jar&#39;, without any version string"},{"owner":{"display_name":"user3033043"},"score":0,"creation_date":1665506084,"post_id":73912826,"comment_id":130714554,"body_markdown":"Company secrets, please ignore these. There are files without any version number attachted to their names, they work fine in our project, that&#39;s why we did not use any here. I am about to post another update.","body":"Company secrets, please ignore these. There are files without any version number attachted to their names, they work fine in our project, that&#39;s why we did not use any here. I am about to post another update."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665509380,"post_id":73912826,"comment_id":130715646,"body_markdown":"*I am about to post another update.* OK, but please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.","body":"<i>I am about to post another update.</i> OK, but please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly."},{"owner":{"display_name":"user3033043"},"score":0,"creation_date":1665509716,"post_id":73912826,"comment_id":130715763,"body_markdown":"You&#39;re right, I will try to post code from now on. Another update in a few, I created a github repo.","body":"You&#39;re right, I will try to post code from now on. Another update in a few, I created a github repo."}],"owner":{"display_name":"user3033043"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665509790,"creation_date":1664563462,"question_id":73912826,"body_markdown":"We are trying to get the libphonenumber to run in our java project.\r\n\r\nThe java project is running as a service on one of our servers. \r\n\r\nOn our local machines, we are using the following shell commands to include the libraries (please ignore the version numbers):\r\n\r\n    export ANT_HOME=&quot;C:\\DEV\\apache-ant-1.9.16&quot;\r\n    export JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-15.0.2&quot;\r\n    export MAVEN_HOME=&quot;C:\\DEV\\apache-maven-3.8.6&quot;\r\n    export PATH=${PATH}:${JAVA_HOME}/bin:${ANT_HOME}/bin:${MAVEN_HOME}/bin\r\n    export MB_API_HOME=&quot;C:\\DEV\\java-rest-api\\api\\target&quot;\r\n\r\nAfter we run the &quot;ant&quot; command, we move the result file (jar) on our server in the respective folder.\r\n\r\nThese are the 3 files that are needed for the library:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWe have copied them on the server, in the respective lib folder.\r\n\r\nEverything runs fine until the following error shows up:\r\n\r\n\tjava.lang.NoClassDefFoundError: com/google/i18n/phonenumbers/PhoneNumberUtil\r\n\r\nThis happens when it comes to the following line:\r\n\r\n\tPhoneNumberUtil util = PhoneNumberUtil.getInstance();\r\n\r\nWe have found the following code on this website (https://www.baeldung.com/java-libphonenumber), where it is explained that this has to go to a pom-xml file:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.googlecode.libphonenumber&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;libphonenumber&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;8.12.10&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\nWe have no clue which pom.xml they are writing about. These are the files that are being found by IntelliJ:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIntelliJ has no problems finding the classes and their methods when we type in the code window.\r\n\r\nWhat else do we have to do and consider to get it to run on the server?\r\n\r\nThanks in advance.\r\n\r\n**Edit 1 of ?**: As g00se suggested, we already have the class path mentioned in the build.xml, which looks like this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI had the idea of removing the libphonenumber.jar from the lib folder on the server itself to see if we receive a different error. But it is still the same NoClassDefFoundError. It is as if the result file of ant has no clue about libphonenumber at all!\r\n\r\n**Edit 2 of ?:**\r\nI have experimented with this library on my private computer.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nIf I click on the run icon (1), it seems to work, as seen in (2).\r\n\r\nHowever, going to the folder with the Main class (3) and running ```java Main```, leads to the same error:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nBut then, I just copied the classes into the folder where the Main is, and the error changed:\r\n\r\n[![enter image description here][6]][6]\r\n\r\nHere is the snippet in the build.xml of my private project:\r\n\r\n    &lt;target name=&quot;compile&quot; depends=&quot;init&quot;\r\n            description=&quot;compile the source&quot;&gt;\r\n        &lt;!-- Compile the Java code from ${src} into ${build} --&gt;\r\n        &lt;javac srcdir=&quot;${src}&quot; destdir=&quot;${build}&quot;&gt;\r\n            &lt;classpath&gt;\r\n                &lt;pathelement path=&quot;jars/libphonenumber.jar&quot;/&gt;\r\n            &lt;/classpath&gt;\r\n        &lt;/javac&gt;\r\n    &lt;/target&gt;\r\n\r\nI guess I am missing the right approach here, do I?\r\n\r\n**Edit 3 of ?:** I created a repository of my private/test project.\r\n\r\nHere it is: https://github.com/3rc4n/libphonenumberexperiment\r\n\r\n  [1]: https://i.stack.imgur.com/jLQCh.png\r\n  [2]: https://i.stack.imgur.com/9TXlc.png\r\n  [3]: https://i.stack.imgur.com/2CBaR.png\r\n  [4]: https://i.stack.imgur.com/FR4zy.jpg\r\n  [5]: https://i.stack.imgur.com/hMMRu.jpg\r\n  [6]: https://i.stack.imgur.com/95x0z.jpg","title":"libphonenumber shows a NoClassDefFoundError during the attempt to get the object instance","body":"<p>We are trying to get the libphonenumber to run in our java project.</p>\n<p>The java project is running as a service on one of our servers.</p>\n<p>On our local machines, we are using the following shell commands to include the libraries (please ignore the version numbers):</p>\n<pre><code>export ANT_HOME=&quot;C:\\DEV\\apache-ant-1.9.16&quot;\nexport JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-15.0.2&quot;\nexport MAVEN_HOME=&quot;C:\\DEV\\apache-maven-3.8.6&quot;\nexport PATH=${PATH}:${JAVA_HOME}/bin:${ANT_HOME}/bin:${MAVEN_HOME}/bin\nexport MB_API_HOME=&quot;C:\\DEV\\java-rest-api\\api\\target&quot;\n</code></pre>\n<p>After we run the &quot;ant&quot; command, we move the result file (jar) on our server in the respective folder.</p>\n<p>These are the 3 files that are needed for the library:</p>\n<p><a href=\"https://i.stack.imgur.com/jLQCh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jLQCh.png\" alt=\"enter image description here\" /></a></p>\n<p>We have copied them on the server, in the respective lib folder.</p>\n<p>Everything runs fine until the following error shows up:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/google/i18n/phonenumbers/PhoneNumberUtil\n</code></pre>\n<p>This happens when it comes to the following line:</p>\n<pre><code>PhoneNumberUtil util = PhoneNumberUtil.getInstance();\n</code></pre>\n<p>We have found the following code on this website (<a href=\"https://www.baeldung.com/java-libphonenumber\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-libphonenumber</a>), where it is explained that this has to go to a pom-xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.libphonenumber&lt;/groupId&gt;\n    &lt;artifactId&gt;libphonenumber&lt;/artifactId&gt;\n    &lt;version&gt;8.12.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We have no clue which pom.xml they are writing about. These are the files that are being found by IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/9TXlc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9TXlc.png\" alt=\"enter image description here\" /></a></p>\n<p>IntelliJ has no problems finding the classes and their methods when we type in the code window.</p>\n<p>What else do we have to do and consider to get it to run on the server?</p>\n<p>Thanks in advance.</p>\n<p><strong>Edit 1 of ?</strong>: As g00se suggested, we already have the class path mentioned in the build.xml, which looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/2CBaR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2CBaR.png\" alt=\"enter image description here\" /></a></p>\n<p>I had the idea of removing the libphonenumber.jar from the lib folder on the server itself to see if we receive a different error. But it is still the same NoClassDefFoundError. It is as if the result file of ant has no clue about libphonenumber at all!</p>\n<p><strong>Edit 2 of ?:</strong>\nI have experimented with this library on my private computer.</p>\n<p><a href=\"https://i.stack.imgur.com/FR4zy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FR4zy.jpg\" alt=\"enter image description here\" /></a></p>\n<p>If I click on the run icon (1), it seems to work, as seen in (2).</p>\n<p>However, going to the folder with the Main class (3) and running <code>java Main</code>, leads to the same error:</p>\n<p><a href=\"https://i.stack.imgur.com/hMMRu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMMRu.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But then, I just copied the classes into the folder where the Main is, and the error changed:</p>\n<p><a href=\"https://i.stack.imgur.com/95x0z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95x0z.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is the snippet in the build.xml of my private project:</p>\n<pre><code>&lt;target name=&quot;compile&quot; depends=&quot;init&quot;\n        description=&quot;compile the source&quot;&gt;\n    &lt;!-- Compile the Java code from ${src} into ${build} --&gt;\n    &lt;javac srcdir=&quot;${src}&quot; destdir=&quot;${build}&quot;&gt;\n        &lt;classpath&gt;\n            &lt;pathelement path=&quot;jars/libphonenumber.jar&quot;/&gt;\n        &lt;/classpath&gt;\n    &lt;/javac&gt;\n&lt;/target&gt;\n</code></pre>\n<p>I guess I am missing the right approach here, do I?</p>\n<p><strong>Edit 3 of ?:</strong> I created a repository of my private/test project.</p>\n<p>Here it is: <a href=\"https://github.com/3rc4n/libphonenumberexperiment\" rel=\"nofollow noreferrer\">https://github.com/3rc4n/libphonenumberexperiment</a></p>\n"},{"tags":["java","project-reactor","side-effects","publisher"],"answers":[{"tags":[],"owner":{"account_id":10711680,"reputation":499,"user_id":7883729,"display_name":"arap"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1626864474,"creation_date":1563832925,"answer_id":57154303,"question_id":57153569,"body_markdown":"First of all, you are not responsible for subscribing to flux in the controller. Fetching the data and returning it from the controller is just a small part of whole pipeline. It basically means that you need to provide only business logic, and the framework adds other transformations to your data. For example, it serializes the response and then, after it&#39;s finished, subscribes to it. \r\n\r\nSubscribing to the flux in the business code means that you start another pipeline, which might be totally independent from the data returned from the controller, but it just happened to be subscribed there. If you would had the same Flux and you would subscribe it somewhere else, the result would be exactly the same.\r\n\r\n**To sum up**: you need to take return value of `entities.hasElements()` (which is `Mono&lt;Boolean&gt;`) and wrap bool into response:\r\n\r\n     public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\r\n            Mono&lt;ServerResponse&gt; response = null;\r\n            Flux&lt;DemoPOJO&gt;       entities = service.getAll();\r\n    \r\n            return entities.hasElements()\r\n               .flatMap(this::foo);\r\n    \r\n        }\r\n    \r\n        private Mono&lt;ServerResponse&gt; foo(Boolean hasElements) {\r\n            System.out.println(&quot;DEBUG &gt;&gt; Mono has elements -&gt; &quot; + hasElements);\r\n            return ServerResponse.ok().syncBody(hasElements);\r\n        }\r\n\r\n","title":"How to return a Mono&lt;ServerResponse&gt; (as a side effect?) of Mono.subscribe()?","body":"<p>First of all, you are not responsible for subscribing to flux in the controller. Fetching the data and returning it from the controller is just a small part of whole pipeline. It basically means that you need to provide only business logic, and the framework adds other transformations to your data. For example, it serializes the response and then, after it's finished, subscribes to it.</p>\n<p>Subscribing to the flux in the business code means that you start another pipeline, which might be totally independent from the data returned from the controller, but it just happened to be subscribed there. If you would had the same Flux and you would subscribe it somewhere else, the result would be exactly the same.</p>\n<p><strong>To sum up</strong>: you need to take return value of <code>entities.hasElements()</code> (which is <code>Mono&lt;Boolean&gt;</code>) and wrap bool into response:</p>\n<pre><code> public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\n        Mono&lt;ServerResponse&gt; response = null;\n        Flux&lt;DemoPOJO&gt;       entities = service.getAll();\n\n        return entities.hasElements()\n           .flatMap(this::foo);\n\n    }\n\n    private Mono&lt;ServerResponse&gt; foo(Boolean hasElements) {\n        System.out.println(&quot;DEBUG &gt;&gt; Mono has elements -&gt; &quot; + hasElements);\n        return ServerResponse.ok().syncBody(hasElements);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8202858,"reputation":801,"user_id":6173626,"accept_rate":88,"display_name":"SoCal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665509614,"creation_date":1563837435,"answer_id":57154833,"question_id":57153569,"body_markdown":"\r\nMy revised *DemoPOJOHandler* is below. It seems to correctly return either a *ServerResponse.ok()* that wraps the *&#39;Flux&lt;DemoPOJO&gt;&#39;* returned by *service.getAll()*, or a *ServerResponse.noContent()* if the *Flux* was empty.\r\n\r\nWhile this &quot;works&quot;, and seems much better than what I previously had, any improvements, comments, or suggestions are greatly appreciated, as I&#39;m still trying to wrap my head around Reactor.\r\n\r\n    @Component\r\n    public class DemoPOJOHandler {\r\n    \r\n        public static final String PATH_VAR_ID = &quot;id&quot;;\r\n    \r\n        @Autowired\r\n        private DemoPOJOService service;\r\n    \r\n        public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\r\n            Flux&lt;DemoPOJO&gt; entities = service.getAll();\r\n    \r\n            return entities.hasElements().flatMap(hasElement -&gt; {\r\n                return hasElement ? ServerResponse.ok()\r\n                                                  .contentType(MediaType.APPLICATION_JSON)\r\n                                                  .body(entities, DemoPOJO.class)\r\n                                  : ServerResponse.noContent().build();\r\n                });\r\n        }\r\n    }","title":"How to return a Mono&lt;ServerResponse&gt; (as a side effect?) of Mono.subscribe()?","body":"<p>My revised <em>DemoPOJOHandler</em> is below. It seems to correctly return either a <em>ServerResponse.ok()</em> that wraps the <em>'Flux'</em> returned by <em>service.getAll()</em>, or a <em>ServerResponse.noContent()</em> if the <em>Flux</em> was empty.</p>\n<p>While this &quot;works&quot;, and seems much better than what I previously had, any improvements, comments, or suggestions are greatly appreciated, as I'm still trying to wrap my head around Reactor.</p>\n<pre><code>@Component\npublic class DemoPOJOHandler {\n\n    public static final String PATH_VAR_ID = &quot;id&quot;;\n\n    @Autowired\n    private DemoPOJOService service;\n\n    public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\n        Flux&lt;DemoPOJO&gt; entities = service.getAll();\n\n        return entities.hasElements().flatMap(hasElement -&gt; {\n            return hasElement ? ServerResponse.ok()\n                                              .contentType(MediaType.APPLICATION_JSON)\n                                              .body(entities, DemoPOJO.class)\n                              : ServerResponse.noContent().build();\n            });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1563886906,"creation_date":1563886906,"answer_id":57164783,"question_id":57153569,"body_markdown":"@SoCal your answer might seem to work, but it suffers from a downside: `getAll()` DB call is made twice.\r\n\r\nThe difficulty is that you can only decide on the status code once you&#39;ve started receiving data.\r\n\r\nBut since you don&#39;t seem to really need the asynchronous nature of the body (you&#39;re not streaming the individual elements but producing a one shot JSON response), you could in this case collect the whole result set and map it to a response.\r\n\r\nSo call the DB, collect the elements in a `Mono&lt;List&gt;`, `map` that to A) an 404 empty response if the list is empty or B) a 200 successful JSON response otherwise (notice the use of `syncBody`):\r\n\r\n    @Component\r\n    public class DemoPOJOHandler {\r\n    \r\n        public static final String PATH_VAR_ID = &quot;id&quot;;\r\n    \r\n        @Autowired\r\n        private DemoPOJOService service;\r\n    \r\n        public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\r\n            Flux&lt;DemoPOJO&gt; entities = service.getAll();\r\n            Mono&lt;List&lt;DemoPOJO&gt;&gt; collected = entities.collectList();\r\n    \r\n            return collected.map(list -&gt; list.isEmpty() ? \r\n                ServerResponse.noContent().build() :\r\n                ServerResponse.ok()\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .syncBody(list)\r\n            );\r\n        }\r\n    }\r\n\r\n\r\nSide note: I think `ResponseEntity` is the preferred type for annotated controllers rather than `ServerResponse`, see https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-ann-responseentity.\r\n\r\n","title":"How to return a Mono&lt;ServerResponse&gt; (as a side effect?) of Mono.subscribe()?","body":"<p>@SoCal your answer might seem to work, but it suffers from a downside: <code>getAll()</code> DB call is made twice.</p>\n\n<p>The difficulty is that you can only decide on the status code once you've started receiving data.</p>\n\n<p>But since you don't seem to really need the asynchronous nature of the body (you're not streaming the individual elements but producing a one shot JSON response), you could in this case collect the whole result set and map it to a response.</p>\n\n<p>So call the DB, collect the elements in a <code>Mono&lt;List&gt;</code>, <code>map</code> that to A) an 404 empty response if the list is empty or B) a 200 successful JSON response otherwise (notice the use of <code>syncBody</code>):</p>\n\n<pre><code>@Component\npublic class DemoPOJOHandler {\n\n    public static final String PATH_VAR_ID = \"id\";\n\n    @Autowired\n    private DemoPOJOService service;\n\n    public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\n        Flux&lt;DemoPOJO&gt; entities = service.getAll();\n        Mono&lt;List&lt;DemoPOJO&gt;&gt; collected = entities.collectList();\n\n        return collected.map(list -&gt; list.isEmpty() ? \n            ServerResponse.noContent().build() :\n            ServerResponse.ok()\n                .contentType(MediaType.APPLICATION_JSON)\n                .syncBody(list)\n        );\n    }\n}\n</code></pre>\n\n<p>Side note: I think <code>ResponseEntity</code> is the preferred type for annotated controllers rather than <code>ServerResponse</code>, see <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-ann-responseentity\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-ann-responseentity</a>.</p>\n"}],"owner":{"account_id":8202858,"reputation":801,"user_id":6173626,"accept_rate":88,"display_name":"SoCal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57164783,"answer_count":3,"score":0,"last_activity_date":1665509614,"creation_date":1563828771,"question_id":57153569,"body_markdown":"I have the following code, which &quot;works&quot;...so far. By &quot;works&quot;, I mean that the *`Flux&lt;DemoPOJO&gt;`* is being returned by *`service.getAll()`*, and the &quot;*`hasElements().subscribe(this::foo)`*&quot; results in *`foo()`* generating output that correctly reflects whether the *`Flux&lt;DemoPOJO&gt;`* has any elements.\r\n\r\nThe desired end state is to return a *`ServerResponse`* object, wrapping the *`Flux&lt;DemoPOJO&gt;`*, which reflects whether the returned Flux is empty or &quot;hasElements&quot;.\r\n\r\nMy problem is that *`Mono.subscribe()`* returns a *`reactor.core.Disposable`*, and I want to somehow get to a *`Mono&lt;ServerResponse&gt;`*. Or, am I &quot;barking up the wrong tree&quot;?\r\n\r\nAdd Note: I&#39;ve seen some examples using *`Flux.flatMap()`*, but this seems problematic if the returned Flux has a lot of elements (i.e., checking *`hasElements()`* seems a lot better than potentially flat-mapping all the elements).\r\n\r\n    @Component\r\n    public class DemoPOJOHandler {\r\n    \r\n        public static final String PATH_VAR_ID = &quot;id&quot;;\r\n    \r\n        @Autowired\r\n        private DemoPOJOService service;\r\n        \r\n        public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\r\n            Mono&lt;ServerResponse&gt; response = null;\r\n            Flux&lt;DemoPOJO&gt;       entities = service.getAll();\r\n    \r\n            entities.hasElements().subscribe(this::foo);\r\n            // just return something, for now\r\n            return ServerResponse.ok().build();\r\n        }\r\n    \r\n        private Mono&lt;ServerRequest&gt; foo(Boolean hasElements) {\r\n            System.out.println(&quot;DEBUG &gt;&gt; Mono has elements -&gt; &quot; + hasElements);\r\n            return Mono.empty();\r\n        }\r\n    }\r\n\r\nHere is the DemoPOJOService implementation...\r\n\r\n    @Component\r\n    public class DemoPOJOService {\r\n    \r\n        @Autowired\r\n        private DemoPOJORepo demoPOJORepo;\r\n    \r\n        public Flux&lt;DemoPOJO&gt; getAll() {\r\n            return Flux.fromArray(demoPOJORepo.getAll());\r\n        }\r\n    \r\n        // more implementation, omitted for brevity\r\n    }\r\n\r\nAnd, here is the DemoPOJORepo implementation...\r\n\r\n    @Component\r\n    public class DemoPOJORepo {\r\n    \r\n        private static final int NUM_OBJS =20;\r\n    \r\n        private static DemoPOJORepo demoRepo = null;\r\n    \r\n        private Map&lt;Integer, DemoPOJO&gt; demoPOJOMap;\r\n    \r\n        private DemoPOJORepo() {\r\n            initMap();\r\n        }\r\n    \r\n        public static DemoPOJORepo getInstance() {\r\n            if (demoRepo == null) {\r\n                demoRepo = new DemoPOJORepo();\r\n            }\r\n            return demoRepo;\r\n        }\r\n    \r\n        public DemoPOJO[] getAll() {\r\n            return demoPOJOMap.values().toArray(new DemoPOJO[demoPOJOMap.size()]);\r\n        }\r\n\r\n        // more implementation, omitted for brevity\r\n\r\n        private void initMap() {\r\n            demoPOJOMap = new TreeMap&lt;Integer, DemoPOJO&gt;();\r\n    \r\n            for(int ndx=1; ndx&lt;( NUM_OBJS + 1 ); ndx++) {\r\n                demoPOJOMap.put(ndx, new DemoPOJO(ndx, &quot;foo_&quot; + ndx, ndx+100));\r\n            }\r\n        }\r\n    }","title":"How to return a Mono&lt;ServerResponse&gt; (as a side effect?) of Mono.subscribe()?","body":"<p>I have the following code, which \"works\"...so far. By \"works\", I mean that the <em><code>Flux&lt;DemoPOJO&gt;</code></em> is being returned by <em><code>service.getAll()</code></em>, and the \"<em><code>hasElements().subscribe(this::foo)</code></em>\" results in <em><code>foo()</code></em> generating output that correctly reflects whether the <em><code>Flux&lt;DemoPOJO&gt;</code></em> has any elements.</p>\n\n<p>The desired end state is to return a <em><code>ServerResponse</code></em> object, wrapping the <em><code>Flux&lt;DemoPOJO&gt;</code></em>, which reflects whether the returned Flux is empty or \"hasElements\".</p>\n\n<p>My problem is that <em><code>Mono.subscribe()</code></em> returns a <em><code>reactor.core.Disposable</code></em>, and I want to somehow get to a <em><code>Mono&lt;ServerResponse&gt;</code></em>. Or, am I \"barking up the wrong tree\"?</p>\n\n<p>Add Note: I've seen some examples using <em><code>Flux.flatMap()</code></em>, but this seems problematic if the returned Flux has a lot of elements (i.e., checking <em><code>hasElements()</code></em> seems a lot better than potentially flat-mapping all the elements).</p>\n\n<pre><code>@Component\npublic class DemoPOJOHandler {\n\n    public static final String PATH_VAR_ID = \"id\";\n\n    @Autowired\n    private DemoPOJOService service;\n\n    public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\n        Mono&lt;ServerResponse&gt; response = null;\n        Flux&lt;DemoPOJO&gt;       entities = service.getAll();\n\n        entities.hasElements().subscribe(this::foo);\n        // just return something, for now\n        return ServerResponse.ok().build();\n    }\n\n    private Mono&lt;ServerRequest&gt; foo(Boolean hasElements) {\n        System.out.println(\"DEBUG &gt;&gt; Mono has elements -&gt; \" + hasElements);\n        return Mono.empty();\n    }\n}\n</code></pre>\n\n<p>Here is the DemoPOJOService implementation...</p>\n\n<pre><code>@Component\npublic class DemoPOJOService {\n\n    @Autowired\n    private DemoPOJORepo demoPOJORepo;\n\n    public Flux&lt;DemoPOJO&gt; getAll() {\n        return Flux.fromArray(demoPOJORepo.getAll());\n    }\n\n    // more implementation, omitted for brevity\n}\n</code></pre>\n\n<p>And, here is the DemoPOJORepo implementation...</p>\n\n<pre><code>@Component\npublic class DemoPOJORepo {\n\n    private static final int NUM_OBJS =20;\n\n    private static DemoPOJORepo demoRepo = null;\n\n    private Map&lt;Integer, DemoPOJO&gt; demoPOJOMap;\n\n    private DemoPOJORepo() {\n        initMap();\n    }\n\n    public static DemoPOJORepo getInstance() {\n        if (demoRepo == null) {\n            demoRepo = new DemoPOJORepo();\n        }\n        return demoRepo;\n    }\n\n    public DemoPOJO[] getAll() {\n        return demoPOJOMap.values().toArray(new DemoPOJO[demoPOJOMap.size()]);\n    }\n\n    // more implementation, omitted for brevity\n\n    private void initMap() {\n        demoPOJOMap = new TreeMap&lt;Integer, DemoPOJO&gt;();\n\n        for(int ndx=1; ndx&lt;( NUM_OBJS + 1 ); ndx++) {\n            demoPOJOMap.put(ndx, new DemoPOJO(ndx, \"foo_\" + ndx, ndx+100));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","inheritance","interface"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665507735,"creation_date":1665507735,"answer_id":74031679,"question_id":74031577,"body_markdown":"There is no connection between `ITask` and `TaskResult`. Sure, the task implementations override `make` with their respective return types, but this information can&#39;t be used in the declaration of the `run` method.\r\n\r\nYou can make the connection by adding an additional type parameter to `ITask`:\r\n\r\n```\r\ninterface ITask&lt;T, TResult extends TaskResult&lt;T&gt;&gt;{\r\n    TResult make();\r\n}\r\n\r\nclass TaskResult&lt;T&gt;{\r\n    T value;\r\n}\r\n```\r\n\r\nChange the task implementations and `run` accordingly:\r\n\r\n\r\n```\r\nclass AlphaTask implements ITask&lt;String, AlphaTaskResult&gt; {\r\n    public AlphaTaskResult make(){\r\n        return new AlphaTaskResult(&quot;alphaTask&quot;);\r\n    }\r\n}\r\n\r\nclass BetaTask implements ITask&lt;Integer, BetaTaskResult&gt; {\r\n    public BetaTaskResult make(){\r\n        return new BetaTaskResult(9001);\r\n    }\r\n}\r\n\r\npublic class Main { // Main doesn&#39;t need a type parameter\r\n    public static &lt;T, U extends TaskResult&lt;T&gt;, V extends ITask&lt;T, U&gt;&gt; List&lt;U&gt; run(List&lt;V&gt; tasks){\r\n\r\n        List&lt;U&gt; results =  tasks\r\n            .stream()\r\n            .map(ITask::make)\r\n            .collect(Collectors.toList());\r\n\r\n        return results;\r\n    }\r\n    public static void main(String[] args) {\r\n        List&lt;AlphaTaskResult&gt; alphaResults = run(Arrays.asList(new AlphaTask(), new AlphaTask()));\r\n        List&lt;BetaTaskResult&gt; betaResults = run(Arrays.asList(new BetaTask(), new BetaTask()));\r\n    }\r\n\r\n}\r\n```","title":"Java Generic Method to enforce type invariance between parameter type and return type","body":"<p>There is no connection between <code>ITask</code> and <code>TaskResult</code>. Sure, the task implementations override <code>make</code> with their respective return types, but this information can't be used in the declaration of the <code>run</code> method.</p>\n<p>You can make the connection by adding an additional type parameter to <code>ITask</code>:</p>\n<pre><code>interface ITask&lt;T, TResult extends TaskResult&lt;T&gt;&gt;{\n    TResult make();\n}\n\nclass TaskResult&lt;T&gt;{\n    T value;\n}\n</code></pre>\n<p>Change the task implementations and <code>run</code> accordingly:</p>\n<pre><code>class AlphaTask implements ITask&lt;String, AlphaTaskResult&gt; {\n    public AlphaTaskResult make(){\n        return new AlphaTaskResult(&quot;alphaTask&quot;);\n    }\n}\n\nclass BetaTask implements ITask&lt;Integer, BetaTaskResult&gt; {\n    public BetaTaskResult make(){\n        return new BetaTaskResult(9001);\n    }\n}\n\npublic class Main { // Main doesn't need a type parameter\n    public static &lt;T, U extends TaskResult&lt;T&gt;, V extends ITask&lt;T, U&gt;&gt; List&lt;U&gt; run(List&lt;V&gt; tasks){\n\n        List&lt;U&gt; results =  tasks\n            .stream()\n            .map(ITask::make)\n            .collect(Collectors.toList());\n\n        return results;\n    }\n    public static void main(String[] args) {\n        List&lt;AlphaTaskResult&gt; alphaResults = run(Arrays.asList(new AlphaTask(), new AlphaTask()));\n        List&lt;BetaTaskResult&gt; betaResults = run(Arrays.asList(new BetaTask(), new BetaTask()));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665509596,"creation_date":1665507749,"answer_id":74031680,"question_id":74031577,"body_markdown":"Just add the type `R extends TaskResult&lt;T&gt;` of the result to the type `ITask` of the task. The following compiles just fine:\r\n```\r\nimport java.util.List;\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\n\r\ninterface ITask&lt;T, R extends TaskResult&lt;T&gt;&gt;{\r\n    R make();\r\n}\r\n\r\nclass TaskResult&lt;T&gt;{\r\n    T value;\r\n}\r\n\r\nclass AlphaTaskResult extends TaskResult&lt;String&gt; {\r\n    AlphaTaskResult(String value){\r\n        this.value = value;\r\n    }\r\n}\r\n\r\nclass BetaTaskResult extends TaskResult&lt;Integer&gt; {\r\n    BetaTaskResult(Integer value){\r\n        this.value = value;\r\n    }\r\n}\r\n\r\nclass AlphaTask implements ITask&lt;String, AlphaTaskResult&gt; {\r\n    public AlphaTaskResult make(){\r\n        return new AlphaTaskResult(&quot;alphaTask&quot;);\r\n    }\r\n}\r\n\r\nclass BetaTask implements ITask&lt;Integer, BetaTaskResult&gt; {\r\n    public BetaTaskResult make(){\r\n        return new BetaTaskResult(9001);\r\n    }\r\n}\r\n\r\npublic class Main &lt;T&gt;{\r\n\r\n    public static &lt;T, R extends TaskResult&lt;T&gt;&gt; List&lt;R&gt; run(List&lt;ITask&lt;T, R&gt;&gt; tasks){\r\n\r\n        List&lt;R&gt; results =  tasks\r\n                .stream()\r\n                .map(ITask::make)\r\n                .collect(Collectors.toList());\r\n\r\n        return results;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;AlphaTaskResult&gt; alphaResults = run(Arrays.asList(new AlphaTask(), new AlphaTask()));\r\n        List&lt;BetaTaskResult&gt; betaResults = run(Arrays.asList(new BetaTask(), new BetaTask()));\r\n\r\n    }\r\n}\r\n```\r\nThe reason why your version does not compile is that the exact type of the result is not included in the type of the task, and since there are no type refinements in Java, there is nothing from which the type `U` could be inferred.\r\n","title":"Java Generic Method to enforce type invariance between parameter type and return type","body":"<p>Just add the type <code>R extends TaskResult&lt;T&gt;</code> of the result to the type <code>ITask</code> of the task. The following compiles just fine:</p>\n<pre><code>import java.util.List;\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\n\ninterface ITask&lt;T, R extends TaskResult&lt;T&gt;&gt;{\n    R make();\n}\n\nclass TaskResult&lt;T&gt;{\n    T value;\n}\n\nclass AlphaTaskResult extends TaskResult&lt;String&gt; {\n    AlphaTaskResult(String value){\n        this.value = value;\n    }\n}\n\nclass BetaTaskResult extends TaskResult&lt;Integer&gt; {\n    BetaTaskResult(Integer value){\n        this.value = value;\n    }\n}\n\nclass AlphaTask implements ITask&lt;String, AlphaTaskResult&gt; {\n    public AlphaTaskResult make(){\n        return new AlphaTaskResult(&quot;alphaTask&quot;);\n    }\n}\n\nclass BetaTask implements ITask&lt;Integer, BetaTaskResult&gt; {\n    public BetaTaskResult make(){\n        return new BetaTaskResult(9001);\n    }\n}\n\npublic class Main &lt;T&gt;{\n\n    public static &lt;T, R extends TaskResult&lt;T&gt;&gt; List&lt;R&gt; run(List&lt;ITask&lt;T, R&gt;&gt; tasks){\n\n        List&lt;R&gt; results =  tasks\n                .stream()\n                .map(ITask::make)\n                .collect(Collectors.toList());\n\n        return results;\n    }\n\n    public static void main(String[] args) {\n        List&lt;AlphaTaskResult&gt; alphaResults = run(Arrays.asList(new AlphaTask(), new AlphaTask()));\n        List&lt;BetaTaskResult&gt; betaResults = run(Arrays.asList(new BetaTask(), new BetaTask()));\n\n    }\n}\n</code></pre>\n<p>The reason why your version does not compile is that the exact type of the result is not included in the type of the task, and since there are no type refinements in Java, there is nothing from which the type <code>U</code> could be inferred.</p>\n"}],"owner":{"account_id":4870745,"reputation":1321,"user_id":3927381,"accept_rate":62,"display_name":"solvingJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74031680,"answer_count":2,"score":3,"last_activity_date":1665509596,"creation_date":1665507142,"question_id":74031577,"body_markdown":"I have tried a number of different variations of the code below and cannot find any solution which doesn&#39;t rely on an unsafe cast or cause another other compiler warning. I am confident the goal is possible, but maybe not?\r\n\r\nTo put it simply, the goal is that I have derived types which are related to each other and have invariant relationship, **which can be enforced by a generic method.** \r\n\r\n`AlphaTask` always returns `AlphaTaskResult`. \r\n`AlphaTask` is a concrete implementation of `ITask&lt;T&gt;`, where `T` is `String`.\r\n`AlphaTaskResult` extends the base class of `TaskResult&lt;T&gt;`, where again `T` is `String`. \r\n\r\nEverything checks out until it comes to writing a generic method which take any `Task` and get back the corresponding `TaskResult` type. \r\n\r\nThe error is: \r\n```\r\nRequired type: List&lt;U&gt;\r\nProvided:      List&lt;TaskResult&lt;T&gt;&gt;\r\nno instance(s) of type variable(s) exist so that TaskResult&lt;T&gt; conforms to U inference variable T has incompatible bounds: equality constraints: U lower bounds: TaskResult&lt;T&gt;\r\n```\r\n\r\n\r\n\r\n```java\r\npackage com.adobe.panpipe;\r\n\r\nimport java.util.List;\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\n\r\ninterface ITask&lt;T&gt;{\r\n    TaskResult&lt;T&gt; make();\r\n}\r\n\r\nclass TaskResult&lt;T&gt;{\r\n    T value;\r\n}\r\n\r\nclass AlphaTaskResult extends TaskResult&lt;String&gt; {\r\n    AlphaTaskResult(String value){\r\n        this.value = value;\r\n    }\r\n}\r\n\r\nclass BetaTaskResult extends TaskResult&lt;Integer&gt; {\r\n    BetaTaskResult(Integer value){\r\n        this.value = value;\r\n    }\r\n}\r\n\r\nclass AlphaTask implements ITask&lt;String&gt; {\r\n    public AlphaTaskResult make(){\r\n        return new AlphaTaskResult(&quot;alphaTask&quot;);\r\n    }\r\n}\r\n\r\nclass BetaTask implements ITask&lt;Integer&gt; {\r\n    public BetaTaskResult make(){\r\n        return new BetaTaskResult(9001);\r\n    }\r\n}\r\n\r\npublic class Main &lt;T&gt;{\r\n\r\n    public static &lt;T, U extends TaskResult&lt;T&gt;, V extends ITask&lt;T&gt;&gt; List&lt;U&gt; run(List&lt;V&gt; tasks){\r\n\r\n        List&lt;U&gt; results =  tasks\r\n                .stream()\r\n                .map(ITask::make)\r\n                .collect(Collectors.toList());\r\n\r\n        return results;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;AlphaTaskResult&gt; alphaResults = run(Arrays.asList(new AlphaTask(), new AlphaTask()));\r\n        List&lt;BetaTaskResult&gt; betaResults = run(Arrays.asList(new BetaTask(), new BetaTask()));\r\n\r\n    }\r\n}\r\n```","title":"Java Generic Method to enforce type invariance between parameter type and return type","body":"<p>I have tried a number of different variations of the code below and cannot find any solution which doesn't rely on an unsafe cast or cause another other compiler warning. I am confident the goal is possible, but maybe not?</p>\n<p>To put it simply, the goal is that I have derived types which are related to each other and have invariant relationship, <strong>which can be enforced by a generic method.</strong></p>\n<p><code>AlphaTask</code> always returns <code>AlphaTaskResult</code>.\n<code>AlphaTask</code> is a concrete implementation of <code>ITask&lt;T&gt;</code>, where <code>T</code> is <code>String</code>.\n<code>AlphaTaskResult</code> extends the base class of <code>TaskResult&lt;T&gt;</code>, where again <code>T</code> is <code>String</code>.</p>\n<p>Everything checks out until it comes to writing a generic method which take any <code>Task</code> and get back the corresponding <code>TaskResult</code> type.</p>\n<p>The error is:</p>\n<pre><code>Required type: List&lt;U&gt;\nProvided:      List&lt;TaskResult&lt;T&gt;&gt;\nno instance(s) of type variable(s) exist so that TaskResult&lt;T&gt; conforms to U inference variable T has incompatible bounds: equality constraints: U lower bounds: TaskResult&lt;T&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.adobe.panpipe;\n\nimport java.util.List;\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\n\ninterface ITask&lt;T&gt;{\n    TaskResult&lt;T&gt; make();\n}\n\nclass TaskResult&lt;T&gt;{\n    T value;\n}\n\nclass AlphaTaskResult extends TaskResult&lt;String&gt; {\n    AlphaTaskResult(String value){\n        this.value = value;\n    }\n}\n\nclass BetaTaskResult extends TaskResult&lt;Integer&gt; {\n    BetaTaskResult(Integer value){\n        this.value = value;\n    }\n}\n\nclass AlphaTask implements ITask&lt;String&gt; {\n    public AlphaTaskResult make(){\n        return new AlphaTaskResult(&quot;alphaTask&quot;);\n    }\n}\n\nclass BetaTask implements ITask&lt;Integer&gt; {\n    public BetaTaskResult make(){\n        return new BetaTaskResult(9001);\n    }\n}\n\npublic class Main &lt;T&gt;{\n\n    public static &lt;T, U extends TaskResult&lt;T&gt;, V extends ITask&lt;T&gt;&gt; List&lt;U&gt; run(List&lt;V&gt; tasks){\n\n        List&lt;U&gt; results =  tasks\n                .stream()\n                .map(ITask::make)\n                .collect(Collectors.toList());\n\n        return results;\n    }\n\n    public static void main(String[] args) {\n\n        List&lt;AlphaTaskResult&gt; alphaResults = run(Arrays.asList(new AlphaTask(), new AlphaTask()));\n        List&lt;BetaTaskResult&gt; betaResults = run(Arrays.asList(new BetaTask(), new BetaTask()));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","classpath","classloader","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383639640,"creation_date":1383639640,"answer_id":19784477,"question_id":19778327,"body_markdown":"I&#39;m not familiar with the maven-shade-plugin.  Does it package the original jar files in a new jar file?  Does it extract the contents of the original jar files and insert the contents into the new jar file?  If the latter, it may only be including the class files and not the resource files in META-INF that configure the JavaMail providers.\r\n\r\nOf course, the best approach would be to arrange for only one copy of the JavaMail jar file to be included in the server&#39;s classpath.","title":"multiple versions of javamail jar causing NoSuchProviderException","body":"<p>I'm not familiar with the maven-shade-plugin.  Does it package the original jar files in a new jar file?  Does it extract the contents of the original jar files and insert the contents into the new jar file?  If the latter, it may only be including the class files and not the resource files in META-INF that configure the JavaMail providers.</p>\n\n<p>Of course, the best approach would be to arrange for only one copy of the JavaMail jar file to be included in the server's classpath.</p>\n"},{"tags":[],"owner":{"account_id":3462098,"reputation":42531,"user_id":2898867,"accept_rate":80,"display_name":"Angular University"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1383835992,"creation_date":1383784282,"answer_id":19825757,"question_id":19778327,"body_markdown":"In tomcat 7, **by default** web applications will look first for classes on this order:\r\n\r\n 1. first on WEB-INF/classes\r\n 2. then inside jars in WEB-INF/lib\r\n 3. and if the class was not found only then in YOUR_SERVER_HOME/lib\r\n 4. Then on the system classloaders, as described [here][1]\r\n\r\nClass versions from other WARs (on classes / WEB-INF/lib) cannot be visible from inside another WAR.\r\n\r\nCan you let us know of further info that could help track down the problem:\r\n\r\n - what does the standalone library do in more detail, how does it monitor the other applications? \r\n\r\n - how is the standalone library added to the server classpath? Is it copied on YOUR_SERVER_HOME/lib, or is a folder added to the server classpath via shared.loader or common.loader properties of catalina.properties\r\n\r\n - does each WAR application provide it&#39;s own mail jars on WEB-INF/lib, or is the library published at the server level as a JNDI resource such as mentioned [here][2] on section *Install the JavaMail libraries*\r\n\r\n - Is any of the applications in the server NOT running in the default classloading mode that I mentioned above, and is using delegate = true (meaning it will look on the server first and only then on the WAR) ? [here][3] is how this would be configured, check for a Resource element in the context.xml or server.xml\r\n\r\nSome suggestions for possible solutions:\r\n\r\n 1. Install JavaMail on tomcat 7 as a JNDI resource following the installation instructions [here][4] on section *Install the JavaMail libraries*. Have all applications use the JNDI resource as in the tomcat docs, and remove java mail from the standalone library using a shade plugin exclusion. This will always work and it&#39;s the most recommended solution.\r\n\r\n 2. If you are using Java 7, try to use [JHades][4] to troubleshoot the classpath of the different applications. You can do static analysis on the WARs for duplicate classes, or view what are the versions used at runtime of a given class, and which other versions are available.\r\n\r\n 3. Since there is no control over the deployment settings of the other applications or their contents, use of JNDI, etc., a solution that will work for sure in all environments and with any application is to refactor the tool so that it does not require mail.jar to be installed on the server.  The tool can write an email request to for example a file or a database table, and another WAR deployed on the server would poll the table file and send the mail.  Or a bash/bat script is called that itself sends the email on a separate java process.\r\n\r\nPerformance analysis tools such as Dynatrace are based on JVM agents and use a similar mechanism that does not need the introduction of libraries at the server level, the agent collects data and sends it to a collecting process that stores it somewhere for further analisys, treatment such as send alarms via emails, etc. \r\n\r\nHope this helps, in general I don&#39;t see any way to deploy libraries to a EE server and be sure that they will never cause problems to any application on different server types and different application classloading settings. \r\n\r\nThe best is probably adapt the tool so that it relies on a minimum of libraries deployed on the server, breaking it up into separate modules with only the collecting module running on the server or look into alternatives such as Dynatrace.\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/class-loader-howto.html\r\n  [2]: http://tomcat.apache.org/tomcat-7.0-doc/jndi-resources-howto.html#JavaMail_Sessions\r\n  [3]: http://tomcat.apache.org/tomcat-7.0-doc/config/loader.html\r\n  [4]: http://jhades.org","title":"multiple versions of javamail jar causing NoSuchProviderException","body":"<p>In tomcat 7, <strong>by default</strong> web applications will look first for classes on this order:</p>\n\n<ol>\n<li>first on WEB-INF/classes</li>\n<li>then inside jars in WEB-INF/lib</li>\n<li>and if the class was not found only then in YOUR_SERVER_HOME/lib</li>\n<li>Then on the system classloaders, as described <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/class-loader-howto.html\" rel=\"nofollow\">here</a></li>\n</ol>\n\n<p>Class versions from other WARs (on classes / WEB-INF/lib) cannot be visible from inside another WAR.</p>\n\n<p>Can you let us know of further info that could help track down the problem:</p>\n\n<ul>\n<li><p>what does the standalone library do in more detail, how does it monitor the other applications? </p></li>\n<li><p>how is the standalone library added to the server classpath? Is it copied on YOUR_SERVER_HOME/lib, or is a folder added to the server classpath via shared.loader or common.loader properties of catalina.properties</p></li>\n<li><p>does each WAR application provide it's own mail jars on WEB-INF/lib, or is the library published at the server level as a JNDI resource such as mentioned <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/jndi-resources-howto.html#JavaMail_Sessions\" rel=\"nofollow\">here</a> on section <em>Install the JavaMail libraries</em></p></li>\n<li><p>Is any of the applications in the server NOT running in the default classloading mode that I mentioned above, and is using delegate = true (meaning it will look on the server first and only then on the WAR) ? <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/loader.html\" rel=\"nofollow\">here</a> is how this would be configured, check for a Resource element in the context.xml or server.xml</p></li>\n</ul>\n\n<p>Some suggestions for possible solutions:</p>\n\n<ol>\n<li><p>Install JavaMail on tomcat 7 as a JNDI resource following the installation instructions <a href=\"http://jhades.org\" rel=\"nofollow\">here</a> on section <em>Install the JavaMail libraries</em>. Have all applications use the JNDI resource as in the tomcat docs, and remove java mail from the standalone library using a shade plugin exclusion. This will always work and it's the most recommended solution.</p></li>\n<li><p>If you are using Java 7, try to use <a href=\"http://jhades.org\" rel=\"nofollow\">JHades</a> to troubleshoot the classpath of the different applications. You can do static analysis on the WARs for duplicate classes, or view what are the versions used at runtime of a given class, and which other versions are available.</p></li>\n<li><p>Since there is no control over the deployment settings of the other applications or their contents, use of JNDI, etc., a solution that will work for sure in all environments and with any application is to refactor the tool so that it does not require mail.jar to be installed on the server.  The tool can write an email request to for example a file or a database table, and another WAR deployed on the server would poll the table file and send the mail.  Or a bash/bat script is called that itself sends the email on a separate java process.</p></li>\n</ol>\n\n<p>Performance analysis tools such as Dynatrace are based on JVM agents and use a similar mechanism that does not need the introduction of libraries at the server level, the agent collects data and sends it to a collecting process that stores it somewhere for further analisys, treatment such as send alarms via emails, etc. </p>\n\n<p>Hope this helps, in general I don't see any way to deploy libraries to a EE server and be sure that they will never cause problems to any application on different server types and different application classloading settings. </p>\n\n<p>The best is probably adapt the tool so that it relies on a minimum of libraries deployed on the server, breaking it up into separate modules with only the collecting module running on the server or look into alternatives such as Dynatrace.</p>\n"},{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665509584,"creation_date":1421860726,"answer_id":28073116,"question_id":19778327,"body_markdown":"Upgrade the JavaMail version included with Tomcat 7 to JavaMail to 1.5.3 which contains the fix for [Bug K6668/E144 -skip unusable Store and Transport classes][1].  You can download the latest snapshot and official releases from the [JavaMail reference implementation][2] home page.\r\n\r\n\r\n  [1]: https://github.com/eclipse-ee4j/mail/issues/144\r\n  [2]: https://eclipse-ee4j.github.io/mail/","title":"multiple versions of javamail jar causing NoSuchProviderException","body":"<p>Upgrade the JavaMail version included with Tomcat 7 to JavaMail to 1.5.3 which contains the fix for <a href=\"https://github.com/eclipse-ee4j/mail/issues/144\" rel=\"nofollow noreferrer\">Bug K6668/E144 -skip unusable Store and Transport classes</a>.  You can download the latest snapshot and official releases from the <a href=\"https://eclipse-ee4j.github.io/mail/\" rel=\"nofollow noreferrer\">JavaMail reference implementation</a> home page.</p>\n"}],"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2959,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19825757,"answer_count":3,"score":2,"last_activity_date":1665509584,"creation_date":1383603458,"question_id":19778327,"body_markdown":"I have a standalone library ( jar file) that is added to the application server classpath to monitor all the running applications in the JVM and send email when some issue happens. \r\n\r\nthe jar file have all the dependencies bundled in the jar (using the maven-shade-plugin) including the javamail jar file.\r\n\r\nWhen one of the other webapplications in the appserver have javamail as a dependency, some dependency conflict happens with the javamail in my jar file and I get an exception \r\n\r\n    MessagingException :javax.mail.NoSuchProviderException: No provider for smtp \r\n\r\nHow can I solve this conflict knowing that I can&#39;t modify the running appplications. I only have control over my jar file.\r\n\r\n**Edit**: \r\n\r\nI debugged through the javamail API. and I found out that the javax.mail.Session construct a new object of type  com.sun.mail.smtp.SMTPTransport using reflection and pass two parameters to the constructor, but rather than using SMTPTransport located in the same jar file it tries to use SMTPTransport from the other mail.jar located in one of the deployed apps.","title":"multiple versions of javamail jar causing NoSuchProviderException","body":"<p>I have a standalone library ( jar file) that is added to the application server classpath to monitor all the running applications in the JVM and send email when some issue happens. </p>\n\n<p>the jar file have all the dependencies bundled in the jar (using the maven-shade-plugin) including the javamail jar file.</p>\n\n<p>When one of the other webapplications in the appserver have javamail as a dependency, some dependency conflict happens with the javamail in my jar file and I get an exception </p>\n\n<pre><code>MessagingException :javax.mail.NoSuchProviderException: No provider for smtp \n</code></pre>\n\n<p>How can I solve this conflict knowing that I can't modify the running appplications. I only have control over my jar file.</p>\n\n<p><strong>Edit</strong>: </p>\n\n<p>I debugged through the javamail API. and I found out that the javax.mail.Session construct a new object of type  com.sun.mail.smtp.SMTPTransport using reflection and pass two parameters to the constructor, but rather than using SMTPTransport located in the same jar file it tries to use SMTPTransport from the other mail.jar located in one of the deployed apps.</p>\n"},{"tags":["java","smtp","jakarta-mail"],"comments":[{"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"score":0,"creation_date":1427108599,"post_id":29208462,"comment_id":46627256,"body_markdown":"Could you at a little bit more implementation and project setup for us. It is really difficult to see what&#39;s happening just out of this stacktrace.","body":"Could you at a little bit more implementation and project setup for us. It is really difficult to see what&#39;s happening just out of this stacktrace."},{"owner":{"account_id":4531730,"reputation":1211,"user_id":3681970,"accept_rate":73,"display_name":"user3681970"},"score":0,"creation_date":1427108858,"post_id":29208462,"comment_id":46627409,"body_markdown":"I have added some more details. Can u please help?","body":"I have added some more details. Can u please help?"},{"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"score":0,"creation_date":1427109276,"post_id":29208462,"comment_id":46627609,"body_markdown":"Obviously there is a version mismatch of your com.sun.mail.smtp.SMTPTransport class. Can you say, which version of mail.jar you are using?","body":"Obviously there is a version mismatch of your com.sun.mail.smtp.SMTPTransport class. Can you say, which version of mail.jar you are using?"},{"owner":{"account_id":4531730,"reputation":1211,"user_id":3681970,"accept_rate":73,"display_name":"user3681970"},"score":0,"creation_date":1427109426,"post_id":29208462,"comment_id":46627682,"body_markdown":"I am using javamail-1.4.7.","body":"I am using javamail-1.4.7."},{"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"score":0,"creation_date":1427109816,"post_id":29208462,"comment_id":46627874,"body_markdown":"Ok, here it is javamail 1.5.2, working without problems... can you look through your classpath and verify that no other mail-implementations are present, so that we can eliminate version conflicts.","body":"Ok, here it is javamail 1.5.2, working without problems... can you look through your classpath and verify that no other mail-implementations are present, so that we can eliminate version conflicts."},{"owner":{"account_id":4531730,"reputation":1211,"user_id":3681970,"accept_rate":73,"display_name":"user3681970"},"score":0,"creation_date":1427110272,"post_id":29208462,"comment_id":46628131,"body_markdown":"Sir in tomcat/lib i have no other mail-implementations. But in aggregator/web-content/web-inf/lib i have mailapi-1.5.2. Aggregator is my project name. Can u please suggest me what should I do?","body":"Sir in tomcat/lib i have no other mail-implementations. But in aggregator/web-content/web-inf/lib i have mailapi-1.5.2. Aggregator is my project name. Can u please suggest me what should I do?"},{"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"score":0,"creation_date":1427110540,"post_id":29208462,"comment_id":46628274,"body_markdown":"So, I have just tested your code here, works perfectly with the following two mailing artifcats com.sun.mail:javax.mail:1.5.2 and javax.mail:javax.mail-api:1.5.2\nAlways keep the api-part and the implementation-part of your mailing artifacts in sync.\nSo either change the mailapi-1.5.2 to mailapi-1.4.7 or update the javamail impl from 1.4.7 to 1.5.2.","body":"So, I have just tested your code here, works perfectly with the following two mailing artifcats com.sun.mail:javax.mail:1.5.2 and javax.mail:javax.mail-api:1.5.2 Always keep the api-part and the implementation-part of your mailing artifacts in sync. So either change the mailapi-1.5.2 to mailapi-1.4.7 or update the javamail impl from 1.4.7 to 1.5.2."},{"owner":{"account_id":4531730,"reputation":1211,"user_id":3681970,"accept_rate":73,"display_name":"user3681970"},"score":0,"creation_date":1427111513,"post_id":29208462,"comment_id":46628834,"body_markdown":"Sir i checked oracle site but could not find the javamail impl 1.5.2. I am a beginner. Can u please give me the link from where can i download javamail impl 1.5.2 ? It will  be of great help.","body":"Sir i checked oracle site but could not find the javamail impl 1.5.2. I am a beginner. Can u please give me the link from where can i download javamail impl 1.5.2 ? It will  be of great help."},{"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"score":0,"creation_date":1427111947,"post_id":29208462,"comment_id":46629076,"body_markdown":"If you are using Maven, use this: http://mvnrepository.com/artifact/com.sun.mail/javax.mail/1.5.2 else you can download it manually here: https://java.net/projects/javamail/pages/Home#Download_JavaMail_1.5.2_Release","body":"If you are using Maven, use this: <a href=\"http://mvnrepository.com/artifact/com.sun.mail/javax.mail/1.5.2\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.sun.mail/javax.mail/1.5.2</a> else you can download it manually here: <a href=\"https://java.net/projects/javamail/pages/Home#Download_JavaMail_1.5.2_Release\" rel=\"nofollow noreferrer\">java.net/projects/javamail/pages/&hellip;</a>"},{"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"score":0,"creation_date":1427112821,"post_id":29208462,"comment_id":46629629,"body_markdown":"I&#39;ve extracted also the answer from our comments thread.","body":"I&#39;ve extracted also the answer from our comments thread."},{"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1427134115,"post_id":29208462,"comment_id":46643659,"body_markdown":"You should also fix all these [common mistakes](http://www.oracle.com/technetwork/java/javamail/faq/index.html#commonmistakes) in your code.","body":"You should also fix all these <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#commonmistakes\" rel=\"nofollow noreferrer\">common mistakes</a> in your code."}],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665509527,"creation_date":1427111113,"answer_id":29209401,"question_id":29208462,"body_markdown":"Read all of the answers in [multiple versions of javamail jar causing NoSuchProviderException][1].\r\n\r\nYou can also modify your code to set the context class loader during send to [fix this issue][2]:\r\n\r\n        Thread t =  Thread.currentThread();\r\n        ClassLoader ccl = t.getContextClassLoader();\r\n        t.setContextClassLoader(session.getClass().getClassLoader());\r\n        try {\r\n            Transport.send(msg);\r\n        } finally {\r\n            t.setContextClassLoader(ccl);\r\n        }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19778327/multiple-versions-of-javamail-jar-causing-nosuchproviderexception\r\n  [2]: https://github.com/eclipse-ee4j/mail/issues/144","title":"error while sending mail using javamail","body":"<p>Read all of the answers in <a href=\"https://stackoverflow.com/questions/19778327/multiple-versions-of-javamail-jar-causing-nosuchproviderexception\">multiple versions of javamail jar causing NoSuchProviderException</a>.</p>\n<p>You can also modify your code to set the context class loader during send to <a href=\"https://github.com/eclipse-ee4j/mail/issues/144\" rel=\"nofollow noreferrer\">fix this issue</a>:</p>\n<pre><code>    Thread t =  Thread.currentThread();\n    ClassLoader ccl = t.getContextClassLoader();\n    t.setContextClassLoader(session.getClass().getClassLoader());\n    try {\n        Transport.send(msg);\n    } finally {\n        t.setContextClassLoader(ccl);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1427112765,"creation_date":1427112765,"answer_id":29209919,"question_id":29208462,"body_markdown":"So, I have just tested your code here, works perfectly with the following two mailing artifcats com.sun.mail:javax.mail:1.5.2 and javax.mail:javax.mail-api:1.5.2 Always keep the api-part and the implementation-part of your mailing artifacts in sync. So either change the mailapi-1.5.2 to mailapi-1.4.7 or update the javamail impl from 1.4.7 to 1.5.2.","title":"error while sending mail using javamail","body":"<p>So, I have just tested your code here, works perfectly with the following two mailing artifcats com.sun.mail:javax.mail:1.5.2 and javax.mail:javax.mail-api:1.5.2 Always keep the api-part and the implementation-part of your mailing artifacts in sync. So either change the mailapi-1.5.2 to mailapi-1.4.7 or update the javamail impl from 1.4.7 to 1.5.2.</p>\n"}],"owner":{"account_id":4531730,"reputation":1211,"user_id":3681970,"accept_rate":73,"display_name":"user3681970"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5552,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29209919,"answer_count":2,"score":4,"last_activity_date":1665509527,"creation_date":1427108098,"question_id":29208462,"body_markdown":"Here is my code for sending the mail\r\n\r\n    package com.markEffy.aggregator.util;\r\n    import com.sun.mail.util.MailSSLSocketFactory;\r\n\r\n    import java.util.Properties;\r\n\r\n    import javax.mail.Message;\r\n     import javax.mail.MessagingException;\r\n      import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n     import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n\r\n     public class EmailAgent {\r\n\r\n\t\t\tprivate static final String SMTP_HOST_NAME = &quot;smtp.zoho.com&quot;;\r\n\t\t\tprivate static final String SMTP_PORT = &quot;465&quot;;\r\n\t\t\tprivate static final String emailFromAddress = &quot;support@jiffie.in&quot;;\r\n\t\t\tprivate static final String SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\r\n\t\t\tprivate String emailMsgTxt;\r\n\t\t\tprivate String emailSubjectTxt;\r\n\t\t\tprivate String[] sendTo = {&quot;&quot;};\r\n\t\t\t\r\n\t\t\tprivate int msgBodyType;\r\n\r\n\t\t\tpublic EmailAgent (String sendToAddr, int msgType) throws Exception {\r\n\t\t\t\tthis.sendTo[0] = new String(sendToAddr);\r\n\t\t\t\tthis.msgBodyType = msgType;\r\n\t\t\t\t}\r\n\t\t\tpublic EmailAgent (String sendToAddr, String emailMsgTxt, String emailSubjectTxt) throws Exception {\r\n\t\t\t\tthis.sendTo[0] = new String(sendToAddr);\r\n\t\t\t\tthis.emailMsgTxt = emailMsgTxt;\r\n\t\t\t\tthis.emailSubjectTxt = emailSubjectTxt;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\tpublic EmailAgent(String[] recipients, int msgType) {\r\n\t\t\t\t// TODO Auto-generated constructor stub\r\n\t\t\t\tthis.sendTo = new String[recipients.length];\r\n\t\t\t\tfor(int i=0;i&lt;recipients.length;i++){\r\n\t\t\t\t\tthis.sendTo[i]=recipients[i];\r\n\t\t\t\t}\r\n\t\t\t\tthis.msgBodyType=msgType;\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tpublic  void sendMail() throws Exception {\r\n\t\t\t\t//System.out.println(&quot;inside send mail&quot;);\r\n\r\n\t\t\t\tMailSSLSocketFactory sf = new MailSSLSocketFactory();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t//Check if valid arguments are passed\r\n\t\t\t\tif ((this.sendTo == null)) {\r\n\t\t\t\t\tSystem.out.println (&quot;Invalid arguments!&quot;);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tint msgType = this.msgBodyType; \r\n\t\t\t\tnew EmailAgent(sendTo, msgType).sendSSLMessage(sendTo, emailSubjectTxt, emailMsgTxt,\r\n\t\t\t            emailFromAddress, sf);\r\n\t\t\t    System.out.println(&quot;Sucessfully Sent mail to All Users&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tpublic void sendSSLMessage(String recipients[], String subject,\r\n\t\t\t        String message, String from , MailSSLSocketFactory sf) throws MessagingException {\r\n\t\t\t    boolean debug = true;\r\n\t\t\t    Properties props = new Properties();\r\n\t\t\t    props.put(&quot;mail.smtp.host&quot;, SMTP_HOST_NAME);\r\n\t\t\t    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\t\t    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\t\t\t    props.put(&quot;mail.smtp.port&quot;, SMTP_PORT);\r\n\t\t\t    props.put(&quot;mail.smtp.socketFactory.port&quot;, SMTP_PORT);\r\n\t\t\t    props.put(&quot;mail.smtp.socketFactory.class&quot;, SSL_FACTORY);\r\n\t\t\t    props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\r\n\t\t\t    Session session = Session.getDefaultInstance(props,\r\n\t\t\t            new javax.mail.Authenticator() \r\n\t\t\t             {\r\n\t\t\t                 protected PasswordAuthentication                   \r\n\r\n\t\t\t              getPasswordAuthentication() {\r\n\t\t\t                    return new   \r\n\t\t\t                 PasswordAuthentication(&quot;support@jiffie.in&quot;, &quot;support@1234$&quot;);\r\n\t\t\t                }\r\n\t\t\t            });\r\n\r\n\t\t\t    session.setDebug(debug);\r\n\r\n\t\t\t    Message msg = new MimeMessage(session);\r\n\t\t\t    InternetAddress addressFrom = new InternetAddress(from);\r\n\t\t\t    msg.setFrom(addressFrom);\r\n\r\n\t\t\t    InternetAddress[] addressTo = new InternetAddress[recipients.length];\r\n\t\t\t    for (int i = 0; i &lt; recipients.length; i++) {\r\n\t\t\t        addressTo[i] = new InternetAddress(recipients[i]);\r\n\t\t\t    }\r\n\t\t\t    msg.setRecipients(Message.RecipientType.TO, addressTo);\r\n\r\n\t\t\t    // Setting the Subject and Content Type\r\n\t\t\t    msg.setSubject(subject);\r\n\t\t\t    msg.setContent(message, &quot;text/plain&quot;);\r\n\r\n\t\t\t    Transport.send(msg);\r\n\t\t   }\r\n\t}\t\t\t\r\n\r\n\r\nI have added `mail.jar` and `activation.jar` in the lib folder of tomcat.I am using eclipse with tomcat 7,jre 7 and struts2.The following console error came while sending mail through Java:\r\n\r\n&lt;pre&gt;\r\nDEBUG: JavaMail version 1.5.2\r\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\r\n     : Tables of loaded providers\r\nDEBUG: Providers Listed By Class Name:     {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\r\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\r\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\nDEBUG: setDebug: JavaMail version 1.5.2\r\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\r\nDEBUG: Exception loading provider, THROW: \r\njava.lang.NoSuchMethodException: com.sun.mail.smtp.SMTPTransport.&lt;init&gt;(javax.mail.Session, javax.mail.URLName)\r\n\tat java.lang.Class.getConstructor0(Unknown Source)\r\n\tat java.lang.Class.getConstructor(Unknown Source)\r\n\tat javax.mail.Session.getService(Session.java:813)\r\n\tat javax.mail.Session.getTransport(Session.java:742)\r\n\tat javax.mail.Session.getTransport(Session.java:682)\r\n\tat javax.mail.Session.getTransport(Session.java:662)\r\n\tat javax.mail.Session.getTransport(Session.java:719)\r\n\tat javax.mail.Transport.send0(Transport.java:248)\r\n\tat javax.mail.Transport.send(Transport.java:124)\r\n\tat com.markEffy.aggregator.util.EmailAgent.sendSSLMessage(EmailAgent.java)\r\n\tat com.markEffy.aggregator.util.EmailAgent.sendMail(EmailAgent.java)\r\n\tat com.markEffy.aggregator.web.RetrievePasswordAction.sendPasswordToEmail(RetrievePasswordAction.java)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:450)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:289)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)\r\n\tat org.apache.struts2.interceptor.DeprecationInterceptor.intercept(DeprecationInterceptor.java:41)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\r\n\tat org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:254)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:254)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:139)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\r\n\tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:562)\r\n\tat org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\r\n\tat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:315)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\n&lt;/pre&gt;","title":"error while sending mail using javamail","body":"<p>Here is my code for sending the mail</p>\n\n<pre><code>package com.markEffy.aggregator.util;\nimport com.sun.mail.util.MailSSLSocketFactory;\n\nimport java.util.Properties;\n\nimport javax.mail.Message;\n import javax.mail.MessagingException;\n  import javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\n import javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\n public class EmailAgent {\n\n        private static final String SMTP_HOST_NAME = \"smtp.zoho.com\";\n        private static final String SMTP_PORT = \"465\";\n        private static final String emailFromAddress = \"support@jiffie.in\";\n        private static final String SSL_FACTORY = \"javax.net.ssl.SSLSocketFactory\";\n        private String emailMsgTxt;\n        private String emailSubjectTxt;\n        private String[] sendTo = {\"\"};\n\n        private int msgBodyType;\n\n        public EmailAgent (String sendToAddr, int msgType) throws Exception {\n            this.sendTo[0] = new String(sendToAddr);\n            this.msgBodyType = msgType;\n            }\n        public EmailAgent (String sendToAddr, String emailMsgTxt, String emailSubjectTxt) throws Exception {\n            this.sendTo[0] = new String(sendToAddr);\n            this.emailMsgTxt = emailMsgTxt;\n            this.emailSubjectTxt = emailSubjectTxt;\n            }\n\n        public EmailAgent(String[] recipients, int msgType) {\n            // TODO Auto-generated constructor stub\n            this.sendTo = new String[recipients.length];\n            for(int i=0;i&lt;recipients.length;i++){\n                this.sendTo[i]=recipients[i];\n            }\n            this.msgBodyType=msgType;\n\n        }\n\n        public  void sendMail() throws Exception {\n            //System.out.println(\"inside send mail\");\n\n            MailSSLSocketFactory sf = new MailSSLSocketFactory();\n\n            //Check if valid arguments are passed\n            if ((this.sendTo == null)) {\n                System.out.println (\"Invalid arguments!\");\n                return;\n            }\n\n            int msgType = this.msgBodyType; \n            new EmailAgent(sendTo, msgType).sendSSLMessage(sendTo, emailSubjectTxt, emailMsgTxt,\n                    emailFromAddress, sf);\n            System.out.println(\"Sucessfully Sent mail to All Users\");\n        }\n\n        public void sendSSLMessage(String recipients[], String subject,\n                String message, String from , MailSSLSocketFactory sf) throws MessagingException {\n            boolean debug = true;\n            Properties props = new Properties();\n            props.put(\"mail.smtp.host\", SMTP_HOST_NAME);\n            props.put(\"mail.smtp.auth\", \"true\");\n            props.put(\"mail.debug\", \"true\");\n            props.put(\"mail.smtp.port\", SMTP_PORT);\n            props.put(\"mail.smtp.socketFactory.port\", SMTP_PORT);\n            props.put(\"mail.smtp.socketFactory.class\", SSL_FACTORY);\n            props.put(\"mail.smtp.socketFactory.fallback\", \"false\");\n\n            Session session = Session.getDefaultInstance(props,\n                    new javax.mail.Authenticator() \n                     {\n                         protected PasswordAuthentication                   \n\n                      getPasswordAuthentication() {\n                            return new   \n                         PasswordAuthentication(\"support@jiffie.in\", \"support@1234$\");\n                        }\n                    });\n\n            session.setDebug(debug);\n\n            Message msg = new MimeMessage(session);\n            InternetAddress addressFrom = new InternetAddress(from);\n            msg.setFrom(addressFrom);\n\n            InternetAddress[] addressTo = new InternetAddress[recipients.length];\n            for (int i = 0; i &lt; recipients.length; i++) {\n                addressTo[i] = new InternetAddress(recipients[i]);\n            }\n            msg.setRecipients(Message.RecipientType.TO, addressTo);\n\n            // Setting the Subject and Content Type\n            msg.setSubject(subject);\n            msg.setContent(message, \"text/plain\");\n\n            Transport.send(msg);\n       }\n}           \n</code></pre>\n\n<p>I have added <code>mail.jar</code> and <code>activation.jar</code> in the lib folder of tomcat.I am using eclipse with tomcat 7,jre 7 and struts2.The following console error came while sending mail through Java:</p>\n\n<pre>\nDEBUG: JavaMail version 1.5.2\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\n     : Tables of loaded providers\nDEBUG: Providers Listed By Class Name:     {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\nDEBUG: setDebug: JavaMail version 1.5.2\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nDEBUG: Exception loading provider, THROW: \njava.lang.NoSuchMethodException: com.sun.mail.smtp.SMTPTransport.(javax.mail.Session, javax.mail.URLName)\n    at java.lang.Class.getConstructor0(Unknown Source)\n    at java.lang.Class.getConstructor(Unknown Source)\n    at javax.mail.Session.getService(Session.java:813)\n    at javax.mail.Session.getTransport(Session.java:742)\n    at javax.mail.Session.getTransport(Session.java:682)\n    at javax.mail.Session.getTransport(Session.java:662)\n    at javax.mail.Session.getTransport(Session.java:719)\n    at javax.mail.Transport.send0(Transport.java:248)\n    at javax.mail.Transport.send(Transport.java:124)\n    at com.markEffy.aggregator.util.EmailAgent.sendSSLMessage(EmailAgent.java)\n    at com.markEffy.aggregator.util.EmailAgent.sendMail(EmailAgent.java)\n    at com.markEffy.aggregator.web.RetrievePasswordAction.sendPasswordToEmail(RetrievePasswordAction.java)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:450)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:289)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)\n    at org.apache.struts2.interceptor.DeprecationInterceptor.intercept(DeprecationInterceptor.java:41)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\n    at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:254)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:254)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:139)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:562)\n    at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\n    at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:315)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n\n</pre>\n"},{"tags":["java","testing","junit","compiler-errors","package"],"comments":[{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":0,"creation_date":1259368352,"post_id":1811103,"comment_id":1700120,"body_markdown":"tell us how your class is declared. Looks to me as if you&#39;ve inherited from JUnit3 and then tried to statically import from JUnit4.","body":"tell us how your class is declared. Looks to me as if you&#39;ve inherited from JUnit3 and then tried to statically import from JUnit4."},{"owner":{"account_id":49568,"reputation":119884,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"score":0,"creation_date":1259368732,"post_id":1811103,"comment_id":1700136,"body_markdown":"yeah, actually, I had JUnit3 in package A, and used JUnit4 in package B, where I originally wrote these tests. Then I switched from Package B to Package A, and the problem arose. But I don&#39;t see anything in this class that would indicate JUnit 3. Where is that declared?","body":"yeah, actually, I had JUnit3 in package A, and used JUnit4 in package B, where I originally wrote these tests. Then I switched from Package B to Package A, and the problem arose. But I don&#39;t see anything in this class that would indicate JUnit 3. Where is that declared?"}],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":224,"is_accepted":true,"score":224,"last_activity_date":1386755158,"creation_date":1259369175,"answer_id":1811168,"question_id":1811103,"body_markdown":"The method assertEquals(Object, Object) is ambiguous for the type ...\r\n\r\nWhat this error means is that you&#39;re passing a `double` and and `Double` into a method that has two different signatures: [`assertEquals(Object, Object)`][1] and [`assertEquals(double, double)`][2] both of which could be called, thanks to autoboxing.\r\n\r\nTo avoid the ambiguity, make sure that you either call [`assertEquals(Object, Object)`][3] (by passing two Doubles) or [`assertEquals(double, double)`][4] (by passing two doubles). \r\n\r\nSo, in your case, you should use:\r\n\r\n    assertEquals(Double.valueOf(70), eccen.get(&quot;alpha&quot;));\r\n\r\nOr:\r\n\r\n    assertEquals(70.0d, eccen.get(&quot;alpha&quot;).doubleValue());\r\n\r\n\r\n  [1]: http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28java.lang.Object,%20java.lang.Object%29\r\n  [2]: http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28double,%20double%29\r\n  [3]: http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28java.lang.Object,%20java.lang.Object%29\r\n  [4]: http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28double,%20double%29","title":"Java JUnit: The method X is ambiguous for type Y","body":"<p>The method assertEquals(Object, Object) is ambiguous for the type ...</p>\n\n<p>What this error means is that you're passing a <code>double</code> and and <code>Double</code> into a method that has two different signatures: <a href=\"http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28java.lang.Object,%20java.lang.Object%29\" rel=\"noreferrer\"><code>assertEquals(Object, Object)</code></a> and <a href=\"http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28double,%20double%29\" rel=\"noreferrer\"><code>assertEquals(double, double)</code></a> both of which could be called, thanks to autoboxing.</p>\n\n<p>To avoid the ambiguity, make sure that you either call <a href=\"http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28java.lang.Object,%20java.lang.Object%29\" rel=\"noreferrer\"><code>assertEquals(Object, Object)</code></a> (by passing two Doubles) or <a href=\"http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28double,%20double%29\" rel=\"noreferrer\"><code>assertEquals(double, double)</code></a> (by passing two doubles). </p>\n\n<p>So, in your case, you should use:</p>\n\n<pre><code>assertEquals(Double.valueOf(70), eccen.get(\"alpha\"));\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>assertEquals(70.0d, eccen.get(\"alpha\").doubleValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1018882,"reputation":2472,"user_id":1029825,"accept_rate":91,"display_name":"Paolo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493111286,"creation_date":1493111286,"answer_id":43606249,"question_id":1811103,"body_markdown":"You can use the method\r\n\r\n    assertEquals(double expected, double actual, double delta)\r\n\r\nWhich will take into account rounding error that are hinerent to floating point (see [this post][1] for example). You can write\r\n\r\n    assertEquals(70, eccen.get(&quot;alpha&quot;), 0.0001);\r\n\r\nThis mean that as long as the two values differ for less than 0.0001 they are considered to be equals. This has two advantages:\r\n\r\n - Compares floating point values as they are supposed to\r\n - No need to cast, as the three argument assert only applyes to doubles, not to generic Objects\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25160375/comparing-double-values-for-equality-in-java","title":"Java JUnit: The method X is ambiguous for type Y","body":"<p>You can use the method</p>\n\n<pre><code>assertEquals(double expected, double actual, double delta)\n</code></pre>\n\n<p>Which will take into account rounding error that are hinerent to floating point (see <a href=\"https://stackoverflow.com/questions/25160375/comparing-double-values-for-equality-in-java\">this post</a> for example). You can write</p>\n\n<pre><code>assertEquals(70, eccen.get(\"alpha\"), 0.0001);\n</code></pre>\n\n<p>This mean that as long as the two values differ for less than 0.0001 they are considered to be equals. This has two advantages:</p>\n\n<ul>\n<li>Compares floating point values as they are supposed to</li>\n<li>No need to cast, as the three argument assert only applyes to doubles, not to generic Objects</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1521324165,"creation_date":1521323631,"answer_id":49342278,"question_id":1811103,"body_markdown":"The simplest solution to this problem is just cast the second parameter into a primitive:\r\n\r\n    assertEquals(70, (double)eccen.get(&quot;alpha&quot;));\r\n\r\nAmbiguity removed.\r\n\r\nThis is valid for any of the Number subclasses, for example:\r\n\r\n    assertEquals(70, (int)new Integer(70));\r\n\r\nWould solve an ambiguity too.\r\n\r\nHowever, assertEquals(double, double) is deprecated as of now and for good reasons, so I encourage you to use the method with a delta as others have suggested already. \r\n\r\nBy good reasons I mean that, given the inner representation of double numbers, two apparently equal double numbers can differ in an irrelevant infinitesimal fraction and wouldn&#39;t pass a test, but that doesn&#39;t mean that there&#39;s anything wrong with your code.\r\n","title":"Java JUnit: The method X is ambiguous for type Y","body":"<p>The simplest solution to this problem is just cast the second parameter into a primitive:</p>\n\n<pre><code>assertEquals(70, (double)eccen.get(\"alpha\"));\n</code></pre>\n\n<p>Ambiguity removed.</p>\n\n<p>This is valid for any of the Number subclasses, for example:</p>\n\n<pre><code>assertEquals(70, (int)new Integer(70));\n</code></pre>\n\n<p>Would solve an ambiguity too.</p>\n\n<p>However, assertEquals(double, double) is deprecated as of now and for good reasons, so I encourage you to use the method with a delta as others have suggested already. </p>\n\n<p>By good reasons I mean that, given the inner representation of double numbers, two apparently equal double numbers can differ in an irrelevant infinitesimal fraction and wouldn't pass a test, but that doesn't mean that there's anything wrong with your code.</p>\n"}],"owner":{"account_id":49568,"reputation":119884,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119598,"favorite_count":0,"down_vote_count":0,"up_vote_count":108,"accepted_answer_id":1811168,"answer_count":3,"score":108,"last_activity_date":1665509482,"creation_date":1259367668,"question_id":1811103,"body_markdown":"I had some tests working fine. Then, I moved it to a different package, and am now getting errors. Here is the code:\r\n\r\n    import static org.junit.Assert.*;\r\n    import java.util.HashSet;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    import org.jgrapht.Graphs;\r\n    import org.jgrapht.WeightedGraph;\r\n    import org.jgrapht.graph.DefaultWeightedEdge;\r\n    import org.jgrapht.graph.SimpleWeightedGraph;\r\n    import org.junit.*;\t\r\n    \r\n    @Test\r\n    \tpublic void testEccentricity() {\r\n    \t\tWeightedGraph&lt;String, DefaultWeightedEdge&gt; g = generateSimpleCaseGraph();\r\n    \t\tMap&lt;String, Double&gt; eccen = JGraphtUtilities.eccentricities(g);\r\n    \t\t\r\n    \t\tassertEquals(70, eccen.get(&quot;alpha&quot;));\r\n    \t\tassertEquals(80, eccen.get(&quot;l&quot;));\r\n    \t\tassertEquals(130, eccen.get(&quot;l-0&quot;));\r\n    \t\tassertEquals(100, eccen.get(&quot;l-1&quot;));\r\n    \t\tassertEquals(90, eccen.get(&quot;r&quot;));\r\n    \t\tassertEquals(120, eccen.get(&quot;r-0&quot;));\r\n    \t\tassertEquals(130, eccen.get(&quot;r-1&quot;));\r\n    \t}\r\n\r\nThe error message is this:\r\n\r\n**The method assertEquals(Object, Object) is ambiguous for the type JGraphtUtilitiesTest**\r\n\r\nHow can I fix this? Why did this problem occur as I moved the class to a different package?","title":"Java JUnit: The method X is ambiguous for type Y","body":"<p>I had some tests working fine. Then, I moved it to a different package, and am now getting errors. Here is the code:</p>\n\n<pre><code>import static org.junit.Assert.*;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\n\nimport org.jgrapht.Graphs;\nimport org.jgrapht.WeightedGraph;\nimport org.jgrapht.graph.DefaultWeightedEdge;\nimport org.jgrapht.graph.SimpleWeightedGraph;\nimport org.junit.*; \n\n@Test\n    public void testEccentricity() {\n        WeightedGraph&lt;String, DefaultWeightedEdge&gt; g = generateSimpleCaseGraph();\n        Map&lt;String, Double&gt; eccen = JGraphtUtilities.eccentricities(g);\n\n        assertEquals(70, eccen.get(\"alpha\"));\n        assertEquals(80, eccen.get(\"l\"));\n        assertEquals(130, eccen.get(\"l-0\"));\n        assertEquals(100, eccen.get(\"l-1\"));\n        assertEquals(90, eccen.get(\"r\"));\n        assertEquals(120, eccen.get(\"r-0\"));\n        assertEquals(130, eccen.get(\"r-1\"));\n    }\n</code></pre>\n\n<p>The error message is this:</p>\n\n<p><strong>The method assertEquals(Object, Object) is ambiguous for the type JGraphtUtilitiesTest</strong></p>\n\n<p>How can I fix this? Why did this problem occur as I moved the class to a different package?</p>\n"},{"tags":["java","synchronous"],"comments":[{"owner":{"account_id":2063361,"reputation":31419,"user_id":1839439,"accept_rate":98,"display_name":"Dharman"},"score":0,"creation_date":1611711172,"post_id":65910027,"comment_id":116537554,"body_markdown":"Please post the solution as an answer. We do not allow the solution to be edited into the question body.","body":"Please post the solution as an answer. We do not allow the solution to be edited into the question body."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1611761687,"post_id":65910027,"comment_id":116555593,"body_markdown":"Changing your question makes all of the answers wrong.  It defeats the whole purpose of Stack Overflow, which is a Q/A site.  Please don&#39;t do this in the future.","body":"Changing your question makes all of the answers wrong.  It defeats the whole purpose of Stack Overflow, which is a Q/A site.  Please don&#39;t do this in the future."}],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665509461,"creation_date":1611701496,"answer_id":65910424,"question_id":65910027,"body_markdown":"If we forgot the fact the `running` is not initialized to `true` (which was updated in question), that is a normal behavior from what I&#39;m reading and from what you observe:\r\n\r\n&gt; The result I expected was:\r\n&gt; \r\n&gt;     running! (many times)\r\n&gt;     cleanup!\r\n&gt; \r\n&gt; **but when I ran it I got:**\r\n&gt; \r\n&gt;     running! (many times)\r\n&gt; \r\n&gt; **and it didn&#39;t stop.**\r\n\r\n\r\n- The Thread you start is **owning** the lock. \r\n- The main thread (calling your `Thread`) is made dormant until the other thread release its lock. From the [javadoc][1] of lock(): *If the lock is held by another thread then the current thread becomes disabled for thread scheduling purposes and lies dormant until the lock has been acquired, at which time the lock hold count is set to one.*\r\n- Because the main thread is in dormant step, the cleanup method is never called and `running` is never set to false.\r\n\r\nI can say it is blocked because you observed that `cleanup` was never output. If the main thread acquired the lock, cleanup would be output, and because the lock is before the loop condition, the `running!` would not be output.\r\n\r\nThis is from your observation, however, it is true that either thread may acquire lock before the other.\r\n\r\nAs I don&#39;t know what you try to achieve, I can only tell that you should have an exit condition in your loop... And you may change exit condition from external thread (with synchronization) only if you don&#39;t block it.\r\n\r\nBeside, you should lock using try/finally, especially if operation can fail since it may block indefinitely by keeping a lock that should not be kept:\r\n\r\n      lock.lock();\r\n      try {\r\n        ...\r\n      } finally {\r\n        lock.unlock(); \r\n      }\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html#lock()","title":"java variable change not applied during synchronous processing","body":"<p>If we forgot the fact the <code>running</code> is not initialized to <code>true</code> (which was updated in question), that is a normal behavior from what I'm reading and from what you observe:</p>\n<blockquote>\n<p>The result I expected was:</p>\n<pre><code>running! (many times)\ncleanup!\n</code></pre>\n<p><strong>but when I ran it I got:</strong></p>\n<pre><code>running! (many times)\n</code></pre>\n<p><strong>and it didn't stop.</strong></p>\n</blockquote>\n<ul>\n<li>The Thread you start is <strong>owning</strong> the lock.</li>\n<li>The main thread (calling your <code>Thread</code>) is made dormant until the other thread release its lock. From the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html#lock()\" rel=\"nofollow noreferrer\">javadoc</a> of lock(): <em>If the lock is held by another thread then the current thread becomes disabled for thread scheduling purposes and lies dormant until the lock has been acquired, at which time the lock hold count is set to one.</em></li>\n<li>Because the main thread is in dormant step, the cleanup method is never called and <code>running</code> is never set to false.</li>\n</ul>\n<p>I can say it is blocked because you observed that <code>cleanup</code> was never output. If the main thread acquired the lock, cleanup would be output, and because the lock is before the loop condition, the <code>running!</code> would not be output.</p>\n<p>This is from your observation, however, it is true that either thread may acquire lock before the other.</p>\n<p>As I don't know what you try to achieve, I can only tell that you should have an exit condition in your loop... And you may change exit condition from external thread (with synchronization) only if you don't block it.</p>\n<p>Beside, you should lock using try/finally, especially if operation can fail since it may block indefinitely by keeping a lock that should not be kept:</p>\n<pre><code>  lock.lock();\n  try {\n    ...\n  } finally {\n    lock.unlock(); \n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1611702434,"creation_date":1611702434,"answer_id":65910577,"question_id":65910027,"body_markdown":"It keeps running because there is nothing to tell the started thread that the main thread changed the variable. The change by the main thread isn’t visible to the other thread. \r\n\r\n The reason it works when you add println because both threads are using and synchronizing on the console print writer, introducing a happens-before relationship that makes the variable update visible. \r\n\r\nYou can make the running variable volatile and that will make the change visible without the println. ","title":"java variable change not applied during synchronous processing","body":"<p>It keeps running because there is nothing to tell the started thread that the main thread changed the variable. The change by the main thread isn’t visible to the other thread.</p>\n<p>The reason it works when you add println because both threads are using and synchronizing on the console print writer, introducing a happens-before relationship that makes the variable update visible.</p>\n<p>You can make the running variable volatile and that will make the change visible without the println.</p>\n"}],"owner":{"account_id":19099392,"reputation":19,"user_id":13947988,"display_name":"hanzi programmer KR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":65910577,"answer_count":2,"score":0,"last_activity_date":1665509461,"creation_date":1611699134,"question_id":65910027,"body_markdown":"    import java.util.concurrent.locks.Lock;\r\n    import java.util.concurrent.locks.ReentrantLock;\r\n    \r\n    public class Test extends Thread {\r\n        private boolean running;\r\n        private Lock cleanupLock;\r\n        \r\n        @Override\r\n        public void run() {\r\n            cleanupLock.lock();\r\n            while (running) {\r\n                System.out.println(&quot;running!&quot;);\r\n            }\r\n            cleanupLock.unlock();\r\n        }\r\n\r\n        private void cleanup() {\r\n            running = false;\r\n            cleanupLock.lock(); //wait for thread\r\n            System.out.println(&quot;cleanup!&quot;);\r\n        }\r\n\r\n        public Test() {\r\n             running = true;\r\n             cleanupLock = new ReentrantLock();\r\n             this.start();\r\n             cleanup();\r\n        }\r\n\r\n        public static void main(String argv[]) {\r\n            new Test();\r\n        }\r\n    }\r\n\r\nI wrote the code as above.\r\n\r\nThe result I expected was:\r\n\r\n&gt; running! (many times) &lt;br&gt;\r\n&gt; cleanup!\r\n\r\nbut when I ran it I got:\r\n\r\n&gt; running! (many times)\r\n\r\nand it didn&#39;t stop.\r\n\r\nSo, I added `System.out.println(running);` to the while statement.\r\n\r\nIt was printed as expected.\r\n\r\nWonder why this is happening.\r\nCurious how to fix it.\r\n","title":"java variable change not applied during synchronous processing","body":"<pre><code>import java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class Test extends Thread {\n    private boolean running;\n    private Lock cleanupLock;\n    \n    @Override\n    public void run() {\n        cleanupLock.lock();\n        while (running) {\n            System.out.println(&quot;running!&quot;);\n        }\n        cleanupLock.unlock();\n    }\n\n    private void cleanup() {\n        running = false;\n        cleanupLock.lock(); //wait for thread\n        System.out.println(&quot;cleanup!&quot;);\n    }\n\n    public Test() {\n         running = true;\n         cleanupLock = new ReentrantLock();\n         this.start();\n         cleanup();\n    }\n\n    public static void main(String argv[]) {\n        new Test();\n    }\n}\n</code></pre>\n<p>I wrote the code as above.</p>\n<p>The result I expected was:</p>\n<blockquote>\n<p>running! (many times) <br>\ncleanup!</p>\n</blockquote>\n<p>but when I ran it I got:</p>\n<blockquote>\n<p>running! (many times)</p>\n</blockquote>\n<p>and it didn't stop.</p>\n<p>So, I added <code>System.out.println(running);</code> to the while statement.</p>\n<p>It was printed as expected.</p>\n<p>Wonder why this is happening.\nCurious how to fix it.</p>\n"},{"tags":["java","xml","xslt","saxon"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1665501471,"post_id":74030368,"comment_id":130712899,"body_markdown":"Please show us the minimal but complete XSLT as well, that produces that result.","body":"Please show us the minimal but complete XSLT as well, that produces that result."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1665511129,"post_id":74030368,"comment_id":130716250,"body_markdown":"Consider to add a minimal but complete stylesheet the produces the output you showed. I don&#39;t see how XSLT code doing two explicit `xsl:element`, one with e.g. `name=&quot;{MsgStr}message&quot;`, the other with e.g. `name=&quot;Tag1&quot;` can ever produce a result element named `Tag0`.","body":"Consider to add a minimal but complete stylesheet the produces the output you showed. I don&#39;t see how XSLT code doing two explicit <code>xsl:element</code>, one with e.g. <code>name=&quot;{MsgStr}message&quot;</code>, the other with e.g. <code>name=&quot;Tag1&quot;</code> can ever produce a result element named <code>Tag0</code>."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665509321,"creation_date":1665509321,"answer_id":74031945,"question_id":74030368,"body_markdown":"This is very strange behaviour, and it&#39;s not really possible to investigate it without a complete repro. Your example is clearly incomplete: the stylesheet contains undeclared variables, etc. I suspect a Saxon bug, if only a failure to detect and report something you are doing wrong. Please try to put together a repro (that is, everything needed for someone else to reproduce the effect) and post it at saxonica.plan.io.","title":"XML Parser skips end tag after Saxon upgrade from 10.6 to 11.3","body":"<p>This is very strange behaviour, and it's not really possible to investigate it without a complete repro. Your example is clearly incomplete: the stylesheet contains undeclared variables, etc. I suspect a Saxon bug, if only a failure to detect and report something you are doing wrong. Please try to put together a repro (that is, everything needed for someone else to reproduce the effect) and post it at saxonica.plan.io.</p>\n"}],"owner":{"account_id":26591487,"reputation":1,"user_id":20214642,"display_name":"Khyros12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665509321,"creation_date":1665501201,"question_id":74030368,"body_markdown":"I use xslt-saxon to transform xml file. XML parser works complitly fine on Saxon 10.6 but after upgrade to Saxon-HE 11.4 it skips closing tags and read another tags as input. It only occurs if there are only spaces in between tag. If there is any letters or nothing it works fine.\r\n\r\n    &lt;Tag0&gt;\r\n      &lt;Tag1&gt;sample1&lt;/Tag1&gt;\r\n      &lt;Tag2&gt;  &lt;/Tag2&gt;\r\n      &lt;Tag3&gt;sample2&lt;/Tag3&gt;\r\n    &lt;/Tag0&gt;\r\n\r\nends as\r\n\r\n    &lt;Tag0 Tag1=&quot;sample1&quot;\r\n    Tag2=&quot;   &amp;lt;Tag2&gt;&amp;#xa;  &amp;lt;Tag3&gt;sample2&amp;lt;/Tag2&gt;&amp;#xa;&quot;/&gt;\r\n\r\n\r\nxslt file looks like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xsl:stylesheet \r\n        version=&quot;3.0&quot;\r\n        xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; \r\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n        xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot; \r\n        &gt;\r\n       \r\n    \t&lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\r\n    \r\n    \t&lt;xsl:template match=&quot;/&quot;&gt;\r\n    \t\t&lt;xsl:element name=&quot;{MsgStr}message&quot; namespace=&quot;{$msgNamespace}&quot;&gt;\r\n    \t\t\t&lt;xsl:element name=&quot;Tag1&quot;  namespace=&quot;{$Namespace}&quot;&gt;\r\n    \t\t\t\t&lt;xsl:attribute name=&quot;Tag2&quot;&gt;&lt;xsl:value-of select=&quot;*:Tag2&quot;/&gt;&lt;/xsl:attribute&gt;\r\n    \t\t\t\t&lt;xsl:attribute name=&quot;Tag3&quot;&gt;&lt;xsl:value-of select=&quot;*:Tag3&quot;/&gt;&lt;/xsl:attribute&gt;\r\n    \t\t\t&lt;/xsl:element&gt;\r\n    \t\t&lt;/xsl:element&gt;\r\n    \t&lt;/xsl:template&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nI tried put *:Tag2/text() but without any results. \r\n","title":"XML Parser skips end tag after Saxon upgrade from 10.6 to 11.3","body":"<p>I use xslt-saxon to transform xml file. XML parser works complitly fine on Saxon 10.6 but after upgrade to Saxon-HE 11.4 it skips closing tags and read another tags as input. It only occurs if there are only spaces in between tag. If there is any letters or nothing it works fine.</p>\n<pre><code>&lt;Tag0&gt;\n  &lt;Tag1&gt;sample1&lt;/Tag1&gt;\n  &lt;Tag2&gt;  &lt;/Tag2&gt;\n  &lt;Tag3&gt;sample2&lt;/Tag3&gt;\n&lt;/Tag0&gt;\n</code></pre>\n<p>ends as</p>\n<pre><code>&lt;Tag0 Tag1=&quot;sample1&quot;\nTag2=&quot;   &amp;lt;Tag2&gt;&amp;#xa;  &amp;lt;Tag3&gt;sample2&amp;lt;/Tag2&gt;&amp;#xa;&quot;/&gt;\n</code></pre>\n<p>xslt file looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet \n    version=&quot;3.0&quot;\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; \n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot; \n    &gt;\n   \n    &lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\n\n    &lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;xsl:element name=&quot;{MsgStr}message&quot; namespace=&quot;{$msgNamespace}&quot;&gt;\n            &lt;xsl:element name=&quot;Tag1&quot;  namespace=&quot;{$Namespace}&quot;&gt;\n                &lt;xsl:attribute name=&quot;Tag2&quot;&gt;&lt;xsl:value-of select=&quot;*:Tag2&quot;/&gt;&lt;/xsl:attribute&gt;\n                &lt;xsl:attribute name=&quot;Tag3&quot;&gt;&lt;xsl:value-of select=&quot;*:Tag3&quot;/&gt;&lt;/xsl:attribute&gt;\n            &lt;/xsl:element&gt;\n        &lt;/xsl:element&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>I tried put *:Tag2/text() but without any results.</p>\n"},{"tags":["java","gradle","build","build.gradle","maven-repository"],"answers":[{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665509280,"creation_date":1659504016,"answer_id":73216583,"question_id":73204036,"body_markdown":"Try this, add a flag like ```localRepo``` to your ```gradle.properties``` when you build locally, then you can use an ```if``` statement for your ```repositories``` block, see below as an example:\r\n```groovy\r\nrepositories {\r\n    mavenCentral()\r\n    if( project.hasProperty(&#39;localRepo&#39;) ) {\r\n        maven { url = uri(&quot;${project.getRootDir()}/local_repo&quot;) }\r\n    } else {\r\n        maven { url = uri(&lt;customer_repo&gt;) }\r\n    }\r\n}\r\n```\r\n\r\nThis ensures project is portable between systems","title":"How to substitute a locally unavailable repository in Gradle?","body":"<p>Try this, add a flag like <code>localRepo</code> to your <code>gradle.properties</code> when you build locally, then you can use an <code>if</code> statement for your <code>repositories</code> block, see below as an example:</p>\n<pre><code>repositories {\n    mavenCentral()\n    if( project.hasProperty('localRepo') ) {\n        maven { url = uri(&quot;${project.getRootDir()}/local_repo&quot;) }\n    } else {\n        maven { url = uri(&lt;customer_repo&gt;) }\n    }\n}\n</code></pre>\n<p>This ensures project is portable between systems</p>\n"}],"owner":{"account_id":25909308,"reputation":3,"user_id":19633868,"display_name":"Tim Rehrmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73216583,"answer_count":1,"score":0,"last_activity_date":1665509291,"creation_date":1659427776,"question_id":73204036,"body_markdown":"For a project I need to get a JAR from a repository that is only available on customers network. As this isn&#39;t available on public repositories and I locally don&#39;t have access to the customers network, I want to substitute this repository locally.\r\n\r\nI copied the jar into a local repository and declared it with:\r\n```\r\nmaven {\r\n    url = uri(&quot;${project.getRootDir()}/local_repo&quot;)\r\n}\r\n```\r\n\r\nThat works fine, however I want to keep the build files and logic the same regardless if I run it locally or on the customers system.\r\n\r\nAccording to [Gradle Docs][1] repositories get called in the order they are declared.\r\nSo according to this logic I first declare MavenCentral, then the customers repository (that is unavailable locally) and then my own local substitute repository:\r\n```\r\nmavenCentral()\r\nmaven {\r\n    url = uri(&lt;customer_repo&gt;)\r\n}\r\nmaven {\r\n    url = uri(&quot;${project.getRootDir()}/local_repo&quot;)\r\n}\r\n```\r\n\r\nBut it seems now gradle stops when it can&#39;t reach the unavailable repo and therefore doesn&#39;t find the JAR in the local repo.\r\nIf I turn around the local and the unavailable repo, it works again, but this way it always uses the local repo even on the customer system according to the gradle docs.\r\n\r\nIs there a way to tell gradle to keep looking at the other repos even if one is unavailable, or is there a different way to substitute an unavailable repo?\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:declaring_multiple_repositories","title":"How to substitute a locally unavailable repository in Gradle?","body":"<p>For a project I need to get a JAR from a repository that is only available on customers network. As this isn't available on public repositories and I locally don't have access to the customers network, I want to substitute this repository locally.</p>\n<p>I copied the jar into a local repository and declared it with:</p>\n<pre><code>maven {\n    url = uri(&quot;${project.getRootDir()}/local_repo&quot;)\n}\n</code></pre>\n<p>That works fine, however I want to keep the build files and logic the same regardless if I run it locally or on the customers system.</p>\n<p>According to <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:declaring_multiple_repositories\" rel=\"nofollow noreferrer\">Gradle Docs</a> repositories get called in the order they are declared.\nSo according to this logic I first declare MavenCentral, then the customers repository (that is unavailable locally) and then my own local substitute repository:</p>\n<pre><code>mavenCentral()\nmaven {\n    url = uri(&lt;customer_repo&gt;)\n}\nmaven {\n    url = uri(&quot;${project.getRootDir()}/local_repo&quot;)\n}\n</code></pre>\n<p>But it seems now gradle stops when it can't reach the unavailable repo and therefore doesn't find the JAR in the local repo.\nIf I turn around the local and the unavailable repo, it works again, but this way it always uses the local repo even on the customer system according to the gradle docs.</p>\n<p>Is there a way to tell gradle to keep looking at the other repos even if one is unavailable, or is there a different way to substitute an unavailable repo?</p>\n"},{"tags":["java","android","opencv","opencl","tensorflow-lite"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1652636789,"post_id":72250340,"comment_id":127648687,"body_markdown":"The [Infinix Hot 8 lite](https://www.gsmarena.com/infinix_hot_8_lite-9927.php) appears to be an Android Go edition phone which may not have all of the features of regular Android due to smaller amount of RAM. See: [Does Android support OpenCL?](https://stackoverflow.com/q/26795921/295004)","body":"The <a href=\"https://www.gsmarena.com/infinix_hot_8_lite-9927.php\" rel=\"nofollow noreferrer\">Infinix Hot 8 lite</a> appears to be an Android Go edition phone which may not have all of the features of regular Android due to smaller amount of RAM. See: <a href=\"https://stackoverflow.com/q/26795921/295004\">Does Android support OpenCL?</a>"}],"owner":{"account_id":25297100,"reputation":21,"user_id":19122054,"display_name":"HarisTrynnaBeDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665509285,"creation_date":1652633650,"question_id":72250340,"body_markdown":"I am very new to Android ,I am making CV application which uses tensorflow lite &#39;GpuDelegate&#39;.\r\nit works perfectly fine on Redmi 8A cause device supported OpenCl while when i installed in  Infinix Hot 8 lite , it crashes with this error.\r\n\r\n&gt; java.lang.IllegalArgumentException: Internal error: Failed to apply\r\n&gt; delegate: Can not open OpenCL library on this device - dlopen failed:\r\n&gt; library &quot;libOpenCL.so&quot; not found\r\n&gt;     Falling back to OpenGL\r\n&gt;     TfLiteGpuDelegate Init: No EGL error, but eglChooseConfig failed.\r\n&gt;     TfLiteGpuDelegate Prepare: delegate is not initialized\r\n&gt;     Node number 69 (TfLiteGpuDelegateV2) failed to prepare.\r\n&gt;     Restored original execution plan after delegate application failure.\r\n\r\n\r\nI want to know , if there is any alternate of OpenCl or could i use this library in my app and not from the system files.\r\n\r\nmy Infinix mobile device has Oreo Android Version\r\n\r\nUsing Open CV 3.4.14 version\r\n","title":"How to use GpuDelegate in case of no OpenCL found in Android Device?","body":"<p>I am very new to Android ,I am making CV application which uses tensorflow lite 'GpuDelegate'.\nit works perfectly fine on Redmi 8A cause device supported OpenCl while when i installed in  Infinix Hot 8 lite , it crashes with this error.</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Internal error: Failed to apply\ndelegate: Can not open OpenCL library on this device - dlopen failed:\nlibrary &quot;libOpenCL.so&quot; not found\nFalling back to OpenGL\nTfLiteGpuDelegate Init: No EGL error, but eglChooseConfig failed.\nTfLiteGpuDelegate Prepare: delegate is not initialized\nNode number 69 (TfLiteGpuDelegateV2) failed to prepare.\nRestored original execution plan after delegate application failure.</p>\n</blockquote>\n<p>I want to know , if there is any alternate of OpenCl or could i use this library in my app and not from the system files.</p>\n<p>my Infinix mobile device has Oreo Android Version</p>\n<p>Using Open CV 3.4.14 version</p>\n"},{"tags":["java","spring","spring-boot","java-11","jooq"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1665505657,"post_id":74030905,"comment_id":130714418,"body_markdown":"Can you add the pom xml / gradle build file?","body":"Can you add the pom xml / gradle build file?"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1665506206,"post_id":74030905,"comment_id":130714601,"body_markdown":"You&#39;re probably using a commercial JDK 17 distribution of jOOQ? The build file would help figure this out...","body":"You&#39;re probably using a commercial JDK 17 distribution of jOOQ? The build file would help figure this out..."}],"answers":[{"tags":[],"owner":{"account_id":26562666,"reputation":119,"user_id":20190240,"display_name":"Jalena"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665508828,"creation_date":1665508828,"answer_id":74031871,"question_id":74030905,"body_markdown":"The jOOQ Open Source Edition increased the baseline JDK version to Java 17\r\nhttps://github.com/jOOQ/jOOQ/issues/12430.\r\n\r\nThus your JOOQ is getting compiled by Java 17 while you have specified the java version for your application as 11. To solve this error you will probably have to upgrade java version from 11 to 17. \r\n\r\nBut if you are licenced you can still use java 11 and JOOQ by downloading the right distribution [here][1]\r\n\r\n\r\n  [1]: https://www.jooq.org/download/versions","title":"Jooq complains about Java Runtime class version in Spring Boot despite Java 11","body":"<p>The jOOQ Open Source Edition increased the baseline JDK version to Java 17\n<a href=\"https://github.com/jOOQ/jOOQ/issues/12430\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/12430</a>.</p>\n<p>Thus your JOOQ is getting compiled by Java 17 while you have specified the java version for your application as 11. To solve this error you will probably have to upgrade java version from 11 to 17.</p>\n<p>But if you are licenced you can still use java 11 and JOOQ by downloading the right distribution <a href=\"https://www.jooq.org/download/versions\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":8828017,"reputation":43,"user_id":6595600,"display_name":"user6595600"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665508828,"creation_date":1665503628,"question_id":74030905,"body_markdown":"I have a SpringBoot project with Java 11(!), SpringBoot 2.6.7, JOOQ 3.16.6 and Postgres 42.3.3.\r\nWhen I run spring context in tests I get this:\r\n\r\n\r\n```\r\nERROR o.s.boot.SpringApplication - Application run failed java.lang.UnsupportedClassVersionError: org/jooq/DSLContext has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n```\r\n\r\nHow should I understand it? The Java version I use in my build is 11 which is the same version that JOOQ uses in its dependencies. Why then the compiler complains about version mismatch? 61.0 denotes Java 17 which is never used in my project.\r\n\r\n","title":"Jooq complains about Java Runtime class version in Spring Boot despite Java 11","body":"<p>I have a SpringBoot project with Java 11(!), SpringBoot 2.6.7, JOOQ 3.16.6 and Postgres 42.3.3.\nWhen I run spring context in tests I get this:</p>\n<pre><code>ERROR o.s.boot.SpringApplication - Application run failed java.lang.UnsupportedClassVersionError: org/jooq/DSLContext has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n</code></pre>\n<p>How should I understand it? The Java version I use in my build is 11 which is the same version that JOOQ uses in its dependencies. Why then the compiler complains about version mismatch? 61.0 denotes Java 17 which is never used in my project.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1665507432,"post_id":74031557,"comment_id":130715056,"body_markdown":"`sort` do not subtract anything, `sort` sorts. What about reading first https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator- ?","body":"<code>sort</code> do not subtract anything, <code>sort</code> sorts. What about reading first <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1665507882,"creation_date":1665507882,"answer_id":74031702,"question_id":74031557,"body_markdown":"This is just a (perhaps) overly clever implementation of a comparator in Java.\r\n\r\nThe `Comparator` interface [says](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-) that `compare(p1, p2)` should return a negative number if `p1` should go before `p2`, zero if they should be treated as the same, and a positive number if `p1` should go after `p2`.\r\n\r\nSubtraction happens to do that!  If `p1.getAge()` is less than `p2.getAge()`, then `p2.getAge() - p1.getAge()` is a positive number, so `p1` will go after `p2` -- which is just another way of saying &quot;descending order of age.&quot;\r\n\r\nWriting the code this particular way is, however, not a great idea on several levels -- most notably that subtraction, while a cute trick, [doesn&#39;t work for all ints](https://stackoverflow.com/q/2728793/869736).  (You&#39;re technically fine for ages, which will always be nonnegative, but you shouldn&#39;t have to know that.)   Additionally, figuring out the correct ordering takes a few seconds for a reader of the code -- even one who knows all this.  (For you, it took a StackOverflow question.)\r\n\r\nA better version is\r\n\r\n```\r\nimport static java.util.Comparator.*;\r\n\r\npersonList.sort(comparingInt(Person::getAge).reversed());\r\n```","title":"Understanding Java&#39;s List.sort() with a comparator","body":"<p>This is just a (perhaps) overly clever implementation of a comparator in Java.</p>\n<p>The <code>Comparator</code> interface <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\" rel=\"nofollow noreferrer\">says</a> that <code>compare(p1, p2)</code> should return a negative number if <code>p1</code> should go before <code>p2</code>, zero if they should be treated as the same, and a positive number if <code>p1</code> should go after <code>p2</code>.</p>\n<p>Subtraction happens to do that!  If <code>p1.getAge()</code> is less than <code>p2.getAge()</code>, then <code>p2.getAge() - p1.getAge()</code> is a positive number, so <code>p1</code> will go after <code>p2</code> -- which is just another way of saying &quot;descending order of age.&quot;</p>\n<p>Writing the code this particular way is, however, not a great idea on several levels -- most notably that subtraction, while a cute trick, <a href=\"https://stackoverflow.com/q/2728793/869736\">doesn't work for all ints</a>.  (You're technically fine for ages, which will always be nonnegative, but you shouldn't have to know that.)   Additionally, figuring out the correct ordering takes a few seconds for a reader of the code -- even one who knows all this.  (For you, it took a StackOverflow question.)</p>\n<p>A better version is</p>\n<pre><code>import static java.util.Comparator.*;\n\npersonList.sort(comparingInt(Person::getAge).reversed());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665507966,"creation_date":1665507966,"answer_id":74031717,"question_id":74031557,"body_markdown":"Nothing&#39;s being subtracted.  [The Javadoc for `List#sort` is clear](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-); you&#39;re basically comparing two elements together to determine what rank they should be in.  This is specified by [the `Comparator` itself](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-) in that you have some numerical value that is less than zero, zero or greater than zero to determine order.\r\n\r\nIn your case, if p1&#39;s age was 30 and p2&#39;s age was 20, then you&#39;d sort with p1 coming in before p2 in descending order.\r\n\r\nThe mechanism of how it does it is...internal?  Depends on the kind of sort that someone wanted to implement for this, and I think it could change depending on what size the collection is, since different sorts work better in different cases (e.g. no one cares about bubble sort on a list of size two, but you&#39;d get into exotics with TimSort if you had a sufficiently large list).","title":"Understanding Java&#39;s List.sort() with a comparator","body":"<p>Nothing's being subtracted.  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\">The Javadoc for <code>List#sort</code> is clear</a>; you're basically comparing two elements together to determine what rank they should be in.  This is specified by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\" rel=\"nofollow noreferrer\">the <code>Comparator</code> itself</a> in that you have some numerical value that is less than zero, zero or greater than zero to determine order.</p>\n<p>In your case, if p1's age was 30 and p2's age was 20, then you'd sort with p1 coming in before p2 in descending order.</p>\n<p>The mechanism of how it does it is...internal?  Depends on the kind of sort that someone wanted to implement for this, and I think it could change depending on what size the collection is, since different sorts work better in different cases (e.g. no one cares about bubble sort on a list of size two, but you'd get into exotics with TimSort if you had a sufficiently large list).</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665508797,"creation_date":1665508072,"answer_id":74031741,"question_id":74031557,"body_markdown":"A comparator works as follows.\r\n\r\n`compare(a,b)` returns a negative value if `a &lt; b`, a positive value if `a &gt; b`, and a `0` if `a == b`.  So by subtracting ages, you get the `-,+ and 0` effect.  In your case, you are sorting them in reverse order because the first parameter is subtracted from the second.\r\n\r\nHowever, that is a real bad way of doing it and can lead to problems for some number sets.  Here is a better way for a descending sort.\r\n\r\n```\r\nComparator&lt;Integer&gt; comp = (a,b)-&gt; a &lt; b ? 1 : a &gt; b ? -1 : 0;\r\n```\r\nThe above uses the ternary operator which says for `(a op b) ? r : s`, if `a op b` is true, return `r` else return `s` where `r and s` may be constants or expressions.\r\n\r\nIn some cases you can use the predefined comparators in the [Comparator](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Comparator.html) interface javadoc.  In your case, that would be the `reversed()` comparator which reverses the natural order (ascending for integers) comparison.","title":"Understanding Java&#39;s List.sort() with a comparator","body":"<p>A comparator works as follows.</p>\n<p><code>compare(a,b)</code> returns a negative value if <code>a &lt; b</code>, a positive value if <code>a &gt; b</code>, and a <code>0</code> if <code>a == b</code>.  So by subtracting ages, you get the <code>-,+ and 0</code> effect.  In your case, you are sorting them in reverse order because the first parameter is subtracted from the second.</p>\n<p>However, that is a real bad way of doing it and can lead to problems for some number sets.  Here is a better way for a descending sort.</p>\n<pre><code>Comparator&lt;Integer&gt; comp = (a,b)-&gt; a &lt; b ? 1 : a &gt; b ? -1 : 0;\n</code></pre>\n<p>The above uses the ternary operator which says for <code>(a op b) ? r : s</code>, if <code>a op b</code> is true, return <code>r</code> else return <code>s</code> where <code>r and s</code> may be constants or expressions.</p>\n<p>In some cases you can use the predefined comparators in the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> interface javadoc.  In your case, that would be the <code>reversed()</code> comparator which reverses the natural order (ascending for integers) comparison.</p>\n"}],"owner":{"account_id":26437929,"reputation":41,"user_id":20082998,"display_name":"janhoegs03"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1665511958,"accepted_answer_id":74031702,"answer_count":3,"score":-2,"last_activity_date":1665508797,"creation_date":1665507045,"question_id":74031557,"body_markdown":"I found the following code, which sorts the `personList` array by the `Person`&#39;s age in descending order.\r\n```java\r\npersonList.sort((Person p1, Person p2) -&gt; p2.getAge() - p1.getAge());\r\n```\r\nHowever, I&#39;m having trouble understanding how it works. It seems that the `sort()` function subtracts `p1` and `p2`&#39;s age but I don&#39;t get how that allows the function to return the sorted array.\r\n\r\nHow does `sort()` iterate over the array and uses the comparator for every object in that array?","title":"Understanding Java&#39;s List.sort() with a comparator","body":"<p>I found the following code, which sorts the <code>personList</code> array by the <code>Person</code>'s age in descending order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>personList.sort((Person p1, Person p2) -&gt; p2.getAge() - p1.getAge());\n</code></pre>\n<p>However, I'm having trouble understanding how it works. It seems that the <code>sort()</code> function subtracts <code>p1</code> and <code>p2</code>'s age but I don't get how that allows the function to return the sorted array.</p>\n<p>How does <code>sort()</code> iterate over the array and uses the comparator for every object in that array?</p>\n"},{"tags":["java","max"],"comments":[{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":1,"creation_date":1392090471,"post_id":21692659,"comment_id":32796236,"body_markdown":"if you want to return `index` only, simply change `largest = array[i]; ` to `largest = i;`","body":"if you want to return <code>index</code> only, simply change <code>largest = array[i]; </code> to <code>largest = i;</code>"},{"owner":{"account_id":2574793,"reputation":8017,"user_id":2232744,"accept_rate":72,"display_name":"Jordan.J.D"},"score":0,"creation_date":1392090480,"post_id":21692659,"comment_id":32796241,"body_markdown":"Relevent: http://stackoverflow.com/questions/1522108/how-to-find-the-index-of-an-element-in-an-array-in-java","body":"Relevent: <a href=\"http://stackoverflow.com/questions/1522108/how-to-find-the-index-of-an-element-in-an-array-in-java\" title=\"how to find the index of an element in an array in java\">stackoverflow.com/questions/1522108/&hellip;</a>"},{"owner":{"account_id":2974287,"reputation":1100,"user_id":2525706,"accept_rate":72,"display_name":"Alex"},"score":0,"creation_date":1392090693,"post_id":21692659,"comment_id":32796303,"body_markdown":"Be careful with your wording.  What you asked is NOT what the problem statement you pasted says.","body":"Be careful with your wording.  What you asked is NOT what the problem statement you pasted says."},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":0,"creation_date":1392090787,"post_id":21692659,"comment_id":32796339,"body_markdown":"@RhinoFeeder an example of [XyProblem](http://mywiki.wooledge.org/XyProblem)","body":"@RhinoFeeder an example of <a href=\"http://mywiki.wooledge.org/XyProblem\" rel=\"nofollow noreferrer\">XyProblem</a>"},{"owner":{"account_id":3688762,"reputation":15,"user_id":3071909,"accept_rate":25,"display_name":"user3071909"},"score":0,"creation_date":1392090811,"post_id":21692659,"comment_id":32796342,"body_markdown":"@RhinoFeeder How is it not?","body":"@RhinoFeeder How is it not?"},{"owner":{"account_id":2974287,"reputation":1100,"user_id":2525706,"accept_rate":72,"display_name":"Alex"},"score":0,"creation_date":1392090853,"post_id":21692659,"comment_id":32796359,"body_markdown":"You are telling us you want the highest array index (array.length-1).  But what you actually want is the index containing the highest value.  They are two different hings.","body":"You are telling us you want the highest array index (array.length-1).  But what you actually want is the index containing the highest value.  They are two different hings."}],"answers":[{"tags":[],"owner":{"account_id":481839,"reputation":13673,"user_id":895876,"accept_rate":49,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392090385,"creation_date":1392090385,"answer_id":21692688,"question_id":21692659,"body_markdown":"You need to keep and store the largest index. Try this:\r\n\r\n    public static int findLargest(int array[])\r\n    {\r\n        int largest = array[0];\r\n        int largestIndex = 0;\r\n    \r\n        for(int i = 0; i &lt; array.length; i++)\r\n        {\r\n            if(array[i] &gt; largest) {\r\n                largest = array[i]; \r\n                largestIndex =i;\r\n            }  \r\n        }\r\n    \r\n        return largestIndex;\r\n    }","title":"Java arrays returning highest array index","body":"<p>You need to keep and store the largest index. Try this:</p>\n\n<pre><code>public static int findLargest(int array[])\n{\n    int largest = array[0];\n    int largestIndex = 0;\n\n    for(int i = 0; i &lt; array.length; i++)\n    {\n        if(array[i] &gt; largest) {\n            largest = array[i]; \n            largestIndex =i;\n        }  \n    }\n\n    return largestIndex;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3218502,"reputation":433,"user_id":2716485,"display_name":"Arbiter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392090547,"creation_date":1392090547,"answer_id":21692718,"question_id":21692659,"body_markdown":"Create a `for` loop at the end of the method, and a variable like `index`. Search through the list and find if the variable matches, remembering to increment the `index` variable every time.\r\n\r\nExample:\r\n\r\n    int index = 0;\r\n    for (int i : array)\r\n    {\r\n        if (i == largest)\r\n        {\r\n             break;\r\n        }\r\n        index++;\r\n    }\r\n    return index;","title":"Java arrays returning highest array index","body":"<p>Create a <code>for</code> loop at the end of the method, and a variable like <code>index</code>. Search through the list and find if the variable matches, remembering to increment the <code>index</code> variable every time.</p>\n\n<p>Example:</p>\n\n<pre><code>int index = 0;\nfor (int i : array)\n{\n    if (i == largest)\n    {\n         break;\n    }\n    index++;\n}\nreturn index;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3982537,"reputation":6447,"user_id":3284114,"accept_rate":100,"display_name":"msmolcic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392090736,"creation_date":1392090736,"answer_id":21692743,"question_id":21692659,"body_markdown":"You can add aditional method that gets largest number and an array then search for index of that number:\r\n\r\n    public class LargestInteger \r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int[] largeArray = {5,4,13,7,7,8,9,10,5};\r\n\r\n            System.out.println(indexOfLargest(largeArray, findLargest(largeArray)));\r\n        }\r\n\r\n        public static int findLargest(int array[])\r\n        {\r\n            int largest = array[0];\r\n\r\n            for(int i = 0; i &lt; array.length; i++)\r\n            {\r\n                if(array[i] &gt; largest)\r\n                    largest = array[i];   \r\n            }\r\n\r\n            return largest;\r\n        }\r\n\r\n        public static int indexOfLargest(int array[], int number)\r\n        {\r\n\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                if (array[i] == number)\r\n                    return i;            \r\n            }\r\n\r\n            return -1;\r\n        }\r\n\r\n    }","title":"Java arrays returning highest array index","body":"<p>You can add aditional method that gets largest number and an array then search for index of that number:</p>\n\n<pre><code>public class LargestInteger \n{\n    public static void main(String[] args)\n    {\n        int[] largeArray = {5,4,13,7,7,8,9,10,5};\n\n        System.out.println(indexOfLargest(largeArray, findLargest(largeArray)));\n    }\n\n    public static int findLargest(int array[])\n    {\n        int largest = array[0];\n\n        for(int i = 0; i &lt; array.length; i++)\n        {\n            if(array[i] &gt; largest)\n                largest = array[i];   \n        }\n\n        return largest;\n    }\n\n    public static int indexOfLargest(int array[], int number)\n    {\n\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] == number)\n                return i;            \n        }\n\n        return -1;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3106249,"reputation":6417,"user_id":2628956,"accept_rate":100,"display_name":"Rakesh KR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1392091492,"creation_date":1392091492,"answer_id":21692882,"question_id":21692659,"body_markdown":"Can also done with,\r\n\r\n    int[] largeArray     = {5,4,13,7,7,8,9,10,5};\r\n    int   largestElement = findLargest(largeArray);\r\n    int   index          = Arrays.asList(5,4,13,7,7,8,9,10,5).indexOf(largestElement);","title":"Java arrays returning highest array index","body":"<p>Can also done with,</p>\n\n<pre><code>int[] largeArray     = {5,4,13,7,7,8,9,10,5};\nint   largestElement = findLargest(largeArray);\nint   index          = Arrays.asList(5,4,13,7,7,8,9,10,5).indexOf(largestElement);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1304932,"reputation":2021,"user_id":1254091,"display_name":"Gabriel"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1400538035,"creation_date":1400537366,"answer_id":23748009,"question_id":21692659,"body_markdown":"In java 8 you can do it simply:\r\n\r\nTo get the highest:\r\n\r\n    int[] largeArray = {5,4,13,7,7,8,9,10,5};\r\n    System.out.println(IntStream.of(largeArray).max().getAsInt());\r\n\r\n&gt; result: 13\r\n\r\nAnd to sum them:\r\n\r\n    System.out.println(IntStream.of(largeArray).sum());\r\n\r\n&gt; result: 68\r\n\r\n","title":"Java arrays returning highest array index","body":"<p>In java 8 you can do it simply:</p>\n\n<p>To get the highest:</p>\n\n<pre><code>int[] largeArray = {5,4,13,7,7,8,9,10,5};\nSystem.out.println(IntStream.of(largeArray).max().getAsInt());\n</code></pre>\n\n<blockquote>\n  <p>result: 13</p>\n</blockquote>\n\n<p>And to sum them:</p>\n\n<pre><code>System.out.println(IntStream.of(largeArray).sum());\n</code></pre>\n\n<blockquote>\n  <p>result: 68</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15568326,"reputation":151,"user_id":11231454,"display_name":"ccyid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665508327,"creation_date":1665508327,"answer_id":74031788,"question_id":21692659,"body_markdown":"Just thought we need a simple answer in the era of stream interface. If your array is `int[] a`, you can get **argmax** (the index of the largest value) with the following code:\r\n\r\n    IntStream.range(0, a.length).boxed().max(Comparator.comparing(i-&gt;a[i])).get();\r\n\r\nIf you want **argmin**, just change `max()` to `min()`. Because it compares elements in their natural order, any array with comparable elements will do, like `double[]` or `long[]`.","title":"Java arrays returning highest array index","body":"<p>Just thought we need a simple answer in the era of stream interface. If your array is <code>int[] a</code>, you can get <strong>argmax</strong> (the index of the largest value) with the following code:</p>\n<pre><code>IntStream.range(0, a.length).boxed().max(Comparator.comparing(i-&gt;a[i])).get();\n</code></pre>\n<p>If you want <strong>argmin</strong>, just change <code>max()</code> to <code>min()</code>. Because it compares elements in their natural order, any array with comparable elements will do, like <code>double[]</code> or <code>long[]</code>.</p>\n"}],"owner":{"account_id":3688762,"reputation":15,"user_id":3071909,"accept_rate":25,"display_name":"user3071909"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1665508327,"creation_date":1392090226,"question_id":21692659,"body_markdown":"I am supposed to write a program that finds the largest index in an unsorted array of integers.\r\n\r\n&gt; Use a method that takes an array of integers as a parameter. The method should search the array and return the index of the largest value.\r\n\r\nSo i wrote a program that returns the highest value, for example it returns 13 as the highest number instead of the index of 2. So how would i return the index instead of the highest number itself? If that is an easy fix, does the rest of my code look correct? Thanks!\r\n\r\n    public class LargestInteger \r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int[] largeArray = {5,4,13,7,7,8,9,10,5};\r\n            \r\n            System.out.println(findLargest(largeArray));\r\n        }\r\n        \r\n        public static int findLargest(int array[])\r\n        {\r\n            int largest = array[0];\r\n        \r\n            for(int i = 0; i &lt; array.length; i++)\r\n            {\r\n                if(array[i] &gt; largest)\r\n                    largest = array[i];   \r\n            }\r\n    \r\n            return largest;\r\n        }\r\n    }\r\n\r\n","title":"Java arrays returning highest array index","body":"<p>I am supposed to write a program that finds the largest index in an unsorted array of integers.</p>\n\n<blockquote>\n  <p>Use a method that takes an array of integers as a parameter. The method should search the array and return the index of the largest value.</p>\n</blockquote>\n\n<p>So i wrote a program that returns the highest value, for example it returns 13 as the highest number instead of the index of 2. So how would i return the index instead of the highest number itself? If that is an easy fix, does the rest of my code look correct? Thanks!</p>\n\n<pre><code>public class LargestInteger \n{\n    public static void main(String[] args)\n    {\n        int[] largeArray = {5,4,13,7,7,8,9,10,5};\n\n        System.out.println(findLargest(largeArray));\n    }\n\n    public static int findLargest(int array[])\n    {\n        int largest = array[0];\n\n        for(int i = 0; i &lt; array.length; i++)\n        {\n            if(array[i] &gt; largest)\n                largest = array[i];   \n        }\n\n        return largest;\n    }\n}\n</code></pre>\n"},{"tags":["java","python-3.x"],"comments":[{"owner":{"account_id":6475833,"reputation":90575,"user_id":5014455,"display_name":"juanpa.arrivillaga"},"score":0,"creation_date":1665509433,"post_id":74031536,"comment_id":130715661,"body_markdown":"You can basically write the exactly equivalent loop in Java (and I think it will have better performance anyway)","body":"You can basically write the exactly equivalent loop in Java (and I think it will have better performance anyway)"}],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665508267,"creation_date":1665508267,"answer_id":74031777,"question_id":74031536,"body_markdown":"A even simpler way is to just use a normal HashMap without any collectors.\r\n\r\nYou can relate this more with your Python code.\r\n\r\n```java\r\npublic static void main(String args[]){\r\n        List&lt;Integer&gt; list = Arrays.asList(1,1,2,2,3,3,3,4,4,5);\r\n        Map&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (final int item : list) {\r\n           map.put(item, map.getOrDefault(item, 0) + 1);\r\n        }\r\n        map.forEach((k, v) -&gt; System.out.println(k + &quot; &quot; + v));\r\n    }\r\n```","title":"Comparing complexity of counting frequency of each integer in a list","body":"<p>A even simpler way is to just use a normal HashMap without any collectors.</p>\n<p>You can relate this more with your Python code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String args[]){\n        List&lt;Integer&gt; list = Arrays.asList(1,1,2,2,3,3,3,4,4,5);\n        Map&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\n        for (final int item : list) {\n           map.put(item, map.getOrDefault(item, 0) + 1);\n        }\n        map.forEach((k, v) -&gt; System.out.println(k + &quot; &quot; + v));\n    }\n</code></pre>\n"}],"owner":{"account_id":25489317,"reputation":259,"user_id":19284394,"display_name":"nicku"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665508267,"creation_date":1665506957,"question_id":74031536,"body_markdown":"To count the frequency of each Integer in a list the Java-8 code using streams is:  \r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String args[]){\r\n            List&lt;Integer&gt; lst = Arrays.asList(1,1,2,2,3,3,3,4,4,5);\r\n            Map&lt;Integer,Integer&gt; map = lst.stream()\r\n                    .collect( Collectors.groupingBy( Function.identity(), Collectors.summingInt(e -&gt; 1) ));\r\n            for(Integer key: map.keySet())\r\n                System.out.println(key+&quot; : &quot;+map.get(key));\r\n        }\r\n    }  \r\nThe above also includes the import statements though.  \r\nNow compare it with python code:  \r\n\r\n    x=[1,1,1,2,2,3,3,3,4,4,5]  \r\n    for elem in x:  \r\n         d[elem]=d.get(elem,0)+1  \r\nThis is insane if one compares the complexity. Python is too concise. I am not sure if there is a simpler way to do it in java. It seems making a simple Map and looping over will be a much cleaner approach than using streams for this purpose. And probably the groupingBy functions are for more complex things. ","title":"Comparing complexity of counting frequency of each integer in a list","body":"<p>To count the frequency of each Integer in a list the Java-8 code using streams is:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n    public static void main(String args[]){\n        List&lt;Integer&gt; lst = Arrays.asList(1,1,2,2,3,3,3,4,4,5);\n        Map&lt;Integer,Integer&gt; map = lst.stream()\n                .collect( Collectors.groupingBy( Function.identity(), Collectors.summingInt(e -&gt; 1) ));\n        for(Integer key: map.keySet())\n            System.out.println(key+&quot; : &quot;+map.get(key));\n    }\n}  \n</code></pre>\n<p>The above also includes the import statements though.<br />\nNow compare it with python code:</p>\n<pre><code>x=[1,1,1,2,2,3,3,3,4,4,5]  \nfor elem in x:  \n     d[elem]=d.get(elem,0)+1  \n</code></pre>\n<p>This is insane if one compares the complexity. Python is too concise. I am not sure if there is a simpler way to do it in java. It seems making a simple Map and looping over will be a much cleaner approach than using streams for this purpose. And probably the groupingBy functions are for more complex things.</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc","jsp"],"comments":[{"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"score":0,"creation_date":1665377361,"post_id":74007433,"comment_id":130677465,"body_markdown":"can you share your pom.xml maybe you haven,t inserted tomcat dependency","body":"can you share your pom.xml maybe you haven,t inserted tomcat dependency"},{"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"score":0,"creation_date":1665426351,"post_id":74007433,"comment_id":130693032,"body_markdown":"Here is the link to pom.xml file - https://drive.google.com/file/d/1PR5KdySp132cLhCaopUHBRlmwoArDISq/view?usp=sharing","body":"Here is the link to pom.xml file - <a href=\"https://drive.google.com/file/d/1PR5KdySp132cLhCaopUHBRlmwoArDISq/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1PR5KdySp132cLhCaopUHBRlmwoArDISq/&hellip;</a>"},{"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"score":0,"creation_date":1665426458,"post_id":74007433,"comment_id":130693056,"body_markdown":"This is what I am getting on frontend - https://drive.google.com/file/d/1iqfHCKKkgFl4LSfz_CVIOVRoQiE2v3XW/view?usp=sharing","body":"This is what I am getting on frontend - <a href=\"https://drive.google.com/file/d/1iqfHCKKkgFl4LSfz_CVIOVRoQiE2v3XW/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1iqfHCKKkgFl4LSfz_CVIOVRoQiE2v3XW/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25435554,"reputation":135,"user_id":19239331,"display_name":"Gun Slinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665378891,"creation_date":1665378891,"answer_id":74010453,"question_id":74007433,"body_markdown":"```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\ntry adding jasper dependency","title":"Not able to show ToDo list in JSP","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>try adding jasper dependency</p>\n"},{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665462218,"creation_date":1665391455,"answer_id":74012263,"question_id":74007433,"body_markdown":"Add the jasper Dependency\r\n ``` \r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nand change the td tags like this \r\n&lt;td&gt;${todo.getDescription()}&lt;/td&gt;","title":"Not able to show ToDo list in JSP","body":"<p>Add the jasper Dependency</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n   &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and change the td tags like this</p>\n${todo.getDescription()}\n"}],"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74012263,"answer_count":2,"score":0,"last_activity_date":1665508221,"creation_date":1665340039,"question_id":74007433,"body_markdown":"I am new to spring boot and trying to create a simple ToDo Application using spring boot and JSP. I am trying to show the list of todo&#39;s in my JSP but it is not reflecting. I tried all the ways whereas on putting breakpoint in IntelliJ idea, I am able to see the list of todo&#39;s in my repo.\r\n\r\n```\r\nToDoView.jsp\r\n\r\n &lt;%@ include file=&quot;header.jsp&quot;%&gt;\r\n&lt;%@ include file=&quot;navigation.jsp&quot;%&gt;\r\n\r\n&lt;div class=&quot;container&quot;&gt;\r\n    &lt;div&gt;\r\n        &lt;a type=&quot;button&quot; class=&quot;btn btn-primary btn-md&quot; href=&quot;/add-todo&quot;&gt;Add Todo&lt;/a&gt;\r\n    &lt;/div&gt;\r\n    &lt;br&gt;\r\n    &lt;div class=&quot;panel panel-primary&quot;&gt;\r\n        &lt;div class=&quot;panel-heading&quot;&gt;\r\n            &lt;h3&gt;List of TODO&#39;s&lt;/h3&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;panel-body&quot;&gt;\r\n            &lt;table class=&quot;table table-striped&quot;&gt;\r\n                &lt;thead&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th width=&quot;40%&quot;&gt;Description&lt;/th&gt;\r\n                        &lt;th width=&quot;40%&quot;&gt;Target Date&lt;/th&gt;\r\n                        &lt;th width=&quot;20%&quot;&gt;&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                ${todolist}\r\n                    &lt;c:forEach items=&quot;${todolist}&quot; var=&quot;todo&quot;&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;td&gt;${todo.description}&lt;/td&gt;\r\n                            &lt;td&gt;${todo.getDescription()}&lt;/td&gt; &lt;td&gt;&lt;fmt:formatDate value=${todo.getToDoDate()} pattern=&quot;dd/MM/yyyy&quot; /&gt;&lt;/td&gt;\r\n                            &lt;td&gt;&lt;a type=&quot;button&quot; class=&quot;btn btn-success&quot; href=&quot;/update-todo?id=${todo.getId()}&quot;&gt;Update&lt;/a&gt;\r\n                             &lt;a type=&quot;button&quot; class=&quot;btn btn-warning&quot; href=&quot;/delete-todo?id=${todo.getId()}&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;\r\n                        &lt;/tr&gt;\r\n                    &lt;/c:forEach&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;%@ include file=&quot;footer.jsp&quot;%&gt;\r\n```\r\n\r\n```\r\nHomeController.java\r\n\r\npackage com.toDoApp.ToDoApp;\r\n\r\n@Controller\r\npublic class HomeController\r\n{\r\n    @Autowired\r\n    ToDoRepo repo;\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\n    public static String home()\r\n    {\r\n        return &quot;Home&quot;;\r\n    }\r\n\r\n    @GetMapping(path = &quot;/list-todos&quot;, produces = {&quot;application/json&quot;})\r\n    public String toDoView(Model m)\r\n    {\r\n        m.addAttribute(&quot;todolist&quot;, repo.findAll());\r\n\r\n        return &quot;ToDoView&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nToDoRepo.java\r\n\r\npublic interface ToDoRepo extends JpaRepository&lt;ToDoList, Integer&gt;\r\n{\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\nToDoList.java\r\n\r\npackage com.toDoApp.ToDoApp;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.Date;\r\n\r\n@Entity\r\npublic class ToDoList\r\n{\r\n    @Id\r\n    private int id;\r\n    private String description;\r\n    private Date toDoDate;\r\n\r\n    public ToDoList()\r\n    {\r\n        super();\r\n    }\r\n\r\n    public ToDoList(String description, Date toDoDate)\r\n    {\r\n        super();\r\n        this.description = description;\r\n        this.toDoDate = toDoDate;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public Date getToDoDate() {\r\n        return toDoDate;\r\n    }\r\n\r\n    public void setToDoDate(Date toDoDate) {\r\n        this.toDoDate = toDoDate;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI tried all other ways but didn&#39;t able to find anything. Please help me out.\r\n\r\nThank You\r\n\r\n","title":"Not able to show ToDo list in JSP","body":"<p>I am new to spring boot and trying to create a simple ToDo Application using spring boot and JSP. I am trying to show the list of todo's in my JSP but it is not reflecting. I tried all the ways whereas on putting breakpoint in IntelliJ idea, I am able to see the list of todo's in my repo.</p>\n<pre><code>ToDoView.jsp\n\n &lt;%@ include file=&quot;header.jsp&quot;%&gt;\n&lt;%@ include file=&quot;navigation.jsp&quot;%&gt;\n\n&lt;div class=&quot;container&quot;&gt;\n    &lt;div&gt;\n        &lt;a type=&quot;button&quot; class=&quot;btn btn-primary btn-md&quot; href=&quot;/add-todo&quot;&gt;Add Todo&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;br&gt;\n    &lt;div class=&quot;panel panel-primary&quot;&gt;\n        &lt;div class=&quot;panel-heading&quot;&gt;\n            &lt;h3&gt;List of TODO's&lt;/h3&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;panel-body&quot;&gt;\n            &lt;table class=&quot;table table-striped&quot;&gt;\n                &lt;thead&gt;\n                    &lt;tr&gt;\n                        &lt;th width=&quot;40%&quot;&gt;Description&lt;/th&gt;\n                        &lt;th width=&quot;40%&quot;&gt;Target Date&lt;/th&gt;\n                        &lt;th width=&quot;20%&quot;&gt;&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                ${todolist}\n                    &lt;c:forEach items=&quot;${todolist}&quot; var=&quot;todo&quot;&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${todo.description}&lt;/td&gt;\n                            &lt;td&gt;${todo.getDescription()}&lt;/td&gt; &lt;td&gt;&lt;fmt:formatDate value=${todo.getToDoDate()} pattern=&quot;dd/MM/yyyy&quot; /&gt;&lt;/td&gt;\n                            &lt;td&gt;&lt;a type=&quot;button&quot; class=&quot;btn btn-success&quot; href=&quot;/update-todo?id=${todo.getId()}&quot;&gt;Update&lt;/a&gt;\n                             &lt;a type=&quot;button&quot; class=&quot;btn btn-warning&quot; href=&quot;/delete-todo?id=${todo.getId()}&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/c:forEach&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;%@ include file=&quot;footer.jsp&quot;%&gt;\n</code></pre>\n<pre><code>HomeController.java\n\npackage com.toDoApp.ToDoApp;\n\n@Controller\npublic class HomeController\n{\n    @Autowired\n    ToDoRepo repo;\n\n    @RequestMapping(&quot;/&quot;)\n    public static String home()\n    {\n        return &quot;Home&quot;;\n    }\n\n    @GetMapping(path = &quot;/list-todos&quot;, produces = {&quot;application/json&quot;})\n    public String toDoView(Model m)\n    {\n        m.addAttribute(&quot;todolist&quot;, repo.findAll());\n\n        return &quot;ToDoView&quot;;\n    }\n}\n</code></pre>\n<pre><code>ToDoRepo.java\n\npublic interface ToDoRepo extends JpaRepository&lt;ToDoList, Integer&gt;\n{\n\n}\n\n</code></pre>\n<pre><code>ToDoList.java\n\npackage com.toDoApp.ToDoApp;\n\nimport javax.persistence.*;\nimport java.util.Date;\n\n@Entity\npublic class ToDoList\n{\n    @Id\n    private int id;\n    private String description;\n    private Date toDoDate;\n\n    public ToDoList()\n    {\n        super();\n    }\n\n    public ToDoList(String description, Date toDoDate)\n    {\n        super();\n        this.description = description;\n        this.toDoDate = toDoDate;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public Date getToDoDate() {\n        return toDoDate;\n    }\n\n    public void setToDoDate(Date toDoDate) {\n        this.toDoDate = toDoDate;\n    }\n}\n\n</code></pre>\n<p>I tried all other ways but didn't able to find anything. Please help me out.</p>\n<p>Thank You</p>\n"},{"tags":["java","datetime-format"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665503853,"post_id":74030914,"comment_id":130713806,"body_markdown":"Stop using outdated `SimpleDateFormat` and `java.util.Date` use more modern `java.time`API","body":"Stop using outdated <code>SimpleDateFormat</code> and <code>java.util.Date</code> use more modern <code>java.time</code>API"},{"owner":{"account_id":19507092,"reputation":399,"user_id":14271847,"display_name":"megaultron"},"score":0,"creation_date":1665504015,"post_id":74030914,"comment_id":130713870,"body_markdown":"ok, i&#39;ll take a look at that package. But can you demonstrate the use of this package?","body":"ok, i&#39;ll take a look at that package. But can you demonstrate the use of this package?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665504041,"post_id":74030914,"comment_id":130713877,"body_markdown":"Google will show you so much tutorials","body":"Google will show you so much tutorials"},{"owner":{"account_id":893570,"reputation":12305,"user_id":931379,"display_name":"Pursuit"},"score":0,"creation_date":1665504116,"post_id":74030914,"comment_id":130713917,"body_markdown":"Its converting time zones. It looks like you are working in a GMT-5 timezone. Maybe east coast?","body":"Its converting time zones. It looks like you are working in a GMT-5 timezone. Maybe east coast?"},{"owner":{"account_id":19507092,"reputation":399,"user_id":14271847,"display_name":"megaultron"},"score":1,"creation_date":1665504329,"post_id":74030914,"comment_id":130713993,"body_markdown":"I was browsing on google, I found the solution!! `sdf1.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));`","body":"I was browsing on google, I found the solution!! <code>sdf1.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665507898,"post_id":74030914,"comment_id":130715200,"body_markdown":"@megaultron Much easier to use *java.time*. Avoid the legacy date-time classes like the plague &#129440;.","body":"@megaultron Much easier to use <i>java.time</i>. Avoid the legacy date-time classes like the plague 🦠."}],"answers":[{"tags":[],"owner":{"account_id":19507092,"reputation":399,"user_id":14271847,"display_name":"megaultron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665504689,"creation_date":1665504689,"answer_id":74031128,"question_id":74030914,"body_markdown":"The solution is to set the `setTimeZone` zone in the `SimpleDateFormat`. So I can do the conversion later with `format`.\r\n\r\n    sdf1.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n\r\nfull code\r\n\r\n    Date d = new Date(&quot;Tue, 11 Oct 2022 15:59:46 GMT&quot;);\r\n    SimpleDateFormat sdf1= new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    sdf1.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    String f = sdf1.format(d);\r\n    System.out.println(f);","title":"How to convert datetime from GMT format to yyyy-MM-dd HH:mm:ss?","body":"<p>The solution is to set the <code>setTimeZone</code> zone in the <code>SimpleDateFormat</code>. So I can do the conversion later with <code>format</code>.</p>\n<pre><code>sdf1.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\n</code></pre>\n<p>full code</p>\n<pre><code>Date d = new Date(&quot;Tue, 11 Oct 2022 15:59:46 GMT&quot;);\nSimpleDateFormat sdf1= new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nsdf1.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\nString f = sdf1.format(d);\nSystem.out.println(f);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665507740,"creation_date":1665507013,"answer_id":74031549,"question_id":74030914,"body_markdown":"# tl;dr\r\n\r\n    ZonedDateTime\r\n    .parse( \r\n        &quot;Tue, 11 Oct 2022 15:59:46 GMT&quot; , \r\n        DateTimeFormatter.RFC_1123_DATE_TIME \r\n    )\r\n    .format (\r\n        DateTimeFormatter.ISO_LOCAL_DATE_TIME\r\n    )\r\n    .remove( &quot;T&quot; , &quot; &quot; )\r\n\r\n# *java.time*\r\n\r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\n## Parsing text\r\n\r\nYour text is in the format defined by an obsolete standard, RFC 1123 / RFC 822.\r\n\r\nThe `java.time.DateTimeFormatter` class carries a constant pre-defining a formatter for that: [`RFC_1123_DATE_TIME`][1].\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.parse( input , DateTimeFormatter.RFC_1123_DATE_TIME ) ;\r\n\r\n\r\n## Generating text\r\n\r\nThe format you desire is close to that of a format defined in the modern standard [ISO 8601][2]: YYYY-MM-DDTHH:MM:SS. \r\n\r\nThe DateTimeFormatter class also carries a predefined formatter for the ISO 8601 standard: [ISO_LOCAL_DATE_TIME][3]. \r\n\r\nJust remove the `T` to get your desired format. \r\n\r\n    String output = zdt.format( DateTimeFormatter.ISO_LOCAL_DATE_TIME ).remove( &quot;T&quot; , &quot; &quot; ) ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME","title":"How to convert datetime from GMT format to yyyy-MM-dd HH:mm:ss?","body":"<h1>tl;dr</h1>\n<pre><code>ZonedDateTime\n.parse( \n    &quot;Tue, 11 Oct 2022 15:59:46 GMT&quot; , \n    DateTimeFormatter.RFC_1123_DATE_TIME \n)\n.format (\n    DateTimeFormatter.ISO_LOCAL_DATE_TIME\n)\n.remove( &quot;T&quot; , &quot; &quot; )\n</code></pre>\n<h1><em>java.time</em></h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h2>Parsing text</h2>\n<p>Your text is in the format defined by an obsolete standard, RFC 1123 / RFC 822.</p>\n<p>The <code>java.time.DateTimeFormatter</code> class carries a constant pre-defining a formatter for that: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\" rel=\"nofollow noreferrer\"><code>RFC_1123_DATE_TIME</code></a>.</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.parse( input , DateTimeFormatter.RFC_1123_DATE_TIME ) ;\n</code></pre>\n<h2>Generating text</h2>\n<p>The format you desire is close to that of a format defined in the modern standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>: YYYY-MM-DDTHH:MM:SS.</p>\n<p>The DateTimeFormatter class also carries a predefined formatter for the ISO 8601 standard: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME\" rel=\"nofollow noreferrer\">ISO_LOCAL_DATE_TIME</a>.</p>\n<p>Just remove the <code>T</code> to get your desired format.</p>\n<pre><code>String output = zdt.format( DateTimeFormatter.ISO_LOCAL_DATE_TIME ).remove( &quot;T&quot; , &quot; &quot; ) ;\n</code></pre>\n"}],"owner":{"account_id":19507092,"reputation":399,"user_id":14271847,"display_name":"megaultron"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1665508158,"creation_date":1665503690,"question_id":74030914,"body_markdown":"How can I convert the following datetime format to yyyy-MM-dd HH:mm:ss?\r\n\r\n    Tue, 11 Oct 2022 15:59:46 GMT\r\n\r\n\r\nI already tried this but it doesn&#39;t work, it brings the wrong time\r\n\r\n    Date d = new Date(&quot;Tue, 11 Oct 2022 15:59:46 GMT&quot;);\r\n    SimpleDateFormat sdf1= new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    String f = sdf1.format(d);\r\n    System.out.println(f);\r\n\r\nIt&#39;s bringing the wrong time when you print:\r\n\r\n    2022-10-11 12:59:46","title":"How to convert datetime from GMT format to yyyy-MM-dd HH:mm:ss?","body":"<p>How can I convert the following datetime format to yyyy-MM-dd HH:mm:ss?</p>\n<pre><code>Tue, 11 Oct 2022 15:59:46 GMT\n</code></pre>\n<p>I already tried this but it doesn't work, it brings the wrong time</p>\n<pre><code>Date d = new Date(&quot;Tue, 11 Oct 2022 15:59:46 GMT&quot;);\nSimpleDateFormat sdf1= new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nString f = sdf1.format(d);\nSystem.out.println(f);\n</code></pre>\n<p>It's bringing the wrong time when you print:</p>\n<pre><code>2022-10-11 12:59:46\n</code></pre>\n"},{"tags":["java","android","android-layout","android-fragments"],"comments":[{"owner":{"account_id":5083634,"reputation":8667,"user_id":4079010,"accept_rate":50,"display_name":"Rahul Khurana"},"score":1,"creation_date":1562128830,"post_id":56862987,"comment_id":100275145,"body_markdown":"how you are adding fragments in the container?","body":"how you are adding fragments in the container?"},{"owner":{"account_id":2282492,"reputation":2049,"user_id":2007266,"accept_rate":44,"display_name":"hemantsb"},"score":2,"creation_date":1562128845,"post_id":56862987,"comment_id":100275150,"body_markdown":"can you show you main activity&#39;s xml where you are attaching this fragment?","body":"can you show you main activity&#39;s xml where you are attaching this fragment?"},{"owner":{"account_id":5083634,"reputation":8667,"user_id":4079010,"accept_rate":50,"display_name":"Rahul Khurana"},"score":0,"creation_date":1562129482,"post_id":56862987,"comment_id":100275289,"body_markdown":"post the main activity code..","body":"post the main activity code.."},{"owner":{"account_id":16247567,"reputation":23,"user_id":11732286,"display_name":"Prashant Gujar"},"score":0,"creation_date":1562129504,"post_id":56862987,"comment_id":100275294,"body_markdown":"problem solved.. silly mistake in main activity xml..","body":"problem solved.. silly mistake in main activity xml.."},{"owner":{"account_id":14470544,"reputation":371,"user_id":10452701,"display_name":"Nurbol"},"score":1,"creation_date":1562129608,"post_id":56862987,"comment_id":100275316,"body_markdown":"Width and height of the `fragment_container` must match parent.","body":"Width and height of the <code>fragment_container</code> must match parent."},{"owner":{"account_id":9884920,"reputation":2245,"user_id":7319704,"display_name":"Abhinav Gupta"},"score":0,"creation_date":1562129790,"post_id":56862987,"comment_id":100275369,"body_markdown":"If you solved this problem mention your answer in answer section to make help others with same problem.@PrashantGujar","body":"If you solved this problem mention your answer in answer section to make help others with same problem.@PrashantGujar"}],"answers":[{"tags":[],"owner":{"account_id":9062747,"reputation":3484,"user_id":6748763,"display_name":"alireza easazade"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1562129547,"creation_date":1562129547,"answer_id":56863094,"question_id":56862987,"body_markdown":"check your fragment `onCreateView()` method\r\n\r\nyou should inflate view like this :\r\n \r\n````kotlin\r\nval root = inflater.inflate(R.layout.list_content,container, false);\r\nreturn root\r\n````\r\n\r\nand make sure the `place_holder` which you adding your fragment to when doing fragment transaction is visible \r\n\r\n````kotlin\r\nfragmentTransaction.replace(R.id.fragment_container, YourFragment())\r\n````\r\nin above code make sure fragment_container is visible and has proper height and width","title":"Fragment is not showing its full width and Height","body":"<p>check your fragment <code>onCreateView()</code> method</p>\n\n<p>you should inflate view like this :</p>\n\n<pre><code>val root = inflater.inflate(R.layout.list_content,container, false);\nreturn root\n</code></pre>\n\n<p>and make sure the <code>place_holder</code> which you adding your fragment to when doing fragment transaction is visible </p>\n\n<pre><code>fragmentTransaction.replace(R.id.fragment_container, YourFragment())\n</code></pre>\n\n<p>in above code make sure fragment_container is visible and has proper height and width</p>\n"}],"owner":{"account_id":16247567,"reputation":23,"user_id":11732286,"display_name":"Prashant Gujar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56863094,"answer_count":1,"score":2,"last_activity_date":1665508086,"creation_date":1562128684,"question_id":56862987,"body_markdown":"I am creating a sliding menu in my android app. But at runtime none of my fragments showing their full size as set by &#39;match_parent&#39;.\r\n\r\n**this is the image : **\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/nipEB.png&quot; width=&quot;300&quot;&gt;\r\n\r\n\r\n**and this is my code**\r\n\r\n*Layout :* \r\n\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:background=&quot;@android:color/holo_red_light&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:text=&quot;@string/hello_blank_fragment&quot; /&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\n*Java Code :*\r\n\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n            switch (menuItem.getItemId()){\r\n                case R.id.nav_place_order:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new PlaceOrderPage1Fragment()).commit();\r\n                    break;\r\n    \r\n                case R.id.nav_profile:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new ProfileFragment()).commit();\r\n                    break;\r\n    \r\n                case R.id.nav_settings:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new SettingsFragment()).commit();\r\n                    break;\r\n    \r\n                case R.id.sample:\r\n                    Toast.makeText(this,&quot;Sample&quot;,Toast.LENGTH_SHORT).show();\r\n                    break;\r\n    \r\n            }\r\n","title":"Fragment is not showing its full width and Height","body":"<p>I am creating a sliding menu in my android app. But at runtime none of my fragments showing their full size as set by 'match_parent'.</p>\n<p>**this is the image : **</p>\n<img src=\"https://i.stack.imgur.com/nipEB.png\" width=\"300\">\n<p><strong>and this is my code</strong></p>\n<p><em>Layout :</em></p>\n<pre><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:background=&quot;@android:color/holo_red_light&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:text=&quot;@string/hello_blank_fragment&quot; /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p><em>Java Code :</em></p>\n<pre><code>public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n        switch (menuItem.getItemId()){\n            case R.id.nav_place_order:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                        new PlaceOrderPage1Fragment()).commit();\n                break;\n\n            case R.id.nav_profile:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                        new ProfileFragment()).commit();\n                break;\n\n            case R.id.nav_settings:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                        new SettingsFragment()).commit();\n                break;\n\n            case R.id.sample:\n                Toast.makeText(this,&quot;Sample&quot;,Toast.LENGTH_SHORT).show();\n                break;\n\n        }\n</code></pre>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665507935,"creation_date":1665507935,"answer_id":74031709,"question_id":74000505,"body_markdown":"I discussed this on the Tomcat users mailing list `users@tomcat.apache.org` (thanks Mark), and here&#39;s what is happening:\r\n\r\n\r\n* Tomcat effectively has two builds:\r\n  1. What I call the Tomcat &quot;primary build&quot; uses Ant with `build.xml`, which compiles the source files, creates all the JARs and binaries, and publishes them to Maven Central (Nexus).\r\n  2. Any &quot;secondary build&quot; by third parties using the published JARs and POMs, using e.g. `org.apache.tomcat.embed:tomcat-embed-core:10.1.0` with Maven.\r\n* The latest versions of direct dependencies are found in the Tomcat repository inside `build.properties.default`.\r\n* The primary build generates JPMS and OSGi metadata, so some classes are annotated with the bnd annotation `aQute.bnd.annotation.spi.ServiceConsumer`. Currently Tomcat gets this annotation from [`biz.aQute.bnd:biz.aQute.bnd:6.3.1`][1], which is apparently some aggregate JAR; the same annotation can be found in the smaller [`biz.aQute.bnd:biz.aQute.bnd.annotation:6.3.1`][2].\r\n* The `aQute.bnd.annotation.spi.ServiceConsumer` annotation source code uses the OSGi annotation `org.osgi.annotation.bundle.Requirement`. Currently this annotation can be found in [`org.osgi:osgi.annotation:8.1.0`][3].\r\n* The bnd and OSGi annotations remain part of the compiled classes even though they are not used at runtime and are not technically needed in any secondary builds.\r\n* If you want to inform Maven and `javac` where these classes are so that they will not appear missing (if you are compiling with some variations of `-Xlint`), but that they nevertheless will not be needed at runtime (and technically aren&#39;t even needed at compile time in a secondary build) and should not be distributed in the resulting JAR, you can note them in your `pom.xml` file using the `provided` scope.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;biz.aQute.bnd&lt;/groupId&gt;\r\n  &lt;artifactId&gt;biz.aQute.bnd.annotation&lt;/artifactId&gt;\r\n  &lt;version&gt;6.3.1&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.osgi&lt;/groupId&gt;\r\n  &lt;artifactId&gt;osgi.annotation&lt;/artifactId&gt;\r\n  &lt;version&gt;8.1.0&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMaven will download these artifacts during your build thereby removing the warning, but they will not be included in the resulting artifacts of your build.\r\n\r\n  [1]: https://search.maven.org/artifact/biz.aQute.bnd/biz.aQute.bnd/6.3.1/jar\r\n  [2]: https://search.maven.org/artifact/biz.aQute.bnd/biz.aQute.bnd.annotation/6.3.1/jar\r\n  [3]: https://search.maven.org/artifact/org.osgi/osgi.annotation/8.1.0/jar","title":"Cannot find annotation method &#39;value()&#39; in type &#39;aQute.bnd.annotation.spi.ServiceConsumer&#39; with Tomcat","body":"<p>I discussed this on the Tomcat users mailing list <code>users@tomcat.apache.org</code> (thanks Mark), and here's what is happening:</p>\n<ul>\n<li>Tomcat effectively has two builds:\n<ol>\n<li>What I call the Tomcat &quot;primary build&quot; uses Ant with <code>build.xml</code>, which compiles the source files, creates all the JARs and binaries, and publishes them to Maven Central (Nexus).</li>\n<li>Any &quot;secondary build&quot; by third parties using the published JARs and POMs, using e.g. <code>org.apache.tomcat.embed:tomcat-embed-core:10.1.0</code> with Maven.</li>\n</ol>\n</li>\n<li>The latest versions of direct dependencies are found in the Tomcat repository inside <code>build.properties.default</code>.</li>\n<li>The primary build generates JPMS and OSGi metadata, so some classes are annotated with the bnd annotation <code>aQute.bnd.annotation.spi.ServiceConsumer</code>. Currently Tomcat gets this annotation from <a href=\"https://search.maven.org/artifact/biz.aQute.bnd/biz.aQute.bnd/6.3.1/jar\" rel=\"nofollow noreferrer\"><code>biz.aQute.bnd:biz.aQute.bnd:6.3.1</code></a>, which is apparently some aggregate JAR; the same annotation can be found in the smaller <a href=\"https://search.maven.org/artifact/biz.aQute.bnd/biz.aQute.bnd.annotation/6.3.1/jar\" rel=\"nofollow noreferrer\"><code>biz.aQute.bnd:biz.aQute.bnd.annotation:6.3.1</code></a>.</li>\n<li>The <code>aQute.bnd.annotation.spi.ServiceConsumer</code> annotation source code uses the OSGi annotation <code>org.osgi.annotation.bundle.Requirement</code>. Currently this annotation can be found in <a href=\"https://search.maven.org/artifact/org.osgi/osgi.annotation/8.1.0/jar\" rel=\"nofollow noreferrer\"><code>org.osgi:osgi.annotation:8.1.0</code></a>.</li>\n<li>The bnd and OSGi annotations remain part of the compiled classes even though they are not used at runtime and are not technically needed in any secondary builds.</li>\n<li>If you want to inform Maven and <code>javac</code> where these classes are so that they will not appear missing (if you are compiling with some variations of <code>-Xlint</code>), but that they nevertheless will not be needed at runtime (and technically aren't even needed at compile time in a secondary build) and should not be distributed in the resulting JAR, you can note them in your <code>pom.xml</code> file using the <code>provided</code> scope.</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;biz.aQute.bnd&lt;/groupId&gt;\n  &lt;artifactId&gt;biz.aQute.bnd.annotation&lt;/artifactId&gt;\n  &lt;version&gt;6.3.1&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.osgi&lt;/groupId&gt;\n  &lt;artifactId&gt;osgi.annotation&lt;/artifactId&gt;\n  &lt;version&gt;8.1.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Maven will download these artifacts during your build thereby removing the warning, but they will not be included in the resulting artifacts of your build.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74031709,"answer_count":1,"score":0,"last_activity_date":1665507966,"creation_date":1665262958,"question_id":74000505,"body_markdown":"I have a Java 11 project embedding Tomcat:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n  &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n  &lt;version&gt;10.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe Tomcat-specific code is in a subproject with only two classes. When I compile using Maven 3.8.6 and Java 17 using `-Xlint:all`, I see the following warning for that subproject:\r\n\r\n&gt; `[WARNING] Cannot find annotation method &#39;value()&#39; in type &#39;aQute.bnd.annotation.spi.ServiceConsumer&#39;: class file for aQute.bnd.annotation.spi.ServiceConsumer not found`\r\n\r\nDoing a bit of searching brings up similar (but not exact) things, such as [Lombok Issue #2145][1], which hints that I may need to add some sort of extra dependency such as `biz.aQute.bnd:bndlib` or `org.osgi:osgi.annotation`. But even after adding those dependencies, the warning remains.\r\n\r\nWhere is this error coming from, and what does it mean? I don&#39;t have any `@ServiceConsumer` annotation in my source code, and I couldn&#39;t find any in the Tomcat classes I&#39;m extending, either. How can I make it go away?\r\n\r\nI filed [Tomcat Bug 66299][2].\r\n\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/2145\r\n  [2]: https://bz.apache.org/bugzilla/show_bug.cgi?id=66299","title":"Cannot find annotation method &#39;value()&#39; in type &#39;aQute.bnd.annotation.spi.ServiceConsumer&#39; with Tomcat","body":"<p>I have a Java 11 project embedding Tomcat:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n  &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n  &lt;version&gt;10.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The Tomcat-specific code is in a subproject with only two classes. When I compile using Maven 3.8.6 and Java 17 using <code>-Xlint:all</code>, I see the following warning for that subproject:</p>\n<blockquote>\n<p><code>[WARNING] Cannot find annotation method 'value()' in type 'aQute.bnd.annotation.spi.ServiceConsumer': class file for aQute.bnd.annotation.spi.ServiceConsumer not found</code></p>\n</blockquote>\n<p>Doing a bit of searching brings up similar (but not exact) things, such as <a href=\"https://github.com/projectlombok/lombok/issues/2145\" rel=\"nofollow noreferrer\">Lombok Issue #2145</a>, which hints that I may need to add some sort of extra dependency such as <code>biz.aQute.bnd:bndlib</code> or <code>org.osgi:osgi.annotation</code>. But even after adding those dependencies, the warning remains.</p>\n<p>Where is this error coming from, and what does it mean? I don't have any <code>@ServiceConsumer</code> annotation in my source code, and I couldn't find any in the Tomcat classes I'm extending, either. How can I make it go away?</p>\n<p>I filed <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=66299\" rel=\"nofollow noreferrer\">Tomcat Bug 66299</a>.</p>\n"},{"tags":["java","completable-future"],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665507940,"creation_date":1665477993,"answer_id":74025370,"question_id":73998491,"body_markdown":"I don&#39;t think you can **cancel** the downstream tasks.\r\n\r\nAll you can do is just not execute the downstream tasks incase of exception.\r\n\r\n```java\r\nCompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; cf = get(&quot;Test_Nickname&quot;);\r\n\r\ncf.whenComplete((response, exception) -&gt; {\r\n    if (exception == null) {\r\n       // Downstream tasks that I would to like to run on this response\r\n    } else {\r\n       //Notify end user of the exception \r\n    }\r\n});\r\n```\r\n\r\nTo avoid nesting.\r\n\r\n```java\r\n\r\nprivate Response transformResponse(GetResponse r) {\r\n   try {\r\n          return SuccessResponse();\r\n    } catch (Exception e) {\r\n          return FailedResponse();\r\n    }\r\n}\r\n\r\nget(&quot;Test_Nickname&quot;)\r\n.thenApply(r -&gt; transformResponse(r))\r\n.thenCompose(... //update)\r\n```","title":"Ways to cancel downstream tasks in CompletableFuture chain when exception fired?","body":"<p>I don't think you can <strong>cancel</strong> the downstream tasks.</p>\n<p>All you can do is just not execute the downstream tasks incase of exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; cf = get(&quot;Test_Nickname&quot;);\n\ncf.whenComplete((response, exception) -&gt; {\n    if (exception == null) {\n       // Downstream tasks that I would to like to run on this response\n    } else {\n       //Notify end user of the exception \n    }\n});\n</code></pre>\n<p>To avoid nesting.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate Response transformResponse(GetResponse r) {\n   try {\n          return SuccessResponse();\n    } catch (Exception e) {\n          return FailedResponse();\n    }\n}\n\nget(&quot;Test_Nickname&quot;)\n.thenApply(r -&gt; transformResponse(r))\n.thenCompose(... //update)\n</code></pre>\n"}],"owner":{"account_id":16735535,"reputation":17,"user_id":12096779,"display_name":"Feniksovich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74025370,"answer_count":1,"score":0,"last_activity_date":1665507940,"creation_date":1665244772,"question_id":73998491,"body_markdown":"My database methods return a CompletableFuture to do the work with database asynchronously and then process the result on the main thread.\r\n\r\n```java\r\npublic interface IAccountDAO {\r\n    CompletableFuture&lt;ObjectId&gt; create(AccountEntity accountEntity);\r\n    CompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; get(String nickname);\r\n    CompletableFuture&lt;Void&gt; update(AccountEntity accountEntity);\r\n    CompletableFuture&lt;Void&gt; delete(AccountEntity accountEntity);\r\n}\r\n```\r\n\r\nEach of the methods have following code inside (example of `get(String)` method):\r\n```java\r\n@Override\r\npublic CompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; get(String nickname) {\r\n    return CompletableFuture.supplyAsync(() -&gt; {\r\n        try {\r\n            // something logic\r\n            return Optional.of(...);\r\n        } catch (SomethingException ex) {\r\n           ex.printStackTrace();\r\n           throw new CompletionException(ex);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nHandling the result:\r\n```java\r\nCompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; cf = get(&quot;Test_Nickname&quot;);\r\n\r\n// Notify end user about exception during process\r\ncf.exceptionally(ex -&gt; {\r\n    System.out.println(&quot;Database operation failed. Stacktrace:&quot;);\r\n    ex.printStackTrace();\r\n    return Optional.ofEmpty(); // I must return something fallback value that passes to downstream tasks.\r\n});\r\n\r\n// Downstream tasks that I would to cancel if exception fired\r\ncf.thenAccept(...);\r\ncf.thenRun(...);\r\ncf.thenRun(...);\r\n```\r\n\r\nSo, operation with database can fire exception. In this case I would to pass exception and using `.exceptionally(...)` or something like this notify the user called that method and **STOP** chain executing (cancel downstream tasks).\r\n\r\n**My question is:** How I can cancel downstream tasks when CompletableFuture completed with exception?","title":"Ways to cancel downstream tasks in CompletableFuture chain when exception fired?","body":"<p>My database methods return a CompletableFuture to do the work with database asynchronously and then process the result on the main thread.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IAccountDAO {\n    CompletableFuture&lt;ObjectId&gt; create(AccountEntity accountEntity);\n    CompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; get(String nickname);\n    CompletableFuture&lt;Void&gt; update(AccountEntity accountEntity);\n    CompletableFuture&lt;Void&gt; delete(AccountEntity accountEntity);\n}\n</code></pre>\n<p>Each of the methods have following code inside (example of <code>get(String)</code> method):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic CompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; get(String nickname) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n        try {\n            // something logic\n            return Optional.of(...);\n        } catch (SomethingException ex) {\n           ex.printStackTrace();\n           throw new CompletionException(ex);\n        }\n    });\n}\n</code></pre>\n<p>Handling the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; cf = get(&quot;Test_Nickname&quot;);\n\n// Notify end user about exception during process\ncf.exceptionally(ex -&gt; {\n    System.out.println(&quot;Database operation failed. Stacktrace:&quot;);\n    ex.printStackTrace();\n    return Optional.ofEmpty(); // I must return something fallback value that passes to downstream tasks.\n});\n\n// Downstream tasks that I would to cancel if exception fired\ncf.thenAccept(...);\ncf.thenRun(...);\ncf.thenRun(...);\n</code></pre>\n<p>So, operation with database can fire exception. In this case I would to pass exception and using <code>.exceptionally(...)</code> or something like this notify the user called that method and <strong>STOP</strong> chain executing (cancel downstream tasks).</p>\n<p><strong>My question is:</strong> How I can cancel downstream tasks when CompletableFuture completed with exception?</p>\n"},{"tags":["java","unreachable-statement"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665506427,"creation_date":1665506014,"answer_id":74031357,"question_id":74030670,"body_markdown":"The java language spec defines a concept called &#39;reachability&#39;. This has nothing to do with whether a statement is actually reached or not reached, as these are all __compile-time checks__ - the compiler decides, and given that the compiler decides, it does not just get to run the code and see.\r\n\r\nThese aren&#39;t &#39;best effort&#39; nor are these reachability rules casually changed between releases. Essentially, certain definitions were laid out in java 1.0 and they have intentionally never changed.\r\n\r\nReachability&#39;s effects are as follows:\r\n\r\n1. Any uninitialized local variable cannot be used unless __the compiler__ determines that the line that reads the variable cannot possibly be reached without necessarily having earlier reached a line that definitely sets that variable. This is called &#39;definite assignment&#39;.\r\n2. A method need not return at all if reachability dictates it never ends. `public int foo() { while (true) ; }` compiles even though you have no return statement in it.\r\n3. Unreachable code is a compiler error.\r\n\r\nBut all of that in context of the specific rules about determining this stuff, as laid out by the java lang spec.\r\n\r\nIn particular:\r\n\r\n1. Only Compile-time-constant (CTC) expressions are resolved in the first place. CTCs are their own can of worms. obviously, actual constants in a source file are CTC, but generally any reference to a `static final` field of a type that can be constant (Strings and primitives only), whose initializing expression is a CTC, is itself also a CTC. So, `public static final long x = 1;` means `x` is a CTC, but `public static final long x = System.currentTimeMillis();` means `x` is not. Curiously, `null` is not CTC. Why? Cuz spec says so, really. Certain arithmetic is CTC if all its units are CTC. `5 + 2` is CTC, for example. So is `x + 2`, if `x` is CTC.\r\n2. If the expression in a `while` or `for` condition is CTC `false`, then the compiler takes that into account. For all purposes:\r\n\r\n```\r\nclass Test {\r\n  public static final boolean TEST = true;\r\n\r\n  public int  test() {\r\n    while (TEST) ;\r\n  }\r\n}\r\n```\r\n\r\ncompiles, even though you&#39;d think it should not, due to `test()` missing a return statement. However, this doesn&#39;t:\r\n\r\n```\r\nclass Test {\r\n  public static final boolean TEST = Boolean.TRUE;\r\n\r\n  public int  test() {\r\n    while (TEST) ;\r\n  }\r\n}\r\n```\r\n\r\nWhy? Because `Boolean.TRUE` is not CTC, and thus `TEST` is not CTC. __The fact that Boolean.TRUE is `true` and the compiler can pretty easily figure that out does not matter__. The _spec_ says that this isn&#39;t a CTC expression, therefore, it isn&#39;t. How reasonable it is to expect the compiler to figure it out doesn&#39;t factor into it, _at all_. Compiler has to follow the spec, period. Reachability analysis isn&#39;t a &#39;nice to have linting thing&#39;. It&#39;s crucial to the language itself.\r\n\r\n3. Specifically excluded is `if (false) statement;`. Even though `statement;` is obviously not reachable, this is nevertheless allowed, specifically to support an ersatz `#ifdef`-style compile-time exclusion. In fact, the compiler will __entirely exclude__ the code, even from the class file, if you do this. This is no longer popular (IDEs let you select a block and hit one key to remark it all out), but it used to be, and java doesn&#39;t break backwards compatibility unless there&#39;s a good reason. In other words, the compiler is perfectly well aware that the stuff is unreachable (it has to be, because by spec it must not even include that code in the class file!), but the spec says this is allowed.\r\n\r\nThis explains why e.g. `if (1 == 0) System.out.println();` compiles fine, but `while (1 == 0) System.out.println();` is a compiler error. Not because the compiler is stupid, or because java is &#39;old&#39; and somehow the OpenJDK team hasn&#39;t bothered to touch the reachability analyser in 25 years. But because the spec says this is how it&#39;s supposed to work, for good reasons (perhaps those &#39;good reasons&#39; now boil down to: It has always worked that way and changing it is backwards incompatible, but that&#39;s still a good reason).\r\n\r\nHere&#39;s an example of javac in action:\r\n\r\n```\r\n&gt; cat Test.java\r\nclass Test {\r\n  public void test() {\r\n    if (false) System.out.println();\r\n  }\r\n}\r\n&gt; javac Test.java\r\n&gt; javap -c -v Test # Show the bytecode of the compiled Test class\r\n [ ... I removed a whole bunch of irrelevant parts of the decompile ... ]\r\n  public void test();\r\n    descriptor: ()V\r\n    flags: (0x0001) ACC_PUBLIC\r\n    Code:\r\n      stack=0, locals=1, args_size=1\r\n         0: return\r\n      LineNumberTable:\r\n        line 4: 0\r\n}\r\nSourceFile: &quot;Test.java&quot;\r\n```\r\n\r\nNote how that System.out.println() call __is gone__.\r\n\r\nNB: At some near future java release, the notion of CTCs may change and encompass more. The general aim of various skunkworks OpenJDK projects is making e.g. `LocalDate.of(2022, 10, 1)` be a CTC. Probably with slightly different definitions (to keep backwards compat), so I doubt this will affect reachability analysis rules. The current java release doesn&#39;t have any of that, so this answer is good up to a least JDK19.","title":"Question regarding unreachable statement errors","body":"<p>The java language spec defines a concept called 'reachability'. This has nothing to do with whether a statement is actually reached or not reached, as these are all <strong>compile-time checks</strong> - the compiler decides, and given that the compiler decides, it does not just get to run the code and see.</p>\n<p>These aren't 'best effort' nor are these reachability rules casually changed between releases. Essentially, certain definitions were laid out in java 1.0 and they have intentionally never changed.</p>\n<p>Reachability's effects are as follows:</p>\n<ol>\n<li>Any uninitialized local variable cannot be used unless <strong>the compiler</strong> determines that the line that reads the variable cannot possibly be reached without necessarily having earlier reached a line that definitely sets that variable. This is called 'definite assignment'.</li>\n<li>A method need not return at all if reachability dictates it never ends. <code>public int foo() { while (true) ; }</code> compiles even though you have no return statement in it.</li>\n<li>Unreachable code is a compiler error.</li>\n</ol>\n<p>But all of that in context of the specific rules about determining this stuff, as laid out by the java lang spec.</p>\n<p>In particular:</p>\n<ol>\n<li>Only Compile-time-constant (CTC) expressions are resolved in the first place. CTCs are their own can of worms. obviously, actual constants in a source file are CTC, but generally any reference to a <code>static final</code> field of a type that can be constant (Strings and primitives only), whose initializing expression is a CTC, is itself also a CTC. So, <code>public static final long x = 1;</code> means <code>x</code> is a CTC, but <code>public static final long x = System.currentTimeMillis();</code> means <code>x</code> is not. Curiously, <code>null</code> is not CTC. Why? Cuz spec says so, really. Certain arithmetic is CTC if all its units are CTC. <code>5 + 2</code> is CTC, for example. So is <code>x + 2</code>, if <code>x</code> is CTC.</li>\n<li>If the expression in a <code>while</code> or <code>for</code> condition is CTC <code>false</code>, then the compiler takes that into account. For all purposes:</li>\n</ol>\n<pre><code>class Test {\n  public static final boolean TEST = true;\n\n  public int  test() {\n    while (TEST) ;\n  }\n}\n</code></pre>\n<p>compiles, even though you'd think it should not, due to <code>test()</code> missing a return statement. However, this doesn't:</p>\n<pre><code>class Test {\n  public static final boolean TEST = Boolean.TRUE;\n\n  public int  test() {\n    while (TEST) ;\n  }\n}\n</code></pre>\n<p>Why? Because <code>Boolean.TRUE</code> is not CTC, and thus <code>TEST</code> is not CTC. <strong>The fact that Boolean.TRUE is <code>true</code> and the compiler can pretty easily figure that out does not matter</strong>. The <em>spec</em> says that this isn't a CTC expression, therefore, it isn't. How reasonable it is to expect the compiler to figure it out doesn't factor into it, <em>at all</em>. Compiler has to follow the spec, period. Reachability analysis isn't a 'nice to have linting thing'. It's crucial to the language itself.</p>\n<ol start=\"3\">\n<li>Specifically excluded is <code>if (false) statement;</code>. Even though <code>statement;</code> is obviously not reachable, this is nevertheless allowed, specifically to support an ersatz <code>#ifdef</code>-style compile-time exclusion. In fact, the compiler will <strong>entirely exclude</strong> the code, even from the class file, if you do this. This is no longer popular (IDEs let you select a block and hit one key to remark it all out), but it used to be, and java doesn't break backwards compatibility unless there's a good reason. In other words, the compiler is perfectly well aware that the stuff is unreachable (it has to be, because by spec it must not even include that code in the class file!), but the spec says this is allowed.</li>\n</ol>\n<p>This explains why e.g. <code>if (1 == 0) System.out.println();</code> compiles fine, but <code>while (1 == 0) System.out.println();</code> is a compiler error. Not because the compiler is stupid, or because java is 'old' and somehow the OpenJDK team hasn't bothered to touch the reachability analyser in 25 years. But because the spec says this is how it's supposed to work, for good reasons (perhaps those 'good reasons' now boil down to: It has always worked that way and changing it is backwards incompatible, but that's still a good reason).</p>\n<p>Here's an example of javac in action:</p>\n<pre><code>&gt; cat Test.java\nclass Test {\n  public void test() {\n    if (false) System.out.println();\n  }\n}\n&gt; javac Test.java\n&gt; javap -c -v Test # Show the bytecode of the compiled Test class\n [ ... I removed a whole bunch of irrelevant parts of the decompile ... ]\n  public void test();\n    descriptor: ()V\n    flags: (0x0001) ACC_PUBLIC\n    Code:\n      stack=0, locals=1, args_size=1\n         0: return\n      LineNumberTable:\n        line 4: 0\n}\nSourceFile: &quot;Test.java&quot;\n</code></pre>\n<p>Note how that System.out.println() call <strong>is gone</strong>.</p>\n<p>NB: At some near future java release, the notion of CTCs may change and encompass more. The general aim of various skunkworks OpenJDK projects is making e.g. <code>LocalDate.of(2022, 10, 1)</code> be a CTC. Probably with slightly different definitions (to keep backwards compat), so I doubt this will affect reachability analysis rules. The current java release doesn't have any of that, so this answer is good up to a least JDK19.</p>\n"}],"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74031357,"answer_count":1,"score":0,"last_activity_date":1665507864,"creation_date":1665502644,"question_id":74030670,"body_markdown":"Given this snippet of code, containing a class `TestClass` with its method `loopTest()`, which is our main focus:\r\n```\r\npublic class TestClass{\r\n   public void loopTest(){\r\n      int x = 0;\r\n      loop: for (int i = 1; i &lt; 5; i++){\r\n         for (int j = 1; j &lt; 5; j++){\r\n            System.out.println(i);\r\n            if (x == 0) {  continue loop;  }\r\n            System.out.println(j);\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nRunning this code in IntelliJ IDEA doesn&#39;t return any compilation errors, but successfully returns an output. My question would be: why isn&#39;t this an unreachable statement?\r\n\r\nRunning the loop after removing the `if (x == 0)` statement (but keeping the `continue loop;` as seen below:\r\n```\r\nloop: for (int i = 1; i &lt; 5; i++){\r\n         for (int j = 1; j &lt; 5; j++){\r\n            System.out.println(i);\r\n            continue loop;\r\n            System.out.println(j);\r\n         }\r\n      }\r\n```\r\n(...) would return such an error, because the last `sout` would never be printed. Why doesn&#39;t this also happen in the first case? I&#39;m pretty confident this isn&#39;t some runtime problem, because the compiler definitely sees that integer `x` is initialized at the beginning of the method, but the loop never reaches the  second statement.","title":"Question regarding unreachable statement errors","body":"<p>Given this snippet of code, containing a class <code>TestClass</code> with its method <code>loopTest()</code>, which is our main focus:</p>\n<pre><code>public class TestClass{\n   public void loopTest(){\n      int x = 0;\n      loop: for (int i = 1; i &lt; 5; i++){\n         for (int j = 1; j &lt; 5; j++){\n            System.out.println(i);\n            if (x == 0) {  continue loop;  }\n            System.out.println(j);\n         }\n      }\n   }\n}\n</code></pre>\n<p>Running this code in IntelliJ IDEA doesn't return any compilation errors, but successfully returns an output. My question would be: why isn't this an unreachable statement?</p>\n<p>Running the loop after removing the <code>if (x == 0)</code> statement (but keeping the <code>continue loop;</code> as seen below:</p>\n<pre><code>loop: for (int i = 1; i &lt; 5; i++){\n         for (int j = 1; j &lt; 5; j++){\n            System.out.println(i);\n            continue loop;\n            System.out.println(j);\n         }\n      }\n</code></pre>\n<p>(...) would return such an error, because the last <code>sout</code> would never be printed. Why doesn't this also happen in the first case? I'm pretty confident this isn't some runtime problem, because the compiler definitely sees that integer <code>x</code> is initialized at the beginning of the method, but the loop never reaches the  second statement.</p>\n"},{"tags":["java","image","swing","awt","javax.imageio"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1512842983,"post_id":47728742,"comment_id":82423760,"body_markdown":"1) One way to get image(s) for a self contained example is to hot link to images seen in [this Q&amp;A](http://stackoverflow.com/q/19209650/418556). 2) See [Detection/fix for the hanging close bracket of a code block](http://meta.stackexchange.com/q/251795/155831) for a problem I could no longer be bothered fixing.","body":"1) One way to get image(s) for a self contained example is to hot link to images seen in <a href=\"http://stackoverflow.com/q/19209650/418556\">this Q&amp;A</a>. 2) See <a href=\"http://meta.stackexchange.com/q/251795/155831\">Detection/fix for the hanging close bracket of a code block</a> for a problem I could no longer be bothered fixing."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512853056,"creation_date":1512853056,"answer_id":47733128,"question_id":47728742,"body_markdown":"Start by not using `Graphics ge = this.getGraphics();`. \r\n\r\nBecause you&#39;re also using your own `Thread`, you&#39;re running the risk of thread race conditions which could result in dirty reads/ paints.  \r\n\r\nStart by understanding how Swing painting actually works and work within the API functionality. \r\n\r\nStart by having a look at [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html), [Painting in AWT and Swing](http://www.oracle.com/technetwork/java/painting-140037.html) and [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)\r\n\r\n`KeyListener` is also a poor choice for monitor key input and you should be using the Key Bindings API - see [How to use key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) for more details.\r\n\r\nAdding content to the `ArrayList` can cause the `ArrayList` to go through a growth cycle, which can consume time and force a longer GC cycle.  Consider seeding the `ArrayList` with initial capacity, it will help reduce the interval between growth cycles.\r\n\r\nFocus on separating the &quot;update&quot; logic from the &quot;paint&quot; logic, it can help you find performance issues\r\n\r\nYou could also have a look at \r\n\r\n- https://stackoverflow.com/questions/24131513/java-what-is-heavier-canvas-or-paintcomponent/24131544#24131544\r\n- https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184\r\n- https://stackoverflow.com/questions/23417786/rotating-multiple-images-causing-flickering-java-graphics2d/23419824#23419824\r\n\r\nWhich demonstrate a verity of techniques for improving performance of rendering in Swing.\r\n\r\nIf these still are&#39;t getting your to the level you want, then you will want to explore using a `BufferStrategy`","title":"How do you solve lagging in Java awt/swing image printing?","body":"<p>Start by not using <code>Graphics ge = this.getGraphics();</code>. </p>\n\n<p>Because you're also using your own <code>Thread</code>, you're running the risk of thread race conditions which could result in dirty reads/ paints.  </p>\n\n<p>Start by understanding how Swing painting actually works and work within the API functionality. </p>\n\n<p>Start by having a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a>, <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a></p>\n\n<p><code>KeyListener</code> is also a poor choice for monitor key input and you should be using the Key Bindings API - see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">How to use key bindings</a> for more details.</p>\n\n<p>Adding content to the <code>ArrayList</code> can cause the <code>ArrayList</code> to go through a growth cycle, which can consume time and force a longer GC cycle.  Consider seeding the <code>ArrayList</code> with initial capacity, it will help reduce the interval between growth cycles.</p>\n\n<p>Focus on separating the \"update\" logic from the \"paint\" logic, it can help you find performance issues</p>\n\n<p>You could also have a look at </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/24131513/java-what-is-heavier-canvas-or-paintcomponent/24131544#24131544\">java what is heavier: Canvas or paintComponent()?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184\">Swing animation running extremely slow</a></li>\n<li><a href=\"https://stackoverflow.com/questions/23417786/rotating-multiple-images-causing-flickering-java-graphics2d/23419824#23419824\">Rotating multiple images causing flickering. Java Graphics2D</a></li>\n</ul>\n\n<p>Which demonstrate a verity of techniques for improving performance of rendering in Swing.</p>\n\n<p>If these still are't getting your to the level you want, then you will want to explore using a <code>BufferStrategy</code></p>\n"},{"tags":[],"owner":{"account_id":25833642,"reputation":1,"user_id":19570362,"display_name":"Aaron924"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665507679,"creation_date":1665507679,"answer_id":74031669,"question_id":47728742,"body_markdown":"Better draw in JPanel and use `repaint()` method to update your JPanel","title":"How do you solve lagging in Java awt/swing image printing?","body":"<p>Better draw in JPanel and use <code>repaint()</code> method to update your JPanel</p>\n"}],"owner":{"account_id":12466454,"reputation":1,"user_id":9076212,"display_name":"David"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1665507679,"creation_date":1512823642,"question_id":47728742,"body_markdown":"I am trying to make a simple game with Java swing/awt.\r\nI am have issue with lagging while printing and moving images on the screen. \r\n\r\nHere is my code below:\r\n\r\n&lt;!-- Paste the part of the code that shows the problem. (Please indent 4 spaces.) --&gt;\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.awt.image.*;\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.*;\r\n    \r\n    \r\n    \r\n    \r\n    public class StarDef extends JFrame implements Runnable, KeyListener{\r\n        private BufferedImage back;\r\n        private boolean start = false, end = false;\r\n        public int w = 1500, h = 800, commandx = 200, commandy = 100, ground = 500,  mineral = 100;\r\n        private int mineralx = 0, mineraly = commandy + 104;\r\n        private int dronecnt = 0;\r\n        private ArrayList&lt;Drone&gt; DrList = null;\r\n        private ArrayList&lt;Enemy&gt; EnList = null;\r\n        private ArrayList&lt;Building&gt; BuildList = null;\r\n        private ArrayList&lt;Allies&gt; AlyList= null;\r\n        public Image imagearr[] = new Image[10];\r\n        private boolean makedrone = false, NeedMinerals = false;\r\n        public int picnum = 1;\r\n        private int OrderBuild = 0;\r\n    \r\n        public static void main(String[] args){\r\n            Thread t = new Thread(new StarDef());\r\n            t.start();\r\n        }\r\n    \r\n        public StarDef(){\r\n            back = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\r\n            DrList = new ArrayList&lt;&gt;();\r\n            BuildList = new ArrayList&lt;&gt;();\r\n            EnList = new ArrayList&lt;&gt;();\r\n            AlyList = new ArrayList&lt;&gt;();\r\n            this.addKeyListener(this);\r\n            this.setSize(w,h);\r\n            this.setTitle(&quot;Starcraft&quot;);\r\n            this.setResizable(false);\r\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            this.setVisible(true);\r\n            try {\r\n                imagearr[0] = ImageIO.read(new File(&quot;Char/Command.png&quot;));\r\n                imagearr[1] = ImageIO.read(new File(&quot;Char/droneleft.png&quot;));\r\n                imagearr[2] = ImageIO.read(new File(&quot;Char/droneright.png&quot;));\r\n                imagearr[3] = ImageIO.read(new File(&quot;Char/Mineral.png&quot;));\r\n                imagearr[4] = ImageIO.read(new File(&quot;Char/barracks.png&quot;));\r\n            } catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public void initGame(){\r\n            DrList.clear();\r\n            mineral = 100;\r\n    \r\n        }\r\n        public void draw(){\r\n            Graphics gs = back.getGraphics();\r\n            gs.setColor(Color.white);\r\n            gs.fillRect(0,0,w,h);\r\n            gs.setColor(Color.DARK_GRAY);\r\n            gs.fillRect(0,ground,w,200);\r\n    \r\n            if (!end) {\r\n                gs.drawImage(imagearr[0], commandx, commandy, null); // First Image-Command Center\r\n                gs.drawImage(imagearr[3], mineralx,mineraly,null); // Second Image-Mineral\r\n    \r\n                for (int i = 0; i &lt; DrList.size(); i++) { //Printing Drones\r\n                    Drone m = DrList.get(i);\r\n                    gs.drawImage(imagearr[m.state], m.x, m.y, null); //Drawing Drones\r\n                    m.moveDr(); // Moving the Drone\r\n                }\r\n    \r\n                for (int i = 0; i &lt; BuildList.size(); i++){ //Printing Building\r\n                    Building bd = BuildList.get(i);\r\n                    if(bd.buildingtype == &#39;R&#39;){\r\n                        gs.drawImage(imagearr[4], bd.x, bd.y, null); // Drawing Building-Problem starts..?\r\n                    }\r\n                }\r\n                gs.drawImage(imagearr[0], commandx, commandy, null);\r\n            }\r\n    \r\n            gs.setColor(Color.black);\r\n            gs.drawString(&quot;mineral : &quot; + mineral, 10,50);\r\n            gs.drawString(&quot;Drones : &quot; + DrList.size(), 10, 70);\r\n    \r\n            Graphics ge = this.getGraphics();\r\n            ge.drawImage(back, 0,0,w,h,this);\r\n        }\r\n    \r\n        public void run(){\r\n    \r\n            try{\r\n                int timer = 10;\r\n    \r\n                while (true){\r\n                    Thread.sleep(timer);\r\n                    if(start){\r\n                        if (makedrone) {\r\n                            makedrone();\r\n                        }\r\n                        if (OrderBuild&gt;0){\r\n                            makeBuilding(OrderBuild);\r\n                        }\r\n                    }\r\n                    draw();\r\n                }\r\n            } catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public void makeBuilding(int buildingnumber){\r\n            int bdx, bdy;\r\n            char BuildingType;\r\n            if(buildingnumber == 1){\r\n                bdx = 500;\r\n                bdy = 100;\r\n                BuildingType = &#39;R&#39;;\r\n                Building barracks = new Building(this, bdx, bdy, BuildingType);\r\n                BuildList.add(barracks);\r\n            }\r\n        }\r\n        public void makedrone() {\r\n    \r\n            if (mineral &gt;= 50) {\r\n                int dronex = commandx;\r\n                int droney = commandy+129;\r\n                Drone dr = new Drone(this ,dronex, droney);\r\n                DrList.add(dr);\r\n                dronecnt++;\r\n                mineral -= 50;\r\n                makedrone = false;\r\n    \r\n            } else if (mineral &lt; 50) {\r\n                NeedMinerals = true;\r\n                makedrone = false;\r\n            }\r\n    \r\n        }\r\n    \r\n        public void keyPressed(KeyEvent ke){\r\n            switch (ke.getKeyCode()){\r\n                case KeyEvent.VK_ENTER:\r\n                    start = true;\r\n                    end = false;\r\n                    break;\r\n                case KeyEvent.VK_D:\r\n                    makedrone = true;\r\n                    break;\r\n                case KeyEvent.VK_R:\r\n                    OrderBuild = 1;\r\n                    break;\r\n            }\r\n        }\r\n    \r\n        public void keyReleased(KeyEvent ke){\r\n            switch ((ke.getKeyCode())){\r\n    \r\n            }\r\n        }\r\n        public void keyTyped(KeyEvent ke) {\r\n        }\r\n\r\n}\r\n\r\n&lt;!-- What do you expect the result to be? --&gt;\r\n\r\nWhen you compile the code, the first few stationary images appear fine. \r\n\r\nAfter moving images(Drones) appear nicely, but when you summon the next stationary image(Building), heavy lag starts to appear and the speed of the moving drones decrease visibly. \r\n\r\nThe building is about 300*150 pixels and the drones are 40*30 pixels. \r\n\r\nWhat is the cause of this problem? Is this because of the code(the way of summoning the image), or the picture&#39;s size, or the computer(I am using a notebook(LG Gram 14in)).?\r\n\r\n","title":"How do you solve lagging in Java awt/swing image printing?","body":"<p>I am trying to make a simple game with Java swing/awt.\nI am have issue with lagging while printing and moving images on the screen. </p>\n\n<p>Here is my code below:</p>\n\n\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.image.*;\nimport java.io.File;\nimport java.util.ArrayList;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\n\n\n\npublic class StarDef extends JFrame implements Runnable, KeyListener{\n    private BufferedImage back;\n    private boolean start = false, end = false;\n    public int w = 1500, h = 800, commandx = 200, commandy = 100, ground = 500,  mineral = 100;\n    private int mineralx = 0, mineraly = commandy + 104;\n    private int dronecnt = 0;\n    private ArrayList&lt;Drone&gt; DrList = null;\n    private ArrayList&lt;Enemy&gt; EnList = null;\n    private ArrayList&lt;Building&gt; BuildList = null;\n    private ArrayList&lt;Allies&gt; AlyList= null;\n    public Image imagearr[] = new Image[10];\n    private boolean makedrone = false, NeedMinerals = false;\n    public int picnum = 1;\n    private int OrderBuild = 0;\n\n    public static void main(String[] args){\n        Thread t = new Thread(new StarDef());\n        t.start();\n    }\n\n    public StarDef(){\n        back = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\n        DrList = new ArrayList&lt;&gt;();\n        BuildList = new ArrayList&lt;&gt;();\n        EnList = new ArrayList&lt;&gt;();\n        AlyList = new ArrayList&lt;&gt;();\n        this.addKeyListener(this);\n        this.setSize(w,h);\n        this.setTitle(\"Starcraft\");\n        this.setResizable(false);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setVisible(true);\n        try {\n            imagearr[0] = ImageIO.read(new File(\"Char/Command.png\"));\n            imagearr[1] = ImageIO.read(new File(\"Char/droneleft.png\"));\n            imagearr[2] = ImageIO.read(new File(\"Char/droneright.png\"));\n            imagearr[3] = ImageIO.read(new File(\"Char/Mineral.png\"));\n            imagearr[4] = ImageIO.read(new File(\"Char/barracks.png\"));\n        } catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n    public void initGame(){\n        DrList.clear();\n        mineral = 100;\n\n    }\n    public void draw(){\n        Graphics gs = back.getGraphics();\n        gs.setColor(Color.white);\n        gs.fillRect(0,0,w,h);\n        gs.setColor(Color.DARK_GRAY);\n        gs.fillRect(0,ground,w,200);\n\n        if (!end) {\n            gs.drawImage(imagearr[0], commandx, commandy, null); // First Image-Command Center\n            gs.drawImage(imagearr[3], mineralx,mineraly,null); // Second Image-Mineral\n\n            for (int i = 0; i &lt; DrList.size(); i++) { //Printing Drones\n                Drone m = DrList.get(i);\n                gs.drawImage(imagearr[m.state], m.x, m.y, null); //Drawing Drones\n                m.moveDr(); // Moving the Drone\n            }\n\n            for (int i = 0; i &lt; BuildList.size(); i++){ //Printing Building\n                Building bd = BuildList.get(i);\n                if(bd.buildingtype == 'R'){\n                    gs.drawImage(imagearr[4], bd.x, bd.y, null); // Drawing Building-Problem starts..?\n                }\n            }\n            gs.drawImage(imagearr[0], commandx, commandy, null);\n        }\n\n        gs.setColor(Color.black);\n        gs.drawString(\"mineral : \" + mineral, 10,50);\n        gs.drawString(\"Drones : \" + DrList.size(), 10, 70);\n\n        Graphics ge = this.getGraphics();\n        ge.drawImage(back, 0,0,w,h,this);\n    }\n\n    public void run(){\n\n        try{\n            int timer = 10;\n\n            while (true){\n                Thread.sleep(timer);\n                if(start){\n                    if (makedrone) {\n                        makedrone();\n                    }\n                    if (OrderBuild&gt;0){\n                        makeBuilding(OrderBuild);\n                    }\n                }\n                draw();\n            }\n        } catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n    public void makeBuilding(int buildingnumber){\n        int bdx, bdy;\n        char BuildingType;\n        if(buildingnumber == 1){\n            bdx = 500;\n            bdy = 100;\n            BuildingType = 'R';\n            Building barracks = new Building(this, bdx, bdy, BuildingType);\n            BuildList.add(barracks);\n        }\n    }\n    public void makedrone() {\n\n        if (mineral &gt;= 50) {\n            int dronex = commandx;\n            int droney = commandy+129;\n            Drone dr = new Drone(this ,dronex, droney);\n            DrList.add(dr);\n            dronecnt++;\n            mineral -= 50;\n            makedrone = false;\n\n        } else if (mineral &lt; 50) {\n            NeedMinerals = true;\n            makedrone = false;\n        }\n\n    }\n\n    public void keyPressed(KeyEvent ke){\n        switch (ke.getKeyCode()){\n            case KeyEvent.VK_ENTER:\n                start = true;\n                end = false;\n                break;\n            case KeyEvent.VK_D:\n                makedrone = true;\n                break;\n            case KeyEvent.VK_R:\n                OrderBuild = 1;\n                break;\n        }\n    }\n\n    public void keyReleased(KeyEvent ke){\n        switch ((ke.getKeyCode())){\n\n        }\n    }\n    public void keyTyped(KeyEvent ke) {\n    }\n</code></pre>\n\n<p>}</p>\n\n\n\n<p>When you compile the code, the first few stationary images appear fine. </p>\n\n<p>After moving images(Drones) appear nicely, but when you summon the next stationary image(Building), heavy lag starts to appear and the speed of the moving drones decrease visibly. </p>\n\n<p>The building is about 300*150 pixels and the drones are 40*30 pixels. </p>\n\n<p>What is the cause of this problem? Is this because of the code(the way of summoning the image), or the picture's size, or the computer(I am using a notebook(LG Gram 14in)).?</p>\n"},{"tags":["java","spring","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665482264,"post_id":74025932,"comment_id":130705250,"body_markdown":"Why don&#39;t you call ` generalProcessor.run()` directly instead of ` generalProcessor.start()`?","body":"Why don&#39;t you call ` generalProcessor.run()` directly instead of ` generalProcessor.start()`?"},{"owner":{"account_id":5659344,"reputation":520,"user_id":4477439,"accept_rate":73,"display_name":"Yu Fang"},"score":0,"creation_date":1665483808,"post_id":74025932,"comment_id":130705773,"body_markdown":"@talex In this way, it causes that the test doesn&#39;t stop--the circle doesn&#39;t stop circling. I call generalProcessor.run() and disable latch, but it&#39;s not better. Not sure whether a thread produces this","body":"@talex In this way, it causes that the test doesn&#39;t stop--the circle doesn&#39;t stop circling. I call generalProcessor.run() and disable latch, but it&#39;s not better. Not sure whether a thread produces this"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665486665,"post_id":74025932,"comment_id":130706750,"body_markdown":"Perhaps you should call `generalProcessor.join()` instead of latch.","body":"Perhaps you should call <code>generalProcessor.join()</code> instead of latch."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665487605,"post_id":74025932,"comment_id":130707089,"body_markdown":"Does this help? https://stackoverflow.com/questions/74027324/why-is-my-class-not-using-my-mock-in-unit-test","body":"Does this help? <a href=\"https://stackoverflow.com/questions/74027324/why-is-my-class-not-using-my-mock-in-unit-test\" title=\"why is my class not using my mock in unit test\">stackoverflow.com/questions/74027324/&hellip;</a>"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1665660002,"post_id":74025932,"comment_id":130754081,"body_markdown":"Does this answer your question? [Initialising mock objects - MockIto](https://stackoverflow.com/questions/15494926/initialising-mock-objects-mockito)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15494926/initialising-mock-objects-mockito\">Initialising mock objects - MockIto</a>"}],"owner":{"account_id":5659344,"reputation":520,"user_id":4477439,"accept_rate":73,"display_name":"Yu Fang"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665507658,"creation_date":1665480725,"question_id":74025932,"body_markdown":"**Background Info**\r\n\r\nI have a thread. It&#39;s a dedicated thread to continuously take out a task from a queue and write to a persistent repository. So it&#39;s code is like this.\r\n\r\n    public class Processor extends Thread {\r\n        //Context saves reference to the task queue and the write backEnd service\r\n        public GeneralProcessor(Context context){initProcessor( context,  Type.GENERAL);}\r\n        public void run() {\r\n            ...\r\n            synchronized (Processor.class) {\r\n                Thread curThread=currentThread();\r\n                Context context=getContext();\r\n                ConcurrentLinkedQueue&lt;Task&gt; taskQue =context.getTasks();\r\n                if (taskQue.size() &gt; 0) {\r\n                    Task t = taskQue.poll();\r\n                    Transaction ts = new Transaction();\r\n                    //all works to copy Task&#39;s member values to Transaction, and add other values to this transaction\r\n                    //...\r\n                    context.getService().save(ts);//this is the line I want to monitor. This is also related to issue in some way.\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**The Issue**\r\n\r\nBut there is an issue when I wrote a unit test for this class. My original unit test is this.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class GeneralProcessorTest {\r\n        @InjectMocks\r\n        private GeneralProcessor generalProcessor;\r\n        @Mock\r\n        private Context context;\r\n        @Spy\r\n        private ConcurrentLinkedQueue&lt;Task&gt; tasks;\r\n        @Mock\r\n        private TransactionRepository transactionRepository;\r\n        @Captor\r\n        private ArgumentCaptor&lt;Transaction&gt; transactionArgumentCaptor;\r\n        @Mock\r\n        private TransactionService transactionService;\r\n\r\n\r\n       @BeforeEach\r\n        void setup() {\r\n            //transactionService=new TransactionServiceImpl(transactionRepository);\r\n        }\r\n\r\n        @Test\r\n        @SneakyThrows\r\n        void should_match_save_times_single_thread() {\r\n            //given\r\n            CountDownLatch latch=new CountDownLatch(0);\r\n            this.tasks.add(new Task(10));\r\n            //stub code\r\n            when(context.getTasks()).thenReturn(tasks);\r\n            when(context.getService()).thenReturn(transactionService);\r\n            //when\r\n            generalProcessor.start();\r\n            latch.await(1, TimeUnit.SECONDS);\r\n            //then\r\n            //the issue happened here!\r\n            verify(transactionService).save(transactionArgumentCaptor.capture());\r\n            List&lt;Transaction&gt; capturedArguments = transactionArgumentCaptor.getAllValues();\r\n            assertEquals(capturedArguments.size(),1);\r\n        }\r\n\r\nBut I got: \r\n\r\n    Wanted but not invoked:\r\n    transactionService.save(\r\n        &lt;Capturing argument&gt;\r\n    );\r\n    at com.example.demo.GeneralProcessorTest.should_match_save_times_single_thread(GeneralProcessorTest.java:65)\r\n    Actually, there were zero interactions with this mock.\r\n\r\nIn fact, I tried to init transactionService with *new*. But Mockito told me that in verify I can only use Mock object.\r\n\r\nSo I am confused. Is there any way to let me use verify while at the same time keep transactionService working as a normal object? Any info is appreciated.","title":"A question about using mock or new in Junit &amp; Mockito","body":"<p><strong>Background Info</strong></p>\n<p>I have a thread. It's a dedicated thread to continuously take out a task from a queue and write to a persistent repository. So it's code is like this.</p>\n<pre><code>public class Processor extends Thread {\n    //Context saves reference to the task queue and the write backEnd service\n    public GeneralProcessor(Context context){initProcessor( context,  Type.GENERAL);}\n    public void run() {\n        ...\n        synchronized (Processor.class) {\n            Thread curThread=currentThread();\n            Context context=getContext();\n            ConcurrentLinkedQueue&lt;Task&gt; taskQue =context.getTasks();\n            if (taskQue.size() &gt; 0) {\n                Task t = taskQue.poll();\n                Transaction ts = new Transaction();\n                //all works to copy Task's member values to Transaction, and add other values to this transaction\n                //...\n                context.getService().save(ts);//this is the line I want to monitor. This is also related to issue in some way.\n\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>The Issue</strong></p>\n<p>But there is an issue when I wrote a unit test for this class. My original unit test is this.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class GeneralProcessorTest {\n    @InjectMocks\n    private GeneralProcessor generalProcessor;\n    @Mock\n    private Context context;\n    @Spy\n    private ConcurrentLinkedQueue&lt;Task&gt; tasks;\n    @Mock\n    private TransactionRepository transactionRepository;\n    @Captor\n    private ArgumentCaptor&lt;Transaction&gt; transactionArgumentCaptor;\n    @Mock\n    private TransactionService transactionService;\n\n\n   @BeforeEach\n    void setup() {\n        //transactionService=new TransactionServiceImpl(transactionRepository);\n    }\n\n    @Test\n    @SneakyThrows\n    void should_match_save_times_single_thread() {\n        //given\n        CountDownLatch latch=new CountDownLatch(0);\n        this.tasks.add(new Task(10));\n        //stub code\n        when(context.getTasks()).thenReturn(tasks);\n        when(context.getService()).thenReturn(transactionService);\n        //when\n        generalProcessor.start();\n        latch.await(1, TimeUnit.SECONDS);\n        //then\n        //the issue happened here!\n        verify(transactionService).save(transactionArgumentCaptor.capture());\n        List&lt;Transaction&gt; capturedArguments = transactionArgumentCaptor.getAllValues();\n        assertEquals(capturedArguments.size(),1);\n    }\n</code></pre>\n<p>But I got:</p>\n<pre><code>Wanted but not invoked:\ntransactionService.save(\n    &lt;Capturing argument&gt;\n);\nat com.example.demo.GeneralProcessorTest.should_match_save_times_single_thread(GeneralProcessorTest.java:65)\nActually, there were zero interactions with this mock.\n</code></pre>\n<p>In fact, I tried to init transactionService with <em>new</em>. But Mockito told me that in verify I can only use Mock object.</p>\n<p>So I am confused. Is there any way to let me use verify while at the same time keep transactionService working as a normal object? Any info is appreciated.</p>\n"},{"tags":["java","xml","xml-parsing","xml-validation"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":2,"creation_date":1498497931,"post_id":44765194,"comment_id":76511524,"body_markdown":"Invalid XML *really* isn&#39;t XML, though.  Parsers exist which expect XML to be valid, and it&#39;s not a leap to expect that, either; it&#39;s not like DOM which *can* be entirely invalid.","body":"Invalid XML <i>really</i> isn&#39;t XML, though.  Parsers exist which expect XML to be valid, and it&#39;s not a leap to expect that, either; it&#39;s not like DOM which <i>can</i> be entirely invalid."},{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":2,"creation_date":1498497997,"post_id":44765194,"comment_id":76511565,"body_markdown":"From a design standpoint, it should be the provider&#39;s responsibility to correct malformed XML, and not the consumer&#39;s responsibility to handle malformed XML.","body":"From a design standpoint, it should be the provider&#39;s responsibility to correct malformed XML, and not the consumer&#39;s responsibility to handle malformed XML."},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":1,"creation_date":1498499550,"post_id":44765194,"comment_id":76512378,"body_markdown":"The XML can&#39;t be tested for validity because it is not well formed. &quot;Valid&quot; means that the document conforms to a schema or DTD, but if a document isn&#39;t even well-formed XML then the question of validity cannot even be asked. The proper thing for your code to do is to reject the bad input. Silently ignoring such egregious errors is a recipe for worse bugs.","body":"The XML can&#39;t be tested for validity because it is not well formed. &quot;Valid&quot; means that the document conforms to a schema or DTD, but if a document isn&#39;t even well-formed XML then the question of validity cannot even be asked. The proper thing for your code to do is to reject the bad input. Silently ignoring such egregious errors is a recipe for worse bugs."},{"owner":{"account_id":44242,"reputation":3329,"user_id":129732,"accept_rate":100,"display_name":"vtd-xml-author"},"score":0,"creation_date":1498526997,"post_id":44765194,"comment_id":76522759,"body_markdown":"you can use shell script or interpreted language like perl to patch up the errors to make it valid.","body":"you can use shell script or interpreted language like perl to patch up the errors to make it valid."}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1498498622,"creation_date":1498498622,"answer_id":44765410,"question_id":44765194,"body_markdown":"A standard XML parser will NEVER accept invalid XML, by design.  \r\n\r\nYour only option is to pre-process the input to remove the &quot;predictably invalid&quot; content, or wrap it in CDATA, prior to parsing it.  ","title":"How to parse invalid (bad / not well-formed) XML?","body":"<p>A standard XML parser will NEVER accept invalid XML, by design.  </p>\n\n<p>Your only option is to pre-process the input to remove the \"predictably invalid\" content, or wrap it in CDATA, prior to parsing it.  </p>\n"},{"tags":[],"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1651711821,"creation_date":1498499096,"answer_id":44765546,"question_id":44765194,"body_markdown":"That &quot;XML&quot; is worse than *invalid* &amp;ndash; it&#39;s *not well-formed*; see ***[Well Formed vs Valid XML][1]***.\r\n\r\nAn informal assessment of the predictability of the transgressions does not help.  That textual data is not XML.  No conformant XML tools or libraries can help you process it.\r\n\r\nOptions, most desirable first:\r\n------------------------------\r\n\r\n 1. Have the provider fix the problem on their end.  **Demand well-formed XML.** (Technically the phrase *well-formed XML* is redundant but may be useful for emphasis.)\r\n 2. Use a **tolerant markup parser** to cleanup the problem ahead of parsing as XML:\r\n      - **Standalone:** [xmlstarlet][2] has robust recovering and repair capabilities&lt;sup&gt;&lt;sub&gt; credit: [RomanPerekhrest][3]&lt;/sub&gt;&lt;/sup&gt;\r\n\r\n            xmlstarlet fo -o -R -H -D bad.xml 2&gt;/dev/null\r\n\r\n        \r\n      - **Standalone and C/C++:** [HTML Tidy][4] works with XML too.  [Taggle][5] is a port of TagSoup to C++.\r\n      - **Python:** [Beautiful Soup][6] is Python-based. See notes in the [Differences between parsers][7] section.  See also [answers to this question][8] for more\r\n        suggestions for dealing with not-well-formed markup in Python,\r\n        including especially [lxml&#39;s `recover=True` option][9].\r\n        See also [this answer][10] for how to use `codecs.EncodedFile()` to cleanup illegal characters.\r\n      - **Java:** [TagSoup][11] and [JSoup][12] focus on HTML.  [`FilterInputStream`][13] can be used for [preprocessing cleanup][14].\r\n      - **.NET:** \r\n        - [XmlReaderSettings.CheckCharacters][15] can\r\n        be disabled to get past illegal XML character problems.\r\n        - [@jdweng notes][16] that [`XmlReaderSettings.ConformanceLevel`][17] can be set to\r\n          [`ConformanceLevel.Fragment`][18] so that [`XmlReader`][19] can read [XML Well-Formed Parsed Entities][20] lacking a root element.\r\n        - [@jdweng also reports][21] that [`XmlReader.ReadToFollowing()`][22] can sometimes\r\n        be used to [work-around XML syntactical issues][21], but note\r\n        rule-breaking warning in #3 below.\r\n        - [`Microsoft.Language.Xml.XMLParser`][23] is said to be “error-tolerant”.\r\n      - **Go:** Set [`Decoder.Strict`][24] to `false` as shown in this [example][25] by [@chuckx][26].\r\n      - **PHP:** See [DOMDocument::$recover][27] and [libxml_use_internal_errors(true)][28].  See nice example [here][29].\r\n      - **Ruby:** Nokogiri supports “[Gentle Well-Formedness][30]”.\r\n      - **R:** See [htmlTreeParse()][31] for fault-tolerant markup parsing in R.\r\n      - **Perl:** See [XML::Liberal][32], a &quot;super liberal XML parser that parses broken XML.&quot;\r\n\r\n 3. **Process the data as text** manually using a text editor or\r\n    programmatically using character/string functions.  Doing this\r\n    programmatically can range from **tricky to impossible** as \r\n    what appears to be\r\n    predictable often is not -- **rule breaking is rarely bound by rules**.\r\n      - For **invalid character errors**, use regex to remove/replace invalid characters:\r\n        - [PHP:][33] `preg_replace(&#39;/[^\\x{0009}\\x{000a}\\x{000d}\\x{0020}-\\x{D7FF}\\x{E000}-\\x{FFFD}]+/u&#39;, &#39; &#39;, $s);`\r\n        - [Ruby:][34] `string.tr(&quot;^\\u{0009}\\u{000a}\\u{000d}\\u{0020}-\\u{D7FF}\\u{E000‌​}-\\u{FFFD}&quot;, &#39; &#39;)`\r\n        - [JavaScript:][34] `inputStr.replace(/[^\\x09\\x0A\\x0D\\x20-\\xFF\\x85\\xA0-\\uD7FF\\uE000-\\uFDCF\\uFDE0-\\uFFFD]/gm, &#39;&#39;)`\r\n      - For **ampersands**, use regex to replace matches with `&amp;amp;`:&lt;sup&gt;&lt;sub&gt; credit: [blhsin][35], [demo][36]&lt;/sub&gt;&lt;/sup&gt;\r\n\r\n            &amp;(?!(?:#\\d+|#x[0-9a-f]+|\\w+);)\r\n\r\n Note that the above regular expressions won&#39;t take comments or CDATA\r\n sections into account.\r\n   \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25830482/290085\r\n  [2]: http://xmlstar.sourceforge.net/docs.php\r\n  [3]: https://stackoverflow.com/a/47285050/290085\r\n  [4]: http://www.html-tidy.org/\r\n  [5]: https://www.jezuk.co.uk/blog/2008/01/taggle-and-there-it-is-.html\r\n  [6]: https://www.crummy.com/software/BeautifulSoup/bs4/doc/\r\n  [7]: https://www.crummy.com/software/BeautifulSoup/bs4/doc/#differences-between-parsers\r\n  [8]: https://stackoverflow.com/questions/2352840/parsing-broken-xml-with-lxml-etree-iterparse\r\n  [9]: https://lxml.de/parsing.html#parser-options\r\n  [10]: https://stackoverflow.com/a/11400514/290085\r\n  [11]: http://vrici.lojban.org/~cowan/XML/tagsoup/\r\n  [12]: https://jsoup.org/\r\n  [13]: https://docs.oracle.com/javase/7/docs/api/java/io/FilterInputStream.html\r\n  [14]: https://stackoverflow.com/a/8007565/290085\r\n  [15]: https://msdn.microsoft.com/en-us/library/system.xml.xmlreadersettings.checkcharacters.aspx\r\n  [16]: https://stackoverflow.com/questions/56010744/how-to-add-extra-root-to-loaded-xml-file-c-sharp/56010903#comment98670389_56010903\r\n  [17]: https://learn.microsoft.com/en-us/dotnet/api/system.xml.xmlreadersettings.conformancelevel?view=netframework-4.8\r\n  [18]: https://learn.microsoft.com/en-us/dotnet/api/system.xml.conformancelevel?view=netframework-4.8#System_Xml_ConformanceLevel_Fragment\r\n  [19]: https://learn.microsoft.com/en-us/dotnet/api/system.xml.xmlreader?view=netframework-4.8\r\n  [20]: https://www.w3.org/TR/2006/REC-xml-20060816/#wf-entities\r\n  [21]: https://stackoverflow.com/a/46221333/290085\r\n  [22]: https://msdn.microsoft.com/en-us/library/system.xml.xmlreader.readtofollowing(v=vs.110).aspx\r\n  [23]: https://github.com/KirillOsenkov/XmlParser\r\n  [24]: https://pkg.go.dev/encoding/xml#Decoder\r\n  [25]: https://stackoverflow.com/a/72120398/290085\r\n  [26]: https://stackoverflow.com/users/373815/chuckx\r\n  [27]: http://php.net/manual/en/class.domdocument.php#domdocument.props.recover\r\n  [28]: http://php.net/libxml_use_internal_errors\r\n  [29]: https://stackoverflow.com/a/42370773/290085\r\n  [30]: http://www.nokogiri.org/tutorials/ensuring_well_formed_markup.html#gentle_well_formedness\r\n  [31]: http://web.mit.edu/~r/current/arch/i386_linux26/lib/R/library/XML/html/xmlTreeParse.html\r\n  [32]: https://metacpan.org/pod/XML::Liberal\r\n  [33]: https://stackoverflow.com/a/12265956/290085\r\n  [34]: https://stackoverflow.com/questions/12229572/php-generated-xml-shows-invalid-char-value-27-message#comment68534118_12265956\r\n  [35]: https://stackoverflow.com/a/52951144/290085\r\n  [36]: https://regex101.com/r/3MTLY9/2","title":"How to parse invalid (bad / not well-formed) XML?","body":"<p>That &quot;XML&quot; is worse than <em>invalid</em> – it's <em>not well-formed</em>; see <em><strong><a href=\"https://stackoverflow.com/a/25830482/290085\">Well Formed vs Valid XML</a></strong></em>.</p>\n<p>An informal assessment of the predictability of the transgressions does not help.  That textual data is not XML.  No conformant XML tools or libraries can help you process it.</p>\n<h2>Options, most desirable first:</h2>\n<ol>\n<li><p>Have the provider fix the problem on their end.  <strong>Demand well-formed XML.</strong> (Technically the phrase <em>well-formed XML</em> is redundant but may be useful for emphasis.)</p>\n</li>\n<li><p>Use a <strong>tolerant markup parser</strong> to cleanup the problem ahead of parsing as XML:</p>\n<ul>\n<li><p><strong>Standalone:</strong> <a href=\"http://xmlstar.sourceforge.net/docs.php\" rel=\"nofollow noreferrer\">xmlstarlet</a> has robust recovering and repair capabilities<sup><sub> credit: <a href=\"https://stackoverflow.com/a/47285050/290085\">RomanPerekhrest</a></sub></sup></p>\n<pre><code>xmlstarlet fo -o -R -H -D bad.xml 2&gt;/dev/null\n</code></pre>\n</li>\n<li><p><strong>Standalone and C/C++:</strong> <a href=\"http://www.html-tidy.org/\" rel=\"nofollow noreferrer\">HTML Tidy</a> works with XML too.  <a href=\"https://www.jezuk.co.uk/blog/2008/01/taggle-and-there-it-is-.html\" rel=\"nofollow noreferrer\">Taggle</a> is a port of TagSoup to C++.</p>\n</li>\n<li><p><strong>Python:</strong> <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow noreferrer\">Beautiful Soup</a> is Python-based. See notes in the <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#differences-between-parsers\" rel=\"nofollow noreferrer\">Differences between parsers</a> section.  See also <a href=\"https://stackoverflow.com/questions/2352840/parsing-broken-xml-with-lxml-etree-iterparse\">answers to this question</a> for more\nsuggestions for dealing with not-well-formed markup in Python,\nincluding especially <a href=\"https://lxml.de/parsing.html#parser-options\" rel=\"nofollow noreferrer\">lxml's <code>recover=True</code> option</a>.\nSee also <a href=\"https://stackoverflow.com/a/11400514/290085\">this answer</a> for how to use <code>codecs.EncodedFile()</code> to cleanup illegal characters.</p>\n</li>\n<li><p><strong>Java:</strong> <a href=\"http://vrici.lojban.org/%7Ecowan/XML/tagsoup/\" rel=\"nofollow noreferrer\">TagSoup</a> and <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">JSoup</a> focus on HTML.  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FilterInputStream.html\" rel=\"nofollow noreferrer\"><code>FilterInputStream</code></a> can be used for <a href=\"https://stackoverflow.com/a/8007565/290085\">preprocessing cleanup</a>.</p>\n</li>\n<li><p><strong>.NET:</strong></p>\n<ul>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/system.xml.xmlreadersettings.checkcharacters.aspx\" rel=\"nofollow noreferrer\">XmlReaderSettings.CheckCharacters</a> can\nbe disabled to get past illegal XML character problems.</li>\n<li><a href=\"https://stackoverflow.com/questions/56010744/how-to-add-extra-root-to-loaded-xml-file-c-sharp/56010903#comment98670389_56010903\">@jdweng notes</a> that <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.xml.xmlreadersettings.conformancelevel?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>XmlReaderSettings.ConformanceLevel</code></a> can be set to\n<a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.xml.conformancelevel?view=netframework-4.8#System_Xml_ConformanceLevel_Fragment\" rel=\"nofollow noreferrer\"><code>ConformanceLevel.Fragment</code></a> so that <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.xml.xmlreader?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>XmlReader</code></a> can read <a href=\"https://www.w3.org/TR/2006/REC-xml-20060816/#wf-entities\" rel=\"nofollow noreferrer\">XML Well-Formed Parsed Entities</a> lacking a root element.</li>\n<li><a href=\"https://stackoverflow.com/a/46221333/290085\">@jdweng also reports</a> that <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.xmlreader.readtofollowing(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>XmlReader.ReadToFollowing()</code></a> can sometimes\nbe used to <a href=\"https://stackoverflow.com/a/46221333/290085\">work-around XML syntactical issues</a>, but note\nrule-breaking warning in #3 below.</li>\n<li><a href=\"https://github.com/KirillOsenkov/XmlParser\" rel=\"nofollow noreferrer\"><code>Microsoft.Language.Xml.XMLParser</code></a> is said to be “error-tolerant”.</li>\n</ul>\n</li>\n<li><p><strong>Go:</strong> Set <a href=\"https://pkg.go.dev/encoding/xml#Decoder\" rel=\"nofollow noreferrer\"><code>Decoder.Strict</code></a> to <code>false</code> as shown in this <a href=\"https://stackoverflow.com/a/72120398/290085\">example</a> by <a href=\"https://stackoverflow.com/users/373815/chuckx\">@chuckx</a>.</p>\n</li>\n<li><p><strong>PHP:</strong> See <a href=\"http://php.net/manual/en/class.domdocument.php#domdocument.props.recover\" rel=\"nofollow noreferrer\">DOMDocument::$recover</a> and <a href=\"http://php.net/libxml_use_internal_errors\" rel=\"nofollow noreferrer\">libxml_use_internal_errors(true)</a>.  See nice example <a href=\"https://stackoverflow.com/a/42370773/290085\">here</a>.</p>\n</li>\n<li><p><strong>Ruby:</strong> Nokogiri supports “<a href=\"http://www.nokogiri.org/tutorials/ensuring_well_formed_markup.html#gentle_well_formedness\" rel=\"nofollow noreferrer\">Gentle Well-Formedness</a>”.</p>\n</li>\n<li><p><strong>R:</strong> See <a href=\"http://web.mit.edu/%7Er/current/arch/i386_linux26/lib/R/library/XML/html/xmlTreeParse.html\" rel=\"nofollow noreferrer\">htmlTreeParse()</a> for fault-tolerant markup parsing in R.</p>\n</li>\n<li><p><strong>Perl:</strong> See <a href=\"https://metacpan.org/pod/XML::Liberal\" rel=\"nofollow noreferrer\">XML::Liberal</a>, a &quot;super liberal XML parser that parses broken XML.&quot;</p>\n</li>\n</ul>\n</li>\n<li><p><strong>Process the data as text</strong> manually using a text editor or\nprogrammatically using character/string functions.  Doing this\nprogrammatically can range from <strong>tricky to impossible</strong> as\nwhat appears to be\npredictable often is not -- <strong>rule breaking is rarely bound by rules</strong>.</p>\n<ul>\n<li><p>For <strong>invalid character errors</strong>, use regex to remove/replace invalid characters:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/12265956/290085\">PHP:</a> <code>preg_replace('/[^\\x{0009}\\x{000a}\\x{000d}\\x{0020}-\\x{D7FF}\\x{E000}-\\x{FFFD}]+/u', ' ', $s);</code></li>\n<li><a href=\"https://stackoverflow.com/questions/12229572/php-generated-xml-shows-invalid-char-value-27-message#comment68534118_12265956\">Ruby:</a> <code>string.tr(&quot;^\\u{0009}\\u{000a}\\u{000d}\\u{0020}-\\u{D7FF}\\u{E000‌​}-\\u{FFFD}&quot;, ' ')</code></li>\n<li><a href=\"https://stackoverflow.com/questions/12229572/php-generated-xml-shows-invalid-char-value-27-message#comment68534118_12265956\">JavaScript:</a> <code>inputStr.replace(/[^\\x09\\x0A\\x0D\\x20-\\xFF\\x85\\xA0-\\uD7FF\\uE000-\\uFDCF\\uFDE0-\\uFFFD]/gm, '')</code></li>\n</ul>\n</li>\n<li><p>For <strong>ampersands</strong>, use regex to replace matches with <code>&amp;amp;</code>:<sup><sub> credit: <a href=\"https://stackoverflow.com/a/52951144/290085\">blhsin</a>, <a href=\"https://regex101.com/r/3MTLY9/2\" rel=\"nofollow noreferrer\">demo</a></sub></sup></p>\n<pre><code>&amp;(?!(?:#\\d+|#x[0-9a-f]+|\\w+);)\n</code></pre>\n</li>\n</ul>\n</li>\n</ol>\n<p>Note that the above regular expressions won't take comments or CDATA\nsections into account.</p>\n"},{"tags":[],"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665506672,"creation_date":1527582506,"answer_id":50579686,"question_id":44765194,"body_markdown":"IMO these cases should be solved by using [JSoup][1].\r\n\r\n*Below is a not-really answer for this specific case, but found [this on the web][2] (thanks to inuyasha82 on Coderwall). This code bit did inspire me for another similar problem while dealing with malformed XMLs, so I share it here.*\r\n\r\n*Please do not edit what is below, as it is as it on the original website.*\r\n\r\nThe XML format, requires to be valid a unique root element declared in the document.&lt;br&gt;\r\nSo for example a valid xml is:\r\n\r\n    &lt;root&gt;\r\n         &lt;element&gt;...&lt;/element&gt;\r\n         &lt;element&gt;...&lt;/element&gt;\r\n    &lt;/root&gt;\r\n\r\nBut if you have a document like:\r\n\r\n    &lt;element&gt;...&lt;/element&gt;\r\n    &lt;element&gt;...&lt;/element&gt;\r\n    &lt;element&gt;...&lt;/element&gt;\r\n    &lt;element&gt;...&lt;/element&gt;\r\n\r\nThis will be considered a malformed XML, so many xml parsers just throw an Exception complaining about no root element. Etc.\r\n\r\nIn this example there is a solution on how to solve that problem and succesfully parse the malformed xml above.\r\n\r\nBasically what we will do is to add programmatically a root element.\r\n\r\nSo first of all you have to open the resource that contains your &quot;malformed&quot; xml (i. e. a file):\r\n\r\n    File file = new File(pathtofile);\r\n\r\nThen open a FileInputStream:\r\n\r\n    FileInputStream fis = new FileInputStream(file);\r\n\r\nIf we try to parse this stream with any XML library at that point we will raise the malformed document Exception.\r\n\r\nNow we create a list of InputStream objects with three lements:\r\n\r\n1. A ByteIputStream element that contains the string: `&lt;root&gt;`\r\n2. Our FileInputStream\r\n3. A ByteInputStream with the string: `&lt;/root&gt;`\r\n\r\nSo the code is:\r\n\r\n    List&lt;InputStream&gt; streams = \r\n        Arrays.asList(\r\n            new ByteArrayInputStream(&quot;&lt;root&gt;&quot;.getBytes()),\r\n        fis,\r\n        new ByteArrayInputStream(&quot;&lt;/root&gt;&quot;.getBytes()));\r\n\r\nNow using a SequenceInputStream, we create a container for the List created above:\r\n\r\n    InputStream cntr = \r\n    new SequenceInputStream(Collections.enumeration(str));\r\n\r\nNow we can use any XML Parser library, on the cntr, and it will be parsed without any problem. (Checked with Stax library);\r\n\r\n\r\n  [1]: http://jsoup.org/\r\n  [2]: https://coderwall.com/p/3ddyka/how-to-parse-a-file-xml-without-root-or-a-malformed-xml-in-java","title":"How to parse invalid (bad / not well-formed) XML?","body":"<p>IMO these cases should be solved by using <a href=\"http://jsoup.org/\" rel=\"nofollow noreferrer\">JSoup</a>.</p>\n<p><em>Below is a not-really answer for this specific case, but found <a href=\"https://coderwall.com/p/3ddyka/how-to-parse-a-file-xml-without-root-or-a-malformed-xml-in-java\" rel=\"nofollow noreferrer\">this on the web</a> (thanks to inuyasha82 on Coderwall). This code bit did inspire me for another similar problem while dealing with malformed XMLs, so I share it here.</em></p>\n<p><em>Please do not edit what is below, as it is as it on the original website.</em></p>\n<p>The XML format, requires to be valid a unique root element declared in the document.<br>\nSo for example a valid xml is:</p>\n<pre><code>&lt;root&gt;\n     &lt;element&gt;...&lt;/element&gt;\n     &lt;element&gt;...&lt;/element&gt;\n&lt;/root&gt;\n</code></pre>\n<p>But if you have a document like:</p>\n<pre><code>&lt;element&gt;...&lt;/element&gt;\n&lt;element&gt;...&lt;/element&gt;\n&lt;element&gt;...&lt;/element&gt;\n&lt;element&gt;...&lt;/element&gt;\n</code></pre>\n<p>This will be considered a malformed XML, so many xml parsers just throw an Exception complaining about no root element. Etc.</p>\n<p>In this example there is a solution on how to solve that problem and succesfully parse the malformed xml above.</p>\n<p>Basically what we will do is to add programmatically a root element.</p>\n<p>So first of all you have to open the resource that contains your &quot;malformed&quot; xml (i. e. a file):</p>\n<pre><code>File file = new File(pathtofile);\n</code></pre>\n<p>Then open a FileInputStream:</p>\n<pre><code>FileInputStream fis = new FileInputStream(file);\n</code></pre>\n<p>If we try to parse this stream with any XML library at that point we will raise the malformed document Exception.</p>\n<p>Now we create a list of InputStream objects with three lements:</p>\n<ol>\n<li>A ByteIputStream element that contains the string: <code>&lt;root&gt;</code></li>\n<li>Our FileInputStream</li>\n<li>A ByteInputStream with the string: <code>&lt;/root&gt;</code></li>\n</ol>\n<p>So the code is:</p>\n<pre><code>List&lt;InputStream&gt; streams = \n    Arrays.asList(\n        new ByteArrayInputStream(&quot;&lt;root&gt;&quot;.getBytes()),\n    fis,\n    new ByteArrayInputStream(&quot;&lt;/root&gt;&quot;.getBytes()));\n</code></pre>\n<p>Now using a SequenceInputStream, we create a container for the List created above:</p>\n<pre><code>InputStream cntr = \nnew SequenceInputStream(Collections.enumeration(str));\n</code></pre>\n<p>Now we can use any XML Parser library, on the cntr, and it will be parsed without any problem. (Checked with Stax library);</p>\n"},{"tags":[],"owner":{"account_id":9677304,"reputation":2342,"user_id":7180349,"display_name":"imhotap"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527832461,"creation_date":1527758691,"answer_id":50620927,"question_id":44765194,"body_markdown":"The accepted answer is good advice, and contains very useful links.\r\n\r\nI&#39;d like to add that this, and [many](https://stackoverflow.com/questions/50450793/adding-missing-xml-closing-tags-in-javascriptother) [other](https://stackoverflow.com/questions/50230340/how-to-determine-whether-the-char-is-operatorless-than-or-greater-than) cases of not-wellformed and/or DTD-invalid XML can be repaired using SGML, the ISO-standardized superset of HTML and XML. In your case, what works is to declare the bogus `THIS-IS-PART-OF-DESCRIPTION` element as SGML empty element and then use eg. the `osx` program (part of the OpenSP/OpenJade SGML package) to convert it to XML. For example, if you supply the following to `osx`\r\n\r\n    &lt;!DOCTYPE xml [\r\n      &lt;!ELEMENT xml - - ANY&gt;\r\n      &lt;!ELEMENT description - - ANY&gt;\r\n      &lt;!ELEMENT THIS-IS-PART-OF-DESCRIPTION -  - EMPTY&gt;\r\n    ]&gt;\r\n    &lt;xml&gt;\r\n      &lt;description&gt;blah blah\r\n        &lt;THIS-IS-PART-OF-DESCRIPTION&gt;\r\n      &lt;/description&gt;\r\n    &lt;/xml&gt;\r\n\r\nit will output well-formed XML for further processing with the XML tools of your choice.\r\n\r\nNote, however, that your example snippet has another problem in that element names starting with the letters `xml` or `XML` or `Xml` etc. are reserved in XML, and won&#39;t be accepted by conforming XML parsers.","title":"How to parse invalid (bad / not well-formed) XML?","body":"<p>The accepted answer is good advice, and contains very useful links.</p>\n\n<p>I'd like to add that this, and <a href=\"https://stackoverflow.com/questions/50450793/adding-missing-xml-closing-tags-in-javascriptother\">many</a> <a href=\"https://stackoverflow.com/questions/50230340/how-to-determine-whether-the-char-is-operatorless-than-or-greater-than\">other</a> cases of not-wellformed and/or DTD-invalid XML can be repaired using SGML, the ISO-standardized superset of HTML and XML. In your case, what works is to declare the bogus <code>THIS-IS-PART-OF-DESCRIPTION</code> element as SGML empty element and then use eg. the <code>osx</code> program (part of the OpenSP/OpenJade SGML package) to convert it to XML. For example, if you supply the following to <code>osx</code></p>\n\n<pre><code>&lt;!DOCTYPE xml [\n  &lt;!ELEMENT xml - - ANY&gt;\n  &lt;!ELEMENT description - - ANY&gt;\n  &lt;!ELEMENT THIS-IS-PART-OF-DESCRIPTION -  - EMPTY&gt;\n]&gt;\n&lt;xml&gt;\n  &lt;description&gt;blah blah\n    &lt;THIS-IS-PART-OF-DESCRIPTION&gt;\n  &lt;/description&gt;\n&lt;/xml&gt;\n</code></pre>\n\n<p>it will output well-formed XML for further processing with the XML tools of your choice.</p>\n\n<p>Note, however, that your example snippet has another problem in that element names starting with the letters <code>xml</code> or <code>XML</code> or <code>Xml</code> etc. are reserved in XML, and won't be accepted by conforming XML parsers.</p>\n"}],"owner":{"account_id":464242,"reputation":1071,"user_id":867628,"accept_rate":75,"display_name":"jvhashe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35342,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":44765546,"answer_count":4,"score":30,"last_activity_date":1665506672,"creation_date":1498497742,"question_id":44765194,"body_markdown":"Currently, I&#39;m working on a feature that involves parsing XML that we receive from another product. I decided to run some tests against some actual customer data, and it looks like the other product is allowing input from users that should be considered invalid. Anyways, I still have to try and figure out a way to parse it. We&#39;re using `javax.xml.parsers.DocumentBuilder` and I&#39;m getting an error on input that looks like the following.\r\n\r\n    &lt;xml&gt;\r\n      ...\r\n      &lt;description&gt;Example:Description:&lt;THIS-IS-PART-OF-DESCRIPTION&gt;&lt;/description&gt;\r\n      ...\r\n    &lt;/xml&gt;\r\n\r\nAs you can tell, the description has what appears to be an invalid tag inside of it (`&lt;THIS-IS-PART-OF-DESCRIPTION&gt;`). Now, this description tag is known to be a leaf tag and shouldn&#39;t have any nested tags inside of it. Regardless, this is still an issue and yields an exception on `DocumentBuilder.parse(...)`\r\n\r\nI know this is invalid XML, but it&#39;s predictably invalid. Any ideas on a way to parse such input?","title":"How to parse invalid (bad / not well-formed) XML?","body":"<p>Currently, I'm working on a feature that involves parsing XML that we receive from another product. I decided to run some tests against some actual customer data, and it looks like the other product is allowing input from users that should be considered invalid. Anyways, I still have to try and figure out a way to parse it. We're using <code>javax.xml.parsers.DocumentBuilder</code> and I'm getting an error on input that looks like the following.</p>\n\n<pre><code>&lt;xml&gt;\n  ...\n  &lt;description&gt;Example:Description:&lt;THIS-IS-PART-OF-DESCRIPTION&gt;&lt;/description&gt;\n  ...\n&lt;/xml&gt;\n</code></pre>\n\n<p>As you can tell, the description has what appears to be an invalid tag inside of it (<code>&lt;THIS-IS-PART-OF-DESCRIPTION&gt;</code>). Now, this description tag is known to be a leaf tag and shouldn't have any nested tags inside of it. Regardless, this is still an issue and yields an exception on <code>DocumentBuilder.parse(...)</code></p>\n\n<p>I know this is invalid XML, but it's predictably invalid. Any ideas on a way to parse such input?</p>\n"},{"tags":["java","algorithm","oop","switch-statement","maze"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1624489661,"post_id":68107766,"comment_id":120376321,"body_markdown":"Errors are not thrown on empty lines. Are you running the correct file, do you have any duplicate classes/projects? Please update your question with the correct line 133, or the correct error. Now onto the problem. You need to add some debugging to your code to work out what is going wrong. The simple way to find your problem is to add a bunch of print statements to your gode, for example something like this &quot;System.out.pruntln(&quot;The code reached point ???, the stack size was &quot;+ stack.size()+&quot;, and the value of vis was &quot;+vis);&quot;","body":"Errors are not thrown on empty lines. Are you running the correct file, do you have any duplicate classes/projects? Please update your question with the correct line 133, or the correct error. Now onto the problem. You need to add some debugging to your code to work out what is going wrong. The simple way to find your problem is to add a bunch of print statements to your gode, for example something like this &quot;System.out.pruntln(&quot;The code reached point ???, the stack size was &quot;+ stack.size()+&quot;, and the value of vis was &quot;+vis);&quot;"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1624490830,"post_id":68107766,"comment_id":120376515,"body_markdown":"Or you could use a debugger. Almost all IDEs include a debugger. Beginning classes rarely cover them, but they should. On lesson 2 or 3.","body":"Or you could use a debugger. Almost all IDEs include a debugger. Beginning classes rarely cover them, but they should. On lesson 2 or 3."},{"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"score":0,"creation_date":1624500446,"post_id":68107766,"comment_id":120377839,"body_markdown":"Why the `toVis` and `vis` counts. Just pop from the stack until it&#39;s empty. That will be one less problem in the way if `toVis` and `vis` counts aren&#39;t properly tracked. `while (!stack.isEmpty()) { item = stack.pop(); // process item &amp; push backtrack &amp; push other paths }`","body":"Why the <code>toVis</code> and <code>vis</code> counts. Just pop from the stack until it&#39;s empty. That will be one less problem in the way if <code>toVis</code> and <code>vis</code> counts aren&#39;t properly tracked. <code>while (!stack.isEmpty()) { item = stack.pop(); &#47;&#47; process item &amp; push backtrack &amp; push other paths }</code>"}],"answers":[{"tags":[],"owner":{"account_id":22035408,"reputation":15,"user_id":16302012,"display_name":"22eragon22"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1624532628,"creation_date":1624532628,"answer_id":68114535,"question_id":68107766,"body_markdown":"EDIT: Problem resolved. Had to change lines:\r\n   \r\n     int x = stack.firstElement().getKey();   \r\n     int y = stack.firstElement().getValue();\r\n\r\ninto:\r\n   \r\n\r\n     int x = stack.peek().getKey();   \r\n     int y = stack.peek().getValue();\r\n\r\nTurns out method .firstElement() doesn&#39;t give you first element (the one on top of the stack) but the one that was first inserted (always the same object) so in the end all the operation were performed on one, single element and not multiple ones. ","title":"What is wrong with my recursive back-tracker","body":"<p>EDIT: Problem resolved. Had to change lines:</p>\n<pre><code> int x = stack.firstElement().getKey();   \n int y = stack.firstElement().getValue();\n</code></pre>\n<p>into:</p>\n<pre><code> int x = stack.peek().getKey();   \n int y = stack.peek().getValue();\n</code></pre>\n<p>Turns out method .firstElement() doesn't give you first element (the one on top of the stack) but the one that was first inserted (always the same object) so in the end all the operation were performed on one, single element and not multiple ones.</p>\n"}],"owner":{"account_id":22035408,"reputation":15,"user_id":16302012,"display_name":"22eragon22"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":68114535,"answer_count":1,"score":0,"last_activity_date":1665506664,"creation_date":1624488292,"question_id":68107766,"body_markdown":"I wanted to make an algorithm to create a maze using recursive back-tracker algorithm. I get this problem when running the program: \r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException\r\n    \tat java.base/java.util.Vector.firstElement(Vector.java:481)\r\n    \tat DC_files.Maze.RBT(MazeAlgorithm.java:131)\r\n    \tat DC_files.MazeAlgorithm.main(MazeAlgorithm.java:222)\r\n\r\nand honestly, at this point after finding couple of bugs and error i have no idea what might be wrong. The only clue that i have, is that in the switch there is an error, that the stack.firstElement() doesn&#39;t update and is always the same and in the cases something is being inserted wrongly.\r\n\r\n```\r\nwhile(vis &lt; toVis){\r\n    Vector&lt;Integer&gt; neighbours = new Vector&lt;&gt;();\r\n    int x = stack.firstElement().getKey();   (line 131 with the error.)\r\n    int y = stack.firstElement().getValue();\r\n\r\n\r\n            //North neighbour\r\n            if(y-1 &gt;= 0 &amp;&amp; !matrix[y - 1][x].vis){\r\n                neighbours.add(0);\r\n            }\r\n```\r\n\r\nentire code\r\n\r\n```\r\npackage DC_files;\r\nimport javafx.util.Pair;\r\nimport java.util.Random;\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\nclass Cell{\r\n\r\n    /*\r\n      each Cell holds information of:\r\n        -the state of it&#39;s walls,\r\n        -the value that the Cell holds(will be used later to customize rooms in the maze),\r\n        -and information if the Cell was visited(will be used in the algorithm)\r\n     */\r\n\r\n\r\n    boolean[] walls;\r\n    boolean vis;\r\n    int value;\r\n\r\n\r\n    public boolean isVis() {\r\n        return vis;\r\n    }\r\n\r\n    public boolean[] getWalls() {\r\n        return walls;\r\n    }\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n\r\n\r\n    /*\r\n        by default, each Cell has the value of each wall set to true(they exist/there are no corridors),\r\n        vis as visited set to false, because we weren&#39;t in the room yet,\r\n        value set to zero, for further development phase (0 - not visited, 1 - visited, 2 - ??? (...))\r\n     */\r\n\r\n    Cell(){\r\n        walls = new boolean[]{true, true, true, true}; // {N, S, E, W}\r\n        vis = false;\r\n        value = 0;\r\n    }\r\n}\r\n\r\nclass Maze{\r\n\r\n    /*\r\n        Maze class was created in order to generate an array of Cells,\r\n        that will be later used in the algorithm.\r\n\r\n        First we create integer ,,size,, to store size of the array, then\r\n        we create a matrix, that will hold Cell objects.\r\n\r\n        In the constructor of the class, we set the required integer s as size,\r\n        allocate memory to the matrix, by setting its dimensions to size x size\r\n        and we create Cell objects for each spot int the matrix, without any modifications.\r\n     */\r\n\r\n\r\n\r\n    int size;\r\n    Cell[][] matrix;\r\n\r\n\r\n    Maze(int s){\r\n        size = s;\r\n        matrix = new Cell[size][size];\r\n        \r\n        for(int y = 0; y &lt; size; y++){\r\n            for(int x = 0; x &lt; size; x++){\r\n                matrix[y][x] = new Cell();\r\n                //System.out.print(&quot;1&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    void showMaze(){\r\n        for(int y = 0; y &lt; size; y++){\r\n            for(int x = 0; x &lt; size; x++){\r\n                System.out.print(matrix[y][x].getValue() + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /*\r\n        Class ,,MazeAlgorithm&#39;&#39; is responsible for creating connections between cells in matrix.\r\n        It uses RBT, which stands for Recursive Back-Tracker, to achieve that goal.\r\n        In order to use RBT, we need to give it starting point. After we do that,\r\n        it will check, if there is any neighbour, that fulfills the required conditions,\r\n        and then goes to that neighbour setting visited to true and value to 1.\r\n        After that, it repeats the process, and constantly adds the cells coordinates\r\n        on top of the stack, to keep track of the road it went through. If it gets stuck,\r\n        it will go back to the previous cell, by removing the top coordinates of the stack,\r\n        and going to NOW top coordinates (previous move), checking if that cell has any\r\n        neighbours which can fulfill the conditions. If it cannot find any neighbour,\r\n        it means the maze was created.\r\n     */\r\n\r\n\r\n    void RBT(int startX, int startY){\r\n\r\n        //Setting cells to visit to size x size, and the value of visited cells to 0\r\n        int toVis = size*size;\r\n        int vis = 0;\r\n\r\n\r\n        //Declaring a stack, that will hold the information about our road\r\n        Stack&lt;Pair&lt;Integer, Integer&gt;&gt; stack = new Stack&lt;&gt;();\r\n\r\n\r\n        //Setting starting position: pushing it onto the stack,\r\n        //setting it&#39;s values as visited and 1,\r\n        //incrementing visited rooms.\r\n        stack.push(new Pair&lt;&gt;(startX, startY));\r\n\r\n        matrix[startY][startX].vis = true;\r\n        matrix[startY][startX].value = 1;\r\n        vis += 1;\r\n\r\n        //we will check, if our current node has any neighbours we can go to,\r\n        //saving those neighbours inside a vector\r\n        while(vis &lt; toVis){\r\n            Vector&lt;Integer&gt; neighbours = new Vector&lt;&gt;();\r\n            int x = stack.firstElement().getKey();\r\n            int y = stack.firstElement().getValue();\r\n\r\n\r\n            //North neighbour\r\n            if(y-1 &gt;= 0 &amp;&amp; !matrix[y - 1][x].vis){\r\n                neighbours.add(0);\r\n            }\r\n\r\n            //South neighbour\r\n            if(y+1 &lt; size &amp;&amp; !matrix[y + 1][x].vis){\r\n                neighbours.add(1);\r\n            }\r\n\r\n            //East neighbour\r\n            if(x+1 &lt; size &amp;&amp; !matrix[y][x + 1].vis){\r\n                neighbours.add(2);\r\n            }\r\n\r\n            //West neighbour\r\n            if(x-1 &gt;= 0 &amp;&amp; !matrix[y][x - 1].vis){\r\n                neighbours.add(3);\r\n            }\r\n\r\n\r\n            //checking, if there are any neighbours we can visit\r\n            //if yes, we do our job\r\n            //if not, we pop our stack and repeat the process\r\n            if(!neighbours.isEmpty()){\r\n                Random rand = new Random();\r\n                int randDir = neighbours.get(rand.nextInt(neighbours.size()));\r\n\r\n                switch (randDir) {\r\n//North\r\n                    case 0 -&gt; {\r\n\r\n                        matrix[y][x].walls[0] = false;\r\n\r\n                        stack.push(new Pair&lt;&gt;(x, y - 1));\r\n\r\n                        matrix[y - 1][x].value = 1;\r\n                        matrix[y - 1][x].vis = true;\r\n                        matrix[y - 1][x].walls[1] = false;\r\n\r\n                    }\r\n//South\r\n                    case 1 -&gt; {\r\n                        matrix[y][x].walls[1] = false;\r\n\r\n                        stack.push(new Pair&lt;&gt;(x, y + 1));\r\n\r\n                        matrix[y + 1][x].value = 1;\r\n                        matrix[y + 1][x].vis = true;\r\n                        matrix[y + 1][x].walls[0] = false;\r\n                    }\r\n//East\r\n                    case 2 -&gt; {\r\n                        matrix[y][x].walls[2] = false;\r\n\r\n                        stack.push(new Pair&lt;&gt;(x + 1, y));\r\n\r\n                        matrix[y][x + 1].value = 1;\r\n                        matrix[y][x + 1].vis = true;\r\n                        matrix[y][x + 1].walls[3] = false;\r\n                    }\r\n//West\r\n                    case 3 -&gt; {\r\n                        matrix[y][x].walls[3] = false;\r\n\r\n                        stack.push(new Pair&lt;&gt;(x - 1, y));\r\n\r\n                        matrix[y][x - 1].value = 1;\r\n                        matrix[y][x - 1].vis = true;\r\n                        matrix[y][x - 1].walls[2] = false;\r\n                    }\r\n                }\r\n\r\n                vis += 1;\r\n            }else{\r\n                stack.pop();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\npublic class MazeAlgorithm {\r\n\r\n\r\n    public static void main(String[] args){\r\n\r\n        Maze m = new Maze(3);\r\n        m.RBT(1, 1);\r\n        m.showMaze();\r\n    }\r\n\r\n```\r\n\r\nso i just run the code again, and the error line changed to line 131, i am also watching some tutorial about the Intellij debugger rn.\r\n\r\n\r\n","title":"What is wrong with my recursive back-tracker","body":"<p>I wanted to make an algorithm to create a maze using recursive back-tracker algorithm. I get this problem when running the program:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException\n    at java.base/java.util.Vector.firstElement(Vector.java:481)\n    at DC_files.Maze.RBT(MazeAlgorithm.java:131)\n    at DC_files.MazeAlgorithm.main(MazeAlgorithm.java:222)\n</code></pre>\n<p>and honestly, at this point after finding couple of bugs and error i have no idea what might be wrong. The only clue that i have, is that in the switch there is an error, that the stack.firstElement() doesn't update and is always the same and in the cases something is being inserted wrongly.</p>\n<pre><code>while(vis &lt; toVis){\n    Vector&lt;Integer&gt; neighbours = new Vector&lt;&gt;();\n    int x = stack.firstElement().getKey();   (line 131 with the error.)\n    int y = stack.firstElement().getValue();\n\n\n            //North neighbour\n            if(y-1 &gt;= 0 &amp;&amp; !matrix[y - 1][x].vis){\n                neighbours.add(0);\n            }\n</code></pre>\n<p>entire code</p>\n<pre><code>package DC_files;\nimport javafx.util.Pair;\nimport java.util.Random;\nimport java.io.*;\nimport java.util.*;\n\nclass Cell{\n\n    /*\n      each Cell holds information of:\n        -the state of it's walls,\n        -the value that the Cell holds(will be used later to customize rooms in the maze),\n        -and information if the Cell was visited(will be used in the algorithm)\n     */\n\n\n    boolean[] walls;\n    boolean vis;\n    int value;\n\n\n    public boolean isVis() {\n        return vis;\n    }\n\n    public boolean[] getWalls() {\n        return walls;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n\n    /*\n        by default, each Cell has the value of each wall set to true(they exist/there are no corridors),\n        vis as visited set to false, because we weren't in the room yet,\n        value set to zero, for further development phase (0 - not visited, 1 - visited, 2 - ??? (...))\n     */\n\n    Cell(){\n        walls = new boolean[]{true, true, true, true}; // {N, S, E, W}\n        vis = false;\n        value = 0;\n    }\n}\n\nclass Maze{\n\n    /*\n        Maze class was created in order to generate an array of Cells,\n        that will be later used in the algorithm.\n\n        First we create integer ,,size,, to store size of the array, then\n        we create a matrix, that will hold Cell objects.\n\n        In the constructor of the class, we set the required integer s as size,\n        allocate memory to the matrix, by setting its dimensions to size x size\n        and we create Cell objects for each spot int the matrix, without any modifications.\n     */\n\n\n\n    int size;\n    Cell[][] matrix;\n\n\n    Maze(int s){\n        size = s;\n        matrix = new Cell[size][size];\n        \n        for(int y = 0; y &lt; size; y++){\n            for(int x = 0; x &lt; size; x++){\n                matrix[y][x] = new Cell();\n                //System.out.print(&quot;1&quot;);\n            }\n        }\n    }\n\n\n    void showMaze(){\n        for(int y = 0; y &lt; size; y++){\n            for(int x = 0; x &lt; size; x++){\n                System.out.print(matrix[y][x].getValue() + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n\n\n    /*\n        Class ,,MazeAlgorithm'' is responsible for creating connections between cells in matrix.\n        It uses RBT, which stands for Recursive Back-Tracker, to achieve that goal.\n        In order to use RBT, we need to give it starting point. After we do that,\n        it will check, if there is any neighbour, that fulfills the required conditions,\n        and then goes to that neighbour setting visited to true and value to 1.\n        After that, it repeats the process, and constantly adds the cells coordinates\n        on top of the stack, to keep track of the road it went through. If it gets stuck,\n        it will go back to the previous cell, by removing the top coordinates of the stack,\n        and going to NOW top coordinates (previous move), checking if that cell has any\n        neighbours which can fulfill the conditions. If it cannot find any neighbour,\n        it means the maze was created.\n     */\n\n\n    void RBT(int startX, int startY){\n\n        //Setting cells to visit to size x size, and the value of visited cells to 0\n        int toVis = size*size;\n        int vis = 0;\n\n\n        //Declaring a stack, that will hold the information about our road\n        Stack&lt;Pair&lt;Integer, Integer&gt;&gt; stack = new Stack&lt;&gt;();\n\n\n        //Setting starting position: pushing it onto the stack,\n        //setting it's values as visited and 1,\n        //incrementing visited rooms.\n        stack.push(new Pair&lt;&gt;(startX, startY));\n\n        matrix[startY][startX].vis = true;\n        matrix[startY][startX].value = 1;\n        vis += 1;\n\n        //we will check, if our current node has any neighbours we can go to,\n        //saving those neighbours inside a vector\n        while(vis &lt; toVis){\n            Vector&lt;Integer&gt; neighbours = new Vector&lt;&gt;();\n            int x = stack.firstElement().getKey();\n            int y = stack.firstElement().getValue();\n\n\n            //North neighbour\n            if(y-1 &gt;= 0 &amp;&amp; !matrix[y - 1][x].vis){\n                neighbours.add(0);\n            }\n\n            //South neighbour\n            if(y+1 &lt; size &amp;&amp; !matrix[y + 1][x].vis){\n                neighbours.add(1);\n            }\n\n            //East neighbour\n            if(x+1 &lt; size &amp;&amp; !matrix[y][x + 1].vis){\n                neighbours.add(2);\n            }\n\n            //West neighbour\n            if(x-1 &gt;= 0 &amp;&amp; !matrix[y][x - 1].vis){\n                neighbours.add(3);\n            }\n\n\n            //checking, if there are any neighbours we can visit\n            //if yes, we do our job\n            //if not, we pop our stack and repeat the process\n            if(!neighbours.isEmpty()){\n                Random rand = new Random();\n                int randDir = neighbours.get(rand.nextInt(neighbours.size()));\n\n                switch (randDir) {\n//North\n                    case 0 -&gt; {\n\n                        matrix[y][x].walls[0] = false;\n\n                        stack.push(new Pair&lt;&gt;(x, y - 1));\n\n                        matrix[y - 1][x].value = 1;\n                        matrix[y - 1][x].vis = true;\n                        matrix[y - 1][x].walls[1] = false;\n\n                    }\n//South\n                    case 1 -&gt; {\n                        matrix[y][x].walls[1] = false;\n\n                        stack.push(new Pair&lt;&gt;(x, y + 1));\n\n                        matrix[y + 1][x].value = 1;\n                        matrix[y + 1][x].vis = true;\n                        matrix[y + 1][x].walls[0] = false;\n                    }\n//East\n                    case 2 -&gt; {\n                        matrix[y][x].walls[2] = false;\n\n                        stack.push(new Pair&lt;&gt;(x + 1, y));\n\n                        matrix[y][x + 1].value = 1;\n                        matrix[y][x + 1].vis = true;\n                        matrix[y][x + 1].walls[3] = false;\n                    }\n//West\n                    case 3 -&gt; {\n                        matrix[y][x].walls[3] = false;\n\n                        stack.push(new Pair&lt;&gt;(x - 1, y));\n\n                        matrix[y][x - 1].value = 1;\n                        matrix[y][x - 1].vis = true;\n                        matrix[y][x - 1].walls[2] = false;\n                    }\n                }\n\n                vis += 1;\n            }else{\n                stack.pop();\n            }\n        }\n    }\n}\n\npublic class MazeAlgorithm {\n\n\n    public static void main(String[] args){\n\n        Maze m = new Maze(3);\n        m.RBT(1, 1);\n        m.showMaze();\n    }\n\n</code></pre>\n<p>so i just run the code again, and the error line changed to line 131, i am also watching some tutorial about the Intellij debugger rn.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":15461950,"reputation":55,"user_id":11154428,"display_name":"indayush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664517555,"creation_date":1664517555,"answer_id":73904563,"question_id":73903953,"body_markdown":"This can be done in a single ```for``` loop if the positions of columns are known and fixed. From the provided code, I have tried to figure out the xpaths but recheck them if it&#39;s compatible.\r\n\r\nTry the following snippet - \r\n\r\n```\r\n\r\nString table_header_xpath = &quot;//*[@id=&#39;attributeGrid_table&#39;]/thead/tr&quot;;\r\nString table_row_xpath = &quot;//*[@id=&#39;attributeGrid_table&#39;]/tbody/tr&quot;;\r\n\r\n// Below code is to get the indexes of columns dynamically.\r\n// It the values are static you can just hard code the indexes below and skip the first for loop\r\n\r\nint id_col_index = -1;\r\nint name_col_index = -1;\r\nint value_col_index = -1;\r\nint value2_col_index = -1;\r\n\r\n// Section to find the indexes - START\r\n\r\nWebElement header_row = driver.findElement(By.xpath(table_header_xpath));\r\nList&lt;WebElement&gt; header_cells = header_row.findElements(By.xpath(&quot;./child::*&quot;));\r\n\r\nfor (WebElement header_cell : header_cells){\r\n\tif(header_cell.getText().trim().equalsIgnoreCase(&quot;id&quot;)){\r\n\t\tid_col_index = header_cells.indexOf(header_cell);\r\n\t\tcontinue;\r\n\t}\r\n\tif(header_cell.getText().trim().equalsIgnoreCase(&quot;name&quot;)){\r\n\t\tname_col_index = header_cells.indexOf(header_cell);\r\n\t\tcontinue;\r\n\t}\r\n\tif(header_cell.getText().trim().equalsIgnoreCase(&quot;value&quot;)){\r\n\t\tvalue_col_index = header_cells.indexOf(header_cell);\r\n\t\tcontinue;\r\n\t}\r\n\tif(header_cell.getText().trim().equalsIgnoreCase(&quot;value2&quot;)){\r\n\t\tvalue2_col_index = header_cells.indexOf(header_cell);\r\n\t\tcontinue;\r\n\t}\r\n}\r\n\r\n// Section to find the indexes - END\r\n\r\nList&lt;WebElement&gt; table_body_rows = driver.findElements(By.xpath(table_row_xpath));\r\n\r\n// Iterating over rows -\r\nfor(WebElement row : table_body_rows){\r\n\r\n\tList&lt;WebElement&gt; cells_in_a_row = row.findElements(By.xpath(&quot;./child::*&quot;));\r\n\r\n\tWebElement idInCurrentRow = cells_in_a_row.get(id_col_index);\r\n\tWebElement nameInCurrentRow = cells_in_a_row.get(name_col_index);\r\n\tWebElement valueInCurrentRow = cells_in_a_row.get(value_col_index);\r\n\tWebElement value2InCurrentRow = cells_in_a_row.get(value2_col_index);\r\n\r\n\t/*\r\n\r\n\tYou can check for validations based on values of above elements \r\n    and enter new values at the same time\r\n\r\n\t*/\r\n\r\n}\r\n``` ","title":"Looping on Selenium &amp; JAVA depending on the rows thrown by SQL SENTENCE and filling in the different values obtained","body":"<p>This can be done in a single <code>for</code> loop if the positions of columns are known and fixed. From the provided code, I have tried to figure out the xpaths but recheck them if it's compatible.</p>\n<p>Try the following snippet -</p>\n<pre><code>\nString table_header_xpath = &quot;//*[@id='attributeGrid_table']/thead/tr&quot;;\nString table_row_xpath = &quot;//*[@id='attributeGrid_table']/tbody/tr&quot;;\n\n// Below code is to get the indexes of columns dynamically.\n// It the values are static you can just hard code the indexes below and skip the first for loop\n\nint id_col_index = -1;\nint name_col_index = -1;\nint value_col_index = -1;\nint value2_col_index = -1;\n\n// Section to find the indexes - START\n\nWebElement header_row = driver.findElement(By.xpath(table_header_xpath));\nList&lt;WebElement&gt; header_cells = header_row.findElements(By.xpath(&quot;./child::*&quot;));\n\nfor (WebElement header_cell : header_cells){\n    if(header_cell.getText().trim().equalsIgnoreCase(&quot;id&quot;)){\n        id_col_index = header_cells.indexOf(header_cell);\n        continue;\n    }\n    if(header_cell.getText().trim().equalsIgnoreCase(&quot;name&quot;)){\n        name_col_index = header_cells.indexOf(header_cell);\n        continue;\n    }\n    if(header_cell.getText().trim().equalsIgnoreCase(&quot;value&quot;)){\n        value_col_index = header_cells.indexOf(header_cell);\n        continue;\n    }\n    if(header_cell.getText().trim().equalsIgnoreCase(&quot;value2&quot;)){\n        value2_col_index = header_cells.indexOf(header_cell);\n        continue;\n    }\n}\n\n// Section to find the indexes - END\n\nList&lt;WebElement&gt; table_body_rows = driver.findElements(By.xpath(table_row_xpath));\n\n// Iterating over rows -\nfor(WebElement row : table_body_rows){\n\n    List&lt;WebElement&gt; cells_in_a_row = row.findElements(By.xpath(&quot;./child::*&quot;));\n\n    WebElement idInCurrentRow = cells_in_a_row.get(id_col_index);\n    WebElement nameInCurrentRow = cells_in_a_row.get(name_col_index);\n    WebElement valueInCurrentRow = cells_in_a_row.get(value_col_index);\n    WebElement value2InCurrentRow = cells_in_a_row.get(value2_col_index);\n\n    /*\n\n    You can check for validations based on values of above elements \n    and enter new values at the same time\n\n    */\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26315879,"reputation":36,"user_id":19978672,"display_name":"GabrielFethi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665506627,"creation_date":1665506627,"answer_id":74031470,"question_id":73903953,"body_markdown":"Basically you want to store the data retrieved from the database into a List&lt;String&gt; variable. And then iterate through the list with a for loop. Am not sure if for the entry into the webpage is done after a refresh, full login procedure etc. This answer is based on the assumption that the xpath is not changing where the value is entered:\r\n\r\n```\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.Keys;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\nimport java.sql.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SqlLoopQuestion {\r\n\r\n    static WebDriver driver;\r\n\r\n    public static void main(String[] args) throws InterruptedException{\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\Steven\\\\Desktop\\\\Folder\\\\chromedriver.exe&quot;);\r\n\r\n        driver = new ChromeDriver();\r\n\r\n        // initiate website\r\n        driver.get(&quot;https://testingserver/backend&quot;);\r\n\r\n        // login to application\r\n        driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;admin&quot;);\r\n        driver.findElement(By.id(&quot;login&quot;)).sendKeys(&quot;randomPassw0rd@&quot;);\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login-form\\&quot;]/fieldset/div[3]/div[2]/button&quot;)).click();\r\n        Thread.sleep(4000);\r\n\r\n        // go to backend stores\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-bbb-backend-stores\\&quot;]/a&quot;)).click();\r\n        Thread.sleep(4000);\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-bbb-backend-stores\\&quot;]/div/ul/li[2]/ul/li[2]/div/ul/li[3]/a&quot;)).click();\r\n\r\n        List&lt;String&gt; valuesToEnter = retrieveValues();\r\n\r\n        for(String text : valuesToEnter){\r\n\r\n            // enter data\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;attributeGrid_filter_frontend_label\\&quot;]&quot;)).sendKeys(&quot;group&quot;);\r\n            Thread.sleep(3000);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;attributeGrid_filter_frontend_label\\&quot;]&quot;)).sendKeys(Keys.ENTER);\r\n            Thread.sleep(3000);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;attributeGrid_table\\&quot;]/tbody/tr/td[1]&quot;)).click();\r\n\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;manage-options-panel\\&quot;]/table/tbody/tr/td[5]/input&quot;)).sendKeys(text);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;save\\&quot;]/a&quot;)).click();\r\n            Thread.sleep(3000);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    static List&lt;String &gt; retrieveValues(){\r\n\r\n        // database variables\r\n        Connection conn = null;\r\n        String dbConnectionPath = &quot;DATABASECONNECTIONPATH&quot;;\r\n        String dbUserName       = &quot;DATABASEUSERNAME&quot;;\r\n        String dbPassword       = &quot;DATABASEPASSWORD&quot;;\r\n\r\n        // variables to execute the query\r\n        Statement stmt;\r\n        ResultSet rs;\r\n        \r\n        // list to store the values from the database\r\n        List&lt;String&gt; valuesList = new ArrayList&lt;&gt;();\r\n\r\n        // establish database connection\r\n        try{\r\n\r\n            // build the connection\r\n            conn = DriverManager.getConnection(dbConnectionPath, dbUserName, dbPassword);\r\n\r\n\r\n        }catch(Exception e){\r\n            System.out.println(&quot;Database connection error --&gt;&quot; + e);\r\n        }\r\n\r\n        try{\r\n\r\n            stmt = conn.createStatement();\r\n            rs = stmt.executeQuery(&quot;QUERY&quot; );\r\n\r\n            // if there is a value in the next column\r\n            // iterate with a while loop\r\n            while(rs.next()){\r\n\r\n                // add all the values in the column to the list\r\n                valuesList.add(rs.getString(&quot;value 2&quot;));\r\n\r\n            }\r\n\r\n        } catch (SQLException throwables) {\r\n            throwables.printStackTrace();\r\n        }\r\n\r\n        return valuesList;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Looping on Selenium &amp; JAVA depending on the rows thrown by SQL SENTENCE and filling in the different values obtained","body":"<p>Basically you want to store the data retrieved from the database into a List variable. And then iterate through the list with a for loop. Am not sure if for the entry into the webpage is done after a refresh, full login procedure etc. This answer is based on the assumption that the xpath is not changing where the value is entered:</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SqlLoopQuestion {\n\n    static WebDriver driver;\n\n    public static void main(String[] args) throws InterruptedException{\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\Steven\\\\Desktop\\\\Folder\\\\chromedriver.exe&quot;);\n\n        driver = new ChromeDriver();\n\n        // initiate website\n        driver.get(&quot;https://testingserver/backend&quot;);\n\n        // login to application\n        driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;admin&quot;);\n        driver.findElement(By.id(&quot;login&quot;)).sendKeys(&quot;randomPassw0rd@&quot;);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login-form\\&quot;]/fieldset/div[3]/div[2]/button&quot;)).click();\n        Thread.sleep(4000);\n\n        // go to backend stores\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-bbb-backend-stores\\&quot;]/a&quot;)).click();\n        Thread.sleep(4000);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-bbb-backend-stores\\&quot;]/div/ul/li[2]/ul/li[2]/div/ul/li[3]/a&quot;)).click();\n\n        List&lt;String&gt; valuesToEnter = retrieveValues();\n\n        for(String text : valuesToEnter){\n\n            // enter data\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;attributeGrid_filter_frontend_label\\&quot;]&quot;)).sendKeys(&quot;group&quot;);\n            Thread.sleep(3000);\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;attributeGrid_filter_frontend_label\\&quot;]&quot;)).sendKeys(Keys.ENTER);\n            Thread.sleep(3000);\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;attributeGrid_table\\&quot;]/tbody/tr/td[1]&quot;)).click();\n\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;manage-options-panel\\&quot;]/table/tbody/tr/td[5]/input&quot;)).sendKeys(text);\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;save\\&quot;]/a&quot;)).click();\n            Thread.sleep(3000);\n        }\n\n    }\n\n\n    static List&lt;String &gt; retrieveValues(){\n\n        // database variables\n        Connection conn = null;\n        String dbConnectionPath = &quot;DATABASECONNECTIONPATH&quot;;\n        String dbUserName       = &quot;DATABASEUSERNAME&quot;;\n        String dbPassword       = &quot;DATABASEPASSWORD&quot;;\n\n        // variables to execute the query\n        Statement stmt;\n        ResultSet rs;\n        \n        // list to store the values from the database\n        List&lt;String&gt; valuesList = new ArrayList&lt;&gt;();\n\n        // establish database connection\n        try{\n\n            // build the connection\n            conn = DriverManager.getConnection(dbConnectionPath, dbUserName, dbPassword);\n\n\n        }catch(Exception e){\n            System.out.println(&quot;Database connection error --&gt;&quot; + e);\n        }\n\n        try{\n\n            stmt = conn.createStatement();\n            rs = stmt.executeQuery(&quot;QUERY&quot; );\n\n            // if there is a value in the next column\n            // iterate with a while loop\n            while(rs.next()){\n\n                // add all the values in the column to the list\n                valuesList.add(rs.getString(&quot;value 2&quot;));\n\n            }\n\n        } catch (SQLException throwables) {\n            throwables.printStackTrace();\n        }\n\n        return valuesList;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665506627,"creation_date":1664511218,"question_id":73903953,"body_markdown":"I need to loop depending on the number of rows thrown by a given SQL SENTENCE.\r\n\r\nSuppose that my SQL SERVER query is:\r\n\r\n    select * \r\n    from TABLE1;\r\n\r\nand it throws **4 rows**, take a look at the image below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, i will need to loop **4 times**\r\n\r\nThis is my code:\r\n\r\n    package first;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.Keys;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.support.ui.FluentWait;\r\n    import org.openqa.selenium.support.ui.Wait;\r\n    \r\n    public class myCodes {\r\n    \tpublic static void main(String[] args) throws InterruptedException{\r\n    \tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\Steven\\\\Desktop\\\\Folder\\\\chromedriver.exe&quot;);\r\n    \r\n    \tWebDriver driver = new ChromeDriver();\r\n    \tdriver.get(&quot;https://testingserver/backend&quot;);\r\n    \tdriver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;admin&quot;);\r\n    \tdriver.findElement(By.id(&quot;login&quot;)).sendKeys(&quot;randomPassw0rd@&quot;);\r\n    \tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;login-form\\&quot;]/fieldset/div[3]/div[2]/button&quot;)).click();\r\n    \tThread.sleep(4000);\r\n    \tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-bbb-backend-stores\\&quot;]/a&quot;)).click();\r\n    \tThread.sleep(4000);\r\n    \tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-bbb-backend-stores\\&quot;]/div/ul/li[2]/ul/li[2]/div/ul/li[3]/a&quot;)).click();\r\n    \tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;attributeGrid_filter_frontend_label\\&quot;]&quot;)).sendKeys(&quot;group&quot;);\r\n    \tThread.sleep(3000);\r\n    \tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;attributeGrid_filter_frontend_label\\&quot;]&quot;)).sendKeys(Keys.ENTER);\r\n    \tThread.sleep(3000);\r\n    \tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;attributeGrid_table\\&quot;]/tbody/tr/td[1]&quot;)).click();\r\n    \t//driver.findElement(By.cssSelector(&quot;.col-attr-code col-attribute_code&quot;)).click(); \r\n    \t//Thread.sleep(6000);\r\n    \tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;manage-options-panel\\&quot;]/table/tbody/tr/td[5]/input&quot;)).sendKeys(&quot;122&quot;);\r\n    \tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;save\\&quot;]/a&quot;)).click();\r\n    \tThread.sleep(3000);\r\n    \t\r\n    \t\r\n    \t}\r\n    \r\n    }\r\n\r\n-------------------------------------------------------------------------\r\n**I want to achieve this:**\r\n\r\nSince the image shown above i will need to loop 4 times:\r\n\r\nThe **first loop** will need to fill the value from column &quot;value2&quot; and row 1 inside function sendKeys()\r\n\r\nTake a look at the image:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThe **second loop** will need to fill the value from column &quot;value2&quot; and row 2 inside function sendKeys()\r\n\r\nTake a look at the image:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThen, The **third loop** will need to fill the value from column &quot;value2&quot; and row 3 inside function sendKeys()\r\n\r\nand The **fourth loop** will need to fill the value from column &quot;value2&quot; and row 4 inside function sendKeys().\r\n\r\nI&#39;ve tried without success to achieve that. \r\n\r\nWhat would it be the best way to solve this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/55kzh.png\r\n  [2]: https://i.stack.imgur.com/Xzntj.png\r\n  [3]: https://i.stack.imgur.com/EMnWF.png","title":"Looping on Selenium &amp; JAVA depending on the rows thrown by SQL SENTENCE and filling in the different values obtained","body":"<p>I need to loop depending on the number of rows thrown by a given SQL SENTENCE.</p>\n<p>Suppose that my SQL SERVER query is:</p>\n<pre><code>select * \nfrom TABLE1;\n</code></pre>\n<p>and it throws <strong>4 rows</strong>, take a look at the image below:</p>\n<p><a href=\"https://i.stack.imgur.com/55kzh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/55kzh.png\" alt=\"enter image description here\" /></a></p>\n<p>So, i will need to loop <strong>4 times</strong></p>\n<p>This is my code:</p>\n<pre><code>package first;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.FluentWait;\nimport org.openqa.selenium.support.ui.Wait;\n\npublic class myCodes {\n    public static void main(String[] args) throws InterruptedException{\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\Steven\\\\Desktop\\\\Folder\\\\chromedriver.exe&quot;);\n\n    WebDriver driver = new ChromeDriver();\n    driver.get(&quot;https://testingserver/backend&quot;);\n    driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;admin&quot;);\n    driver.findElement(By.id(&quot;login&quot;)).sendKeys(&quot;randomPassw0rd@&quot;);\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login-form\\&quot;]/fieldset/div[3]/div[2]/button&quot;)).click();\n    Thread.sleep(4000);\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-bbb-backend-stores\\&quot;]/a&quot;)).click();\n    Thread.sleep(4000);\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-bbb-backend-stores\\&quot;]/div/ul/li[2]/ul/li[2]/div/ul/li[3]/a&quot;)).click();\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;attributeGrid_filter_frontend_label\\&quot;]&quot;)).sendKeys(&quot;group&quot;);\n    Thread.sleep(3000);\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;attributeGrid_filter_frontend_label\\&quot;]&quot;)).sendKeys(Keys.ENTER);\n    Thread.sleep(3000);\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;attributeGrid_table\\&quot;]/tbody/tr/td[1]&quot;)).click();\n    //driver.findElement(By.cssSelector(&quot;.col-attr-code col-attribute_code&quot;)).click(); \n    //Thread.sleep(6000);\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;manage-options-panel\\&quot;]/table/tbody/tr/td[5]/input&quot;)).sendKeys(&quot;122&quot;);\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;save\\&quot;]/a&quot;)).click();\n    Thread.sleep(3000);\n    \n    \n    }\n\n}\n</code></pre>\n<hr />\n<p><strong>I want to achieve this:</strong></p>\n<p>Since the image shown above i will need to loop 4 times:</p>\n<p>The <strong>first loop</strong> will need to fill the value from column &quot;value2&quot; and row 1 inside function sendKeys()</p>\n<p>Take a look at the image:</p>\n<p><a href=\"https://i.stack.imgur.com/Xzntj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xzntj.png\" alt=\"enter image description here\" /></a></p>\n<p>The <strong>second loop</strong> will need to fill the value from column &quot;value2&quot; and row 2 inside function sendKeys()</p>\n<p>Take a look at the image:</p>\n<p><a href=\"https://i.stack.imgur.com/EMnWF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EMnWF.png\" alt=\"enter image description here\" /></a></p>\n<p>Then, The <strong>third loop</strong> will need to fill the value from column &quot;value2&quot; and row 3 inside function sendKeys()</p>\n<p>and The <strong>fourth loop</strong> will need to fill the value from column &quot;value2&quot; and row 4 inside function sendKeys().</p>\n<p>I've tried without success to achieve that.</p>\n<p>What would it be the best way to solve this?</p>\n"},{"tags":["java","comparator","ebcdic"],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1404285987,"creation_date":1404285987,"answer_id":24525231,"question_id":24525015,"body_markdown":"You should not spend much time figuring out the many peculiarities of EBCDIC. Given a limited scope of your problem, a simple approach to implementing your requirements is as follows:\r\n\r\n- Implement a helper method that reads EBCDIC and produces `java.lang.String` in Java&#39;s native encoding (UTF-16)\r\n- Implement a helper method that takes `java.lang.String` in Java&#39;s native encoding (UTF-16) and produces an EBCDIC-encoded string\r\n- Use the first method to read the data. Sort and do other processing as needed. Use the second method to write the data to mainframe.\r\n\r\nThis approach has an advantage that only two pieces of your code need to understand EBCDIC - the one that converts in, and the one that converts out. All other code can use Java system libraries and any libraries that you have for sorting, filtering, searching, and all other processing, without thinking about the EBCDIC encoding at all.","title":"Java comparator for String in EBCDIC encoding","body":"<p>You should not spend much time figuring out the many peculiarities of EBCDIC. Given a limited scope of your problem, a simple approach to implementing your requirements is as follows:</p>\n\n<ul>\n<li>Implement a helper method that reads EBCDIC and produces <code>java.lang.String</code> in Java's native encoding (UTF-16)</li>\n<li>Implement a helper method that takes <code>java.lang.String</code> in Java's native encoding (UTF-16) and produces an EBCDIC-encoded string</li>\n<li>Use the first method to read the data. Sort and do other processing as needed. Use the second method to write the data to mainframe.</li>\n</ul>\n\n<p>This approach has an advantage that only two pieces of your code need to understand EBCDIC - the one that converts in, and the one that converts out. All other code can use Java system libraries and any libraries that you have for sorting, filtering, searching, and all other processing, without thinking about the EBCDIC encoding at all.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1404286772,"creation_date":1404286772,"answer_id":24525502,"question_id":24525015,"body_markdown":"Since the char type is implicitly UTF-16 in Java EBCDIC strings need to be compared as Java byte arrays.\r\n\r\nExample:\r\n\r\n        Charset encoding = Charset.forName(&quot;IBM1047&quot;);\r\n        Comparator&lt;String&gt; encComparator = (s1, s2) -&gt;\r\n                encoding.encode(s1)\r\n                        .compareTo(encoding.encode(s2));\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html","title":"Java comparator for String in EBCDIC encoding","body":"<p>Since the char type is implicitly UTF-16 in Java EBCDIC strings need to be compared as Java byte arrays.</p>\n\n<p>Example:</p>\n\n<pre><code>    Charset encoding = Charset.forName(\"IBM1047\");\n    Comparator&lt;String&gt; encComparator = (s1, s2) -&gt;\n            encoding.encode(s1)\n                    .compareTo(encoding.encode(s2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4384658,"reputation":120,"user_id":3575217,"accept_rate":50,"display_name":"Saquib Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506515977,"creation_date":1506515977,"answer_id":46448132,"question_id":24525015,"body_markdown":"Yes there is a comparator for EBCDIC encoding.Here is the code for it.\r\n\r\n    `Comparator&lt;Entity Class name&gt; EBCDIC = new Comparator&lt;Entity Class name&gt;() \r\n       \r\n         {  \r\n\t\t\tCharset encoding = Charset.forName(&quot;cp500&quot;);\r\n\t\t   \r\n       @Override         \r\n\t  public int compare(Entity Class name jc1, \r\n           Entity Class name jc2) {             \r\n\t\t      return (int) (encoding.encode(jc1.toString()).compareTo(encoding.encode(jc2.toString())));         \r\n\t\t    }     \r\n\t\t  };   ","title":"Java comparator for String in EBCDIC encoding","body":"<p>Yes there is a comparator for EBCDIC encoding.Here is the code for it.</p>\n\n<pre><code>`Comparator&lt;Entity Class name&gt; EBCDIC = new Comparator&lt;Entity Class name&gt;() \n\n     {  \n        Charset encoding = Charset.forName(\"cp500\");\n\n   @Override         \n  public int compare(Entity Class name jc1, \n       Entity Class name jc2) {             \n          return (int) (encoding.encode(jc1.toString()).compareTo(encoding.encode(jc2.toString())));         \n        }     \n      };   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":88988,"reputation":19,"user_id":245805,"display_name":"Scott McDonald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665506265,"creation_date":1665506265,"answer_id":74031408,"question_id":24525015,"body_markdown":"It has been suggested to use *Charset.endode(String)* and compare the resulting ByteBuffer objects. This will only work for letters and numbers, not punctuation. \r\nThat&#39;s because byte has a range of -128 to 127. Characters higher than 127 will be negative so they don&#39;t compare properly to the positive bytes.\r\n\r\nTo handle the entire character set simply convert the EBCDIC bytes back to Strings in the default Charset before comparing them:\r\n\r\n    Charset ebcdicCharset = Charset.forName(&quot;IBM037&quot;);\r\n    Comparator&lt;String&gt; ebcdicComparator = Comparator.comparing(\r\n            value -&gt; new String(value.getBytes(ebcdicCharset)));","title":"Java comparator for String in EBCDIC encoding","body":"<p>It has been suggested to use <em>Charset.endode(String)</em> and compare the resulting ByteBuffer objects. This will only work for letters and numbers, not punctuation.\nThat's because byte has a range of -128 to 127. Characters higher than 127 will be negative so they don't compare properly to the positive bytes.</p>\n<p>To handle the entire character set simply convert the EBCDIC bytes back to Strings in the default Charset before comparing them:</p>\n<pre><code>Charset ebcdicCharset = Charset.forName(&quot;IBM037&quot;);\nComparator&lt;String&gt; ebcdicComparator = Comparator.comparing(\n        value -&gt; new String(value.getBytes(ebcdicCharset)));\n</code></pre>\n"}],"owner":{"account_id":152511,"reputation":1755,"user_id":367097,"accept_rate":75,"display_name":"Akshay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2987,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":24525502,"answer_count":4,"score":4,"last_activity_date":1665506265,"creation_date":1404285273,"question_id":24525015,"body_markdown":"I have come across a requirement where I need to convert a string to EBCDIC encoding and then sort it. We need to sort it with EBCDIC because the string has to go in mainframe. The string I will sort will have only alphabets in captial and integers only. \r\n\r\nI googled it some and then I came across the \r\n[link from IBM][1] which has listed the characters in order\r\n\r\n\r\n  [1]: http://www-01.ibm.com/support/knowledgecenter/SSAT4T_10.1.0/com.ibm.xlf101l.doc/xlflr/asciit.htm%23asciit?lang=en\r\n\r\n\r\nWhat I realized was that EBCDIC sorting is exactly opposite to normal java lexicographic sorting (at least for the type of data which I am going to process). \r\n\r\nMy question is my realization right ?  If not what I am missing ? OR is there any java comparator available for EBCDIC  encoding.","title":"Java comparator for String in EBCDIC encoding","body":"<p>I have come across a requirement where I need to convert a string to EBCDIC encoding and then sort it. We need to sort it with EBCDIC because the string has to go in mainframe. The string I will sort will have only alphabets in captial and integers only. </p>\n\n<p>I googled it some and then I came across the \n<a href=\"http://www-01.ibm.com/support/knowledgecenter/SSAT4T_10.1.0/com.ibm.xlf101l.doc/xlflr/asciit.htm%23asciit?lang=en\" rel=\"nofollow\">link from IBM</a> which has listed the characters in order</p>\n\n<p>What I realized was that EBCDIC sorting is exactly opposite to normal java lexicographic sorting (at least for the type of data which I am going to process). </p>\n\n<p>My question is my realization right ?  If not what I am missing ? OR is there any java comparator available for EBCDIC  encoding.</p>\n"},{"tags":["java","gradle","gradle-plugin"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1665474598,"post_id":74024571,"comment_id":130702625,"body_markdown":"Add details as to what the task is supposed to do and what do you mean by “according to the resolved artifacts”.","body":"Add details as to what the task is supposed to do and what do you mean by “according to the resolved artifacts”."}],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665506251,"creation_date":1665506251,"answer_id":74031406,"question_id":74024571,"body_markdown":"You can create additional Gradle test tasks named `test*`, and use the include and exclude properties to configure which task runs what subset of tests. The jar has absolutely nothing to do with running tests, because Gradle doesn’t know what tests are in it. The tests are discovered at runtime by the appropriate test engine (like JUnit 5).\r\n","title":"How to register a Gradle task after configurations have been resolved?","body":"<p>You can create additional Gradle test tasks named <code>test*</code>, and use the include and exclude properties to configure which task runs what subset of tests. The jar has absolutely nothing to do with running tests, because Gradle doesn’t know what tests are in it. The tests are discovered at runtime by the appropriate test engine (like JUnit 5).</p>\n"}],"owner":{"account_id":8660948,"reputation":1200,"user_id":6483409,"display_name":"robothy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665506251,"creation_date":1665473979,"question_id":74024571,"body_markdown":"I have several jars with test classes in the private Maven repository. As shown below, these jars are imported by a customized configuration `testJar`.\r\n```groovy\r\ndependencies {\r\n    testJar &quot;com.example:test1:1.0&quot;\r\n    testJar &quot;com.example:test2:1.0&quot;\r\n}\r\n```\r\nI want to run these tests in separate Gradle test tasks. i.e.\r\n+ Execute tests in test-1.jar with task `test1`.\r\n+ Execute tests in test-2.jar with task `test2`.\r\n\r\n&gt; Why not execute these tests in the same task?\r\n&gt; The tests in different jars may affect each other.\r\n\r\nTo achieve this, I should register tasks `test1` and `test2` after the configuration `testJar` is resolved.","title":"How to register a Gradle task after configurations have been resolved?","body":"<p>I have several jars with test classes in the private Maven repository. As shown below, these jars are imported by a customized configuration <code>testJar</code>.</p>\n<pre><code>dependencies {\n    testJar &quot;com.example:test1:1.0&quot;\n    testJar &quot;com.example:test2:1.0&quot;\n}\n</code></pre>\n<p>I want to run these tests in separate Gradle test tasks. i.e.</p>\n<ul>\n<li>Execute tests in test-1.jar with task <code>test1</code>.</li>\n<li>Execute tests in test-2.jar with task <code>test2</code>.</li>\n</ul>\n<blockquote>\n<p>Why not execute these tests in the same task?\nThe tests in different jars may affect each other.</p>\n</blockquote>\n<p>To achieve this, I should register tasks <code>test1</code> and <code>test2</code> after the configuration <code>testJar</code> is resolved.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":1,"creation_date":1665506026,"post_id":74031035,"comment_id":130714532,"body_markdown":"Welcome to StackOverflow! The reason why you are getting the exception is that your `item` variable is apparently of type `TextNode`, but you are trying to cast (convert) it to an `ObjectNode`, which isn&#39;t possible. Try to change the `(ObjectNode)` in front of your `item` variable to `(TextNode)` and see what happens.","body":"Welcome to StackOverflow! The reason why you are getting the exception is that your <code>item</code> variable is apparently of type <code>TextNode</code>, but you are trying to cast (convert) it to an <code>ObjectNode</code>, which isn&#39;t possible. Try to change the <code>(ObjectNode)</code> in front of your <code>item</code> variable to <code>(TextNode)</code> and see what happens."},{"owner":{"account_id":26473889,"reputation":13,"user_id":20114105,"display_name":"tester"},"score":0,"creation_date":1665506309,"post_id":74031035,"comment_id":130714637,"body_markdown":"Thanks for the reply ... after changing the ((TextNode) item).put(&quot;email-subject&quot;, &quot;Test update&quot;);  --  Error --&gt;  The method put(String, String) is undefined for the type TextNode","body":"Thanks for the reply ... after changing the ((TextNode) item).put(&quot;email-subject&quot;, &quot;Test update&quot;);  --  Error --&gt;  The method put(String, String) is undefined for the type TextNode"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665506240,"creation_date":1665506240,"answer_id":74031404,"question_id":74031035,"body_markdown":"`notification` is an objectNode. You can access its fields directly.\r\n\r\n    JsonNode root = objectMapper.readTree(jsonFile);\r\n    JsonNode steps = root.get(&quot;notification&quot;);\r\n\r\n    ((ObjectNode) root).put(&quot;project-name&quot;, &quot;update name&quot;);\r\n    if (((ObjectNode) steps).has(&quot;email-subject&quot;)) {\r\n        ((ObjectNode) steps).put(&quot;email-subject&quot;, &quot;Test update&quot;);\r\n    }","title":"Not able to update the values in jscon file -jackson","body":"<p><code>notification</code> is an objectNode. You can access its fields directly.</p>\n<pre><code>JsonNode root = objectMapper.readTree(jsonFile);\nJsonNode steps = root.get(&quot;notification&quot;);\n\n((ObjectNode) root).put(&quot;project-name&quot;, &quot;update name&quot;);\nif (((ObjectNode) steps).has(&quot;email-subject&quot;)) {\n    ((ObjectNode) steps).put(&quot;email-subject&quot;, &quot;Test update&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":26473889,"reputation":13,"user_id":20114105,"display_name":"tester"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74031404,"answer_count":1,"score":-1,"last_activity_date":1665506240,"creation_date":1665504224,"question_id":74031035,"body_markdown":"I am trying to update this json file:\r\n\r\n```js\r\n{\r\n  &quot;name&quot;: &quot;abc&quot;,\r\n  &quot;age&quot;: &quot;123&quot;,\r\n  &quot;project-name&quot;: &quot;Test&quot;,\r\n  &quot;city&quot;: &quot;pune&quot;,\r\n  &quot;project-git&quot;: &quot;Test&quot;,\r\n  &quot;notification&quot;: {\r\n    &quot;email-subject&quot;: &quot;Test&quot;\r\n  }\r\n}\r\n```\r\n\r\nI am trying to change `project-name` and `email-subject` to some other value.\r\n\r\nThe code to change `email-subject` is as follows:\r\n\r\n```java\r\nObjectMapper objectMapper = new ObjectMapper();\r\nFile jsonFile = new File(&quot;abc.json&quot;);\r\n\r\nJsonNode root = objectMapper.readTree(jsonFile);\r\nJsonNode steps = root.get(&quot;notification&quot;);\r\n\r\n\r\nfor (final JsonNode item: steps) {\r\n    if (item.findPath(&quot;email-subject&quot;) != null) {\r\n        ((ObjectNode) item).put(&quot;email-subject&quot;, &quot;Test update&quot;);\r\n    }\r\n}\r\n\r\nString resultJson = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(root);\r\n```\r\n\r\nAnd the code to update `project-name` is as follows:\r\n\r\n```java\r\nObjectMapper objectMapper = new ObjectMapper();\r\nFile jsonFile = new File(&quot;bac.json&quot;);\r\n\r\nJsonNode root = objectMapper.readTree(jsonFile);\r\n\r\n((ObjectNode) item).put(&quot;project-name&quot;, &quot;update name&quot;)\r\nobjectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(root);\r\n```\r\n\r\nIn both cases, I am getting this exception:\r\n\r\n```\r\nError : Exception in thread &quot;main&quot; java.lang.ClassCastException: com.fasterxml.jackson.databind.node.TextNode cannot be cast to com.fasterxml.jackson.databind.node.ObjectNode\r\n```\r\n\r\n\r\nAny help would be appreciated","title":"Not able to update the values in jscon file -jackson","body":"<p>I am trying to update this json file:</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;abc&quot;,\n  &quot;age&quot;: &quot;123&quot;,\n  &quot;project-name&quot;: &quot;Test&quot;,\n  &quot;city&quot;: &quot;pune&quot;,\n  &quot;project-git&quot;: &quot;Test&quot;,\n  &quot;notification&quot;: {\n    &quot;email-subject&quot;: &quot;Test&quot;\n  }\n}\n</code></pre>\n<p>I am trying to change <code>project-name</code> and <code>email-subject</code> to some other value.</p>\n<p>The code to change <code>email-subject</code> is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper();\nFile jsonFile = new File(&quot;abc.json&quot;);\n\nJsonNode root = objectMapper.readTree(jsonFile);\nJsonNode steps = root.get(&quot;notification&quot;);\n\n\nfor (final JsonNode item: steps) {\n    if (item.findPath(&quot;email-subject&quot;) != null) {\n        ((ObjectNode) item).put(&quot;email-subject&quot;, &quot;Test update&quot;);\n    }\n}\n\nString resultJson = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(root);\n</code></pre>\n<p>And the code to update <code>project-name</code> is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper();\nFile jsonFile = new File(&quot;bac.json&quot;);\n\nJsonNode root = objectMapper.readTree(jsonFile);\n\n((ObjectNode) item).put(&quot;project-name&quot;, &quot;update name&quot;)\nobjectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(root);\n</code></pre>\n<p>In both cases, I am getting this exception:</p>\n<pre><code>Error : Exception in thread &quot;main&quot; java.lang.ClassCastException: com.fasterxml.jackson.databind.node.TextNode cannot be cast to com.fasterxml.jackson.databind.node.ObjectNode\n</code></pre>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","freemarker","liferay-7"],"comments":[{"owner":{"account_id":5487602,"reputation":569,"user_id":4361906,"display_name":"Roberto Braga"},"score":0,"creation_date":1665434479,"post_id":74020266,"comment_id":130695362,"body_markdown":"how is it related to php? liferay should be Java","body":"how is it related to php? liferay should be Java"},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1665584030,"post_id":74020266,"comment_id":130735489,"body_markdown":"Maybe it&#39;s my lack Liferay knowledge, but it&#39;s not clear to me what the row with `curEntry` and then lots of `${...}` meant to mean. Maybe you should explain that. Also, just a side note, but things like `entry.getSomething()` can be written as `entry.something`. Easier to read.","body":"Maybe it&#39;s my lack Liferay knowledge, but it&#39;s not clear to me what the row with <code>curEntry</code> and then lots of <code>${...}</code> meant to mean. Maybe you should explain that. Also, just a side note, but things like <code>entry.getSomething()</code> can be written as <code>entry.something</code>. Easier to read."}],"answers":[{"tags":[],"owner":{"account_id":5964690,"reputation":30,"user_id":4688739,"display_name":"bui vy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665461737,"creation_date":1665461737,"answer_id":74022918,"question_id":74020266,"body_markdown":"The error message is self-explanatory, just use:\r\n\r\n`\r\nassetRenderer = entry.getAssetRenderer()\r\n`\r\n\r\nInstead of:\r\n`\r\nassetRenderer = curEntry.${entry.getContent()}\r\n`\r\n\r\nYou can&#39;t use `${...}` in the FreeMarker-expression-mode.","title":"does not render the template created with Liferay I get the following error","body":"<p>The error message is self-explanatory, just use:</p>\n<p><code>assetRenderer = entry.getAssetRenderer()</code></p>\n<p>Instead of:\n<code>assetRenderer = curEntry.${entry.getContent()}</code></p>\n<p>You can't use <code>${...}</code> in the FreeMarker-expression-mode.</p>\n"}],"owner":{"account_id":6666419,"reputation":3,"user_id":5143942,"display_name":"Untalrobert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74022918,"answer_count":1,"score":0,"last_activity_date":1665506178,"creation_date":1665432910,"question_id":74020266,"body_markdown":"Syntax error in template &quot;37675#37715#76503&quot; in line 32, column 46: You can&#39;t use ${...} (an interpolation) here as you are already in FreeMarker-expression-mode. Thus, instead of ${myExpression}, just write myExpression. (${...} is only used where otherwise static text is expected, i.e., outside FreeMarker tags and interpolations, or inside string literals.)\r\n\r\n\r\n\r\n    ${request}&lt;#if searchResultsPortletDisplayContext.getDocuments()?has_content&gt;\r\n    &lt;div class=&quot;page-general__products&quot;&gt;\r\n        &lt;div class=&quot;container&quot;&gt;\r\n            &lt;div class=&quot;text&quot;&gt;\r\n                &lt;h1&gt;&#191;Lorem Ipsum?&lt;/h1&gt;\r\n                &lt;p&gt;Lorem Ipsum&lt;/p&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n               \r\n                &lt;#list searchResultsPortletDisplayContext.getDocuments() as entry&gt;\r\n                &lt;#assign \r\n                        jls = serviceLocator.findService(&quot;com.liferay.asset.kernel.service.AssetEntryService&quot;)\r\n                       entryClassPK = entry.getField(&quot;entryClassPK&quot;).getValue()?number\r\n                       entryClassName = entry.getField(&quot;entryClassName&quot;).getValue()\r\n                        journalArticle = entry.getField(&quot;articleId_String_sortable&quot;).getValue()\r\n                        curEntry = jls.getEntry(entryClassName,entryClassPK)\r\n                    /&gt; \r\n                    \r\n                   \r\n                    \r\n                    &lt;#assign fields = curEntry.getAssetRenderer().getDDMFormValuesReader().getDDMFormValues().getDDMFormFieldValues()\r\n                    esGrande = fields[0].getValue().getString(locale)\r\n                    /&gt;\r\n    \r\n           \r\n              &lt;#if esGrande==&quot;true&quot;&gt;   \r\n              &lt;div class=&quot;col-md-4 col-lg-3&quot;&gt;\r\n              &lt;#else&gt;\r\n              &lt;div class=&quot;col-md-8 col-lg-6&quot;&gt;\r\n              &lt;/#if&gt;\r\n              &lt;#assign\r\n                        assetRenderer = curEntry.${entry.getContent()}${entry.getCreationDateString()}${entry.getCreatorUserName()}()\r\n                        journalArticle = assetRenderer.getAssetObject()/&gt;\r\n                    &lt;@liferay_journal[&quot;journal-article&quot;]\r\n                        articleId=journalArticle.getArticleId()\r\n                        ddmTemplateKey=&quot;76229&quot;\r\n                        groupId=journalArticle.getGroupId()/&gt;\r\n                    &lt;/div&gt; \r\n                    &lt;/#list&gt;\r\n            &lt;/div&gt;    \r\n        &lt;/div&gt; \r\n    &lt;/div&gt;\r\n    &lt;/#if&gt;\r\n    \r\n        enter code here","title":"does not render the template created with Liferay I get the following error","body":"<p>Syntax error in template &quot;37675#37715#76503&quot; in line 32, column 46: You can't use ${...} (an interpolation) here as you are already in FreeMarker-expression-mode. Thus, instead of ${myExpression}, just write myExpression. (${...} is only used where otherwise static text is expected, i.e., outside FreeMarker tags and interpolations, or inside string literals.)</p>\n<pre><code>${request}&lt;#if searchResultsPortletDisplayContext.getDocuments()?has_content&gt;\n&lt;div class=&quot;page-general__products&quot;&gt;\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;text&quot;&gt;\n            &lt;h1&gt;¿Lorem Ipsum?&lt;/h1&gt;\n            &lt;p&gt;Lorem Ipsum&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;row&quot;&gt;\n           \n            &lt;#list searchResultsPortletDisplayContext.getDocuments() as entry&gt;\n            &lt;#assign \n                    jls = serviceLocator.findService(&quot;com.liferay.asset.kernel.service.AssetEntryService&quot;)\n                   entryClassPK = entry.getField(&quot;entryClassPK&quot;).getValue()?number\n                   entryClassName = entry.getField(&quot;entryClassName&quot;).getValue()\n                    journalArticle = entry.getField(&quot;articleId_String_sortable&quot;).getValue()\n                    curEntry = jls.getEntry(entryClassName,entryClassPK)\n                /&gt; \n                \n               \n                \n                &lt;#assign fields = curEntry.getAssetRenderer().getDDMFormValuesReader().getDDMFormValues().getDDMFormFieldValues()\n                esGrande = fields[0].getValue().getString(locale)\n                /&gt;\n\n       \n          &lt;#if esGrande==&quot;true&quot;&gt;   \n          &lt;div class=&quot;col-md-4 col-lg-3&quot;&gt;\n          &lt;#else&gt;\n          &lt;div class=&quot;col-md-8 col-lg-6&quot;&gt;\n          &lt;/#if&gt;\n          &lt;#assign\n                    assetRenderer = curEntry.${entry.getContent()}${entry.getCreationDateString()}${entry.getCreatorUserName()}()\n                    journalArticle = assetRenderer.getAssetObject()/&gt;\n                &lt;@liferay_journal[&quot;journal-article&quot;]\n                    articleId=journalArticle.getArticleId()\n                    ddmTemplateKey=&quot;76229&quot;\n                    groupId=journalArticle.getGroupId()/&gt;\n                &lt;/div&gt; \n                &lt;/#list&gt;\n        &lt;/div&gt;    \n    &lt;/div&gt; \n&lt;/div&gt;\n&lt;/#if&gt;\n\n    enter code here\n</code></pre>\n"},{"tags":["java","correctness","try-with-resources"],"comments":[{"owner":{"account_id":3004185,"reputation":19173,"user_id":2549021,"display_name":"AKS"},"score":0,"creation_date":1395863811,"post_id":22671697,"comment_id":34536769,"body_markdown":"here you go http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html ... and it does have an example on `Statement` and `ResultSet`","body":"here you go <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a> ... and it does have an example on <code>Statement</code> and <code>ResultSet</code>"},{"owner":{"account_id":1277868,"reputation":4185,"user_id":1232720,"accept_rate":86,"display_name":"Jos&#233; D."},"score":0,"creation_date":1395864010,"post_id":22671697,"comment_id":34536887,"body_markdown":"Thanks, I had already checked that but it doesn&#39;t make it explicitly clear that the ResultSet is closed.","body":"Thanks, I had already checked that but it doesn&#39;t make it explicitly clear that the ResultSet is closed."},{"owner":{"account_id":3004185,"reputation":19173,"user_id":2549021,"display_name":"AKS"},"score":6,"creation_date":1395864104,"post_id":22671697,"comment_id":34536934,"body_markdown":"`A ResultSet object is automatically closed when the Statement object that generated it is closed` Read [here](http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html)","body":"<code>A ResultSet object is automatically closed when the Statement object that generated it is closed</code> Read <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":2,"creation_date":1395864267,"post_id":22671697,"comment_id":34537035,"body_markdown":"*2.A) Is this code correct?* No. ```close``` might throw a ```RuntimeException```. Before try-with-resources, I used nested try/finally blocks so each resource got its own finally.","body":"<i>2.A) Is this code correct?</i> No. <code>close</code> might throw a <code>RuntimeException</code>. Before try-with-resources, I used nested try/finally blocks so each resource got its own finally."},{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":2,"creation_date":1395864303,"post_id":22671697,"comment_id":34537057,"body_markdown":"I think your professor is right when she says to close the ResultSet yourself.  Relying on other code to do it is dangerous.  How do you know that in future versions they don&#39;t change it so ResultSets are not closed automatically?  Also, I would catch Throwable instead of SqlException.  It will cover all possible scenarios.","body":"I think your professor is right when she says to close the ResultSet yourself.  Relying on other code to do it is dangerous.  How do you know that in future versions they don&#39;t change it so ResultSets are not closed automatically?  Also, I would catch Throwable instead of SqlException.  It will cover all possible scenarios."},{"owner":{"account_id":1277868,"reputation":4185,"user_id":1232720,"accept_rate":86,"display_name":"Jos&#233; D."},"score":0,"creation_date":1395864563,"post_id":22671697,"comment_id":34537190,"body_markdown":"@DavidEhrmann really? How do you know that? It is not specified in http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#close() nor in http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#close() :s","body":"@DavidEhrmann really? How do you know that? It is not specified in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#close()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/sql/&hellip;</a> nor in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#close()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/sql/&hellip;</a> :s"},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":1,"creation_date":1395864725,"post_id":22671697,"comment_id":34537295,"body_markdown":"@Trollkemada ```RuntimeException``` can *always* be thrown. You don&#39;t want a buggy driver throwing a ```NullPointerException``` to prevent resources from being freed.","body":"@Trollkemada <code>RuntimeException</code> can <i>always</i> be thrown. You don&#39;t want a buggy driver throwing a <code>NullPointerException</code> to prevent resources from being freed."},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":0,"creation_date":1395865050,"post_id":22671697,"comment_id":34537454,"body_markdown":"(2b.) This is why I recommend avoiding raw jdbc and instead recommend spring-jdbc, jdbi, jooq or an ORM.","body":"(2b.) This is why I recommend avoiding raw jdbc and instead recommend spring-jdbc, jdbi, jooq or an ORM."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1395898784,"post_id":22671697,"comment_id":34549935,"body_markdown":"There have been known problems with some JDBC drivers failing to properly close the ResultSet when the Connection is closed. So while in theory you are correct in your interpretation of the doc saying you needn&#39;t explicitly close your ResultSet, in practice you should.","body":"There have been known problems with some JDBC drivers failing to properly close the ResultSet when the Connection is closed. So while in theory you are correct in your interpretation of the doc saying you needn&#39;t explicitly close your ResultSet, in practice you should."},{"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"score":0,"creation_date":1508757382,"post_id":22671697,"comment_id":80722965,"body_markdown":"It would be interesting to see people&#39;s solutions where they are using `commit` or `rollback` as well, since we are discussing code with an update after all.","body":"It would be interesting to see people&#39;s solutions where they are using <code>commit</code> or <code>rollback</code> as well, since we are discussing code with an update after all."},{"owner":{"account_id":8253567,"reputation":118,"user_id":6207386,"display_name":"Craig Parton"},"score":0,"creation_date":1551263994,"post_id":22671697,"comment_id":96574125,"body_markdown":"@CodeChimp Catching SQLException is exactly correct in this case. There is NEVER a reason to catch Throwable! We should only catch errors we can handle internally. Throwable supersedes all Java Exceptions, and will catch errors like OutOfMemoryException and KernelException. For what purpose would you capture those, and how would you plan on handling them?","body":"@CodeChimp Catching SQLException is exactly correct in this case. There is NEVER a reason to catch Throwable! We should only catch errors we can handle internally. Throwable supersedes all Java Exceptions, and will catch errors like OutOfMemoryException and KernelException. For what purpose would you capture those, and how would you plan on handling them?"},{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":0,"creation_date":1551371470,"post_id":22671697,"comment_id":96624934,"body_markdown":"@CraigParton 2019 CodeChimp would agree with you.  2014 CodeChimp was a little overzealous with his catching of errors.","body":"@CraigParton 2019 CodeChimp would agree with you.  2014 CodeChimp was a little overzealous with his catching of errors."},{"owner":{"account_id":8253567,"reputation":118,"user_id":6207386,"display_name":"Craig Parton"},"score":1,"creation_date":1551702699,"post_id":22671697,"comment_id":96724438,"body_markdown":"@CodeChimp Hey at least we live and learn! I&#39;m currently rewriting some old code that I wrote a few years and.. it&#39;s a little painful.","body":"@CodeChimp Hey at least we live and learn! I&#39;m currently rewriting some old code that I wrote a few years and.. it&#39;s a little painful."}],"answers":[{"tags":[],"owner":{"account_id":1081514,"reputation":3747,"user_id":1078390,"accept_rate":100,"display_name":"Martin Serrano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395864313,"creation_date":1395864313,"answer_id":22671898,"question_id":22671697,"body_markdown":"This is indeed the primary motivation for try-with-resources.  See the Java [tutorials][1] as reference.  Your professor is out-of-date.  If you want to deal with the result set issue you can always enclose it in another try-with-resources statement.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Try / Try-with-resources and Connection, Statement and ResultSet closing","body":"<p>This is indeed the primary motivation for try-with-resources.  See the Java <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow\">tutorials</a> as reference.  Your professor is out-of-date.  If you want to deal with the result set issue you can always enclose it in another try-with-resources statement.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1513565994,"creation_date":1395865032,"answer_id":22672120,"question_id":22671697,"body_markdown":"The fun thing about JDBC code is that you&#39;re coding to a spec where it&#39;s not always clear how compliant your implementation is. There are a lot of different databases and drivers and some drivers are better-behaved than others. That tends to make people err on the side of caution, recommending things like closing everything explicitly. You could be ok with closing only the connection here. Closing the resultSet just to be on the safe side is hard to argue with. You don&#39;t indicate what database or driver you&#39;re using here, i wouldn&#39;t want to hardcode in assumptions about the driver that might not be valid for some implementation. \r\n\r\nClosing things in sequence does leave you open to problems where an exception can get thrown and cause some of the closes to be skipped. You&#39;re right to be concerned about that.\r\n\r\nBe aware this is a toy example. Most real code uses a connection pool, where calling the close method doesn&#39;t actually close the connection, instead it returns the connection to the pool. So resources may not get closed once you use a pool. If you want to change this code to use a connection pool then you&#39;ll have to go back and close the statements at least.\r\n\r\n\r\nAlso if you&#39;re objecting to the verbosity of this, the answer to that is to hide the code in reusable utilities that use strategies, resultSet mappers, prepared statement setters, etc. This has all been done before, of course; you&#39;ll be on the road to reinventing Spring JDBC. \r\n\r\nSpeaking of which: Spring JDBC closes everything explicitly (probably because it needs to work with as many drivers as possible, and doesn&#39;t want to cause problems due to some driver&#39;s not being well-behaved).","title":"Try / Try-with-resources and Connection, Statement and ResultSet closing","body":"<p>The fun thing about JDBC code is that you're coding to a spec where it's not always clear how compliant your implementation is. There are a lot of different databases and drivers and some drivers are better-behaved than others. That tends to make people err on the side of caution, recommending things like closing everything explicitly. You could be ok with closing only the connection here. Closing the resultSet just to be on the safe side is hard to argue with. You don't indicate what database or driver you're using here, i wouldn't want to hardcode in assumptions about the driver that might not be valid for some implementation. </p>\n\n<p>Closing things in sequence does leave you open to problems where an exception can get thrown and cause some of the closes to be skipped. You're right to be concerned about that.</p>\n\n<p>Be aware this is a toy example. Most real code uses a connection pool, where calling the close method doesn't actually close the connection, instead it returns the connection to the pool. So resources may not get closed once you use a pool. If you want to change this code to use a connection pool then you'll have to go back and close the statements at least.</p>\n\n<p>Also if you're objecting to the verbosity of this, the answer to that is to hide the code in reusable utilities that use strategies, resultSet mappers, prepared statement setters, etc. This has all been done before, of course; you'll be on the road to reinventing Spring JDBC. </p>\n\n<p>Speaking of which: Spring JDBC closes everything explicitly (probably because it needs to work with as many drivers as possible, and doesn't want to cause problems due to some driver's not being well-behaved).</p>\n"},{"tags":[],"owner":{"account_id":3148124,"reputation":340,"user_id":2662230,"display_name":"nbsp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395866097,"creation_date":1395866097,"answer_id":22672472,"question_id":22671697,"body_markdown":"You could make a util class to handle closing of these resources. i.e\r\nFYI i just ignored SQLExceptions from trying to close resources in the util class, but you could as verywell log or collect and throw them once you are done closing the resources in the collection depending on your needs\r\n\r\n    public class DBUtil {\r\n    public static void closeConnections(Connection ...connections){\r\n        if(connections != null ){\r\n            for(Connection conn : connections){\r\n                if(conn != null){\r\n                    try {\r\n                        conn.close();\r\n                    } catch (SQLException ignored) {\r\n                        //ignored\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void closeResultSets(ResultSet ...resultSets){\r\n        if(resultSets != null ){\r\n            for(ResultSet rs: resultSets){\r\n                if(rs != null){\r\n                    try {\r\n                        rs.close();\r\n                    } catch (SQLException ignored) {\r\n                        //ignored\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void closeStatements(Statement ...statements){\r\n        if(statements != null){\r\n            for(Statement statement : statements){\r\n                if(statement != null){\r\n                    try {\r\n                        statement.close();\r\n                    } catch (SQLException ignored) {\r\n                        //ignored\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nand then just call it from you method:\r\n\r\n        public void doQueries() throws MyException {\r\n        Connection con = null;\r\n        try {\r\n            con = DriverManager.getConnection(dataSource);\r\n            PreparedStatement s1 = null;\r\n            PreparedStatement s2 = null;\r\n            try {\r\n                s1 = con.prepareStatement(updateSqlQuery);\r\n                s2 = con.prepareStatement(selectSqlQuery);\r\n\r\n                // Set the parameters of the PreparedStatements and maybe do other things\r\n                s1.executeUpdate();\r\n                ResultSet rs = null;\r\n                try {\r\n                    rs = s2.executeQuery();\r\n                } finally {\r\n                    DBUtil.closeResultSets(rs);\r\n                }\r\n            } finally {\r\n                DBUtil.closeStatements(s2, s1);\r\n            }\r\n\r\n        } catch (SQLException e) {\r\n            throw new MyException(e);\r\n        } finally {\r\n            DBUtil.closeConnections(con);\r\n        }\r\n    }\r\n","title":"Try / Try-with-resources and Connection, Statement and ResultSet closing","body":"<p>You could make a util class to handle closing of these resources. i.e\nFYI i just ignored SQLExceptions from trying to close resources in the util class, but you could as verywell log or collect and throw them once you are done closing the resources in the collection depending on your needs</p>\n\n<pre><code>public class DBUtil {\npublic static void closeConnections(Connection ...connections){\n    if(connections != null ){\n        for(Connection conn : connections){\n            if(conn != null){\n                try {\n                    conn.close();\n                } catch (SQLException ignored) {\n                    //ignored\n                }\n            }\n        }\n    }\n}\n\npublic static void closeResultSets(ResultSet ...resultSets){\n    if(resultSets != null ){\n        for(ResultSet rs: resultSets){\n            if(rs != null){\n                try {\n                    rs.close();\n                } catch (SQLException ignored) {\n                    //ignored\n                }\n            }\n        }\n    }\n}\n\npublic static void closeStatements(Statement ...statements){\n    if(statements != null){\n        for(Statement statement : statements){\n            if(statement != null){\n                try {\n                    statement.close();\n                } catch (SQLException ignored) {\n                    //ignored\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and then just call it from you method:</p>\n\n<pre><code>    public void doQueries() throws MyException {\n    Connection con = null;\n    try {\n        con = DriverManager.getConnection(dataSource);\n        PreparedStatement s1 = null;\n        PreparedStatement s2 = null;\n        try {\n            s1 = con.prepareStatement(updateSqlQuery);\n            s2 = con.prepareStatement(selectSqlQuery);\n\n            // Set the parameters of the PreparedStatements and maybe do other things\n            s1.executeUpdate();\n            ResultSet rs = null;\n            try {\n                rs = s2.executeQuery();\n            } finally {\n                DBUtil.closeResultSets(rs);\n            }\n        } finally {\n            DBUtil.closeStatements(s2, s1);\n        }\n\n    } catch (SQLException e) {\n        throw new MyException(e);\n    } finally {\n        DBUtil.closeConnections(con);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1718843,"reputation":503,"user_id":1575310,"display_name":"Armand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445617030,"creation_date":1445534567,"answer_id":33286913,"question_id":22671697,"body_markdown":"This is what I find to be the best solution for handling resources like JDBC.  This method provides an immutable function, by leveraging final variables, and only declaring and assigning those variables if they are needed, it is very CPU efficient, and guarantees in all cases, that all resources that are assigned and opened are closed regardless of the state of exceptions.  The technique you are using leaves gaps that can result in resource leaks if not carefully implemented to address all scenarios.  This technique does not allow for a resource leak provided the pattern is always followed: &lt;br&gt;\r\n1) assign resource&lt;br&gt;\r\n2) try&lt;br&gt;\r\n3) use resource&lt;br&gt;\r\n4) finally close resource&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n    public void doQueries() throws MyException {\r\n       try {\r\n          final Connection con = DriverManager.getConnection(dataSource);\r\n          try {\r\n             final PreparedStatement s1 = con.prepareStatement(updateSqlQuery);\r\n             try {\r\n             \r\n                // Set the parameters of the PreparedStatements and maybe do other things\r\n    \r\n                s1.executeUpdate();\r\n                \r\n             } finally {\r\n                try { s1.close(); } catch (SQLException e) {}\r\n             }\r\n             \r\n             final PreparedStatement s2 = con.prepareStatement(selectSqlQuery);\r\n             try {\r\n             \r\n                // Set the parameters of the PreparedStatements and maybe do other things\r\n    \r\n                final ResultSet rs = s2.executeQuery();\r\n                try {\r\n                \r\n                   // Do something with rs\r\n                   \r\n                } finally {\r\n                   try { rs.close(); } catch (SQLException e) {}\r\n                }\r\n             } finally {\r\n                try { s2.close(); } catch (SQLException e) {}\r\n             }\r\n          } finally {\r\n             try { con.close(); } catch (SQLException e) {}\r\n          }\r\n       } catch (SQLException e) {\r\n          throw new MyException(e);\r\n       }\r\n    }\r\n\r\nWith Java 7, you can leverage the new try -with-resources to simplify this even more:  The new try -with-resources follows the above logic flow, in that it will guarantee all resources include in the with resources block that are assigned get closed.  any exception thrown in the with resources block will the thrown, but those assigned resources will still be closed.  This code is much simplified and looks like this:&lt;br&gt;\r\n\r\n    public void doQueries() throws MyException {\r\n       try (\r\n          final Connection con = DriverManager.getConnection(dataSource);\r\n          final PreparedStatement s1 = con.prepareStatement(updateSqlQuery);\r\n          final PreparedStatement s2 = con.prepareStatement(selectSqlQuery);\r\n          final ResultSet rs = s2.executeQuery()) {\r\n    \r\n          s1.executeUpdate();\r\n             \r\n             // Do something with rs\r\n\r\n       } catch (SQLException e) {\r\n          throw new MyException(e);\r\n       }\r\n    }\r\n\r\n[EDIT]: moved rs assignment into the resources block to show the simplest implementation.  In practice, this simple solution does not really work, as this is not efficient.  A connection *should* be reused, since establishing the connection is a very costly operation.  Additionally, this simple example does not assign query parameters to the prepared statement.  Care should be taken to handle these scenarios, as the the resource block *should* only include assignment statements.  To depict this, I have also added another example\r\n\r\n\r\n       public void doQueries() throws MyException {\r\n\r\n          final String updateSqlQuery = &quot;select @@servername&quot;;\r\n          final String selecSqlQuery  = &quot;select * from mytable where col1 = ? and col2 &gt; ?&quot;;\r\n          final Object[] queryParams  = {&quot;somevalue&quot;, 1};\r\n\r\n          try (final Connection con = DriverManager.getConnection(dataSource);\r\n             final PreparedStatement s1 = newPreparedStatement(con, updateSqlQuery);\r\n             final PreparedStatement s2 = newPreparedStatement(con, selectSqlQuery, queryParams);\r\n             final ResultSet rs = s2.executeQuery()) {\r\n             \r\n             s1.executeUpdate();\r\n             \r\n             while (!rs.next()) {\r\n                // do something with the db record.\r\n             }\r\n          } catch (SQLException e) {\r\n             throw new MyException(e);\r\n          }\r\n       }\r\n       \r\n       private static PreparedStatement newPreparedStatement(Connection con, String sql, Object... args) throws SQLException\r\n       {\r\n          final PreparedStatement stmt = con.prepareStatement(sql);\r\n          for (int i = 0; i &lt; args.length; i++)\r\n             stmt.setObject(i, args[i]);\r\n          return stmt;\r\n       }\r\n\r\n","title":"Try / Try-with-resources and Connection, Statement and ResultSet closing","body":"<p>This is what I find to be the best solution for handling resources like JDBC.  This method provides an immutable function, by leveraging final variables, and only declaring and assigning those variables if they are needed, it is very CPU efficient, and guarantees in all cases, that all resources that are assigned and opened are closed regardless of the state of exceptions.  The technique you are using leaves gaps that can result in resource leaks if not carefully implemented to address all scenarios.  This technique does not allow for a resource leak provided the pattern is always followed: <br>\n1) assign resource<br>\n2) try<br>\n3) use resource<br>\n4) finally close resource<br>\n<br></p>\n\n<pre><code>public void doQueries() throws MyException {\n   try {\n      final Connection con = DriverManager.getConnection(dataSource);\n      try {\n         final PreparedStatement s1 = con.prepareStatement(updateSqlQuery);\n         try {\n\n            // Set the parameters of the PreparedStatements and maybe do other things\n\n            s1.executeUpdate();\n\n         } finally {\n            try { s1.close(); } catch (SQLException e) {}\n         }\n\n         final PreparedStatement s2 = con.prepareStatement(selectSqlQuery);\n         try {\n\n            // Set the parameters of the PreparedStatements and maybe do other things\n\n            final ResultSet rs = s2.executeQuery();\n            try {\n\n               // Do something with rs\n\n            } finally {\n               try { rs.close(); } catch (SQLException e) {}\n            }\n         } finally {\n            try { s2.close(); } catch (SQLException e) {}\n         }\n      } finally {\n         try { con.close(); } catch (SQLException e) {}\n      }\n   } catch (SQLException e) {\n      throw new MyException(e);\n   }\n}\n</code></pre>\n\n<p>With Java 7, you can leverage the new try -with-resources to simplify this even more:  The new try -with-resources follows the above logic flow, in that it will guarantee all resources include in the with resources block that are assigned get closed.  any exception thrown in the with resources block will the thrown, but those assigned resources will still be closed.  This code is much simplified and looks like this:<br></p>\n\n<pre><code>public void doQueries() throws MyException {\n   try (\n      final Connection con = DriverManager.getConnection(dataSource);\n      final PreparedStatement s1 = con.prepareStatement(updateSqlQuery);\n      final PreparedStatement s2 = con.prepareStatement(selectSqlQuery);\n      final ResultSet rs = s2.executeQuery()) {\n\n      s1.executeUpdate();\n\n         // Do something with rs\n\n   } catch (SQLException e) {\n      throw new MyException(e);\n   }\n}\n</code></pre>\n\n<p>[EDIT]: moved rs assignment into the resources block to show the simplest implementation.  In practice, this simple solution does not really work, as this is not efficient.  A connection <em>should</em> be reused, since establishing the connection is a very costly operation.  Additionally, this simple example does not assign query parameters to the prepared statement.  Care should be taken to handle these scenarios, as the the resource block <em>should</em> only include assignment statements.  To depict this, I have also added another example</p>\n\n<pre><code>   public void doQueries() throws MyException {\n\n      final String updateSqlQuery = \"select @@servername\";\n      final String selecSqlQuery  = \"select * from mytable where col1 = ? and col2 &gt; ?\";\n      final Object[] queryParams  = {\"somevalue\", 1};\n\n      try (final Connection con = DriverManager.getConnection(dataSource);\n         final PreparedStatement s1 = newPreparedStatement(con, updateSqlQuery);\n         final PreparedStatement s2 = newPreparedStatement(con, selectSqlQuery, queryParams);\n         final ResultSet rs = s2.executeQuery()) {\n\n         s1.executeUpdate();\n\n         while (!rs.next()) {\n            // do something with the db record.\n         }\n      } catch (SQLException e) {\n         throw new MyException(e);\n      }\n   }\n\n   private static PreparedStatement newPreparedStatement(Connection con, String sql, Object... args) throws SQLException\n   {\n      final PreparedStatement stmt = con.prepareStatement(sql);\n      for (int i = 0; i &lt; args.length; i++)\n         stmt.setObject(i, args[i]);\n      return stmt;\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1665505931,"creation_date":1500243176,"answer_id":45133734,"question_id":22671697,"body_markdown":"# tl;dr\r\n\r\n - In theory closing the statement closes the result set. \r\n - In practice, some faulty JDBC driver implementations failed to do so, notoriously. Thus the advice from your instructor that she learned from the School Of Hard Knocks. \r\n\r\nUnless you are familiar with every implementation of every [JDBC\r\n   driver][1] that might be deployed for your app, use\r\n   [try-with-resources][2] to auto-close every level of your [JDBC][3]\r\n   work such as statements and result sets.\r\n\r\n# Use try-with-resources syntax\r\n\r\nNone of your code is *fully* using [try-with-resources][2]. In try-with-resources syntax, you declare and instantiate your `Connection`, `PreparedStatement`, and `ResultSet` in parentheses, before the braces. See [Tutorial by Oracle][4].\r\n\r\nWhile your `ResultSet` is not being explicitly closed in your last code example, it *should* be closed indirectly when its statement is closed. But as discussed below, it might *not* be closed because of faulty JDBC driver.\r\n\r\n## `AutoCloseable`\r\n\r\nAny such objects implementing  [`AutoCloseable`][5] will automatically have their `close` method invoked. So no need for those `finally` clauses. \r\n\r\nHow do you know which objects are auto-closable and which are not? Look at their class documentation to see if it declares [`AutoCloseable`][5] as a super-interface. Conversely, see [the JavaDoc page for `AutoCloseable`][6] for a list of all the bundled sub-interfaces and implementing classes (dozens actually). \r\n\r\nFor example, for SQL work, we see that [`Connection`][7], [`Statement`][8], [`PreparedStatement`][9], [`ResultSet`][10], and [`RowSet`][11] are all auto-closable but [`DataSource`][12] is not. This makes sense, as `DataSource` stores data about potential resources (database connections) but is not itself a resource. A `DataSource` is never “open” so no need to close.\r\n\r\nSee Oracle Tutorial, [*The try-with-resources Statement*](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).\r\n\r\n# Code example\r\n\r\nYour last code example is getting close to good, but should have wrapped `ResultSet` in a try-with-resources statement to get automatically closed. \r\n\r\nTo quote [`ResultSet`][13] JavaDoc:\r\n\r\n&gt;A ResultSet object is automatically closed when the Statement object that generated it is closed, re-executed, or used to retrieve the next result from a sequence of multiple results.\r\n\r\nAs your teacher has been suggesting, there have been serious flaws in some JDBC drivers that failed to live up to the promise of the JDBC spec to close the `ResultSet` when its `Statement` or `PreparedStatement` is closed. So many programmers make a habit of closing each `ResultSet` object explicitly. \r\n\r\nThis extra duty is easier now with the try-with-resources syntax. In real work you’ll likely have a try-else around all your `AutoCloseable` objects such as `ResultSet` anyways. So my own opinion is: Why not make it a *try-with-resources + else*? Does not hurt, makes your code more self-documenting about your intentions, and it *might* help if your code ever encounters one of those faulty JDBC drivers. **The only cost is a pair of parens**, assuming you’d have a try-catch-else in place anyways.\r\n\r\nAs stated in the [Oracle Tutorial][4], multiple `AutoCloseable` objects declared together will be **closed in reverse order**, just as we would want.\r\n\r\nTip: The try-with-resources syntax allows an optional semicolon on the last declared resource item. I include the semicolon as a habit because it reads well to my eye, is consistent, and facilitates cut-and-paste editing. I include it on your `PreparedStatement s2` line.\r\n\r\n    public void doQueries() throws MyException{\r\n        // First try-with-resources.\r\n        try ( Connection con = DriverManager.getConnection( dataSource ) ;\r\n              PreparedStatement s1 = con.prepareStatement( updateSqlQuery ) ;\r\n              PreparedStatement s2 = con.prepareStatement( selectSqlQuery ) ;\r\n        ) {\r\n\r\n            … Set parameters of PreparedStatements, etc.\r\n\r\n            s1.executeUpdate() ;\r\n\r\n            // Second try-with-resources, nested within first.\r\n            try (\r\n                ResultSet rs = s2.executeQuery() ;\r\n            ) {\r\n                … process ResultSet\r\n            } catch ( SQLException e2 ) {  \r\n                … handle exception related to ResultSet.\r\n            }\r\n\r\n        } catch ( SQLException e ) {  \r\n            … handle exception related to Connection or PreparedStatements.\r\n        }\r\n    }\r\n\r\nI suppose there is a more elegant syntax for this kind of work that might be invented in a future programming language. But for now, we have try-with-resources, and I do use it happily. While try-with-resources is not perfectly elegant, it is a big improvement over the older syntax.\r\n\r\nBy the way, Oracle recommends using a [`DataSource`][14] implementation for getting connections rather than the [`DriverManager`][15] approach seen in your code. Using `DataSource` throughout your code makes it easier to switch drivers or switch to a connection pool.  See if your JDBC driver provides an implementation of `DataSource`.\r\n\r\n# Update: Java 9\r\n\r\nNow in Java 9 you can initialize the resources *before* the try-with-resources. See [this article](https://dzone.com/articles/java-9-tutorial-part-4-try-the-try-with-resources). This flexibility may be useful in some scenarios. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JDBC_driver\r\n  [2]: https://en.wikipedia.org/wiki/Java_syntax#try-with-resources_statements\r\n  [3]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/AutoCloseable.html\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Connection.html\r\n  [8]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Statement.html\r\n  [9]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/PreparedStatement.html\r\n  [10]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/ResultSet.html\r\n  [11]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/javax/sql/RowSet.html\r\n  [12]: https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html\r\n  [13]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\r\n  [14]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/javax/sql/DataSource.html\r\n  [15]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/DriverManager.html","title":"Try / Try-with-resources and Connection, Statement and ResultSet closing","body":"<h1>tl;dr</h1>\n<ul>\n<li>In theory closing the statement closes the result set.</li>\n<li>In practice, some faulty JDBC driver implementations failed to do so, notoriously. Thus the advice from your instructor that she learned from the School Of Hard Knocks.</li>\n</ul>\n<p>Unless you are familiar with every implementation of every <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC\ndriver</a> that might be deployed for your app, use\n<a href=\"https://en.wikipedia.org/wiki/Java_syntax#try-with-resources_statements\" rel=\"nofollow noreferrer\">try-with-resources</a> to auto-close every level of your <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a>\nwork such as statements and result sets.</p>\n<h1>Use try-with-resources syntax</h1>\n<p>None of your code is <em>fully</em> using <a href=\"https://en.wikipedia.org/wiki/Java_syntax#try-with-resources_statements\" rel=\"nofollow noreferrer\">try-with-resources</a>. In try-with-resources syntax, you declare and instantiate your <code>Connection</code>, <code>PreparedStatement</code>, and <code>ResultSet</code> in parentheses, before the braces. See <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>.</p>\n<p>While your <code>ResultSet</code> is not being explicitly closed in your last code example, it <em>should</em> be closed indirectly when its statement is closed. But as discussed below, it might <em>not</em> be closed because of faulty JDBC driver.</p>\n<h2><code>AutoCloseable</code></h2>\n<p>Any such objects implementing  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> will automatically have their <code>close</code> method invoked. So no need for those <code>finally</code> clauses.</p>\n<p>How do you know which objects are auto-closable and which are not? Look at their class documentation to see if it declares <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> as a super-interface. Conversely, see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">the JavaDoc page for <code>AutoCloseable</code></a> for a list of all the bundled sub-interfaces and implementing classes (dozens actually).</p>\n<p>For example, for SQL work, we see that <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Connection.html\" rel=\"nofollow noreferrer\"><code>Connection</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Statement.html\" rel=\"nofollow noreferrer\"><code>Statement</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\"><code>PreparedStatement</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\"><code>ResultSet</code></a>, and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/javax/sql/RowSet.html\" rel=\"nofollow noreferrer\"><code>RowSet</code></a> are all auto-closable but <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\"><code>DataSource</code></a> is not. This makes sense, as <code>DataSource</code> stores data about potential resources (database connections) but is not itself a resource. A <code>DataSource</code> is never “open” so no need to close.</p>\n<p>See Oracle Tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><em>The try-with-resources Statement</em></a>.</p>\n<h1>Code example</h1>\n<p>Your last code example is getting close to good, but should have wrapped <code>ResultSet</code> in a try-with-resources statement to get automatically closed.</p>\n<p>To quote <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\"><code>ResultSet</code></a> JavaDoc:</p>\n<blockquote>\n<p>A ResultSet object is automatically closed when the Statement object that generated it is closed, re-executed, or used to retrieve the next result from a sequence of multiple results.</p>\n</blockquote>\n<p>As your teacher has been suggesting, there have been serious flaws in some JDBC drivers that failed to live up to the promise of the JDBC spec to close the <code>ResultSet</code> when its <code>Statement</code> or <code>PreparedStatement</code> is closed. So many programmers make a habit of closing each <code>ResultSet</code> object explicitly.</p>\n<p>This extra duty is easier now with the try-with-resources syntax. In real work you’ll likely have a try-else around all your <code>AutoCloseable</code> objects such as <code>ResultSet</code> anyways. So my own opinion is: Why not make it a <em>try-with-resources + else</em>? Does not hurt, makes your code more self-documenting about your intentions, and it <em>might</em> help if your code ever encounters one of those faulty JDBC drivers. <strong>The only cost is a pair of parens</strong>, assuming you’d have a try-catch-else in place anyways.</p>\n<p>As stated in the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>, multiple <code>AutoCloseable</code> objects declared together will be <strong>closed in reverse order</strong>, just as we would want.</p>\n<p>Tip: The try-with-resources syntax allows an optional semicolon on the last declared resource item. I include the semicolon as a habit because it reads well to my eye, is consistent, and facilitates cut-and-paste editing. I include it on your <code>PreparedStatement s2</code> line.</p>\n<pre><code>public void doQueries() throws MyException{\n    // First try-with-resources.\n    try ( Connection con = DriverManager.getConnection( dataSource ) ;\n          PreparedStatement s1 = con.prepareStatement( updateSqlQuery ) ;\n          PreparedStatement s2 = con.prepareStatement( selectSqlQuery ) ;\n    ) {\n\n        … Set parameters of PreparedStatements, etc.\n\n        s1.executeUpdate() ;\n\n        // Second try-with-resources, nested within first.\n        try (\n            ResultSet rs = s2.executeQuery() ;\n        ) {\n            … process ResultSet\n        } catch ( SQLException e2 ) {  \n            … handle exception related to ResultSet.\n        }\n\n    } catch ( SQLException e ) {  \n        … handle exception related to Connection or PreparedStatements.\n    }\n}\n</code></pre>\n<p>I suppose there is a more elegant syntax for this kind of work that might be invented in a future programming language. But for now, we have try-with-resources, and I do use it happily. While try-with-resources is not perfectly elegant, it is a big improvement over the older syntax.</p>\n<p>By the way, Oracle recommends using a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\"><code>DataSource</code></a> implementation for getting connections rather than the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/DriverManager.html\" rel=\"nofollow noreferrer\"><code>DriverManager</code></a> approach seen in your code. Using <code>DataSource</code> throughout your code makes it easier to switch drivers or switch to a connection pool.  See if your JDBC driver provides an implementation of <code>DataSource</code>.</p>\n<h1>Update: Java 9</h1>\n<p>Now in Java 9 you can initialize the resources <em>before</em> the try-with-resources. See <a href=\"https://dzone.com/articles/java-9-tutorial-part-4-try-the-try-with-resources\" rel=\"nofollow noreferrer\">this article</a>. This flexibility may be useful in some scenarios.</p>\n"},{"tags":[],"owner":{"account_id":26201,"reputation":24755,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616613465,"creation_date":1616613465,"answer_id":66787887,"question_id":22671697,"body_markdown":"I prefer to let Java auto-close. So I do something like this when I have to set values for ResultSet.\r\n\r\n    try (Connection conn = DB.getConn();\r\n         PreparedStatement ps = conn.prepareStatement(&quot;SELECT * FROM x WHERE y = ?&quot;)\r\n    ) {\r\n        ps.setString(1, &quot;yValue&quot;);\r\n       \r\n        try(ResultSet rs = ps.executeQuery()) {\r\n            while(rs.next()) {\r\n                ...\r\n            }\r\n        }\r\n    } catch (SQLException e) {\r\n        e.printStackTrace(e);\r\n        ...\r\n    }\r\n","title":"Try / Try-with-resources and Connection, Statement and ResultSet closing","body":"<p>I prefer to let Java auto-close. So I do something like this when I have to set values for ResultSet.</p>\n<pre><code>try (Connection conn = DB.getConn();\n     PreparedStatement ps = conn.prepareStatement(&quot;SELECT * FROM x WHERE y = ?&quot;)\n) {\n    ps.setString(1, &quot;yValue&quot;);\n   \n    try(ResultSet rs = ps.executeQuery()) {\n        while(rs.next()) {\n            ...\n        }\n    }\n} catch (SQLException e) {\n    e.printStackTrace(e);\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":1277868,"reputation":4185,"user_id":1232720,"accept_rate":86,"display_name":"Jos&#233; D."},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51439,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":6,"score":17,"last_activity_date":1665505931,"creation_date":1395863701,"question_id":22671697,"body_markdown":"I have recently having some discussions with my professor about how to handle the basic jdbc connection scheme. Suppose we want to execute two queries, this is what he proposes\r\n\r\n    public void doQueries() throws MyException{\r\n    \tConnection con = null;\r\n    \ttry {\r\n    \t\tcon = DriverManager.getConnection(dataSource);\r\n    \t\tPreparedStatement s1 = con.prepareStatement(updateSqlQuery);\r\n    \t\tPreparedStatement s2 = con.prepareStatement(selectSqlQuery);\r\n    \t\t\r\n    \t\t// Set the parameters of the PreparedStatements and maybe do other things\r\n    \t\t\r\n    \t\ts1.executeUpdate();\r\n    \t\tResultSet rs = s2.executeQuery();\r\n    \t\t\r\n    \t\trs.close();\r\n    \t\ts2.close();\r\n    \t\ts1.close();\r\n    \t} catch (SQLException e) {\r\n    \t\tthrow new MyException(e);\r\n    \t} finally {\r\n    \t\ttry {\r\n    \t\t\tif (con != null) {\r\n    \t\t\t\tcon.close();\r\n    \t\t\t}\r\n    \t\t} catch (SQLException e2) {\r\n    \t\t    // Can&#39;t really do anything\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nI don&#39;t like this approach, and I have two questions about it:\r\n\r\n 1.A) I think that, if any exception is thrown where we do &#39;other things&#39;, or in the line `rs.close()` or `s2.close()` then `s1` wouldn&#39;t have been closed when the method ends. Am I right about that?\r\n \r\n 1.B) The professor keeps asking me to explicitly close the ResultSet (even when the Statement documentation makes clear that it will close the ResultSet) She says that Sun recommends it. Is there any reason to do so?\r\n\r\nNow this is what I think is the correct code for the same thing:\r\n\r\n    public void doQueries() throws MyException{\r\n    \tConnection con = null;\r\n    \tPreparedStatement s1 = null;\r\n    \tPreparedStatement s2 = null;\r\n    \ttry {\r\n    \t\tcon = DriverManager.getConnection(dataSource);\r\n    \t\ts1 = con.prepareStatement(updateSqlQuery);\r\n    \t\ts2 = con.prepareStatement(selectSqlQuery);\r\n    \t\t\r\n    \t\t// Set the parameters of the PreparedStatements and maybe do other things\r\n    \t\t\r\n    \t\ts1.executeUpdate();\r\n    \t\tResultSet rs = s2.executeQuery();\r\n    \t\t\r\n    \t} catch (SQLException e) {\r\n    \t\tthrow new MyException(e);\r\n    \t} finally {\r\n    \t\ttry {\r\n    \t\t\tif (s2 != null) {\r\n    \t\t\t\ts2.close();\r\n    \t\t\t}\r\n    \t\t} catch (SQLException e3) {\r\n    \t\t\t// Can&#39;t do nothing\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\tif (s1 != null) {\r\n    \t\t\t\ts1.close();\r\n    \t\t\t}\r\n    \t\t} catch (SQLException e3) {\r\n    \t\t\t// Can&#39;t do nothing\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\tif (con != null) {\r\n    \t\t\t\tcon.close();\r\n    \t\t\t}\r\n    \t\t} catch (SQLException e2) {\r\n    \t\t\t// Can&#39;t do nothing\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n 2.A) Is this code correct? (Is it guaranteed that all will be closed when the method ends?)\r\n\r\n 2.B) This is very large and verbose (and it gets worse if there are more Statements) Is there any shorter or more elegant way to do this without using try-with-resources?\r\n\r\nFinally this is the code I like the most \r\n\r\n    public void doQueries() throws MyException{\r\n    \ttry (Connection con = DriverManager.getConnection(dataSource);\r\n    \t\t PreparedStatement s1 = con.prepareStatement(updateSqlQuery);\r\n    \t\t PreparedStatement s2 = con.prepareStatement(selectSqlQuery))\r\n    \t{\r\n    \t\t\r\n    \t\t// Set the parameters of the PreparedStatements and maybe do other things\r\n    \t\t\r\n    \t\ts1.executeUpdate();\r\n    \t\tResultSet rs = s2.executeQuery();\r\n    \t\t\r\n    \t} catch (SQLException e) {\r\n    \t\tthrow new MyException(e);\r\n    \t}\r\n    }\r\n\r\n 3) Is this code correct? I think my professor doesn&#39;t like this way because there is no explicit close of the ResultSet, but she has told me that she is fine with it as long as in the documentation it is clear that all is closed. Can you give any link to the official documentation with a similar example, or based in the documentation show that there is are no problems with this code?","title":"Try / Try-with-resources and Connection, Statement and ResultSet closing","body":"<p>I have recently having some discussions with my professor about how to handle the basic jdbc connection scheme. Suppose we want to execute two queries, this is what he proposes</p>\n\n<pre><code>public void doQueries() throws MyException{\n    Connection con = null;\n    try {\n        con = DriverManager.getConnection(dataSource);\n        PreparedStatement s1 = con.prepareStatement(updateSqlQuery);\n        PreparedStatement s2 = con.prepareStatement(selectSqlQuery);\n\n        // Set the parameters of the PreparedStatements and maybe do other things\n\n        s1.executeUpdate();\n        ResultSet rs = s2.executeQuery();\n\n        rs.close();\n        s2.close();\n        s1.close();\n    } catch (SQLException e) {\n        throw new MyException(e);\n    } finally {\n        try {\n            if (con != null) {\n                con.close();\n            }\n        } catch (SQLException e2) {\n            // Can't really do anything\n        }\n    }\n}\n</code></pre>\n\n<p>I don't like this approach, and I have two questions about it:</p>\n\n<p>1.A) I think that, if any exception is thrown where we do 'other things', or in the line <code>rs.close()</code> or <code>s2.close()</code> then <code>s1</code> wouldn't have been closed when the method ends. Am I right about that?</p>\n\n<p>1.B) The professor keeps asking me to explicitly close the ResultSet (even when the Statement documentation makes clear that it will close the ResultSet) She says that Sun recommends it. Is there any reason to do so?</p>\n\n<p>Now this is what I think is the correct code for the same thing:</p>\n\n<pre><code>public void doQueries() throws MyException{\n    Connection con = null;\n    PreparedStatement s1 = null;\n    PreparedStatement s2 = null;\n    try {\n        con = DriverManager.getConnection(dataSource);\n        s1 = con.prepareStatement(updateSqlQuery);\n        s2 = con.prepareStatement(selectSqlQuery);\n\n        // Set the parameters of the PreparedStatements and maybe do other things\n\n        s1.executeUpdate();\n        ResultSet rs = s2.executeQuery();\n\n    } catch (SQLException e) {\n        throw new MyException(e);\n    } finally {\n        try {\n            if (s2 != null) {\n                s2.close();\n            }\n        } catch (SQLException e3) {\n            // Can't do nothing\n        }\n        try {\n            if (s1 != null) {\n                s1.close();\n            }\n        } catch (SQLException e3) {\n            // Can't do nothing\n        }\n        try {\n            if (con != null) {\n                con.close();\n            }\n        } catch (SQLException e2) {\n            // Can't do nothing\n        }\n    }\n}\n</code></pre>\n\n<p>2.A) Is this code correct? (Is it guaranteed that all will be closed when the method ends?)</p>\n\n<p>2.B) This is very large and verbose (and it gets worse if there are more Statements) Is there any shorter or more elegant way to do this without using try-with-resources?</p>\n\n<p>Finally this is the code I like the most </p>\n\n<pre><code>public void doQueries() throws MyException{\n    try (Connection con = DriverManager.getConnection(dataSource);\n         PreparedStatement s1 = con.prepareStatement(updateSqlQuery);\n         PreparedStatement s2 = con.prepareStatement(selectSqlQuery))\n    {\n\n        // Set the parameters of the PreparedStatements and maybe do other things\n\n        s1.executeUpdate();\n        ResultSet rs = s2.executeQuery();\n\n    } catch (SQLException e) {\n        throw new MyException(e);\n    }\n}\n</code></pre>\n\n<p>3) Is this code correct? I think my professor doesn't like this way because there is no explicit close of the ResultSet, but she has told me that she is fine with it as long as in the documentation it is clear that all is closed. Can you give any link to the official documentation with a similar example, or based in the documentation show that there is are no problems with this code?</p>\n"},{"tags":["java","comments"],"comments":[{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":1,"creation_date":1299941644,"post_id":5283200,"comment_id":5954070,"body_markdown":"Did you try anything yet? If so, where did you get stuck?","body":"Did you try anything yet? If so, where did you get stuck?"},{"owner":{"account_id":105855,"reputation":8933,"user_id":282229,"accept_rate":80,"display_name":"Christian Semrau"},"score":0,"creation_date":1299943596,"post_id":5283200,"comment_id":5954337,"body_markdown":"@Bart Doing so by oneself is nontrivial, because unicode escape sequences (\\u000a or \\u002f\\u002f), String literals (&quot;http: //example.com&quot;) and multi-line comments within single-line comments (// test /* test) must be accounted for, and probably some other pitfalls.","body":"@Bart Doing so by oneself is nontrivial, because unicode escape sequences (\\u000a or \\u002f\\u002f), String literals (&quot;http: //example.com&quot;) and multi-line comments within single-line comments (// test /* test) must be accounted for, and probably some other pitfalls."},{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1299944770,"post_id":5283200,"comment_id":5954517,"body_markdown":"@Christian Semrau, I didn&#39;t say s/he should do it by him/herself. I merely asked what s/he already tried. This includes (in case of homework) own code that performs these calculation, or (in case of &quot;professional&quot; work) what tools and/or API&#39;s s/he already tried.","body":"@Christian Semrau, I didn&#39;t say s/he should do it by him/herself. I merely asked what s/he already tried. This includes (in case of homework) own code that performs these calculation, or (in case of &quot;professional&quot; work) what tools and/or API&#39;s s/he already tried."},{"owner":{"account_id":105855,"reputation":8933,"user_id":282229,"accept_rate":80,"display_name":"Christian Semrau"},"score":0,"creation_date":1299947465,"post_id":5283200,"comment_id":5954861,"body_markdown":"You are right. No offense meant!","body":"You are right. No offense meant!"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1299959537,"post_id":5283200,"comment_id":5956558,"body_markdown":"You might look at this related [answer](http://stackoverflow.com/questions/2732116).","body":"You might look at this related <a href=\"http://stackoverflow.com/questions/2732116\">answer</a>."},{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1300046660,"post_id":5283200,"comment_id":5965987,"body_markdown":"@Christian, none taken. It&#39;s not all that difficult to write a custom lexer for such a task, IMO. Just tedious. :)","body":"@Christian, none taken. It&#39;s not all that difficult to write a custom lexer for such a task, IMO. Just tedious. :)"}],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299941650,"creation_date":1299941650,"answer_id":5283221,"question_id":5283200,"body_markdown":"Have a look at [StreamTokenizer][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/StreamTokenizer.html","title":"How to count comment (single &amp; multiple) lines in java?","body":"<p>Have a look at <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/StreamTokenizer.html\" rel=\"nofollow\">StreamTokenizer</a></p>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1299946053,"creation_date":1299942602,"answer_id":5283302,"question_id":5283200,"body_markdown":"If you just want a summary of the line count with regards to comments and code, look at [CLOC][1]. Point it at a source directory, i.e.:\r\n\r\n    cloc src\r\n\r\n...and it&#39;ll display a summary for you.\r\n\r\nCLOC also deals with the corner cases that make it difficult to do this problem yourself - multiline comments, comment looking lines within strings and so on. The following:\r\n\r\n    package test;\r\n\r\n    public class Main {\r\n\r\n    /**\r\n     * A javadoc comment.\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;/* This isn&#39;t a comment */&quot;);\r\n        /* This is a comment */\r\n        //Comment\r\n        System.out.println(&quot;//Not comment&quot;);\r\n    }\r\n    //Comment\r\n    }\r\n\r\nCLOC gives 2 blank lines, 7 comment lines, and 7 code lines.\r\n\r\nYes, you could write something yourself in Java but unless this is a specific homework question (in which case it should be tagged as such) why reinvent the wheel? You&#39;d need to deal with lots of corner cases, do lots of tests to make sure it worked, compare it against existing tools etc. and there&#39;s really no point in doing that when you&#39;ve got something that does the job well already.\r\n\r\n\r\n  [1]: http://cloc.sourceforge.net/","title":"How to count comment (single &amp; multiple) lines in java?","body":"<p>If you just want a summary of the line count with regards to comments and code, look at <a href=\"http://cloc.sourceforge.net/\" rel=\"nofollow\">CLOC</a>. Point it at a source directory, i.e.:</p>\n\n<pre><code>cloc src\n</code></pre>\n\n<p>...and it'll display a summary for you.</p>\n\n<p>CLOC also deals with the corner cases that make it difficult to do this problem yourself - multiline comments, comment looking lines within strings and so on. The following:</p>\n\n<pre><code>package test;\n\npublic class Main {\n\n/**\n * A javadoc comment.\n * @param args\n */\npublic static void main(String[] args) {\n    System.out.println(\"/* This isn't a comment */\");\n    /* This is a comment */\n    //Comment\n    System.out.println(\"//Not comment\");\n}\n//Comment\n}\n</code></pre>\n\n<p>CLOC gives 2 blank lines, 7 comment lines, and 7 code lines.</p>\n\n<p>Yes, you could write something yourself in Java but unless this is a specific homework question (in which case it should be tagged as such) why reinvent the wheel? You'd need to deal with lots of corner cases, do lots of tests to make sure it worked, compare it against existing tools etc. and there's really no point in doing that when you've got something that does the job well already.</p>\n"},{"tags":[],"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299943380,"creation_date":1299943380,"answer_id":5283375,"question_id":5283200,"body_markdown":"In Java You have two type of comments:\n\n\n // - Line comment \n\n /* */ - Block comment. \n\n\nBasing on this you can make simple assumptions:\n\n &gt;-  if in line exist &quot;//&quot; then this line has at le one comment. \n &gt;\n &gt;-  if in line exist &quot;/*&quot; a comment block has been opened.\n &gt;\n &gt;- if comment block is open(found) search for closing tag &quot;*/&quot;.\n\nSo Your task is to check each line in file for those assumptions.","title":"How to count comment (single &amp; multiple) lines in java?","body":"<p>In Java You have two type of comments:</p>\n<p>// - Line comment</p>\n<p>/* */ - Block comment.</p>\n<p>Basing on this you can make simple assumptions:</p>\n<blockquote>\n<ul>\n<li><p>if in line exist &quot;//&quot; then this line has at le one comment.</p>\n</li>\n<li><p>if in line exist &quot;/*&quot; a comment block has been opened.</p>\n</li>\n<li><p>if comment block is open(found) search for closing tag &quot;*/&quot;.</p>\n</li>\n</ul>\n</blockquote>\n<p>So Your task is to check each line in file for those assumptions.</p>\n"},{"tags":[],"owner":{"account_id":2016712,"reputation":190,"user_id":1803852,"accept_rate":43,"display_name":"wlan0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352299270,"creation_date":1352221832,"answer_id":13255965,"question_id":5283200,"body_markdown":"Here&#39;s a link to an assignment that I did for the same question. Hope this helps.\r\n\r\nNote: It is not complete, cos it does not count the case of strings in java(within double quotes) that contain double quotes preceded by escape characters(like &quot;/\\&quot;/&quot;) as line of code, but rather it counts it as a comment. This still has to be resolved.\r\n\r\nhttp://bit.ly/PDasu9\r\n\r\n\r\nHere is the explanation :- \r\n\r\n    Note :- This program is not optimized for performance, performance is not an attribute i care about here. I chose not to use Pattern.compile() among many other decisions.\r\n    \r\n    I count the empty lines, comment lines and lines of code separately.\r\n    \r\n    if there is any sentence which has a some tabs or just spaces, they are counted as\r\n    empty lines. They match with the regular expression \\s*\r\n    \\s - any whitespace character (\\n\\t\\b)\r\n     * - this means there can be any number of whitespace characters\r\n    \r\n    \r\n    comment lines are the ones that match any of the following conditions :-\r\n    1) have a // outside of a string\r\n    2) have a /* some comment */\r\n    3) have a /* but the &#39;*/&#39; is not found on the same line\r\n    \r\n    The regular expression for the above can be found inside the code!\r\n    \r\n    Lines of code are the ones that end in &#39;)&#39; , &#39;}&#39; , &#39;{&#39; or &#39;;&#39; (one problem with this approach is that it does not count lines that have code followed by comment as a line of code)\r\n    \r\n    The summary of these three types of lines are provided by this program.\r\n\r\n","title":"How to count comment (single &amp; multiple) lines in java?","body":"<p>Here's a link to an assignment that I did for the same question. Hope this helps.</p>\n\n<p>Note: It is not complete, cos it does not count the case of strings in java(within double quotes) that contain double quotes preceded by escape characters(like \"/\\\"/\") as line of code, but rather it counts it as a comment. This still has to be resolved.</p>\n\n<p><a href=\"http://bit.ly/PDasu9\" rel=\"nofollow\">http://bit.ly/PDasu9</a></p>\n\n<p>Here is the explanation :- </p>\n\n<pre><code>Note :- This program is not optimized for performance, performance is not an attribute i care about here. I chose not to use Pattern.compile() among many other decisions.\n\nI count the empty lines, comment lines and lines of code separately.\n\nif there is any sentence which has a some tabs or just spaces, they are counted as\nempty lines. They match with the regular expression \\s*\n\\s - any whitespace character (\\n\\t\\b)\n * - this means there can be any number of whitespace characters\n\n\ncomment lines are the ones that match any of the following conditions :-\n1) have a // outside of a string\n2) have a /* some comment */\n3) have a /* but the '*/' is not found on the same line\n\nThe regular expression for the above can be found inside the code!\n\nLines of code are the ones that end in ')' , '}' , '{' or ';' (one problem with this approach is that it does not count lines that have code followed by comment as a line of code)\n\nThe summary of these three types of lines are provided by this program.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1854177,"reputation":365,"user_id":1680114,"accept_rate":60,"display_name":"Yash Varshney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412251679,"creation_date":1412251679,"answer_id":26160445,"question_id":5283200,"body_markdown":"    //Below is the working code \r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    public class CountComment {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString line=&quot;&quot;;\r\n    \t\tint count=0;\r\n    \t\ttry {\r\n    \t\t\tBufferedReader br=new BufferedReader(new FileReader(&quot;./src/numbers/comment.txt&quot;));\r\n    \t\t\t\twhile((line=br.readLine())!=null)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif(line.startsWith(&quot;//&quot;))\r\n    \t\t\t\t\t\tcount++;\r\n    \t\t\t\t\tif(line.startsWith(&quot;/*&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tcount++;\r\n    \t\t\t\t\t\twhile(!(line=br.readLine()).endsWith(&quot;&#39;*\\&#39;&quot;))\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\tcount++;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\tbr.close();\r\n    \t\t}\r\n    \t\tcatch (FileNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\t catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;count=&quot;+count);\r\n    \t\t} \r\n    \t\t\r\n    \r\n    \t}\r\n\r\n\r\n","title":"How to count comment (single &amp; multiple) lines in java?","body":"<pre><code>//Below is the working code \n\nimport java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class CountComment {\n\n    public static void main(String[] args) {\n        String line=\"\";\n        int count=0;\n        try {\n            BufferedReader br=new BufferedReader(new FileReader(\"./src/numbers/comment.txt\"));\n                while((line=br.readLine())!=null)\n                {\n                    if(line.startsWith(\"//\"))\n                        count++;\n                    if(line.startsWith(\"/*\"))\n                    {\n                        count++;\n                        while(!(line=br.readLine()).endsWith(\"'*\\'\"))\n                        {\n                        count++;\n                        break;\n                        }\n                    }\n\n                }\n                br.close();\n        }\n        catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n             catch (IOException e) {\n                e.printStackTrace();\n            }\n\n        System.out.println(\"count=\"+count);\n        } \n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4943178,"reputation":485,"user_id":3979348,"display_name":"chetan pawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447732328,"creation_date":1447732328,"answer_id":33748864,"question_id":5283200,"body_markdown":"For one of my class assignments I wrote a simple java code which does this task.\r\n[https://github.com/chetanpawar0989/CommentAnalysis][1]\r\n\r\nI created this file before but I recently added to github.\r\nThis program runs on one file and line by line. It takes one imput parameter on runtime *filename.java* \r\n\r\nFor example, to run this program: `java CommentAnalysis filename.java`\r\n\r\nIt counts single line (//) as well multi-line comments (/* ... */).\r\n\r\nI tried to cover different comment scenarios as mentioned in [this file][2].\r\n\r\nI have also written my assumptions about my implementation in readme, but they should not be much difficult to change as per individual requirements. Please check it out and let me know if I am missing any comment scenario here. \r\n\r\n  [1]: https://github.com/chetanpawar0989/CommentAnalysis\r\n  [2]: https://github.com/chetanpawar0989/CommentAnalysis/blob/master/comment%20scenarios.txt","title":"How to count comment (single &amp; multiple) lines in java?","body":"<p>For one of my class assignments I wrote a simple java code which does this task.\n<a href=\"https://github.com/chetanpawar0989/CommentAnalysis\" rel=\"nofollow\">https://github.com/chetanpawar0989/CommentAnalysis</a></p>\n\n<p>I created this file before but I recently added to github.\nThis program runs on one file and line by line. It takes one imput parameter on runtime <em>filename.java</em> </p>\n\n<p>For example, to run this program: <code>java CommentAnalysis filename.java</code></p>\n\n<p>It counts single line (//) as well multi-line comments (/* ... */).</p>\n\n<p>I tried to cover different comment scenarios as mentioned in <a href=\"https://github.com/chetanpawar0989/CommentAnalysis/blob/master/comment%20scenarios.txt\" rel=\"nofollow\">this file</a>.</p>\n\n<p>I have also written my assumptions about my implementation in readme, but they should not be much difficult to change as per individual requirements. Please check it out and let me know if I am missing any comment scenario here. </p>\n"},{"tags":[],"owner":{"account_id":15030309,"reputation":1,"user_id":10848638,"display_name":"Mark Đạt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589505093,"creation_date":1589505093,"answer_id":61810038,"question_id":5283200,"body_markdown":" I tried it and it works very well. With the code below, you will have to check each line:\r\n    \r\n                    if (isEmpty(s) || s.IndexOf(&quot;\\&quot;//\\&quot;&quot;) != -1 || s.IndexOf(&quot;\\&quot;/*\\&quot;&quot;) != -1|| s.IndexOf(&quot;\\&quot;*/\\&quot;&quot;) != -1) continue;\r\n                    if (s.IndexOf(&quot;/*&quot;) != -1) checkCML = true;\r\n                    if (s.IndexOf(&quot;*/&quot;) != -1) checkCML = false;\r\n                    \r\n                    if (s.IndexOf(&quot;/*&quot;) != -1 &amp;&amp; s.IndexOf(&quot;*/&quot;) != -1) ++commentLine;\r\n\r\n                    if (s.IndexOf(&quot;//&quot;) != -1 || checkCML) ++commentLine;\r\n                \r\n\r\n  \r\n","title":"How to count comment (single &amp; multiple) lines in java?","body":"<p>I tried it and it works very well. With the code below, you will have to check each line:</p>\n\n<pre><code>                if (isEmpty(s) || s.IndexOf(\"\\\"//\\\"\") != -1 || s.IndexOf(\"\\\"/*\\\"\") != -1|| s.IndexOf(\"\\\"*/\\\"\") != -1) continue;\n                if (s.IndexOf(\"/*\") != -1) checkCML = true;\n                if (s.IndexOf(\"*/\") != -1) checkCML = false;\n\n                if (s.IndexOf(\"/*\") != -1 &amp;&amp; s.IndexOf(\"*/\") != -1) ++commentLine;\n\n                if (s.IndexOf(\"//\") != -1 || checkCML) ++commentLine;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17446819,"reputation":35,"user_id":12647679,"display_name":"Sanzida Sultana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593320310,"creation_date":1593300009,"answer_id":62616546,"question_id":5283200,"body_markdown":"It works for me . It counts the total number of Single and multiple line comments in a java file.\r\n```Java\r\npublic class CountComment {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        try {\r\n            String str;\r\n            BufferedReader f = new BufferedReader(new FileReader(&quot;a.java&quot;));\r\n            LineNumberReader l = new LineNumberReader(f);\r\n            int numberline = 0;\r\n            int count = 0;\r\n            while ((str = l.readLine()) != null) {\r\n                numberline++;\r\n                if (str.startsWith(&quot;/*&quot;)) {\r\n                    while ((str = l.readLine()) != null) {\r\n                        count++;\r\n                        if (str.endsWith(&quot;*/&quot;)) {\r\n                            count++;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                else if(str.startsWith(&quot;//&quot;)){\r\n                    count++;\r\n                }\r\n            }\r\n            System.out.println(&quot;&quot; + count);\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;file not found&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"How to count comment (single &amp; multiple) lines in java?","body":"<p>It works for me . It counts the total number of Single and multiple line comments in a java file.</p>\n<pre><code>public class CountComment {\n\n    public static void main(String[] args) throws IOException {\n        try {\n            String str;\n            BufferedReader f = new BufferedReader(new FileReader(&quot;a.java&quot;));\n            LineNumberReader l = new LineNumberReader(f);\n            int numberline = 0;\n            int count = 0;\n            while ((str = l.readLine()) != null) {\n                numberline++;\n                if (str.startsWith(&quot;/*&quot;)) {\n                    while ((str = l.readLine()) != null) {\n                        count++;\n                        if (str.endsWith(&quot;*/&quot;)) {\n                            count++;\n                            break;\n                        }\n                    }\n                }\n                else if(str.startsWith(&quot;//&quot;)){\n                    count++;\n                }\n            }\n            System.out.println(&quot;&quot; + count);\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;file not found&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6172396,"reputation":49,"user_id":4810608,"display_name":"user9818"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665505316,"creation_date":1665505316,"answer_id":74031227,"question_id":5283200,"body_markdown":"My answer would be:\r\n\r\n    public int countCommentLines(File file) throws IOException {\r\n        BufferedReader input = new BufferedReader(new FileReader(file));\r\n        int comments = 0;\r\n        String line;\r\n        while ((line = input.readLine()) != null) {\r\n            line = line.trim();\r\n            System.out.println(line);\r\n            if (line.startsWith(&quot;//&quot;)) {\r\n                //single line\r\n                comments++;\r\n            } else if (line.startsWith(&quot;/*&quot;)) {\r\n                /* multiline\r\n                 * like this\r\n                 *  */\r\n                comments++;\r\n                while (!line.endsWith(&quot;*/&quot;)) {\r\n                    line = input.readLine().trim();\r\n                    comments++;\r\n                }\r\n            } else if (line.contains(&quot;/*&quot;)) { /* comments\r\n            like this\r\n            be careful with /* haha\r\n            */\r\n                Deque&lt;Character&gt; stack = new ArrayDeque&lt;Character&gt;();\r\n                boolean hasStartOfComment = false;\r\n                for (int i = 0; i &lt; line.length() - 1; ++i) {\r\n                    if (stack.isEmpty() &amp;&amp; line.charAt(i) == &#39;/&#39; &amp;&amp; line.charAt(i + 1) == &#39;*&#39;) {\r\n                        // Yes this is the start of a block comment\r\n                        hasStartOfComment = true;\r\n                        break;\r\n                    } else if (line.charAt(i) == &#39;\\\\&#39;\r\n                            &amp;&amp; line.charAt(i + 1) == &#39;\\&quot;&#39; || line.charAt(i + 1) == &#39;\\&#39;&#39;) {\r\n                        // Well, it&#39;s escaped character\r\n                        i++;\r\n                        continue;\r\n                    } else if (line.charAt(i) == &#39;\\&#39;&#39; || line.charAt(i) == &#39;\\&quot;&#39;) {\r\n                        if (!stack.isEmpty() &amp;&amp; stack.peek() == line.charAt(i)) {\r\n                            stack.pop();\r\n                        } else {\r\n                            stack.push(line.charAt(i));\r\n                        }\r\n                        continue;\r\n                    }\r\n                }\r\n                if (!hasStartOfComment) {\r\n                    continue;\r\n                }\r\n    \r\n                while (!line.endsWith(&quot;*/&quot;)) {\r\n                    line = input.readLine().trim();\r\n                    comments++;\r\n                }\r\n            }\r\n        }\r\n        return comments;\r\n    }","title":"How to count comment (single &amp; multiple) lines in java?","body":"<p>My answer would be:</p>\n<pre><code>public int countCommentLines(File file) throws IOException {\n    BufferedReader input = new BufferedReader(new FileReader(file));\n    int comments = 0;\n    String line;\n    while ((line = input.readLine()) != null) {\n        line = line.trim();\n        System.out.println(line);\n        if (line.startsWith(&quot;//&quot;)) {\n            //single line\n            comments++;\n        } else if (line.startsWith(&quot;/*&quot;)) {\n            /* multiline\n             * like this\n             *  */\n            comments++;\n            while (!line.endsWith(&quot;*/&quot;)) {\n                line = input.readLine().trim();\n                comments++;\n            }\n        } else if (line.contains(&quot;/*&quot;)) { /* comments\n        like this\n        be careful with /* haha\n        */\n            Deque&lt;Character&gt; stack = new ArrayDeque&lt;Character&gt;();\n            boolean hasStartOfComment = false;\n            for (int i = 0; i &lt; line.length() - 1; ++i) {\n                if (stack.isEmpty() &amp;&amp; line.charAt(i) == '/' &amp;&amp; line.charAt(i + 1) == '*') {\n                    // Yes this is the start of a block comment\n                    hasStartOfComment = true;\n                    break;\n                } else if (line.charAt(i) == '\\\\'\n                        &amp;&amp; line.charAt(i + 1) == '\\&quot;' || line.charAt(i + 1) == '\\'') {\n                    // Well, it's escaped character\n                    i++;\n                    continue;\n                } else if (line.charAt(i) == '\\'' || line.charAt(i) == '\\&quot;') {\n                    if (!stack.isEmpty() &amp;&amp; stack.peek() == line.charAt(i)) {\n                        stack.pop();\n                    } else {\n                        stack.push(line.charAt(i));\n                    }\n                    continue;\n                }\n            }\n            if (!hasStartOfComment) {\n                continue;\n            }\n\n            while (!line.endsWith(&quot;*/&quot;)) {\n                line = input.readLine().trim();\n                comments++;\n            }\n        }\n    }\n    return comments;\n}\n</code></pre>\n"}],"owner":{"account_id":720834,"reputation":51,"user_id":656643,"display_name":"Madhushudhanan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6647,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":9,"score":5,"last_activity_date":1665505316,"creation_date":1299941426,"question_id":5283200,"body_markdown":"I am doing project in Java. In that I am having one part in which, I have to identify the single, multiple comments and total no of comments in the program. I am in need of your guidance to count the no of single line comment, multiple line comment and total no comment lines in java. ","title":"How to count comment (single &amp; multiple) lines in java?","body":"<p>I am doing project in Java. In that I am having one part in which, I have to identify the single, multiple comments and total no of comments in the program. I am in need of your guidance to count the no of single line comment, multiple line comment and total no comment lines in java. </p>\n"},{"tags":["java","json","amazon-web-services","amazon-dynamodb","objectmapper"],"comments":[{"owner":{"account_id":39201,"reputation":329,"user_id":112951,"accept_rate":44,"display_name":"hb5fa"},"score":2,"creation_date":1537932653,"post_id":47926783,"comment_id":91959121,"body_markdown":"Did you solve this problem?  I am running into it now.  Thanks!","body":"Did you solve this problem?  I am running into it now.  Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":12117627,"reputation":81,"user_id":8850791,"display_name":"Tom Ben Gal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1556624906,"creation_date":1556624906,"answer_id":55920297,"question_id":47926783,"body_markdown":"**Short answer**: \r\n\r\nAdd a public empty constructor to **Media** class.\r\n\r\n**Long answer**: \r\n\r\nIn your code, when you are performing `databaseController.get(Product.class, id)`, your are invoking the underline method `public T unconvert(final Map&lt;String,AttributeValue&gt; object)` of [DynamoDBMapperTableModel][1]:\r\n\r\n    @Override\r\n    public T unconvert(final Map&lt;String,AttributeValue&gt; object) {\r\n        final T result = StandardBeanProperties.DeclaringReflect.&lt;T&gt;newInstance(targetType);\r\n        if (!object.isEmpty()) {\r\n            for (final DynamoDBMapperFieldModel&lt;T,Object&gt; field : fields()) {\r\n                try {\r\n                    final AttributeValue value = object.get(field.name());\r\n                    if (value != null) {\r\n                        field.unconvertAndSet(result, value);\r\n                    }\r\n                } catch (final RuntimeException e) {\r\n                    throw new DynamoDBMappingException(\r\n                        targetType.getSimpleName() + &quot;[&quot; + field.name() + &quot;]; could not unconvert attribute&quot;, e\r\n                    );\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nIn the first line of this method, a new instance of the table model is being created using reflection (in your case a new instance of `Product`), and then the new instance&#39;s fields are being converted to the desired class and set accordingly. \r\n\r\n`StandardBeanProperties.DeclaringReflect.&lt;T&gt;newInstance(targetType)` invoking  `.newInstance()` on `targetType`, witch it&#39;s type is `Class&lt;T&gt;`. \r\n\r\nAs written in [Class&lt;T&gt;.newInstance() documentation][2], `InstantiationException` is thrown if the class has no nullary constructor. There are other scenarios in which this exception will be thrown but in my experience, it&#39;s probably because a public empty constructor is not implemented.\r\n\r\n\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java/blob/7bf0fbec42de8a7d54875510f27fb363ca2d19f5/aws-java-sdk-dynamodb/src/main/java/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBMapperTableModel.java\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--","title":"AWS DynamoDB: Could not unconvert attribute error","body":"<p><strong>Short answer</strong>: </p>\n\n<p>Add a public empty constructor to <strong>Media</strong> class.</p>\n\n<p><strong>Long answer</strong>: </p>\n\n<p>In your code, when you are performing <code>databaseController.get(Product.class, id)</code>, your are invoking the underline method <code>public T unconvert(final Map&lt;String,AttributeValue&gt; object)</code> of <a href=\"https://github.com/aws/aws-sdk-java/blob/7bf0fbec42de8a7d54875510f27fb363ca2d19f5/aws-java-sdk-dynamodb/src/main/java/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBMapperTableModel.java\" rel=\"noreferrer\">DynamoDBMapperTableModel</a>:</p>\n\n<pre><code>@Override\npublic T unconvert(final Map&lt;String,AttributeValue&gt; object) {\n    final T result = StandardBeanProperties.DeclaringReflect.&lt;T&gt;newInstance(targetType);\n    if (!object.isEmpty()) {\n        for (final DynamoDBMapperFieldModel&lt;T,Object&gt; field : fields()) {\n            try {\n                final AttributeValue value = object.get(field.name());\n                if (value != null) {\n                    field.unconvertAndSet(result, value);\n                }\n            } catch (final RuntimeException e) {\n                throw new DynamoDBMappingException(\n                    targetType.getSimpleName() + \"[\" + field.name() + \"]; could not unconvert attribute\", e\n                );\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>In the first line of this method, a new instance of the table model is being created using reflection (in your case a new instance of <code>Product</code>), and then the new instance's fields are being converted to the desired class and set accordingly. </p>\n\n<p><code>StandardBeanProperties.DeclaringReflect.&lt;T&gt;newInstance(targetType)</code> invoking  <code>.newInstance()</code> on <code>targetType</code>, witch it's type is <code>Class&lt;T&gt;</code>. </p>\n\n<p>As written in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--\" rel=\"noreferrer\">Class.newInstance() documentation</a>, <code>InstantiationException</code> is thrown if the class has no nullary constructor. There are other scenarios in which this exception will be thrown but in my experience, it's probably because a public empty constructor is not implemented.</p>\n"},{"tags":[],"owner":{"account_id":4098460,"reputation":21,"user_id":3364622,"display_name":"user3364622"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585226855,"creation_date":1585225320,"answer_id":60867157,"question_id":47926783,"body_markdown":"For me it was typo in setter method.\r\n\r\n    @DynamoDBAttribute(attributeName = &quot;closed_date_time&quot;)\r\n    public Date getClosedDateTime() {\r\n        return closedDateTime;\r\n    }\r\n\r\n    public void setClosedDate(Date closedDateTime) {\r\n        this.closedDateTime = closedDateTime;\r\n    }\r\n\r\nI had replaced `setClosedDate` with `setClosedDateTime` and then it worked.","title":"AWS DynamoDB: Could not unconvert attribute error","body":"<p>For me it was typo in setter method.</p>\n\n<pre><code>@DynamoDBAttribute(attributeName = \"closed_date_time\")\npublic Date getClosedDateTime() {\n    return closedDateTime;\n}\n\npublic void setClosedDate(Date closedDateTime) {\n    this.closedDateTime = closedDateTime;\n}\n</code></pre>\n\n<p>I had replaced <code>setClosedDate</code> with <code>setClosedDateTime</code> and then it worked.</p>\n"},{"tags":[],"owner":{"account_id":6579550,"reputation":524,"user_id":5084232,"display_name":"Tushar Wasson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595936948,"creation_date":1594287005,"answer_id":62811780,"question_id":47926783,"body_markdown":"\r\nGenerated the Setter Getter again it works!\r\nIt was a typo in my case too. \r\n\r\nBut if DataType of the column was Long and you converted the dataType to String. That can also cause this issue for existing data.","title":"AWS DynamoDB: Could not unconvert attribute error","body":"<p>Generated the Setter Getter again it works!\nIt was a typo in my case too.</p>\n<p>But if DataType of the column was Long and you converted the dataType to String. That can also cause this issue for existing data.</p>\n"},{"tags":[],"owner":{"account_id":22531657,"reputation":15,"user_id":16723586,"display_name":"Kiznet007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665505253,"creation_date":1665505253,"answer_id":74031216,"question_id":47926783,"body_markdown":"I had the same issue with the error discussed in this posted question. I was failing one test in my integration tests for my Controller class. I basically followed what @Tom Ben Gal said in their answer and I got it working. All I did was placed a no-arg constructor in my Record class and regenerated the setters and getters for the property that was throwing the error in my Record class. Now my integration tests pass on both AWS and Vocareum. Thanks @Tom Ben Gal","title":"AWS DynamoDB: Could not unconvert attribute error","body":"<p>I had the same issue with the error discussed in this posted question. I was failing one test in my integration tests for my Controller class. I basically followed what @Tom Ben Gal said in their answer and I got it working. All I did was placed a no-arg constructor in my Record class and regenerated the setters and getters for the property that was throwing the error in my Record class. Now my integration tests pass on both AWS and Vocareum. Thanks @Tom Ben Gal</p>\n"}],"owner":{"account_id":11866151,"reputation":759,"user_id":8683646,"accept_rate":0,"display_name":"D.Zet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32596,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1665505253,"creation_date":1513865584,"question_id":47926783,"body_markdown":"I have an issuse and I can&#39;t handle it. I&#39;ve created CRUD methods for example in KitchenService. I have methods like addProduct etc and these works fine.. But I have Recipe class where I&#39;m using Product class field.. In this case I have huge problems. \r\n\r\nMy addRecipe method:\r\n\r\n    public Recipe addRecipe (Recipe recipe){\r\n\r\n        List&lt;RecipeElement&gt; recipeElements = recipe.getRecipeElements();\r\n        for (RecipeElement recipeElement : recipeElements) {\r\n            String id = recipeElement.getProduct().getId();\r\n            Product product = databaseController.get(Product.class, id);\r\n            recipeElement.setProduct(product);\r\n        }\r\n        \r\n        databaseController.saveRecipe(recipe);\r\n        logger.log(&quot;Recipe created&quot;);\r\n\r\n        return recipe;\r\n\r\nBuild succesfull so I want to test it in POSTMAN, that&#39;s how look JSON witch I&#39;m sending:\r\n\r\n    {&quot;id&quot;:null,&quot;name&quot;:&quot;test3&quot;,&quot;labels&quot;:[&quot;GLUTEN_FREE&quot;],&quot;author&quot;:{&quot;name&quot;:&quot;Plejer Annołn&quot;,&quot;id&quot;:&quot;testID2&quot;},&quot;media&quot;:{&quot;name&quot;:&quot;heheszki&quot;,&quot;url&quot;:&quot;http://blabla.pl&quot;,&quot;mediaType&quot;:&quot;IMAGE&quot;},&quot;recipeElements&quot;:[{&quot;product&quot;:{&quot;id&quot;:&quot;ecacaf36-29a2-41c6-942e-be5a715ed094&quot;},&quot;weight&quot;:&quot;100&quot;}],&quot;approved&quot;:false}\r\n\r\nAnd then I get &quot;message&quot;: &quot;Internal server error&quot; so I&#39;m checking logs, that&#39;s what I found there:\r\n\r\n    Product[Media]; could not unconvert attribute: com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException\r\n\r\n    Caused by: com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException: could not invoke public void pl.javamill.model.kitchen.Product.setMedia(pl.javamill.model.common.Media) on class pl.kitchen.Product with value {name=heheszki, url=http://blabla.pl, mediaType=IMAGE} of type class java.util.LinkedHashMap\r\n\r\nThis is how look Recipe Class:\r\n\r\n    @DynamoDBTable(tableName = &quot;recipe&quot;)\r\n    public class Recipe extends Request {\r\n    /**\r\n     * Id of kitchen content\r\n     */\r\n    private String id;\r\n    /**\r\n     * Name of recipe\r\n     */\r\n    private String name;\r\n\r\n    /**\r\n     * Labels of product for example gluten fee product\r\n     */\r\n    private List&lt;KitchenLabel&gt; labels;\r\n\r\n    /**\r\n     * Author of content.\r\n     */\r\n    private Author author;\r\n\r\n    /**\r\n     * Address of content image.\r\n     */\r\n    private Media media;\r\n\r\n    private Boolean approved;\r\n\r\n    private List&lt;RecipeElement&gt; recipeElements;\r\n\r\n    @DynamoDBHashKey(attributeName = &quot;id&quot;)\r\n    @DynamoDBAutoGeneratedKey\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @DynamoDBAttribute(attributeName = &quot;Name&quot;)\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @DynamoDBTypeConverted(converter = EnumConverter.class)\r\n    @DynamoDBAttribute(attributeName = &quot;Labels&quot;)\r\n    public List&lt;KitchenLabel&gt; getLabels() {\r\n        return labels;\r\n    }\r\n\r\n    public void setLabels(List&lt;KitchenLabel&gt; labels) {\r\n        this.labels = labels;\r\n    }\r\n\r\n    @DynamoDBTypeConverted(converter = ObjectConverter.class)\r\n    @DynamoDBAttribute(attributeName = &quot;Author&quot;)\r\n    public Author getAuthor() {\r\n        return author;\r\n    }\r\n\r\n    public void setAuthor(Author author) {\r\n        this.author = author;\r\n    }\r\n\r\n    @DynamoDBTypeConverted(converter = ObjectConverter.class)\r\n    @DynamoDBAttribute(attributeName = &quot;Media&quot;)\r\n    public Media getMedia() {\r\n        return media;\r\n    }\r\n\r\n    public void setMedia(Media media) {\r\n        this.media = media;\r\n    }\r\n\r\n    @DynamoDBAttribute(attributeName = &quot;Approved&quot;)\r\n    public Boolean getApproved() {\r\n        return approved;\r\n    }\r\n\r\n    public void setApproved(Boolean approved) {\r\n        this.approved = approved;\r\n    }\r\n\r\n    @DynamoDBTypeConverted(converter = ObjectConverter.class)\r\n    @DynamoDBAttribute(attributeName = &quot;RecipeElements&quot;)\r\n    public List&lt;RecipeElement&gt; getRecipeElements() {\r\n        return recipeElements;\r\n    }\r\n\r\n    public void setRecipeElements(List&lt;RecipeElement&gt; recipeElements) {\r\n        this.recipeElements = recipeElements;\r\n    }\r\n\r\n\r\nRecipeElement class:\r\n\r\n    public class RecipeElement {\r\n\r\n\r\n    private Product product;\r\n    private Integer weight;\r\n\r\n    @DynamoDBTypeConverted(converter = ObjectConverter.class)\r\n    @DynamoDBHashKey(attributeName = &quot;product&quot;)\r\n    public Product getProduct() {\r\n        return product;\r\n    }\r\n\r\n    public void setProduct(Product product) {\r\n            this.product = product;\r\n        }\r\n\r\n        public Integer getWeight() {\r\n            return weight;\r\n        }\r\n\r\n        public void setWeight(Integer weight) {\r\n            this.weight = weight;\r\n        }\r\n    }\r\n\r\nAnd Product class:\r\n\r\n    @DynamoDBTable(tableName = &quot;product&quot;)\r\n    public class Product extends Request {\r\n        /**\r\n         * Id of kitchen content\r\n         */\r\n        private String id;\r\n\r\n        /**\r\n         * Name of product\r\n         */\r\n        private String name;\r\n\r\n        /**\r\n         * Calories in 100g\r\n         */\r\n        private Integer calories;\r\n\r\n        /**\r\n         * Fat in 100g\r\n         */\r\n        private Double fat;\r\n\r\n        /**\r\n         * Total carbo in 100g\r\n         */\r\n        private Double carbo;\r\n\r\n        /**\r\n         * Total Protein in 100g\r\n         */\r\n        private Double protein;\r\n\r\n        /**\r\n         * Labels of product for example gluten fee product\r\n         */\r\n        private List&lt;ProductKind&gt; productKinds;\r\n\r\n        /**\r\n         * Author of content.\r\n         */\r\n        private Author author;\r\n\r\n        /**\r\n         * Address of content image.\r\n         */\r\n        private Media media;\r\n\r\n        private Boolean approved;\r\n\r\n        @DynamoDBHashKey(attributeName = &quot;id&quot;)\r\n        @DynamoDBAutoGeneratedKey\r\n        public String getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n\r\n        @DynamoDBAttribute(attributeName = &quot;Name&quot;)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        @DynamoDBAttribute(attributeName = &quot;Calories&quot;)\r\n        public Integer getCalories() {\r\n            return calories;\r\n        }\r\n\r\n        public void setCalories(Integer calories) {\r\n            this.calories = calories;\r\n        }\r\n\r\n        @DynamoDBAttribute(attributeName = &quot;Fat&quot;)\r\n        public Double getFat() {\r\n            return fat;\r\n        }\r\n\r\n        public void setFat(Double fat) {\r\n            this.fat = fat;\r\n        }\r\n\r\n        @DynamoDBAttribute(attributeName = &quot;Carbo&quot;)\r\n        public Double getCarbo() {\r\n            return carbo;\r\n        }\r\n\r\n        public void setCarbo(Double carbo) {\r\n            this.carbo = carbo;\r\n        }\r\n\r\n        @DynamoDBAttribute(attributeName = &quot;Protein&quot;)\r\n        public Double getProtein() {\r\n            return protein;\r\n        }\r\n\r\n        public void setProtein(Double protein) {\r\n            this.protein = protein;\r\n        }\r\n\r\n        @DynamoDBTypeConverted(converter = EnumConverter.class)\r\n        @DynamoDBAttribute(attributeName = &quot;ProductKinds&quot;)\r\n        public List&lt;ProductKind&gt; getProductKinds() {\r\n            return productKinds;\r\n        }\r\n\r\n        public void setProductKinds(List&lt;ProductKind&gt; productKinds) {\r\n            this.productKinds = productKinds;\r\n        }\r\n\r\n        @DynamoDBTypeConverted(converter = ObjectConverter.class)\r\n        @DynamoDBAttribute(attributeName = &quot;Author&quot;)\r\n        public Author getAuthor() {\r\n            return author;\r\n        }\r\n\r\n        public void setAuthor(Author author) {\r\n            this.author = author;\r\n        }\r\n\r\n        @DynamoDBTypeConverted(converter = ObjectConverter.class)\r\n        @DynamoDBAttribute(attributeName = &quot;Media&quot;)\r\n        public Media getMedia() {\r\n            return media;\r\n        }\r\n\r\n        public void setMedia(Media media) {\r\n            this.media = media;\r\n        }\r\n\r\n        @DynamoDBAttribute(attributeName = &quot;Approved&quot;)\r\n        public Boolean getApproved() {\r\n            return approved;\r\n        }\r\n\r\n        public void setApproved(Boolean approved) {\r\n            this.approved = approved;\r\n        }\r\n\r\nAnd this is my converter class:\r\n\r\n    public class ObjectConverter&lt;T extends Object&gt; \r\n    implements DynamoDBTypeConverter&lt;String, T&gt; {\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        @Override\r\n        public String convert(T object) {\r\n            try {\r\n                return objectMapper.writeValueAsString(object);\r\n            } catch (JsonProcessingException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            throw new IllegalArgumentException(&quot;Unable to parse JSON&quot;);\r\n        }\r\n\r\n        @Override\r\n        public T unconvert(String object) {\r\n            try {\r\n                T unconvertedObject = objectMapper.readValue(object, \r\n                    new TypeReference&lt;T&gt;() {\r\n                });\r\n                return unconvertedObject;\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nCan someone help me with this issue?","title":"AWS DynamoDB: Could not unconvert attribute error","body":"<p>I have an issuse and I can't handle it. I've created CRUD methods for example in KitchenService. I have methods like addProduct etc and these works fine.. But I have Recipe class where I'm using Product class field.. In this case I have huge problems. </p>\n\n<p>My addRecipe method:</p>\n\n<pre><code>public Recipe addRecipe (Recipe recipe){\n\n    List&lt;RecipeElement&gt; recipeElements = recipe.getRecipeElements();\n    for (RecipeElement recipeElement : recipeElements) {\n        String id = recipeElement.getProduct().getId();\n        Product product = databaseController.get(Product.class, id);\n        recipeElement.setProduct(product);\n    }\n\n    databaseController.saveRecipe(recipe);\n    logger.log(\"Recipe created\");\n\n    return recipe;\n</code></pre>\n\n<p>Build succesfull so I want to test it in POSTMAN, that's how look JSON witch I'm sending:</p>\n\n<pre><code>{\"id\":null,\"name\":\"test3\",\"labels\":[\"GLUTEN_FREE\"],\"author\":{\"name\":\"Plejer Annołn\",\"id\":\"testID2\"},\"media\":{\"name\":\"heheszki\",\"url\":\"http://blabla.pl\",\"mediaType\":\"IMAGE\"},\"recipeElements\":[{\"product\":{\"id\":\"ecacaf36-29a2-41c6-942e-be5a715ed094\"},\"weight\":\"100\"}],\"approved\":false}\n</code></pre>\n\n<p>And then I get \"message\": \"Internal server error\" so I'm checking logs, that's what I found there:</p>\n\n<pre><code>Product[Media]; could not unconvert attribute: com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException\n\nCaused by: com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException: could not invoke public void pl.javamill.model.kitchen.Product.setMedia(pl.javamill.model.common.Media) on class pl.kitchen.Product with value {name=heheszki, url=http://blabla.pl, mediaType=IMAGE} of type class java.util.LinkedHashMap\n</code></pre>\n\n<p>This is how look Recipe Class:</p>\n\n<pre><code>@DynamoDBTable(tableName = \"recipe\")\npublic class Recipe extends Request {\n/**\n * Id of kitchen content\n */\nprivate String id;\n/**\n * Name of recipe\n */\nprivate String name;\n\n/**\n * Labels of product for example gluten fee product\n */\nprivate List&lt;KitchenLabel&gt; labels;\n\n/**\n * Author of content.\n */\nprivate Author author;\n\n/**\n * Address of content image.\n */\nprivate Media media;\n\nprivate Boolean approved;\n\nprivate List&lt;RecipeElement&gt; recipeElements;\n\n@DynamoDBHashKey(attributeName = \"id\")\n@DynamoDBAutoGeneratedKey\npublic String getId() {\n    return id;\n}\n\npublic void setId(String id) {\n    this.id = id;\n}\n\n@DynamoDBAttribute(attributeName = \"Name\")\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\n@DynamoDBTypeConverted(converter = EnumConverter.class)\n@DynamoDBAttribute(attributeName = \"Labels\")\npublic List&lt;KitchenLabel&gt; getLabels() {\n    return labels;\n}\n\npublic void setLabels(List&lt;KitchenLabel&gt; labels) {\n    this.labels = labels;\n}\n\n@DynamoDBTypeConverted(converter = ObjectConverter.class)\n@DynamoDBAttribute(attributeName = \"Author\")\npublic Author getAuthor() {\n    return author;\n}\n\npublic void setAuthor(Author author) {\n    this.author = author;\n}\n\n@DynamoDBTypeConverted(converter = ObjectConverter.class)\n@DynamoDBAttribute(attributeName = \"Media\")\npublic Media getMedia() {\n    return media;\n}\n\npublic void setMedia(Media media) {\n    this.media = media;\n}\n\n@DynamoDBAttribute(attributeName = \"Approved\")\npublic Boolean getApproved() {\n    return approved;\n}\n\npublic void setApproved(Boolean approved) {\n    this.approved = approved;\n}\n\n@DynamoDBTypeConverted(converter = ObjectConverter.class)\n@DynamoDBAttribute(attributeName = \"RecipeElements\")\npublic List&lt;RecipeElement&gt; getRecipeElements() {\n    return recipeElements;\n}\n\npublic void setRecipeElements(List&lt;RecipeElement&gt; recipeElements) {\n    this.recipeElements = recipeElements;\n}\n</code></pre>\n\n<p>RecipeElement class:</p>\n\n<pre><code>public class RecipeElement {\n\n\nprivate Product product;\nprivate Integer weight;\n\n@DynamoDBTypeConverted(converter = ObjectConverter.class)\n@DynamoDBHashKey(attributeName = \"product\")\npublic Product getProduct() {\n    return product;\n}\n\npublic void setProduct(Product product) {\n        this.product = product;\n    }\n\n    public Integer getWeight() {\n        return weight;\n    }\n\n    public void setWeight(Integer weight) {\n        this.weight = weight;\n    }\n}\n</code></pre>\n\n<p>And Product class:</p>\n\n<pre><code>@DynamoDBTable(tableName = \"product\")\npublic class Product extends Request {\n    /**\n     * Id of kitchen content\n     */\n    private String id;\n\n    /**\n     * Name of product\n     */\n    private String name;\n\n    /**\n     * Calories in 100g\n     */\n    private Integer calories;\n\n    /**\n     * Fat in 100g\n     */\n    private Double fat;\n\n    /**\n     * Total carbo in 100g\n     */\n    private Double carbo;\n\n    /**\n     * Total Protein in 100g\n     */\n    private Double protein;\n\n    /**\n     * Labels of product for example gluten fee product\n     */\n    private List&lt;ProductKind&gt; productKinds;\n\n    /**\n     * Author of content.\n     */\n    private Author author;\n\n    /**\n     * Address of content image.\n     */\n    private Media media;\n\n    private Boolean approved;\n\n    @DynamoDBHashKey(attributeName = \"id\")\n    @DynamoDBAutoGeneratedKey\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    @DynamoDBAttribute(attributeName = \"Name\")\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @DynamoDBAttribute(attributeName = \"Calories\")\n    public Integer getCalories() {\n        return calories;\n    }\n\n    public void setCalories(Integer calories) {\n        this.calories = calories;\n    }\n\n    @DynamoDBAttribute(attributeName = \"Fat\")\n    public Double getFat() {\n        return fat;\n    }\n\n    public void setFat(Double fat) {\n        this.fat = fat;\n    }\n\n    @DynamoDBAttribute(attributeName = \"Carbo\")\n    public Double getCarbo() {\n        return carbo;\n    }\n\n    public void setCarbo(Double carbo) {\n        this.carbo = carbo;\n    }\n\n    @DynamoDBAttribute(attributeName = \"Protein\")\n    public Double getProtein() {\n        return protein;\n    }\n\n    public void setProtein(Double protein) {\n        this.protein = protein;\n    }\n\n    @DynamoDBTypeConverted(converter = EnumConverter.class)\n    @DynamoDBAttribute(attributeName = \"ProductKinds\")\n    public List&lt;ProductKind&gt; getProductKinds() {\n        return productKinds;\n    }\n\n    public void setProductKinds(List&lt;ProductKind&gt; productKinds) {\n        this.productKinds = productKinds;\n    }\n\n    @DynamoDBTypeConverted(converter = ObjectConverter.class)\n    @DynamoDBAttribute(attributeName = \"Author\")\n    public Author getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(Author author) {\n        this.author = author;\n    }\n\n    @DynamoDBTypeConverted(converter = ObjectConverter.class)\n    @DynamoDBAttribute(attributeName = \"Media\")\n    public Media getMedia() {\n        return media;\n    }\n\n    public void setMedia(Media media) {\n        this.media = media;\n    }\n\n    @DynamoDBAttribute(attributeName = \"Approved\")\n    public Boolean getApproved() {\n        return approved;\n    }\n\n    public void setApproved(Boolean approved) {\n        this.approved = approved;\n    }\n</code></pre>\n\n<p>And this is my converter class:</p>\n\n<pre><code>public class ObjectConverter&lt;T extends Object&gt; \nimplements DynamoDBTypeConverter&lt;String, T&gt; {\n\n    ObjectMapper objectMapper = new ObjectMapper();\n\n    @Override\n    public String convert(T object) {\n        try {\n            return objectMapper.writeValueAsString(object);\n        } catch (JsonProcessingException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        throw new IllegalArgumentException(\"Unable to parse JSON\");\n    }\n\n    @Override\n    public T unconvert(String object) {\n        try {\n            T unconvertedObject = objectMapper.readValue(object, \n                new TypeReference&lt;T&gt;() {\n            });\n            return unconvertedObject;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>Can someone help me with this issue?</p>\n"},{"tags":["java","arrays","input","output","bufferedreader"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":1,"creation_date":1649219988,"post_id":71761079,"comment_id":126817546,"body_markdown":"why would your input values be shown in output? your output should show `tot` and `percent` as per the code. If you want your input to be shown as well, you should print that as well.","body":"why would your input values be shown in output? your output should show <code>tot</code> and <code>percent</code> as per the code. If you want your input to be shown as well, you should print that as well."},{"owner":{"account_id":95134,"reputation":691,"user_id":259281,"accept_rate":27,"display_name":"pavithraCS"},"score":0,"creation_date":1649220065,"post_id":71761079,"comment_id":126817557,"body_markdown":"This code only display Total marks and percentage. Do you want to print input values also?","body":"This code only display Total marks and percentage. Do you want to print input values also?"}],"answers":[{"tags":[],"owner":{"account_id":16048714,"reputation":150,"user_id":11583213,"display_name":"Nikhil Adiga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649221850,"creation_date":1649221850,"answer_id":71761321,"question_id":71761079,"body_markdown":"Your code did not contain a print statement that displayed the entered values. In order to display values stored in an array you can either loop through it and display each value individually or you can use Arrays.toString() method which prints the entire array as a string.\r\n    \r\n       //Total marks and percentage\r\n        import java.io.*;\r\n        class Arr2 {\r\n          public static void main(String args[]) throws IOException {\r\n        //to accept data from keyboard\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n        //ask how many subjects \r\n        System.out.println(&quot;How many subjects?&quot;);\r\n        int n = Integer.parseInt(br.readLine());\r\n\r\n        //create 1D array with size n\r\n        int[] marks = new int[n];\r\n\r\n        //store elements into the array \r\n        for (int i = 0; i &lt; n; i++) {\r\n            System.out.println(&quot;Enter marks: &quot;);\r\n            marks[i] = Integer.parseInt(br.readLine());\r\n        }\r\n        //find total marks \r\n        int tot = 0;\r\n        for (int i = 0; i &lt; n; i++)\r\n            tot += marks[I];\r\n        \r\n        // display input marks ------ Add the line below\r\n        System.out.println(&quot;Entered marks= &quot;+ Arrays.toString(marks));\r\n\r\n        //display total marks\r\n        System.out.println(&quot;Total marks= &quot; + tot);\r\n\r\n        //find percentage\r\n        float percent = (float) tot / n;\r\n        System.out.println(&quot;Percentage=&quot; + percent);\r\n\r\n     }\r\n    }","title":"My entered input is not showing in the resulted output","body":"<p>Your code did not contain a print statement that displayed the entered values. In order to display values stored in an array you can either loop through it and display each value individually or you can use Arrays.toString() method which prints the entire array as a string.</p>\n<pre><code>   //Total marks and percentage\n    import java.io.*;\n    class Arr2 {\n      public static void main(String args[]) throws IOException {\n    //to accept data from keyboard\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n    //ask how many subjects \n    System.out.println(&quot;How many subjects?&quot;);\n    int n = Integer.parseInt(br.readLine());\n\n    //create 1D array with size n\n    int[] marks = new int[n];\n\n    //store elements into the array \n    for (int i = 0; i &lt; n; i++) {\n        System.out.println(&quot;Enter marks: &quot;);\n        marks[i] = Integer.parseInt(br.readLine());\n    }\n    //find total marks \n    int tot = 0;\n    for (int i = 0; i &lt; n; i++)\n        tot += marks[I];\n    \n    // display input marks ------ Add the line below\n    System.out.println(&quot;Entered marks= &quot;+ Arrays.toString(marks));\n\n    //display total marks\n    System.out.println(&quot;Total marks= &quot; + tot);\n\n    //find percentage\n    float percent = (float) tot / n;\n    System.out.println(&quot;Percentage=&quot; + percent);\n\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26482543,"reputation":31,"user_id":20121593,"display_name":"Neema R Soman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665504960,"creation_date":1665504486,"answer_id":74031081,"question_id":71761079,"body_markdown":"The code given has print statements written for displaying only the ```percentage``` and ```total marks```. If the requirement is to print the entered marks we will have to add an additional print statement.\r\nFor printing the input marks stored in the ```marks``` array we can either use:\r\n- for loop, iterate through each of the element in ```marks``` array and print them\r\n- Arrays.toString() method, which prints the ```marks``` array in String format.\r\n\r\nPlease find the revised version of the code:\r\n```\r\nimport java.io. *;\r\nimport java.util.Arrays;\r\n\r\nclass Arr2{\r\n   public static void main(String args[]) throws IOException{\r\n      \r\n      //to accept data from keyboard\r\n      BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \r\n      //ask how many subjects \r\n      System.out.println(&quot;How many subjects?&quot;);\r\n      int n = Integer.parseInt(br.readLine());\r\n      \r\n      //create 1D array with size n\r\n      int[] marks = new int[n];\r\n      \r\n      //store elements into the array \r\n      for(int i = 0; i &lt; n; i++)\r\n      {       \r\n         System.out.println(&quot;Enter marks: &quot;);\r\n         marks[i] = Integer.parseInt(br.readLine ());\r\n      }\r\n\r\n      //find total marks \r\n      int tot = 0;\r\n      for(int i = 0; i &lt; n; i++)\r\n         tot +=  marks[i];\r\n\r\n      //Display the entered marks\r\n      System.out.print(&quot;Marks: &quot;);\r\n      /*\r\n      //Using for-loop\r\n      for (int i = 0; i &lt; n ; i++){\r\n         System.out.print(marks[i] + &quot;\\t&quot;);\r\n      }\r\n      */\r\n      \r\n\r\n      //Using Arrays.toString() method\r\n      System.out.println(Arrays.toString(marks));\r\n\r\n      //display total marks\r\n      System.out.println(&quot;Total marks = &quot;+tot);\r\n      \r\n      //find percentage\r\n      float percent = (float) tot / n;\r\n      System.out.println(&quot;Percentage = &quot;+ percent);\r\n      \r\n      }\r\n}\r\n```\r\n**Output:**\r\n```\r\nHow many subjects?\r\n3\r\nEnter marks: \r\n89\r\nEnter marks: \r\n90\r\nEnter marks: \r\n98\r\nMarks: [89, 90, 98]\r\nTotal marks = 277\r\nPercentage = 92.333336\r\n```","title":"My entered input is not showing in the resulted output","body":"<p>The code given has print statements written for displaying only the <code>percentage</code> and <code>total marks</code>. If the requirement is to print the entered marks we will have to add an additional print statement.\nFor printing the input marks stored in the <code>marks</code> array we can either use:</p>\n<ul>\n<li>for loop, iterate through each of the element in <code>marks</code> array and print them</li>\n<li>Arrays.toString() method, which prints the <code>marks</code> array in String format.</li>\n</ul>\n<p>Please find the revised version of the code:</p>\n<pre><code>import java.io. *;\nimport java.util.Arrays;\n\nclass Arr2{\n   public static void main(String args[]) throws IOException{\n      \n      //to accept data from keyboard\n      BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    \n      //ask how many subjects \n      System.out.println(&quot;How many subjects?&quot;);\n      int n = Integer.parseInt(br.readLine());\n      \n      //create 1D array with size n\n      int[] marks = new int[n];\n      \n      //store elements into the array \n      for(int i = 0; i &lt; n; i++)\n      {       \n         System.out.println(&quot;Enter marks: &quot;);\n         marks[i] = Integer.parseInt(br.readLine ());\n      }\n\n      //find total marks \n      int tot = 0;\n      for(int i = 0; i &lt; n; i++)\n         tot +=  marks[i];\n\n      //Display the entered marks\n      System.out.print(&quot;Marks: &quot;);\n      /*\n      //Using for-loop\n      for (int i = 0; i &lt; n ; i++){\n         System.out.print(marks[i] + &quot;\\t&quot;);\n      }\n      */\n      \n\n      //Using Arrays.toString() method\n      System.out.println(Arrays.toString(marks));\n\n      //display total marks\n      System.out.println(&quot;Total marks = &quot;+tot);\n      \n      //find percentage\n      float percent = (float) tot / n;\n      System.out.println(&quot;Percentage = &quot;+ percent);\n      \n      }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>How many subjects?\n3\nEnter marks: \n89\nEnter marks: \n90\nEnter marks: \n98\nMarks: [89, 90, 98]\nTotal marks = 277\nPercentage = 92.333336\n</code></pre>\n"}],"owner":{"account_id":23787348,"reputation":1,"user_id":17799211,"display_name":"Tanushree Baingne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665504960,"creation_date":1649219495,"question_id":71761079,"body_markdown":"My program is running properly.But if I enter a integer value from keyboard..then the output is not showing the entered values.This code is from my core java book and i have written it exactly like it was mentioned in the book. I&#39;m a beginner in programming that&#39;s why I&#39;m not able to find my mistake. Please guide me in this.\r\n\r\n[This image is showing the exact output which I am getting by entering total number of subjects first and then marks obtained in each subjects][1]\r\n\r\n \r\n\r\n    //Total marks and percentage\r\n    import java.io. * ;\r\n    class Arr2\r\n    {public static void main(String args[]) throws IOException\r\n         {\r\n         //to accept data from keyboard\r\n          BufferedReader br = new BufferedReader(new           InputStreamReader(System.in));\r\n        \r\n           //ask how many subjects \r\n          System.out.println(&quot;How many subjects?&quot;);\r\n          int n = Integer.parseInt(br.readLine());\r\n          \r\n          //create 1D array with size n\r\n          int[] marks = new int[n];\r\n          \r\n          //store elements into the array \r\n          for(int i=0; i&lt;n; i++)\r\n          {       System.out.println(&quot;Enter marks: &quot;);\r\n                  marks[i] = Integer.parseInt(br.readLine ());\r\n                      }\r\n          //find total marks \r\n          int tot= 0;\r\n          for(int i =0; i&lt;n; i++)\r\n          tot +=  marks[i];\r\n          //display total marks\r\n          System.out.println(&quot;Total marks= &quot;+tot);\r\n          \r\n          //find percentage\r\n          float percent = (float)tot/n;\r\n          System.out.println(&quot;Percentage=&quot;+ percent);\r\n          \r\n          }\r\n    }\r\n    \r\n    \r\n    \r\n\r\nI have checked my mistakes at every point but I couldn&#39;t find any of my mistakes. I have also Googled it but could not find it. Please help me in it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xPx7e.jpg","title":"My entered input is not showing in the resulted output","body":"<p>My program is running properly.But if I enter a integer value from keyboard..then the output is not showing the entered values.This code is from my core java book and i have written it exactly like it was mentioned in the book. I'm a beginner in programming that's why I'm not able to find my mistake. Please guide me in this.</p>\n<p><a href=\"https://i.stack.imgur.com/xPx7e.jpg\" rel=\"nofollow noreferrer\">This image is showing the exact output which I am getting by entering total number of subjects first and then marks obtained in each subjects</a></p>\n<pre><code>//Total marks and percentage\nimport java.io. * ;\nclass Arr2\n{public static void main(String args[]) throws IOException\n     {\n     //to accept data from keyboard\n      BufferedReader br = new BufferedReader(new           InputStreamReader(System.in));\n    \n       //ask how many subjects \n      System.out.println(&quot;How many subjects?&quot;);\n      int n = Integer.parseInt(br.readLine());\n      \n      //create 1D array with size n\n      int[] marks = new int[n];\n      \n      //store elements into the array \n      for(int i=0; i&lt;n; i++)\n      {       System.out.println(&quot;Enter marks: &quot;);\n              marks[i] = Integer.parseInt(br.readLine ());\n                  }\n      //find total marks \n      int tot= 0;\n      for(int i =0; i&lt;n; i++)\n      tot +=  marks[i];\n      //display total marks\n      System.out.println(&quot;Total marks= &quot;+tot);\n      \n      //find percentage\n      float percent = (float)tot/n;\n      System.out.println(&quot;Percentage=&quot;+ percent);\n      \n      }\n}\n</code></pre>\n<p>I have checked my mistakes at every point but I couldn't find any of my mistakes. I have also Googled it but could not find it. Please help me in it.</p>\n"},{"tags":["java","logging","logback","spring-logback"],"answers":[{"tags":[],"owner":{"account_id":17859989,"reputation":61,"user_id":12973717,"display_name":"Gary Liao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665504484,"creation_date":1665504484,"answer_id":74031080,"question_id":74030516,"body_markdown":"Set `jdbc.sqlonly` for record sql, and turn off all below props since you \r\nneed sql only `jdbc.sqltiming jdbc.audit jdbc.resultset jdbc.connection`.\r\n\r\nHow to turn on/off, you could see this from [official github link][1]\r\n\r\n\r\n  [1]: https://github.com/arthurblake/log4jdbc/blob/master/doc/log4j.xml","title":"Logback configuration to filter by message","body":"<p>Set <code>jdbc.sqlonly</code> for record sql, and turn off all below props since you\nneed sql only <code>jdbc.sqltiming jdbc.audit jdbc.resultset jdbc.connection</code>.</p>\n<p>How to turn on/off, you could see this from <a href=\"https://github.com/arthurblake/log4jdbc/blob/master/doc/log4j.xml\" rel=\"nofollow noreferrer\">official github link</a></p>\n"}],"owner":{"account_id":17465366,"reputation":29,"user_id":12662212,"display_name":"grandidark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665504484,"creation_date":1665501887,"question_id":74030516,"body_markdown":"Is possible to add a filter by message in my logback config?\r\n\r\nI am using a tool which logs the SQL statements generated by Hibernate: https://stackoverflow.com/a/19299769/5033118\r\n\r\nI overwrite the logback configuration:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration debug=&quot;true&quot;&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;Pattern&gt;%msg%n&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;logger name=&quot;jdbc.audit&quot; level=&quot;ERROR&quot; /&gt;\r\n    &lt;logger name=&quot;jdbc.connection&quot; level=&quot;ERROR&quot; /&gt;\r\n    &lt;logger name=&quot;jdbc.sqltiming&quot; level=&quot;ERROR&quot; /&gt;\r\n    &lt;logger name=&quot;jdbc.resultset&quot; level=&quot;ERROR&quot; /&gt;\r\n\r\n    &lt;logger name=&quot;jdbc.resultsettable&quot; level=&quot;ERROR&quot; /&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nThe tool logs the statements, but it also logs some other messages:\r\n```\r\n1. PreparedStatement.new PreparedStatement returned \r\n1. Connection.prepareStatement(delete from AIXM_FEATURE_EVENT_MAPPING where TS_ID=?) returned net.sf.log4jdbc.sql.jdbcapi.PreparedStatementSpy@4aab04cf\r\n1. PreparedStatement.setString(1, &quot;3b855115-2da2-495c-a3bf-b2328916ef77&quot;) returned \r\n1. delete from AIXM_FEATURE_EVENT_MAPPING where TS_ID=&#39;3b855115-2da2-495c-a3bf-b2328916ef77&#39;  {executed in 38 ms}\r\n1. PreparedStatement.executeUpdate() returned 0\r\n1. PreparedStatement.getMaxRows() returned 0\r\n1. PreparedStatement.getQueryTimeout() returned 0\r\n1. PreparedStatement.close() returned \r\n```\r\n\r\nWhat I am trying to do is to add a filter in my logback configuration to get ONLY the SQL statements (and to format them if possible - remove the &quot;1. &quot; from the start of the line and add a &quot;;&quot; at the end).\r\n```\r\ndelete from AIXM_FEATURE_EVENT_MAPPING where TS_ID=&#39;3b855115-2da2-495c-a3bf-b2328916ef77&#39;;\r\n```","title":"Logback configuration to filter by message","body":"<p>Is possible to add a filter by message in my logback config?</p>\n<p>I am using a tool which logs the SQL statements generated by Hibernate: <a href=\"https://stackoverflow.com/a/19299769/5033118\">https://stackoverflow.com/a/19299769/5033118</a></p>\n<p>I overwrite the logback configuration:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration debug=&quot;true&quot;&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;Pattern&gt;%msg%n&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;jdbc.audit&quot; level=&quot;ERROR&quot; /&gt;\n    &lt;logger name=&quot;jdbc.connection&quot; level=&quot;ERROR&quot; /&gt;\n    &lt;logger name=&quot;jdbc.sqltiming&quot; level=&quot;ERROR&quot; /&gt;\n    &lt;logger name=&quot;jdbc.resultset&quot; level=&quot;ERROR&quot; /&gt;\n\n    &lt;logger name=&quot;jdbc.resultsettable&quot; level=&quot;ERROR&quot; /&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>The tool logs the statements, but it also logs some other messages:</p>\n<pre><code>1. PreparedStatement.new PreparedStatement returned \n1. Connection.prepareStatement(delete from AIXM_FEATURE_EVENT_MAPPING where TS_ID=?) returned net.sf.log4jdbc.sql.jdbcapi.PreparedStatementSpy@4aab04cf\n1. PreparedStatement.setString(1, &quot;3b855115-2da2-495c-a3bf-b2328916ef77&quot;) returned \n1. delete from AIXM_FEATURE_EVENT_MAPPING where TS_ID='3b855115-2da2-495c-a3bf-b2328916ef77'  {executed in 38 ms}\n1. PreparedStatement.executeUpdate() returned 0\n1. PreparedStatement.getMaxRows() returned 0\n1. PreparedStatement.getQueryTimeout() returned 0\n1. PreparedStatement.close() returned \n</code></pre>\n<p>What I am trying to do is to add a filter in my logback configuration to get ONLY the SQL statements (and to format them if possible - remove the &quot;1. &quot; from the start of the line and add a &quot;;&quot; at the end).</p>\n<pre><code>delete from AIXM_FEATURE_EVENT_MAPPING where TS_ID='3b855115-2da2-495c-a3bf-b2328916ef77';\n</code></pre>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665504403,"creation_date":1665504403,"answer_id":74031061,"question_id":74030779,"body_markdown":"those escapes are required because you are actually embedding another json object inside the string value for the `exists` field. instead of using `addProperty`, you should be using `builder.add(&quot;exists&quot;, nestedObj)` just like you do elsewhere.","title":"Removing escaped strings in Java JSON Object","body":"<p>those escapes are required because you are actually embedding another json object inside the string value for the <code>exists</code> field. instead of using <code>addProperty</code>, you should be using <code>builder.add(&quot;exists&quot;, nestedObj)</code> just like you do elsewhere.</p>\n"}],"owner":{"account_id":25856709,"reputation":27,"user_id":19589836,"display_name":"Anon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74031061,"answer_count":1,"score":2,"last_activity_date":1665504403,"creation_date":1665503140,"question_id":74030779,"body_markdown":"I have a Java program that will dynamically build queries for ElasticSearch given some params. Currently, the way I have this built escapes the strings because the JsonObject as a part of Google&#39;s GSON library requires a string to be passed to append JSON.\r\n\r\nThe output from the below methods is the following:\r\n```\r\n{\r\n   &quot;query&quot;:{\r\n      &quot;bool&quot;:{\r\n         &quot;filter&quot;:[\r\n            {\r\n               &quot;exists&quot;:&quot;{\\&quot;field\\&quot;:\\&quot;user_id\\&quot;}&quot;\r\n            },\r\n            {\r\n               &quot;exists&quot;:&quot;{\\&quot;field\\&quot;:\\&quot;campaign_id\\&quot;}&quot;\r\n            }\r\n         ]\r\n      }\r\n   }\r\n}\r\n````\r\n\r\nAs you can see, the exists values are escapes and ElasticSearch throws a fit about this. How can I achieve this result without having the escapes strings?  \r\n\r\n    JsonObject buildQuery() {\r\n        JsonObject request = new JsonObject();\r\n    \r\n        // build the terms query\r\n        JsonArray termsArr = new JsonArray();\r\n        termsArr.add(buildFilterQueryForField(&quot;user_id&quot;));\r\n        termsArr.add(buildFilterQueryForField(&quot;campaign_id&quot;));\r\n        JsonObject terms = JsonHelper.createObject(&quot;bool.filter&quot;, termsArr);\r\n        request.add(&quot;query&quot;, terms);\r\n    \r\n        return request;\r\n    }\r\n\r\nBelow is the code for the `buildFilterQueryForField(*)`. In this method, i&#39;ve tried to use a regex to remove these, however this regex doesn&#39;t give me the result i&#39;m after. \r\n\r\n    static JsonObject buildFilterQueryForField(String fieldName) {\r\n        JsonObject builder = new JsonObject();\r\n        JsonObject nestedObj = new JsonObject();\r\n        nestedObj.addProperty(&quot;field&quot;, fieldName);\r\n        builder.addProperty(&quot;exists&quot;, nestedObj.toString().replaceAll(&quot;\\\\\\\\&quot;, &quot;&quot;));\r\n        return builder;\r\n    }\r\n\r\nThe end goal for this is the following:\r\n```\r\n{\r\n   &quot;query&quot;:{\r\n      &quot;bool&quot;:{\r\n         &quot;filter&quot;:[\r\n            {\r\n                &quot;exists&quot;: { &quot;field&quot;: &quot;user_id&quot; }\r\n            },\r\n            {\r\n                &quot;exists&quot;: { &quot;field&quot;: &quot;campaign_id&quot; }\r\n            },\r\n         ]\r\n      }\r\n   }\r\n}\r\n````","title":"Removing escaped strings in Java JSON Object","body":"<p>I have a Java program that will dynamically build queries for ElasticSearch given some params. Currently, the way I have this built escapes the strings because the JsonObject as a part of Google's GSON library requires a string to be passed to append JSON.</p>\n<p>The output from the below methods is the following:</p>\n<pre><code>{\n   &quot;query&quot;:{\n      &quot;bool&quot;:{\n         &quot;filter&quot;:[\n            {\n               &quot;exists&quot;:&quot;{\\&quot;field\\&quot;:\\&quot;user_id\\&quot;}&quot;\n            },\n            {\n               &quot;exists&quot;:&quot;{\\&quot;field\\&quot;:\\&quot;campaign_id\\&quot;}&quot;\n            }\n         ]\n      }\n   }\n}\n</code></pre>\n<p>As you can see, the exists values are escapes and ElasticSearch throws a fit about this. How can I achieve this result without having the escapes strings?</p>\n<pre><code>JsonObject buildQuery() {\n    JsonObject request = new JsonObject();\n\n    // build the terms query\n    JsonArray termsArr = new JsonArray();\n    termsArr.add(buildFilterQueryForField(&quot;user_id&quot;));\n    termsArr.add(buildFilterQueryForField(&quot;campaign_id&quot;));\n    JsonObject terms = JsonHelper.createObject(&quot;bool.filter&quot;, termsArr);\n    request.add(&quot;query&quot;, terms);\n\n    return request;\n}\n</code></pre>\n<p>Below is the code for the <code>buildFilterQueryForField(*)</code>. In this method, i've tried to use a regex to remove these, however this regex doesn't give me the result i'm after.</p>\n<pre><code>static JsonObject buildFilterQueryForField(String fieldName) {\n    JsonObject builder = new JsonObject();\n    JsonObject nestedObj = new JsonObject();\n    nestedObj.addProperty(&quot;field&quot;, fieldName);\n    builder.addProperty(&quot;exists&quot;, nestedObj.toString().replaceAll(&quot;\\\\\\\\&quot;, &quot;&quot;));\n    return builder;\n}\n</code></pre>\n<p>The end goal for this is the following:</p>\n<pre><code>{\n   &quot;query&quot;:{\n      &quot;bool&quot;:{\n         &quot;filter&quot;:[\n            {\n                &quot;exists&quot;: { &quot;field&quot;: &quot;user_id&quot; }\n            },\n            {\n                &quot;exists&quot;: { &quot;field&quot;: &quot;campaign_id&quot; }\n            },\n         ]\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-integration","spring-integration-sftp"],"comments":[{"owner":{"account_id":26406001,"reputation":1,"user_id":20055777,"display_name":"Choff"},"score":0,"creation_date":1665492657,"post_id":74023335,"comment_id":130709100,"body_markdown":"I have been asked to use only SftpOutboundGateway Object with MV command to update the timestamp of the remote file...Is there a solution with that or anything similar ?","body":"I have been asked to use only SftpOutboundGateway Object with MV command to update the timestamp of the remote file...Is there a solution with that or anything similar ?"}],"answers":[{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665467579,"creation_date":1665467579,"answer_id":74023516,"question_id":74023335,"body_markdown":"it would be better to just use the SftpRemoteFileTemplate directly in your code.\r\n\r\nsomething like this way.\r\n```\r\ntemplate.rename(...);\r\ntemplate.get(pathToFile, inputStream -&gt; ...);\r\ntemplate.rename(...); // or template.remove(...);\r\n```\r\n\r\nfor timestamp,\r\n```\r\n @Bean\r\n    public IntegrationFlow sftpInboundFlow() {\r\n        return IntegrationFlows\r\n            .from(Sftp.inboundAdapter(this.sftpSessionFactory)\r\n                    .preserveTimestamp(true)\r\n                    .remoteDirectory(&quot;foo&quot;)\r\n                    .regexFilter(&quot;.*\\\\.txt$&quot;)\r\n                    .localFilenameExpression(&quot;#this.toUpperCase() + &#39;.a&#39;&quot;)\r\n                    .localDirectory(new File(&quot;sftp-inbound&quot;)),\r\n                 e -&gt; e.id(&quot;sftpInboundAdapter&quot;)\r\n                    .autoStartup(true)\r\n                    .poller(Pollers.fixedDelay(5000)))\r\n            .handle(m -&gt; System.out.println(m.getPayload()))\r\n            .get();\r\n    }\r\n}\r\n```\r\n\r\nyou can also refer to this [documentation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-integration/reference/html/sftp.html#sftp-outbound","title":"how to set filename and timestamp using spring-integration sftp?","body":"<p>it would be better to just use the SftpRemoteFileTemplate directly in your code.</p>\n<p>something like this way.</p>\n<pre><code>template.rename(...);\ntemplate.get(pathToFile, inputStream -&gt; ...);\ntemplate.rename(...); // or template.remove(...);\n</code></pre>\n<p>for timestamp,</p>\n<pre><code> @Bean\n    public IntegrationFlow sftpInboundFlow() {\n        return IntegrationFlows\n            .from(Sftp.inboundAdapter(this.sftpSessionFactory)\n                    .preserveTimestamp(true)\n                    .remoteDirectory(&quot;foo&quot;)\n                    .regexFilter(&quot;.*\\\\.txt$&quot;)\n                    .localFilenameExpression(&quot;#this.toUpperCase() + '.a'&quot;)\n                    .localDirectory(new File(&quot;sftp-inbound&quot;)),\n                 e -&gt; e.id(&quot;sftpInboundAdapter&quot;)\n                    .autoStartup(true)\n                    .poller(Pollers.fixedDelay(5000)))\n            .handle(m -&gt; System.out.println(m.getPayload()))\n            .get();\n    }\n}\n</code></pre>\n<p>you can also refer to this <a href=\"https://docs.spring.io/spring-integration/reference/html/sftp.html#sftp-outbound\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665503915,"creation_date":1665503915,"answer_id":74030968,"question_id":74023335,"body_markdown":"Setting timestamp on the remote file is not a gateway responsibility.\r\n\r\nSee `SftpRemoteFileTemplate.executeWithClient(ClientCallback&lt;C, T&gt; callback)`:\r\n\r\n\r\n\t\t\tpublic void handleMessage(Message&lt;?&gt; message) throws MessagingException {\r\n\t\t\t\tString remoteFile = (String) message.getPayload();\r\n\t\t\t\tInteger newModTime = message.getHeaders().get(&quot;newModTime&quot;, Integer.class);\r\n\t\t\t\t\r\n\t\t\t\ttemplate.executeWithClient((ClientCallbackWithoutResult&lt;ChannelSftp&gt;) client -&gt; {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tSftpATTRS attrs = client.lstat(remoteFile);\r\n\t\t\t\t\t\tattrs.setACMODTIME(attrs.getATime(), newModTime);\r\n\t\t\t\t\t\tclient.setStat(remoteFile, attrs);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (SftpException e) {\r\n\t\t\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\nThis one can be used in a service activator method where you get access to the `Message`.\r\n","title":"how to set filename and timestamp using spring-integration sftp?","body":"<p>Setting timestamp on the remote file is not a gateway responsibility.</p>\n<p>See <code>SftpRemoteFileTemplate.executeWithClient(ClientCallback&lt;C, T&gt; callback)</code>:</p>\n<pre><code>        public void handleMessage(Message&lt;?&gt; message) throws MessagingException {\n            String remoteFile = (String) message.getPayload();\n            Integer newModTime = message.getHeaders().get(&quot;newModTime&quot;, Integer.class);\n            \n            template.executeWithClient((ClientCallbackWithoutResult&lt;ChannelSftp&gt;) client -&gt; {\n                try {\n                    SftpATTRS attrs = client.lstat(remoteFile);\n                    attrs.setACMODTIME(attrs.getATime(), newModTime);\n                    client.setStat(remoteFile, attrs);\n                }\n                catch (SftpException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n        }\n</code></pre>\n<p>This one can be used in a service activator method where you get access to the <code>Message</code>.</p>\n"}],"owner":{"account_id":26406001,"reputation":1,"user_id":20055777,"display_name":"Choff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665503915,"creation_date":1665466092,"question_id":74023335,"body_markdown":"I need to set filename &amp; timestamp of a file using sftpoutputgateway object. \r\nHow do i do it ?\r\nI know it will be done through Spel language ,but not sure what the systax looks like.\r\n","title":"how to set filename and timestamp using spring-integration sftp?","body":"<p>I need to set filename &amp; timestamp of a file using sftpoutputgateway object.\nHow do i do it ?\nI know it will be done through Spel language ,but not sure what the systax looks like.</p>\n"},{"tags":["java","android","volume","audiotrack"],"comments":[{"owner":{"account_id":955087,"reputation":57276,"user_id":980550,"accept_rate":70,"display_name":"lurker"},"score":0,"creation_date":1551532309,"post_id":54958787,"comment_id":96679199,"body_markdown":"You&#39;re going to need to scale the formula. In your case you&#39;re saying you don&#39;t want the standard (correct) dB to amplitude relationship. You could use `amp = 10^((dB-max_dB)/10)` where `max_dB` is the maximum dB you want to support.","body":"You&#39;re going to need to scale the formula. In your case you&#39;re saying you don&#39;t want the standard (correct) dB to amplitude relationship. You could use <code>amp = 10^((dB-max_dB)&#47;10)</code> where <code>max_dB</code> is the maximum dB you want to support."},{"owner":{"account_id":9451517,"reputation":1067,"user_id":7028196,"accept_rate":82,"display_name":"Rouzbeh Zarandi"},"score":0,"creation_date":1551691892,"post_id":54958787,"comment_id":96718594,"body_markdown":"i did that but i dont thnk so its giving the right ones..... eg: hearing of different frequency with dB between 0 - 20 where 0 is min ,means normal hearing level .... the formula you gave makes my dB works between 0 - 49 dB above that the amp value is more than 1 but still we have other level like eg:20 - 40 which is one level below the normal hearing","body":"i did that but i dont thnk so its giving the right ones..... eg: hearing of different frequency with dB between 0 - 20 where 0 is min ,means normal hearing level .... the formula you gave makes my dB works between 0 - 49 dB above that the amp value is more than 1 but still we have other level like eg:20 - 40 which is one level below the normal hearing"}],"owner":{"account_id":9451517,"reputation":1067,"user_id":7028196,"accept_rate":82,"display_name":"Rouzbeh Zarandi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665503716,"creation_date":1551531659,"question_id":54958787,"body_markdown":"I am using audio track to generate a beep sound with given frequency and decibels dB. In audio track there is a method called \r\n\r\n    setStereoVolume()\r\n\r\nthat gets left and right volume. However in this library the volume is set by amplitude which is in range of 0 -1 where 0 is min and 1 is max but my users give dB instead ,so I need to convert dB to amplitude . After searching I found the formula as `amp = 10^(dB/20)`. The problem is that for this formula only -ve dB works , for +ve dB the formula returns value above 1 which means max. \r\n\r\n    audioTrack.setStereoVolume((float) Math.pow(10,volumeL_val/20),(float) Math.pow(10,volumeR_val/20));\r\n\r\nHow can I convert +ve dB to amplitude in range 0-1 that is acceptable by Android?","title":"Generating an audio track sound with given decibel","body":"<p>I am using audio track to generate a beep sound with given frequency and decibels dB. In audio track there is a method called</p>\n<pre><code>setStereoVolume()\n</code></pre>\n<p>that gets left and right volume. However in this library the volume is set by amplitude which is in range of 0 -1 where 0 is min and 1 is max but my users give dB instead ,so I need to convert dB to amplitude . After searching I found the formula as <code>amp = 10^(dB/20)</code>. The problem is that for this formula only -ve dB works , for +ve dB the formula returns value above 1 which means max.</p>\n<pre><code>audioTrack.setStereoVolume((float) Math.pow(10,volumeL_val/20),(float) Math.pow(10,volumeR_val/20));\n</code></pre>\n<p>How can I convert +ve dB to amplitude in range 0-1 that is acceptable by Android?</p>\n"},{"tags":["java","spring-boot","graphql"],"comments":[{"owner":{"account_id":9529805,"reputation":129,"user_id":10453408,"display_name":"DudeGuy"},"score":0,"creation_date":1665504176,"post_id":74030923,"comment_id":130713944,"body_markdown":"Have you tried using https://start.spring.io/? You can specify dependencies, i.e. GraphQL, and download a fresh starter package that&#39;s already setup properly for Gradle or Maven.","body":"Have you tried using <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>? You can specify dependencies, i.e. GraphQL, and download a fresh starter package that&#39;s already setup properly for Gradle or Maven."},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1665506314,"post_id":74030923,"comment_id":130714640,"body_markdown":"are you able to run `./gradlew clean build`? what is the output? is project building?","body":"are you able to run <code>.&#47;gradlew clean build</code>? what is the output? is project building?"},{"owner":{"account_id":11865640,"reputation":395,"user_id":8683238,"accept_rate":100,"display_name":"Space Cadet"},"score":0,"creation_date":1665746088,"post_id":74030923,"comment_id":130775346,"body_markdown":"@DudeGuy I&#39;ll give that a try but this is an existing project that I&#39;d like to incorporate GraphQL into","body":"@DudeGuy I&#39;ll give that a try but this is an existing project that I&#39;d like to incorporate GraphQL into"},{"owner":{"account_id":11865640,"reputation":395,"user_id":8683238,"accept_rate":100,"display_name":"Space Cadet"},"score":0,"creation_date":1665746637,"post_id":74030923,"comment_id":130775513,"body_markdown":"@swapyonubuntu When I try and run a Gradle build this is the output:\n\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\n   &gt; Could not find com.graphql-java:graphql-spring-boot-starter:.\n     Required by:\n         project :\n   &gt; Could not find org.springframework.boot:spring-boot-starter-graphql:.\n     Required by:\n         project :\n   &gt; Could not find com.graphql-java:graphql-java-tools:5.0.4.\n     Required by:\n         project :\n   &gt; Could not find com.graphql-java:graphql-java-extended-scalars:19.2.\n     Required by:\n         project :","body":"@swapyonubuntu When I try and run a Gradle build this is the output:  &gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.    &gt; Could not find com.graphql-java:graphql-spring-boot-starter:.      Required by:          project :    &gt; Could not find org.springframework.boot:spring-boot-starter-graphql:.      Required by:          project :    &gt; Could not find com.graphql-java:graphql-java-tools:5.0.4.      Required by:          project :    &gt; Could not find com.graphql-java:graphql-java-extended-scalars:19.2.      Required by:          project :"},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1665837500,"post_id":74030923,"comment_id":130794652,"body_markdown":"can you try with implementation &#39;org.springframework.boot:spring-boot-starter-graphql&#39; add to build gradle","body":"can you try with implementation &#39;org.springframework.boot:spring-boot-starter-graphql&#39; add to build gradle"}],"owner":{"account_id":11865640,"reputation":395,"user_id":8683238,"accept_rate":100,"display_name":"Space Cadet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1080,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665503713,"creation_date":1665503713,"question_id":74030923,"body_markdown":"I&#39;m trying to introduce GraphQL to a Spring Boot project based on the tutorial [here][1]. When I add the `@QueryMapping` annotation to my Controller method, IntelliJ is unable to find it, despite the fact that I&#39;ve imported (I think) the correct libraries in my Gradle file.\r\n\r\nHere is what I&#39;ve imported \r\n\r\n    \t// https://mvnrepository.com/artifact/com.graphql-java/graphql-spring-boot-starter\r\n\timplementation group: &#39;com.graphql-java&#39;, name: &#39;graphql-spring-boot-starter&#39;\r\n\r\n\timplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-graphql&#39;\r\n\r\n\timplementation group: &#39;com.graphql-java&#39;, name: &#39;graphql-java-tools&#39;, version: &#39;5.0.4&#39;\r\n\r\n\timplementation &#39;com.graphql-java:graphql-java-extended-scalars:19.2&#39;\r\n\r\nAnd here is my Controller code\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.graphql.data.method.annotation.QueryMapping; //IntelliJ cannot find this library\r\n\r\n    @Controller\r\n    public class MyController  {\r\n\r\n        private final MyService myService;\r\n\r\n        public MyController(MyService myService) {\r\n            this.myService = myService;\r\n        }\r\n\r\n        @QueryMapping//IntelliJ cannot find this annotation\r\n        public MyDto getMyDto(final String id) {\r\n            return myService.getMyDto(id);\r\n        }\r\n\r\n    }\r\n\r\nAny help is welcome.\r\n\r\n  [1]: https://www.baeldung.com/spring-graphql","title":"Why is the Spring Boot GraphQL QueryMapping annotation not found?","body":"<p>I'm trying to introduce GraphQL to a Spring Boot project based on the tutorial <a href=\"https://www.baeldung.com/spring-graphql\" rel=\"nofollow noreferrer\">here</a>. When I add the <code>@QueryMapping</code> annotation to my Controller method, IntelliJ is unable to find it, despite the fact that I've imported (I think) the correct libraries in my Gradle file.</p>\n<p>Here is what I've imported</p>\n<pre><code>    // https://mvnrepository.com/artifact/com.graphql-java/graphql-spring-boot-starter\nimplementation group: 'com.graphql-java', name: 'graphql-spring-boot-starter'\n\nimplementation group: 'org.springframework.boot', name: 'spring-boot-starter-graphql'\n\nimplementation group: 'com.graphql-java', name: 'graphql-java-tools', version: '5.0.4'\n\nimplementation 'com.graphql-java:graphql-java-extended-scalars:19.2'\n</code></pre>\n<p>And here is my Controller code</p>\n<pre><code>import org.springframework.stereotype.Controller;\nimport org.springframework.graphql.data.method.annotation.QueryMapping; //IntelliJ cannot find this library\n\n@Controller\npublic class MyController  {\n\n    private final MyService myService;\n\n    public MyController(MyService myService) {\n        this.myService = myService;\n    }\n\n    @QueryMapping//IntelliJ cannot find this annotation\n    public MyDto getMyDto(final String id) {\n        return myService.getMyDto(id);\n    }\n\n}\n</code></pre>\n<p>Any help is welcome.</p>\n"},{"tags":["java","postgresql","install4j"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1665495960,"post_id":74029112,"comment_id":130710638,"body_markdown":"There is no license issue. You can do with PostgreSQL whatever you want.","body":"There is no license issue. You can do with PostgreSQL whatever you want."}],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665503241,"creation_date":1665503241,"answer_id":74030815,"question_id":74029112,"body_markdown":"You can add the Postgres installer to the distribution tree and execute the installer in unattended mode with a &quot;Run executable or batch file&quot; action.\r\n\r\nThe arguments to the Postgress installer should include\r\n\r\n    --mode unattended --unattendedmodeui none\r\n\r\nThese a 4 separate arguments for the &quot;Run executable or batch file&quot; action.","title":"Bundle PostgreSQL DB with Java application","body":"<p>You can add the Postgres installer to the distribution tree and execute the installer in unattended mode with a &quot;Run executable or batch file&quot; action.</p>\n<p>The arguments to the Postgress installer should include</p>\n<pre><code>--mode unattended --unattendedmodeui none\n</code></pre>\n<p>These a 4 separate arguments for the &quot;Run executable or batch file&quot; action.</p>\n"}],"owner":{"account_id":3076776,"reputation":1444,"user_id":2605902,"accept_rate":62,"display_name":"Stimpson Cat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665503241,"creation_date":1665495644,"question_id":74029112,"body_markdown":"I want to release a spring boot web application together with a Postgres database. For the installation at the customer, i want to use Install4J. \r\n\r\nAre there any best practices to install the two systems at once? Should i separate the two installers and let the customer install one system after the other?\r\n\r\nI want to keep it a simple as possible, as the customer is not a person with a strong technical background.\r\n\r\nWhat about licence issues? Do i have to provide the Postgres licence also in my application?","title":"Bundle PostgreSQL DB with Java application","body":"<p>I want to release a spring boot web application together with a Postgres database. For the installation at the customer, i want to use Install4J.</p>\n<p>Are there any best practices to install the two systems at once? Should i separate the two installers and let the customer install one system after the other?</p>\n<p>I want to keep it a simple as possible, as the customer is not a person with a strong technical background.</p>\n<p>What about licence issues? Do i have to provide the Postgres licence also in my application?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":6315376,"reputation":574,"user_id":4905563,"display_name":"Juan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552397273,"creation_date":1552397273,"answer_id":55122627,"question_id":54993850,"body_markdown":"I do not know what happened, but now it woks.\r\nI Have changed from java 11 to java 8, but i don&#39;t know if this is the reason.\r\n\r\nAnyway, now the above code seems to work properly.","title":"Extrange behaviour on expandNode TreeTableView JavaFx","body":"<p>I do not know what happened, but now it woks.\nI Have changed from java 11 to java 8, but i don't know if this is the reason.</p>\n\n<p>Anyway, now the above code seems to work properly.</p>\n"},{"tags":[],"owner":{"account_id":218623,"reputation":445,"user_id":475044,"accept_rate":67,"display_name":"wcmatthysen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574203499,"creation_date":1574202418,"answer_id":58943794,"question_id":54993850,"body_markdown":"Implementing a selection-model for a TreeTableView is a bit more complex compared to the TreeView example you worked from in the [question](https://stackoverflow.com/questions/31267157/treeview-certain-treeitems-are-not-allowed-to-be-selected) you referenced. You can take a look at at the question [here](https://stackoverflow.com/questions/58904792/javafx-treetableview-prevent-selection-of-certain-treeitems) where I implement a custom `FilteredTreeTableViewSelectionModel`.\r\n\r\nFor your particular example you just need to provide a custom `TreeItemSelectionFilter` that filters on instances of `Vivienda` as follows:\r\n\r\n    TreeItemSelectionFilter&lt;S&gt; treeItemFilter = treeItem -&gt; getValue() instanceof Vivienda;\r\n\r\nand the selection-filtering should work.","title":"Extrange behaviour on expandNode TreeTableView JavaFx","body":"<p>Implementing a selection-model for a TreeTableView is a bit more complex compared to the TreeView example you worked from in the <a href=\"https://stackoverflow.com/questions/31267157/treeview-certain-treeitems-are-not-allowed-to-be-selected\">question</a> you referenced. You can take a look at at the question <a href=\"https://stackoverflow.com/questions/58904792/javafx-treetableview-prevent-selection-of-certain-treeitems\">here</a> where I implement a custom <code>FilteredTreeTableViewSelectionModel</code>.</p>\n\n<p>For your particular example you just need to provide a custom <code>TreeItemSelectionFilter</code> that filters on instances of <code>Vivienda</code> as follows:</p>\n\n<pre><code>TreeItemSelectionFilter&lt;S&gt; treeItemFilter = treeItem -&gt; getValue() instanceof Vivienda;\n</code></pre>\n\n<p>and the selection-filtering should work.</p>\n"}],"owner":{"account_id":6315376,"reputation":574,"user_id":4905563,"display_name":"Juan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665503039,"creation_date":1551747052,"question_id":54993850,"body_markdown":"I have a TreeTableView which has 3 levels, and I just want to let users to select nodes of one type (Only first level). So I use this solution [TreeView - Certain TreeItems are not allowed to be selected][1] with some necessary changes to fit TreeTableView. \r\n\r\nIt works fine but when I select one node and expand above&#39;s node, selection moves to one prohibited selection node.\r\n\r\nCan anyone point me in the right direction?\r\n\r\n    public class ViviendaSelectionModel extends TreeTableViewSelectionModel&lt;Treeable&lt;?&gt;&gt; {\r\n\r\n        private final TreeTableViewSelectionModel&lt;Treeable&lt;?&gt;&gt; selectionModel;\r\n\r\n        public ViviendaSelectionModel(TreeTableViewSelectionModel&lt;Treeable&lt;?&gt;&gt; selectionModel, TreeTableView&lt;Treeable&lt;?&gt;&gt; tree) {\r\n        \tsuper(tree);\r\n            this.selectionModel = selectionModel ;\r\n            this.selectionModel.setSelectionMode(SelectionMode.MULTIPLE);\r\n            this.selectionModel.setCellSelectionEnabled(false);\r\n            selectionModeProperty().bindBidirectional(selectionModel.selectionModeProperty());\r\n        }\r\n\r\n\r\n\t\t@Override\r\n        public ObservableList&lt;Integer&gt; getSelectedIndices() {\r\n            return selectionModel.getSelectedIndices() ;\r\n        }\r\n\r\n        @Override\r\n        public ObservableList&lt;TreeItem&lt;Treeable&lt;?&gt;&gt;&gt; getSelectedItems() {\r\n            return selectionModel.getSelectedItems() ;\r\n        }\r\n\r\n        @Override\r\n        public void selectIndices(int index, int... indices)\r\n   \r\n                List&lt;Integer&gt; indicesToSelect = Stream.concat(Stream.of(index), IntStream.of(indices).boxed())\r\n                        .filter(i -&gt; getTreeTableView().getTreeItem(i).getValue() instanceof Vivienda)\r\n                        .collect(Collectors.toList());\r\n    \r\n    \r\n                if (indicesToSelect.isEmpty()) {\r\n                    return ;\r\n                }\r\n                selectionModel.selectIndices(indicesToSelect.get(0), \r\n                        indicesToSelect.stream().skip(1).mapToInt(Integer::intValue).toArray());\r\n\r\n        }\r\n\r\n        @Override\r\n        public void selectAll() {\r\n            \t\r\n                List&lt;Integer&gt; indicesToSelect = IntStream.range(0, getTreeTableView().getExpandedItemCount())\r\n                        .filter(i -&gt; getTreeTableView().getTreeItem(i).getValue() instanceof Vivienda)\r\n                        .boxed()\r\n                        .collect(Collectors.toList());\r\n                if (indicesToSelect.isEmpty()) {\r\n                    return ;\r\n                }\r\n                selectionModel.selectIndices(0, \r\n                        indicesToSelect.stream().skip(1).mapToInt(Integer::intValue).toArray());\r\n        }\r\n\r\n        @Override\r\n        public void selectFirst() {\r\n                IntStream.range(0, getTreeTableView().getExpandedItemCount())\r\n                    .filter(i -&gt; getTreeTableView().getTreeItem(i).getValue() instanceof Vivienda)\r\n                    .findFirst()\r\n                    .ifPresent(selectionModel::select);\r\n        }\r\n\r\n        @Override\r\n        public void selectLast() {\r\n            IntStream.iterate(getTreeTableView().getExpandedItemCount() - 1, i -&gt; i - 1)\r\n                    .limit(getTreeTableView().getExpandedItemCount())\r\n                    .filter(i -&gt; getTreeTableView().getTreeItem(i).getValue() instanceof Vivienda)\r\n                    .findFirst()\r\n                    .ifPresent(selectionModel::select);\r\n        }\r\n\r\n        @Override\r\n        public void clearAndSelect(int index) {\r\n                int toSelect = index ;\r\n                int direction = selectionModel.getSelectedIndex() &lt; index ? 1 : -1 ;\r\n                while (toSelect &gt;= 0 &amp;&amp; toSelect &lt; getTreeTableView().getExpandedItemCount() &amp;&amp; ! (getTreeTableView().getTreeItem(toSelect).getValue() instanceof Vivienda)) {\r\n                    toSelect = toSelect + direction  ;\r\n                }\r\n                if (toSelect &gt;= 0 &amp;&amp; toSelect &lt; getTreeTableView().getExpandedItemCount()) {\r\n                    selectionModel.clearAndSelect(toSelect);\r\n                }\r\n        }\r\n\r\n        @Override\r\n        public void select(int index) {\r\n                int toSelect = index ;\r\n                int direction = selectionModel.getSelectedIndex() &lt; index ? 1 : -1 ;\r\n                while (toSelect &gt;= 0 &amp;&amp; toSelect &lt; getTreeTableView().getExpandedItemCount() &amp;&amp; ! (getTreeTableView().getTreeItem(toSelect).getValue() instanceof Vivienda)) {\r\n                    toSelect = toSelect + direction  ;\r\n                }\r\n                if (toSelect &gt;= 0 &amp;&amp; toSelect &lt; getTreeTableView().getExpandedItemCount()) {\r\n                    selectionModel.select(toSelect);\r\n                }\r\n        }\r\n\r\n        @Override\r\n        public void select(TreeItem&lt;Treeable&lt;?&gt;&gt; obj) {;\r\n                if (obj.getValue() instanceof Vivienda) {\r\n                    selectionModel.select(obj);\r\n                }\r\n        }\r\n\r\n        @Override\r\n        public void clearSelection(int index) {\r\n            selectionModel.clearSelection(index);\r\n        }\r\n\r\n        @Override\r\n        public void clearSelection() {\r\n            selectionModel.clearSelection();\r\n        }\r\n\r\n        @Override\r\n        public boolean isSelected(int index) {\r\n            return selectionModel.isSelected(index);\r\n        }\r\n\r\n        @Override\r\n        public boolean isEmpty() {\r\n            return selectionModel.isEmpty();\r\n        }\r\n\r\n        @Override\r\n        public void selectPrevious() {\r\n                int current = selectionModel.getSelectedIndex() ;\r\n                if (current &gt; 0) {\r\n                    IntStream.iterate(current - 1, i -&gt; i - 1).limit(current)\r\n                        .filter(i -&gt; getTreeTableView().getTreeItem(i).getValue() instanceof Vivienda)\r\n                        .findFirst()\r\n                        .ifPresent(selectionModel::select);\r\n                }\r\n        }\r\n\r\n        @Override\r\n        public void selectNext() {\r\n        \tthis.selectNext();\r\n                int current = selectionModel.getSelectedIndex() ;\r\n                if (current &lt; getTreeTableView().getExpandedItemCount() - 1) {\r\n                    IntStream.range(current + 1, getTreeTableView().getExpandedItemCount())\r\n                        .filter(i -&gt; getTreeTableView().getTreeItem(i).getValue() instanceof Vivienda)\r\n                        .findFirst()\r\n                        .ifPresent(selectionModel::select);\r\n                }\r\n        }\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic ObservableList&lt;TreeTablePosition&lt;Treeable&lt;?&gt;, ?&gt;&gt; getSelectedCells() {\r\n\t\t\treturn this.selectionModel.getSelectedCells();\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic boolean isSelected(int row, TableColumnBase&lt;TreeItem&lt;Treeable&lt;?&gt;&gt;, ?&gt; column) {\r\n\t\t\t\treturn this.selectionModel.isSelected(row, column);\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void select(int row, TableColumnBase&lt;TreeItem&lt;Treeable&lt;?&gt;&gt;, ?&gt; column) {\r\n    \t\tif (getTreeTableView().getTreeItem(row).getValue() instanceof Vivienda) {\r\n    \t\t\t\tthis.selectionModel.select(row, column);\r\n    \t\t\t}\r\n    \t\tSystem.out.println(row + &quot; &quot; + column.getText() + &quot; &quot; + column.getCellData(row));\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void clearAndSelect(int row, TableColumnBase&lt;TreeItem&lt;Treeable&lt;?&gt;&gt;, ?&gt; column) {\r\n    \t\t\tif (getTreeTableView().getTreeItem(row).getValue() instanceof Vivienda) {\r\n    \t\t\t\tthis.selectionModel.clearAndSelect(row, column);\r\n    \t\t\t}else {\r\n    \t\t\t\tclearSelection();\r\n    \t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void clearSelection(int row, TableColumnBase&lt;TreeItem&lt;Treeable&lt;?&gt;&gt;, ?&gt; column) {\r\n\t\t\tthis.selectionModel.clearSelection(row, column);\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void selectLeftCell() {\r\n\t\t\tthis.selectionModel.selectLeftCell();\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void selectRightCell() {\r\n\t\t\tthis.selectionModel.selectRightCell();\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void selectAboveCell() {\r\n\t\t\tthis.selectionModel.selectAboveCell();\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void selectBelowCell() {\r\n\t\t\tthis.selectionModel.selectBelowCell();\r\n\t\t}\r\n\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/31267157/treeview-certain-treeitems-are-not-allowed-to-be-selected","title":"Extrange behaviour on expandNode TreeTableView JavaFx","body":"<p>I have a TreeTableView which has 3 levels, and I just want to let users to select nodes of one type (Only first level). So I use this solution <a href=\"https://stackoverflow.com/questions/31267157/treeview-certain-treeitems-are-not-allowed-to-be-selected\">TreeView - Certain TreeItems are not allowed to be selected</a> with some necessary changes to fit TreeTableView.</p>\n<p>It works fine but when I select one node and expand above's node, selection moves to one prohibited selection node.</p>\n<p>Can anyone point me in the right direction?</p>\n<pre><code>public class ViviendaSelectionModel extends TreeTableViewSelectionModel&lt;Treeable&lt;?&gt;&gt; {\n\n    private final TreeTableViewSelectionModel&lt;Treeable&lt;?&gt;&gt; selectionModel;\n\n    public ViviendaSelectionModel(TreeTableViewSelectionModel&lt;Treeable&lt;?&gt;&gt; selectionModel, TreeTableView&lt;Treeable&lt;?&gt;&gt; tree) {\n        super(tree);\n        this.selectionModel = selectionModel ;\n        this.selectionModel.setSelectionMode(SelectionMode.MULTIPLE);\n        this.selectionModel.setCellSelectionEnabled(false);\n        selectionModeProperty().bindBidirectional(selectionModel.selectionModeProperty());\n    }\n\n\n    @Override\n    public ObservableList&lt;Integer&gt; getSelectedIndices() {\n        return selectionModel.getSelectedIndices() ;\n    }\n\n    @Override\n    public ObservableList&lt;TreeItem&lt;Treeable&lt;?&gt;&gt;&gt; getSelectedItems() {\n        return selectionModel.getSelectedItems() ;\n    }\n\n    @Override\n    public void selectIndices(int index, int... indices)\n\n            List&lt;Integer&gt; indicesToSelect = Stream.concat(Stream.of(index), IntStream.of(indices).boxed())\n                    .filter(i -&gt; getTreeTableView().getTreeItem(i).getValue() instanceof Vivienda)\n                    .collect(Collectors.toList());\n\n\n            if (indicesToSelect.isEmpty()) {\n                return ;\n            }\n            selectionModel.selectIndices(indicesToSelect.get(0), \n                    indicesToSelect.stream().skip(1).mapToInt(Integer::intValue).toArray());\n\n    }\n\n    @Override\n    public void selectAll() {\n            \n            List&lt;Integer&gt; indicesToSelect = IntStream.range(0, getTreeTableView().getExpandedItemCount())\n                    .filter(i -&gt; getTreeTableView().getTreeItem(i).getValue() instanceof Vivienda)\n                    .boxed()\n                    .collect(Collectors.toList());\n            if (indicesToSelect.isEmpty()) {\n                return ;\n            }\n            selectionModel.selectIndices(0, \n                    indicesToSelect.stream().skip(1).mapToInt(Integer::intValue).toArray());\n    }\n\n    @Override\n    public void selectFirst() {\n            IntStream.range(0, getTreeTableView().getExpandedItemCount())\n                .filter(i -&gt; getTreeTableView().getTreeItem(i).getValue() instanceof Vivienda)\n                .findFirst()\n                .ifPresent(selectionModel::select);\n    }\n\n    @Override\n    public void selectLast() {\n        IntStream.iterate(getTreeTableView().getExpandedItemCount() - 1, i -&gt; i - 1)\n                .limit(getTreeTableView().getExpandedItemCount())\n                .filter(i -&gt; getTreeTableView().getTreeItem(i).getValue() instanceof Vivienda)\n                .findFirst()\n                .ifPresent(selectionModel::select);\n    }\n\n    @Override\n    public void clearAndSelect(int index) {\n            int toSelect = index ;\n            int direction = selectionModel.getSelectedIndex() &lt; index ? 1 : -1 ;\n            while (toSelect &gt;= 0 &amp;&amp; toSelect &lt; getTreeTableView().getExpandedItemCount() &amp;&amp; ! (getTreeTableView().getTreeItem(toSelect).getValue() instanceof Vivienda)) {\n                toSelect = toSelect + direction  ;\n            }\n            if (toSelect &gt;= 0 &amp;&amp; toSelect &lt; getTreeTableView().getExpandedItemCount()) {\n                selectionModel.clearAndSelect(toSelect);\n            }\n    }\n\n    @Override\n    public void select(int index) {\n            int toSelect = index ;\n            int direction = selectionModel.getSelectedIndex() &lt; index ? 1 : -1 ;\n            while (toSelect &gt;= 0 &amp;&amp; toSelect &lt; getTreeTableView().getExpandedItemCount() &amp;&amp; ! (getTreeTableView().getTreeItem(toSelect).getValue() instanceof Vivienda)) {\n                toSelect = toSelect + direction  ;\n            }\n            if (toSelect &gt;= 0 &amp;&amp; toSelect &lt; getTreeTableView().getExpandedItemCount()) {\n                selectionModel.select(toSelect);\n            }\n    }\n\n    @Override\n    public void select(TreeItem&lt;Treeable&lt;?&gt;&gt; obj) {;\n            if (obj.getValue() instanceof Vivienda) {\n                selectionModel.select(obj);\n            }\n    }\n\n    @Override\n    public void clearSelection(int index) {\n        selectionModel.clearSelection(index);\n    }\n\n    @Override\n    public void clearSelection() {\n        selectionModel.clearSelection();\n    }\n\n    @Override\n    public boolean isSelected(int index) {\n        return selectionModel.isSelected(index);\n    }\n\n    @Override\n    public boolean isEmpty() {\n        return selectionModel.isEmpty();\n    }\n\n    @Override\n    public void selectPrevious() {\n            int current = selectionModel.getSelectedIndex() ;\n            if (current &gt; 0) {\n                IntStream.iterate(current - 1, i -&gt; i - 1).limit(current)\n                    .filter(i -&gt; getTreeTableView().getTreeItem(i).getValue() instanceof Vivienda)\n                    .findFirst()\n                    .ifPresent(selectionModel::select);\n            }\n    }\n\n    @Override\n    public void selectNext() {\n        this.selectNext();\n            int current = selectionModel.getSelectedIndex() ;\n            if (current &lt; getTreeTableView().getExpandedItemCount() - 1) {\n                IntStream.range(current + 1, getTreeTableView().getExpandedItemCount())\n                    .filter(i -&gt; getTreeTableView().getTreeItem(i).getValue() instanceof Vivienda)\n                    .findFirst()\n                    .ifPresent(selectionModel::select);\n            }\n    }\n\n\n    @Override\n    public ObservableList&lt;TreeTablePosition&lt;Treeable&lt;?&gt;, ?&gt;&gt; getSelectedCells() {\n        return this.selectionModel.getSelectedCells();\n    }\n\n\n    @Override\n    public boolean isSelected(int row, TableColumnBase&lt;TreeItem&lt;Treeable&lt;?&gt;&gt;, ?&gt; column) {\n            return this.selectionModel.isSelected(row, column);\n    }\n\n\n    @Override\n    public void select(int row, TableColumnBase&lt;TreeItem&lt;Treeable&lt;?&gt;&gt;, ?&gt; column) {\n        if (getTreeTableView().getTreeItem(row).getValue() instanceof Vivienda) {\n                this.selectionModel.select(row, column);\n            }\n        System.out.println(row + &quot; &quot; + column.getText() + &quot; &quot; + column.getCellData(row));\n    }\n\n\n    @Override\n    public void clearAndSelect(int row, TableColumnBase&lt;TreeItem&lt;Treeable&lt;?&gt;&gt;, ?&gt; column) {\n            if (getTreeTableView().getTreeItem(row).getValue() instanceof Vivienda) {\n                this.selectionModel.clearAndSelect(row, column);\n            }else {\n                clearSelection();\n            }\n    }\n\n\n    @Override\n    public void clearSelection(int row, TableColumnBase&lt;TreeItem&lt;Treeable&lt;?&gt;&gt;, ?&gt; column) {\n        this.selectionModel.clearSelection(row, column);\n    }\n\n\n    @Override\n    public void selectLeftCell() {\n        this.selectionModel.selectLeftCell();\n        \n    }\n\n\n    @Override\n    public void selectRightCell() {\n        this.selectionModel.selectRightCell();\n    }\n\n\n    @Override\n    public void selectAboveCell() {\n        this.selectionModel.selectAboveCell();\n    }\n\n\n    @Override\n    public void selectBelowCell() {\n        this.selectionModel.selectBelowCell();\n    }\n\n}\n</code></pre>\n"},{"tags":["javascript","java","spring","spring-mvc"],"comments":[{"owner":{"account_id":11956426,"reputation":1961,"user_id":8748639,"display_name":"zolty13"},"score":1,"creation_date":1616360210,"post_id":66737412,"comment_id":117971378,"body_markdown":"Any error message?","body":"Any error message?"},{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":2,"creation_date":1616361705,"post_id":66737412,"comment_id":117971788,"body_markdown":"try this: `@JsonIgnoreProperties(ignoreUnknown=true)` and report what happens. The default setting is `false` if not explicitly declared.","body":"try this: <code>@JsonIgnoreProperties(ignoreUnknown=true)</code> and report what happens. The default setting is <code>false</code> if not explicitly declared."},{"owner":{"account_id":19829623,"reputation":79,"user_id":14524509,"display_name":"Steve Green"},"score":0,"creation_date":1616400345,"post_id":66737412,"comment_id":117979891,"body_markdown":"Many thanks @RandyCasburn - this as sorted it!  This is the answer!","body":"Many thanks @RandyCasburn - this as sorted it!  This is the answer!"},{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":1,"creation_date":1616419687,"post_id":66737412,"comment_id":117988425,"body_markdown":"Glad you got it sorted and happy to help!","body":"Glad you got it sorted and happy to help!"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1616370135,"creation_date":1616364022,"answer_id":66738019,"question_id":66737412,"body_markdown":"The error is that you convert your data to string before sending.\r\n\r\n      await $.ajax({\r\n                type: &#39;POST&#39;,\r\n                contentType: &#39;application/json; charset=utf-8&#39;,\r\n                url: &quot;saverefunds&quot;,\r\n                data: refunddetails,  &lt;---------pass the json object here\r\n                success: function (data) {\r\n\r\nAlso\r\n\r\n \r\n\r\n    public String saveRefunds(Model model, HttpSession session, AS400WriteRefundLine as400WriteRefundLine, @RequestBody CreateRefund refunddetails) throws ParseException, IOException {\r\n    ////\r\n\r\nWhat exactly is `AS400WriteRefundLine as400WriteRefundLine` and how will spring know what value to put there?","title":"Spring controller gives bad request 400","body":"<p>The error is that you convert your data to string before sending.</p>\n<pre><code>  await $.ajax({\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8',\n            url: &quot;saverefunds&quot;,\n            data: refunddetails,  &lt;---------pass the json object here\n            success: function (data) {\n</code></pre>\n<p>Also</p>\n<pre><code>public String saveRefunds(Model model, HttpSession session, AS400WriteRefundLine as400WriteRefundLine, @RequestBody CreateRefund refunddetails) throws ParseException, IOException {\n////\n</code></pre>\n<p>What exactly is <code>AS400WriteRefundLine as400WriteRefundLine</code> and how will spring know what value to put there?</p>\n"}],"owner":{"account_id":19829623,"reputation":79,"user_id":14524509,"display_name":"Steve Green"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":829,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1665502901,"creation_date":1616359958,"question_id":66737412,"body_markdown":"I often pass JSON to my spring controllers as part of the request body.  Not for the life of me, I cannot get this one to work? Give me 400 bad request.\r\n\r\nSpring controller:\r\n\r\n```\r\n  @RequestMapping(value = &quot;/saverefunds&quot;, method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public String saveRefunds(Model model, HttpSession session, AS400WriteRefundLine as400WriteRefundLine, @RequestBody CreateRefund refunddetails) throws ParseException, IOException {\r\n////\r\n}\r\n```\r\n\r\nJavascript code which makes a call to it:\r\n\r\n```\r\nlet refunddetails = {\r\n            blackbookno: refundedInvoiceNo,\r\n            RfExno: &quot;00&quot;,                                      \r\n            transactionType: &quot;R&quot;,\r\n            stockid: stockid,\r\n            sku: sku,\r\n            refundtype: refundtype,\r\n            refundreason: refundreason,\r\n            btsflag: btsflag,\r\n            uniqueid: uniqueid,\r\n            thisrefundamount: thisrefund,\r\n            firstrecord: firstRecord.toString(),                \r\n            nextRfEx:&quot;1&quot;,                                        \r\n            firstname: wFname,\r\n            surname: wLname,\r\n            address1: wAdd1,\r\n            address2: wAdd2,\r\n            town: wTown,\r\n            county: wCounty,\r\n            landline: wTelno,\r\n            mobile: wMobile,\r\n            email: wEmail\r\n        };\r\n\r\n        await $.ajax({\r\n            type: &#39;POST&#39;,\r\n            contentType: &#39;application/json; charset=utf-8&#39;,\r\n            url: &quot;saverefunds&quot;,\r\n            data: JSON.stringify(refunddetails),\r\n            success: function (data) {\r\n                alert(data);\r\n                if (data.substring(0, 2) != &quot;OK:&quot;) {\r\n                    // ERROR\r\n                    alert(&quot;postErr: &quot; + data);\r\n                } else {\r\n                    alert(&#39;Refund Generated&#39;);\r\n                }\r\n                return true;\r\n            },\r\n            error: function (error) {\r\n                alert(&#39;ERROR:&#39;+error.responseText);\r\n            }\r\n        });\r\n\r\n```\r\n\r\nThe CreateRefund object:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@JsonIgnoreProperties\r\npublic class CreateRefund {\r\n    private String blackbookno, RfExno, transactionType, stockid, sku, refundtype, refundreason, btsflag,\r\n            uniqueid, thisrefundamount, firstrecord, nextRfEx, firstname,\r\n            surname, address1, address2, town, county, landline, mobile, email;\r\n}\r\n```\r\n\r\nThe POJO matches the JSON being passed so not sure what else it could be?\r\n\r\nAnybody see anything obviously wrong?\r\n\r\nThe only way I can pass the data across is by using Map&lt;String,String&gt; in the spring controller as opposed to CreateRefund object...So I&#39;m assuming the json mapping isn&#39;t working?\r\n\r\nMany thanks\r\n\r\n\r\n","title":"Spring controller gives bad request 400","body":"<p>I often pass JSON to my spring controllers as part of the request body.  Not for the life of me, I cannot get this one to work? Give me 400 bad request.</p>\n<p>Spring controller:</p>\n<pre><code>  @RequestMapping(value = &quot;/saverefunds&quot;, method = RequestMethod.POST)\n    @ResponseBody\n    public String saveRefunds(Model model, HttpSession session, AS400WriteRefundLine as400WriteRefundLine, @RequestBody CreateRefund refunddetails) throws ParseException, IOException {\n////\n}\n</code></pre>\n<p>Javascript code which makes a call to it:</p>\n<pre><code>let refunddetails = {\n            blackbookno: refundedInvoiceNo,\n            RfExno: &quot;00&quot;,                                      \n            transactionType: &quot;R&quot;,\n            stockid: stockid,\n            sku: sku,\n            refundtype: refundtype,\n            refundreason: refundreason,\n            btsflag: btsflag,\n            uniqueid: uniqueid,\n            thisrefundamount: thisrefund,\n            firstrecord: firstRecord.toString(),                \n            nextRfEx:&quot;1&quot;,                                        \n            firstname: wFname,\n            surname: wLname,\n            address1: wAdd1,\n            address2: wAdd2,\n            town: wTown,\n            county: wCounty,\n            landline: wTelno,\n            mobile: wMobile,\n            email: wEmail\n        };\n\n        await $.ajax({\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8',\n            url: &quot;saverefunds&quot;,\n            data: JSON.stringify(refunddetails),\n            success: function (data) {\n                alert(data);\n                if (data.substring(0, 2) != &quot;OK:&quot;) {\n                    // ERROR\n                    alert(&quot;postErr: &quot; + data);\n                } else {\n                    alert('Refund Generated');\n                }\n                return true;\n            },\n            error: function (error) {\n                alert('ERROR:'+error.responseText);\n            }\n        });\n\n</code></pre>\n<p>The CreateRefund object:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonIgnoreProperties\npublic class CreateRefund {\n    private String blackbookno, RfExno, transactionType, stockid, sku, refundtype, refundreason, btsflag,\n            uniqueid, thisrefundamount, firstrecord, nextRfEx, firstname,\n            surname, address1, address2, town, county, landline, mobile, email;\n}\n</code></pre>\n<p>The POJO matches the JSON being passed so not sure what else it could be?</p>\n<p>Anybody see anything obviously wrong?</p>\n<p>The only way I can pass the data across is by using Map&lt;String,String&gt; in the spring controller as opposed to CreateRefund object...So I'm assuming the json mapping isn't working?</p>\n<p>Many thanks</p>\n"},{"tags":["java","eclipse","jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1661877424,"post_id":73543762,"comment_id":129874321,"body_markdown":"The error means you do not have a valid JPA implementation jar (eclipseLink) on the class path that registers with the javax.persistence.Persistence class as a JPA provider. This is likely due to the version used - EclipseLink 3.0 switched and is a jakarta.persistence JPA provider. Try an 2.x EclipseLink version instead, or switch to using jakarta persistence (properties and classes) in your project.","body":"The error means you do not have a valid JPA implementation jar (eclipseLink) on the class path that registers with the javax.persistence.Persistence class as a JPA provider. This is likely due to the version used - EclipseLink 3.0 switched and is a jakarta.persistence JPA provider. Try an 2.x EclipseLink version instead, or switch to using jakarta persistence (properties and classes) in your project."}],"answers":[{"tags":[],"owner":{"account_id":4124107,"reputation":542,"user_id":3383715,"display_name":"Vladimir Monsanto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665502612,"creation_date":1665502612,"answer_id":74030654,"question_id":73543762,"body_markdown":"Add this tag below of persistence unit\r\n\r\n    \r\n\r\n&gt; `&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;`","title":"No persistence provider for EntityManager named (EclipseLink)","body":"<p>Add this tag below of persistence unit</p>\n<blockquote>\n<p><code>&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;</code></p>\n</blockquote>\n"}],"owner":{"account_id":21048492,"reputation":1,"user_id":19878964,"display_name":"Drazian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665502612,"creation_date":1661868105,"question_id":73543762,"body_markdown":"I clarify that this is a school project.\r\n\r\nI have to do a CRUD in Java using JPA (EclipseLink).\r\n\r\nFor this in Eclipse 2019-12 I made a &quot;JPA project&quot; with EclipseLink 3.0.3 and openJDK11. Additionally, I also added javax-persistence 2.2.1 and mysql connector 5.0.0 as libraries.\r\n\r\nAfter this I configured the connection to the MySQL database and used the option to generate the java classes based on the MySQL tables.\r\n\r\nThe inconvenience comes when trying to create the EntityManagerFactory because it does not give me the provider as valid.\r\n\r\nThe mistake is:\r\n\r\n    aug. 30, 2022 10:29:39 AM\r\n    WARNING: javax.persistence.spi::No valid providers found.\r\n    Exception in thread &quot;main&quot; javax.persistence.PersistenceException: No persistence provider for EntityManager named testJPA\r\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:86)\r\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n    in testJPA.main.main(main.java:12)\r\n\r\nMy main is:\r\n``` java\r\n    package testJPA;\r\n        \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Persistence;\r\n        \r\n    public class main{\r\n        \r\n    public static void main(String[] args) {\r\n        \r\n        EntityManagerFactory emfactory = Persistence.createEntityManagerFactory(&quot;testJPA&quot;);\r\n    }\r\n```\r\n\r\n}\r\n\r\nMy persistence.xml is:\r\n``` xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi: schemaLocation =&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\r\n    &lt;persistence unit name=&quot;testJPA&quot; transaction type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    &lt;properties&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://SERVER:3306/gabrieln_laboratory&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;USER&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;PASSWORD&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n    &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n```\r\n\r\nI verified that generically Eclipse added the project in src/main/java (with the META-INF folder and its persistence.xml).\r\n\r\nI&#39;ve been trying alternatives and reading various forums, but at this point I&#39;m stuck and I don&#39;t know if it may be a problem with the libraries or if it&#39;s an Eclipse specific configuration.\r\n\r\nThanks in advance.","title":"No persistence provider for EntityManager named (EclipseLink)","body":"<p>I clarify that this is a school project.</p>\n<p>I have to do a CRUD in Java using JPA (EclipseLink).</p>\n<p>For this in Eclipse 2019-12 I made a &quot;JPA project&quot; with EclipseLink 3.0.3 and openJDK11. Additionally, I also added javax-persistence 2.2.1 and mysql connector 5.0.0 as libraries.</p>\n<p>After this I configured the connection to the MySQL database and used the option to generate the java classes based on the MySQL tables.</p>\n<p>The inconvenience comes when trying to create the EntityManagerFactory because it does not give me the provider as valid.</p>\n<p>The mistake is:</p>\n<pre><code>aug. 30, 2022 10:29:39 AM\nWARNING: javax.persistence.spi::No valid providers found.\nException in thread &quot;main&quot; javax.persistence.PersistenceException: No persistence provider for EntityManager named testJPA\nat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:86)\nat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\nin testJPA.main.main(main.java:12)\n</code></pre>\n<p>My main is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package testJPA;\n        \n    import javax.persistence.EntityManager;\n    import javax.persistence.EntityManagerFactory;\n    import javax.persistence.Persistence;\n        \n    public class main{\n        \n    public static void main(String[] args) {\n        \n        EntityManagerFactory emfactory = Persistence.createEntityManagerFactory(&quot;testJPA&quot;);\n    }\n</code></pre>\n<p>}</p>\n<p>My persistence.xml is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi: schemaLocation =&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\n    &lt;persistence unit name=&quot;testJPA&quot; transaction type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;properties&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://SERVER:3306/gabrieln_laboratory&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;USER&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;PASSWORD&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\n    &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n    &lt;/persistence&gt;\n</code></pre>\n<p>I verified that generically Eclipse added the project in src/main/java (with the META-INF folder and its persistence.xml).</p>\n<p>I've been trying alternatives and reading various forums, but at this point I'm stuck and I don't know if it may be a problem with the libraries or if it's an Eclipse specific configuration.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","file","upload","inputstream","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1665501372,"post_id":74029781,"comment_id":130712871,"body_markdown":"Pass the filename to Apache Tika along with the input stream - https://tika.apache.org/2.5.0/api/org/apache/tika/Tika.html#detect(java.io.InputStream,java.lang.String) - the filename is used as a hint too","body":"Pass the filename to Apache Tika along with the input stream - <a href=\"https://tika.apache.org/2.5.0/api/org/apache/tika/Tika.html#detect(java.io.InputStream,java.lang.String)\" rel=\"nofollow noreferrer\">tika.apache.org/2.5.0/api/org/apache/tika/&hellip;</a> - the filename is used as a hint too"},{"owner":{"account_id":26382907,"reputation":23,"user_id":20035873,"display_name":"Einstein"},"score":0,"creation_date":1665502122,"post_id":74029781,"comment_id":130713156,"body_markdown":"@Gagravarr Thanks, but it does not make any sense. See my updated code","body":"@Gagravarr Thanks, but it does not make any sense. See my updated code"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1665502329,"post_id":74029781,"comment_id":130713208,"body_markdown":"Very similar code works fine for me, and very similar code in the Tika unit test suite passes without error. Can you write a standalone junit unit test case which demonstrates your problem?","body":"Very similar code works fine for me, and very similar code in the Tika unit test suite passes without error. Can you write a standalone junit unit test case which demonstrates your problem?"},{"owner":{"account_id":26382907,"reputation":23,"user_id":20035873,"display_name":"Einstein"},"score":0,"creation_date":1665503025,"post_id":74029781,"comment_id":130713456,"body_markdown":"Can you post your code and then I check it before Unit Test: Thanks in advance...","body":"Can you post your code and then I check it before Unit Test: Thanks in advance..."},{"owner":{"account_id":26382907,"reputation":23,"user_id":20035873,"display_name":"Einstein"},"score":0,"creation_date":1665503410,"post_id":74029781,"comment_id":130713625,"body_markdown":"`fileName` is just a parameter of method and I am not sure if you refer to the file on a disk location. So, is it possible to detect the file type without writing to disk? Any example please?","body":"<code>fileName</code> is just a parameter of method and I am not sure if you refer to the file on a disk location. So, is it possible to detect the file type without writing to disk? Any example please?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1665508984,"post_id":74029781,"comment_id":130715527,"body_markdown":"Once again - https://tika.apache.org/2.5.0/api/org/apache/tika/Tika.html#detect(java.io.InputStream,java.lang.String) - that takes an `InputStream` with the contents in it, and the name of the file it came from. No actual file required","body":"Once again - <a href=\"https://tika.apache.org/2.5.0/api/org/apache/tika/Tika.html#detect(java.io.InputStream,java.lang.String)\" rel=\"nofollow noreferrer\">tika.apache.org/2.5.0/api/org/apache/tika/&hellip;</a> - that takes an <code>InputStream</code> with the contents in it, and the name of the file it came from. No actual file required"},{"owner":{"account_id":26382907,"reputation":23,"user_id":20035873,"display_name":"Einstein"},"score":0,"creation_date":1665516866,"post_id":74029781,"comment_id":130718048,"body_markdown":"I had already tried it, but `tika.detect(file.getInputStream(), file.getName());` returns `application/octet-stream`","body":"I had already tried it, but <code>tika.detect(file.getInputStream(), file.getName());</code> returns <code>application&#47;octet-stream</code>"}],"owner":{"account_id":26382907,"reputation":23,"user_id":20035873,"display_name":"Einstein"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665502153,"creation_date":1665498426,"question_id":74029781,"body_markdown":"I can detect the file type (audio/x-aac) of an aac file using [Apache Tika](http://tika.apache.org) as shown below:\r\n\r\n```\r\nFile file = new File(&quot;/path/to/file&quot;);\r\nTika tika = new Tika();\r\nSystem.out.println(tika.detect(file));\r\n```\r\n\r\nBut, when I try to detect the file type of an InputStream, the file type of the same file (aac file) is detected as application/octet-stream. \r\n\r\nI can convert the inputStream to file, but I do not want to write the file to the disk in order to detect file type. So, how can I detect the file type properly using this approach without writing the file to the disk? \r\n\r\nHere is the Controller method that I get file as MultipartFile:\r\n\r\n```\r\n@PostMapping(&quot;/upload&quot;)\r\npublic void uploadDocument(\r\n    @RequestParam(&quot;file&quot;) MultipartFile file,\r\n    @RequestParam(value = &quot;fileName&quot;) String fileName {\r\n\r\n    Tika tika = new Tika();\r\n    String type = tika.detect(file.getInputStream(), fileName); // -&gt; returns &quot;application/octet-stream&quot;\r\n\r\n    // code omitted \r\n}\r\n```\r\n\r\n","title":"Apache Tika cannot detect file type of input stream while it can file","body":"<p>I can detect the file type (audio/x-aac) of an aac file using <a href=\"http://tika.apache.org\" rel=\"nofollow noreferrer\">Apache Tika</a> as shown below:</p>\n<pre><code>File file = new File(&quot;/path/to/file&quot;);\nTika tika = new Tika();\nSystem.out.println(tika.detect(file));\n</code></pre>\n<p>But, when I try to detect the file type of an InputStream, the file type of the same file (aac file) is detected as application/octet-stream.</p>\n<p>I can convert the inputStream to file, but I do not want to write the file to the disk in order to detect file type. So, how can I detect the file type properly using this approach without writing the file to the disk?</p>\n<p>Here is the Controller method that I get file as MultipartFile:</p>\n<pre><code>@PostMapping(&quot;/upload&quot;)\npublic void uploadDocument(\n    @RequestParam(&quot;file&quot;) MultipartFile file,\n    @RequestParam(value = &quot;fileName&quot;) String fileName {\n\n    Tika tika = new Tika();\n    String type = tika.detect(file.getInputStream(), fileName); // -&gt; returns &quot;application/octet-stream&quot;\n\n    // code omitted \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":7,"creation_date":1665499924,"post_id":74030104,"comment_id":130712411,"body_markdown":"Fix the indentation of your source code, so you can see where which block starts and ends.","body":"Fix the indentation of your source code, so you can see where which block starts and ends."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1665500061,"post_id":74030104,"comment_id":130712475,"body_markdown":"It _seems_ (if the indentation doesn&#39;t fool me) that you have a sequence of `if() {... } else { ...} else { ... }` which isn&#39;t legal code. Did you maybe mean `if() { ...} else if() {...} else {...}`?","body":"It <i>seems</i> (if the indentation doesn&#39;t fool me) that you have a sequence of <code>if() {... } else { ...} else { ... }</code> which isn&#39;t legal code. Did you maybe mean <code>if() { ...} else if() {...} else {...}</code>?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1665500152,"post_id":74030104,"comment_id":130712524,"body_markdown":"And this `if(plusMinus&lt;0) {` no code in the block at all, it&#39;s just empty braces.  You might want to fix the indentation (some people can read code without proper indentation but it&#39;s certainly more difficult) and then check the code logic carefully, you seem to have missed a few things.","body":"And this <code>if(plusMinus&lt;0) {</code> no code in the block at all, it&#39;s just empty braces.  You might want to fix the indentation (some people can read code without proper indentation but it&#39;s certainly more difficult) and then check the code logic carefully, you seem to have missed a few things."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1665500564,"post_id":74030104,"comment_id":130712654,"body_markdown":"And this `for(int baseNum=3;baseNum&lt;=27;baseNum+=2) { if(plusMinus&lt;0) {` again is just an empty block after the `if`, I don&#39;t think you&#39;ve attempted to solve this problem the way your instructor wants you to.  Maybe just concentrate on the parts you are having trouble with instead of adding that extraneous block of if-else statements.","body":"And this <code>for(int baseNum=3;baseNum&lt;=27;baseNum+=2) { if(plusMinus&lt;0) {</code> again is just an empty block after the <code>if</code>, I don&#39;t think you&#39;ve attempted to solve this problem the way your instructor wants you to.  Maybe just concentrate on the parts you are having trouble with instead of adding that extraneous block of if-else statements."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1665501031,"post_id":74030104,"comment_id":130712761,"body_markdown":"The solution to this is _definitely_ to indent your code correctly until you notice mismatched braces.  @Progman isn&#39;t just saying this to make it easier for us, it&#39;s to solve your problem.","body":"The solution to this is <i>definitely</i> to indent your code correctly until you notice mismatched braces.  @Progman isn&#39;t just saying this to make it easier for us, it&#39;s to solve your problem."}],"owner":{"account_id":26381221,"reputation":1,"user_id":20034441,"display_name":"Samson "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665502073,"creation_date":1665499812,"question_id":74030104,"body_markdown":"sin⁡(x)=x-x^3/3!+x^5/5!-x^7/7!+x^9/9!-x^11/11!…+x^25/25!-x^27/27!,-3.1416&lt;x&lt;3.1416\r\n\r\nI need to display the following:\r\n\r\n    Enter x (in radians): 2\r\n    Term 1 = 2.0\r\n    Term 2 = -1.3333333333333333\r\n    Term 3 = 0.26666666666666666\r\n    Term 4 = -0.025396825396825393\r\n    Term 5 = 0.0014109347442680773\r\n    Term 6 = -5.130671797338463E-5\r\n    Term 7 = 1.3155568711124264E-6\r\n    Term 8 = -2.5058226116427168E-8\r\n    Term 9 = 3.6850332524157597E-10\r\n    Term 10 = -4.309980412182175E-12\r\n    Term 11 = 4.1047432496973094E-14\r\n    Term 12 = -3.2448563238713907E-16\r\n    Term 13 = 2.163237549247594E-18\r\n    Term 14 = -1.2326139881752673E-20\r\n    Sin(2.0)=0.9092974268256817\r\n\r\n\r\nMy code:\r\n\r\n \r\n\r\n       import java.util.Scanner;\r\n     public class SinX {\r\n        public static void main(String[] args) {\r\n           Scanner input = new Scanner(System.in);\r\n            double ans,Term1;\r\n            System.out.print(&quot;Enter x (in radians):&quot;); \r\n            double inputvalue= input.nextDouble();\r\n            ans=inputvalue;       \r\n            if ( (ans&lt;-3.1416)||(ans&gt;3.1416) ) {\r\n             System.out.println(&quot;Value invalid!&quot;);\r\n            } else {\r\n                 System.out.println(&quot;Term1=&quot;+ ans);\r\n                 int plusMinus=1;\r\n                 int printedTerm=2;\r\n                 double factorial =0;\r\n                 \r\n                 for(int oraginalNum=3;oraginalNum&lt;=27;oraginalNum +=2){\r\n                    if(plusMinus &lt;0 ) {\r\n                    for (double factorialcount=1; factorialcount &lt;= oraginalNum ; factorialcount++)\r\n                    {\r\n                \r\n                factorial*=factorialcount;\r\n                 }\r\n                ans=ans-( (Math.pow(ans,oraginalNum) )\r\n                /( factorial) );\r\n                 System.out.println (&quot;Term &quot;+printedTerm+&quot;=&quot;+ ans);\r\n                 printedTerm ++;\r\n                 plusMinus +=2;\r\n            }else{\r\n                for (double factorialcount=1; factorialcount &lt;= oraginalNum ; factorialcount++)\r\n                {\r\n                factorial*=factorialcount;\r\n                }\r\n                ans= ans+ ( (Math.pow(ans,oraginalNum) )\r\n                /( factorial) );\r\n                System.out.println (&quot;Term &quot;+printedTerm+&quot;=&quot;+ ans);\r\n                printedTerm ++;\r\n                plusMinus -=2;\r\n            }\r\n        } \r\n          System.out.println(&quot;sin(&quot;+inputvalue+&quot;)&quot;+&quot;=&quot;+ans);\r\n    \r\n    }\r\n      }      \r\n    } \r\n\r\nI try to test ,but the output  cannot display.\r\n I do not know how to fix. Can you tell me how to change my code?\r\n\r\n\r\n \r\n\r\n\r\n[enter image description here][1]\r\n              \r\n\r\nI hope I can display the output.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7nDyh.png","title":"Approximate sin x by a sum of series in java","body":"<p>sin⁡(x)=x-x^3/3!+x^5/5!-x^7/7!+x^9/9!-x^11/11!…+x^25/25!-x^27/27!,-3.1416&lt;x&lt;3.1416</p>\n<p>I need to display the following:</p>\n<pre><code>Enter x (in radians): 2\nTerm 1 = 2.0\nTerm 2 = -1.3333333333333333\nTerm 3 = 0.26666666666666666\nTerm 4 = -0.025396825396825393\nTerm 5 = 0.0014109347442680773\nTerm 6 = -5.130671797338463E-5\nTerm 7 = 1.3155568711124264E-6\nTerm 8 = -2.5058226116427168E-8\nTerm 9 = 3.6850332524157597E-10\nTerm 10 = -4.309980412182175E-12\nTerm 11 = 4.1047432496973094E-14\nTerm 12 = -3.2448563238713907E-16\nTerm 13 = 2.163237549247594E-18\nTerm 14 = -1.2326139881752673E-20\nSin(2.0)=0.9092974268256817\n</code></pre>\n<p>My code:</p>\n<pre><code>   import java.util.Scanner;\n public class SinX {\n    public static void main(String[] args) {\n       Scanner input = new Scanner(System.in);\n        double ans,Term1;\n        System.out.print(&quot;Enter x (in radians):&quot;); \n        double inputvalue= input.nextDouble();\n        ans=inputvalue;       \n        if ( (ans&lt;-3.1416)||(ans&gt;3.1416) ) {\n         System.out.println(&quot;Value invalid!&quot;);\n        } else {\n             System.out.println(&quot;Term1=&quot;+ ans);\n             int plusMinus=1;\n             int printedTerm=2;\n             double factorial =0;\n             \n             for(int oraginalNum=3;oraginalNum&lt;=27;oraginalNum +=2){\n                if(plusMinus &lt;0 ) {\n                for (double factorialcount=1; factorialcount &lt;= oraginalNum ; factorialcount++)\n                {\n            \n            factorial*=factorialcount;\n             }\n            ans=ans-( (Math.pow(ans,oraginalNum) )\n            /( factorial) );\n             System.out.println (&quot;Term &quot;+printedTerm+&quot;=&quot;+ ans);\n             printedTerm ++;\n             plusMinus +=2;\n        }else{\n            for (double factorialcount=1; factorialcount &lt;= oraginalNum ; factorialcount++)\n            {\n            factorial*=factorialcount;\n            }\n            ans= ans+ ( (Math.pow(ans,oraginalNum) )\n            /( factorial) );\n            System.out.println (&quot;Term &quot;+printedTerm+&quot;=&quot;+ ans);\n            printedTerm ++;\n            plusMinus -=2;\n        }\n    } \n      System.out.println(&quot;sin(&quot;+inputvalue+&quot;)&quot;+&quot;=&quot;+ans);\n\n}\n  }      \n} \n</code></pre>\n<p>I try to test ,but the output  cannot display.\nI do not know how to fix. Can you tell me how to change my code?</p>\n<p><a href=\"https://i.stack.imgur.com/7nDyh.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I hope I can display the output.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":39930,"reputation":25721,"user_id":115432,"display_name":"Kathy Van Stone"},"score":0,"creation_date":1308266369,"post_id":6379665,"comment_id":7473536,"body_markdown":"How many arguments do you really have for that function?  That itself can be an issue.","body":"How many arguments do you really have for that function?  That itself can be an issue."}],"answers":[{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1308266484,"creation_date":1308266165,"answer_id":6379707,"question_id":6379665,"body_markdown":"Use varags\r\n\r\n       public static boolean atLeastOneEmpty(String firstString, String... strings){\r\n          if(firstString == null || firstString.isEmpty())\r\n             return true;\r\n\r\n          for(String str : strings){\r\n             if(str == null || str.isEmpty())\r\n                return true;\r\n          }\r\n          return false;\r\n        \r\n        }\r\n\r\nReturns true if at least one string is empty\r\n","title":"Best/MostEfficient way to check if at least one input is entered by user","body":"<p>Use varags</p>\n\n<pre><code>   public static boolean atLeastOneEmpty(String firstString, String... strings){\n      if(firstString == null || firstString.isEmpty())\n         return true;\n\n      for(String str : strings){\n         if(str == null || str.isEmpty())\n            return true;\n      }\n      return false;\n\n    }\n</code></pre>\n\n<p>Returns true if at least one string is empty</p>\n"},{"tags":[],"owner":{"account_id":1446073,"reputation":1983,"user_id":1364499,"accept_rate":88,"display_name":"josivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665501916,"creation_date":1665501916,"answer_id":74030523,"question_id":6379665,"body_markdown":"It is a bit late, but from [Apache Commons Lange 3.11](https://commons.apache.org/proper/commons-lang/) you can use the method [`ObjectUtils.anyNotNull()`](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ObjectUtils.html#anyNotNull-java.lang.Object...-).","title":"Best/MostEfficient way to check if at least one input is entered by user","body":"<p>It is a bit late, but from <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache Commons Lange 3.11</a> you can use the method <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ObjectUtils.html#anyNotNull-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>ObjectUtils.anyNotNull()</code></a>.</p>\n"}],"owner":{"account_id":349575,"reputation":3510,"user_id":684948,"accept_rate":78,"display_name":"thunderousNinja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6379707,"answer_count":2,"score":1,"last_activity_date":1665501916,"creation_date":1308265917,"question_id":6379665,"body_markdown":"I am trying to take in multiple parameters from a function and im am checking if at least one of the parameters are not null or empty.\r\n\r\nright now i am doing something like this.\r\n\r\n    void foo(String a, String b, String c, String d, ... other strings){\r\n    \r\n    //make sure at least one of the inputs are not null.\r\n    if(a!=null || b!=null || c!=null || d!=null ... more strings){\r\n      //do something with the string\r\n    }\r\n    \r\n    }\r\n\r\nso an input can be `foo(null, null, null, &quot;hey&quot;);`\r\nbut it cannot be `foo(null, null, null, null);`\r\n\r\nWhat my question is is there a better way to do this, rather than keep adding to the if statement.  Im blanking out right now.... Thanks\r\n","title":"Best/MostEfficient way to check if at least one input is entered by user","body":"<p>I am trying to take in multiple parameters from a function and im am checking if at least one of the parameters are not null or empty.</p>\n\n<p>right now i am doing something like this.</p>\n\n<pre><code>void foo(String a, String b, String c, String d, ... other strings){\n\n//make sure at least one of the inputs are not null.\nif(a!=null || b!=null || c!=null || d!=null ... more strings){\n  //do something with the string\n}\n\n}\n</code></pre>\n\n<p>so an input can be <code>foo(null, null, null, \"hey\");</code>\nbut it cannot be <code>foo(null, null, null, null);</code></p>\n\n<p>What my question is is there a better way to do this, rather than keep adding to the if statement.  Im blanking out right now.... Thanks</p>\n"},{"tags":["java","java.nio.file"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1556470797,"post_id":55892386,"comment_id":98441835,"body_markdown":"You mean that within the same JVM you have no control over who is using which Zip file?","body":"You mean that within the same JVM you have no control over who is using which Zip file?"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1556568298,"post_id":55892386,"comment_id":98475421,"body_markdown":"Yes, even though it is unlikely, but I want to protect against the case where for example a third-party library I am using might create a file system for the same resource.","body":"Yes, even though it is unlikely, but I want to protect against the case where for example a third-party library I am using might create a file system for the same resource."}],"answers":[{"tags":[],"owner":{"account_id":20443141,"reputation":1,"user_id":14999543,"display_name":"Zachary Wood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645114903,"creation_date":1645113347,"answer_id":71161364,"question_id":55892386,"body_markdown":"Try putting a try/catch block around the code that is causing the exception.","title":"How to handle FileSystemAlreadyExistsException?","body":"<p>Try putting a try/catch block around the code that is causing the exception.</p>\n"},{"tags":[],"owner":{"account_id":21421052,"reputation":51,"user_id":15779318,"display_name":"Boulder_on"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665501582,"creation_date":1665501582,"answer_id":74030446,"question_id":55892386,"body_markdown":"Sorry for being late here, but I just ran into this myself. There are several versions of the FileSystems.newFileSystem() call, some versions throw FileSystemAlreadyExistsException, some do not. I found that using the version that accepts a Path object did not throw the exception and allowed me to work around the issue I was having. \r\n","title":"How to handle FileSystemAlreadyExistsException?","body":"<p>Sorry for being late here, but I just ran into this myself. There are several versions of the FileSystems.newFileSystem() call, some versions throw FileSystemAlreadyExistsException, some do not. I found that using the version that accepts a Path object did not throw the exception and allowed me to work around the issue I was having.</p>\n"}],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2908,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1665501582,"creation_date":1556469433,"question_id":55892386,"body_markdown":"How should you handle a `FileSystemAlreadyExistsException` when calling [FileSystems.newFileSystem](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/FileSystems.html#newFileSystem(java.net.URI,java.util.Map))?\r\n\r\nOne way would be to use the already created FileSystem (`getFileSystem​`), but then you could run into problems when the original creator closes it while you are still using it.\r\n\r\nIn case there is no generic answer to this question, then what about `ZipFileSystem`s? Let&#39;s say I want to create one for a zip file and I do not know and cannot control whether a FileSystem already exists for this specific zip file.\r\n\r\nIs there a reliable way to handle a `FileSystemAlreadyExistsException`?","title":"How to handle FileSystemAlreadyExistsException?","body":"<p>How should you handle a <code>FileSystemAlreadyExistsException</code> when calling <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/FileSystems.html#newFileSystem(java.net.URI,java.util.Map)\" rel=\"noreferrer\">FileSystems.newFileSystem</a>?</p>\n\n<p>One way would be to use the already created FileSystem (<code>getFileSystem​</code>), but then you could run into problems when the original creator closes it while you are still using it.</p>\n\n<p>In case there is no generic answer to this question, then what about <code>ZipFileSystem</code>s? Let's say I want to create one for a zip file and I do not know and cannot control whether a FileSystem already exists for this specific zip file.</p>\n\n<p>Is there a reliable way to handle a <code>FileSystemAlreadyExistsException</code>?</p>\n"},{"tags":["java","android","kotlin","bluetooth","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1665490331,"post_id":74024727,"comment_id":130708154,"body_markdown":"most likely it is the same advertisement ;-) I think it is a good idea to first learn how [Bluetooth LE advertising](https://www.argenox.com/library/bluetooth-low-energy/ble-advertising-primer/) and [Android](https://developer.android.com/reference/android/bluetooth/le/BluetoothLeScanner) work in this case.","body":"most likely it is the same advertisement ;-) I think it is a good idea to first learn how <a href=\"https://www.argenox.com/library/bluetooth-low-energy/ble-advertising-primer/\" rel=\"nofollow noreferrer\">Bluetooth LE advertising</a> and <a href=\"https://developer.android.com/reference/android/bluetooth/le/BluetoothLeScanner\" rel=\"nofollow noreferrer\">Android</a> work in this case."},{"owner":{"account_id":26576867,"reputation":100,"user_id":20202080,"display_name":"Master4You"},"score":0,"creation_date":1665492118,"post_id":74024727,"comment_id":130708876,"body_markdown":"No it is not the same advertisement","body":"No it is not the same advertisement"},{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1665493948,"post_id":74024727,"comment_id":130709712,"body_markdown":"Where do you get the certainty that this is not the same advertisement?","body":"Where do you get the certainty that this is not the same advertisement?"}],"answers":[{"tags":[],"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665501458,"creation_date":1665501458,"answer_id":74030421,"question_id":74024727,"body_markdown":"To show the problem and the solution I have commented out all source code that is not necessary for the calculation of the time interval between two consecutive advertisement.\r\n\r\n``` lang-java\r\n override fun onScanResult(callbackType: Int, result: ScanResult) {\r\n               val timeStampFirst = result.timestampNanos\r\n                // val tag = deviceMap.computeIfAbsent(result.device.address) {\r\n                //    val newTag = BleTag(result.device.name ?: &quot;Unbekannt&quot;, result.device.address, result.rssi , result.scanRecord?.bytes, result.timestampNanos,&quot;0 Sek.&quot;)\r\n                //    deviceList.add(newTag)\r\n                //    newTag\r\n                // }\r\n                // tag.name = result.device.name ?: &quot;Unbekannt&quot;\r\n                // tag.rssi = result.rssi\r\n                // tag.advertisementData = result.scanRecord?.bytes\r\n                // tag.timeStampFirst = result.timestampNanos\r\n    \r\n                // deviceList.forEach {\r\n                //     if(it.mac == result.device.address){\r\n                       val timeStampSecond = result.timestampNanos\r\n                // will always be ZERO\r\n               val advertisementMillis = timeStampSecond - timeStampFirst\r\n                       Log.e(&quot;Advertisement ms&quot;, advertisementMillis)\r\n                //     }\r\n                // }\r\n    \r\n    \r\n                // Log.e(resultTime.toString(),&quot;&quot;)\r\n    \r\n                // deviceList.sortBy {\r\n                //     result.rssi\r\n                // }\r\n    \r\n                // recyclerView.adapter?.notifyDataSetChanged()\r\n                //menu.findItem(R.id.count).title = &quot;Ger&#228;te: &quot; + deviceList.size\r\n    \r\n                // super.onScanResult(callbackType, result)\r\n            }\r\n```\r\nAs you use for both timestamps the value of the current advertisement the result will always be 0.\r\n\r\nBut the object from the deviceList does not help either, because it already contains the data from the current advertisement.\r\n\r\nIn pseudo code you would have to do the following to find the interval between two consecutive advertisement:\r\n\r\n```\r\nonNewAdvertismentReceived\r\n    If Broadcaster seen before\r\n        Retrieve timestamp from the advertisment beforehand\r\n        Calculate the interval from both timestamps(old,new)\r\n    Else\r\n        First time Broadcaster seen\r\n        Not possible to calculate interval\r\n    Fi\r\n```\r\n","title":"Bluetooth LE - ScanResult returns the same timestamp for the same device","body":"<p>To show the problem and the solution I have commented out all source code that is not necessary for the calculation of the time interval between two consecutive advertisement.</p>\n<pre class=\"lang-java prettyprint-override\"><code> override fun onScanResult(callbackType: Int, result: ScanResult) {\n               val timeStampFirst = result.timestampNanos\n                // val tag = deviceMap.computeIfAbsent(result.device.address) {\n                //    val newTag = BleTag(result.device.name ?: &quot;Unbekannt&quot;, result.device.address, result.rssi , result.scanRecord?.bytes, result.timestampNanos,&quot;0 Sek.&quot;)\n                //    deviceList.add(newTag)\n                //    newTag\n                // }\n                // tag.name = result.device.name ?: &quot;Unbekannt&quot;\n                // tag.rssi = result.rssi\n                // tag.advertisementData = result.scanRecord?.bytes\n                // tag.timeStampFirst = result.timestampNanos\n    \n                // deviceList.forEach {\n                //     if(it.mac == result.device.address){\n                       val timeStampSecond = result.timestampNanos\n                // will always be ZERO\n               val advertisementMillis = timeStampSecond - timeStampFirst\n                       Log.e(&quot;Advertisement ms&quot;, advertisementMillis)\n                //     }\n                // }\n    \n    \n                // Log.e(resultTime.toString(),&quot;&quot;)\n    \n                // deviceList.sortBy {\n                //     result.rssi\n                // }\n    \n                // recyclerView.adapter?.notifyDataSetChanged()\n                //menu.findItem(R.id.count).title = &quot;Geräte: &quot; + deviceList.size\n    \n                // super.onScanResult(callbackType, result)\n            }\n</code></pre>\n<p>As you use for both timestamps the value of the current advertisement the result will always be 0.</p>\n<p>But the object from the deviceList does not help either, because it already contains the data from the current advertisement.</p>\n<p>In pseudo code you would have to do the following to find the interval between two consecutive advertisement:</p>\n<pre><code>onNewAdvertismentReceived\n    If Broadcaster seen before\n        Retrieve timestamp from the advertisment beforehand\n        Calculate the interval from both timestamps(old,new)\n    Else\n        First time Broadcaster seen\n        Not possible to calculate interval\n    Fi\n</code></pre>\n"}],"owner":{"account_id":26576867,"reputation":100,"user_id":20202080,"display_name":"Master4You"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74030421,"answer_count":1,"score":2,"last_activity_date":1665501458,"creation_date":1665474775,"question_id":74024727,"body_markdown":"I want to get the advertisement milliseconds of the devices by subtracting the two timestamps of the same device. But both timestamps are the same value. Could someone help?\r\n\r\n     override fun onScanResult(callbackType: Int, result: ScanResult) {\r\n        \r\n                   val timeStampFirst = result.timestampNanos\r\n        \r\n                    val tag = deviceMap.computeIfAbsent(result.device.address) {\r\n                        val newTag = BleTag(result.device.name ?: &quot;Unbekannt&quot;, result.device.address, result.rssi , result.scanRecord?.bytes, result.timestampNanos,&quot;0 Sek.&quot;)\r\n                        deviceList.add(newTag)\r\n                        newTag\r\n                    }\r\n                    tag.name = result.device.name ?: &quot;Unbekannt&quot;\r\n                    tag.rssi = result.rssi\r\n                    tag.advertisementData = result.scanRecord?.bytes\r\n                    tag.timeStampFirst = result.timestampNanos\r\n        \r\n                    deviceList.forEach {\r\n                        if(it.mac == result.device.address){\r\n                           val timeStampSecond = result.timestampNanos\r\n    \t\t       val advertisementMillis = timeStampSecond - timeStampFirst\r\n                           Log.e(&quot;Advertisement ms&quot;, advertisementMillis) \t\r\n                        }\r\n                    }\r\n        \r\n        \r\n                    Log.e(resultTime.toString(),&quot;&quot;)\r\n        \r\n                    deviceList.sortBy {\r\n                        result.rssi\r\n                    }\r\n        \r\n                    recyclerView.adapter?.notifyDataSetChanged()\r\n                    //menu.findItem(R.id.count).title = &quot;Ger&#228;te: &quot; + deviceList.size\r\n        \r\n                    super.onScanResult(callbackType, result)\r\n                }\r\n    \r\n         ","title":"Bluetooth LE - ScanResult returns the same timestamp for the same device","body":"<p>I want to get the advertisement milliseconds of the devices by subtracting the two timestamps of the same device. But both timestamps are the same value. Could someone help?</p>\n<pre><code> override fun onScanResult(callbackType: Int, result: ScanResult) {\n    \n               val timeStampFirst = result.timestampNanos\n    \n                val tag = deviceMap.computeIfAbsent(result.device.address) {\n                    val newTag = BleTag(result.device.name ?: &quot;Unbekannt&quot;, result.device.address, result.rssi , result.scanRecord?.bytes, result.timestampNanos,&quot;0 Sek.&quot;)\n                    deviceList.add(newTag)\n                    newTag\n                }\n                tag.name = result.device.name ?: &quot;Unbekannt&quot;\n                tag.rssi = result.rssi\n                tag.advertisementData = result.scanRecord?.bytes\n                tag.timeStampFirst = result.timestampNanos\n    \n                deviceList.forEach {\n                    if(it.mac == result.device.address){\n                       val timeStampSecond = result.timestampNanos\n               val advertisementMillis = timeStampSecond - timeStampFirst\n                       Log.e(&quot;Advertisement ms&quot;, advertisementMillis)   \n                    }\n                }\n    \n    \n                Log.e(resultTime.toString(),&quot;&quot;)\n    \n                deviceList.sortBy {\n                    result.rssi\n                }\n    \n                recyclerView.adapter?.notifyDataSetChanged()\n                //menu.findItem(R.id.count).title = &quot;Geräte: &quot; + deviceList.size\n    \n                super.onScanResult(callbackType, result)\n            }\n\n     \n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1663640949,"post_id":73780898,"comment_id":130282127,"body_markdown":"The arguments to `thenReturn` are the first value, followed by a varargs of the subsequent values.  So you could pass an array consisting of the subsequent values as the second argument.  And of course, you could build that array using calls to `Arrays.fill`.","body":"The arguments to <code>thenReturn</code> are the first value, followed by a varargs of the subsequent values.  So you could pass an array consisting of the subsequent values as the second argument.  And of course, you could build that array using calls to <code>Arrays.fill</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1663644913,"post_id":73780898,"comment_id":130282750,"body_markdown":"Or you can keep a reference to the OngoingStubbing and use a loop","body":"Or you can keep a reference to the OngoingStubbing and use a loop"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665501384,"creation_date":1665490252,"answer_id":74027932,"question_id":73780898,"body_markdown":"You can use a loop:\r\n\r\n```\r\nclass Mockme {\r\n    @Test\r\n    void test() {\r\n        final UnderTest mock = Mockito.mock(UnderTest.class);\r\n        OngoingStubbing&lt;Integer&gt; stubbing = Mockito.when(mock.get());\r\n\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            stubbing = stubbing.thenReturn(1);\r\n        }\r\n\r\n        stubbing.thenReturn(5, 7, 10);\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            System.out.println(mock.get());\r\n        }\r\n    }\r\n}\r\n\r\ninterface UnderTest {\r\n    int get();\r\n}\r\n```\r\n\r\nOr a pre-computed array, but `thenReturn` expects the first return value as a separate argument, so this will be difficult to maintain:\r\n\r\n    @Test\r\n    void test() {\r\n        final Integer[] returns = new Integer[6];\r\n        Arrays.fill(returns, 1);\r\n        returns[3] = 5;\r\n        returns[4] = 7;\r\n        returns[5] = 10;\r\n\r\n        final UnderTest mock = Mockito.mock(UnderTest.class);\r\n        Mockito.when(mock.get()).thenReturn(1, returns);\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            System.out.println(mock.get());\r\n        }\r\n    }","title":"Mockito stubbing - returning a repeat value X number of times","body":"<p>You can use a loop:</p>\n<pre><code>class Mockme {\n    @Test\n    void test() {\n        final UnderTest mock = Mockito.mock(UnderTest.class);\n        OngoingStubbing&lt;Integer&gt; stubbing = Mockito.when(mock.get());\n\n        for (int i = 0; i &lt; 4; i++) {\n            stubbing = stubbing.thenReturn(1);\n        }\n\n        stubbing.thenReturn(5, 7, 10);\n\n        for (int i = 0; i &lt; 10; i++) {\n            System.out.println(mock.get());\n        }\n    }\n}\n\ninterface UnderTest {\n    int get();\n}\n</code></pre>\n<p>Or a pre-computed array, but <code>thenReturn</code> expects the first return value as a separate argument, so this will be difficult to maintain:</p>\n<pre><code>@Test\nvoid test() {\n    final Integer[] returns = new Integer[6];\n    Arrays.fill(returns, 1);\n    returns[3] = 5;\n    returns[4] = 7;\n    returns[5] = 10;\n\n    final UnderTest mock = Mockito.mock(UnderTest.class);\n    Mockito.when(mock.get()).thenReturn(1, returns);\n\n    for (int i = 0; i &lt; 10; i++) {\n        System.out.println(mock.get());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16746116,"reputation":129,"user_id":15317405,"display_name":"jlaufer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74027932,"answer_count":1,"score":0,"last_activity_date":1665501384,"creation_date":1663639256,"question_id":73780898,"body_markdown":"I know that by creating a stub in Mockito, consecutive values can be returned from a mock like so:\r\n\r\n    when(mockedObject.doSomething()).thenReturn(1, 1, 1, 1, 5);\r\n\r\nor \r\n\r\n    when(mockedObject.doSomething()).thenReturn(1).thenReturn(1).thenReturn(1).thenReturn(1).thenReturn(5);\r\n\r\nIs it possible to specify a repeat number for a specific return value? Something like this:\r\n\r\n    when(mockedObject.doSomething()).thenReturn(1, times(4)).thenReturn(5);","title":"Mockito stubbing - returning a repeat value X number of times","body":"<p>I know that by creating a stub in Mockito, consecutive values can be returned from a mock like so:</p>\n<pre><code>when(mockedObject.doSomething()).thenReturn(1, 1, 1, 1, 5);\n</code></pre>\n<p>or</p>\n<pre><code>when(mockedObject.doSomething()).thenReturn(1).thenReturn(1).thenReturn(1).thenReturn(1).thenReturn(5);\n</code></pre>\n<p>Is it possible to specify a repeat number for a specific return value? Something like this:</p>\n<pre><code>when(mockedObject.doSomething()).thenReturn(1, times(4)).thenReturn(5);\n</code></pre>\n"},{"tags":["java","spring-boot","junit","mockito","spring-test"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665490812,"post_id":73743671,"comment_id":130708331,"body_markdown":"`when(userServiceTest.getUserById(user1.getId())).thenReturn(Optional.ofNullable(user1));` this does not make any sense. `userServiceTest` is not a mock, it&#39;s the class under test. Why do you mock it? You must mock the repository and then call your class under test. The repository is never mocked, so it will always return null/empty optional.","body":"<code>when(userServiceTest.getUserById(user1.getId())).thenReturn(&zwnj;&#8203;Optional.ofNullable(&zwnj;&#8203;user1));</code> this does not make any sense. <code>userServiceTest</code> is not a mock, it&#39;s the class under test. Why do you mock it? You must mock the repository and then call your class under test. The repository is never mocked, so it will always return null/empty optional."}],"answers":[{"tags":[],"owner":{"account_id":17118097,"reputation":604,"user_id":12387106,"display_name":"Mo_-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663325999,"creation_date":1663325999,"answer_id":73743793,"question_id":73743671,"body_markdown":"You are trying to mock the service method call but the service is autowired — that doesn’t work. You can mock instead the repository method call since the repository is annotated as MockBean, that should work.","title":"My service test fails when I have an if statement in the class under test SpringBoot","body":"<p>You are trying to mock the service method call but the service is autowired — that doesn’t work. You can mock instead the repository method call since the repository is annotated as MockBean, that should work.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665501351,"creation_date":1665501351,"answer_id":74030391,"question_id":73743671,"body_markdown":"None of your tests set up the repository mock. You are trying to mock the service method instead, which will implicitly call the real method while mocking. But the service method is never called to assert correct behavior. In other words: your service&#39;s behavior is never exercised by the test, because the return value of the method calls is overwritten.\r\n\r\nExample:\r\n\r\n    @Test\r\n    void testGetUsers() {\r\n        // repository is never mocked\r\n        //   vvvvvvvvvvvvvvvvvvvvvvvvvv--- this calls the service method\r\n        when(userServiceTest.getUsers()).thenReturn(userSet);\r\n        //                               ^^^^^^^^^^^^^^^^^^^--- this overwrites the return value of the service method\r\n        assertEquals(2, userServiceTest.getUsers().size()); // this uses the overwritten return value\r\n        verify(userRepositoryTest).findAll();\r\n    }\r\n\r\nTo fix, you need to mock the _repository_ (not the service) and then call the real service. It is also quite useless to assert the user&#39;s id, because the user is set up by the test, not in the classes under test.\r\n\r\n    @Test\r\n    void testGetUserById() {\r\n        // arrange\r\n        when(userRepositoryTest.getUserById(user1.getId())\r\n                .thenReturn(Optional.ofNullable(user1));\r\n        // act\r\n        Optional&lt;User&gt; userById = userServiceTest.getUserById(user1.getId());\r\n        // assert\r\n        assertEquals(1, user1.orElseThrow().getId());\r\n        verify(userRepositoryTest).findById(user1.getId());\r\n    }\r\n\r\nI&#39;d also question your usage of `verify` at the end of test. You are testing implementation details here. You should only be interested in the return value of your service, not which methods of the repository it is calling. Especially since you are mocking those methods anyway, so you already know with which arguments they are called; otherwise the mock would not return the configured return value in the first place.\r\n\r\nA side-question is why your if-condition is always true and the exception always thrown. Again: incorrect/missing setup of your mocks.\r\n\r\n    @Test\r\n    void testGetUserById() {\r\n             vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv--- calls real method, but the repository mock is not set up\r\n        when(userServiceTest.getUserById(user1.getId()))\r\n                .thenReturn(Optional.ofNullable(user1));\r\n        assertEquals(1, user1.getId());\r\n        verify(userRepositoryTest).findById(user1.getId());\r\n    }","title":"My service test fails when I have an if statement in the class under test SpringBoot","body":"<p>None of your tests set up the repository mock. You are trying to mock the service method instead, which will implicitly call the real method while mocking. But the service method is never called to assert correct behavior. In other words: your service's behavior is never exercised by the test, because the return value of the method calls is overwritten.</p>\n<p>Example:</p>\n<pre><code>@Test\nvoid testGetUsers() {\n    // repository is never mocked\n    //   vvvvvvvvvvvvvvvvvvvvvvvvvv--- this calls the service method\n    when(userServiceTest.getUsers()).thenReturn(userSet);\n    //                               ^^^^^^^^^^^^^^^^^^^--- this overwrites the return value of the service method\n    assertEquals(2, userServiceTest.getUsers().size()); // this uses the overwritten return value\n    verify(userRepositoryTest).findAll();\n}\n</code></pre>\n<p>To fix, you need to mock the <em>repository</em> (not the service) and then call the real service. It is also quite useless to assert the user's id, because the user is set up by the test, not in the classes under test.</p>\n<pre><code>@Test\nvoid testGetUserById() {\n    // arrange\n    when(userRepositoryTest.getUserById(user1.getId())\n            .thenReturn(Optional.ofNullable(user1));\n    // act\n    Optional&lt;User&gt; userById = userServiceTest.getUserById(user1.getId());\n    // assert\n    assertEquals(1, user1.orElseThrow().getId());\n    verify(userRepositoryTest).findById(user1.getId());\n}\n</code></pre>\n<p>I'd also question your usage of <code>verify</code> at the end of test. You are testing implementation details here. You should only be interested in the return value of your service, not which methods of the repository it is calling. Especially since you are mocking those methods anyway, so you already know with which arguments they are called; otherwise the mock would not return the configured return value in the first place.</p>\n<p>A side-question is why your if-condition is always true and the exception always thrown. Again: incorrect/missing setup of your mocks.</p>\n<pre><code>@Test\nvoid testGetUserById() {\n         vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv--- calls real method, but the repository mock is not set up\n    when(userServiceTest.getUserById(user1.getId()))\n            .thenReturn(Optional.ofNullable(user1));\n    assertEquals(1, user1.getId());\n    verify(userRepositoryTest).findById(user1.getId());\n}\n</code></pre>\n"}],"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74030391,"answer_count":2,"score":0,"last_activity_date":1665501351,"creation_date":1663325325,"question_id":73743671,"body_markdown":"I am writing tests from my springboot application. The class has a method `getUserById` which returns `Optional&lt;User&gt;`. This methos has an if statement that will check whether an row was returned from repository before sending a response.\r\n**Problem:**\r\nWith the if statement in place, my test always throws the error in the if statement. when I remove the if statement, the test passes. What am I missing?\r\n\r\nThis is my **UserServiceImpl (Class under test)** \r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\n@Transactional\r\n@Slf4j\r\npublic class UserServiceImpl implements UserService, UserDetailsService {\r\n    @Autowired\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public List&lt;User&gt; getUsers() {\r\n        log.info(&quot;Fetching users&quot;);\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;User&gt; getUserById(Long id) {\r\n        log.info(&quot;Fetching user id: {}&quot;, id);\r\n        Optional&lt;User&gt; user = userRepository.findById(id);\r\n        if (!user.isPresent()) {\r\n            throw new ResourceNotFoundException(MessageUtil.ERROR_USER_NOTFOUND);\r\n        }\r\n        return user;\r\n    }\r\n}\r\n```\r\nThis is my **UserServiceImplTest (test class)**\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\nclass UserServiceImplTest {\r\n\r\n    @MockBean\r\n    private UserRepository userRepositoryTest;\r\n\r\n    @InjectMocks\r\n    private UserServiceImpl userServiceTest;\r\n\r\n    @Mock\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    private List&lt;User&gt; userSet;\r\n    private User user1;\r\n    private User user2;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        userServiceTest = new UserServiceImpl(userRepositoryTest, passwordEncoder);\r\n\r\n        Set&lt;ApplicationUserRole&gt; roles = new HashSet&lt;&gt;();\r\n        roles.add(ApplicationUserRole.TEST_USER);\r\n        userSet = new ArrayList&lt;&gt;();\r\n\r\n        user1 = User.builder().nickname(&quot;test-nickname&quot;)\r\n                .id(1L)\r\n                .username(&quot;254701234567&quot;)\r\n                .roles(roles)\r\n                .password(&quot;password&quot;)\r\n                .build();\r\n\r\n        user2 = User.builder().nickname(&quot;test2-nickname2&quot;)\r\n                .id(2L)\r\n                .username(&quot;254701234589&quot;)\r\n                .roles(roles)\r\n                .password(&quot;password&quot;)\r\n                .build();\r\n\r\n        userSet.add(user1);\r\n        userSet.add(user2);\r\n\r\n        userSet.stream().forEach(user -&gt; {\r\n            userServiceTest.saveUser(user);\r\n        });\r\n    }\r\n\r\n    @AfterEach\r\n    void tearDown() {\r\n    }\r\n\r\n    @Test\r\n    void testGetUsers() {\r\n        when(userServiceTest.getUsers()).thenReturn(userSet);\r\n        assertEquals(2, userServiceTest.getUsers().size());\r\n        verify(userRepositoryTest).findAll();\r\n    }\r\n\r\n    @Test\r\n    void testGetUserById() {\r\n        when(userServiceTest.getUserById(user1.getId())).thenReturn(Optional.ofNullable(user1));\r\n        assertEquals(1, user1.getId());\r\n        verify(userRepositoryTest).findById(user1.getId());\r\n    }\r\n\r\n    @Test\r\n    void testSaveUser() {\r\n        when(userServiceTest.saveUser(user1)).thenReturn(user1);\r\n        assertEquals(1L, user1.getId());\r\n        verify(userRepositoryTest).save(user1);\r\n    }\r\n\r\n    @Test\r\n    void updateUser() {\r\n        user1.setNickname(&quot;nickname-update&quot;);\r\n        when(userServiceTest.saveUser(user1)).thenReturn(user1);\r\n        assertEquals(&quot;nickname-update&quot;, user1.getNickname());\r\n        verify(userRepositoryTest).save(user1);\r\n    }\r\n\r\n}\r\n```\r\n**NOTE:** Other tests work just fine","title":"My service test fails when I have an if statement in the class under test SpringBoot","body":"<p>I am writing tests from my springboot application. The class has a method <code>getUserById</code> which returns <code>Optional&lt;User&gt;</code>. This methos has an if statement that will check whether an row was returned from repository before sending a response.\n<strong>Problem:</strong>\nWith the if statement in place, my test always throws the error in the if statement. when I remove the if statement, the test passes. What am I missing?</p>\n<p>This is my <strong>UserServiceImpl (Class under test)</strong></p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@Transactional\n@Slf4j\npublic class UserServiceImpl implements UserService, UserDetailsService {\n    @Autowired\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n\n    @Override\n    public List&lt;User&gt; getUsers() {\n        log.info(&quot;Fetching users&quot;);\n        return userRepository.findAll();\n    }\n\n    @Override\n    public Optional&lt;User&gt; getUserById(Long id) {\n        log.info(&quot;Fetching user id: {}&quot;, id);\n        Optional&lt;User&gt; user = userRepository.findById(id);\n        if (!user.isPresent()) {\n            throw new ResourceNotFoundException(MessageUtil.ERROR_USER_NOTFOUND);\n        }\n        return user;\n    }\n}\n</code></pre>\n<p>This is my <strong>UserServiceImplTest (test class)</strong></p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\nclass UserServiceImplTest {\n\n    @MockBean\n    private UserRepository userRepositoryTest;\n\n    @InjectMocks\n    private UserServiceImpl userServiceTest;\n\n    @Mock\n    private PasswordEncoder passwordEncoder;\n\n    private List&lt;User&gt; userSet;\n    private User user1;\n    private User user2;\n\n    @BeforeEach\n    void setUp() {\n        userServiceTest = new UserServiceImpl(userRepositoryTest, passwordEncoder);\n\n        Set&lt;ApplicationUserRole&gt; roles = new HashSet&lt;&gt;();\n        roles.add(ApplicationUserRole.TEST_USER);\n        userSet = new ArrayList&lt;&gt;();\n\n        user1 = User.builder().nickname(&quot;test-nickname&quot;)\n                .id(1L)\n                .username(&quot;254701234567&quot;)\n                .roles(roles)\n                .password(&quot;password&quot;)\n                .build();\n\n        user2 = User.builder().nickname(&quot;test2-nickname2&quot;)\n                .id(2L)\n                .username(&quot;254701234589&quot;)\n                .roles(roles)\n                .password(&quot;password&quot;)\n                .build();\n\n        userSet.add(user1);\n        userSet.add(user2);\n\n        userSet.stream().forEach(user -&gt; {\n            userServiceTest.saveUser(user);\n        });\n    }\n\n    @AfterEach\n    void tearDown() {\n    }\n\n    @Test\n    void testGetUsers() {\n        when(userServiceTest.getUsers()).thenReturn(userSet);\n        assertEquals(2, userServiceTest.getUsers().size());\n        verify(userRepositoryTest).findAll();\n    }\n\n    @Test\n    void testGetUserById() {\n        when(userServiceTest.getUserById(user1.getId())).thenReturn(Optional.ofNullable(user1));\n        assertEquals(1, user1.getId());\n        verify(userRepositoryTest).findById(user1.getId());\n    }\n\n    @Test\n    void testSaveUser() {\n        when(userServiceTest.saveUser(user1)).thenReturn(user1);\n        assertEquals(1L, user1.getId());\n        verify(userRepositoryTest).save(user1);\n    }\n\n    @Test\n    void updateUser() {\n        user1.setNickname(&quot;nickname-update&quot;);\n        when(userServiceTest.saveUser(user1)).thenReturn(user1);\n        assertEquals(&quot;nickname-update&quot;, user1.getNickname());\n        verify(userRepositoryTest).save(user1);\n    }\n\n}\n</code></pre>\n<p><strong>NOTE:</strong> Other tests work just fine</p>\n"},{"tags":["java","algorithm","disjoint-sets"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1665497761,"post_id":74029500,"comment_id":130711476,"body_markdown":"*&quot;code works for the test input but not for the rest of the tests&quot;* - by saying that you mean that failed test are hidden. If so, it&#39;s better to specify that explicitly, and if there was a timeout it&#39;s worth to mention it as well.","body":"<i>&quot;code works for the test input but not for the rest of the tests&quot;</i> - by saying that you mean that failed test are hidden. If so, it&#39;s better to specify that explicitly, and if there was a timeout it&#39;s worth to mention it as well."},{"owner":{"account_id":11732972,"reputation":314,"user_id":8587796,"display_name":"Paul"},"score":0,"creation_date":1665497879,"post_id":74029500,"comment_id":130711516,"body_markdown":"Oh sorry, It did not time out, it&#39;s simply incorrect. I didn&#39;t disclose the expected output because it&#39;s hidden by hackerrank so I do not think that I am allowed to show them here","body":"Oh sorry, It did not time out, it&#39;s simply incorrect. I didn&#39;t disclose the expected output because it&#39;s hidden by hackerrank so I do not think that I am allowed to show them here"},{"owner":{"account_id":11732972,"reputation":314,"user_id":8587796,"display_name":"Paul"},"score":0,"creation_date":1665497964,"post_id":74029500,"comment_id":130711550,"body_markdown":"But I used 5 hackos and found out my code returns the wrong value","body":"But I used 5 hackos and found out my code returns the wrong value"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665498122,"post_id":74029500,"comment_id":130711617,"body_markdown":"Then post the failing case.","body":"Then post the failing case."},{"owner":{"account_id":11732972,"reputation":314,"user_id":8587796,"display_name":"Paul"},"score":0,"creation_date":1665498298,"post_id":74029500,"comment_id":130711695,"body_markdown":"The failing cases are literally all of them, as I said only the test input shown HERE https://www.hackerrank.com/challenges/value-of-friendship/problem, works and i cannot post the input since it&#39;s 200 000+ lines longs, hence the fact I do not understand the problem in my logic","body":"The failing cases are literally all of them, as I said only the test input shown HERE <a href=\"https://www.hackerrank.com/challenges/value-of-friendship/problem\" rel=\"nofollow noreferrer\">hackerrank.com/challenges/value-of-friendship/problem</a>, works and i cannot post the input since it&#39;s 200 000+ lines longs, hence the fact I do not understand the problem in my logic"},{"owner":{"account_id":11732972,"reputation":314,"user_id":8587796,"display_name":"Paul"},"score":0,"creation_date":1665499371,"post_id":74029500,"comment_id":130712169,"body_markdown":"Yes it is, but be careful it&#39;s a lower case L not a 1 , since for example, if k=2 friends become friends with l=3 friends, each of the 2 friends make 3 friends (2 * 3) and each of the 3 friends make 2 friends (3*2) = 2 * k * l","body":"Yes it is, but be careful it&#39;s a lower case L not a 1 , since for example, if k=2 friends become friends with l=3 friends, each of the 2 friends make 3 friends (2 * 3) and each of the 3 friends make 2 friends (3*2) = 2 * k * l"}],"owner":{"account_id":11732972,"reputation":314,"user_id":8587796,"display_name":"Paul"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665501278,"creation_date":1665497210,"question_id":74029500,"body_markdown":"I am doing [this challenge][1] on HackerRank and I tried to use a mapping between students and sets to represent which group of friends the students belonged to :\r\n\r\nThe list of friends is instantiated with each student having himself as a friend \r\nand for performance reasons we keep the sets which the students belongs to :\r\n```\r\nmap = [[1],[2],...[n]]\r\n\r\nlist = [1, 2,..., n]\r\n\r\nSo that the we know the student k where 0&lt;=k&lt;n is part of the set represented in list[k-1], \r\nand we know the set of friends the student is part of by retrieving map[list[k-1]]\r\n``` \r\n\r\nThen, for each direct friendship added, I append the smallest set to the biggest set of friends, I update the set number of the students of the smallest set to match the biggest set, and adds to the sum of friends the value `2 * u * v`, because the friendship is birectional (hence the `2*`) and for each element of a set of size u, the element will make `v` new friends.\r\n\r\nThis code works for the test input but not for the rest of the tests and I cannot find why \r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\nclass Result {\r\n\r\n\t/*\r\n\t * Complete the &#39;valueOfFriendship&#39; function below.\r\n\t *\r\n\t * The function is expected to return an INTEGER.\r\n\t * The function accepts following parameters:\r\n\t *  1. INTEGER n\r\n\t *  2. 2D_INTEGER_ARRAY friendships\r\n\t */\r\n\r\n\tpublic static long valueOfFriendsship(int n, List&lt;List&lt;Integer&gt;&gt; friendships) {\r\n\t\tList&lt;List&lt;Integer&gt;&gt; sets = IntStream.range(1, n + 1).boxed().map((val)-&gt;new ArrayList&lt;&gt;(List.of(val))).collect(Collectors.toList());\r\n\r\n\t\t List&lt;Integer&gt; students = IntStream.range(1, n + 1).boxed().collect(Collectors.toList());\r\n\t\t long sum = 0;\r\n\t\t long total = 0;\r\n\t\t for (List&lt;Integer&gt; friendship : friendships) {\r\n\t\t\t int firstGroupIndex = students.get(friendship.get(0) - 1);\r\n\t\t\t int secondGroupIndex = students.get(friendship.get(1) - 1);\r\n\t\t\t if (firstGroupIndex != secondGroupIndex) {\r\n\t\t\t\t List&lt;Integer&gt; firstGroup = sets.get(firstGroupIndex - 1);\r\n\t\t\t\t List&lt;Integer&gt; secondGroup = sets.get(secondGroupIndex - 1);\r\n\t\t\t\t sum += 2L * firstGroup.size() * secondGroup.size();\r\n\t\t\t\t if (firstGroup.size() &gt; secondGroup.size()) {\r\n\t\t\t\t\t firstGroup.addAll(secondGroup);\r\n\t\t\t\t\t secondGroup.forEach(val -&gt; students.set(val - 1, firstGroupIndex));\r\n\t\t\t\t } else {\r\n\t\t\t\t\t secondGroup.addAll(firstGroup);\r\n\t\t\t\t\t firstGroup.forEach(val -&gt; students.set(val - 1, secondGroupIndex));\r\n\t\t\t\t }\r\n\t\t\t }\r\n\t\t\t total += sum;\r\n\t\t }\r\n\r\n\t\treturn total;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n  [1]: https://www.hackerrank.com/challenges/value-of-friendship/problem","title":"The Value of Friendship : Disjoint set union","body":"<p>I am doing <a href=\"https://www.hackerrank.com/challenges/value-of-friendship/problem\" rel=\"nofollow noreferrer\">this challenge</a> on HackerRank and I tried to use a mapping between students and sets to represent which group of friends the students belonged to :</p>\n<p>The list of friends is instantiated with each student having himself as a friend\nand for performance reasons we keep the sets which the students belongs to :</p>\n<pre><code>map = [[1],[2],...[n]]\n\nlist = [1, 2,..., n]\n\nSo that the we know the student k where 0&lt;=k&lt;n is part of the set represented in list[k-1], \nand we know the set of friends the student is part of by retrieving map[list[k-1]]\n</code></pre>\n<p>Then, for each direct friendship added, I append the smallest set to the biggest set of friends, I update the set number of the students of the smallest set to match the biggest set, and adds to the sum of friends the value <code>2 * u * v</code>, because the friendship is birectional (hence the <code>2*</code>) and for each element of a set of size u, the element will make <code>v</code> new friends.</p>\n<p>This code works for the test input but not for the rest of the tests and I cannot find why</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nclass Result {\n\n    /*\n     * Complete the 'valueOfFriendship' function below.\n     *\n     * The function is expected to return an INTEGER.\n     * The function accepts following parameters:\n     *  1. INTEGER n\n     *  2. 2D_INTEGER_ARRAY friendships\n     */\n\n    public static long valueOfFriendsship(int n, List&lt;List&lt;Integer&gt;&gt; friendships) {\n        List&lt;List&lt;Integer&gt;&gt; sets = IntStream.range(1, n + 1).boxed().map((val)-&gt;new ArrayList&lt;&gt;(List.of(val))).collect(Collectors.toList());\n\n         List&lt;Integer&gt; students = IntStream.range(1, n + 1).boxed().collect(Collectors.toList());\n         long sum = 0;\n         long total = 0;\n         for (List&lt;Integer&gt; friendship : friendships) {\n             int firstGroupIndex = students.get(friendship.get(0) - 1);\n             int secondGroupIndex = students.get(friendship.get(1) - 1);\n             if (firstGroupIndex != secondGroupIndex) {\n                 List&lt;Integer&gt; firstGroup = sets.get(firstGroupIndex - 1);\n                 List&lt;Integer&gt; secondGroup = sets.get(secondGroupIndex - 1);\n                 sum += 2L * firstGroup.size() * secondGroup.size();\n                 if (firstGroup.size() &gt; secondGroup.size()) {\n                     firstGroup.addAll(secondGroup);\n                     secondGroup.forEach(val -&gt; students.set(val - 1, firstGroupIndex));\n                 } else {\n                     secondGroup.addAll(firstGroup);\n                     firstGroup.forEach(val -&gt; students.set(val - 1, secondGroupIndex));\n                 }\n             }\n             total += sum;\n         }\n\n        return total;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","string","loops","sorting"],"comments":[{"owner":{"account_id":38160,"reputation":54658,"user_id":109360,"accept_rate":98,"display_name":"dcp"},"score":1,"creation_date":1665492913,"post_id":74028462,"comment_id":130709204,"body_markdown":"First thing to do would be to determine what line the exception is occurring on.  You should find that information in the stack trace for the exception.  Once you know that, then you can step through the code in the debugger, or you can use System.out.println statements to print variable values.  I suspect the line s.substring(i,i+k); could be the source of your problem, but you&#39;ll have to use the steps I just mentioned to determine that.","body":"First thing to do would be to determine what line the exception is occurring on.  You should find that information in the stack trace for the exception.  Once you know that, then you can step through the code in the debugger, or you can use System.out.println statements to print variable values.  I suspect the line s.substring(i,i+k); could be the source of your problem, but you&#39;ll have to use the steps I just mentioned to determine that."},{"owner":{"account_id":26590296,"reputation":1,"user_id":20213632,"display_name":"e32W434rtd"},"score":0,"creation_date":1665493003,"post_id":74028462,"comment_id":130709254,"body_markdown":"I&#39;ve printed the elemets inside in collections array you can see using for loops","body":"I&#39;ve printed the elemets inside in collections array you can see using for loops"},{"owner":{"account_id":26590296,"reputation":1,"user_id":20213632,"display_name":"e32W434rtd"},"score":0,"creation_date":1665493098,"post_id":74028462,"comment_id":130709307,"body_markdown":"Problem is when i = s.length()-k in the first for loop then  error occurs but that should be covered using loop or else one last substring will be missed in collections array","body":"Problem is when i = s.length()-k in the first for loop then  error occurs but that should be covered using loop or else one last substring will be missed in collections array"},{"owner":{"account_id":38160,"reputation":54658,"user_id":109360,"accept_rate":98,"display_name":"dcp"},"score":1,"creation_date":1665493130,"post_id":74028462,"comment_id":130709327,"body_markdown":"You aren&#39;t printing variable values in the first loop, which could likely be the source of your problem.  Again, please look at the stack trace which will tell you the exact line number where the exception is occurring.","body":"You aren&#39;t printing variable values in the first loop, which could likely be the source of your problem.  Again, please look at the stack trace which will tell you the exact line number where the exception is occurring."},{"owner":{"account_id":26590296,"reputation":1,"user_id":20213632,"display_name":"e32W434rtd"},"score":0,"creation_date":1665493163,"post_id":74028462,"comment_id":130709345,"body_markdown":"See second loop after allocation in collection array, there values are printed","body":"See second loop after allocation in collection array, there values are printed"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1665493198,"post_id":74028462,"comment_id":130709366,"body_markdown":"It doesn&#39;t help that you haven&#39;t told us what the code is meant to do, or which inputs are failing. Please read https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/ and edit your question to be *much* clearer. I&#39;d also suggest using much more whitespace within the code and proper indentation. It&#39;s very hard to read while it&#39;s so dense.","body":"It doesn&#39;t help that you haven&#39;t told us what the code is meant to do, or which inputs are failing. Please read <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question</a> and edit your question to be <i>much</i> clearer. I&#39;d also suggest using much more whitespace within the code and proper indentation. It&#39;s very hard to read while it&#39;s so dense."},{"owner":{"account_id":26590296,"reputation":1,"user_id":20213632,"display_name":"e32W434rtd"},"score":0,"creation_date":1665493363,"post_id":74028462,"comment_id":130709441,"body_markdown":"Ok it takes string and an integer as input, it computes all the substrings of length k then sees which substring is lexicographically first and last and sorts it inside collection array and returns lexicographically smallest as smallest and largest as largest","body":"Ok it takes string and an integer as input, it computes all the substrings of length k then sees which substring is lexicographically first and last and sorts it inside collection array and returns lexicographically smallest as smallest and largest as largest"}],"answers":[{"tags":[],"owner":{"account_id":5925754,"reputation":145,"user_id":4661650,"display_name":"Martin_0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665501126,"creation_date":1665500303,"answer_id":74030215,"question_id":74028462,"body_markdown":" 1. Your array size is to small. For Example: if your string is 6 characters long and the substring length k would be 5, your array should fit 2 strings inside.\r\n 2. To compensate for the too small array you reduced the loop also by 1, effectively ignoring the last substring.\r\n 3. Whatever sorting-algorithm you tried to implement made little sense. If you want to implement the sorting yourself, have a look [here][1]. If you&#39;re fine with using java sorting the array for you, use Collections.sort() which takes the array in form of a list.\r\n\r\nAdditional Note: uppercase characters have a lower index\r\n\r\n\r\n\r\nThe fixed code would look like this:\r\n\r\n    public static String getSmallestAndLargest(String s, int k) {\r\n\r\n        String smallest = &quot;&quot;;\r\n        String largest = &quot;&quot;;\r\n\r\n        //1. create an array with the length of possible substrings\r\n        String[] collections = new String[s.length() - k + 1];\r\n        \r\n        //2. fill the array with these substrings\r\n        for (int i = 0; i &lt;= s.length() - k; i++) {\r\n            collections[i] = s.substring(i, i + k);\r\n        }\r\n\r\n        //print all substrings in original order\r\n        for (int i = 0; i &lt; collections.length; i++) {\r\n            System.out.print(collections[i] + &quot; &quot;);\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n\r\n        //3. sort the array\r\n        Collections.sort(Arrays.asList(collections));\r\n\r\n        smallest = collections[0];\r\n        largest = collections[collections.length - 1];\r\n\r\n        //print in sorted order\r\n        for (int i = 0; i &lt; collections.length; i++) {\r\n            System.out.print(collections[i] + &quot; &quot;);\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n        return smallest + &quot;\\n&quot; + largest;\r\n    }\r\n\r\nIf you&#39;re asking a question you should also provide context and examples for your inputs, the expected outputs and the whole Stacktrace if there is one. That way other people don&#39;t need to reproduce the error themselves to help you. Also formatting and commenting your code helps a lot.\r\n     \r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/sorting-algorithms/","title":"Index out of bound Exception... and sorting is wrong, please check below code, what is the problem?","body":"<ol>\n<li>Your array size is to small. For Example: if your string is 6 characters long and the substring length k would be 5, your array should fit 2 strings inside.</li>\n<li>To compensate for the too small array you reduced the loop also by 1, effectively ignoring the last substring.</li>\n<li>Whatever sorting-algorithm you tried to implement made little sense. If you want to implement the sorting yourself, have a look <a href=\"https://www.geeksforgeeks.org/sorting-algorithms/\" rel=\"nofollow noreferrer\">here</a>. If you're fine with using java sorting the array for you, use Collections.sort() which takes the array in form of a list.</li>\n</ol>\n<p>Additional Note: uppercase characters have a lower index</p>\n<p>The fixed code would look like this:</p>\n<pre><code>public static String getSmallestAndLargest(String s, int k) {\n\n    String smallest = &quot;&quot;;\n    String largest = &quot;&quot;;\n\n    //1. create an array with the length of possible substrings\n    String[] collections = new String[s.length() - k + 1];\n    \n    //2. fill the array with these substrings\n    for (int i = 0; i &lt;= s.length() - k; i++) {\n        collections[i] = s.substring(i, i + k);\n    }\n\n    //print all substrings in original order\n    for (int i = 0; i &lt; collections.length; i++) {\n        System.out.print(collections[i] + &quot; &quot;);\n    }\n    System.out.println(&quot;&quot;);\n\n    //3. sort the array\n    Collections.sort(Arrays.asList(collections));\n\n    smallest = collections[0];\n    largest = collections[collections.length - 1];\n\n    //print in sorted order\n    for (int i = 0; i &lt; collections.length; i++) {\n        System.out.print(collections[i] + &quot; &quot;);\n    }\n    System.out.println(&quot;&quot;);\n    return smallest + &quot;\\n&quot; + largest;\n}\n</code></pre>\n<p>If you're asking a question you should also provide context and examples for your inputs, the expected outputs and the whole Stacktrace if there is one. That way other people don't need to reproduce the error themselves to help you. Also formatting and commenting your code helps a lot.</p>\n"}],"owner":{"account_id":26590296,"reputation":1,"user_id":20213632,"display_name":"e32W434rtd"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665501126,"creation_date":1665492627,"question_id":74028462,"body_markdown":"Index out of bound Exception... and sorting is wrong, please check below code, what is the problem ??\r\n\r\nit takes string and an integer as input, it computes all the substrings of length k then sees which substring is lexicographically first and last and sorts it inside collection array and returns lexicographically smallest as smallest and largest as largest\r\n\r\n    public static String getSmallestAndLargest(String s, int k) {\r\n    \r\n    \r\n        String smallest = &quot;&quot;;\r\n        String largest = &quot;&quot;;\r\n        String[] collections = new String[s.length()-k];\r\n        for(int i=0;i&lt;=s.length()-k-1; i++) {\r\n    \r\n            // if(i==(s.length()-k)){\r\n            //   collections[i] = s.substring(i,i+k-1);  \r\n            // }\r\n            collections[i] = s.substring(i,i+k);\r\n        }\r\n    \r\n        for(int i=0; i&lt;collections.length;i++){\r\n        System.out.print(collections[i]+&quot; &quot;); \r\n        }\r\n        System.out.println(&quot;&quot;);\r\n        for(int i=0;i&lt;collections.length-1;i++){\r\n            for(int q=1;q&lt;collections.length;q++){\r\n                if(collections[i].compareTo(collections[q])&lt;0){\r\n                    String temp = collections[i]; \r\n                    collections[i]=collections[q];\r\n                    collections[q]=temp; \r\n                }\r\n            }\r\n        }\r\n        smallest = collections[0]; \r\n        largest = collections[collections.length-1];\r\n        for(int i=0; i&lt;collections.length;i++){\r\n        System.out.print(collections[i]+&quot; &quot;); \r\n        }\r\n        System.out.println(&quot;&quot;);\r\n        // s.substring(0,3) , s.substring(3,6) , substring(i,i+k)\r\n        return smallest + &quot;\\n&quot; + largest;\r\n    }","title":"Index out of bound Exception... and sorting is wrong, please check below code, what is the problem?","body":"<p>Index out of bound Exception... and sorting is wrong, please check below code, what is the problem ??</p>\n<p>it takes string and an integer as input, it computes all the substrings of length k then sees which substring is lexicographically first and last and sorts it inside collection array and returns lexicographically smallest as smallest and largest as largest</p>\n<pre><code>public static String getSmallestAndLargest(String s, int k) {\n\n\n    String smallest = &quot;&quot;;\n    String largest = &quot;&quot;;\n    String[] collections = new String[s.length()-k];\n    for(int i=0;i&lt;=s.length()-k-1; i++) {\n\n        // if(i==(s.length()-k)){\n        //   collections[i] = s.substring(i,i+k-1);  \n        // }\n        collections[i] = s.substring(i,i+k);\n    }\n\n    for(int i=0; i&lt;collections.length;i++){\n    System.out.print(collections[i]+&quot; &quot;); \n    }\n    System.out.println(&quot;&quot;);\n    for(int i=0;i&lt;collections.length-1;i++){\n        for(int q=1;q&lt;collections.length;q++){\n            if(collections[i].compareTo(collections[q])&lt;0){\n                String temp = collections[i]; \n                collections[i]=collections[q];\n                collections[q]=temp; \n            }\n        }\n    }\n    smallest = collections[0]; \n    largest = collections[collections.length-1];\n    for(int i=0; i&lt;collections.length;i++){\n    System.out.print(collections[i]+&quot; &quot;); \n    }\n    System.out.println(&quot;&quot;);\n    // s.substring(0,3) , s.substring(3,6) , substring(i,i+k)\n    return smallest + &quot;\\n&quot; + largest;\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9022,"page":970,"page_size":100}
