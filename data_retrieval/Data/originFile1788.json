{"items":[{"tags":["java","regex"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1259619604,"post_id":1822772,"comment_id":1713264,"body_markdown":"To be clear, do you mean **literally** `&amp;nbsp;` or its output `\\u00A0`? That makes quite difference.","body":"To be clear, do you mean <b>literally</b> <code>&amp;nbsp;</code> or its output <code>\\u00A0</code>? That makes quite difference."},{"owner":{"account_id":3591,"reputation":332927,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"score":0,"creation_date":1259619875,"post_id":1822772,"comment_id":1713293,"body_markdown":"&amp;nbsp;&#39;s output? Output by what?","body":"&amp;nbsp;&#39;s output? Output by what?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1259620578,"post_id":1822772,"comment_id":1713399,"body_markdown":"@Vinko: The webbrowser for example.","body":"@Vinko: The webbrowser for example."}],"answers":[{"tags":[],"owner":{"account_id":3591,"reputation":332927,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1259648681,"creation_date":1259619398,"answer_id":1822790,"question_id":1822772,"body_markdown":"&amp;amp;nbsp; is not a whitespace character, as far as regexpes are concerned. You need to either modify the regexp to include those strings in addition to \\s, like /(\\s|&amp;amp;nbsp;|%20)/, or previously parse the string contents to get the ASCII or Unicode representation of the data.\r\n\r\nYou are mixing abstraction levels here.\r\n\r\nIf, what after a careful reread of the question seems to be the case, you are after a way to match all whitespace characters referring to standard ASCII plus the whitespace codepoints, `\\p{Z}` or `\\p{Zs}` will do the work. \r\n\r\nYou should really clarify your question because it has misled a lot of people (even making the correct answer to have some downvotes).","title":"Java regular expression to match _all_ whitespace characters","body":"<p>&amp;nbsp; is not a whitespace character, as far as regexpes are concerned. You need to either modify the regexp to include those strings in addition to \\s, like /(\\s|&amp;nbsp;|%20)/, or previously parse the string contents to get the ASCII or Unicode representation of the data.</p>\n\n<p>You are mixing abstraction levels here.</p>\n\n<p>If, what after a careful reread of the question seems to be the case, you are after a way to match all whitespace characters referring to standard ASCII plus the whitespace codepoints, <code>\\p{Z}</code> or <code>\\p{Zs}</code> will do the work. </p>\n\n<p>You should really clarify your question because it has misled a lot of people (even making the correct answer to have some downvotes).</p>\n"},{"tags":[],"owner":{"account_id":20961,"reputation":233647,"user_id":50552,"accept_rate":84,"display_name":"Andomar"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1259619424,"creation_date":1259619424,"answer_id":1822792,"question_id":1822772,"body_markdown":"The `&amp;nbsp;` is only whitespace in HTML.  Use an [HTML parser][1] to extract the plain text. and `\\s` should work just fine.\r\n\r\n\r\n  [1]: http://htmlparser.sourceforge.net/","title":"Java regular expression to match _all_ whitespace characters","body":"<p>The <code>&amp;nbsp;</code> is only whitespace in HTML.  Use an <a href=\"http://htmlparser.sourceforge.net/\" rel=\"noreferrer\">HTML parser</a> to extract the plain text. and <code>\\s</code> should work just fine.</p>\n"},{"tags":[],"owner":{"account_id":14450,"reputation":24997,"user_id":2112692,"accept_rate":71,"display_name":"Zak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259624222,"creation_date":1259619554,"answer_id":1822801,"question_id":1822772,"body_markdown":"`&amp;nbsp;` is not white space. It is a character encoding sequence that represents whitespace in HTML. You most likely want to convert HTML encoded text into plain text before running your string match against it. If that is the case, go look up \r\njavax.swing.text.html ","title":"Java regular expression to match _all_ whitespace characters","body":"<p><code>&amp;nbsp;</code> is not white space. It is a character encoding sequence that represents whitespace in HTML. You most likely want to convert HTML encoded text into plain text before running your string match against it. If that is the case, go look up \njavax.swing.text.html </p>\n"},{"tags":[],"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259619680,"creation_date":1259619680,"answer_id":1822817,"question_id":1822772,"body_markdown":"The regex characters are the only ones independent of encoding. Here is a list of some characters which - in Unicode - are non-printing:\r\n\r\nhttps://stackoverflow.com/questions/1627481/how-many-non-printing-characters-are-in-common-use","title":"Java regular expression to match _all_ whitespace characters","body":"<p>The regex characters are the only ones independent of encoding. Here is a list of some characters which - in Unicode - are non-printing:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1627481/how-many-non-printing-characters-are-in-common-use\">How many non-printing characters are in common use?</a></p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1259626533,"creation_date":1259626029,"answer_id":1823270,"question_id":1822772,"body_markdown":"You clarified the question the way as I expected: you&#39;re actually not looking for the String literal `&amp;nbsp;` as many here seem to think and for which the solution is too obvious.\r\n\r\nWell, unfortunately, there&#39;s no way to match them using regex. Best is to include the particular codepoints in the pattern, for example: `&quot;[\\\\s\\\\xA0]&quot;`.\r\n\r\n**Edit** as turned out in one of the comments, you could use the [undocumented][1] `&quot;\\\\p{Z}&quot;` for this. Alan, can you please leave comment how you found that out? This one is quite useful.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html","title":"Java regular expression to match _all_ whitespace characters","body":"<p>You clarified the question the way as I expected: you're actually not looking for the String literal <code>&amp;nbsp;</code> as many here seem to think and for which the solution is too obvious.</p>\n\n<p>Well, unfortunately, there's no way to match them using regex. Best is to include the particular codepoints in the pattern, for example: <code>\"[\\\\s\\\\xA0]\"</code>.</p>\n\n<p><strong>Edit</strong> as turned out in one of the comments, you could use the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">undocumented</a> <code>\"\\\\p{Z}\"</code> for this. Alan, can you please leave comment how you found that out? This one is quite useful.</p>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1638779795,"creation_date":1259702958,"answer_id":1829053,"question_id":1822772,"body_markdown":"Click [here][1] for a summary I made of several competing definitions of &quot;whitespace&quot;.\r\n\r\nYou might end up having to explicitly list the additional ones you care about that aren&#39;t matched by one of the prefab ones.\r\n\r\n\r\n  [1]: https://docs.google.com/spreadsheets/u/1/d/1kq4ECwPjHX9B8QUCTPclgsDCXYaj7T-FlT4tB5q3ahk/pub","title":"Java regular expression to match _all_ whitespace characters","body":"<p>Click <a href=\"https://docs.google.com/spreadsheets/u/1/d/1kq4ECwPjHX9B8QUCTPclgsDCXYaj7T-FlT4tB5q3ahk/pub\" rel=\"nofollow noreferrer\">here</a> for a summary I made of several competing definitions of &quot;whitespace&quot;.</p>\n<p>You might end up having to explicitly list the additional ones you care about that aren't matched by one of the prefab ones.</p>\n"},{"tags":[],"owner":{"account_id":1852061,"reputation":1950,"user_id":1678392,"accept_rate":93,"display_name":"nikodaemus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1500658181,"creation_date":1500658181,"answer_id":45243501,"question_id":1822772,"body_markdown":"In case anyone runs into this question again looking for help, I suggest pursuing the following answer: https://stackoverflow.com/a/6255512/1678392\r\n\r\nThe short version: `\\\\p{javaSpaceChar}`\r\n\r\nWhy: Per the [Pattern class](http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#jcc), this maps the [Character.isSpaceChar](http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isSpaceChar-char-) method:\r\n\r\n&gt; Categories that behave like the java.lang.Character boolean is*methodname* methods (except for the deprecated ones) are available through the same \\p{*prop*} syntax where the specified property has the name java*methodname*. \r\n\r\n&amp;#128077;","title":"Java regular expression to match _all_ whitespace characters","body":"<p>In case anyone runs into this question again looking for help, I suggest pursuing the following answer: <a href=\"https://stackoverflow.com/a/6255512/1678392\">https://stackoverflow.com/a/6255512/1678392</a></p>\n\n<p>The short version: <code>\\\\p{javaSpaceChar}</code></p>\n\n<p>Why: Per the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#jcc\" rel=\"nofollow noreferrer\">Pattern class</a>, this maps the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isSpaceChar-char-\" rel=\"nofollow noreferrer\">Character.isSpaceChar</a> method:</p>\n\n<blockquote>\n  <p>Categories that behave like the java.lang.Character boolean is<em>methodname</em> methods (except for the deprecated ones) are available through the same \\p{<em>prop</em>} syntax where the specified property has the name java<em>methodname</em>. </p>\n</blockquote>\n\n<p>&#128077;</p>\n"}],"owner":{"account_id":61330,"reputation":4234,"user_id":182837,"accept_rate":62,"display_name":"Carsten"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32069,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":1822792,"answer_count":7,"score":35,"last_activity_date":1638779795,"creation_date":1259619225,"question_id":1822772,"body_markdown":"I&#39;m looking for a regular expression in Java which matches all whitespace characters in a String. &quot;\\s&quot; matches only some, it does not match `&amp;nbsp;` and similar non-ascii whitespaces. I&#39;m looking for a regular expression which matches all (common) white-space characters which can occur in a Java String. \r\n\r\n[Edit]\r\n\r\nTo clarify: I do not mean the string sequence &quot;`&amp;nbsp;`&quot; I mean the sincle unicode character U+00A0 that is often represented by &quot;`&amp;nbsp;`&quot;, e.g. in HTML, and all other unicode characters with a similar white-space meainig, e.g. &quot;NARROW NO-BREAK SPACE&quot; (U+202F), Word joiner encoded in Unicode 3.2 and above as U+2060, &quot;ZERO WIDTH NO-BREAK SPACE&quot; (U+FEFF) and any other character that can be regareded as white-space.\r\n\r\n[Answer] \r\n\r\nFor my pupose, ie catching all whitespace characters, unicode + traditional, the following expression does the job:\r\n\r\n`[\\p{Z}\\s]`\r\n\r\nThe answer is in the comments below but since it is a bit hidden I repeat it here.","title":"Java regular expression to match _all_ whitespace characters","body":"<p>I'm looking for a regular expression in Java which matches all whitespace characters in a String. \"\\s\" matches only some, it does not match <code>&amp;nbsp;</code> and similar non-ascii whitespaces. I'm looking for a regular expression which matches all (common) white-space characters which can occur in a Java String. </p>\n\n<p>[Edit]</p>\n\n<p>To clarify: I do not mean the string sequence \"<code>&amp;nbsp;</code>\" I mean the sincle unicode character U+00A0 that is often represented by \"<code>&amp;nbsp;</code>\", e.g. in HTML, and all other unicode characters with a similar white-space meainig, e.g. \"NARROW NO-BREAK SPACE\" (U+202F), Word joiner encoded in Unicode 3.2 and above as U+2060, \"ZERO WIDTH NO-BREAK SPACE\" (U+FEFF) and any other character that can be regareded as white-space.</p>\n\n<p>[Answer] </p>\n\n<p>For my pupose, ie catching all whitespace characters, unicode + traditional, the following expression does the job:</p>\n\n<p><code>[\\p{Z}\\s]</code></p>\n\n<p>The answer is in the comments below but since it is a bit hidden I repeat it here.</p>\n"},{"tags":["java","integer-overflow"],"comments":[{"owner":{"display_name":"user14978390"},"score":0,"creation_date":1638777615,"post_id":70242171,"comment_id":124169366,"body_markdown":"That doesn&#39;t really work like expected. It should end up with (n=10 : 4, n=11 : 3, n=12 : 2, n = 15 : 6).\nYour solution produces 0 for 12.","body":"That doesn&#39;t really work like expected. It should end up with (n=10 : 4, n=11 : 3, n=12 : 2, n = 15 : 6). Your solution produces 0 for 12."}],"answers":[{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638778385,"creation_date":1638776665,"answer_id":70242245,"question_id":70242171,"body_markdown":"What&#39;s wrong with `val = val % max` ? (If anything, please show more counterexamples.)\r\n\r\nUPDATE: assuming the *Bound* in image is the same thing as `max` variable it seems you want expression `max - (val - 1) % (max + 1)`.","title":"How can I underflow a number in constant time O(1)?","body":"<p>What's wrong with <code>val = val % max</code> ? (If anything, please show more counterexamples.)</p>\n<p>UPDATE: assuming the <em>Bound</em> in image is the same thing as <code>max</code> variable it seems you want expression <code>max - (val - 1) % (max + 1)</code>.</p>\n"}],"owner":{"display_name":"user14978390"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70242245,"answer_count":1,"score":1,"last_activity_date":1638778385,"creation_date":1638776236,"question_id":70242171,"body_markdown":"I want to create a &quot;datatype&quot;, that does an underflow in constant time.\r\nSo if you have `10` as an upper bound, and pass the value `12`, it gives you `8`.\r\n\r\nIn the following code, `max` is the upper entry bound for my value `val`. \r\n\r\n    while(val &gt; max)\r\n       val -= max;\r\nCurrently I have only this iterative code, which could be expressed with a modulo-operation. I just don&#39;t know how.\r\n\r\nExample for `6`\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yJKi8.png","title":"How can I underflow a number in constant time O(1)?","body":"<p>I want to create a &quot;datatype&quot;, that does an underflow in constant time.\nSo if you have <code>10</code> as an upper bound, and pass the value <code>12</code>, it gives you <code>8</code>.</p>\n<p>In the following code, <code>max</code> is the upper entry bound for my value <code>val</code>.</p>\n<pre><code>while(val &gt; max)\n   val -= max;\n</code></pre>\n<p>Currently I have only this iterative code, which could be expressed with a modulo-operation. I just don't know how.</p>\n<p>Example for <code>6</code>\n<a href=\"https://i.stack.imgur.com/yJKi8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yJKi8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","download"],"answers":[{"tags":[],"owner":{"account_id":5032644,"reputation":1183,"user_id":4042384,"display_name":"gpuser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638778375,"creation_date":1638778375,"answer_id":70242518,"question_id":70242164,"body_markdown":"Please just try this class of code way may help you\r\n\r\n    public class DownloadHelper {\r\n        private long downloadReference = 0\r\n        private DownloadManager downloadManager;\r\n        DownloadCompleteListener completeListener= null;\r\n        \r\n        public interface DownloadCompleteListener{\r\n            void ondownloadComplete(String name,String path,Uri uri);\r\n            void ondownloadFailled(String error);\r\n        }\r\n    \r\n    \r\n        private BroadcastReceiver receiver = new BroadcastReceiver () {\r\n            \r\n            @Override\r\n            void onReceive(Context context, Intent intent) {\r\n                String action = intent.getAction();\r\n                if (action == DownloadManager.ACTION_DOWNLOAD_COMPLETE) {\r\n                    long downloadId = intent.getLongExtra(DownloadManager.EXTRA_DOWNLOAD_ID, -1);\r\n                    if (downloadId != downloadReference) {\r\n                        context.unregisterReceiver(this);\r\n                        return;\r\n                    }\r\n                    DownloadManager.Query query = new DownloadManager.Query();\r\n                    query.setFilterById(downloadReference);\r\n                    Cursor cursor = downloadManager.query(query);\r\n                    if(cursor != null){\r\n                        if (cursor.moveToFirst()) {\r\n                            int columnIndex = cursor.getColumnIndex(DownloadManager.COLUMN_STATUS);\r\n                            if (DownloadManager.STATUS_SUCCESSFUL == cursor.getInt(columnIndex)) {\r\n                                String localFile = cursor.getString(cursor.getColumnIndex(DownloadManager.COLUMN_LOCAL_URI));\r\n                                String localName = localFile.substring(localFile.lastIndexOf(&quot;/&quot;)+1);//cursor.getString(cursor.getColumnIndex(DownloadManager.COLUMN_LOCAL_FILENAME))\r\n                                completeListener.ondownloadComplete(localName,localFile,null);\r\n                            } else if (DownloadManager.STATUS_FAILED == cursor.getInt(columnIndex)) {\r\n                                completeListener.ondownloadFailled(cursor.getString(cursor.getColumnIndex(DownloadManager.COLUMN_REASON)));\r\n                            }\r\n                        }else{\r\n                            completeListener.ondownloadFailled(&quot;Download cancelled or failled&quot;);\r\n                        }\r\n                        cursor.close();\r\n                    }else{\r\n                        completeListener.ondownloadFailled(&quot;Download cancelled or failled&quot;);\r\n                    }\r\n                    context.unregisterReceiver(this);\r\n                }\r\n            }\r\n        };\r\n    \r\n        public String getallreadyfile(String name){\r\n            return Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\r\n                    .getAbsolutePath().toString() + &quot;/&quot; + name;\r\n        }\r\n    \r\n        public void downloadFile(Context context,String url,String mimeType,DownloadCompleteListener completeListener) {\r\n            this.completeListener = completeListener;\r\n            String guessFileName = URLUtil.guessFileName(url, null, mimeType);\r\n            if(url == null || url.isEmpty()){            \r\n                return;\r\n            }\r\n            String allreadyfile = getallreadyfile(guessFileName);\r\n            File applictionFile = new File(allreadyfile);\r\n            if(isAllreadyAvailabel(context,applictionFile)){\r\n                completeListener.ondownloadComplete(applictionFile.getName(),applictionFile.getAbsolutePath(),null);\r\n                return\r\n            }\r\n    \r\n            downloadManager = (DownloadManager) context.getSystemService(Context.DOWNLOAD_SERVICE);\r\n            Uri downloadUri = Uri.parse(url);\r\n            DownloadManager.Request request = new DownloadManager.Request(downloadUri);\r\n            request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_MOBILE).setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI);\r\n            //setAllowedOverRoaming(true)\r\n    //            setTitle(guessFileName)\r\n    //            setDescription(guessFileName)\r\n    //            setVisibleInDownloadsUi(true)\r\n            request.allowScanningByMediaScanner();\r\n    //            setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\r\n    \r\n            //request.setDestinationUri(Uri.fromFile(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES)))\r\n            request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, guessFileName);\r\n    \r\n            context.registerReceiver(receiver, new IntentFilter(DownloadManager.ACTION_DOWNLOAD_COMPLETE));\r\n    \r\n            downloadReference = downloadManager.enqueue(request);\r\n        }\r\n    \r\n        public boolean isAllreadyAvailabel(Context context,File applictionFile){\r\n            if(applictionFile.canRead() &amp;&amp; applictionFile.length()&gt;0) {\r\n                return true;\r\n            }else{\r\n                try {\r\n                    File file = new File(applictionFile.getAbsolutePath());\r\n                    if (file.exists()) {\r\n                        file.delete();\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    }","title":"Trouble with dowload file from Android app","body":"<p>Please just try this class of code way may help you</p>\n<pre><code>public class DownloadHelper {\n    private long downloadReference = 0\n    private DownloadManager downloadManager;\n    DownloadCompleteListener completeListener= null;\n    \n    public interface DownloadCompleteListener{\n        void ondownloadComplete(String name,String path,Uri uri);\n        void ondownloadFailled(String error);\n    }\n\n\n    private BroadcastReceiver receiver = new BroadcastReceiver () {\n        \n        @Override\n        void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (action == DownloadManager.ACTION_DOWNLOAD_COMPLETE) {\n                long downloadId = intent.getLongExtra(DownloadManager.EXTRA_DOWNLOAD_ID, -1);\n                if (downloadId != downloadReference) {\n                    context.unregisterReceiver(this);\n                    return;\n                }\n                DownloadManager.Query query = new DownloadManager.Query();\n                query.setFilterById(downloadReference);\n                Cursor cursor = downloadManager.query(query);\n                if(cursor != null){\n                    if (cursor.moveToFirst()) {\n                        int columnIndex = cursor.getColumnIndex(DownloadManager.COLUMN_STATUS);\n                        if (DownloadManager.STATUS_SUCCESSFUL == cursor.getInt(columnIndex)) {\n                            String localFile = cursor.getString(cursor.getColumnIndex(DownloadManager.COLUMN_LOCAL_URI));\n                            String localName = localFile.substring(localFile.lastIndexOf(&quot;/&quot;)+1);//cursor.getString(cursor.getColumnIndex(DownloadManager.COLUMN_LOCAL_FILENAME))\n                            completeListener.ondownloadComplete(localName,localFile,null);\n                        } else if (DownloadManager.STATUS_FAILED == cursor.getInt(columnIndex)) {\n                            completeListener.ondownloadFailled(cursor.getString(cursor.getColumnIndex(DownloadManager.COLUMN_REASON)));\n                        }\n                    }else{\n                        completeListener.ondownloadFailled(&quot;Download cancelled or failled&quot;);\n                    }\n                    cursor.close();\n                }else{\n                    completeListener.ondownloadFailled(&quot;Download cancelled or failled&quot;);\n                }\n                context.unregisterReceiver(this);\n            }\n        }\n    };\n\n    public String getallreadyfile(String name){\n        return Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\n                .getAbsolutePath().toString() + &quot;/&quot; + name;\n    }\n\n    public void downloadFile(Context context,String url,String mimeType,DownloadCompleteListener completeListener) {\n        this.completeListener = completeListener;\n        String guessFileName = URLUtil.guessFileName(url, null, mimeType);\n        if(url == null || url.isEmpty()){            \n            return;\n        }\n        String allreadyfile = getallreadyfile(guessFileName);\n        File applictionFile = new File(allreadyfile);\n        if(isAllreadyAvailabel(context,applictionFile)){\n            completeListener.ondownloadComplete(applictionFile.getName(),applictionFile.getAbsolutePath(),null);\n            return\n        }\n\n        downloadManager = (DownloadManager) context.getSystemService(Context.DOWNLOAD_SERVICE);\n        Uri downloadUri = Uri.parse(url);\n        DownloadManager.Request request = new DownloadManager.Request(downloadUri);\n        request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_MOBILE).setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI);\n        //setAllowedOverRoaming(true)\n//            setTitle(guessFileName)\n//            setDescription(guessFileName)\n//            setVisibleInDownloadsUi(true)\n        request.allowScanningByMediaScanner();\n//            setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\n\n        //request.setDestinationUri(Uri.fromFile(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES)))\n        request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, guessFileName);\n\n        context.registerReceiver(receiver, new IntentFilter(DownloadManager.ACTION_DOWNLOAD_COMPLETE));\n\n        downloadReference = downloadManager.enqueue(request);\n    }\n\n    public boolean isAllreadyAvailabel(Context context,File applictionFile){\n        if(applictionFile.canRead() &amp;&amp; applictionFile.length()&gt;0) {\n            return true;\n        }else{\n            try {\n                File file = new File(applictionFile.getAbsolutePath());\n                if (file.exists()) {\n                    file.delete();\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20859206,"reputation":17,"user_id":15321818,"display_name":"Nikolai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70242518,"answer_count":1,"score":0,"last_activity_date":1638778375,"creation_date":1638776192,"question_id":70242164,"body_markdown":"It is necessary to download a file from a web server through the application, but the file is not loaded, here is the code that I am using:\r\n```\r\n manager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\r\n Uri uri = Uri.parse(&quot;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&quot;);\r\n DownloadManager.Request request = new DownloadManager.Request(uri);\r\n request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE);\r\n long reference = manager.enqueue(request);\r\n```\r\n\r\nIn the manifest, I have these permissions:\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_DOWNLOAD_MANAGER&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_DELETE_PACKAGES&quot;/&gt;\r\n```\r\n\r\nThe file is created on the device, but the mark is &quot;in the queue&quot; and nothing further happens.\r\n\r\nIf you just follow the links in the browser, then the download occurs without problems.\r\n\r\nThrough the settings - access to the device&#39;s memory is also checked.\r\n\r\nWhere did I go wrong?","title":"Trouble with dowload file from Android app","body":"<p>It is necessary to download a file from a web server through the application, but the file is not loaded, here is the code that I am using:</p>\n<pre><code> manager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\n Uri uri = Uri.parse(&quot;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&quot;);\n DownloadManager.Request request = new DownloadManager.Request(uri);\n request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE);\n long reference = manager.enqueue(request);\n</code></pre>\n<p>In the manifest, I have these permissions:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_DOWNLOAD_MANAGER&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_DELETE_PACKAGES&quot;/&gt;\n</code></pre>\n<p>The file is created on the device, but the mark is &quot;in the queue&quot; and nothing further happens.</p>\n<p>If you just follow the links in the browser, then the download occurs without problems.</p>\n<p>Through the settings - access to the device's memory is also checked.</p>\n<p>Where did I go wrong?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":78500,"reputation":149064,"user_id":223386,"accept_rate":99,"display_name":"hsz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1346414909,"creation_date":1346414552,"answer_id":12214986,"question_id":12214894,"body_markdown":"Try with:\r\n\r\n    int page    = 1; // starts with 0, so we on the 2nd page\r\n    int perPage = 2;\r\n    \r\n    String[] list    = new String[] {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;};\r\n    String[] subList = null;\r\n\r\n    int size = list.length;\r\n    int from = page * perPage;\r\n    int to   = (page + 1) * perPage;\r\n        to   = to &lt; size ? to : size;\r\n\r\n    if ( from &lt; size ) {\r\n        subList = Arrays.copyOfRange(list, from, to);\r\n    }","title":"java paging util","body":"<p>Try with:</p>\n\n<pre><code>int page    = 1; // starts with 0, so we on the 2nd page\nint perPage = 2;\n\nString[] list    = new String[] {\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"};\nString[] subList = null;\n\nint size = list.length;\nint from = page * perPage;\nint to   = (page + 1) * perPage;\n    to   = to &lt; size ? to : size;\n\nif ( from &lt; size ) {\n    subList = Arrays.copyOfRange(list, from, to);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346414558,"creation_date":1346414558,"answer_id":12214988,"question_id":12214894,"body_markdown":"As per your question simple `List.subList` will give you expected behaviour \r\n    size()/ 2= number of pages \r\n","title":"java paging util","body":"<p>As per your question simple <code>List.subList</code> will give you expected behaviour \n    size()/ 2= number of pages </p>\n"},{"tags":[],"owner":{"account_id":83369,"reputation":15890,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"down_vote_count":1,"up_vote_count":25,"is_accepted":true,"score":24,"last_activity_date":1346414587,"creation_date":1346414587,"answer_id":12214991,"question_id":12214894,"body_markdown":"    int sizePerPage=2;\r\n    int page=2;\r\n\r\n    int from = Math.max(0,page*sizePerPage);\r\n    int to = Math.min(list.size(),(page+1)*sizePerPage)\r\n    \r\n    list.subList(from,to)","title":"java paging util","body":"<pre><code>int sizePerPage=2;\nint page=2;\n\nint from = Math.max(0,page*sizePerPage);\nint to = Math.min(list.size(),(page+1)*sizePerPage)\n\nlist.subList(from,to)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346414837,"creation_date":1346414837,"answer_id":12215054,"question_id":12214894,"body_markdown":"You could use `List.subList` using `Math.min` to guard against `ArrayIndexOutOfBoundsException` :\r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\r\n    int pageSize = 2;\r\n    for (int i=0; i &lt; list.size(); i += pageSize) {\r\n    \tSystem.out.println(list.subList(i, Math.min(list.size(), i + pageSize)));\r\n    }\r\n\r\n\r\n","title":"java paging util","body":"<p>You could use <code>List.subList</code> using <code>Math.min</code> to guard against <code>ArrayIndexOutOfBoundsException</code> :</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"a\", \"b\", \"c\", \"d\", \"e\");\nint pageSize = 2;\nfor (int i=0; i &lt; list.size(); i += pageSize) {\n    System.out.println(list.subList(i, Math.min(list.size(), i + pageSize)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346415338,"creation_date":1346415338,"answer_id":12215185,"question_id":12214894,"body_markdown":"Try this:            \r\n\r\n    int pagesize = 2;\r\n    int currentpage = 2;\r\n    list.subList(pagesize*(currentpage-1), pagesize*currentpage);\r\n\r\nThis code returns a list with only the elements you want (a page).\r\n\r\nYou should check the index also to avoid java.lang.IndexOutOfBoundsException.","title":"java paging util","body":"<p>Try this:            </p>\n\n<pre><code>int pagesize = 2;\nint currentpage = 2;\nlist.subList(pagesize*(currentpage-1), pagesize*currentpage);\n</code></pre>\n\n<p>This code returns a list with only the elements you want (a page).</p>\n\n<p>You should check the index also to avoid java.lang.IndexOutOfBoundsException.</p>\n"},{"tags":[],"owner":{"account_id":538604,"reputation":6852,"user_id":906523,"accept_rate":78,"display_name":"Walery Strauch"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1406727677,"creation_date":1406727677,"answer_id":25038430,"question_id":12214894,"body_markdown":"With Java 8 steams:\r\n\r\n    list.stream()\r\n      .skip(page * size)\r\n      .limit(size)\r\n      .collect(Collectors.toCollection(ArrayList::new));","title":"java paging util","body":"<p>With Java 8 steams:</p>\n\n<pre><code>list.stream()\n  .skip(page * size)\n  .limit(size)\n  .collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4539223,"reputation":1311,"user_id":3687575,"accept_rate":78,"display_name":"Lucas Pires"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1474382697,"creation_date":1444853107,"answer_id":33134607,"question_id":12214894,"body_markdown":"Simple method\r\n\r\n      public static &lt;T&gt; List&lt;T&gt; paginate(Page page, List&lt;T&gt; list) {\r\n          int fromIndex = (page.getNumPage() - 1) * page.getLenght();\r\n          int toIndex = fromIndex + page.getLenght();\r\n\r\n          if (toIndex &gt; list.size()) {\r\n            toIndex = list.size();\r\n          }\r\n\r\n          if (fromIndex &gt; toIndex) {\r\n            fromIndex = toIndex;\r\n          }\r\n\r\n          return list.subList(fromIndex, toIndex);\r\n      }","title":"java paging util","body":"<p>Simple method</p>\n\n<pre><code>  public static &lt;T&gt; List&lt;T&gt; paginate(Page page, List&lt;T&gt; list) {\n      int fromIndex = (page.getNumPage() - 1) * page.getLenght();\n      int toIndex = fromIndex + page.getLenght();\n\n      if (toIndex &gt; list.size()) {\n        toIndex = list.size();\n      }\n\n      if (fromIndex &gt; toIndex) {\n        fromIndex = toIndex;\n      }\n\n      return list.subList(fromIndex, toIndex);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4024282,"reputation":231,"user_id":4592648,"display_name":"Monday Fatigue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638777654,"creation_date":1638720625,"answer_id":70236108,"question_id":12214894,"body_markdown":"Uses lombok for getters and setters\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Pagination&lt;T&gt; {\r\n      \r\n      private int pageSize = 10;\r\n      private int paginationSize = 9;\r\n      private int currentPage = 0;\r\n      private List&lt;T&gt; list = null;\r\n    \r\n      public Pagination(List&lt;T&gt; list) {\r\n        this.list = list;\r\n      }\r\n      \r\n      public int getSize() {\r\n        return list == null ? 0 : list.size();\r\n      }\r\n      \r\n      public int getOffset() {\r\n        return getPageSize() * getCurrentPage();\r\n      }\r\n      \r\n      public int getLimit() {\r\n        return getPageSize();\r\n      }\r\n      \r\n      public List&lt;T&gt; getItemsOnCurrentPage() {\r\n        return list.subList(getOffset(), getOffset()+getLimit());\r\n      }\r\n      \r\n      public int getPageCount() {\r\n        return getSize() / getPageSize() + (getSize() % getPageSize() &gt; 0 ? 1 : 0);\r\n      }\r\n      \r\n      public int getActualPaginationSize() {\r\n        return Math.min(getPaginationSize(), getPageCount());\r\n      }\r\n      \r\n      public int getLastPage() {\r\n        return getPageCount() - 1;\r\n      }\r\n      \r\n      public int getStartPage() {\r\n        if (getPageCount() &gt; getPaginationSize()\r\n          &amp;&amp; getCurrentPage() &gt; getPaginationSize() / 2) {\r\n          return Math.min(getCurrentPage() - getPaginationSize() / 2,\r\n              getPageCount() - getActualPaginationSize());\r\n        } else {\r\n          return 0;\r\n        }\r\n      }\r\n      \r\n      public int getEndPage() {\r\n        return Math.min(getStartPage() + getPaginationSize(), getPageCount()) - 1;\r\n      }\r\n      \r\n      public void setCurrentPage(int newPage) {\r\n        if (newPage &lt; 0) newPage = 0;\r\n        if (newPage &gt; getLastPage()) newPage = getLastPage();\r\n        this.currentPage = newPage;\r\n      }\r\n      \r\n      public boolean isHasPreviousPage() {\r\n        return hasPreviousPage();\r\n      }\r\n      \r\n      public boolean hasPreviousPage() {\r\n        return getStartPage() &gt; 0;\r\n      }\r\n      \r\n      public boolean isHasNextPage() {\r\n        return hasNextPage();\r\n      }\r\n      \r\n      public boolean hasNextPage() {\r\n        return getEndPage() &lt; getLastPage();\r\n      }\r\n      \r\n      public boolean isShouldShowFirst() {\r\n        return shouldShowFirst();\r\n      }\r\n      \r\n      public boolean shouldShowFirst() {\r\n        return getStartPage() - getPaginationSize() / 2 &gt; 0;\r\n      }\r\n      \r\n      public boolean isShouldShowLast() {\r\n        return shouldShowLast();\r\n      }\r\n      \r\n      public boolean shouldShowLast() {\r\n        return getEndPage() + getPaginationSize() / 2 &lt; getLastPage();\r\n      }\r\n      \r\n    }\r\n\r\nPage index start at 0, and current page is centered.","title":"java paging util","body":"<p>Uses lombok for getters and setters</p>\n<pre><code>@Getter\n@Setter\npublic class Pagination&lt;T&gt; {\n  \n  private int pageSize = 10;\n  private int paginationSize = 9;\n  private int currentPage = 0;\n  private List&lt;T&gt; list = null;\n\n  public Pagination(List&lt;T&gt; list) {\n    this.list = list;\n  }\n  \n  public int getSize() {\n    return list == null ? 0 : list.size();\n  }\n  \n  public int getOffset() {\n    return getPageSize() * getCurrentPage();\n  }\n  \n  public int getLimit() {\n    return getPageSize();\n  }\n  \n  public List&lt;T&gt; getItemsOnCurrentPage() {\n    return list.subList(getOffset(), getOffset()+getLimit());\n  }\n  \n  public int getPageCount() {\n    return getSize() / getPageSize() + (getSize() % getPageSize() &gt; 0 ? 1 : 0);\n  }\n  \n  public int getActualPaginationSize() {\n    return Math.min(getPaginationSize(), getPageCount());\n  }\n  \n  public int getLastPage() {\n    return getPageCount() - 1;\n  }\n  \n  public int getStartPage() {\n    if (getPageCount() &gt; getPaginationSize()\n      &amp;&amp; getCurrentPage() &gt; getPaginationSize() / 2) {\n      return Math.min(getCurrentPage() - getPaginationSize() / 2,\n          getPageCount() - getActualPaginationSize());\n    } else {\n      return 0;\n    }\n  }\n  \n  public int getEndPage() {\n    return Math.min(getStartPage() + getPaginationSize(), getPageCount()) - 1;\n  }\n  \n  public void setCurrentPage(int newPage) {\n    if (newPage &lt; 0) newPage = 0;\n    if (newPage &gt; getLastPage()) newPage = getLastPage();\n    this.currentPage = newPage;\n  }\n  \n  public boolean isHasPreviousPage() {\n    return hasPreviousPage();\n  }\n  \n  public boolean hasPreviousPage() {\n    return getStartPage() &gt; 0;\n  }\n  \n  public boolean isHasNextPage() {\n    return hasNextPage();\n  }\n  \n  public boolean hasNextPage() {\n    return getEndPage() &lt; getLastPage();\n  }\n  \n  public boolean isShouldShowFirst() {\n    return shouldShowFirst();\n  }\n  \n  public boolean shouldShowFirst() {\n    return getStartPage() - getPaginationSize() / 2 &gt; 0;\n  }\n  \n  public boolean isShouldShowLast() {\n    return shouldShowLast();\n  }\n  \n  public boolean shouldShowLast() {\n    return getEndPage() + getPaginationSize() / 2 &lt; getLastPage();\n  }\n  \n}\n</code></pre>\n<p>Page index start at 0, and current page is centered.</p>\n"}],"owner":{"account_id":1768007,"reputation":583,"user_id":1613383,"accept_rate":8,"display_name":"Alstresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17067,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":12214991,"answer_count":8,"score":15,"last_activity_date":1638777654,"creation_date":1346414225,"question_id":12214894,"body_markdown":"I have List of Object. I need to do pagination.  \r\nThe input parameters are the maximum number object per Page and Page number.\r\n\r\nFor example  input `list  = (&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;)`   \r\nThe maximum number per Page is 2\r\nPage number is 2\r\nResult = (&quot;c&quot;, &quot;d&quot;)\r\n\r\nAre there any ready-made classes(libs) to do this?  For example Apache project or so on.","title":"java paging util","body":"<p>I have List of Object. I need to do pagination.<br>\nThe input parameters are the maximum number object per Page and Page number.</p>\n\n<p>For example  input <code>list  = (\"a\", \"b\", \"c\", \"d\", \"e\", \"f\")</code><br>\nThe maximum number per Page is 2\nPage number is 2\nResult = (\"c\", \"d\")</p>\n\n<p>Are there any ready-made classes(libs) to do this?  For example Apache project or so on.</p>\n"},{"tags":["java","hibernate","validation","microservices"],"answers":[{"tags":[],"owner":{"account_id":15223721,"reputation":26,"user_id":10984930,"display_name":"bz5314520"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638776864,"creation_date":1638776864,"answer_id":70242274,"question_id":67585483,"body_markdown":"you can use adapter to composite a validated object, yep, Other microservices don&#39;t care about other fields, [LOD][1] is right way. You need to think about the unnecessary knowledge burden on other services as well\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Law_of_Demeter","title":"Validate an object in 2 microservices with different requirements","body":"<p>you can use adapter to composite a validated object, yep, Other microservices don't care about other fields, <a href=\"https://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"nofollow noreferrer\">LOD</a> is right way. You need to think about the unnecessary knowledge burden on other services as well</p>\n"}],"owner":{"account_id":17984072,"reputation":1,"user_id":13069743,"display_name":"Alvaro Garc&#237;a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638777522,"creation_date":1621338208,"question_id":67585483,"body_markdown":"I&#39;ve been looking for info about this but nothing found, so I will try to explain it correctly:\r\nWe have a Class, `rqtDto.class` used in a parent library. This class has the next code:\r\n\r\n    @Getter\r\n    @Setter\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @GroupSequence({ Security.class, Validations.class, Functionals.class,\r\n    \t\trqtDto.class })\r\n    public class rqtDto {\r\n    \r\n    \t/**\r\n    \t * Unique Identifier.\r\n    \t */\r\n    \t@CyberSecurity(groups = Security.class)\r\n    \t@NotBlank(groups = Validations.class, message = &quot;blank&quot;)\r\n    \t@Size(min = 0, max = 32, groups = Validations.class, message = &quot;invalid data&quot;)\r\n    \t@myId(groups = Functionals.class)\r\n    \tprivate String myId;\r\n    \r\n    \t@CyberSecurity(groups = Security.class)\r\n    \t@NotNull(groups = Validations.class, message = &quot;is null&quot;)\r\n    \t@Enumeration(enumClazz = MyEnum.class, groups = Functionals.class, message = &quot;not allowed&quot;)\r\n    \tprivate String enumResult;\r\n    \r\n    \t@Builder.Default\r\n    \t@CyberSecurity(groups = Security.class)\r\n    \t@Enumeration(enumClazz = EnumValidation.class, groups = Functionals.class, message = &quot;not allowed&quot;)\r\n    \tprivate String myEnumValidation = EnumValidation.ALL.getCode();\r\n    \r\n    \t@Valid\r\n    \t@NotEmpty(groups = Validations.class, message = &quot;empty&quot;)\r\n    \tprivate Collection&lt;ClientsDto&gt; clients;\r\n    }\r\n\r\n\r\n\r\nSo, this class is the input in our main microservice. \r\nAll validations are OK, but, in some point, we have to send it to another microservice.\r\nThis microservice will use only some of those fields to call to a external service, but we have to validate those fields. \r\n\r\nWe was thinking in create some annotations like the ones contained in next code to validate only some fields from the `rqtDto` class in the second, third, fourth microservice:\r\n\r\n    public class rqtDto {\r\n    \r\n        /**\r\n         * Unique Identifier.\r\n         */\r\n        @CyberSecurity(groups = Security.class)\r\n        @NotBlank(groups = Validations.class, message = &quot;blank&quot;)\r\n        @Size(min = 0, max = 32, groups = Validations.class, message = &quot;invalid data&quot;)\r\n        @myId(groups = Functionals.class)\r\n        @ValidateInSecondMicroservice //new @, this property must be validated in the second Microservice\r\n        private String myId;\r\n\r\n        @CyberSecurity(groups = Security.class)\r\n        @NotNull(groups = Validations.class, message = &quot;is null&quot;)\r\n        @Enumeration(enumClazz = MyEnum.class, groups = Functionals.class, message = &quot;not allowed&quot;)\r\n        private String enumResult; // this property has not @ValidateInSecondMicroservice, so this property must not be validated in the second microservice.\r\n\r\n\r\nSo the problem is: how can I switch on/off the validation of some fields in the second, third, fourth microservice, and have a full object validation in the first microservice?\r\n\r\nI was reading about this in the jboss documentation, but the &quot;most approximately solution&quot; I got was: create a new object with new validations but extended from the `rqtDto.class`. \r\nBut that&#39;s not possible, must be the same class, located in the main library, used by all the rest of the microservices.","title":"Validate an object in 2 microservices with different requirements","body":"<p>I've been looking for info about this but nothing found, so I will try to explain it correctly:\nWe have a Class, <code>rqtDto.class</code> used in a parent library. This class has the next code:</p>\n<pre><code>@Getter\n@Setter\n@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\n@GroupSequence({ Security.class, Validations.class, Functionals.class,\n        rqtDto.class })\npublic class rqtDto {\n\n    /**\n     * Unique Identifier.\n     */\n    @CyberSecurity(groups = Security.class)\n    @NotBlank(groups = Validations.class, message = &quot;blank&quot;)\n    @Size(min = 0, max = 32, groups = Validations.class, message = &quot;invalid data&quot;)\n    @myId(groups = Functionals.class)\n    private String myId;\n\n    @CyberSecurity(groups = Security.class)\n    @NotNull(groups = Validations.class, message = &quot;is null&quot;)\n    @Enumeration(enumClazz = MyEnum.class, groups = Functionals.class, message = &quot;not allowed&quot;)\n    private String enumResult;\n\n    @Builder.Default\n    @CyberSecurity(groups = Security.class)\n    @Enumeration(enumClazz = EnumValidation.class, groups = Functionals.class, message = &quot;not allowed&quot;)\n    private String myEnumValidation = EnumValidation.ALL.getCode();\n\n    @Valid\n    @NotEmpty(groups = Validations.class, message = &quot;empty&quot;)\n    private Collection&lt;ClientsDto&gt; clients;\n}\n</code></pre>\n<p>So, this class is the input in our main microservice.\nAll validations are OK, but, in some point, we have to send it to another microservice.\nThis microservice will use only some of those fields to call to a external service, but we have to validate those fields.</p>\n<p>We was thinking in create some annotations like the ones contained in next code to validate only some fields from the <code>rqtDto</code> class in the second, third, fourth microservice:</p>\n<pre><code>public class rqtDto {\n\n    /**\n     * Unique Identifier.\n     */\n    @CyberSecurity(groups = Security.class)\n    @NotBlank(groups = Validations.class, message = &quot;blank&quot;)\n    @Size(min = 0, max = 32, groups = Validations.class, message = &quot;invalid data&quot;)\n    @myId(groups = Functionals.class)\n    @ValidateInSecondMicroservice //new @, this property must be validated in the second Microservice\n    private String myId;\n\n    @CyberSecurity(groups = Security.class)\n    @NotNull(groups = Validations.class, message = &quot;is null&quot;)\n    @Enumeration(enumClazz = MyEnum.class, groups = Functionals.class, message = &quot;not allowed&quot;)\n    private String enumResult; // this property has not @ValidateInSecondMicroservice, so this property must not be validated in the second microservice.\n</code></pre>\n<p>So the problem is: how can I switch on/off the validation of some fields in the second, third, fourth microservice, and have a full object validation in the first microservice?</p>\n<p>I was reading about this in the jboss documentation, but the &quot;most approximately solution&quot; I got was: create a new object with new validations but extended from the <code>rqtDto.class</code>.\nBut that's not possible, must be the same class, located in the main library, used by all the rest of the microservices.</p>\n"},{"tags":["java","connection-pooling","tomcat-jdbc"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1638777843,"post_id":70241124,"comment_id":124169434,"body_markdown":"That is hardly possible that increasing pool size may improve performance or throughput, check this video for example: https://www.youtube.com/watch?v=Oo-tBpVewP4","body":"That is hardly possible that increasing pool size may improve performance or throughput, check this video for example: <a href=\"https://www.youtube.com/watch?v=Oo-tBpVewP4\" rel=\"nofollow noreferrer\">youtube.com/watch?v=Oo-tBpVewP4</a>"}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638777355,"creation_date":1638777355,"answer_id":70242365,"question_id":70241124,"body_markdown":"The *pool size* is what&#39;s adjusting dynamically. That&#39;s what it&#39;s there for.\r\n\r\nThe *max pool size* is the amount of resources that you&#39;re ready to share with the application - e.g. due to available bandwidth, memory, or other. Set the max value to whatever you&#39;re ok with the application to use under expected or unexpected load. The application will use resources according to the current actual load.\r\n\r\nSo, even if you can come up with a dynamic way to adjust, it wouldn&#39;t make much sense.","title":"Dynamic resizing connection pool size - Apache Tomcat JDBC Connection Pool","body":"<p>The <em>pool size</em> is what's adjusting dynamically. That's what it's there for.</p>\n<p>The <em>max pool size</em> is the amount of resources that you're ready to share with the application - e.g. due to available bandwidth, memory, or other. Set the max value to whatever you're ok with the application to use under expected or unexpected load. The application will use resources according to the current actual load.</p>\n<p>So, even if you can come up with a dynamic way to adjust, it wouldn't make much sense.</p>\n"}],"owner":{"account_id":2918128,"reputation":1303,"user_id":2500927,"accept_rate":30,"display_name":"Avyaan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638777355,"creation_date":1638767502,"question_id":70241124,"body_markdown":"Is there any way to increase maxpoolsize dynamically based on the application load.","title":"Dynamic resizing connection pool size - Apache Tomcat JDBC Connection Pool","body":"<p>Is there any way to increase maxpoolsize dynamically based on the application load.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1638551832,"post_id":70181371,"comment_id":124127525,"body_markdown":"Unless you sync with server&#39;s current time, it&#39;ll be prone to exploiting.","body":"Unless you sync with server&#39;s current time, it&#39;ll be prone to exploiting."}],"answers":[{"tags":[],"owner":{"account_id":41689,"reputation":25007,"user_id":121260,"accept_rate":75,"display_name":"Eric Darchis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638524616,"creation_date":1638524616,"answer_id":70212242,"question_id":70181371,"body_markdown":"You would need to store two bits of information:\r\n* sync, being the number of days of consecutive sync\r\n* last_sync, being the date of the previous sync\r\n\r\nThen, when connecting, you have the logic:\r\n* if last_sync was today, don&#39;t do anything\r\n* if last_sync was yesterday, increment the sync counter and store the date into the last_sync\r\n* if last_sync is older than yesterday or not present, reset sync to 0 and store the date into the last_sync\r\n","title":"Streak of the user consecutively login in the app(Android)","body":"<p>You would need to store two bits of information:</p>\n<ul>\n<li>sync, being the number of days of consecutive sync</li>\n<li>last_sync, being the date of the previous sync</li>\n</ul>\n<p>Then, when connecting, you have the logic:</p>\n<ul>\n<li>if last_sync was today, don't do anything</li>\n<li>if last_sync was yesterday, increment the sync counter and store the date into the last_sync</li>\n<li>if last_sync is older than yesterday or not present, reset sync to 0 and store the date into the last_sync</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638548965,"creation_date":1638534310,"answer_id":70214298,"question_id":70181371,"body_markdown":"You can save date information in [shared preferences][1] and make use of it when the user logs in again. I commented few methods, uncomment and use them in the android environment.\r\n\r\n    class ConsecutiveDayChecker {\r\n    \r\n        /**\r\n         * Call this method when user login\r\n         */\r\n        public void onUserLogin() {\r\n            DateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n            Date date = new Date();\r\n            String today = dateFormat.format(date);\r\n            String lastLoginDay = getLastLoginDate();\r\n    \r\n            String yesterday = getYesterdayDate(dateFormat, date);\r\n    \r\n            if (lastLoginDay == null) {\r\n                // user logged in for the first time\r\n                updateLastLoginDate(today);\r\n                incrementDays();\r\n            } else {\r\n                if (lastLoginDay.equals(today)) {\r\n                    // User logged in the same day , do nothing\r\n                } else if (lastLoginDay.equals(yesterday)) {\r\n                    // User logged in consecutive days , add 1\r\n                    updateLastLoginDate(today);\r\n                    incrementDays();\r\n                } else {\r\n                    // It&#39;s been more than a day user logged in, reset the counter to 1\r\n                    updateLastLoginDate(today);\r\n                    resetDays();\r\n                }\r\n            }\r\n        }\r\n    \r\n        private String getYesterdayDate(DateFormat simpleDateFormat, Date date) {\r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.setTime(date);\r\n            calendar.add(Calendar.DATE, -1);\r\n            return simpleDateFormat.format(calendar.getTime());\r\n        }\r\n    \r\n        /**\r\n         * Update last login date into the storage\r\n         * @param date\r\n         */\r\n        private void updateLastLoginDate(String date) {\r\n            // SharedPreferences sharedPref = getActivity().getPreferences(Context.MODE_PRIVATE);\r\n            // SharedPreferences.Editor editor = sharedPref.edit();\r\n            // editor.putString(&quot;last_login_day&quot;, date);\r\n            // editor.apply();\r\n        }\r\n    \r\n        /**\r\n         * Get last login date \r\n         * @return\r\n         */\r\n        private String getLastLoginDate() {\r\n            // String lastLogin = null;\r\n            // SharedPreferences sharedPref = getActivity().getPreferences(Context.MODE_PRIVATE);\r\n            // lastLogin = sharedPref.getString(&quot;last_login_day&quot;, null);\r\n            // return lastLogin;\r\n        }\r\n    \r\n        private int getConsecutiveDays() {\r\n            // int days = 0;\r\n            // SharedPreferences sharedPref = getActivity().getPreferences(Context.MODE_PRIVATE);\r\n            // days = sharedPref.getInt(&quot;num_consecutive_days&quot;, 0);\r\n            // return days;\r\n        }\r\n    \r\n        private void incrementDays() {\r\n            // int days = getConsecutiveDays() + 1;\r\n            // SharedPreferences sharedPref = getActivity().getPreferences(Context.MODE_PRIVATE);\r\n            // SharedPreferences.Editor editor = sharedPref.edit();\r\n            // editor.putInt(&quot;num_consecutive_days&quot;, days);\r\n            // editor.apply();\r\n        }\r\n    \r\n        private void resetDays() {\r\n            // int days = 1;\r\n            // SharedPreferences sharedPref = getActivity().getPreferences(Context.MODE_PRIVATE);\r\n            // SharedPreferences.Editor editor = sharedPref.edit();\r\n            // editor.putInt(&quot;num_consecutive_days&quot;, days);\r\n            // editor.apply();\r\n        }\r\n    \r\n        public int getStreak() {\r\n            return getConsecutiveDays();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared-preferences","title":"Streak of the user consecutively login in the app(Android)","body":"<p>You can save date information in <a href=\"https://developer.android.com/training/data-storage/shared-preferences\" rel=\"nofollow noreferrer\">shared preferences</a> and make use of it when the user logs in again. I commented few methods, uncomment and use them in the android environment.</p>\n<pre><code>class ConsecutiveDayChecker {\n\n    /**\n     * Call this method when user login\n     */\n    public void onUserLogin() {\n        DateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n        Date date = new Date();\n        String today = dateFormat.format(date);\n        String lastLoginDay = getLastLoginDate();\n\n        String yesterday = getYesterdayDate(dateFormat, date);\n\n        if (lastLoginDay == null) {\n            // user logged in for the first time\n            updateLastLoginDate(today);\n            incrementDays();\n        } else {\n            if (lastLoginDay.equals(today)) {\n                // User logged in the same day , do nothing\n            } else if (lastLoginDay.equals(yesterday)) {\n                // User logged in consecutive days , add 1\n                updateLastLoginDate(today);\n                incrementDays();\n            } else {\n                // It's been more than a day user logged in, reset the counter to 1\n                updateLastLoginDate(today);\n                resetDays();\n            }\n        }\n    }\n\n    private String getYesterdayDate(DateFormat simpleDateFormat, Date date) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(date);\n        calendar.add(Calendar.DATE, -1);\n        return simpleDateFormat.format(calendar.getTime());\n    }\n\n    /**\n     * Update last login date into the storage\n     * @param date\n     */\n    private void updateLastLoginDate(String date) {\n        // SharedPreferences sharedPref = getActivity().getPreferences(Context.MODE_PRIVATE);\n        // SharedPreferences.Editor editor = sharedPref.edit();\n        // editor.putString(&quot;last_login_day&quot;, date);\n        // editor.apply();\n    }\n\n    /**\n     * Get last login date \n     * @return\n     */\n    private String getLastLoginDate() {\n        // String lastLogin = null;\n        // SharedPreferences sharedPref = getActivity().getPreferences(Context.MODE_PRIVATE);\n        // lastLogin = sharedPref.getString(&quot;last_login_day&quot;, null);\n        // return lastLogin;\n    }\n\n    private int getConsecutiveDays() {\n        // int days = 0;\n        // SharedPreferences sharedPref = getActivity().getPreferences(Context.MODE_PRIVATE);\n        // days = sharedPref.getInt(&quot;num_consecutive_days&quot;, 0);\n        // return days;\n    }\n\n    private void incrementDays() {\n        // int days = getConsecutiveDays() + 1;\n        // SharedPreferences sharedPref = getActivity().getPreferences(Context.MODE_PRIVATE);\n        // SharedPreferences.Editor editor = sharedPref.edit();\n        // editor.putInt(&quot;num_consecutive_days&quot;, days);\n        // editor.apply();\n    }\n\n    private void resetDays() {\n        // int days = 1;\n        // SharedPreferences sharedPref = getActivity().getPreferences(Context.MODE_PRIVATE);\n        // SharedPreferences.Editor editor = sharedPref.edit();\n        // editor.putInt(&quot;num_consecutive_days&quot;, days);\n        // editor.apply();\n    }\n\n    public int getStreak() {\n        return getConsecutiveDays();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18681430,"reputation":41,"user_id":13617861,"display_name":"Karmesh Duggar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70214298,"answer_count":2,"score":-1,"last_activity_date":1638777274,"creation_date":1638348900,"question_id":70181371,"body_markdown":"I want to check how many days the user consecutively login into the app and store it to a sync counter variable(1 day mean sync=1) and increment the sync as the user login consecutively and as the user miss a day we set the sync counter to 0, how can I implement this functionality and calculate the sync variable.","title":"Streak of the user consecutively login in the app(Android)","body":"<p>I want to check how many days the user consecutively login into the app and store it to a sync counter variable(1 day mean sync=1) and increment the sync as the user login consecutively and as the user miss a day we set the sync counter to 0, how can I implement this functionality and calculate the sync variable.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1638767813,"post_id":70241099,"comment_id":124167213,"body_markdown":"1) Use key bindings over a key listener. 2) Use layouts. 3) [Edit] to add a [mre]. It does not take 2 classes &amp; over 300 lines of code to show a key listener failing. They can do that in 20 LOC.","body":"1) Use key bindings over a key listener. 2) Use layouts. 3) <a href=\"https://stackoverflow.com/posts/70241099/edit\">Edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. It does not take 2 classes &amp; over 300 lines of code to show a key listener failing. They can do that in 20 LOC."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638775725,"post_id":70241099,"comment_id":124168856,"body_markdown":"The long answer is, not like that.  Apart from using key bindings, you shouldn&#39;t need to switch windows, instead, have a &quot;master&quot; panel which does the switching for you.  Also, don&#39;t override `paint` and don&#39;t call `repaint` from within a running painting pass","body":"The long answer is, not like that.  Apart from using key bindings, you shouldn&#39;t need to switch windows, instead, have a &quot;master&quot; panel which does the switching for you.  Also, don&#39;t override <code>paint</code> and don&#39;t call <code>repaint</code> from within a running painting pass"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638777196,"creation_date":1638777196,"answer_id":70242336,"question_id":70241099,"body_markdown":"You&#39;re running in an event driven environment, that is, something happens and then you respond to it.\r\n\r\nYou&#39;ve taken a procedural approach to your design. Showing a window and some how hoping that the state of the window &quot;block&quot; the execution workflow and allow you to monitor some other state.  This is not how (non modal) windows work.\r\n\r\nWhen you call `setVisible`, it will return (almost) immediately, the display of the window will occur at some point in the future after that, depending on the OS and other overheads.\r\n\r\nThis means that `GP.flagCheck` will also fail.\r\n\r\nInstead, stop trying to do this with windows.  It&#39;s annoying (to the user).  Instead, just switch the panels, for example...\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.Timer;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MasterPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MasterPane extends JPanel {\r\n\r\n            public MasterPane() {\r\n                InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n                ActionMap am = getActionMap();\r\n\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), &quot;spaced&quot;);\r\n                am.put(&quot;spaced&quot;, new AbstractAction() {\r\n\r\n                    private int counter = 0;\r\n\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        JPanel next = null;\r\n                        if (counter == 0) {\r\n                            counter = 1;\r\n                            next = new LevelTwoPane();\r\n                        } else if (counter == 1) {\r\n                            counter = 0;\r\n                            next = new LevelOnePane();\r\n                        }\r\n                        if (next != null) {\r\n                            removeAll();\r\n                            add(next);\r\n                            revalidate();\r\n                            repaint();\r\n                        }\r\n                    }\r\n                });\r\n\r\n                setLayout(new BorderLayout());\r\n                add(new LevelOnePane());\r\n            }\r\n\r\n        }\r\n\r\n        protected abstract class AbstractGamePane extends JPanel {\r\n\r\n            private Timer timer;\r\n\r\n            protected abstract void tick();\r\n\r\n            protected void start() {\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                    timer = null;\r\n                }\r\n                timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        tick();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            protected void stop() {\r\n                if (timer == null) {\r\n                    return;\r\n                }\r\n                timer.stop();\r\n                timer = null;\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                stop();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n        }\r\n\r\n        public static class LevelOnePane extends AbstractGamePane {\r\n\r\n            protected static final String TEXT = &quot;Level one&quot;;\r\n\r\n            private int xPos = 0;\r\n            private int xDelta = 1;\r\n\r\n            @Override\r\n            protected void tick() {\r\n                xPos += xDelta;\r\n                FontMetrics fm = getFontMetrics(getFont());\r\n                if (xPos &gt; getWidth() - fm.stringWidth(TEXT)) {\r\n                    xPos = getWidth() - fm.stringWidth(TEXT);\r\n                    xDelta *= -1;\r\n                } else if (xPos &lt; 0) {\r\n                    xPos = 0;\r\n                    xDelta *= -1;\r\n                }\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                int yPos = ((getHeight() - fm.getHeight()) / 2) + fm.getAscent();\r\n                g2d.drawString(TEXT, xPos, yPos);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n        public class LevelTwoPane extends AbstractGamePane {\r\n\r\n            protected static final String TEXT = &quot;Level two&quot;;\r\n\r\n            private int xPos = 0;\r\n            private int xDelta = 1;\r\n\r\n            @Override\r\n            protected void tick() {\r\n                xPos += xDelta;\r\n                FontMetrics fm = getFontMetrics(getFont());\r\n                if (xPos &gt; getWidth() - fm.stringWidth(TEXT)) {\r\n                    xPos = getWidth() - fm.stringWidth(TEXT);\r\n                    xDelta *= -1;\r\n                } else if (xPos &lt; 0) {\r\n                    xPos = 0;\r\n                    xDelta *= -1;\r\n                }\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                int yPos = ((getHeight() - fm.getHeight()) / 2) + fm.getAscent();\r\n                g2d.drawString(TEXT, xPos, yPos);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n \r\nEven this is unnecessarily heavy handed.  An overall better solution would be to use a model/view/controller.\r\n\r\nThe model would carry all the information about the level that the view needed to render it and the controller would manage the interaction between the view and the model (ie the user taps a button, the view tells the controller and the controller makes decisions about what needs to be done, like updating the model or moving to the next level or what ever).\r\n\r\nYou really should take a look at [How to Use Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html), `KeyListener`s are just trouble waiting to happen.\r\n\r\nYou can also have a look at https://stackoverflow.com/questions/13528953/detecting-multiple-keypresses-in-java/13537419#13537419 for a more detailed example\r\n\r\nYou will note that the `MainPane` has a binding to &lt;kbd&gt;Space&lt;/kbd&gt;, but I would also set up key bindings, probably in the `AbstractGamePane`, assuming all game levels have the same controls, to manage the game play\r\n\r\nYou should also take a look at [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for a way to manage a &quot;game loop&quot; better.  Calling `repaint` within a running paint pass is asking for trouble (it will end up running your CPU hot)","title":"How do I move from one JFrame window to another on clicking the space bar?","body":"<p>You're running in an event driven environment, that is, something happens and then you respond to it.</p>\n<p>You've taken a procedural approach to your design. Showing a window and some how hoping that the state of the window &quot;block&quot; the execution workflow and allow you to monitor some other state.  This is not how (non modal) windows work.</p>\n<p>When you call <code>setVisible</code>, it will return (almost) immediately, the display of the window will occur at some point in the future after that, depending on the OS and other overheads.</p>\n<p>This means that <code>GP.flagCheck</code> will also fail.</p>\n<p>Instead, stop trying to do this with windows.  It's annoying (to the user).  Instead, just switch the panels, for example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.Timer;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MasterPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MasterPane extends JPanel {\n\n        public MasterPane() {\n            InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap am = getActionMap();\n\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), &quot;spaced&quot;);\n            am.put(&quot;spaced&quot;, new AbstractAction() {\n\n                private int counter = 0;\n\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    JPanel next = null;\n                    if (counter == 0) {\n                        counter = 1;\n                        next = new LevelTwoPane();\n                    } else if (counter == 1) {\n                        counter = 0;\n                        next = new LevelOnePane();\n                    }\n                    if (next != null) {\n                        removeAll();\n                        add(next);\n                        revalidate();\n                        repaint();\n                    }\n                }\n            });\n\n            setLayout(new BorderLayout());\n            add(new LevelOnePane());\n        }\n\n    }\n\n    protected abstract class AbstractGamePane extends JPanel {\n\n        private Timer timer;\n\n        protected abstract void tick();\n\n        protected void start() {\n            if (timer != null) {\n                timer.stop();\n                timer = null;\n            }\n            timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    tick();\n                }\n            });\n            timer.start();\n        }\n\n        protected void stop() {\n            if (timer == null) {\n                return;\n            }\n            timer.stop();\n            timer = null;\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            stop();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n    }\n\n    public static class LevelOnePane extends AbstractGamePane {\n\n        protected static final String TEXT = &quot;Level one&quot;;\n\n        private int xPos = 0;\n        private int xDelta = 1;\n\n        @Override\n        protected void tick() {\n            xPos += xDelta;\n            FontMetrics fm = getFontMetrics(getFont());\n            if (xPos &gt; getWidth() - fm.stringWidth(TEXT)) {\n                xPos = getWidth() - fm.stringWidth(TEXT);\n                xDelta *= -1;\n            } else if (xPos &lt; 0) {\n                xPos = 0;\n                xDelta *= -1;\n            }\n            repaint();\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            FontMetrics fm = g2d.getFontMetrics();\n            int yPos = ((getHeight() - fm.getHeight()) / 2) + fm.getAscent();\n            g2d.drawString(TEXT, xPos, yPos);\n            g2d.dispose();\n        }\n\n    }\n\n    public class LevelTwoPane extends AbstractGamePane {\n\n        protected static final String TEXT = &quot;Level two&quot;;\n\n        private int xPos = 0;\n        private int xDelta = 1;\n\n        @Override\n        protected void tick() {\n            xPos += xDelta;\n            FontMetrics fm = getFontMetrics(getFont());\n            if (xPos &gt; getWidth() - fm.stringWidth(TEXT)) {\n                xPos = getWidth() - fm.stringWidth(TEXT);\n                xDelta *= -1;\n            } else if (xPos &lt; 0) {\n                xPos = 0;\n                xDelta *= -1;\n            }\n            repaint();\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            FontMetrics fm = g2d.getFontMetrics();\n            int yPos = ((getHeight() - fm.getHeight()) / 2) + fm.getAscent();\n            g2d.drawString(TEXT, xPos, yPos);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Even this is unnecessarily heavy handed.  An overall better solution would be to use a model/view/controller.</p>\n<p>The model would carry all the information about the level that the view needed to render it and the controller would manage the interaction between the view and the model (ie the user taps a button, the view tells the controller and the controller makes decisions about what needs to be done, like updating the model or moving to the next level or what ever).</p>\n<p>You really should take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">How to Use Key Bindings</a>, <code>KeyListener</code>s are just trouble waiting to happen.</p>\n<p>You can also have a look at <a href=\"https://stackoverflow.com/questions/13528953/detecting-multiple-keypresses-in-java/13537419#13537419\">Detecting multiple keypresses in java</a> for a more detailed example</p>\n<p>You will note that the <code>MainPane</code> has a binding to <kbd>Space</kbd>, but I would also set up key bindings, probably in the <code>AbstractGamePane</code>, assuming all game levels have the same controls, to manage the game play</p>\n<p>You should also take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for a way to manage a &quot;game loop&quot; better.  Calling <code>repaint</code> within a running paint pass is asking for trouble (it will end up running your CPU hot)</p>\n"}],"owner":{"account_id":22751528,"reputation":1,"user_id":16911612,"display_name":"MED"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638777196,"creation_date":1638767231,"question_id":70241099,"body_markdown":"This is the main file where I&#39;ve created the main method. I&#39;ve added the JFrames here to make it easier to understand. I created a boolean variable in the second file, and whenever the spacebar is pressed, the variable updates to true. I then use the variable by creating an object in the main class and then add conditional statements to make 1 frame visible or vice versa.\r\n```\r\nimport javax.swing.JFrame;  \r\n\r\npublic class MainCode{\r\n    public static void main(String args[]){  \r\n\r\n        JFrame f=new JFrame();\r\n        Gameplay GP = new Gameplay();\r\n\r\n        GameplayLv2 g2 = new GameplayLv2();\r\n        JFrame frame2 = new JFrame();\r\n\r\n\r\n        \r\n   \r\n        f.setBounds(10,10,1000,700);\r\n        f.setTitle(&quot;Breakout Ball&quot;);\r\n        f.setResizable(false);\r\n        f.setVisible(true);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.add(GP);\r\n\r\n\r\n        if(GP.flagCheck==true){\r\n        f.setVisible(false);\r\n        f.remove(GP);\r\n\r\n        frame2.setBounds(10,10,1000,700);\r\n        frame2.setTitle(&quot;Breakout Ball&quot;);\r\n        frame2.setResizable(false);\r\n        frame2.setVisible(true);\r\n        frame2.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame2.add(g2);\r\n        }           \r\n        }\r\n\r\n}\r\n```\r\n\r\nThis is the game file, level 1. The issue that I keep facing is at the bottom of this code, the keyEvent block.\r\n\r\n```\r\nimport javax.swing.JPanel;\r\nimport java.awt.*;\r\nimport java.awt.Graphics2D;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\nimport javax.swing.Timer;\r\nimport javax.swing.JFrame;\r\n\r\n public class Gameplay extends JPanel implements KeyListener, ActionListener{\r\n     \r\n\r\n     public boolean play=false;  //prevents game from starting on its own...\r\n     public int score=0;        //scorebar will be 0 by default...\r\n\r\n     public int totalBlocks = 30;  //no.of tiles/blocks player must knock down...\r\n\r\n     public Timer speed;           //speed of ball...\r\n     public int delay=5;           //speed of ball....\r\n\r\n     public int playerX = 300;     //starting position of the slider..\r\n\r\n     public int ballPosX = 210;    //starting position of the ball..(x-axis)\r\n     public int ballPosY = 350;    //starting position of the ball..(y-axis)\r\n\r\n     public int ballDirX = -1;     //direction for ball to start moving in...(x axis)\r\n     public int ballDirY = -2;     //direction for ball to start moving in...(y axis) //ALSO CONTROLS SPEED OF BALL ALONG Y-AXIS\r\n\r\n     public boolean flagCheck;\r\n      \r\n     MapGen map;\r\n\r\n     Color ball_color = new Color(255, 252, 37);        //Setting custom colors for every element using RGB values...\r\n     Color border_color = new Color(232, 20, 171);\r\n     Color border2_color = new Color(20, 232, 213);\r\n     Color slider_color = new Color(0, 240, 255);\r\n     Color bg_color = new Color(11,10,30);\r\n     Color tiles_color = new Color(255, 255, 255);\r\n\r\n     JFrame frame1 = new JFrame();\r\n\r\n    \r\n     \r\n\r\n\r\n    \r\n    public Gameplay(){\r\n         map = new MapGen(3,10);\r\n         addKeyListener(this);\r\n         setFocusable(true);\r\n         setFocusTraversalKeysEnabled(false);\r\n         speed = new Timer(delay,this);\r\n         speed.start();  \r\n         flagCheck = false; \r\n     }\r\n\r\n\r\n     public void paint(Graphics g){\r\n\r\n        g.setColor(bg_color);\r\n        g.fillRect(1, 1, 1000, 700);\r\n        \r\n        //drawing the map(tiles)\r\n        map.draw((Graphics2D)g);\r\n\r\n        // adding borders so that whenever ball hits border, game ends..\r\n         g.setColor(border_color);\r\n         g.fillRect(0, 0, 10, 1000);\r\n\r\n         g.setColor(border_color);\r\n         g.fillRect(975, 0, 10, 1000);\r\n\r\n         g.setColor(border2_color);\r\n         g.fillRect(0, 0, 1000, 10);\r\n\r\n        // editing the slider/player...\r\n        g.setColor(slider_color);\r\n        g.fillRect(playerX, 620, 120, 5);\r\n\r\n        // editing the ball...\r\n        g.setColor(ball_color);\r\n        g.fillOval(ballPosX, ballPosY, 20, 20);\r\n\r\n        //scoring system\r\n        g.setColor(Color.white);\r\n        g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 20));\r\n        g.drawString(&quot;SCORE:&quot;+score, 800, 650);\r\n\r\n        \r\n        if(ballPosY&gt;670){                                     //what&#39;ll happen when the ball moves out of screen?(anything after y-axis670)? This...\r\n            play=false;\r\n            ballDirX=0;\r\n            ballDirY=0;\r\n\r\n            g.setColor(bg_color);                          //this BG will act as a layer on top of the previous screen, hence, covering unnecessarry elements...\r\n            g.fillRect(1, 1, 1000, 700);\r\n\r\n            g.setColor(slider_color);\r\n            g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 25));     //scoreboard display after game ends..\r\n            g.drawString(&quot;SCORE:&quot;+score, 440, 200);\r\n            \r\n             g.setColor(slider_color); \r\n             g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 40));     //game over text displayed after game ends..\r\n             g.drawString(&quot;GAME OVER!&quot;, 370, 300);\r\n            \r\n            g.setColor(slider_color); \r\n            g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 40));      //restart text displayed after game ends..\r\n            g.drawString(&quot;Press enter to retry&quot;, 260, 405);\r\n            \r\n\r\n        }\r\n\r\n        if(score==30){  //make it 150                                   //what&#39;ll happen when the score is 150, ie win\r\n            play=false;\r\n            ballDirX=210;\r\n            ballDirY=350;\r\n            \r\n\r\n            g.setColor(bg_color);                          //this BG will act as a layer on top of the previous screen, hence, covering unnecessarry elements...\r\n            g.fillRect(1, 1, 1000, 700);\r\n\r\n            g.setColor(slider_color);\r\n            g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 25));     //scoreboard display after game ends..\r\n            g.drawString(&quot;SCORE:&quot;+score, 420, 200);\r\n            \r\n             g.setColor(slider_color); \r\n             g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 40));     //game over text displayed after game ends..\r\n             g.drawString(&quot;YOU WIN&quot;, 400, 300);\r\n            \r\n            g.setColor(slider_color); \r\n            g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 40));      //go to next level text displayed after game ends..\r\n            g.drawString(&quot;Press space to continue to next level&quot;, 155, 405);\r\n\r\n        }\r\n         \r\n        g.dispose();\r\n     }\r\n      \r\n\r\n\r\n     @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        speed.start();\r\n\r\n        if(play==true){\r\n\r\n            if(new Rectangle(ballPosX, ballPosY, 20, 20).intersects(new Rectangle(playerX, 620, 120, 10)))   \r\n            //creates an invisible rectangle around the slider and ball which helps with interaction control\r\n            {\r\n                ballDirY=-ballDirY;\r\n            }\r\n\r\n            A: for(int i=0; i&lt;map.map.length; i++){                        //one of the maps are MapGen map; while the other map is from @mapGen class to access the double dimensional array...\r\n                for(int j=0; j&lt;map.map[0].length; j++){\r\n                    if(map.map[i][j]&gt;0){\r\n                        int tX = j*map.tW+80;\r\n                        int tY = i*map.tH+50;\r\n                        int tW = map.tW;\r\n                        int tH = map.tH;\r\n\r\n                        Rectangle rect = new Rectangle(tX, tY, tW, tH);                 //creates invisible rects around tiles to detect interaction with ball...\r\n                        Rectangle ballRect = new Rectangle(ballPosX, ballPosY, 20, 20);\r\n                        Rectangle tileRect = rect;\r\n\r\n                        if(ballRect.intersects(tileRect)){                              //removes one triangle everytime interaction takes place and increases the score by 5...\r\n                            map.setTileValue(0, i, j);\r\n                            totalBlocks--;\r\n                            score+=5;\r\n                        \r\n\r\n                        if(ballPosX+19 &lt;= tileRect.x || ballPosX+1 &gt;= tileRect.x + tileRect.width){    //specifies which direction the ball must head to after interacting with the tiles...\r\n                            ballDirX=-ballDirX;\r\n                        }\r\n                        else{\r\n                            ballDirY=-ballDirY;\r\n                        }\r\n                        break A;\r\n                        }\r\n                        \r\n                    }\r\n\r\n                }\r\n            } \r\n\r\n        ballPosX+=ballDirX;\r\n        ballPosY+=ballDirY;\r\n\r\n\r\n         //specifies where the ball will have to shift position. In this case, on hitting either of the borders, position(x-y-coordinates) will change....\r\n        if(ballPosX&lt;0)\r\n        ballDirX=-ballDirX;             \r\n        if(ballPosY&lt;0)\r\n        ballDirY=-ballDirY;\r\n        if(ballPosX&gt;960)\r\n        ballDirX=-ballDirX;      \r\n        }\r\n\r\n        repaint();                                    //will re-draw every element(slider etc)... \r\n    }\r\n\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {}                 //unnecessarry methods that when removed produced error...so..yeah...\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {}\r\n    \r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n\r\n        \r\n        if(e.getKeyCode()==KeyEvent.VK_RIGHT)\r\n        {\r\n            if(playerX&gt;=855)                  //prevents the paddle/slider from moving out of the screen\r\n            playerX=855;\r\n\r\n            else\r\n            moveRight();\r\n\r\n        }\r\n        \r\n        if(e.getKeyCode()==KeyEvent.VK_LEFT)  \r\n        {\r\n            if(playerX&lt;=10)                   //prevents the paddle/slider from moving out of the screen\r\n            playerX=10;\r\n\r\n            else\r\n            moveLeft();\r\n\r\n        }\r\n        if(e.getKeyCode()==KeyEvent.VK_ENTER){       //What actions must take place when &quot;ENTER&quot; key is pressed. In this context, restarting  of game...\r\n            if(!play){\r\n                play=false;\r\n                 ballPosX = 210;   \r\n                 ballPosY = 350;   \r\n\r\n                 ballDirX = -1;    \r\n                 ballDirY = -2;\r\n\r\n                 playerX = 300;\r\n                 score=0;\r\n                 totalBlocks=30;\r\n                 map=new MapGen(3,10);\r\n\r\n                 repaint();\r\n\r\n            }        \r\n        }\r\n\r\n        if(e.getKeyCode()==KeyEvent.VK_SPACE){    //what actions must take place when &quot;SPACE&quot; key is pressed. In this context, moving to new level-to be implmented...     \r\n                if(!play &amp;&amp; score==30){    \r\n                    flagCheck=true;\r\n                    System.out.println(flagCheck); //console stuff\r\n                }        \r\n        }  \r\n    }\r\n\r\n    public void moveRight(){            //helps with the movement of slider. +values move right on x-axis whereas -values move left on x-axis\r\n        play=true;\r\n        playerX+=40;\r\n    }\r\n    public void moveLeft(){\r\n        play=true;\r\n        playerX-=40;\r\n    } \r\n      \r\n}\r\n```\r\n","title":"How do I move from one JFrame window to another on clicking the space bar?","body":"<p>This is the main file where I've created the main method. I've added the JFrames here to make it easier to understand. I created a boolean variable in the second file, and whenever the spacebar is pressed, the variable updates to true. I then use the variable by creating an object in the main class and then add conditional statements to make 1 frame visible or vice versa.</p>\n<pre><code>import javax.swing.JFrame;  \n\npublic class MainCode{\n    public static void main(String args[]){  \n\n        JFrame f=new JFrame();\n        Gameplay GP = new Gameplay();\n\n        GameplayLv2 g2 = new GameplayLv2();\n        JFrame frame2 = new JFrame();\n\n\n        \n   \n        f.setBounds(10,10,1000,700);\n        f.setTitle(&quot;Breakout Ball&quot;);\n        f.setResizable(false);\n        f.setVisible(true);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.add(GP);\n\n\n        if(GP.flagCheck==true){\n        f.setVisible(false);\n        f.remove(GP);\n\n        frame2.setBounds(10,10,1000,700);\n        frame2.setTitle(&quot;Breakout Ball&quot;);\n        frame2.setResizable(false);\n        frame2.setVisible(true);\n        frame2.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame2.add(g2);\n        }           \n        }\n\n}\n</code></pre>\n<p>This is the game file, level 1. The issue that I keep facing is at the bottom of this code, the keyEvent block.</p>\n<pre><code>import javax.swing.JPanel;\nimport java.awt.*;\nimport java.awt.Graphics2D;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\nimport javax.swing.Timer;\nimport javax.swing.JFrame;\n\n public class Gameplay extends JPanel implements KeyListener, ActionListener{\n     \n\n     public boolean play=false;  //prevents game from starting on its own...\n     public int score=0;        //scorebar will be 0 by default...\n\n     public int totalBlocks = 30;  //no.of tiles/blocks player must knock down...\n\n     public Timer speed;           //speed of ball...\n     public int delay=5;           //speed of ball....\n\n     public int playerX = 300;     //starting position of the slider..\n\n     public int ballPosX = 210;    //starting position of the ball..(x-axis)\n     public int ballPosY = 350;    //starting position of the ball..(y-axis)\n\n     public int ballDirX = -1;     //direction for ball to start moving in...(x axis)\n     public int ballDirY = -2;     //direction for ball to start moving in...(y axis) //ALSO CONTROLS SPEED OF BALL ALONG Y-AXIS\n\n     public boolean flagCheck;\n      \n     MapGen map;\n\n     Color ball_color = new Color(255, 252, 37);        //Setting custom colors for every element using RGB values...\n     Color border_color = new Color(232, 20, 171);\n     Color border2_color = new Color(20, 232, 213);\n     Color slider_color = new Color(0, 240, 255);\n     Color bg_color = new Color(11,10,30);\n     Color tiles_color = new Color(255, 255, 255);\n\n     JFrame frame1 = new JFrame();\n\n    \n     \n\n\n    \n    public Gameplay(){\n         map = new MapGen(3,10);\n         addKeyListener(this);\n         setFocusable(true);\n         setFocusTraversalKeysEnabled(false);\n         speed = new Timer(delay,this);\n         speed.start();  \n         flagCheck = false; \n     }\n\n\n     public void paint(Graphics g){\n\n        g.setColor(bg_color);\n        g.fillRect(1, 1, 1000, 700);\n        \n        //drawing the map(tiles)\n        map.draw((Graphics2D)g);\n\n        // adding borders so that whenever ball hits border, game ends..\n         g.setColor(border_color);\n         g.fillRect(0, 0, 10, 1000);\n\n         g.setColor(border_color);\n         g.fillRect(975, 0, 10, 1000);\n\n         g.setColor(border2_color);\n         g.fillRect(0, 0, 1000, 10);\n\n        // editing the slider/player...\n        g.setColor(slider_color);\n        g.fillRect(playerX, 620, 120, 5);\n\n        // editing the ball...\n        g.setColor(ball_color);\n        g.fillOval(ballPosX, ballPosY, 20, 20);\n\n        //scoring system\n        g.setColor(Color.white);\n        g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 20));\n        g.drawString(&quot;SCORE:&quot;+score, 800, 650);\n\n        \n        if(ballPosY&gt;670){                                     //what'll happen when the ball moves out of screen?(anything after y-axis670)? This...\n            play=false;\n            ballDirX=0;\n            ballDirY=0;\n\n            g.setColor(bg_color);                          //this BG will act as a layer on top of the previous screen, hence, covering unnecessarry elements...\n            g.fillRect(1, 1, 1000, 700);\n\n            g.setColor(slider_color);\n            g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 25));     //scoreboard display after game ends..\n            g.drawString(&quot;SCORE:&quot;+score, 440, 200);\n            \n             g.setColor(slider_color); \n             g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 40));     //game over text displayed after game ends..\n             g.drawString(&quot;GAME OVER!&quot;, 370, 300);\n            \n            g.setColor(slider_color); \n            g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 40));      //restart text displayed after game ends..\n            g.drawString(&quot;Press enter to retry&quot;, 260, 405);\n            \n\n        }\n\n        if(score==30){  //make it 150                                   //what'll happen when the score is 150, ie win\n            play=false;\n            ballDirX=210;\n            ballDirY=350;\n            \n\n            g.setColor(bg_color);                          //this BG will act as a layer on top of the previous screen, hence, covering unnecessarry elements...\n            g.fillRect(1, 1, 1000, 700);\n\n            g.setColor(slider_color);\n            g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 25));     //scoreboard display after game ends..\n            g.drawString(&quot;SCORE:&quot;+score, 420, 200);\n            \n             g.setColor(slider_color); \n             g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 40));     //game over text displayed after game ends..\n             g.drawString(&quot;YOU WIN&quot;, 400, 300);\n            \n            g.setColor(slider_color); \n            g.setFont(new Font(&quot;helvetica&quot;, Font.BOLD, 40));      //go to next level text displayed after game ends..\n            g.drawString(&quot;Press space to continue to next level&quot;, 155, 405);\n\n        }\n         \n        g.dispose();\n     }\n      \n\n\n     @Override\n    public void actionPerformed(ActionEvent e) {\n        speed.start();\n\n        if(play==true){\n\n            if(new Rectangle(ballPosX, ballPosY, 20, 20).intersects(new Rectangle(playerX, 620, 120, 10)))   \n            //creates an invisible rectangle around the slider and ball which helps with interaction control\n            {\n                ballDirY=-ballDirY;\n            }\n\n            A: for(int i=0; i&lt;map.map.length; i++){                        //one of the maps are MapGen map; while the other map is from @mapGen class to access the double dimensional array...\n                for(int j=0; j&lt;map.map[0].length; j++){\n                    if(map.map[i][j]&gt;0){\n                        int tX = j*map.tW+80;\n                        int tY = i*map.tH+50;\n                        int tW = map.tW;\n                        int tH = map.tH;\n\n                        Rectangle rect = new Rectangle(tX, tY, tW, tH);                 //creates invisible rects around tiles to detect interaction with ball...\n                        Rectangle ballRect = new Rectangle(ballPosX, ballPosY, 20, 20);\n                        Rectangle tileRect = rect;\n\n                        if(ballRect.intersects(tileRect)){                              //removes one triangle everytime interaction takes place and increases the score by 5...\n                            map.setTileValue(0, i, j);\n                            totalBlocks--;\n                            score+=5;\n                        \n\n                        if(ballPosX+19 &lt;= tileRect.x || ballPosX+1 &gt;= tileRect.x + tileRect.width){    //specifies which direction the ball must head to after interacting with the tiles...\n                            ballDirX=-ballDirX;\n                        }\n                        else{\n                            ballDirY=-ballDirY;\n                        }\n                        break A;\n                        }\n                        \n                    }\n\n                }\n            } \n\n        ballPosX+=ballDirX;\n        ballPosY+=ballDirY;\n\n\n         //specifies where the ball will have to shift position. In this case, on hitting either of the borders, position(x-y-coordinates) will change....\n        if(ballPosX&lt;0)\n        ballDirX=-ballDirX;             \n        if(ballPosY&lt;0)\n        ballDirY=-ballDirY;\n        if(ballPosX&gt;960)\n        ballDirX=-ballDirX;      \n        }\n\n        repaint();                                    //will re-draw every element(slider etc)... \n    }\n\n\n    @Override\n    public void keyTyped(KeyEvent e) {}                 //unnecessarry methods that when removed produced error...so..yeah...\n    @Override\n    public void keyReleased(KeyEvent e) {}\n    \n\n    @Override\n    public void keyPressed(KeyEvent e) {\n\n        \n        if(e.getKeyCode()==KeyEvent.VK_RIGHT)\n        {\n            if(playerX&gt;=855)                  //prevents the paddle/slider from moving out of the screen\n            playerX=855;\n\n            else\n            moveRight();\n\n        }\n        \n        if(e.getKeyCode()==KeyEvent.VK_LEFT)  \n        {\n            if(playerX&lt;=10)                   //prevents the paddle/slider from moving out of the screen\n            playerX=10;\n\n            else\n            moveLeft();\n\n        }\n        if(e.getKeyCode()==KeyEvent.VK_ENTER){       //What actions must take place when &quot;ENTER&quot; key is pressed. In this context, restarting  of game...\n            if(!play){\n                play=false;\n                 ballPosX = 210;   \n                 ballPosY = 350;   \n\n                 ballDirX = -1;    \n                 ballDirY = -2;\n\n                 playerX = 300;\n                 score=0;\n                 totalBlocks=30;\n                 map=new MapGen(3,10);\n\n                 repaint();\n\n            }        \n        }\n\n        if(e.getKeyCode()==KeyEvent.VK_SPACE){    //what actions must take place when &quot;SPACE&quot; key is pressed. In this context, moving to new level-to be implmented...     \n                if(!play &amp;&amp; score==30){    \n                    flagCheck=true;\n                    System.out.println(flagCheck); //console stuff\n                }        \n        }  \n    }\n\n    public void moveRight(){            //helps with the movement of slider. +values move right on x-axis whereas -values move left on x-axis\n        play=true;\n        playerX+=40;\n    }\n    public void moveLeft(){\n        play=true;\n        playerX-=40;\n    } \n      \n}\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql","apache-spark-dataset"],"answers":[{"tags":[],"owner":{"account_id":5695064,"reputation":14883,"user_id":4501804,"display_name":"abaghel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550070409,"creation_date":1550069761,"answer_id":54673100,"question_id":54672078,"body_markdown":"You can use `when` and `equalTo` or `when` and `isNull`.\r\n\r\n    Dataset&lt;Row&gt; df1 = df.withColumn(&quot;value&quot;, when(col(&quot;value&quot;).equalTo(&quot;bbb&quot;), &quot;ccc&quot;).otherwise(col(&quot;value&quot;)));\r\n\r\n    Dataset&lt;Row&gt; df2 = df.withColumn(&quot;value&quot;, when(col(&quot;value&quot;).isNull(), &quot;ccc&quot;).otherwise(col(&quot;value&quot;)));\r\n\r\nIf you only want to replace null values then you can also use `na` and `fill`.\r\n\r\n    Dataset&lt;Row&gt; df3 = df.na().fill(&quot;ccc&quot;);","title":"Spark Java edit data in column","body":"<p>You can use <code>when</code> and <code>equalTo</code> or <code>when</code> and <code>isNull</code>.</p>\n\n<pre><code>Dataset&lt;Row&gt; df1 = df.withColumn(\"value\", when(col(\"value\").equalTo(\"bbb\"), \"ccc\").otherwise(col(\"value\")));\n\nDataset&lt;Row&gt; df2 = df.withColumn(\"value\", when(col(\"value\").isNull(), \"ccc\").otherwise(col(\"value\")));\n</code></pre>\n\n<p>If you only want to replace null values then you can also use <code>na</code> and <code>fill</code>.</p>\n\n<pre><code>Dataset&lt;Row&gt; df3 = df.na().fill(\"ccc\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5037519,"reputation":516,"user_id":4045899,"display_name":"Aryan087"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638776861,"creation_date":1571070362,"answer_id":58380685,"question_id":54672078,"body_markdown":"Another way of doing this could be by using UDF.\r\n\r\nCreate a UDF:\r\n\r\n    private static UDF1 myUdf = new UDF1&lt;String, String&gt;() {\r\n    public String call(final String str) throws Exception {\r\n        // any condition or custom function can be used\r\n        return StringUtils.rightPad(str, 25, &#39;A&#39;);\r\n      }\r\n    };\r\n\r\nRegister UDF in SparkSession:\r\n\r\n    sparkSession.udf().register(&quot;myUdf&quot;, myUdf, DataTypes.StringType);\r\n\r\nApply udf on dataset:\r\n       \r\n    Dataset&lt;Row&gt; dataset = dataset.withColumn(&quot;city&quot;, functions.callUDF(&quot;myudf&quot;, col(&quot;city&quot;)));","title":"Spark Java edit data in column","body":"<p>Another way of doing this could be by using UDF.</p>\n<p>Create a UDF:</p>\n<pre><code>private static UDF1 myUdf = new UDF1&lt;String, String&gt;() {\npublic String call(final String str) throws Exception {\n    // any condition or custom function can be used\n    return StringUtils.rightPad(str, 25, 'A');\n  }\n};\n</code></pre>\n<p>Register UDF in SparkSession:</p>\n<pre><code>sparkSession.udf().register(&quot;myUdf&quot;, myUdf, DataTypes.StringType);\n</code></pre>\n<p>Apply udf on dataset:</p>\n<pre><code>Dataset&lt;Row&gt; dataset = dataset.withColumn(&quot;city&quot;, functions.callUDF(&quot;myudf&quot;, col(&quot;city&quot;)));\n</code></pre>\n"}],"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1258,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1638776861,"creation_date":1550066721,"question_id":54672078,"body_markdown":"I would like to iterate through the content of a column in a spark `DataFrame` and correct the data within a cell if it meets a certain condition\r\n\r\n    +-------------+\r\n    |column_title |\r\n    +-------------+\r\n    +-----+\r\n    |null |\r\n    +-----+\r\n    +-----+\r\n    |0    |\r\n    +-----+\r\n    +-----+\r\n    |1    |\r\n    +-----+\r\n\r\nLets say I want to display something else when value of column is null, I tried with \r\n\r\n`Column.when()`\r\n`DataSet.withColumn()`\r\n\r\nBut I cant find the right method, i don&#39;t think it would be necessary to convert to RDD and iterate through it.\r\n\r\n","title":"Spark Java edit data in column","body":"<p>I would like to iterate through the content of a column in a spark <code>DataFrame</code> and correct the data within a cell if it meets a certain condition</p>\n\n<pre><code>+-------------+\n|column_title |\n+-------------+\n+-----+\n|null |\n+-----+\n+-----+\n|0    |\n+-----+\n+-----+\n|1    |\n+-----+\n</code></pre>\n\n<p>Lets say I want to display something else when value of column is null, I tried with </p>\n\n<p><code>Column.when()</code>\n<code>DataSet.withColumn()</code></p>\n\n<p>But I cant find the right method, i don't think it would be necessary to convert to RDD and iterate through it.</p>\n"},{"tags":["java","arrays","algorithm","sorting"],"comments":[{"owner":{"account_id":7894528,"reputation":25981,"user_id":6770384,"display_name":"Socowi"},"score":0,"creation_date":1486492114,"post_id":42010551,"comment_id":71364970,"body_markdown":"Not related to the question, but I would recommend you to write a function `Student createStudentFromUserInput()` which reads all the needed values, creates a new Student object and returns that – You will safe 25 lines in your example.","body":"Not related to the question, but I would recommend you to write a function <code>Student createStudentFromUserInput()</code> which reads all the needed values, creates a new Student object and returns that – You will safe 25 lines in your example."}],"answers":[{"tags":[],"owner":{"account_id":6172048,"reputation":17,"user_id":4810078,"display_name":"sunil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1486065140,"creation_date":1486065140,"answer_id":42011133,"question_id":42010551,"body_markdown":"This looks you have array of student which you want to sort by avgScore but you don&#39;t want to use ArrayList or Comprator . If your sorting is based on abgscore then you can use any shorting Ex bobble . insersion , quick or  merge sort algo ","title":"How to sort object array in ascending order based on instance variables using the following code","body":"<p>This looks you have array of student which you want to sort by avgScore but you don't want to use ArrayList or Comprator . If your sorting is based on abgscore then you can use any shorting Ex bobble . insersion , quick or  merge sort algo </p>\n"},{"tags":[],"owner":{"account_id":5085702,"reputation":662,"user_id":4080489,"display_name":"Aniruddh Dikhit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486109389,"creation_date":1486066017,"answer_id":42011374,"question_id":42010551,"body_markdown":"Assuming you pick up necessary sorting algorithm partition sort, merge sort etc. the key is that you have an array and you want to swap elements in the array for the sort to work. Given java is **pass by value** writing a method to which you pass array elements as score[i] and score[j] won&#39;t give you the required effect. \r\nSomething like below won&#39;t have any effect for the caller\r\n\r\n    Student sArr[] = ...\r\n\r\n    swap(sArr[i], sArr[j])\r\n\r\n\r\nYou can however pass the reference to the array and indexes to be swapped, something as below\r\n\r\n    Student sArr[] = ...\r\n\r\n    swap(sArr, i, j);\r\n\r\nAlternatively you can do all the swap in the same method where you implement your sorting logic no calling another swap method to move things around. hope this helps\r\n\r\nTo give you an idea of sort algorithm like shell sort with integers you&#39;ll do something as below (not the most efficient but to get you started)\r\n\r\n    // implement findMin and then do shellsort as below\r\n\tpublic static void isort(int arr[]) {\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tint mIndex = findMin(arr, i, arr.length);\r\n\t\t\tif (mIndex != i) {\r\n\t\t\t\tint temp = arr[mIndex];\r\n\t\t\t\tarr[mIndex] = arr[i];\r\n\t\t\t\tarr[i] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nModify your logic to use comparison based on Student&#39;s average score in your case. You should also search on stackoverflow to get idea about sort algorithms. Hope this helps","title":"How to sort object array in ascending order based on instance variables using the following code","body":"<p>Assuming you pick up necessary sorting algorithm partition sort, merge sort etc. the key is that you have an array and you want to swap elements in the array for the sort to work. Given java is <strong>pass by value</strong> writing a method to which you pass array elements as score[i] and score[j] won't give you the required effect. \nSomething like below won't have any effect for the caller</p>\n\n<pre><code>Student sArr[] = ...\n\nswap(sArr[i], sArr[j])\n</code></pre>\n\n<p>You can however pass the reference to the array and indexes to be swapped, something as below</p>\n\n<pre><code>Student sArr[] = ...\n\nswap(sArr, i, j);\n</code></pre>\n\n<p>Alternatively you can do all the swap in the same method where you implement your sorting logic no calling another swap method to move things around. hope this helps</p>\n\n<p>To give you an idea of sort algorithm like shell sort with integers you'll do something as below (not the most efficient but to get you started)</p>\n\n<pre><code>// implement findMin and then do shellsort as below\npublic static void isort(int arr[]) {\n    for (int i = 0; i &lt; arr.length; i++) {\n        int mIndex = findMin(arr, i, arr.length);\n        if (mIndex != i) {\n            int temp = arr[mIndex];\n            arr[mIndex] = arr[i];\n            arr[i] = temp;\n        }\n    }\n}\n</code></pre>\n\n<p>Modify your logic to use comparison based on Student's average score in your case. You should also search on stackoverflow to get idea about sort algorithms. Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1486370873,"creation_date":1486110619,"answer_id":42019866,"question_id":42010551,"body_markdown":"It&#39;s simply like this: you can sort without `Comparator`, instead you implement it yourself. In another word, actually you cannot. Algorithm cannot help you, as far as I see. If you don&#39;t have the average score, how you fill the array to sort?\r\n\r\n1. Save the average grade in your `Student` class, as you did. (although I think you may have to change the constructor. It&#39;s better to provide the `Student` class&#39;s details.)\r\n2. You sort with `student.avgScore`.\r\n\r\nLike:\r\n    \r\n    max = score[0];\r\n    int x = 0;\r\n    Student temp = null;\r\n    for (int i=0; i &lt; score.length; i++) {\r\n        x = score[i].avgScore;\r\n        temp = score[i];\r\n        if (x &lt; score[i+1].avgScore ) {\r\n            score[i] = score[i+1];\r\n            score[i+1] = temp;\r\n        }\r\n    }\r\n    \r\nJust a rough idea. Algorithm speeds up the sorting, but you sort with actual data. ","title":"How to sort object array in ascending order based on instance variables using the following code","body":"<p>It's simply like this: you can sort without <code>Comparator</code>, instead you implement it yourself. In another word, actually you cannot. Algorithm cannot help you, as far as I see. If you don't have the average score, how you fill the array to sort?</p>\n\n<ol>\n<li>Save the average grade in your <code>Student</code> class, as you did. (although I think you may have to change the constructor. It's better to provide the <code>Student</code> class's details.)</li>\n<li>You sort with <code>student.avgScore</code>.</li>\n</ol>\n\n<p>Like:</p>\n\n<pre><code>max = score[0];\nint x = 0;\nStudent temp = null;\nfor (int i=0; i &lt; score.length; i++) {\n    x = score[i].avgScore;\n    temp = score[i];\n    if (x &lt; score[i+1].avgScore ) {\n        score[i] = score[i+1];\n        score[i+1] = temp;\n    }\n}\n</code></pre>\n\n<p>Just a rough idea. Algorithm speeds up the sorting, but you sort with actual data. </p>\n"},{"tags":[],"owner":{"account_id":23557848,"reputation":1,"user_id":17599595,"display_name":"SYAHIDAH BT SALLIM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638776858,"creation_date":1638764349,"answer_id":70240837,"question_id":42010551,"body_markdown":"Given the House class with the following information:-\r\n```House class\r\nAttributes:\r\nhouseType – char\r\nprice – double\r\narea – double\r\nowner – Person\r\n\r\nMethods:\r\ncalculateTax()\r\ntoString()\r\nPerson class\r\n\r\nAttributes:\r\nname – String\r\nic – String\r\ngender - char\r\ngovernment – boolean\r\n\r\nMethods:\r\nfromKelantan()\r\ngender()\r\n```\r\n\r\n1. Write a default consructor and normal constructor for both classes\r\n2. Write retriever and setter methods for both subclasses\r\n3. Write processor methods for both subclasses\r\n\r\n`Method calculateTax()` where it returns the tax for this type of land which depends on its area and the type of house build on the land as the table given below.\r\n\r\n```\r\nHouse Type Description Tax Rate(RM/m2)\r\nT Terrace 10\r\nS Semi-Detached 15\r\nB Bungalow 20\r\nC Condominium 30\r\n```\r\n\r\n`Method toString()` where it returns all the information.\r\n\r\n`Method fromKelantan()` where it returns true/false depends on ic (Kelantan- 03) the table given below.\r\n\r\n`Method gender()` where it returns ‘f’ or ‘m’ from ic.","title":"How to sort object array in ascending order based on instance variables using the following code","body":"<p>Given the House class with the following information:-</p>\n<pre><code>Attributes:\nhouseType – char\nprice – double\narea – double\nowner – Person\n\nMethods:\ncalculateTax()\ntoString()\nPerson class\n\nAttributes:\nname – String\nic – String\ngender - char\ngovernment – boolean\n\nMethods:\nfromKelantan()\ngender()\n</code></pre>\n<ol>\n<li>Write a default consructor and normal constructor for both classes</li>\n<li>Write retriever and setter methods for both subclasses</li>\n<li>Write processor methods for both subclasses</li>\n</ol>\n<p><code>Method calculateTax()</code> where it returns the tax for this type of land which depends on its area and the type of house build on the land as the table given below.</p>\n<pre><code>House Type Description Tax Rate(RM/m2)\nT Terrace 10\nS Semi-Detached 15\nB Bungalow 20\nC Condominium 30\n</code></pre>\n<p><code>Method toString()</code> where it returns all the information.</p>\n<p><code>Method fromKelantan()</code> where it returns true/false depends on ic (Kelantan- 03) the table given below.</p>\n<p><code>Method gender()</code> where it returns ‘f’ or ‘m’ from ic.</p>\n"}],"owner":{"account_id":10165767,"reputation":13,"user_id":7507791,"display_name":"ClassApe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42019866,"answer_count":4,"score":1,"last_activity_date":1638776858,"creation_date":1486063076,"question_id":42010551,"body_markdown":"im trying to sort this object array without comparator or array list. sorting int the array for average score. here how it is used in the main method if someone could give me an idea that would be helpful i really dont want to use an array list or comparator, so i guess i need algorithm to help me, but im struggling figuring one out copy right reserved to Devan Underwood  :\r\n\r\n    public void calcAvgScore()\r\n    {\r\n        avgScore = (test1 + test2) / 2;   \r\n    }\r\n\r\nthen in the constructor is:\r\n\r\n     public Student(String newName, int newId, int newTest1, int newTest2)\r\n    { \r\n        super(newName, newId);\r\n        test1 = newTest1;\r\n        test2 = newTest2;\r\n        calcAvgScore();\r\n        calcGrade();\r\n    }\r\nThen:\r\n\r\n      public static void main(String[] args)\r\n    {\r\n        Student[] score = new Student[5];\r\n\r\n        Scanner keyboard = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Please enter your students first name, id number, and two test scores&quot;);\r\n        String newName = keyboard.next();\r\n        int newId = keyboard.nextInt();\r\n        int newTest1 = keyboard.nextInt();\r\n        int newTest2 = keyboard.nextInt();\r\n\r\n        Student student1 = new Student(newName, newId, newTest1, newTest2);\r\n\r\n        System.out.println(&quot;Please enter your second students first, id number and two test scores&quot;);\r\n        String newName2 = keyboard.next();\r\n        int newId2 = keyboard.nextInt();\r\n        int newTest12 = keyboard.nextInt();\r\n        int newTest22= keyboard.nextInt();\r\n\r\n        Student student2 = new Student(newName2, newId2, newTest12, newTest22);\r\n\r\n        System.out.println(&quot;Please enter your third students first name, id number, and two test scores&quot;);\r\n        String newName3 = keyboard.next();\r\n        int newId3 = keyboard.nextInt();\r\n        int newTest13 = keyboard.nextInt();\r\n        int newTest23= keyboard.nextInt();\r\n\r\n        Student student3 = new Student(newName3, newId3, newTest13, newTest23);\r\n\r\n        System.out.println(&quot;Please enter your fourth students first name, id number, and two test scores&quot;);\r\n        String newName4 = keyboard.next();\r\n        int newId4 = keyboard.nextInt();\r\n        int newTest14 = keyboard.nextInt();\r\n        int newTest24= keyboard.nextInt();\r\n\r\n        Student student4 = new Student(newName4, newId4, newTest14, newTest24);\r\n\r\n        System.out.println(&quot;Please enter your fifth students first name, id number, and two test scores&quot;);\r\n        String newName5 = keyboard.next();\r\n        int newId5 = keyboard.nextInt();\r\n        int newTest15 = keyboard.nextInt();\r\n        int newTest25= keyboard.nextInt();\r\n\r\n        Student student5 = new Student(newName5, newId5, newTest15, newTest25);\r\n\r\n        score[0] = student1;\r\n        score[1] = student2;\r\n        score[2] = student3;\r\n        score[3] = student4;\r\n        score[4] = student5;\r\n        System.out.println(&quot;____________&quot;);\r\n        \r\n         max = score[0];\r\n        int i;\r\n        for(i =0; i &lt; score.length; i++)\r\n        {\r\n            \r\n            System.out.println(score[i]);\r\n\r\n            System.out.println(&quot;____________&quot;);\r\n        }\r\n\r\n    }\r\n}","title":"How to sort object array in ascending order based on instance variables using the following code","body":"<p>im trying to sort this object array without comparator or array list. sorting int the array for average score. here how it is used in the main method if someone could give me an idea that would be helpful i really dont want to use an array list or comparator, so i guess i need algorithm to help me, but im struggling figuring one out copy right reserved to Devan Underwood  :</p>\n\n<pre><code>public void calcAvgScore()\n{\n    avgScore = (test1 + test2) / 2;   \n}\n</code></pre>\n\n<p>then in the constructor is:</p>\n\n<pre><code> public Student(String newName, int newId, int newTest1, int newTest2)\n{ \n    super(newName, newId);\n    test1 = newTest1;\n    test2 = newTest2;\n    calcAvgScore();\n    calcGrade();\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>  public static void main(String[] args)\n{\n    Student[] score = new Student[5];\n\n    Scanner keyboard = new Scanner(System.in);\n\n    System.out.println(\"Please enter your students first name, id number, and two test scores\");\n    String newName = keyboard.next();\n    int newId = keyboard.nextInt();\n    int newTest1 = keyboard.nextInt();\n    int newTest2 = keyboard.nextInt();\n\n    Student student1 = new Student(newName, newId, newTest1, newTest2);\n\n    System.out.println(\"Please enter your second students first, id number and two test scores\");\n    String newName2 = keyboard.next();\n    int newId2 = keyboard.nextInt();\n    int newTest12 = keyboard.nextInt();\n    int newTest22= keyboard.nextInt();\n\n    Student student2 = new Student(newName2, newId2, newTest12, newTest22);\n\n    System.out.println(\"Please enter your third students first name, id number, and two test scores\");\n    String newName3 = keyboard.next();\n    int newId3 = keyboard.nextInt();\n    int newTest13 = keyboard.nextInt();\n    int newTest23= keyboard.nextInt();\n\n    Student student3 = new Student(newName3, newId3, newTest13, newTest23);\n\n    System.out.println(\"Please enter your fourth students first name, id number, and two test scores\");\n    String newName4 = keyboard.next();\n    int newId4 = keyboard.nextInt();\n    int newTest14 = keyboard.nextInt();\n    int newTest24= keyboard.nextInt();\n\n    Student student4 = new Student(newName4, newId4, newTest14, newTest24);\n\n    System.out.println(\"Please enter your fifth students first name, id number, and two test scores\");\n    String newName5 = keyboard.next();\n    int newId5 = keyboard.nextInt();\n    int newTest15 = keyboard.nextInt();\n    int newTest25= keyboard.nextInt();\n\n    Student student5 = new Student(newName5, newId5, newTest15, newTest25);\n\n    score[0] = student1;\n    score[1] = student2;\n    score[2] = student3;\n    score[3] = student4;\n    score[4] = student5;\n    System.out.println(\"____________\");\n\n     max = score[0];\n    int i;\n    for(i =0; i &lt; score.length; i++)\n    {\n\n        System.out.println(score[i]);\n\n        System.out.println(\"____________\");\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","android-manifest"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1638538934,"post_id":70215256,"comment_id":124122082,"body_markdown":"Neither of those are from Android. Some third-party library that you are using is requiring those. Look at the lines in your stack trace after the &quot;Caused by&quot; to try to determine what library that is.","body":"Neither of those are from Android. Some third-party library that you are using is requiring those. Look at the lines in your stack trace after the &quot;Caused by&quot; to try to determine what library that is."},{"owner":{"account_id":22772189,"reputation":21,"user_id":16929421,"display_name":"Elvin Mammadov"},"score":0,"creation_date":1638539712,"post_id":70215256,"comment_id":124122390,"body_markdown":"@CommonsWare thanks for your answer, I found a library which couased issue.  Library is implementation &#39;me.jessyan:autosize:1.1.2&#39;","body":"@CommonsWare thanks for your answer, I found a library which couased issue.  Library is implementation &#39;me.jessyan:autosize:1.1.2&#39;"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1638543786,"post_id":70215256,"comment_id":124124155,"body_markdown":"I&#39;m VERY curious what this lib does.. can we manage `Activity`s size on really big screens?","body":"I&#39;m VERY curious what this lib does.. can we manage <code>Activity</code>s size on really big screens?"}],"owner":{"account_id":22772189,"reputation":21,"user_id":16929421,"display_name":"Elvin Mammadov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638776482,"creation_date":1638538775,"question_id":70215256,"body_markdown":"I have got this application from another developer and in Android Manifest these meta data were written. \r\n\r\n            &lt;meta-data\r\n            android:name=&quot;design_width_in_dp&quot;\r\n            android:value=&quot;1280&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;design_height_in_dp&quot;\r\n            android:value=&quot;752&quot; /&gt;\r\n\r\nThese meda datas as I understood correctly set the specific size of the screen for the Application. When I try to delete it one of my activities gives me the below error.\r\n\r\n```\r\n   java.lang.RuntimeException: Unable to start activity ComponentInfo{me.ergofox.scanner2v7a/me.ergofox.scanner.ScannerActivityDashboard}: java.lang.IllegalArgumentException: you must set design_width_in_dp  in your AndroidManifest file\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3298)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3437)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2041)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7386)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:980)\r\n     Caused by: java.lang.IllegalArgumentException: you must set design_width_in_dp  in your AndroidManifest file\r\n```\r\n   \r\nI would like to delete these meta data and specify for all type of screen Application. How can I do this ?\r\n\r\n\r\n","title":"Activity asks to set width of screen","body":"<p>I have got this application from another developer and in Android Manifest these meta data were written.</p>\n<pre><code>        &lt;meta-data\n        android:name=&quot;design_width_in_dp&quot;\n        android:value=&quot;1280&quot; /&gt;\n    &lt;meta-data\n        android:name=&quot;design_height_in_dp&quot;\n        android:value=&quot;752&quot; /&gt;\n</code></pre>\n<p>These meda datas as I understood correctly set the specific size of the screen for the Application. When I try to delete it one of my activities gives me the below error.</p>\n<pre><code>   java.lang.RuntimeException: Unable to start activity ComponentInfo{me.ergofox.scanner2v7a/me.ergofox.scanner.ScannerActivityDashboard}: java.lang.IllegalArgumentException: you must set design_width_in_dp  in your AndroidManifest file\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3298)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3437)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2041)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7386)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:980)\n     Caused by: java.lang.IllegalArgumentException: you must set design_width_in_dp  in your AndroidManifest file\n</code></pre>\n<p>I would like to delete these meta data and specify for all type of screen Application. How can I do this ?</p>\n"},{"tags":["java","apache-spark","amazon-s3","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":5037519,"reputation":516,"user_id":4045899,"display_name":"Aryan087"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638776424,"creation_date":1574137013,"answer_id":58926568,"question_id":39499472,"body_markdown":"You can use `Map` function in spark.\r\nYou can iterate the whole data frame without collecting the dataset/dataframe:\r\n\r\n    Dataset&lt;Row&gt; namesDF = spark.sql(&quot;SELECT name FROM parquetFile WHERE age \r\n    BETWEEN 13 AND 19&quot;);\r\n    Dataset&lt;String&gt; namesDS = namesDF.map((MapFunction&lt;Row, String&gt;) row -&gt; &quot;Name:&quot; + row.getString(0),Encoders.STRING());\r\n\r\n    namesDS.show();\r\n    \r\n   You can create a map function if the operations you are doing are complex:\r\n     \r\n     // Map function\r\n     Row doSomething(Row row){\r\n       // get column\r\n         String field = row.getAs(COLUMN)\r\n    // construct a new row and add all the existing/modified columns in the row .  \r\n    return row.\r\n        }\r\n\r\nNow this map function can be called into dataframe&#39;s map function:\r\n    \r\n    StructType structType = dataset.schema();\r\n    namesDF.map((MapFunction&lt;Row, Row&gt;)dosomething,\r\n            RowEncoder.apply(structType))\r\n\r\nSource: https://spark.apache.org/docs/latest/sql-data-sources-parquet.html","title":"Reading parquet file in Spark from S3","body":"<p>You can use <code>Map</code> function in spark.\nYou can iterate the whole data frame without collecting the dataset/dataframe:</p>\n<pre><code>Dataset&lt;Row&gt; namesDF = spark.sql(&quot;SELECT name FROM parquetFile WHERE age \nBETWEEN 13 AND 19&quot;);\nDataset&lt;String&gt; namesDS = namesDF.map((MapFunction&lt;Row, String&gt;) row -&gt; &quot;Name:&quot; + row.getString(0),Encoders.STRING());\n\nnamesDS.show();\n</code></pre>\n<p>You can create a map function if the operations you are doing are complex:</p>\n<pre><code> // Map function\n Row doSomething(Row row){\n   // get column\n     String field = row.getAs(COLUMN)\n// construct a new row and add all the existing/modified columns in the row .  \nreturn row.\n    }\n</code></pre>\n<p>Now this map function can be called into dataframe's map function:</p>\n<pre><code>StructType structType = dataset.schema();\nnamesDF.map((MapFunction&lt;Row, Row&gt;)dosomething,\n        RowEncoder.apply(structType))\n</code></pre>\n<p>Source: <a href=\"https://spark.apache.org/docs/latest/sql-data-sources-parquet.html\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/latest/sql-data-sources-parquet.html</a></p>\n"}],"owner":{"account_id":9075729,"reputation":325,"user_id":6757406,"accept_rate":69,"display_name":"Lobsterrrr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1525,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638776424,"creation_date":1473886349,"question_id":39499472,"body_markdown":"I am reading data from S3 in the `parquet` format, and then I process this data as a `DataFrame`.\r\nThe question is how to efficiently iterate over rows in `DataFrame`? I know that the method `collect` loads data into memory, so, though my `DataFrame` is not big, I would prefer to avoid loading the complete data set into memory. How could I optimize the given code?\r\nAlso, I am using indices to access columns in `DataFrame`. Can I access them by column names (I know them)?\r\n\r\n    DataFrame parquetFile = sqlContext.read().parquet(&quot;s3n://&quot;+this.aws_bucket+&quot;/&quot;+this.aws_key_members);\r\n    parquetFile.registerTempTable(&quot;mydata&quot;);\r\n    DataFrame eventsRaw = sqlContext.sql(&quot;SELECT * FROM mydata&quot;);\r\n    Row[] rddRows = eventsRaw.collect();\r\n    for (int rowIdx = 0; rowIdx &lt; rddRows.length; ++rowIdx)\r\n    {\r\n       Map&lt;String, String&gt; props = new HashMap&lt;&gt;();\r\n       props.put(&quot;field1&quot;, rddRows[rowIdx].get(0).toString());\r\n       props.put(&quot;field2&quot;, rddRows[rowIdx].get(1).toString());\r\n       // further processing\r\n    }","title":"Reading parquet file in Spark from S3","body":"<p>I am reading data from S3 in the <code>parquet</code> format, and then I process this data as a <code>DataFrame</code>.\nThe question is how to efficiently iterate over rows in <code>DataFrame</code>? I know that the method <code>collect</code> loads data into memory, so, though my <code>DataFrame</code> is not big, I would prefer to avoid loading the complete data set into memory. How could I optimize the given code?\nAlso, I am using indices to access columns in <code>DataFrame</code>. Can I access them by column names (I know them)?</p>\n\n<pre><code>DataFrame parquetFile = sqlContext.read().parquet(\"s3n://\"+this.aws_bucket+\"/\"+this.aws_key_members);\nparquetFile.registerTempTable(\"mydata\");\nDataFrame eventsRaw = sqlContext.sql(\"SELECT * FROM mydata\");\nRow[] rddRows = eventsRaw.collect();\nfor (int rowIdx = 0; rowIdx &lt; rddRows.length; ++rowIdx)\n{\n   Map&lt;String, String&gt; props = new HashMap&lt;&gt;();\n   props.put(\"field1\", rddRows[rowIdx].get(0).toString());\n   props.put(\"field2\", rddRows[rowIdx].get(1).toString());\n   // further processing\n}\n</code></pre>\n"},{"tags":["java","android","android-room","android-livedata","android-architecture-components"],"comments":[{"owner":{"account_id":16047390,"reputation":1264,"user_id":11582192,"display_name":"Per.J"},"score":0,"creation_date":1638776363,"post_id":70241847,"comment_id":124169016,"body_markdown":"If id in your example is unique you can just query using that and return 1 object. no need to fetch all then loop and return the one matching id.\n\n    @Query(&quot;SELECT * FROM &#39;yourtable&#39; WHERE id = :id&quot;)\n    YourObject getObjectById(int id);","body":"If id in your example is unique you can just query using that and return 1 object. no need to fetch all then loop and return the one matching id.      @Query(&quot;SELECT * FROM &#39;yourtable&#39; WHERE id = :id&quot;)     YourObject getObjectById(int id);"},{"owner":{"account_id":15906876,"reputation":53,"user_id":11477844,"display_name":"Zudy"},"score":0,"creation_date":1638776596,"post_id":70241847,"comment_id":124169080,"body_markdown":"@Per.J yes, the id&#39;s in my examples are meant to be unique. \n\nFrom what I have learned, is that JetPack is not offering a one shot read (https://developer.android.com/training/data-storage/room/async-queries). I need to use LiveData for that. But that frequently leeds to null exceptions in my code... Can you advise me how to implement this on the repository and the ViewModel properly?","body":"@Per.J yes, the id&#39;s in my examples are meant to be unique.   From what I have learned, is that JetPack is not offering a one shot read (<a href=\"https://developer.android.com/training/data-storage/room/async-queries\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/room/async-quer&zwnj;&#8203;ies</a>). I need to use LiveData for that. But that frequently leeds to null exceptions in my code... Can you advise me how to implement this on the repository and the ViewModel properly?"},{"owner":{"account_id":16047390,"reputation":1264,"user_id":11582192,"display_name":"Per.J"},"score":0,"creation_date":1638776677,"post_id":70241847,"comment_id":124169092,"body_markdown":"My dao query example is showing a read that returns 1 row if it exist not a list.\n\nIf you are not running the query in a background thread you can wrap the answer in a LiveData&lt;YourObejct&gt; like so, still don&#39;t need to be a list with all rows","body":"My dao query example is showing a read that returns 1 row if it exist not a list.  If you are not running the query in a background thread you can wrap the answer in a LiveData&lt;YourObejct&gt; like so, still don&#39;t need to be a list with all rows"},{"owner":{"account_id":15906876,"reputation":53,"user_id":11477844,"display_name":"Zudy"},"score":0,"creation_date":1638777987,"post_id":70241847,"comment_id":124169476,"body_markdown":"@Per.J I tried that and it works for the first case, where I have only one table. But for the second case - with a 1:m relation where I want to get &quot;a student with its school&quot;, the repository returns null. May I ask you to put the required code in the relationship class, the dao, the repository and the ViewModel into the answer? That most likely would resolve my issues - as it sounds like I am just implementing it wrong...","body":"@Per.J I tried that and it works for the first case, where I have only one table. But for the second case - with a 1:m relation where I want to get &quot;a student with its school&quot;, the repository returns null. May I ask you to put the required code in the relationship class, the dao, the repository and the ViewModel into the answer? That most likely would resolve my issues - as it sounds like I am just implementing it wrong..."}],"owner":{"account_id":15906876,"reputation":53,"user_id":11477844,"display_name":"Zudy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638776384,"creation_date":1638774051,"question_id":70241847,"body_markdown":"As the documentation regarding these topics seems to be limited (and I was searching a lot - either wrong or the documentation is really limited), I would like to place the question here. \r\n\r\nSo far I could only find documentation that shows how to implement the basic CRUD operations (insert, delete, update, deleteAll, getAll) in the Android Architecture Components, but never queries which only return a single item. In general, the question is: Is the idea to hold all information in the repository by holding LiveData of all table contents and returning single objects from the repository? \r\n\r\nLet me precise the question in two cases:\r\n-----------------------------------------\r\n\r\n&gt;  1. One table / entity\r\n&gt;  2. Two tables / entities with a 1:many relationship\r\n\r\n\r\n**One table**\r\nI fully get the concept of using LiveData for a single table, which I can use in a recycler view to list all table rows. But in many cases, I only need one row/object to work with. For example when editing one item. \r\n\r\n**Question 1:** Is it common to implement a method on the repository to get the needed item out of the LiveData&lt;List&lt;object&gt;&gt; allObjects like below? Of course, I could also pass all information from the last activity to my editActivity through my intent, but I find it easier to implement if I just pass the ID of an object and load it in my editActivity. \r\n\r\n    private LiveData&lt;List&lt;object&gt;&gt; allObjects; \r\n    \r\n    public void getObjectById(int id){\r\n        for (Object o : allObjects) {\r\n            if(o.getid() == id){\r\n                return o;\r\n            }\r\n        }\r\n\r\n\r\n**Two tables**\r\nI also get the idea of having two entities and defining their relation in a separate class. Let&#39;s use a common example from the documentation: school with students (1:m).\r\n\r\n**Question 2:** Is it common to hold LiveData&lt;List&lt;SchoolWithStudents&gt;&gt; in my repository?\r\nIn my recycler view, I could use this list to display (for example) all schools with their number of students. Therefore I might not need the LiveData&lt;School&gt; allSchools anymore.\r\n\r\n**Question 3:** What is the best way to implement a query which returns me a student and the school he is visiting? I could implement a (relationship) class StudentWithSchool and keep LiveData of it in my repository. \r\n\r\n    private LiveData&lt;List&lt;StudentWithSchool&gt;&gt; allStudentsWithSchool;\r\n\r\n    public void getStudentWithSchoolByStudentId(int id){\r\n        for (StudentWithSchool s : allStudentsWithSchool) {\r\n            if(s.getid() == id){\r\n                return s;\r\n            }\r\n        }\r\n\r\nIt would be really helpful if somebody can explain to me how to implement the above examples correctly. Thank you, guys!","title":"Implementation of Room queries in Android Room","body":"<p>As the documentation regarding these topics seems to be limited (and I was searching a lot - either wrong or the documentation is really limited), I would like to place the question here.</p>\n<p>So far I could only find documentation that shows how to implement the basic CRUD operations (insert, delete, update, deleteAll, getAll) in the Android Architecture Components, but never queries which only return a single item. In general, the question is: Is the idea to hold all information in the repository by holding LiveData of all table contents and returning single objects from the repository?</p>\n<h2>Let me precise the question in two cases:</h2>\n<blockquote>\n<ol>\n<li>One table / entity</li>\n<li>Two tables / entities with a 1:many relationship</li>\n</ol>\n</blockquote>\n<p><strong>One table</strong>\nI fully get the concept of using LiveData for a single table, which I can use in a recycler view to list all table rows. But in many cases, I only need one row/object to work with. For example when editing one item.</p>\n<p><strong>Question 1:</strong> Is it common to implement a method on the repository to get the needed item out of the LiveData&lt;List&gt; allObjects like below? Of course, I could also pass all information from the last activity to my editActivity through my intent, but I find it easier to implement if I just pass the ID of an object and load it in my editActivity.</p>\n<pre><code>private LiveData&lt;List&lt;object&gt;&gt; allObjects; \n\npublic void getObjectById(int id){\n    for (Object o : allObjects) {\n        if(o.getid() == id){\n            return o;\n        }\n    }\n</code></pre>\n<p><strong>Two tables</strong>\nI also get the idea of having two entities and defining their relation in a separate class. Let's use a common example from the documentation: school with students (1:m).</p>\n<p><strong>Question 2:</strong> Is it common to hold LiveData&lt;List&gt; in my repository?\nIn my recycler view, I could use this list to display (for example) all schools with their number of students. Therefore I might not need the LiveData allSchools anymore.</p>\n<p><strong>Question 3:</strong> What is the best way to implement a query which returns me a student and the school he is visiting? I could implement a (relationship) class StudentWithSchool and keep LiveData of it in my repository.</p>\n<pre><code>private LiveData&lt;List&lt;StudentWithSchool&gt;&gt; allStudentsWithSchool;\n\npublic void getStudentWithSchoolByStudentId(int id){\n    for (StudentWithSchool s : allStudentsWithSchool) {\n        if(s.getid() == id){\n            return s;\n        }\n    }\n</code></pre>\n<p>It would be really helpful if somebody can explain to me how to implement the above examples correctly. Thank you, guys!</p>\n"},{"tags":["java","android","android-fragments","android-recyclerview","android-adapter"],"answers":[{"tags":[],"owner":{"account_id":7095631,"reputation":383,"user_id":5429327,"display_name":"Yura"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638727640,"creation_date":1638722890,"answer_id":70236446,"question_id":70236279,"body_markdown":"In your code, you will try to get views from an activity, but not from a Fragment.\r\n\r\n        Search = getActivity().findViewById(R.id.search_editText);\r\n        back = getActivity().findViewById(R.id.back);\r\n        recyclerView = getActivity().findViewById(R.id.recyclerView);\r\n    \r\n\r\n And instead of **onActivityCreated** use **onViewCreated**\r\n\r\n*Updated HomeSkillFragment.class.*\r\n\r\n    public class HomeSkillsFragment extends Fragment {\r\n    \r\n        private EditText Search;\r\n        private ImageView back;\r\n        private RecyclerView recyclerView;\r\n        private ArrayList&lt;Post&gt; postItem;\r\n        private postAdapter adapter;\r\n        private GridLayoutManager gridLayoutManager;\r\n        private DatabaseReference reference;\r\n        private BottomNavigationVisibility bottomNavigationVisibility;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            return inflater.inflate(R.layout.fragment_home_skills, container, false);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            \r\n            bottomNavigationVisibility = new BottomNavigationVisibility(getActivity());\r\n            bottomNavigationVisibility.hideBottomNavigation();\r\n    \r\n            //init Views\r\n            Search = view.findViewById(R.id.search_editText);\r\n            back = view.findViewById(R.id.back);\r\n            recyclerView = view.findViewById(R.id.recyclerView);\r\n            gridLayoutManager = new GridLayoutManager(getContext(), 2, GridLayoutManager.VERTICAL, false);\r\n            recyclerView.setLayoutManager(gridLayoutManager);\r\n    \r\n            //getting Data from Database\r\n            getDataFromDB();\r\n    \r\n            //click handle, back\r\n            back.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    bottomNavigationVisibility.showBottomNavigation();\r\n                    NavController navController = Navigation.findNavController(getActivity(), R.id.nav_host_fragment);\r\n                    navController.navigate(R.id.navigation_home);\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        private void getDataFromDB() {\r\n    \r\n            postItem = new ArrayList&lt;&gt;();\r\n            //initialize database\r\n            reference = FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;);\r\n            reference.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                        Post post = dataSnapshot.getValue(Post.class);\r\n                        if (post.getCategory().equals(&quot;Skills, M&quot;) || post.getCategory().equals(&quot;Skills, S&quot;))\r\n                            postItem.add(post);\r\n                    }\r\n    \r\n                    adapter = new postAdapter(getContext(), postItem);\r\n                    recyclerView.setAdapter(adapter);\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    Toast.makeText(getContext(), &quot;Something went Wrong&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                }\r\n            });\r\n        }\r\n    }","title":"recycler view is not shown in fragment","body":"<p>In your code, you will try to get views from an activity, but not from a Fragment.</p>\n<pre><code>    Search = getActivity().findViewById(R.id.search_editText);\n    back = getActivity().findViewById(R.id.back);\n    recyclerView = getActivity().findViewById(R.id.recyclerView);\n</code></pre>\n<p>And instead of <strong>onActivityCreated</strong> use <strong>onViewCreated</strong></p>\n<p><em>Updated HomeSkillFragment.class.</em></p>\n<pre><code>public class HomeSkillsFragment extends Fragment {\n\n    private EditText Search;\n    private ImageView back;\n    private RecyclerView recyclerView;\n    private ArrayList&lt;Post&gt; postItem;\n    private postAdapter adapter;\n    private GridLayoutManager gridLayoutManager;\n    private DatabaseReference reference;\n    private BottomNavigationVisibility bottomNavigationVisibility;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_home_skills, container, false);\n    }\n\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        \n        bottomNavigationVisibility = new BottomNavigationVisibility(getActivity());\n        bottomNavigationVisibility.hideBottomNavigation();\n\n        //init Views\n        Search = view.findViewById(R.id.search_editText);\n        back = view.findViewById(R.id.back);\n        recyclerView = view.findViewById(R.id.recyclerView);\n        gridLayoutManager = new GridLayoutManager(getContext(), 2, GridLayoutManager.VERTICAL, false);\n        recyclerView.setLayoutManager(gridLayoutManager);\n\n        //getting Data from Database\n        getDataFromDB();\n\n        //click handle, back\n        back.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                bottomNavigationVisibility.showBottomNavigation();\n                NavController navController = Navigation.findNavController(getActivity(), R.id.nav_host_fragment);\n                navController.navigate(R.id.navigation_home);\n\n            }\n        });\n    }\n\n    private void getDataFromDB() {\n\n        postItem = new ArrayList&lt;&gt;();\n        //initialize database\n        reference = FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;);\n        reference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n                    Post post = dataSnapshot.getValue(Post.class);\n                    if (post.getCategory().equals(&quot;Skills, M&quot;) || post.getCategory().equals(&quot;Skills, S&quot;))\n                        postItem.add(post);\n                }\n\n                adapter = new postAdapter(getContext(), postItem);\n                recyclerView.setAdapter(adapter);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(getContext(), &quot;Something went Wrong&quot;, Toast.LENGTH_SHORT).show();\n\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14704114,"reputation":71,"user_id":10619360,"display_name":"mayra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70236446,"answer_count":1,"score":0,"last_activity_date":1638776132,"creation_date":1638721800,"question_id":70236279,"body_markdown":"I changed my activity to fragment for some reason but now my recycler view is not shown I have also checked the ArrayList that I want to show on recycler view it was not empty. The same code is working in another activity and fragments but not in this fragment. Please someone help me out!! Thank you in advance \r\n\r\nmy fragment code\r\n----------------\r\n\r\n        public class HomeSkillsFragment extends Fragment {\r\n    \r\n        private EditText Search;\r\n        private ImageView back;\r\n        private RecyclerView recyclerView;\r\n        private ArrayList&lt;Post&gt; postItem;\r\n        private postAdapter adapter;\r\n        private GridLayoutManager gridLayoutManager;\r\n        private DatabaseReference reference;\r\n        private BottomNavigationVisibility bottomNavigationVisibility;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            return inflater.inflate(R.layout.fragment_home_skills, container, false);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n            super.onActivityCreated(savedInstanceState);\r\n    \r\n            bottomNavigationVisibility = new BottomNavigationVisibility(getActivity());\r\n            bottomNavigationVisibility.hideBottomNavigation();\r\n    \r\n            //init Views\r\n            Search = getActivity().findViewById(R.id.search_editText);\r\n            back = getActivity().findViewById(R.id.back);\r\n            recyclerView = getActivity().findViewById(R.id.recyclerView);\r\n            gridLayoutManager = new GridLayoutManager(getContext(),2,GridLayoutManager.VERTICAL,false);\r\n            recyclerView.setLayoutManager(gridLayoutManager);\r\n    \r\n            //getting Data from Database\r\n            getDataFromDB();\r\n    \r\n            //click handle, back\r\n            back.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    bottomNavigationVisibility.showBottomNavigation();\r\n                    NavController navController = Navigation.findNavController(getActivity(), R.id.nav_host_fragment);\r\n                    navController.navigate(R.id.navigation_home);\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        private void getDataFromDB(){\r\n    \r\n            postItem = new ArrayList&lt;&gt;();\r\n            //initialize database\r\n            reference = FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;);\r\n            reference.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            for(DataSnapshot dataSnapshot: snapshot.getChildren()){\r\n                                Post post = dataSnapshot.getValue(Post.class);\r\n                                if(post.getCategory().equals(&quot;Skills, M&quot; ) || post.getCategory().equals(&quot;Skills, S&quot;))\r\n                                    postItem.add(post);\r\n                            }\r\n    \r\n                            adapter = new postAdapter(getContext(),postItem);\r\n                            recyclerView.setAdapter(adapter);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n                            Toast.makeText(getContext(),&quot;Something went Wrong&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n                        }\r\n                    });\r\n    \r\n        }\r\n    }\r\n\r\nmy adapter code:\r\n----------------\r\n\r\n   \r\n\r\n     public class postAdapter extends RecyclerView.Adapter&lt;postAdapter.PostViewHolder&gt; {\r\n    \r\n        LayoutInflater mInflater;\r\n        private ArrayList&lt;Post&gt; mPost;\r\n        Context context;\r\n    \r\n        public postAdapter(Context context, ArrayList&lt;Post&gt; posts) {\r\n            mInflater = LayoutInflater.from(context);\r\n            this.mPost = posts;\r\n            this.context=context;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public PostViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View itemView = mInflater.inflate(R.layout.list_item,parent,false);\r\n            return new PostViewHolder(itemView,this);\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.M)\r\n        @Override\r\n        public void onBindViewHolder(@NonNull PostViewHolder holder, int position) {\r\n    \r\n            //setting post title\r\n            Post currentPost = mPost.get(position);\r\n            holder.itemNameTextView.setText(currentPost.getPost_Title());\r\n    \r\n            //setting InExchange\r\n            if(currentPost.getCategory().equals(&quot;Skills, M&quot;) || currentPost.getCategory().equals(&quot;Educational Accessories, M&quot;)){\r\n                holder.inExchangeTextView.setText(&quot;Rs. &quot; + currentPost.getIn_Exchange());\r\n                holder.inExchangeTextView.setTextColor(context.getColor(R.color.blue));\r\n                holder.exchangeIcon.setVisibility(View.VISIBLE);\r\n            }\r\n            else if(currentPost.getCategory().equals(&quot;Skills, S&quot;) || currentPost.getCategory().equals(&quot;Educational Accessories, A&quot;)){\r\n                holder.inExchangeTextView.setText(currentPost.getIn_Exchange());\r\n                holder.inExchangeTextView.setTextColor(context.getColor(R.color.blue));\r\n                holder.exchangeIcon.setVisibility(View.VISIBLE);\r\n            }\r\n            else{\r\n                holder.inExchangeTextView.setText(currentPost.getIn_Exchange());\r\n                holder.inExchangeTextView.setTextColor(context.getColor(R.color.green));\r\n                holder.exchangeIcon.setVisibility(View.INVISIBLE);\r\n            }\r\n    \r\n            //setting image\r\n            Picasso.get().load(currentPost.getImage_Url_1()).into(holder.image);\r\n            holder.image.setClipToOutline(true);\r\n    \r\n            //setting institution name\r\n            FirebaseDatabase.getInstance().getReference(&quot;Users/&quot;+currentPost.getUid()+&quot;/&quot;).getRef().addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                        holder.institutionName.setText(snapshot.child(&quot;institution&quot;).getValue(String.class));\r\n                    }\r\n                }\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    Toast.makeText(context,&quot;Something went wrong&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n                }\r\n            });\r\n    \r\n            //handle click of item\r\n            holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Bundle bundle = new Bundle();\r\n                    bundle.putSerializable(&quot;currentPost&quot;, currentPost);\r\n                    Navigation.findNavController(view).navigate(R.id.action_navigation_home_to_homeDetailFragment, bundle);\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return mPost.size();\r\n        }\r\n    \r\n        class PostViewHolder extends  RecyclerView.ViewHolder{\r\n    \r\n            TextView itemNameTextView;\r\n            TextView inExchangeTextView ;\r\n            TextView institutionName;\r\n            ImageView image, exchangeIcon ;\r\n            RecyclerView.Adapter mAdapter;\r\n    \r\n            public PostViewHolder(@NonNull View itemView, postAdapter adapter) {\r\n                super(itemView);\r\n                itemNameTextView = itemView.findViewById(R.id.itemName_TextView);\r\n                inExchangeTextView = itemView.findViewById(R.id.inExchange_TextView);\r\n                image = itemView.findViewById(R.id.imageView);\r\n                institutionName = itemView.findViewById(R.id.institutionName);\r\n                exchangeIcon = itemView.findViewById(R.id.exchange_icon);\r\n                mAdapter = adapter;\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nmy XML :\r\n========\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.fragments.home.HomeSkillsFragment&quot;&gt;\r\n    \r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/constraintLayoutTop&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;@dimen/_130sdp&quot;\r\n            android:background=&quot;@drawable/top_background_rounded&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/back&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;@dimen/_10sdp&quot;\r\n                android:layout_marginStart=&quot;@dimen/_12sdp&quot;\r\n                android:foreground=&quot;?android:attr/selectableItemBackgroundBorderless&quot;\r\n                android:src=&quot;@drawable/arrow_back&quot;\r\n                android:padding=&quot;@dimen/_8sdp&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n            &lt;EditText\r\n                android:id=&quot;@+id/search_editText&quot;\r\n                style=&quot;@style/searchView&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;@dimen/_35sdp&quot;\r\n                android:layout_marginStart=&quot;@dimen/_10sdp&quot;\r\n                android:layout_marginTop=&quot;@dimen/_8sdp&quot;\r\n                android:inputType=&quot;text&quot;\r\n                android:includeFontPadding=&quot;false&quot;\r\n                android:singleLine=&quot;true&quot;\r\n                android:layout_marginEnd=&quot;@dimen/_16sdp&quot;\r\n                android:layout_marginBottom=&quot;@dimen/main_start_end_margin&quot;\r\n                android:hint=&quot;Search&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@id/back&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    \r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/skills_imageView&quot;\r\n            android:layout_width=&quot;@dimen/_50sdp&quot;\r\n            android:layout_height=&quot;@dimen/_50sdp&quot;\r\n            android:background=&quot;@drawable/searchview_bg&quot;\r\n            android:src=&quot;@drawable/ic_skills&quot;\r\n            android:scaleType=&quot;centerInside&quot;\r\n            android:layout_marginTop=&quot;@dimen/_8sdp&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/search_editText&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/constraintLayoutTop&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/constraintLayoutTop&quot; /&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/skills_TextView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;@dimen/_4sdp&quot;\r\n        android:fontFamily=&quot;@font/poppins_regular&quot;\r\n        android:text=&quot;Skills&quot;\r\n        android:textColor=&quot;@android:color/black&quot;\r\n        android:textSize=&quot;@dimen/_12ssp&quot;\r\n        android:includeFontPadding=&quot;false&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/skills_imageView&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n    &lt;TextView\r\n        android:id=&quot;@+id/inExchange_TextView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;In Exchange&quot;\r\n        android:textSize=&quot;@dimen/_10ssp&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:fontFamily=&quot;@font/poppins_medium&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/constraintLayoutTop&quot;\r\n        android:layout_marginTop=&quot;@dimen/_8sdp&quot; /&gt;\r\n    \r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/radioGroup&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;@dimen/_20sdp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/inExchange_TextView&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n        &lt;RadioButton\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;See All&quot;\r\n            android:scaleX=&quot;0.9&quot;\r\n            android:scaleY=&quot;0.9&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            style=&quot;@style/radioButton&quot;\r\n            android:fontFamily=&quot;@font/poppins_medium&quot;\r\n            android:includeFontPadding=&quot;false&quot;\r\n            android:id=&quot;@+id/radioButtonAll&quot;\r\n            android:checked=&quot;true&quot;\r\n            android:textSize=&quot;@dimen/_10sdp&quot; /&gt;\r\n    \r\n        &lt;RadioButton\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Give Money&quot;\r\n            style=&quot;@style/radioButton&quot;\r\n            android:scaleX=&quot;0.9&quot;\r\n            android:scaleY=&quot;0.9&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:includeFontPadding=&quot;false&quot;\r\n            android:fontFamily=&quot;@font/poppins_medium&quot;\r\n            android:id=&quot;@+id/radioButtonMoney&quot;\r\n            android:checked=&quot;false&quot;\r\n            android:textSize=&quot;@dimen/_10sdp&quot; /&gt;\r\n    \r\n        &lt;RadioButton\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:includeFontPadding=&quot;false&quot;\r\n            android:scaleX=&quot;0.9&quot;\r\n            android:scaleY=&quot;0.9&quot;\r\n            android:text=&quot;Teach Other Skill&quot;\r\n            style=&quot;@style/radioButton&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:fontFamily=&quot;@font/poppins_medium&quot;\r\n            android:id=&quot;@+id/radioButtonSkill&quot;\r\n            android:checked=&quot;false&quot;\r\n            android:textSize=&quot;@dimen/_10sdp&quot; /&gt;\r\n    &lt;/RadioGroup&gt;\r\n    \r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;@dimen/_10sdp&quot;\r\n        android:paddingLeft=&quot;@dimen/_12sdp&quot;\r\n        android:paddingRight=&quot;@dimen/_12sdp&quot;\r\n        android:paddingTop=&quot;@dimen/_8sdp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/radioGroup&quot;\r\n        app:layout_constraintVertical_weight=&quot;1&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"recycler view is not shown in fragment","body":"<p>I changed my activity to fragment for some reason but now my recycler view is not shown I have also checked the ArrayList that I want to show on recycler view it was not empty. The same code is working in another activity and fragments but not in this fragment. Please someone help me out!! Thank you in advance</p>\n<h2>my fragment code</h2>\n<pre><code>    public class HomeSkillsFragment extends Fragment {\n\n    private EditText Search;\n    private ImageView back;\n    private RecyclerView recyclerView;\n    private ArrayList&lt;Post&gt; postItem;\n    private postAdapter adapter;\n    private GridLayoutManager gridLayoutManager;\n    private DatabaseReference reference;\n    private BottomNavigationVisibility bottomNavigationVisibility;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_home_skills, container, false);\n    }\n\n\n    @Override\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n\n        bottomNavigationVisibility = new BottomNavigationVisibility(getActivity());\n        bottomNavigationVisibility.hideBottomNavigation();\n\n        //init Views\n        Search = getActivity().findViewById(R.id.search_editText);\n        back = getActivity().findViewById(R.id.back);\n        recyclerView = getActivity().findViewById(R.id.recyclerView);\n        gridLayoutManager = new GridLayoutManager(getContext(),2,GridLayoutManager.VERTICAL,false);\n        recyclerView.setLayoutManager(gridLayoutManager);\n\n        //getting Data from Database\n        getDataFromDB();\n\n        //click handle, back\n        back.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                bottomNavigationVisibility.showBottomNavigation();\n                NavController navController = Navigation.findNavController(getActivity(), R.id.nav_host_fragment);\n                navController.navigate(R.id.navigation_home);\n\n            }\n        });\n    }\n\n\n    private void getDataFromDB(){\n\n        postItem = new ArrayList&lt;&gt;();\n        //initialize database\n        reference = FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;);\n        reference.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        for(DataSnapshot dataSnapshot: snapshot.getChildren()){\n                            Post post = dataSnapshot.getValue(Post.class);\n                            if(post.getCategory().equals(&quot;Skills, M&quot; ) || post.getCategory().equals(&quot;Skills, S&quot;))\n                                postItem.add(post);\n                        }\n\n                        adapter = new postAdapter(getContext(),postItem);\n                        recyclerView.setAdapter(adapter);\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n                        Toast.makeText(getContext(),&quot;Something went Wrong&quot;,Toast.LENGTH_SHORT).show();\n\n                    }\n                });\n\n    }\n}\n</code></pre>\n<h2>my adapter code:</h2>\n<pre><code> public class postAdapter extends RecyclerView.Adapter&lt;postAdapter.PostViewHolder&gt; {\n\n    LayoutInflater mInflater;\n    private ArrayList&lt;Post&gt; mPost;\n    Context context;\n\n    public postAdapter(Context context, ArrayList&lt;Post&gt; posts) {\n        mInflater = LayoutInflater.from(context);\n        this.mPost = posts;\n        this.context=context;\n    }\n\n    @NonNull\n    @Override\n    public PostViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView = mInflater.inflate(R.layout.list_item,parent,false);\n        return new PostViewHolder(itemView,this);\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    @Override\n    public void onBindViewHolder(@NonNull PostViewHolder holder, int position) {\n\n        //setting post title\n        Post currentPost = mPost.get(position);\n        holder.itemNameTextView.setText(currentPost.getPost_Title());\n\n        //setting InExchange\n        if(currentPost.getCategory().equals(&quot;Skills, M&quot;) || currentPost.getCategory().equals(&quot;Educational Accessories, M&quot;)){\n            holder.inExchangeTextView.setText(&quot;Rs. &quot; + currentPost.getIn_Exchange());\n            holder.inExchangeTextView.setTextColor(context.getColor(R.color.blue));\n            holder.exchangeIcon.setVisibility(View.VISIBLE);\n        }\n        else if(currentPost.getCategory().equals(&quot;Skills, S&quot;) || currentPost.getCategory().equals(&quot;Educational Accessories, A&quot;)){\n            holder.inExchangeTextView.setText(currentPost.getIn_Exchange());\n            holder.inExchangeTextView.setTextColor(context.getColor(R.color.blue));\n            holder.exchangeIcon.setVisibility(View.VISIBLE);\n        }\n        else{\n            holder.inExchangeTextView.setText(currentPost.getIn_Exchange());\n            holder.inExchangeTextView.setTextColor(context.getColor(R.color.green));\n            holder.exchangeIcon.setVisibility(View.INVISIBLE);\n        }\n\n        //setting image\n        Picasso.get().load(currentPost.getImage_Url_1()).into(holder.image);\n        holder.image.setClipToOutline(true);\n\n        //setting institution name\n        FirebaseDatabase.getInstance().getReference(&quot;Users/&quot;+currentPost.getUid()+&quot;/&quot;).getRef().addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n                    holder.institutionName.setText(snapshot.child(&quot;institution&quot;).getValue(String.class));\n                }\n            }\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(context,&quot;Something went wrong&quot;,Toast.LENGTH_SHORT).show();\n\n            }\n        });\n\n        //handle click of item\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Bundle bundle = new Bundle();\n                bundle.putSerializable(&quot;currentPost&quot;, currentPost);\n                Navigation.findNavController(view).navigate(R.id.action_navigation_home_to_homeDetailFragment, bundle);\n            }\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return mPost.size();\n    }\n\n    class PostViewHolder extends  RecyclerView.ViewHolder{\n\n        TextView itemNameTextView;\n        TextView inExchangeTextView ;\n        TextView institutionName;\n        ImageView image, exchangeIcon ;\n        RecyclerView.Adapter mAdapter;\n\n        public PostViewHolder(@NonNull View itemView, postAdapter adapter) {\n            super(itemView);\n            itemNameTextView = itemView.findViewById(R.id.itemName_TextView);\n            inExchangeTextView = itemView.findViewById(R.id.inExchange_TextView);\n            image = itemView.findViewById(R.id.imageView);\n            institutionName = itemView.findViewById(R.id.institutionName);\n            exchangeIcon = itemView.findViewById(R.id.exchange_icon);\n            mAdapter = adapter;\n        }\n    }\n\n\n}\n</code></pre>\n<h1>my XML :</h1>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.fragments.home.HomeSkillsFragment&quot;&gt;\n\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraintLayoutTop&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;@dimen/_130sdp&quot;\n        android:background=&quot;@drawable/top_background_rounded&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/back&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;@dimen/_10sdp&quot;\n            android:layout_marginStart=&quot;@dimen/_12sdp&quot;\n            android:foreground=&quot;?android:attr/selectableItemBackgroundBorderless&quot;\n            android:src=&quot;@drawable/arrow_back&quot;\n            android:padding=&quot;@dimen/_8sdp&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/search_editText&quot;\n            style=&quot;@style/searchView&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;@dimen/_35sdp&quot;\n            android:layout_marginStart=&quot;@dimen/_10sdp&quot;\n            android:layout_marginTop=&quot;@dimen/_8sdp&quot;\n            android:inputType=&quot;text&quot;\n            android:includeFontPadding=&quot;false&quot;\n            android:singleLine=&quot;true&quot;\n            android:layout_marginEnd=&quot;@dimen/_16sdp&quot;\n            android:layout_marginBottom=&quot;@dimen/main_start_end_margin&quot;\n            android:hint=&quot;Search&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toEndOf=&quot;@id/back&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/skills_imageView&quot;\n        android:layout_width=&quot;@dimen/_50sdp&quot;\n        android:layout_height=&quot;@dimen/_50sdp&quot;\n        android:background=&quot;@drawable/searchview_bg&quot;\n        android:src=&quot;@drawable/ic_skills&quot;\n        android:scaleType=&quot;centerInside&quot;\n        android:layout_marginTop=&quot;@dimen/_8sdp&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/search_editText&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/constraintLayoutTop&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/constraintLayoutTop&quot; /&gt;\n&lt;TextView\n    android:id=&quot;@+id/skills_TextView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;@dimen/_4sdp&quot;\n    android:fontFamily=&quot;@font/poppins_regular&quot;\n    android:text=&quot;Skills&quot;\n    android:textColor=&quot;@android:color/black&quot;\n    android:textSize=&quot;@dimen/_12ssp&quot;\n    android:includeFontPadding=&quot;false&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/skills_imageView&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;TextView\n    android:id=&quot;@+id/inExchange_TextView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;In Exchange&quot;\n    android:textSize=&quot;@dimen/_10ssp&quot;\n    android:textColor=&quot;@color/black&quot;\n    android:fontFamily=&quot;@font/poppins_medium&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/constraintLayoutTop&quot;\n    android:layout_marginTop=&quot;@dimen/_8sdp&quot; /&gt;\n\n&lt;RadioGroup\n    android:id=&quot;@+id/radioGroup&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;@dimen/_20sdp&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/inExchange_TextView&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;RadioButton\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;See All&quot;\n        android:scaleX=&quot;0.9&quot;\n        android:scaleY=&quot;0.9&quot;\n        android:textStyle=&quot;bold&quot;\n        style=&quot;@style/radioButton&quot;\n        android:fontFamily=&quot;@font/poppins_medium&quot;\n        android:includeFontPadding=&quot;false&quot;\n        android:id=&quot;@+id/radioButtonAll&quot;\n        android:checked=&quot;true&quot;\n        android:textSize=&quot;@dimen/_10sdp&quot; /&gt;\n\n    &lt;RadioButton\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Give Money&quot;\n        style=&quot;@style/radioButton&quot;\n        android:scaleX=&quot;0.9&quot;\n        android:scaleY=&quot;0.9&quot;\n        android:textStyle=&quot;bold&quot;\n        android:includeFontPadding=&quot;false&quot;\n        android:fontFamily=&quot;@font/poppins_medium&quot;\n        android:id=&quot;@+id/radioButtonMoney&quot;\n        android:checked=&quot;false&quot;\n        android:textSize=&quot;@dimen/_10sdp&quot; /&gt;\n\n    &lt;RadioButton\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:includeFontPadding=&quot;false&quot;\n        android:scaleX=&quot;0.9&quot;\n        android:scaleY=&quot;0.9&quot;\n        android:text=&quot;Teach Other Skill&quot;\n        style=&quot;@style/radioButton&quot;\n        android:textStyle=&quot;bold&quot;\n        android:fontFamily=&quot;@font/poppins_medium&quot;\n        android:id=&quot;@+id/radioButtonSkill&quot;\n        android:checked=&quot;false&quot;\n        android:textSize=&quot;@dimen/_10sdp&quot; /&gt;\n&lt;/RadioGroup&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/recyclerView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:layout_marginTop=&quot;@dimen/_10sdp&quot;\n    android:paddingLeft=&quot;@dimen/_12sdp&quot;\n    android:paddingRight=&quot;@dimen/_12sdp&quot;\n    android:paddingTop=&quot;@dimen/_8sdp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/radioGroup&quot;\n    app:layout_constraintVertical_weight=&quot;1&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7095631,"reputation":383,"user_id":5429327,"display_name":"Yura"},"score":0,"creation_date":1638321543,"post_id":70174393,"comment_id":124056320,"body_markdown":"are you sure you wrote it correctly? change please, com.github.mikephill.charting.charts.PieChart - &gt;  com.github.mikephil.charting.charts.PieChart","body":"are you sure you wrote it correctly? change please, com.github.mikephill.charting.charts.PieChart - &gt;  com.github.mikephil.charting.charts.PieChart"},{"owner":{"account_id":20775069,"reputation":1,"user_id":17500095,"display_name":"Eduardo Bustillo"},"score":0,"creation_date":1638335881,"post_id":70174393,"comment_id":124058533,"body_markdown":"yes, i sure. i cheeked it but i have the same problem","body":"yes, i sure. i cheeked it but i have the same problem"},{"owner":{"account_id":7095631,"reputation":383,"user_id":5429327,"display_name":"Yura"},"score":0,"creation_date":1638351687,"post_id":70174393,"comment_id":124062747,"body_markdown":"when I add library everything works for me and I saw the difference in package","body":"when I add library everything works for me and I saw the difference in package"}],"owner":{"account_id":20775069,"reputation":1,"user_id":17500095,"display_name":"Eduardo Bustillo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638776076,"creation_date":1638297226,"question_id":70174393,"body_markdown":"I am using android studio and I want to include a library (MPPieChart). I&#39;ve added the repository and the dependencies but when I tried to work it in the XML file, the android studio did not recognize it.\r\n\r\n    &lt;com.github.mikephill.charting.charts.PieChart\r\n        android:id=&quot;@+id/frmPieChart&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;350dp&quot;\r\n        android:layout_marginTop=&quot;52dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout2&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/frameLayout2&quot;\r\n    &lt;/com.github.mikephill.charting.charts.PieChart&gt;\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2FTGM.png","title":"How to fix a missing resgistered class?","body":"<p>I am using android studio and I want to include a library (MPPieChart). I've added the repository and the dependencies but when I tried to work it in the XML file, the android studio did not recognize it.</p>\n<pre><code>&lt;com.github.mikephill.charting.charts.PieChart\n    android:id=&quot;@+id/frmPieChart&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;350dp&quot;\n    android:layout_marginTop=&quot;52dp&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout2&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/frameLayout2&quot;\n&lt;/com.github.mikephill.charting.charts.PieChart&gt;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/2FTGM.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","hadoop","hadoop-yarn","h2o"],"comments":[{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":0,"creation_date":1638544475,"post_id":70178457,"comment_id":124124465,"body_markdown":"I respectfully request you reword your answer to emphasize that you are looking for H20 settings to adjust the master.   (Spark has similar worker/master/driver terminology and its not clear from you question what you are looking for help with.)","body":"I respectfully request you reword your answer to emphasize that you are looking for H20 settings to adjust the master.   (Spark has similar worker/master/driver terminology and its not clear from you question what you are looking for help with.)"},{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":0,"creation_date":1638544881,"post_id":70178457,"comment_id":124124649,"body_markdown":"If you are talking H20 sparkling water you should also reference if you are running internally or externally.","body":"If you are talking H20 sparkling water you should also reference if you are running internally or externally."},{"owner":{"account_id":4934165,"reputation":194,"user_id":3972907,"display_name":"Huy Ngo"},"score":0,"creation_date":1638776200,"post_id":70178457,"comment_id":124168967,"body_markdown":"@MattAndruff Thank you for your response. I have edited my questions and added some details about my settings and cluster environment.","body":"@MattAndruff Thank you for your response. I have edited my questions and added some details about my settings and cluster environment."}],"answers":[{"tags":[],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638370868,"creation_date":1638370868,"answer_id":70186489,"question_id":70178457,"body_markdown":"The master node is also known as the &quot;driver&quot; so yes, you can set the driver memory: `spark.driver.memory`  Here&#39;s a [complete list of settings][1] you can tweak.\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/latest/configuration.html","title":"How to set memory the master node more than workers nodes&#39; memory in H2O?","body":"<p>The master node is also known as the &quot;driver&quot; so yes, you can set the driver memory: <code>spark.driver.memory</code>  Here's a <a href=\"https://spark.apache.org/docs/latest/configuration.html\" rel=\"nofollow noreferrer\">complete list of settings</a> you can tweak.</p>\n"}],"owner":{"account_id":4934165,"reputation":194,"user_id":3972907,"display_name":"Huy Ngo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638776034,"creation_date":1638325798,"question_id":70178457,"body_markdown":"In my algorithm, master node needs more memory (say 20GB) while the worker nodes need much less memory (say 3GB). However, as far as I know, in H2O it is only possibly to set the master node the same memory as worker nodes using `-mapperXmx`. \r\n\r\nIn Apache Spark, it is possible to specify the driver memory with `--driver-memory` argument. However, I have **not** been able to find a equivalent way to set &quot;master/driver&quot; node&#39;s memory in H2O.\r\n\r\nI am running H2O (**not** Sparkling Water) on a Hadoop cluster (essentially on a YARN cluster) using this command:\r\n``hadoop jar h2o-hadoop-3/h2o-cdh6.3-assembly/build/libs/h2odriver-3.33.1.jar -nodes 5 -mapperXmx 3g -output my/output/dir/on/hdfs``. This way I am able to specify worker nodes&#39; memory as 3GB. However, I could not find the argument to specify the master node&#39;s memory.  Is it possible to set the master node 20GB?","title":"How to set memory the master node more than workers nodes&#39; memory in H2O?","body":"<p>In my algorithm, master node needs more memory (say 20GB) while the worker nodes need much less memory (say 3GB). However, as far as I know, in H2O it is only possibly to set the master node the same memory as worker nodes using <code>-mapperXmx</code>.</p>\n<p>In Apache Spark, it is possible to specify the driver memory with <code>--driver-memory</code> argument. However, I have <strong>not</strong> been able to find a equivalent way to set &quot;master/driver&quot; node's memory in H2O.</p>\n<p>I am running H2O (<strong>not</strong> Sparkling Water) on a Hadoop cluster (essentially on a YARN cluster) using this command:\n<code>hadoop jar h2o-hadoop-3/h2o-cdh6.3-assembly/build/libs/h2odriver-3.33.1.jar -nodes 5 -mapperXmx 3g -output my/output/dir/on/hdfs</code>. This way I am able to specify worker nodes' memory as 3GB. However, I could not find the argument to specify the master node's memory.  Is it possible to set the master node 20GB?</p>\n"},{"tags":["java","swing","compiler-errors","awt","nosuchmethoderror"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1638294413,"post_id":70173702,"comment_id":124048551,"body_markdown":"On which line throws this exception? I don&#39;t think the posted code reproduces the error.","body":"On which line throws this exception? I don&#39;t think the posted code reproduces the error."},{"owner":{"account_id":23505195,"reputation":29,"user_id":17554580,"display_name":"MAR1"},"score":0,"creation_date":1638295285,"post_id":70173702,"comment_id":124048855,"body_markdown":"@c0der I think row 45 !","body":"@c0der I think row 45 !"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1638296166,"post_id":70173702,"comment_id":124049176,"body_markdown":"*java.lang.NoSuchMethodError:* - seems like you have an old class file with an improper constructor. Delete all your class files and recompile. Also, why are you using AWT components? You should be using either Swing or JavaFx. You should NOT be extending Container. I suggest you read the section from the Swing tutorial on [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/step3.html). It will show you how to paint a rectangle and the point your click.","body":"<i>java.lang.NoSuchMethodError:</i> - seems like you have an old class file with an improper constructor. Delete all your class files and recompile. Also, why are you using AWT components? You should be using either Swing or JavaFx. You should NOT be extending Container. I suggest you read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/step3.html\" rel=\"nofollow noreferrer\">Custom Painting</a>. It will show you how to paint a rectangle and the point your click."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1638296530,"post_id":70173702,"comment_id":124049314,"body_markdown":"The posted code does not throw this exception. (In general, you should post the entire stacktrace and mark the line that throws the exception with a comment)","body":"The posted code does not throw this exception. (In general, you should post the entire stacktrace and mark the line that throws the exception with a comment)"}],"owner":{"account_id":23505195,"reputation":29,"user_id":17554580,"display_name":"MAR1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638776029,"creation_date":1638293641,"question_id":70173702,"body_markdown":"I want this program to display on the spot on the screen where I clicked a rectangle **Shape** already created in **Contenaire** class.\r\nI wanted to make it based on this awt hierarchy **Component-&gt;Container-&gt;Frame** so that I don&#39;t make mistakes but I still did.\r\nSo why is it showing me this error ? :\r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoSuchMethodError: &#39;void DessinComponent.&lt;init&gt;(java.awt.Shape, java.awt.Color, int, int)&#39;\r\n\r\n\r\n\r\nThis is my first time working with java so am still learning.\r\n\r\nOne of the answers that I found was :\r\n\r\n&gt; That&#39;s the AWT Event Dispatch Thread (EDT). Code involving AWT or Swing should be run on that thread. This is the thread you&#39;ll be on when in you main (running in the &quot;main&quot; thread) you typically call java.awt.EventQueue.invokeLater\r\n\r\nI added **java.awt.EventQueue.invokeLater** and still nothing.\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.awt.geom.*;\r\nimport java.awt.geom.Rectangle2D.Double;\r\n\r\n\r\n\r\npublic class TestGraphic2 {\r\n    public static void main(String... args) {\r\n    \tEventQueue.invokeLater(new Runnable() {\r\n    \t\t@Override\r\n        \tpublic void run() {\r\n\t\t        Frame frame = new Frame();\r\n\t\t        frame.setSize(600, 400);\r\n\t\t        frame.setLocationRelativeTo(null);\r\n\t\t        frame.add(new Contenaire());\r\n\t\t        frame.setVisible(true);\r\n\t\t        frame.addWindowListener(new WindowAdapter(){\r\n\t\t            @Override\r\n\t\t            public void windowClosing(WindowEvent e) {\r\n\t\t                frame.dispose();\r\n\t\t            }\r\n\t\t        });\r\n\t        }\r\n    \t});\r\n    }\r\n}\r\n\r\n class Contenaire extends Container {\r\n\t\r\n\tprivate Shape shape;\r\n\tprivate DessinComponent composant;\r\n    public Contenaire() {\r\n    \tsuper();\r\n        setLayout(null);\r\n        setLocation(0, 0);\r\n        setSize(Short.MAX_VALUE, Short.MAX_VALUE);\r\n        shape = new Rectangle2D.Double(160, 220, 100, 40);\r\n        addMouseListener(new MouseAdapter(){\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {    \r\n            \t\t\tint x = e.getX();\r\n            \t\t\tint y = e.getY();\r\n            \t\t\t\r\n            \t\t\tcomposant = new DessinComponent(shape,Color.green,x,y);\r\n            \t\t\tadd(composant);\r\n                    }\r\n                \r\n            \r\n        });\r\n    }\r\n}\r\n\r\nclass DessinComponent extends Component {\r\n   \r\n\tprivate Shape shape;\r\n    private Color color;\r\n\r\n    public DessinComponent(Shape shape, Color color, int x, int y) {\r\n        this.shape = shape;\r\n        this.color = color;\r\n        //setLocation(0, 0);\r\n        //setSize(Short.MAX_VALUE, Short.MAX_VALUE);\r\n    }\r\n\r\n    @Override\r\n    public void paint(Graphics g) {\r\n    \tsuper.paint(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setColor(color);\r\n        g2.draw(shape);\r\n    }\r\n}\r\n```","title":"&quot;Exception in thread &quot;AWT-EventQueue-0&quot; AWT java","body":"<p>I want this program to display on the spot on the screen where I clicked a rectangle <strong>Shape</strong> already created in <strong>Contenaire</strong> class.\nI wanted to make it based on this awt hierarchy <strong>Component-&gt;Container-&gt;Frame</strong> so that I don't make mistakes but I still did.\nSo why is it showing me this error ? :</p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoSuchMethodError: 'void DessinComponent.(java.awt.Shape, java.awt.Color, int, int)'</p>\n</blockquote>\n<p>This is my first time working with java so am still learning.</p>\n<p>One of the answers that I found was :</p>\n<blockquote>\n<p>That's the AWT Event Dispatch Thread (EDT). Code involving AWT or Swing should be run on that thread. This is the thread you'll be on when in you main (running in the &quot;main&quot; thread) you typically call java.awt.EventQueue.invokeLater</p>\n</blockquote>\n<p>I added <strong>java.awt.EventQueue.invokeLater</strong> and still nothing.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.geom.*;\nimport java.awt.geom.Rectangle2D.Double;\n\n\n\npublic class TestGraphic2 {\n    public static void main(String... args) {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                Frame frame = new Frame();\n                frame.setSize(600, 400);\n                frame.setLocationRelativeTo(null);\n                frame.add(new Contenaire());\n                frame.setVisible(true);\n                frame.addWindowListener(new WindowAdapter(){\n                    @Override\n                    public void windowClosing(WindowEvent e) {\n                        frame.dispose();\n                    }\n                });\n            }\n        });\n    }\n}\n\n class Contenaire extends Container {\n    \n    private Shape shape;\n    private DessinComponent composant;\n    public Contenaire() {\n        super();\n        setLayout(null);\n        setLocation(0, 0);\n        setSize(Short.MAX_VALUE, Short.MAX_VALUE);\n        shape = new Rectangle2D.Double(160, 220, 100, 40);\n        addMouseListener(new MouseAdapter(){\n            @Override\n            public void mouseClicked(MouseEvent e) {    \n                        int x = e.getX();\n                        int y = e.getY();\n                        \n                        composant = new DessinComponent(shape,Color.green,x,y);\n                        add(composant);\n                    }\n                \n            \n        });\n    }\n}\n\nclass DessinComponent extends Component {\n   \n    private Shape shape;\n    private Color color;\n\n    public DessinComponent(Shape shape, Color color, int x, int y) {\n        this.shape = shape;\n        this.color = color;\n        //setLocation(0, 0);\n        //setSize(Short.MAX_VALUE, Short.MAX_VALUE);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setColor(color);\n        g2.draw(shape);\n    }\n}\n</code></pre>\n"},{"tags":["java","logging","pmd","printstacktrace"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1568379886,"post_id":10477607,"comment_id":102265905,"body_markdown":"See also [When to log a stacktrace for a caught exception](https://stackoverflow.com/questions/7361201/when-to-log-a-stacktrace-for-a-caught-exception)","body":"See also <a href=\"https://stackoverflow.com/questions/7361201/when-to-log-a-stacktrace-for-a-caught-exception\">When to log a stacktrace for a caught exception</a>"},{"owner":{"account_id":4707943,"reputation":223,"user_id":3809427,"display_name":"Loran"},"score":0,"creation_date":1680644357,"post_id":10477607,"comment_id":133932764,"body_markdown":"If you want to only avoid this message, not to use try/catch but throws.","body":"If you want to only avoid this message, not to use try/catch but throws."}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":182,"is_accepted":true,"score":182,"last_activity_date":1360827803,"creation_date":1336372095,"answer_id":10477646,"question_id":10477607,"body_markdown":"It means you should use logging framework like [tag:logback] or [tag:log4j] and instead of printing exceptions directly:\r\n\r\n    e.printStackTrace();\r\n\r\nyou should log them using this frameworks&#39; API:\r\n\r\n    log.error(&quot;Ops!&quot;, e);\r\n\r\nLogging frameworks give you a lot of flexibility, e.g. you can choose whether you want to log to console or file - or maybe skip some messages if you find them no longer relevant in some environment.","title":"Avoid printStackTrace(); use a logger call instead","body":"<p>It means you should use logging framework like <a href=\"/questions/tagged/logback\" class=\"post-tag\" title=\"show questions tagged 'logback'\" rel=\"tag\">logback</a> or <a href=\"/questions/tagged/log4j\" class=\"post-tag\" title=\"show questions tagged 'log4j'\" rel=\"tag\">log4j</a> and instead of printing exceptions directly:</p>\n\n<pre><code>e.printStackTrace();\n</code></pre>\n\n<p>you should log them using this frameworks' API:</p>\n\n<pre><code>log.error(\"Ops!\", e);\n</code></pre>\n\n<p>Logging frameworks give you a lot of flexibility, e.g. you can choose whether you want to log to console or file - or maybe skip some messages if you find them no longer relevant in some environment.</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1638775632,"creation_date":1336372302,"answer_id":10477680,"question_id":10477607,"body_markdown":"If you call `printStackTrace()` on an exception the trace is written to `System.err` and it&#39;s hard to route it elsewhere (or filter it). Instead of doing this you are advised using a logging framework (or a wrapper around multiple logging frameworks, like Apache Commons Logging) and log the exception using that framework (e.g. `logger.error(&quot;some exception message&quot;, e)`).\r\n\r\nDoing that allows you to:\r\n\r\n- write the log statement to different locations at once, e.g. the console and a file\r\n- filter the log statements by severity (error, warning, info, debug etc.) and origin (normally package or class based)\r\n- have some influence on the log format without having to change the code\r\n- etc.","title":"Avoid printStackTrace(); use a logger call instead","body":"<p>If you call <code>printStackTrace()</code> on an exception the trace is written to <code>System.err</code> and it's hard to route it elsewhere (or filter it). Instead of doing this you are advised using a logging framework (or a wrapper around multiple logging frameworks, like Apache Commons Logging) and log the exception using that framework (e.g. <code>logger.error(&quot;some exception message&quot;, e)</code>).</p>\n<p>Doing that allows you to:</p>\n<ul>\n<li>write the log statement to different locations at once, e.g. the console and a file</li>\n<li>filter the log statements by severity (error, warning, info, debug etc.) and origin (normally package or class based)</li>\n<li>have some influence on the log format without having to change the code</li>\n<li>etc.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1336372707,"creation_date":1336372327,"answer_id":10477687,"question_id":10477607,"body_markdown":"A production quality program should use one of the many logging alternatives (e.g. log4j, logback, java.util.logging) to report errors and other diagnostics.  This has a number of advantages:\r\n\r\n  - Log messages go to a configurable location.\r\n  - The end user doesn&#39;t see the messages unless you configure the logging so that he/she does.\r\n  - You can use different loggers and logging levels, etc to control how much little or much logging is recorded.\r\n  - You can use different appender formats to control what the logging looks like.\r\n  - You can easily plug the logging output into a larger monitoring / logging framework.\r\n  - All of the above can be done without changing your code; i.e. by editing the deployed application&#39;s logging config file.\r\n\r\nBy contrast, if you just use printStackTrace, the deployer / end user has little if any control, and logging messages are liable to either be lost or shown to the end user in inappropriate circumstances.  (And nothing terrifies a timid user more than a random stack trace.)\r\n","title":"Avoid printStackTrace(); use a logger call instead","body":"<p>A production quality program should use one of the many logging alternatives (e.g. log4j, logback, java.util.logging) to report errors and other diagnostics.  This has a number of advantages:</p>\n\n<ul>\n<li>Log messages go to a configurable location.</li>\n<li>The end user doesn't see the messages unless you configure the logging so that he/she does.</li>\n<li>You can use different loggers and logging levels, etc to control how much little or much logging is recorded.</li>\n<li>You can use different appender formats to control what the logging looks like.</li>\n<li>You can easily plug the logging output into a larger monitoring / logging framework.</li>\n<li>All of the above can be done without changing your code; i.e. by editing the deployed application's logging config file.</li>\n</ul>\n\n<p>By contrast, if you just use printStackTrace, the deployer / end user has little if any control, and logging messages are liable to either be lost or shown to the end user in inappropriate circumstances.  (And nothing terrifies a timid user more than a random stack trace.)</p>\n"},{"tags":[],"owner":{"account_id":2529596,"reputation":1129,"user_id":2198159,"accept_rate":57,"display_name":"abhi shukla"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1519921331,"creation_date":1401972706,"answer_id":24060737,"question_id":10477607,"body_markdown":"Almost every logging framework provides a method in which we can pass the throwable object along with a message. Like:\r\n\r\n    public trace(Marker marker, String msg, Throwable t);\r\n\r\nThey print the stacktrace of the throwable object. ","title":"Avoid printStackTrace(); use a logger call instead","body":"<p>Almost every logging framework provides a method in which we can pass the throwable object along with a message. Like:</p>\n\n<pre><code>public trace(Marker marker, String msg, Throwable t);\n</code></pre>\n\n<p>They print the stacktrace of the throwable object. </p>\n"},{"tags":[],"owner":{"account_id":5598693,"reputation":610,"user_id":4435552,"display_name":"Sandip S."},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1505207472,"creation_date":1505207472,"answer_id":46172377,"question_id":10477607,"body_markdown":"In Simple,e.printStackTrace() is not good practice,because it just prints out the stack trace to standard error. Because of this you can&#39;t really control where this output goes.","title":"Avoid printStackTrace(); use a logger call instead","body":"<p>In Simple,e.printStackTrace() is not good practice,because it just prints out the stack trace to standard error. Because of this you can't really control where this output goes.</p>\n"},{"tags":[],"owner":{"account_id":9365995,"reputation":103,"user_id":6950886,"display_name":"Amirhossein Hashemi"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1530662469,"creation_date":1530662469,"answer_id":51164205,"question_id":10477607,"body_markdown":"The main reason is that Proguard would remove Log calls from production. Because by logging or printing StackTrace, it is possible to see them (information inside stack trace or Log) inside the Android phone by for example Logcat Reader application. So that it is a bad practice for security. Also, we do not access them during production, it would better to get removed from production. As ProGuard remove all Log calls not stackTrace, so it is better to use Log in catch blocks and let them removed from Production by Proguard.","title":"Avoid printStackTrace(); use a logger call instead","body":"<p>The main reason is that Proguard would remove Log calls from production. Because by logging or printing StackTrace, it is possible to see them (information inside stack trace or Log) inside the Android phone by for example Logcat Reader application. So that it is a bad practice for security. Also, we do not access them during production, it would better to get removed from production. As ProGuard remove all Log calls not stackTrace, so it is better to use Log in catch blocks and let them removed from Production by Proguard.</p>\n"},{"tags":[],"owner":{"account_id":12645048,"reputation":185,"user_id":9191098,"display_name":"Qiyu Zhang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1563475217,"creation_date":1563401080,"answer_id":57084572,"question_id":10477607,"body_markdown":"Let&#39;s talk in from company concept. Log gives you flexible levels (see https://stackoverflow.com/questions/2342280/difference-between-logger-info-and-logger-debug). Different people want to see different levels, like QAs, developers, business people. But e.printStackTrace() will print out everything. Also, like if this method will be restful called, this same error may print several times. Then the Devops or Tech-Ops people in your company may be crazy because they will receive the same error reminders.\r\nI think a better replacement could be ``` log.error(&quot;errors happend in XXX&quot;, e)```\r\nThis will also print out whole information which is easy reading than e.printStackTrace()","title":"Avoid printStackTrace(); use a logger call instead","body":"<p>Let's talk in from company concept. Log gives you flexible levels (see <a href=\"https://stackoverflow.com/questions/2342280/difference-between-logger-info-and-logger-debug\">Difference between logger.info and logger.debug</a>). Different people want to see different levels, like QAs, developers, business people. But e.printStackTrace() will print out everything. Also, like if this method will be restful called, this same error may print several times. Then the Devops or Tech-Ops people in your company may be crazy because they will receive the same error reminders.\nI think a better replacement could be <code>log.error(\"errors happend in XXX\", e)</code>\nThis will also print out whole information which is easy reading than e.printStackTrace()</p>\n"}],"owner":{"account_id":1369870,"reputation":3580,"user_id":1305398,"accept_rate":73,"display_name":"user1305398"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154371,"favorite_count":0,"down_vote_count":0,"up_vote_count":114,"accepted_answer_id":10477646,"answer_count":7,"score":114,"last_activity_date":1638775632,"creation_date":1336371837,"question_id":10477607,"body_markdown":"In my application, I am running my code through PMD.It shows me this message:\r\n\r\n&gt; -            Avoid printStackTrace(); use a logger call instead. \r\n\r\nWhat does that mean?","title":"Avoid printStackTrace(); use a logger call instead","body":"<p>In my application, I am running my code through PMD.It shows me this message:</p>\n\n<blockquote>\n  <ul>\n  <li>Avoid printStackTrace(); use a logger call instead. </li>\n  </ul>\n</blockquote>\n\n<p>What does that mean?</p>\n"},{"tags":["java","sockets","web-services","https","apache-commons-httpclient"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1638259512,"post_id":70166055,"comment_id":124034279,"body_markdown":"You could always use a `WebSocket` for duplex communication. The connection is only closed through explicit calls from the participating parties.","body":"You could always use a <code>WebSocket</code> for duplex communication. The connection is only closed through explicit calls from the participating parties."},{"owner":{"account_id":4081262,"reputation":1022,"user_id":3351697,"accept_rate":63,"display_name":"Afgan"},"score":0,"creation_date":1638260761,"post_id":70166055,"comment_id":124034708,"body_markdown":"Can you please elaborate it more? this his new territory for me","body":"Can you please elaborate it more? this his new territory for me"},{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1638260918,"post_id":70166055,"comment_id":124034786,"body_markdown":"I suggest you first take a look at what WebSocket is : https://www.geeksforgeeks.org/what-is-web-socket-and-how-it-is-different-from-the-http/","body":"I suggest you first take a look at what WebSocket is : <a href=\"https://www.geeksforgeeks.org/what-is-web-socket-and-how-it-is-different-from-the-http/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"},{"owner":{"account_id":4081262,"reputation":1022,"user_id":3351697,"accept_rate":63,"display_name":"Afgan"},"score":0,"creation_date":1638265781,"post_id":70166055,"comment_id":124036532,"body_markdown":"Thanks for sharing, I am on it. what would you suggest if I want do using HTTP only not with web-socket?","body":"Thanks for sharing, I am on it. what would you suggest if I want do using HTTP only not with web-socket?"},{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1638267558,"post_id":70166055,"comment_id":124037221,"body_markdown":"HTTP is not meant to be a two-way communication protocol. I do not know your exact use case, but you would have to ping the service very often to check whether there are new data. With WebSocket, the connection stays alive and every time a message is there, it is directly transmitted.","body":"HTTP is not meant to be a two-way communication protocol. I do not know your exact use case, but you would have to ping the service very often to check whether there are new data. With WebSocket, the connection stays alive and every time a message is there, it is directly transmitted."},{"owner":{"account_id":4081262,"reputation":1022,"user_id":3351697,"accept_rate":63,"display_name":"Afgan"},"score":0,"creation_date":1638343107,"post_id":70166055,"comment_id":124059982,"body_markdown":"@Renis1235\nUse case- Service S1 and CS2(Cloud), S1 is reside on premise and connecting to user source, S1 will fetch data from the user source and then it will send it to cloud service CS2(S1 can open port 443 and make out bond SSL connection with CS2), now latter point of time, if any user come for authentication at CS2 service it will call S1 on premise service to authenticate with user source, Note - S1 and user source both are behind firewall.S1 can open port 443 and make out bond SSL connection with CS2 &gt;this is one way, how can I can connect on demand from CS2 to S1(behind the firewall)","body":"@Renis1235 Use case- Service S1 and CS2(Cloud), S1 is reside on premise and connecting to user source, S1 will fetch data from the user source and then it will send it to cloud service CS2(S1 can open port 443 and make out bond SSL connection with CS2), now latter point of time, if any user come for authentication at CS2 service it will call S1 on premise service to authenticate with user source, Note - S1 and user source both are behind firewall.S1 can open port 443 and make out bond SSL connection with CS2 &gt;this is one way, how can I can connect on demand from CS2 to S1(behind the firewall)"}],"owner":{"account_id":4081262,"reputation":1022,"user_id":3351697,"accept_rate":63,"display_name":"Afgan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638775561,"creation_date":1638259389,"question_id":70166055,"body_markdown":"Problem statement-\r\n\r\n\r\nI have a requirement to make an out bound SSL connection from behind the firewall to the external cloud web-service and keep that connection open for duplex communication, for ease of understating I am breaking up this requirement in to 2 phase as below.\r\n\r\nPhase 1 -\r\n\r\nI have an agent which is installed and run behind the firewall of customer, and it will connect to external cloud web-service by opening connection at port 443.\r\n\r\nI have tried 2 ways - \r\n\r\n1- SSL socket client \r\n\r\n    public class SSLSocketClient {\r\n\t\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        try {\r\n        \t\r\n        \t\r\n            SSLSocketFactory factory =\r\n                (SSLSocketFactory)SSLSocketFactory.getDefault();\r\n            SSLSocket socket =\r\n                (SSLSocket)factory.createSocket(&quot;mycloud.com&quot;, 443);\r\n            socket.setKeepAlive(true);\r\n            \r\n            socket.startHandshake();\r\n            boolean isLive = true;\r\n            \r\n\r\n            PrintWriter out = new PrintWriter(\r\n                                  new BufferedWriter(\r\n                                  new OutputStreamWriter(\r\n                                  socket.getOutputStream())));\r\n\r\n            \r\n            \r\n            out.println(&quot;GET /some/orgs/myorg HTTP/1.1&quot;);\r\n            out.println(&quot;Host: mycloud.com&quot;);\r\n            out.println(&quot;Accept: application/json&quot;);\r\n            out.println(&quot;X-Api-Key: knwysf24tzeatwk5dwnqa6xh&quot;);\r\n                  \r\n          \r\n\r\n            out.println();\r\n            out.flush();\r\n\r\n            /*\r\n             * Make sure there were no surprises\r\n             */\r\n            if (out.checkError())\r\n                System.out.println(\r\n                    &quot;SSLSocketClient:  java.io.PrintWriter error&quot;);\r\n\r\n            /* read response */\r\n            BufferedReader in = new BufferedReader(\r\n                                    new InputStreamReader(\r\n                                    socket.getInputStream()));\r\n\r\n            String inputLine;\r\n            while ((inputLine = in.readLine()) != null)\r\n                System.out.println(inputLine);\r\n\r\n            in.close();\r\n            out.close();\r\n            socket.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nin this approach after every request-response cycle, connection get closed, and for every new request I need to re-open connection again.\r\n\r\nTo avoid connection reopen problem I tried to use apache commons-httpclient library\r\n\r\n2- Creating HTTP connection using apache commons-httpclient library\r\n\r\n    public class HttpClientTest {\r\n\r\n    private static int connectionTimeout = 1000;\r\n    private static int socketTimeout = 10000;\r\n    private static String host = &quot;mycloud.com&quot;;\r\n    private static int port = 443;\r\n    static boolean  useExpectContinue = true;\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n\tpublic static DefaultHttpClient configureClient() {\r\n        HttpParams params = new BasicHttpParams();\r\n        HttpProtocolParams.setUseExpectContinue(params, useExpectContinue);\r\n        HttpConnectionParams\r\n                .setConnectionTimeout(params, connectionTimeout);\r\n        HttpConnectionParams.setSoTimeout(params, socketTimeout);\r\n        HttpConnectionParams.setTcpNoDelay(params, Boolean.TRUE);\r\n\r\n        String protocol = &quot;https&quot;;\r\n        params.setParameter(ClientPNames.DEFAULT_HOST, new HttpHost(host,\r\n                port, protocol));\r\n        DefaultHttpClient client = new DefaultHttpClient(params);\r\n\r\n        return client;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n\tpublic static void main(String args []) throws IOException {\r\n        String uri = &quot;/idbridge/orgs/cableco_rt&quot;;\r\n        \r\n        HttpGet httpGet = new HttpGet(uri);\r\n        httpGet.setHeader(&quot;Host&quot;,host);\r\n        httpGet.setHeader(&quot;Accept&quot;,&quot;application/json&quot;);\r\n        httpGet.setHeader(&quot;X-Api-Key&quot;,&quot;knwysf24tzeatwk5dwnqa6xh&quot;);\r\n        \r\n        \r\n        String uriOrg = &quot;/idbridge/orgs&quot;;\r\n        \r\n        HttpGet httpGetOrg = new HttpGet(uriOrg);\r\n        httpGetOrg.setHeader(&quot;Host&quot;,host);\r\n        httpGetOrg.setHeader(&quot;Accept&quot;,&quot;application/json&quot;);\r\n        httpGetOrg.setHeader(&quot;X-Api-Key&quot;,&quot;knwysf24tzeatwk5dwnqa6xh&quot;);\r\n        @SuppressWarnings(&quot;deprecation&quot;)\r\n\t\tDefaultHttpClient client = configureClient();\r\n        HttpParams params = client.getParams();\r\n        \r\n        System.out.println(&quot;Client connected to -&gt; &quot; + params.getParameter(&quot;http.default-host&quot;) +&quot;\\n ______________________________&quot;);\r\n\r\n        System.out.println(&quot;Request - &gt; &quot; + httpGet.getURI()+&quot;\\n&quot;);\r\n        org.apache.http.HttpResponse rsp = client.execute(httpGet);\r\n        \r\n        \r\n        HttpEntity entity = rsp.getEntity();\r\n        Header[] allHeaders = rsp.getAllHeaders();\r\n        System.out.println(&quot;Response&quot;\r\n        \t\t+ &quot; :  &quot;+EntityUtils.toString(entity,&quot;UTF-8&quot;) +&quot;\\n______________________________&quot;);\r\n        \r\n        \r\n        \r\n        org.apache.http.HttpResponse rspOrg = client.execute(httpGetOrg);\r\n        System.out.println(&quot;Request - &gt; &quot; + httpGetOrg.getURI()+&quot;\\n&quot;);\r\n\r\n        HttpEntity entityOrg = rspOrg.getEntity();\r\n      Header[] allHeadersOrg = rspOrg.getAllHeaders();\r\n      System.out.println(&quot;Response&quot;\r\n      \t\t+ &quot; :  &quot;+EntityUtils.toString(entityOrg,&quot;UTF-8&quot;));      \r\n    }\r\n    \r\n     \r\n    \r\n    \r\n}\r\n\r\nThis resolve my problem of re-opening connection every time, it create DefaultHttpClient once and we can reuse it any number of times.\r\n\r\nPhase 2 - \r\n\r\nPhase 2 of my problem is to maintain that connection that means, my source web-service created a connection as above described method and that same connection should be used by the target web-service, if it will require to request something in future, need to create some kind of hook or callback to open 2 way communication or I would say a duplex communication.\r\n\r\nTo solve this tried to use AsyncClientHttpExchange\r\n \r\n\r\n    public class AsyncClientHttpExchange {\r\n\t public static void main(final String[] args) throws Exception {\r\n\t\t       CloseableHttpAsyncClient httpclient = HttpAsyncClients.createDefault();\r\n\t\t         try {\r\n\t\t \t            httpclient.start();\r\n\t\t             HttpGet request = new HttpGet(&quot;http://localhost:9090/connect&quot;);\r\n\t\t \t            Future&lt;HttpResponse&gt; future = httpclient.execute(request, null);\r\n\t\t \t            HttpResponse response = future.get();\r\n\t\t \t            System.out.println(EntityUtils.toString(response.getEntity(),&quot;UTF-8&quot;) );\r\n\t\t \t            System.out.println(&quot;Response: &quot; + response.getStatusLine());\r\n\t\t \t            System.out.println(&quot;Shutting down&quot;);\r\n\t\t \t        } finally {\r\n\t\t \t            httpclient.close();\r\n\t\t \t        }\r\n\t\t \t        System.out.println(&quot;Done&quot;);\r\n\t\t \t    }\t\t\r\n}\r\n\r\nBut again it wont solve my problem of callback/hook, I read [this][1] article I actually need the same behaviour \r\n\r\n&gt; Calling back The server side takes the initiative after completing a\r\n&gt; job and transforms itself in a client making an HTTP request to the\r\n&gt; original client (which acts now like a server, of course). The\r\n&gt; protocol has to be shared (such as PUT or POST requests with a certain\r\n&gt; format).\r\n\r\nI am expecting some code reference to implement this behaviour.\r\n\r\nEdited - Use case -&gt; Service S1 and CS2(Cloud), S1 is reside on premise and connecting to user source, S1 will fetch data from the user source and then it will send it to cloud service CS2(S1 can open port 443 and make out bond SSL connection with CS2), now latter point of time, if any user come for authentication at CS2 service it will call S1 on premise service to authenticate with user source, Note - S1 and user source both are behind firewall.S1 can open port 443 and make out bond SSL connection with CS2 &gt;this is one way, how can I can connect on demand from CS2 to S1(behind the firewall) \r\n\r\n\r\n  [1]: https://dzone.com/articles/rest-callbacks","title":"how to maintain a persistent connection between 2 web-services and establish a duplex connection","body":"<p>Problem statement-</p>\n<p>I have a requirement to make an out bound SSL connection from behind the firewall to the external cloud web-service and keep that connection open for duplex communication, for ease of understating I am breaking up this requirement in to 2 phase as below.</p>\n<p>Phase 1 -</p>\n<p>I have an agent which is installed and run behind the firewall of customer, and it will connect to external cloud web-service by opening connection at port 443.</p>\n<p>I have tried 2 ways -</p>\n<p>1- SSL socket client</p>\n<pre><code>public class SSLSocketClient {\n\n\npublic static void main(String[] args) throws Exception {\n    try {\n        \n        \n        SSLSocketFactory factory =\n            (SSLSocketFactory)SSLSocketFactory.getDefault();\n        SSLSocket socket =\n            (SSLSocket)factory.createSocket(&quot;mycloud.com&quot;, 443);\n        socket.setKeepAlive(true);\n        \n        socket.startHandshake();\n        boolean isLive = true;\n        \n\n        PrintWriter out = new PrintWriter(\n                              new BufferedWriter(\n                              new OutputStreamWriter(\n                              socket.getOutputStream())));\n\n        \n        \n        out.println(&quot;GET /some/orgs/myorg HTTP/1.1&quot;);\n        out.println(&quot;Host: mycloud.com&quot;);\n        out.println(&quot;Accept: application/json&quot;);\n        out.println(&quot;X-Api-Key: knwysf24tzeatwk5dwnqa6xh&quot;);\n              \n      \n\n        out.println();\n        out.flush();\n\n        /*\n         * Make sure there were no surprises\n         */\n        if (out.checkError())\n            System.out.println(\n                &quot;SSLSocketClient:  java.io.PrintWriter error&quot;);\n\n        /* read response */\n        BufferedReader in = new BufferedReader(\n                                new InputStreamReader(\n                                socket.getInputStream()));\n\n        String inputLine;\n        while ((inputLine = in.readLine()) != null)\n            System.out.println(inputLine);\n\n        in.close();\n        out.close();\n        socket.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>in this approach after every request-response cycle, connection get closed, and for every new request I need to re-open connection again.</p>\n<p>To avoid connection reopen problem I tried to use apache commons-httpclient library</p>\n<p>2- Creating HTTP connection using apache commons-httpclient library</p>\n<pre><code>public class HttpClientTest {\n\nprivate static int connectionTimeout = 1000;\nprivate static int socketTimeout = 10000;\nprivate static String host = &quot;mycloud.com&quot;;\nprivate static int port = 443;\nstatic boolean  useExpectContinue = true;\n\n@SuppressWarnings(&quot;deprecation&quot;)\npublic static DefaultHttpClient configureClient() {\n    HttpParams params = new BasicHttpParams();\n    HttpProtocolParams.setUseExpectContinue(params, useExpectContinue);\n    HttpConnectionParams\n            .setConnectionTimeout(params, connectionTimeout);\n    HttpConnectionParams.setSoTimeout(params, socketTimeout);\n    HttpConnectionParams.setTcpNoDelay(params, Boolean.TRUE);\n\n    String protocol = &quot;https&quot;;\n    params.setParameter(ClientPNames.DEFAULT_HOST, new HttpHost(host,\n            port, protocol));\n    DefaultHttpClient client = new DefaultHttpClient(params);\n\n    return client;\n}\n\n@SuppressWarnings(&quot;deprecation&quot;)\npublic static void main(String args []) throws IOException {\n    String uri = &quot;/idbridge/orgs/cableco_rt&quot;;\n    \n    HttpGet httpGet = new HttpGet(uri);\n    httpGet.setHeader(&quot;Host&quot;,host);\n    httpGet.setHeader(&quot;Accept&quot;,&quot;application/json&quot;);\n    httpGet.setHeader(&quot;X-Api-Key&quot;,&quot;knwysf24tzeatwk5dwnqa6xh&quot;);\n    \n    \n    String uriOrg = &quot;/idbridge/orgs&quot;;\n    \n    HttpGet httpGetOrg = new HttpGet(uriOrg);\n    httpGetOrg.setHeader(&quot;Host&quot;,host);\n    httpGetOrg.setHeader(&quot;Accept&quot;,&quot;application/json&quot;);\n    httpGetOrg.setHeader(&quot;X-Api-Key&quot;,&quot;knwysf24tzeatwk5dwnqa6xh&quot;);\n    @SuppressWarnings(&quot;deprecation&quot;)\n    DefaultHttpClient client = configureClient();\n    HttpParams params = client.getParams();\n    \n    System.out.println(&quot;Client connected to -&gt; &quot; + params.getParameter(&quot;http.default-host&quot;) +&quot;\\n ______________________________&quot;);\n\n    System.out.println(&quot;Request - &gt; &quot; + httpGet.getURI()+&quot;\\n&quot;);\n    org.apache.http.HttpResponse rsp = client.execute(httpGet);\n    \n    \n    HttpEntity entity = rsp.getEntity();\n    Header[] allHeaders = rsp.getAllHeaders();\n    System.out.println(&quot;Response&quot;\n            + &quot; :  &quot;+EntityUtils.toString(entity,&quot;UTF-8&quot;) +&quot;\\n______________________________&quot;);\n    \n    \n    \n    org.apache.http.HttpResponse rspOrg = client.execute(httpGetOrg);\n    System.out.println(&quot;Request - &gt; &quot; + httpGetOrg.getURI()+&quot;\\n&quot;);\n\n    HttpEntity entityOrg = rspOrg.getEntity();\n  Header[] allHeadersOrg = rspOrg.getAllHeaders();\n  System.out.println(&quot;Response&quot;\n        + &quot; :  &quot;+EntityUtils.toString(entityOrg,&quot;UTF-8&quot;));      \n}\n\n \n</code></pre>\n<p>}</p>\n<p>This resolve my problem of re-opening connection every time, it create DefaultHttpClient once and we can reuse it any number of times.</p>\n<p>Phase 2 -</p>\n<p>Phase 2 of my problem is to maintain that connection that means, my source web-service created a connection as above described method and that same connection should be used by the target web-service, if it will require to request something in future, need to create some kind of hook or callback to open 2 way communication or I would say a duplex communication.</p>\n<p>To solve this tried to use AsyncClientHttpExchange</p>\n<pre><code>public class AsyncClientHttpExchange {\n public static void main(final String[] args) throws Exception {\n           CloseableHttpAsyncClient httpclient = HttpAsyncClients.createDefault();\n             try {\n                    httpclient.start();\n                 HttpGet request = new HttpGet(&quot;http://localhost:9090/connect&quot;);\n                    Future&lt;HttpResponse&gt; future = httpclient.execute(request, null);\n                    HttpResponse response = future.get();\n                    System.out.println(EntityUtils.toString(response.getEntity(),&quot;UTF-8&quot;) );\n                    System.out.println(&quot;Response: &quot; + response.getStatusLine());\n                    System.out.println(&quot;Shutting down&quot;);\n                } finally {\n                    httpclient.close();\n                }\n                System.out.println(&quot;Done&quot;);\n            }       \n</code></pre>\n<p>}</p>\n<p>But again it wont solve my problem of callback/hook, I read <a href=\"https://dzone.com/articles/rest-callbacks\" rel=\"nofollow noreferrer\">this</a> article I actually need the same behaviour</p>\n<blockquote>\n<p>Calling back The server side takes the initiative after completing a\njob and transforms itself in a client making an HTTP request to the\noriginal client (which acts now like a server, of course). The\nprotocol has to be shared (such as PUT or POST requests with a certain\nformat).</p>\n</blockquote>\n<p>I am expecting some code reference to implement this behaviour.</p>\n<p>Edited - Use case -&gt; Service S1 and CS2(Cloud), S1 is reside on premise and connecting to user source, S1 will fetch data from the user source and then it will send it to cloud service CS2(S1 can open port 443 and make out bond SSL connection with CS2), now latter point of time, if any user come for authentication at CS2 service it will call S1 on premise service to authenticate with user source, Note - S1 and user source both are behind firewall.S1 can open port 443 and make out bond SSL connection with CS2 &gt;this is one way, how can I can connect on demand from CS2 to S1(behind the firewall)</p>\n"},{"tags":["java","maven-3"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1638775082,"post_id":70241764,"comment_id":124168687,"body_markdown":"`release` was not available until 9; use `source` and `target`.","body":"<code>release</code> was not available until 9; use <code>source</code> and <code>target</code>."}],"answers":[{"tags":[],"owner":{"account_id":20299564,"reputation":1,"user_id":14889324,"display_name":"ibraihm_317"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638775152,"creation_date":1638775152,"answer_id":70241995,"question_id":70241764,"body_markdown":"You are using 1.8.And the default value for the compiler is 1.6 so you need to change the plugin  properties to:\r\n\r\n    &lt;plugins&gt;\r\n     &lt;plugin&gt;    \r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n     &lt;/plugin&gt;\r\n    &lt;/plugins&gt;","title":"Invalid target release when compiling Java application","body":"<p>You are using 1.8.And the default value for the compiler is 1.6 so you need to change the plugin  properties to:</p>\n<pre><code>&lt;plugins&gt;\n &lt;plugin&gt;    \n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638775152,"creation_date":1638773390,"question_id":70241764,"body_markdown":"I get this error when I run `mvn clean package` in my IntelliJ terminal:\r\n\r\n&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.1:compile (default-compile) on project protection: Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nIs this telling me that it is trying to compile with Java 1.8 or that it expects Java 1.8 but the available version is not correct?","title":"Invalid target release when compiling Java application","body":"<p>I get this error when I run <code>mvn clean package</code> in my IntelliJ terminal:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.1:compile (default-compile) on project protection: Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</a></p>\n</blockquote>\n<p>Is this telling me that it is trying to compile with Java 1.8 or that it expects Java 1.8 but the available version is not correct?</p>\n"},{"tags":["java","machine-learning","linear-regression","gradient-descent"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1638610085,"post_id":70223288,"comment_id":124137852,"body_markdown":"What are `trainInputs` and `trainOutputs` - function arguments? What data type?","body":"What are <code>trainInputs</code> and <code>trainOutputs</code> - function arguments? What data type?"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1638610149,"post_id":70223288,"comment_id":124137861,"body_markdown":"And you need not post whole code, but at least proper function signature with arguments and return values, sample inputs to the function arguments, sample expected output and actual output. That should be okay for a [mre].","body":"And you need not post whole code, but at least proper function signature with arguments and return values, sample inputs to the function arguments, sample expected output and actual output. That should be okay for a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":21720391,"reputation":1,"user_id":16030745,"display_name":"this is"},"score":0,"creation_date":1638774371,"post_id":70223288,"comment_id":124168492,"body_markdown":"Thanks for your comment, I took some time to go through a sample case and come up with an actual vs expected value that I am now updating the post with.","body":"Thanks for your comment, I took some time to go through a sample case and come up with an actual vs expected value that I am now updating the post with."},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1638776103,"post_id":70223288,"comment_id":124168940,"body_markdown":"You should try printing the values of the matrices and compare it with the results you get on paper. Maybe you will find some issue with your algorithm.","body":"You should try printing the values of the matrices and compare it with the results you get on paper. Maybe you will find some issue with your algorithm."},{"owner":{"account_id":21720391,"reputation":1,"user_id":16030745,"display_name":"this is"},"score":1,"creation_date":1638778266,"post_id":70223288,"comment_id":124169545,"body_markdown":"I tried doing the whole thing on paper and actually got the same result as the code. I am pretty certain at this point it is something wrong with my algorithm, although I am not sure what because the resources I used seemed to do a similar thing. The matrix values I am getting are identical to me doing it on paper.","body":"I tried doing the whole thing on paper and actually got the same result as the code. I am pretty certain at this point it is something wrong with my algorithm, although I am not sure what because the resources I used seemed to do a similar thing. The matrix values I am getting are identical to me doing it on paper."}],"owner":{"account_id":21720391,"reputation":1,"user_id":16030745,"display_name":"this is"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638774612,"creation_date":1638596033,"question_id":70223288,"body_markdown":"I am trying to implement gradient checking in Java (currently used with linear regression), but it doesn&#39;t seem to work.  I tested my linear regression code alongside python linear regression with the same set of data and got the same gradients and line of best fit. I want to check if my implementation of gradient checking is correct, to isolate where the error could be. I can&#39;t post my entire code because the last time I did that I was discouraged from it, so I will just post a snippet of my method and please operate under the assumption that all methods work as intended. \r\n\r\nAs suggested by a commenter, I now ran a test case to find actual vs predicted values. When running gradient check using x values of 1, 2, 3 and y values of 2, 3, 4 I got -2.84 as the approximate gradient for the first weight (theta0 which would be b in ax + b). The result I got from linear regression was -9, which is significantly different. However I am more inclined to believe the linear regression is corrected as linear regression performs fine on the data, but using the approximated values that gradient checking comes up with gives an inaccurate result. While debugging my code I found no errors in the methods used, so I am inclined to believe that it is an error with my algorithm\r\n\r\n- `euclidianDistance` subtracts two vectors, squares each value in the new vector, sums the values, and then takes the square root of that.\r\n- `euclidianLength` squares each value in the vector, sums them, and then takes the square root.\r\n- `setElement` sets the element of a matrix to the specified element at the specified row and column index. I have tried epsilon values of 10^-4 and 10^-7 which still didn&#39;t work.\r\n```\r\npublic double gradientCheck(double epsilon){\r\ndouble[][] dApprox = new double[this.weights.getHeight()][this.weights.getWidth()];\r\n//create a cost vector which has each theta have +epsilon and the cost divided by 2*epsilon\r\nfor (int row = 0; row &lt; this.weights.height; row++) {\r\n  Matrix tempWeight = this.weights;\r\n  //sets the theta value to itself + epsilon\r\n  tempWeight.setElement(this.weights.getElement(row, 0) + epsilon, row, 0);\r\n  Matrix hyp = trainInputs.multiplyMatrix(tempWeight);\r\n  Matrix err = hyp.subtractMatrix(trainOutputs);\r\n  //compute the cost of this new vector\r\n  double val = cost(err);\r\n\r\n  //do the same thing but with theta-epsilon\r\n  tempWeight = this.weights;\r\n  //sets the theta value to itself + epsilon\r\n  tempWeight.setElement(this.weights.getElement(row, 0) - epsilon, row, 0);\r\n  hyp = trainInputs.multiplyMatrix(tempWeight);\r\n  err = hyp.subtractMatrix(trainOutputs);\r\n  //compute the cost of this new vector\r\n  double newVal = cost(err);\r\n\r\n  double finalVal = (val - newVal) / (2.0 * epsilon);\r\n  //vector which has the final dApprox\r\n  dApprox[row][0] = finalVal;\r\n}\r\nMatrix approx = new Matrix(dApprox);\r\ndouble numerator = Matrix.euclideanDistance(approx, dTheta);\r\ndouble denominator = Matrix.euclideanLength(approx.addMatrix(dTheta));\r\n\r\nreturn (numerator / denominator);\r\n}\r\n```\r\nA few more notes: \r\n\r\n`dApprox` is what I am calling my approximated gradient values and `dTheta` is the real gradient values. The results I am getting are in the 0.9 - 1 range which wouldn&#39;t make sense given the supposed accuracy of my linear regression algorithm.\r\n- `trainInputs` is a matrix of the training data with a column of 1s attached before it. \r\n-`trainOutputs` is simply the outputs as a m*1 matrix where m is the number of datapoints (in this case it is simply [[2], [3], [4]]\r\n\r\nIf there is nothing conceptually wrong with the algorithm please let me know, that way I can make sure the problem is within one of the methods and not with the actual implementation.  ","title":"Gradient checking implementation in Java","body":"<p>I am trying to implement gradient checking in Java (currently used with linear regression), but it doesn't seem to work.  I tested my linear regression code alongside python linear regression with the same set of data and got the same gradients and line of best fit. I want to check if my implementation of gradient checking is correct, to isolate where the error could be. I can't post my entire code because the last time I did that I was discouraged from it, so I will just post a snippet of my method and please operate under the assumption that all methods work as intended.</p>\n<p>As suggested by a commenter, I now ran a test case to find actual vs predicted values. When running gradient check using x values of 1, 2, 3 and y values of 2, 3, 4 I got -2.84 as the approximate gradient for the first weight (theta0 which would be b in ax + b). The result I got from linear regression was -9, which is significantly different. However I am more inclined to believe the linear regression is corrected as linear regression performs fine on the data, but using the approximated values that gradient checking comes up with gives an inaccurate result. While debugging my code I found no errors in the methods used, so I am inclined to believe that it is an error with my algorithm</p>\n<ul>\n<li><code>euclidianDistance</code> subtracts two vectors, squares each value in the new vector, sums the values, and then takes the square root of that.</li>\n<li><code>euclidianLength</code> squares each value in the vector, sums them, and then takes the square root.</li>\n<li><code>setElement</code> sets the element of a matrix to the specified element at the specified row and column index. I have tried epsilon values of 10^-4 and 10^-7 which still didn't work.</li>\n</ul>\n<pre><code>public double gradientCheck(double epsilon){\ndouble[][] dApprox = new double[this.weights.getHeight()][this.weights.getWidth()];\n//create a cost vector which has each theta have +epsilon and the cost divided by 2*epsilon\nfor (int row = 0; row &lt; this.weights.height; row++) {\n  Matrix tempWeight = this.weights;\n  //sets the theta value to itself + epsilon\n  tempWeight.setElement(this.weights.getElement(row, 0) + epsilon, row, 0);\n  Matrix hyp = trainInputs.multiplyMatrix(tempWeight);\n  Matrix err = hyp.subtractMatrix(trainOutputs);\n  //compute the cost of this new vector\n  double val = cost(err);\n\n  //do the same thing but with theta-epsilon\n  tempWeight = this.weights;\n  //sets the theta value to itself + epsilon\n  tempWeight.setElement(this.weights.getElement(row, 0) - epsilon, row, 0);\n  hyp = trainInputs.multiplyMatrix(tempWeight);\n  err = hyp.subtractMatrix(trainOutputs);\n  //compute the cost of this new vector\n  double newVal = cost(err);\n\n  double finalVal = (val - newVal) / (2.0 * epsilon);\n  //vector which has the final dApprox\n  dApprox[row][0] = finalVal;\n}\nMatrix approx = new Matrix(dApprox);\ndouble numerator = Matrix.euclideanDistance(approx, dTheta);\ndouble denominator = Matrix.euclideanLength(approx.addMatrix(dTheta));\n\nreturn (numerator / denominator);\n}\n</code></pre>\n<p>A few more notes:</p>\n<p><code>dApprox</code> is what I am calling my approximated gradient values and <code>dTheta</code> is the real gradient values. The results I am getting are in the 0.9 - 1 range which wouldn't make sense given the supposed accuracy of my linear regression algorithm.</p>\n<ul>\n<li><code>trainInputs</code> is a matrix of the training data with a column of 1s attached before it.\n-<code>trainOutputs</code> is simply the outputs as a m*1 matrix where m is the number of datapoints (in this case it is simply [[2], [3], [4]]</li>\n</ul>\n<p>If there is nothing conceptually wrong with the algorithm please let me know, that way I can make sure the problem is within one of the methods and not with the actual implementation.</p>\n"},{"tags":["java","multithreading","spring-boot","spring-cloud-sleuth"],"answers":[{"tags":[],"owner":{"account_id":1111053,"reputation":1359,"user_id":1101512,"accept_rate":78,"display_name":"Sudhir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591975328,"creation_date":1591969142,"answer_id":62345437,"question_id":62345323,"body_markdown":"Use `LazyTraceExecutor`. This class propagates traceIds to new threads and create new spanIds in the process.\r\n\r\nFor more details see \r\n\r\n - [@Async Support](https://www.baeldung.com/spring-cloud-sleuth-single-application#4-spanning-runnables)\r\n - [@Scheduled Support](https://www.baeldung.com/spring-cloud-sleuth-single-application#6-scheduled-support)","title":"Spring Cloud Sleuth v2.2.3 how to propagate TraceId to another thread","body":"<p>Use <code>LazyTraceExecutor</code>. This class propagates traceIds to new threads and create new spanIds in the process.</p>\n\n<p>For more details see </p>\n\n<ul>\n<li><a href=\"https://www.baeldung.com/spring-cloud-sleuth-single-application#4-spanning-runnables\" rel=\"nofollow noreferrer\">@Async Support</a></li>\n<li><a href=\"https://www.baeldung.com/spring-cloud-sleuth-single-application#6-scheduled-support\" rel=\"nofollow noreferrer\">@Scheduled Support</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13885352,"reputation":21,"user_id":10024619,"display_name":"Ali Hussain Moosakhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638774339,"creation_date":1638774074,"answer_id":70241855,"question_id":62345323,"body_markdown":"you can use `LazyTraceThreadPoolTaskExecutor`.\r\n\r\n```\r\n@Configuration\r\npublic class BeanConfigurations {\r\n\r\n\tprivate final BeanFactory beanFactory;\r\n\r\n\t@Autowired\r\n\tpublic BeanConfigurations(BeanFactory beanFactory){\r\n\t\tthis.beanFactory=beanFactory;\r\n\t}\r\n\r\n\t@Bean(&quot;asyncExecutor&quot;)\r\n\tpublic TaskExecutor getAsyncExecutor() {\r\n\t\tThreadPoolTaskExecutor executor= new ThreadPoolTaskExecutor();\r\n\t\texecutor.setCorePoolSize(20);\r\n\t\texecutor.setMaxPoolSize(30);\r\n\t\texecutor.setWaitForTasksToCompleteOnShutdown(true);\r\n\t\texecutor.setThreadNamePrefix(&quot;Async-&quot;);\r\n\t\treturn new LazyTraceThreadPoolTaskExecutor(beanFactory,executor);\r\n\t}\r\n}\r\n```","title":"Spring Cloud Sleuth v2.2.3 how to propagate TraceId to another thread","body":"<p>you can use <code>LazyTraceThreadPoolTaskExecutor</code>.</p>\n<pre><code>@Configuration\npublic class BeanConfigurations {\n\n    private final BeanFactory beanFactory;\n\n    @Autowired\n    public BeanConfigurations(BeanFactory beanFactory){\n        this.beanFactory=beanFactory;\n    }\n\n    @Bean(&quot;asyncExecutor&quot;)\n    public TaskExecutor getAsyncExecutor() {\n        ThreadPoolTaskExecutor executor= new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(20);\n        executor.setMaxPoolSize(30);\n        executor.setWaitForTasksToCompleteOnShutdown(true);\n        executor.setThreadNamePrefix(&quot;Async-&quot;);\n        return new LazyTraceThreadPoolTaskExecutor(beanFactory,executor);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12183308,"reputation":31,"user_id":8894132,"display_name":"Dezmond1983"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7562,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638774339,"creation_date":1591968733,"question_id":62345323,"body_markdown":"I am trying to setup tracing of multithread application. I have set up ThreadPool:\r\n```\r\nThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n\t\texecutor.setCorePoolSize(corePoolSize);\r\n\t\texecutor.setMaxPoolSize(maxPoolSize);\r\n\t\texecutor.setQueueCapacity(queueCapacity);\r\n\t\texecutor.setThreadNamePrefix(&quot;XXXXXX-&quot;);\r\n\t\texecutor.initialize();\r\n```\r\n\r\nso there are several threads. One of the threads is listening to the SQS queue:\r\n```\r\n@Scheduled(fixedRateString = &quot;${processing.queue.period:60000}&quot;)\r\npublic void process() {\r\n..........................................................................\r\n    for (SQSMessage sqsMessage : sqsMessages) {\r\n\t\tString messageReceiptHandle = null;\r\n\t\ttry {\r\n\t\t\t messageReceiptHandle = sqsMessage.getReceiptHandle();\r\n\t \t\t processMessage(sqsMessage);\r\n\t\t} \t\t\t\t\t\t\t\t\r\n    }\r\n}\r\n..........................................................................\r\n\r\n\tpublic void processMessage(SQSMessage sqsMessage) throws InterruptedException {\r\n\r\n\t\tlog.debug(&quot;Start Processing request: &#39;{}&#39;.&quot;, sqsMessage);\r\n\t\tmonitoringWorker.addEntityForMonitoring(sqsMessage, processor);\r\n\t\tprocessor.processMessage(sqsMessage);\r\n\t\tmonitoringWorker.removeEntityForMonitoring(sqsMessage.getStagingPrefix());\r\n\t}\r\n```\r\n\r\nIn this code snipet \r\n```\r\nmonitoringWorker.addEntityForMonitoring(sqsMessage, processor);\r\n```\r\nsqsMessage is propagated to another scheduler:\r\n```\r\n@Component\r\npublic class MonitoringWorker {\r\n\r\n   private List&lt;EntityToMonitor&gt; entitiesForMonitoring = new ArrayList&lt;&gt;();\r\n\r\n   public void addEntityForMonitoring(AssetSQSMessage assetSQSMessage, AssetProcessorService service) {\r\n\t\tentitiesForMonitoring.add(new EntityToMonitor(assetSQSMessage, service));\r\n\t}\r\n\r\n   @Scheduled(fixedDelay = 1000)\r\n   public void monitor() {\r\n\t\tfor (EntityToMonitor entity : entitiesForMonitoring) {\r\n\t\t\tlog.info(&quot;testmessage&quot;);\r\n\t\t}\r\n   }\r\n```\r\nthe idea is to trace all the process from recieving message from SQS till the end of processing logic\r\nbut all the thread has different trace ids, And when MonitoringWorker starts to process the message it takes another thread with different traceid:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I keep the same traceid, spanid could be different in Spring Cloud Sleuth 2.2.3\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QFYFZ.png","title":"Spring Cloud Sleuth v2.2.3 how to propagate TraceId to another thread","body":"<p>I am trying to setup tracing of multithread application. I have set up ThreadPool:</p>\n\n<pre><code>ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(corePoolSize);\n        executor.setMaxPoolSize(maxPoolSize);\n        executor.setQueueCapacity(queueCapacity);\n        executor.setThreadNamePrefix(\"XXXXXX-\");\n        executor.initialize();\n</code></pre>\n\n<p>so there are several threads. One of the threads is listening to the SQS queue:</p>\n\n<pre><code>@Scheduled(fixedRateString = \"${processing.queue.period:60000}\")\npublic void process() {\n..........................................................................\n    for (SQSMessage sqsMessage : sqsMessages) {\n        String messageReceiptHandle = null;\n        try {\n             messageReceiptHandle = sqsMessage.getReceiptHandle();\n             processMessage(sqsMessage);\n        }                               \n    }\n}\n..........................................................................\n\n    public void processMessage(SQSMessage sqsMessage) throws InterruptedException {\n\n        log.debug(\"Start Processing request: '{}'.\", sqsMessage);\n        monitoringWorker.addEntityForMonitoring(sqsMessage, processor);\n        processor.processMessage(sqsMessage);\n        monitoringWorker.removeEntityForMonitoring(sqsMessage.getStagingPrefix());\n    }\n</code></pre>\n\n<p>In this code snipet </p>\n\n<pre><code>monitoringWorker.addEntityForMonitoring(sqsMessage, processor);\n</code></pre>\n\n<p>sqsMessage is propagated to another scheduler:</p>\n\n<pre><code>@Component\npublic class MonitoringWorker {\n\n   private List&lt;EntityToMonitor&gt; entitiesForMonitoring = new ArrayList&lt;&gt;();\n\n   public void addEntityForMonitoring(AssetSQSMessage assetSQSMessage, AssetProcessorService service) {\n        entitiesForMonitoring.add(new EntityToMonitor(assetSQSMessage, service));\n    }\n\n   @Scheduled(fixedDelay = 1000)\n   public void monitor() {\n        for (EntityToMonitor entity : entitiesForMonitoring) {\n            log.info(\"testmessage\");\n        }\n   }\n</code></pre>\n\n<p>the idea is to trace all the process from recieving message from SQS till the end of processing logic\nbut all the thread has different trace ids, And when MonitoringWorker starts to process the message it takes another thread with different traceid:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QFYFZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QFYFZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I keep the same traceid, spanid could be different in Spring Cloud Sleuth 2.2.3</p>\n"},{"tags":["java","python-3.x","selenium-webdriver","automation"],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638774324,"creation_date":1638774324,"answer_id":70241885,"question_id":70233584,"body_markdown":"You can use `java.time.LocalDateTime` and `java.time.temporal.ChronoUnit` combine with `org.openqa.selenium.support.ui.ExpectedConditions`.\r\n\r\nIn this example the time a button is not enabled is measured:\r\n\r\n    package selenium;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.time.temporal.ChronoUnit;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    public class DeviTimeTest {\r\n    \r\n    \tpublic static String userDir = System.getProperty(&quot;user.dir&quot;);\r\n    \tpublic static String chromedriverPath = userDir + &quot;\\\\resources\\\\chromedriver.exe&quot;;\t\r\n    \tpublic static WebDriver driver;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tWebDriver driver = startChromeDriver();\r\n    \t\tdriver.get(&quot;https://demoqa.com/dynamic-properties&quot;);\r\n    \t\tLocalDateTime start = LocalDateTime.now();\r\n    \t\tWebElement button = driver.findElement(By.id(&quot;enableAfter&quot;));\r\n    \t\tnew WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(button));\r\n    \t\tLocalDateTime finish = LocalDateTime.now();\r\n    \t\tSystem.out.println(&quot;Button was disabled for &quot; + ChronoUnit.MILLIS.between(start, finish) + &quot; ms.&quot;);\r\n    \t\tdriver.quit();\r\n    \t}\r\n    \r\n    \tpublic static WebDriver startChromeDriver() {\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, chromedriverPath);\r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\toptions.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n    \t\toptions.addArguments(&quot;--start-maximized&quot;);\r\n    \t\toptions.addArguments(&quot;--disable-notifications&quot;);\r\n    \t\tdriver = new ChromeDriver(options);\r\n    \t\tdriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    \t\treturn driver;\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    Starting ChromeDriver 96.0.4664.45 (76e4c1bb2ab4671b8beba3444e61c0f17584b2fc-refs/branch-heads/4664@{#947}) on port 47769\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    Pro 06, 2021 8:00:55 DOP. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    Button was disabled for 4404 ms.","title":"How to determine if an element is displayed on screen for specific time using selenium java/python?","body":"<p>You can use <code>java.time.LocalDateTime</code> and <code>java.time.temporal.ChronoUnit</code> combine with <code>org.openqa.selenium.support.ui.ExpectedConditions</code>.</p>\n<p>In this example the time a button is not enabled is measured:</p>\n<pre><code>package selenium;\n\nimport java.time.LocalDateTime;\nimport java.time.temporal.ChronoUnit;\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class DeviTimeTest {\n\n    public static String userDir = System.getProperty(&quot;user.dir&quot;);\n    public static String chromedriverPath = userDir + &quot;\\\\resources\\\\chromedriver.exe&quot;;  \n    public static WebDriver driver;\n    \n    public static void main(String[] args) {\n        WebDriver driver = startChromeDriver();\n        driver.get(&quot;https://demoqa.com/dynamic-properties&quot;);\n        LocalDateTime start = LocalDateTime.now();\n        WebElement button = driver.findElement(By.id(&quot;enableAfter&quot;));\n        new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(button));\n        LocalDateTime finish = LocalDateTime.now();\n        System.out.println(&quot;Button was disabled for &quot; + ChronoUnit.MILLIS.between(start, finish) + &quot; ms.&quot;);\n        driver.quit();\n    }\n\n    public static WebDriver startChromeDriver() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, chromedriverPath);\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--ignore-certificate-errors&quot;);\n        options.addArguments(&quot;--start-maximized&quot;);\n        options.addArguments(&quot;--disable-notifications&quot;);\n        driver = new ChromeDriver(options);\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n        return driver;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Starting ChromeDriver 96.0.4664.45 (76e4c1bb2ab4671b8beba3444e61c0f17584b2fc-refs/branch-heads/4664@{#947}) on port 47769\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nPro 06, 2021 8:00:55 DOP. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nButton was disabled for 4404 ms.\n</code></pre>\n"}],"owner":{"account_id":6525429,"reputation":9,"user_id":5048335,"display_name":"Devi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638774324,"creation_date":1638701755,"question_id":70233584,"body_markdown":"There is an webelement(Success or failure message) which gets displayed on screen only for 3 seconds. How can I assure that the element is displayed on screen for 3 seconds using selenium java OR python?","title":"How to determine if an element is displayed on screen for specific time using selenium java/python?","body":"<p>There is an webelement(Success or failure message) which gets displayed on screen only for 3 seconds. How can I assure that the element is displayed on screen for 3 seconds using selenium java OR python?</p>\n"},{"tags":["java","sql","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1638789179,"post_id":70238131,"comment_id":124173058,"body_markdown":"Your table is called `Subscriptions`, not `Subscribers`. [You would not have run into this problem if you had used code generation](https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/), which I strongly recommend!","body":"Your table is called <code>Subscriptions</code>, not <code>Subscribers</code>. <a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">You would not have run into this problem if you had used code generation</a>, which I strongly recommend!"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638774303,"creation_date":1638774303,"answer_id":70241882,"question_id":70238131,"body_markdown":"The from clause of your subselect is wrong. Should be: ActiveSubscribers \r\n\r\n    List&lt;Subscription&gt; nonActiveSubscriptions = DSL.using(connection)\r\n    .select()\r\n    .from(DSL.table(&quot;Subscribers&quot;))\r\n    .where(DSL.field(&quot;Id&quot;).notIn(\r\n      DSL.select(DSL.field(&quot;ActiveSubscribers.subscriptionId&quot;))\r\n         .from(DSL.table(&quot;ActiveSubscribers&quot;))\r\n    )\r\n    .fetch()\r\n    .into(Subscription.class);","title":"JOOQ : select all table entries where ID not present in other table","body":"<p>The from clause of your subselect is wrong. Should be: ActiveSubscribers</p>\n<pre><code>List&lt;Subscription&gt; nonActiveSubscriptions = DSL.using(connection)\n.select()\n.from(DSL.table(&quot;Subscribers&quot;))\n.where(DSL.field(&quot;Id&quot;).notIn(\n  DSL.select(DSL.field(&quot;ActiveSubscribers.subscriptionId&quot;))\n     .from(DSL.table(&quot;ActiveSubscribers&quot;))\n)\n.fetch()\n.into(Subscription.class);\n</code></pre>\n"}],"owner":{"account_id":15612349,"reputation":95,"user_id":11263385,"display_name":"JumbledCode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":881,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638774303,"creation_date":1638735047,"question_id":70238131,"body_markdown":"**Question:** How do you create a JOOQ query to `select` all `Subscription` entries `where` `ActiveSubscribers.subscriptionId` not in `Subscriptions` table\r\n\r\n    +-------------------+   +----------------------+\r\n    |  Subscriptions    |   |  ActiveSubscribers   |\r\n    +-------------------+   +----------------------+\r\n    | Id   |    Name    |   | Id   | SubcriptionId |\r\n    |-------------------|   |----------------------|\r\n    | 1    |  Dogs      |   | 1    |   1           |\r\n    | 2    |  Cats      |   | 2    |   2           |\r\n    | 3    |  Hamsters  |   +----------------------+\r\n    +-------------------+\r\n\r\n**Expected result:**\r\n\r\n    +-------------------+\r\n    | 3    |  Hamsters  |\r\n    +-------------------+\r\n\r\n**What I&#39;ve tried:**\r\n\r\n    List&lt;Subscription&gt; nonActiveSubscriptions = DSL.using(connection)\r\n    .select()\r\n    .from(DSL.table(&quot;Subscribers&quot;))\r\n    .where(DSL.field(&quot;Id&quot;).notIn(\r\n      DSL.select(DSL.field(&quot;ActiveSubscribers.subscriptionId&quot;)).from(DSL.table(&quot;Subscribers&quot;))\r\n    )\r\n    .fetch()\r\n    .into(Subscription.class);","title":"JOOQ : select all table entries where ID not present in other table","body":"<p><strong>Question:</strong> How do you create a JOOQ query to <code>select</code> all <code>Subscription</code> entries <code>where</code> <code>ActiveSubscribers.subscriptionId</code> not in <code>Subscriptions</code> table</p>\n<pre><code>+-------------------+   +----------------------+\n|  Subscriptions    |   |  ActiveSubscribers   |\n+-------------------+   +----------------------+\n| Id   |    Name    |   | Id   | SubcriptionId |\n|-------------------|   |----------------------|\n| 1    |  Dogs      |   | 1    |   1           |\n| 2    |  Cats      |   | 2    |   2           |\n| 3    |  Hamsters  |   +----------------------+\n+-------------------+\n</code></pre>\n<p><strong>Expected result:</strong></p>\n<pre><code>+-------------------+\n| 3    |  Hamsters  |\n+-------------------+\n</code></pre>\n<p><strong>What I've tried:</strong></p>\n<pre><code>List&lt;Subscription&gt; nonActiveSubscriptions = DSL.using(connection)\n.select()\n.from(DSL.table(&quot;Subscribers&quot;))\n.where(DSL.field(&quot;Id&quot;).notIn(\n  DSL.select(DSL.field(&quot;ActiveSubscribers.subscriptionId&quot;)).from(DSL.table(&quot;Subscribers&quot;))\n)\n.fetch()\n.into(Subscription.class);\n</code></pre>\n"},{"tags":["java","spring-boot","axon-framework"],"answers":[{"tags":[],"owner":{"account_id":23557760,"reputation":1,"user_id":17599521,"display_name":"Jasper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638773940,"creation_date":1638763790,"answer_id":70240784,"question_id":68638493,"body_markdown":"Maybe you should check the serializer configuration in application.properties, make sure the query command sending component is using the same XStream(XML)/Jackson(Json) serializer as the receiving (QueryHandler) component, like below:\r\n\r\n    axon.serializer.messages=jackson\r\n\r\nI fixed such a mistake recently by doing so, hope it can give you some clue","title":"whitespace content allowed before start tag and not { (position: START_DOCUMENT seen {... @1:1) , errorCode=&#39;AXONIQ-5001","body":"<p>Maybe you should check the serializer configuration in application.properties, make sure the query command sending component is using the same XStream(XML)/Jackson(Json) serializer as the receiving (QueryHandler) component, like below:</p>\n<pre><code>axon.serializer.messages=jackson\n</code></pre>\n<p>I fixed such a mistake recently by doing so, hope it can give you some clue</p>\n"}],"owner":{"account_id":20162520,"reputation":39,"user_id":14787268,"display_name":"rama kishan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638773940,"creation_date":1628003034,"question_id":68638493,"body_markdown":"   \r\n\r\n     I have two service service1 and service2 .In service2 QueryHandler is there and if i will run only service2 QueryHandler working but if I am calling this QueryHandler in service1 then not working and both service are running in axon server but while calling service2 queryhandler in service1 I am getting below error.\r\n\r\n\r\n\r\njava.util.concurrent.CompletionException: org.axonframework.queryhandling.QueryExecutionException:\r\nCaused by: AxonServerRemoteQueryHandlingException{message=An exception was thrown by the remote message handling component: \r\nCaused by only whitespace content allowed before start tag and not { (position: START_DOCUMENT seen {... @1:1) , errorCode=&#39;AXONIQ-5001&#39;, location=&#39;10712@INN1FJ2WZ2&#39;}\r\n\tat org.axonframework.axonserver.connector.ErrorCode.lambda$static$15(ErrorCode.java:107)\r\n\r\n\r\nservice1\r\n=========\r\n     @Autowired\r\n\tprivate QueryGateway queryGateway;\r\n    TXodsFetchDocumentDetails fetchDocumentDetails = TXodsFetchDocumentDetails.builder()\r\n    \t\t\t\t\t                                        .transactionReference(res.getEventHeader().getTransactionTrackingDetails().getStepDetails().getTxTransactionDetails().getTransactionReference())\r\n    \t\t\t\t\t                                        .stepNumber(res.getEventHeader().getTransactionTrackingDetails().getStepDetails().getStepNumber())\r\n    \t\t\t\t\t                                        .build();\r\n    \r\n    \t\t\r\n    \t\t\tTXOdsDocumentObjectList tXOdsDocumentObjectList1=queryGateway\r\n                        .query(fetchDocumentDetails, TXOdsDocumentObjectList.class).join();//here throwing exception\r\n\r\n\r\n\r\nservice2\r\n=========\r\n\r\n    @QueryHandler\r\n        public TXOdsDocumentObjectList handle(TXodsFetchDocumentDetails fetchDocumentDetails) {\r\n            log.info(&quot;Retrieve all document details request &quot;, fetchDocumentDetails.getTransactionReference(),fetchDocumentDetails.getStepNumber());\r\n            List&lt;TXOdsDocumentObject&gt; documentObjectList = repository\r\n                    .findByEventHeader_TransactionTrackingDetails_StepDetails_TxTransactionDetails_TransactionReferenceAndEventHeader_TransactionTrackingDetails_StepDetails_StepNumber(\r\n                            fetchDocumentDetails.getTransactionReference(), fetchDocumentDetails.getStepNumber());\r\n            return TXOdsDocumentObjectList.builder().documentObjectList(documentObjectList).build();\r\n        }\r\n\r\n\r\n\r\nI am new to the AXON framework please help me to resolve the issue.","title":"whitespace content allowed before start tag and not { (position: START_DOCUMENT seen {... @1:1) , errorCode=&#39;AXONIQ-5001","body":"<pre><code> I have two service service1 and service2 .In service2 QueryHandler is there and if i will run only service2 QueryHandler working but if I am calling this QueryHandler in service1 then not working and both service are running in axon server but while calling service2 queryhandler in service1 I am getting below error.\n</code></pre>\n<p>java.util.concurrent.CompletionException: org.axonframework.queryhandling.QueryExecutionException:\nCaused by: AxonServerRemoteQueryHandlingException{message=An exception was thrown by the remote message handling component:\nCaused by only whitespace content allowed before start tag and not { (position: START_DOCUMENT seen {... @1:1) , errorCode='AXONIQ-5001', location='10712@INN1FJ2WZ2'}\nat org.axonframework.axonserver.connector.ErrorCode.lambda$static$15(ErrorCode.java:107)</p>\n<h1>service1</h1>\n<pre><code> @Autowired\nprivate QueryGateway queryGateway;\nTXodsFetchDocumentDetails fetchDocumentDetails = TXodsFetchDocumentDetails.builder()\n                                                            .transactionReference(res.getEventHeader().getTransactionTrackingDetails().getStepDetails().getTxTransactionDetails().getTransactionReference())\n                                                            .stepNumber(res.getEventHeader().getTransactionTrackingDetails().getStepDetails().getStepNumber())\n                                                            .build();\n\n        \n            TXOdsDocumentObjectList tXOdsDocumentObjectList1=queryGateway\n                    .query(fetchDocumentDetails, TXOdsDocumentObjectList.class).join();//here throwing exception\n</code></pre>\n<h1>service2</h1>\n<pre><code>@QueryHandler\n    public TXOdsDocumentObjectList handle(TXodsFetchDocumentDetails fetchDocumentDetails) {\n        log.info(&quot;Retrieve all document details request &quot;, fetchDocumentDetails.getTransactionReference(),fetchDocumentDetails.getStepNumber());\n        List&lt;TXOdsDocumentObject&gt; documentObjectList = repository\n                .findByEventHeader_TransactionTrackingDetails_StepDetails_TxTransactionDetails_TransactionReferenceAndEventHeader_TransactionTrackingDetails_StepDetails_StepNumber(\n                        fetchDocumentDetails.getTransactionReference(), fetchDocumentDetails.getStepNumber());\n        return TXOdsDocumentObjectList.builder().documentObjectList(documentObjectList).build();\n    }\n</code></pre>\n<p>I am new to the AXON framework please help me to resolve the issue.</p>\n"},{"tags":["java","spring","spring-boot","redis","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":11022381,"reputation":242,"user_id":8096208,"display_name":"WonChul Heo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565058283,"creation_date":1565058283,"answer_id":57368119,"question_id":57368052,"body_markdown":"I think event listeners should also use another message queue rather than Redis.","title":"How to get only one Redis event when running multiple services?","body":"<p>I think event listeners should also use another message queue rather than Redis.</p>\n"},{"tags":[],"owner":{"account_id":13582290,"reputation":1489,"user_id":9797889,"display_name":"menya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565063511,"creation_date":1565063511,"answer_id":57368691,"question_id":57368052,"body_markdown":"I think Redis Pub/Sub system can not support this.\r\n\r\nMy workaround is store the `&lt;expire_key, value&gt;` in another Redis Sets/Hashes, when a client receive the expired event, it start a transaction, get and delete the `expire_key`, then do my custom callback action depend whether the `expire_key` exists.","title":"How to get only one Redis event when running multiple services?","body":"<p>I think Redis Pub/Sub system can not support this.</p>\n\n<p>My workaround is store the <code>&lt;expire_key, value&gt;</code> in another Redis Sets/Hashes, when a client receive the expired event, it start a transaction, get and delete the <code>expire_key</code>, then do my custom callback action depend whether the <code>expire_key</code> exists.</p>\n"},{"tags":[],"owner":{"account_id":291341,"reputation":9138,"user_id":593425,"accept_rate":55,"display_name":"Guy Korland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603723395,"creation_date":1565065247,"answer_id":57368882,"question_id":57368052,"body_markdown":"You will probably need to implement your own Redis [Module][1] that will listen on key space notification and push to Redis  [stream][2].\r\n\r\nRedis Streams can be consumed using [consumers group ][3], that does exactly what you want.\r\n\r\nEDIT:\r\nReliable keyspace notification can be easily achieved using RedisGears see: https://stackoverflow.com/questions/54127210/can-redis-key-space-notifications-be-pushed-to-the-redis-stream-instead-of-pub-s \r\n\r\n\r\n  [1]: https://redis.io/modules\r\n  [2]: https://redis.io/topics/streams-intro\r\n  [3]: https://redis.io/commands/xreadgroup","title":"How to get only one Redis event when running multiple services?","body":"<p>You will probably need to implement your own Redis <a href=\"https://redis.io/modules\" rel=\"nofollow noreferrer\">Module</a> that will listen on key space notification and push to Redis  <a href=\"https://redis.io/topics/streams-intro\" rel=\"nofollow noreferrer\">stream</a>.</p>\n<p>Redis Streams can be consumed using <a href=\"https://redis.io/commands/xreadgroup\" rel=\"nofollow noreferrer\">consumers group </a>, that does exactly what you want.</p>\n<p>EDIT:\nReliable keyspace notification can be easily achieved using RedisGears see: <a href=\"https://stackoverflow.com/questions/54127210/can-redis-key-space-notifications-be-pushed-to-the-redis-stream-instead-of-pub-s\">Can redis key space notifications be pushed to the redis stream instead of pub/sub channel</a></p>\n"},{"tags":[],"owner":{"account_id":5090162,"reputation":1,"user_id":4083482,"display_name":"Pham Duy Phuong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638773829,"creation_date":1638623041,"answer_id":70225855,"question_id":57368052,"body_markdown":"    @EnableRedisHttpSession(redisNamespace = &quot;spring:session:oauth2&quot;)\r\n\r\nYou can try this for each service with different `redisNamespace`.","title":"How to get only one Redis event when running multiple services?","body":"<pre><code>@EnableRedisHttpSession(redisNamespace = &quot;spring:session:oauth2&quot;)\n</code></pre>\n<p>You can try this for each service with different <code>redisNamespace</code>.</p>\n"}],"owner":{"account_id":2211074,"reputation":149,"user_id":5040488,"display_name":"Rodolfo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2790,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1638773829,"creation_date":1565057597,"question_id":57368052,"body_markdown":"I have a java application running as a microservice that receives events for keys that expired in Redis (Redis is configured with &quot;config set notify-keyspace-events Ex&quot;). These events are read in the application using a MessageListener.\r\n\r\nMy problem is that when multiple versions of the application are running all instances receive the Redis notification and perform the same action. But this is not my intent, only one action must be performed. In my case, each key that expires in Redis must be logged once in the database.\r\n\r\nIs there a way to configure Redis to send the event only to one instance of the same microservice? Or, the event sent by Redis can be read by multiple listeners of the multiple instances of the microservice and then can I imprement something smart, maybe using RabbitMq, to generate only one message that is processed only once?","title":"How to get only one Redis event when running multiple services?","body":"<p>I have a java application running as a microservice that receives events for keys that expired in Redis (Redis is configured with \"config set notify-keyspace-events Ex\"). These events are read in the application using a MessageListener.</p>\n\n<p>My problem is that when multiple versions of the application are running all instances receive the Redis notification and perform the same action. But this is not my intent, only one action must be performed. In my case, each key that expires in Redis must be logged once in the database.</p>\n\n<p>Is there a way to configure Redis to send the event only to one instance of the same microservice? Or, the event sent by Redis can be read by multiple listeners of the multiple instances of the microservice and then can I imprement something smart, maybe using RabbitMq, to generate only one message that is processed only once?</p>\n"},{"tags":["java","maven","aws-device-farm"],"answers":[{"tags":[],"owner":{"account_id":38977,"reputation":2225,"user_id":112233,"display_name":"jmp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1558270310,"creation_date":1558270310,"answer_id":56208005,"question_id":56206130,"body_markdown":"The `mvn` command fails because your deployment package doesn&#39;t contain the whole project. From the sound of things with the current deployment package you should be able to do what you want with this command: \r\n\r\n`      - java -Dappium.screenshots.dir=$DEVICEFARM_SCREENSHOT_PATH -D&quot;cucumber.options=&quot;src/test/java/cucumber/features&quot; --glue cucumber.steps \r\n--tags @InstallApp&quot; org.testng.TestNG -testjar *-tests.jar -d $DEVICEFARM_LOG_DIR/test-output -verbose 10`\r\n\r\nOtherwise, if you want to use maven you&#39;ll need to zip up the whole project and include it&#39;s `pom.xml`. So for example using the [sample cucumber java tests](https://github.com/aws-samples/aws-device-farm-appium-cucumber-tests-for-sample-app)\r\n\r\n```\r\ngit clone https://github.com/aws-samples/aws-device-farm-appium-cucumber-tests-for-sample-app.git\r\nzip -r deployment_package.zip aws-device-farm-appium-cucumber-tests-for-sample-app\r\n```\r\n\r\nThen you should be able to use maven in the `testspec.yml` file. For example, I could run the following command for the sample: `mvn clean test` after going to the project dir and then to get the results I had to export the target directory.\r\n\r\n```\r\n  test:\r\n    commands:\r\n      # Your test package is downloaded in $DEVICEFARM_TEST_PACKAGE_PATH so we first change directory to that path.\r\n      - echo &quot;Navigate to test package directory&quot;\r\n      - cd $DEVICEFARM_TEST_PACKAGE_PATH/aws-device-farm-appium-cucumber-tests-for-sample-app\r\n      - mvn clean test\r\n...\r\nartifacts:\r\n  # By default, Device Farm will collect your artifacts from following directories\r\n  - $DEVICEFARM_TEST_PACKAGE_PATH/aws-device-farm-appium-cucumber-tests-for-sample-app/target\r\n  - $DEVICEFARM_LOG_DIR\r\n```\r\n\r\nHowever, you&#39;ll need to upload the zip file as an `APPIUM_NODE` test type to avoid the test package parser there.\r\n\r\n\r\nHTH\r\n  \r\n  -James","title":"How to run maven command in AWS Device Farm","body":"<p>The <code>mvn</code> command fails because your deployment package doesn't contain the whole project. From the sound of things with the current deployment package you should be able to do what you want with this command: </p>\n\n<p><code>- java -Dappium.screenshots.dir=$DEVICEFARM_SCREENSHOT_PATH -D\"cucumber.options=\"src/test/java/cucumber/features\" --glue cucumber.steps \n--tags @InstallApp\" org.testng.TestNG -testjar *-tests.jar -d $DEVICEFARM_LOG_DIR/test-output -verbose 10</code></p>\n\n<p>Otherwise, if you want to use maven you'll need to zip up the whole project and include it's <code>pom.xml</code>. So for example using the <a href=\"https://github.com/aws-samples/aws-device-farm-appium-cucumber-tests-for-sample-app\" rel=\"nofollow noreferrer\">sample cucumber java tests</a></p>\n\n<pre><code>git clone https://github.com/aws-samples/aws-device-farm-appium-cucumber-tests-for-sample-app.git\nzip -r deployment_package.zip aws-device-farm-appium-cucumber-tests-for-sample-app\n</code></pre>\n\n<p>Then you should be able to use maven in the <code>testspec.yml</code> file. For example, I could run the following command for the sample: <code>mvn clean test</code> after going to the project dir and then to get the results I had to export the target directory.</p>\n\n<pre><code>  test:\n    commands:\n      # Your test package is downloaded in $DEVICEFARM_TEST_PACKAGE_PATH so we first change directory to that path.\n      - echo \"Navigate to test package directory\"\n      - cd $DEVICEFARM_TEST_PACKAGE_PATH/aws-device-farm-appium-cucumber-tests-for-sample-app\n      - mvn clean test\n...\nartifacts:\n  # By default, Device Farm will collect your artifacts from following directories\n  - $DEVICEFARM_TEST_PACKAGE_PATH/aws-device-farm-appium-cucumber-tests-for-sample-app/target\n  - $DEVICEFARM_LOG_DIR\n</code></pre>\n\n<p>However, you'll need to upload the zip file as an <code>APPIUM_NODE</code> test type to avoid the test package parser there.</p>\n\n<p>HTH</p>\n\n<p>-James</p>\n"}],"owner":{"account_id":14440817,"reputation":419,"user_id":10431512,"display_name":"kidulf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1273,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56208005,"answer_count":1,"score":2,"last_activity_date":1638773729,"creation_date":1558255316,"question_id":56206130,"body_markdown":"I am trying to run my java mobile project in device farm using maven.\r\nWhen I run this command on my local machine in the right directory it works:\r\n\r\n     mvn test -D &quot;cucumber.options=&quot;src/test/java/cucumber/features&quot; --glue \r\n    cucumber.steps --tags @InstallApp&quot;\r\n\r\nI put this command on the yaml file in the aws device farm but it doesn&#39;t work.\r\nThis is the error I get:\r\n\r\n            [DeviceFarm] echo &quot;Start Appium TestNG test&quot;\r\n         Start Appium TestNG test\r\n        [DeviceFarm] mvn test -D \r\n        &quot;cucumber.options=&quot;src/test/java/cucumber/features&quot; --glue \r\n    cucumber.steps \r\n        --tags @InstallApp&quot;\r\n        [INFO] Scanning for projects...\r\n        [INFO] BUILD FAILURE\r\n        [ERROR] The goal you specified requires a project to execute but there \r\n         is \r\n         no POM in this directory (/tmp/scratchncneoU.scratch/test- \r\n     packageO6o8s7). \r\n      Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\r\n\r\nHow can I run this maven command in device farm? Where is the pom located there?\r\n\r\nThanks\r\n\r\nAfter typing this command in the yaml file: \r\n[DeviceFarm] java -Dappium.screenshots.dir=$DEVICEFARM_SCREENSHOT_PATH -D&quot;cucumber.options=&quot;classpath:features&quot; --glue cucumber.steps --tags @InstallApp&quot; org.testng.TestNG -testjar *-tests.jar -d $DEVICEFARM_LOG_DIR/test-output -verbose 10\r\n \r\nI get an error of: Couldn&#39;t find the testng.xml in the jar file although I have this in my pom:                          \r\n       &lt;testResources&gt;\r\n                &lt;testResource&gt;\r\n                \r\n    &lt;directory&gt;${project.basedir}/src/test/java/cucumber&lt;/directory&gt;\r\n                &lt;/testResource&gt;\r\n            &lt;/testResources&gt;  \r\n\r\nWhat can it be?\r\n","title":"How to run maven command in AWS Device Farm","body":"<p>I am trying to run my java mobile project in device farm using maven.\nWhen I run this command on my local machine in the right directory it works:</p>\n\n<pre><code> mvn test -D \"cucumber.options=\"src/test/java/cucumber/features\" --glue \ncucumber.steps --tags @InstallApp\"\n</code></pre>\n\n<p>I put this command on the yaml file in the aws device farm but it doesn't work.\nThis is the error I get:</p>\n\n<pre><code>        [DeviceFarm] echo \"Start Appium TestNG test\"\n     Start Appium TestNG test\n    [DeviceFarm] mvn test -D \n    \"cucumber.options=\"src/test/java/cucumber/features\" --glue \ncucumber.steps \n    --tags @InstallApp\"\n    [INFO] Scanning for projects...\n    [INFO] BUILD FAILURE\n    [ERROR] The goal you specified requires a project to execute but there \n     is \n     no POM in this directory (/tmp/scratchncneoU.scratch/test- \n packageO6o8s7). \n  Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\n</code></pre>\n\n<p>How can I run this maven command in device farm? Where is the pom located there?</p>\n\n<p>Thanks</p>\n\n<p>After typing this command in the yaml file: \n[DeviceFarm] java -Dappium.screenshots.dir=$DEVICEFARM_SCREENSHOT_PATH -D\"cucumber.options=\"classpath:features\" --glue cucumber.steps --tags @InstallApp\" org.testng.TestNG -testjar *-tests.jar -d $DEVICEFARM_LOG_DIR/test-output -verbose 10</p>\n\n<p>I get an error of: Couldn't find the testng.xml in the jar file although I have this in my pom:<br>\n       \n                </p>\n\n<pre><code>&lt;directory&gt;${project.basedir}/src/test/java/cucumber&lt;/directory&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;  \n</code></pre>\n\n<p>What can it be?</p>\n"},{"tags":["java","hibernate","orm","cascading-deletes"],"comments":[{"owner":{"account_id":31967,"reputation":4142,"user_id":88159,"accept_rate":95,"display_name":"pavanlimo"},"score":0,"creation_date":1312376039,"post_id":6009261,"comment_id":8252722,"body_markdown":"Excellent question. Sadly not much of discussion has happened on this front.","body":"Excellent question. Sadly not much of discussion has happened on this front."}],"answers":[{"tags":[],"owner":{"account_id":365762,"reputation":9960,"user_id":710877,"display_name":"Anantha Sharma"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1312445767,"creation_date":1305474710,"answer_id":6009469,"question_id":6009261,"body_markdown":"Since you have made a bi-directional mapping, you have to remove the object from both places. This should work:\r\n\r\n    user.followedLocations.remove(aLocation);\r\n    session.update(user);\r\n    session.delete(aLocation);\r\n\r\n\r\n\r\n","title":"Problems with cascading deletion in Hibernate","body":"<p>Since you have made a bi-directional mapping, you have to remove the object from both places. This should work:</p>\n\n<pre><code>user.followedLocations.remove(aLocation);\nsession.update(user);\nsession.delete(aLocation);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3293996,"reputation":11,"user_id":2771650,"display_name":"MountainFlying"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378971439,"creation_date":1378971439,"answer_id":18758249,"question_id":6009261,"body_markdown":"You should set @JoinColumn(name=&quot;followerId&quot;, insertable = false, updatable = false)","title":"Problems with cascading deletion in Hibernate","body":"<p>You should set @JoinColumn(name=\"followerId\", insertable = false, updatable = false)</p>\n"}],"owner":{"account_id":91917,"reputation":1975,"user_id":252160,"accept_rate":49,"display_name":"xantrus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3496,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":6009469,"answer_count":2,"score":13,"last_activity_date":1638773657,"creation_date":1305472615,"question_id":6009261,"body_markdown":"This question has been asked numerous times before, yet I haven&#39;t seen a satisfactory answer since, thus I am asking it again.\r\n\r\nImagine the following situation:\r\n--------------------------------\r\n\r\n    public class User {\r\n    \t...\r\n    \r\n    \t@Cascade(value= {CascadeType.DELETE})\r\n    \t@OneToMany(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name=&quot;followerId&quot;)\r\n    \tpublic List&lt;LocationFollower&gt; followedLocations;\r\n    \r\n    \t...\r\n    }\r\n    \r\n    public class LocationFollower {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;id&quot;, nullable = false)\r\n    \tpublic Long id;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name=&quot;locationId&quot;)\r\n    \tpublic Location followedLocation;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name=&quot;followerId&quot;)\r\n    \tpublic User follower;\r\n    \t\r\n    \t@Column(name = &quot;followerSince&quot;)\r\n    \tpublic Timestamp followerSince;\r\n    }\r\n    \r\n    public class Location {\r\n    \t...\r\n    \r\n    \t@Cascade(value = {CascadeType.DELETE})\r\n    \t@OneToMany(fetch= FetchType.LAZY)\r\n    \t@JoinColumn(name=&quot;locationId&quot;)\r\n    \tpublic List&lt;LocationFollower&gt; followers;\r\n    \r\n    \t...\r\n    }\r\n\r\nAll I wanted was to delete a user. Logically, one will assume all related &quot;follower&quot;  entries connecting User and Location will be deleted. The same assumption should stay in power if I delete a Location entry.\r\n\r\nWhat happens actually is that Hibernate tries to update (?!?) the table that holds the followers, and since the related entity (User or Location) has been sent for deletion, tries to set a foreign key, for instance, followed with null. This throws an exception and burst all the succeeding operations.\r\n\r\nThe error I get:\r\n**There was an unhandled failure on the server. Could not execute JDBC batch update; SQL [update locationstofollowers set followerId=null where followerId=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update**\r\n\r\nP.S. I hear that there was another cascade option DELETE_ORPHAN. This seems to be deprecated, and even though I tried it as well, the effect was the same.","title":"Problems with cascading deletion in Hibernate","body":"<p>This question has been asked numerous times before, yet I haven't seen a satisfactory answer since, thus I am asking it again.</p>\n<h2>Imagine the following situation:</h2>\n<pre><code>public class User {\n    ...\n\n    @Cascade(value= {CascadeType.DELETE})\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;followerId&quot;)\n    public List&lt;LocationFollower&gt; followedLocations;\n\n    ...\n}\n\npublic class LocationFollower {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    public Long id;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;locationId&quot;)\n    public Location followedLocation;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;followerId&quot;)\n    public User follower;\n    \n    @Column(name = &quot;followerSince&quot;)\n    public Timestamp followerSince;\n}\n\npublic class Location {\n    ...\n\n    @Cascade(value = {CascadeType.DELETE})\n    @OneToMany(fetch= FetchType.LAZY)\n    @JoinColumn(name=&quot;locationId&quot;)\n    public List&lt;LocationFollower&gt; followers;\n\n    ...\n}\n</code></pre>\n<p>All I wanted was to delete a user. Logically, one will assume all related &quot;follower&quot;  entries connecting User and Location will be deleted. The same assumption should stay in power if I delete a Location entry.</p>\n<p>What happens actually is that Hibernate tries to update (?!?) the table that holds the followers, and since the related entity (User or Location) has been sent for deletion, tries to set a foreign key, for instance, followed with null. This throws an exception and burst all the succeeding operations.</p>\n<p>The error I get:\n<strong>There was an unhandled failure on the server. Could not execute JDBC batch update; SQL [update locationstofollowers set followerId=null where followerId=?]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update</strong></p>\n<p>P.S. I hear that there was another cascade option DELETE_ORPHAN. This seems to be deprecated, and even though I tried it as well, the effect was the same.</p>\n"},{"tags":["java","swing","slideshow"],"comments":[{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1638560025,"post_id":70219689,"comment_id":124130111,"body_markdown":"When you get an image, update the counter, so it will be ready for the next image.","body":"When you get an image, update the counter, so it will be ready for the next image."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1638570191,"post_id":70219689,"comment_id":124132902,"body_markdown":"*Apparently I&#39;m supposed to use ExecutorService* - if you want animation you should be using a `Swing Timer`. Check out: https://stackoverflow.com/questions/33907207/how-to-make-jscrollpane-in-borderlayout-containing-jpanel-smoothly-autoscroll/33907282#33907282 for a simple example.","body":"<i>Apparently I&#39;m supposed to use ExecutorService</i> - if you want animation you should be using a <code>Swing Timer</code>. Check out: <a href=\"https://stackoverflow.com/questions/33907207/how-to-make-jscrollpane-in-borderlayout-containing-jpanel-smoothly-autoscroll/33907282#33907282\" title=\"how to make jscrollpane in borderlayout containing jpanel smoothly autoscroll\">stackoverflow.com/questions/33907207/&hellip;</a> for a simple example."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638571603,"post_id":70219689,"comment_id":124133205,"body_markdown":"So, a larger issue is, Swing is not thread safe.  So you shouldn&#39;t be updating the UI from outside the context of the Event Dispatching Thread.  You could make use of a `SwingWorker` which could driver the primary workflow, this could be added to an executor service, if desired, or you could just have it run within its own context, but you&#39;d still end up with a `Thread.sleep`.  Can you elaborate the reasons why you think you shouldn&#39;t use `Thread.sleep`?","body":"So, a larger issue is, Swing is not thread safe.  So you shouldn&#39;t be updating the UI from outside the context of the Event Dispatching Thread.  You could make use of a <code>SwingWorker</code> which could driver the primary workflow, this could be added to an executor service, if desired, or you could just have it run within its own context, but you&#39;d still end up with a <code>Thread.sleep</code>.  Can you elaborate the reasons why you think you shouldn&#39;t use <code>Thread.sleep</code>?"},{"owner":{"account_id":11765636,"reputation":645,"user_id":8610346,"display_name":"Ovski"},"score":0,"creation_date":1638772524,"post_id":70219689,"comment_id":124168072,"body_markdown":"I think I&#39;ve figured it out. The link from camickr was showing an example that I&#39;ve seen may times, but never really could implement. Now, as I got rid of my while and for loop I finaly made it work. The missing piece was the fact that I should not use any loop but use the timer instead.","body":"I think I&#39;ve figured it out. The link from camickr was showing an example that I&#39;ve seen may times, but never really could implement. Now, as I got rid of my while and for loop I finaly made it work. The missing piece was the fact that I should not use any loop but use the timer instead."},{"owner":{"account_id":11765636,"reputation":645,"user_id":8610346,"display_name":"Ovski"},"score":0,"creation_date":1638772826,"post_id":70219689,"comment_id":124168125,"body_markdown":"@MadProgrammer one reason is the fact, that a thread.sleep pauses my gui and at this time can block keyboard listeners. To be honest, I was pretty happy with how my application was working, other then the keyboardlisteners sometimes taking mulitple presses to react. But the IDE and the internet told me to fix this issue. So now the keypresses are smoother and the IDE is happy :)","body":"@MadProgrammer one reason is the fact, that a thread.sleep pauses my gui and at this time can block keyboard listeners. To be honest, I was pretty happy with how my application was working, other then the keyboardlisteners sometimes taking mulitple presses to react. But the IDE and the internet told me to fix this issue. So now the keypresses are smoother and the IDE is happy :)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638775595,"post_id":70219689,"comment_id":124168809,"body_markdown":"@SimonRoth So, that&#39;s not a reason to avoid `Thread.sleep`, it&#39;s just a reason not to do it in the context of the Event Dispatching Thread, which makes Camickr&#39;s comment a reasonable suggestion ;)","body":"@SimonRoth So, that&#39;s not a reason to avoid <code>Thread.sleep</code>, it&#39;s just a reason not to do it in the context of the Event Dispatching Thread, which makes Camickr&#39;s comment a reasonable suggestion ;)"},{"owner":{"account_id":11765636,"reputation":645,"user_id":8610346,"display_name":"Ovski"},"score":0,"creation_date":1638794902,"post_id":70219689,"comment_id":124174972,"body_markdown":"@MadProgrammer Agreed, it&#39;s wrong to state that one should avoid Thread.sleep at all cost. And yes I recoded my method to implement the information vom camickr&#39;s link. Because I couldn&#39;t acceppt a comment as an answer I just answered my question myself.","body":"@MadProgrammer Agreed, it&#39;s wrong to state that one should avoid Thread.sleep at all cost. And yes I recoded my method to implement the information vom camickr&#39;s link. Because I couldn&#39;t acceppt a comment as an answer I just answered my question myself."}],"answers":[{"tags":[],"owner":{"account_id":11765636,"reputation":645,"user_id":8610346,"display_name":"Ovski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638773082,"creation_date":1638773082,"answer_id":70241708,"question_id":70219689,"body_markdown":"All the comments on my question can be considered good ideas an and one of them also lead me to my final result. But it in the end, the matter was, that I did not understand how to implement a timer into my loop.\r\n\r\nOr in other words, the loops had to be gone and instead use a counter and set the delay for the follow up record inside the timer loop.\r\n\r\n```lang-java\r\n    private void loopImages() {\r\n        loadRecords();\r\n        recordSize = records.size();\r\n        int delay = records.get(1).getDurationAsInt();\r\n        timer = new Timer(delay, e -&gt; showImages());\r\n        timer.start();\r\n    }\r\n\r\n    private void showImages() {\r\n        if (recordIndex == recordSize) {\r\n            loadRecords();\r\n            recordSize = records.size();\r\n            recordIndex = 0;\r\n        }\r\n\r\n        ImageRecord record = records.get(recordIndex);\r\n\r\n        imageLabel.setIcon(record.getIconForInfoScreen(screenWidth, screenHeight));\r\n\r\n        recordIndex++;\r\n        if (recordIndex &lt; recordSize) {\r\n            record = records.get(recordIndex);\r\n            int delay = record.getDurationAsInt();\r\n            timer.setDelay(delay);\r\n        }\r\n    }\r\n```","title":"How to NOT use thread.sleep for an image slide show in java","body":"<p>All the comments on my question can be considered good ideas an and one of them also lead me to my final result. But it in the end, the matter was, that I did not understand how to implement a timer into my loop.</p>\n<p>Or in other words, the loops had to be gone and instead use a counter and set the delay for the follow up record inside the timer loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void loopImages() {\n        loadRecords();\n        recordSize = records.size();\n        int delay = records.get(1).getDurationAsInt();\n        timer = new Timer(delay, e -&gt; showImages());\n        timer.start();\n    }\n\n    private void showImages() {\n        if (recordIndex == recordSize) {\n            loadRecords();\n            recordSize = records.size();\n            recordIndex = 0;\n        }\n\n        ImageRecord record = records.get(recordIndex);\n\n        imageLabel.setIcon(record.getIconForInfoScreen(screenWidth, screenHeight));\n\n        recordIndex++;\n        if (recordIndex &lt; recordSize) {\n            record = records.get(recordIndex);\n            int delay = record.getDurationAsInt();\n            timer.setDelay(delay);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11765636,"reputation":645,"user_id":8610346,"display_name":"Ovski"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70241708,"answer_count":1,"score":0,"last_activity_date":1638773082,"creation_date":1638559394,"question_id":70219689,"body_markdown":"I&#39;m trying to create something like an info screen that just scrolls through images (and maybe one day pdfs) that are uploaded with a small managment app I wrote.\r\n\r\nAfter some reading I think I understand why I should **NOT** have Thread.sleep in my for loop. I read some posts on stackoverflow and other pages that teached me not to do it.\r\n\r\nApparently I&#39;m supposed to use **ExecutorService** for something like this, but I can&#39;t wrap my head around it.\r\n\r\n\r\nSo after preparing my GUI and everything else I finally call my showImages and stay in this while loop.\r\nAfter each loop I reload the records from the file systems, so any changes are represented on the screen.\r\n\r\nI created a metafile containing the preferred delay for each image and just sleep for the amount of time.\r\n\r\n``` lang-java\r\nprivate void showImages() {\r\n        //noinspection InfiniteLoopStatement\r\n        while (true) {\r\n            loadRecords();\r\n            for (ImageRecord record : records) {\r\n                System.out.println(&quot;Showing: &quot; + record.getFilename());\r\n                imageLabel.setIcon(record.getIconForInfoScreen(screenWidth, screenHeight));\r\n                int delay = record.getDurationAsInt();\r\n                System.out.println(&quot;Waiting for &quot; + delay + &quot; milliseconds&quot;);\r\n                try {\r\n                    Thread.sleep(delay);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nSo if I understand correctly I could use something like\r\n\r\n``` lang-java\r\nScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\r\nexec.scheduleAtFixedRate(showImage(),0, delay, TimeUnit.MILLISECONDS);\r\n```\r\n\r\nBut this would trigger the showImage() every &quot;delay&quot; millisecond and I still need to increment some counter, to get to the next image in my records.\r\n\r\nCould someone push me in the right direction? I&#39;m kinda lost at the moment.\r\n\r\n","title":"How to NOT use thread.sleep for an image slide show in java","body":"<p>I'm trying to create something like an info screen that just scrolls through images (and maybe one day pdfs) that are uploaded with a small managment app I wrote.</p>\n<p>After some reading I think I understand why I should <strong>NOT</strong> have Thread.sleep in my for loop. I read some posts on stackoverflow and other pages that teached me not to do it.</p>\n<p>Apparently I'm supposed to use <strong>ExecutorService</strong> for something like this, but I can't wrap my head around it.</p>\n<p>So after preparing my GUI and everything else I finally call my showImages and stay in this while loop.\nAfter each loop I reload the records from the file systems, so any changes are represented on the screen.</p>\n<p>I created a metafile containing the preferred delay for each image and just sleep for the amount of time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void showImages() {\n        //noinspection InfiniteLoopStatement\n        while (true) {\n            loadRecords();\n            for (ImageRecord record : records) {\n                System.out.println(&quot;Showing: &quot; + record.getFilename());\n                imageLabel.setIcon(record.getIconForInfoScreen(screenWidth, screenHeight));\n                int delay = record.getDurationAsInt();\n                System.out.println(&quot;Waiting for &quot; + delay + &quot; milliseconds&quot;);\n                try {\n                    Thread.sleep(delay);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>So if I understand correctly I could use something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\nexec.scheduleAtFixedRate(showImage(),0, delay, TimeUnit.MILLISECONDS);\n</code></pre>\n<p>But this would trigger the showImage() every &quot;delay&quot; millisecond and I still need to increment some counter, to get to the next image in my records.</p>\n<p>Could someone push me in the right direction? I'm kinda lost at the moment.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1393293418,"post_id":22003104,"comment_id":33349192,"body_markdown":"Use a StringBuilder as that&#39;s what it&#39;s for. Nothing fancy about doing this, and in fact it&#39;s whole lot cleaner and simpler than recursion.","body":"Use a StringBuilder as that&#39;s what it&#39;s for. Nothing fancy about doing this, and in fact it&#39;s whole lot cleaner and simpler than recursion."},{"owner":{"account_id":1163145,"reputation":4252,"user_id":1142253,"display_name":"Kakarot"},"score":0,"creation_date":1393293519,"post_id":22003104,"comment_id":33349232,"body_markdown":"Do you want to modify the existing string or create a new string from the existing one ?","body":"Do you want to modify the existing string or create a new string from the existing one ?"},{"owner":{"account_id":1163145,"reputation":4252,"user_id":1142253,"display_name":"Kakarot"},"score":0,"creation_date":1393293559,"post_id":22003104,"comment_id":33349247,"body_markdown":"In your return statement you end up creating a new instance of the String which is not as per the requirement mentioned by you.","body":"In your return statement you end up creating a new instance of the String which is not as per the requirement mentioned by you."}],"answers":[{"tags":[],"owner":{"account_id":195441,"reputation":2945,"user_id":438322,"accept_rate":58,"display_name":"GenericJam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1393293611,"creation_date":1393293611,"answer_id":22003150,"question_id":22003104,"body_markdown":"Yes, Hovercraft Full of Eels is correct. StringBuilder is your friend. It is mutable, you can just feed your String into StringBuilder and then do your swapping and call toString() at the end and your done.","title":"Java - Recursion to replace letter in string","body":"<p>Yes, Hovercraft Full of Eels is correct. StringBuilder is your friend. It is mutable, you can just feed your String into StringBuilder and then do your swapping and call toString() at the end and your done.</p>\n"},{"tags":[],"owner":{"account_id":3428717,"reputation":1523,"user_id":2873772,"accept_rate":36,"display_name":"steven0529"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393293613,"creation_date":1393293613,"answer_id":22003152,"question_id":22003104,"body_markdown":"You can use the Java predefined class StringBuilder. It is more effective than concatenating and manipulating Strings directly. StringBuilder also has a replace() method to cater your problem. See documentation [StringBuilder#replace][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#replace%28int,%20int,%20java.lang.String%29","title":"Java - Recursion to replace letter in string","body":"<p>You can use the Java predefined class StringBuilder. It is more effective than concatenating and manipulating Strings directly. StringBuilder also has a replace() method to cater your problem. See documentation <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#replace%28int,%20int,%20java.lang.String%29\" rel=\"nofollow\">StringBuilder#replace</a></p>\n"},{"tags":[],"owner":{"account_id":2320529,"reputation":4829,"user_id":2036397,"accept_rate":33,"display_name":"ErstwhileIII"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393294510,"creation_date":1393294510,"answer_id":22003296,"question_id":22003104,"body_markdown":"You can work this by using the &quot;charAt&quot; method for String an putting appropriate characters into a StringBuffer and then running &quot;toString&quot; on the StringBuffer\r\n\r\n\r\n    public class Replacement {\r\n\tpublic static void main(String[] args) {\r\n\t\tString words = &quot;hello world, i am a java program, how are you today?&quot;;\r\n\t\tchar from = &#39;a&#39;;\r\n\t\tchar to = &#39;/&#39;;\r\n\r\n\t\tString changed = replace(words, from, to);\r\n\t\tSystem.out.println(words);\r\n\t\tSystem.out.println(changed);\r\n\t}\r\n\r\n\tpublic static String replace(String s, char from, char to) {\r\n\t\tStringBuffer result = new StringBuffer(s.length());\r\n\r\n\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\t\t\tif (s.charAt(i) == from) {\r\n\t\t\t\tresult.append(to);\r\n\t\t\t} else {\r\n\t\t\t\tresult.append(s.charAt(i));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.toString();\r\n\r\n\t}\r\n\r\n}","title":"Java - Recursion to replace letter in string","body":"<p>You can work this by using the \"charAt\" method for String an putting appropriate characters into a StringBuffer and then running \"toString\" on the StringBuffer</p>\n\n<pre><code>public class Replacement {\npublic static void main(String[] args) {\n    String words = \"hello world, i am a java program, how are you today?\";\n    char from = 'a';\n    char to = '/';\n\n    String changed = replace(words, from, to);\n    System.out.println(words);\n    System.out.println(changed);\n}\n\npublic static String replace(String s, char from, char to) {\n    StringBuffer result = new StringBuffer(s.length());\n\n    for (int i = 0; i &lt; s.length(); i++) {\n        if (s.charAt(i) == from) {\n            result.append(to);\n        } else {\n            result.append(s.charAt(i));\n        }\n    }\n    return result.toString();\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2682926,"reputation":2686,"user_id":2317875,"display_name":"unigeek"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1393295005,"creation_date":1393295005,"answer_id":22003377,"question_id":22003104,"body_markdown":"How does this strike you? Fun with tail recursion.\r\n\r\n    public class Demo {\r\n    \r\n      public static void main(String[] args) {\r\n        String words = &quot;hello world, i am a java program, how are you today?&quot;;\r\n        char from = &#39;a&#39;;\r\n        char to = &#39;/&#39;;\r\n    \r\n        System.out.println(replace(words, from, to));\r\n      }\r\n    \r\n      public static String replace(String s, char from, char to){\r\n        if (s.length() &lt; 1) {\r\n          return s;\r\n        }\r\n        else {\r\n          char first = from == s.charAt(0) ? to : s.charAt(0);\r\n          return first + replace(s.substring(1), from, to);\r\n        }\r\n      }\r\n    \r\n    }\r\n \r\nOutput:\r\n\r\n    C:\\&gt;java Demo\r\n    hello world, i /m / j/v/ progr/m, how /re you tod/y?\r\n\r\n","title":"Java - Recursion to replace letter in string","body":"<p>How does this strike you? Fun with tail recursion.</p>\n\n<pre><code>public class Demo {\n\n  public static void main(String[] args) {\n    String words = \"hello world, i am a java program, how are you today?\";\n    char from = 'a';\n    char to = '/';\n\n    System.out.println(replace(words, from, to));\n  }\n\n  public static String replace(String s, char from, char to){\n    if (s.length() &lt; 1) {\n      return s;\n    }\n    else {\n      char first = from == s.charAt(0) ? to : s.charAt(0);\n      return first + replace(s.substring(1), from, to);\n    }\n  }\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>C:\\&gt;java Demo\nhello world, i /m / j/v/ progr/m, how /re you tod/y?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4069471,"reputation":918,"user_id":3343142,"accept_rate":17,"display_name":"Rishi Dwivedi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1393334449,"creation_date":1393334449,"answer_id":22015486,"question_id":22003104,"body_markdown":"     Try this code work for u enjoy it\r\n       public static void main(String[] args) {\r\n\t    String words = &quot;hello world, i am a java program, how are you today?&quot;;\r\n\t    char from = &#39;a&#39;;\r\n\t    char to = &#39;/&#39;;\r\n\t    \r\n\t    //String ss = words.replace(from, to);\r\n\t    System.out.println(words);\r\n\t    String ss = replace(words, from, to);// recieveing String from replace()\r\n\t    System.out.println(&quot;New Replace String is =&gt;  &quot;+ss );\r\n\t    }\r\n\t\r\n\tpublic static String replace(String s, char from, char to){\r\n\t    if (s.length() &lt; 1)\r\n\t        return s;\r\n             for(int i=0;i&lt;s.length();i++){\r\n\t    \tif (s.charAt(i) == from) {\r\n\t\t        s = s.substring(0, i)+to + s.substring(++i);\r\n\t\t        System.out.println(s);\r\n\t\t        return replace(s, from, to);//calling replace()\r\n\t\t    }\r\n\t    }\r\n\t    return s;\r\n\t}\r\n\r\n**Output is ** New Replace String is =&gt;  hello world, i /m / j/v/ progr/m, how /re you tod/y?\r\n","title":"Java - Recursion to replace letter in string","body":"<pre><code> Try this code work for u enjoy it\n   public static void main(String[] args) {\n    String words = \"hello world, i am a java program, how are you today?\";\n    char from = 'a';\n    char to = '/';\n\n    //String ss = words.replace(from, to);\n    System.out.println(words);\n    String ss = replace(words, from, to);// recieveing String from replace()\n    System.out.println(\"New Replace String is =&gt;  \"+ss );\n    }\n\npublic static String replace(String s, char from, char to){\n    if (s.length() &lt; 1)\n        return s;\n         for(int i=0;i&lt;s.length();i++){\n        if (s.charAt(i) == from) {\n            s = s.substring(0, i)+to + s.substring(++i);\n            System.out.println(s);\n            return replace(s, from, to);//calling replace()\n        }\n    }\n    return s;\n}\n</code></pre>\n\n<p>*<em>Output is *</em> New Replace String is =>  hello world, i /m / j/v/ progr/m, how /re you tod/y?</p>\n"},{"tags":[],"owner":{"account_id":1095460,"reputation":1,"user_id":7000758,"display_name":"rahulpatil017"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638768567,"creation_date":1638768567,"answer_id":70241238,"question_id":22003104,"body_markdown":" \t public String changeXY(String str)\r\n        {\r\n            if (string.IsNullOrEmpty(str)) return str;           \r\n            if(str[0] == &#39;x&#39;)\r\n            {\r\n                return &#39;y&#39; +  changeXY(str.Substring(1,str.Length - 1));\r\n            }\r\n            else\r\n            {\r\n                return str[0] +  changeXY(str.Substring(1, str.Length - 1));\r\n            }\r\n        }","title":"Java - Recursion to replace letter in string","body":"<pre><code> public String changeXY(String str)\n    {\n        if (string.IsNullOrEmpty(str)) return str;           \n        if(str[0] == 'x')\n        {\n            return 'y' +  changeXY(str.Substring(1,str.Length - 1));\n        }\n        else\n        {\n            return str[0] +  changeXY(str.Substring(1, str.Length - 1));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":229916,"reputation":1196,"user_id":493197,"accept_rate":71,"display_name":"Rajeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638772836,"creation_date":1638772836,"answer_id":70241678,"question_id":22003104,"body_markdown":"It looks like I&#39;ve a very simple answer\r\n\r\n    public class Replacer {\r\n        public static void main(String args[]) {\r\n              String words = &quot;hello world, i am a java program, how are you today?&quot;;\r\n        char from = &#39;a&#39;;\r\n        char to = &#39;/&#39;;\r\n    \r\n        //String ss = words.replace(from, to);\r\n        System.out.println(words);\r\n        String ss = replace(words, from, to);// recieveing String from replace()\r\n        System.out.println(&quot;New Replace String is =&gt;  &quot;+ss );\r\n        }\r\n    \r\n        \r\n        public static String replace(String s, char from, char to)\r\n        {\r\n            int pos = s.indexOf(from);\r\n            \r\n            // If not found, return the string as such\r\n            if (pos &lt; 0)\r\n            {\r\n                return s;\r\n            }\r\n            \r\n            // Split the string by &#39;from&#39; and join with &#39;to&#39;\r\n            return s.substring(0, pos) + to + replace(s.substring(pos+1), from, to);\r\n        }\r\n    }","title":"Java - Recursion to replace letter in string","body":"<p>It looks like I've a very simple answer</p>\n<pre><code>public class Replacer {\n    public static void main(String args[]) {\n          String words = &quot;hello world, i am a java program, how are you today?&quot;;\n    char from = 'a';\n    char to = '/';\n\n    //String ss = words.replace(from, to);\n    System.out.println(words);\n    String ss = replace(words, from, to);// recieveing String from replace()\n    System.out.println(&quot;New Replace String is =&gt;  &quot;+ss );\n    }\n\n    \n    public static String replace(String s, char from, char to)\n    {\n        int pos = s.indexOf(from);\n        \n        // If not found, return the string as such\n        if (pos &lt; 0)\n        {\n            return s;\n        }\n        \n        // Split the string by 'from' and join with 'to'\n        return s.substring(0, pos) + to + replace(s.substring(pos+1), from, to);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3541614,"reputation":331,"user_id":2958542,"accept_rate":7,"display_name":"user2958542"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24067,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":7,"score":8,"last_activity_date":1638772836,"creation_date":1393293372,"question_id":22003104,"body_markdown":"I am full aware that strings are immutable and can&#39;t be changed and can be &quot;editabile&quot; - ohhh the controversy! So I am trying to get it so that **without** the replace() method for strings in java, to implement where a specific char in a string gets switched out with another char. I want to do this as simply as possibly without needing to import any util or use arrays. thus far, I&#39;ve gotten it to change the character, but it&#39;s not returning correctly, or, that is... the string ends.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString words = &quot;hello world, i am a java program, how are you today?&quot;;\r\n\t\tchar from = &#39;a&#39;;\r\n\t\tchar to = &#39;/&#39;;\r\n\t\t\r\n\t\treplace(s, from, to);\r\n\t}\r\n\tpublic static String replace(String s, char from, char to){\r\n\t\tif (s.length() &lt; 1)\r\n\t\t\treturn s;\r\n\t\tif (s.charAt(0) == from) {\r\n\t\t\ts = to + s.substring(1);\r\n\t\t}\r\n\t\tSystem.out.println(s);\r\n\treturn s.charAt(0) + replace(s.substring(1, s.length()), from, to);\r\n\t}\r\n","title":"Java - Recursion to replace letter in string","body":"<p>I am full aware that strings are immutable and can't be changed and can be \"editabile\" - ohhh the controversy! So I am trying to get it so that <strong>without</strong> the replace() method for strings in java, to implement where a specific char in a string gets switched out with another char. I want to do this as simply as possibly without needing to import any util or use arrays. thus far, I've gotten it to change the character, but it's not returning correctly, or, that is... the string ends.</p>\n\n<pre><code>public static void main(String[] args) {\n    String words = \"hello world, i am a java program, how are you today?\";\n    char from = 'a';\n    char to = '/';\n\n    replace(s, from, to);\n}\npublic static String replace(String s, char from, char to){\n    if (s.length() &lt; 1)\n        return s;\n    if (s.charAt(0) == from) {\n        s = to + s.substring(1);\n    }\n    System.out.println(s);\nreturn s.charAt(0) + replace(s.substring(1, s.length()), from, to);\n}\n</code></pre>\n"},{"tags":["java","spring","parsing"],"answers":[{"tags":[],"owner":{"account_id":5037519,"reputation":516,"user_id":4045899,"display_name":"Aryan087"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638772453,"creation_date":1559722507,"answer_id":56456593,"question_id":56440913,"body_markdown":"After adding the new operator you need to pass the operators instance to `RSQLParser()` so that it can override the default operators:\r\n \r\n\r\n    Node rootNode = new RSQLParser(operators).parse(&quot;name=isnull=null&quot;);","title":"RSQL : How to query for null column values?","body":"<p>After adding the new operator you need to pass the operators instance to <code>RSQLParser()</code> so that it can override the default operators:</p>\n<pre><code>Node rootNode = new RSQLParser(operators).parse(&quot;name=isnull=null&quot;);\n</code></pre>\n"}],"owner":{"account_id":5037519,"reputation":516,"user_id":4045899,"display_name":"Aryan087"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2836,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56456593,"answer_count":1,"score":1,"last_activity_date":1638772453,"creation_date":1559639720,"question_id":56440913,"body_markdown":"I tried using a custom operator but it does not seem to be working.\r\nis there any way to check null values in RSQL?\r\n\r\n    Set&lt;ComparisonOperator&gt; operators = RSQLOperators.defaultOperators();\r\n    operators.add(new ComparisonOperator(&quot;=isnull=&quot;, true));\r\n\r\n    Node rootNode = new RSQLParser().parse(&quot;name=isnull=null&quot;);\r\n\r\n\r\nLink :\r\n\r\n    https://github.com/jirutka/rsql-parser/blob/master/README.adoc#how-to-add-custom-operators","title":"RSQL : How to query for null column values?","body":"<p>I tried using a custom operator but it does not seem to be working.\nis there any way to check null values in RSQL?</p>\n\n<pre><code>Set&lt;ComparisonOperator&gt; operators = RSQLOperators.defaultOperators();\noperators.add(new ComparisonOperator(\"=isnull=\", true));\n\nNode rootNode = new RSQLParser().parse(\"name=isnull=null\");\n</code></pre>\n\n<p>Link :</p>\n\n<pre><code>https://github.com/jirutka/rsql-parser/blob/master/README.adoc#how-to-add-custom-operators\n</code></pre>\n"},{"tags":["java","hadoop","mapreduce","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":269635,"reputation":7531,"user_id":559095,"accept_rate":67,"display_name":"Sid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1434658978,"creation_date":1434658978,"answer_id":30925128,"question_id":30893995,"body_markdown":"The problem was solved by copying spark-assembly.jar into a directory on the hdfs for each node and then passing it to spark-submit --conf spark.yarn.jar as a parameter. Commands are listed below:\r\n\r\n\r\n    hdfs dfs -copyFromLocal /var/tmp/spark/spark-1.4.0-bin-hadoop2.4/lib/spark-assembly-1.4.0-hadoop2.4.0.jar /user/spark/spark-assembly.jar \r\n\r\n    /var/tmp/spark/spark-1.4.0-bin-hadoop2.4/bin/spark-submit --class MRContainer --master yarn-cluster  --conf spark.yarn.jar=hdfs:///user/spark/spark-assembly.jar simplemr.jar\r\n\r\n","title":"Spark on yarn jar upload problems","body":"<p>The problem was solved by copying spark-assembly.jar into a directory on the hdfs for each node and then passing it to spark-submit --conf spark.yarn.jar as a parameter. Commands are listed below:</p>\n\n<pre><code>hdfs dfs -copyFromLocal /var/tmp/spark/spark-1.4.0-bin-hadoop2.4/lib/spark-assembly-1.4.0-hadoop2.4.0.jar /user/spark/spark-assembly.jar \n\n/var/tmp/spark/spark-1.4.0-bin-hadoop2.4/bin/spark-submit --class MRContainer --master yarn-cluster  --conf spark.yarn.jar=hdfs:///user/spark/spark-assembly.jar simplemr.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5037519,"reputation":516,"user_id":4045899,"display_name":"Aryan087"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638772316,"creation_date":1470904169,"answer_id":38891126,"question_id":30893995,"body_markdown":"If you are getting this error it means you are uploading assembly jars using `--jars` option or manually copying to hdfs in each node.\r\nI have followed this approach and it works for me.\r\n\r\nIn yarn-cluster mode, Spark submit **automatically uploads the assembly jar to a distributed cache that all executor containers** read from, so there is no need to manually copy the assembly jar to all nodes (or pass it through `--jars`).\r\nIt seems there are two versions of the same jar in your HDFS. \r\n\r\nTry removing all old jars from your .sparkStaging directory and try again, it should work.","title":"Spark on yarn jar upload problems","body":"<p>If you are getting this error it means you are uploading assembly jars using <code>--jars</code> option or manually copying to hdfs in each node.\nI have followed this approach and it works for me.</p>\n<p>In yarn-cluster mode, Spark submit <strong>automatically uploads the assembly jar to a distributed cache that all executor containers</strong> read from, so there is no need to manually copy the assembly jar to all nodes (or pass it through <code>--jars</code>).\nIt seems there are two versions of the same jar in your HDFS.</p>\n<p>Try removing all old jars from your .sparkStaging directory and try again, it should work.</p>\n"}],"owner":{"account_id":269635,"reputation":7531,"user_id":559095,"accept_rate":67,"display_name":"Sid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9214,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":30925128,"answer_count":2,"score":4,"last_activity_date":1638772316,"creation_date":1434550024,"question_id":30893995,"body_markdown":"I am trying to run a simple Map/Reduce java program using spark over yarn (Cloudera Hadoop 5.2 on CentOS). I have tried this 2 different ways. The first way is the following:\r\n\r\n    YARN_CONF_DIR=/usr/lib/hadoop-yarn/etc/hadoop/; \r\n    /var/tmp/spark/spark-1.4.0-bin-hadoop2.4/bin/spark-submit --class MRContainer --master yarn-cluster --jars /var/tmp/spark/spark-1.4.0-bin-hadoop2.4/lib/spark-assembly-1.4.0-hadoop2.4.0.jar  simplemr.jar\r\n\r\nThis method gives the following error:\r\n\r\n&gt; diagnostics: Application application_1434177111261_0007 failed 2 times\r\n&gt; due to AM Container for appattempt_1434177111261_0007_000002 exited\r\n&gt; with  exitCode: -1000 due to: Resource\r\n&gt; hdfs://kc1ltcld29:9000/user/myuser/.sparkStaging/application_1434177111261_0007/spark-assembly-1.4.0-hadoop2.4.0.jar\r\n&gt; changed on src filesystem (expected 1434549639128, was 1434549642191\r\n\r\nThen I tried without the --jars:\r\n\r\n    YARN_CONF_DIR=/usr/lib/hadoop-yarn/etc/hadoop/; \r\n    /var/tmp/spark/spark-1.4.0-bin-hadoop2.4/bin/spark-submit --class MRContainer --master yarn-cluster simplemr.jar\r\n\r\n&gt; diagnostics: Application application_1434177111261_0008 failed 2 times\r\n&gt; due to AM Container for appattempt_1434177111261_0008_000002 exited\r\n&gt; with  exitCode: -1000 due to: File does not exist:\r\n&gt; hdfs://kc1ltcld29:9000/user/myuser/.sparkStaging/application_1434177111261_0008/spark-assembly-1.4.0-hadoop2.4.0.jar\r\n&gt; .Failing this attempt.. Failing the application.\r\n&gt;          ApplicationMaster host: N/A\r\n&gt;          ApplicationMaster RPC port: -1\r\n&gt;          queue: root.myuser\r\n&gt;          start time: 1434549879649\r\n&gt;          final status: FAILED\r\n&gt;          tracking URL: http://kc1ltcld29:8088/cluster/app/application_1434177111261_0008\r\n&gt;          user: myuser Exception in thread &quot;main&quot; org.apache.spark.SparkException: Application\r\n&gt; application_1434177111261_0008 finished with failed status\r\n&gt;         at org.apache.spark.deploy.yarn.Client.run(Client.scala:841)\r\n&gt;         at org.apache.spark.deploy.yarn.Client$.main(Client.scala:867)\r\n&gt;         at org.apache.spark.deploy.yarn.Client.main(Client.scala)\r\n&gt;         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt;         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n&gt;         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt;         at java.lang.reflect.Method.invoke(Method.java:601)\r\n&gt;         at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:664)\r\n&gt;         at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:169)\r\n&gt;         at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:192)\r\n&gt;         at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:111)\r\n&gt;         at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala) 15/06/17 10:04:57 INFO util.Utils: Shutdown hook called 15/06/17\r\n&gt; 10:04:57 INFO util.Utils: Deleting directory\r\n&gt; /tmp/spark-2aca3f35-abf1-4e21-a10e-4778a039d0f4\r\n\r\n\r\nI tried deleting all the .jars from hdfs://users/&lt;my-username&gt;/.sparkStaging and resubmitting but that didn&#39;t help. ","title":"Spark on yarn jar upload problems","body":"<p>I am trying to run a simple Map/Reduce java program using spark over yarn (Cloudera Hadoop 5.2 on CentOS). I have tried this 2 different ways. The first way is the following:</p>\n\n<pre><code>YARN_CONF_DIR=/usr/lib/hadoop-yarn/etc/hadoop/; \n/var/tmp/spark/spark-1.4.0-bin-hadoop2.4/bin/spark-submit --class MRContainer --master yarn-cluster --jars /var/tmp/spark/spark-1.4.0-bin-hadoop2.4/lib/spark-assembly-1.4.0-hadoop2.4.0.jar  simplemr.jar\n</code></pre>\n\n<p>This method gives the following error:</p>\n\n<blockquote>\n  <p>diagnostics: Application application_1434177111261_0007 failed 2 times\n  due to AM Container for appattempt_1434177111261_0007_000002 exited\n  with  exitCode: -1000 due to: Resource\n  hdfs://kc1ltcld29:9000/user/myuser/.sparkStaging/application_1434177111261_0007/spark-assembly-1.4.0-hadoop2.4.0.jar\n  changed on src filesystem (expected 1434549639128, was 1434549642191</p>\n</blockquote>\n\n<p>Then I tried without the --jars:</p>\n\n<pre><code>YARN_CONF_DIR=/usr/lib/hadoop-yarn/etc/hadoop/; \n/var/tmp/spark/spark-1.4.0-bin-hadoop2.4/bin/spark-submit --class MRContainer --master yarn-cluster simplemr.jar\n</code></pre>\n\n<blockquote>\n  <p>diagnostics: Application application_1434177111261_0008 failed 2 times\n  due to AM Container for appattempt_1434177111261_0008_000002 exited\n  with  exitCode: -1000 due to: File does not exist:\n  hdfs://kc1ltcld29:9000/user/myuser/.sparkStaging/application_1434177111261_0008/spark-assembly-1.4.0-hadoop2.4.0.jar\n  .Failing this attempt.. Failing the application.\n           ApplicationMaster host: N/A\n           ApplicationMaster RPC port: -1\n           queue: root.myuser\n           start time: 1434549879649\n           final status: FAILED\n           tracking URL: <a href=\"http://kc1ltcld29:8088/cluster/app/application_1434177111261_0008\" rel=\"nofollow\">http://kc1ltcld29:8088/cluster/app/application_1434177111261_0008</a>\n           user: myuser Exception in thread \"main\" org.apache.spark.SparkException: Application\n  application_1434177111261_0008 finished with failed status\n          at org.apache.spark.deploy.yarn.Client.run(Client.scala:841)\n          at org.apache.spark.deploy.yarn.Client$.main(Client.scala:867)\n          at org.apache.spark.deploy.yarn.Client.main(Client.scala)\n          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n          at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n          at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n          at java.lang.reflect.Method.invoke(Method.java:601)\n          at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:664)\n          at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:169)\n          at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:192)\n          at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:111)\n          at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala) 15/06/17 10:04:57 INFO util.Utils: Shutdown hook called 15/06/17\n  10:04:57 INFO util.Utils: Deleting directory\n  /tmp/spark-2aca3f35-abf1-4e21-a10e-4778a039d0f4</p>\n</blockquote>\n\n<p>I tried deleting all the .jars from hdfs://users//.sparkStaging and resubmitting but that didn't help. </p>\n"},{"tags":["java","android","kotlin","android-recyclerview","android-crop"],"comments":[{"owner":{"account_id":6667113,"reputation":334,"user_id":5144446,"display_name":"Tomer Petel"},"score":1,"creation_date":1638545909,"post_id":70214114,"comment_id":124125087,"body_markdown":"Hi @Hassan, some more info needed on what you&#39;re trying to do and maybe add some code with what you did so far...","body":"Hi @Hassan, some more info needed on what you&#39;re trying to do and maybe add some code with what you did so far..."},{"owner":{"account_id":20737723,"reputation":1,"user_id":15228202,"display_name":"Hassan Tariq"},"score":0,"creation_date":1638772156,"post_id":70214114,"comment_id":124168001,"body_markdown":"hey , please check the attached image.","body":"hey , please check the attached image."}],"owner":{"account_id":20737723,"reputation":1,"user_id":15228202,"display_name":"Hassan Tariq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638772101,"creation_date":1638533508,"question_id":70214114,"body_markdown":"I am developing a wallpaper app with pixabay and retrofit.\r\nI have been trying to select image from the recycler view but I am unable to do so.[Referring to the image attached below, when i press customize button i want to crop the image selected and not from galley or camera][1]\r\nI have searched an tried almost everything but only thing that happens is image picker opens and asks to pick image from galley or camera.\r\nCan some one please give a hint or a sample code\r\nHere is what I am trying to do\r\n\r\n 1. Pick image from my recycler view , I have a button of crop , I will click that and direct cropper opens and crops the image selected and not from gallery or camera.\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xePFH.png","title":"How can I pick image Directly from recycler view instead of gallery or camera to set on wallpaper?","body":"<p>I am developing a wallpaper app with pixabay and retrofit.\nI have been trying to select image from the recycler view but I am unable to do so.<a href=\"https://i.stack.imgur.com/xePFH.png\" rel=\"nofollow noreferrer\">Referring to the image attached below, when i press customize button i want to crop the image selected and not from galley or camera</a>\nI have searched an tried almost everything but only thing that happens is image picker opens and asks to pick image from galley or camera.\nCan some one please give a hint or a sample code\nHere is what I am trying to do</p>\n<ol>\n<li>Pick image from my recycler view , I have a button of crop , I will click that and direct cropper opens and crops the image selected and not from gallery or camera.</li>\n</ol>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"score":0,"creation_date":1638674371,"post_id":70231166,"comment_id":124149594,"body_markdown":"SO is not a code writing service , please paste your attempts here","body":"SO is not a code writing service , please paste your attempts here"},{"owner":{"account_id":10524138,"reputation":6113,"user_id":7755665,"display_name":"user1984"},"score":0,"creation_date":1638685818,"post_id":70231166,"comment_id":124150649,"body_markdown":"You can solve this with a special trie where for each word in the dictionary you add every permutation with `*` substituted for one character. This helps you find edges between words that differ only in one character.","body":"You can solve this with a special trie where for each word in the dictionary you add every permutation with <code>*</code> substituted for one character. This helps you find edges between words that differ only in one character."}],"owner":{"account_id":21050769,"reputation":11,"user_id":17590816,"display_name":"angela shepherd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1638772020,"creation_date":1638673295,"question_id":70231166,"body_markdown":"I want to build an algorithm that returns the shortest sequence of changes that will transform one three-digit string to another three-digit string. The intermediate words is limited to a pre-defined array of Strings.\r\n\r\nFor example, I have inputs ```start = ABC```, ```end = DEF```, and ```words[] = {ABC, XZZ, AEC, DEF, AEF}```. The algorithm should return ```{ABC, AEC, AEF, DEF}```. For each step in the transformation, only one letter can change, and the intermediate words must all be elements of ```words[]```. If such a transformation is not possible, I would return ```null```. If ```start``` and ```end``` are the same, then I would return an empty list.\r\n\r\nI&#39;ve been thinking about this for a while now and I considered for each step, checking through all the elements in ```words[]``` to find one that differed from the current element by one and proceeding that way, but I&#39;m unsure how to formulate this into code. Could I possibly use a TrieMap?","title":"Return sequence of changes to get from one string to another","body":"<p>I want to build an algorithm that returns the shortest sequence of changes that will transform one three-digit string to another three-digit string. The intermediate words is limited to a pre-defined array of Strings.</p>\n<p>For example, I have inputs <code>start = ABC</code>, <code>end = DEF</code>, and <code>words[] = {ABC, XZZ, AEC, DEF, AEF}</code>. The algorithm should return <code>{ABC, AEC, AEF, DEF}</code>. For each step in the transformation, only one letter can change, and the intermediate words must all be elements of <code>words[]</code>. If such a transformation is not possible, I would return <code>null</code>. If <code>start</code> and <code>end</code> are the same, then I would return an empty list.</p>\n<p>I've been thinking about this for a while now and I considered for each step, checking through all the elements in <code>words[]</code> to find one that differed from the current element by one and proceeding that way, but I'm unsure how to formulate this into code. Could I possibly use a TrieMap?</p>\n"},{"tags":["java","android-studio","android-alertdialog"],"answers":[{"tags":[],"owner":{"account_id":14622815,"reputation":257,"user_id":10560949,"display_name":"Jay Panchal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638771852,"creation_date":1638771852,"answer_id":70241549,"question_id":70235551,"body_markdown":" You disable positive button after DialogInterface.OnClickListener. it means your positive button already set on your AlertDialog...\r\naccording to your need you have to disable positive button before you show dialog...\r\n\r\ncheck this link...\r\n\r\n&gt; [Reference][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8238952/how-to-disable-enable-dialog-negative-positive-buttons","title":"How to disable positive button in onClick Function","body":"<p>You disable positive button after DialogInterface.OnClickListener. it means your positive button already set on your AlertDialog...\naccording to your need you have to disable positive button before you show dialog...</p>\n<p>check this link...</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/8238952/how-to-disable-enable-dialog-negative-positive-buttons\">Reference</a></p>\n</blockquote>\n"}],"owner":{"account_id":18351448,"reputation":11,"user_id":13365521,"display_name":"Dekunotstupid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638771852,"creation_date":1638716402,"question_id":70235551,"body_markdown":"I wanna disable positive button when one of input fields is empty.\r\nI tried to use `((AlertDialog)dialogInterface).getButton(AlertDialog.BUTTON_POSITIVE).setEnabled(false);`\r\nBut it does not work.\r\n\r\n    new AlertDialog.Builder(MainActivity.this)\r\n                        .setView(viewInput)\r\n                        .setTitle(&quot;Add task&quot;)\r\n                        .setPositiveButton(&quot;Save&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                String title = edtTitle.getText().toString();\r\n                                String des = edtDes.getText().toString();\r\n                                String date = edtDate.getText().toString();\r\n                                String time = edtTime.getText().toString();\r\n\r\n                                if(isEmpty(title) || isEmpty(des) || isEmpty(date) || isEmpty(time)){\r\n                                    ((AlertDialog)dialogInterface).getButton(AlertDialog.BUTTON_POSITIVE).setEnabled(false);\r\n                                    Toast.makeText(MainActivity.this,&quot;Please, enter all fields.&quot;,Toast.LENGTH_SHORT).show();\r\n                                }else{\r\n                                    Task task = new Task(title, des, date, time);\r\n\r\n                                    boolean isInserted = new TaskHandler(MainActivity.this).create(task);\r\n\r\n                                    if(isInserted){\r\n                                        Toast.makeText(MainActivity.this,&quot;Task Saved&quot;,Toast.LENGTH_SHORT).show();\r\n                                        loadTasks();\r\n                                    }else{\r\n                                        Toast.makeText(MainActivity.this,&quot;Unable to save&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n                                    }\r\n                                    dialogInterface.cancel();\r\n                                }\r\n                            }\r\n                        }).show();","title":"How to disable positive button in onClick Function","body":"<p>I wanna disable positive button when one of input fields is empty.\nI tried to use <code>((AlertDialog)dialogInterface).getButton(AlertDialog.BUTTON_POSITIVE).setEnabled(false);</code>\nBut it does not work.</p>\n<pre><code>new AlertDialog.Builder(MainActivity.this)\n                    .setView(viewInput)\n                    .setTitle(&quot;Add task&quot;)\n                    .setPositiveButton(&quot;Save&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            String title = edtTitle.getText().toString();\n                            String des = edtDes.getText().toString();\n                            String date = edtDate.getText().toString();\n                            String time = edtTime.getText().toString();\n\n                            if(isEmpty(title) || isEmpty(des) || isEmpty(date) || isEmpty(time)){\n                                ((AlertDialog)dialogInterface).getButton(AlertDialog.BUTTON_POSITIVE).setEnabled(false);\n                                Toast.makeText(MainActivity.this,&quot;Please, enter all fields.&quot;,Toast.LENGTH_SHORT).show();\n                            }else{\n                                Task task = new Task(title, des, date, time);\n\n                                boolean isInserted = new TaskHandler(MainActivity.this).create(task);\n\n                                if(isInserted){\n                                    Toast.makeText(MainActivity.this,&quot;Task Saved&quot;,Toast.LENGTH_SHORT).show();\n                                    loadTasks();\n                                }else{\n                                    Toast.makeText(MainActivity.this,&quot;Unable to save&quot;,Toast.LENGTH_SHORT).show();\n\n                                }\n                                dialogInterface.cancel();\n                            }\n                        }\n                    }).show();\n</code></pre>\n"},{"tags":["javascript","python","java","android","webcam-capture"],"comments":[{"owner":{"account_id":4874231,"reputation":13953,"user_id":3929826,"display_name":"Klaus D."},"score":2,"creation_date":1638769624,"post_id":70241322,"comment_id":124167492,"body_markdown":"What have you tried or [researched](https://meta.stackoverflow.com/q/261592/3929826) so far?","body":"What have you tried or <a href=\"https://meta.stackoverflow.com/q/261592/3929826\">researched</a> so far?"}],"answers":[{"tags":[],"owner":{"display_name":"user8143588"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638769583,"creation_date":1638769583,"answer_id":70241339,"question_id":70241322,"body_markdown":"Typically what you do is to start recording them which will give you a difference of a few seconds from the start of each and then synchronize them in software once you are creating the final video. A clap or any other sharp event in the beginning will make it easier to line up the two videos.","title":"Synchronization of webcam and phone camera","body":"<p>Typically what you do is to start recording them which will give you a difference of a few seconds from the start of each and then synchronize them in software once you are creating the final video. A clap or any other sharp event in the beginning will make it easier to line up the two videos.</p>\n"}],"owner":{"account_id":17654843,"reputation":15,"user_id":12814671,"display_name":"WreckitJeck"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1638769616,"accepted_answer_id":70241339,"answer_count":1,"score":-4,"last_activity_date":1638769583,"creation_date":1638769396,"question_id":70241322,"body_markdown":"Good day everyone, is there possibility to synchronize the webcam of laptop and phone camera? and record them at the same time??? \r\n\r\nThx.  ","title":"Synchronization of webcam and phone camera","body":"<p>Good day everyone, is there possibility to synchronize the webcam of laptop and phone camera? and record them at the same time???</p>\n<p>Thx.</p>\n"},{"tags":["java","mysql","hibernate","jpa","optimistic-locking"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1638523351,"post_id":70209372,"comment_id":124116303,"body_markdown":"Select will not check the version. Only update and delete","body":"Select will not check the version. Only update and delete"},{"owner":{"account_id":22488356,"reputation":93,"user_id":16686416,"display_name":"Curry"},"score":0,"creation_date":1638524957,"post_id":70209372,"comment_id":124116864,"body_markdown":"@SimonMartinelli LockModeType.OPTIMISTIC is a &quot;Read&quot; optimistic lock and the [document](https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#locking-LockMode) stated that _The entity version is checked towards the end of the currently running transaction._. \nIsn&#39;t hibernate still check the version even the entity didn&#39;t change during the transaction? Otherwise how do optimistic locking work if I need a &quot;read&quot; optimistic lock?","body":"@SimonMartinelli LockModeType.OPTIMISTIC is a &quot;Read&quot; optimistic lock and the <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#locking-LockMode\" rel=\"nofollow noreferrer\">document</a> stated that <i>The entity version is checked towards the end of the currently running transaction.</i>.  Isn&#39;t hibernate still check the version even the entity didn&#39;t change during the transaction? Otherwise how do optimistic locking work if I need a &quot;read&quot; optimistic lock?"}],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638574991,"creation_date":1638574991,"answer_id":70221846,"question_id":70209372,"body_markdown":"To understand this, let&#39;s have a quick look on how hibernates optimistic locking works:\r\n\r\n- 1: begin a new transaction\r\n\r\n- 2: find an entity by ID (hibernate issues a `SELECT ... WHERE id=xxx;`), which e.g. could have a `version` count of `1`\r\n\r\n- 3: modify the entity\r\n\r\n- 4: flush the changes to the DB (e.g. triggered automatically before committing a transaction):\r\n  - 4.1: hibernate issues an `UPDATE ... SET ..., version=2 WHERE id=xxx AND version=1` which returns the number of updated rows\r\n  - 4.2: hibernate checks whether there was one row actually updated, throwing a StaleStateException if not\r\n - 5: commit the transaction / rollback in case of the exception\r\n\r\nWith the repeatable_read isolation level, the first `SELECT` establishes the state (snapshot) which subsequent `SELECT`s of the same transaction read. However, the key here is that the `UPDATE` does _not_ operate on the established snapshot, but on the committed state of the row (which might have been changed by other committed transactions in the meantime).\r\n\r\nTherefore the update does not actually update any rows in case the version counter was already updated by another committed transaction in the meantime, and hibernate can detect this.\r\n\r\nAlso see:  \r\nhttps://dev.mysql.com/doc/refman/8.0/en/innodb-consistent-read.html  \r\nhttps://stackoverflow.com/questions/59287861/repeatable-read-isolation-level-select-vs-update-where\r\n\r\n\r\n","title":"LockModeType.OPTIMISTIC and Mysql&#39;s default isolation level REPEATABLE READ don&#39;t work together?","body":"<p>To understand this, let's have a quick look on how hibernates optimistic locking works:</p>\n<ul>\n<li><p>1: begin a new transaction</p>\n</li>\n<li><p>2: find an entity by ID (hibernate issues a <code>SELECT ... WHERE id=xxx;</code>), which e.g. could have a <code>version</code> count of <code>1</code></p>\n</li>\n<li><p>3: modify the entity</p>\n</li>\n<li><p>4: flush the changes to the DB (e.g. triggered automatically before committing a transaction):</p>\n<ul>\n<li>4.1: hibernate issues an <code>UPDATE ... SET ..., version=2 WHERE id=xxx AND version=1</code> which returns the number of updated rows</li>\n<li>4.2: hibernate checks whether there was one row actually updated, throwing a StaleStateException if not</li>\n</ul>\n</li>\n<li><p>5: commit the transaction / rollback in case of the exception</p>\n</li>\n</ul>\n<p>With the repeatable_read isolation level, the first <code>SELECT</code> establishes the state (snapshot) which subsequent <code>SELECT</code>s of the same transaction read. However, the key here is that the <code>UPDATE</code> does <em>not</em> operate on the established snapshot, but on the committed state of the row (which might have been changed by other committed transactions in the meantime).</p>\n<p>Therefore the update does not actually update any rows in case the version counter was already updated by another committed transaction in the meantime, and hibernate can detect this.</p>\n<p>Also see:<br />\n<a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-consistent-read.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/innodb-consistent-read.html</a><br />\n<a href=\"https://stackoverflow.com/questions/59287861/repeatable-read-isolation-level-select-vs-update-where\">Repeatable Read isolation level SELECT vs UPDATE...WHERE</a></p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638768865,"creation_date":1638749962,"answer_id":70239710,"question_id":70209372,"body_markdown":"If your question is actually is there a flaw in HBN implementation (or JPA specification) related to the following [statement](https://docs.oracle.com/javaee/7/api/javax/persistence/LockModeType.html):\r\n\r\n&gt; If transaction T1 calls for a lock of type LockModeType.OPTIMISTIC on\r\n&gt; a versioned object, the entity manager must ensure that neither of the\r\n&gt; following phenomena can occur:\r\n&gt; \r\n&gt; - P1 (Dirty read): Transaction T1 modifies a row. Another transaction T2 then reads that row and obtains the modified value, before T1 has\r\n&gt; committed or rolled back. Transaction T2 eventually commits\r\n&gt; successfully; it does not matter whether T1 commits or rolls back and\r\n&gt; whether it does so before or after T2 commits.\r\n&gt; - **P2 (Non-repeatable read): Transaction T1 reads a row. Another transaction T2 then modifies or deletes that row, before T1 has\r\n&gt; committed. Both transactions eventually commit successfully**.\r\n&gt; \r\n&gt; **Lock modes must always prevent the phenomena P1 and P2.**\r\n\r\nthen the answer is **yes, you are correct**: in case when you are performing computations based on some entity state, but you are not modifying those entity state, HBN just issues `select version from ... where id = ...` at the end of transaction and hence it do not see changes from other transactions due to RR isolation level. However I would not say that RC isolation level performs much better for this particular case: it&#39;s behaviour more correct from **technical perspective** but it is completely unreliable from **business perspective** because it depends on timings, so just do not rely on LockModeType.OPTIMISTIC - it is unreliable by design and use another techniques like:\r\n - store data from different domains in different entities\r\n - take advantage of [@OptimisticLock annotation](https://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/annotations/OptimisticLock.html) to prevent incrementing of version when it is not required (actually this will poison you domain model by HBN annotations)\r\n - mark some properties as `updatable=false` and update them via JPQL update in order to prevent version increment\r\n\r\nUPD.\r\n\r\n&gt; Taking the P2 as example, if I really need T1 (only read row) to fail if T2 (modify/delete row) commits first, the only workaround I can think of is to use LockModeType.OPTIMISTIC_FORCE_INCREMENT. So when T1 commits it will try to update the version and fail. Can you elaborate more on how your provided 3 points at the end can help with this situation if we keep using RR isolation level?\r\n\r\nThe short story:\r\n\r\n`LockModeType.OPTIMISTIC_FORCE_INCREMENT` does not seem to be a good workaround, cause it turns `reader` into `writer`, so incrementing version will fail both `writers` and other `readers`. However in your case it might be acceptable to issue `LockModeType.PESSIMISTIC_READ` which for some DBs translates into `select ... from ... for share/lock in share mode`, which in turn blocks only `writer` and blocks (or fails) `current reader`, so you will avoid the phenomenon we are talking about.\r\n\r\nThe long story:\r\n\r\nWhen we have started thinking about some &quot;business consistency&quot; the JPA specification is not our friend anymore, the problem is they define consistency in terms of &quot;denied phenomena&quot; and &quot;someone must fail&quot;, but does not give us any clues and APIs how to control the behaviour in the correct way from business perspective. Let&#39;s consider the following example:\r\n\r\n```\r\nclass User {\r\n  @Id\r\n  long id;\r\n  @Version\r\n  long version;\r\n  boolean locked;\r\n  int failedAuthAttempts;\r\n}\r\n```\r\n\r\nour goal is to lock user account when failedAuthAttempts exceeds some threshold value. The pure SQL solution for our problem is very simple and straightforward:\r\n\r\n```\r\nupdate user\r\n  set failed_auth_attempts = failed_auth_attempts + 1,\r\n  locked = case failed_auth_attempts + 1 &gt;= :threshold_value then 1 else 0 end\r\nwhere id = :user_id\r\n```\r\n\r\nbut JPA complicates everything... at first glance our naive implementation should look like:\r\n\r\n```\r\nvoid onAuthFailure(long userId) {\r\n  User user = em.find(User.class, userId);\r\n  int failedAuthAttempts = user.failedAuthAttempts + 1;\r\n  user.failedAuthAttempts = failedAuthAttempts;\r\n  if (failedAuthAttempts &gt;= thresholdValue) {\r\n    user.locked = true;\r\n  }\r\n  em.save(user);\r\n}\r\n```\r\n\r\nbut that implementation has obvious flaw: if someone actively bruteforces user account not all failed auth attempts get recorded due to concurrency (here I&#39;m not paying attention that it might be acceptable because sooner or later we will lock user account). How to resolve such issue? May we write something like:\r\n\r\n```\r\nvoid onAuthFailure(long userId) {\r\n  User user = em.find(User.class, userId, LockModeType.PESSIMISTIC_WRITE);\r\n  int failedAuthAttempts = user.failedAuthAttempts + 1;\r\n  user.failedAuthAttempts = failedAuthAttempts;\r\n  if (failedAuthAttempts &gt;= thresholdValue) {\r\n    user.locked = true;\r\n  }\r\n  em.save(user);\r\n}\r\n```\r\n\r\n? Actually no. The problem is for entities which are not present in persistence context (i.e. &quot;unknown entities&quot;) hibernate issues `select ... from ... where id=:id for update`, but for known entities it issues `select ... from ... where id=:id and version=:version for update` and obviously fails due to version mismatch. So we have following tricky options to make our code to work &quot;correctly&quot;:\r\n - spawn another transaction (I believe in most cases it is not a good option)\r\n - lock entity via select query, i.e. smth. like `em.createQuery(&quot;select id from user where id=:id&quot;).setLockMode(LockModeType.PESSIMISTIC_WRITE).getFirstResult()` (I believe that may not work in RR mode, moreover following refresh call looses data)\r\n - mark properties as non-updatable and update them via JPQL update (pure SQL solution)\r\n\r\nNow let&#39;s pretend we need to add another business data into our User entity, say &quot;SO reputation&quot;, how are we supposed to update new field keeping in mind that someone might bruteforce our user? The options are following:\r\n - continue to write &quot;tricky code&quot; (actually that might lead us to the counterintuitive idea that we always need to lock entity before updating it)\r\n - split data from different domains across different entities (sounds counterintuitive too)\r\n - use mixed techniques\r\n\r\n\r\nI do believe this UPD will not help you much, however it&#39;s purpose was to demonstrate that it does not worth to discuss consistency in JPA domain without knowledge about target model.","title":"LockModeType.OPTIMISTIC and Mysql&#39;s default isolation level REPEATABLE READ don&#39;t work together?","body":"<p>If your question is actually is there a flaw in HBN implementation (or JPA specification) related to the following <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/LockModeType.html\" rel=\"nofollow noreferrer\">statement</a>:</p>\n<blockquote>\n<p>If transaction T1 calls for a lock of type LockModeType.OPTIMISTIC on\na versioned object, the entity manager must ensure that neither of the\nfollowing phenomena can occur:</p>\n<ul>\n<li>P1 (Dirty read): Transaction T1 modifies a row. Another transaction T2 then reads that row and obtains the modified value, before T1 has\ncommitted or rolled back. Transaction T2 eventually commits\nsuccessfully; it does not matter whether T1 commits or rolls back and\nwhether it does so before or after T2 commits.</li>\n<li><strong>P2 (Non-repeatable read): Transaction T1 reads a row. Another transaction T2 then modifies or deletes that row, before T1 has\ncommitted. Both transactions eventually commit successfully</strong>.</li>\n</ul>\n<p><strong>Lock modes must always prevent the phenomena P1 and P2.</strong></p>\n</blockquote>\n<p>then the answer is <strong>yes, you are correct</strong>: in case when you are performing computations based on some entity state, but you are not modifying those entity state, HBN just issues <code>select version from ... where id = ...</code> at the end of transaction and hence it do not see changes from other transactions due to RR isolation level. However I would not say that RC isolation level performs much better for this particular case: it's behaviour more correct from <strong>technical perspective</strong> but it is completely unreliable from <strong>business perspective</strong> because it depends on timings, so just do not rely on LockModeType.OPTIMISTIC - it is unreliable by design and use another techniques like:</p>\n<ul>\n<li>store data from different domains in different entities</li>\n<li>take advantage of <a href=\"https://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/annotations/OptimisticLock.html\" rel=\"nofollow noreferrer\">@OptimisticLock annotation</a> to prevent incrementing of version when it is not required (actually this will poison you domain model by HBN annotations)</li>\n<li>mark some properties as <code>updatable=false</code> and update them via JPQL update in order to prevent version increment</li>\n</ul>\n<p>UPD.</p>\n<blockquote>\n<p>Taking the P2 as example, if I really need T1 (only read row) to fail if T2 (modify/delete row) commits first, the only workaround I can think of is to use LockModeType.OPTIMISTIC_FORCE_INCREMENT. So when T1 commits it will try to update the version and fail. Can you elaborate more on how your provided 3 points at the end can help with this situation if we keep using RR isolation level?</p>\n</blockquote>\n<p>The short story:</p>\n<p><code>LockModeType.OPTIMISTIC_FORCE_INCREMENT</code> does not seem to be a good workaround, cause it turns <code>reader</code> into <code>writer</code>, so incrementing version will fail both <code>writers</code> and other <code>readers</code>. However in your case it might be acceptable to issue <code>LockModeType.PESSIMISTIC_READ</code> which for some DBs translates into <code>select ... from ... for share/lock in share mode</code>, which in turn blocks only <code>writer</code> and blocks (or fails) <code>current reader</code>, so you will avoid the phenomenon we are talking about.</p>\n<p>The long story:</p>\n<p>When we have started thinking about some &quot;business consistency&quot; the JPA specification is not our friend anymore, the problem is they define consistency in terms of &quot;denied phenomena&quot; and &quot;someone must fail&quot;, but does not give us any clues and APIs how to control the behaviour in the correct way from business perspective. Let's consider the following example:</p>\n<pre><code>class User {\n  @Id\n  long id;\n  @Version\n  long version;\n  boolean locked;\n  int failedAuthAttempts;\n}\n</code></pre>\n<p>our goal is to lock user account when failedAuthAttempts exceeds some threshold value. The pure SQL solution for our problem is very simple and straightforward:</p>\n<pre><code>update user\n  set failed_auth_attempts = failed_auth_attempts + 1,\n  locked = case failed_auth_attempts + 1 &gt;= :threshold_value then 1 else 0 end\nwhere id = :user_id\n</code></pre>\n<p>but JPA complicates everything... at first glance our naive implementation should look like:</p>\n<pre><code>void onAuthFailure(long userId) {\n  User user = em.find(User.class, userId);\n  int failedAuthAttempts = user.failedAuthAttempts + 1;\n  user.failedAuthAttempts = failedAuthAttempts;\n  if (failedAuthAttempts &gt;= thresholdValue) {\n    user.locked = true;\n  }\n  em.save(user);\n}\n</code></pre>\n<p>but that implementation has obvious flaw: if someone actively bruteforces user account not all failed auth attempts get recorded due to concurrency (here I'm not paying attention that it might be acceptable because sooner or later we will lock user account). How to resolve such issue? May we write something like:</p>\n<pre><code>void onAuthFailure(long userId) {\n  User user = em.find(User.class, userId, LockModeType.PESSIMISTIC_WRITE);\n  int failedAuthAttempts = user.failedAuthAttempts + 1;\n  user.failedAuthAttempts = failedAuthAttempts;\n  if (failedAuthAttempts &gt;= thresholdValue) {\n    user.locked = true;\n  }\n  em.save(user);\n}\n</code></pre>\n<p>? Actually no. The problem is for entities which are not present in persistence context (i.e. &quot;unknown entities&quot;) hibernate issues <code>select ... from ... where id=:id for update</code>, but for known entities it issues <code>select ... from ... where id=:id and version=:version for update</code> and obviously fails due to version mismatch. So we have following tricky options to make our code to work &quot;correctly&quot;:</p>\n<ul>\n<li>spawn another transaction (I believe in most cases it is not a good option)</li>\n<li>lock entity via select query, i.e. smth. like <code>em.createQuery(&quot;select id from user where id=:id&quot;).setLockMode(LockModeType.PESSIMISTIC_WRITE).getFirstResult()</code> (I believe that may not work in RR mode, moreover following refresh call looses data)</li>\n<li>mark properties as non-updatable and update them via JPQL update (pure SQL solution)</li>\n</ul>\n<p>Now let's pretend we need to add another business data into our User entity, say &quot;SO reputation&quot;, how are we supposed to update new field keeping in mind that someone might bruteforce our user? The options are following:</p>\n<ul>\n<li>continue to write &quot;tricky code&quot; (actually that might lead us to the counterintuitive idea that we always need to lock entity before updating it)</li>\n<li>split data from different domains across different entities (sounds counterintuitive too)</li>\n<li>use mixed techniques</li>\n</ul>\n<p>I do believe this UPD will not help you much, however it's purpose was to demonstrate that it does not worth to discuss consistency in JPA domain without knowledge about target model.</p>\n"}],"owner":{"account_id":22488356,"reputation":93,"user_id":16686416,"display_name":"Curry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70239710,"answer_count":2,"score":2,"last_activity_date":1638768865,"creation_date":1638503816,"question_id":70209372,"body_markdown":"I am trying to learn JPA with hibernate and use MySQL as the db. \r\n\r\nFrom my understanding,\r\n&gt; LockModeType.OPTIMISTIC: The entity version is checked towards the end\r\n&gt; of the currently running transaction.\r\n&gt; \r\n&gt; REPEATABLE READ: All consistent reads within the same transaction read\r\n&gt; the snapshot established by the first such read in that transaction\r\n\r\nIs it true that LockModeType.OPTIMISTIC in hibernate does not work with MySQL&#39;s default isolation level?\r\n\r\nSay I have the following code:\r\n``` lang-java\r\ntx.begin();\r\nEntityManager em = JPA.createEntityManager();\r\nItem item = em.find(Item.class, 1, LockModeType.OPTIMISTIC);\r\n// Assume the item here has version = 0\r\n// Read the item fields etc, during that another transaction commits and made item version increased to version = 1\r\ntx.commit(); // Here Hibernate should execute SELECT during flushing to check version,\r\n// i.e SELECT version FROM Item WHERE id = 1 \r\nem.close();\r\n```\r\nWhat I would expect is that, during flushing, Hibernate would throw OptimisticLockException because the version of the item is no longer 0. However, due to the isolation level, in the same transaction Hibernate would still see the item in version = 0 and not triggering OptimisitcLockExcpetion. \r\n\r\nI tried to search but seems no one raised such question before, hopefully someone can help clear my confusion on OptimisticLock. ","title":"LockModeType.OPTIMISTIC and Mysql&#39;s default isolation level REPEATABLE READ don&#39;t work together?","body":"<p>I am trying to learn JPA with hibernate and use MySQL as the db.</p>\n<p>From my understanding,</p>\n<blockquote>\n<p>LockModeType.OPTIMISTIC: The entity version is checked towards the end\nof the currently running transaction.</p>\n<p>REPEATABLE READ: All consistent reads within the same transaction read\nthe snapshot established by the first such read in that transaction</p>\n</blockquote>\n<p>Is it true that LockModeType.OPTIMISTIC in hibernate does not work with MySQL's default isolation level?</p>\n<p>Say I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>tx.begin();\nEntityManager em = JPA.createEntityManager();\nItem item = em.find(Item.class, 1, LockModeType.OPTIMISTIC);\n// Assume the item here has version = 0\n// Read the item fields etc, during that another transaction commits and made item version increased to version = 1\ntx.commit(); // Here Hibernate should execute SELECT during flushing to check version,\n// i.e SELECT version FROM Item WHERE id = 1 \nem.close();\n</code></pre>\n<p>What I would expect is that, during flushing, Hibernate would throw OptimisticLockException because the version of the item is no longer 0. However, due to the isolation level, in the same transaction Hibernate would still see the item in version = 0 and not triggering OptimisitcLockExcpetion.</p>\n<p>I tried to search but seems no one raised such question before, hopefully someone can help clear my confusion on OptimisticLock.</p>\n"},{"tags":["java","spring-boot","maven","maven-2"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638477955,"post_id":70205375,"comment_id":124106060,"body_markdown":"Really using Maven 3.0.5 ? Using 8+ year old software ...Also asking why do you like to use a variable the version here?","body":"Really using Maven 3.0.5 ? Using 8+ year old software ...Also asking why do you like to use a variable the version here?"},{"owner":{"account_id":20542922,"reputation":71,"user_id":15077461,"display_name":"Thejus A P"},"score":0,"creation_date":1638526459,"post_id":70205375,"comment_id":124117402,"body_markdown":"Even it&#39;s not working with 3.8.1, I have tried that one also while doing a local build.","body":"Even it&#39;s not working with 3.8.1, I have tried that one also while doing a local build."},{"owner":{"account_id":20542922,"reputation":71,"user_id":15077461,"display_name":"Thejus A P"},"score":0,"creation_date":1638527636,"post_id":70205375,"comment_id":124117881,"body_markdown":"for 3.8.1 also am getting the same error here","body":"for 3.8.1 also am getting the same error here"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638547522,"post_id":70205375,"comment_id":124125775,"body_markdown":"Simple answer to that is: Not possible. My questions keeps: What do you like to do that? What is the problem you are trying to solve?","body":"Simple answer to that is: Not possible. My questions keeps: What do you like to do that? What is the problem you are trying to solve?"},{"owner":{"account_id":20542922,"reputation":71,"user_id":15077461,"display_name":"Thejus A P"},"score":0,"creation_date":1638548726,"post_id":70205375,"comment_id":124126296,"body_markdown":"I need to store all the dependencies as variables in a file, so that, it&#39;s easy to change with respect to each version updated, so that, we need to change only 1 file, not the whole pom files.\n\nHence all the versions are added in the var.env file and are substituted in the pom.xml so that, if any change is there, we need to change only the var.env.","body":"I need to store all the dependencies as variables in a file, so that, it&#39;s easy to change with respect to each version updated, so that, we need to change only 1 file, not the whole pom files.  Hence all the versions are added in the var.env file and are substituted in the pom.xml so that, if any change is there, we need to change only the var.env."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638561750,"post_id":70205375,"comment_id":124130646,"body_markdown":"The dependencies are defined in pom.xml including their appropriate versions why do you like to have a separate supplemental file? Just change the version in pom.xml that&#39;s it... If you are changing the whole pom.xml just to change the version or adding/removing a dependency than this sounds like you are doing something wrong... Please show a full example what exactly is happening ?...\nIf we have only the versions in that supplemental file I don&#39;t see any advantage of that supplemental file...just use the pom file...that&#39;s it...","body":"The dependencies are defined in pom.xml including their appropriate versions why do you like to have a separate supplemental file? Just change the version in pom.xml that&#39;s it... If you are changing the whole pom.xml just to change the version or adding/removing a dependency than this sounds like you are doing something wrong... Please show a full example what exactly is happening ?... If we have only the versions in that supplemental file I don&#39;t see any advantage of that supplemental file...just use the pom file...that&#39;s it..."}],"answers":[{"tags":[],"owner":{"account_id":182885,"reputation":121,"user_id":417905,"display_name":"Matt Vickery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638490202,"creation_date":1638490202,"answer_id":70208004,"question_id":70205375,"body_markdown":"To clarify, you are setting the value for the substitution variable:\n\n&gt; SPRINGBOOTVERSION\n\nIn your environment somehow, I.e. as an environment variable in the shell that runs your command, and it’s not working?\n\n","title":"Error throwing while substituting variable for version in pom.xml","body":"<p>To clarify, you are setting the value for the substitution variable:</p>\n<blockquote>\n<p>SPRINGBOOTVERSION</p>\n</blockquote>\n<p>In your environment somehow, I.e. as an environment variable in the shell that runs your command, and it’s not working?</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638768649,"creation_date":1638492059,"answer_id":70208149,"question_id":70205375,"body_markdown":"IMO, maven will never ever support the behaviour you desire, the reason for that is when you are doing `mvn install` or `mvn deploy` maven deploys artifacts along with pom files into local or remote repository, but the information about your build environment (i.e. `${env.SPRINGBOOTVERSION}`) is stored nowhere, so, it is not a bug or lack of feature - maven just prevents storing invalid pom files in maven repository.","title":"Error throwing while substituting variable for version in pom.xml","body":"<p>IMO, maven will never ever support the behaviour you desire, the reason for that is when you are doing <code>mvn install</code> or <code>mvn deploy</code> maven deploys artifacts along with pom files into local or remote repository, but the information about your build environment (i.e. <code>${env.SPRINGBOOTVERSION}</code>) is stored nowhere, so, it is not a bug or lack of feature - maven just prevents storing invalid pom files in maven repository.</p>\n"}],"owner":{"account_id":20542922,"reputation":71,"user_id":15077461,"display_name":"Thejus A P"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638768649,"creation_date":1638473201,"question_id":70205375,"body_markdown":"I am getting an error while am substituting variables for the versions in the parent block in the pom.xml file.\r\n\r\nFor the properties tab, it&#39;s working fine, but when am changing the version to a variable that is being exported before &#39;**mvn clean install**&#39; in the parent block, the build is getting failed.\r\n\r\nThe error is shown below.\r\n\r\n*&quot;Caused by: org.sonatype.aether.transfer.ArtifactTransferException: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:${env.SPRINGBOOTVERSION} from/to abc-repos (https://continuousintegration.abc.com/artifactory/abc-repos): Illegal character in path at index 122: https://continuousintegration.abc.com/artifactory/abc-repos/org/springframework/boot/spring-boot-starter-parent/${env.SPRINGBOOTVERSION}/spring-boot-starter-parent-${env.SPRINGBOOTVERSION}.pom&quot;*\r\n\r\n\r\n**Here the variables are not replaced for parent pom before the pom.xml gets resolved.**\r\n\r\n\r\n--------------------------------------------\r\n\r\nBelow is the code block of pom.xml which was substituted.\r\n\r\n```\r\n&lt;parent&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;version&gt;${env.SPRINGBOOTVERSION}&lt;/version&gt; ---------&gt; replaced version by variable\r\n        &lt;relativePath /&gt;\r\n    &lt;/parent&gt;\r\n\r\n```\r\n\r\n**The maven version here is 3.0.5 --- (Tried with 3.8.1 also for local build)**\r\n\r\nAny solution to this will be helpful.  \r\n\r\n\r\n**FYI :** \r\n\r\n*The variables are stored in a file in the below format.*\r\n \r\n ---&gt; export SPRINGBOOTVERSION=1.2.3\r\n\r\n*and then sourced to the shell by using the source command.*\r\n\r\n\r\n&gt; Also, the variables given in the properties block in the pom.xml are\r\n&gt; accepted by the maven, and it&#39;s working also. Only have a problem with\r\n&gt; the parent block here.\r\n\r\n","title":"Error throwing while substituting variable for version in pom.xml","body":"<p>I am getting an error while am substituting variables for the versions in the parent block in the pom.xml file.</p>\n<p>For the properties tab, it's working fine, but when am changing the version to a variable that is being exported before '<strong>mvn clean install</strong>' in the parent block, the build is getting failed.</p>\n<p>The error is shown below.</p>\n<p><em>&quot;Caused by: org.sonatype.aether.transfer.ArtifactTransferException: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:${env.SPRINGBOOTVERSION} from/to abc-repos (<a href=\"https://continuousintegration.abc.com/artifactory/abc-repos\" rel=\"nofollow noreferrer\">https://continuousintegration.abc.com/artifactory/abc-repos</a>): Illegal character in path at index 122: <a href=\"https://continuousintegration.abc.com/artifactory/abc-repos/org/springframework/boot/spring-boot-starter-parent/$%7Benv.SPRINGBOOTVERSION%7D/spring-boot-starter-parent-$%7Benv.SPRINGBOOTVERSION%7D.pom%22\" rel=\"nofollow noreferrer\">https://continuousintegration.abc.com/artifactory/abc-repos/org/springframework/boot/spring-boot-starter-parent/${env.SPRINGBOOTVERSION}/spring-boot-starter-parent-${env.SPRINGBOOTVERSION}.pom&quot;</a></em></p>\n<p><strong>Here the variables are not replaced for parent pom before the pom.xml gets resolved.</strong></p>\n<hr />\n<p>Below is the code block of pom.xml which was substituted.</p>\n<pre><code>&lt;parent&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;version&gt;${env.SPRINGBOOTVERSION}&lt;/version&gt; ---------&gt; replaced version by variable\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n</code></pre>\n<p><strong>The maven version here is 3.0.5 --- (Tried with 3.8.1 also for local build)</strong></p>\n<p>Any solution to this will be helpful.</p>\n<p><strong>FYI :</strong></p>\n<p><em>The variables are stored in a file in the below format.</em></p>\n<p>---&gt; export SPRINGBOOTVERSION=1.2.3</p>\n<p><em>and then sourced to the shell by using the source command.</em></p>\n<blockquote>\n<p>Also, the variables given in the properties block in the pom.xml are\naccepted by the maven, and it's working also. Only have a problem with\nthe parent block here.</p>\n</blockquote>\n"},{"tags":["java","security","encryption"],"comments":[{"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"score":3,"creation_date":1288899101,"post_id":4100445,"comment_id":4413033,"body_markdown":"Just out of curiosity - why would you want to hide an IP address you are connecting to? After all users could just look at the trafic on their wireless network to see where your app is connecting.","body":"Just out of curiosity - why would you want to hide an IP address you are connecting to? After all users could just look at the trafic on their wireless network to see where your app is connecting."}],"answers":[{"tags":[],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288898850,"creation_date":1288898850,"answer_id":4100465,"question_id":4100445,"body_markdown":"I can answer to your straight question about encryption algorithm: AES\r\n\r\nJava has classes for that!\r\n\r\n&lt;small&gt;But I still have my doubts about the robustness of you solution&lt;/small&gt;","title":"Encryption of IP address","body":"<p>I can answer to your straight question about encryption algorithm: AES</p>\n\n<p>Java has classes for that!</p>\n\n<p>But I still have my doubts about the robustness of you solution</p>\n"},{"tags":[],"owner":{"account_id":231911,"reputation":10677,"user_id":496405,"accept_rate":100,"display_name":"g19fanatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288898999,"creation_date":1288898999,"answer_id":4100487,"question_id":4100445,"body_markdown":"I&#39;d personally use [AES][1].\r\n\r\nSome more resources:\r\n\r\nhttp://java.sun.com/developer/technicalArticles/Security/AES/AES_v1.html\r\n\r\nhttps://stackoverflow.com/questions/992019/java-256bit-aes-encryption\r\n\r\nhttp://www.aescrypt.com/java_aes_crypt.html\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Advanced_Encryption_Standard","title":"Encryption of IP address","body":"<p>I'd personally use <a href=\"http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\" rel=\"nofollow noreferrer\">AES</a>.</p>\n\n<p>Some more resources:</p>\n\n<p><a href=\"http://java.sun.com/developer/technicalArticles/Security/AES/AES_v1.html\" rel=\"nofollow noreferrer\">http://java.sun.com/developer/technicalArticles/Security/AES/AES_v1.html</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/992019/java-256bit-aes-encryption\">Java 256-bit AES Password-Based Encryption</a></p>\n\n<p><a href=\"http://www.aescrypt.com/java_aes_crypt.html\" rel=\"nofollow noreferrer\">http://www.aescrypt.com/java_aes_crypt.html</a></p>\n"},{"tags":[],"owner":{"account_id":79989,"reputation":14208,"user_id":226476,"accept_rate":71,"display_name":"Adam Crossland"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1288899248,"creation_date":1288899248,"answer_id":4100523,"question_id":4100445,"body_markdown":"As other answers have already indicated, AES is your best bet for this problem. However, as is always the case with encryption, the real problem is not which algorithm to choose; it is [how to keep your key a secret][1]. If it is simply a string in your source code, it would take very little work for someone to figure that key out and use it to decrypt your file.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Key_management","title":"Encryption of IP address","body":"<p>As other answers have already indicated, AES is your best bet for this problem. However, as is always the case with encryption, the real problem is not which algorithm to choose; it is <a href=\"http://en.wikipedia.org/wiki/Key_management\" rel=\"nofollow\">how to keep your key a secret</a>. If it is simply a string in your source code, it would take very little work for someone to figure that key out and use it to decrypt your file.</p>\n"},{"tags":[],"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288899260,"creation_date":1288899260,"answer_id":4100526,"question_id":4100445,"body_markdown":"I strongly recommend using the [BouncyCastle][1] library for Java. It&#39;s a lot cleaner than the built-in crypto stuff in Java and significantly easier to understand. Instead of mucking around with passing names of algorithms to methods and seeing if you actually get a cipher back you can just use `new`. Much easier.\r\n\r\n\r\n  [1]: http://www.bouncycastle.org/java.html","title":"Encryption of IP address","body":"<p>I strongly recommend using the <a href=\"http://www.bouncycastle.org/java.html\" rel=\"nofollow\">BouncyCastle</a> library for Java. It's a lot cleaner than the built-in crypto stuff in Java and significantly easier to understand. Instead of mucking around with passing names of algorithms to methods and seeing if you actually get a cipher back you can just use <code>new</code>. Much easier.</p>\n"},{"tags":[],"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1289074540,"creation_date":1288899391,"answer_id":4100540,"question_id":4100445,"body_markdown":"You mentioned you have a few solutions, why not mention them.  \r\n\r\nAlso, this is a very general question, are you looking for a symmetric algorithm or prefer public/private key, or something that uses both? \r\n\r\nIf you are looking at keeping the key on the server, since IP addresses are small (is this for IPv6, [http://en.wikipedia.org/wiki/IPv6][1]) then RSA would be a good choice, as you can then keep the public key on the server but no one can create a new key without the private key.\r\n\r\nHow will you be using the data? If you are going to decrypt all of them then just keep them in one file, zip it, then encrypt the entire file.\r\n\r\nMore details would help to narrow this down, as there are a large number of solutions.\r\n\r\nBut for libraries, in Java, I like BouncyCastle ([http://bouncycastle.org/][2]) as they give a large selection and works well if you need to exchange keys with .NET.\r\n\r\n**UPDATE:**\r\n\r\nBased on the latest update to the question the biggest concern is how to exchange the encryption key.\r\n\r\nSince this is being sent to a client, your best bet may be to use something like RSA to help with this.  The client would have a private key, and the server would have the public key of each client, so that if one is compromised the entire system isn&#39;t.  Then, the server generates a symmetric key (AES is fine, I like IDEA), and encrypts that key.  Then, you transmit both pieces to the client, the client then decrypts the symmetric key and then the IP address.\r\n\r\nThis idea was made popular by PGP.\r\n\r\nYou may want to use BouncyCastle, as I mentioned, so that if your client is written in .NET or Java you can still do the key exchange, since it has APIs for both platforms.\r\n\r\nHow you get the key to the server, from the client, or vice versa, depends on many factors, but that will be the weak link in this whole system, and so that part needs to be designed carefully.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/IPv6\r\n  [2]: http://bouncycastle.org/","title":"Encryption of IP address","body":"<p>You mentioned you have a few solutions, why not mention them.  </p>\n\n<p>Also, this is a very general question, are you looking for a symmetric algorithm or prefer public/private key, or something that uses both? </p>\n\n<p>If you are looking at keeping the key on the server, since IP addresses are small (is this for IPv6, <a href=\"http://en.wikipedia.org/wiki/IPv6\" rel=\"nofollow\">http://en.wikipedia.org/wiki/IPv6</a>) then RSA would be a good choice, as you can then keep the public key on the server but no one can create a new key without the private key.</p>\n\n<p>How will you be using the data? If you are going to decrypt all of them then just keep them in one file, zip it, then encrypt the entire file.</p>\n\n<p>More details would help to narrow this down, as there are a large number of solutions.</p>\n\n<p>But for libraries, in Java, I like BouncyCastle (<a href=\"http://bouncycastle.org/\" rel=\"nofollow\">http://bouncycastle.org/</a>) as they give a large selection and works well if you need to exchange keys with .NET.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Based on the latest update to the question the biggest concern is how to exchange the encryption key.</p>\n\n<p>Since this is being sent to a client, your best bet may be to use something like RSA to help with this.  The client would have a private key, and the server would have the public key of each client, so that if one is compromised the entire system isn't.  Then, the server generates a symmetric key (AES is fine, I like IDEA), and encrypts that key.  Then, you transmit both pieces to the client, the client then decrypts the symmetric key and then the IP address.</p>\n\n<p>This idea was made popular by PGP.</p>\n\n<p>You may want to use BouncyCastle, as I mentioned, so that if your client is written in .NET or Java you can still do the key exchange, since it has APIs for both platforms.</p>\n\n<p>How you get the key to the server, from the client, or vice versa, depends on many factors, but that will be the weak link in this whole system, and so that part needs to be designed carefully.</p>\n"},{"tags":[],"owner":{"account_id":170199,"reputation":7167,"user_id":396747,"accept_rate":100,"display_name":"Gary"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1288901842,"creation_date":1288901842,"answer_id":4100934,"question_id":4100445,"body_markdown":"Assuming that you want arbitrary encryption on the client then you have a serious key management problem. It is pretty trivial to reverse engineer client code to obtain an embedded encryption key. And you need to consider what you&#39;d do if that key is compromised and splattered all over the internet. Once it&#39;s embedded in your code then it&#39;s out of your hands ([see CSS and deCSS][1] for more fun reading on that subject). \r\n\r\nSo, a better solution is to have the server do the encryption and decryption and the client to just send up a bunch of bytes that it&#39;s stored locally. \r\n\r\nNow, what&#39;s a good way of encrypting stuff on the server in an easy to maintain manner? I&#39;m talking about key management; ease of use; strength of encryption; easy Ant/Maven targets/goals to manage the generation of said server side keys and so on. One framework that works really well for me is [KeyCzar by Google][2]. Simple API and external management is a piece of cake. Take a look.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/DeCSS\r\n  [2]: http://www.keyczar.org/","title":"Encryption of IP address","body":"<p>Assuming that you want arbitrary encryption on the client then you have a serious key management problem. It is pretty trivial to reverse engineer client code to obtain an embedded encryption key. And you need to consider what you'd do if that key is compromised and splattered all over the internet. Once it's embedded in your code then it's out of your hands (<a href=\"http://en.wikipedia.org/wiki/DeCSS\" rel=\"nofollow\">see CSS and deCSS</a> for more fun reading on that subject). </p>\n\n<p>So, a better solution is to have the server do the encryption and decryption and the client to just send up a bunch of bytes that it's stored locally. </p>\n\n<p>Now, what's a good way of encrypting stuff on the server in an easy to maintain manner? I'm talking about key management; ease of use; strength of encryption; easy Ant/Maven targets/goals to manage the generation of said server side keys and so on. One framework that works really well for me is <a href=\"http://www.keyczar.org/\" rel=\"nofollow\">KeyCzar by Google</a>. Simple API and external management is a piece of cake. Take a look.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1289085248,"creation_date":1289085248,"answer_id":4115669,"question_id":4100445,"body_markdown":"As commented elsewhere, it is pointless. The information is available by other means so encrypting it via this channel is a compete waste of time. Netstat is yet another way the address can be detected.","title":"Encryption of IP address","body":"<p>As commented elsewhere, it is pointless. The information is available by other means so encrypting it via this channel is a compete waste of time. Netstat is yet another way the address can be detected.</p>\n"},{"tags":[],"owner":{"account_id":3190205,"reputation":314,"user_id":2694720,"accept_rate":86,"display_name":"WiiLF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638768574,"creation_date":1638768574,"answer_id":70241239,"question_id":4100445,"body_markdown":"Is there no way to route the TCP traffic through a proxy IP and &quot;obfuscate&quot; the IP that way? \r\n\r\nI don&#39;t see the issue there unless the said provider of the proxy blocks the required ports according to projects needs. It&#39;s too bad Cloudflare wont allow anything except HTTP/S requests through their service unless you get on Enterprise, otherwise there is your solution in a blink. ","title":"Encryption of IP address","body":"<p>Is there no way to route the TCP traffic through a proxy IP and &quot;obfuscate&quot; the IP that way?</p>\n<p>I don't see the issue there unless the said provider of the proxy blocks the required ports according to projects needs. It's too bad Cloudflare wont allow anything except HTTP/S requests through their service unless you get on Enterprise, otherwise there is your solution in a blink.</p>\n"}],"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3023,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":8,"score":2,"last_activity_date":1638768574,"creation_date":1288898709,"question_id":4100445,"body_markdown":"I need to encrypt an IP address, save it to file, and then be able to retrieve it later. I was wondering if anyone could suggest a good way to do this. Just the name of some encryption algorithms would be fine or links to resources.\r\n\r\nIve done my research and have come up with a few solutions. Just wanted to make sure there wasnt something I missed. If it helps at all, the application is written in java. We do use JNI for some native functions, but would prefer to stay away from JNI.\r\n\r\nThanks\r\n\r\nEDIT:\r\n\r\nIts a client/server model. The server will send the encrypted ip address to the client. The client will decrypt it, and then connect to that address.The data will be just a string. Its IPv4.","title":"Encryption of IP address","body":"<p>I need to encrypt an IP address, save it to file, and then be able to retrieve it later. I was wondering if anyone could suggest a good way to do this. Just the name of some encryption algorithms would be fine or links to resources.</p>\n\n<p>Ive done my research and have come up with a few solutions. Just wanted to make sure there wasnt something I missed. If it helps at all, the application is written in java. We do use JNI for some native functions, but would prefer to stay away from JNI.</p>\n\n<p>Thanks</p>\n\n<p>EDIT:</p>\n\n<p>Its a client/server model. The server will send the encrypted ip address to the client. The client will decrypt it, and then connect to that address.The data will be just a string. Its IPv4.</p>\n"},{"tags":["java","list","collections","duplicates"],"comments":[{"owner":{"display_name":"user177800"},"score":9,"creation_date":1274104481,"post_id":2849450,"comment_id":2892609,"body_markdown":"you should not write code like this in Java, just like you should not write your own sorting routines in Java. If it has the ability to do this built in through something like Set, use that.","body":"you should not write code like this in Java, just like you should not write your own sorting routines in Java. If it has the ability to do this built in through something like Set, use that."}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1274106198,"creation_date":1274103678,"answer_id":2849486,"question_id":2849450,"body_markdown":"I suspect you might not have `Customer.equals()` implemented properly (or at all).\r\n\r\n`List.contains()` uses `equals()` to verify whether any of its elements is identical to the object passed as parameter. However, the default implementation of `equals` tests for physical identity, not value identity. So if you have not overwritten it in `Customer`, it will return false for two distinct Customer objects having identical state.\r\n\r\nHere are the nitty-gritty details of [how to implement `equals`][1] (and [`hashCode`][2], which is its pair - you must practically always implement both if you need to implement either of them). Since you haven&#39;t shown us the Customer class, it is difficult to give more concrete advice.\r\n\r\nAs others have noted, you are better off using a Set rather than doing the job by hand, but even for that, you still need to implement those methods.\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=17\r\n  [2]: http://www.javapractices.com/topic/TopicAction.do?Id=28","title":"How to remove duplicates from a list?","body":"<p>I suspect you might not have <code>Customer.equals()</code> implemented properly (or at all).</p>\n\n<p><code>List.contains()</code> uses <code>equals()</code> to verify whether any of its elements is identical to the object passed as parameter. However, the default implementation of <code>equals</code> tests for physical identity, not value identity. So if you have not overwritten it in <code>Customer</code>, it will return false for two distinct Customer objects having identical state.</p>\n\n<p>Here are the nitty-gritty details of <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=17\" rel=\"noreferrer\">how to implement <code>equals</code></a> (and <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=28\" rel=\"noreferrer\"><code>hashCode</code></a>, which is its pair - you must practically always implement both if you need to implement either of them). Since you haven't shown us the Customer class, it is difficult to give more concrete advice.</p>\n\n<p>As others have noted, you are better off using a Set rather than doing the job by hand, but even for that, you still need to implement those methods.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1638768043,"creation_date":1274103789,"answer_id":2849498,"question_id":2849450,"body_markdown":"If the code in your question doesn&#39;t work, you probably have not implemented `equals(Object)` on the `Customer` class appropriately.\r\n\r\nPresumably there is some key (let us call it `customerId`) that uniquely identifies a customer; e.g.\r\n\r\n    class Customer {\r\n        private String customerId;\r\n        ...\r\n\r\nAn appropriate definition of `equals(Object)` would look like this:\r\n\r\n        public boolean equals(Object obj) {\r\n            if (obj == this) {\r\n                return true;\r\n            }\r\n            if (!(obj instanceof Customer)) {\r\n                return false;\r\n            }\r\n            Customer other = (Customer) obj;\r\n            return this.customerId.equals(other.customerId);\r\n        }\r\n\r\nFor completeness, you *should* also implement `hashCode` so that two `Customer` objects that are equal will return the same hash value.  A matching `hashCode` for the above definition of `equals` would be:\r\n\r\n        public int hashCode() {\r\n            return customerId.hashCode();\r\n        }\r\n\r\nIt is also worth noting that this is not an efficient way to remove duplicates if the list is large.  (For a list with N customers, you will need to perform `N*(N-1)/2` comparisons in the worst case; i.e. when there are no duplicates.)  For a more efficient solution you could use a `HashSet` to do the duplicate checking.  Another option would be to use a `LinkedHashSet` as explained in Tom Hawtin&#39;s [answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5101589/139985","title":"How to remove duplicates from a list?","body":"<p>If the code in your question doesn't work, you probably have not implemented <code>equals(Object)</code> on the <code>Customer</code> class appropriately.</p>\n<p>Presumably there is some key (let us call it <code>customerId</code>) that uniquely identifies a customer; e.g.</p>\n<pre><code>class Customer {\n    private String customerId;\n    ...\n</code></pre>\n<p>An appropriate definition of <code>equals(Object)</code> would look like this:</p>\n<pre><code>    public boolean equals(Object obj) {\n        if (obj == this) {\n            return true;\n        }\n        if (!(obj instanceof Customer)) {\n            return false;\n        }\n        Customer other = (Customer) obj;\n        return this.customerId.equals(other.customerId);\n    }\n</code></pre>\n<p>For completeness, you <em>should</em> also implement <code>hashCode</code> so that two <code>Customer</code> objects that are equal will return the same hash value.  A matching <code>hashCode</code> for the above definition of <code>equals</code> would be:</p>\n<pre><code>    public int hashCode() {\n        return customerId.hashCode();\n    }\n</code></pre>\n<p>It is also worth noting that this is not an efficient way to remove duplicates if the list is large.  (For a list with N customers, you will need to perform <code>N*(N-1)/2</code> comparisons in the worst case; i.e. when there are no duplicates.)  For a more efficient solution you could use a <code>HashSet</code> to do the duplicate checking.  Another option would be to use a <code>LinkedHashSet</code> as explained in Tom Hawtin's <a href=\"https://stackoverflow.com/a/5101589/139985\">answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":54608,"reputation":8378,"user_id":163423,"accept_rate":95,"display_name":"George"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1422430417,"creation_date":1274103817,"answer_id":2849505,"question_id":2849450,"body_markdown":"# List → Set → List (distinct)\r\n\r\nJust add all your elements to a [`Set`][1]: it does not allow it&#39;s elements to be repeated. If you need a list afterwards, use new `ArrayList(theSet)` constructor afterwards (where `theSet` is your resulting set).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Set.html","title":"How to remove duplicates from a list?","body":"<h1>List → Set → List (distinct)</h1>\n\n<p>Just add all your elements to a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"noreferrer\"><code>Set</code></a>: it does not allow it's elements to be repeated. If you need a list afterwards, use new <code>ArrayList(theSet)</code> constructor afterwards (where <code>theSet</code> is your resulting set).</p>\n"},{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1472921648,"creation_date":1274103837,"answer_id":2849509,"question_id":2849450,"body_markdown":"The correct answer for Java is use a [Set][1]. If you already have a `List&lt;Customer&gt;` and want to de duplicate it\r\n\r\n    Set&lt;Customer&gt; s = new HashSet&lt;Customer&gt;(listCustomer);\r\n\r\nOtherise just use a `Set` implemenation `HashSet`, `TreeSet` directly and skip the `List` construction phase.\r\n\r\nYou will need to override [`hashCode()` and `equals()`][2] on your domain classes that are put in the `Set` as well to make sure that the behavior you want actually what you get. `equals()` can be as simple as comparing unique ids of the objects to as complex as comparing every field. `hashCode()` can be as simple as returning the `hashCode()` of the unique id&#39; `String` representation or the `hashCode()`.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Set.html\r\n  [2]: http://www.ibm.com/developerworks/java/library/j-jtp05273.html","title":"How to remove duplicates from a list?","body":"<p>The correct answer for Java is use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">Set</a>. If you already have a <code>List&lt;Customer&gt;</code> and want to de duplicate it</p>\n\n<pre><code>Set&lt;Customer&gt; s = new HashSet&lt;Customer&gt;(listCustomer);\n</code></pre>\n\n<p>Otherise just use a <code>Set</code> implemenation <code>HashSet</code>, <code>TreeSet</code> directly and skip the <code>List</code> construction phase.</p>\n\n<p>You will need to override <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp05273.html\" rel=\"nofollow noreferrer\"><code>hashCode()</code> and <code>equals()</code></a> on your domain classes that are put in the <code>Set</code> as well to make sure that the behavior you want actually what you get. <code>equals()</code> can be as simple as comparing unique ids of the objects to as complex as comparing every field. <code>hashCode()</code> can be as simple as returning the <code>hashCode()</code> of the unique id' <code>String</code> representation or the <code>hashCode()</code>.</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1274103919,"creation_date":1274103919,"answer_id":2849519,"question_id":2849450,"body_markdown":"As others have mentioned, you are probably not implementing equals() correctly.\r\n\r\nHowever, you should also note that this code is considered quite inefficient, since the runtime could be the number of elements squared.\r\n\r\nYou might want to consider using a Set structure instead of a List instead, or building a Set first and then turning it into a list.","title":"How to remove duplicates from a list?","body":"<p>As others have mentioned, you are probably not implementing equals() correctly.</p>\n\n<p>However, you should also note that this code is considered quite inefficient, since the runtime could be the number of elements squared.</p>\n\n<p>You might want to consider using a Set structure instead of a List instead, or building a Set first and then turning it into a list.</p>\n"},{"tags":[],"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1274103973,"creation_date":1274103973,"answer_id":2849528,"question_id":2849450,"body_markdown":"Two suggestions:\r\n\r\n - Use a HashSet instead of an ArrayList. This will speed up the contains() checks considerably if you have a long list\r\n\r\n - Make sure Customer.equals() and Customer.hashCode() are implemented properly, i.e. they should be based on the combined values of the underlying fields in the customer object.","title":"How to remove duplicates from a list?","body":"<p>Two suggestions:</p>\n\n<ul>\n<li><p>Use a HashSet instead of an ArrayList. This will speed up the contains() checks considerably if you have a long list</p></li>\n<li><p>Make sure Customer.equals() and Customer.hashCode() are implemented properly, i.e. they should be based on the combined values of the underlying fields in the customer object.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1274105014,"creation_date":1274104208,"answer_id":2849559,"question_id":2849450,"body_markdown":"The &quot;contains&quot; method searched for whether the list contains an entry that returns true from Customer.equals(Object o). If you have not overridden equals(Object) in Customer or one of its parents then it will only search for an existing occurrence of the same object. It may be this was what you wanted, in which case your code should work. But if you were looking for not having two objects both representing the same customer, then you need to override equals(Object) to return true when that is the case. \r\n\r\nIt is also true that using one of the implementations of Set instead of List would give you duplicate removal automatically, and faster (for anything other than very small Lists). You will still need to provide code for equals.\r\n\r\nYou should also override hashCode() when you override equals().","title":"How to remove duplicates from a list?","body":"<p>The \"contains\" method searched for whether the list contains an entry that returns true from Customer.equals(Object o). If you have not overridden equals(Object) in Customer or one of its parents then it will only search for an existing occurrence of the same object. It may be this was what you wanted, in which case your code should work. But if you were looking for not having two objects both representing the same customer, then you need to override equals(Object) to return true when that is the case. </p>\n\n<p>It is also true that using one of the implementations of Set instead of List would give you duplicate removal automatically, and faster (for anything other than very small Lists). You will still need to provide code for equals.</p>\n\n<p>You should also override hashCode() when you override equals().</p>\n"},{"tags":[],"owner":{"account_id":75579,"reputation":759,"user_id":216742,"display_name":"Scott Fines"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1274104284,"creation_date":1274104284,"answer_id":2849570,"question_id":2849450,"body_markdown":"Does Customer implement the `equals()` contract? \r\n\r\nIf it doesn&#39;t implement `equals()` and `hashCode()`, then `listCustomer.contains(customer)` will check to see if the exact same *instance* already exists in the list (By instance I mean the exact same object--memory address, etc). If what you are looking for is to test whether or not the same *Customer*( perhaps it&#39;s the same customer if they have the same customer name, or customer number) is in the list already, then you would need to override `equals()` to ensure that it checks whether or not the relevant fields(e.g. customer names) match. \r\n\r\nNote: Don&#39;t forget to override `hashCode()` if you are going to override `equals()`! Otherwise, you might get trouble with your HashMaps and other data structures. For a good coverage of why this is and what pitfalls to avoid, consider having a look at Josh Bloch&#39;s [Effective Java][1] chapters on `equals()` and `hashCode()` (The link only contains iformation about why you must implement `hashCode()` when you implement `equals()`, but there is good coverage about how to override `equals()` too).\r\n\r\nBy the way, is there an ordering restriction on your set? If there isn&#39;t, a slightly easier way to solve this problem is use a `Set&lt;Customer&gt;` like so:\r\n\r\n    Set&lt;Customer&gt; noDups = new HashSet&lt;Customer&gt;();\r\n    noDups.addAll(tmpListCustomer);\r\n    return new ArrayList&lt;Customer&gt;(noDups);\r\n\r\nWhich will nicely remove duplicates for you, since Sets don&#39;t allow duplicates. However, this will lose any ordering that was applied to `tmpListCustomer`, since `HashSet` has no explicit ordering (You can get around that by using a `TreeSet`, but that&#39;s not exactly related to your question). This can simplify your code a little bit.\r\n\r\n  [1]: http://books.google.com/books?id=ka2VUBqHiWkC&amp;lpg=PP1&amp;ots=yXJjJeq4R1&amp;dq=josh%20bloch%20equals&amp;pg=PA38#v=onepage&amp;q&amp;f=false","title":"How to remove duplicates from a list?","body":"<p>Does Customer implement the <code>equals()</code> contract? </p>\n\n<p>If it doesn't implement <code>equals()</code> and <code>hashCode()</code>, then <code>listCustomer.contains(customer)</code> will check to see if the exact same <em>instance</em> already exists in the list (By instance I mean the exact same object--memory address, etc). If what you are looking for is to test whether or not the same <em>Customer</em>( perhaps it's the same customer if they have the same customer name, or customer number) is in the list already, then you would need to override <code>equals()</code> to ensure that it checks whether or not the relevant fields(e.g. customer names) match. </p>\n\n<p>Note: Don't forget to override <code>hashCode()</code> if you are going to override <code>equals()</code>! Otherwise, you might get trouble with your HashMaps and other data structures. For a good coverage of why this is and what pitfalls to avoid, consider having a look at Josh Bloch's <a href=\"http://books.google.com/books?id=ka2VUBqHiWkC&amp;lpg=PP1&amp;ots=yXJjJeq4R1&amp;dq=josh%20bloch%20equals&amp;pg=PA38#v=onepage&amp;q&amp;f=false\" rel=\"noreferrer\">Effective Java</a> chapters on <code>equals()</code> and <code>hashCode()</code> (The link only contains iformation about why you must implement <code>hashCode()</code> when you implement <code>equals()</code>, but there is good coverage about how to override <code>equals()</code> too).</p>\n\n<p>By the way, is there an ordering restriction on your set? If there isn't, a slightly easier way to solve this problem is use a <code>Set&lt;Customer&gt;</code> like so:</p>\n\n<pre><code>Set&lt;Customer&gt; noDups = new HashSet&lt;Customer&gt;();\nnoDups.addAll(tmpListCustomer);\nreturn new ArrayList&lt;Customer&gt;(noDups);\n</code></pre>\n\n<p>Which will nicely remove duplicates for you, since Sets don't allow duplicates. However, this will lose any ordering that was applied to <code>tmpListCustomer</code>, since <code>HashSet</code> has no explicit ordering (You can get around that by using a <code>TreeSet</code>, but that's not exactly related to your question). This can simplify your code a little bit.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1387904382,"creation_date":1298532091,"answer_id":5101589,"question_id":2849450,"body_markdown":"Assuming you want to keep the current order **and don&#39;t want a `Set`**, perhaps the easiest is:\r\n\r\n    List&lt;Customer&gt; depdupeCustomers =\r\n        new ArrayList&lt;&gt;(new LinkedHashSet&lt;&gt;(customers));\r\n\r\nIf you want to change the original list:\r\n\r\n    Set&lt;Customer&gt; depdupeCustomers = new LinkedHashSet&lt;&gt;(customers);\r\n    customers.clear();\r\n    customers.addAll(dedupeCustomers);\r\n\r\n","title":"How to remove duplicates from a list?","body":"<p>Assuming you want to keep the current order <strong>and don't want a <code>Set</code></strong>, perhaps the easiest is:</p>\n\n<pre><code>List&lt;Customer&gt; depdupeCustomers =\n    new ArrayList&lt;&gt;(new LinkedHashSet&lt;&gt;(customers));\n</code></pre>\n\n<p>If you want to change the original list:</p>\n\n<pre><code>Set&lt;Customer&gt; depdupeCustomers = new LinkedHashSet&lt;&gt;(customers);\ncustomers.clear();\ncustomers.addAll(dedupeCustomers);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3652290,"reputation":2120,"user_id":3044117,"accept_rate":38,"display_name":"Eduardo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385607956,"creation_date":1385605275,"answer_id":20256602,"question_id":2849450,"body_markdown":"The cleanest way is:\r\n\r\n    List&lt;XXX&gt; lstConsultada = dao.findByPropertyList(YYY);\r\n    List&lt;XXX&gt; lstFinal = new ArrayList&lt;XXX&gt;(new LinkedHashSet&lt;GrupoOrigen&gt;(XXX));\r\n\r\nand override `hascode` and `equals` over the Id&#39;s properties of each entity","title":"How to remove duplicates from a list?","body":"<p>The cleanest way is:</p>\n\n<pre><code>List&lt;XXX&gt; lstConsultada = dao.findByPropertyList(YYY);\nList&lt;XXX&gt; lstFinal = new ArrayList&lt;XXX&gt;(new LinkedHashSet&lt;GrupoOrigen&gt;(XXX));\n</code></pre>\n\n<p>and override <code>hascode</code> and <code>equals</code> over the Id's properties of each entity</p>\n"},{"tags":[],"owner":{"account_id":4435792,"reputation":119,"user_id":3611677,"display_name":"Bade"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1435143198,"creation_date":1435143198,"answer_id":31024633,"question_id":2849450,"body_markdown":"    private void removeTheDuplicates(List&lt;Customer&gt;myList) {\r\n\t\tfor(ListIterator&lt;Customer&gt;iterator = myList.listIterator(); iterator.hasNext();) {\r\n\t\t\tCustomer customer = iterator.next();\r\n\t\t\tif(Collections.frequency(myList, customer) &gt; 1) {\r\n\t\t\t\titerator.remove();\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(myList.toString());\r\n\t\t\r\n\t}","title":"How to remove duplicates from a list?","body":"<pre><code>private void removeTheDuplicates(List&lt;Customer&gt;myList) {\n    for(ListIterator&lt;Customer&gt;iterator = myList.listIterator(); iterator.hasNext();) {\n        Customer customer = iterator.next();\n        if(Collections.frequency(myList, customer) &gt; 1) {\n            iterator.remove();\n        }\n    }\n    System.out.println(myList.toString());\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1238641,"reputation":10455,"user_id":1201725,"accept_rate":100,"display_name":"Bahadir Tasdemir"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1458735615,"creation_date":1438340361,"answer_id":31744538,"question_id":2849450,"body_markdown":"Nearly all of the above answers are right but what I suggest is to use a Map or Set while creating the related list, not after to gain performance. Because converting a list to a Set or Map and then reconverting it to a List again is a trivial work.\r\n\r\nSample Code:\r\n\r\n    Set&lt;String&gt; stringsSet = new LinkedHashSet&lt;String&gt;();//A Linked hash set \r\n    //prevents the adding order of the elements\r\n    for (String string: stringsList) {\r\n        stringsSet.add(string);\r\n    }\r\n    return new ArrayList&lt;String&gt;(stringsSet);","title":"How to remove duplicates from a list?","body":"<p>Nearly all of the above answers are right but what I suggest is to use a Map or Set while creating the related list, not after to gain performance. Because converting a list to a Set or Map and then reconverting it to a List again is a trivial work.</p>\n\n<p>Sample Code:</p>\n\n<pre><code>Set&lt;String&gt; stringsSet = new LinkedHashSet&lt;String&gt;();//A Linked hash set \n//prevents the adding order of the elements\nfor (String string: stringsList) {\n    stringsSet.add(string);\n}\nreturn new ArrayList&lt;String&gt;(stringsSet);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5310717,"reputation":5574,"user_id":4237157,"accept_rate":100,"display_name":"Daniel Pern&#237;k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443952239,"creation_date":1443952239,"answer_id":32932159,"question_id":2849450,"body_markdown":"IMHO best way how to do it these days:\r\n\r\nSuppose you have a Collection &quot;**dups**&quot; and you want to create another Collection containing the same elements but with all duplicates eliminated. The following one-liner does the trick.\r\n\r\n    Collection&lt;collectionType&gt; noDups = new HashSet&lt;collectionType&gt;(dups);\r\n\r\nIt works by creating a Set which, by definition, cannot contain duplicates.\r\n\r\n*Based on oracle doc.*","title":"How to remove duplicates from a list?","body":"<p>IMHO best way how to do it these days:</p>\n\n<p>Suppose you have a Collection \"<strong>dups</strong>\" and you want to create another Collection containing the same elements but with all duplicates eliminated. The following one-liner does the trick.</p>\n\n<pre><code>Collection&lt;collectionType&gt; noDups = new HashSet&lt;collectionType&gt;(dups);\n</code></pre>\n\n<p>It works by creating a Set which, by definition, cannot contain duplicates.</p>\n\n<p><em>Based on oracle doc.</em></p>\n"},{"tags":[],"owner":{"account_id":4941402,"reputation":2504,"user_id":3977996,"accept_rate":96,"display_name":"Alireza Alallah"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1468310617,"creation_date":1468310617,"answer_id":38323180,"question_id":2849450,"body_markdown":"**java 8 update**  \r\nyou can use stream of array as below:  \r\n\r\n    Arrays.stream(yourArray).distinct()\r\n                        .collect(Collectors.toList());","title":"How to remove duplicates from a list?","body":"<p><strong>java 8 update</strong><br>\nyou can use stream of array as below:  </p>\n\n<pre><code>Arrays.stream(yourArray).distinct()\n                    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10204799,"reputation":153,"user_id":7533855,"display_name":"Kannan Msk"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1507548101,"creation_date":1507548101,"answer_id":46645241,"question_id":2849450,"body_markdown":"Using java 8 stream api.\r\n\r\n    \r\n\t\tList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t\tlist.add(&quot;one&quot;);\r\n\t\tlist.add(&quot;one&quot;);\r\n\t\tlist.add(&quot;two&quot;);\r\n\t\tSystem.out.println(list);\r\n\t\tCollection&lt;String&gt; c = list.stream().collect(Collectors.toSet());\r\n\t\tSystem.out.println(c);\r\n\t\r\n\r\nOutput:\r\n\r\nBefore values : [one, one, two]\r\n\r\nAfter Values : [one, two]\r\n\r\n","title":"How to remove duplicates from a list?","body":"<p>Using java 8 stream api.</p>\n\n<pre><code>    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(\"one\");\n    list.add(\"one\");\n    list.add(\"two\");\n    System.out.println(list);\n    Collection&lt;String&gt; c = list.stream().collect(Collectors.toSet());\n    System.out.println(c);\n</code></pre>\n\n<p>Output:</p>\n\n<p>Before values : [one, one, two]</p>\n\n<p>After Values : [one, two]</p>\n"}],"owner":{"account_id":112461,"reputation":9786,"user_id":296635,"accept_rate":74,"display_name":"Mercer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170767,"favorite_count":0,"down_vote_count":2,"up_vote_count":63,"accepted_answer_id":2849498,"answer_count":15,"score":61,"last_activity_date":1638768043,"creation_date":1274103453,"question_id":2849450,"body_markdown":"I want to remove duplicates from a list but what I am doing is not working:\r\n\r\n    List&lt;Customer&gt; listCustomer = new ArrayList&lt;Customer&gt;();    \r\n    for (Customer customer: tmpListCustomer)\r\n    {\r\n      if (!listCustomer.contains(customer)) \r\n      {\r\n        listCustomer.add(customer);\r\n      }\r\n     }","title":"How to remove duplicates from a list?","body":"<p>I want to remove duplicates from a list but what I am doing is not working:</p>\n\n<pre><code>List&lt;Customer&gt; listCustomer = new ArrayList&lt;Customer&gt;();    \nfor (Customer customer: tmpListCustomer)\n{\n  if (!listCustomer.contains(customer)) \n  {\n    listCustomer.add(customer);\n  }\n }\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638767950,"creation_date":1638767950,"answer_id":70241175,"question_id":70240370,"body_markdown":"In Blocking mode when client communicates with the server call such as send, receive, connect(TCP only) and accept(TCP only) will block indefinitely until that operation is performed. On the other hand in Non Blocking mode these functions will return immediately.\r\n\r\nFor example, when a client invokes the read() method to read data from the server, the thread gets blocked until the data is available. This situation is undesirable under some circumstances. Instead, what we can do is use the waiting period to do some other task. The client socket then can notify when the data is available. Another problem is that, in a multi-socket connection, each client is a separate thread. Therefore, there is an overhead of maintaining a pool of client threads.\r\n\r\nNow to answer your question, you can control whether you want Blocking or Non Blocking mode in your application. If you set like below\r\n\r\n      serverSocketChannel.configureBlocking(false);\r\nthen server will run in Non Blocking mode otherwise it will run in Blocking mode by default.\r\n\r\nHere are some articles for refernece\r\n\r\n 1. [Blocking and Non-Blocking Sockets][1]\r\n 2. [Non-blocking Socket Programming in Java][2]\r\n\r\n\r\n  [1]: http://www.on-time.com/rtos-32-docs/rtip-32/programming-manual/tcp-ip-networking/blocking-and-non-blocking-sockets.htm\r\n  [2]: https://www.developer.com/java/data/what-is-non-blocking-socket-programming-in-java/","title":"Blocking and Non-Blocking Modes in Java NIO","body":"<p>In Blocking mode when client communicates with the server call such as send, receive, connect(TCP only) and accept(TCP only) will block indefinitely until that operation is performed. On the other hand in Non Blocking mode these functions will return immediately.</p>\n<p>For example, when a client invokes the read() method to read data from the server, the thread gets blocked until the data is available. This situation is undesirable under some circumstances. Instead, what we can do is use the waiting period to do some other task. The client socket then can notify when the data is available. Another problem is that, in a multi-socket connection, each client is a separate thread. Therefore, there is an overhead of maintaining a pool of client threads.</p>\n<p>Now to answer your question, you can control whether you want Blocking or Non Blocking mode in your application. If you set like below</p>\n<pre><code>  serverSocketChannel.configureBlocking(false);\n</code></pre>\n<p>then server will run in Non Blocking mode otherwise it will run in Blocking mode by default.</p>\n<p>Here are some articles for refernece</p>\n<ol>\n<li><a href=\"http://www.on-time.com/rtos-32-docs/rtip-32/programming-manual/tcp-ip-networking/blocking-and-non-blocking-sockets.htm\" rel=\"nofollow noreferrer\">Blocking and Non-Blocking Sockets</a></li>\n<li><a href=\"https://www.developer.com/java/data/what-is-non-blocking-socket-programming-in-java/\" rel=\"nofollow noreferrer\">Non-blocking Socket Programming in Java</a></li>\n</ol>\n"}],"owner":{"account_id":22203513,"reputation":53,"user_id":16443791,"display_name":"V&#245; Khắc Bảo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":835,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638767950,"creation_date":1638758647,"question_id":70240370,"body_markdown":"I&#39;m self-taught Java and I&#39;m a bit confused when implementing this functionality of Java NIO. I am confused about Java NIO&#39;s blocking mode. Is the purpose of setting non-blocking mode to be for the selector to detect that the channel is ready for I/O operations? And assuming mode is set to &quot;true&quot; will the selector detect the channel or not? Hoping someone can explain it to me, give me sample code or any suggestions I would be very grateful. Thanks very much\r\n\r\n    public class NioServer {\r\n\r\n    public void start() throws IOException {\r\n\r\n        Selector selector = Selector.open();\r\n\r\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\r\n\r\n        serverSocketChannel.bind(new InetSocketAddress(8000));\r\n\r\n        // configureBlocking is problem\r\n        serverSocketChannel.configureBlocking(false);\r\n        ....\r\n        }\r\n  \r\n\r\n\r\n","title":"Blocking and Non-Blocking Modes in Java NIO","body":"<p>I'm self-taught Java and I'm a bit confused when implementing this functionality of Java NIO. I am confused about Java NIO's blocking mode. Is the purpose of setting non-blocking mode to be for the selector to detect that the channel is ready for I/O operations? And assuming mode is set to &quot;true&quot; will the selector detect the channel or not? Hoping someone can explain it to me, give me sample code or any suggestions I would be very grateful. Thanks very much</p>\n<pre><code>public class NioServer {\n\npublic void start() throws IOException {\n\n    Selector selector = Selector.open();\n\n    ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\n\n    serverSocketChannel.bind(new InetSocketAddress(8000));\n\n    // configureBlocking is problem\n    serverSocketChannel.configureBlocking(false);\n    ....\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-validator"],"comments":[{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":1,"creation_date":1572946761,"post_id":58708370,"comment_id":103711012,"body_markdown":"**@NotNull** is sufficient, you don&#39;t need **@NotEmply**, because  any other value which is not part of your enum will not work, let me know if I am missing something","body":"<b>@NotNull</b> is sufficient, you don&#39;t need <b>@NotEmply</b>, because  any other value which is not part of your enum will not work, let me know if I am missing something"},{"owner":{"account_id":2380746,"reputation":1653,"user_id":2082823,"accept_rate":55,"display_name":"Manuel Castro"},"score":0,"creation_date":1572947131,"post_id":58708370,"comment_id":103711230,"body_markdown":"Yep, but it is not possible to create a custom message when the field is empty. How can I do?","body":"Yep, but it is not possible to create a custom message when the field is empty. How can I do?"},{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1572947641,"post_id":58708370,"comment_id":103711543,"body_markdown":"it&#39;s an enum. It will either be null or enum value.","body":"it&#39;s an enum. It will either be null or enum value."},{"owner":{"account_id":2380746,"reputation":1653,"user_id":2082823,"accept_rate":55,"display_name":"Manuel Castro"},"score":0,"creation_date":1572947830,"post_id":58708370,"comment_id":103711648,"body_markdown":"Not at all. If I make a request in json format anche put inside &quot;myEnum&quot;: &quot;&quot; and I don&#39;t want this without a custom response message","body":"Not at all. If I make a request in json format anche put inside &quot;myEnum&quot;: &quot;&quot; and I don&#39;t want this without a custom response message"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1572948044,"post_id":58708370,"comment_id":103711756,"body_markdown":"What you send in the request isn&#39;t what is one-on-one mapped. An empty string will result in an error when converting to an enum and it won&#39;t even reach the validation state, unless it is transformed to `null` then the `@NotNull` will kick in.","body":"What you send in the request isn&#39;t what is one-on-one mapped. An empty string will result in an error when converting to an enum and it won&#39;t even reach the validation state, unless it is transformed to <code>null</code> then the <code>@NotNull</code> will kick in."}],"answers":[{"tags":[],"owner":{"account_id":16992153,"reputation":513,"user_id":12291497,"display_name":"lugiorgi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572947717,"creation_date":1572947717,"answer_id":58708749,"question_id":58708370,"body_markdown":"javax @NotEmpty can only be applied CharSequence, Collection, Map or Array values (see documentation)\r\n\r\nEmpty and enum does not realy make sense, except if you have an enum with an empty value, for example:\r\n\r\n    public enum MyEnum {\r\n        NOT_EMPTY(&quot;notEmpty&quot;), EMPTY(&quot;&quot;);\r\n    }\r\n\r\nSo the question would be how to validate for specific enum values or subsets.\r\n\r\nIn that case you would have to define your own validation annotation.","title":"Spring request notempty validation with Enum","body":"<p>javax @NotEmpty can only be applied CharSequence, Collection, Map or Array values (see documentation)</p>\n\n<p>Empty and enum does not realy make sense, except if you have an enum with an empty value, for example:</p>\n\n<pre><code>public enum MyEnum {\n    NOT_EMPTY(\"notEmpty\"), EMPTY(\"\");\n}\n</code></pre>\n\n<p>So the question would be how to validate for specific enum values or subsets.</p>\n\n<p>In that case you would have to define your own validation annotation.</p>\n"},{"tags":[],"owner":{"account_id":5898600,"reputation":99,"user_id":4642961,"display_name":"sevvalai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638767799,"creation_date":1638767799,"answer_id":70241164,"question_id":58708370,"body_markdown":"Like Shailesh Chandra has mentioned in the comment we don&#39;t need to mention @NotEmpty or @NotBlank annotations for ENUM types. ","title":"Spring request notempty validation with Enum","body":"<p>Like Shailesh Chandra has mentioned in the comment we don't need to mention @NotEmpty or @NotBlank annotations for ENUM types.</p>\n"}],"owner":{"account_id":2380746,"reputation":1653,"user_id":2082823,"accept_rate":55,"display_name":"Manuel Castro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3814,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1638767799,"creation_date":1572946526,"question_id":58708370,"body_markdown":"I&#39;ve a request with an Enum inside and I can validate it with @NotNull but if I try to insert @NotEmpty too it does not work.\r\nThis is a sample of what I would like to achieve.\r\n\r\n    @NotNull\r\n\t@NotEmpty\r\n\tprivate MyEnum myEnum;\r\n\r\nHow can I make it works?","title":"Spring request notempty validation with Enum","body":"<p>I've a request with an Enum inside and I can validate it with @NotNull but if I try to insert @NotEmpty too it does not work.\nThis is a sample of what I would like to achieve.</p>\n\n<pre><code>@NotNull\n@NotEmpty\nprivate MyEnum myEnum;\n</code></pre>\n\n<p>How can I make it works?</p>\n"},{"tags":["java","android","jitsi-meet","lib-jitsi-meet"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639124371,"post_id":70232920,"comment_id":124273357,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"display_name":"user14616876"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638766791,"creation_date":1638697064,"answer_id":70233044,"question_id":70232920,"body_markdown":"I&#39;m not sure how to could that in code, but here is a way to do it:\r\n\r\n1. Create A File and name it the current time\r\n\r\n2. Create a window for choosing what time the participants were present using Java swing. (a menu) with a help of a button.\r\n\r\n3. Print All The Participants Using A loop to the file\r\n\r\n4. Link each menu item to the file with the text name of the file without file  extension.\r\n\r\n5. Keep Doing All This Steps (1-4)in A Loop until the meeting ends.\r\n\r\nFor more ideas, get some reference from other Apps like Google Meet\r\nand Zoom.","title":"How to get recent participants in my android app?","body":"<p>I'm not sure how to could that in code, but here is a way to do it:</p>\n<ol>\n<li><p>Create A File and name it the current time</p>\n</li>\n<li><p>Create a window for choosing what time the participants were present using Java swing. (a menu) with a help of a button.</p>\n</li>\n<li><p>Print All The Participants Using A loop to the file</p>\n</li>\n<li><p>Link each menu item to the file with the text name of the file without file  extension.</p>\n</li>\n<li><p>Keep Doing All This Steps (1-4)in A Loop until the meeting ends.</p>\n</li>\n</ol>\n<p>For more ideas, get some reference from other Apps like Google Meet\nand Zoom.</p>\n"}],"owner":{"account_id":23550769,"reputation":1,"user_id":17593522,"display_name":"app dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638766791,"creation_date":1638696066,"question_id":70232920,"body_markdown":"I am using jitsi meet sdk for *video conferencing app*. But i can&#39;t get they **recent participant or history.**\r\nIn original jitsi meet android app had recent option. I don&#39;t know how to get that.","title":"How to get recent participants in my android app?","body":"<p>I am using jitsi meet sdk for <em>video conferencing app</em>. But i can't get they <strong>recent participant or history.</strong>\nIn original jitsi meet android app had recent option. I don't know how to get that.</p>\n"},{"tags":["java","spring-boot","cassandra","pagination","spring-data"],"answers":[{"tags":[],"owner":{"account_id":15864507,"reputation":23,"user_id":11446833,"display_name":"karun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638766676,"creation_date":1638712847,"answer_id":70235061,"question_id":70234153,"body_markdown":"Calling `bytes.position(0);` before `CassandraPageRequest.of(pageRequest, bytes);` has resolved the issue.","title":"Spring data Cassandra not able to perform Paginaton, after passing the CassandraPageRequest","body":"<p>Calling <code>bytes.position(0);</code> before <code>CassandraPageRequest.of(pageRequest, bytes);</code> has resolved the issue.</p>\n"}],"owner":{"account_id":15864507,"reputation":23,"user_id":11446833,"display_name":"karun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70235061,"answer_count":1,"score":1,"last_activity_date":1638766676,"creation_date":1638706343,"question_id":70234153,"body_markdown":"**Issue:**\r\n\r\nnextPageStateString  is being passed to the client and during the next request its is converted back to Bytebuffer \r\n\r\n\r\n**below line** \r\n\r\n```feedRepository.findAll(cassandraPageRequest); ``` is throwing exception\r\n\r\nI was just converting the serializing and deserializing the  PageState, not sure why its complaining as I didn&#39;t modified the PagingState object.\r\n\r\n\r\nQuestions:\r\n\r\nAm i doing the correctly serializing and deserializing the the byte buffer?\r\nif not what are  other ways of doing it.\r\n\r\n\r\n```\r\n\r\ncom.datastax.oss.driver.api.core.servererrors.ProtocolError: Invalid value for the paging state\r\n\tat com.datastax.oss.driver.api.core.servererrors.ProtocolError.copy(ProtocolError.java:52) ~[java-driver-core-4.13.0.jar:na]\r\n\tat com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149) ~[java-driver-core-4.13.0.jar:na]\r\n\tat com.datastax.oss.driver.internal.core.cql.CqlRequestSyncProcessor.process(CqlRequestSyncProcessor.java:53) ~[java-driver-core-4.13.0.jar:na]\r\n\tat com.datastax.oss.driver.internal.core.cql.CqlRequestSyncProcessor.process(CqlRequestSyncProcessor.java:30) ~[java-driver-core-4.13.0.jar:na]\r\n\tat com.datastax.oss.driver.internal.core.session.DefaultSession.execute(DefaultSession.java:230) ~[java-driver-core-4.13.0.jar:na]\r\n\tat com.datastax.oss.driver.api.core.cql.SyncCqlSession.execute(SyncCqlSession.java:54) ~[java-driver-core-4.13.0.jar:na]\r\n\tat org.springframework.data.cassandra.core.cql.CqlTemplate.query(CqlTemplate.java:540) ~[spring-data-cassandra-3.3.0.jar:3.3.0]\r\n\tat org.springframework.data.cassandra.core.CassandraTemplate.doExecute(CassandraTemplate.java:959) ~[spring-data-cassandra-3.3.0.jar:3.3.0]\r\n\tat org.springframework.data.cassandra.core.CassandraTemplate.doQueryForResultSet(CassandraTemplate.java:951) ~[spring-data-cassandra-3.3.0.jar:3.3.0]\r\n\tat org.springframework.data.cassandra.core.CassandraTemplate.slice(CassandraTemplate.java:404) ~[spring-data-cassandra-3.3.0.jar:3.3.0]\r\n\tat org.springframework.data.cassandra.core.CassandraTemplate.slice(CassandraTemplate.java:478) ~[spring-data-cassandra-3.3.0.jar:3.3.0]\r\n\tat org.springframework.data.cassandra.repository.support.SimpleCassandraRepository.findAll(SimpleCassandraRepository.java:241) ~[spring-data-cassandra-3.3.0.jar:3.3.0]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.13.jar:5.3.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.13.jar:5.3.13]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy89.findAll(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.13.jar:5.3.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.13.jar:5.3.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.13.jar:5.3.13]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.13.jar:5.3.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.13.jar:5.3.13]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy89.findAll(Unknown Source) ~[na:na]\r\n\tat com.example.FeedService.service.impl.FeedServiceImpl.getUserFeed(FeedServiceImpl.java:60) ~[classes/:na]\r\n\tat com.example.FeedService.api.FeedApi.getFeed(FeedApi.java:39) \r\n```\r\n\r\n```\r\n@Service\r\npublic class FeedServiceImpl implements FeedService {\r\n\r\n    private static final char[] HEX_CODE = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n\r\n    @Autowired\r\n    private FeedRepository feedRepository;\r\n\r\n    @Override\r\n    public SlicedResult&lt;UserFeed&gt; getUserFeed(String userId, Optional&lt;String&gt; pagingState) {\r\n        // reference\r\n        // https://github.com/JSextonn/spring-cassandra-pagination-example\r\n\r\n        final PageRequest pageRequest =  PageRequest.of(0, constants.PAGE_SIZE);\r\n        CassandraPageRequest cassandraPageRequest =\r\n                pagingState.\r\n                        map(pageState -&gt;{\r\n\r\n                                    int len = pageState.length();\r\n                                    ByteBuffer bytes = ByteBuffer.allocate(len / 2);\r\n\r\n                                    for (int i = 0; i &lt; len; i += 2) {\r\n                                        bytes.put((byte) ((Character.digit(pageState.charAt(i), 16) &lt;&lt; 4)\r\n                                                         + Character.digit(pageState.charAt(i+1), 16)));\r\n                                     }\r\n                                    return CassandraPageRequest.of(pageRequest,bytes);\r\n                            }\r\n                        )\r\n                        .orElse(CassandraPageRequest.first(constants.PAGE_SIZE));\r\n\r\n\r\n\r\n        Slice&lt;UserFeed&gt; userFeedSlice = feedRepository.findAll(cassandraPageRequest);\r\n        CassandraPageRequest nextPageable = ((CassandraPageRequest)userFeedSlice.getPageable());\r\n        ByteBuffer nextPagingState = nextPageable.getPagingState();\r\n        String nextPageStateString =  toHexString(nextPagingState);\r\n        userFeedSlice = feedRepository.findAll(userFeedSlice.nextPageable());\r\n\r\n        return SlicedResult.&lt;UserFeed&gt;builder().pageState(nextPageStateString).content(userFeedSlice.getContent())\r\n                .build();\r\n    }\r\n\r\n    public static String toHexString(ByteBuffer buffer) {\r\n        final StringBuilder r = new StringBuilder(buffer.remaining() * 2);\r\n        while (buffer.hasRemaining()) {\r\n            final byte b = buffer.get();\r\n            r.append(HEX_CODE[(b &gt;&gt; 4) &amp; 0xF]);\r\n            r.append(HEX_CODE[(b &amp; 0xF)]);\r\n        }\r\n        return r.toString();\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Spring data Cassandra not able to perform Paginaton, after passing the CassandraPageRequest","body":"<p><strong>Issue:</strong></p>\n<p>nextPageStateString  is being passed to the client and during the next request its is converted back to Bytebuffer</p>\n<p><strong>below line</strong></p>\n<p><code>feedRepository.findAll(cassandraPageRequest); </code> is throwing exception</p>\n<p>I was just converting the serializing and deserializing the  PageState, not sure why its complaining as I didn't modified the PagingState object.</p>\n<p>Questions:</p>\n<p>Am i doing the correctly serializing and deserializing the the byte buffer?\nif not what are  other ways of doing it.</p>\n<pre><code>\ncom.datastax.oss.driver.api.core.servererrors.ProtocolError: Invalid value for the paging state\n    at com.datastax.oss.driver.api.core.servererrors.ProtocolError.copy(ProtocolError.java:52) ~[java-driver-core-4.13.0.jar:na]\n    at com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149) ~[java-driver-core-4.13.0.jar:na]\n    at com.datastax.oss.driver.internal.core.cql.CqlRequestSyncProcessor.process(CqlRequestSyncProcessor.java:53) ~[java-driver-core-4.13.0.jar:na]\n    at com.datastax.oss.driver.internal.core.cql.CqlRequestSyncProcessor.process(CqlRequestSyncProcessor.java:30) ~[java-driver-core-4.13.0.jar:na]\n    at com.datastax.oss.driver.internal.core.session.DefaultSession.execute(DefaultSession.java:230) ~[java-driver-core-4.13.0.jar:na]\n    at com.datastax.oss.driver.api.core.cql.SyncCqlSession.execute(SyncCqlSession.java:54) ~[java-driver-core-4.13.0.jar:na]\n    at org.springframework.data.cassandra.core.cql.CqlTemplate.query(CqlTemplate.java:540) ~[spring-data-cassandra-3.3.0.jar:3.3.0]\n    at org.springframework.data.cassandra.core.CassandraTemplate.doExecute(CassandraTemplate.java:959) ~[spring-data-cassandra-3.3.0.jar:3.3.0]\n    at org.springframework.data.cassandra.core.CassandraTemplate.doQueryForResultSet(CassandraTemplate.java:951) ~[spring-data-cassandra-3.3.0.jar:3.3.0]\n    at org.springframework.data.cassandra.core.CassandraTemplate.slice(CassandraTemplate.java:404) ~[spring-data-cassandra-3.3.0.jar:3.3.0]\n    at org.springframework.data.cassandra.core.CassandraTemplate.slice(CassandraTemplate.java:478) ~[spring-data-cassandra-3.3.0.jar:3.3.0]\n    at org.springframework.data.cassandra.repository.support.SimpleCassandraRepository.findAll(SimpleCassandraRepository.java:241) ~[spring-data-cassandra-3.3.0.jar:3.3.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.13.jar:5.3.13]\n    at jdk.proxy2/jdk.proxy2.$Proxy89.findAll(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.13.jar:5.3.13]\n    at jdk.proxy2/jdk.proxy2.$Proxy89.findAll(Unknown Source) ~[na:na]\n    at com.example.FeedService.service.impl.FeedServiceImpl.getUserFeed(FeedServiceImpl.java:60) ~[classes/:na]\n    at com.example.FeedService.api.FeedApi.getFeed(FeedApi.java:39) \n</code></pre>\n<pre><code>@Service\npublic class FeedServiceImpl implements FeedService {\n\n    private static final char[] HEX_CODE = &quot;0123456789ABCDEF&quot;.toCharArray();\n\n    @Autowired\n    private FeedRepository feedRepository;\n\n    @Override\n    public SlicedResult&lt;UserFeed&gt; getUserFeed(String userId, Optional&lt;String&gt; pagingState) {\n        // reference\n        // https://github.com/JSextonn/spring-cassandra-pagination-example\n\n        final PageRequest pageRequest =  PageRequest.of(0, constants.PAGE_SIZE);\n        CassandraPageRequest cassandraPageRequest =\n                pagingState.\n                        map(pageState -&gt;{\n\n                                    int len = pageState.length();\n                                    ByteBuffer bytes = ByteBuffer.allocate(len / 2);\n\n                                    for (int i = 0; i &lt; len; i += 2) {\n                                        bytes.put((byte) ((Character.digit(pageState.charAt(i), 16) &lt;&lt; 4)\n                                                         + Character.digit(pageState.charAt(i+1), 16)));\n                                     }\n                                    return CassandraPageRequest.of(pageRequest,bytes);\n                            }\n                        )\n                        .orElse(CassandraPageRequest.first(constants.PAGE_SIZE));\n\n\n\n        Slice&lt;UserFeed&gt; userFeedSlice = feedRepository.findAll(cassandraPageRequest);\n        CassandraPageRequest nextPageable = ((CassandraPageRequest)userFeedSlice.getPageable());\n        ByteBuffer nextPagingState = nextPageable.getPagingState();\n        String nextPageStateString =  toHexString(nextPagingState);\n        userFeedSlice = feedRepository.findAll(userFeedSlice.nextPageable());\n\n        return SlicedResult.&lt;UserFeed&gt;builder().pageState(nextPageStateString).content(userFeedSlice.getContent())\n                .build();\n    }\n\n    public static String toHexString(ByteBuffer buffer) {\n        final StringBuilder r = new StringBuilder(buffer.remaining() * 2);\n        while (buffer.hasRemaining()) {\n            final byte b = buffer.get();\n            r.append(HEX_CODE[(b &gt;&gt; 4) &amp; 0xF]);\n            r.append(HEX_CODE[(b &amp; 0xF)]);\n        }\n        return r.toString();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","mysql","sql","spring","jdbc"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1599481120,"post_id":63776421,"comment_id":112779381,"body_markdown":"*FYI:* Operator precedence means that `WHERE a OR b OR c AND d` means `WHERE a OR b OR (c AND d)`, and since first expression is `0=0`, your query is running as-if there was **no WHERE clause** at all, i.e. it is processing the ***entire table***. No wonder the sort buffer runs full.","body":"<i>FYI:</i> Operator precedence means that <code>WHERE a OR b OR c AND d</code> means <code>WHERE a OR b OR (c AND d)</code>, and since first expression is <code>0=0</code>, your query is running as-if there was <b>no WHERE clause</b> at all, i.e. it is processing the <b><i>entire table</i></b>. No wonder the sort buffer runs full."}],"answers":[{"tags":[],"owner":{"account_id":5747629,"reputation":695,"user_id":4538401,"accept_rate":75,"display_name":"Sebastian Rieger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599477315,"creation_date":1599477315,"answer_id":63776509,"question_id":63776421,"body_markdown":"It&#39;s because the internal buffer of the database is to small for the query.\r\n\r\nYou can increase the buffer in the following config file `/etc/mysql/my.cnf`:\r\n\r\n    sort_buffer_size to 512K","title":"java.sql.SQLException: Out of sort memory, consider increasing server sort buffer size","body":"<p>It's because the internal buffer of the database is to small for the query.</p>\n<p>You can increase the buffer in the following config file <code>/etc/mysql/my.cnf</code>:</p>\n<pre><code>sort_buffer_size to 512K\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1165580,"reputation":1248722,"user_id":1144035,"display_name":"Gordon Linoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599480352,"creation_date":1599480352,"answer_id":63777298,"question_id":63776421,"body_markdown":"You can probably fix the out-of-memory problem by fixing the `where` clause.  The filtering on date only applies to the last condition, because the parentheses are wrong.\r\n\r\nSo:\r\n\r\n    WHERE (job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%&#39;, &#39;software&#39;, &#39;%&#39;) OR\r\n           job_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%&#39;, &#39;software&#39;, &#39;%&#39;) OR\r\n           job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%&#39;, &#39;engineer&#39;, &#39;%&#39;) OR\r\n           ob_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%&#39;, &#39;engineer&#39;, &#39;%&#39;)\r\n          ) AND\r\n          date_posted &gt;= now() - INTERVAL 30 DAY\r\n\r\nNote:  For performance you might want to consider a full-text index on this table.  Also, using `collate` in the query suggests a data modeling problem.  If you want a case-insensitive search . . . well that is the normal default in MySQL anyway.","title":"java.sql.SQLException: Out of sort memory, consider increasing server sort buffer size","body":"<p>You can probably fix the out-of-memory problem by fixing the <code>where</code> clause.  The filtering on date only applies to the last condition, because the parentheses are wrong.</p>\n<p>So:</p>\n<pre><code>WHERE (job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%', 'software', '%') OR\n       job_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%', 'software', '%') OR\n       job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%', 'engineer', '%') OR\n       ob_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%', 'engineer', '%')\n      ) AND\n      date_posted &gt;= now() - INTERVAL 30 DAY\n</code></pre>\n<p>Note:  For performance you might want to consider a full-text index on this table.  Also, using <code>collate</code> in the query suggests a data modeling problem.  If you want a case-insensitive search . . . well that is the normal default in MySQL anyway.</p>\n"},{"tags":[],"owner":{"account_id":7758277,"reputation":119,"user_id":5871819,"display_name":"Manoj Swami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638766402,"creation_date":1638766402,"answer_id":70241027,"question_id":63776421,"body_markdown":"It&#39;s because the internal buffer of the database is too small for the query.\r\n\r\nRun the below query in MySQL command to increase the memory\r\n\r\n\r\n\r\n    SET GLOBAL sort_buffer_size = 512000000; // It&#39;ll reset after server restart\r\n\r\nTo set permanent, edit the below file and add:\r\n\r\n\r\n\r\n    sudo nano /etc/mysql/mysql.conf.d/mysqld.cnf\r\n\r\n    sort_buffer_size = 512000000;\r\n\r\n    sudo service mysql restart\r\n\r\nNote that 1073741824 is equal to bytes and will result in 1&#160;GB memory allocation.\r\n\r\nAlso, there is a possibility that something else causing the issue, you can check CPU, memory and slow query logs\r\n\r\n\r\n\r\n    SHOW ENGINE INNODB STATUS\r\n\r\nYou can then analyse the output base on current buffer pool size.\r\n\r\n\r\n\r\n    BUFFER POOL AND MEMORY\r\n    ----------------------\r\n    BUFFER POOL AND MEMORY\r\n    ----------------------\r\n    Total large memory allocated 412090368\r\n    Dictionary memory allocated 380237\r\n    Buffer pool size   24576\r\n    Free buffers       23618\r\n    Database pages     954\r\n    Old database pages 372\r\n    Modified db pages  0\r\n    Pending reads      0\r\n\r\nFor more details, refer to MySQL docs: [MySQL Optimization][1]\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/select-optimization.html","title":"java.sql.SQLException: Out of sort memory, consider increasing server sort buffer size","body":"<p>It's because the internal buffer of the database is too small for the query.</p>\n<p>Run the below query in MySQL command to increase the memory</p>\n<pre><code>SET GLOBAL sort_buffer_size = 512000000; // It'll reset after server restart\n</code></pre>\n<p>To set permanent, edit the below file and add:</p>\n<pre><code>sudo nano /etc/mysql/mysql.conf.d/mysqld.cnf\n\nsort_buffer_size = 512000000;\n\nsudo service mysql restart\n</code></pre>\n<p>Note that 1073741824 is equal to bytes and will result in 1 GB memory allocation.</p>\n<p>Also, there is a possibility that something else causing the issue, you can check CPU, memory and slow query logs</p>\n<pre><code>SHOW ENGINE INNODB STATUS\n</code></pre>\n<p>You can then analyse the output base on current buffer pool size.</p>\n<pre><code>BUFFER POOL AND MEMORY\n----------------------\nBUFFER POOL AND MEMORY\n----------------------\nTotal large memory allocated 412090368\nDictionary memory allocated 380237\nBuffer pool size   24576\nFree buffers       23618\nDatabase pages     954\nOld database pages 372\nModified db pages  0\nPending reads      0\n</code></pre>\n<p>For more details, refer to MySQL docs: <a href=\"https://dev.mysql.com/doc/refman/8.0/en/select-optimization.html\" rel=\"nofollow noreferrer\">MySQL Optimization</a></p>\n"}],"owner":{"account_id":17629934,"reputation":31,"user_id":12794246,"display_name":"Jimmy Nesbitt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6430,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1638766402,"creation_date":1599476951,"question_id":63776421,"body_markdown":"I am trying to run this query using java with JDBC:\r\n\r\n    SELECT * FROM jobs WHERE 0=0 # find all occurrences of the search string + any component of the search string\r\n            OR job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%&#39;, &#39;software&#39;, &#39;%&#39;)\r\n            OR job_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%&#39;, &#39;software&#39;, &#39;%&#39;)\r\n            OR job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%&#39;, &#39;engineer&#39;, &#39;%&#39;)\r\n            OR job_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%&#39;, &#39;engineer&#39;, &#39;%&#39;)\r\n            AND date_posted &gt;= now() - INTERVAL 30 DAY # ensure results are from the last month\r\n    ORDER BY\r\n            # order first by results that begin with the search string\r\n            job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;software engineer&#39;, &#39;%&#39;) DESC,\r\n            # order second by results that contain the search string\r\n            IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, &#39;software engineer&#39;), 0), 99999) DESC,\r\n            # order third by results that contain the first component of the search string\r\n            IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, &#39;software&#39;), 0), 99999) DESC,\r\n            # order forth by results that contain the second component of the search string\r\n            IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, &#39;engineer&#39;), 0), 99999) DESC,\r\n            # order alphabetically\r\n            job_title,\r\n            IFNULL(NULLIF(INSTR(job_description COLLATE utf8mb4_0900_ai_ci, &#39;software engineer&#39;), 0), 99999);\r\n\r\nWhen I run this query in the MySQL terminal it runs fine. However, when I run it through JDBC, where `searchTokens = [&#39;software&#39;, &#39;engineer&#39;]`\r\n\r\n    var searchTokens = searchValue.split(&quot; &quot;);\r\n\r\n    String query = &quot;SELECT * FROM jobs WHERE 0=0 \\n&quot;;\r\n\r\n    for (String token : searchTokens) {\r\n        query += String.format(&quot;    OR job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%%&#39;, &#39;%s&#39;, &#39;%%&#39;)\\n&quot;, token);\r\n        query += String.format(&quot;    OR job_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%%&#39;, &#39;%s&#39;, &#39;%%&#39;)\\n&quot;, token);\r\n    }\r\n\r\n    query += &quot;    AND date_posted &gt;= now() - INTERVAL 30 DAY\\n ORDER BY\\n&quot;;\r\n    query += String.format(&quot;    job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%s&#39;, &#39;%%&#39;) DESC,\\n&quot;, searchValue);\r\n    query +=\r\n        String.format(&quot;    IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, &#39;%s&#39;), 0), 99999),\\n&quot;, searchValue);\r\n\r\n    for (String token : searchTokens) {\r\n        query +=\r\n            String.format(&quot;    IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, &#39;%s&#39;), 0), 99999),\\n&quot;, token);\r\n    }\r\n\r\n    query += String.format(&quot;    job_title,\\n&quot; +\r\n            &quot;    IFNULL(NULLIF(INSTR(job_description COLLATE utf8mb4_0900_ai_ci, &#39;%s&#39;), 0), 99999);&quot;, searchValue);\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; result = jdbcTemplate.queryForList(query);\r\n\r\nI get this error:\r\n\r\n    nested exception is org.springframework.jdbc.UncategorizedSQLException: StatementCallback; uncategorized SQLException for SQL [SELECT * FROM jobs WHERE 0=0 \r\n        OR job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%&#39;, &#39;software&#39;, &#39;%&#39;)\r\n        OR job_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%&#39;, &#39;software&#39;, &#39;%&#39;)\r\n        OR job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%&#39;, &#39;engineer&#39;, &#39;%&#39;)\r\n        OR job_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;%&#39;, &#39;engineer&#39;, &#39;%&#39;)\r\n        AND date_posted &gt;= now() - INTERVAL 30 DAY\r\n     ORDER BY\r\n        job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT(&#39;software engineer&#39;, &#39;%&#39;) DESC,\r\n        IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, &#39;software engineer&#39;), 0), 99999),\r\n        IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, &#39;software&#39;), 0), 99999),\r\n        IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, &#39;engineer&#39;), 0), 99999),\r\n        job_title,\r\n        IFNULL(NULLIF(INSTR(job_description COLLATE utf8mb4_0900_ai_ci, &#39;software engineer&#39;), 0), 99999);]; SQL state [HY001]; error code [1038]; Out of sort memory, consider increasing server sort buffer size; nested exception is java.sql.SQLException: Out of sort memory, consider increasing server sort buffer size] with root cause\r\n    \r\n    java.sql.SQLException: Out of sort memory, consider increasing server sort buffer size\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.17.jar:8.0.17]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.17.jar:8.0.17]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.17.jar:8.0.17]\r\n    \tat com.mysql.cj.jdbc.StatementImpl.executeQuery(StatementImpl.java:1200) ~[mysql-connector-java-8.0.17.jar:8.0.17]\r\n    \tat org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439) ~[spring-jdbc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376) ~[spring-jdbc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452) ~[spring-jdbc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462) ~[spring-jdbc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.queryForList(JdbcTemplate.java:490) ~[spring-jdbc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat com.jobtech.controller.JobroleSearchController.submit(JobroleSearchController.java:49) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.37.jar:9.0.37]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]\r\n\r\nI have tried setting sort_buffer_size to 256K, and this error is still persisting. However, I have read that it is bad to set the sort buffer size too large. What is causing my error in this SQL statement when it runs perfectly fine in the MySQL terminal?","title":"java.sql.SQLException: Out of sort memory, consider increasing server sort buffer size","body":"<p>I am trying to run this query using java with JDBC:</p>\n<pre><code>SELECT * FROM jobs WHERE 0=0 # find all occurrences of the search string + any component of the search string\n        OR job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%', 'software', '%')\n        OR job_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%', 'software', '%')\n        OR job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%', 'engineer', '%')\n        OR job_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%', 'engineer', '%')\n        AND date_posted &gt;= now() - INTERVAL 30 DAY # ensure results are from the last month\nORDER BY\n        # order first by results that begin with the search string\n        job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('software engineer', '%') DESC,\n        # order second by results that contain the search string\n        IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, 'software engineer'), 0), 99999) DESC,\n        # order third by results that contain the first component of the search string\n        IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, 'software'), 0), 99999) DESC,\n        # order forth by results that contain the second component of the search string\n        IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, 'engineer'), 0), 99999) DESC,\n        # order alphabetically\n        job_title,\n        IFNULL(NULLIF(INSTR(job_description COLLATE utf8mb4_0900_ai_ci, 'software engineer'), 0), 99999);\n</code></pre>\n<p>When I run this query in the MySQL terminal it runs fine. However, when I run it through JDBC, where <code>searchTokens = ['software', 'engineer']</code></p>\n<pre><code>var searchTokens = searchValue.split(&quot; &quot;);\n\nString query = &quot;SELECT * FROM jobs WHERE 0=0 \\n&quot;;\n\nfor (String token : searchTokens) {\n    query += String.format(&quot;    OR job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%%', '%s', '%%')\\n&quot;, token);\n    query += String.format(&quot;    OR job_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%%', '%s', '%%')\\n&quot;, token);\n}\n\nquery += &quot;    AND date_posted &gt;= now() - INTERVAL 30 DAY\\n ORDER BY\\n&quot;;\nquery += String.format(&quot;    job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%s', '%%') DESC,\\n&quot;, searchValue);\nquery +=\n    String.format(&quot;    IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, '%s'), 0), 99999),\\n&quot;, searchValue);\n\nfor (String token : searchTokens) {\n    query +=\n        String.format(&quot;    IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, '%s'), 0), 99999),\\n&quot;, token);\n}\n\nquery += String.format(&quot;    job_title,\\n&quot; +\n        &quot;    IFNULL(NULLIF(INSTR(job_description COLLATE utf8mb4_0900_ai_ci, '%s'), 0), 99999);&quot;, searchValue);\n\nList&lt;Map&lt;String, Object&gt;&gt; result = jdbcTemplate.queryForList(query);\n</code></pre>\n<p>I get this error:</p>\n<pre><code>nested exception is org.springframework.jdbc.UncategorizedSQLException: StatementCallback; uncategorized SQLException for SQL [SELECT * FROM jobs WHERE 0=0 \n    OR job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%', 'software', '%')\n    OR job_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%', 'software', '%')\n    OR job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%', 'engineer', '%')\n    OR job_description COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('%', 'engineer', '%')\n    AND date_posted &gt;= now() - INTERVAL 30 DAY\n ORDER BY\n    job_title COLLATE utf8mb4_0900_ai_ci LIKE CONCAT('software engineer', '%') DESC,\n    IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, 'software engineer'), 0), 99999),\n    IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, 'software'), 0), 99999),\n    IFNULL(NULLIF(INSTR(job_title COLLATE utf8mb4_0900_ai_ci, 'engineer'), 0), 99999),\n    job_title,\n    IFNULL(NULLIF(INSTR(job_description COLLATE utf8mb4_0900_ai_ci, 'software engineer'), 0), 99999);]; SQL state [HY001]; error code [1038]; Out of sort memory, consider increasing server sort buffer size; nested exception is java.sql.SQLException: Out of sort memory, consider increasing server sort buffer size] with root cause\n\njava.sql.SQLException: Out of sort memory, consider increasing server sort buffer size\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.17.jar:8.0.17]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.17.jar:8.0.17]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.17.jar:8.0.17]\n    at com.mysql.cj.jdbc.StatementImpl.executeQuery(StatementImpl.java:1200) ~[mysql-connector-java-8.0.17.jar:8.0.17]\n    at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439) ~[spring-jdbc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376) ~[spring-jdbc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452) ~[spring-jdbc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462) ~[spring-jdbc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.jdbc.core.JdbcTemplate.queryForList(JdbcTemplate.java:490) ~[spring-jdbc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at com.jobtech.controller.JobroleSearchController.submit(JobroleSearchController.java:49) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]\n</code></pre>\n<p>I have tried setting sort_buffer_size to 256K, and this error is still persisting. However, I have read that it is bad to set the sort buffer size too large. What is causing my error in this SQL statement when it runs perfectly fine in the MySQL terminal?</p>\n"},{"tags":["java","amazon-web-services","jdbc","playframework","aws-secrets-manager"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":1,"creation_date":1638545544,"post_id":70211623,"comment_id":124124923,"body_markdown":"I would look at using the recommended Java SDK which is AWS SDK for Java V2. See https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/secretsmanager","body":"I would look at using the recommended Java SDK which is AWS SDK for Java V2. See <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/secretsmanager\" rel=\"nofollow noreferrer\">github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/&hellip;</a>"},{"owner":{"account_id":1887052,"reputation":710,"user_id":1706062,"accept_rate":67,"display_name":"Neel Kamal"},"score":1,"creation_date":1638680818,"post_id":70211623,"comment_id":124150181,"body_markdown":"This example is for fetching secrets from the secret manager. It will need me to create a library that will fetch credentials from aws before establishing a database connection. I am looking for Secrets Manager JDBC which can do this work for me.","body":"This example is for fetching secrets from the secret manager. It will need me to create a library that will fetch credentials from aws before establishing a database connection. I am looking for Secrets Manager JDBC which can do this work for me."}],"owner":{"account_id":1887052,"reputation":710,"user_id":1706062,"accept_rate":67,"display_name":"Neel Kamal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":0,"score":11,"last_activity_date":1638766379,"creation_date":1638521263,"question_id":70211623,"body_markdown":"I am trying to implement aws secret manager in java play framework. I followed the steps in this article https://www.geekyhacker.com/2020/05/09/getting-database-credentials-from-aws-secrets-manager-in-spring-boot/ to implement it in springboot first which worked perfectly.\r\n\r\nNow, I am following the same steps in play framework.\r\n\r\nStep 1: I added following dependencies in build.sbt\r\n\r\n    libraryDependencies ++= Seq(\r\n      &quot;com.amazonaws&quot; % &quot;aws-java-sdk&quot; % &quot;1.12.122&quot;,\r\n      &quot;com.amazonaws.secretsmanager&quot; % &quot;aws-secretsmanager-jdbc&quot; % &quot;1.0.6&quot;,\r\n      &quot;com.fasterxml.jackson.module&quot; %% &quot;jackson-module-scala&quot; % &quot;2.12.2&quot;\r\n    )\r\n\r\nOther relevant dependencies includes:\r\n\r\n    libraryDependencies ++= Seq(\r\n      &quot;mysql&quot; % &quot;mysql-connector-java&quot; % &quot;8.0.21&quot;\r\n    )\r\n    libraryDependencies ++= Seq(\r\n      javaJpa,\r\n      &quot;org.hibernate&quot; % &quot;hibernate-core&quot; % &quot;5.4.21.Final&quot;, // it is JPA implementation\r\n      &quot;javax.validation&quot; % &quot;validation-api&quot; % &quot;2.0.1.Final&quot; // added this because an issue was coming while running\r\n    )\r\n\r\nStep 2: updated the conf file\r\n\r\nOld config (which is working perfectly fine)\r\n\r\n    play.db {\r\n      default = unclassified\r\n    }\r\n    base_db_url = &quot;jdbc:mysql://{my_rds_endpoint}/&quot;\r\n    db_annotations= &quot;?createDatabaseIfNotExist=true&quot;\r\n    base_db_user_name= &quot;{rds_user_name}&quot;\r\n    base_db_password= &quot;{rds_password}&quot;\r\n    \r\n    db {\r\n      unclassified.driver = com.mysql.cj.jdbc.Driver//com.mysql.cj.jdbc.Driver\r\n      unclassified.jndiName = UnclassifiedDS\r\n      unclassified.url= ${base_db_url}&quot;unclassified_&quot;${serverEnvironment}${db_annotations}\r\n      unclassified.username=${base_db_user_name}\r\n      unclassified.password=${base_db_password}\r\n    }\r\n\r\n\r\n\r\n\r\nNew config:\r\n\r\n    play.db {\r\n          default = unclassified\r\n        }\r\n        base_db_url = &quot;jdbc-secretsmanager:mysql://{my-rds-endpoint}/&quot;\r\n        db_annotations= &quot;?createDatabaseIfNotExist=true&quot;\r\n        base_db_user_name= &quot;{secret-name in secret manager}&quot;\r\n    db {    \r\n        unclassified.driver=com.amazonaws.secretsmanager.sql.AWSSecretsManagerMySQLDriver\r\n        unclassified.jndiName = UnclassifiedDS\r\n        unclassified.url= ${base_db_url}&quot;unclassified_&quot;${serverEnvironment}${db_annotations}\r\n        unclassified.username=${base_db_user_name}\r\n    }\r\n\r\nBut getting the error: Configuration error [Cannot initialize to database] Caused by: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\r\n\r\nCan anyone help me here?\r\n","title":"Implementing AWS Secret Manager in Java Play Framework","body":"<p>I am trying to implement aws secret manager in java play framework. I followed the steps in this article <a href=\"https://www.geekyhacker.com/2020/05/09/getting-database-credentials-from-aws-secrets-manager-in-spring-boot/\" rel=\"noreferrer\">https://www.geekyhacker.com/2020/05/09/getting-database-credentials-from-aws-secrets-manager-in-spring-boot/</a> to implement it in springboot first which worked perfectly.</p>\n<p>Now, I am following the same steps in play framework.</p>\n<p>Step 1: I added following dependencies in build.sbt</p>\n<pre><code>libraryDependencies ++= Seq(\n  &quot;com.amazonaws&quot; % &quot;aws-java-sdk&quot; % &quot;1.12.122&quot;,\n  &quot;com.amazonaws.secretsmanager&quot; % &quot;aws-secretsmanager-jdbc&quot; % &quot;1.0.6&quot;,\n  &quot;com.fasterxml.jackson.module&quot; %% &quot;jackson-module-scala&quot; % &quot;2.12.2&quot;\n)\n</code></pre>\n<p>Other relevant dependencies includes:</p>\n<pre><code>libraryDependencies ++= Seq(\n  &quot;mysql&quot; % &quot;mysql-connector-java&quot; % &quot;8.0.21&quot;\n)\nlibraryDependencies ++= Seq(\n  javaJpa,\n  &quot;org.hibernate&quot; % &quot;hibernate-core&quot; % &quot;5.4.21.Final&quot;, // it is JPA implementation\n  &quot;javax.validation&quot; % &quot;validation-api&quot; % &quot;2.0.1.Final&quot; // added this because an issue was coming while running\n)\n</code></pre>\n<p>Step 2: updated the conf file</p>\n<p>Old config (which is working perfectly fine)</p>\n<pre><code>play.db {\n  default = unclassified\n}\nbase_db_url = &quot;jdbc:mysql://{my_rds_endpoint}/&quot;\ndb_annotations= &quot;?createDatabaseIfNotExist=true&quot;\nbase_db_user_name= &quot;{rds_user_name}&quot;\nbase_db_password= &quot;{rds_password}&quot;\n\ndb {\n  unclassified.driver = com.mysql.cj.jdbc.Driver//com.mysql.cj.jdbc.Driver\n  unclassified.jndiName = UnclassifiedDS\n  unclassified.url= ${base_db_url}&quot;unclassified_&quot;${serverEnvironment}${db_annotations}\n  unclassified.username=${base_db_user_name}\n  unclassified.password=${base_db_password}\n}\n</code></pre>\n<p>New config:</p>\n<pre><code>play.db {\n      default = unclassified\n    }\n    base_db_url = &quot;jdbc-secretsmanager:mysql://{my-rds-endpoint}/&quot;\n    db_annotations= &quot;?createDatabaseIfNotExist=true&quot;\n    base_db_user_name= &quot;{secret-name in secret manager}&quot;\ndb {    \n    unclassified.driver=com.amazonaws.secretsmanager.sql.AWSSecretsManagerMySQLDriver\n    unclassified.jndiName = UnclassifiedDS\n    unclassified.url= ${base_db_url}&quot;unclassified_&quot;${serverEnvironment}${db_annotations}\n    unclassified.username=${base_db_user_name}\n}\n</code></pre>\n<p>But getting the error: Configuration error [Cannot initialize to database] Caused by: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.</p>\n<p>Can anyone help me here?</p>\n"},{"tags":["java","date","groovy","jmeter"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1638752981,"post_id":70239682,"comment_id":124164970,"body_markdown":"I bet it&#39;s your function. But you didn&#39;t provide the code. So, just a guess.","body":"I bet it&#39;s your function. But you didn&#39;t provide the code. So, just a guess."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638766206,"creation_date":1638766206,"answer_id":70241009,"question_id":70239682,"body_markdown":"I cannot reproduce it using your approach:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSo the only option I can think of is that your `${RandomGeneratedVariable}` variable doesn&#39;t have its anticipated value, double check it using [Debug Sampler and View Results Tree listener][2] combination\r\n\r\nIn case you won&#39;t be able to get to the root cause of the error you can replace the variable with JMeter&#39;s [__Random() function][3] like\r\n\r\n\r\n    ${__timeShift(yyyyMMdd,,P${__Random(0,999)}D,,outputDate)}\r\n\r\n\r\n\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n----------\r\nYou mention `groovy 3.0.7 built-in language` however I also fail to see where and how it can be used, JMeter Functions are being evaluated in the place where they&#39;re being called, there is no need to perform any extra coding on top of them, if you do - you&#39;re supposed to share your code in order to get support \r\n\r\n  [1]: https://i.stack.imgur.com/zhxuY.png\r\n  [2]: https://www.blazemeter.com/blog/how-debug-your-apache-jmeter-script/\r\n  [3]: https://jmeter.apache.org/usermanual/functions.html#__Random\r\n  [4]: https://i.stack.imgur.com/52jwa.png","title":"Custom TimeShift function gives warning output all the time","body":"<p>I cannot reproduce it using your approach:</p>\n<p><a href=\"https://i.stack.imgur.com/zhxuY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zhxuY.png\" alt=\"enter image description here\" /></a></p>\n<p>So the only option I can think of is that your <code>${RandomGeneratedVariable}</code> variable doesn't have its anticipated value, double check it using <a href=\"https://www.blazemeter.com/blog/how-debug-your-apache-jmeter-script/\" rel=\"nofollow noreferrer\">Debug Sampler and View Results Tree listener</a> combination</p>\n<p>In case you won't be able to get to the root cause of the error you can replace the variable with JMeter's <a href=\"https://jmeter.apache.org/usermanual/functions.html#__Random\" rel=\"nofollow noreferrer\">__Random() function</a> like</p>\n<pre><code>${__timeShift(yyyyMMdd,,P${__Random(0,999)}D,,outputDate)}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/52jwa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/52jwa.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>You mention <code>groovy 3.0.7 built-in language</code> however I also fail to see where and how it can be used, JMeter Functions are being evaluated in the place where they're being called, there is no need to perform any extra coding on top of them, if you do - you're supposed to share your code in order to get support</p>\n"}],"owner":{"account_id":23556442,"reputation":11,"user_id":17598394,"display_name":"mateush998"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638766206,"creation_date":1638749550,"question_id":70239682,"body_markdown":"My custom timeShift function in jMeter 5.4.1 outputs &quot;Text cannot be parsed to a Duration&quot; all the time. I&#39;m using groovy 3.0.7 built-in language. Function looks like this:\r\n\r\n    $(__timeShift(yyyyMMdd,,P$(RandomGeneratedVariable)D,, outputDate)\r\n\r\nThis &quot;**RandomGeneratedVariable**&quot; is generated by simple Random Variable generator controller built-in jMeter. My goal was to create a current date + randomly generated number 000-999 everytime when some script is using &#39;**outputDate**&#39; variable. Funny though it works. I&#39;m getting randomly generated date that passes system validation. Is it just a jMeter known issue or my function is wrongly created?\r\n\r\nBest Regards!\r\n","title":"Custom TimeShift function gives warning output all the time","body":"<p>My custom timeShift function in jMeter 5.4.1 outputs &quot;Text cannot be parsed to a Duration&quot; all the time. I'm using groovy 3.0.7 built-in language. Function looks like this:</p>\n<pre><code>$(__timeShift(yyyyMMdd,,P$(RandomGeneratedVariable)D,, outputDate)\n</code></pre>\n<p>This &quot;<strong>RandomGeneratedVariable</strong>&quot; is generated by simple Random Variable generator controller built-in jMeter. My goal was to create a current date + randomly generated number 000-999 everytime when some script is using '<strong>outputDate</strong>' variable. Funny though it works. I'm getting randomly generated date that passes system validation. Is it just a jMeter known issue or my function is wrongly created?</p>\n<p>Best Regards!</p>\n"},{"tags":["java","xls","slk"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639157275,"post_id":70240995,"comment_id":124285065,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":20662456,"reputation":17,"user_id":15170137,"display_name":"codeitforfuture"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638766081,"creation_date":1638766081,"question_id":70240995,"body_markdown":"i have a sylk file that i was trying to convert to xls, but in vain, i tried every possible way in java but it alwayse give me a file like pictures i shared[enter image description here][1].\r\nso i want to extract the important data from that file and write it in an other xls file. \r\n\r\nthe algorithm is clean in my head but i dont know how to interpret it in java code. \r\n\r\ni have a file .xls that has the data unorganised, but with the exact X,Y, i need to extract that data and put it in on other xls file with the X,Y of each information.\r\n\r\nthe data that i need alwayse exist in the line that starts with &quot;C;&quot;[enter image description here][2]\r\n\r\n\r\nFor example in the picture in row 128 i need as data B.C.E.A.O in the other xls file it needs to be in cell(1,2) as the Y right before it, is Y2 (Row 127), and the X (Row 126) right before it, is 1\r\ni hope my request is pretty clear, i can add any more informations needed  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7ikyH.png\r\n  [2]: https://i.stack.imgur.com/mN8TZ.png","title":"Collect stecific data from excel file to an other","body":"<p>i have a sylk file that i was trying to convert to xls, but in vain, i tried every possible way in java but it alwayse give me a file like pictures i shared<a href=\"https://i.stack.imgur.com/7ikyH.png\" rel=\"nofollow noreferrer\">enter image description here</a>.\nso i want to extract the important data from that file and write it in an other xls file.</p>\n<p>the algorithm is clean in my head but i dont know how to interpret it in java code.</p>\n<p>i have a file .xls that has the data unorganised, but with the exact X,Y, i need to extract that data and put it in on other xls file with the X,Y of each information.</p>\n<p>the data that i need alwayse exist in the line that starts with &quot;C;&quot;<a href=\"https://i.stack.imgur.com/mN8TZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>For example in the picture in row 128 i need as data B.C.E.A.O in the other xls file it needs to be in cell(1,2) as the Y right before it, is Y2 (Row 127), and the X (Row 126) right before it, is 1\ni hope my request is pretty clear, i can add any more informations needed</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638764663,"creation_date":1638762742,"answer_id":70240681,"question_id":70240369,"body_markdown":"If you can &quot;prepend something&quot; in front of your properties *and* &quot;flatten&quot; `max.poll.records` like:\r\n\r\n\tfoo.bar.topic1.topicname =testTopic1\r\n\tfoo.bar.topic1.listenerid=id1\r\n\tfoo.bar.topic1.max-poll-records=5\r\n\tfoo.bar.topic2.topicname =testTopic2\r\n\tfoo.bar.topic2.listenerid=id2\r\n\tfoo.bar.topic2.max-poll-records=5\r\n\r\nThen (it&#39;s a 14-liner,) we can model them like:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @ConfigurationProperties(&quot;foo&quot;)\r\n    public class MyProperties { // must be public! regarding constructors, read https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.java-bean-binding\r\n\r\n      Map&lt;String, CustomKafkaListenerProperty&gt; bar;\r\n\r\n    }\r\n\r\n..and:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    class CustomKafkaListenerProperty { // can be non: pulic/static/nested\r\n        String topicname;\r\n        String listenerId;\r\n        String maxPollRecords;\r\n    }\r\n\r\n... enable them:\r\n\r\n    @SpringBootApplication\r\n    // when they are in a custom file: @PropertySource((&quot;classpath:/com/example/some.properties&quot;))\r\n    @EnableConfigurationProperties(MyProperties.class)\r\n    public class SpringApp { ...\r\n\r\nSo the test:\r\n\r\n\t@SpringBootTest\r\n\tclass SpringAppTests { \r\n\r\n\t  @Autowired\r\n\t  MyProperties props;\r\n\r\n\t  @Test\r\n\t  void contextLoads() {\r\n\t\tSystem.out.println(props);\r\n\t\tassertNotNull(props);\r\n\t  }\r\n\t}\r\n\r\n...will pass! ...and give us following  output:\r\n\r\n    MyProperties(bar={\r\n      topic2 = MyProperties.CustomKafkaListenerProperty(topicname=testTopic2, listenerId=id2, maxPollRecords=5),\r\n      topic1 = MyProperties.CustomKafkaListenerProperty(topicname=testTopic1, listenerId=id1, maxPollRecords=5)}\r\n    )\r\n\r\n(originally unformatted)\r\n\r\nProblems:\r\n\r\n- We *have to* pre-pend the properties as they are. (i see no other way (yet))\r\n\r\n- We *have to* change `max.poll.records` to `max-poll-records` (kebab-case).\r\n\r\n","title":"Using ConfigurationProperties to build Java POJO Map","body":"<p>If you can &quot;prepend something&quot; in front of your properties <em>and</em> &quot;flatten&quot; <code>max.poll.records</code> like:</p>\n<pre><code>foo.bar.topic1.topicname =testTopic1\nfoo.bar.topic1.listenerid=id1\nfoo.bar.topic1.max-poll-records=5\nfoo.bar.topic2.topicname =testTopic2\nfoo.bar.topic2.listenerid=id2\nfoo.bar.topic2.max-poll-records=5\n</code></pre>\n<p>Then (it's a 14-liner,) we can model them like:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@ConfigurationProperties(&quot;foo&quot;)\npublic class MyProperties { // must be public! regarding constructors, read https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.java-bean-binding\n\n  Map&lt;String, CustomKafkaListenerProperty&gt; bar;\n\n}\n</code></pre>\n<p>..and:</p>\n<pre><code>@Getter\n@Setter\n@ToString\nclass CustomKafkaListenerProperty { // can be non: pulic/static/nested\n    String topicname;\n    String listenerId;\n    String maxPollRecords;\n}\n</code></pre>\n<p>... enable them:</p>\n<pre><code>@SpringBootApplication\n// when they are in a custom file: @PropertySource((&quot;classpath:/com/example/some.properties&quot;))\n@EnableConfigurationProperties(MyProperties.class)\npublic class SpringApp { ...\n</code></pre>\n<p>So the test:</p>\n<pre><code>@SpringBootTest\nclass SpringAppTests { \n\n  @Autowired\n  MyProperties props;\n\n  @Test\n  void contextLoads() {\n    System.out.println(props);\n    assertNotNull(props);\n  }\n}\n</code></pre>\n<p>...will pass! ...and give us following  output:</p>\n<pre><code>MyProperties(bar={\n  topic2 = MyProperties.CustomKafkaListenerProperty(topicname=testTopic2, listenerId=id2, maxPollRecords=5),\n  topic1 = MyProperties.CustomKafkaListenerProperty(topicname=testTopic1, listenerId=id1, maxPollRecords=5)}\n)\n</code></pre>\n<p>(originally unformatted)</p>\n<p>Problems:</p>\n<ul>\n<li><p>We <em>have to</em> pre-pend the properties as they are. (i see no other way (yet))</p>\n</li>\n<li><p>We <em>have to</em> change <code>max.poll.records</code> to <code>max-poll-records</code> (kebab-case).</p>\n</li>\n</ul>\n"}],"owner":{"account_id":6881862,"reputation":541,"user_id":5288331,"accept_rate":50,"display_name":"Digital"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1535,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638764663,"creation_date":1638758640,"question_id":70240369,"body_markdown":"I have below some of the properties in the HashMap as key value pair\r\n\r\n    topic1.topicname =testTopic1\r\n    topic1.listenerid=id1\r\n    topic1.max.poll.records=5\r\n    topic2.topicname =testTopic2\r\n    topic2.listenerid=id2\r\n    topic2.max.poll.records=5\r\n\r\nAnd I want to convert the above key value pair into java pojo configuration properties as below\r\n\r\n    Map&lt;String, CustomKafkaListenerProperty&gt; props;\r\n\r\nwith key as topic1 and topic2, and value as corresponding CustomKafkaListenerProperty pojo \r\n\r\nthe attributes in CustomKafkaListenerProperty Pojo as below\r\n\r\n    private String topicname;\r\n    private String listenerId;\r\n    private String maxPollRecords;\r\n\r\nNeed help on how to do this with spring @ConfigurationProperties","title":"Using ConfigurationProperties to build Java POJO Map","body":"<p>I have below some of the properties in the HashMap as key value pair</p>\n<pre><code>topic1.topicname =testTopic1\ntopic1.listenerid=id1\ntopic1.max.poll.records=5\ntopic2.topicname =testTopic2\ntopic2.listenerid=id2\ntopic2.max.poll.records=5\n</code></pre>\n<p>And I want to convert the above key value pair into java pojo configuration properties as below</p>\n<pre><code>Map&lt;String, CustomKafkaListenerProperty&gt; props;\n</code></pre>\n<p>with key as topic1 and topic2, and value as corresponding CustomKafkaListenerProperty pojo</p>\n<p>the attributes in CustomKafkaListenerProperty Pojo as below</p>\n<pre><code>private String topicname;\nprivate String listenerId;\nprivate String maxPollRecords;\n</code></pre>\n<p>Need help on how to do this with spring @ConfigurationProperties</p>\n"},{"tags":["java","jvm","coldfusion-9"],"answers":[{"tags":[],"owner":{"account_id":1797918,"reputation":13470,"user_id":1636917,"accept_rate":100,"display_name":"Miguel-F"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638537742,"creation_date":1638537742,"answer_id":70215001,"question_id":70214676,"body_markdown":"The path within your jvm.config file (note that it is not config.jvm as you mentioned) should not include the &#39;jre&#39; folder. It also seems like you have to double up the slashes to escape them.  It should look like this:\r\n\r\n    java.home=C:\\\\Program Files\\\\Java\\\\jdk1.7.0_80\r\n\r\nThat should get you passed that error.\r\n\r\n*All of these versions are unsupported of course. You should upgrade to supported versions. You will keep running into issues.*","title":"Installing ColdFusion 9.0.1 Updates and JVM","body":"<p>The path within your jvm.config file (note that it is not config.jvm as you mentioned) should not include the 'jre' folder. It also seems like you have to double up the slashes to escape them.  It should look like this:</p>\n<pre><code>java.home=C:\\\\Program Files\\\\Java\\\\jdk1.7.0_80\n</code></pre>\n<p>That should get you passed that error.</p>\n<p><em>All of these versions are unsupported of course. You should upgrade to supported versions. You will keep running into issues.</em></p>\n"}],"owner":{"account_id":10132431,"reputation":3,"user_id":16746932,"display_name":"Tayyab Hussain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70215001,"answer_count":1,"score":0,"last_activity_date":1638764649,"creation_date":1638536195,"question_id":70214676,"body_markdown":"I am updating ColdFusion 9 to 9.0.1, I followed all the steps mentioned in https://helpx.adobe.com/coldfusion/kb/cumulative-hotfix-4-coldfusion-901.html. Then followed instructions on https://helpx.adobe.com/coldfusion/kb/change-coldfusion-jvm.html. Copied MSVCR100.dll from C:\\program files\\java\\jdk1.7.0_21\\jre\\bin\\ folder to CF9\\runtime\\bin. Changed the config.jvm to Java.home=C:/Program Files/Java/jdk1.7.0_80/jre. Then Restarted the ColdFusion Server and I got the following Error\r\n[enter image description here]\r\n[1]: https://i.stack.imgur.com/qovy0.png\r\nhttps://i.stack.imgur.com/qovy0.png\r\n\r\nHelp Needed","title":"Installing ColdFusion 9.0.1 Updates and JVM","body":"<p>I am updating ColdFusion 9 to 9.0.1, I followed all the steps mentioned in <a href=\"https://helpx.adobe.com/coldfusion/kb/cumulative-hotfix-4-coldfusion-901.html\" rel=\"nofollow noreferrer\">https://helpx.adobe.com/coldfusion/kb/cumulative-hotfix-4-coldfusion-901.html</a>. Then followed instructions on <a href=\"https://helpx.adobe.com/coldfusion/kb/change-coldfusion-jvm.html\" rel=\"nofollow noreferrer\">https://helpx.adobe.com/coldfusion/kb/change-coldfusion-jvm.html</a>. Copied MSVCR100.dll from C:\\program files\\java\\jdk1.7.0_21\\jre\\bin\\ folder to CF9\\runtime\\bin. Changed the config.jvm to Java.home=C:/Program Files/Java/jdk1.7.0_80/jre. Then Restarted the ColdFusion Server and I got the following Error\n[enter image description here]\n[1]: <a href=\"https://i.stack.imgur.com/qovy0.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/qovy0.png</a>\n<a href=\"https://i.stack.imgur.com/qovy0.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/qovy0.png</a></p>\n<p>Help Needed</p>\n"},{"tags":["java","csv","azure-blob-storage"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638958408,"post_id":70209781,"comment_id":124223778,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":8793732,"reputation":59,"user_id":6577569,"display_name":"Hiroyuki Sato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638763898,"creation_date":1638763898,"answer_id":70240792,"question_id":70209781,"body_markdown":"The error is `Can not deserialize instance of java.util.LinkedHashMap out of START_ARRAY token`, So probably your configuration is incorrect.\r\nCheck your configuration again.\r\n\r\n\r\nExpected value (Hash)\r\n\r\n```yaml\r\n  key: value\r\n```\r\n\r\n(Maybe) Your configuration. (incorrect)\r\n\r\n```yaml\r\n  - key: value\r\n```","title":"Error: Can not deserialize instance of java.util.LinkedHashMap out of START_ARRAY token at [Source: N/A; line: -1, column: -1]","body":"<p>The error is <code>Can not deserialize instance of java.util.LinkedHashMap out of START_ARRAY token</code>, So probably your configuration is incorrect.\nCheck your configuration again.</p>\n<p>Expected value (Hash)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  key: value\n</code></pre>\n<p>(Maybe) Your configuration. (incorrect)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  - key: value\n</code></pre>\n"}],"owner":{"account_id":21863816,"reputation":1,"user_id":16154278,"display_name":"yositigu2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638763898,"creation_date":1638507992,"question_id":70209781,"body_markdown":"I&#39;m trying to get CSV data from Azure Blob storage using Embulk.\r\n\r\nI get the following error, please tell me how to solve it.\r\n\r\nI don&#39;t know what caused the error.\r\n\r\nIt seemed that the CSV reference was made.\r\n\r\nEmbulk command execution result\r\n\r\n```\r\nPS C:\\Users\\XXXXXX&gt; C:\\Users\\XXXXXX\\Embulk_bundle\\embulk.bat run -b C:\\Users\\XXXXXXX\\Embulk_bundle\\bundle C:\\Users\\XXXXXX\\Embulk_bundle\\config\\sample.yml\r\n2021-12-03 13:46:09.802 +0900: Embulk v0.9.23\r\n2021-12-03 13:46:10.888 +0900 [WARN] (main): DEPRECATION: JRuby org.jruby.embed.ScriptingContainer is directly injected.\r\n2021-12-03 13:46:13.686 +0900 [INFO] (main): BUNDLE_GEMFILE is being set: &quot;C:\\Users\\XXXXXX\\Embulk_bundle\\bundle\\Gemfile&quot;\r\n2021-12-03 13:46:13.694 +0900 [INFO] (main): Gem&#39;s home and path are being cleared.\r\n2021-12-03 13:46:15.513 +0900 [INFO] (main): Started Embulk v0.9.23\r\n2021-12-03 13:46:15.701 +0900 [INFO] (0001:transaction): Loaded plugin embulk-input-azure_blob_storage (0.3.1)\r\n2021-12-03 13:46:15.801 +0900 [INFO] (0001:transaction): Loaded plugin embulk-output-postgresql (0.9.0)\r\n2021-12-03 13:46:16.526 +0900 [INFO] (0001:transaction): add file to the request list: XXXXXX/XXXXXXX/20211115/part-00000-tid-8457700275164717816-fc017e47-6ecb-46aa-be90-60e0a3847af7-1521-1-c000.csv.gz\r\n2021-12-03 13:46:16.608 +0900 [INFO] (0001:transaction): Using local thread executor with max_threads=4 / output tasks 2 = input tasks 1 * 2\r\norg.embulk.exec.PartialExecutionException: org.embulk.config.ConfigException: java.lang.IllegalArgumentException: Can not deserialize instance of java.util.LinkedHashMap out of START_ARRAY token\r\n at [Source: N/A; line: -1, column: -1]\r\n        at org.embulk.exec.BulkLoader$LoaderState.buildPartialExecuteException(BulkLoader.java:340)\r\n        at org.embulk.exec.BulkLoader.doRun(BulkLoader.java:566)\r\n        at org.embulk.exec.BulkLoader.access$000(BulkLoader.java:35)\r\n        at org.embulk.exec.BulkLoader$1.run(BulkLoader.java:353)\r\n        at org.embulk.exec.BulkLoader$1.run(BulkLoader.java:350)\r\n        at org.embulk.spi.Exec.doWith(Exec.java:22)\r\n        at org.embulk.exec.BulkLoader.run(BulkLoader.java:350)\r\n        at org.embulk.EmbulkEmbed.run(EmbulkEmbed.java:242)\r\n        at org.embulk.EmbulkRunner.runInternal(EmbulkRunner.java:291)\r\n        at org.embulk.EmbulkRunner.run(EmbulkRunner.java:155)\r\n        at org.embulk.cli.EmbulkRun.runSubcommand(EmbulkRun.java:431)\r\n        at org.embulk.cli.EmbulkRun.run(EmbulkRun.java:90)\r\n        at org.embulk.cli.Main.main(Main.java:64)\r\n        Suppressed: java.lang.NullPointerException\r\n                at org.embulk.exec.BulkLoader.doCleanup(BulkLoader.java:463)\r\n                at org.embulk.exec.BulkLoader$3.run(BulkLoader.java:397)\r\n                at org.embulk.exec.BulkLoader$3.run(BulkLoader.java:394)\r\n                at org.embulk.spi.Exec.doWith(Exec.java:22)\r\n                at org.embulk.exec.BulkLoader.cleanup(BulkLoader.java:394)\r\n                at org.embulk.EmbulkEmbed.run(EmbulkEmbed.java:245)\r\n                ... 5 more\r\n\r\n```\r\n\r\nCSV sample in Azure\r\n\r\n```\r\nMesh100ID,CityOaza,Pref,Dim5,YamaLine,WeekDate,cnt_All,cnt_OK,cnt_NG,cnt_AOK,cnt_ANG,cnt_LOK,cnt_LNG,cnt_G,cnt_S,_G_RATE,La_OT,wkt\r\n36225769203,XXXXXX,XXXX,XXXXX,,9999/11/08,1,0,0,0,0,1,0,0,0,0.0,0,&quot;POLYGON ((122.9975 24.4666666666667, 122.99875 24.4666666666667, 122.99875 24.4675, 122.9975 24.4675, 122.9975 24.4666666666667))&quot;\r\n36233720112,XXXXX,XXXXXX,XXX,,9999/11/08,1,0,0,0,0,1,0,0,0,0.0,0,&quot;POLYGON ((123.8775 24.2675, 123.87875 24.2675, 123.87875 24.2683333333333, 123.8775 24.2683333333333, 123.8775 24.2675))&quot;\r\n\r\n```\r\n\r\n\r\n","title":"Error: Can not deserialize instance of java.util.LinkedHashMap out of START_ARRAY token at [Source: N/A; line: -1, column: -1]","body":"<p>I'm trying to get CSV data from Azure Blob storage using Embulk.</p>\n<p>I get the following error, please tell me how to solve it.</p>\n<p>I don't know what caused the error.</p>\n<p>It seemed that the CSV reference was made.</p>\n<p>Embulk command execution result</p>\n<pre><code>PS C:\\Users\\XXXXXX&gt; C:\\Users\\XXXXXX\\Embulk_bundle\\embulk.bat run -b C:\\Users\\XXXXXXX\\Embulk_bundle\\bundle C:\\Users\\XXXXXX\\Embulk_bundle\\config\\sample.yml\n2021-12-03 13:46:09.802 +0900: Embulk v0.9.23\n2021-12-03 13:46:10.888 +0900 [WARN] (main): DEPRECATION: JRuby org.jruby.embed.ScriptingContainer is directly injected.\n2021-12-03 13:46:13.686 +0900 [INFO] (main): BUNDLE_GEMFILE is being set: &quot;C:\\Users\\XXXXXX\\Embulk_bundle\\bundle\\Gemfile&quot;\n2021-12-03 13:46:13.694 +0900 [INFO] (main): Gem's home and path are being cleared.\n2021-12-03 13:46:15.513 +0900 [INFO] (main): Started Embulk v0.9.23\n2021-12-03 13:46:15.701 +0900 [INFO] (0001:transaction): Loaded plugin embulk-input-azure_blob_storage (0.3.1)\n2021-12-03 13:46:15.801 +0900 [INFO] (0001:transaction): Loaded plugin embulk-output-postgresql (0.9.0)\n2021-12-03 13:46:16.526 +0900 [INFO] (0001:transaction): add file to the request list: XXXXXX/XXXXXXX/20211115/part-00000-tid-8457700275164717816-fc017e47-6ecb-46aa-be90-60e0a3847af7-1521-1-c000.csv.gz\n2021-12-03 13:46:16.608 +0900 [INFO] (0001:transaction): Using local thread executor with max_threads=4 / output tasks 2 = input tasks 1 * 2\norg.embulk.exec.PartialExecutionException: org.embulk.config.ConfigException: java.lang.IllegalArgumentException: Can not deserialize instance of java.util.LinkedHashMap out of START_ARRAY token\n at [Source: N/A; line: -1, column: -1]\n        at org.embulk.exec.BulkLoader$LoaderState.buildPartialExecuteException(BulkLoader.java:340)\n        at org.embulk.exec.BulkLoader.doRun(BulkLoader.java:566)\n        at org.embulk.exec.BulkLoader.access$000(BulkLoader.java:35)\n        at org.embulk.exec.BulkLoader$1.run(BulkLoader.java:353)\n        at org.embulk.exec.BulkLoader$1.run(BulkLoader.java:350)\n        at org.embulk.spi.Exec.doWith(Exec.java:22)\n        at org.embulk.exec.BulkLoader.run(BulkLoader.java:350)\n        at org.embulk.EmbulkEmbed.run(EmbulkEmbed.java:242)\n        at org.embulk.EmbulkRunner.runInternal(EmbulkRunner.java:291)\n        at org.embulk.EmbulkRunner.run(EmbulkRunner.java:155)\n        at org.embulk.cli.EmbulkRun.runSubcommand(EmbulkRun.java:431)\n        at org.embulk.cli.EmbulkRun.run(EmbulkRun.java:90)\n        at org.embulk.cli.Main.main(Main.java:64)\n        Suppressed: java.lang.NullPointerException\n                at org.embulk.exec.BulkLoader.doCleanup(BulkLoader.java:463)\n                at org.embulk.exec.BulkLoader$3.run(BulkLoader.java:397)\n                at org.embulk.exec.BulkLoader$3.run(BulkLoader.java:394)\n                at org.embulk.spi.Exec.doWith(Exec.java:22)\n                at org.embulk.exec.BulkLoader.cleanup(BulkLoader.java:394)\n                at org.embulk.EmbulkEmbed.run(EmbulkEmbed.java:245)\n                ... 5 more\n\n</code></pre>\n<p>CSV sample in Azure</p>\n<pre><code>Mesh100ID,CityOaza,Pref,Dim5,YamaLine,WeekDate,cnt_All,cnt_OK,cnt_NG,cnt_AOK,cnt_ANG,cnt_LOK,cnt_LNG,cnt_G,cnt_S,_G_RATE,La_OT,wkt\n36225769203,XXXXXX,XXXX,XXXXX,,9999/11/08,1,0,0,0,0,1,0,0,0,0.0,0,&quot;POLYGON ((122.9975 24.4666666666667, 122.99875 24.4666666666667, 122.99875 24.4675, 122.9975 24.4675, 122.9975 24.4666666666667))&quot;\n36233720112,XXXXX,XXXXXX,XXX,,9999/11/08,1,0,0,0,0,1,0,0,0,0.0,0,&quot;POLYGON ((123.8775 24.2675, 123.87875 24.2675, 123.87875 24.2683333333333, 123.8775 24.2683333333333, 123.8775 24.2675))&quot;\n\n</code></pre>\n"},{"tags":["java","ssh","jsch"],"comments":[{"owner":{"account_id":2577836,"reputation":119494,"user_id":2235132,"display_name":"devnull"},"score":0,"creation_date":1390386397,"post_id":21280211,"comment_id":32065531,"body_markdown":"The command didn&#39;t succeed!","body":"The command didn&#39;t succeed!"},{"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"score":0,"creation_date":1390386637,"post_id":21280211,"comment_id":32065686,"body_markdown":"When I run the same command from console (putty) it works :/","body":"When I run the same command from console (putty) it works :/"},{"owner":{"account_id":237217,"reputation":784,"user_id":505223,"display_name":"manuskc"},"score":0,"creation_date":1390386780,"post_id":21280211,"comment_id":32065775,"body_markdown":"Try reading error message from channelExec.getErrStream()","body":"Try reading error message from channelExec.getErrStream()"},{"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"score":0,"creation_date":1390386811,"post_id":21280211,"comment_id":32065798,"body_markdown":"Tried @Manu it shows nothing :(","body":"Tried @Manu it shows nothing :("},{"owner":{"account_id":2467530,"reputation":1876,"user_id":2150274,"accept_rate":100,"display_name":"Damienknight"},"score":0,"creation_date":1390509000,"post_id":21280211,"comment_id":32133657,"body_markdown":"http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/Channel.html#getExitStatus%28%29","body":"<a href=\"http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/Channel.html#getExitStatus%28%29\" rel=\"nofollow noreferrer\">epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":210729,"reputation":1155,"user_id":462512,"display_name":"ymnk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390387885,"creation_date":1390387885,"answer_id":21280846,"question_id":21280211,"body_markdown":"&#39;-1&#39; means that the exit status code has not been received yet from the remote sshd.","title":"What is the reason to get exit status value -1 in JSch","body":"<p>'-1' means that the exit status code has not been received yet from the remote sshd.</p>\n"},{"tags":[],"owner":{"account_id":2467530,"reputation":1876,"user_id":2150274,"accept_rate":100,"display_name":"Damienknight"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1390509328,"creation_date":1390509328,"answer_id":21318764,"question_id":21280211,"body_markdown":"Note [the documentation][1] on getExitStatus().\r\n\r\nThe exit status will be -1 until the channel is closed.\r\n\r\n\r\n  [1]: http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/Channel.html#getExitStatus%28%29","title":"What is the reason to get exit status value -1 in JSch","body":"<p>Note <a href=\"http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/Channel.html#getExitStatus%28%29\" rel=\"noreferrer\">the documentation</a> on getExitStatus().</p>\n\n<p>The exit status will be -1 until the channel is closed.</p>\n"},{"tags":[],"owner":{"account_id":8045169,"reputation":116,"user_id":6065595,"display_name":"Xinyuan.Yan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525678242,"creation_date":1476361971,"answer_id":40021107,"question_id":21280211,"body_markdown":"[API Description][1] \r\n\r\nHere is my code. It works fine.\r\n\t\r\n\tpublic static Result sendCommand(String ip, Integer port, String userName, String password, String cmd) {\r\n\t\tSession session = null;\r\n\t\tChannelExec channel = null;\r\n\t\tResult result = null;\r\n\t\ttry {\r\n\t\t\tJSch jsch = new JSch();\r\n\t\t\tJSch.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t\t\t\r\n\t\t\tsession = jsch.getSession(userName, ip, port);\r\n\t\t\tsession.setPassword(password);\r\n\t\t\tsession.connect();   \r\n\t\t\t\r\n\t\t\tchannel = (ChannelExec)session.openChannel(&quot;exec&quot;);\r\n\t\t\tInputStream in = channel.getInputStream();\r\n\t\t\tchannel.setErrStream(System.err);\r\n\t\t    channel.setCommand(cmd);\r\n\t\t    channel.connect();\r\n\t\t    \r\n\t\t    StringBuilder message = new StringBuilder();\r\n\t\t    BufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n\t        String line = null;\r\n\t        while ((line = reader.readLine()) != null)\r\n\t        {\r\n\t        \tmessage.append(line).append(&quot;\\n&quot;);\r\n\t        }\r\n\t        channel.disconnect();\r\n\t        while (!channel.isClosed()) {\r\n\t        \t\r\n\t        }\r\n\t        result = new Result(channel.getExitStatus(),message.toString());\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\tif (session != null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsession.disconnect();\r\n\t\t\t\t} catch (Exception e) {\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n  [1]: http://epaul.github.io/jsch-documentation/simple.javadoc/","title":"What is the reason to get exit status value -1 in JSch","body":"<p><a href=\"http://epaul.github.io/jsch-documentation/simple.javadoc/\" rel=\"nofollow noreferrer\">API Description</a> </p>\n\n<p>Here is my code. It works fine.</p>\n\n<pre><code>public static Result sendCommand(String ip, Integer port, String userName, String password, String cmd) {\n    Session session = null;\n    ChannelExec channel = null;\n    Result result = null;\n    try {\n        JSch jsch = new JSch();\n        JSch.setConfig(\"StrictHostKeyChecking\", \"no\");\n\n        session = jsch.getSession(userName, ip, port);\n        session.setPassword(password);\n        session.connect();   \n\n        channel = (ChannelExec)session.openChannel(\"exec\");\n        InputStream in = channel.getInputStream();\n        channel.setErrStream(System.err);\n        channel.setCommand(cmd);\n        channel.connect();\n\n        StringBuilder message = new StringBuilder();\n        BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n        String line = null;\n        while ((line = reader.readLine()) != null)\n        {\n            message.append(line).append(\"\\n\");\n        }\n        channel.disconnect();\n        while (!channel.isClosed()) {\n\n        }\n        result = new Result(channel.getExitStatus(),message.toString());\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        if (session != null) {\n            try {\n                session.disconnect();\n            } catch (Exception e) {\n\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10131694,"reputation":1907,"user_id":7484853,"display_name":"Hasee Amarathunga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638763723,"creation_date":1638763723,"answer_id":70240778,"question_id":21280211,"body_markdown":"`channelName.getExitStatus()`\r\n\r\nit will retrieve the exit status of the remote command corresponding to your channel. If the command is **not yet terminated** (or this channel type has no command), it will return the status as **-1**.\r\n\r\nFor more got to [jsch documentation][1].\r\n\r\n\r\n  [1]: http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/Channel.html#getExitStatus%28%29","title":"What is the reason to get exit status value -1 in JSch","body":"<p><code>channelName.getExitStatus()</code></p>\n<p>it will retrieve the exit status of the remote command corresponding to your channel. If the command is <strong>not yet terminated</strong> (or this channel type has no command), it will return the status as <strong>-1</strong>.</p>\n<p>For more got to <a href=\"http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/Channel.html#getExitStatus%28%29\" rel=\"nofollow noreferrer\">jsch documentation</a>.</p>\n"}],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10541,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":21318764,"answer_count":4,"score":5,"last_activity_date":1638763723,"creation_date":1390386289,"question_id":21280211,"body_markdown":"I am trying to run a command on a remote Linux box from Java using JSch (SSH) API. The value of `exitStatus` is `-1` i.e. \r\n\r\n    int exitStatus = channelExec.getExitStatus()\r\n\r\nWhat is the possible reason to get a negative value?","title":"What is the reason to get exit status value -1 in JSch","body":"<p>I am trying to run a command on a remote Linux box from Java using JSch (SSH) API. The value of <code>exitStatus</code> is <code>-1</code> i.e.</p>\n<pre><code>int exitStatus = channelExec.getExitStatus()\n</code></pre>\n<p>What is the possible reason to get a negative value?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23555344,"reputation":463,"user_id":17597436,"display_name":"f877576"},"score":0,"creation_date":1638737563,"post_id":70238367,"comment_id":124161975,"body_markdown":"Could you try to replace int v = 60000; with Integer v = 60000;? \nwhat is the line you want me to change?\n@turing85","body":"Could you try to replace int v = 60000; with Integer v = 60000;?  what is the line you want me to change? @turing85"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638737758,"post_id":70238367,"comment_id":124162026,"body_markdown":"Please check my answer. It gives a full explanation and demos that show the behaviour. This comment will self-destruct shortly.","body":"Please check my answer. It gives a full explanation and demos that show the behaviour. This comment will self-destruct shortly."},{"owner":{"account_id":4280750,"reputation":1855,"user_id":3500196,"display_name":"Shivang Agarwal"},"score":0,"creation_date":1638739306,"post_id":70238367,"comment_id":124162426,"body_markdown":"Hey, System.identityHashCode(Object) return the same hash code for an object which is true when you are passing some object but in your case, you are passing a primitive parameter that is being autoboxed to its Wrapper class (everything generating a new autoboxed wrapper object). Therefore if you need to use this method then I would recommend you to use the Wrapper class instead of primitive.","body":"Hey, System.identityHashCode(Object) return the same hash code for an object which is true when you are passing some object but in your case, you are passing a primitive parameter that is being autoboxed to its Wrapper class (everything generating a new autoboxed wrapper object). Therefore if you need to use this method then I would recommend you to use the Wrapper class instead of primitive."}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1638741022,"creation_date":1638737699,"answer_id":70238474,"question_id":70238367,"body_markdown":"When we take a look at the signature of [`System::identityHashCode`][SystemIdentityHashCodeApi], we see that it takes an `Object` as parameter. The code provided, however, passes a primitive (`int`) as parameter. The `int` is [autoboxed][autoboxing] into the corresponding wrapper-class (in the given case: [`Integer`][IntegerApi]). Java does cache `Integer`s in a certain range by default, but `60_000` is out of the default-range. This means that the code can be rewritten to:\r\n\r\n    class Ideone {\r\n      public static void main(String[] args) {\r\n        int v = 60_000;\r\n        final Integer tmp1 = v;\r\n        final Integer tmp2 = v;\r\n        System.out.println(System.identityHashCode(tmp1));\r\n        System.out.println(System.identityHashCode(tmp2));\r\n        System.out.println(tmp1 == tmp2);\r\n      }\r\n    }\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][Ideone]\r\n\r\nNotice that this code is, for our discussion, identical with the code provided, but now we see that the code actually uses two instances of `Integer`. The behaviour is expected since `System:identityHashCode` uses `Object:hashCode`, and `Object:hashCode` will (almost always) return a unique id for each instance.\r\n\r\nIf we change the code to use only one `Integer` instance, the code works as expected:\r\n\r\n    class Ideone {\r\n      public static void main(String[] args) {\r\n        final Integer tmp1 = 60_000;\r\n        System.out.println(System.identityHashCode(tmp1));\r\n        System.out.println(System.identityHashCode(tmp1));\r\n        System.out.println(tmp1 == tmp1);\r\n      }\r\n    }\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][Idetwo]\r\n\r\n[SystemIdentityHashCodeApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#identityHashCode(java.lang.Object)\r\n\r\n[autoboxing]: https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\r\n\r\n[IntegerApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html\r\n\r\n[Ideone]: https://ideone.com/EXv1YS\r\n\r\n[Idetwo]: https://ideone.com/eZCtHW","title":"identityhashcode () of the variable changed java","body":"<p>When we take a look at the signature of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#identityHashCode(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>System::identityHashCode</code></a>, we see that it takes an <code>Object</code> as parameter. The code provided, however, passes a primitive (<code>int</code>) as parameter. The <code>int</code> is <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">autoboxed</a> into the corresponding wrapper-class (in the given case: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\"><code>Integer</code></a>). Java does cache <code>Integer</code>s in a certain range by default, but <code>60_000</code> is out of the default-range. This means that the code can be rewritten to:</p>\n<pre><code>class Ideone {\n  public static void main(String[] args) {\n    int v = 60_000;\n    final Integer tmp1 = v;\n    final Integer tmp2 = v;\n    System.out.println(System.identityHashCode(tmp1));\n    System.out.println(System.identityHashCode(tmp2));\n    System.out.println(tmp1 == tmp2);\n  }\n}\n</code></pre>\n<p><a href=\"https://ideone.com/EXv1YS\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n<p>Notice that this code is, for our discussion, identical with the code provided, but now we see that the code actually uses two instances of <code>Integer</code>. The behaviour is expected since <code>System:identityHashCode</code> uses <code>Object:hashCode</code>, and <code>Object:hashCode</code> will (almost always) return a unique id for each instance.</p>\n<p>If we change the code to use only one <code>Integer</code> instance, the code works as expected:</p>\n<pre><code>class Ideone {\n  public static void main(String[] args) {\n    final Integer tmp1 = 60_000;\n    System.out.println(System.identityHashCode(tmp1));\n    System.out.println(System.identityHashCode(tmp1));\n    System.out.println(tmp1 == tmp1);\n  }\n}\n</code></pre>\n<p><a href=\"https://ideone.com/eZCtHW\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n"}],"owner":{"account_id":23555344,"reputation":463,"user_id":17597436,"display_name":"f877576"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70238474,"answer_count":1,"score":0,"last_activity_date":1638763536,"creation_date":1638736844,"question_id":70238367,"body_markdown":"Why does System.identityHashCode() return different int for the same variable ? \r\n  \r\n\r\n      public class java {\r\n          public static void main(String[] args) { \r\n       1-         int v=60000;\r\n       2-         System.out.println(System.identityHashCode(v));\r\n       3-         System.out.println(System.identityHashCode(v));\r\n        \r\n          }\r\n        }\r\n    output : 1831932724\r\n             1747585824\r\n\r\n","title":"identityhashcode () of the variable changed java","body":"<p>Why does System.identityHashCode() return different int for the same variable ?</p>\n<pre><code>  public class java {\n      public static void main(String[] args) { \n   1-         int v=60000;\n   2-         System.out.println(System.identityHashCode(v));\n   3-         System.out.println(System.identityHashCode(v));\n    \n      }\n    }\noutput : 1831932724\n         1747585824\n</code></pre>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1638661739,"post_id":70228081,"comment_id":124148192,"body_markdown":"Try rephrasing your question. I, for one, am not clear on what your problem is. Also, you posted way too much information - no one is going to review that. Boil it down to the bare minimun. https://stackoverflow.com/help/how-to-ask","body":"Try rephrasing your question. I, for one, am not clear on what your problem is. Also, you posted way too much information - no one is going to review that. Boil it down to the bare minimun. <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":20363904,"reputation":99,"user_id":14937667,"display_name":"Georgi Tasev"},"score":0,"creation_date":1638699056,"post_id":70228081,"comment_id":124152654,"body_markdown":"@dominicoder Edited it, can you take a look and confirm the question once again please ?","body":"@dominicoder Edited it, can you take a look and confirm the question once again please ?"}],"answers":[{"tags":[],"owner":{"account_id":4830323,"reputation":143,"user_id":3898679,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638683230,"creation_date":1638683230,"answer_id":70231798,"question_id":70228081,"body_markdown":"My understanding is, that on the SummaryActivity you want to display the selected item&#39;s description.  \r\nIf this is the case, then I don&#39;t understand why are you making the API call once again. The SummaryActivity should receive either the description of the selected item or, the Article instance.","title":"Open an item as new activity from the RecyclerView and display certain data from JSON","body":"<p>My understanding is, that on the SummaryActivity you want to display the selected item's description.<br />\nIf this is the case, then I don't understand why are you making the API call once again. The SummaryActivity should receive either the description of the selected item or, the Article instance.</p>\n"},{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638705539,"creation_date":1638705539,"answer_id":70234053,"question_id":70228081,"body_markdown":"Your summary Activity seems to have one text view:\r\n\r\n    summaryText = findViewById(R.id.summeryText)\r\n\r\nBut you are resetting it with every article:\r\n\r\n    for (article in articles!!) {\r\n        summaryText.text = article.summary\r\n    }\r\n\r\nSo basically, only the last article&#39;s summary will be shown.\r\n\r\nDon&#39;t do that.\r\n\r\nInstead you could pass the summary (and other information) to the Activity:\r\n\r\n    itemView.setOnClickListener {\r\n        val summary = getClickedItemSummary()\r\n        val intent = Intent(itemView.context, SummeryActivity::class.java)\r\n        intent.putExtra(&quot;Summary&quot;, summary)\r\n        itemView.context.startActivity(intent)\r\n    }\r\n\r\nThen set it on the SummaryActivity:\r\n\r\n    summaryText = findViewById(R.id.summeryText)\r\n    summaryText.text = intent.getString(&quot;Summary&quot;)\r\n\r\nAnd then remove the rest of the code that makes an API call again.\r\n\r\n","title":"Open an item as new activity from the RecyclerView and display certain data from JSON","body":"<p>Your summary Activity seems to have one text view:</p>\n<pre><code>summaryText = findViewById(R.id.summeryText)\n</code></pre>\n<p>But you are resetting it with every article:</p>\n<pre><code>for (article in articles!!) {\n    summaryText.text = article.summary\n}\n</code></pre>\n<p>So basically, only the last article's summary will be shown.</p>\n<p>Don't do that.</p>\n<p>Instead you could pass the summary (and other information) to the Activity:</p>\n<pre><code>itemView.setOnClickListener {\n    val summary = getClickedItemSummary()\n    val intent = Intent(itemView.context, SummeryActivity::class.java)\n    intent.putExtra(&quot;Summary&quot;, summary)\n    itemView.context.startActivity(intent)\n}\n</code></pre>\n<p>Then set it on the SummaryActivity:</p>\n<pre><code>summaryText = findViewById(R.id.summeryText)\nsummaryText.text = intent.getString(&quot;Summary&quot;)\n</code></pre>\n<p>And then remove the rest of the code that makes an API call again.</p>\n"},{"tags":[],"owner":{"account_id":22743549,"reputation":36,"user_id":16904622,"display_name":"Gandhi Wibowo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638763535,"creation_date":1638763535,"answer_id":70240759,"question_id":70228081,"body_markdown":"you can bring 1 data, that is the id from the response. But first you must add property id on your Article class.\r\n\r\n        override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n            val listItem = listItems[position]\r\n\r\n            holder.titleText.text = listItem.title\r\n            holder.publishedAtText.text = &quot;Published: ${listItem.publishedAt}&quot;\r\n            holder.itemView.setOnClickListener {\r\n                val intent = Intent(holder.itemView.context, SummeryActivity::class.java)\r\n                intent.putExtra(&quot;id&quot;,listItem.id);\r\n                holder.itemView.itemView.context.startActivity(intent)\r\n            }\r\n        } \r\n\r\nthen on your SummaryActivity\r\n\r\n       val articleId = intent.getString(&quot;id&quot;)\r\n       val retrofit = Retrofit.Builder()\r\n            .baseUrl(&quot;https://api.spaceflightnewsapi.net/v3/articles/$articleId&quot;)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .build()\r\n\r\nthen parsing the response.\r\n","title":"Open an item as new activity from the RecyclerView and display certain data from JSON","body":"<p>you can bring 1 data, that is the id from the response. But first you must add property id on your Article class.</p>\n<pre><code>    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val listItem = listItems[position]\n\n        holder.titleText.text = listItem.title\n        holder.publishedAtText.text = &quot;Published: ${listItem.publishedAt}&quot;\n        holder.itemView.setOnClickListener {\n            val intent = Intent(holder.itemView.context, SummeryActivity::class.java)\n            intent.putExtra(&quot;id&quot;,listItem.id);\n            holder.itemView.itemView.context.startActivity(intent)\n        }\n    } \n</code></pre>\n<p>then on your SummaryActivity</p>\n<pre><code>   val articleId = intent.getString(&quot;id&quot;)\n   val retrofit = Retrofit.Builder()\n        .baseUrl(&quot;https://api.spaceflightnewsapi.net/v3/articles/$articleId&quot;)\n        .addConverterFactory(GsonConverterFactory.create())\n        .build()\n</code></pre>\n<p>then parsing the response.</p>\n"}],"owner":{"account_id":20363904,"reputation":99,"user_id":14937667,"display_name":"Georgi Tasev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1638763535,"creation_date":1638640449,"question_id":70228081,"body_markdown":"I&#39;m making a simple app, that when the user is opening the app, to show every single article within this link&#39;s JSON data [Spaceflight News API][1], when it opens the certain article from the user&#39;s choice, to open a new activity to show the summary of that certain article. The problem I am having is when I press lets say the second article of the list, it shows only the first element&#39;s summary. That&#39;s the only problem I am having. I have a screenshot of what element it gets that first element&#39;s summary data from:\r\n[![][2]][2]\r\n\r\nMy goal is to make every single element of that list a.k.a. the articles to display their own summary for each element of the list with a new activity with by using TextView to display the summary.\r\n\r\nHere is the code by order:\r\n\r\nArticle.java\r\n```\r\npackage com.example.spaceflightnews.get;\r\n\r\npublic class Article {\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n//Trying to get this data for each individual item element within the RecycleView\r\n    public String getSummary() {\r\n        return summary;\r\n    }\r\n\r\n    public String getPublishedAt() {\r\n        return publishedAt;\r\n    }\r\n\r\n    public Article(String title, String summary, String publishedAt) {\r\n        this.title = title;\r\n        this.summary = summary;\r\n        this.publishedAt = publishedAt;\r\n    }\r\n\r\n    private final String title;\r\n    private final String summary;\r\n    private final String publishedAt;\r\n}\r\n```\r\n\r\nSpaceflightAPI.kt Interface\r\n```\r\npackage com.example.spaceflightnews.spaceflightNewsAPI\r\n\r\nimport com.example.spaceflightnews.get.Article\r\nimport retrofit2.Call\r\nimport retrofit2.http.GET\r\n\r\ninterface SpaceflightAPI {\r\n    @GET(&quot;articles&quot;)\r\n    fun getArticles(): Call&lt;List&lt;Article&gt;&gt;\r\n}\r\n```\r\n\r\nRecyclerAdapter.kt\r\n```\r\npackage com.example.spaceflightnews\r\n\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.TextView\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.example.spaceflightnews.get.Article\r\n\r\nclass RecyclerAdapter(var listItems: List&lt;Article&gt;, var context: Context) : RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt;() {\r\n\r\n    //Connecting the context then making a LayoutInflater along with it&#39;s context of the activity, then selecting the card_items.xml, then using the ViewGroup, making sure\r\n    //to put attachToRoot into false\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        this.context = parent.context\r\n        val v = LayoutInflater.from(context)\r\n            .inflate(R.layout.card_items, parent, false)\r\n\r\n        return ViewHolder(v)\r\n    }\r\n\r\n    //We connect the ViewHolder class that is in the ViewGroup and then using the those texts to get the JSON data and using listItems original position of that list\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        val listItem = listItems[position]\r\n\r\n        holder.titleText.text = listItem.title\r\n        holder.publishedAtText.text = &quot;Published: ${listItem.publishedAt}&quot;\r\n    }\r\n\r\n    //Getting the item count of the max size of the list of items\r\n    override fun getItemCount(): Int = listItems.size\r\n\r\n    //Initializing the TextViews to it&#39;s ID here!\r\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n        var titleText: TextView = itemView.findViewById(R.id.titleText)\r\n        var publishedAtText: TextView = itemView.findViewById(R.id.publishedAtText)\r\n\r\n        init {\r\n            itemView.setOnClickListener {\r\n                val intent = Intent(itemView.context, SummeryActivity::class.java)\r\n                itemView.context.startActivity(intent)\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMainActivity.kt\r\n```\r\npackage com.example.spaceflightnews\r\n\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.widget.Toast\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.example.spaceflightnews.get.Article\r\nimport com.example.spaceflightnews.spaceflightNewsAPI.SpaceflightAPI\r\nimport retrofit2.Call\r\nimport retrofit2.Callback\r\nimport retrofit2.Response\r\nimport retrofit2.Retrofit\r\nimport retrofit2.converter.gson.GsonConverterFactory\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    //Getting the RecyclerView and the Adapter ready\r\n    private lateinit var recyclerView: RecyclerView\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        //Connecting to it&#39;s ID from the XML\r\n        recyclerView = findViewById(R.id.recyclerView)\r\n\r\n        //RetroFit\r\n        val retrofit = Retrofit.Builder()\r\n            .baseUrl(&quot;https://api.spaceflightnewsapi.net/v3/&quot;)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .build()\r\n\r\n        //Creating the SpaceFlight interface and then assigning the same list to get the list of articles within the interface SpaceflightAPI\r\n        val jsonSpaceApi = retrofit.create(SpaceflightAPI::class.java)\r\n        val call: Call&lt;List&lt;Article&gt;&gt; = jsonSpaceApi.getArticles()\r\n\r\n        //Instead of using execute, we use enqueue to implement an interface Callback\r\n        call.enqueue(object : Callback&lt;List&lt;Article&gt;&gt; {\r\n            override fun onResponse(call: Call&lt;List&lt;Article&gt;&gt;, response: Response&lt;List&lt;Article&gt;&gt;) {\r\n                //We get the List of Article class as we assign a new variable to connect is as a response.\r\n                val articles = response.body()\r\n\r\n                //We are connecting the RecyclerView to it&#39;s LayoutManager, using LinearLayoutManager and connecting to it&#39;s context.\r\n                recyclerView.layoutManager = LinearLayoutManager(this@MainActivity)\r\n                //Then we make the RecyclerAdapter class for the RecyclerView, it&#39;s parameters is the List of Article class and it&#39;s context.\r\n                recyclerView.adapter = RecyclerAdapter(articles!!, this@MainActivity)\r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;List&lt;Article&gt;&gt;, t: Throwable) {\r\n                Toast.makeText(this@MainActivity, &quot;${t.message}&quot;, Toast.LENGTH_SHORT).show()\r\n            }\r\n        })\r\n    }\r\n}\r\n```\r\n\r\nSummaryActivity.kt (Because wanting to make it simple, it can be used as a Fragment instead of Activity)\r\n```\r\npackage com.example.spaceflightnews\r\n\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.view.MenuItem\r\nimport android.widget.TextView\r\nimport android.widget.Toast\r\nimport com.example.spaceflightnews.get.Article\r\nimport com.example.spaceflightnews.spaceflightNewsAPI.SpaceflightAPI\r\nimport retrofit2.Call\r\nimport retrofit2.Callback\r\nimport retrofit2.Response\r\nimport retrofit2.Retrofit\r\nimport retrofit2.converter.gson.GsonConverterFactory\r\n\r\nclass SummaryActivity : AppCompatActivity() {\r\n    private lateinit var summaryText: TextView\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_summery)\r\n        //Assigning the ActionBar&#39;s support\r\n        val actionBar = supportActionBar\r\n        actionBar!!.setDisplayHomeAsUpEnabled(true)\r\n\r\n        summaryText = findViewById(R.id.summeryText)\r\n\r\n        val retrofit = Retrofit.Builder()\r\n            .baseUrl(&quot;https://api.spaceflightnewsapi.net/v3/&quot;)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .build()\r\n\r\n        val jsonSpaceApi = retrofit.create(SpaceflightAPI::class.java)\r\n        val call: Call&lt;List&lt;Article&gt;&gt; = jsonSpaceApi.getArticles()\r\n\r\n        call.enqueue(object : Callback&lt;List&lt;Article&gt;&gt; {\r\n            override fun onResponse(call: Call&lt;List&lt;Article&gt;&gt;, response: Response&lt;List&lt;Article&gt;&gt;) {\r\n                val articles = response.body()\r\n                for (article in articles!!) {\r\n                    summaryText.text = article.summary\r\n                }\r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;List&lt;Article&gt;&gt;, t: Throwable) {\r\n                summaryText.text = t.message\r\n                Toast.makeText(applicationContext, &quot;${t.message}&quot;, Toast.LENGTH_LONG).show()\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    //This will make the button on the Top Left to destroy the activity and return and returns back to the main activity.\r\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\r\n        when (item.itemId) {\r\n            android.R.id.home -&gt; finish()\r\n        }\r\n        return super.onOptionsItemSelected(item)\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://api.spaceflightnewsapi.net/v3/articles\r\n  [2]: https://i.stack.imgur.com/qe4oO.png","title":"Open an item as new activity from the RecyclerView and display certain data from JSON","body":"<p>I'm making a simple app, that when the user is opening the app, to show every single article within this link's JSON data <a href=\"https://api.spaceflightnewsapi.net/v3/articles\" rel=\"nofollow noreferrer\">Spaceflight News API</a>, when it opens the certain article from the user's choice, to open a new activity to show the summary of that certain article. The problem I am having is when I press lets say the second article of the list, it shows only the first element's summary. That's the only problem I am having. I have a screenshot of what element it gets that first element's summary data from:\n<a href=\"https://i.stack.imgur.com/qe4oO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qe4oO.png\" alt=\"\" /></a></p>\n<p>My goal is to make every single element of that list a.k.a. the articles to display their own summary for each element of the list with a new activity with by using TextView to display the summary.</p>\n<p>Here is the code by order:</p>\n<p>Article.java</p>\n<pre><code>package com.example.spaceflightnews.get;\n\npublic class Article {\n    public String getTitle() {\n        return title;\n    }\n\n//Trying to get this data for each individual item element within the RecycleView\n    public String getSummary() {\n        return summary;\n    }\n\n    public String getPublishedAt() {\n        return publishedAt;\n    }\n\n    public Article(String title, String summary, String publishedAt) {\n        this.title = title;\n        this.summary = summary;\n        this.publishedAt = publishedAt;\n    }\n\n    private final String title;\n    private final String summary;\n    private final String publishedAt;\n}\n</code></pre>\n<p>SpaceflightAPI.kt Interface</p>\n<pre><code>package com.example.spaceflightnews.spaceflightNewsAPI\n\nimport com.example.spaceflightnews.get.Article\nimport retrofit2.Call\nimport retrofit2.http.GET\n\ninterface SpaceflightAPI {\n    @GET(&quot;articles&quot;)\n    fun getArticles(): Call&lt;List&lt;Article&gt;&gt;\n}\n</code></pre>\n<p>RecyclerAdapter.kt</p>\n<pre><code>package com.example.spaceflightnews\n\nimport android.content.Context\nimport android.content.Intent\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\nimport androidx.recyclerview.widget.RecyclerView\nimport com.example.spaceflightnews.get.Article\n\nclass RecyclerAdapter(var listItems: List&lt;Article&gt;, var context: Context) : RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt;() {\n\n    //Connecting the context then making a LayoutInflater along with it's context of the activity, then selecting the card_items.xml, then using the ViewGroup, making sure\n    //to put attachToRoot into false\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        this.context = parent.context\n        val v = LayoutInflater.from(context)\n            .inflate(R.layout.card_items, parent, false)\n\n        return ViewHolder(v)\n    }\n\n    //We connect the ViewHolder class that is in the ViewGroup and then using the those texts to get the JSON data and using listItems original position of that list\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val listItem = listItems[position]\n\n        holder.titleText.text = listItem.title\n        holder.publishedAtText.text = &quot;Published: ${listItem.publishedAt}&quot;\n    }\n\n    //Getting the item count of the max size of the list of items\n    override fun getItemCount(): Int = listItems.size\n\n    //Initializing the TextViews to it's ID here!\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        var titleText: TextView = itemView.findViewById(R.id.titleText)\n        var publishedAtText: TextView = itemView.findViewById(R.id.publishedAtText)\n\n        init {\n            itemView.setOnClickListener {\n                val intent = Intent(itemView.context, SummeryActivity::class.java)\n                itemView.context.startActivity(intent)\n            }\n        }\n    }\n}\n</code></pre>\n<p>MainActivity.kt</p>\n<pre><code>package com.example.spaceflightnews\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Toast\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport com.example.spaceflightnews.get.Article\nimport com.example.spaceflightnews.spaceflightNewsAPI.SpaceflightAPI\nimport retrofit2.Call\nimport retrofit2.Callback\nimport retrofit2.Response\nimport retrofit2.Retrofit\nimport retrofit2.converter.gson.GsonConverterFactory\n\nclass MainActivity : AppCompatActivity() {\n    //Getting the RecyclerView and the Adapter ready\n    private lateinit var recyclerView: RecyclerView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        //Connecting to it's ID from the XML\n        recyclerView = findViewById(R.id.recyclerView)\n\n        //RetroFit\n        val retrofit = Retrofit.Builder()\n            .baseUrl(&quot;https://api.spaceflightnewsapi.net/v3/&quot;)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n\n        //Creating the SpaceFlight interface and then assigning the same list to get the list of articles within the interface SpaceflightAPI\n        val jsonSpaceApi = retrofit.create(SpaceflightAPI::class.java)\n        val call: Call&lt;List&lt;Article&gt;&gt; = jsonSpaceApi.getArticles()\n\n        //Instead of using execute, we use enqueue to implement an interface Callback\n        call.enqueue(object : Callback&lt;List&lt;Article&gt;&gt; {\n            override fun onResponse(call: Call&lt;List&lt;Article&gt;&gt;, response: Response&lt;List&lt;Article&gt;&gt;) {\n                //We get the List of Article class as we assign a new variable to connect is as a response.\n                val articles = response.body()\n\n                //We are connecting the RecyclerView to it's LayoutManager, using LinearLayoutManager and connecting to it's context.\n                recyclerView.layoutManager = LinearLayoutManager(this@MainActivity)\n                //Then we make the RecyclerAdapter class for the RecyclerView, it's parameters is the List of Article class and it's context.\n                recyclerView.adapter = RecyclerAdapter(articles!!, this@MainActivity)\n            }\n\n            override fun onFailure(call: Call&lt;List&lt;Article&gt;&gt;, t: Throwable) {\n                Toast.makeText(this@MainActivity, &quot;${t.message}&quot;, Toast.LENGTH_SHORT).show()\n            }\n        })\n    }\n}\n</code></pre>\n<p>SummaryActivity.kt (Because wanting to make it simple, it can be used as a Fragment instead of Activity)</p>\n<pre><code>package com.example.spaceflightnews\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.MenuItem\nimport android.widget.TextView\nimport android.widget.Toast\nimport com.example.spaceflightnews.get.Article\nimport com.example.spaceflightnews.spaceflightNewsAPI.SpaceflightAPI\nimport retrofit2.Call\nimport retrofit2.Callback\nimport retrofit2.Response\nimport retrofit2.Retrofit\nimport retrofit2.converter.gson.GsonConverterFactory\n\nclass SummaryActivity : AppCompatActivity() {\n    private lateinit var summaryText: TextView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_summery)\n        //Assigning the ActionBar's support\n        val actionBar = supportActionBar\n        actionBar!!.setDisplayHomeAsUpEnabled(true)\n\n        summaryText = findViewById(R.id.summeryText)\n\n        val retrofit = Retrofit.Builder()\n            .baseUrl(&quot;https://api.spaceflightnewsapi.net/v3/&quot;)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n\n        val jsonSpaceApi = retrofit.create(SpaceflightAPI::class.java)\n        val call: Call&lt;List&lt;Article&gt;&gt; = jsonSpaceApi.getArticles()\n\n        call.enqueue(object : Callback&lt;List&lt;Article&gt;&gt; {\n            override fun onResponse(call: Call&lt;List&lt;Article&gt;&gt;, response: Response&lt;List&lt;Article&gt;&gt;) {\n                val articles = response.body()\n                for (article in articles!!) {\n                    summaryText.text = article.summary\n                }\n            }\n\n            override fun onFailure(call: Call&lt;List&lt;Article&gt;&gt;, t: Throwable) {\n                summaryText.text = t.message\n                Toast.makeText(applicationContext, &quot;${t.message}&quot;, Toast.LENGTH_LONG).show()\n            }\n\n        })\n    }\n\n    //This will make the button on the Top Left to destroy the activity and return and returns back to the main activity.\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        when (item.itemId) {\n            android.R.id.home -&gt; finish()\n        }\n        return super.onOptionsItemSelected(item)\n    }\n}\n</code></pre>\n"},{"tags":["java","c#",".net","eclipse","sharpen-tool"],"comments":[{"owner":{"account_id":4663,"reputation":42832,"user_id":7122,"accept_rate":94,"display_name":"David Arno"},"score":1,"creation_date":1433763483,"post_id":30708069,"comment_id":49473568,"body_markdown":"That will depend on the code being converted, but it&#39;s likely in most cases that manual changes would still be required. Recommendation: use such tools to port unit tests across, then use manual effort to make those tests pass.","body":"That will depend on the code being converted, but it&#39;s likely in most cases that manual changes would still be required. Recommendation: use such tools to port unit tests across, then use manual effort to make those tests pass."}],"answers":[{"tags":[],"owner":{"account_id":1836585,"reputation":578,"user_id":1666844,"display_name":"vladich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540249034,"creation_date":1540249034,"answer_id":52938795,"question_id":30708069,"body_markdown":"Sharpen generates a pretty good code, although there are some incompatibilities and weirdnesses due to the different semantics of Java and C#, I would say Sharpen converts about 95% or more of the code correctly.","title":"Conversion of code from Java to C# using Sharpen","body":"<p>Sharpen generates a pretty good code, although there are some incompatibilities and weirdnesses due to the different semantics of Java and C#, I would say Sharpen converts about 95% or more of the code correctly.</p>\n"}],"owner":{"account_id":5209957,"reputation":29,"user_id":4166709,"display_name":"HimanshuSingh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1043,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638763452,"creation_date":1433763189,"question_id":30708069,"body_markdown":"Do code conversion tools like Sharpen help in converting code from Java to C#? Does the converted code run on all Windows machines without trouble or changes have to be made? How efficient is this tool, does it completely remove the laborious line by line conversion method?","title":"Conversion of code from Java to C# using Sharpen","body":"<p>Do code conversion tools like Sharpen help in converting code from Java to C#? Does the converted code run on all Windows machines without trouble or changes have to be made? How efficient is this tool, does it completely remove the laborious line by line conversion method?</p>\n"},{"tags":["java","if-statement","while-loop","nested-loops"],"comments":[{"owner":{"account_id":431710,"reputation":3063,"user_id":815961,"accept_rate":51,"display_name":"Pavan Dittakavi"},"score":0,"creation_date":1638249977,"post_id":70164420,"comment_id":124031788,"body_markdown":"A good learning exercise for you at this moment is to understand the difference between break and continue statements. Look them up and build a very simple example outside the current question. That will help you find the answer to this problem of yours.","body":"A good learning exercise for you at this moment is to understand the difference between break and continue statements. Look them up and build a very simple example outside the current question. That will help you find the answer to this problem of yours."},{"owner":{"account_id":7835637,"reputation":1,"user_id":17548546,"display_name":"Coalharbour"},"score":0,"creation_date":1638252635,"post_id":70164420,"comment_id":124032359,"body_markdown":"Yep, went through my class notes, looked it up online and none of this actually answers my question of how to restart my while loop. But thanks anyway.","body":"Yep, went through my class notes, looked it up online and none of this actually answers my question of how to restart my while loop. But thanks anyway."}],"answers":[{"tags":[],"owner":{"account_id":22806184,"reputation":103,"user_id":16958203,"display_name":"Ahmed Amer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638264653,"creation_date":1638248982,"answer_id":70164595,"question_id":70164420,"body_markdown":"I will say search up `continue;`\r\n\r\nTips to help further:\r\n\r\n1. The `continue` statement is used to bring the loop back to the start, try it instead of a `break` where you want the user to continue.\r\n\r\n2. You need some sort of check **if** the user wants to continue, (try asking them to type in some specific int you check, p.s negative numbers are integers as well)","title":"Basic Java HiLow guessing game","body":"<p>I will say search up <code>continue;</code></p>\n<p>Tips to help further:</p>\n<ol>\n<li><p>The <code>continue</code> statement is used to bring the loop back to the start, try it instead of a <code>break</code> where you want the user to continue.</p>\n</li>\n<li><p>You need some sort of check <strong>if</strong> the user wants to continue, (try asking them to type in some specific int you check, p.s negative numbers are integers as well)</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638254976,"creation_date":1638254976,"answer_id":70165361,"question_id":70164420,"body_markdown":"@Ahmed thinks you should `continue`, I would rather not `break`, or conditionally `break`.","title":"Basic Java HiLow guessing game","body":"<p>@Ahmed thinks you should <code>continue</code>, I would rather not <code>break</code>, or conditionally <code>break</code>.</p>\n"},{"tags":[],"owner":{"account_id":14526595,"reputation":1,"user_id":10492648,"display_name":"RadioAndProgramming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638763282,"creation_date":1638255156,"answer_id":70165379,"question_id":70164420,"body_markdown":"Well there are multiple ways you could accomplish this, One would be to just to prompt the user with a &quot;press q to quit&quot; dialogue using the Scanner class where .next() returns the String when the user hits enter:\r\n\r\n      if(guess == num1 || guess == 0) {\r\n                if(guess == 0) {\r\n                    System.out.println(&quot;Thanks for playing&quot;);\r\n                }else{\r\n                    System.out.println(&quot;Congrats you&#39;ve guessed correct and your total guesses is &quot; + count );\r\n                    \r\n                }\r\n                System.out.println(&quot;would you like to play again [y/n]?&quot;);\r\n                if(scan.next().equals(&quot;y&quot;)){\r\n                  num1 = generator.nextInt(100) + 1;\r\n                  count=0;\r\n                }else{\r\n                  break;\r\n                }\r\n            }\r\nIf thats what you mean. Hopefully I helped.\r\nor maybe you can have it only quit at zero, if so just remove that second break and replace it with num1 = generator.nextInt(100) + 1; to set the new value to guess.","title":"Basic Java HiLow guessing game","body":"<p>Well there are multiple ways you could accomplish this, One would be to just to prompt the user with a &quot;press q to quit&quot; dialogue using the Scanner class where .next() returns the String when the user hits enter:</p>\n<pre><code>  if(guess == num1 || guess == 0) {\n            if(guess == 0) {\n                System.out.println(&quot;Thanks for playing&quot;);\n            }else{\n                System.out.println(&quot;Congrats you've guessed correct and your total guesses is &quot; + count );\n                \n            }\n            System.out.println(&quot;would you like to play again [y/n]?&quot;);\n            if(scan.next().equals(&quot;y&quot;)){\n              num1 = generator.nextInt(100) + 1;\n              count=0;\n            }else{\n              break;\n            }\n        }\n</code></pre>\n<p>If thats what you mean. Hopefully I helped.\nor maybe you can have it only quit at zero, if so just remove that second break and replace it with num1 = generator.nextInt(100) + 1; to set the new value to guess.</p>\n"}],"owner":{"account_id":7835637,"reputation":1,"user_id":17548546,"display_name":"Coalharbour"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1638763282,"creation_date":1638247486,"question_id":70164420,"body_markdown":"I am fully aware this question has been asked many times, it is a classic first year problem in CSC. I am not looking for the solution to the problem itself. I *think* I have it basically done however I am missing something that I cannot find how to do. \r\n\r\nHere is my code:\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\npublic class HiLow\r\n{\r\n\tpublic static void main (String[] args) \r\n\t{\r\n\t\tRandom generator = new Random();\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tint num1,guess;\r\n\t\tint count = 0;\r\n\t\tnum1 = generator.nextInt(100) + 1;\r\n\t\twhile(true) {\r\n\t\t\tSystem.out.print(&quot;Enter an integer between 1 or 100 or enter 0 at anytime to quit: &quot;);\r\n\t\t\tguess = scan.nextInt();\r\n\t\t\tcount++;\r\n\t\t\tif(guess == num1 || guess == 0) {\r\n\t\t\t\tif(guess == 0) {\r\n\t\t\t\t\tSystem.out.println(&quot;Thanks for playing&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;Congrats you&#39;ve guessed correct and your total guesses is &quot; + count );\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse if (guess &gt; 100 || guess &lt; 1) {\r\n\t\t\t\tSystem.out.print(&quot;I see you cannot follow instructions. I said &quot;);\r\n\t\t\t\tcount--;\r\n\t\t\t}\r\n\t\t\telse if (guess &gt; num1) {\r\n\t\t\t\tSystem.out.println(&quot;You have guessed too high. &quot;);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;You have guessed too low.&quot;);\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n}\r\n```\r\nMy problem is i am required to prompt the user at the point of &quot;if the user quits or successfully guesses the correct number, prompt the user to see if they wish to play again&quot;. I am lost and not sure how to continue my while loop from the beginning after my breaks. Is there a way to end the break condition i have from (guess == num1 || guess ==0) and direct my program to start again at the while(true) statement?\r\n\r\nThanks","title":"Basic Java HiLow guessing game","body":"<p>I am fully aware this question has been asked many times, it is a classic first year problem in CSC. I am not looking for the solution to the problem itself. I <em>think</em> I have it basically done however I am missing something that I cannot find how to do.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class HiLow\n{\n    public static void main (String[] args) \n    {\n        Random generator = new Random();\n        Scanner scan = new Scanner(System.in);\n        int num1,guess;\n        int count = 0;\n        num1 = generator.nextInt(100) + 1;\n        while(true) {\n            System.out.print(&quot;Enter an integer between 1 or 100 or enter 0 at anytime to quit: &quot;);\n            guess = scan.nextInt();\n            count++;\n            if(guess == num1 || guess == 0) {\n                if(guess == 0) {\n                    System.out.println(&quot;Thanks for playing&quot;);\n                    break;\n                }\n                System.out.println(&quot;Congrats you've guessed correct and your total guesses is &quot; + count );\n                break;\n            }\n            else if (guess &gt; 100 || guess &lt; 1) {\n                System.out.print(&quot;I see you cannot follow instructions. I said &quot;);\n                count--;\n            }\n            else if (guess &gt; num1) {\n                System.out.println(&quot;You have guessed too high. &quot;);\n            }\n            else {\n                System.out.println(&quot;You have guessed too low.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>My problem is i am required to prompt the user at the point of &quot;if the user quits or successfully guesses the correct number, prompt the user to see if they wish to play again&quot;. I am lost and not sure how to continue my while loop from the beginning after my breaks. Is there a way to end the break condition i have from (guess == num1 || guess ==0) and direct my program to start again at the while(true) statement?</p>\n<p>Thanks</p>\n"},{"tags":["java","unix"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1638770188,"post_id":70240722,"comment_id":124167594,"body_markdown":"That looks like the first implementation of https://en.wikipedia.org/wiki/Euclidean_algorithm#Implementations","body":"That looks like the first implementation of <a href=\"https://en.wikipedia.org/wiki/Euclidean_algorithm#Implementations\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Euclidean_algorithm#Implementations</a>"},{"owner":{"account_id":3890138,"reputation":2674,"user_id":3220554,"display_name":"phunsoft"},"score":0,"creation_date":1639142163,"post_id":70240722,"comment_id":124279223,"body_markdown":"The *code flow in the else block* is precisely: sequential. I.e. do first assignment, do second assignment, block complete. I don&#39;t think this is what you really want to get an answer for. Please, rephrase oyur question.","body":"The <i>code flow in the else block</i> is precisely: sequential. I.e. do first assignment, do second assignment, block complete. I don&#39;t think this is what you really want to get an answer for. Please, rephrase oyur question."}],"owner":{"account_id":21348147,"reputation":1,"user_id":15717889,"display_name":"Soumyadeep Dhali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638763196,"creation_date":1638763196,"question_id":70240722,"body_markdown":"/*This program is about finding the H.C.F. Can someone help me explain the else block in the following code or more precisely explain me the code flow in th eelse block?*/\r\n\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class calculatingHCF {\r\n        public static void main(String[] args) {\r\n            Scanner console = new Scanner(System.in);\r\n    \r\n            int dividend, divisor;\r\n            int remainder, hcf = 0;\r\n    \r\n            System.out.print(&quot;Enter the first number &quot;);\r\n            dividend = console.nextInt();\r\n    \r\n            System.out.print(&quot;Enter the second number &quot;);\r\n            divisor = console.nextInt();\r\n    \r\n            do {\r\n                remainder = dividend % divisor;\r\n    \r\n                if (remainder == 0) {\r\n                    hcf = divisor;\r\n                } else {                      \r\n                    dividend = divisor;\r\n                    divisor = remainder;\r\n                }\r\n    \r\n            } while (remainder != 0);\r\n    \r\n            System.out.println(&quot;HCF: &quot; + hcf);\r\n        }\r\n    }","title":"This program is about finding the H.C.F. Can someone help me explain the else block in the following code?","body":"<p>/<em>This program is about finding the H.C.F. Can someone help me explain the else block in the following code or more precisely explain me the code flow in th eelse block?</em>/</p>\n<pre><code>import java.util.Scanner;\n\npublic class calculatingHCF {\n    public static void main(String[] args) {\n        Scanner console = new Scanner(System.in);\n\n        int dividend, divisor;\n        int remainder, hcf = 0;\n\n        System.out.print(&quot;Enter the first number &quot;);\n        dividend = console.nextInt();\n\n        System.out.print(&quot;Enter the second number &quot;);\n        divisor = console.nextInt();\n\n        do {\n            remainder = dividend % divisor;\n\n            if (remainder == 0) {\n                hcf = divisor;\n            } else {                      \n                dividend = divisor;\n                divisor = remainder;\n            }\n\n        } while (remainder != 0);\n\n        System.out.println(&quot;HCF: &quot; + hcf);\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","github"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1638763410,"post_id":70240685,"comment_id":124166529,"body_markdown":"In the future, please [do not link code or pictures](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question) when you post questions. Just copy and paste the text directly into your post.","body":"In the future, please <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">do not link code or pictures</a> when you post questions. Just copy and paste the text directly into your post."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1638775717,"post_id":70240685,"comment_id":124168853,"body_markdown":"Github no longer allows just using a password, see the duplicate for how to connect now.","body":"Github no longer allows just using a password, see the duplicate for how to connect now."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1638776115,"post_id":70240685,"comment_id":124168945,"body_markdown":"@MarsAtomic This question is a duplicate, but of a different question (using Github password has been disabled not that long): https://stackoverflow.com/a/68802292/6505250","body":"@MarsAtomic This question is a duplicate, but of a different question (using Github password has been disabled not that long): <a href=\"https://stackoverflow.com/a/68802292/6505250\">stackoverflow.com/a/68802292/6505250</a>"}],"owner":{"account_id":23557660,"reputation":1,"user_id":17599437,"display_name":"My."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638775669,"answer_count":0,"score":0,"last_activity_date":1638762804,"creation_date":1638762804,"question_id":70240685,"body_markdown":"I am setting up eclipse and connecting to Github. However, eclipse would not let me push and commit. Whenever I try doing that, eclipse asks me to sign in (using Github password) multiple times and shows me this [error message][1] when I cancel the sign-in request. I followed this video exactly and cannot pass the sign-in step. https://www.youtube.com/watch?v=LPT7v69guVY\r\nCould anyone help me, please? Thank you. \r\n\r\n  [1]: https://i.stack.imgur.com/dwKYv.png","title":"Connect Eclipse to Github","body":"<p>I am setting up eclipse and connecting to Github. However, eclipse would not let me push and commit. Whenever I try doing that, eclipse asks me to sign in (using Github password) multiple times and shows me this <a href=\"https://i.stack.imgur.com/dwKYv.png\" rel=\"nofollow noreferrer\">error message</a> when I cancel the sign-in request. I followed this video exactly and cannot pass the sign-in step. <a href=\"https://www.youtube.com/watch?v=LPT7v69guVY\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=LPT7v69guVY</a>\nCould anyone help me, please? Thank you.</p>\n"},{"tags":["java","android","intentfilter","file-association"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638761909,"creation_date":1638761909,"answer_id":70240608,"question_id":70240355,"body_markdown":"No, its not possible to do it in code.  The list of file types you can parse shouldn&#39;t change dynamically, either you know how to open a specific type in a specific build or you don&#39;t.  So there&#39;s no reason to do it dynamically, and the system just parses manifests to figure out what apps can open what files.","title":"Associating a file type with the application","body":"<p>No, its not possible to do it in code.  The list of file types you can parse shouldn't change dynamically, either you know how to open a specific type in a specific build or you don't.  So there's no reason to do it dynamically, and the system just parses manifests to figure out what apps can open what files.</p>\n"}],"owner":{"account_id":17626318,"reputation":1095,"user_id":12791298,"display_name":"NightFuryLxD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70240608,"answer_count":1,"score":0,"last_activity_date":1638761909,"creation_date":1638758496,"question_id":70240355,"body_markdown":"I&#39;ve seen many stackoveflow answers in the same topic, but all of them (atleast the ones I&#39;ve checked) suggest to use [intent-filter][1] with the [data][2] tag in Android.manifest file.\r\n\r\nI&#39;m wondering if it is possible to do this in code? Maybe in the onCreate of the activity.\r\n\r\nSome answers I&#39;ve checked are:\r\n\r\n[https://stackoverflow.com/questions/3760276/android-intent-filter-associate-app-with-file-extension][3]\r\n\r\n[https://stackoverflow.com/questions/3465429/register-to-be-default-app-for-custom-file-type][4]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/intent-filter-element\r\n  [2]: https://developer.android.com/guide/topics/manifest/data-element.html\r\n  [3]: https://stackoverflow.com/questions/3760276/android-intent-filter-associate-app-with-file-extension\r\n  [4]: https://stackoverflow.com/questions/3465429/register-to-be-default-app-for-custom-file-type","title":"Associating a file type with the application","body":"<p>I've seen many stackoveflow answers in the same topic, but all of them (atleast the ones I've checked) suggest to use <a href=\"https://developer.android.com/guide/topics/manifest/intent-filter-element\" rel=\"nofollow noreferrer\">intent-filter</a> with the <a href=\"https://developer.android.com/guide/topics/manifest/data-element.html\" rel=\"nofollow noreferrer\">data</a> tag in Android.manifest file.</p>\n<p>I'm wondering if it is possible to do this in code? Maybe in the onCreate of the activity.</p>\n<p>Some answers I've checked are:</p>\n<p><a href=\"https://stackoverflow.com/questions/3760276/android-intent-filter-associate-app-with-file-extension\">Android intent filter: associate app with file extension</a></p>\n<p><a href=\"https://stackoverflow.com/questions/3465429/register-to-be-default-app-for-custom-file-type\">Register to be default app for custom file type</a></p>\n"},{"tags":["python","java","rsa","public-key-encryption","public-key"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1638516275,"post_id":70209522,"comment_id":124114083,"body_markdown":"PyCryptoDome e.g. is been able to build a RSA public key using modulus and exponent: https://pycryptodome.readthedocs.io/en/latest/src/public_key/rsa.html#Crypto.PublicKey.RSA.construct","body":"PyCryptoDome e.g. is been able to build a RSA public key using modulus and exponent: <a href=\"https://pycryptodome.readthedocs.io/en/latest/src/public_key/rsa.html#Crypto.PublicKey.RSA.construct\" rel=\"nofollow noreferrer\">pycryptodome.readthedocs.io/en/latest/src/public_key/&hellip;</a>"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1638517377,"post_id":70209522,"comment_id":124114412,"body_markdown":"Most major Python libraries support the construction of an RSA key based on its components, e.g. also the [Cryptography](https://cryptography.io/en/latest/hazmat/primitives/asymmetric/rsa/#cryptography.hazmat.primitives.asymmetric.rsa.RSAPublicNumbers) library, so you are not limited to a specific library.","body":"Most major Python libraries support the construction of an RSA key based on its components, e.g. also the <a href=\"https://cryptography.io/en/latest/hazmat/primitives/asymmetric/rsa/#cryptography.hazmat.primitives.asymmetric.rsa.RSAPublicNumbers\" rel=\"nofollow noreferrer\">Cryptography</a> library, so you are not limited to a specific library."},{"owner":{"account_id":8623377,"reputation":9580,"user_id":6457407,"display_name":"Frank Yellin"},"score":0,"creation_date":1638518406,"post_id":70209522,"comment_id":124114709,"body_markdown":"And the important parts of the public key are what you have there, the bits, the bits, the modulus, and the exponent.  Though I confess, that&#39;s not an exponent I&#39;ve seen before.  Usually, its 3 or t or 65537.","body":"And the important parts of the public key are what you have there, the bits, the bits, the modulus, and the exponent.  Though I confess, that&#39;s not an exponent I&#39;ve seen before.  Usually, its 3 or t or 65537."},{"owner":{"account_id":21444942,"reputation":241,"user_id":15798673,"display_name":"Callum"},"score":0,"creation_date":1638760466,"post_id":70209522,"comment_id":124166090,"body_markdown":"Thank you all for the comments!! they were extremely helpful! I was able to use https://pycryptodome.readthedocs.io/en/latest/src/public_key/rsa.html#Crypto.PublicKey.RSA.construct method to create the correct public key.","body":"Thank you all for the comments!! they were extremely helpful! I was able to use <a href=\"https://pycryptodome.readthedocs.io/en/latest/src/public_key/rsa.html#Crypto.PublicKey.RSA.construct\" rel=\"nofollow noreferrer\">pycryptodome.readthedocs.io/en/latest/src/public_key/&hellip;</a> method to create the correct public key."}],"answers":[{"tags":[],"owner":{"account_id":21444942,"reputation":241,"user_id":15798673,"display_name":"Callum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638760566,"creation_date":1638760566,"answer_id":70240507,"question_id":70209522,"body_markdown":"Using the pycryptodome library I was able to construct the correct public key using the modulus and exponent.\r\n\r\nhttps://pycryptodome.readthedocs.io/en/latest/src/public_key/rsa.html#Crypto.PublicKey.RSA.construct","title":"Java to Python - Pass RSA Public Key into Function","body":"<p>Using the pycryptodome library I was able to construct the correct public key using the modulus and exponent.</p>\n<p><a href=\"https://pycryptodome.readthedocs.io/en/latest/src/public_key/rsa.html#Crypto.PublicKey.RSA.construct\" rel=\"nofollow noreferrer\">https://pycryptodome.readthedocs.io/en/latest/src/public_key/rsa.html#Crypto.PublicKey.RSA.construct</a></p>\n"}],"owner":{"account_id":21444942,"reputation":241,"user_id":15798673,"display_name":"Callum"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70240507,"answer_count":1,"score":0,"last_activity_date":1638760566,"creation_date":1638505506,"question_id":70209522,"body_markdown":"I am trying to convert an encryption algorithm that uses RSA Encryption from Java to Python. \r\n\r\nI have been working on it for a week and have made some progress but I have stuck on converting this Java specific function below. \r\n\r\n    \tprivate static String encryptMessage(String randomToken, PublicKey publicKey) throws Exception {\r\n\t\tCipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n\t\tcipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n\t\treturn Base64.encodeBase64String(cipher.doFinal(randomToken.getBytes()));\r\n\t}\r\nI am trying to figure out how to pass the public key which is in this format in Java into a python data type to be passed into the function.\r\n\r\n    {public=Sun RSA public key, 2048 bits\r\n      params: null\r\n      modulus: 5438....\r\n      public exponent:12237}\r\n\r\nOnce I am able to pass the key in the correct format. What are the python equivalent calls within the function?\r\n\r\nSome assistance and Guidance would be very much helpful. ","title":"Java to Python - Pass RSA Public Key into Function","body":"<p>I am trying to convert an encryption algorithm that uses RSA Encryption from Java to Python.</p>\n<p>I have been working on it for a week and have made some progress but I have stuck on converting this Java specific function below.</p>\n<pre><code>    private static String encryptMessage(String randomToken, PublicKey publicKey) throws Exception {\n    Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n    cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n    return Base64.encodeBase64String(cipher.doFinal(randomToken.getBytes()));\n}\n</code></pre>\n<p>I am trying to figure out how to pass the public key which is in this format in Java into a python data type to be passed into the function.</p>\n<pre><code>{public=Sun RSA public key, 2048 bits\n  params: null\n  modulus: 5438....\n  public exponent:12237}\n</code></pre>\n<p>Once I am able to pass the key in the correct format. What are the python equivalent calls within the function?</p>\n<p>Some assistance and Guidance would be very much helpful.</p>\n"},{"tags":["java","amazon-web-services","iis","aws-lambda"],"comments":[{"owner":{"account_id":2271722,"reputation":1848,"user_id":1998938,"accept_rate":70,"display_name":"Sanjeev"},"score":0,"creation_date":1643974976,"post_id":70209011,"comment_id":125487554,"body_markdown":"IIS is not at fault here. It turns out there is bug with the application (Lucee) running on tomcat. If `Content-Encoding` is not passed, the application is unable to understand what encoding should it use, and worse its failing silently. The bug has been fixed now and the whole flow is working as expected.","body":"IIS is not at fault here. It turns out there is bug with the application (Lucee) running on tomcat. If <code>Content-Encoding</code> is not passed, the application is unable to understand what encoding should it use, and worse its failing silently. The bug has been fixed now and the whole flow is working as expected."}],"answers":[{"tags":[],"owner":{"account_id":18314599,"reputation":4133,"user_id":13336642,"display_name":"samwu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638760025,"creation_date":1638760025,"answer_id":70240465,"question_id":70209011,"body_markdown":"&gt; i have enabled static and dynamic compression\r\n\r\nIt is not static and dynamic compression, what you should check is Static Content.\r\n\r\nInternet Information Services &gt; WWW Services &gt; Common HTTP Features &gt; Static Content.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8HolI.png","title":"IIS responds with Content Length 0 if Accept Encoding header is NOT passed","body":"<blockquote>\n<p>i have enabled static and dynamic compression</p>\n</blockquote>\n<p>It is not static and dynamic compression, what you should check is Static Content.</p>\n<p>Internet Information Services &gt; WWW Services &gt; Common HTTP Features &gt; Static Content.</p>\n<p><a href=\"https://i.stack.imgur.com/8HolI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8HolI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2271722,"reputation":1848,"user_id":1998938,"accept_rate":70,"display_name":"Sanjeev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638760025,"creation_date":1638500553,"question_id":70209011,"body_markdown":"**Setup**: Lambda running on Java 8/AWS Linux 1, making HTTPS calls to IIS 10 running on Windows 2019 datacenter, application server tomcat.\r\n\r\nWhen a user drops a config file into an S3 bucket, I am using a lambda function to do HTTP ```POST /files``` to my website to inform about the file upload with its contents. \r\n\r\nThe POST responds back to lambda with a large body usually of 500KB in size. I am having trouble with the response headers where I always see ```Content-Length: 0```.\r\n\r\nIf I make the request via postman, I get the response, and the Content-Length: 0. After much poking around, I found that IIS 10(my web server) is not providing a ```Transfer-Encoding: chunked```, and so my lambda is thinking there is no response and so closing the connection.\r\n\r\nUpon comparing the headers between Postman and Lambda i found that the &quot;Accept Encoding: gzip&quot; is missing in lambda calls. So, i removed the header in Postman as well, and i saw the behaviour of 0 content length.\r\n\r\nIn my IIS, i have enabled static and dynamic compression. So, why is IIS not automatically defaulting to non compressed/identity mode? What am i missing here in the configuration?","title":"IIS responds with Content Length 0 if Accept Encoding header is NOT passed","body":"<p><strong>Setup</strong>: Lambda running on Java 8/AWS Linux 1, making HTTPS calls to IIS 10 running on Windows 2019 datacenter, application server tomcat.</p>\n<p>When a user drops a config file into an S3 bucket, I am using a lambda function to do HTTP <code>POST /files</code> to my website to inform about the file upload with its contents.</p>\n<p>The POST responds back to lambda with a large body usually of 500KB in size. I am having trouble with the response headers where I always see <code>Content-Length: 0</code>.</p>\n<p>If I make the request via postman, I get the response, and the Content-Length: 0. After much poking around, I found that IIS 10(my web server) is not providing a <code>Transfer-Encoding: chunked</code>, and so my lambda is thinking there is no response and so closing the connection.</p>\n<p>Upon comparing the headers between Postman and Lambda i found that the &quot;Accept Encoding: gzip&quot; is missing in lambda calls. So, i removed the header in Postman as well, and i saw the behaviour of 0 content length.</p>\n<p>In my IIS, i have enabled static and dynamic compression. So, why is IIS not automatically defaulting to non compressed/identity mode? What am i missing here in the configuration?</p>\n"},{"tags":["java","tdengine"],"comments":[{"owner":{"account_id":1684248,"reputation":108,"user_id":1547838,"display_name":"Honwhy Wang"},"score":0,"creation_date":1638023097,"post_id":70135164,"comment_id":123979425,"body_markdown":"`Runnable.run` is not starting a new thread, you should try new `Thread(runnable).start()`","body":"<code>Runnable.run</code> is not starting a new thread, you should try new <code>Thread(runnable).start()</code>"},{"owner":{"account_id":3884753,"reputation":10795,"user_id":3216427,"display_name":"joanis"},"score":0,"creation_date":1638296637,"post_id":70135164,"comment_id":124049351,"body_markdown":"https://idownvotedbecau.se/imageofcode","body":"<a href=\"https://idownvotedbecau.se/imageofcode\" rel=\"nofollow noreferrer\">idownvotedbecau.se/imageofcode</a>"}],"answers":[{"tags":[],"owner":{"account_id":12714208,"reputation":49,"user_id":9236852,"display_name":"hani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638019846,"creation_date":1638019846,"answer_id":70135227,"question_id":70135164,"body_markdown":"try with AtomicLong for startDate, endDate and cost_total and please feed back. tnx","title":"Java multi-threads connect to TDengine database issue","body":"<p>try with AtomicLong for startDate, endDate and cost_total and please feed back. tnx</p>\n"},{"tags":[],"owner":{"account_id":22279844,"reputation":70,"user_id":16508354,"display_name":"Yu Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638758769,"creation_date":1638758769,"answer_id":70240378,"question_id":70135164,"body_markdown":"because TDengine has a connection pool inside TDengine client.\r\n\r\nhence the output you pasted here makes sense .\r\n\r\nthey use a common connection but will be splited into multi work in TDengine server side.","title":"Java multi-threads connect to TDengine database issue","body":"<p>because TDengine has a connection pool inside TDengine client.</p>\n<p>hence the output you pasted here makes sense .</p>\n<p>they use a common connection but will be splited into multi work in TDengine server side.</p>\n"}],"owner":{"account_id":22279844,"reputation":70,"user_id":16508354,"display_name":"Yu Chen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1638758769,"creation_date":1638019320,"question_id":70135164,"body_markdown":"[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\nI use the code above to implement a concurrent query.\r\n\r\nbut in the taoslog.0 in TDengine database,I could see only two connections like below, why?\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bKa6w.png\r\n  [2]: https://i.stack.imgur.com/Lsn1l.png\r\n  [3]: https://i.stack.imgur.com/cHZtR.png","title":"Java multi-threads connect to TDengine database issue","body":"<p><a href=\"https://i.stack.imgur.com/bKa6w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bKa6w.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Lsn1l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lsn1l.png\" alt=\"enter image description here\" /></a>\nI use the code above to implement a concurrent query.</p>\n<p>but in the taoslog.0 in TDengine database,I could see only two connections like below, why?</p>\n<p><a href=\"https://i.stack.imgur.com/cHZtR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cHZtR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","type-conversion"],"comments":[{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":0,"creation_date":1638744836,"post_id":70173082,"comment_id":124163686,"body_markdown":"It would be very helpful if you would provide some input data and the expected output.","body":"It would be very helpful if you would provide some input data and the expected output."}],"answers":[{"tags":[],"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638748421,"creation_date":1638746400,"answer_id":70239409,"question_id":70173082,"body_markdown":"I identified four issues in your code that lead to failures in your code. I will go over each of them separately.\r\n\r\n**Problem 1:** The problem giving you the `NullPointerException` has to do with your `Record` class. When a new class instance is created, the fields are initialized before the constructor is executed. This means in your case that `ByteBuffer.wrap(Arrays.copyOfRange(record, 0,9)).getLong();` runs before `this.record = recordArray;`. The problem then is that the first statement uses an array that was not initialized.\r\n\r\n**Problem 2:** The index you use to specify the start of the `double` in the array is off by one. The long has 8 bytes 0 to 7 and the double the remaining 8 bytes from 8 to 15. The end index given to the method is [defined](https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOfRange(byte[],%20int,%20int)) to be 1 more than the actual end index.\r\n\r\nSo, to solve these two issues you have to change your `Record` to something like this:\r\n```\r\npublic class Record {\r\n    long idData;\r\n    double key;\r\n\r\n    public Record(byte[] recordArray) {\r\n        this.idData = ByteBuffer.wrap(Arrays.copyOfRange(record, 0,8)).getLong();\r\n        this.key = ByteBuffer.wrap(Arrays.copyOfRange(record, 8,16)).getDouble();\r\n    }\r\n}\r\n```\r\n\r\n**Problem 3:** In the function `bytesToRecord` you have a `for` loop starting at index zero until the index is smaller or equal than the length of the array. This has to be changed to strictly smaller as otherwise, the loop iterates one time too often.\r\n\r\n**Problem 4:** You use the loop index for addressing entities in the `Record[]` and the `byte[]`, which have completely different lengths. The simplest solution is to iterate over the `Record[]` and calculate the index for the `byte[]`.\r\n\r\nSomething like this should solve these two issues:\r\n\r\n```\r\npublic static Record[] bytesToRecord(byte[] byteArray) {\r\n    Record[] arrayRecords = new Record[(byteArray.length/16)];\r\n\r\n    for (int i = 0; i &lt; (arrayRecords.length); i++) {\r\n       arrayRecords[i] = new Record(Arrays.copyOfRange(byteArray, i*16, i * 16 + 16));\r\n    }\r\n        \r\n    return arrayRecords;\r\n}\r\n```\r\n\r\n\r\n\r\n**Edit:** An enhancement to your approach in my opinion would be to limit the `Record` class to only store the values and make all computations inside `bytesToRecord`. This way you don&#39;t have to copy parts of the array and save memory. The code should then look like this:\r\n\r\n```\r\npublic class Record {\r\n    long idData;\r\n    double key;\r\n\r\n    public Record(long idData, double key) {\r\n        this.idData = idData;\r\n        this.key = key;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic static Record[] bytesToRecord(byte[] byteArray) {\r\n    Record[] arrayRecords = new Record[(byteArray.length / 16)];\r\n\r\n    for (int i = 0; i &lt; (arrayRecords.length); i++) {\r\n        long id = ByteBuffer.wrap(byteArray, i * 16, 8).getLong();\r\n        double key = ByteBuffer.wrap(byteArray, i * 16 + 8, 8).getDouble();\r\n\r\n        arrayRecords[i] = new Record(id, key);\r\n    }\r\n\r\n   return arrayRecords;\r\n}\r\n```","title":"Problems converting byte array to collection of objects","body":"<p>I identified four issues in your code that lead to failures in your code. I will go over each of them separately.</p>\n<p><strong>Problem 1:</strong> The problem giving you the <code>NullPointerException</code> has to do with your <code>Record</code> class. When a new class instance is created, the fields are initialized before the constructor is executed. This means in your case that <code>ByteBuffer.wrap(Arrays.copyOfRange(record, 0,9)).getLong();</code> runs before <code>this.record = recordArray;</code>. The problem then is that the first statement uses an array that was not initialized.</p>\n<p><strong>Problem 2:</strong> The index you use to specify the start of the <code>double</code> in the array is off by one. The long has 8 bytes 0 to 7 and the double the remaining 8 bytes from 8 to 15. The end index given to the method is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOfRange(byte%5B%5D,%20int,%20int)\" rel=\"nofollow noreferrer\">defined</a> to be 1 more than the actual end index.</p>\n<p>So, to solve these two issues you have to change your <code>Record</code> to something like this:</p>\n<pre><code>public class Record {\n    long idData;\n    double key;\n\n    public Record(byte[] recordArray) {\n        this.idData = ByteBuffer.wrap(Arrays.copyOfRange(record, 0,8)).getLong();\n        this.key = ByteBuffer.wrap(Arrays.copyOfRange(record, 8,16)).getDouble();\n    }\n}\n</code></pre>\n<p><strong>Problem 3:</strong> In the function <code>bytesToRecord</code> you have a <code>for</code> loop starting at index zero until the index is smaller or equal than the length of the array. This has to be changed to strictly smaller as otherwise, the loop iterates one time too often.</p>\n<p><strong>Problem 4:</strong> You use the loop index for addressing entities in the <code>Record[]</code> and the <code>byte[]</code>, which have completely different lengths. The simplest solution is to iterate over the <code>Record[]</code> and calculate the index for the <code>byte[]</code>.</p>\n<p>Something like this should solve these two issues:</p>\n<pre><code>public static Record[] bytesToRecord(byte[] byteArray) {\n    Record[] arrayRecords = new Record[(byteArray.length/16)];\n\n    for (int i = 0; i &lt; (arrayRecords.length); i++) {\n       arrayRecords[i] = new Record(Arrays.copyOfRange(byteArray, i*16, i * 16 + 16));\n    }\n        \n    return arrayRecords;\n}\n</code></pre>\n<p><strong>Edit:</strong> An enhancement to your approach in my opinion would be to limit the <code>Record</code> class to only store the values and make all computations inside <code>bytesToRecord</code>. This way you don't have to copy parts of the array and save memory. The code should then look like this:</p>\n<pre><code>public class Record {\n    long idData;\n    double key;\n\n    public Record(long idData, double key) {\n        this.idData = idData;\n        this.key = key;\n    }\n}\n</code></pre>\n<pre><code>public static Record[] bytesToRecord(byte[] byteArray) {\n    Record[] arrayRecords = new Record[(byteArray.length / 16)];\n\n    for (int i = 0; i &lt; (arrayRecords.length); i++) {\n        long id = ByteBuffer.wrap(byteArray, i * 16, 8).getLong();\n        double key = ByteBuffer.wrap(byteArray, i * 16 + 8, 8).getDouble();\n\n        arrayRecords[i] = new Record(id, key);\n    }\n\n   return arrayRecords;\n}\n</code></pre>\n"}],"owner":{"account_id":16627975,"reputation":67,"user_id":12016571,"display_name":"Daniel Linares"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638758768,"creation_date":1638291118,"question_id":70173082,"body_markdown":"I am trying to convert an input byte array into a collection of another data structure. The input byte array has a lot of bytes that correspond to a data structure that I call `Record`s which consist of 8 bytes for `data` (`long`) and 8 bytes for `key` (`double`) for each record. What I am trying to do is define a function that does this automatically because I will do this process very frequently. This is the function as I have it right now:\r\n\r\n```\r\npublic Record[] bytesToRecord(byte[] byteArray) {\r\n    Record[] arrayRecords = new Record[(byteArray.length/16)];\r\n\r\n    for (int i = 0; i &lt;= (byteArray.length); i+=16) {\r\n        arrayRecords[i] = new Record(Arrays.copyOfRange(byteArray, i, i + 16));\r\n    } \r\n    return arrayRecords;\r\n}\r\n```\r\n\r\nSo as you can see above, the function takes an array of bytes and loops through every 16 bytes to create a new `Record` object and appends it to the `arrayRecords`, which is the collection of `Record`s in a `Record` array. The problem I have is that I think something is going wrong so my function is not taking exactly 16 bytes per record, so when a `Record` object is created I get a `NullPointerException` in the `Record` class because it cannot properly slice the subarray of 16 bytes for a `Record` to get the `long` and `double` values for `data` and `key`. As follows there is the `Record` class constructor:\r\n\r\n```\r\npublic class Record {\r\n    private byte[] record;\r\n\r\n    long idData = ByteBuffer.wrap(Arrays.copyOfRange(record, 0,9)).getLong();\r\n\r\n    double key = ByteBuffer.wrap(Arrays.copyOfRange(record, 9,16)).getDouble();\r\n\r\n    public Record(byte[] recordArray) {\r\n        this.record = recordArray;\r\n    }\r\n}\r\n```\r\n\r\nI hope somebody can help me to fix this function or suggest another method to do what I am trying to do.","title":"Problems converting byte array to collection of objects","body":"<p>I am trying to convert an input byte array into a collection of another data structure. The input byte array has a lot of bytes that correspond to a data structure that I call <code>Record</code>s which consist of 8 bytes for <code>data</code> (<code>long</code>) and 8 bytes for <code>key</code> (<code>double</code>) for each record. What I am trying to do is define a function that does this automatically because I will do this process very frequently. This is the function as I have it right now:</p>\n<pre><code>public Record[] bytesToRecord(byte[] byteArray) {\n    Record[] arrayRecords = new Record[(byteArray.length/16)];\n\n    for (int i = 0; i &lt;= (byteArray.length); i+=16) {\n        arrayRecords[i] = new Record(Arrays.copyOfRange(byteArray, i, i + 16));\n    } \n    return arrayRecords;\n}\n</code></pre>\n<p>So as you can see above, the function takes an array of bytes and loops through every 16 bytes to create a new <code>Record</code> object and appends it to the <code>arrayRecords</code>, which is the collection of <code>Record</code>s in a <code>Record</code> array. The problem I have is that I think something is going wrong so my function is not taking exactly 16 bytes per record, so when a <code>Record</code> object is created I get a <code>NullPointerException</code> in the <code>Record</code> class because it cannot properly slice the subarray of 16 bytes for a <code>Record</code> to get the <code>long</code> and <code>double</code> values for <code>data</code> and <code>key</code>. As follows there is the <code>Record</code> class constructor:</p>\n<pre><code>public class Record {\n    private byte[] record;\n\n    long idData = ByteBuffer.wrap(Arrays.copyOfRange(record, 0,9)).getLong();\n\n    double key = ByteBuffer.wrap(Arrays.copyOfRange(record, 9,16)).getDouble();\n\n    public Record(byte[] recordArray) {\n        this.record = recordArray;\n    }\n}\n</code></pre>\n<p>I hope somebody can help me to fix this function or suggest another method to do what I am trying to do.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1638758755,"post_id":70240352,"comment_id":124165859,"body_markdown":"What is the exception?","body":"What is the exception?"},{"owner":{"account_id":4501373,"reputation":954,"user_id":3659807,"display_name":"Omar Abdel Bari"},"score":0,"creation_date":1638758931,"post_id":70240352,"comment_id":124165882,"body_markdown":"Did you try investigating using the IDE&#39;s debugger tool?","body":"Did you try investigating using the IDE&#39;s debugger tool?"},{"owner":{"account_id":23546753,"reputation":11,"user_id":17590082,"display_name":"Alex"},"score":0,"creation_date":1638781710,"post_id":70240352,"comment_id":124170587,"body_markdown":"@DaveNewton Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;this.schluessel&quot; is null","body":"@DaveNewton Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;this.schluessel&quot; is null"},{"owner":{"account_id":4501373,"reputation":954,"user_id":3659807,"display_name":"Omar Abdel Bari"},"score":1,"creation_date":1638795786,"post_id":70240352,"comment_id":124175291,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"}],"owner":{"account_id":23546753,"reputation":11,"user_id":17590082,"display_name":"Alex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1638758473,"creation_date":1638758473,"question_id":70240352,"body_markdown":"Hey guys I have a crypter/decrypter and wanted to use it over an JavaFX. But my problem is I don&#180;t know, why he doesn&#180;t crypt it how he has to do. I would like to hear some tips or updatet code lines from you guys. \r\n\r\nIf I run this programm he will make an Exception from the Class &quot;Wuerfel&quot; but my if-statments looks all fine for the cryption of the word. So after 2 hours of trying out I don&#180;t know what the problem can be and would appreciate to hear some advices.\r\n\r\n```package pis.hue;\r\n\r\npublic interface Codec{\r\n\r\n\r\n    String kodiere(String klartext);\r\n    String dekodiere(String geheimtext);\r\n    String gibLosung();\r\n    void setzeLosung(String schluessel)throws\r\n            IllegalArgumentException; // bei ungeeignetem Schl&#252;ssel!\r\n\r\n}\r\n\r\n//-----------------------------------------------------------------\r\n\r\npackage pis.hue;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class CodecGui extends Application implements EventHandler&lt;ActionEvent&gt; {\r\n\r\n    Button codierer, decodierer;\r\n    TextField losung1, losung2;\r\n    TextArea eingabetext;\r\n    ComboBox auswahl;\r\n    Label eingabelabel, label1, label2;\r\n    Alert info;\r\n\r\n    //Codec ceaser = new Ceaser();\r\n    Codec wuerfel1 = new Wuerfel();\r\n    Codec wuerfel2= new Wuerfel();\r\n\r\n    @Override\r\n    public void start(Stage primaryStage){\r\n        try{\r\n            //Die GUI &#252;ber das alles l&#228;uft\r\n            AnchorPane root = new AnchorPane();\r\n\r\n            //Der Titel der GUI\r\n            primaryStage.setTitle(&quot;Haus&#252;bung PiS&quot;);\r\n            primaryStage.setScene(new Scene(root, 700, 300));\r\n            root.setStyle(&quot;-fx-background-color: #363535;&quot;);\r\n            primaryStage.show();\r\n\r\n\r\n\r\n            //--------------------------------------------------------\r\n            //Codierer\r\n            codierer = new Button(&quot;Codierer&quot;);\r\n            codierer.setPrefWidth(120);\r\n            codierer.setMaxHeight(60);\r\n            codierer.setOnAction(this);\r\n\r\n            AnchorPane.setRightAnchor(codierer, 10.0);\r\n            AnchorPane.setBottomAnchor(codierer, 10.0);\r\n\r\n            //Decodierer\r\n            decodierer = new Button(&quot;Decodierer&quot;);\r\n            decodierer.setPrefWidth(120);\r\n            decodierer.setMaxHeight(60);\r\n            decodierer.setOnAction(this);\r\n\r\n            AnchorPane.setRightAnchor(decodierer, 10.0);\r\n            AnchorPane.setBottomAnchor(decodierer, 60.0);\r\n\r\n            //--------------------------------------------------------\r\n\r\n            //Eingabefeld\r\n            eingabetext = new TextArea();\r\n            eingabetext.setMaxHeight(300);\r\n            eingabetext.setPrefWidth(700);\r\n            AnchorPane.setTopAnchor(eingabetext, 20.0);\r\n            AnchorPane.setBottomAnchor(eingabetext, 150.0);\r\n            eingabetext.setStyle(&quot;-fx-background-color: #BDBDBD;&quot;);\r\n\r\n            //Losung1\r\n            losung1 = new TextField();\r\n            losung1.setMaxHeight(45);\r\n            losung1.setPrefWidth(250);\r\n            AnchorPane.setBottomAnchor(losung1, 10.0);\r\n            AnchorPane.setLeftAnchor(losung1, 10.0);\r\n            losung1.setStyle(&quot;-fx-background-color: #BDBDBD;&quot;);\r\n\r\n            //Losung2\r\n            losung2 = new TextField();\r\n            losung2.setMaxHeight(45);\r\n            losung2.setPrefWidth(250);\r\n            AnchorPane.setLeftAnchor(losung2, 10.0);\r\n            AnchorPane.setBottomAnchor(losung2, 60.0);\r\n            losung2.setStyle(&quot;-fx-background-color: #BDBDBD;&quot;);\r\n\r\n\r\n            //--------------------------------------------------------\r\n\r\n            //Labels\r\n\r\n            //Eingabelabel\r\n            eingabelabel = new Label(&quot;Bitte hier Text eingeben&quot;);\r\n            AnchorPane.setTopAnchor(eingabelabel, 1.0);\r\n            eingabelabel.setStyle(&quot;-fx-text-fill: #FFFFFF;&quot;);\r\n\r\n            //Label f&#252;r Losung 1\r\n            label1 = new Label(&quot;Losung 1:&quot;);\r\n            AnchorPane.setLeftAnchor(label1, 9.0);\r\n            AnchorPane.setBottomAnchor(label1, 90.0);\r\n            label1.setStyle(&quot;-fx-text-fill: #FFFFFF;&quot;);\r\n\r\n            //Label f&#252;r Losung 2\r\n            label2 = new Label(&quot;Losung 2: (Only W&#252;rfel)&quot;);\r\n            AnchorPane.setLeftAnchor(label2, 9.0);\r\n            AnchorPane.setBottomAnchor(label2, 40.0);\r\n            label2.setStyle(&quot;-fx-text-fill: #FFFFFF;&quot;);\r\n\r\n            //--------------------------------------------------------\r\n\r\n            //ComboBox\r\n\r\n            auswahl = new ComboBox&lt;&gt;();\r\n            ObservableList&lt;String&gt; items = FXCollections.observableArrayList(&quot;Ceaser&quot;, &quot;W&#252;rfel&quot;);\r\n            auswahl.setItems(items);\r\n            auswahl.setPromptText(&quot;Codierungsart: &quot;);\r\n\r\n            AnchorPane.setBottomAnchor(auswahl, 60.0);\r\n            AnchorPane.setRightAnchor(auswahl, 200.0);\r\n            auswahl.setMaxHeight(30);\r\n            auswahl.setPrefWidth(200);\r\n\r\n            //--------------------------------------------------------\r\n\r\n            //Info bez&#252;glich der ComoBox\r\n            info = new Alert(Alert.AlertType.INFORMATION);\r\n            info.setHeaderText(&quot;Vorm eintragen, bitte eine Codierung ausw&#228;hlen&quot;);\r\n            info.show();\r\n\r\n\r\n            //--------------------------------------------------------\r\n\r\n            root.getChildren().addAll(\r\n                    codierer, decodierer,\r\n                    eingabetext, losung1, losung2\r\n                    ,eingabelabel, label1, label2,\r\n                    auswahl\r\n            );\r\n\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void handle(ActionEvent event) {\r\n\r\n        String klartext = eingabetext.getText();\r\n        String lwuerfel1 = losung1.getText();\r\n        String lwuerfel2 = losung2.getText();\r\n        wuerfel1.setzeLosung(lwuerfel1);\r\n\r\n        if(event.getSource() == codierer &amp;&amp; auswahl.getSelectionModel().isSelected(1)){\r\n            if(klartext.matches(&quot;[a-zA-Z]&quot;)) {\r\n                eingabetext.setText(wuerfel1.kodiere((klartext)));\r\n                klartext = eingabetext.getText();\r\n            }\r\n            if(lwuerfel2.equals(&quot;[a-zA-Z]&quot;)){\r\n                wuerfel2.setzeLosung(lwuerfel2);\r\n                eingabetext.setText(wuerfel2.kodiere(klartext));\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    //Main Methode, die alles startet\r\n    public static void main(String[] args) {\r\n\r\n        launch(args);\r\n\r\n    }\r\n}\r\n\r\n\r\n//-----------------------------------------------------------------\r\n\r\npackage pis.hue;\r\n\r\nimport java.lang.StringBuilder;\r\n\r\npublic class Wuerfel implements Codec {\r\n\r\n    private String schluessel;\r\n    private int[] verschluessler;\r\n    private StringBuilder sb;\r\n\r\n    public Wuerfel(String schluessel) {\r\n        this.schluessel = schluessel;\r\n        sb = new StringBuilder();\r\n\r\n        berechnenVers();\r\n    }\r\n\r\n    public Wuerfel() {\r\n\r\n    }\r\n\r\n    private void berechnenVers() {\r\n\r\n        int counter = 0;\r\n        verschluessler = new int[this.schluessel.length()];\r\n\r\n        for (char c = &#39;a&#39;; c &lt;= &#39;z&#39;; c++) {\r\n            for (int i = 0; i &lt; verschluessler.length; i++) {\r\n                if (this.schluessel.charAt(i) == c || this.schluessel.charAt(i) == (c - 32)) {\r\n                    counter++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public String kodiere(String klartext) {\r\n        int index = 0;\r\n        String newString = &quot;&quot;;\r\n        String parts[];\r\n\r\n        parts = new String[klartext.length() / this.schluessel.length() + 1];\r\n\r\n        for (int i = 0; i &lt; parts.length - 1; i++) {\r\n            parts[i] = klartext.substring(index, index + this.schluessel.length());\r\n            index += this.schluessel.length();\r\n        }\r\n\r\n        parts[parts.length - 1] = klartext.substring(index, klartext.toString().length());\r\n\r\n        for (int i = 0; i &lt; verschluessler.length; i++) {\r\n            for (int j = 0; j &lt; verschluessler.length; j++) {\r\n                if (verschluessler[j] != i) {\r\n                    continue;\r\n                }\r\n\r\n                for (int s = 0; s &lt; parts.length; s++) {\r\n                    if (parts[s].length() - 1 &lt; j) {\r\n\r\n                    } else {\r\n                        newString += parts[s].charAt(j);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return newString;\r\n    }\r\n\r\n    @Override\r\n    public String dekodiere(String geheimtext) {\r\n        int index = 0;\r\n        char[][] zeichen = new char[verschluessler.length][geheimtext.length() / this.schluessel.length()];\r\n        int helper = geheimtext.length() % this.verschluessler.length;\r\n\r\n        for (int i = 0; i &lt; helper; i++) {\r\n            zeichen[i] = new char[zeichen[i].length + 1];\r\n        }\r\n\r\n        String newString = &quot;&quot;;\r\n\r\n        for (int i = 0; i &lt; verschluessler.length; i++) {\r\n            for (int j = 0; j &lt; verschluessler.length; j++) {\r\n                if (verschluessler[j] != i)\r\n                    continue;\r\n\r\n                    for(int k = 0; k &lt; zeichen[j].length; k++){\r\n                        zeichen[j][k] = geheimtext.charAt(index);\r\n                        index++;\r\n                    }\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; zeichen[zeichen.length - 1].length; i++) {\r\n            for (int j = 0; j &lt; zeichen.length; j++) {\r\n                newString += zeichen[j][i];\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; helper; i++) {\r\n            newString += zeichen[i][zeichen[i].length - 1];\r\n        }\r\n        return newString;\r\n    }\r\n\r\n    @Override\r\n    public String gibLosung() {\r\n        return schluessel;\r\n    }\r\n\r\n    @Override\r\n    public void setzeLosung(String schluessel) throws IllegalArgumentException {\r\n        try {\r\n            if (!schluessel.matches(&quot;[a-zA-Z]+&quot;) || schluessel.isBlank())\r\n                throw new IllegalArgumentException(&quot;Nur Buchstaben von a-z und A-Z&quot;);\r\n            else\r\n                this.schluessel = schluessel;\r\n            berechnenVers();\r\n        } catch (IllegalArgumentException error) {\r\n            System.out.println(error);\r\n        }\r\n    }\r\n\r\n}","title":"Why doesn&#180;t my programm works with JavaFX?","body":"<p>Hey guys I have a crypter/decrypter and wanted to use it over an JavaFX. But my problem is I don´t know, why he doesn´t crypt it how he has to do. I would like to hear some tips or updatet code lines from you guys.</p>\n<p>If I run this programm he will make an Exception from the Class &quot;Wuerfel&quot; but my if-statments looks all fine for the cryption of the word. So after 2 hours of trying out I don´t know what the problem can be and would appreciate to hear some advices.</p>\n<pre><code>\npublic interface Codec{\n\n\n    String kodiere(String klartext);\n    String dekodiere(String geheimtext);\n    String gibLosung();\n    void setzeLosung(String schluessel)throws\n            IllegalArgumentException; // bei ungeeignetem Schlüssel!\n\n}\n\n//-----------------------------------------------------------------\n\npackage pis.hue;\n\nimport javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\n\npublic class CodecGui extends Application implements EventHandler&lt;ActionEvent&gt; {\n\n    Button codierer, decodierer;\n    TextField losung1, losung2;\n    TextArea eingabetext;\n    ComboBox auswahl;\n    Label eingabelabel, label1, label2;\n    Alert info;\n\n    //Codec ceaser = new Ceaser();\n    Codec wuerfel1 = new Wuerfel();\n    Codec wuerfel2= new Wuerfel();\n\n    @Override\n    public void start(Stage primaryStage){\n        try{\n            //Die GUI über das alles läuft\n            AnchorPane root = new AnchorPane();\n\n            //Der Titel der GUI\n            primaryStage.setTitle(&quot;Hausübung PiS&quot;);\n            primaryStage.setScene(new Scene(root, 700, 300));\n            root.setStyle(&quot;-fx-background-color: #363535;&quot;);\n            primaryStage.show();\n\n\n\n            //--------------------------------------------------------\n            //Codierer\n            codierer = new Button(&quot;Codierer&quot;);\n            codierer.setPrefWidth(120);\n            codierer.setMaxHeight(60);\n            codierer.setOnAction(this);\n\n            AnchorPane.setRightAnchor(codierer, 10.0);\n            AnchorPane.setBottomAnchor(codierer, 10.0);\n\n            //Decodierer\n            decodierer = new Button(&quot;Decodierer&quot;);\n            decodierer.setPrefWidth(120);\n            decodierer.setMaxHeight(60);\n            decodierer.setOnAction(this);\n\n            AnchorPane.setRightAnchor(decodierer, 10.0);\n            AnchorPane.setBottomAnchor(decodierer, 60.0);\n\n            //--------------------------------------------------------\n\n            //Eingabefeld\n            eingabetext = new TextArea();\n            eingabetext.setMaxHeight(300);\n            eingabetext.setPrefWidth(700);\n            AnchorPane.setTopAnchor(eingabetext, 20.0);\n            AnchorPane.setBottomAnchor(eingabetext, 150.0);\n            eingabetext.setStyle(&quot;-fx-background-color: #BDBDBD;&quot;);\n\n            //Losung1\n            losung1 = new TextField();\n            losung1.setMaxHeight(45);\n            losung1.setPrefWidth(250);\n            AnchorPane.setBottomAnchor(losung1, 10.0);\n            AnchorPane.setLeftAnchor(losung1, 10.0);\n            losung1.setStyle(&quot;-fx-background-color: #BDBDBD;&quot;);\n\n            //Losung2\n            losung2 = new TextField();\n            losung2.setMaxHeight(45);\n            losung2.setPrefWidth(250);\n            AnchorPane.setLeftAnchor(losung2, 10.0);\n            AnchorPane.setBottomAnchor(losung2, 60.0);\n            losung2.setStyle(&quot;-fx-background-color: #BDBDBD;&quot;);\n\n\n            //--------------------------------------------------------\n\n            //Labels\n\n            //Eingabelabel\n            eingabelabel = new Label(&quot;Bitte hier Text eingeben&quot;);\n            AnchorPane.setTopAnchor(eingabelabel, 1.0);\n            eingabelabel.setStyle(&quot;-fx-text-fill: #FFFFFF;&quot;);\n\n            //Label für Losung 1\n            label1 = new Label(&quot;Losung 1:&quot;);\n            AnchorPane.setLeftAnchor(label1, 9.0);\n            AnchorPane.setBottomAnchor(label1, 90.0);\n            label1.setStyle(&quot;-fx-text-fill: #FFFFFF;&quot;);\n\n            //Label für Losung 2\n            label2 = new Label(&quot;Losung 2: (Only Würfel)&quot;);\n            AnchorPane.setLeftAnchor(label2, 9.0);\n            AnchorPane.setBottomAnchor(label2, 40.0);\n            label2.setStyle(&quot;-fx-text-fill: #FFFFFF;&quot;);\n\n            //--------------------------------------------------------\n\n            //ComboBox\n\n            auswahl = new ComboBox&lt;&gt;();\n            ObservableList&lt;String&gt; items = FXCollections.observableArrayList(&quot;Ceaser&quot;, &quot;Würfel&quot;);\n            auswahl.setItems(items);\n            auswahl.setPromptText(&quot;Codierungsart: &quot;);\n\n            AnchorPane.setBottomAnchor(auswahl, 60.0);\n            AnchorPane.setRightAnchor(auswahl, 200.0);\n            auswahl.setMaxHeight(30);\n            auswahl.setPrefWidth(200);\n\n            //--------------------------------------------------------\n\n            //Info bezüglich der ComoBox\n            info = new Alert(Alert.AlertType.INFORMATION);\n            info.setHeaderText(&quot;Vorm eintragen, bitte eine Codierung auswählen&quot;);\n            info.show();\n\n\n            //--------------------------------------------------------\n\n            root.getChildren().addAll(\n                    codierer, decodierer,\n                    eingabetext, losung1, losung2\n                    ,eingabelabel, label1, label2,\n                    auswahl\n            );\n\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void handle(ActionEvent event) {\n\n        String klartext = eingabetext.getText();\n        String lwuerfel1 = losung1.getText();\n        String lwuerfel2 = losung2.getText();\n        wuerfel1.setzeLosung(lwuerfel1);\n\n        if(event.getSource() == codierer &amp;&amp; auswahl.getSelectionModel().isSelected(1)){\n            if(klartext.matches(&quot;[a-zA-Z]&quot;)) {\n                eingabetext.setText(wuerfel1.kodiere((klartext)));\n                klartext = eingabetext.getText();\n            }\n            if(lwuerfel2.equals(&quot;[a-zA-Z]&quot;)){\n                wuerfel2.setzeLosung(lwuerfel2);\n                eingabetext.setText(wuerfel2.kodiere(klartext));\n            }\n        }\n    }\n\n\n    //Main Methode, die alles startet\n    public static void main(String[] args) {\n\n        launch(args);\n\n    }\n}\n\n\n//-----------------------------------------------------------------\n\npackage pis.hue;\n\nimport java.lang.StringBuilder;\n\npublic class Wuerfel implements Codec {\n\n    private String schluessel;\n    private int[] verschluessler;\n    private StringBuilder sb;\n\n    public Wuerfel(String schluessel) {\n        this.schluessel = schluessel;\n        sb = new StringBuilder();\n\n        berechnenVers();\n    }\n\n    public Wuerfel() {\n\n    }\n\n    private void berechnenVers() {\n\n        int counter = 0;\n        verschluessler = new int[this.schluessel.length()];\n\n        for (char c = 'a'; c &lt;= 'z'; c++) {\n            for (int i = 0; i &lt; verschluessler.length; i++) {\n                if (this.schluessel.charAt(i) == c || this.schluessel.charAt(i) == (c - 32)) {\n                    counter++;\n                }\n            }\n        }\n    }\n\n\n    @Override\n    public String kodiere(String klartext) {\n        int index = 0;\n        String newString = &quot;&quot;;\n        String parts[];\n\n        parts = new String[klartext.length() / this.schluessel.length() + 1];\n\n        for (int i = 0; i &lt; parts.length - 1; i++) {\n            parts[i] = klartext.substring(index, index + this.schluessel.length());\n            index += this.schluessel.length();\n        }\n\n        parts[parts.length - 1] = klartext.substring(index, klartext.toString().length());\n\n        for (int i = 0; i &lt; verschluessler.length; i++) {\n            for (int j = 0; j &lt; verschluessler.length; j++) {\n                if (verschluessler[j] != i) {\n                    continue;\n                }\n\n                for (int s = 0; s &lt; parts.length; s++) {\n                    if (parts[s].length() - 1 &lt; j) {\n\n                    } else {\n                        newString += parts[s].charAt(j);\n                    }\n                }\n            }\n        }\n        return newString;\n    }\n\n    @Override\n    public String dekodiere(String geheimtext) {\n        int index = 0;\n        char[][] zeichen = new char[verschluessler.length][geheimtext.length() / this.schluessel.length()];\n        int helper = geheimtext.length() % this.verschluessler.length;\n\n        for (int i = 0; i &lt; helper; i++) {\n            zeichen[i] = new char[zeichen[i].length + 1];\n        }\n\n        String newString = &quot;&quot;;\n\n        for (int i = 0; i &lt; verschluessler.length; i++) {\n            for (int j = 0; j &lt; verschluessler.length; j++) {\n                if (verschluessler[j] != i)\n                    continue;\n\n                    for(int k = 0; k &lt; zeichen[j].length; k++){\n                        zeichen[j][k] = geheimtext.charAt(index);\n                        index++;\n                    }\n            }\n        }\n\n        for (int i = 0; i &lt; zeichen[zeichen.length - 1].length; i++) {\n            for (int j = 0; j &lt; zeichen.length; j++) {\n                newString += zeichen[j][i];\n            }\n        }\n\n        for (int i = 0; i &lt; helper; i++) {\n            newString += zeichen[i][zeichen[i].length - 1];\n        }\n        return newString;\n    }\n\n    @Override\n    public String gibLosung() {\n        return schluessel;\n    }\n\n    @Override\n    public void setzeLosung(String schluessel) throws IllegalArgumentException {\n        try {\n            if (!schluessel.matches(&quot;[a-zA-Z]+&quot;) || schluessel.isBlank())\n                throw new IllegalArgumentException(&quot;Nur Buchstaben von a-z und A-Z&quot;);\n            else\n                this.schluessel = schluessel;\n            berechnenVers();\n        } catch (IllegalArgumentException error) {\n            System.out.println(error);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","main-method"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1610982502,"post_id":65757983,"comment_id":116297879,"body_markdown":"See https://stackoverflow.com/a/16784855/2000323","body":"See <a href=\"https://stackoverflow.com/a/16784855/2000323\">stackoverflow.com/a/16784855/2000323</a>"}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610906123,"creation_date":1610906123,"answer_id":65764066,"question_id":65757983,"body_markdown":"Check that in the settings the _&quot;Delegate IDE build...&quot;_ is not selected:\r\n\r\n[![project settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xqm6b.png","title":"How to run a main method method without building the WHOLE maven project in idea?","body":"<p>Check that in the settings the <em>&quot;Delegate IDE build...&quot;</em> is not selected:</p>\n<p><a href=\"https://i.stack.imgur.com/Xqm6b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xqm6b.png\" alt=\"project settings\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610982489,"creation_date":1610982489,"answer_id":65777100,"question_id":65757983,"body_markdown":"IDE performs tasks that are set in **Before launch** section of the Run/Debug Configuration. By default the **Build** set is set there - which will build the all the sources which deletd on the code you are trying to run.\r\n\r\n1. You can remove the **Build** step from there and build the module alone from the module context menu of this module. See [compile module](https://www.jetbrains.com/help/idea/compiling-applications.html#compile_module) for more description.\r\n2. Use **Build, no error check** step in **Before launch** section. ","title":"How to run a main method method without building the WHOLE maven project in idea?","body":"<p>IDE performs tasks that are set in <strong>Before launch</strong> section of the Run/Debug Configuration. By default the <strong>Build</strong> set is set there - which will build the all the sources which deletd on the code you are trying to run.</p>\n<ol>\n<li>You can remove the <strong>Build</strong> step from there and build the module alone from the module context menu of this module. See <a href=\"https://www.jetbrains.com/help/idea/compiling-applications.html#compile_module\" rel=\"nofollow noreferrer\">compile module</a> for more description.</li>\n<li>Use <strong>Build, no error check</strong> step in <strong>Before launch</strong> section.</li>\n</ol>\n"}],"owner":{"account_id":963056,"reputation":994,"user_id":986966,"accept_rate":80,"display_name":"fall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1170,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638757960,"creation_date":1610865434,"question_id":65757983,"body_markdown":"I have a maven project with many demo classes with their own main methods, they don&#39;t dependent on each other. I used to be able to run a class by right clicking on its main method, and select `Run MyClass.main()`. But now instead of running it, it started to build the maven project as a whole. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIs there a way to &quot;fix&quot; this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AtKVA.gif","title":"How to run a main method method without building the WHOLE maven project in idea?","body":"<p>I have a maven project with many demo classes with their own main methods, they don't dependent on each other. I used to be able to run a class by right clicking on its main method, and select <code>Run MyClass.main()</code>. But now instead of running it, it started to build the maven project as a whole.</p>\n<p><a href=\"https://i.stack.imgur.com/AtKVA.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AtKVA.gif\" alt=\"enter image description here\" /></a></p>\n<p>Is there a way to &quot;fix&quot; this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1638757453,"post_id":70240230,"comment_id":124165673,"body_markdown":"What exactly are you trying to do? There&#39;s no non-deprecated API that calls `setUserVisibleHint()` in the first place, so this if check doesn&#39;t make any sense at all.","body":"What exactly are you trying to do? There&#39;s no non-deprecated API that calls <code>setUserVisibleHint()</code> in the first place, so this if check doesn&#39;t make any sense at all."}],"owner":{"account_id":19191072,"reputation":135,"user_id":14020792,"display_name":"vr_min_chan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638756842,"creation_date":1638756842,"question_id":70240230,"body_markdown":"I am new to android development.\r\nI&#39;m importing &quot;androidx.fragment.app.Fragment&quot;.\r\n\r\n&#39;getUserVisibleHint()&#39; is deprecated.\r\nSo, I want to use setMaxLifecycle(). But, I can&#39;t understand.\r\n\r\nWhy is &quot;setMaxLifecycle&quot; an alternative to &quot;getUserVisibleHint&quot;?\r\nWhy is &quot;set&quot; an alternative to &quot;get&quot;?\r\n\r\n```\r\nif (getUserVisibleHint())\r\n{\r\n\r\n}\r\n```\r\n\r\nWill this happen?\r\nWhat do you set in the argument?\r\nI don&#39;t understand at all even if I read the reference.\r\n\r\n```\r\nif (setMaxLifecycle())\r\n{\r\n\r\n}\r\n```","title":"Why is &quot;setMaxLifecycle&quot; an alternative to &quot;getUserVisibleHint&quot;?","body":"<p>I am new to android development.\nI'm importing &quot;androidx.fragment.app.Fragment&quot;.</p>\n<p>'getUserVisibleHint()' is deprecated.\nSo, I want to use setMaxLifecycle(). But, I can't understand.</p>\n<p>Why is &quot;setMaxLifecycle&quot; an alternative to &quot;getUserVisibleHint&quot;?\nWhy is &quot;set&quot; an alternative to &quot;get&quot;?</p>\n<pre><code>if (getUserVisibleHint())\n{\n\n}\n</code></pre>\n<p>Will this happen?\nWhat do you set in the argument?\nI don't understand at all even if I read the reference.</p>\n<pre><code>if (setMaxLifecycle())\n{\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1638756323,"post_id":70240190,"comment_id":124165511,"body_markdown":"`[B` probably represents a byte array. which line is `at admin.prodtableMouseClicked(admin.java:411)`?","body":"<code>[B</code> probably represents a byte array. which line is <code>at admin.prodtableMouseClicked(admin.java:411)</code>?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1638756422,"post_id":70240190,"comment_id":124165526,"body_markdown":"You need to debug this thing, first of all by checking what is held in your table model here: `prodtable.getValueAt(Myindex,4);`","body":"You need to debug this thing, first of all by checking what is held in your table model here: <code>prodtable.getValueAt(Myindex,4);</code>"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1638756553,"post_id":70240190,"comment_id":124165543,"body_markdown":"I already figured as much (see my second comment). You&#39;re casting a byte array to ImageIcon (as the error is telling you) on that line, and that simply won&#39;t work.","body":"I already figured as much (see my second comment). You&#39;re casting a byte array to ImageIcon (as the error is telling you) on that line, and that simply won&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638756442,"creation_date":1638756442,"answer_id":70240203,"question_id":70240190,"body_markdown":"`prodtable.getValueAt(Myindex,4);` is returning a byte array.\r\n\r\nThe cast operator __does not__ convert anything&lt;sup&gt;1&lt;/sup&gt;. It&#39;s merely a type assertion: You&#39;re saying that whatever `getValueAt` returns, it _IS_ an ImageIcon. It isn&#39;t, so this fails.\r\n\r\nPerhaps that byte array is the content of a jpeg or PNG image or whatnot, in which case you&#39;d have to throw it through e.g. Toolkit&#39;s methods to turn those into Image objects. Your code pastes don&#39;t give any insights on what it might be.\r\n\r\n[1] When the thing in the parens is a primitive type, it -does- convert. Point is, `ImageIcon` isn&#39;t a primitive.","title":"[B cannot be cast to javax.swing.ImageIcon","body":"<p><code>prodtable.getValueAt(Myindex,4);</code> is returning a byte array.</p>\n<p>The cast operator <strong>does not</strong> convert anything<sup>1</sup>. It's merely a type assertion: You're saying that whatever <code>getValueAt</code> returns, it <em>IS</em> an ImageIcon. It isn't, so this fails.</p>\n<p>Perhaps that byte array is the content of a jpeg or PNG image or whatnot, in which case you'd have to throw it through e.g. Toolkit's methods to turn those into Image objects. Your code pastes don't give any insights on what it might be.</p>\n<p>[1] When the thing in the parens is a primitive type, it -does- convert. Point is, <code>ImageIcon</code> isn't a primitive.</p>\n"}],"owner":{"account_id":21045998,"reputation":1,"user_id":15467317,"display_name":"Emmam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638756458,"creation_date":1638756236,"question_id":70240190,"body_markdown":"  what can my code problem ,, this is my code in the table, every time I click an error appears\r\n\r\n   I would like the picture on the table to be displayed on the label, how do you think?\r\n  dimg. is my jlabel \r\n  thank you\r\n\r\n        private void prodtableMouseClicked(java.awt.event.MouseEvent evt) {                                       \r\n        DefaultTableModel model = (DefaultTableModel)prodtable.getModel();\r\n\r\n        int Myindex = prodtable.getSelectedRow();\r\n        prodcode.setText(model.getValueAt(Myindex, 0).toString());\r\n        prodname.setText(model.getValueAt(Myindex, 1).toString());\r\n        prodqty.setText(model.getValueAt(Myindex, 2).toString());\r\n        prodprice.setText(model.getValueAt(Myindex, 3).toString());\r\n\r\n       ImageIcon image1= (ImageIcon)prodtable.getValueAt(Myindex,4);\r\n       Image image2 = \r\n         image1.getImage().getScaledInstance(dimg.getWidth(),dimg.getHeight(),Image.SCALE_SMOOTH);\r\n       ImageIcon image3 =new ImageIcon (image2);\r\n       dimg.setIcon(image3);\r\n\r\n\r\n\r\nthis is the error that appears:\r\n\r\n      Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: [B cannot be cast to \r\n      javax.swing.ImageIcon\r\n\t  at admin.prodtableMouseClicked(admin.java:411)\r\n\t  at admin.access$200(admin.java:32)\r\n\t  at admin$3.mouseClicked(admin.java:150)\r\n\t  at java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:270)\r\n\t  at java.awt.Component.processMouseEvent(Component.java:6536)\r\n\t  at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\t  at java.awt.Component.processEvent(Component.java:6298)\r\n\t  at java.awt.Container.processEvent(Container.java:2236)","title":"[B cannot be cast to javax.swing.ImageIcon","body":"<p>what can my code problem ,, this is my code in the table, every time I click an error appears</p>\n<p>I would like the picture on the table to be displayed on the label, how do you think?\ndimg. is my jlabel\nthank you</p>\n<pre><code>    private void prodtableMouseClicked(java.awt.event.MouseEvent evt) {                                       \n    DefaultTableModel model = (DefaultTableModel)prodtable.getModel();\n\n    int Myindex = prodtable.getSelectedRow();\n    prodcode.setText(model.getValueAt(Myindex, 0).toString());\n    prodname.setText(model.getValueAt(Myindex, 1).toString());\n    prodqty.setText(model.getValueAt(Myindex, 2).toString());\n    prodprice.setText(model.getValueAt(Myindex, 3).toString());\n\n   ImageIcon image1= (ImageIcon)prodtable.getValueAt(Myindex,4);\n   Image image2 = \n     image1.getImage().getScaledInstance(dimg.getWidth(),dimg.getHeight(),Image.SCALE_SMOOTH);\n   ImageIcon image3 =new ImageIcon (image2);\n   dimg.setIcon(image3);\n</code></pre>\n<p>this is the error that appears:</p>\n<pre><code>  Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: [B cannot be cast to \n  javax.swing.ImageIcon\n  at admin.prodtableMouseClicked(admin.java:411)\n  at admin.access$200(admin.java:32)\n  at admin$3.mouseClicked(admin.java:150)\n  at java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:270)\n  at java.awt.Component.processMouseEvent(Component.java:6536)\n  at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n  at java.awt.Component.processEvent(Component.java:6298)\n  at java.awt.Container.processEvent(Container.java:2236)\n</code></pre>\n"},{"tags":["java","jwt","twilio","twilio-api"],"comments":[{"owner":{"account_id":18629379,"reputation":127,"user_id":13603753,"display_name":"tio_hecro"},"score":0,"creation_date":1641814770,"post_id":70240182,"comment_id":124896737,"body_markdown":"i&#39;m having the same problem, did you solve?","body":"i&#39;m having the same problem, did you solve?"}],"owner":{"account_id":15574855,"reputation":169,"user_id":11236220,"display_name":"Jaehyuck Choi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638756091,"creation_date":1638756091,"question_id":70240182,"body_markdown":"I am trying to use Twilio SMS API using NetBeans 8.2, but I got this error although I installed twilio-8.0.0.jar and imported it correctly... I don&#39;t what to do... Please help me out.\r\n\r\nThe code is below:\r\n\r\n\r\n    import com.twilio.Twilio;\r\n    import com.twilio.rest.api.v2010.account.Message;\r\n    import com.twilio.type.PhoneNumber;\r\n\r\n    public class Example {\r\n        // Find your Account SID and Auth Token at twilio.com/console\r\n        // and set the environment variables. See http://twil.io/secure\r\n        public static final String ACCOUNT_SID = &quot;ACCOUNT_SID&quot;;\r\n        public static final String AUTH_TOKEN = &quot;AUTH_TOKEN&quot;;\r\n\r\n        public static void main(String[] args) {\r\n            Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\r\n            Message message = Message.creator(\r\n                    new com.twilio.type.PhoneNumber(&quot;+14159352345&quot;),\r\n                    new com.twilio.type.PhoneNumber(&quot;+14158141829&quot;),\r\n                    &quot;Where&#39;s Wallace?&quot;)\r\n                .create();\r\n\r\n            System.out.println(message.getSid());\r\n        }\r\n    }\r\n\r\nThe error is below:\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/http/client/RedirectStrategy\r\n        at com.twilio.http.TwilioRestClient$Builder.build(TwilioRestClient.java:116)\r\n\t    at com.twilio.Twilio.buildRestClient(Twilio.java:187)\r\n\t    at com.twilio.Twilio.getRestClient(Twilio.java:163)\r\n\t    at com.twilio.base.Creator.create(Creator.java:40)\r\n\t    at filter.LoginFilter.doFilter(LoginFilter.java:316)\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t    at filter.CorsFilter.doFilter(CorsFilter.java:67)\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\t    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\t    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\t    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n\t    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n\t    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t    at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.http.client.RedirectStrategy\r\n\t    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\r\n\t    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\r\n\t    ... 27 more","title":"Twilio SMS API error) ava.lang.ClassNotFoundException: org.apache.http.client.RedirectStrategy","body":"<p>I am trying to use Twilio SMS API using NetBeans 8.2, but I got this error although I installed twilio-8.0.0.jar and imported it correctly... I don't what to do... Please help me out.</p>\n<p>The code is below:</p>\n<pre><code>import com.twilio.Twilio;\nimport com.twilio.rest.api.v2010.account.Message;\nimport com.twilio.type.PhoneNumber;\n\npublic class Example {\n    // Find your Account SID and Auth Token at twilio.com/console\n    // and set the environment variables. See http://twil.io/secure\n    public static final String ACCOUNT_SID = &quot;ACCOUNT_SID&quot;;\n    public static final String AUTH_TOKEN = &quot;AUTH_TOKEN&quot;;\n\n    public static void main(String[] args) {\n        Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\n        Message message = Message.creator(\n                new com.twilio.type.PhoneNumber(&quot;+14159352345&quot;),\n                new com.twilio.type.PhoneNumber(&quot;+14158141829&quot;),\n                &quot;Where's Wallace?&quot;)\n            .create();\n\n        System.out.println(message.getSid());\n    }\n}\n</code></pre>\n<p>The error is below:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/http/client/RedirectStrategy\n    at com.twilio.http.TwilioRestClient$Builder.build(TwilioRestClient.java:116)\n    at com.twilio.Twilio.buildRestClient(Twilio.java:187)\n    at com.twilio.Twilio.getRestClient(Twilio.java:163)\n    at com.twilio.base.Creator.create(Creator.java:40)\n    at filter.LoginFilter.doFilter(LoginFilter.java:316)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at filter.CorsFilter.doFilter(CorsFilter.java:67)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: org.apache.http.client.RedirectStrategy\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\n    ... 27 more\n</code></pre>\n"},{"tags":["java","jakarta-ee","servlets","filter"],"comments":[{"owner":{"account_id":2912809,"reputation":801,"user_id":2496678,"accept_rate":60,"display_name":"electron"},"score":0,"creation_date":1371624173,"post_id":17172787,"comment_id":24884807,"body_markdown":"OK, when i removed the MyClassLibrary from filter-class tag it worked. Thanks for answers.","body":"OK, when i removed the MyClassLibrary from filter-class tag it worked. Thanks for answers."}],"answers":[{"tags":[],"owner":{"account_id":1453555,"reputation":136,"user_id":1369791,"display_name":"markosca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371569479,"creation_date":1371569479,"answer_id":17172961,"question_id":17172787,"body_markdown":"If the exception is ClassNotFoundException this means that you haven&#39;t set the class MyClassLibrary in the classpath of your application.\r\n\r\nMake sure that your class MyClassLibrary  is referenced from the app of this web.xml.\r\n\r\nRegards.","title":"Could I use Java servlet Filter class from other referenced class library?","body":"<p>If the exception is ClassNotFoundException this means that you haven't set the class MyClassLibrary in the classpath of your application.</p>\n\n<p>Make sure that your class MyClassLibrary  is referenced from the app of this web.xml.</p>\n\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":91722,"reputation":3529,"user_id":251708,"display_name":"Gladwin Burboz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1371570792,"creation_date":1371570792,"answer_id":17173454,"question_id":17172787,"body_markdown":"Please check the following\r\n\r\n - Make sure your class is compiled without any errors\r\n - Make sure your deployment of those web applications is having\r\n   reference to project/jar that contains your library\r\n - From the name, it looks like SampleFilter is an inner class. If so is\r\n   the case, make sure that Filters and SampleFilter are static inner\r\n   class of MyClassLibrary and has no args constructor\r\n - Are you missing package name in front of MyClassLibrary?","title":"Could I use Java servlet Filter class from other referenced class library?","body":"<p>Please check the following</p>\n\n<ul>\n<li>Make sure your class is compiled without any errors</li>\n<li>Make sure your deployment of those web applications is having\nreference to project/jar that contains your library</li>\n<li>From the name, it looks like SampleFilter is an inner class. If so is\nthe case, make sure that Filters and SampleFilter are static inner\nclass of MyClassLibrary and has no args constructor</li>\n<li>Are you missing package name in front of MyClassLibrary?</li>\n</ul>\n"}],"owner":{"account_id":2912809,"reputation":801,"user_id":2496678,"accept_rate":60,"display_name":"electron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1429,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":17173454,"answer_count":2,"score":5,"last_activity_date":1638756015,"creation_date":1371569030,"question_id":17172787,"body_markdown":"I have five web applications in my project and want to filter HTTP requests, but I don&#39;t want to write a `Filter` class for each web application because there will be no application specific behaviour. What is the most practical way to do this?\r\n\r\nI&#39;ve tried creating only one `Filter` in another class library called `MyClassLibrary` but it doesn&#39;t work. Other classes in this library can be used by the web applications so I don&#39;t think there&#39;s a reference problem.\r\n\r\nThe `web.xml` filter part for one of the applications is:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;SampleFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;MyClassLibrary.Filters.SampleFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;SampleFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nThis causes an exception: \r\n\r\n&gt;java.lang.ClassNotFoundException: MyClassLibrary.Filters.SampleFilter\r\n\r\nPlatform : Windows, NetBeans, GlassFish","title":"Could I use Java servlet Filter class from other referenced class library?","body":"<p>I have five web applications in my project and want to filter HTTP requests, but I don't want to write a <code>Filter</code> class for each web application because there will be no application specific behaviour. What is the most practical way to do this?</p>\n\n<p>I've tried creating only one <code>Filter</code> in another class library called <code>MyClassLibrary</code> but it doesn't work. Other classes in this library can be used by the web applications so I don't think there's a reference problem.</p>\n\n<p>The <code>web.xml</code> filter part for one of the applications is:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;filter-name&gt;SampleFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;MyClassLibrary.Filters.SampleFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;SampleFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>This causes an exception: </p>\n\n<blockquote>\n  <p>java.lang.ClassNotFoundException: MyClassLibrary.Filters.SampleFilter</p>\n</blockquote>\n\n<p>Platform : Windows, NetBeans, GlassFish</p>\n"},{"tags":["java","spring","struts2","struts","ognl"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1637962099,"post_id":70120356,"comment_id":123970189,"body_markdown":"Please post code as formatted text, not as links to pictures of text. Include only the relevant HTML, action configuration, etc.","body":"Please post code as formatted text, not as links to pictures of text. Include only the relevant HTML, action configuration, etc."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1638021684,"post_id":70120356,"comment_id":123979124,"body_markdown":"It is an old issue described [here](https://stackoverflow.com/a/16286074/573032).","body":"It is an old issue described <a href=\"https://stackoverflow.com/a/16286074/573032\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":23458460,"reputation":21,"user_id":17513616,"display_name":"DanielHuang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638754661,"creation_date":1638754661,"answer_id":70240072,"question_id":70120356,"body_markdown":"I add a custom MapConverter for the `xwork-conversion.properties`, and it works! \r\n\r\n    package com.struts2.converter;\r\n    \r\n    import java.util.Map;\r\n    \r\n    import org.apache.struts2.util.StrutsTypeConverter;\r\n    \r\n    public class MapConverter extends StrutsTypeConverter {\r\n    \r\n    \t@Override\r\n      public Object convertFromString(Map context, String[] values, Class toClass) {\r\n        \r\n        String value = values[0];\r\n        return value;\r\n      }\r\n    \r\n    \t@Override\r\n    \tpublic String convertToString(Map arg0, Object o) {\r\n    \t\treturn o.toString();\r\n    \t}\r\n    }\r\n\r\n","title":"Is OGNL expression support List&lt;Map&lt;String, String&gt;&gt;?","body":"<p>I add a custom MapConverter for the <code>xwork-conversion.properties</code>, and it works!</p>\n<pre><code>package com.struts2.converter;\n\nimport java.util.Map;\n\nimport org.apache.struts2.util.StrutsTypeConverter;\n\npublic class MapConverter extends StrutsTypeConverter {\n\n    @Override\n  public Object convertFromString(Map context, String[] values, Class toClass) {\n    \n    String value = values[0];\n    return value;\n  }\n\n    @Override\n    public String convertToString(Map arg0, Object o) {\n        return o.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23458460,"reputation":21,"user_id":17513616,"display_name":"DanielHuang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70240072,"answer_count":1,"score":1,"last_activity_date":1638754661,"creation_date":1637908336,"question_id":70120356,"body_markdown":"As for as I know, Struts2&#39;s type converter will work like this :\r\n\r\nI declared a map `Map&lt;String,String&gt; a4booking` in my `OrderContext`&#39;s field, and in my JSP file the input tag&#39;s name is `orderContext.a4booking.name` and user entered &#39;Daniel&#39;, after submitting the   , the `a4booking` map will have a `key:value` like `{ &quot;name&quot; : &quot;Daniel&quot; }`, so the &#39;name&#39; will become a key.\r\n\r\nNow, when I declared a `List&lt;Map&lt;String,String&gt;&gt; datas` there is something wrong.\r\n\r\nAction:\r\n\r\n    package com.clicugo.action;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.struts2.convention.annotation.Action;\r\n    import org.apache.struts2.convention.annotation.InterceptorRef;\r\n    import org.apache.struts2.convention.annotation.Namespace;\r\n    import org.apache.struts2.convention.annotation.ParentPackage;\r\n    import org.apache.struts2.convention.annotation.Result;\r\n    import org.apache.struts2.convention.annotation.ResultPath;\r\n    import org.springframework.context.annotation.Scope;\r\n    \r\n    @ParentPackage(&quot;clicugo-default&quot;)\r\n    @Namespace(&quot;/&quot;)\r\n    @Scope(&quot;prototype&quot;)\r\n    @InterceptorRef(&quot;clicugoStack&quot;)\r\n    @ResultPath(&quot;/WEB-INF/pages/test&quot;)\r\n    public class OGNLTestAction extends DefaultCliCugoAction {\r\n    \r\n    \tprivate List&lt;Map&lt;String, String&gt;&gt; datas = new ArrayList&lt;Map&lt;String,String&gt;&gt;();\r\n    \tprivate List&lt;HashMap&lt;String, String&gt;&gt; datasHM = new ArrayList&lt;HashMap&lt;String,String&gt;&gt;();\r\n    \t\r\n    \t\r\n      @Action(value = &quot;ognl-test&quot;, results = { @Result(name = SUCCESS, type = &quot;dispatcher&quot;, location = &quot;ognlTest.jsp&quot;) })\r\n      public String ognlTest() throws Exception {\r\n      \tList&lt;Map&lt;String, String&gt;&gt; datas = getDatas();\r\n        System.out.println();\r\n        return SUCCESS;\r\n    \r\n      }\r\n    \r\n    \tpublic List&lt;Map&lt;String, String&gt;&gt; getDatas() {\r\n    \t\treturn datas;\r\n    \t}\r\n    \r\n    \tpublic void setDatas(List&lt;Map&lt;String, String&gt;&gt; datas) {\r\n    \t\tthis.datas = datas;\r\n    \t}\r\n    \r\n    \tpublic List&lt;HashMap&lt;String, String&gt;&gt; getDatasHM() {\r\n    \t\treturn datasHM;\r\n    \t}\r\n    \r\n    \tpublic void setDatasHM(List&lt;HashMap&lt;String, String&gt;&gt; datasHM) {\r\n    \t\tthis.datasHM = datasHM;\r\n    \t}\r\n      \r\n      \r\n    }\r\n\r\n\r\njsp:\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;%&gt;\r\n    &lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\r\n    \r\n    &lt;!DOCTYPE html&gt;\r\n    \r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    \t&lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n      &lt;s:form action=&quot;ognl-test&quot; method=&quot;POST&quot;&gt;\r\n    \t\t&lt;s:textfield name=&quot;datas[0].testKey&quot; &gt;&lt;/s:textfield&gt;\r\n    \t\t&lt;s:textfield name=&quot;datas[1].testKey&quot; &gt;&lt;/s:textfield&gt;\r\n    \t\t&lt;s:textfield name=&quot;datas[2].testKey&quot; &gt;&lt;/s:textfield&gt;\r\n    \t\t&lt;s:submit&gt;&lt;/s:submit&gt;\r\n    \t&lt;/s:form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nconsole error message:\r\n\r\n    2021-12-01 16:39:36,279 WARN  [http-nio-8080-exec-9] com.opensymphony.xwork2.util.logging.commons.CommonsLogger (CommonsLogger.java:68) - Error setting value [[Ljava.lang.String;@c9b3cb5] with expression [datas[2].testKey]\r\n    com.opensymphony.xwork2.XWorkException\r\n    \tat com.opensymphony.xwork2.ognl.accessor.XWorkListPropertyAccessor.getProperty(XWorkListPropertyAccessor.java:113) ~[xwork-core-2.3.32.jar:2.3.32]\r\n    \tat ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2417) ~[ognl-3.0.19.jar:?]\r\n    \tat ognl.ASTProperty.getValueBody(ASTProperty.java:114) ~[ognl-3.0.19.jar:?]\r\n    \tat ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212) ~[ognl-3.0.19.jar:?]\r\n    \tat ognl.SimpleNode.getValue(SimpleNode.java:258) ~[ognl-3.0.19.jar:?]\r\n    \tat ognl.ASTChain.setValueBody(ASTChain.java:222) ~[ognl-3.0.19.jar:?]\r\n    \tat ognl.SimpleNode.evaluateSetValueBody(SimpleNode.java:220) ~[ognl-3.0.19.jar:?]\r\n    \tat ognl.SimpleNode.setValue(SimpleNode.java:301) ~[ognl-3.0.19.jar:?]\r\n    \tat ognl.Ognl.setValue(Ognl.java:710) ~[ognl-3.0.19.jar:?]\r\n    \tat com.opensymphony.xwork2.ognl.OgnlUtil$1.execute(OgnlUtil.java:296) ~[xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.ognl.OgnlUtil$1.execute(OgnlUtil.java:288) ~[xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecute(OgnlUtil.java:383) ~[xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.ognl.OgnlUtil.setValue(OgnlUtil.java:288) ~[xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.ognl.OgnlValueStack.trySetValue(OgnlValueStack.java:183) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.ognl.OgnlValueStack.setValue(OgnlValueStack.java:170) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.ognl.OgnlValueStack.setParameter(OgnlValueStack.java:152) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.setParameters(ParametersInterceptor.java:303) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:221) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:229) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73) [struts2-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91) [struts2-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:253) [struts2-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:140) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164) [struts2-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.clicugo.struts2.interceptor.StayfunSSOInterceptor.intercept(StayfunSSOInterceptor.java:57) [classes/:?]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.clicugo.struts2.interceptor.MemberLoginCheckInterceptor.intercept(MemberLoginCheckInterceptor.java:113) [classes/:?]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.clicugo.struts2.interceptor.LoginCheckInterceptor.intercept(LoginCheckInterceptor.java:65) [classes/:?]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.clicugo.dontforgetme.interceptor.DontForgetMeInterceptor.intercept(DontForgetMeInterceptor.java:71) [classes/:?]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.clicugo.struts2.interceptor.IChannelGidKeepInterceptor.intercept(IChannelGidKeepInterceptor.java:75) [classes/:?]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.clicugo.struts2.interceptor.SalesPowerInterceptor.intercept(SalesPowerInterceptor.java:87) [classes/:?]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.clicugo.struts2.interceptor.HostMappingInterceptor.intercept(HostMappingInterceptor.java:299) [classes/:?]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.clicugo.struts2.interceptor.SslCheckInterceptor.intercept(SslCheckInterceptor.java:62) [classes/:?]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.clicugo.struts2.interceptor.TimingInterceptor.intercept(TimingInterceptor.java:58) [classes/:?]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\r\n    \tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54) [struts2-core-2.3.32.jar:2.3.32]\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:575) [struts2-core-2.3.32.jar:2.3.32]\r\n    \tat org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:81) [struts2-core-2.3.32.jar:2.3.32]\r\n    \tat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99) [struts2-core-2.3.32.jar:2.3.32]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\r\n    \tat com.clicugo.filter.ExtractHTMLFilter.doFilter(ExtractHTMLFilter.java:114) [classes/:?]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\r\n    \tat com.clicugo.filter.ForwardFilter.doFilter(ForwardFilter.java:87) [classes/:?]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\r\n    \tat com.clicugo.filter.VerifyParameters.doFilter(VerifyParameters.java:57) [classes/:?]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\r\n    \tat com.clicugo.filter.EncodingFilter.doFilter(EncodingFilter.java:30) [classes/:?]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.filters.RequestFilter.process(RequestFilter.java:205) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.filters.RemoteAddrFilter.doFilter(RemoteAddrFilter.java:60) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:544) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [catalina.jar:8.5.63]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353) [catalina.jar:8.5.63]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:616) [tomcat-coyote.jar:8.5.63]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-coyote.jar:8.5.63]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831) [tomcat-coyote.jar:8.5.63]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1629) [tomcat-coyote.jar:8.5.63]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-coyote.jar:8.5.63]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) [?:?]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) [?:?]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:8.5.63]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:832) [?:?]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;java.util.Map&#39;: Could not resolve matching constructor (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:250) ~[spring-beans-3.0.5.RELEASE.jar:3.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1003) ~[spring-beans-3.0.5.RELEASE.jar:3.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowire(AbstractAutowireCapableBeanFactory.java:339) ~[spring-beans-3.0.5.RELEASE.jar:3.0.5.RELEASE]\r\n    \tat com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:194) ~[xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.ognl.accessor.XWorkListPropertyAccessor.getProperty(XWorkListPropertyAccessor.java:111) ~[xwork-core-2.3.32.jar:2.3.32]\r\n    \t... 104 more\r\n\r\nIt means the Ognl.setValue() doesn&#39;t allow to put a map object into a List?\r\n\r\nAlso it says &quot;hint: specify index/type/name arguments for simple parameters to avoid type ambiguities&quot;, so I use the HashMap instead, \r\nbut I got another error message like :\r\n\r\n    2021-12-01 16:37:10,650 ERROR [http-nio-8080-exec-5] com.clicugo.action.DefaultExceptionHandler (DefaultExceptionHandler.java:50) - Exception occurred in defaultExceptionHandler, message is No result defined for action com.clicugo.action.OGNLTestAction and result input\r\n    com.opensymphony.xwork2.config.ConfigurationException: No result defined for action com.clicugo.action.OGNLTestAction and result input\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:374) ~[xwork-core-2.3.32.jar:2.3.32]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:276) ~[xwork-core-2.3.32.jar:2.3.32]\r\n    \tat ....\r\n\r\nIs there something wrong in my sample code?\r\nAnd how do I put the Map into a List with OGNL expression?","title":"Is OGNL expression support List&lt;Map&lt;String, String&gt;&gt;?","body":"<p>As for as I know, Struts2's type converter will work like this :</p>\n<p>I declared a map <code>Map&lt;String,String&gt; a4booking</code> in my <code>OrderContext</code>'s field, and in my JSP file the input tag's name is <code>orderContext.a4booking.name</code> and user entered 'Daniel', after submitting the   , the <code>a4booking</code> map will have a <code>key:value</code> like <code>{ &quot;name&quot; : &quot;Daniel&quot; }</code>, so the 'name' will become a key.</p>\n<p>Now, when I declared a <code>List&lt;Map&lt;String,String&gt;&gt; datas</code> there is something wrong.</p>\n<p>Action:</p>\n<pre><code>package com.clicugo.action;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.apache.struts2.convention.annotation.Action;\nimport org.apache.struts2.convention.annotation.InterceptorRef;\nimport org.apache.struts2.convention.annotation.Namespace;\nimport org.apache.struts2.convention.annotation.ParentPackage;\nimport org.apache.struts2.convention.annotation.Result;\nimport org.apache.struts2.convention.annotation.ResultPath;\nimport org.springframework.context.annotation.Scope;\n\n@ParentPackage(&quot;clicugo-default&quot;)\n@Namespace(&quot;/&quot;)\n@Scope(&quot;prototype&quot;)\n@InterceptorRef(&quot;clicugoStack&quot;)\n@ResultPath(&quot;/WEB-INF/pages/test&quot;)\npublic class OGNLTestAction extends DefaultCliCugoAction {\n\n    private List&lt;Map&lt;String, String&gt;&gt; datas = new ArrayList&lt;Map&lt;String,String&gt;&gt;();\n    private List&lt;HashMap&lt;String, String&gt;&gt; datasHM = new ArrayList&lt;HashMap&lt;String,String&gt;&gt;();\n    \n    \n  @Action(value = &quot;ognl-test&quot;, results = { @Result(name = SUCCESS, type = &quot;dispatcher&quot;, location = &quot;ognlTest.jsp&quot;) })\n  public String ognlTest() throws Exception {\n    List&lt;Map&lt;String, String&gt;&gt; datas = getDatas();\n    System.out.println();\n    return SUCCESS;\n\n  }\n\n    public List&lt;Map&lt;String, String&gt;&gt; getDatas() {\n        return datas;\n    }\n\n    public void setDatas(List&lt;Map&lt;String, String&gt;&gt; datas) {\n        this.datas = datas;\n    }\n\n    public List&lt;HashMap&lt;String, String&gt;&gt; getDatasHM() {\n        return datasHM;\n    }\n\n    public void setDatasHM(List&lt;HashMap&lt;String, String&gt;&gt; datasHM) {\n        this.datasHM = datasHM;\n    }\n  \n  \n}\n</code></pre>\n<p>jsp:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;%&gt;\n&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\n\n&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;s:form action=&quot;ognl-test&quot; method=&quot;POST&quot;&gt;\n        &lt;s:textfield name=&quot;datas[0].testKey&quot; &gt;&lt;/s:textfield&gt;\n        &lt;s:textfield name=&quot;datas[1].testKey&quot; &gt;&lt;/s:textfield&gt;\n        &lt;s:textfield name=&quot;datas[2].testKey&quot; &gt;&lt;/s:textfield&gt;\n        &lt;s:submit&gt;&lt;/s:submit&gt;\n    &lt;/s:form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>console error message:</p>\n<pre><code>2021-12-01 16:39:36,279 WARN  [http-nio-8080-exec-9] com.opensymphony.xwork2.util.logging.commons.CommonsLogger (CommonsLogger.java:68) - Error setting value [[Ljava.lang.String;@c9b3cb5] with expression [datas[2].testKey]\ncom.opensymphony.xwork2.XWorkException\n    at com.opensymphony.xwork2.ognl.accessor.XWorkListPropertyAccessor.getProperty(XWorkListPropertyAccessor.java:113) ~[xwork-core-2.3.32.jar:2.3.32]\n    at ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2417) ~[ognl-3.0.19.jar:?]\n    at ognl.ASTProperty.getValueBody(ASTProperty.java:114) ~[ognl-3.0.19.jar:?]\n    at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212) ~[ognl-3.0.19.jar:?]\n    at ognl.SimpleNode.getValue(SimpleNode.java:258) ~[ognl-3.0.19.jar:?]\n    at ognl.ASTChain.setValueBody(ASTChain.java:222) ~[ognl-3.0.19.jar:?]\n    at ognl.SimpleNode.evaluateSetValueBody(SimpleNode.java:220) ~[ognl-3.0.19.jar:?]\n    at ognl.SimpleNode.setValue(SimpleNode.java:301) ~[ognl-3.0.19.jar:?]\n    at ognl.Ognl.setValue(Ognl.java:710) ~[ognl-3.0.19.jar:?]\n    at com.opensymphony.xwork2.ognl.OgnlUtil$1.execute(OgnlUtil.java:296) ~[xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.ognl.OgnlUtil$1.execute(OgnlUtil.java:288) ~[xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecute(OgnlUtil.java:383) ~[xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.ognl.OgnlUtil.setValue(OgnlUtil.java:288) ~[xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.ognl.OgnlValueStack.trySetValue(OgnlValueStack.java:183) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.ognl.OgnlValueStack.setValue(OgnlValueStack.java:170) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.ognl.OgnlValueStack.setParameter(OgnlValueStack.java:152) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.setParameters(ParametersInterceptor.java:303) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:221) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:229) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73) [struts2-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91) [struts2-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:253) [struts2-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:140) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164) [struts2-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189) [xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.clicugo.struts2.interceptor.StayfunSSOInterceptor.intercept(StayfunSSOInterceptor.java:57) [classes/:?]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.clicugo.struts2.interceptor.MemberLoginCheckInterceptor.intercept(MemberLoginCheckInterceptor.java:113) [classes/:?]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.clicugo.struts2.interceptor.LoginCheckInterceptor.intercept(LoginCheckInterceptor.java:65) [classes/:?]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.clicugo.dontforgetme.interceptor.DontForgetMeInterceptor.intercept(DontForgetMeInterceptor.java:71) [classes/:?]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.clicugo.struts2.interceptor.IChannelGidKeepInterceptor.intercept(IChannelGidKeepInterceptor.java:75) [classes/:?]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.clicugo.struts2.interceptor.SalesPowerInterceptor.intercept(SalesPowerInterceptor.java:87) [classes/:?]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.clicugo.struts2.interceptor.HostMappingInterceptor.intercept(HostMappingInterceptor.java:299) [classes/:?]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.clicugo.struts2.interceptor.SslCheckInterceptor.intercept(SslCheckInterceptor.java:62) [classes/:?]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at com.clicugo.struts2.interceptor.TimingInterceptor.intercept(TimingInterceptor.java:58) [classes/:?]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:245) [xwork-core-2.3.32.jar:2.3.32]\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54) [struts2-core-2.3.32.jar:2.3.32]\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:575) [struts2-core-2.3.32.jar:2.3.32]\n    at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:81) [struts2-core-2.3.32.jar:2.3.32]\n    at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99) [struts2-core-2.3.32.jar:2.3.32]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\n    at com.clicugo.filter.ExtractHTMLFilter.doFilter(ExtractHTMLFilter.java:114) [classes/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\n    at com.clicugo.filter.ForwardFilter.doFilter(ForwardFilter.java:87) [classes/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\n    at com.clicugo.filter.VerifyParameters.doFilter(VerifyParameters.java:57) [classes/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\n    at com.clicugo.filter.EncodingFilter.doFilter(EncodingFilter.java:30) [classes/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\n    at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126) [catalina.jar:8.5.63]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\n    at org.apache.catalina.filters.RequestFilter.process(RequestFilter.java:205) [catalina.jar:8.5.63]\n    at org.apache.catalina.filters.RemoteAddrFilter.doFilter(RemoteAddrFilter.java:60) [catalina.jar:8.5.63]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:8.5.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:8.5.63]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) [catalina.jar:8.5.63]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [catalina.jar:8.5.63]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:544) [catalina.jar:8.5.63]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [catalina.jar:8.5.63]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [catalina.jar:8.5.63]\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698) [catalina.jar:8.5.63]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [catalina.jar:8.5.63]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353) [catalina.jar:8.5.63]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:616) [tomcat-coyote.jar:8.5.63]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-coyote.jar:8.5.63]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831) [tomcat-coyote.jar:8.5.63]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1629) [tomcat-coyote.jar:8.5.63]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-coyote.jar:8.5.63]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) [?:?]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) [?:?]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:8.5.63]\n    at java.base/java.lang.Thread.run(Thread.java:832) [?:?]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'java.util.Map': Could not resolve matching constructor (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:250) ~[spring-beans-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1003) ~[spring-beans-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowire(AbstractAutowireCapableBeanFactory.java:339) ~[spring-beans-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:194) ~[xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.ognl.accessor.XWorkListPropertyAccessor.getProperty(XWorkListPropertyAccessor.java:111) ~[xwork-core-2.3.32.jar:2.3.32]\n    ... 104 more\n</code></pre>\n<p>It means the Ognl.setValue() doesn't allow to put a map object into a List?</p>\n<p>Also it says &quot;hint: specify index/type/name arguments for simple parameters to avoid type ambiguities&quot;, so I use the HashMap instead,\nbut I got another error message like :</p>\n<pre><code>2021-12-01 16:37:10,650 ERROR [http-nio-8080-exec-5] com.clicugo.action.DefaultExceptionHandler (DefaultExceptionHandler.java:50) - Exception occurred in defaultExceptionHandler, message is No result defined for action com.clicugo.action.OGNLTestAction and result input\ncom.opensymphony.xwork2.config.ConfigurationException: No result defined for action com.clicugo.action.OGNLTestAction and result input\n    at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:374) ~[xwork-core-2.3.32.jar:2.3.32]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:276) ~[xwork-core-2.3.32.jar:2.3.32]\n    at ....\n</code></pre>\n<p>Is there something wrong in my sample code?\nAnd how do I put the Map into a List with OGNL expression?</p>\n"},{"tags":["java","sorting","kotlin","arraylist","time-complexity"],"comments":[{"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"score":0,"creation_date":1638437993,"post_id":70194939,"comment_id":124089666,"body_markdown":"Your code is neither valid Java nor valid Kotlin code. Please amend it to be executable.","body":"Your code is neither valid Java nor valid Kotlin code. Please amend it to be executable."},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1638467607,"post_id":70194939,"comment_id":124102509,"body_markdown":"[Please do not upload images of results when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of results when asking a question.</a>"},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":1,"creation_date":1638467786,"post_id":70194939,"comment_id":124102566,"body_markdown":"Also, the code you have (if it works) is nowhere near enough to warm up the JVM, cause code to be JIT compiled, &amp;c &amp;c, and so the timings are highly unlikely to be representative of anything. Please see the various questions on this site about microbenchmarking. (For one thing, it wouldn&#39;t surprise me if the runtime eventually optimised out those empty loops entirely.)","body":"Also, the code you have (if it works) is nowhere near enough to warm up the JVM, cause code to be JIT compiled, &amp;c &amp;c, and so the timings are highly unlikely to be representative of anything. Please see the various questions on this site about microbenchmarking. (For one thing, it wouldn&#39;t surprise me if the runtime eventually optimised out those empty loops entirely.)"},{"owner":{"account_id":19069850,"reputation":514,"user_id":14575901,"display_name":"michaelgrigoryan25"},"score":0,"creation_date":1638732928,"post_id":70194939,"comment_id":124160854,"body_markdown":"Also, if you want to measure the time that it took your code to execute, you can use Kotlin&#39;s `measureTimeMillis` function.","body":"Also, if you want to measure the time that it took your code to execute, you can use Kotlin&#39;s <code>measureTimeMillis</code> function."}],"owner":{"account_id":18777154,"reputation":3,"user_id":13692632,"display_name":"Cho Gyuhong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638753310,"creation_date":1638425952,"question_id":70194939,"body_markdown":"Iterating has bad performance after sort.\r\n\r\nHere is my code\r\n\r\n\r\n    method() {\r\n        var time = System.currentTimeMillis()\r\n        arraylist = ArrayList&lt;Float&gt;()\r\n        for(i in 1..1000000){\r\n            arraylist.add(Math.random().toFloat())\r\n        }\r\n        Log.i(&quot;TIME&quot;, (System.currentTimeMillis() - time).toString())\r\n\r\n        for(i in 1..5){\r\n            time = System.currentTimeMillis()\r\n            for(a in arraylist){\r\n                //nothing\r\n            }\r\n            Log.i(&quot;TIME To Iterate&quot;, (System.currentTimeMillis() - time).toString())\r\n        }\r\n\r\n\r\n        arraylist.sort()\r\n\r\n        for(i in 1..5){\r\n           time = System.currentTimeMillis()\r\n            for(a in arraylist){\r\n                    //nothing\r\n            }\r\n               Log.i(&quot;TIME To Iterate&quot;, (System.currentTimeMillis() - time).toString())\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nHere is a result\r\n\r\n[Result][1]\r\n\r\n\r\nResult said iterating performance be lower after sorting\r\n\r\n\r\nWhy iterating performance is lowered when sorting?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UGqSy.png","title":"Iterating Performance be lower After Sort in ArrayList","body":"<p>Iterating has bad performance after sort.</p>\n<p>Here is my code</p>\n<pre><code>method() {\n    var time = System.currentTimeMillis()\n    arraylist = ArrayList&lt;Float&gt;()\n    for(i in 1..1000000){\n        arraylist.add(Math.random().toFloat())\n    }\n    Log.i(&quot;TIME&quot;, (System.currentTimeMillis() - time).toString())\n\n    for(i in 1..5){\n        time = System.currentTimeMillis()\n        for(a in arraylist){\n            //nothing\n        }\n        Log.i(&quot;TIME To Iterate&quot;, (System.currentTimeMillis() - time).toString())\n    }\n\n\n    arraylist.sort()\n\n    for(i in 1..5){\n       time = System.currentTimeMillis()\n        for(a in arraylist){\n                //nothing\n        }\n           Log.i(&quot;TIME To Iterate&quot;, (System.currentTimeMillis() - time).toString())\n        }\n\n    }\n}\n</code></pre>\n<p>Here is a result</p>\n<p><a href=\"https://i.stack.imgur.com/UGqSy.png\" rel=\"nofollow noreferrer\">Result</a></p>\n<p>Result said iterating performance be lower after sorting</p>\n<p>Why iterating performance is lowered when sorting?</p>\n"},{"tags":["java","https","proxy"],"answers":[{"tags":[],"owner":{"account_id":23550756,"reputation":174,"user_id":17593512,"display_name":"Bashi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638745031,"creation_date":1638745031,"answer_id":70239295,"question_id":70238778,"body_markdown":"If you choose which connections go through a proxy and which do not by the destination url then you can use the property http.nonProxyHosts. This property is used for http and https as the documentation states:\r\n\r\n&gt;for the &quot;non proxy hosts&quot; list, the HTTPS protocol handler will use the same as the http handler (i.e. http.nonProxyHosts).\r\n\r\nYou set the property value by adding patterns of urls separated by | For example:\r\n```\r\nSystem.setProperty(&quot;http.nonProxyHosts&quot;, ”localhost|host.example.com”)\r\n```\r\nYou could also use ProxySelector class for choosing which connections go through a proxy. for more info (a bit old):\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html \r\n\r\nAs for the absence of Proxy.Type.HTTPS, it is because a proxy in general is not the final destination so the secure connection will be with the final destination not the proxy itself. There is such thing as SSL tunneling through a proxy, but i am not well informed about it.\r\n","title":"How can I set https.proxyHost and https.proxyPort for individual HttpsURLConnections?","body":"<p>If you choose which connections go through a proxy and which do not by the destination url then you can use the property http.nonProxyHosts. This property is used for http and https as the documentation states:</p>\n<blockquote>\n<p>for the &quot;non proxy hosts&quot; list, the HTTPS protocol handler will use the same as the http handler (i.e. http.nonProxyHosts).</p>\n</blockquote>\n<p>You set the property value by adding patterns of urls separated by | For example:</p>\n<pre><code>System.setProperty(&quot;http.nonProxyHosts&quot;, ”localhost|host.example.com”)\n</code></pre>\n<p>You could also use ProxySelector class for choosing which connections go through a proxy. for more info (a bit old):\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html</a></p>\n<p>As for the absence of Proxy.Type.HTTPS, it is because a proxy in general is not the final destination so the secure connection will be with the final destination not the proxy itself. There is such thing as SSL tunneling through a proxy, but i am not well informed about it.</p>\n"},{"tags":[],"owner":{"account_id":7807996,"reputation":143,"user_id":5905216,"display_name":"Henry Sanger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638753120,"creation_date":1638747386,"answer_id":70239495,"question_id":70238778,"body_markdown":"With @Bashi&#39;s help, I figured it out. For direct connections, I used:\r\n\r\n```java\r\nurl.openConnection(Proxy.NO_PROXY);\r\n```\r\n\r\nThis works for [Jsoup][1], too:\r\n```java\r\nDocument document = Jsoup.connect(&quot;https://example.com&quot;).proxy(Proxy.NO_PROXY).get();\r\n```\r\n\r\nExplanation from https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html:\r\n\r\n&gt; Now, this guarantees you that this specific URL will be retrieved though a direct connection bypassing any other proxy settings, which can be convenient.\r\n\r\n\r\n  [1]: https://jsoup.org/","title":"How can I set https.proxyHost and https.proxyPort for individual HttpsURLConnections?","body":"<p>With @Bashi's help, I figured it out. For direct connections, I used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>url.openConnection(Proxy.NO_PROXY);\n</code></pre>\n<p>This works for <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">Jsoup</a>, too:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document document = Jsoup.connect(&quot;https://example.com&quot;).proxy(Proxy.NO_PROXY).get();\n</code></pre>\n<p>Explanation from <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html</a>:</p>\n<blockquote>\n<p>Now, this guarantees you that this specific URL will be retrieved though a direct connection bypassing any other proxy settings, which can be convenient.</p>\n</blockquote>\n"}],"owner":{"account_id":7807996,"reputation":143,"user_id":5905216,"display_name":"Henry Sanger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70239495,"answer_count":2,"score":0,"last_activity_date":1638753120,"creation_date":1638740289,"question_id":70238778,"body_markdown":"I&#39;m trying to make HTTPS requests through a proxy. Here&#39;s what I&#39;ve got so far, based on code from [this question][1]:\r\n```java\r\ntry {\r\n    HttpsURLConnection connection = (HttpsURLConnection) new URL(&quot;https://proxylist.geonode.com/api/proxy-list?limit=1&amp;page=1&amp;sort_by=speed&amp;sort_type=asc&amp;protocols=https&quot;).openConnection();\r\n    connection.setRequestMethod(&quot;GET&quot;);\r\n    connection.setDoInput(true);\r\n    connection.setDoOutput(true);\r\n    connection.setRequestProperty(&quot;user-agent&quot;, &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36&quot;);\r\n    connection.setConnectTimeout(30000);\r\n    connection.connect();\r\n    \r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n    String rawJSON = reader.readLine();\r\n    if(rawJSON == null) throw new IOException(&quot;No data&quot;);\r\n\r\n    JSONObject data = new JSONObject(rawJSON).getJSONArray(&quot;data&quot;).getJSONObject(0);\r\n\r\n    String ipAddress = data.getString(&quot;ip&quot;), port = data.getString(&quot;port&quot;);\r\n\r\n    System.setProperty(&quot;https.proxyHost&quot;, ipAddress);\r\n    System.setProperty(&quot;https.proxyPort&quot;, port);\r\n\r\n    SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n\r\n    // set up a TrustManager that trusts everything\r\n    sslContext.init(null, new TrustManager[] { new X509TrustManager() {\r\n        public X509Certificate[] getAcceptedIssuers() { return null; }\r\n        public void checkClientTrusted(X509Certificate[] certs, String authType) {}\r\n        public void checkServerTrusted(X509Certificate[] certs, String authType) {}\r\n    } }, new SecureRandom());\r\n\r\n    HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\r\n\r\n    HttpsURLConnection.setDefaultHostnameVerifier((arg0, arg1) -&gt; true);\r\n\r\n    HttpsURLConnection testConnection = (HttpsURLConnection) new URL(&quot;https://example.com&quot;).openConnection();\r\n    testConnection.connect();\r\n\r\n    StringBuilder result = new StringBuilder();\r\n    String line;\r\n    try(BufferedReader reader2 = new BufferedReader(new InputStreamReader(testConnection.getInputStream()))) {\r\n        while ((line = reader2.readLine()) != null) result.append(line);\r\n    }\r\n\r\n    System.out.println(result);\r\n} catch(Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nThe code works, but there&#39;s a problem. My application (https://encyclosearch.org) is multithreaded, and I need to make some requests through a proxy, and some directly. Since system properties are global, if I set `https.proxyHost` and `https.proxyPort` using `System.setProperty`, some requests that aren&#39;t supposed to go through the proxy will go through the proxy.\r\n\r\nI can use `java.net.Proxy` like this:\r\n```java\r\nProxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(ipAddress, Integer.parseInt(port)));\r\n\r\nHttpsURLConnection testConnection = (HttpsURLConnection) new URL(&quot;http://example.com&quot;).openConnection(proxy);\r\n```\r\n\r\nBut that only works for HTTP proxies, not HTTPS ones, so I can&#39;t make HTTPS requests. There&#39;s no `Proxy.Type.HTTPS`.\r\n\r\n\r\nAny help would be greatly appreciated. Thanks in advance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1511674/how-do-a-send-an-https-request-through-a-proxy-in-java?noredirect=1&amp;lq=1","title":"How can I set https.proxyHost and https.proxyPort for individual HttpsURLConnections?","body":"<p>I'm trying to make HTTPS requests through a proxy. Here's what I've got so far, based on code from <a href=\"https://stackoverflow.com/questions/1511674/how-do-a-send-an-https-request-through-a-proxy-in-java?noredirect=1&amp;lq=1\">this question</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    HttpsURLConnection connection = (HttpsURLConnection) new URL(&quot;https://proxylist.geonode.com/api/proxy-list?limit=1&amp;page=1&amp;sort_by=speed&amp;sort_type=asc&amp;protocols=https&quot;).openConnection();\n    connection.setRequestMethod(&quot;GET&quot;);\n    connection.setDoInput(true);\n    connection.setDoOutput(true);\n    connection.setRequestProperty(&quot;user-agent&quot;, &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36&quot;);\n    connection.setConnectTimeout(30000);\n    connection.connect();\n    \n    BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n    String rawJSON = reader.readLine();\n    if(rawJSON == null) throw new IOException(&quot;No data&quot;);\n\n    JSONObject data = new JSONObject(rawJSON).getJSONArray(&quot;data&quot;).getJSONObject(0);\n\n    String ipAddress = data.getString(&quot;ip&quot;), port = data.getString(&quot;port&quot;);\n\n    System.setProperty(&quot;https.proxyHost&quot;, ipAddress);\n    System.setProperty(&quot;https.proxyPort&quot;, port);\n\n    SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n\n    // set up a TrustManager that trusts everything\n    sslContext.init(null, new TrustManager[] { new X509TrustManager() {\n        public X509Certificate[] getAcceptedIssuers() { return null; }\n        public void checkClientTrusted(X509Certificate[] certs, String authType) {}\n        public void checkServerTrusted(X509Certificate[] certs, String authType) {}\n    } }, new SecureRandom());\n\n    HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\n\n    HttpsURLConnection.setDefaultHostnameVerifier((arg0, arg1) -&gt; true);\n\n    HttpsURLConnection testConnection = (HttpsURLConnection) new URL(&quot;https://example.com&quot;).openConnection();\n    testConnection.connect();\n\n    StringBuilder result = new StringBuilder();\n    String line;\n    try(BufferedReader reader2 = new BufferedReader(new InputStreamReader(testConnection.getInputStream()))) {\n        while ((line = reader2.readLine()) != null) result.append(line);\n    }\n\n    System.out.println(result);\n} catch(Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>The code works, but there's a problem. My application (<a href=\"https://encyclosearch.org\" rel=\"nofollow noreferrer\">https://encyclosearch.org</a>) is multithreaded, and I need to make some requests through a proxy, and some directly. Since system properties are global, if I set <code>https.proxyHost</code> and <code>https.proxyPort</code> using <code>System.setProperty</code>, some requests that aren't supposed to go through the proxy will go through the proxy.</p>\n<p>I can use <code>java.net.Proxy</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(ipAddress, Integer.parseInt(port)));\n\nHttpsURLConnection testConnection = (HttpsURLConnection) new URL(&quot;http://example.com&quot;).openConnection(proxy);\n</code></pre>\n<p>But that only works for HTTP proxies, not HTTPS ones, so I can't make HTTPS requests. There's no <code>Proxy.Type.HTTPS</code>.</p>\n<p>Any help would be greatly appreciated. Thanks in advance.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1638516131,"post_id":70177000,"comment_id":124114041,"body_markdown":"I think this is due to int sizing but floating scaling being mapped to a distinct pixel grid.  Let’s say you have pos 1,1 and 2,2 this will be right on screen pixels, now scale by 1.25 and you have 1.25,1.25 and 2.5, 2.5. Now apply default [snapToPixel](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/layout/Region.html?is-external=true#snapToPixelProperty) for the pane, and you get 1,1 and 3,3, leaving a gap between the scaled items, because a 1x1 pixel scaled by 1.25 will still be 1x1 with snap rendering.","body":"I think this is due to int sizing but floating scaling being mapped to a distinct pixel grid.  Let’s say you have pos 1,1 and 2,2 this will be right on screen pixels, now scale by 1.25 and you have 1.25,1.25 and 2.5, 2.5. Now apply default <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/layout/Region.html?is-external=true#snapToPixelProperty\" rel=\"nofollow noreferrer\">snapToPixel</a> for the pane, and you get 1,1 and 3,3, leaving a gap between the scaled items, because a 1x1 pixel scaled by 1.25 will still be 1x1 with snap rendering."},{"owner":{"account_id":15873873,"reputation":31,"user_id":11453693,"display_name":"Zev G"},"score":1,"creation_date":1638745971,"post_id":70177000,"comment_id":124163904,"body_markdown":"That makes a lot of sense but I&#39;m not sure it&#39;s the case. I tried changing snapToPixel to false for the pane and found no difference. I also tried setting a global css rule setting snapToPixel to false for everything and the issue still persisted.","body":"That makes a lot of sense but I&#39;m not sure it&#39;s the case. I tried changing snapToPixel to false for the pane and found no difference. I also tried setting a global css rule setting snapToPixel to false for everything and the issue still persisted."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1638755109,"post_id":70177000,"comment_id":124165303,"body_markdown":"Could be to do with canvas specifically and how it is internally implemented, I haven’t tried it with plain rectangles in a scene graph, but I guess that using that would not experience this issue.","body":"Could be to do with canvas specifically and how it is internally implemented, I haven’t tried it with plain rectangles in a scene graph, but I guess that using that would not experience this issue."}],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638751278,"creation_date":1638403173,"answer_id":70192739,"question_id":70177000,"body_markdown":"My initial guess was it might be because of using Canvas node, that it has something related to border aliasing issue. So I tried replacing all the Canvas nodes to Rectangles. But still the problem exists. I believe there should be something happening related to layouting using x and y.\r\n\r\nWhile I cannot tell you the exact reason for this issue, I can suggest an alternate approach. Please note that I dont know the end usage of this implemenation or why you keep the Canvases in map. So the below approach is to let you know or give you the direction about how you can fix it.\r\n\r\n**Alternate Approach #1:**\r\n\r\nInstead of using many canvas nodes, try defining only one Canvas node that fit in the pane and paint the canvas as you draw. On checking for the zooming, it does not have any issue in spacing (as it is only one node).\r\n\r\nPlease check the below demo:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**[UPDATE]**\r\n\r\n**Alternate Approach #2:**\r\n\r\nThe other approach is to use Path node. This approach also uses only one node for the entire drawing. The other advantage of using this is you can create as many paths as you want if you want to pick different brush colors. The other advantage is you can draw in the negative coords just as you did in your initial implemenation.\r\n\r\nThe idea is pretty much same as in canvas approach. As you drag, you draw a Path of the box using the mouse cooridinate. I updated the code in the below demo.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.canvas.Canvas;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.LineTo;\r\n    import javafx.scene.shape.MoveTo;\r\n    import javafx.scene.shape.Path;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    \r\n    public class CanvasDrawing extends Application {\r\n    \r\n        private static final double SIZE = 10;\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            Pane pane = new Pane();\r\n            pane.setStyle(&quot;-fx-background-color:white;&quot;);\r\n    \r\n            // approachUsingCanvas(pane);\r\n            approachUsingPath(pane);\r\n    \r\n            Scene scene = new Scene(pane,Color.RED);\r\n            scene.setOnScroll(scrollEvent -&gt; {\r\n                double scale = pane.getScaleX() + (scrollEvent.getDeltaY() &gt; 0 ? 0.01 : -0.01);\r\n                pane.setScaleX(scale);\r\n                pane.setScaleY(scale);\r\n            });\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Canvas Drawing&quot;);\r\n            stage.show();\r\n        }\r\n    \r\n        private void approachUsingPath(Pane pane) {\r\n            Path path = new Path();\r\n            path.setStrokeWidth(1);\r\n            path.setStroke(Color.BLACK);\r\n            path.setFill(Color.BLACK);\r\n            pane.getChildren().add(path);\r\n            pane.setOnMouseDragged(mouseEvent -&gt; {\r\n                int x = (int) (mouseEvent.getX() / SIZE);\r\n                int y = (int) (mouseEvent.getY() / SIZE);\r\n                Plot plot = new Plot(x, y);\r\n                if(!plots.contains(plot)){\r\n                    plots.add(plot);\r\n                    double sx = x * SIZE;\r\n                    double sy = y * SIZE;\r\n                    // Draw the box using Path\r\n                    path.getElements().addAll(new MoveTo(sx,sy),\r\n                            new LineTo(sx+SIZE,sy),\r\n                            new LineTo(sx+SIZE,sy+SIZE),\r\n                            new LineTo(sx,sy+SIZE),\r\n                            new LineTo(sx,sy));\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void approachUsingCanvas(Pane pane){\r\n            Canvas canvas = new Canvas();\r\n            canvas.widthProperty().bind(pane.widthProperty());\r\n            canvas.heightProperty().bind(pane.heightProperty());\r\n            canvas.getGraphicsContext2D().setFill(Color.BLACK);\r\n            pane.getChildren().add(canvas);\r\n    \r\n            pane.setOnMouseDragged(mouseEvent -&gt; {\r\n                int x = (int) (mouseEvent.getX() / SIZE);\r\n                int y = (int) (mouseEvent.getY() / SIZE);\r\n                Plot plot = new Plot(x, y);\r\n                if(!plots.contains(plot)){\r\n                    plots.add(plot);\r\n                    double sx = x * SIZE;\r\n                    double sy = y * SIZE;\r\n                    canvas.getGraphicsContext2D().fillRect(sx, sy, SIZE, SIZE);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private static class Plot {\r\n            private final int x;\r\n            private final int y;\r\n    \r\n            private Plot(int x, int y) {\r\n                this.x = x;\r\n                this.y = y;\r\n            }\r\n    \r\n            @Override\r\n            public boolean equals(Object o) {\r\n                if (this == o) return true;\r\n                if (o == null || getClass() != o.getClass()) return false;\r\n                Plot plot = (Plot) o;\r\n                return x == plot.x &amp;&amp;\r\n                        y == plot.y;\r\n            }\r\n    \r\n            @Override\r\n            public int hashCode() {\r\n                return Objects.hash(x, y);\r\n            }\r\n        }\r\n    \r\n        private final List&lt;Plot&gt; plots = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/Aq8nu.gif\r\n  [2]: https://i.stack.imgur.com/vRMIB.gif","title":"JavaFX background visible between nodes when parent is scaled","body":"<p>My initial guess was it might be because of using Canvas node, that it has something related to border aliasing issue. So I tried replacing all the Canvas nodes to Rectangles. But still the problem exists. I believe there should be something happening related to layouting using x and y.</p>\n<p>While I cannot tell you the exact reason for this issue, I can suggest an alternate approach. Please note that I dont know the end usage of this implemenation or why you keep the Canvases in map. So the below approach is to let you know or give you the direction about how you can fix it.</p>\n<p><strong>Alternate Approach #1:</strong></p>\n<p>Instead of using many canvas nodes, try defining only one Canvas node that fit in the pane and paint the canvas as you draw. On checking for the zooming, it does not have any issue in spacing (as it is only one node).</p>\n<p>Please check the below demo:</p>\n<p><a href=\"https://i.stack.imgur.com/Aq8nu.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Aq8nu.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>[UPDATE]</strong></p>\n<p><strong>Alternate Approach #2:</strong></p>\n<p>The other approach is to use Path node. This approach also uses only one node for the entire drawing. The other advantage of using this is you can create as many paths as you want if you want to pick different brush colors. The other advantage is you can draw in the negative coords just as you did in your initial implemenation.</p>\n<p>The idea is pretty much same as in canvas approach. As you drag, you draw a Path of the box using the mouse cooridinate. I updated the code in the below demo.</p>\n<p><a href=\"https://i.stack.imgur.com/vRMIB.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vRMIB.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.LineTo;\nimport javafx.scene.shape.MoveTo;\nimport javafx.scene.shape.Path;\nimport javafx.stage.Stage;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\npublic class CanvasDrawing extends Application {\n\n    private static final double SIZE = 10;\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    @Override\n    public void start(Stage stage) {\n        Pane pane = new Pane();\n        pane.setStyle(&quot;-fx-background-color:white;&quot;);\n\n        // approachUsingCanvas(pane);\n        approachUsingPath(pane);\n\n        Scene scene = new Scene(pane,Color.RED);\n        scene.setOnScroll(scrollEvent -&gt; {\n            double scale = pane.getScaleX() + (scrollEvent.getDeltaY() &gt; 0 ? 0.01 : -0.01);\n            pane.setScaleX(scale);\n            pane.setScaleY(scale);\n        });\n        stage.setScene(scene);\n        stage.setTitle(&quot;Canvas Drawing&quot;);\n        stage.show();\n    }\n\n    private void approachUsingPath(Pane pane) {\n        Path path = new Path();\n        path.setStrokeWidth(1);\n        path.setStroke(Color.BLACK);\n        path.setFill(Color.BLACK);\n        pane.getChildren().add(path);\n        pane.setOnMouseDragged(mouseEvent -&gt; {\n            int x = (int) (mouseEvent.getX() / SIZE);\n            int y = (int) (mouseEvent.getY() / SIZE);\n            Plot plot = new Plot(x, y);\n            if(!plots.contains(plot)){\n                plots.add(plot);\n                double sx = x * SIZE;\n                double sy = y * SIZE;\n                // Draw the box using Path\n                path.getElements().addAll(new MoveTo(sx,sy),\n                        new LineTo(sx+SIZE,sy),\n                        new LineTo(sx+SIZE,sy+SIZE),\n                        new LineTo(sx,sy+SIZE),\n                        new LineTo(sx,sy));\n            }\n        });\n    }\n\n    private void approachUsingCanvas(Pane pane){\n        Canvas canvas = new Canvas();\n        canvas.widthProperty().bind(pane.widthProperty());\n        canvas.heightProperty().bind(pane.heightProperty());\n        canvas.getGraphicsContext2D().setFill(Color.BLACK);\n        pane.getChildren().add(canvas);\n\n        pane.setOnMouseDragged(mouseEvent -&gt; {\n            int x = (int) (mouseEvent.getX() / SIZE);\n            int y = (int) (mouseEvent.getY() / SIZE);\n            Plot plot = new Plot(x, y);\n            if(!plots.contains(plot)){\n                plots.add(plot);\n                double sx = x * SIZE;\n                double sy = y * SIZE;\n                canvas.getGraphicsContext2D().fillRect(sx, sy, SIZE, SIZE);\n            }\n        });\n    }\n\n    private static class Plot {\n        private final int x;\n        private final int y;\n\n        private Plot(int x, int y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            Plot plot = (Plot) o;\n            return x == plot.x &amp;&amp;\n                    y == plot.y;\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(x, y);\n        }\n    }\n\n    private final List&lt;Plot&gt; plots = new ArrayList&lt;&gt;();\n}\n</code></pre>\n"}],"owner":{"account_id":15873873,"reputation":31,"user_id":11453693,"display_name":"Zev G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1638751278,"creation_date":1638311922,"question_id":70177000,"body_markdown":"I have a Pane with a grid of canvases in it. When these canvases are colored and I change the scale of the pane white lines appear between the canvases.\r\n\r\n**Image before scaling**\r\n[![enter image description here][1]][1]\r\n\r\n**Scaled Image**\r\n[![enter image description here][2]][2]\r\n\r\nThe code currently has a scene with a pane in it. When the mouse is dragged it finds a canvas at that location using a HashMap that stores all the canvases by their x and y indexes, the found canvas is colored black. When the mouse is scrolled the scale of the pane is changed by 0.1.\r\n\r\nCode:\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.canvas.Canvas;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\n\r\npublic class Main extends Application {\r\n\r\n    private static final double SIZE = 10;\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        Pane pane = new Pane();\r\n\r\n        Scene scene = new Scene(pane);\r\n\r\n        pane.setOnMouseDragged(mouseEvent -&gt; {\r\n            int x = (int) (mouseEvent.getX() / SIZE);\r\n            int y = (int) (mouseEvent.getY() / SIZE);\r\n\r\n            Plot plot = new Plot(x, y);\r\n            Canvas canvas = canvases.computeIfAbsent(plot, plot1 -&gt; {\r\n                Canvas newCanvas = new Canvas(SIZE, SIZE);\r\n                pane.getChildren().add(newCanvas);\r\n                newCanvas.setLayoutX(x * SIZE);\r\n                newCanvas.setLayoutY(y * SIZE);\r\n                return newCanvas;\r\n            });\r\n\r\n            canvas.getGraphicsContext2D().setFill(Color.BLACK);\r\n            canvas.getGraphicsContext2D().fillRect(0, 0, 50, 50);\r\n        });\r\n\r\n        scene.setOnScroll(scrollEvent -&gt; {\r\n            double scale = pane.getScaleX() + (scrollEvent.getDeltaY() &gt; 0 ? 0.01 : -0.01);\r\n\r\n            pane.setScaleX(scale);\r\n            pane.setScaleY(scale);\r\n        });\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    private static class Plot {\r\n        private final int x;\r\n        private final int y;\r\n\r\n        private Plot(int x, int y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Plot plot = (Plot) o;\r\n            return x == plot.x &amp;&amp;\r\n                    y == plot.y;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(x, y);\r\n        }\r\n    }\r\n\r\n    private final Map&lt;Plot, Canvas&gt; canvases = new HashMap&lt;&gt;();\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T5gpL.png\r\n  [2]: https://i.stack.imgur.com/05liZ.png","title":"JavaFX background visible between nodes when parent is scaled","body":"<p>I have a Pane with a grid of canvases in it. When these canvases are colored and I change the scale of the pane white lines appear between the canvases.</p>\n<p><strong>Image before scaling</strong>\n<a href=\"https://i.stack.imgur.com/T5gpL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T5gpL.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Scaled Image</strong>\n<a href=\"https://i.stack.imgur.com/05liZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/05liZ.png\" alt=\"enter image description here\" /></a></p>\n<p>The code currently has a scene with a pane in it. When the mouse is dragged it finds a canvas at that location using a HashMap that stores all the canvases by their x and y indexes, the found canvas is colored black. When the mouse is scrolled the scale of the pane is changed by 0.1.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Objects;\n\npublic class Main extends Application {\n\n    private static final double SIZE = 10;\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    @Override\n    public void start(Stage stage) {\n        Pane pane = new Pane();\n\n        Scene scene = new Scene(pane);\n\n        pane.setOnMouseDragged(mouseEvent -&gt; {\n            int x = (int) (mouseEvent.getX() / SIZE);\n            int y = (int) (mouseEvent.getY() / SIZE);\n\n            Plot plot = new Plot(x, y);\n            Canvas canvas = canvases.computeIfAbsent(plot, plot1 -&gt; {\n                Canvas newCanvas = new Canvas(SIZE, SIZE);\n                pane.getChildren().add(newCanvas);\n                newCanvas.setLayoutX(x * SIZE);\n                newCanvas.setLayoutY(y * SIZE);\n                return newCanvas;\n            });\n\n            canvas.getGraphicsContext2D().setFill(Color.BLACK);\n            canvas.getGraphicsContext2D().fillRect(0, 0, 50, 50);\n        });\n\n        scene.setOnScroll(scrollEvent -&gt; {\n            double scale = pane.getScaleX() + (scrollEvent.getDeltaY() &gt; 0 ? 0.01 : -0.01);\n\n            pane.setScaleX(scale);\n            pane.setScaleY(scale);\n        });\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private static class Plot {\n        private final int x;\n        private final int y;\n\n        private Plot(int x, int y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            Plot plot = (Plot) o;\n            return x == plot.x &amp;&amp;\n                    y == plot.y;\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(x, y);\n        }\n    }\n\n    private final Map&lt;Plot, Canvas&gt; canvases = new HashMap&lt;&gt;();\n\n\n\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23526529,"reputation":1,"user_id":17572976,"display_name":"Wellington Mendes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638750621,"creation_date":1638750293,"answer_id":70239737,"question_id":68221772,"body_markdown":"I had the same issue and found at Spring Hateoas doc (see at https://docs.spring.io/spring-hateoas/docs/current/reference/html/#reference)\r\nyou should change, ResourceSupport is now RepresentationModel","title":"org.springframework.hateoas.ResourceSupport not found spring boot","body":"<p>I had the same issue and found at Spring Hateoas doc (see at <a href=\"https://docs.spring.io/spring-hateoas/docs/current/reference/html/#reference\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-hateoas/docs/current/reference/html/#reference</a>)\nyou should change, ResourceSupport is now RepresentationModel</p>\n"}],"owner":{"account_id":6906670,"reputation":31,"user_id":5304273,"display_name":"TirupathiRao podugu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638750621,"creation_date":1625213475,"question_id":68221772,"body_markdown":"I have updated the spring boot version.\r\n\r\n       springBootVersion = &quot;2.1.13.RELEASE&quot;   to &quot;2.3.11.RELEASE&quot;\r\n\r\nPost that I am getting ResourceSupport not found error. I have reading hateoas documentation and understood that this particular class was renamed to something else. I have tried upgrading below dependencies but it did not help.\r\n\r\n      compile &quot;io.springfox:springfox-swagger-ui:3.0.0&quot;\r\n      compile &quot;io.springfox:springfox-swagger2:3.0.0&quot;\r\n      compile &#39;io.springfox:springfox-boot-starter:3.0.0&#39;\r\n\r\nCan you help me to solve this.\r\n","title":"org.springframework.hateoas.ResourceSupport not found spring boot","body":"<p>I have updated the spring boot version.</p>\n<pre><code>   springBootVersion = &quot;2.1.13.RELEASE&quot;   to &quot;2.3.11.RELEASE&quot;\n</code></pre>\n<p>Post that I am getting ResourceSupport not found error. I have reading hateoas documentation and understood that this particular class was renamed to something else. I have tried upgrading below dependencies but it did not help.</p>\n<pre><code>  compile &quot;io.springfox:springfox-swagger-ui:3.0.0&quot;\n  compile &quot;io.springfox:springfox-swagger2:3.0.0&quot;\n  compile 'io.springfox:springfox-boot-starter:3.0.0'\n</code></pre>\n<p>Can you help me to solve this.</p>\n"},{"tags":["java","jenkins","java-8","continuous-integration","java-14"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1591076528,"post_id":62144177,"comment_id":109910558,"body_markdown":"Do you mean the job should be built using java-8 while the Jenkins should still have Java-14?","body":"Do you mean the job should be built using java-8 while the Jenkins should still have Java-14?"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1591079582,"post_id":62144177,"comment_id":109911710,"body_markdown":"Java 8 for Jenkins.war , Java 14 for job (for example `mvn package`).","body":"Java 8 for Jenkins.war , Java 14 for job (for example <code>mvn package</code>)."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1591079795,"post_id":62144177,"comment_id":109911795,"body_markdown":"You can explore further on maven profiles and toolchains for that.","body":"You can explore further on maven profiles and toolchains for that."},{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":0,"creation_date":1638750472,"post_id":62144177,"comment_id":124164615,"body_markdown":"Does this answer your question? [Using OpenJDK 14 in Jenkins](https://stackoverflow.com/questions/64977072/using-openjdk-14-in-jenkins)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64977072/using-openjdk-14-in-jenkins\">Using OpenJDK 14 in Jenkins</a>"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638750339,"creation_date":1591067565,"question_id":62144177,"body_markdown":"I am use Jenkins 2.222.4 on Windows 2016 server.\r\n\r\nHow to set JDK 8 for Jenkins and JDK 14 for build job?\r\nThank you! Because I really need this type of configuration.\r\n\r\n    C:\\Users\\Administrator&gt;java -version \r\n    Java version &quot;14.0.1&quot; 2020-04-14 \r\n    Java(TM) SE Runtime Environment (build 14.0.1+7) \r\n    Java HotSpot(TM) 64-Bit Server W (build 14.0.1+7, mixed mode, sharing)\r\n    \r\n    C:\\Users\\Administrator&gt;javac -version \r\n    javac 14.0.1 \r\n    \r\n    C:\\Users\\Administrator&gt;\r\n\r\n[![cmd prompt Java values][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FFegH.png","title":"How to set JDK 8 for Jenkins and JDK 14 for build job?","body":"<p>I am use Jenkins 2.222.4 on Windows 2016 server.</p>\n<p>How to set JDK 8 for Jenkins and JDK 14 for build job?\nThank you! Because I really need this type of configuration.</p>\n<pre><code>C:\\Users\\Administrator&gt;java -version \nJava version &quot;14.0.1&quot; 2020-04-14 \nJava(TM) SE Runtime Environment (build 14.0.1+7) \nJava HotSpot(TM) 64-Bit Server W (build 14.0.1+7, mixed mode, sharing)\n\nC:\\Users\\Administrator&gt;javac -version \njavac 14.0.1 \n\nC:\\Users\\Administrator&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FFegH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FFegH.png\" alt=\"cmd prompt Java values\" /></a></p>\n"},{"tags":["java","jvm","jvm-hotspot"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1638446811,"post_id":70198211,"comment_id":124093008,"body_markdown":"The stop-the-world is necessary, when turning a Biased Lock to a Lightweight Lock, because the owner’s stack has to be searched. Since such a search is not necessary when turning to Heavyweight Lock, I don’t think that it needs a stop-the-world.","body":"The stop-the-world is necessary, when turning a Biased Lock to a Lightweight Lock, because the owner’s stack has to be searched. Since such a search is not necessary when turning to Heavyweight Lock, I don’t think that it needs a stop-the-world."},{"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"score":1,"creation_date":1638449333,"post_id":70198211,"comment_id":124094144,"body_markdown":"This would be an implementation detail - hence potentially dependent on JVM vendor and version - since this does not appear to be in the JVM or Java Language specifications.","body":"This would be an implementation detail - hence potentially dependent on JVM vendor and version - since this does not appear to be in the JVM or Java Language specifications."}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638750289,"creation_date":1638750289,"answer_id":70239735,"question_id":70198211,"body_markdown":"The idea of a biased lock is to make locking/unlocking by a single thread as cheap as possible, ideally, zero cost. Locking/unlocking of a biased lock does not involve atomic operations, and therefore is not synchronized with other threads. So the revocation of a biased lock (e.g. because another thread wants to acuire it) requires an external synchronization mechanism. Stop-the-world pause is such a synchronization mechanism. It guarantees there is no race between threads.\r\n\r\nOn the contrary, locking/unlocking of a thin (lightweight) lock is a matter of an atomic Compare-And-Set operation. This CAS ensures synchronization (resolves races) between threads, so there is no need in an external synchronization mechanism.\r\n\r\nAn upgrade to a heavyweight lock also involves an atomic CAS of the object header. The JVM does not need to pause threads as long as they can communicate to each other through the &quot;protocol&quot; of atomic operations.","title":"Does Java stop the world, when Lightweight Lock upgrade to Heavyweight Lock?","body":"<p>The idea of a biased lock is to make locking/unlocking by a single thread as cheap as possible, ideally, zero cost. Locking/unlocking of a biased lock does not involve atomic operations, and therefore is not synchronized with other threads. So the revocation of a biased lock (e.g. because another thread wants to acuire it) requires an external synchronization mechanism. Stop-the-world pause is such a synchronization mechanism. It guarantees there is no race between threads.</p>\n<p>On the contrary, locking/unlocking of a thin (lightweight) lock is a matter of an atomic Compare-And-Set operation. This CAS ensures synchronization (resolves races) between threads, so there is no need in an external synchronization mechanism.</p>\n<p>An upgrade to a heavyweight lock also involves an atomic CAS of the object header. The JVM does not need to pause threads as long as they can communicate to each other through the &quot;protocol&quot; of atomic operations.</p>\n"}],"owner":{"account_id":3261534,"reputation":197,"user_id":2747023,"display_name":"YuChan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638750289,"creation_date":1638442816,"question_id":70198211,"body_markdown":"As we know, when a Bias Lock upgrade to a Lightweight Lock, JVM will stop the world.\r\n\r\nDoes JVM stop the world, when Lightweight Lock upgrade to Heavyweight Lock? \r\nAnd why?","title":"Does Java stop the world, when Lightweight Lock upgrade to Heavyweight Lock?","body":"<p>As we know, when a Bias Lock upgrade to a Lightweight Lock, JVM will stop the world.</p>\n<p>Does JVM stop the world, when Lightweight Lock upgrade to Heavyweight Lock?\nAnd why?</p>\n"},{"tags":["java","arrays","swing"],"comments":[{"owner":{"account_id":9426146,"reputation":5,"user_id":7011008,"display_name":"A Smirnov"},"score":0,"creation_date":1495212944,"post_id":44075321,"comment_id":75174590,"body_markdown":"If anybody wants source code, I will add it in 2 hours.","body":"If anybody wants source code, I will add it in 2 hours."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1495247482,"post_id":44075321,"comment_id":75186189,"body_markdown":"Why wouldn&#39;t you just delay the posting of your question by 2 hours instead of posting it with a plan to edit it later?","body":"Why wouldn&#39;t you just delay the posting of your question by 2 hours instead of posting it with a plan to edit it later?"}],"answers":[{"tags":[],"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638748046,"creation_date":1495236762,"answer_id":44080338,"question_id":44075321,"body_markdown":"use the [mvc mini architecture][1]:\r\n\r\n    import java.util.Observable;\r\n    import java.util.Observer;\r\n    public class So44075321 {\r\n    \tenum Piece {\r\n    \t\tvacant,knight,bishop;\r\n    \t}\r\n    \tstatic class Game extends Observable implements Observer { // model\r\n    \t\tGame() {\r\n    \t\t\tfor(int i=0;i&lt;n;i++)\r\n    \t\t\t\tfor(int j=0;j&lt;n;j++)\r\n    \t\t\t\t\tboard[i][j]=Piece.vacant;\r\n    \t\t\taddObserver(this);\r\n    \t\t}\r\n    \t\t@Override public String toString() {\r\n    \t\t\tStringBuffer stringBuffer=new StringBuffer();\r\n    \t\t\tfor(int i=0;i&lt;n;i++) {\r\n    \t\t\t\tfor(int j=0;j&lt;n;j++)\r\n    \t\t\t\t\tstringBuffer.append(board[i][j]+&quot; &quot;);\r\n    \t\t\t\tstringBuffer.append(&#39;\\n&#39;);\r\n    \t\t\t}\r\n    \t\t\treturn stringBuffer.toString();\r\n    \t\t}\r\n    \t\tvoid move(int i,int j,int k,int l) {\r\n    \t\t\tPiece piece=board[i][j];\r\n    \t\t\tboard[i][j]=Piece.vacant;\r\n    \t\t\tboard[k][l]=piece;\r\n    \t\t\tsetChanged();\r\n    \t\t\tnotifyObservers();\r\n    \t\t}\r\n    \t\tfinal int n=3;\r\n    \t\tPiece[][] board=new Piece[n][n];\r\n    \t\t@Override public void update(Observable o,Object hint) { // view\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;update: &quot;+toString());\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) { // controller\r\n    \t\tGame game=new Game();\r\n    \t\tgame.board[0][0]=Piece.knight;\r\n    \t\tSystem.out.println(game);\r\n    \t\tgame.move(0,0,1,1);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller","title":"How do you keep track of a board game positions live? (Java)","body":"<p>use the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">mvc mini architecture</a>:</p>\n<pre><code>import java.util.Observable;\nimport java.util.Observer;\npublic class So44075321 {\n    enum Piece {\n        vacant,knight,bishop;\n    }\n    static class Game extends Observable implements Observer { // model\n        Game() {\n            for(int i=0;i&lt;n;i++)\n                for(int j=0;j&lt;n;j++)\n                    board[i][j]=Piece.vacant;\n            addObserver(this);\n        }\n        @Override public String toString() {\n            StringBuffer stringBuffer=new StringBuffer();\n            for(int i=0;i&lt;n;i++) {\n                for(int j=0;j&lt;n;j++)\n                    stringBuffer.append(board[i][j]+&quot; &quot;);\n                stringBuffer.append('\\n');\n            }\n            return stringBuffer.toString();\n        }\n        void move(int i,int j,int k,int l) {\n            Piece piece=board[i][j];\n            board[i][j]=Piece.vacant;\n            board[k][l]=piece;\n            setChanged();\n            notifyObservers();\n        }\n        final int n=3;\n        Piece[][] board=new Piece[n][n];\n        @Override public void update(Observable o,Object hint) { // view\n            \n            System.out.println(&quot;update: &quot;+toString());\n        }\n    }\n    public static void main(String[] args) { // controller\n        Game game=new Game();\n        game.board[0][0]=Piece.knight;\n        System.out.println(game);\n        game.move(0,0,1,1);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9426146,"reputation":5,"user_id":7011008,"display_name":"A Smirnov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":44080338,"answer_count":1,"score":-1,"last_activity_date":1638748046,"creation_date":1495212914,"question_id":44075321,"body_markdown":"I am creating a board game in java using a 2d array. The board is shown in a JFrame. \r\n\r\nHow do you &quot;move&quot; pieces on the 2d array and display them live on the screen (the 2d array is shown with buttons). \r\n\r\nIs there a better way to show my game with a 2d array and what would be a good algorithm to update my game?\r\n\r\n","title":"How do you keep track of a board game positions live? (Java)","body":"<p>I am creating a board game in java using a 2d array. The board is shown in a JFrame. </p>\n\n<p>How do you \"move\" pieces on the 2d array and display them live on the screen (the 2d array is shown with buttons). </p>\n\n<p>Is there a better way to show my game with a 2d array and what would be a good algorithm to update my game?</p>\n"},{"tags":["java","graph","directed-acyclic-graphs","topological-sort","cycle-detection"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639150175,"post_id":70239467,"comment_id":124282291,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":20743128,"reputation":21,"user_id":15232264,"display_name":"sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638747949,"creation_date":1638747949,"answer_id":70239552,"question_id":70239467,"body_markdown":"Solved this using PriorityQueue in place of Queue.","title":"In course schedule II : Leetcode, how can we ensure when there are multiple answers the solution is the one with increasing order of course number?","body":"<p>Solved this using PriorityQueue in place of Queue.</p>\n"}],"owner":{"account_id":20743128,"reputation":21,"user_id":15232264,"display_name":"sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638747949,"creation_date":1638747007,"question_id":70239467,"body_markdown":"When there are multiple solutions, I want to return the solution where courses are in ascending order. How can I do that by the topological sort algorithm?","title":"In course schedule II : Leetcode, how can we ensure when there are multiple answers the solution is the one with increasing order of course number?","body":"<p>When there are multiple solutions, I want to return the solution where courses are in ascending order. How can I do that by the topological sort algorithm?</p>\n"},{"tags":["java","linked-list","doubly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":7864424,"reputation":672,"user_id":5943689,"display_name":"Cozimetzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638747212,"creation_date":1638747212,"answer_id":70239484,"question_id":70238528,"body_markdown":"Is this what you are looking for?\r\nList&lt;String[]&gt; myList = new LinkedList&lt;&gt;();","title":"How add the output of a random string array method onto a linked list","body":"<p>Is this what you are looking for?\nList&lt;String[]&gt; myList = new LinkedList&lt;&gt;();</p>\n"}],"owner":{"account_id":23549251,"reputation":1,"user_id":17592230,"display_name":"DBow332"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638747212,"creation_date":1638738220,"question_id":70238528,"body_markdown":"I have a method that randomly generates a string array and returns it. I want to be able to put that string array in a node as part of a linked list of these randomly generated string arrays. I also want it so that if I were to use an append method it would pull a randomly generated array from my method onto the new node. What would be the best way to do that?\r\n\r\nEdit: For clarification each node is going to hold an array of strings.","title":"How add the output of a random string array method onto a linked list","body":"<p>I have a method that randomly generates a string array and returns it. I want to be able to put that string array in a node as part of a linked list of these randomly generated string arrays. I also want it so that if I were to use an append method it would pull a randomly generated array from my method onto the new node. What would be the best way to do that?</p>\n<p>Edit: For clarification each node is going to hold an array of strings.</p>\n"},{"tags":["java","ibm-mq","websphere-liberty"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1638522113,"post_id":70211147,"comment_id":124115893,"body_markdown":"You need to add `server.xml` part which configures wmq resources and part of code that is using it, as now it is not possible to say anything about the error.","body":"You need to add <code>server.xml</code> part which configures wmq resources and part of code that is using it, as now it is not possible to say anything about the error."},{"owner":{"account_id":23533034,"reputation":1,"user_id":17578366,"display_name":"Manorma IBM"},"score":0,"creation_date":1638525223,"post_id":70211147,"comment_id":124116955,"body_markdown":"thank you for your reponse. i have added details in question","body":"thank you for your reponse. i have added details in question"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1638532777,"post_id":70211147,"comment_id":124119742,"body_markdown":"No, you didnt add anything useful. Put whole server.xml if you dont know which part contains jndi mq configuration.","body":"No, you didnt add anything useful. Put whole server.xml if you dont know which part contains jndi mq configuration."},{"owner":{"account_id":23533034,"reputation":1,"user_id":17578366,"display_name":"Manorma IBM"},"score":0,"creation_date":1638735593,"post_id":70211147,"comment_id":124161538,"body_markdown":"i have added more details .. hope this sufficient.. please help me","body":"i have added more details .. hope this sufficient.. please help me"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1638742666,"post_id":70211147,"comment_id":124163257,"body_markdown":"Add your Java code, or Spring code that uses that JNDI name. You also have conflicting features. You should know if your app is springboot or webprofile.... Are you using WebSphere Liberty or OpenLiberty, which version?","body":"Add your Java code, or Spring code that uses that JNDI name. You also have conflicting features. You should know if your app is springboot or webprofile.... Are you using WebSphere Liberty or OpenLiberty, which version?"}],"owner":{"account_id":23533034,"reputation":1,"user_id":17578366,"display_name":"Manorma IBM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638747122,"creation_date":1638518465,"question_id":70211147,"body_markdown":"i am getting below error while connecting to MQ from liberty server\r\n\r\n```\r\nNamingException JMSMessageHandler class : Intermediate context does not exist: jms/searchaccount\r\n[12/2/21 16:41:41:671 IST] 00000045 SystemErr                                                    R javax.naming.NameNotFoundException: Intermediate context does not exist: jms/searchaccount\r\n[12/2/21 16:41:41:672 IST] 00000045 SystemErr                                                    R      at com.ibm.ws.jndi.internal.ContextNode.getTargetNode(ContextNode.java:125)\r\n[12/2/21 16:41:41:673 IST] 00000045 SystemErr                                                    R      at com.ibm.ws.jndi.internal.ContextNode.lookup(ContextNode.java:211)\r\n[12/2/21 16:41:41:673 IST] 00000045 SystemErr                                                    R      at com.ibm.ws.jndi.internal.WSContext.lookup(WSContext.java:304)\r\n```\r\n\r\nserver.xml\r\n\r\n```\r\n\t\t&lt;feature&gt;localConnector-1.0&lt;/feature&gt;\r\n\t\t&lt;feature&gt;cdi-2.0&lt;/feature&gt;\r\n\t\t&lt;feature&gt;adminCenter-1.0&lt;/feature&gt;\r\n\t\t&lt;feature&gt;transportSecurity-1.0&lt;/feature&gt;\r\n\t\t&lt;feature&gt;osgiConsole-1.0&lt;/feature&gt;\r\n\t\t&lt;feature&gt;jca-1.7&lt;/feature&gt;\r\n\t\t&lt;feature&gt;jaxws-2.2&lt;/feature&gt;\r\n\t\t&lt;feature&gt;webProfile-8.0&lt;/feature&gt;\r\n\t\t&lt;feature&gt;mdb-3.2&lt;/feature&gt;\r\n\t\t&lt;!-- &lt;feature&gt;usr:prometheusExporter-1.0&lt;/feature&gt; --&gt;\r\n\t\t&lt;feature&gt;appSecurity-2.0&lt;/feature&gt;\r\n\t\t&lt;feature&gt;restConnector-2.0&lt;/feature&gt;\r\n\t\t&lt;feature&gt;monitor-1.0&lt;/feature&gt;\r\n\t\t&lt;feature&gt;springBoot-2.0&lt;/feature&gt;\r\n\t\t&lt;feature&gt;servlet-4.0&lt;/feature&gt;\r\n\t\t&lt;feature&gt;jdbc-4.2&lt;/feature&gt;\r\n\t\t&lt;feature&gt;mpMetrics-1.0&lt;/feature&gt;\r\n        &lt;feature&gt;jndi-1.0&lt;/feature&gt;\r\n        &lt;feature&gt;jmsMdb-3.2&lt;/feature&gt;\r\n        &lt;feature&gt;wmqJmsClient-2.0&lt;/feature&gt;\r\n\r\n\r\n  &lt;variable name=&quot;wmqJmsClient.rar.location&quot; value=&quot;${env.SSLCRTS}/wmq.jmsra.rar&quot;/&gt;\r\n\t&lt;jmsConnectionFactory id=&quot;searchmqcf&quot; jndiName=&quot;jms/searchaccount&quot;&gt;\r\n                &lt;properties.wmqJms channel=&quot;QMDOXGWS.TMS.SVRCO&quot; hostName=&quot;10.94.135.146&quot; port=&quot;7226&quot; queueManager=&quot;QMDOXGWS&quot; sslCipherSuite=&quot;TLS_RSA_WITH_AES_128_CBC_SHA256&quot; transportType=&quot;CLIENT&quot;/&gt;\r\n\t\t&lt;/jmsConnectionFactory&gt;                \r\n        &lt;jmsQueue id=&quot;searchReq&quot; jndiName=&quot;jms/searchaccountreq&quot;&gt;\r\n                &lt;properties.wmqJms baseQueueName=&quot;DOX.SV.SEARCHSRV.ESB.RQI.01&quot; targetClient=&quot;MQ&quot;/&gt;\r\n        &lt;/jmsQueue&gt;\r\n        &lt;jmsQueue id=&quot;searchResp&quot; jndiName=&quot;jms/searchaccountres&quot;&gt;\r\n                &lt;properties.wmqJms baseQueueName=&quot;DOX.SV.TMS.SEARCHSRV.ESB.RPO.01&quot; targetClient=&quot;MQ&quot;/&gt;\r\n        &lt;/jmsQueue&gt;\r\n```","title":"Intermediate context does not exist: jms/searchaccount","body":"<p>i am getting below error while connecting to MQ from liberty server</p>\n<pre><code>NamingException JMSMessageHandler class : Intermediate context does not exist: jms/searchaccount\n[12/2/21 16:41:41:671 IST] 00000045 SystemErr                                                    R javax.naming.NameNotFoundException: Intermediate context does not exist: jms/searchaccount\n[12/2/21 16:41:41:672 IST] 00000045 SystemErr                                                    R      at com.ibm.ws.jndi.internal.ContextNode.getTargetNode(ContextNode.java:125)\n[12/2/21 16:41:41:673 IST] 00000045 SystemErr                                                    R      at com.ibm.ws.jndi.internal.ContextNode.lookup(ContextNode.java:211)\n[12/2/21 16:41:41:673 IST] 00000045 SystemErr                                                    R      at com.ibm.ws.jndi.internal.WSContext.lookup(WSContext.java:304)\n</code></pre>\n<p>server.xml</p>\n<pre><code>        &lt;feature&gt;localConnector-1.0&lt;/feature&gt;\n        &lt;feature&gt;cdi-2.0&lt;/feature&gt;\n        &lt;feature&gt;adminCenter-1.0&lt;/feature&gt;\n        &lt;feature&gt;transportSecurity-1.0&lt;/feature&gt;\n        &lt;feature&gt;osgiConsole-1.0&lt;/feature&gt;\n        &lt;feature&gt;jca-1.7&lt;/feature&gt;\n        &lt;feature&gt;jaxws-2.2&lt;/feature&gt;\n        &lt;feature&gt;webProfile-8.0&lt;/feature&gt;\n        &lt;feature&gt;mdb-3.2&lt;/feature&gt;\n        &lt;!-- &lt;feature&gt;usr:prometheusExporter-1.0&lt;/feature&gt; --&gt;\n        &lt;feature&gt;appSecurity-2.0&lt;/feature&gt;\n        &lt;feature&gt;restConnector-2.0&lt;/feature&gt;\n        &lt;feature&gt;monitor-1.0&lt;/feature&gt;\n        &lt;feature&gt;springBoot-2.0&lt;/feature&gt;\n        &lt;feature&gt;servlet-4.0&lt;/feature&gt;\n        &lt;feature&gt;jdbc-4.2&lt;/feature&gt;\n        &lt;feature&gt;mpMetrics-1.0&lt;/feature&gt;\n        &lt;feature&gt;jndi-1.0&lt;/feature&gt;\n        &lt;feature&gt;jmsMdb-3.2&lt;/feature&gt;\n        &lt;feature&gt;wmqJmsClient-2.0&lt;/feature&gt;\n\n\n  &lt;variable name=&quot;wmqJmsClient.rar.location&quot; value=&quot;${env.SSLCRTS}/wmq.jmsra.rar&quot;/&gt;\n    &lt;jmsConnectionFactory id=&quot;searchmqcf&quot; jndiName=&quot;jms/searchaccount&quot;&gt;\n                &lt;properties.wmqJms channel=&quot;QMDOXGWS.TMS.SVRCO&quot; hostName=&quot;10.94.135.146&quot; port=&quot;7226&quot; queueManager=&quot;QMDOXGWS&quot; sslCipherSuite=&quot;TLS_RSA_WITH_AES_128_CBC_SHA256&quot; transportType=&quot;CLIENT&quot;/&gt;\n        &lt;/jmsConnectionFactory&gt;                \n        &lt;jmsQueue id=&quot;searchReq&quot; jndiName=&quot;jms/searchaccountreq&quot;&gt;\n                &lt;properties.wmqJms baseQueueName=&quot;DOX.SV.SEARCHSRV.ESB.RQI.01&quot; targetClient=&quot;MQ&quot;/&gt;\n        &lt;/jmsQueue&gt;\n        &lt;jmsQueue id=&quot;searchResp&quot; jndiName=&quot;jms/searchaccountres&quot;&gt;\n                &lt;properties.wmqJms baseQueueName=&quot;DOX.SV.TMS.SEARCHSRV.ESB.RPO.01&quot; targetClient=&quot;MQ&quot;/&gt;\n        &lt;/jmsQueue&gt;\n</code></pre>\n"},{"tags":["java","multithreading","junit","concurrency"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638745917,"post_id":70239360,"comment_id":124163891,"body_markdown":"Not sure if this solves the problem, but the test should at least wait until all submitted tasks have been executed. This involves collecting all [`Future&lt;?&gt;`s](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html) returned by [`service.submt(...)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)) and then [`get()`ting](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()) the values of all those `Future&lt;?&gt;`s.","body":"Not sure if this solves the problem, but the test should at least wait until all submitted tasks have been executed. This involves collecting all <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\"><code>Future&lt;?&gt;</code>s</a> returned by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>service.submt(...)</code></a> and then <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()\" rel=\"nofollow noreferrer\"><code>get()</code>ting</a> the values of all those <code>Future&lt;?&gt;</code>s."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1638746319,"post_id":70239360,"comment_id":124163967,"body_markdown":"@Turing85 No need for Futures.  `service.shutdown` followed by `service.awaitTermination` will accomplish the same thing.","body":"@Turing85 No need for Futures.  <code>service.shutdown</code> followed by <code>service.awaitTermination</code> will accomplish the same thing."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638746364,"post_id":70239360,"comment_id":124163976,"body_markdown":"@VGR Yeah, this works too in this special case.","body":"@VGR Yeah, this works too in this special case."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638746729,"creation_date":1638746382,"answer_id":70239406,"question_id":70239360,"body_markdown":"The `uniqueSet.add(id)` probably is working just fine. But most likely, none of those tasks is able to execute that line before the main thread asks for the size of the set.\r\n\r\nEach of your task calls `latch.countDown()` _before_ it does anything else. That means, none of the tasks will be able to do anything else until all twenty of them have been started.\r\n\r\nMeanwhile, your main thread asks for the size of the set _immediately_ after it submits the last task to the thread pool. The main thread already is running at that point. Probably most of the pool threads are sleeping in `latch.await()` The ones that aren&#39;t haven&#39;t even got that far yet.  The main thread probably always calls `uniqueSet.size()` before any of the worker threads reaches the `uniqueSet.add(id)` line.\r\n\r\n-------------\r\n\r\n@VGR suggested a good solution to your problem: After your main thread has submitted the twenty tasks, and before it checks the size of the set, it could shut the thread pool down:\r\n\r\n``` lang-java\r\n    for (int i = 0; i &lt; numberOfThreads; i++) {\r\n        service.submit(...);\r\n    }\r\n\r\n    // Tell the `service` to refuse new tasks, and to shut down\r\n    // _after_ all of the pending tasks have completed.\r\n    service.shutdown();\r\n\r\n    // Wait until all of the tasks have completed.\r\n    service.awaitTermination();\r\n\r\n    assertEquals(numberOfThreads, uniqueSet.size());\r\n```\r\n ","title":"Why Set.add() method does not work in anonymous Runnable?","body":"<p>The <code>uniqueSet.add(id)</code> probably is working just fine. But most likely, none of those tasks is able to execute that line before the main thread asks for the size of the set.</p>\n<p>Each of your task calls <code>latch.countDown()</code> <em>before</em> it does anything else. That means, none of the tasks will be able to do anything else until all twenty of them have been started.</p>\n<p>Meanwhile, your main thread asks for the size of the set <em>immediately</em> after it submits the last task to the thread pool. The main thread already is running at that point. Probably most of the pool threads are sleeping in <code>latch.await()</code> The ones that aren't haven't even got that far yet.  The main thread probably always calls <code>uniqueSet.size()</code> before any of the worker threads reaches the <code>uniqueSet.add(id)</code> line.</p>\n<hr />\n<p>@VGR suggested a good solution to your problem: After your main thread has submitted the twenty tasks, and before it checks the size of the set, it could shut the thread pool down:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (int i = 0; i &lt; numberOfThreads; i++) {\n        service.submit(...);\n    }\n\n    // Tell the `service` to refuse new tasks, and to shut down\n    // _after_ all of the pending tasks have completed.\n    service.shutdown();\n\n    // Wait until all of the tasks have completed.\n    service.awaitTermination();\n\n    assertEquals(numberOfThreads, uniqueSet.size());\n</code></pre>\n"}],"owner":{"account_id":10983199,"reputation":91,"user_id":8069714,"display_name":"Aksoy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1638746729,"creation_date":1638745788,"question_id":70239360,"body_markdown":"I would like to run 20 threads simultaneously to test my id generator. However, uniqueSet.add(id) is not adding id to the set. When I assert, it says set size is zero.\r\n\r\n    @Test\r\n    void should_generate_unique_id_concurrently() throws InterruptedException {\r\n        Set&lt;Long&gt; uniqueSet = ConcurrentHashMap.newKeySet();\r\n        final int numberOfThreads = 20;\r\n        ExecutorService service = Executors.newFixedThreadPool(numberOfThreads);\r\n        CountDownLatch latch = new CountDownLatch(numberOfThreads);\r\n        for (int i = 0; i &lt; numberOfThreads; i++) {\r\n            service.submit(() -&gt; {\r\n                try {\r\n                    latch.countDown();\r\n                    latch.await();\r\n                    long id = idGenerator.nextId();\r\n                    uniqueSet.add(id);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n        assertEquals(numberOfThreads, uniqueSet.size());\r\n    }","title":"Why Set.add() method does not work in anonymous Runnable?","body":"<p>I would like to run 20 threads simultaneously to test my id generator. However, uniqueSet.add(id) is not adding id to the set. When I assert, it says set size is zero.</p>\n<pre><code>@Test\nvoid should_generate_unique_id_concurrently() throws InterruptedException {\n    Set&lt;Long&gt; uniqueSet = ConcurrentHashMap.newKeySet();\n    final int numberOfThreads = 20;\n    ExecutorService service = Executors.newFixedThreadPool(numberOfThreads);\n    CountDownLatch latch = new CountDownLatch(numberOfThreads);\n    for (int i = 0; i &lt; numberOfThreads; i++) {\n        service.submit(() -&gt; {\n            try {\n                latch.countDown();\n                latch.await();\n                long id = idGenerator.nextId();\n                uniqueSet.add(id);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n    assertEquals(numberOfThreads, uniqueSet.size());\n}\n</code></pre>\n"},{"tags":["java","eclipse","codenameone"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":1,"creation_date":1638386171,"post_id":70189968,"comment_id":124077063,"body_markdown":"@Jo&#227;oDias You don&#39;t need to import anything, `Math` is in `java.lang`, so you can just `Math.pow(a, b)`.","body":"@Jo&#227;oDias You don&#39;t need to import anything, <code>Math</code> is in <code>java.lang</code>, so you can just <code>Math.pow(a, b)</code>."},{"owner":{"account_id":13135350,"reputation":41,"user_id":9488522,"display_name":"Alex"},"score":0,"creation_date":1638387567,"post_id":70189968,"comment_id":124077614,"body_markdown":"@azurefrog the issue is that doing that is not working.","body":"@azurefrog the issue is that doing that is not working."},{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1638387808,"post_id":70189968,"comment_id":124077724,"body_markdown":"What does &quot;not working&quot; mean?  Not running? Not compiling? What code is causing what error under what conditions?","body":"What does &quot;not working&quot; mean?  Not running? Not compiling? What code is causing what error under what conditions?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1638387878,"post_id":70189968,"comment_id":124077749,"body_markdown":"Have you created your own `Math` class?","body":"Have you created your own <code>Math</code> class?"},{"owner":{"account_id":13135350,"reputation":41,"user_id":9488522,"display_name":"Alex"},"score":0,"creation_date":1638387991,"post_id":70189968,"comment_id":124077796,"body_markdown":"I have not created my own Math class, and by not working I mean the IDE does not recognize those functions at all. It will recognize some of them like sin() and cos(), but not acos(), asin(), or pow(). I am using Math. in front of all of those of course.","body":"I have not created my own Math class, and by not working I mean the IDE does not recognize those functions at all. It will recognize some of them like sin() and cos(), but not acos(), asin(), or pow(). I am using Math. in front of all of those of course."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1638394405,"post_id":70189968,"comment_id":124079918,"body_markdown":"You need to show us an [mre] and tell us exactly what error messages you are getting. There should be no problem using any of these functions, so we need to see what you are doing to get some idea of what the problem is.","body":"You need to show us an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and tell us exactly what error messages you are getting. There should be no problem using any of these functions, so we need to see what you are doing to get some idea of what the problem is."},{"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":3,"creation_date":1638457149,"post_id":70189968,"comment_id":124097892,"body_markdown":"This was closed by people who are unaware of Codename One which was tagged correctly. The correct answer is use MathUtil for extra APIs","body":"This was closed by people who are unaware of Codename One which was tagged correctly. The correct answer is use MathUtil for extra APIs"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1638746669,"post_id":70189968,"comment_id":124164021,"body_markdown":"I have updated the question to make it clear up front that you are using CodeNameOne.  After all, &gt;&gt;that&lt;&lt; is the crux of your question.  Best not to hide that vital fact by only mentioning it via a tag.","body":"I have updated the question to make it clear up front that you are using CodeNameOne.  After all, &gt;&gt;that&lt;&lt; is the crux of your question.  Best not to hide that vital fact by only mentioning it via a tag."},{"owner":{"account_id":13135350,"reputation":41,"user_id":9488522,"display_name":"Alex"},"score":0,"creation_date":1638837140,"post_id":70189968,"comment_id":124189228,"body_markdown":"@Stephen C thanks, I did not know that codename1 was the most important piece of the puzzle at first, appreciate it","body":"@Stephen C thanks, I did not know that codename1 was the most important piece of the puzzle at first, appreciate it"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1638386185,"creation_date":1638386185,"answer_id":70190013,"question_id":70189968,"body_markdown":"Those functions are available from the [`java.lang.Math`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html) class. You could statically import them all - `import static java.lang.Math.*;`.","title":"How to get the rest of java Math funtions?","body":"<p>Those functions are available from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html\" rel=\"nofollow noreferrer\"><code>java.lang.Math</code></a> class. You could statically import them all - <code>import static java.lang.Math.*;</code>.</p>\n"},{"tags":[],"owner":{"account_id":13135350,"reputation":41,"user_id":9488522,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638577202,"creation_date":1638577202,"answer_id":70222037,"question_id":70189968,"body_markdown":"Looks like codename1 overrides some of the java math functions.They can be accessed with codename1&#39;s MathUtil class. Thank you all for your time.","title":"How to get the rest of java Math funtions?","body":"<p>Looks like codename1 overrides some of the java math functions.They can be accessed with codename1's MathUtil class. Thank you all for your time.</p>\n"}],"owner":{"account_id":13135350,"reputation":41,"user_id":9488522,"display_name":"Alex"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70222037,"answer_count":2,"score":0,"last_activity_date":1638746347,"creation_date":1638385975,"question_id":70189968,"body_markdown":"I am using the Eclipse IDE and the CodeNameOne toolkit for all my programming at the moment and as some of my programs are now requiring some more complicated math I realized that I am missing some of the `Math` functions. The most important ones being `pow()`, `acos()`, and `asin()`. Any ideas on how to get them added in? All of my googling has been for not so far.\r\n\r\nI have imported the class using `java.lang.Math` and while some methods are there I am missing some of them.","title":"How to get the rest of java Math funtions?","body":"<p>I am using the Eclipse IDE and the CodeNameOne toolkit for all my programming at the moment and as some of my programs are now requiring some more complicated math I realized that I am missing some of the <code>Math</code> functions. The most important ones being <code>pow()</code>, <code>acos()</code>, and <code>asin()</code>. Any ideas on how to get them added in? All of my googling has been for not so far.</p>\n<p>I have imported the class using <code>java.lang.Math</code> and while some methods are there I am missing some of them.</p>\n"},{"tags":["java","tree"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1638744553,"post_id":70239213,"comment_id":124163630,"body_markdown":"It looks to me like you put everything in `t2` twice.  I&#39;d expect it to be different from `t1`.","body":"It looks to me like you put everything in <code>t2</code> twice.  I&#39;d expect it to be different from <code>t1</code>."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1638745976,"post_id":70239213,"comment_id":124163906,"body_markdown":"You are presumably referring to the use of t1.clone() followed by a bunch of inserts.","body":"You are presumably referring to the use of t1.clone() followed by a bunch of inserts."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1638821823,"post_id":70239213,"comment_id":124185312,"body_markdown":"Yes, OP is copying the entire tree, and THEN inserting all the elements a second time.","body":"Yes, OP is copying the entire tree, and THEN inserting all the elements a second time."}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638746100,"creation_date":1638746100,"answer_id":70239385,"question_id":70239213,"body_markdown":"In general the best way to resolve these sorts of issues is to write unit tests to ensure each method does exactly what you expect and then, if you still can&#39;t find the issue, use an interactive debugger. I suspect you would find your issue very quickly with this approach and they are skills you will need in any case.\r\n\r\nThere are quite a few issues with your code\r\n\r\n 1. You are cloning t1 when you create t2. If you are trying to test your method you should create it as a new tree (i.e. `new BinarySearchTree()`). `clone` is a method that should be used in very specific circumstances only (if at all).\r\n 2. You are checking if both t1 and t2 are null but you aren&#39;t checking each individually. Unless `countNodes` catches this issue you&#39;ll get a NPE on `getItem`.\r\n 3. The extensive use of casting should not be necessary. Either `BinarySearchTree` should be generic or the getters should be returning the correct type.","title":"Program to check whether two trees are duplicates or not","body":"<p>In general the best way to resolve these sorts of issues is to write unit tests to ensure each method does exactly what you expect and then, if you still can't find the issue, use an interactive debugger. I suspect you would find your issue very quickly with this approach and they are skills you will need in any case.</p>\n<p>There are quite a few issues with your code</p>\n<ol>\n<li>You are cloning t1 when you create t2. If you are trying to test your method you should create it as a new tree (i.e. <code>new BinarySearchTree()</code>). <code>clone</code> is a method that should be used in very specific circumstances only (if at all).</li>\n<li>You are checking if both t1 and t2 are null but you aren't checking each individually. Unless <code>countNodes</code> catches this issue you'll get a NPE on <code>getItem</code>.</li>\n<li>The extensive use of casting should not be necessary. Either <code>BinarySearchTree</code> should be generic or the getters should be returning the correct type.</li>\n</ol>\n"}],"owner":{"account_id":22879010,"reputation":1,"user_id":17020871,"display_name":"mm1234"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638746100,"creation_date":1638744312,"question_id":70239213,"body_markdown":"I am having trouble with a method that checks whether two trees are duplicates or not. It seems that everytime it returns &quot;Not Duplicates&quot; even though both trees contain the same things. I will include the duplicateCheck method and my main method. I don&#39;t know where the code is incorrect, or if the problem is in my main method and the declaration of both trees. \r\n\r\n    public boolean duplicateCheck(BinarySearchTree otherTree)\r\n    {\r\n            return duplicateCheck(this.root, otherTree.getRoot());\r\n    }\r\n    \r\n      protected boolean duplicateCheck(TreeNode t1, TreeNode t2)\r\n    {\r\n            if ((t1 == null) &amp;&amp; (t2 == null))\r\n            return true;\r\n    \r\n    \r\n            else if (countNodes(t1) != countNodes(t2))\r\n            return false;\r\n    \r\n            else {\r\n    \r\n            KeyedItem key1 = (KeyedItem) t1.getItem();\r\n            KeyedItem key2 = (KeyedItem) t2.getItem();\r\n            String s1 = (String) key1.getKey();\r\n            String s2 = (String) key2.getKey();\r\n    \r\n            if (! s1.equals(s2) )\r\n            return false;\r\n    \r\n            else\r\n            return (duplicateCheck(t1.getLeft(), t2.getLeft()) &amp;&amp; duplicateCheck(t1.getRight(), t2.getRight()) );\r\n    }\r\n    }\r\n    \r\n    import java.util.*;\r\n    \r\n    public class MyTree\r\n    {\r\n            public static void main(String[] args) throws CloneNotSupportedException\r\n            {\r\n    \r\n            BinarySearchTree t1 = new BinarySearchTree();\r\n    \r\n            t1.insert(new KeyedItem(&quot;M&quot;));\r\n            t1.insert(new KeyedItem(&quot;J&quot;));\r\n            t1.insert(new KeyedItem(&quot;D&quot;));\r\n            t1.insert(new KeyedItem(&quot;F&quot;));\r\n            t1.insert(new KeyedItem(&quot;L&quot;));\r\n            t1.insert(new KeyedItem(&quot;W&quot;));\r\n            t1.insert(new KeyedItem(&quot;S&quot;));\r\n            t1.insert(new KeyedItem(&quot;T&quot;));\r\n            t1.insert(new KeyedItem(&quot;Z&quot;));\r\n    \r\n    \r\n            BinarySearchTree t2 = (BinarySearchTree) t1.clone();\r\n    \r\n            t2.insert(new KeyedItem(&quot;M&quot;));\r\n            t2.insert(new KeyedItem(&quot;J&quot;));\r\n            t2.insert(new KeyedItem(&quot;D&quot;));\r\n            t2.insert(new KeyedItem(&quot;F&quot;));\r\n            t2.insert(new KeyedItem(&quot;L&quot;));\r\n            t2.insert(new KeyedItem(&quot;W&quot;));\r\n            t2.insert(new KeyedItem(&quot;S&quot;));\r\n            t2.insert(new KeyedItem(&quot;T&quot;));\r\n            t2.insert(new KeyedItem(&quot;Z&quot;));\r\n    \r\n    \r\n            if (t1.duplicateCheck(t2))\r\n                    System.out.println(&quot;Duplicates&quot;);\r\n            else\r\n                    System.out.println(&quot;Not Duplicates&quot;);\r\n    \r\n    \r\n    \r\n    }\r\n    }\r\n\r\n","title":"Program to check whether two trees are duplicates or not","body":"<p>I am having trouble with a method that checks whether two trees are duplicates or not. It seems that everytime it returns &quot;Not Duplicates&quot; even though both trees contain the same things. I will include the duplicateCheck method and my main method. I don't know where the code is incorrect, or if the problem is in my main method and the declaration of both trees.</p>\n<pre><code>public boolean duplicateCheck(BinarySearchTree otherTree)\n{\n        return duplicateCheck(this.root, otherTree.getRoot());\n}\n\n  protected boolean duplicateCheck(TreeNode t1, TreeNode t2)\n{\n        if ((t1 == null) &amp;&amp; (t2 == null))\n        return true;\n\n\n        else if (countNodes(t1) != countNodes(t2))\n        return false;\n\n        else {\n\n        KeyedItem key1 = (KeyedItem) t1.getItem();\n        KeyedItem key2 = (KeyedItem) t2.getItem();\n        String s1 = (String) key1.getKey();\n        String s2 = (String) key2.getKey();\n\n        if (! s1.equals(s2) )\n        return false;\n\n        else\n        return (duplicateCheck(t1.getLeft(), t2.getLeft()) &amp;&amp; duplicateCheck(t1.getRight(), t2.getRight()) );\n}\n}\n\nimport java.util.*;\n\npublic class MyTree\n{\n        public static void main(String[] args) throws CloneNotSupportedException\n        {\n\n        BinarySearchTree t1 = new BinarySearchTree();\n\n        t1.insert(new KeyedItem(&quot;M&quot;));\n        t1.insert(new KeyedItem(&quot;J&quot;));\n        t1.insert(new KeyedItem(&quot;D&quot;));\n        t1.insert(new KeyedItem(&quot;F&quot;));\n        t1.insert(new KeyedItem(&quot;L&quot;));\n        t1.insert(new KeyedItem(&quot;W&quot;));\n        t1.insert(new KeyedItem(&quot;S&quot;));\n        t1.insert(new KeyedItem(&quot;T&quot;));\n        t1.insert(new KeyedItem(&quot;Z&quot;));\n\n\n        BinarySearchTree t2 = (BinarySearchTree) t1.clone();\n\n        t2.insert(new KeyedItem(&quot;M&quot;));\n        t2.insert(new KeyedItem(&quot;J&quot;));\n        t2.insert(new KeyedItem(&quot;D&quot;));\n        t2.insert(new KeyedItem(&quot;F&quot;));\n        t2.insert(new KeyedItem(&quot;L&quot;));\n        t2.insert(new KeyedItem(&quot;W&quot;));\n        t2.insert(new KeyedItem(&quot;S&quot;));\n        t2.insert(new KeyedItem(&quot;T&quot;));\n        t2.insert(new KeyedItem(&quot;Z&quot;));\n\n\n        if (t1.duplicateCheck(t2))\n                System.out.println(&quot;Duplicates&quot;);\n        else\n                System.out.println(&quot;Not Duplicates&quot;);\n\n\n\n}\n}\n</code></pre>\n"},{"tags":["java","parsing","error-handling","format","substring"],"answers":[{"tags":[],"owner":{"account_id":7864424,"reputation":672,"user_id":5943689,"display_name":"Cozimetzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638742692,"creation_date":1638742692,"answer_id":70239037,"question_id":70238971,"body_markdown":"You can wrap your code inside while loop in a try-catch block. It will catch your exception without terminating the program.\r\n","title":"How do I handle misinputs when using the substring method?","body":"<p>You can wrap your code inside while loop in a try-catch block. It will catch your exception without terminating the program.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638745506,"creation_date":1638743352,"answer_id":70239117,"question_id":70238971,"body_markdown":"One approach is to catch the exceptions.  That&#39;s the way to deal with the potential exceptions from `parseInt`; e.g. when the value isn&#39;t a valid integer.\r\n\r\nAnother approach is to make the code more robust so that the exception isn&#39;t thrown at all.  For example:\r\n\r\n  - check the results of the `indexOf` calls to make sure they are not -1 ... which means &quot;not found&quot;, and\r\n\r\n  - don&#39;t make assumptions about the number of characters in each field; e.g.  `lineString.length() - 4`\r\n\r\n  - consider using `String.trim()` to get rid of additional whitespace.\r\n\r\nI think you will need to use both approaches.  The key thing is to think of all the mistakes that the user might make and allow for them.  It is also a good idea to write your own tests.","title":"How do I handle misinputs when using the substring method?","body":"<p>One approach is to catch the exceptions.  That's the way to deal with the potential exceptions from <code>parseInt</code>; e.g. when the value isn't a valid integer.</p>\n<p>Another approach is to make the code more robust so that the exception isn't thrown at all.  For example:</p>\n<ul>\n<li><p>check the results of the <code>indexOf</code> calls to make sure they are not -1 ... which means &quot;not found&quot;, and</p>\n</li>\n<li><p>don't make assumptions about the number of characters in each field; e.g.  <code>lineString.length() - 4</code></p>\n</li>\n<li><p>consider using <code>String.trim()</code> to get rid of additional whitespace.</p>\n</li>\n</ul>\n<p>I think you will need to use both approaches.  The key thing is to think of all the mistakes that the user might make and allow for them.  It is also a good idea to write your own tests.</p>\n"}],"owner":{"account_id":23555902,"reputation":3,"user_id":17597934,"display_name":"Jaden Perleoni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70239037,"answer_count":2,"score":0,"last_activity_date":1638745506,"creation_date":1638742073,"question_id":70238971,"body_markdown":"I am trying to complete a project that takes a date in the format: *Month Day, Year* Example: December 1, 1990. After taking in this date, I am trying to output it in the format *Month/Day/Year*. The method that I am expected to use is *substring*. I am running into issues with errors when handling misinputs. For example, if there isn&#39;t a comma, then an error occurs and the loop is terminated. I am wondering if there is a way to check each value for an error and then continue through the loop if an error is found. Here is my code so far:\r\n\r\n```\r\n public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n                          // Flag to indicate next iteration\r\n      String lineString = &quot;&quot;;\r\n      String month;\r\n      int year;\r\n      int day;\r\n      char comma;\r\n            \r\n      lineString = scnr.nextLine();\r\n      while(!lineString.equals(-1)) {\r\n    \r\n       month = lineString.substring(0, lineString.indexOf(&quot; &quot;));\r\n       day = Integer.parseInt(lineString.substring(lineString.indexOf(&quot; &quot;) + 1, lineString.indexOf(&#39;,&#39;) ));   \r\n       comma = lineString.charAt(lineString.indexOf(&#39;,&#39;));\r\n       year = Integer.parseInt(lineString.substring(lineString.length()-4));\r\n   \r\n       System.out.println(month);\r\n       System.out.println(day);\r\n       System.out.println(comma);\r\n       System.out.println(year);\r\n       \r\n       lineString = scnr.nextLine();\r\n      }\r\n```","title":"How do I handle misinputs when using the substring method?","body":"<p>I am trying to complete a project that takes a date in the format: <em>Month Day, Year</em> Example: December 1, 1990. After taking in this date, I am trying to output it in the format <em>Month/Day/Year</em>. The method that I am expected to use is <em>substring</em>. I am running into issues with errors when handling misinputs. For example, if there isn't a comma, then an error occurs and the loop is terminated. I am wondering if there is a way to check each value for an error and then continue through the loop if an error is found. Here is my code so far:</p>\n<pre><code> public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n                          // Flag to indicate next iteration\n      String lineString = &quot;&quot;;\n      String month;\n      int year;\n      int day;\n      char comma;\n            \n      lineString = scnr.nextLine();\n      while(!lineString.equals(-1)) {\n    \n       month = lineString.substring(0, lineString.indexOf(&quot; &quot;));\n       day = Integer.parseInt(lineString.substring(lineString.indexOf(&quot; &quot;) + 1, lineString.indexOf(',') ));   \n       comma = lineString.charAt(lineString.indexOf(','));\n       year = Integer.parseInt(lineString.substring(lineString.length()-4));\n   \n       System.out.println(month);\n       System.out.println(day);\n       System.out.println(comma);\n       System.out.println(year);\n       \n       lineString = scnr.nextLine();\n      }\n</code></pre>\n"},{"tags":["java","antlr4"],"answers":[{"tags":[],"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638744860,"creation_date":1638733535,"answer_id":70237960,"question_id":70237840,"body_markdown":"This line:\r\n\r\n```java\r\nParseTree pt = new ParseTree(parser);\r\n```\r\n\r\nis incorrect.  You need to call the start rule method on your parser object to get your parse tree\r\n\r\n```java\r\nAntlr.LogicGrammerParser parser = new Antlr.LogicGrammerParser(tokens);\r\nParseTree pt = parser.logicalStmt();\r\n```\r\n\r\nSo far as printing out your input, generally fields starting with an `_` (like `_input`) are not intended for external use.  Though I suspect the failure may be that you don&#39;t have 100 characters in your input stream, so the `Interval` is invalid.  (I haven&#39;t tried it to see the exact failure)\r\n\r\nI you include your grammar, one of us could easily attempt to generate and compile and, perhaps, be more specific.\r\n\r\n-----\r\n\r\nUsing your grammar, this works for me:\r\n\r\n```java\r\nimport org.antlr.v4.runtime.*;\r\nimport org.antlr.v4.runtime.misc.Interval;\r\nimport org.antlr.v4.runtime.tree.ParseTree;\r\n\r\npublic class Logic {\r\n    public static void main(String... args) {\r\n        String formula = &quot;(fm.a &lt; fm.b) | (fm.a = fm.b)&quot;;\r\n        CharStream input = CharStreams.fromString(formula);\r\n        LogicGrammerLexer lexer = new LogicGrammerLexer(input);\r\n        CommonTokenStream tokens = new CommonTokenStream(lexer);\r\n        LogicGrammerParser parser = new LogicGrammerParser(tokens);\r\n        ParseTree pt = parser.logicalStmt();\r\n        System.out.println(pt.toStringTree());\r\n        System.out.println(input.getText(new Interval(1, 28)));\r\n    }\r\n}\r\n```\r\n\r\noutput:\r\n```\r\n([] (fm.a &lt; fm.b))\r\nfm.a &lt; fm.b) | (fm.a = fm.b)\r\n```\r\n\r\n---\r\n\r\nBTW, a couple of minor suggestions for your grammar:\r\n- set up a rule to `skip` whitespace `WS: [ \\t\\r\\n]+ -&gt; skip;`\r\n- change `BOOL_EXPR` to a parser rule (since it&#39;s made up of a composition of tokens from other lexer rules:\r\n\r\n\r\n```\r\ngrammar LogicGrammer\r\n    ;\r\n\r\nlogicalStmt\r\n    : boolExpr\r\n    | &#39;(&#39; logicalStmt LOGIC_SYMBOL logicalStmt &#39;)&#39;\r\n    ;\r\nboolExpr:     &#39;(&#39; IDENTIFIER MATH_SYMBOL IDENTIFIER &#39;)&#39;;\r\nIDENTIFIER:   CHAR+ (&#39;.&#39; CHAR*)*;\r\nCHAR:         &#39;a&#39; ..&#39;z&#39; | &#39;A&#39; ..&#39;Z&#39; | &#39;1&#39; ..&#39;9&#39;;\r\nLOGIC_SYMBOL: &#39;~&#39; | &#39;|&#39; | &#39;&amp;&#39;;\r\nMATH_SYMBOL:  &#39;&lt;&#39; | &#39;≤&#39; | &#39;=&#39; | &#39;≥&#39; | &#39;&gt;&#39;;\r\nWS:           [ \\t\\r\\n]+ -&gt; skip;\r\n```","title":"Making generated parser work in Java for ANTLR 4.8","body":"<p>This line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ParseTree pt = new ParseTree(parser);\n</code></pre>\n<p>is incorrect.  You need to call the start rule method on your parser object to get your parse tree</p>\n<pre class=\"lang-java prettyprint-override\"><code>Antlr.LogicGrammerParser parser = new Antlr.LogicGrammerParser(tokens);\nParseTree pt = parser.logicalStmt();\n</code></pre>\n<p>So far as printing out your input, generally fields starting with an <code>_</code> (like <code>_input</code>) are not intended for external use.  Though I suspect the failure may be that you don't have 100 characters in your input stream, so the <code>Interval</code> is invalid.  (I haven't tried it to see the exact failure)</p>\n<p>I you include your grammar, one of us could easily attempt to generate and compile and, perhaps, be more specific.</p>\n<hr />\n<p>Using your grammar, this works for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.antlr.v4.runtime.*;\nimport org.antlr.v4.runtime.misc.Interval;\nimport org.antlr.v4.runtime.tree.ParseTree;\n\npublic class Logic {\n    public static void main(String... args) {\n        String formula = &quot;(fm.a &lt; fm.b) | (fm.a = fm.b)&quot;;\n        CharStream input = CharStreams.fromString(formula);\n        LogicGrammerLexer lexer = new LogicGrammerLexer(input);\n        CommonTokenStream tokens = new CommonTokenStream(lexer);\n        LogicGrammerParser parser = new LogicGrammerParser(tokens);\n        ParseTree pt = parser.logicalStmt();\n        System.out.println(pt.toStringTree());\n        System.out.println(input.getText(new Interval(1, 28)));\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>([] (fm.a &lt; fm.b))\nfm.a &lt; fm.b) | (fm.a = fm.b)\n</code></pre>\n<hr />\n<p>BTW, a couple of minor suggestions for your grammar:</p>\n<ul>\n<li>set up a rule to <code>skip</code> whitespace <code>WS: [ \\t\\r\\n]+ -&gt; skip;</code></li>\n<li>change <code>BOOL_EXPR</code> to a parser rule (since it's made up of a composition of tokens from other lexer rules:</li>\n</ul>\n<pre><code>grammar LogicGrammer\n    ;\n\nlogicalStmt\n    : boolExpr\n    | '(' logicalStmt LOGIC_SYMBOL logicalStmt ')'\n    ;\nboolExpr:     '(' IDENTIFIER MATH_SYMBOL IDENTIFIER ')';\nIDENTIFIER:   CHAR+ ('.' CHAR*)*;\nCHAR:         'a' ..'z' | 'A' ..'Z' | '1' ..'9';\nLOGIC_SYMBOL: '~' | '|' | '&amp;';\nMATH_SYMBOL:  '&lt;' | '≤' | '=' | '≥' | '&gt;';\nWS:           [ \\t\\r\\n]+ -&gt; skip;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638741786,"creation_date":1638741786,"answer_id":70238938,"question_id":70237840,"body_markdown":"The `BOOL_EXPR` shouldn&#39;t be a lexer rule. I suggest you do something like this instead:\r\n\r\n```\r\ngrammar LogicGrammer;\r\n\r\nparse\r\n : logicalStmt EOF\r\n ;\r\n\r\nlogicalStmt\r\n : logicalStmt LOGIC_SYMBOL logicalStmt\r\n | logicalStmt MATH_SYMBOL logicalStmt\r\n | &#39;(&#39; logicalStmt &#39;)&#39;\r\n | IDENTIFIER\r\n ;\r\n\r\nIDENTIFIER\r\n : CHAR+ ( &#39;.&#39;CHAR+ )*\r\n ;\r\n\r\nLOGIC_SYMBOL\r\n : [~|&amp;]\r\n ;\r\n\r\nMATH_SYMBOL\r\n : [&lt;≤=≥&gt;]\r\n ;\r\n\r\nSPACE\r\n : [ \\t\\r\\n] -&gt; skip\r\n ;\r\n\r\nfragment CHAR\r\n : [a-zA-Z1-9]\r\n ;\r\n```\r\n\r\nwhich can be tested by running the following code:\r\n\r\n```java\r\nString formula = &quot;(fm.a &lt; fm.b) | (fm.a = fm.b)&quot;;\r\nLogicGrammerLexer lexer = new LogicGrammerLexer(CharStreams.fromString(formula));\r\nLogicGrammerParser parser = new LogicGrammerParser(new CommonTokenStream(lexer));\r\nParseTree root = parser.parse();\r\nSystem.out.println(root.toStringTree(parser));\r\n```","title":"Making generated parser work in Java for ANTLR 4.8","body":"<p>The <code>BOOL_EXPR</code> shouldn't be a lexer rule. I suggest you do something like this instead:</p>\n<pre><code>grammar LogicGrammer;\n\nparse\n : logicalStmt EOF\n ;\n\nlogicalStmt\n : logicalStmt LOGIC_SYMBOL logicalStmt\n | logicalStmt MATH_SYMBOL logicalStmt\n | '(' logicalStmt ')'\n | IDENTIFIER\n ;\n\nIDENTIFIER\n : CHAR+ ( '.'CHAR+ )*\n ;\n\nLOGIC_SYMBOL\n : [~|&amp;]\n ;\n\nMATH_SYMBOL\n : [&lt;≤=≥&gt;]\n ;\n\nSPACE\n : [ \\t\\r\\n] -&gt; skip\n ;\n\nfragment CHAR\n : [a-zA-Z1-9]\n ;\n</code></pre>\n<p>which can be tested by running the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String formula = &quot;(fm.a &lt; fm.b) | (fm.a = fm.b)&quot;;\nLogicGrammerLexer lexer = new LogicGrammerLexer(CharStreams.fromString(formula));\nLogicGrammerParser parser = new LogicGrammerParser(new CommonTokenStream(lexer));\nParseTree root = parser.parse();\nSystem.out.println(root.toStringTree(parser));\n</code></pre>\n"}],"owner":{"account_id":16825128,"reputation":5,"user_id":12164609,"display_name":"David Franz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70237960,"answer_count":2,"score":0,"last_activity_date":1638744860,"creation_date":1638732732,"question_id":70237840,"body_markdown":"I&#39;ve been having trouble getting my generated parser to work in Java for ANTLR 4.8. There are other answers to this question, but it seems that ANTLR has changed things since 4.7 and all the other answers are before this change. My code is:\r\n\r\n        String formula = &quot;(fm.a &lt; fm.b) | (fm.a = fm.b)&quot;;\r\n        CharStream input = CharStreams.fromString(formula);\r\n        Antlr.LogicGrammerLexer lexer = new Antlr.LogicGrammerLexer(input);\r\n        CommonTokenStream tokens = new CommonTokenStream(lexer);\r\n        Antlr.LogicGrammerParser parser = new Antlr.LogicGrammerParser(tokens);\r\n        ParseTree pt = new ParseTree(parser);\r\n\r\nIt appears to be reading in the formula correctly into the CharStream, but anything I try to do past that just isn&#39;t working at all. For example, if I try to print out the parse tree, nothing will be printed. The following line will print out nothing:\r\n\r\n        System.out.println(lexer._input.getText(new Interval(0, 100)));\r\n\r\nAny advice appreciated.\r\n\r\n**EDIT:** added the grammar file:\r\n\r\n    grammar LogicGrammer;\r\n\r\n    logicalStmt: BOOL_EXPR | &#39;(&#39;logicalStmt&#39; &#39;*LOGIC_SYMBOL&#39; &#39;*logicalStmt&#39;)&#39;;\r\n    BOOL_EXPR: &#39;(&#39;IDENTIFIER&#39; &#39;*MATH_SYMBOL&#39; &#39;*IDENTIFIER&#39;)&#39;;\r\n    IDENTIFIER: CHAR+(&#39;.&#39;CHAR*)*;\r\n    CHAR: &#39;a&#39;..&#39;z&#39; | &#39;A&#39;..&#39;Z&#39; | &#39;1&#39;..&#39;9&#39;;\r\n    LOGIC_SYMBOL: &#39;~&#39; | &#39;|&#39; | &#39;&amp;&#39;;\r\n    MATH_SYMBOL: &#39;&lt;&#39; | &#39;≤&#39; | &#39;=&#39; | &#39;≥&#39; | &#39;&gt;&#39;;\r\n\r\n\r\n\r\n \r\n","title":"Making generated parser work in Java for ANTLR 4.8","body":"<p>I've been having trouble getting my generated parser to work in Java for ANTLR 4.8. There are other answers to this question, but it seems that ANTLR has changed things since 4.7 and all the other answers are before this change. My code is:</p>\n<pre><code>    String formula = &quot;(fm.a &lt; fm.b) | (fm.a = fm.b)&quot;;\n    CharStream input = CharStreams.fromString(formula);\n    Antlr.LogicGrammerLexer lexer = new Antlr.LogicGrammerLexer(input);\n    CommonTokenStream tokens = new CommonTokenStream(lexer);\n    Antlr.LogicGrammerParser parser = new Antlr.LogicGrammerParser(tokens);\n    ParseTree pt = new ParseTree(parser);\n</code></pre>\n<p>It appears to be reading in the formula correctly into the CharStream, but anything I try to do past that just isn't working at all. For example, if I try to print out the parse tree, nothing will be printed. The following line will print out nothing:</p>\n<pre><code>    System.out.println(lexer._input.getText(new Interval(0, 100)));\n</code></pre>\n<p>Any advice appreciated.</p>\n<p><strong>EDIT:</strong> added the grammar file:</p>\n<pre><code>grammar LogicGrammer;\n\nlogicalStmt: BOOL_EXPR | '('logicalStmt' '*LOGIC_SYMBOL' '*logicalStmt')';\nBOOL_EXPR: '('IDENTIFIER' '*MATH_SYMBOL' '*IDENTIFIER')';\nIDENTIFIER: CHAR+('.'CHAR*)*;\nCHAR: 'a'..'z' | 'A'..'Z' | '1'..'9';\nLOGIC_SYMBOL: '~' | '|' | '&amp;';\nMATH_SYMBOL: '&lt;' | '≤' | '=' | '≥' | '&gt;';\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1638668973,"post_id":70230911,"comment_id":124149152,"body_markdown":"So don&#39;t use scanner, use FileInputStream.","body":"So don&#39;t use scanner, use FileInputStream."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638670551,"creation_date":1638669544,"answer_id":70230944,"question_id":70230911,"body_markdown":"You cannot do this with `Scanner.readLine()` or `BufferedReader.readLine()` because both of these APIs consume the line separators.\r\n\r\nYou could conceivably do it using `Scanner.next()` with a custom separator regex that causes the line separators to be included in the tokens.  (Hint: using a look-behind.)\r\n\r\nHowever for what you are actually doing in the code, either a `FileInputStream` or a `FileReader` would be better.\r\n\r\n------------------------------\r\n\r\nThis brings me to another thing.\r\n\r\nWhat is this code supposed to do?\r\n\r\nWhat it actually does is to convert Unicode code units into bytes by throwing away the top bits.  That might make sense if the input charset was ASCII or (maybe) LATIN-1.  But for anything else, it is probably going to mangle the text.\r\n\r\n  - If you are trying read the file as (raw) bytes, simply use `FileInputStream` + `BufferedInputStream`.  Then read / process the bytes directly.  The line terminators won&#39;t require any special handling.\r\n\r\n  - If you are trying to read the file as encoded characters in some charset and transliterate it to another one (e.g. ASCII).  You should be writing to a `FileWriter` + `BufferedWriter`.  Once again, line separator / terminator characters will be preserved ... and you can &quot;normalize&quot; them it you want to.\r\n\r\n  - If you are doing something else ... well this is *probably* not the right way to do it.  A `List&lt;Byte&gt;` is going to be inefficient and difficult to convert to something that other Java APIs can deal with directly.\r\n","title":"How to check if on the end of line is \\n or \\r or \\r\\n in JAVA","body":"<p>You cannot do this with <code>Scanner.readLine()</code> or <code>BufferedReader.readLine()</code> because both of these APIs consume the line separators.</p>\n<p>You could conceivably do it using <code>Scanner.next()</code> with a custom separator regex that causes the line separators to be included in the tokens.  (Hint: using a look-behind.)</p>\n<p>However for what you are actually doing in the code, either a <code>FileInputStream</code> or a <code>FileReader</code> would be better.</p>\n<hr />\n<p>This brings me to another thing.</p>\n<p>What is this code supposed to do?</p>\n<p>What it actually does is to convert Unicode code units into bytes by throwing away the top bits.  That might make sense if the input charset was ASCII or (maybe) LATIN-1.  But for anything else, it is probably going to mangle the text.</p>\n<ul>\n<li><p>If you are trying read the file as (raw) bytes, simply use <code>FileInputStream</code> + <code>BufferedInputStream</code>.  Then read / process the bytes directly.  The line terminators won't require any special handling.</p>\n</li>\n<li><p>If you are trying to read the file as encoded characters in some charset and transliterate it to another one (e.g. ASCII).  You should be writing to a <code>FileWriter</code> + <code>BufferedWriter</code>.  Once again, line separator / terminator characters will be preserved ... and you can &quot;normalize&quot; them it you want to.</p>\n</li>\n<li><p>If you are doing something else ... well this is <em>probably</em> not the right way to do it.  A <code>List&lt;Byte&gt;</code> is going to be inefficient and difficult to convert to something that other Java APIs can deal with directly.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638744516,"creation_date":1638671915,"answer_id":70231104,"question_id":70230911,"body_markdown":"Read the whole file, including all line endings, in as a single string:\r\n\r\n    String fileStr = in.useDelimiter(&quot;\\\\A&quot;).next();\r\n\r\nThe regex `\\A` matches start of input, which is never encountered, so the *entire* input stream is returned from `next()`.\r\n\r\nIf your situation requires all line endings to be corrected to a specific line ending, despite whatever the file contains, do this:\r\n\r\n    fileStr = fileStr.replaceAll(&quot;\\\\R&quot;, &quot;\\n&quot;);\r\n\r\nThe regex `\\R` matches all types of line endings.\r\n\r\nOf course this can all be done as 1 line:\r\n\r\n    String fileStr = in.useDelimiter(&quot;\\\\A&quot;).next().replaceAll(&quot;\\\\R&quot;, &quot;\\n&quot;);","title":"How to check if on the end of line is \\n or \\r or \\r\\n in JAVA","body":"<p>Read the whole file, including all line endings, in as a single string:</p>\n<pre><code>String fileStr = in.useDelimiter(&quot;\\\\A&quot;).next();\n</code></pre>\n<p>The regex <code>\\A</code> matches start of input, which is never encountered, so the <em>entire</em> input stream is returned from <code>next()</code>.</p>\n<p>If your situation requires all line endings to be corrected to a specific line ending, despite whatever the file contains, do this:</p>\n<pre><code>fileStr = fileStr.replaceAll(&quot;\\\\R&quot;, &quot;\\n&quot;);\n</code></pre>\n<p>The regex <code>\\R</code> matches all types of line endings.</p>\n<p>Of course this can all be done as 1 line:</p>\n<pre><code>String fileStr = in.useDelimiter(&quot;\\\\A&quot;).next().replaceAll(&quot;\\\\R&quot;, &quot;\\n&quot;);\n</code></pre>\n"}],"owner":{"account_id":14495512,"reputation":107,"user_id":10470234,"display_name":"Young User"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70231104,"answer_count":2,"score":1,"last_activity_date":1638744516,"creation_date":1638668806,"question_id":70230911,"body_markdown":"I need to check every charackter in file and cast it on byte. But unfortunetely scanner not gives any possibilities to not spliting last charackter of line...\r\nI try to do something like this :\r\n```public static byte[] readFile(String path) throws FileNotFoundException {\r\n\t\tScanner in = new Scanner(new File(path));\r\n\t\tList&lt;Byte&gt; byteList = new ArrayList&lt;&gt;();\r\n\t\twhile (in.hasNextLine()) {\r\n\t\t\tString a = in.nextLine();\r\n\t\t\tif (in.hasNextLine()) {\r\n\t\t\t\ta = a + (char) (13);\r\n\t\t\t}\r\n\t\t\tfor (char c : a.toCharArray()) {\r\n\t\t\t\tbyteList.add((byte) c);\r\n\t\t\t}\r\n\t\t}\r\n\t\tbyte[] bytes = new byte[byteList.size()];\r\n\t\tfor (int i = 0; i &lt; byteList.size(); i++) {\r\n\t\t\tbytes[i] = byteList.get(i);\r\n\t\t}\r\n\t\treturn bytes;\r\n\t}\r\n```\r\nHave you maybe any idea for the solution on this problem ?\r\nI&#39;ll be grateful for your help.","title":"How to check if on the end of line is \\n or \\r or \\r\\n in JAVA","body":"<p>I need to check every charackter in file and cast it on byte. But unfortunetely scanner not gives any possibilities to not spliting last charackter of line...\nI try to do something like this :</p>\n<pre><code>        Scanner in = new Scanner(new File(path));\n        List&lt;Byte&gt; byteList = new ArrayList&lt;&gt;();\n        while (in.hasNextLine()) {\n            String a = in.nextLine();\n            if (in.hasNextLine()) {\n                a = a + (char) (13);\n            }\n            for (char c : a.toCharArray()) {\n                byteList.add((byte) c);\n            }\n        }\n        byte[] bytes = new byte[byteList.size()];\n        for (int i = 0; i &lt; byteList.size(); i++) {\n            bytes[i] = byteList.get(i);\n        }\n        return bytes;\n    }\n</code></pre>\n<p>Have you maybe any idea for the solution on this problem ?\nI'll be grateful for your help.</p>\n"},{"tags":["java","spring","spring-boot","docker","apache-kafka"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638743872,"post_id":70239152,"comment_id":124163498,"body_markdown":"Try setting the `KAFKA_ADVERTISED_HOST_NAME` to the container&#39;s name (`kafka`).","body":"Try setting the <code>KAFKA_ADVERTISED_HOST_NAME</code> to the container&#39;s name (<code>kafka</code>)."}],"answers":[{"tags":[],"owner":{"account_id":8889976,"reputation":13,"user_id":6636936,"display_name":"Somewhat_User"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638744362,"creation_date":1638744362,"answer_id":70239223,"question_id":70239152,"body_markdown":"@Turing85 posted answer, I had to change the \r\n\r\n&gt;KAFKA_ADVERTISED_HOSTNAME\r\n\r\nvariable from a static IP Address of 127.0.0.1 to kafka.\r\n\r\n","title":"Docker Cluster with Kafka can&#39;t establish a connection with a client container","body":"<p>@Turing85 posted answer, I had to change the</p>\n<blockquote>\n<p>KAFKA_ADVERTISED_HOSTNAME</p>\n</blockquote>\n<p>variable from a static IP Address of 127.0.0.1 to kafka.</p>\n"}],"owner":{"account_id":8889976,"reputation":13,"user_id":6636936,"display_name":"Somewhat_User"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70239223,"answer_count":1,"score":0,"last_activity_date":1638744362,"creation_date":1638743707,"question_id":70239152,"body_markdown":"I get the following error message from the client application:\r\n\r\n&gt; Connection to node 1002 (/127.0.0.1:9092) could not be established. Broker may not be available.\r\n\r\nNode 1002 is the correct broker id, which means that it is able to find it, but I don&#39;t understand why the connection itself can&#39;t be established when the client application worked when not running on a container.\r\n\r\nDocker-Compose\r\n\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n  zookeeper:\r\n    image: wurstmeister/zookeeper\r\n    ports:\r\n      - &quot;2181:2181&quot;\r\n\r\n  kafka:\r\n    image: wurstmeister/kafka\r\n    ports:\r\n      - &quot;9092:9092&quot;\r\n    environment:\r\n      KAFKA_ADVERTISED_HOST_NAME: 127.0.0.1\r\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: &#39;false&#39;\r\n    depends_on:\r\n      - zookeeper\r\n\r\n  app:\r\n    image: someuser/someimage\r\n    ports:\r\n     - &quot;8080:8080&quot;\r\n    environment:\r\n       KAFKA_CONNECTION: kafka:9092\r\n    depends_on:\r\n      - kafka\r\n```\r\n\r\napplication.yml\r\n\r\n```\r\nspring:\r\n  kafka:\r\n    consumer:\r\n      group-id: tdp-loggers\r\n      auto-offset-reset: earliest\r\n    bootstrap-servers: ${KAFKA_CONNECTION}\r\n\r\ntdp:\r\n  topic-name: advice-topic\r\n  messages-per-request: 10\r\n```\r\n\r\nDockerfile\r\n\r\n```\r\nFROM openjdk:17\r\n\r\nWORKDIR /app\r\n\r\nEXPOSE 8080\r\n\r\nCOPY .mvn/ .mvn\r\nCOPY mvnw pom.xml ./\r\nRUN ./mvnw dependency:go-offline\r\n\r\nCOPY src ./src\r\n\r\nCMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\r\n```","title":"Docker Cluster with Kafka can&#39;t establish a connection with a client container","body":"<p>I get the following error message from the client application:</p>\n<blockquote>\n<p>Connection to node 1002 (/127.0.0.1:9092) could not be established. Broker may not be available.</p>\n</blockquote>\n<p>Node 1002 is the correct broker id, which means that it is able to find it, but I don't understand why the connection itself can't be established when the client application worked when not running on a container.</p>\n<p>Docker-Compose</p>\n<pre><code>version: '3'\nservices:\n  zookeeper:\n    image: wurstmeister/zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n\n  kafka:\n    image: wurstmeister/kafka\n    ports:\n      - &quot;9092:9092&quot;\n    environment:\n      KAFKA_ADVERTISED_HOST_NAME: 127.0.0.1\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: 'false'\n    depends_on:\n      - zookeeper\n\n  app:\n    image: someuser/someimage\n    ports:\n     - &quot;8080:8080&quot;\n    environment:\n       KAFKA_CONNECTION: kafka:9092\n    depends_on:\n      - kafka\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  kafka:\n    consumer:\n      group-id: tdp-loggers\n      auto-offset-reset: earliest\n    bootstrap-servers: ${KAFKA_CONNECTION}\n\ntdp:\n  topic-name: advice-topic\n  messages-per-request: 10\n</code></pre>\n<p>Dockerfile</p>\n<pre><code>FROM openjdk:17\n\nWORKDIR /app\n\nEXPOSE 8080\n\nCOPY .mvn/ .mvn\nCOPY mvnw pom.xml ./\nRUN ./mvnw dependency:go-offline\n\nCOPY src ./src\n\nCMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\n</code></pre>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1638743438,"post_id":70239024,"comment_id":124163415,"body_markdown":"1) You should use try/resource/catch in the first code too, just like you do in the second code. 2) The way you&#39;re doing it, you have lots of small writes (not a problem in this case, still too few queries per second). BUT You could keep the statistics in RAM, and a &#39;changed&#39; flag. Then run a timer (daemon thread loop with sleep or sth alik) that checks them every second or so, and writes all changed datasets to the DB in batch (multiple data rows at once, prepared statement) call. Theoretically, if there was still problems with performance, the write cycle time would just increase on its own.","body":"1) You should use try/resource/catch in the first code too, just like you do in the second code. 2) The way you&#39;re doing it, you have lots of small writes (not a problem in this case, still too few queries per second). BUT You could keep the statistics in RAM, and a &#39;changed&#39; flag. Then run a timer (daemon thread loop with sleep or sth alik) that checks them every second or so, and writes all changed datasets to the DB in batch (multiple data rows at once, prepared statement) call. Theoretically, if there was still problems with performance, the write cycle time would just increase on its own."}],"answers":[{"tags":[],"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638743350,"creation_date":1638743350,"answer_id":70239116,"question_id":70239024,"body_markdown":"`That will result multiple save functions to be called from a player. Is there better way to deal with this?`\r\n\r\nI think you are exacerbating the severity of running multiple SQL insert statements for a player. On a Minecraft server, there won&#39;t be very much load on the database at all and the fact you are using Hikari ensures that the performance impact of having these extra few queries is negligible.\r\n\r\nHowever, if you are **very sure** that the environment you are working in is incredibly performance sensitive (which for a Minecraft plugin it probably isn&#39;t) then consider running [batch SQL statements](https://www.tutorialspoint.com/java_mysql/java_mysql_batch_processing.htm) or combining updates for the same player manually into a single statement and sending that to the SQL database.","title":"Is this a correct way to struct Java DAO?","body":"<p><code>That will result multiple save functions to be called from a player. Is there better way to deal with this?</code></p>\n<p>I think you are exacerbating the severity of running multiple SQL insert statements for a player. On a Minecraft server, there won't be very much load on the database at all and the fact you are using Hikari ensures that the performance impact of having these extra few queries is negligible.</p>\n<p>However, if you are <strong>very sure</strong> that the environment you are working in is incredibly performance sensitive (which for a Minecraft plugin it probably isn't) then consider running <a href=\"https://www.tutorialspoint.com/java_mysql/java_mysql_batch_processing.htm\" rel=\"nofollow noreferrer\">batch SQL statements</a> or combining updates for the same player manually into a single statement and sending that to the SQL database.</p>\n"},{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638743491,"creation_date":1638743491,"answer_id":70239133,"question_id":70239024,"body_markdown":"For me, you should use an object that will keep all informations, and save them only when you wants. For example: `StatsPlayer`.\r\n\r\nYou have a static map : `HashMap&lt;UUID, StatsPlayer&gt;` that contains all instance of players.\r\n\r\nEach instance contains all informations like that :\r\n```java\r\nprivate HashMap&lt;StatisticsType, Double&gt; stats;\r\n```\r\nOr:\r\n```java\r\nprivate double blockBreak;\r\n```\r\n\r\nWhen creating new instance, don&#39;t forget to get informations from DB, for example :\r\n```java\r\npublic StatsPlayer(Player p) {\r\n   try {\r\n       Connection conn = HikariPoolManager.getInstance().getConnection();\r\n       PreparedStatement ps = conn.prepareStatement(&quot;SELECT * FROM statistics WHERE uuid = ?&quot;);\r\n       ps.setString(1, p.getUniqueId().toString());\r\n       ResultSet rs = ps.executeQuery();\r\n       if(rs.next()) {\r\n          // get informations from ResultSet instance\r\n       } else {\r\n          // Insert line into database\r\n       }\r\n   } catch(Exception e) {\r\n       e.printStackTrace();\r\n   }\r\n}\r\n```\r\nNow, you have to do a static getter like that :\r\n```\r\npublic static StatsPlayer getPlayer(Player p) {\r\n    synchronized(PLAYERS) {\r\n        return PLAYERS.computeIfAbsent(p, StatsPlayer::new);\r\n    }\r\n}\r\n```\r\nIn your `StatsPlayer` object, you should add method to update values, and one to save everything :\r\n```java\r\npublic void save() {\r\n   try {\r\n       Connection conn = HikariPoolManager.getInstance().getConnection();\r\n       PreparedStatement ps = conn.prepareStatement(&quot;UPDATE statistics SET block_break = ? WHERE uuid = ?&quot;);\r\n       ps.setDouble(1, getBlockBreak());\r\n       ps.setString(2, p.getUniqueId().toString());\r\n       ps.executeUpdate(); // make the update\r\n   } catch(Exception e) {\r\n       e.printStackTrace();\r\n   }\r\n}\r\n```\r\n\r\nFinally, you should save the object sometimes, for example only when they left server or when server stop","title":"Is this a correct way to struct Java DAO?","body":"<p>For me, you should use an object that will keep all informations, and save them only when you wants. For example: <code>StatsPlayer</code>.</p>\n<p>You have a static map : <code>HashMap&lt;UUID, StatsPlayer&gt;</code> that contains all instance of players.</p>\n<p>Each instance contains all informations like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private HashMap&lt;StatisticsType, Double&gt; stats;\n</code></pre>\n<p>Or:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private double blockBreak;\n</code></pre>\n<p>When creating new instance, don't forget to get informations from DB, for example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public StatsPlayer(Player p) {\n   try {\n       Connection conn = HikariPoolManager.getInstance().getConnection();\n       PreparedStatement ps = conn.prepareStatement(&quot;SELECT * FROM statistics WHERE uuid = ?&quot;);\n       ps.setString(1, p.getUniqueId().toString());\n       ResultSet rs = ps.executeQuery();\n       if(rs.next()) {\n          // get informations from ResultSet instance\n       } else {\n          // Insert line into database\n       }\n   } catch(Exception e) {\n       e.printStackTrace();\n   }\n}\n</code></pre>\n<p>Now, you have to do a static getter like that :</p>\n<pre><code>public static StatsPlayer getPlayer(Player p) {\n    synchronized(PLAYERS) {\n        return PLAYERS.computeIfAbsent(p, StatsPlayer::new);\n    }\n}\n</code></pre>\n<p>In your <code>StatsPlayer</code> object, you should add method to update values, and one to save everything :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void save() {\n   try {\n       Connection conn = HikariPoolManager.getInstance().getConnection();\n       PreparedStatement ps = conn.prepareStatement(&quot;UPDATE statistics SET block_break = ? WHERE uuid = ?&quot;);\n       ps.setDouble(1, getBlockBreak());\n       ps.setString(2, p.getUniqueId().toString());\n       ps.executeUpdate(); // make the update\n   } catch(Exception e) {\n       e.printStackTrace();\n   }\n}\n</code></pre>\n<p>Finally, you should save the object sometimes, for example only when they left server or when server stop</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638743571,"creation_date":1638743571,"answer_id":70239141,"question_id":70239024,"body_markdown":"There are very few situations where this is a single correct way to do anything; but you did mention a Data Access Object.  DAO&#39;s follow a pattern, but that pattern is a general one.  Depending on your needs the actual objects might contain more (or less) data, or be structured in to back to one (or many tables).\r\n\r\nthe DAO pattern is a class that performs all direct operations on the database.  Minimally it includes `add(Object)`, `remove(Object)`, `get(id)`, and maybe `getAll()` but it can also include `getOldest()`, `remove(id)`, and so on.\r\n\r\nWhat it should generally NOT do is expose the underlying table structure directly.  So in a sense, your approach (by exposing UUID and the stat to be updated independently) is not following the pattern.\r\n\r\n    public class PlayerStats {\r\n       // contains a UUID field, as well as other stat fields\r\n    }\r\n\r\n    public class PlayerStatsDAO {\r\n       public PlayerStatsDAO(DatabaseConnection connection) {\r\n          // store the connection and check the connection\r\n       }\r\n\r\n       public void update(PlayerStats value) {\r\n       }\r\n\r\n       public void add(PlayerStats value) {\r\n       }\r\n\r\n       public void addOrUpdate(PlayerStats value) {\r\n       }\r\n\r\n       public PlayerStats newEmptyStats() {\r\n       }\r\n\r\n       public void remove(PlayerStats value) {\r\n       }\r\n\r\n       // as well as searching methods\r\n\r\n       public PlayerStats statsForUUID(UUID uuid) {\r\n       }\r\n\r\n       public PlayerStats statsForPlayerName(String name) {\r\n       }\r\n\r\n       public PlayerStats mostBockBreaks() {\r\n       }\r\n\r\n       ... etc ...\r\n     }\r\n\r\nThe advantage of a DAO is that if you later decide to change the underlying table (or set of joined tables), you have one location to bind the existing &quot;Data Object&quot; to the new table structures. ","title":"Is this a correct way to struct Java DAO?","body":"<p>There are very few situations where this is a single correct way to do anything; but you did mention a Data Access Object.  DAO's follow a pattern, but that pattern is a general one.  Depending on your needs the actual objects might contain more (or less) data, or be structured in to back to one (or many tables).</p>\n<p>the DAO pattern is a class that performs all direct operations on the database.  Minimally it includes <code>add(Object)</code>, <code>remove(Object)</code>, <code>get(id)</code>, and maybe <code>getAll()</code> but it can also include <code>getOldest()</code>, <code>remove(id)</code>, and so on.</p>\n<p>What it should generally NOT do is expose the underlying table structure directly.  So in a sense, your approach (by exposing UUID and the stat to be updated independently) is not following the pattern.</p>\n<pre><code>public class PlayerStats {\n   // contains a UUID field, as well as other stat fields\n}\n\npublic class PlayerStatsDAO {\n   public PlayerStatsDAO(DatabaseConnection connection) {\n      // store the connection and check the connection\n   }\n\n   public void update(PlayerStats value) {\n   }\n\n   public void add(PlayerStats value) {\n   }\n\n   public void addOrUpdate(PlayerStats value) {\n   }\n\n   public PlayerStats newEmptyStats() {\n   }\n\n   public void remove(PlayerStats value) {\n   }\n\n   // as well as searching methods\n\n   public PlayerStats statsForUUID(UUID uuid) {\n   }\n\n   public PlayerStats statsForPlayerName(String name) {\n   }\n\n   public PlayerStats mostBockBreaks() {\n   }\n\n   ... etc ...\n }\n</code></pre>\n<p>The advantage of a DAO is that if you later decide to change the underlying table (or set of joined tables), you have one location to bind the existing &quot;Data Object&quot; to the new table structures.</p>\n"}],"owner":{"account_id":3672830,"reputation":3,"user_id":3059569,"display_name":"signition"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70239141,"answer_count":3,"score":-1,"last_activity_date":1638744360,"creation_date":1638742600,"question_id":70239024,"body_markdown":"I&#39;m trying to develop an statistics / achievement system in my minecraft server. \r\n\r\nI&#39;ve done some research, but still couldn&#39;t make decision well, so decided to post my very first question in stack overflow. \r\n\r\nThere are multiple types of achievements, such as block broken, crop harvested, animal killed.. and so on. Table initializer looks like this. ( I intentionally set those values as double ) \r\n\r\n```\r\n    public static void init() {\r\n        String query = &quot;CREATE TABLE IF NOT EXISTS statistic (&quot;\r\n                + &quot; uuid            VARCHAR(255) PRIMARY KEY,&quot;\r\n                + &quot; block_break     double,     crop_break      double,     ore_break       double,&quot;\r\n                + &quot; wood_break      double,     animal_kill     double,     monster_kill    double,     boss_kill       double,&quot;\r\n                + &quot; fish_natural    double,     fish_auto      double      &quot;\r\n                + &quot;)&quot;;\r\n        try {\r\n            Connection conn = HikariPoolManager.getInstance().getConnection();\r\n            PreparedStatement ps =  conn.prepareStatement(query);\r\n            ps.execute();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nand I save it back with this\r\n\r\n```\r\n    public static void save(String uuidString, StatisticsType stat, double val) {\r\n\r\n        String query= &quot;INSERT INTO statistics (uuid, {stat}) &quot;\r\n                +&quot; VALUE (?,?) ON DUPLICATE KEY UPDATE &quot;\r\n                +&quot; uuid=VALUES( uuid ), {stat}=VALUES( {stat} )&quot;\r\n                .replace(&quot;{stat}&quot;, stat.name());\r\n\r\n        try (Connection conn = HikariPoolManager.getInstance().getConnection();\r\n             PreparedStatement ps = conn.prepareStatement(query)\r\n        ){\r\n            ps.setString(1, uuidString);\r\n            ps.setDouble(2, val);\r\n            ps.execute();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nPlayerCache.java\r\n```\r\n\r\npublic class PlayerCache {\r\n\r\n    @Getter\r\n    private static final Map&lt;UUID, PlayerCache&gt; cacheMap = new HashMap&lt;&gt;();\r\n\r\n    private final UUID uuid;\r\n    @Getter\r\n    private HashMap&lt;StatisticsType, Double&gt; statistics;\r\n\r\n    @Getter\r\n    private HashSet&lt;StatisticsType&gt; changed;\r\n\r\n    public PlayerCache(UUID uuid) {\r\n        this.uuid= uuid;\r\n    }\r\n\r\n    public void init(HashMap&lt;StatisticsType,Double&gt; achievements) {\r\n        this.statistics = new HashMap&lt;&gt;();\r\n        this.changed = new HashSet&lt;&gt;();\r\n        this.statistics.putAll(achievements);\r\n    }\r\n\r\n    public void addValue(StatisticsType type, double addition) {\r\n        statistics.put(type, statistics.get(type) + addition);\r\n        changed.add(type);\r\n    }\r\n\r\n    public double getStatistic(StatisticsType type) {\r\n        return statistics.getOrDefault(type, 0.0D);\r\n    }\r\n    \r\n    public void save() {\r\n        for (StatisticsType statisticsType : changed) {\r\n            StatisticDAO.save(uuid.toString(),statisticsType, getStatistic(statisticsType));\r\n        }\r\n        changed.clear();\r\n    }\r\n\r\n\r\n    public static PlayerCache get(final UUID uuid) {\r\n        PlayerCache playerCache = cacheMap.get(uuid);\r\n\r\n        if (playerCache == null) {\r\n            playerCache = new PlayerCache(uuid);\r\n            cacheMap.put(uuid, playerCache);\r\n        }\r\n        return playerCache;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI have question on general design of programming , not fixing code itself.\r\n\r\nFor now, this is how things go. \r\nFor simplicity, let me pick two actions of statistics - break stone , and kill monster. \r\n\r\n1. player joins game, and read data , make a cache of player and put statistics information into the cache.\r\n\r\n2. player breaks stone, and it increments statistics in player cache. \r\n\r\n3. If player broke stone, it toggles a boolean flag to show he has broken stone, thus this information need to be flushed to database at some point. \r\n\r\n4. Server loops all players , and check if player has done anything. If player has done something,  it calls sql save method, and toggle boolean flag back. \r\n\r\n\r\nHowever, there are few problems I encountered this time.\r\n\r\n\r\n1. player can break stone, and kill monster in duration of writing to the database. or even more different actions. That will result multiple save functions to be called from a player. Is there better way to deal with this?\r\n\r\n2. Is my general apparoach to read and write data correct? I&#39;m pretty much using same way to do database stuff to other functionalities, but unsure if this is the good way. ","title":"Is this a correct way to struct Java DAO?","body":"<p>I'm trying to develop an statistics / achievement system in my minecraft server.</p>\n<p>I've done some research, but still couldn't make decision well, so decided to post my very first question in stack overflow.</p>\n<p>There are multiple types of achievements, such as block broken, crop harvested, animal killed.. and so on. Table initializer looks like this. ( I intentionally set those values as double )</p>\n<pre><code>    public static void init() {\n        String query = &quot;CREATE TABLE IF NOT EXISTS statistic (&quot;\n                + &quot; uuid            VARCHAR(255) PRIMARY KEY,&quot;\n                + &quot; block_break     double,     crop_break      double,     ore_break       double,&quot;\n                + &quot; wood_break      double,     animal_kill     double,     monster_kill    double,     boss_kill       double,&quot;\n                + &quot; fish_natural    double,     fish_auto      double      &quot;\n                + &quot;)&quot;;\n        try {\n            Connection conn = HikariPoolManager.getInstance().getConnection();\n            PreparedStatement ps =  conn.prepareStatement(query);\n            ps.execute();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>and I save it back with this</p>\n<pre><code>    public static void save(String uuidString, StatisticsType stat, double val) {\n\n        String query= &quot;INSERT INTO statistics (uuid, {stat}) &quot;\n                +&quot; VALUE (?,?) ON DUPLICATE KEY UPDATE &quot;\n                +&quot; uuid=VALUES( uuid ), {stat}=VALUES( {stat} )&quot;\n                .replace(&quot;{stat}&quot;, stat.name());\n\n        try (Connection conn = HikariPoolManager.getInstance().getConnection();\n             PreparedStatement ps = conn.prepareStatement(query)\n        ){\n            ps.setString(1, uuidString);\n            ps.setDouble(2, val);\n            ps.execute();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>PlayerCache.java</p>\n<pre><code>\npublic class PlayerCache {\n\n    @Getter\n    private static final Map&lt;UUID, PlayerCache&gt; cacheMap = new HashMap&lt;&gt;();\n\n    private final UUID uuid;\n    @Getter\n    private HashMap&lt;StatisticsType, Double&gt; statistics;\n\n    @Getter\n    private HashSet&lt;StatisticsType&gt; changed;\n\n    public PlayerCache(UUID uuid) {\n        this.uuid= uuid;\n    }\n\n    public void init(HashMap&lt;StatisticsType,Double&gt; achievements) {\n        this.statistics = new HashMap&lt;&gt;();\n        this.changed = new HashSet&lt;&gt;();\n        this.statistics.putAll(achievements);\n    }\n\n    public void addValue(StatisticsType type, double addition) {\n        statistics.put(type, statistics.get(type) + addition);\n        changed.add(type);\n    }\n\n    public double getStatistic(StatisticsType type) {\n        return statistics.getOrDefault(type, 0.0D);\n    }\n    \n    public void save() {\n        for (StatisticsType statisticsType : changed) {\n            StatisticDAO.save(uuid.toString(),statisticsType, getStatistic(statisticsType));\n        }\n        changed.clear();\n    }\n\n\n    public static PlayerCache get(final UUID uuid) {\n        PlayerCache playerCache = cacheMap.get(uuid);\n\n        if (playerCache == null) {\n            playerCache = new PlayerCache(uuid);\n            cacheMap.put(uuid, playerCache);\n        }\n        return playerCache;\n    }\n\n}\n</code></pre>\n<p>I have question on general design of programming , not fixing code itself.</p>\n<p>For now, this is how things go.\nFor simplicity, let me pick two actions of statistics - break stone , and kill monster.</p>\n<ol>\n<li><p>player joins game, and read data , make a cache of player and put statistics information into the cache.</p>\n</li>\n<li><p>player breaks stone, and it increments statistics in player cache.</p>\n</li>\n<li><p>If player broke stone, it toggles a boolean flag to show he has broken stone, thus this information need to be flushed to database at some point.</p>\n</li>\n<li><p>Server loops all players , and check if player has done anything. If player has done something,  it calls sql save method, and toggle boolean flag back.</p>\n</li>\n</ol>\n<p>However, there are few problems I encountered this time.</p>\n<ol>\n<li><p>player can break stone, and kill monster in duration of writing to the database. or even more different actions. That will result multiple save functions to be called from a player. Is there better way to deal with this?</p>\n</li>\n<li><p>Is my general apparoach to read and write data correct? I'm pretty much using same way to do database stuff to other functionalities, but unsure if this is the good way.</p>\n</li>\n</ol>\n"},{"tags":["java","jenkins"],"comments":[{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":1,"creation_date":1638739242,"post_id":70235621,"comment_id":124162408,"body_markdown":"Run Jenkins under Java 8 (or 11) install Java 7 as a Global Tool for [use by the jobs](https://www.jenkins.io/doc/administration/requirements/java/#executing-jobs-on-jenkins)","body":"Run Jenkins under Java 8 (or 11) install Java 7 as a Global Tool for <a href=\"https://www.jenkins.io/doc/administration/requirements/java/#executing-jobs-on-jenkins\" rel=\"nofollow noreferrer\">use by the jobs</a>"},{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":0,"creation_date":1638750545,"post_id":70235621,"comment_id":124164625,"body_markdown":"Just replace &quot;Java 14&quot; with Java 7 - [answer](https://stackoverflow.com/a/64978265/598141)","body":"Just replace &quot;Java 14&quot; with Java 7 - <a href=\"https://stackoverflow.com/a/64978265/598141\">answer</a>"},{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":0,"creation_date":1638750573,"post_id":70235621,"comment_id":124164629,"body_markdown":"Does this answer your question? [Using OpenJDK 14 in Jenkins](https://stackoverflow.com/questions/64977072/using-openjdk-14-in-jenkins)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64977072/using-openjdk-14-in-jenkins\">Using OpenJDK 14 in Jenkins</a>"}],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638744040,"creation_date":1638744040,"answer_id":70239182,"question_id":70235621,"body_markdown":"The workaround is to download the Jenkins source code and rewrite it to avoid using any Java 8 features (which it uses, that&#39;s why it needs Java 8).  Then you can recompile it to Java 7 and run it on your Java 7 virtual machine.\r\n\r\nOr you can just update your Java 7 JVM to Java 8, because Java 7 went end-of-life in 2015.  \r\n\r\nNow if the code Jenkins is managing is old and requires Java 7, the setup the jobs within Jenkins to use Java 7 but allow Jenkins to use a newer JVM.\r\n\r\n","title":"Is there any workaround to run Java 7 in latest Jenkins (version 2.303.3)?","body":"<p>The workaround is to download the Jenkins source code and rewrite it to avoid using any Java 8 features (which it uses, that's why it needs Java 8).  Then you can recompile it to Java 7 and run it on your Java 7 virtual machine.</p>\n<p>Or you can just update your Java 7 JVM to Java 8, because Java 7 went end-of-life in 2015.</p>\n<p>Now if the code Jenkins is managing is old and requires Java 7, the setup the jobs within Jenkins to use Java 7 but allow Jenkins to use a newer JVM.</p>\n"}],"owner":{"account_id":22132857,"reputation":9,"user_id":16384139,"display_name":"ramesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1638744040,"creation_date":1638716937,"question_id":70235621,"body_markdown":"Since the latest Jenkins will not support Java 7 is there any other way to run builds that have older java versions like Java 7?","title":"Is there any workaround to run Java 7 in latest Jenkins (version 2.303.3)?","body":"<p>Since the latest Jenkins will not support Java 7 is there any other way to run builds that have older java versions like Java 7?</p>\n"},{"tags":["java","eclipse","swing","jframe","windowbuilder"],"answers":[{"tags":[],"owner":{"account_id":19949877,"reputation":83,"user_id":14619759,"display_name":"codingClown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619685464,"creation_date":1619685464,"answer_id":67313850,"question_id":67312073,"body_markdown":"Either your Java Class File does not extend a JFrame, or you do not have a JComponent.\r\nTo fix this, make sure that your Java Class File deals with JFram, JPanel, or JComponent. To make such class, create a JComponent class using this.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MrLWf.png\r\nOtherwise, reinstall your Windows Builder.","title":"Design Tab is Blank in Eclipse IDE","body":"<p>Either your Java Class File does not extend a JFrame, or you do not have a JComponent.\nTo fix this, make sure that your Java Class File deals with JFram, JPanel, or JComponent. To make such class, create a JComponent class using this.</p>\n<p><a href=\"https://i.stack.imgur.com/MrLWf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MrLWf.png\" alt=\"enter image description here\" /></a></p>\n<p>Otherwise, reinstall your Windows Builder.</p>\n"},{"tags":[],"owner":{"account_id":12517983,"reputation":142,"user_id":9950527,"display_name":"erfoon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638743891,"creation_date":1638743891,"answer_id":70239172,"question_id":67312073,"body_markdown":"I faced the same issue, it was apparently a bug from WindowBuilder. Is fixed in the upcoming version [1.9.8][1]. You can use it if you want.\r\n\r\nFound details here:\r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=572210\r\nhttps://github.com/eclipse/windowbuilder/issues/45\r\n\r\n\r\n  [1]: https://download.eclipse.org/windowbuilder/lastgoodbuild/","title":"Design Tab is Blank in Eclipse IDE","body":"<p>I faced the same issue, it was apparently a bug from WindowBuilder. Is fixed in the upcoming version <a href=\"https://download.eclipse.org/windowbuilder/lastgoodbuild/\" rel=\"nofollow noreferrer\">1.9.8</a>. You can use it if you want.</p>\n<p>Found details here:\n<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=572210\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=572210</a>\n<a href=\"https://github.com/eclipse/windowbuilder/issues/45\" rel=\"nofollow noreferrer\">https://github.com/eclipse/windowbuilder/issues/45</a></p>\n"}],"owner":{"account_id":18785720,"reputation":101,"user_id":13699359,"display_name":"Jay Sabnis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638743891,"creation_date":1619677841,"question_id":67312073,"body_markdown":"I recently bought Macbook with an M1 processor for programming. I have installed Eclipse IDE for JAVA Programming. After Installing Window BUilder and the required Softwares from Eclipse Market place for java GUI, My design Tab is still blank. The same method worked on my Windows desktop but not working Here What should I do? So it works\r\n\r\n\r\n[![https://i.stack.imgur.com/tA4JF.jpg][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/tA4JF.jpg","title":"Design Tab is Blank in Eclipse IDE","body":"<p>I recently bought Macbook with an M1 processor for programming. I have installed Eclipse IDE for JAVA Programming. After Installing Window BUilder and the required Softwares from Eclipse Market place for java GUI, My design Tab is still blank. The same method worked on my Windows desktop but not working Here What should I do? So it works</p>\n<p><a href=\"https://i.stack.imgur.com/tA4JF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tA4JF.jpg\" alt=\"https://i.stack.imgur.com/tA4JF.jpg\" /></a></p>\n"},{"tags":["java","android","kotlin","adb"],"answers":[{"tags":[],"owner":{"account_id":4470307,"reputation":6364,"user_id":3636806,"accept_rate":81,"display_name":"EAK TEAM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638743029,"creation_date":1638743029,"answer_id":70239076,"question_id":70238597,"body_markdown":"Since Android 11 (SDK 30) :\r\n\r\n&gt; In addition, non-privileged apps can&#39;t access the device’s MAC\r\n&gt; address; only network interfaces with an IP address are visible. This\r\n&gt; impacts the getifaddrs() and NetworkInterface.getHardwareAddress()\r\n&gt; methods, as well as sending RTM_GETLINK Netlink messages.\r\n&gt; \r\n&gt; The following is a list of the ways that apps are affected by this\r\n&gt; change:\r\n&gt; \r\n&gt; NetworkInterface.getHardwareAddress() returns null for every\r\n&gt; interface. \r\n\r\n&gt; Apps cannot use the bind() function on NETLINK_ROUTE\r\n&gt; sockets. \r\n\r\n&gt; **The ip command does not return information about interfaces.**\r\n\r\n&gt; Apps cannot send RTM_GETLINK messages. Note that most developers\r\n&gt; should use the higher-level APIs of ConnectivityManager rather than\r\n&gt; lower-level APIs like NetworkInterface, getifaddrs(), or Netlink\r\n&gt; sockets. For example, an app that needs up-to-date information on the\r\n&gt; current routes can get this information by listening for network\r\n&gt; changes using ConnectivityManager.registerNetworkCallback() and\r\n&gt; calling the network&#39;s associated LinkProperties.getRoutes().","title":"Android show no output from Inputstream reader and Procees return exit code 1","body":"<p>Since Android 11 (SDK 30) :</p>\n<blockquote>\n<p>In addition, non-privileged apps can't access the device’s MAC\naddress; only network interfaces with an IP address are visible. This\nimpacts the getifaddrs() and NetworkInterface.getHardwareAddress()\nmethods, as well as sending RTM_GETLINK Netlink messages.</p>\n<p>The following is a list of the ways that apps are affected by this\nchange:</p>\n<p>NetworkInterface.getHardwareAddress() returns null for every\ninterface.</p>\n</blockquote>\n<blockquote>\n<p>Apps cannot use the bind() function on NETLINK_ROUTE\nsockets.</p>\n</blockquote>\n<blockquote>\n<p><strong>The ip command does not return information about interfaces.</strong></p>\n</blockquote>\n<blockquote>\n<p>Apps cannot send RTM_GETLINK messages. Note that most developers\nshould use the higher-level APIs of ConnectivityManager rather than\nlower-level APIs like NetworkInterface, getifaddrs(), or Netlink\nsockets. For example, an app that needs up-to-date information on the\ncurrent routes can get this information by listening for network\nchanges using ConnectivityManager.registerNetworkCallback() and\ncalling the network's associated LinkProperties.getRoutes().</p>\n</blockquote>\n"}],"owner":{"account_id":4470307,"reputation":6364,"user_id":3636806,"accept_rate":81,"display_name":"EAK TEAM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638743029,"creation_date":1638738841,"question_id":70238597,"body_markdown":"i am trying to run a process and to read it&#39;s data from InputStreamReader, but it fails in a weird way.\r\n\r\nThe executable is &quot;ip neigh show&quot;\r\n\r\nWhen trying to run the command from connected device via adb shell the command executes OK and also displays data correctly.\r\n\r\nBut when trying to execute it from kotlin code it exit with exit code 1 and InputStreamReader show empty data also.\r\n\r\nThis is how i am trying it : \r\n\r\n    val p = Runtime.getRuntime().exec(&quot;ip neigh show&quot;)\r\n    InputStreamReader(p!!.inputStream).forEachLine fori@{ line -&gt;\r\n                        val teDhenat = line.split(&quot;\\\\s+&quot;.toRegex())\r\n                        if (teDhenat[0] == ip) {\r\n                            if (teDhenat.size &lt; 4) {\r\n                                return@fori\r\n                            } else {\r\n                                uGjet = true\r\n                                macAddress = teDhenat[4]\r\n                                return@fori\r\n                            }\r\n                        }\r\n                    }\r\n\r\nThe problem seems to happen in that line : `val p = Runtime.getRuntime().exec(&quot;ip neigh show&quot;)` but i don&#39;t understand why.\r\n\r\nAlso tried with `val p = Runtime.getRuntime().exec(&quot;/system/bin/ip neigh show&quot;)` and it&#39;s still the same.\r\n\r\nAlso i have tried using `ProcessBuilder()` and it doesn&#39;t work too.\r\n\r\nThe Compile and Target SDK is 31\r\nThe phone is Xiaomi running Android 11 (SDK 30)\r\n\r\nPS: Also i am using same logic for other executables and they work very fine like &quot;ping&quot;, &quot;top&quot; etc...","title":"Android show no output from Inputstream reader and Procees return exit code 1","body":"<p>i am trying to run a process and to read it's data from InputStreamReader, but it fails in a weird way.</p>\n<p>The executable is &quot;ip neigh show&quot;</p>\n<p>When trying to run the command from connected device via adb shell the command executes OK and also displays data correctly.</p>\n<p>But when trying to execute it from kotlin code it exit with exit code 1 and InputStreamReader show empty data also.</p>\n<p>This is how i am trying it :</p>\n<pre><code>val p = Runtime.getRuntime().exec(&quot;ip neigh show&quot;)\nInputStreamReader(p!!.inputStream).forEachLine fori@{ line -&gt;\n                    val teDhenat = line.split(&quot;\\\\s+&quot;.toRegex())\n                    if (teDhenat[0] == ip) {\n                        if (teDhenat.size &lt; 4) {\n                            return@fori\n                        } else {\n                            uGjet = true\n                            macAddress = teDhenat[4]\n                            return@fori\n                        }\n                    }\n                }\n</code></pre>\n<p>The problem seems to happen in that line : <code>val p = Runtime.getRuntime().exec(&quot;ip neigh show&quot;)</code> but i don't understand why.</p>\n<p>Also tried with <code>val p = Runtime.getRuntime().exec(&quot;/system/bin/ip neigh show&quot;)</code> and it's still the same.</p>\n<p>Also i have tried using <code>ProcessBuilder()</code> and it doesn't work too.</p>\n<p>The Compile and Target SDK is 31\nThe phone is Xiaomi running Android 11 (SDK 30)</p>\n<p>PS: Also i am using same logic for other executables and they work very fine like &quot;ping&quot;, &quot;top&quot; etc...</p>\n"},{"tags":["java","connection","derby"],"comments":[{"owner":{"account_id":278995,"reputation":2459,"user_id":2553194,"display_name":"RubioRic"},"score":0,"creation_date":1458821422,"post_id":36199774,"comment_id":60033013,"body_markdown":"Maybe this helps http://stackoverflow.com/questions/1911253/the-infamous-java-sql-sqlexception-no-suitable-driver-found","body":"Maybe this helps <a href=\"http://stackoverflow.com/questions/1911253/the-infamous-java-sql-sqlexception-no-suitable-driver-found\" title=\"the infamous java sql sqlexception no suitable driver found\">stackoverflow.com/questions/1911253/&hellip;</a>"},{"owner":{"account_id":278995,"reputation":2459,"user_id":2553194,"display_name":"RubioRic"},"score":0,"creation_date":1458821563,"post_id":36199774,"comment_id":60033091,"body_markdown":"If you are not using any server, maybe you just have to add the derby jar to your classpath.","body":"If you are not using any server, maybe you just have to add the derby jar to your classpath."},{"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"score":0,"creation_date":1458826933,"post_id":36199774,"comment_id":60036577,"body_markdown":"Specifically, for the JDBC Connection URL `jdbc:derby://host:port/database`, you need `derbyclient.jar` in your classpath. and registered with `DriverManager`","body":"Specifically, for the JDBC Connection URL <code>jdbc:derby:&#47;&#47;host:port&#47;database</code>, you need <code>derbyclient.jar</code> in your classpath. and registered with <code>DriverManager</code>"}],"answers":[{"tags":[],"owner":{"account_id":7236580,"reputation":16350,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458826980,"creation_date":1458822324,"answer_id":36200168,"question_id":36199774,"body_markdown":"You must add the derby jdbc driver to your classpath (from `derbyclient.jar`, since this is the `ClientDriver`), then use this instruction to load the driver :\r\n      \r\n    Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);","title":"Derby db connectivity problems","body":"<p>You must add the derby jdbc driver to your classpath (from <code>derbyclient.jar</code>, since this is the <code>ClientDriver</code>), then use this instruction to load the driver :</p>\n\n<pre><code>Class.forName(\"org.apache.derby.jdbc.ClientDriver\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20801564,"reputation":11,"user_id":15277474,"display_name":"Sriesh Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638743006,"creation_date":1638740268,"answer_id":70238771,"question_id":36199774,"body_markdown":"So I encountered this error and it was quite an irritating and hectic task to resolve this. But in the end, I managed to find a perfect video that made me install derby from the start and guided me perfectly on how to install it. However, there is one more step after the video.\r\n\r\nWatch this video if you have set up JavaFX packages and are able to run the program normally, but facing\r\n&quot;java.sql.SQLException: No suitable driver found for jdbc:derby://localhost:1527/DBNAME;create=true&quot; issue when trying to run with the database.\r\n\r\nLink to the tutorial -&gt; https://www.youtube.com/watch?v=OKiBsWbgrMw\r\n\r\nNow after this is set up you will now be able to start/stop the database (via the services tab) and will be able to connect with the DB. But the issue will still persist in trying to edit the DB.\r\n\r\nTo rectify this, follow the steps -&gt;\r\n\r\nRight click on project ---&gt; Properties ---&gt; Libraries ---&gt; Click on &#39;+&#39; in Classpath ---&gt; Add jar/folder ---&gt; Go to the lib folder inside the derby and select derbyclient.jar\r\n\r\nVERSIONS\r\n\r\nJAVA - 17.0.1, Netbeans - 12.6\r\n","title":"Derby db connectivity problems","body":"<p>So I encountered this error and it was quite an irritating and hectic task to resolve this. But in the end, I managed to find a perfect video that made me install derby from the start and guided me perfectly on how to install it. However, there is one more step after the video.</p>\n<p>Watch this video if you have set up JavaFX packages and are able to run the program normally, but facing\n&quot;java.sql.SQLException: No suitable driver found for jdbc:derby://localhost:1527/DBNAME;create=true&quot; issue when trying to run with the database.</p>\n<p>Link to the tutorial -&gt; <a href=\"https://www.youtube.com/watch?v=OKiBsWbgrMw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=OKiBsWbgrMw</a></p>\n<p>Now after this is set up you will now be able to start/stop the database (via the services tab) and will be able to connect with the DB. But the issue will still persist in trying to edit the DB.</p>\n<p>To rectify this, follow the steps -&gt;</p>\n<p>Right click on project ---&gt; Properties ---&gt; Libraries ---&gt; Click on '+' in Classpath ---&gt; Add jar/folder ---&gt; Go to the lib folder inside the derby and select derbyclient.jar</p>\n<p>VERSIONS</p>\n<p>JAVA - 17.0.1, Netbeans - 12.6</p>\n"}],"owner":{"account_id":7808150,"reputation":11,"user_id":5905321,"display_name":"Cool Hand Luke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638743006,"creation_date":1458821104,"question_id":36199774,"body_markdown":"I receive the following error msg when attempting to connect to a derby network server: \r\n\r\njava.sql.SQLException: No suitable driver found for jdbc:derby://localhost/studentdb;create=true\r\n\r\nDerby is properly installed and all environment variables set. I am able to  start the derby NetworkServerControl from a Windows command prompt with the following command:\r\n\r\njava org.apache.derby.drda.NetworkServerControl start -h localhost\r\n\r\n,and I can do this from any location within my system&#39;s directory tree.\r\n\r\nI can start the derby ij client from within a Windows command prompt with the command:\r\n\r\njava org.apache.derby.tools.ij\r\n\r\n,again, from any location within my system&#39;s directory tree.\r\n\r\nBut the code snippet below is unable to make this connection:\r\n\r\n        public static void main(String[] args) {\r\n\t    Connection conn = null;\r\n\r\n            String url = &quot;jdbc:derby://localhost/studentdb;create=true&quot;;\r\n\r\n\t    //the error happens here, the program executes no further\r\n            conn = DriverManager.getConnection(url,null);\r\n\r\n            Statement stmt = conn.createStatement();\r\n\r\n\t}\r\n\r\nPlacing the port value in the url string makes no difference. \r\nAny suggestions would be much appreciated.\r\n\r\n","title":"Derby db connectivity problems","body":"<p>I receive the following error msg when attempting to connect to a derby network server: </p>\n\n<p>java.sql.SQLException: No suitable driver found for jdbc:derby://localhost/studentdb;create=true</p>\n\n<p>Derby is properly installed and all environment variables set. I am able to  start the derby NetworkServerControl from a Windows command prompt with the following command:</p>\n\n<p>java org.apache.derby.drda.NetworkServerControl start -h localhost</p>\n\n<p>,and I can do this from any location within my system's directory tree.</p>\n\n<p>I can start the derby ij client from within a Windows command prompt with the command:</p>\n\n<p>java org.apache.derby.tools.ij</p>\n\n<p>,again, from any location within my system's directory tree.</p>\n\n<p>But the code snippet below is unable to make this connection:</p>\n\n<pre><code>    public static void main(String[] args) {\n    Connection conn = null;\n\n        String url = \"jdbc:derby://localhost/studentdb;create=true\";\n\n    //the error happens here, the program executes no further\n        conn = DriverManager.getConnection(url,null);\n\n        Statement stmt = conn.createStatement();\n\n}\n</code></pre>\n\n<p>Placing the port value in the url string makes no difference. \nAny suggestions would be much appreciated.</p>\n"},{"tags":["java","opengl","lwjgl","alpha","antialiasing"],"answers":[{"tags":[],"owner":{"account_id":13081432,"reputation":793,"user_id":9451867,"display_name":"Doga Oruc"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638047276,"creation_date":1620748984,"answer_id":67490430,"question_id":67490373,"body_markdown":"Turn on AA in your GPU&#39;s control panel.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAA OFF:\r\n[![enter image description here][2]][2]\r\n\r\nAA ON:\r\n[![enter image description here][3]][3]\r\n\r\nEDIT: OP said they have an AMD card. [Here][4]\r\nEDIT 2: Corrected the answer and added images.\r\n\r\nP.S. `window.samples` is the wrapper code I wrote and use for GLFW/LWJGL 3.2.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5fyUp.png\r\n  [2]: https://i.stack.imgur.com/H7Y9e.png\r\n  [3]: https://i.stack.imgur.com/c4Yt0.png\r\n  [4]: https://www.amd.com/en/support/kb/faq/dh-012#faq-Anti-Aliasing-Method","title":"Why is my LWJGL alpha_anti_aliasing not working?","body":"<p>Turn on AA in your GPU's control panel.</p>\n<p><a href=\"https://i.stack.imgur.com/5fyUp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5fyUp.png\" alt=\"enter image description here\" /></a></p>\n<p>AA OFF:\n<a href=\"https://i.stack.imgur.com/H7Y9e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H7Y9e.png\" alt=\"enter image description here\" /></a></p>\n<p>AA ON:\n<a href=\"https://i.stack.imgur.com/c4Yt0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c4Yt0.png\" alt=\"enter image description here\" /></a></p>\n<p>EDIT: OP said they have an AMD card. <a href=\"https://www.amd.com/en/support/kb/faq/dh-012#faq-Anti-Aliasing-Method\" rel=\"nofollow noreferrer\">Here</a>\nEDIT 2: Corrected the answer and added images.</p>\n<p>P.S. <code>window.samples</code> is the wrapper code I wrote and use for GLFW/LWJGL 3.2.</p>\n"}],"owner":{"account_id":21317358,"reputation":11,"user_id":15691013,"display_name":"Mark Blace"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638742410,"creation_date":1620748776,"question_id":67490373,"body_markdown":"I just wrote some code with LWJGL and when I start my program now, it just outputs a square with rounded edges (The round edges are created in a shader, not by a texture). This square has a lot of aliasing around those edges and I would like to remove it. I believe, the common way to do this in LWJGL is just to add `glfwWindowHint(GLFW_SAMPLES, 8);` to the window hints and then call `glEnable(GL_MULTISAMPLE);`. The edges are rounded because of their alpha values (not because they have multiple vertices), I also have to call `glEnable(GL_SAMPLE_ALPHA_TO_COVERAGE)` in order to enable OpenGL alpha Anti-Aliasing. But for some reason this does not work, only the alpha blending is fine but the alpha AA is not activated. This is the window creation code:\r\n\r\n    private void init() {\r\n\t\tGLFWErrorCallback.createPrint(System.err).set();\r\n\t\tif (!glfwInit())\r\n            throw new IllegalStateException(&quot;Unable to initialize GLFW&quot;);\r\n\r\n        glfwDefaultWindowHints();\r\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\r\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE);\r\n        glfwWindowHint(GLFW_DECORATED, GLFW_FALSE);\r\n        glfwWindowHint(GLFW_SAMPLES, 8);\r\n        \r\n        //glfwWindowHint(GLFW_TRANSPARENT_FRAMEBUFFER, GLFW_TRUE);\r\n        \r\n        window = glfwCreateWindow(width, height,title,NULL,NULL);\r\n        \r\n        if(window == NULL) {\r\n        \tthrow new RuntimeException(&quot;Failed to create the GLFW window&quot;);\r\n        }\r\n        \r\n        glfwSetKeyCallback(window, (window,key,scancode,action,mods) -&gt; {\r\n        \tkeyPress(window,key,scancode,action,mods);\r\n        });\r\n        glfwSetCursorPosCallback(window, (window,xPos,yPos) -&gt; {\r\n        \tmousePos(window,xPos,yPos);\r\n        });\r\n        glfwSetMouseButtonCallback(window, (window,button,action,mods) -&gt; {\r\n        \tmouseClick(window,button,action,mods);\r\n        });\r\n        \r\n        glfwSetWindowSizeCallback(window, (window, width, height) -&gt; {\r\n        \tglViewport(0, 0,width, height);\r\n        });\r\n        \r\n        try ( MemoryStack stack = stackPush() ) {\r\n            IntBuffer pWidth = stack.mallocInt(1);\r\n            IntBuffer pHeight = stack.mallocInt(1);\r\n            glfwGetWindowSize(window, pWidth, pHeight);\r\n            GLFWVidMode vidmode = glfwGetVideoMode(glfwGetPrimaryMonitor());\r\n            glfwSetWindowPos(\r\n                    window,\r\n                    (vidmode.width() - pWidth.get(0)) / 2,\r\n                    (vidmode.height() - pHeight.get(0)) / 2\r\n            );\r\n        }\r\n        \r\n        glfwMakeContextCurrent(window);\r\n        glfwSwapInterval(1);\r\n        glfwShowWindow(window);\r\n        GL.createCapabilities();\r\n        \r\n        glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\r\n        glEnable(GL_BLEND);  \r\n        glEnable(GL_MULTISAMPLE); \r\n  \r\n        \r\n        try {\r\n\t\t\tinitCallback.invoke(this);\r\n\t\t} catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\r\n\t\t\tSystem.err.println(&quot;Incompatible Method for initCallback&quot;);\r\n\t\t}\r\n\t}\r\n\r\nDoes anyone have a idea why this is not working?","title":"Why is my LWJGL alpha_anti_aliasing not working?","body":"<p>I just wrote some code with LWJGL and when I start my program now, it just outputs a square with rounded edges (The round edges are created in a shader, not by a texture). This square has a lot of aliasing around those edges and I would like to remove it. I believe, the common way to do this in LWJGL is just to add <code>glfwWindowHint(GLFW_SAMPLES, 8);</code> to the window hints and then call <code>glEnable(GL_MULTISAMPLE);</code>. The edges are rounded because of their alpha values (not because they have multiple vertices), I also have to call <code>glEnable(GL_SAMPLE_ALPHA_TO_COVERAGE)</code> in order to enable OpenGL alpha Anti-Aliasing. But for some reason this does not work, only the alpha blending is fine but the alpha AA is not activated. This is the window creation code:</p>\n<pre><code>private void init() {\n    GLFWErrorCallback.createPrint(System.err).set();\n    if (!glfwInit())\n        throw new IllegalStateException(&quot;Unable to initialize GLFW&quot;);\n\n    glfwDefaultWindowHints();\n    glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\n    glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE);\n    glfwWindowHint(GLFW_DECORATED, GLFW_FALSE);\n    glfwWindowHint(GLFW_SAMPLES, 8);\n    \n    //glfwWindowHint(GLFW_TRANSPARENT_FRAMEBUFFER, GLFW_TRUE);\n    \n    window = glfwCreateWindow(width, height,title,NULL,NULL);\n    \n    if(window == NULL) {\n        throw new RuntimeException(&quot;Failed to create the GLFW window&quot;);\n    }\n    \n    glfwSetKeyCallback(window, (window,key,scancode,action,mods) -&gt; {\n        keyPress(window,key,scancode,action,mods);\n    });\n    glfwSetCursorPosCallback(window, (window,xPos,yPos) -&gt; {\n        mousePos(window,xPos,yPos);\n    });\n    glfwSetMouseButtonCallback(window, (window,button,action,mods) -&gt; {\n        mouseClick(window,button,action,mods);\n    });\n    \n    glfwSetWindowSizeCallback(window, (window, width, height) -&gt; {\n        glViewport(0, 0,width, height);\n    });\n    \n    try ( MemoryStack stack = stackPush() ) {\n        IntBuffer pWidth = stack.mallocInt(1);\n        IntBuffer pHeight = stack.mallocInt(1);\n        glfwGetWindowSize(window, pWidth, pHeight);\n        GLFWVidMode vidmode = glfwGetVideoMode(glfwGetPrimaryMonitor());\n        glfwSetWindowPos(\n                window,\n                (vidmode.width() - pWidth.get(0)) / 2,\n                (vidmode.height() - pHeight.get(0)) / 2\n        );\n    }\n    \n    glfwMakeContextCurrent(window);\n    glfwSwapInterval(1);\n    glfwShowWindow(window);\n    GL.createCapabilities();\n    \n    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\n    glEnable(GL_BLEND);  \n    glEnable(GL_MULTISAMPLE); \n\n    \n    try {\n        initCallback.invoke(this);\n    } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\n        System.err.println(&quot;Incompatible Method for initCallback&quot;);\n    }\n}\n</code></pre>\n<p>Does anyone have a idea why this is not working?</p>\n"},{"tags":["java","kotlin","stack-overflow"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":3,"creation_date":1638742997,"post_id":70238988,"comment_id":124163336,"body_markdown":"The `contactPoints` getter calls itself by referencing `contactPoints` so it is infinitely calling itself recursively.","body":"The <code>contactPoints</code> getter calls itself by referencing <code>contactPoints</code> so it is infinitely calling itself recursively."},{"owner":{"account_id":7996591,"reputation":43,"user_id":6914417,"display_name":"Kushagra Kumar"},"score":0,"creation_date":1638760952,"post_id":70238988,"comment_id":124166157,"body_markdown":"@Tenfour04 are you referencing to `mainSubscriber.contactPoints = contactPoints`?","body":"@Tenfour04 are you referencing to <code>mainSubscriber.contactPoints = contactPoints</code>?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1638762561,"post_id":70238988,"comment_id":124166401,"body_markdown":"No I’m talking about the code inside your getter for `contactPoints`. Look at its last three lines.","body":"No I’m talking about the code inside your getter for <code>contactPoints</code>. Look at its last three lines."}],"owner":{"account_id":7996591,"reputation":43,"user_id":6914417,"display_name":"Kushagra Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1638742272,"creation_date":1638742272,"question_id":70238988,"body_markdown":"I am trying to do mapping between the properties of multiple data classes (as shown below) but getting `java.lang.StackOverflowError: stack size 8MB`:\r\n\r\n    2021-12-04 00:37:22.801 com.abcE/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.sxm.nissan.connect.mx, PID: 15025\r\n        java.lang.StackOverflowError: stack size 8MB\r\n            at java.util.Arrays.copyOf(Arrays.java:3109)\r\n            at java.util.ArrayList.grow(ArrayList.java:275)\r\n            at java.util.ArrayList.ensureExplicitCapacity(ArrayList.java:249)\r\n            at java.util.ArrayList.ensureCapacityInternal(ArrayList.java:241)\r\n            at java.util.ArrayList.add(ArrayList.java:467)\r\n            at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:59)\r\n            at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\r\n            at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\r\n    \r\n    2021-12-04 00:37:22.802 com.abcI/zygote: Background concurrent copying GC freed 1562(103KB) AllocSpace objects, 0(0B) LOS objects, 8% free, 68MB/74MB, paused 538us total 511.886ms\r\n    2021-12-04 00:37:22.804 com.abcE/AndroidRuntime:     at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\r\n            at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\r\n    2021-12-04 00:37:23.178 com.abcI/zygote: Background concurrent copying GC freed 678273(35MB) AllocSpace objects, 1(1344KB) LOS objects, 10% free, 53MB/59MB, paused 486us total 339.741ms\r\n    2021-12-04 00:37:23.937 com.abcI/chatty: uid=10142(u0_a142) com.abcidentical 5303 lines\r\n    2021-12-04 00:37:23.937 com.abcE/AndroidRuntime:     at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\r\n            at  com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\r\n    2021-12-04 00:37:23.937 com.abcE/AndroidRuntime:     at com.abc.UserDetailResponse.getMainSubscriber(UserDetailResponse.kt:86)\r\n            at com.abc.presenter.onUserDetailSuccess(AccountDetailPresenter.java:282)\r\n            at com.abc.model.UserDetailServiceImpl.handleResponse(UserDetailServiceImpl.kt:50)\r\n            at com.abc.model.UserDetailServiceImpl.handleResponse(UserDetailServiceImpl.kt:20)\r\n            at com.sxm.connect.shared.model.util.SXMTelematicsService$1.success(SXMTelematicsService.java:62)\r\n            at retrofit.CallbackRunnable$1.run(CallbackRunnable.java:45)\r\n            at android.os.Handler.handleCallback(Handler.java:789)\r\n            at android.os.Handler.dispatchMessage(Handler.java:98)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n\r\nHere are the files:\r\n\r\n **UserDetailResponse.kt**\r\n\r\n    data class UserInfoResponse(\r\n            val id: String,\r\n            val accountType: String,\r\n            val alternatePhone: String,\r\n            val alternatePhoneType: String,\r\n            val billingCity: String,\r\n            val billingCountry: String,\r\n            val billingId: String,\r\n            val billingPostalAddress1: String,\r\n            val billingPostalAddress2: String,\r\n            val billingPostalCode: String,\r\n            val billingStateProvince: String,\r\n            val currency: String,\r\n            val effectiveRoles: List&lt;EffectiveRole&gt;,\r\n            val givenName: String,\r\n            val mailingCity: String,\r\n            val mailingCountry: String,\r\n            val mailingPostalAddress1: String,\r\n            val mailingPostalAddress2: String,\r\n            val mailingPostalCode: String,\r\n            val mailingStateProvince: String,\r\n            val primaryPhone: String,\r\n            val primaryPhoneType: String,\r\n            val secondaryPhone: String,\r\n            val secondaryPhoneType: String,\r\n            val suffix: String,\r\n            val surname: String,\r\n            val userName: String,\r\n            val vehicles: List&lt;Vehicle&gt;,\r\n    ) {\r\n            val contactPoints: ContactPoints\r\n                    get() = run {\r\n                            var address = Address()\r\n                            val addressList = arrayListOf&lt;Address&gt;()\r\n                            address.id = id\r\n                            address.street = billingPostalAddress1\r\n                            address.addressLine1 = billingPostalAddress1\r\n                            address.city = billingCity\r\n                            address.state = billingStateProvince\r\n                            address.postalCode = billingPostalCode\r\n                            address.country = billingCountry\r\n                            addressList.add(address)\r\n                            address = Address()\r\n                            address.id = id\r\n                            address.street = mailingPostalAddress1\r\n                            address.city = mailingCity\r\n                            address.state = mailingStateProvince\r\n                            address.postalCode = mailingPostalCode\r\n                            address.country = mailingCountry\r\n                            addressList.add(address)\r\n                            contactPoints.addresses = addressList\r\n    \r\n                            var phone = Phone()\r\n                            val phoneList = arrayListOf&lt;Phone&gt;()\r\n                            phone.value = primaryPhone\r\n                            phoneList.add(phone)\r\n                            phone = Phone()\r\n                            phone.value = primaryPhone\r\n                            phoneList.add(phone)\r\n                            contactPoints.phones = phoneList\r\n                            contactPoints\r\n                    }\r\n    \r\n            val mainSubscriber: MainSubscriber\r\n                    get() = run {\r\n                            mainSubscriber.firstName = givenName\r\n                            mainSubscriber.lastName = surname\r\n                            mainSubscriber.contactPoints = contactPoints\r\n                            mainSubscriber\r\n                    }\r\n    }\r\n\r\n **ContactPoints.java**\r\n\r\n    public class ContactPoints implements Parcelable {\r\n      private List&lt;Phone&gt; phones = null;\r\n      private List&lt;Email&gt; emails = null;\r\n      private List&lt;Address&gt; addresses = null;\r\n    \r\n      public List&lt;Phone&gt; getPhones() {\r\n        return phones;\r\n      }\r\n    \r\n      public void setPhones(List&lt;Phone&gt; phones) {\r\n        this.phones = phones;\r\n      }\r\n    \r\n      public List&lt;Email&gt; getEmails() {\r\n        return emails;\r\n      }\r\n    \r\n      public void setEmails(List&lt;Email&gt; emails) {\r\n        this.emails = emails;\r\n      }\r\n    \r\n      public List&lt;Address&gt; getAddresses() {\r\n        return addresses;\r\n      }\r\n    \r\n      public void setAddresses(List&lt;Address&gt; addresses) {\r\n        this.addresses = addresses;\r\n      }\r\n    }\r\n\r\n **Address.java**\r\n\r\n    public class Address implements Parcelable {\r\n\r\n      private String id;\r\n  \r\n      private String street;\r\n   \r\n      private String name;\r\n \r\n      private String state;\r\n \r\n      private String addressLine2;\r\n\r\n      private String country;\r\n\r\n      private String city;\r\n    \r\n      private String region;\r\n\r\n      private String addressLine1;\r\n\r\n      public void setPostalCode(String postalCode) {\r\n        this.postalCode = postalCode;\r\n      }\r\n\r\n      public void setSubRegion(String subRegion) {\r\n        this.subRegion = subRegion;\r\n      }\r\n  \r\n      public void setStreet(String street) {\r\n        this.street = street;\r\n      }\r\n\r\n      public void setState(String state) {\r\n        this.state = state;\r\n      }\r\n    \r\n      public void setAddressLine2(String addressLine2) {\r\n        this.addressLine2 = addressLine2;\r\n      }\r\n\r\n      public void setCountry(String country) {\r\n        this.country = country;\r\n      }\r\n    \r\n      public void setCity(String city) {\r\n        this.city = city;\r\n      }\r\n    \r\n    \r\n      public void setId(String id) {\r\n        this.id = id;\r\n      }\r\n    \r\n    \r\n      public void setName(String name) {\r\n        this.name = name;\r\n      }\r\n    \r\n    \r\n      public void setType(String type) {\r\n        this.type = type;\r\n      }\r\n    \r\n    \r\n    \r\n      public String getId() {\r\n        return id;\r\n      }\r\n    \r\n    \r\n    \r\n      public String getState() {\r\n        return state;\r\n      }\r\n    \r\n    \r\n      public String getType() {\r\n        return type;\r\n      }\r\n    \r\n    \r\n      public String getAddressLine2() {\r\n        return addressLine2;\r\n      }\r\n    \r\n    \r\n    \r\n      public String getCity() {\r\n        return city;\r\n      }\r\n    \r\n    \r\n    \r\n      public String getCountry() {\r\n        return country;\r\n      }\r\n    \r\n      public String getRegion() {\r\n        return region;\r\n      }\r\n    \r\n      public void setRegion(String region) {\r\n        this.region = region;\r\n      }\r\n    \r\n      public String getAddressLine1() {\r\n        return addressLine1;\r\n      }\r\n    \r\n      public void setAddressLine1(String addressLine1) {\r\n        this.addressLine1 = addressLine1;\r\n      }\r\n    \r\n      public Address() {\r\n      }\r\n\r\n\r\nThese are the lines corresponding to the errors:\r\n\r\n&gt;         at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:59) : address.id = id\r\n\r\n&gt;         at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68) : var phone = Phone()\r\n\r\n","title":"How to resolve StackOverflowError while mapping properties in Kotlin data class?","body":"<p>I am trying to do mapping between the properties of multiple data classes (as shown below) but getting <code>java.lang.StackOverflowError: stack size 8MB</code>:</p>\n<pre><code>2021-12-04 00:37:22.801 com.abcE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.sxm.nissan.connect.mx, PID: 15025\n    java.lang.StackOverflowError: stack size 8MB\n        at java.util.Arrays.copyOf(Arrays.java:3109)\n        at java.util.ArrayList.grow(ArrayList.java:275)\n        at java.util.ArrayList.ensureExplicitCapacity(ArrayList.java:249)\n        at java.util.ArrayList.ensureCapacityInternal(ArrayList.java:241)\n        at java.util.ArrayList.add(ArrayList.java:467)\n        at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:59)\n        at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\n        at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\n\n2021-12-04 00:37:22.802 com.abcI/zygote: Background concurrent copying GC freed 1562(103KB) AllocSpace objects, 0(0B) LOS objects, 8% free, 68MB/74MB, paused 538us total 511.886ms\n2021-12-04 00:37:22.804 com.abcE/AndroidRuntime:     at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\n        at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\n2021-12-04 00:37:23.178 com.abcI/zygote: Background concurrent copying GC freed 678273(35MB) AllocSpace objects, 1(1344KB) LOS objects, 10% free, 53MB/59MB, paused 486us total 339.741ms\n2021-12-04 00:37:23.937 com.abcI/chatty: uid=10142(u0_a142) com.abcidentical 5303 lines\n2021-12-04 00:37:23.937 com.abcE/AndroidRuntime:     at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\n        at  com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68)\n2021-12-04 00:37:23.937 com.abcE/AndroidRuntime:     at com.abc.UserDetailResponse.getMainSubscriber(UserDetailResponse.kt:86)\n        at com.abc.presenter.onUserDetailSuccess(AccountDetailPresenter.java:282)\n        at com.abc.model.UserDetailServiceImpl.handleResponse(UserDetailServiceImpl.kt:50)\n        at com.abc.model.UserDetailServiceImpl.handleResponse(UserDetailServiceImpl.kt:20)\n        at com.sxm.connect.shared.model.util.SXMTelematicsService$1.success(SXMTelematicsService.java:62)\n        at retrofit.CallbackRunnable$1.run(CallbackRunnable.java:45)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n<p>Here are the files:</p>\n<p><strong>UserDetailResponse.kt</strong></p>\n<pre><code>data class UserInfoResponse(\n        val id: String,\n        val accountType: String,\n        val alternatePhone: String,\n        val alternatePhoneType: String,\n        val billingCity: String,\n        val billingCountry: String,\n        val billingId: String,\n        val billingPostalAddress1: String,\n        val billingPostalAddress2: String,\n        val billingPostalCode: String,\n        val billingStateProvince: String,\n        val currency: String,\n        val effectiveRoles: List&lt;EffectiveRole&gt;,\n        val givenName: String,\n        val mailingCity: String,\n        val mailingCountry: String,\n        val mailingPostalAddress1: String,\n        val mailingPostalAddress2: String,\n        val mailingPostalCode: String,\n        val mailingStateProvince: String,\n        val primaryPhone: String,\n        val primaryPhoneType: String,\n        val secondaryPhone: String,\n        val secondaryPhoneType: String,\n        val suffix: String,\n        val surname: String,\n        val userName: String,\n        val vehicles: List&lt;Vehicle&gt;,\n) {\n        val contactPoints: ContactPoints\n                get() = run {\n                        var address = Address()\n                        val addressList = arrayListOf&lt;Address&gt;()\n                        address.id = id\n                        address.street = billingPostalAddress1\n                        address.addressLine1 = billingPostalAddress1\n                        address.city = billingCity\n                        address.state = billingStateProvince\n                        address.postalCode = billingPostalCode\n                        address.country = billingCountry\n                        addressList.add(address)\n                        address = Address()\n                        address.id = id\n                        address.street = mailingPostalAddress1\n                        address.city = mailingCity\n                        address.state = mailingStateProvince\n                        address.postalCode = mailingPostalCode\n                        address.country = mailingCountry\n                        addressList.add(address)\n                        contactPoints.addresses = addressList\n\n                        var phone = Phone()\n                        val phoneList = arrayListOf&lt;Phone&gt;()\n                        phone.value = primaryPhone\n                        phoneList.add(phone)\n                        phone = Phone()\n                        phone.value = primaryPhone\n                        phoneList.add(phone)\n                        contactPoints.phones = phoneList\n                        contactPoints\n                }\n\n        val mainSubscriber: MainSubscriber\n                get() = run {\n                        mainSubscriber.firstName = givenName\n                        mainSubscriber.lastName = surname\n                        mainSubscriber.contactPoints = contactPoints\n                        mainSubscriber\n                }\n}\n</code></pre>\n<p><strong>ContactPoints.java</strong></p>\n<pre><code>public class ContactPoints implements Parcelable {\n  private List&lt;Phone&gt; phones = null;\n  private List&lt;Email&gt; emails = null;\n  private List&lt;Address&gt; addresses = null;\n\n  public List&lt;Phone&gt; getPhones() {\n    return phones;\n  }\n\n  public void setPhones(List&lt;Phone&gt; phones) {\n    this.phones = phones;\n  }\n\n  public List&lt;Email&gt; getEmails() {\n    return emails;\n  }\n\n  public void setEmails(List&lt;Email&gt; emails) {\n    this.emails = emails;\n  }\n\n  public List&lt;Address&gt; getAddresses() {\n    return addresses;\n  }\n\n  public void setAddresses(List&lt;Address&gt; addresses) {\n    this.addresses = addresses;\n  }\n}\n</code></pre>\n<p><strong>Address.java</strong></p>\n<pre><code>public class Address implements Parcelable {\n\n  private String id;\n\n  private String street;\n\n  private String name;\n\n  private String state;\n\n  private String addressLine2;\n\n  private String country;\n\n  private String city;\n\n  private String region;\n\n  private String addressLine1;\n\n  public void setPostalCode(String postalCode) {\n    this.postalCode = postalCode;\n  }\n\n  public void setSubRegion(String subRegion) {\n    this.subRegion = subRegion;\n  }\n\n  public void setStreet(String street) {\n    this.street = street;\n  }\n\n  public void setState(String state) {\n    this.state = state;\n  }\n\n  public void setAddressLine2(String addressLine2) {\n    this.addressLine2 = addressLine2;\n  }\n\n  public void setCountry(String country) {\n    this.country = country;\n  }\n\n  public void setCity(String city) {\n    this.city = city;\n  }\n\n\n  public void setId(String id) {\n    this.id = id;\n  }\n\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n\n  public void setType(String type) {\n    this.type = type;\n  }\n\n\n\n  public String getId() {\n    return id;\n  }\n\n\n\n  public String getState() {\n    return state;\n  }\n\n\n  public String getType() {\n    return type;\n  }\n\n\n  public String getAddressLine2() {\n    return addressLine2;\n  }\n\n\n\n  public String getCity() {\n    return city;\n  }\n\n\n\n  public String getCountry() {\n    return country;\n  }\n\n  public String getRegion() {\n    return region;\n  }\n\n  public void setRegion(String region) {\n    this.region = region;\n  }\n\n  public String getAddressLine1() {\n    return addressLine1;\n  }\n\n  public void setAddressLine1(String addressLine1) {\n    this.addressLine1 = addressLine1;\n  }\n\n  public Address() {\n  }\n</code></pre>\n<p>These are the lines corresponding to the errors:</p>\n<blockquote>\n<pre><code>    at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:59) : address.id = id\n</code></pre>\n</blockquote>\n<blockquote>\n<pre><code>    at com.abc.UserDetailResponse.getContactPoints(UserDetailResponse.kt:68) : var phone = Phone()\n</code></pre>\n</blockquote>\n"},{"tags":["java","design-patterns","enums","extensibility","software-quality"],"comments":[{"owner":{"account_id":4326272,"reputation":651,"user_id":14583599,"display_name":"zerocukor287"},"score":1,"creation_date":1638740122,"post_id":70238735,"comment_id":124162619,"body_markdown":"You may transorm the switch cases into class instances. Like `classAFirst` `classASecond` and have only one switch case, when you initialize your classes.","body":"You may transorm the switch cases into class instances. Like <code>classAFirst</code> <code>classASecond</code> and have only one switch case, when you initialize your classes."},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":1,"creation_date":1638740701,"post_id":70238735,"comment_id":124162774,"body_markdown":"@zerocukor287 Yeah, like separating the concrete behavior and setting it during initialization (or when needed) ?  -&gt; Thinking right now about Strategy pattern.","body":"@zerocukor287 Yeah, like separating the concrete behavior and setting it during initialization (or when needed) ?  -&gt; Thinking right now about Strategy pattern."}],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1638741833,"creation_date":1638741833,"answer_id":70238943,"question_id":70238735,"body_markdown":"Don&#39;t bind your code to the `enum` bind your code to an interface.  Then have your enum provide the standard implementations of the interface.\r\n\r\n\r\n    public interface RibbonColor {\r\n       public String getColor();\r\n    }\r\n\r\n    public enum DefaultRibbonColors implements RibbonColor {\r\n       FIRST() {\r\n          public String getColor() {\r\n            return &quot;blue&quot;;\r\n          }\r\n       }, \r\n       SECOND() {\r\n          public String getColor() {\r\n            return &quot;red&quot;;\r\n          }\r\n       },\r\n       THIRD() {\r\n          public String getColor() {\r\n            return &quot;white&quot;;\r\n          }\r\n       },\r\n    }\r\n\r\n    public class Awards {\r\n\r\n       private List&lt;RibbonColor&gt; ribbons;\r\n\r\n       public Awards(List&lt;RibbonColor&gt; ribbons) {\r\n          this.ribbons = ribbons;\r\n       }\r\n\r\n       public RibbonColor awardFor(int placeIndex) {\r\n          if (placeIndex &lt; ribbons.length()) {\r\n            return ribbons.get(placeIndex).getColor();\r\n          }\r\n          return null;\r\n       }\r\n\r\n    }\r\n\r\nNotice that now you can easily add in a new list of all the default `Awards` by \r\n\r\n    Awards awards = new Awards(Arrays.asList(DefaultRibbonColors.values()));\r\n\r\nwhile you could also create custom awards sets.\r\n\r\n    List ribbons = new ArrayList&lt;RibbonColor&gt;();\r\n    ribbons.addAll(DefaultRibbonColors.values());\r\n    ribbons.addAll(ExtendedRibbonColors.values());\r\n    ribbons.addAll(new BlackAndPinkPolkaDotRibbonColor());\r\n\r\n    Awards awards = new Awards(ribbons);\r\n\r\nThe key is to never make the code actually depend on the `enum` because you can&#39;t modify an `enum` without recompiling, and that triggers the need to search for `switch` statements that lack `default:` blocks or more explicit settings for the added value.\r\n\r\nObjects are &quot;code and data written together&quot; while procedural code is &quot;code and data managed separately&quot;  The `switch` statement puts the logic &quot;code&quot; outside of the type &quot;data&quot; and is a programming mistake in 100% insanely object oriented design.  That said, it is often useful, and people still structure programs in Java and other languages in ways that effectively separate code from data (object that hold all the data, and &quot;object routines&quot; that manipulate another object&#39;s data.  This kind of separation of an object&#39;s data from its routines is an antipattern called `anemic objects`.  \r\n\r\n`Enums` are `Objects` so don&#39;t be afraid to put methods in them!  Give them interfaces where they should be replicable, and avoid switch statements because it&#39;s probably a good sign that the logic should be in the thing you are switching on (provided it is an Object).","title":"How to avoid changing many parts of code when adding new enum value, thus providing easier extensibility?","body":"<p>Don't bind your code to the <code>enum</code> bind your code to an interface.  Then have your enum provide the standard implementations of the interface.</p>\n<pre><code>public interface RibbonColor {\n   public String getColor();\n}\n\npublic enum DefaultRibbonColors implements RibbonColor {\n   FIRST() {\n      public String getColor() {\n        return &quot;blue&quot;;\n      }\n   }, \n   SECOND() {\n      public String getColor() {\n        return &quot;red&quot;;\n      }\n   },\n   THIRD() {\n      public String getColor() {\n        return &quot;white&quot;;\n      }\n   },\n}\n\npublic class Awards {\n\n   private List&lt;RibbonColor&gt; ribbons;\n\n   public Awards(List&lt;RibbonColor&gt; ribbons) {\n      this.ribbons = ribbons;\n   }\n\n   public RibbonColor awardFor(int placeIndex) {\n      if (placeIndex &lt; ribbons.length()) {\n        return ribbons.get(placeIndex).getColor();\n      }\n      return null;\n   }\n\n}\n</code></pre>\n<p>Notice that now you can easily add in a new list of all the default <code>Awards</code> by</p>\n<pre><code>Awards awards = new Awards(Arrays.asList(DefaultRibbonColors.values()));\n</code></pre>\n<p>while you could also create custom awards sets.</p>\n<pre><code>List ribbons = new ArrayList&lt;RibbonColor&gt;();\nribbons.addAll(DefaultRibbonColors.values());\nribbons.addAll(ExtendedRibbonColors.values());\nribbons.addAll(new BlackAndPinkPolkaDotRibbonColor());\n\nAwards awards = new Awards(ribbons);\n</code></pre>\n<p>The key is to never make the code actually depend on the <code>enum</code> because you can't modify an <code>enum</code> without recompiling, and that triggers the need to search for <code>switch</code> statements that lack <code>default:</code> blocks or more explicit settings for the added value.</p>\n<p>Objects are &quot;code and data written together&quot; while procedural code is &quot;code and data managed separately&quot;  The <code>switch</code> statement puts the logic &quot;code&quot; outside of the type &quot;data&quot; and is a programming mistake in 100% insanely object oriented design.  That said, it is often useful, and people still structure programs in Java and other languages in ways that effectively separate code from data (object that hold all the data, and &quot;object routines&quot; that manipulate another object's data.  This kind of separation of an object's data from its routines is an antipattern called <code>anemic objects</code>.</p>\n<p><code>Enums</code> are <code>Objects</code> so don't be afraid to put methods in them!  Give them interfaces where they should be replicable, and avoid switch statements because it's probably a good sign that the logic should be in the thing you are switching on (provided it is an Object).</p>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70238943,"answer_count":1,"score":6,"last_activity_date":1638741833,"creation_date":1638739917,"question_id":70238735,"body_markdown":"I am trying to make my code easier to extend in terms that a little change will not affect much other code.\r\n\r\nI have an *enum* `MyEnum`, which values might increase in future. \r\n\r\nThen, there are classes that holds instance of it and has many behaviors affected by that *enum*&#39;s concrete value. In other words, there are many places where I switch over it&#39;s value.\r\n\r\n    public enum MyEnum\r\n    {\r\n        FIRST, SECOND, THIRD, FOURTH;\r\n    }\r\n\r\n\r\n    public class A\r\n    {\r\n        private MyEnum myEnum\r\n        \r\n        public A(MyEnum myEnum)\r\n        {\r\n            this.myEnum = myEnum;\r\n        }\r\n        \r\n        // as you will see, there is a lot of switching over its value\r\n        public void boo()\r\n        {\r\n            switch(myEnum)\r\n            {\r\n                case FIRST: // do smtng\r\n                case SECOND: // do smthing else\r\n                case THIRD: // do smthing else\r\n                case FOURTH: // do nice thing\r\n            }\r\n        }\r\n\r\n        public int goo()\r\n        {\r\n            switch(myEnum)\r\n            {\r\n                ...\r\n            }\r\n        }\r\n       \r\n\r\n        public AnotherObject foo()\r\n        {\r\n            switch(myEnum)\r\n            {\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\n    public class B\r\n    {\r\n        private MyEnum myEnum\r\n        \r\n        public B(MyEnum myEnum)\r\n        {\r\n            this.myEnum = myEnum;\r\n        }\r\n        \r\n        public double doo()\r\n        {\r\n            switch(myEnum)\r\n            {\r\n                ...\r\n            }\r\n        }\r\n\r\n        public void soo()\r\n        {\r\n            switch(myEnum)\r\n            {\r\n                ...\r\n            }\r\n        }\r\n       \r\n        public boolean xoo()\r\n        {\r\n            switch(myEnum)\r\n            {\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\nThe thing here is that **mostly** I will need to add new case to all places where we switch over it&#39;s value =&gt; will need to do many changes to code when I add new *enum* value. \r\n\r\nDid anyone else faced this problem? By now, I guess it is just downside of using *enum*s this way.\r\n\r\n","title":"How to avoid changing many parts of code when adding new enum value, thus providing easier extensibility?","body":"<p>I am trying to make my code easier to extend in terms that a little change will not affect much other code.</p>\n<p>I have an <em>enum</em> <code>MyEnum</code>, which values might increase in future.</p>\n<p>Then, there are classes that holds instance of it and has many behaviors affected by that <em>enum</em>'s concrete value. In other words, there are many places where I switch over it's value.</p>\n<pre><code>public enum MyEnum\n{\n    FIRST, SECOND, THIRD, FOURTH;\n}\n\n\npublic class A\n{\n    private MyEnum myEnum\n    \n    public A(MyEnum myEnum)\n    {\n        this.myEnum = myEnum;\n    }\n    \n    // as you will see, there is a lot of switching over its value\n    public void boo()\n    {\n        switch(myEnum)\n        {\n            case FIRST: // do smtng\n            case SECOND: // do smthing else\n            case THIRD: // do smthing else\n            case FOURTH: // do nice thing\n        }\n    }\n\n    public int goo()\n    {\n        switch(myEnum)\n        {\n            ...\n        }\n    }\n   \n\n    public AnotherObject foo()\n    {\n        switch(myEnum)\n        {\n            ...\n        }\n    }\n}\n\npublic class B\n{\n    private MyEnum myEnum\n    \n    public B(MyEnum myEnum)\n    {\n        this.myEnum = myEnum;\n    }\n    \n    public double doo()\n    {\n        switch(myEnum)\n        {\n            ...\n        }\n    }\n\n    public void soo()\n    {\n        switch(myEnum)\n        {\n            ...\n        }\n    }\n   \n    public boolean xoo()\n    {\n        switch(myEnum)\n        {\n            ...\n        }\n    }\n}\n</code></pre>\n<p>The thing here is that <strong>mostly</strong> I will need to add new case to all places where we switch over it's value =&gt; will need to do many changes to code when I add new <em>enum</em> value.</p>\n<p>Did anyone else faced this problem? By now, I guess it is just downside of using <em>enum</em>s this way.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638741234,"post_id":70238870,"comment_id":124162902,"body_markdown":"It is not Eclipse detecting the unreachable code, but the java compiler. The &quot;similar code&quot; has a branch within the loop, that contains a `break;`. The code reporting the unreachable code does not have a `break;` within the `while (true)`-loop.","body":"It is not Eclipse detecting the unreachable code, but the java compiler. The &quot;similar code&quot; has a branch within the loop, that contains a <code>break;</code>. The code reporting the unreachable code does not have a <code>break;</code> within the <code>while (true)</code>-loop."},{"owner":{"account_id":400660,"reputation":4729,"user_id":766755,"display_name":"Michael Krause"},"score":0,"creation_date":1638741440,"post_id":70238870,"comment_id":124162959,"body_markdown":"As an aside, you should put your close calls in a finally block for your try so that your streams are guaranteed to be closed even in the case of an exception.","body":"As an aside, you should put your close calls in a finally block for your try so that your streams are guaranteed to be closed even in the case of an exception."},{"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"score":0,"creation_date":1638741591,"post_id":70238870,"comment_id":124162990,"body_markdown":"thank you both, as a bit of a side question, could this be related to getting a broken pipe error? I posted about it on here earlier today  and I thought maybe closing the resources would fix it but it didn&#39;t so is it about having the finally block?","body":"thank you both, as a bit of a side question, could this be related to getting a broken pipe error? I posted about it on here earlier today  and I thought maybe closing the resources would fix it but it didn&#39;t so is it about having the finally block?"}],"answers":[{"tags":[],"owner":{"account_id":19296215,"reputation":703,"user_id":14105130,"display_name":"YourHelper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638741352,"creation_date":1638741352,"answer_id":70238898,"question_id":70238870,"body_markdown":"You simply have a `while(true) {...}` block that doesn&#39;t even have a break statement so yeah those statements after it are unreachable ...\r\n\r\nYou have two choices:\r\n\r\n 1. Introduce a local variable initialized with `true` which will be updated inside the loop\r\n 2. Create a break statement like the second part of your uploaded code that will stop the loop when it meets a certain condition","title":"Getting `unreachable code` when trying to close resources","body":"<p>You simply have a <code>while(true) {...}</code> block that doesn't even have a break statement so yeah those statements after it are unreachable ...</p>\n<p>You have two choices:</p>\n<ol>\n<li>Introduce a local variable initialized with <code>true</code> which will be updated inside the loop</li>\n<li>Create a break statement like the second part of your uploaded code that will stop the loop when it meets a certain condition</li>\n</ol>\n"}],"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1638742581,"accepted_answer_id":70238898,"answer_count":1,"score":-2,"last_activity_date":1638741352,"creation_date":1638741089,"question_id":70238870,"body_markdown":"I am trying to close the `DataOutputStream` and `DataInputStream` but I am getting an `unreachable code` error which doesn&#39;t even allow me to run, here is my code:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.Scanner;\r\n\r\npublic class MultipleClient {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\ttry {\r\n\t\t\tScanner scan = new Scanner(System.in);\r\n\r\n\t\t\tInetAddress ip = InetAddress.getByName(&quot;localhost&quot;);\r\n\r\n\t\t\tSocket socket = new Socket(ip, 4571);\r\n\r\n\t\t\tDataInputStream inputFromServer = new DataInputStream(socket.getInputStream());\r\n\t\t\tDataOutputStream outputToServer = new DataOutputStream(socket.getOutputStream());\r\n\r\n\t\t\twhile (true) {\r\n\r\n\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n\t\t\t\tint choice = scan.nextInt();\r\n\r\n\t\t\t\tif (choice == 1) {\r\n\t\t\t\t\toutputToServer.writeInt(choice);\r\n\t\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tscan.close();\r\n\t\t\tinputFromServer.close();\r\n\t\t\toutputToServer.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI guess I am getting that because Eclipse is detecting that this lines precede a `while(true)` which might be confusing however, I have had a similar code working fine, I tried comparing between both and I can&#39;t see the difference, here is the other code:\r\n\r\n```\r\nimport java.io.*; \r\nimport java.net.*; \r\nimport java.util.Scanner; \r\n  \r\npublic class MultipleClient { \r\n    public static void main(String[] args) throws IOException { \r\n        try { \r\n            Scanner scan = new Scanner(System.in); \r\n              \r\n            // Getting local IP Address (127.0.0.1)\r\n            InetAddress ip = InetAddress.getByName(&quot;localhost&quot;); \r\n      \r\n            // Establish the connection with Server on port 5056\r\n            Socket socket = new Socket(ip, 5056); \r\n            // This will trigger the accept() function of the Server\r\n      \r\n            // Receiving input and sending output to Server\r\n            DataInputStream inputFromServer = new DataInputStream(socket.getInputStream()); \r\n            DataOutputStream outputToServer = new DataOutputStream(socket.getOutputStream()); \r\n\r\n            while (true) { \r\n                System.out.println(inputFromServer.readUTF()); \r\n                String tosend = scan.nextLine(); \r\n                outputToServer.writeUTF(tosend); \r\n                  \r\n                // Sending Exit closes the connection and breaks the loop\r\n                if(tosend.equals(&quot;Exit&quot;)) \r\n                { \r\n                    System.out.println(&quot;-----------------------------------------------------------------------------------&quot;);\r\n                    System.out.println(&quot;Closing this connection : &quot; + socket); \r\n                    socket.close(); \r\n                    System.out.println(&quot;Connection closed&quot;); \r\n                    break; \r\n                } \r\n                System.out.println(&quot;-----------------------------------------------------------------------------------&quot;);\r\n                // Printing message received from Server \r\n                String received = inputFromServer.readUTF(); \r\n                System.out.println(received); \r\n            } \r\n              \r\n            // Closing resources \r\n            scan.close(); \r\n            inputFromServer.close(); \r\n            outputToServer.close(); \r\n        }catch(Exception e){ \r\n            e.printStackTrace(); \r\n        } \r\n    } \r\n} \r\n```","title":"Getting `unreachable code` when trying to close resources","body":"<p>I am trying to close the <code>DataOutputStream</code> and <code>DataInputStream</code> but I am getting an <code>unreachable code</code> error which doesn't even allow me to run, here is my code:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.Scanner;\n\npublic class MultipleClient {\n    public static void main(String[] args) throws IOException {\n        try {\n            Scanner scan = new Scanner(System.in);\n\n            InetAddress ip = InetAddress.getByName(&quot;localhost&quot;);\n\n            Socket socket = new Socket(ip, 4571);\n\n            DataInputStream inputFromServer = new DataInputStream(socket.getInputStream());\n            DataOutputStream outputToServer = new DataOutputStream(socket.getOutputStream());\n\n            while (true) {\n\n                System.out.println(inputFromServer.readUTF());\n                int choice = scan.nextInt();\n\n                if (choice == 1) {\n                    outputToServer.writeInt(choice);\n                    System.out.println(inputFromServer.readUTF());\n                    }\n                }\n\n            }\n            scan.close();\n            inputFromServer.close();\n            outputToServer.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I guess I am getting that because Eclipse is detecting that this lines precede a <code>while(true)</code> which might be confusing however, I have had a similar code working fine, I tried comparing between both and I can't see the difference, here is the other code:</p>\n<pre><code>import java.io.*; \nimport java.net.*; \nimport java.util.Scanner; \n  \npublic class MultipleClient { \n    public static void main(String[] args) throws IOException { \n        try { \n            Scanner scan = new Scanner(System.in); \n              \n            // Getting local IP Address (127.0.0.1)\n            InetAddress ip = InetAddress.getByName(&quot;localhost&quot;); \n      \n            // Establish the connection with Server on port 5056\n            Socket socket = new Socket(ip, 5056); \n            // This will trigger the accept() function of the Server\n      \n            // Receiving input and sending output to Server\n            DataInputStream inputFromServer = new DataInputStream(socket.getInputStream()); \n            DataOutputStream outputToServer = new DataOutputStream(socket.getOutputStream()); \n\n            while (true) { \n                System.out.println(inputFromServer.readUTF()); \n                String tosend = scan.nextLine(); \n                outputToServer.writeUTF(tosend); \n                  \n                // Sending Exit closes the connection and breaks the loop\n                if(tosend.equals(&quot;Exit&quot;)) \n                { \n                    System.out.println(&quot;-----------------------------------------------------------------------------------&quot;);\n                    System.out.println(&quot;Closing this connection : &quot; + socket); \n                    socket.close(); \n                    System.out.println(&quot;Connection closed&quot;); \n                    break; \n                } \n                System.out.println(&quot;-----------------------------------------------------------------------------------&quot;);\n                // Printing message received from Server \n                String received = inputFromServer.readUTF(); \n                System.out.println(received); \n            } \n              \n            // Closing resources \n            scan.close(); \n            inputFromServer.close(); \n            outputToServer.close(); \n        }catch(Exception e){ \n            e.printStackTrace(); \n        } \n    } \n} \n</code></pre>\n"},{"tags":["java","android","wav","pcm"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1450102446,"post_id":34269088,"comment_id":56279479,"body_markdown":"off-topic comment: What is a purpose of `DataOutputStream` it you are using only methods from `OutputStream` ?","body":"off-topic comment: What is a purpose of <code>DataOutputStream</code> it you are using only methods from <code>OutputStream</code> ?"},{"owner":{"account_id":1367509,"reputation":666,"user_id":1303647,"accept_rate":71,"display_name":"Mushfiqul Tuhin"},"score":0,"creation_date":1450103969,"post_id":34269088,"comment_id":56280540,"body_markdown":"actually I found this code from internet . I think DataOutputStream  is for pushing some header info to the audio file . But to initialize DataOutputStream , it needs OutputStream as constructor .","body":"actually I found this code from internet . I think DataOutputStream  is for pushing some header info to the audio file . But to initialize DataOutputStream , it needs OutputStream as constructor ."},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1450104158,"post_id":34269088,"comment_id":56280693,"body_markdown":"http://ideone.com/AcomT7","body":"<a href=\"http://ideone.com/AcomT7\" rel=\"nofollow noreferrer\">ideone.com/AcomT7</a>"},{"owner":{"account_id":1367509,"reputation":666,"user_id":1303647,"accept_rate":71,"display_name":"Mushfiqul Tuhin"},"score":0,"creation_date":1450105784,"post_id":34269088,"comment_id":56281974,"body_markdown":"I am using only object &quot;output &quot; from class DataOutputStream  to all of the methods below","body":"I am using only object &quot;output &quot; from class DataOutputStream  to all of the methods below"},{"owner":{"account_id":2089982,"reputation":3029,"user_id":1860042,"accept_rate":83,"display_name":"Advait Saravade"},"score":0,"creation_date":1469770550,"post_id":34269088,"comment_id":64684263,"body_markdown":"Just a question: the audio you&#39;ve recorded as PCM is mono and has a sample rate of 8000?","body":"Just a question: the audio you&#39;ve recorded as PCM is mono and has a sample rate of 8000?"}],"answers":[{"tags":[],"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1557072367,"creation_date":1557072367,"answer_id":55993895,"question_id":34269088,"body_markdown":"Here&#39;s a complete working example:\r\n\r\n    /**\r\n     * @param input         raw PCM data\r\n     *                      limit of file size for wave file: &lt; 2^(2*4) - 36 bytes (~4GB)\r\n     * @param output        file to encode to in wav format\r\n     * @param channelCount  number of channels: 1 for mono, 2 for stereo, etc.\r\n     * @param sampleRate    sample rate of PCM audio\r\n     * @param bitsPerSample bits per sample, i.e. 16 for PCM16\r\n     * @throws IOException in event of an error between input/output files\r\n     * @see &lt;a href=&quot;http://soundfile.sapp.org/doc/WaveFormat/&quot;&gt;soundfile.sapp.org/doc/WaveFormat&lt;/a&gt;\r\n     */\r\n    static public void PCMToWAV(File input, File output, int channelCount, int sampleRate, int bitsPerSample) throws IOException {\r\n        final int inputSize = (int) input.length();\r\n\r\n        try (OutputStream encoded = new FileOutputStream(output)) {\r\n            // WAVE RIFF header\r\n            writeToOutput(encoded, &quot;RIFF&quot;); // chunk id\r\n            writeToOutput(encoded, 36 + inputSize); // chunk size\r\n            writeToOutput(encoded, &quot;WAVE&quot;); // format\r\n\r\n            // SUB CHUNK 1 (FORMAT)\r\n            writeToOutput(encoded, &quot;fmt &quot;); // subchunk 1 id\r\n            writeToOutput(encoded, 16); // subchunk 1 size\r\n            writeToOutput(encoded, (short) 1); // audio format (1 = PCM)\r\n            writeToOutput(encoded, (short) channelCount); // number of channelCount\r\n            writeToOutput(encoded, sampleRate); // sample rate\r\n            writeToOutput(encoded, sampleRate * channelCount * bitsPerSample / 8); // byte rate\r\n            writeToOutput(encoded, (short) (channelCount * bitsPerSample / 8)); // block align\r\n            writeToOutput(encoded, (short) bitsPerSample); // bits per sample\r\n\r\n            // SUB CHUNK 2 (AUDIO DATA)\r\n            writeToOutput(encoded, &quot;data&quot;); // subchunk 2 id\r\n            writeToOutput(encoded, inputSize); // subchunk 2 size\r\n            copy(new FileInputStream(input), encoded);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Size of buffer used for transfer, by default\r\n     */\r\n    private static final int TRANSFER_BUFFER_SIZE = 10 * 1024;\r\n\r\n    /**\r\n     * Writes string in big endian form to an output stream\r\n     *\r\n     * @param output stream\r\n     * @param data   string\r\n     * @throws IOException\r\n     */\r\n    public static void writeToOutput(OutputStream output, String data) throws IOException {\r\n        for (int i = 0; i &lt; data.length(); i++)\r\n            output.write(data.charAt(i));\r\n    }\r\n\r\n    public static void writeToOutput(OutputStream output, int data) throws IOException {\r\n        output.write(data &gt;&gt; 0);\r\n        output.write(data &gt;&gt; 8);\r\n        output.write(data &gt;&gt; 16);\r\n        output.write(data &gt;&gt; 24);\r\n    }\r\n\r\n    public static void writeToOutput(OutputStream output, short data) throws IOException {\r\n        output.write(data &gt;&gt; 0);\r\n        output.write(data &gt;&gt; 8);\r\n    }\r\n\r\n    public static long copy(InputStream source, OutputStream output)\r\n            throws IOException {\r\n        return copy(source, output, TRANSFER_BUFFER_SIZE);\r\n    }\r\n\r\n    public static long copy(InputStream source, OutputStream output, int bufferSize) throws IOException {\r\n        long read = 0L;\r\n        byte[] buffer = new byte[bufferSize];\r\n        for (int n; (n = source.read(buffer)) != -1; read += n) {\r\n            output.write(buffer, 0, n);\r\n        }\r\n        return read;\r\n    }","title":"PCM to WAV conversion in android","body":"<p>Here's a complete working example:</p>\n\n<pre><code>/**\n * @param input         raw PCM data\n *                      limit of file size for wave file: &lt; 2^(2*4) - 36 bytes (~4GB)\n * @param output        file to encode to in wav format\n * @param channelCount  number of channels: 1 for mono, 2 for stereo, etc.\n * @param sampleRate    sample rate of PCM audio\n * @param bitsPerSample bits per sample, i.e. 16 for PCM16\n * @throws IOException in event of an error between input/output files\n * @see &lt;a href=\"http://soundfile.sapp.org/doc/WaveFormat/\"&gt;soundfile.sapp.org/doc/WaveFormat&lt;/a&gt;\n */\nstatic public void PCMToWAV(File input, File output, int channelCount, int sampleRate, int bitsPerSample) throws IOException {\n    final int inputSize = (int) input.length();\n\n    try (OutputStream encoded = new FileOutputStream(output)) {\n        // WAVE RIFF header\n        writeToOutput(encoded, \"RIFF\"); // chunk id\n        writeToOutput(encoded, 36 + inputSize); // chunk size\n        writeToOutput(encoded, \"WAVE\"); // format\n\n        // SUB CHUNK 1 (FORMAT)\n        writeToOutput(encoded, \"fmt \"); // subchunk 1 id\n        writeToOutput(encoded, 16); // subchunk 1 size\n        writeToOutput(encoded, (short) 1); // audio format (1 = PCM)\n        writeToOutput(encoded, (short) channelCount); // number of channelCount\n        writeToOutput(encoded, sampleRate); // sample rate\n        writeToOutput(encoded, sampleRate * channelCount * bitsPerSample / 8); // byte rate\n        writeToOutput(encoded, (short) (channelCount * bitsPerSample / 8)); // block align\n        writeToOutput(encoded, (short) bitsPerSample); // bits per sample\n\n        // SUB CHUNK 2 (AUDIO DATA)\n        writeToOutput(encoded, \"data\"); // subchunk 2 id\n        writeToOutput(encoded, inputSize); // subchunk 2 size\n        copy(new FileInputStream(input), encoded);\n    }\n}\n\n\n/**\n * Size of buffer used for transfer, by default\n */\nprivate static final int TRANSFER_BUFFER_SIZE = 10 * 1024;\n\n/**\n * Writes string in big endian form to an output stream\n *\n * @param output stream\n * @param data   string\n * @throws IOException\n */\npublic static void writeToOutput(OutputStream output, String data) throws IOException {\n    for (int i = 0; i &lt; data.length(); i++)\n        output.write(data.charAt(i));\n}\n\npublic static void writeToOutput(OutputStream output, int data) throws IOException {\n    output.write(data &gt;&gt; 0);\n    output.write(data &gt;&gt; 8);\n    output.write(data &gt;&gt; 16);\n    output.write(data &gt;&gt; 24);\n}\n\npublic static void writeToOutput(OutputStream output, short data) throws IOException {\n    output.write(data &gt;&gt; 0);\n    output.write(data &gt;&gt; 8);\n}\n\npublic static long copy(InputStream source, OutputStream output)\n        throws IOException {\n    return copy(source, output, TRANSFER_BUFFER_SIZE);\n}\n\npublic static long copy(InputStream source, OutputStream output, int bufferSize) throws IOException {\n    long read = 0L;\n    byte[] buffer = new byte[bufferSize];\n    for (int n; (n = source.read(buffer)) != -1; read += n) {\n        output.write(buffer, 0, n);\n    }\n    return read;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5297962,"reputation":474,"user_id":4228589,"display_name":"Michael N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638741129,"creation_date":1638738790,"answer_id":70238592,"question_id":34269088,"body_markdown":"This is a modification to Tobiq&#39;s answer in Kotlin allowing you to upsample from 8000Hz to 48000Hz.\r\n\r\n**Usage**\r\n\r\nPCMToWAV(File(audioFile), File(upsampledAudioFile), 1, 8000, 48000, 16)\r\n\r\n**PCMToWAV**\r\n\r\n\r\n    /**\r\n     * @param input         raw PCM data\r\n     * limit of file size for wave file: &lt; 2^(2*4) - 36 bytes (~4GB)\r\n     * @param output        file to encode to in wav format\r\n     * @param channelCount  number of channels: 1 for mono, 2 for stereo, etc.\r\n     * @param sampleRate    sample rate of PCM audio\r\n     * @param bitsPerSample bits per sample, i.e. 16 for PCM16\r\n     * @throws IOException in event of an error between input/output files\r\n     * @see [soundfile.sapp.org/doc/WaveFormat](http://soundfile.sapp.org/doc/WaveFormat/)\r\n     */\r\n    @Throws(IOException::class)\r\n    fun PCMToWAV(input: File, output: File?, channelCount: Int, originSampleRate: Int, sampleRate: Int, bitsPerSample: Int) {\r\n    \r\n        val inputSize = input.length().toInt()\r\n        val sampleFactor : Float = sampleRate.toFloat() / originSampleRate.toFloat()\r\n    \r\n        FileOutputStream(output).use { encoded -&gt;\r\n    \r\n            // WAVE RIFF header\r\n    \r\n            writeToOutput(encoded, &quot;RIFF&quot;) // chunk id\r\n            writeToOutput(encoded, 36 + (inputSize.toFloat() * sampleFactor).toInt()) // chunk size\r\n            writeToOutput(encoded, &quot;WAVE&quot;) // format\r\n    \r\n            // SUB CHUNK 1 (FORMAT)\r\n    \r\n            writeToOutput(encoded, &quot;fmt &quot;) // subchunk 1 id\r\n            writeToOutput(encoded, 16) // subchunk 1 size\r\n            writeToOutput(encoded, 1.toShort()) // audio format (1 = PCM)\r\n            writeToOutput(encoded, channelCount.toShort()) // number of channelCount\r\n            writeToOutput(encoded, sampleRate) // sample rate\r\n            writeToOutput(encoded, sampleRate * channelCount * bitsPerSample / 8) // byte rate\r\n            writeToOutput(encoded, (channelCount * bitsPerSample / 8).toShort()) // block align\r\n            writeToOutput(encoded, bitsPerSample.toShort()) // bits per sample\r\n    \r\n            // SUB CHUNK 2 (AUDIO DATA)\r\n    \r\n            if (originSampleRate == sampleRate) {\r\n    \r\n                writeToOutput(encoded, &quot;data&quot;) // subchunk 2 id\r\n                writeToOutput(encoded, inputSize) // subchunk 2 size\r\n                copy(FileInputStream(input), encoded)\r\n    \r\n            } else {\r\n    \r\n                // SUB CHUNK 2 (AUDIO DATA) - UPSAMPLE\r\n    \r\n                writeToOutput(encoded, &quot;data&quot;) // subchunk 2 id\r\n                writeToOutput(encoded, (inputSize.toFloat() * sampleFactor).toInt()) // subchunk 2 size\r\n    \r\n                val inputStream = FileInputStream(input)\r\n                val buffer = ByteArray(2)\r\n                var len: Int = inputStream.read(buffer)\r\n    \r\n                var overFlow = 0\r\n    \r\n                while (len != -1) {\r\n    \r\n                    for (i in 0 until (sampleFactor * 1000F).toInt()) {\r\n    \r\n                        overFlow += 1\r\n    \r\n                        if (overFlow &gt;= 1000) {\r\n    \r\n                            encoded.write(buffer, 0, len)\r\n                            overFlow = 0\r\n    \r\n                        }\r\n    \r\n                    }\r\n    \r\n                    len = inputStream.read(buffer)\r\n    \r\n                }\r\n                \r\n                inputStream.close()\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    /**\r\n     * Size of buffer used for transfer, by default\r\n     */\r\n    private const val TRANSFER_BUFFER_SIZE = 10 * 1024\r\n    \r\n    /**\r\n     * Writes string in big endian form to an output stream\r\n     *\r\n     * @param output stream\r\n     * @param data   string\r\n     * @throws IOException\r\n     */\r\n    \r\n    @Throws(IOException::class)\r\n    fun writeToOutput(output: OutputStream, data: String) {\r\n    \r\n        for (i in 0 until data.length) {\r\n            output.write(data[i].toInt())\r\n        }\r\n    \r\n    }\r\n    \r\n    @Throws(IOException::class)\r\n    fun writeToOutput(output: OutputStream, data: Int) {\r\n        output.write(data shr 0)\r\n        output.write(data shr 8)\r\n        output.write(data shr 16)\r\n        output.write(data shr 24)\r\n    }\r\n    \r\n    @Throws(IOException::class)\r\n    fun writeToOutput(output: OutputStream, data: Short) {\r\n        output.write(data.toInt() shr 0)\r\n        output.write(data.toInt() shr 8)\r\n    }\r\n    \r\n    @Throws(IOException::class)\r\n    fun copy(source: InputStream, output: OutputStream): Long {\r\n        return copy(source, output, TRANSFER_BUFFER_SIZE)\r\n    }\r\n    \r\n    @Throws(IOException::class)\r\n    fun copy(source: InputStream, output: OutputStream, bufferSize: Int): Long {\r\n        var read = 0L\r\n        val buffer = ByteArray(bufferSize)\r\n        var n: Int\r\n        while (source.read(buffer).also { n = it } != -1) {\r\n            output.write(buffer, 0, n)\r\n            read += n.toLong()\r\n        }\r\n        return read\r\n    }\r\n\r\n","title":"PCM to WAV conversion in android","body":"<p>This is a modification to Tobiq's answer in Kotlin allowing you to upsample from 8000Hz to 48000Hz.</p>\n<p><strong>Usage</strong></p>\n<p>PCMToWAV(File(audioFile), File(upsampledAudioFile), 1, 8000, 48000, 16)</p>\n<p><strong>PCMToWAV</strong></p>\n<pre><code>/**\n * @param input         raw PCM data\n * limit of file size for wave file: &lt; 2^(2*4) - 36 bytes (~4GB)\n * @param output        file to encode to in wav format\n * @param channelCount  number of channels: 1 for mono, 2 for stereo, etc.\n * @param sampleRate    sample rate of PCM audio\n * @param bitsPerSample bits per sample, i.e. 16 for PCM16\n * @throws IOException in event of an error between input/output files\n * @see [soundfile.sapp.org/doc/WaveFormat](http://soundfile.sapp.org/doc/WaveFormat/)\n */\n@Throws(IOException::class)\nfun PCMToWAV(input: File, output: File?, channelCount: Int, originSampleRate: Int, sampleRate: Int, bitsPerSample: Int) {\n\n    val inputSize = input.length().toInt()\n    val sampleFactor : Float = sampleRate.toFloat() / originSampleRate.toFloat()\n\n    FileOutputStream(output).use { encoded -&gt;\n\n        // WAVE RIFF header\n\n        writeToOutput(encoded, &quot;RIFF&quot;) // chunk id\n        writeToOutput(encoded, 36 + (inputSize.toFloat() * sampleFactor).toInt()) // chunk size\n        writeToOutput(encoded, &quot;WAVE&quot;) // format\n\n        // SUB CHUNK 1 (FORMAT)\n\n        writeToOutput(encoded, &quot;fmt &quot;) // subchunk 1 id\n        writeToOutput(encoded, 16) // subchunk 1 size\n        writeToOutput(encoded, 1.toShort()) // audio format (1 = PCM)\n        writeToOutput(encoded, channelCount.toShort()) // number of channelCount\n        writeToOutput(encoded, sampleRate) // sample rate\n        writeToOutput(encoded, sampleRate * channelCount * bitsPerSample / 8) // byte rate\n        writeToOutput(encoded, (channelCount * bitsPerSample / 8).toShort()) // block align\n        writeToOutput(encoded, bitsPerSample.toShort()) // bits per sample\n\n        // SUB CHUNK 2 (AUDIO DATA)\n\n        if (originSampleRate == sampleRate) {\n\n            writeToOutput(encoded, &quot;data&quot;) // subchunk 2 id\n            writeToOutput(encoded, inputSize) // subchunk 2 size\n            copy(FileInputStream(input), encoded)\n\n        } else {\n\n            // SUB CHUNK 2 (AUDIO DATA) - UPSAMPLE\n\n            writeToOutput(encoded, &quot;data&quot;) // subchunk 2 id\n            writeToOutput(encoded, (inputSize.toFloat() * sampleFactor).toInt()) // subchunk 2 size\n\n            val inputStream = FileInputStream(input)\n            val buffer = ByteArray(2)\n            var len: Int = inputStream.read(buffer)\n\n            var overFlow = 0\n\n            while (len != -1) {\n\n                for (i in 0 until (sampleFactor * 1000F).toInt()) {\n\n                    overFlow += 1\n\n                    if (overFlow &gt;= 1000) {\n\n                        encoded.write(buffer, 0, len)\n                        overFlow = 0\n\n                    }\n\n                }\n\n                len = inputStream.read(buffer)\n\n            }\n            \n            inputStream.close()\n\n        }\n\n    }\n\n}\n\n\n/**\n * Size of buffer used for transfer, by default\n */\nprivate const val TRANSFER_BUFFER_SIZE = 10 * 1024\n\n/**\n * Writes string in big endian form to an output stream\n *\n * @param output stream\n * @param data   string\n * @throws IOException\n */\n\n@Throws(IOException::class)\nfun writeToOutput(output: OutputStream, data: String) {\n\n    for (i in 0 until data.length) {\n        output.write(data[i].toInt())\n    }\n\n}\n\n@Throws(IOException::class)\nfun writeToOutput(output: OutputStream, data: Int) {\n    output.write(data shr 0)\n    output.write(data shr 8)\n    output.write(data shr 16)\n    output.write(data shr 24)\n}\n\n@Throws(IOException::class)\nfun writeToOutput(output: OutputStream, data: Short) {\n    output.write(data.toInt() shr 0)\n    output.write(data.toInt() shr 8)\n}\n\n@Throws(IOException::class)\nfun copy(source: InputStream, output: OutputStream): Long {\n    return copy(source, output, TRANSFER_BUFFER_SIZE)\n}\n\n@Throws(IOException::class)\nfun copy(source: InputStream, output: OutputStream, bufferSize: Int): Long {\n    var read = 0L\n    val buffer = ByteArray(bufferSize)\n    var n: Int\n    while (source.read(buffer).also { n = it } != -1) {\n        output.write(buffer, 0, n)\n        read += n.toLong()\n    }\n    return read\n}\n</code></pre>\n"}],"owner":{"account_id":1367509,"reputation":666,"user_id":1303647,"accept_rate":71,"display_name":"Mushfiqul Tuhin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2888,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638741129,"creation_date":1450102265,"question_id":34269088,"body_markdown":"I have recorded a sound using AudioRecord class . But its not playable via music player. So I have added some header information to the audio file. Though its now playable via music player but its lagging and noisy , its not playing exact sound . \r\nAny help would be appreciated .\r\nMy code is below\r\n\r\n    private void rawToWave(final File rawFile, final File waveFile) throws IOException {\r\n\r\n        byte[] rawData = new byte[(int) rawFile.length()];\r\n        DataInputStream input = null;\r\n        try {\r\n            input = new DataInputStream(new FileInputStream(rawFile));\r\n            input.read(rawData);\r\n        } finally {\r\n            if (input != null) {\r\n                input.close();\r\n            }\r\n        }\r\n\r\n        DataOutputStream output = null;\r\n        try {\r\n            int myBitsPerSample= 2;\r\n            int myFormat = 1;\r\n            long myChannels = 1;\r\n            long mySampleRate = 8000 ;\r\n            long myByteRate = mySampleRate * myChannels * myBitsPerSample/8;\r\n            int myBlockAlign = (int) (myChannels * myBitsPerSample/8);\r\n\r\n            output = new DataOutputStream(new FileOutputStream(waveFile));\r\n            // WAVE header\r\n            // see http://ccrma.stanford.edu/courses/422/projects/WaveFormat/\r\n            writeString(output, &quot;RIFF&quot;); // chunk id\r\n            writeInt(output, 36 + rawData.length); // chunk size\r\n            writeString(output, &quot;WAVE&quot;); // format\r\n            writeString(output, &quot;fmt &quot;); // subchunk 1 id\r\n            writeInt(output, 16); // subchunk 1 size\r\n            writeShort(output, (short) 1); // audio format (1 = PCM)\r\n            writeShort(output, (short) 1); // number of channels\r\n            writeInt(output, (int)mySampleRate ); // sample ratemySampleRate\r\n            writeInt(output, (int) (myByteRate)); // byte rate\r\n            writeShort(output, (short) myBlockAlign); // block align\r\n            writeShort(output, (short) 16); // bits per sample\r\n            writeString(output, &quot;data&quot;); // subchunk 2 id\r\n            writeInt(output, rawData.length); // subchunk 2 size\r\n            // Audio data (conversion big endian -&gt; little endian)\r\n            short[] shorts = new short[rawData.length /2];\r\n            ByteBuffer.wrap(rawData).order(ByteOrder.LITTLE_ENDIAN).asShortBuffer().get(shorts);\r\n            ByteBuffer bytes = ByteBuffer.allocate(shorts.length * 2);\r\n\r\n\r\n\r\n            for (short s : shorts) {\r\n               bytes.putShort(s);\r\n            }\r\n\r\n\r\n\r\n            output.write(bytes.array());\r\n        } finally {\r\n            if (output != null) {\r\n                output.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    public  void writeShortLE(DataOutputStream out, short value) throws IOException {\r\n        out.writeByte(value &amp; 0xFF);\r\n        out.writeByte((value &gt;&gt; 8) &amp; 0xFF);\r\n    }\r\n\r\n\r\n\r\n    private void writeInt(final DataOutputStream output, final int value) throws IOException {\r\n        output.write(value &gt;&gt; 0);\r\n        output.write(value &gt;&gt; 8);\r\n        output.write(value &gt;&gt; 16);\r\n        output.write(value &gt;&gt; 24);\r\n    }\r\n\r\n    private void writeShort(final DataOutputStream output, final short value) throws IOException {\r\n        output.write(value &gt;&gt; 0);\r\n        output.write(value &gt;&gt; 8);\r\n    }\r\n\r\n    private void writeString(final DataOutputStream output, final String value) throws IOException {\r\n        for (int i = 0; i &lt; value.length(); i++) {\r\n            output.write(value.charAt(i));\r\n        }\r\n    }\r\n\r\n","title":"PCM to WAV conversion in android","body":"<p>I have recorded a sound using AudioRecord class . But its not playable via music player. So I have added some header information to the audio file. Though its now playable via music player but its lagging and noisy , its not playing exact sound . \nAny help would be appreciated .\nMy code is below</p>\n\n<pre><code>private void rawToWave(final File rawFile, final File waveFile) throws IOException {\n\n    byte[] rawData = new byte[(int) rawFile.length()];\n    DataInputStream input = null;\n    try {\n        input = new DataInputStream(new FileInputStream(rawFile));\n        input.read(rawData);\n    } finally {\n        if (input != null) {\n            input.close();\n        }\n    }\n\n    DataOutputStream output = null;\n    try {\n        int myBitsPerSample= 2;\n        int myFormat = 1;\n        long myChannels = 1;\n        long mySampleRate = 8000 ;\n        long myByteRate = mySampleRate * myChannels * myBitsPerSample/8;\n        int myBlockAlign = (int) (myChannels * myBitsPerSample/8);\n\n        output = new DataOutputStream(new FileOutputStream(waveFile));\n        // WAVE header\n        // see http://ccrma.stanford.edu/courses/422/projects/WaveFormat/\n        writeString(output, \"RIFF\"); // chunk id\n        writeInt(output, 36 + rawData.length); // chunk size\n        writeString(output, \"WAVE\"); // format\n        writeString(output, \"fmt \"); // subchunk 1 id\n        writeInt(output, 16); // subchunk 1 size\n        writeShort(output, (short) 1); // audio format (1 = PCM)\n        writeShort(output, (short) 1); // number of channels\n        writeInt(output, (int)mySampleRate ); // sample ratemySampleRate\n        writeInt(output, (int) (myByteRate)); // byte rate\n        writeShort(output, (short) myBlockAlign); // block align\n        writeShort(output, (short) 16); // bits per sample\n        writeString(output, \"data\"); // subchunk 2 id\n        writeInt(output, rawData.length); // subchunk 2 size\n        // Audio data (conversion big endian -&gt; little endian)\n        short[] shorts = new short[rawData.length /2];\n        ByteBuffer.wrap(rawData).order(ByteOrder.LITTLE_ENDIAN).asShortBuffer().get(shorts);\n        ByteBuffer bytes = ByteBuffer.allocate(shorts.length * 2);\n\n\n\n        for (short s : shorts) {\n           bytes.putShort(s);\n        }\n\n\n\n        output.write(bytes.array());\n    } finally {\n        if (output != null) {\n            output.close();\n        }\n    }\n}\n\npublic  void writeShortLE(DataOutputStream out, short value) throws IOException {\n    out.writeByte(value &amp; 0xFF);\n    out.writeByte((value &gt;&gt; 8) &amp; 0xFF);\n}\n\n\n\nprivate void writeInt(final DataOutputStream output, final int value) throws IOException {\n    output.write(value &gt;&gt; 0);\n    output.write(value &gt;&gt; 8);\n    output.write(value &gt;&gt; 16);\n    output.write(value &gt;&gt; 24);\n}\n\nprivate void writeShort(final DataOutputStream output, final short value) throws IOException {\n    output.write(value &gt;&gt; 0);\n    output.write(value &gt;&gt; 8);\n}\n\nprivate void writeString(final DataOutputStream output, final String value) throws IOException {\n    for (int i = 0; i &lt; value.length(); i++) {\n        output.write(value.charAt(i));\n    }\n}\n</code></pre>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1638734629,"post_id":70238073,"comment_id":124161312,"body_markdown":"&quot;*Does java do this automatically?*&quot; No. Object pool pattern.","body":"&quot;<i>Does java do this automatically?</i>&quot; No. Object pool pattern."},{"owner":{"account_id":23150429,"reputation":13,"user_id":17252519,"display_name":"Stingpie 52"},"score":0,"creation_date":1638735115,"post_id":70238073,"comment_id":124161435,"body_markdown":"could you please clarify what an &quot;object pool pattern&quot; is? or how to implement one? I looked online, and a lot of websites talk about using it only when new objects are &#39;expensive to create&#39;. None of them really talk about using it to conserve ram. Is there another name for it I should be googling?","body":"could you please clarify what an &quot;object pool pattern&quot; is? or how to implement one? I looked online, and a lot of websites talk about using it only when new objects are &#39;expensive to create&#39;. None of them really talk about using it to conserve ram. Is there another name for it I should be googling?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1638735890,"post_id":70238073,"comment_id":124161599,"body_markdown":"You don&#39;t necessarily need object pooling. You could make the data static, so it would be tied to the class. Then new instances of the material would all reference the same object. You&#39;re question is a bit vague though.","body":"You don&#39;t necessarily need object pooling. You could make the data static, so it would be tied to the class. Then new instances of the material would all reference the same object. You&#39;re question is a bit vague though."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638736274,"creation_date":1638736274,"answer_id":70238291,"question_id":70238073,"body_markdown":"Lets say you have a material.\r\n\r\n    interface Material{\r\n        void render( Context c);\r\n    }\r\n\r\nThen you have some instance of the material.\r\n\r\n    class Concrete implements Material{\r\n        static Texture concreteTexture = loadConcreteTexture();\r\n        Texture texture;\r\n        public Concrete(){\r\n          texture = concreteTexture();\r\n        }\r\n        void render(Context c){\r\n            //do stuff with texture.\r\n        }\r\n    }\r\n\r\nIn this case there would be 1 concrete texture for all of the instances of concrete, and it gets loaded when the class gets loaded. The texture gets assigned in the constructor, but you might use a factory method instead that would create new materials and load/assign the assets.","title":"Conserving RAM in java by using references to objects","body":"<p>Lets say you have a material.</p>\n<pre><code>interface Material{\n    void render( Context c);\n}\n</code></pre>\n<p>Then you have some instance of the material.</p>\n<pre><code>class Concrete implements Material{\n    static Texture concreteTexture = loadConcreteTexture();\n    Texture texture;\n    public Concrete(){\n      texture = concreteTexture();\n    }\n    void render(Context c){\n        //do stuff with texture.\n    }\n}\n</code></pre>\n<p>In this case there would be 1 concrete texture for all of the instances of concrete, and it gets loaded when the class gets loaded. The texture gets assigned in the constructor, but you might use a factory method instead that would create new materials and load/assign the assets.</p>\n"},{"tags":[],"owner":{"account_id":23550756,"reputation":174,"user_id":17593512,"display_name":"Bashi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638740858,"creation_date":1638740858,"answer_id":70238838,"question_id":70238073,"body_markdown":"I am not sure i understand your question, but lets say each tile is represented by an object and the material is represented by a shared object then you can use singleton pattern in java:\r\n\r\n```\r\ninterface MatType{\r\n\tString getType();\r\n\tvoid draw();\r\n}\r\n\r\nclass Cement implements MatType{\r\n\tprivate static Cement cement = null;\r\n\t\r\n\tprivate string type = &quot;Cement&quot;;\r\n\r\n  \t/*some cement properties here*/\r\n\r\n  \tprivate Cement(){}\r\n\r\n  \t/*\r\nBy using this method you will get always the same\r\n    \tobject which will be shared between all objects\r\n    \tthat reference it.\r\n  \t*/ \r\n  \tpublic static Cement getInstance(){\r\n    \t\tif (cement == null)\r\n      \t\t\tcement = new Cement();\r\n    \t\treturn cement;\r\n\t}\r\n\t\r\n\tString getType(){\r\n\t\treturn type;\r\n\t}\r\n\t\r\n\tvoid draw(){\r\n\t//draw\r\n\t}\r\n\t\r\n}\r\n\r\nclass Tile{\r\n\tMatType type = null;\r\n\t\r\n\t/*tile properties*/\r\n\t\r\n\tpublic Tile(String t){\r\n\t\tif (t.equals(&quot;Cement&quot;))\r\n            type = (MatType)Cement.getInstance(); /*casting is for clarification only*/\r\n\t\tif (t.equals(&quot;Iron&quot;))\r\n\t\t\ttype = Iron.getInstance(); /*same logic of Cement*/\r\n\t\t.\r\n\t\t.\r\n\t\t.\r\n\t}\r\n\t\r\n\tString getType(){\r\n\t\treturn type.getType();\r\n\t}\r\n\t\r\n\tvoid draw(){\r\n\t\ttype.draw();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n   \r\n\r\n      \r\n     \r\n      ","title":"Conserving RAM in java by using references to objects","body":"<p>I am not sure i understand your question, but lets say each tile is represented by an object and the material is represented by a shared object then you can use singleton pattern in java:</p>\n<pre><code>interface MatType{\n    String getType();\n    void draw();\n}\n\nclass Cement implements MatType{\n    private static Cement cement = null;\n    \n    private string type = &quot;Cement&quot;;\n\n    /*some cement properties here*/\n\n    private Cement(){}\n\n    /*\nBy using this method you will get always the same\n        object which will be shared between all objects\n        that reference it.\n    */ \n    public static Cement getInstance(){\n            if (cement == null)\n                cement = new Cement();\n            return cement;\n    }\n    \n    String getType(){\n        return type;\n    }\n    \n    void draw(){\n    //draw\n    }\n    \n}\n\nclass Tile{\n    MatType type = null;\n    \n    /*tile properties*/\n    \n    public Tile(String t){\n        if (t.equals(&quot;Cement&quot;))\n            type = (MatType)Cement.getInstance(); /*casting is for clarification only*/\n        if (t.equals(&quot;Iron&quot;))\n            type = Iron.getInstance(); /*same logic of Cement*/\n        .\n        .\n        .\n    }\n    \n    String getType(){\n        return type.getType();\n    }\n    \n    void draw(){\n        type.draw();\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":23150429,"reputation":13,"user_id":17252519,"display_name":"Stingpie 52"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70238291,"answer_count":2,"score":0,"last_activity_date":1638740858,"creation_date":1638734548,"question_id":70238073,"body_markdown":"I know some about java, and a lot about the lower level functions of a computer, so I&#39;m always looking for ways to conserve ram. I&#39;m also a fan of dwarf fortress, so I&#39;ve been trying to get some similar system working. So, what I want to do is to make multiple tiles, assign them some type of material, and all the tiles with the same type of material share the same material object. I drew a little picture to illustrate it: [here][1]\r\nDoes java do this automatically? or do I have to implement it by myself? If I make two copies of the material properties, is there a way to merge them both into one?\r\n\r\nThank you for responding. \r\n\r\n  [1]: https://i.stack.imgur.com/WQex1.png","title":"Conserving RAM in java by using references to objects","body":"<p>I know some about java, and a lot about the lower level functions of a computer, so I'm always looking for ways to conserve ram. I'm also a fan of dwarf fortress, so I've been trying to get some similar system working. So, what I want to do is to make multiple tiles, assign them some type of material, and all the tiles with the same type of material share the same material object. I drew a little picture to illustrate it: <a href=\"https://i.stack.imgur.com/WQex1.png\" rel=\"nofollow noreferrer\">here</a>\nDoes java do this automatically? or do I have to implement it by myself? If I make two copies of the material properties, is there a way to merge them both into one?</p>\n<p>Thank you for responding.</p>\n"},{"tags":["java","textures","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":5723206,"reputation":2441,"user_id":4521040,"display_name":"javac"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1439454782,"creation_date":1439454782,"answer_id":31983229,"question_id":31972106,"body_markdown":"As of LWJGL3 bindings for the [STB library](https://github.com/nothings/stb) have been included. This is a small single-file utility library that does things like loading textures, sound files or fonts.\r\n\r\n- - -\r\n\r\nFor rendering a cube with a different texture on each side you have two options:\r\n\r\n1. Render each face separately with another texture bound. This is the more straightforward option.\r\n2. Make a [texture atlas](https://en.wikipedia.org/wiki/Texture_atlas) of all the textures and render the whole cube once. This is not as easy to do but will give better performance, especially when rendering multiple cubes.\r\n\r\n[Introductory tutorial on how to use textures](http://learnopengl.com/#!Getting-started/Textures). (It is in C++, but should be easy to convert to Java.)","title":"How do I load a texture in LWJGL from a PNG without Slick?","body":"<p>As of LWJGL3 bindings for the <a href=\"https://github.com/nothings/stb\" rel=\"nofollow\">STB library</a> have been included. This is a small single-file utility library that does things like loading textures, sound files or fonts.</p>\n\n<hr>\n\n<p>For rendering a cube with a different texture on each side you have two options:</p>\n\n<ol>\n<li>Render each face separately with another texture bound. This is the more straightforward option.</li>\n<li>Make a <a href=\"https://en.wikipedia.org/wiki/Texture_atlas\" rel=\"nofollow\">texture atlas</a> of all the textures and render the whole cube once. This is not as easy to do but will give better performance, especially when rendering multiple cubes.</li>\n</ol>\n\n<p><a href=\"http://learnopengl.com/#!Getting-started/Textures\" rel=\"nofollow\">Introductory tutorial on how to use textures</a>. (It is in C++, but should be easy to convert to Java.)</p>\n"},{"tags":[],"owner":{"account_id":3528855,"reputation":103,"user_id":2949095,"display_name":"Tyler Bucher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526329847,"creation_date":1439875337,"answer_id":32064107,"question_id":31972106,"body_markdown":"Take a look at the LWJGL [STBImage][1] example.\r\n\r\n\r\n  [1]: https://github.com/LWJGL/lwjgl3/blob/master/modules/samples/src/test/java/org/lwjgl/demo/stb/Image.java\r\n\r\n    /*\r\n     * Copyright LWJGL. All rights reserved.\r\n     * License terms: https://www.lwjgl.org/license\r\n     */\r\n    package org.lwjgl.demo.stb;\r\n    \r\n    import org.lwjgl.glfw.*;\r\n    import org.lwjgl.opengl.*;\r\n    import org.lwjgl.system.*;\r\n    \r\n    import java.io.*;\r\n    import java.nio.*;\r\n    import java.util.*;\r\n    \r\n    import static java.lang.Math.*;\r\n    import static org.lwjgl.demo.glfw.GLFWUtil.*;\r\n    import static org.lwjgl.demo.util.IOUtil.*;\r\n    import static org.lwjgl.glfw.Callbacks.*;\r\n    import static org.lwjgl.glfw.GLFW.*;\r\n    import static org.lwjgl.opengl.GL11.*;\r\n    import static org.lwjgl.opengl.GL12.*;\r\n    import static org.lwjgl.stb.STBImage.*;\r\n    import static org.lwjgl.stb.STBImageResize.*;\r\n    import static org.lwjgl.system.MemoryStack.*;\r\n    import static org.lwjgl.system.MemoryUtil.*;\r\n    \r\n    /** STB Image demo. */\r\n    public final class Image {\r\n    \r\n        private final ByteBuffer image;\r\n    \r\n        private final int w;\r\n        private final int h;\r\n        private final int comp;\r\n    \r\n        private long window;\r\n        private int  ww;\r\n        private int  wh;\r\n    \r\n        private boolean ctrlDown;\r\n    \r\n        private int scale;\r\n    \r\n        private Callback debugProc;\r\n    \r\n        private Image(String imagePath) {\r\n            ByteBuffer imageBuffer;\r\n            try {\r\n            imageBuffer = ioResourceToByteBuffer(imagePath, 8 * 1024);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        \r\n        try (MemoryStack stack = stackPush()) {\r\n            IntBuffer w    = stack.mallocInt(1);\r\n            IntBuffer h    = stack.mallocInt(1);\r\n            IntBuffer comp = stack.mallocInt(1);\r\n        \r\n            // Use info to read image metadata without decoding the entire image.\r\n            // We don&#39;t need this for this demo, just testing the API.\r\n            if (!stbi_info_from_memory(imageBuffer, w, h, comp)) {\r\n                throw new RuntimeException(&quot;Failed to read image information: &quot; + stbi_failure_reason());\r\n            } else {\r\n                System.out.println(&quot;OK with reason: &quot; + stbi_failure_reason());\r\n            }\r\n        \r\n            System.out.println(&quot;Image width: &quot; + w.get(0));\r\n            System.out.println(&quot;Image height: &quot; + h.get(0));\r\n            System.out.println(&quot;Image components: &quot; + comp.get(0));\r\n            System.out.println(&quot;Image HDR: &quot; + stbi_is_hdr_from_memory(imageBuffer));\r\n        \r\n            // Decode the image\r\n            image = stbi_load_from_memory(imageBuffer, w, h, comp, 0);\r\n            if (image == null) {\r\n                throw new RuntimeException(&quot;Failed to load image: &quot; + stbi_failure_reason());\r\n            }\r\n        \r\n            this.w = w.get(0);\r\n            this.h = h.get(0);\r\n            this.comp = comp.get(0);\r\n        }\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            String imagePath;\r\n            if (args.length == 0) {\r\n                System.out.println(&quot;Use &#39;ant demo -Dclass=org.lwjgl.demo.stb.Image -Dargs=&lt;path&gt;&#39; to load a different image.\\n&quot;);\r\n                imagePath = &quot;lwjgl32.png&quot;;\r\n            } else {\r\n                imagePath = args[0];\r\n            }\r\n            new Image(imagePath).run();\r\n        }\r\n        \r\n        private void run() {\r\n            try {\r\n                init();\r\n        \r\n                loop();\r\n            } finally {\r\n                try {\r\n                    destroy();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        \r\n        private void windowSizeChanged(long window, int width, int height) {\r\n            this.ww = width;\r\n            this.wh = height;\r\n        \r\n            glMatrixMode(GL_PROJECTION);\r\n            glLoadIdentity();\r\n            glOrtho(0.0, width, height, 0.0, -1.0, 1.0);\r\n            glMatrixMode(GL_MODELVIEW);\r\n        }\r\n        \r\n        private static void framebufferSizeChanged(long window, int width, int height) {\r\n            glViewport(0, 0, width, height);\r\n        }\r\n        \r\n        private void init() {\r\n            GLFWErrorCallback.createPrint().set();\r\n            if (!glfwInit()) {\r\n                throw new IllegalStateException(&quot;Unable to initialize GLFW&quot;);\r\n            }\r\n        \r\n            glfwDefaultWindowHints();\r\n            glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\r\n            glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE);\r\n            glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 2);\r\n            glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 1);\r\n        \r\n            GLFWVidMode vidmode = Objects.requireNonNull(glfwGetVideoMode(glfwGetPrimaryMonitor()));\r\n        \r\n            ww = max(800, min(w, vidmode.width() - 160));\r\n            wh = max(600, min(h, vidmode.height() - 120));\r\n        \r\n            this.window = glfwCreateWindow(ww, wh, &quot;STB Image Demo&quot;, NULL, NULL);\r\n            if (window == NULL) {\r\n                throw new RuntimeException(&quot;Failed to create the GLFW window&quot;);\r\n            }\r\n        \r\n            // Center window\r\n            glfwSetWindowPos(\r\n                window,\r\n                (vidmode.width() - ww) / 2,\r\n                (vidmode.height() - wh) / 2\r\n            );\r\n        \r\n            glfwSetWindowRefreshCallback(window, window -&gt; render());\r\n            glfwSetWindowSizeCallback(window, this::windowSizeChanged);\r\n            glfwSetFramebufferSizeCallback(window, Image::framebufferSizeChanged);\r\n        \r\n            glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\r\n                ctrlDown = (mods &amp; GLFW_MOD_CONTROL) != 0;\r\n                if (action == GLFW_RELEASE) {\r\n                    return;\r\n                }\r\n        \r\n                switch (key) {\r\n                    case GLFW_KEY_ESCAPE:\r\n                        glfwSetWindowShouldClose(window, true);\r\n                        break;\r\n                    case GLFW_KEY_KP_ADD:\r\n                    case GLFW_KEY_EQUAL:\r\n                        setScale(scale + 1);\r\n                        break;\r\n                    case GLFW_KEY_KP_SUBTRACT:\r\n                    case GLFW_KEY_MINUS:\r\n                        setScale(scale - 1);\r\n                        break;\r\n                    case GLFW_KEY_0:\r\n                    case GLFW_KEY_KP_0:\r\n                        if (ctrlDown) {\r\n                            setScale(0);\r\n                        }\r\n                        break;\r\n                }\r\n            });\r\n        \r\n            glfwSetScrollCallback(window, (window, xoffset, yoffset) -&gt; {\r\n                if (ctrlDown) {\r\n                    setScale(scale + (int)yoffset);\r\n                }\r\n            });\r\n        \r\n            // Create context\r\n            glfwMakeContextCurrent(window);\r\n            GL.createCapabilities();\r\n            debugProc = GLUtil.setupDebugMessageCallback();\r\n        \r\n            glfwSwapInterval(1);\r\n            glfwShowWindow(window);\r\n        \r\n            glfwInvoke(window, this::windowSizeChanged, Image::framebufferSizeChanged);\r\n        }\r\n        \r\n        private void setScale(int scale) {\r\n            this.scale = max(-9, scale);\r\n        }\r\n        \r\n        private void premultiplyAlpha() {\r\n            int stride = w * 4;\r\n            for (int y = 0; y &lt; h; y++) {\r\n                for (int x = 0; x &lt; w; x++) {\r\n                    int i = y * stride + x * 4;\r\n        \r\n                    float alpha = (image.get(i + 3) &amp; 0xFF) / 255.0f;\r\n                    image.put(i + 0, (byte)round(((image.get(i + 0) &amp; 0xFF) * alpha)));\r\n                    image.put(i + 1, (byte)round(((image.get(i + 1) &amp; 0xFF) * alpha)));\r\n                    image.put(i + 2, (byte)round(((image.get(i + 2) &amp; 0xFF) * alpha)));\r\n                }\r\n            }\r\n        }\r\n        \r\n        private int createTexture() {\r\n            int texID = glGenTextures();\r\n        \r\n            glBindTexture(GL_TEXTURE_2D, texID);\r\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\r\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR);\r\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\r\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);\r\n        \r\n            int format;\r\n            if (comp == 3) {\r\n                if ((w &amp; 3) != 0) {\r\n                    glPixelStorei(GL_UNPACK_ALIGNMENT, 2 - (w &amp; 1));\r\n                }\r\n                format = GL_RGB;\r\n            } else {\r\n                premultiplyAlpha();\r\n        \r\n                glEnable(GL_BLEND);\r\n                glBlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA);\r\n        \r\n                format = GL_RGBA;\r\n            }\r\n        \r\n            glTexImage2D(GL_TEXTURE_2D, 0, format, w, h, 0, format, GL_UNSIGNED_BYTE, image);\r\n        \r\n            ByteBuffer input_pixels = image;\r\n            int        input_w      = w;\r\n            int        input_h      = h;\r\n            int        mipmapLevel  = 0;\r\n            while (1 &lt; input_w || 1 &lt; input_h) {\r\n                int output_w = Math.max(1, input_w &gt;&gt; 1);\r\n                int output_h = Math.max(1, input_h &gt;&gt; 1);\r\n        \r\n                ByteBuffer output_pixels = memAlloc(output_w * output_h * comp);\r\n                stbir_resize_uint8_generic(\r\n                    input_pixels, input_w, input_h, input_w * comp,\r\n                    output_pixels, output_w, output_h, output_w * comp,\r\n                    comp, comp == 4 ? 3 : STBIR_ALPHA_CHANNEL_NONE, STBIR_FLAG_ALPHA_PREMULTIPLIED,\r\n                    STBIR_EDGE_CLAMP,\r\n                    STBIR_FILTER_MITCHELL,\r\n                    STBIR_COLORSPACE_SRGB\r\n                );\r\n        \r\n                if (mipmapLevel == 0) {\r\n                    stbi_image_free(image);\r\n                } else {\r\n                    memFree(input_pixels);\r\n                }\r\n        \r\n                glTexImage2D(GL_TEXTURE_2D, ++mipmapLevel, format, output_w, output_h, 0, format, GL_UNSIGNED_BYTE, output_pixels);\r\n        \r\n                input_pixels = output_pixels;\r\n                input_w = output_w;\r\n                input_h = output_h;\r\n            }\r\n            if (mipmapLevel == 0) {\r\n                stbi_image_free(image);\r\n            } else {\r\n                memFree(input_pixels);\r\n            }\r\n        \r\n            return texID;\r\n        }\r\n        \r\n        private void loop() {\r\n            int texID = createTexture();\r\n        \r\n            glEnable(GL_TEXTURE_2D);\r\n            glClearColor(43f / 255f, 43f / 255f, 43f / 255f, 0f);\r\n        \r\n            while (!glfwWindowShouldClose(window)) {\r\n                glfwPollEvents();\r\n                render();\r\n            }\r\n        \r\n            glDisable(GL_TEXTURE_2D);\r\n            glDeleteTextures(texID);\r\n        }\r\n        \r\n        private void render() {\r\n            glClear(GL_COLOR_BUFFER_BIT);\r\n        \r\n            float scaleFactor = 1.0f + scale * 0.1f;\r\n        \r\n            glPushMatrix();\r\n            glTranslatef(ww * 0.5f, wh * 0.5f, 0.0f);\r\n            glScalef(scaleFactor, scaleFactor, 1f);\r\n            glTranslatef(-w * 0.5f, -h * 0.5f, 0.0f);\r\n        \r\n            glBegin(GL_QUADS);\r\n            {\r\n                glTexCoord2f(0.0f, 0.0f);\r\n                glVertex2f(0.0f, 0.0f);\r\n        \r\n                glTexCoord2f(1.0f, 0.0f);\r\n                glVertex2f(w, 0.0f);\r\n        \r\n                glTexCoord2f(1.0f, 1.0f);\r\n                glVertex2f(w, h);\r\n        \r\n                glTexCoord2f(0.0f, 1.0f);\r\n                glVertex2f(0.0f, h);\r\n            }\r\n            glEnd();\r\n        \r\n            glPopMatrix();\r\n        \r\n            glfwSwapBuffers(window);\r\n        }\r\n        \r\n        private void destroy() {\r\n            if (debugProc != null) {\r\n                debugProc.free();\r\n            }\r\n        \r\n            glfwFreeCallbacks(window);\r\n            glfwDestroyWindow(window);\r\n            glfwTerminate();\r\n            Objects.requireNonNull(glfwSetErrorCallback(null)).free();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nedit: link updated and copied link contents.","title":"How do I load a texture in LWJGL from a PNG without Slick?","body":"<p>Take a look at the LWJGL <a href=\"https://github.com/LWJGL/lwjgl3/blob/master/modules/samples/src/test/java/org/lwjgl/demo/stb/Image.java\" rel=\"nofollow noreferrer\">STBImage</a> example.</p>\n\n<pre><code>/*\n * Copyright LWJGL. All rights reserved.\n * License terms: https://www.lwjgl.org/license\n */\npackage org.lwjgl.demo.stb;\n\nimport org.lwjgl.glfw.*;\nimport org.lwjgl.opengl.*;\nimport org.lwjgl.system.*;\n\nimport java.io.*;\nimport java.nio.*;\nimport java.util.*;\n\nimport static java.lang.Math.*;\nimport static org.lwjgl.demo.glfw.GLFWUtil.*;\nimport static org.lwjgl.demo.util.IOUtil.*;\nimport static org.lwjgl.glfw.Callbacks.*;\nimport static org.lwjgl.glfw.GLFW.*;\nimport static org.lwjgl.opengl.GL11.*;\nimport static org.lwjgl.opengl.GL12.*;\nimport static org.lwjgl.stb.STBImage.*;\nimport static org.lwjgl.stb.STBImageResize.*;\nimport static org.lwjgl.system.MemoryStack.*;\nimport static org.lwjgl.system.MemoryUtil.*;\n\n/** STB Image demo. */\npublic final class Image {\n\n    private final ByteBuffer image;\n\n    private final int w;\n    private final int h;\n    private final int comp;\n\n    private long window;\n    private int  ww;\n    private int  wh;\n\n    private boolean ctrlDown;\n\n    private int scale;\n\n    private Callback debugProc;\n\n    private Image(String imagePath) {\n        ByteBuffer imageBuffer;\n        try {\n        imageBuffer = ioResourceToByteBuffer(imagePath, 8 * 1024);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n\n    try (MemoryStack stack = stackPush()) {\n        IntBuffer w    = stack.mallocInt(1);\n        IntBuffer h    = stack.mallocInt(1);\n        IntBuffer comp = stack.mallocInt(1);\n\n        // Use info to read image metadata without decoding the entire image.\n        // We don't need this for this demo, just testing the API.\n        if (!stbi_info_from_memory(imageBuffer, w, h, comp)) {\n            throw new RuntimeException(\"Failed to read image information: \" + stbi_failure_reason());\n        } else {\n            System.out.println(\"OK with reason: \" + stbi_failure_reason());\n        }\n\n        System.out.println(\"Image width: \" + w.get(0));\n        System.out.println(\"Image height: \" + h.get(0));\n        System.out.println(\"Image components: \" + comp.get(0));\n        System.out.println(\"Image HDR: \" + stbi_is_hdr_from_memory(imageBuffer));\n\n        // Decode the image\n        image = stbi_load_from_memory(imageBuffer, w, h, comp, 0);\n        if (image == null) {\n            throw new RuntimeException(\"Failed to load image: \" + stbi_failure_reason());\n        }\n\n        this.w = w.get(0);\n        this.h = h.get(0);\n        this.comp = comp.get(0);\n    }\n    }\n\n    public static void main(String[] args) {\n        String imagePath;\n        if (args.length == 0) {\n            System.out.println(\"Use 'ant demo -Dclass=org.lwjgl.demo.stb.Image -Dargs=&lt;path&gt;' to load a different image.\\n\");\n            imagePath = \"lwjgl32.png\";\n        } else {\n            imagePath = args[0];\n        }\n        new Image(imagePath).run();\n    }\n\n    private void run() {\n        try {\n            init();\n\n            loop();\n        } finally {\n            try {\n                destroy();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private void windowSizeChanged(long window, int width, int height) {\n        this.ww = width;\n        this.wh = height;\n\n        glMatrixMode(GL_PROJECTION);\n        glLoadIdentity();\n        glOrtho(0.0, width, height, 0.0, -1.0, 1.0);\n        glMatrixMode(GL_MODELVIEW);\n    }\n\n    private static void framebufferSizeChanged(long window, int width, int height) {\n        glViewport(0, 0, width, height);\n    }\n\n    private void init() {\n        GLFWErrorCallback.createPrint().set();\n        if (!glfwInit()) {\n            throw new IllegalStateException(\"Unable to initialize GLFW\");\n        }\n\n        glfwDefaultWindowHints();\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 2);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 1);\n\n        GLFWVidMode vidmode = Objects.requireNonNull(glfwGetVideoMode(glfwGetPrimaryMonitor()));\n\n        ww = max(800, min(w, vidmode.width() - 160));\n        wh = max(600, min(h, vidmode.height() - 120));\n\n        this.window = glfwCreateWindow(ww, wh, \"STB Image Demo\", NULL, NULL);\n        if (window == NULL) {\n            throw new RuntimeException(\"Failed to create the GLFW window\");\n        }\n\n        // Center window\n        glfwSetWindowPos(\n            window,\n            (vidmode.width() - ww) / 2,\n            (vidmode.height() - wh) / 2\n        );\n\n        glfwSetWindowRefreshCallback(window, window -&gt; render());\n        glfwSetWindowSizeCallback(window, this::windowSizeChanged);\n        glfwSetFramebufferSizeCallback(window, Image::framebufferSizeChanged);\n\n        glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\n            ctrlDown = (mods &amp; GLFW_MOD_CONTROL) != 0;\n            if (action == GLFW_RELEASE) {\n                return;\n            }\n\n            switch (key) {\n                case GLFW_KEY_ESCAPE:\n                    glfwSetWindowShouldClose(window, true);\n                    break;\n                case GLFW_KEY_KP_ADD:\n                case GLFW_KEY_EQUAL:\n                    setScale(scale + 1);\n                    break;\n                case GLFW_KEY_KP_SUBTRACT:\n                case GLFW_KEY_MINUS:\n                    setScale(scale - 1);\n                    break;\n                case GLFW_KEY_0:\n                case GLFW_KEY_KP_0:\n                    if (ctrlDown) {\n                        setScale(0);\n                    }\n                    break;\n            }\n        });\n\n        glfwSetScrollCallback(window, (window, xoffset, yoffset) -&gt; {\n            if (ctrlDown) {\n                setScale(scale + (int)yoffset);\n            }\n        });\n\n        // Create context\n        glfwMakeContextCurrent(window);\n        GL.createCapabilities();\n        debugProc = GLUtil.setupDebugMessageCallback();\n\n        glfwSwapInterval(1);\n        glfwShowWindow(window);\n\n        glfwInvoke(window, this::windowSizeChanged, Image::framebufferSizeChanged);\n    }\n\n    private void setScale(int scale) {\n        this.scale = max(-9, scale);\n    }\n\n    private void premultiplyAlpha() {\n        int stride = w * 4;\n        for (int y = 0; y &lt; h; y++) {\n            for (int x = 0; x &lt; w; x++) {\n                int i = y * stride + x * 4;\n\n                float alpha = (image.get(i + 3) &amp; 0xFF) / 255.0f;\n                image.put(i + 0, (byte)round(((image.get(i + 0) &amp; 0xFF) * alpha)));\n                image.put(i + 1, (byte)round(((image.get(i + 1) &amp; 0xFF) * alpha)));\n                image.put(i + 2, (byte)round(((image.get(i + 2) &amp; 0xFF) * alpha)));\n            }\n        }\n    }\n\n    private int createTexture() {\n        int texID = glGenTextures();\n\n        glBindTexture(GL_TEXTURE_2D, texID);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);\n\n        int format;\n        if (comp == 3) {\n            if ((w &amp; 3) != 0) {\n                glPixelStorei(GL_UNPACK_ALIGNMENT, 2 - (w &amp; 1));\n            }\n            format = GL_RGB;\n        } else {\n            premultiplyAlpha();\n\n            glEnable(GL_BLEND);\n            glBlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA);\n\n            format = GL_RGBA;\n        }\n\n        glTexImage2D(GL_TEXTURE_2D, 0, format, w, h, 0, format, GL_UNSIGNED_BYTE, image);\n\n        ByteBuffer input_pixels = image;\n        int        input_w      = w;\n        int        input_h      = h;\n        int        mipmapLevel  = 0;\n        while (1 &lt; input_w || 1 &lt; input_h) {\n            int output_w = Math.max(1, input_w &gt;&gt; 1);\n            int output_h = Math.max(1, input_h &gt;&gt; 1);\n\n            ByteBuffer output_pixels = memAlloc(output_w * output_h * comp);\n            stbir_resize_uint8_generic(\n                input_pixels, input_w, input_h, input_w * comp,\n                output_pixels, output_w, output_h, output_w * comp,\n                comp, comp == 4 ? 3 : STBIR_ALPHA_CHANNEL_NONE, STBIR_FLAG_ALPHA_PREMULTIPLIED,\n                STBIR_EDGE_CLAMP,\n                STBIR_FILTER_MITCHELL,\n                STBIR_COLORSPACE_SRGB\n            );\n\n            if (mipmapLevel == 0) {\n                stbi_image_free(image);\n            } else {\n                memFree(input_pixels);\n            }\n\n            glTexImage2D(GL_TEXTURE_2D, ++mipmapLevel, format, output_w, output_h, 0, format, GL_UNSIGNED_BYTE, output_pixels);\n\n            input_pixels = output_pixels;\n            input_w = output_w;\n            input_h = output_h;\n        }\n        if (mipmapLevel == 0) {\n            stbi_image_free(image);\n        } else {\n            memFree(input_pixels);\n        }\n\n        return texID;\n    }\n\n    private void loop() {\n        int texID = createTexture();\n\n        glEnable(GL_TEXTURE_2D);\n        glClearColor(43f / 255f, 43f / 255f, 43f / 255f, 0f);\n\n        while (!glfwWindowShouldClose(window)) {\n            glfwPollEvents();\n            render();\n        }\n\n        glDisable(GL_TEXTURE_2D);\n        glDeleteTextures(texID);\n    }\n\n    private void render() {\n        glClear(GL_COLOR_BUFFER_BIT);\n\n        float scaleFactor = 1.0f + scale * 0.1f;\n\n        glPushMatrix();\n        glTranslatef(ww * 0.5f, wh * 0.5f, 0.0f);\n        glScalef(scaleFactor, scaleFactor, 1f);\n        glTranslatef(-w * 0.5f, -h * 0.5f, 0.0f);\n\n        glBegin(GL_QUADS);\n        {\n            glTexCoord2f(0.0f, 0.0f);\n            glVertex2f(0.0f, 0.0f);\n\n            glTexCoord2f(1.0f, 0.0f);\n            glVertex2f(w, 0.0f);\n\n            glTexCoord2f(1.0f, 1.0f);\n            glVertex2f(w, h);\n\n            glTexCoord2f(0.0f, 1.0f);\n            glVertex2f(0.0f, h);\n        }\n        glEnd();\n\n        glPopMatrix();\n\n        glfwSwapBuffers(window);\n    }\n\n    private void destroy() {\n        if (debugProc != null) {\n            debugProc.free();\n        }\n\n        glfwFreeCallbacks(window);\n        glfwDestroyWindow(window);\n        glfwTerminate();\n        Objects.requireNonNull(glfwSetErrorCallback(null)).free();\n    }\n\n}\n</code></pre>\n\n<p>edit: link updated and copied link contents.</p>\n"}],"owner":{"account_id":5973301,"reputation":105,"user_id":4695018,"display_name":"atoms118"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8514,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":31983229,"answer_count":2,"score":2,"last_activity_date":1638740439,"creation_date":1439401746,"question_id":31972106,"body_markdown":"I&#39;m wondering how I would render a cube with a different PNG Texture on each side, and I&#39;d like to stay away from other Third-Party Libraries other than LWJGL.","title":"How do I load a texture in LWJGL from a PNG without Slick?","body":"<p>I'm wondering how I would render a cube with a different PNG Texture on each side, and I'd like to stay away from other Third-Party Libraries other than LWJGL.</p>\n"},{"tags":["java","oop","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":4034639,"reputation":985,"user_id":3319557,"accept_rate":100,"display_name":"mlecz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638740335,"creation_date":1638740032,"answer_id":70238749,"question_id":70238693,"body_markdown":"you can use dependency inversion, so Portal will not depend on Arena\r\n\r\n    interface Startable{\r\n      void start();\r\n    }\r\n\r\n    class Arena extends Startable{...}\r\n\r\nand then:\r\n\r\n    class Portal{\r\n      private final Startable arena;\r\n      ...\r\n    }\r\n\r\nthough looking at Arena and Portal methods, it looks like those are not immutable","title":"Avoiding circular depenency between Arena and Portal","body":"<p>you can use dependency inversion, so Portal will not depend on Arena</p>\n<pre><code>interface Startable{\n  void start();\n}\n\nclass Arena extends Startable{...}\n</code></pre>\n<p>and then:</p>\n<pre><code>class Portal{\n  private final Startable arena;\n  ...\n}\n</code></pre>\n<p>though looking at Arena and Portal methods, it looks like those are not immutable</p>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638740393,"creation_date":1638740393,"answer_id":70238789,"question_id":70238693,"body_markdown":"Why not a wrapper class for both `Arena` and `Portal`:\r\n\r\n    public class PortalArena {\r\n    \r\n        private final Portal portal;\r\n    \r\n        private final Arena arena;\r\n    \r\n        PortalArena(Portal portal, Arena arena) {\r\n            this.portal = portal;\r\n            this.arena = arena;\r\n        }\r\n        \r\n        void startPortal() {\r\n            portal.start();\r\n            arena.start();\r\n            // Rest of the logic here\r\n        }\r\n    \r\n        void closeArena() {\r\n            arena.close();\r\n            portal.close();\r\n            // Rest of the logic here\r\n        }\r\n     \r\n        //....\r\n    \r\n    }","title":"Avoiding circular depenency between Arena and Portal","body":"<p>Why not a wrapper class for both <code>Arena</code> and <code>Portal</code>:</p>\n<pre><code>public class PortalArena {\n\n    private final Portal portal;\n\n    private final Arena arena;\n\n    PortalArena(Portal portal, Arena arena) {\n        this.portal = portal;\n        this.arena = arena;\n    }\n    \n    void startPortal() {\n        portal.start();\n        arena.start();\n        // Rest of the logic here\n    }\n\n    void closeArena() {\n        arena.close();\n        portal.close();\n        // Rest of the logic here\n    }\n \n    //....\n\n}\n</code></pre>\n"}],"owner":{"account_id":22241220,"reputation":23,"user_id":16475687,"display_name":"user_020599"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70238789,"answer_count":2,"score":0,"last_activity_date":1638740393,"creation_date":1638739632,"question_id":70238693,"body_markdown":"I&#39;m trying to resolve this ciruclar dependency while preferebly keeping both objects immutable. \r\n\r\n    public class Arena {\r\n    \r\n        private final Portal portal;\r\n    \r\n        Arena(Portal portal) {\r\n            this.portal = portal;\r\n        }\r\n    \r\n        void close() {\r\n            portal.close();\r\n        }\r\n    \r\n        void start() {\r\n    \r\n        }\r\n    }\r\n\r\n    public class Portal {\r\n    \r\n        private final Arena arena;\r\n    \r\n        Portal(Arena arena) {\r\n            this.arena = arena;\r\n        }\r\n    \r\n        void close() {\r\n    \r\n        }\r\n    \r\n        void start() {\r\n            arena.start();\r\n        }\r\n    \r\n    }\r\n\r\nBasically, I need portal to be able to activate itself, and start the arena. Opposite, I need Arena to reset &amp; close itself, and the portal. I found a solution by having two HashMap&#39;s &lt;Arena, Portal&gt; and &lt;Portal, Arena&gt;, however I want to figure out if it&#39;s a better way to solve this for learning and progression. \r\n\r\nThe classes are made more simple in here, as in reality they have more variables and identifiers. ","title":"Avoiding circular depenency between Arena and Portal","body":"<p>I'm trying to resolve this ciruclar dependency while preferebly keeping both objects immutable.</p>\n<pre><code>public class Arena {\n\n    private final Portal portal;\n\n    Arena(Portal portal) {\n        this.portal = portal;\n    }\n\n    void close() {\n        portal.close();\n    }\n\n    void start() {\n\n    }\n}\n\npublic class Portal {\n\n    private final Arena arena;\n\n    Portal(Arena arena) {\n        this.arena = arena;\n    }\n\n    void close() {\n\n    }\n\n    void start() {\n        arena.start();\n    }\n\n}\n</code></pre>\n<p>Basically, I need portal to be able to activate itself, and start the arena. Opposite, I need Arena to reset &amp; close itself, and the portal. I found a solution by having two HashMap's &lt;Arena, Portal&gt; and &lt;Portal, Arena&gt;, however I want to figure out if it's a better way to solve this for learning and progression.</p>\n<p>The classes are made more simple in here, as in reality they have more variables and identifiers.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8204,"page":1788,"page_size":100}
