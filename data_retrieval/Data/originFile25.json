{"items":[{"tags":["java","scala","gradle"],"comments":[{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1701355245,"post_id":77577695,"comment_id":136767439,"body_markdown":"Perhaps indicate the desired end state?  You want all the files, but you don&#39;t want them merged into one.  If you want all the files, then you&#39;ll will need to either have varying filenames or something else.  If you indicate what you would prefer your end jar to look like, it would be easier to suggest a solution.","body":"Perhaps indicate the desired end state?  You want all the files, but you don&#39;t want them merged into one.  If you want all the files, then you&#39;ll will need to either have varying filenames or something else.  If you indicate what you would prefer your end jar to look like, it would be easier to suggest a solution."},{"owner":{"account_id":222110,"reputation":5731,"user_id":480494,"accept_rate":92,"display_name":"Raiv"},"score":0,"creation_date":1701431575,"post_id":77577695,"comment_id":136777665,"body_markdown":"I need a kind of partial merge, when all conf files are merged, but other files are copied without merge","body":"I need a kind of partial merge, when all conf files are merged, but other files are copied without merge"}],"owner":{"account_id":222110,"reputation":5731,"user_id":480494,"accept_rate":92,"display_name":"Raiv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701431535,"creation_date":1701340293,"question_id":77577695,"body_markdown":"I have a gradle project (scala) with inner structure like this:\r\n```\r\napp\r\n|-reference.conf\r\nlib1\r\n|  |- reference.conf\r\nlib2\r\n   |-reference.conf\r\n   lib3\r\n      |- reference.conf\r\n```\r\nMy goal is to build fat jar with all these configs included, from bottom to top level. They all lie in the classpath root, so applying default merge strategies from gradle will save only first one. Is where a plugin to achieve that, or maybe any ideas how to write such plugin? Searching gives me variants with just appending all content to one file, but I need somehow to preserve applying order, lowest level libs should go first. Any ideas how to achieve that? default [merge strategies][1] have no content merge policies included. Renaming files by extension can also fit, but then I need to sort them somehow before reading.\r\nI want all files by mask **/*.conf merged into one, and all the rest should be added as is.\r\n \r\n  [1]: https://docs.gradle.org/8.4/javadoc/org/gradle/api/file/DuplicatesStrategy.html#INCLUDE","title":"Gradle multiproject merge config files on build","body":"<p>I have a gradle project (scala) with inner structure like this:</p>\n<pre><code>app\n|-reference.conf\nlib1\n|  |- reference.conf\nlib2\n   |-reference.conf\n   lib3\n      |- reference.conf\n</code></pre>\n<p>My goal is to build fat jar with all these configs included, from bottom to top level. They all lie in the classpath root, so applying default merge strategies from gradle will save only first one. Is where a plugin to achieve that, or maybe any ideas how to write such plugin? Searching gives me variants with just appending all content to one file, but I need somehow to preserve applying order, lowest level libs should go first. Any ideas how to achieve that? default <a href=\"https://docs.gradle.org/8.4/javadoc/org/gradle/api/file/DuplicatesStrategy.html#INCLUDE\" rel=\"nofollow noreferrer\">merge strategies</a> have no content merge policies included. Renaming files by extension can also fit, but then I need to sort them somehow before reading.\nI want all files by mask **/*.conf merged into one, and all the rest should be added as is.</p>\n"},{"tags":["java","ssl","https","connection"],"comments":[{"owner":{"account_id":14996604,"reputation":482,"user_id":10825746,"display_name":"vivekdubey"},"score":0,"creation_date":1574744148,"post_id":59043891,"comment_id":104329749,"body_markdown":"Can you check proxy setting if you are running with eclipse or any IDE?and remove connection timeout for testing.","body":"Can you check proxy setting if you are running with eclipse or any IDE?and remove connection timeout for testing."},{"owner":{"account_id":17147721,"reputation":31,"user_id":12410336,"display_name":"Sach_IN"},"score":0,"creation_date":1574744512,"post_id":59043891,"comment_id":104329857,"body_markdown":"vivekdubey am using intellij and i also removed connection timeout but not works","body":"vivekdubey am using intellij and i also removed connection timeout but not works"},{"owner":{"account_id":14996604,"reputation":482,"user_id":10825746,"display_name":"vivekdubey"},"score":0,"creation_date":1574744682,"post_id":59043891,"comment_id":104329913,"body_markdown":"Can you check proxy setting","body":"Can you check proxy setting"},{"owner":{"account_id":14996604,"reputation":482,"user_id":10825746,"display_name":"vivekdubey"},"score":0,"creation_date":1574745543,"post_id":59043891,"comment_id":104330160,"body_markdown":"You are not able to connect the url may be proxy problem or typing problem in url.","body":"You are not able to connect the url may be proxy problem or typing problem in url."},{"owner":{"account_id":17147721,"reputation":31,"user_id":12410336,"display_name":"Sach_IN"},"score":0,"creation_date":1574745724,"post_id":59043891,"comment_id":104330210,"body_markdown":"I was using the office internet which might be using some proxies.So I tried using my mobile Internet through Hotspot and I was able to fetch the results.\n\nThis might happen due to some proxy preventing it from fetching the results.\n\nThanks","body":"I was using the office internet which might be using some proxies.So I tried using my mobile Internet through Hotspot and I was able to fetch the results.  This might happen due to some proxy preventing it from fetching the results.  Thanks"},{"owner":{"account_id":17147721,"reputation":31,"user_id":12410336,"display_name":"Sach_IN"},"score":0,"creation_date":1574745803,"post_id":59043891,"comment_id":104330230,"body_markdown":"@vivekdubey can you tell me how to disable proxy so that i can access from my company internet itself","body":"@vivekdubey can you tell me how to disable proxy so that i can access from my company internet itself"},{"owner":{"account_id":14996604,"reputation":482,"user_id":10825746,"display_name":"vivekdubey"},"score":0,"creation_date":1574747780,"post_id":59043891,"comment_id":104330804,"body_markdown":"Talk to your team&#39;s network admin guys,they can help you","body":"Talk to your team&#39;s network admin guys,they can help you"}],"answers":[{"tags":[],"owner":{"account_id":17178914,"reputation":21,"user_id":12434630,"display_name":"Sven"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574744277,"creation_date":1574744277,"answer_id":59044003,"question_id":59043891,"body_markdown":"    private static void getEmployees()\r\n    {\r\n        final String uri = &quot;http://localhost:8080/springrestexample/employees&quot;;\r\n         \r\n        RestTemplate restTemplate = new RestTemplate();\r\n         \r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(&quot;parameters&quot;, headers);\r\n         \r\n        ResponseEntity&lt;String&gt; result = restTemplate.exchange(uri, HttpMethod.GET, entity, String.class);\r\n         \r\n        System.out.println(result);\r\n    }\r\n\r\nhttps://howtodoinjava.com/spring-boot2/resttemplate/spring-restful-client-resttemplate-example/","title":"Java Https POST fails with connection timed out but works with Postman. Can anyone help me out?","body":"<pre><code>private static void getEmployees()\n{\n    final String uri = \"http://localhost:8080/springrestexample/employees\";\n\n    RestTemplate restTemplate = new RestTemplate();\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(\"parameters\", headers);\n\n    ResponseEntity&lt;String&gt; result = restTemplate.exchange(uri, HttpMethod.GET, entity, String.class);\n\n    System.out.println(result);\n}\n</code></pre>\n\n<p><a href=\"https://howtodoinjava.com/spring-boot2/resttemplate/spring-restful-client-resttemplate-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/spring-boot2/resttemplate/spring-restful-client-resttemplate-example/</a></p>\n"},{"tags":[],"owner":{"account_id":17147721,"reputation":31,"user_id":12410336,"display_name":"Sach_IN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574745858,"creation_date":1574745858,"answer_id":59044269,"question_id":59043891,"body_markdown":"I was using the office internet which might be using some proxies.So I tried using my mobile Internet through Hotspot and I was able to fetch the results.\r\n\r\nThis might happen due to some proxy preventing it from fetching the results.\r\n\r\nThanks","title":"Java Https POST fails with connection timed out but works with Postman. Can anyone help me out?","body":"<p>I was using the office internet which might be using some proxies.So I tried using my mobile Internet through Hotspot and I was able to fetch the results.</p>\n\n<p>This might happen due to some proxy preventing it from fetching the results.</p>\n\n<p>Thanks</p>\n"},{"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":1,"creation_date":1701546677,"post_id":77585064,"comment_id":136790219,"body_markdown":"Unless there is evidence of a typo in the posted question discussion your own typos are not particularly helpful.","body":"Unless there is evidence of a typo in the posted question discussion your own typos are not particularly helpful."}],"tags":[],"owner":{"account_id":30039889,"reputation":1,"user_id":23020986,"display_name":"NEERAJ"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701431347,"creation_date":1701431347,"answer_id":77585064,"question_id":59043891,"body_markdown":"I also faced similar problem but mine was more of a typo. I mixed up between http and https. ","title":"Java Https POST fails with connection timed out but works with Postman. Can anyone help me out?","body":"<p>I also faced similar problem but mine was more of a typo. I mixed up between http and https.</p>\n"}],"owner":{"account_id":17147721,"reputation":31,"user_id":12410336,"display_name":"Sach_IN"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1616,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1701431347,"creation_date":1574743489,"question_id":59043891,"body_markdown":"\r\n\r\n    URL url = new URL(“My url”);\r\n    HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\n    Base64EncoderDecoder encoder = new Base64EncoderDecoder();\r\n    String encoded = encoder.encodeToString(userName+”:”+password);\r\n    conn.setRequestProperty(AUTHORIZATION, BASIC + encoded);\r\n    conn.setRequestMethod(POST);\r\n    conn.setRequestProperty(CONTENT_TYPE, FORM_URL_ENCODED);\t\t\r\n    conn.setConnectTimeout(10000);\r\n    conn.setDoInput(true);\r\n    conn.setDoOutput(true);\r\n    conn.connect();\r\nCan anyone tell me whats wrong with my code?","title":"Java Https POST fails with connection timed out but works with Postman. Can anyone help me out?","body":"<pre><code>URL url = new URL(“My url”);\nHttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\nBase64EncoderDecoder encoder = new Base64EncoderDecoder();\nString encoded = encoder.encodeToString(userName+”:”+password);\nconn.setRequestProperty(AUTHORIZATION, BASIC + encoded);\nconn.setRequestMethod(POST);\nconn.setRequestProperty(CONTENT_TYPE, FORM_URL_ENCODED);        \nconn.setConnectTimeout(10000);\nconn.setDoInput(true);\nconn.setDoOutput(true);\nconn.connect();\n</code></pre>\n\n<p>Can anyone tell me whats wrong with my code?</p>\n"},{"tags":["python","java","robotframework","jpype"],"comments":[{"owner":{"account_id":2205293,"reputation":3363,"user_id":4136999,"display_name":"toyota Supra"},"score":0,"creation_date":1701429733,"post_id":77584854,"comment_id":136777389,"body_markdown":"You left out semi-colon in foo function.","body":"You left out semi-colon in foo function."},{"owner":{"account_id":2727653,"reputation":389,"user_id":2352242,"accept_rate":50,"display_name":"szoszk"},"score":1,"creation_date":1701430771,"post_id":77584854,"comment_id":136777552,"body_markdown":"Right, I forgot it here. But in my actual code it&#39;s there, so that can&#39;t be the problem","body":"Right, I forgot it here. But in my actual code it&#39;s there, so that can&#39;t be the problem"},{"owner":{"account_id":9927990,"reputation":398,"user_id":7349134,"display_name":"Sam Maksymyshyn"},"score":0,"creation_date":1701433086,"post_id":77584854,"comment_id":136777886,"body_markdown":"Just in case, points to check first: 1. check that your class with the `foo` method is also named JavaWrapper, as the Python file. 2.  Does your robot file have the correct import of JavaWrapper.py? 3. there should not be red errors in the console while running your code.","body":"Just in case, points to check first: 1. check that your class with the <code>foo</code> method is also named JavaWrapper, as the Python file. 2.  Does your robot file have the correct import of JavaWrapper.py? 3. there should not be red errors in the console while running your code."},{"owner":{"account_id":2727653,"reputation":389,"user_id":2352242,"accept_rate":50,"display_name":"szoszk"},"score":0,"creation_date":1701446427,"post_id":77584854,"comment_id":136780448,"body_markdown":"@SamMaksymyshyn The foo method is in the same class as the other methods for getting the keywords from the jar files. The import in the robot file is definitely correct, because it works otherwise (the keywords from the jar are detected correctly). There&#39;s also no errors at all if I leave out the foo method","body":"@SamMaksymyshyn The foo method is in the same class as the other methods for getting the keywords from the jar files. The import in the robot file is definitely correct, because it works otherwise (the keywords from the jar are detected correctly). There&#39;s also no errors at all if I leave out the foo method"},{"owner":{"account_id":9927990,"reputation":398,"user_id":7349134,"display_name":"Sam Maksymyshyn"},"score":0,"creation_date":1701454897,"post_id":77584854,"comment_id":136781939,"body_markdown":"Hmm, maybe it would be useful to post your robot file + JavaWrapper.py here if possible.","body":"Hmm, maybe it would be useful to post your robot file + JavaWrapper.py here if possible."}],"owner":{"account_id":2727653,"reputation":389,"user_id":2352242,"accept_rate":50,"display_name":"szoszk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701430685,"creation_date":1701429179,"question_id":77584854,"body_markdown":"I&#39;m trying to use JPype with Robotframework to be able to use java-based SUTs.\r\n\r\nI used this (https://forum.robotframework.org/t/connecting-java-with-robot-framework/5253) forum Post to implement it (modified it a bit to work with non-static methods) and it works well. However, I&#39;m unable to create other functions in this JavaWrapper.py to use as keywords in my .robot file. The reason I want to do it, is to be able to use different arguments for the constructor of the java object for each test case.\r\n\r\nMy python code looks something like this:\r\n\r\n    def foo(self, name: str):\r\n        do_something()\r\nAnd in the robot file I&#39;m using:\r\n\r\n    Foo    name\r\nThe error I&#39;m getting is just ```No keyword with name &#39;Foo&#39; found.```. At the same time the keywords from the jar file are detected normally and I can use them without errors or warnings.","title":"JPype and robotframework custom keywords","body":"<p>I'm trying to use JPype with Robotframework to be able to use java-based SUTs.</p>\n<p>I used this (<a href=\"https://forum.robotframework.org/t/connecting-java-with-robot-framework/5253\" rel=\"nofollow noreferrer\">https://forum.robotframework.org/t/connecting-java-with-robot-framework/5253</a>) forum Post to implement it (modified it a bit to work with non-static methods) and it works well. However, I'm unable to create other functions in this JavaWrapper.py to use as keywords in my .robot file. The reason I want to do it, is to be able to use different arguments for the constructor of the java object for each test case.</p>\n<p>My python code looks something like this:</p>\n<pre><code>def foo(self, name: str):\n    do_something()\n</code></pre>\n<p>And in the robot file I'm using:</p>\n<pre><code>Foo    name\n</code></pre>\n<p>The error I'm getting is just <code>No keyword with name 'Foo' found.</code>. At the same time the keywords from the jar file are detected normally and I can use them without errors or warnings.</p>\n"},{"tags":["java","pdf","itext","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1701429763,"post_id":77584604,"comment_id":136777395,"body_markdown":"Yes, _the A4 format is 595 x 842_ user space units (not _pixels_,), at least approximately, but this rectangle can be located anywhere on the plane. _Often_ the lower left of that rectangle is at the origin (0,0) but in general it can be anywhere. Unfortunately the link for the file you&#39;re using shows &quot;The transfer you requested has been deleted.&quot; Thus, I cannot check where the page rectangle is located in your case. Furthermore, there may be off-page text included in the calculation.","body":"Yes, <i>the A4 format is 595 x 842</i> user space units (not <i>pixels</i>,), at least approximately, but this rectangle can be located anywhere on the plane. <i>Often</i> the lower left of that rectangle is at the origin (0,0) but in general it can be anywhere. Unfortunately the link for the file you&#39;re using shows &quot;The transfer you requested has been deleted.&quot; Thus, I cannot check where the page rectangle is located in your case. Furthermore, there may be off-page text included in the calculation."},{"owner":{"account_id":1841992,"reputation":1888,"user_id":1671226,"accept_rate":78,"display_name":"Black.Jack"},"score":0,"creation_date":1701430511,"post_id":77584604,"comment_id":136777504,"body_markdown":"mmm very interesting. Sorry for the short tolerance of the host site, didn&#39;t expected to be so limited, I&#39;ve updated file link with another host, very annoying.\nThis page has ben extracted from a multipage, also this is the result of a &quot;flattening&quot; I&#39;ve done before.\nIsn&#39;t there a way to estabilish what textboxes are in the &quot;visible area&quot;? thanks mkl!\nOtherwise, another strategy, since I could chose the wrong attempt to solve my issue.\nAt least, all the pdfs I need to &quot;trim/clip&quot; has same caracteristics of the one I&#39;ve uploaded, so in case of solving, I&#39;m not in need to generalize too much.","body":"mmm very interesting. Sorry for the short tolerance of the host site, didn&#39;t expected to be so limited, I&#39;ve updated file link with another host, very annoying. This page has ben extracted from a multipage, also this is the result of a &quot;flattening&quot; I&#39;ve done before. Isn&#39;t there a way to estabilish what textboxes are in the &quot;visible area&quot;? thanks mkl! Otherwise, another strategy, since I could chose the wrong attempt to solve my issue. At least, all the pdfs I need to &quot;trim/clip&quot; has same caracteristics of the one I&#39;ve uploaded, so in case of solving, I&#39;m not in need to generalize too much."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1701432912,"post_id":77584604,"comment_id":136777860,"body_markdown":"Ok, the media box is positioned as usual, so the issue appears to be due to off-page content. Indeed, there are lots of nested form XObjects, some drawn with quite some offsets, some having bounding boxes way off-page, ... It is at least plausible that some off-page content will be found.","body":"Ok, the media box is positioned as usual, so the issue appears to be due to off-page content. Indeed, there are lots of nested form XObjects, some drawn with quite some offsets, some having bounding boxes way off-page, ... It is at least plausible that some off-page content will be found."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1701433115,"post_id":77584604,"comment_id":136777890,"body_markdown":"*&quot;Isn&#39;t there a way to estabilish what textboxes are in the &quot;visible area&quot;?&quot;* - You can wrap the `TextMarginFinder` in a `FilteredEventListener` with `IEventFilter`s that only accept content inside the media box page area.","body":"<i>&quot;Isn&#39;t there a way to estabilish what textboxes are in the &quot;visible area&quot;?&quot;</i> - You can wrap the <code>TextMarginFinder</code> in a <code>FilteredEventListener</code> with <code>IEventFilter</code>s that only accept content inside the media box page area."},{"owner":{"account_id":1841992,"reputation":1888,"user_id":1671226,"accept_rate":78,"display_name":"Black.Jack"},"score":0,"creation_date":1701434439,"post_id":77584604,"comment_id":136778108,"body_markdown":"I understood, conceptually, since with so many 404&#39;s on documentations is very hard to figure out how to do things, but if I compare the countries textboxes, they have crazy coords. So those would be excluded even if they&#39;re visible.\nAlso, If I open the pdf with an editor like FoxPdf, if I try to get the same textboxes, the coordinates are clearly between the A4 limits.","body":"I understood, conceptually, since with so many 404&#39;s on documentations is very hard to figure out how to do things, but if I compare the countries textboxes, they have crazy coords. So those would be excluded even if they&#39;re visible. Also, If I open the pdf with an editor like FoxPdf, if I try to get the same textboxes, the coordinates are clearly between the A4 limits."},{"owner":{"account_id":1841992,"reputation":1888,"user_id":1671226,"accept_rate":78,"display_name":"Black.Jack"},"score":0,"creation_date":1701434550,"post_id":77584604,"comment_id":136778134,"body_markdown":"I&#39;ve put my ide in debug mode with visibility of inner strategy field locations visible, so I can see each textboxes coords, because these informations are in private class attributes by design...","body":"I&#39;ve put my ide in debug mode with visibility of inner strategy field locations visible, so I can see each textboxes coords, because these informations are in private class attributes by design..."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1701444615,"post_id":77584604,"comment_id":136780095,"body_markdown":"*&quot;so many 404&#39;s on documentations&quot;* - currently the iText knowledgebase is moving to a different platform. As they didn&#39;t have a permalink concept before, this likely will break some links there...","body":"<i>&quot;so many 404&#39;s on documentations&quot;</i> - currently the iText knowledgebase is moving to a different platform. As they didn&#39;t have a permalink concept before, this likely will break some links there..."},{"owner":{"account_id":1841992,"reputation":1888,"user_id":1671226,"accept_rate":78,"display_name":"Black.Jack"},"score":0,"creation_date":1701447341,"post_id":77584604,"comment_id":136780646,"body_markdown":"Surely even if available won&#39;t explain those strange coords for textfields in my pdf...","body":"Surely even if available won&#39;t explain those strange coords for textfields in my pdf..."}],"owner":{"account_id":1841992,"reputation":1888,"user_id":1671226,"accept_rate":78,"display_name":"Black.Jack"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701430308,"creation_date":1701426643,"question_id":77584604,"body_markdown":"FOA: I&#39;m using recent IText8 core apis, which are very similar to 7 version AFAICS.\r\nAs per [documentation][1] the class TextMarginFinder should help me to find, between all textboxes in my pdf, the maximum and minimum y coordinates, which in a second operation I&#39;d use to crop\\clip the unused upper and lower area of the pdf.\r\n\r\n[This][2] is the file I&#39;m using.\r\n\r\nThis is my code attempt:\r\n\r\n  \r\n\r\n    private static final String pdfTestFile=&quot;./ExtractedPage6test.pdf&quot;; \r\n        public static void main(String[] args) throws IOException {\r\n            PdfDocument pdf = new PdfDocument(new PdfReader(pdfTestFile));\r\n            PdfDocumentContentParser contentParser = new PdfDocumentContentParser(pdf);\r\n            TextMarginFinder strategy = contentParser.processContent(1, new TextMarginFinder());//LocationTextExtractionStrategy\r\n    \r\n            System.out.println(&quot;getTop-&gt;&quot; +strategy.getTextRectangle().getTop());\r\n            System.out.println(&quot;getBottom-&gt;&quot; +strategy.getTextRectangle().getBottom());\r\n            System.out.println(&quot;getHeight-&gt;&quot; +strategy.getTextRectangle().getHeight());\r\n            System.out.println(&quot;getX-&gt;&quot; +strategy.getTextRectangle().getX());\r\n            System.out.println(&quot;getY-&gt;&quot; +strategy.getTextRectangle().getY());\r\n    \r\n            System.out.println(&quot;====================&quot;);\r\n            System.out.println(&quot;getTextRectangle-&gt;&quot; +strategy.getTextRectangle());\r\n    \r\n            System.out.println(&quot;toPointsArray-&gt;&quot; +     Arrays.stream(strategy.getTextRectangle().toPointsArray()).toList());\r\n     \r\n            //new ExtractTextDimensions().testBeforeAkhilNagaSai(pdfTestFile);\r\n    //        new ExtractTextPlusY().testExtractTextPlusYFromTest(pdfTestFile);\r\n        }\r\n\r\nAs you can see there are also some other commented attempt from mkl&#39;s classes I&#39;ve found in other threads here, same strange coordinates as result.\r\n\r\nThis is the output:\r\n\r\n    getTop-&gt;1640.5029\r\n    \r\n    getBottom-&gt;764.5649\r\n    \r\n    getHeight-&gt;875.93805\r\n    \r\n    getX-&gt;86.254974\r\n    \r\n    getY-&gt;764.5649\r\n    \r\n    ====================\r\n    \r\n    getTextRectangle-&gt;Rectangle: 431.03903x875.93805\r\n    \r\n    toPointsArray-&gt;[Point: [x=86.255,y=764.565], Point: [x=517.294,y=764.565], Point: [x=517.294,y=1,640.503], Point: [x=86.255,y=1,640.503]]\r\n\r\nNow, I&#39;m quite confused since the A4 format is 595 x 842 pixels. The coordinates given from the snippet are far beyond those limits. \r\nAlso, the resulting bounding box rectangle should be identifiable with only 2 points but resulting PointArray has 4.\r\n\r\n  [1]: https://api.itextpdf.com/iText/java/7.0.0/com/itextpdf/kernel/pdf/canvas/parser/listener/TextMarginFinder.html\r\n  [2]: https://easyupload.io/bjgyez","title":"Itext8 TextMarginFinder strange output coordinates","body":"<p>FOA: I'm using recent IText8 core apis, which are very similar to 7 version AFAICS.\nAs per <a href=\"https://api.itextpdf.com/iText/java/7.0.0/com/itextpdf/kernel/pdf/canvas/parser/listener/TextMarginFinder.html\" rel=\"nofollow noreferrer\">documentation</a> the class TextMarginFinder should help me to find, between all textboxes in my pdf, the maximum and minimum y coordinates, which in a second operation I'd use to crop\\clip the unused upper and lower area of the pdf.</p>\n<p><a href=\"https://easyupload.io/bjgyez\" rel=\"nofollow noreferrer\">This</a> is the file I'm using.</p>\n<p>This is my code attempt:</p>\n<pre><code>private static final String pdfTestFile=&quot;./ExtractedPage6test.pdf&quot;; \n    public static void main(String[] args) throws IOException {\n        PdfDocument pdf = new PdfDocument(new PdfReader(pdfTestFile));\n        PdfDocumentContentParser contentParser = new PdfDocumentContentParser(pdf);\n        TextMarginFinder strategy = contentParser.processContent(1, new TextMarginFinder());//LocationTextExtractionStrategy\n\n        System.out.println(&quot;getTop-&gt;&quot; +strategy.getTextRectangle().getTop());\n        System.out.println(&quot;getBottom-&gt;&quot; +strategy.getTextRectangle().getBottom());\n        System.out.println(&quot;getHeight-&gt;&quot; +strategy.getTextRectangle().getHeight());\n        System.out.println(&quot;getX-&gt;&quot; +strategy.getTextRectangle().getX());\n        System.out.println(&quot;getY-&gt;&quot; +strategy.getTextRectangle().getY());\n\n        System.out.println(&quot;====================&quot;);\n        System.out.println(&quot;getTextRectangle-&gt;&quot; +strategy.getTextRectangle());\n\n        System.out.println(&quot;toPointsArray-&gt;&quot; +     Arrays.stream(strategy.getTextRectangle().toPointsArray()).toList());\n \n        //new ExtractTextDimensions().testBeforeAkhilNagaSai(pdfTestFile);\n//        new ExtractTextPlusY().testExtractTextPlusYFromTest(pdfTestFile);\n    }\n</code></pre>\n<p>As you can see there are also some other commented attempt from mkl's classes I've found in other threads here, same strange coordinates as result.</p>\n<p>This is the output:</p>\n<pre><code>getTop-&gt;1640.5029\n\ngetBottom-&gt;764.5649\n\ngetHeight-&gt;875.93805\n\ngetX-&gt;86.254974\n\ngetY-&gt;764.5649\n\n====================\n\ngetTextRectangle-&gt;Rectangle: 431.03903x875.93805\n\ntoPointsArray-&gt;[Point: [x=86.255,y=764.565], Point: [x=517.294,y=764.565], Point: [x=517.294,y=1,640.503], Point: [x=86.255,y=1,640.503]]\n</code></pre>\n<p>Now, I'm quite confused since the A4 format is 595 x 842 pixels. The coordinates given from the snippet are far beyond those limits.\nAlso, the resulting bounding box rectangle should be identifiable with only 2 points but resulting PointArray has 4.</p>\n"},{"tags":["java","hibernate","jpa","orm","h2"],"owner":{"account_id":30039461,"reputation":1,"user_id":23020651,"display_name":"Kasper Jordt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701428616,"creation_date":1701428441,"question_id":77584786,"body_markdown":"I am trying to create an in-memory database using H2 as the database and Hibernate as the ORM.\r\n\r\nVersions:\r\n- Java: 17 \r\n- Hibernate: 6.4.0.Final\r\n- H2: 2.2.224\r\n- JPA: 2.2\r\n\r\nI have the following entry point for the app:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        Configuration configuration = new Configuration().configure();\r\n        try (SessionFactory sessionFactory = configuration.buildSessionFactory()) {\r\n            User newUser = new User();\r\n            newUser.setName(&quot;John Doe&quot;);\r\n            newUser.setEmail(&quot;john.doe@example.com&quot;);\r\n            \r\n            try (Session session = sessionFactory.openSession()) {\r\n                Transaction transaction = session.beginTransaction();\r\n                session.persist(newUser);\r\n                transaction.commit();\r\n            }\r\n        }\r\n    }\r\n```\r\n(collected into single function for clarity)\r\n\r\nThis is my user POJO:\r\n\r\n```\r\npackage Application.Model;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    private String email;\r\n\r\n    // getters and setters\r\n}\r\n\r\n```\r\n\r\nAnd lastly, this is my Hibernate configuration file named &#39;hibernate.cfg.xml&#39;:\r\n\r\n\r\n```\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.h2.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:h2:mem:test-db;DB_CLOSE_DELAY=-1;&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;sa&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;1234&lt;/property&gt;\r\n        &lt;mapping class=&quot;Application.Model.User&quot;/&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nExecuting the above code gives me the error:\r\n&quot;Unable to locate persister: AtmEngine.Model.User&quot;\r\n\r\n\r\n\r\nI tried following other solutions to the problem I found here:\r\nhttps://stackoverflow.com/questions/59438059/getting-hibernate-unknownentitytypeexception-unable-to-locate-persister-on-appl\r\n\r\nhttps://www.reddit.com/r/javahelp/comments/16n25jx/orghibernateunknownentitytypeexception_unable_to/\r\n\r\nBut they did not solve the issue. \r\n\r\nI also tried removing the @GeneratedValue annotation, but that did not work either.\r\n\r\nThe session factory gets built without errors and the session is also opened without errors.\r\n\r\nAre any you able to spot the issue? Thanks!","title":"Error &quot;Unable to locate persister: ....&quot; when saving entity to H2 database with Hibernate","body":"<p>I am trying to create an in-memory database using H2 as the database and Hibernate as the ORM.</p>\n<p>Versions:</p>\n<ul>\n<li>Java: 17</li>\n<li>Hibernate: 6.4.0.Final</li>\n<li>H2: 2.2.224</li>\n<li>JPA: 2.2</li>\n</ul>\n<p>I have the following entry point for the app:</p>\n<pre><code>public static void main(String[] args) {\n        Configuration configuration = new Configuration().configure();\n        try (SessionFactory sessionFactory = configuration.buildSessionFactory()) {\n            User newUser = new User();\n            newUser.setName(&quot;John Doe&quot;);\n            newUser.setEmail(&quot;john.doe@example.com&quot;);\n            \n            try (Session session = sessionFactory.openSession()) {\n                Transaction transaction = session.beginTransaction();\n                session.persist(newUser);\n                transaction.commit();\n            }\n        }\n    }\n</code></pre>\n<p>(collected into single function for clarity)</p>\n<p>This is my user POJO:</p>\n<pre><code>package Application.Model;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String email;\n\n    // getters and setters\n}\n\n</code></pre>\n<p>And lastly, this is my Hibernate configuration file named 'hibernate.cfg.xml':</p>\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.h2.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:h2:mem:test-db;DB_CLOSE_DELAY=-1;&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;sa&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;1234&lt;/property&gt;\n        &lt;mapping class=&quot;Application.Model.User&quot;/&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Executing the above code gives me the error:\n&quot;Unable to locate persister: AtmEngine.Model.User&quot;</p>\n<p>I tried following other solutions to the problem I found here:\n<a href=\"https://stackoverflow.com/questions/59438059/getting-hibernate-unknownentitytypeexception-unable-to-locate-persister-on-appl\">Getting hibernate.UnknownEntityTypeException: Unable to locate persister on application startup</a></p>\n<p><a href=\"https://www.reddit.com/r/javahelp/comments/16n25jx/orghibernateunknownentitytypeexception_unable_to/\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/javahelp/comments/16n25jx/orghibernateunknownentitytypeexception_unable_to/</a></p>\n<p>But they did not solve the issue.</p>\n<p>I also tried removing the @GeneratedValue annotation, but that did not work either.</p>\n<p>The session factory gets built without errors and the session is also opened without errors.</p>\n<p>Are any you able to spot the issue? Thanks!</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":3,"creation_date":1597834766,"post_id":63485341,"comment_id":112261130,"body_markdown":"*&quot;not working for our requirement&quot;* can you tell more about what your requirements are?","body":"<i>&quot;not working for our requirement&quot;</i> can you tell more about what your requirements are?"},{"owner":{"account_id":14631069,"reputation":37,"user_id":10566826,"display_name":"Mahesh"},"score":0,"creation_date":1597834933,"post_id":63485341,"comment_id":112261207,"body_markdown":"@Joni Just print the statement in the console.","body":"@Joni Just print the statement in the console."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1597836680,"post_id":63485341,"comment_id":112262045,"body_markdown":"Ok, that should be doable with any logging framework. What logging framework do you use - what is `logger`?","body":"Ok, that should be doable with any logging framework. What logging framework do you use - what is <code>logger</code>?"},{"owner":{"account_id":14631069,"reputation":37,"user_id":10566826,"display_name":"Mahesh"},"score":0,"creation_date":1597840611,"post_id":63485341,"comment_id":112263975,"body_markdown":"i tired this `logger.log(Level.INFO, &quot;Print: &quot; + txt);` . But this error **&quot;Preconditions&quot; and logging arguments should not require evaluation (java:S2629)** is occurred.","body":"i tired this <code>logger.log(Level.INFO, &quot;Print: &quot; + txt);</code> . But this error <b>&quot;Preconditions&quot; and logging arguments should not require evaluation (java:S2629)</b> is occurred."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597834576,"creation_date":1597834576,"answer_id":63485455,"question_id":63485341,"body_markdown":"If logger is not meeting your requirements, make it to do so by configuring it.\r\n\r\nThere are some widely used logging frameworks that are highly configurable and I doubt that they will not be able to do whatever you are doing with plain `System.out.println`\r\n\r\nFor example, check out very popular `SLF4J` and `Logback` as logging provider.\r\n\r\nhttp://www.slf4j.org/\r\n\r\nhttp://logback.qos.ch/","title":"How to solve this issue &quot;Standard outputs should not be used directly to log anything &quot;","body":"<p>If logger is not meeting your requirements, make it to do so by configuring it.</p>\n<p>There are some widely used logging frameworks that are highly configurable and I doubt that they will not be able to do whatever you are doing with plain <code>System.out.println</code></p>\n<p>For example, check out very popular <code>SLF4J</code> and <code>Logback</code> as logging provider.</p>\n<p><a href=\"http://www.slf4j.org/\" rel=\"nofollow noreferrer\">http://www.slf4j.org/</a></p>\n<p><a href=\"http://logback.qos.ch/\" rel=\"nofollow noreferrer\">http://logback.qos.ch/</a></p>\n"},{"comments":[{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1701427864,"post_id":63487960,"comment_id":136777055,"body_markdown":"That just hides the computation of the argument from Sonar. If you willing to do that, you may as well use `@SupressWarning` or `//NOSONAR`","body":"That just hides the computation of the argument from Sonar. If you willing to do that, you may as well use <code>@SupressWarning</code> or <code>&#47;&#47;NOSONAR</code>"}],"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1597843296,"creation_date":1597843296,"answer_id":63487960,"question_id":63485341,"body_markdown":"Sonarqube does not like it if you use `System.out`, or if you have string concatenation or other computation in the arguments you pass to the logging function. Construct the full message on a separate line before logging it:\r\n```\r\nString txt = &quot;Print: &quot; + &quot;Something&quot;;\r\n\r\nString logMessage = &quot;Print: &quot; + txt;\r\nlogger.log(Level.INFO, logMessage);\r\n```","title":"How to solve this issue &quot;Standard outputs should not be used directly to log anything &quot;","body":"<p>Sonarqube does not like it if you use <code>System.out</code>, or if you have string concatenation or other computation in the arguments you pass to the logging function. Construct the full message on a separate line before logging it:</p>\n<pre><code>String txt = &quot;Print: &quot; + &quot;Something&quot;;\n\nString logMessage = &quot;Print: &quot; + txt;\nlogger.log(Level.INFO, logMessage);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701427746,"creation_date":1701427746,"answer_id":77584719,"question_id":63485341,"body_markdown":"The accepted answer is a workaround, it hides the issue from sonar but does not solve it.\r\n\r\nThe point of the warning is to avoid code that needs to run even when the logging level is high enough that the message wont be printed. With this:\r\n\r\n```\r\nlog.debug(string1 + string2);\r\n```\r\nYou will compute a new String even if you completely discard the result.\r\n\r\nI do not know what logging-framework you use, but I expect it to have a _format-string_ and 0 or more objects in its signature, so you can write this:\r\n\r\n```\r\nlog.debug(&quot;{} {}&quot;, string1, string2);\r\n```\r\nNow, if the configuration is such that debug-messages are not printed, no extra-string will be computed. The point is that the computation happens only _after_ the decision of whether something should be printed is made.","title":"How to solve this issue &quot;Standard outputs should not be used directly to log anything &quot;","body":"<p>The accepted answer is a workaround, it hides the issue from sonar but does not solve it.</p>\n<p>The point of the warning is to avoid code that needs to run even when the logging level is high enough that the message wont be printed. With this:</p>\n<pre><code>log.debug(string1 + string2);\n</code></pre>\n<p>You will compute a new String even if you completely discard the result.</p>\n<p>I do not know what logging-framework you use, but I expect it to have a <em>format-string</em> and 0 or more objects in its signature, so you can write this:</p>\n<pre><code>log.debug(&quot;{} {}&quot;, string1, string2);\n</code></pre>\n<p>Now, if the configuration is such that debug-messages are not printed, no extra-string will be computed. The point is that the computation happens only <em>after</em> the decision of whether something should be printed is made.</p>\n"}],"owner":{"account_id":14631069,"reputation":37,"user_id":10566826,"display_name":"Mahesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4360,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":63487960,"answer_count":3,"score":0,"last_activity_date":1701427746,"creation_date":1597834174,"question_id":63485341,"body_markdown":"I need a print statement. But sonar not allowed this type.\r\n\r\n    String txt=&quot;Something&quot;;\r\n    System.out.println(&quot;Print: &quot;+txt);\r\n\r\nExpected output:\r\n\r\n    Print: Something\r\n\r\nI tried this format logger.log().its not working for our requirement.","title":"How to solve this issue &quot;Standard outputs should not be used directly to log anything &quot;","body":"<p>I need a print statement. But sonar not allowed this type.</p>\n<pre><code>String txt=&quot;Something&quot;;\nSystem.out.println(&quot;Print: &quot;+txt);\n</code></pre>\n<p>Expected output:</p>\n<pre><code>Print: Something\n</code></pre>\n<p>I tried this format logger.log().its not working for our requirement.</p>\n"},{"tags":["java","logging","error-handling","bitbucket"],"owner":{"account_id":17291998,"reputation":179,"user_id":12523380,"display_name":"Desh Deepak Dhobi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701427516,"creation_date":1701427516,"question_id":77584696,"body_markdown":"I have a bitbucket repo that contains the Java codes and the developers have embedded different patterns of the logs [ERROR, CRITICAL, INFO] in the code to be thrown when a specific exception/issue is hit.\r\nNow I am trying to find all those log patterns one by one from the code which is a long-lasting tedious task.\r\n\r\nIs there any way to solve this use case in an automated way?\r\n\r\nFor example:, like upload a code to a specific app or solution and it tells you that there are 10 CRITICAL log patterns, 15 ERROR log patterns, and 20 INFO log patterns in a particular bitbucket code repository.","title":"Is there a way to find the log ERROR patterns in Bitbucket code repository","body":"<p>I have a bitbucket repo that contains the Java codes and the developers have embedded different patterns of the logs [ERROR, CRITICAL, INFO] in the code to be thrown when a specific exception/issue is hit.\nNow I am trying to find all those log patterns one by one from the code which is a long-lasting tedious task.</p>\n<p>Is there any way to solve this use case in an automated way?</p>\n<p>For example:, like upload a code to a specific app or solution and it tells you that there are 10 CRITICAL log patterns, 15 ERROR log patterns, and 20 INFO log patterns in a particular bitbucket code repository.</p>\n"},{"tags":["java","spring","spring-boot","rest","authorization"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1626044304,"post_id":68340369,"comment_id":120780809,"body_markdown":"or you could just use method security, in combination with the role based security https://docs.spring.io/spring-security/site/docs/current/reference/html5/#jc-method and not invent custom security which is bad practice.","body":"or you could just use method security, in combination with the role based security <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#jc-method\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a> and not invent custom security which is bad practice."}],"answers":[{"tags":[],"owner":{"account_id":19958505,"reputation":41,"user_id":14626672,"display_name":"jakob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626048628,"creation_date":1626048628,"answer_id":68340732,"question_id":68340369,"body_markdown":"Please do not invent custom security. Use for example Keycloak and Spring Security https://www.baeldung.com/spring-boot-keycloak","title":"Spring Boot REST API application level authorization","body":"<p>Please do not invent custom security. Use for example Keycloak and Spring Security <a href=\"https://www.baeldung.com/spring-boot-keycloak\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-keycloak</a></p>\n"}],"owner":{"account_id":8238621,"reputation":557,"user_id":6196911,"accept_rate":17,"display_name":"CS_noob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701427380,"creation_date":1626043151,"question_id":68340369,"body_markdown":"Currently building a Spring boot based REST API application (sample centralised school management system). There are various DB entities which are given CRUD access via the APIs, like **Account**, **School**, any sub-entity of school like **teacher,student** etc.\r\n\r\nSuppose we have many APIs like \r\n\r\n    GET /api/getschooldetails?account_id=1&amp;school_id=1\r\n    GET /api/getteacherlist?account_id=3&amp;school_id=2\r\n    GET /api/getstudentdetails?account_id=3&amp;school_id=2&amp;student_id=1\r\n\r\nSimilarly POST with JSON request body\r\n\r\n    POST /api/addteacher\r\n    request : {&quot;account_id&quot;:3,&quot;school_id&quot;:2,&quot;teachername&quot;:&quot;XYZ&quot;}\r\n    and \r\n    POST /api/updatestudentname\r\n    request : {&quot;account_id&quot;:3,&quot;school_id&quot;:2,&quot;student_id&quot;:4,&quot;name&quot;:&quot;ABC&quot;}\r\n\r\n\r\nHow to add authorisation at API level for the request params/JSON fields so that those users who have authenticated as `school_id=2` should get access error if they try to modify API call `/api/getteacherlist?account_id=3&amp;school_id=2` to `/api/getteacherlist?account_id=3&amp;school_id=3` and get `school_id=3` details.\r\n\r\nThinking of adding `@Before` AOP point for each Controller class to parse query param/JSON and do DB based userid validation i.e. if the userid logged in (via Spring Security Authentication) has access to the account_id and school_id mentioned in the request as they are part of every request in order to avoid code duplication or adding the same check in every DAO class before performing the actual CRUD operation. Please guide if there is any other way using Spring.\r\n\r\n","title":"Spring Boot REST API application level authorization","body":"<p>Currently building a Spring boot based REST API application (sample centralised school management system). There are various DB entities which are given CRUD access via the APIs, like <strong>Account</strong>, <strong>School</strong>, any sub-entity of school like <strong>teacher,student</strong> etc.</p>\n<p>Suppose we have many APIs like</p>\n<pre><code>GET /api/getschooldetails?account_id=1&amp;school_id=1\nGET /api/getteacherlist?account_id=3&amp;school_id=2\nGET /api/getstudentdetails?account_id=3&amp;school_id=2&amp;student_id=1\n</code></pre>\n<p>Similarly POST with JSON request body</p>\n<pre><code>POST /api/addteacher\nrequest : {&quot;account_id&quot;:3,&quot;school_id&quot;:2,&quot;teachername&quot;:&quot;XYZ&quot;}\nand \nPOST /api/updatestudentname\nrequest : {&quot;account_id&quot;:3,&quot;school_id&quot;:2,&quot;student_id&quot;:4,&quot;name&quot;:&quot;ABC&quot;}\n</code></pre>\n<p>How to add authorisation at API level for the request params/JSON fields so that those users who have authenticated as <code>school_id=2</code> should get access error if they try to modify API call <code>/api/getteacherlist?account_id=3&amp;school_id=2</code> to <code>/api/getteacherlist?account_id=3&amp;school_id=3</code> and get <code>school_id=3</code> details.</p>\n<p>Thinking of adding <code>@Before</code> AOP point for each Controller class to parse query param/JSON and do DB based userid validation i.e. if the userid logged in (via Spring Security Authentication) has access to the account_id and school_id mentioned in the request as they are part of every request in order to avoid code duplication or adding the same check in every DAO class before performing the actual CRUD operation. Please guide if there is any other way using Spring.</p>\n"},{"tags":["java","android","animation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701606808,"post_id":77584661,"comment_id":136794353,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":21934515,"reputation":1,"user_id":16741987,"display_name":"Fenrir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701427253,"creation_date":1701427189,"question_id":77584661,"body_markdown":"The question is to develop a beautiful particle scattering effect on Android for random image. I searched the Internet for quite a long time, but never found anything on this topic. I would be grateful for a code example.\r\n\r\nAs I said, I tried to find the answer to the question on the Internet, but to no avail. I also tried to program something myself, but that also did not bring results.","title":"how to create particle disappearing effect in android?","body":"<p>The question is to develop a beautiful particle scattering effect on Android for random image. I searched the Internet for quite a long time, but never found anything on this topic. I would be grateful for a code example.</p>\n<p>As I said, I tried to find the answer to the question on the Internet, but to no avail. I also tried to program something myself, but that also did not bring results.</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1701426273,"post_id":77584549,"comment_id":136776811,"body_markdown":"If you are looking for JPA specific syntax then the [Oracle] tag is irrelevant. If you are looking for a non-JPA solution then write a database trigger for each of the tables.","body":"If you are looking for JPA specific syntax then the [Oracle] tag is irrelevant. If you are looking for a non-JPA solution then write a database trigger for each of the tables."}],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701426737,"creation_date":1701426737,"answer_id":77584617,"question_id":77584549,"body_markdown":"If you&#39;re using Hibernate, have a look at [Hibernate interceptors](https://mkyong.com/hibernate/hibernate-interceptor-example-audit-log/). \r\n\r\nHowever, if the goal is to keep old versions of records to revert to, you might want to take a look at versioning libraries like Envers or Javers, rather than reinvent the wheel. ","title":"Spring Boot JPA Operation","body":"<p>If you're using Hibernate, have a look at <a href=\"https://mkyong.com/hibernate/hibernate-interceptor-example-audit-log/\" rel=\"nofollow noreferrer\">Hibernate interceptors</a>.</p>\n<p>However, if the goal is to keep old versions of records to revert to, you might want to take a look at versioning libraries like Envers or Javers, rather than reinvent the wheel.</p>\n"}],"owner":{"account_id":15834604,"reputation":1,"user_id":13548222,"display_name":"user53449"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701426737,"creation_date":1701426164,"question_id":77584549,"body_markdown":"Spring Boot Maven Project\r\nOracle 19c\r\n\r\nI have 100 repositories corresponding to 100 tables.\r\nCurrently, there is a requirement that when each repository undergoes an update or delete, I need to write its pre-modification data into a history table and store it as JSON-&gt;CLOB for subsequent undo records. \r\nI would like to inquire if JPA has native syntax or annotations to achieve this purpose?","title":"Spring Boot JPA Operation","body":"<p>Spring Boot Maven Project\nOracle 19c</p>\n<p>I have 100 repositories corresponding to 100 tables.\nCurrently, there is a requirement that when each repository undergoes an update or delete, I need to write its pre-modification data into a history table and store it as JSON-&gt;CLOB for subsequent undo records.\nI would like to inquire if JPA has native syntax or annotations to achieve this purpose?</p>\n"},{"tags":["java","clickhouse"],"comments":[{"owner":{"account_id":1242377,"reputation":1782,"user_id":1204665,"accept_rate":75,"display_name":"Slach"},"score":0,"creation_date":1671258519,"post_id":74808927,"comment_id":132065285,"body_markdown":"Are you sure your max_execution_time was applied properly?\n\nwhat show `clickhouse-client -q &quot;SELECT * FROM system.settings WHERE changed&quot;`?","body":"Are you sure your max_execution_time was applied properly?  what show <code>clickhouse-client -q &quot;SELECT * FROM system.settings WHERE changed&quot;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2976512,"reputation":3160,"user_id":2527458,"accept_rate":36,"display_name":"Majid Hajibaba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687614237,"creation_date":1687608361,"answer_id":76545979,"question_id":74808927,"body_markdown":"Set Socket Timeout in Clickhouse properties:\r\n\r\nfor package `ru.yandex.clickhouse.ClickHouseDataSource`\r\n```\r\nClickHouseProperties properties = new ClickHouseProperties();\r\nproperties.setSocketTimeout(60000);\r\n\r\nClickHouseDataSource dataSource = new ClickHouseDataSource(url, properties);\r\n```\r\n\r\nfor package `com.clickhouse.jdbc.ClickHouseDataSource`\r\n```\r\nProperties properties = new Properties();\r\nproperties.put(&quot;socket_timeout&quot;, 60000);\r\nClickHouseDataSource dataSource = new ClickHouseDataSource(url, properties);\r\n```\r\n\r\n","title":"Code: 159. DB::Exception: Timeout exceeded: elapsed 5.0 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))","body":"<p>Set Socket Timeout in Clickhouse properties:</p>\n<p>for package <code>ru.yandex.clickhouse.ClickHouseDataSource</code></p>\n<pre><code>ClickHouseProperties properties = new ClickHouseProperties();\nproperties.setSocketTimeout(60000);\n\nClickHouseDataSource dataSource = new ClickHouseDataSource(url, properties);\n</code></pre>\n<p>for package <code>com.clickhouse.jdbc.ClickHouseDataSource</code></p>\n<pre><code>Properties properties = new Properties();\nproperties.put(&quot;socket_timeout&quot;, 60000);\nClickHouseDataSource dataSource = new ClickHouseDataSource(url, properties);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9016840,"reputation":241,"user_id":6719377,"display_name":"Thom O&#39;Connor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687984443,"creation_date":1687984443,"answer_id":76576539,"question_id":74808927,"body_markdown":"As the other responders suggested, would suggest please providing a little more data. A long query could take a while to provide results, and therefore could timeout, but the default timeouts in ClickHouse server are the following:\r\n\r\nhttps://clickhouse.com/docs/en/operations/settings/settings\r\n```\r\nconnect_timeout: 10s\r\nreceive_timeout: 300s\r\nsend_timeout: 300s\r\n```\r\n\r\n3 seconds seems very short, and suggests some other problem to me. Providing the query here in StackOverflow, as well as testing with clickhouse-client, both seem like good next steps. \r\n\r\nAlso, there is an official ClickHouse JDBC driver if you&#39;re not using that - I can&#39;t exactly tell from your post: https://github.com/ClickHouse/clickhouse-java","title":"Code: 159. DB::Exception: Timeout exceeded: elapsed 5.0 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))","body":"<p>As the other responders suggested, would suggest please providing a little more data. A long query could take a while to provide results, and therefore could timeout, but the default timeouts in ClickHouse server are the following:</p>\n<p><a href=\"https://clickhouse.com/docs/en/operations/settings/settings\" rel=\"nofollow noreferrer\">https://clickhouse.com/docs/en/operations/settings/settings</a></p>\n<pre><code>connect_timeout: 10s\nreceive_timeout: 300s\nsend_timeout: 300s\n</code></pre>\n<p>3 seconds seems very short, and suggests some other problem to me. Providing the query here in StackOverflow, as well as testing with clickhouse-client, both seem like good next steps.</p>\n<p>Also, there is an official ClickHouse JDBC driver if you're not using that - I can't exactly tell from your post: <a href=\"https://github.com/ClickHouse/clickhouse-java\" rel=\"nofollow noreferrer\">https://github.com/ClickHouse/clickhouse-java</a></p>\n"},{"tags":[],"owner":{"account_id":30037841,"reputation":1,"user_id":23019364,"display_name":"Viet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701413807,"creation_date":1701413807,"answer_id":77583471,"question_id":74808927,"body_markdown":"```\r\nProperties properties = new Properties();\r\nproperties.put(&quot;socket_timeout&quot;, 60000);\r\nClickHouseDataSource dataSource = new ClickHouseDataSource(url, properties);\r\n```\r\n\r\nWorked for me when i used com.clickhouse.jdbc.ClickHouseDataSource;","title":"Code: 159. DB::Exception: Timeout exceeded: elapsed 5.0 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))","body":"<pre><code>Properties properties = new Properties();\nproperties.put(&quot;socket_timeout&quot;, 60000);\nClickHouseDataSource dataSource = new ClickHouseDataSource(url, properties);\n</code></pre>\n<p>Worked for me when i used com.clickhouse.jdbc.ClickHouseDataSource;</p>\n"},{"tags":[],"owner":{"account_id":23996225,"reputation":1,"user_id":17981702,"display_name":"Boy Young"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701426722,"creation_date":1701426722,"answer_id":77584613,"question_id":74808927,"body_markdown":"The most critical line code configuration is \r\n\r\n    properties.setSocketTimeout(60000);","title":"Code: 159. DB::Exception: Timeout exceeded: elapsed 5.0 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))","body":"<p>The most critical line code configuration is</p>\n<pre><code>properties.setSocketTimeout(60000);\n</code></pre>\n"}],"owner":{"account_id":27259614,"reputation":11,"user_id":20782648,"display_name":"arvin yu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1701426722,"creation_date":1671094163,"question_id":74808927,"body_markdown":"I use a JAVA program to connect to Clickhouse through JDBC, and an error will be reported after more than three seconds:\r\n\r\n&gt; Code: 159. DB::Exception: Timeout exceeded: elapsed 5.060592159 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))，\r\n\r\nBut I don&#39;t have this problem through third-party connection tools(Such as IntelliJ IDEA), I changed `max_execution_time value=800` which didn&#39;t solve this problem, added to the JDBC connection URL socket_timeout .\r\n\r\nI changed the configuration file `max_execution_time = 800`","title":"Code: 159. DB::Exception: Timeout exceeded: elapsed 5.0 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))","body":"<p>I use a JAVA program to connect to Clickhouse through JDBC, and an error will be reported after more than three seconds:</p>\n<blockquote>\n<p>Code: 159. DB::Exception: Timeout exceeded: elapsed 5.060592159 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))，</p>\n</blockquote>\n<p>But I don't have this problem through third-party connection tools(Such as IntelliJ IDEA), I changed <code>max_execution_time value=800</code> which didn't solve this problem, added to the JDBC connection URL socket_timeout .</p>\n<p>I changed the configuration file <code>max_execution_time = 800</code></p>\n"},{"tags":["java","jakarta-migration"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1701417966,"post_id":77583232,"comment_id":136775499,"body_markdown":"*&quot;How can we solve the conflict while keep the legacy library untouched?&quot;* - You can&#39;t.   AFAIK.  At least ... not in a practical way.   The legacy library that uses `javax.servlet` classes needs to be forked / ported.","body":"<i>&quot;How can we solve the conflict while keep the legacy library untouched?&quot;</i> - You can&#39;t.   AFAIK.  At least ... not in a practical way.   The legacy library that uses <code>javax.servlet</code> classes needs to be forked / ported."},{"owner":{"account_id":7547305,"reputation":774,"user_id":5729872,"display_name":"Adam Burke"},"score":0,"creation_date":1701418113,"post_id":77583232,"comment_id":136775520,"body_markdown":"Can you clarify if you have access to the source of the legacy library and modifying it is within the license terms?","body":"Can you clarify if you have access to the source of the legacy library and modifying it is within the license terms?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701420807,"post_id":77583232,"comment_id":136775917,"body_markdown":"@AdamBurke - It&#39;s probably not relevant to the answer.  (Put it this way, if they don&#39;t have source access and / or don&#39;t have permission to modify it, they are pretty much screwed.)","body":"@AdamBurke - It&#39;s probably not relevant to the answer.  (Put it this way, if they don&#39;t have source access and / or don&#39;t have permission to modify it, they are pretty much screwed.)"},{"owner":{"account_id":7547305,"reputation":774,"user_id":5729872,"display_name":"Adam Burke"},"score":0,"creation_date":1701425493,"post_id":77583232,"comment_id":136776714,"body_markdown":"@StephenC I think it&#39;s a genuinely useful question about techniques for migrating safely off legacy dependencies. And like you say it&#39;s much harder without the source, which is the sort of parameter it would be good to flag explicitly in the question.","body":"@StephenC I think it&#39;s a genuinely useful question about techniques for migrating safely off legacy dependencies. And like you say it&#39;s much harder without the source, which is the sort of parameter it would be good to flag explicitly in the question."},{"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1701427347,"post_id":77583232,"comment_id":136776979,"body_markdown":"Just use https://github.com/eclipse/transformer","body":"Just use <a href=\"https://github.com/eclipse/transformer\" rel=\"nofollow noreferrer\">github.com/eclipse/transformer</a>"}],"answers":[{"comments":[{"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1701430446,"post_id":77583798,"comment_id":136777496,"body_markdown":"It does exist: https://github.com/eclipse/transformer","body":"It does exist: <a href=\"https://github.com/eclipse/transformer\" rel=\"nofollow noreferrer\">github.com/eclipse/transformer</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701430513,"post_id":77583798,"comment_id":136777505,"body_markdown":"@BalusC Thanks! I&#39;ve never had a need to look for something like it :)","body":"@BalusC Thanks! I&#39;ve never had a need to look for something like it :)"},{"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1701431407,"post_id":77583798,"comment_id":136777633,"body_markdown":"Me neither :) I&#39;d personally just chase the orignal devs or even fork/pr myself.","body":"Me neither :) I&#39;d personally just chase the orignal devs or even fork/pr myself."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701431456,"post_id":77583798,"comment_id":136777638,"body_markdown":"@BalusC Me too, or try to find a replacement (or if I can get rid of it).","body":"@BalusC Me too, or try to find a replacement (or if I can get rid of it)."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701418020,"creation_date":1701418020,"answer_id":77583798,"question_id":77583232,"body_markdown":"You can&#39;t. You will either need to find a newer version of the library so it uses the `jakarta` namespace, if it is your own code or have access to the code, create a new version using the Jakarta packages, or if you only have the compiled JAR, use some tool to rewrite the bytecode of the library to use the Jakarta packages instead of the Java EE packages. (To be clear, I don&#39;t know if such tools exist, so I can&#39;t suggest one.)","title":"How to keep backward compatibility with javax to jakarta package migration","body":"<p>You can't. You will either need to find a newer version of the library so it uses the <code>jakarta</code> namespace, if it is your own code or have access to the code, create a new version using the Jakarta packages, or if you only have the compiled JAR, use some tool to rewrite the bytecode of the library to use the Jakarta packages instead of the Java EE packages. (To be clear, I don't know if such tools exist, so I can't suggest one.)</p>\n"}],"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1701430385,"answer_count":1,"score":1,"last_activity_date":1701426496,"creation_date":1701409836,"question_id":77583232,"body_markdown":"Let&#39;s say we have a legacy Java library which was using `javax.servlet` API.\r\n\r\nNow we start a new java project which using new `jakarta.servlet` API, and we want to use that legacy library too.\r\n\r\nHow can we solve the conflict while keep the legacy library untouched?","title":"How to keep backward compatibility with javax to jakarta package migration","body":"<p>Let's say we have a legacy Java library which was using <code>javax.servlet</code> API.</p>\n<p>Now we start a new java project which using new <code>jakarta.servlet</code> API, and we want to use that legacy library too.</p>\n<p>How can we solve the conflict while keep the legacy library untouched?</p>\n"},{"tags":["java","message-queue","apache-kafka"],"comments":[{"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"score":10,"creation_date":1429832727,"post_id":29647656,"comment_id":47799264,"body_markdown":"I fail to see how the duplication issue is avoided in the single consumer case. Can you help me understand please?","body":"I fail to see how the duplication issue is avoided in the single consumer case. Can you help me understand please?"}],"answers":[{"comments":[{"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"score":0,"creation_date":1481397932,"post_id":29656353,"comment_id":69364974,"body_markdown":"What is the real benefit we are getting with this `&quot;exactly-once scenario&quot;` as compared to enabling automated commit? Under what scenarios and case, this will help. As in my case I will have multiple consumers running on a different machine consuming data from the same topic which has multiple partitions and I want to **eliminate the possibility of missing messages and also to reduce the number of messages duplicated during rebalancing**.","body":"What is the real benefit we are getting with this <code>&quot;exactly-once scenario&quot;</code> as compared to enabling automated commit? Under what scenarios and case, this will help. As in my case I will have multiple consumers running on a different machine consuming data from the same topic which has multiple partitions and I want to <b>eliminate the possibility of missing messages and also to reduce the number of messages duplicated during rebalancing</b>."},{"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"score":0,"creation_date":1481397963,"post_id":29656353,"comment_id":69364985,"body_markdown":"Receiving duplicate message is ok in my case as my system can handle it but I cannot lose data at all so wanted to see if this approach will give any benefit or not by managing offsets manually either on disk or on some database.","body":"Receiving duplicate message is ok in my case as my system can handle it but I cannot lose data at all so wanted to see if this approach will give any benefit or not by managing offsets manually either on disk or on some database."}],"tags":[],"owner":{"account_id":544002,"reputation":7855,"user_id":1766816,"display_name":"kuujo"},"comment_count":2,"down_vote_count":1,"up_vote_count":55,"is_accepted":true,"score":54,"last_activity_date":1477911115,"creation_date":1429117262,"answer_id":29656353,"question_id":29647656,"body_markdown":"The short answer is, no.\r\n\r\nWhat you&#39;re looking for is exactly-once processing. While it may often seem feasible, it should never be relied upon because there are always caveats.\r\n\r\nEven in order to attempt to prevent duplicates you would need to use the simple consumer. How this approach works is for each consumer, when a message is consumed from some partition, write the partition and offset of the consumed message to disk. When the consumer restarts after a failure, read the last consumed offset for each partition from disk.\r\n\r\nBut even with this pattern the consumer can&#39;t guarantee it won&#39;t reprocess a message after a failure. What if the consumer consumes a message and then fails before the offset is flushed to disk? If you write to disk before you process the message, what if you write the offset and then fail before actually processing the message? This same problem would exist even if you were to commit offsets to ZooKeeper after every message.\r\n\r\nThere are some cases, though, where \r\nexactly-once processing is more attainable, but only for certain use cases. This simply requires that your offset be stored in the same location as unit application&#39;s output. For instance, if you write a consumer that counts messages, by storing the last counted offset with each count you can guarantee that the offset is stored at the same time as the consumer&#39;s state. Of course, in order to guarantee exactly-once processing this would require that you consume exactly one message and update the state exactly once for each message, and that&#39;s completely impractical for most Kafka consumer applications. By its nature Kafka consumes messages in batches for performance reasons.\r\n\r\nUsually your time will be more well spent and your application will be much more reliable if you simply design it to be idempotent.","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>The short answer is, no.</p>\n\n<p>What you're looking for is exactly-once processing. While it may often seem feasible, it should never be relied upon because there are always caveats.</p>\n\n<p>Even in order to attempt to prevent duplicates you would need to use the simple consumer. How this approach works is for each consumer, when a message is consumed from some partition, write the partition and offset of the consumed message to disk. When the consumer restarts after a failure, read the last consumed offset for each partition from disk.</p>\n\n<p>But even with this pattern the consumer can't guarantee it won't reprocess a message after a failure. What if the consumer consumes a message and then fails before the offset is flushed to disk? If you write to disk before you process the message, what if you write the offset and then fail before actually processing the message? This same problem would exist even if you were to commit offsets to ZooKeeper after every message.</p>\n\n<p>There are some cases, though, where \nexactly-once processing is more attainable, but only for certain use cases. This simply requires that your offset be stored in the same location as unit application's output. For instance, if you write a consumer that counts messages, by storing the last counted offset with each count you can guarantee that the offset is stored at the same time as the consumer's state. Of course, in order to guarantee exactly-once processing this would require that you consume exactly one message and update the state exactly once for each message, and that's completely impractical for most Kafka consumer applications. By its nature Kafka consumes messages in batches for performance reasons.</p>\n\n<p>Usually your time will be more well spent and your application will be much more reliable if you simply design it to be idempotent.</p>\n"},{"comments":[{"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"score":0,"creation_date":1481398048,"post_id":29836412,"comment_id":69365025,"body_markdown":"Receiving duplicate message is ok in my case as my system can handle it but I cannot lose data at all so wanted to see if this approach will give any benefit or not by managing offsets manually either on disk or on some database.","body":"Receiving duplicate message is ok in my case as my system can handle it but I cannot lose data at all so wanted to see if this approach will give any benefit or not by managing offsets manually either on disk or on some database."}],"tags":[],"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"comment_count":1,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1469695857,"creation_date":1429833422,"answer_id":29836412,"question_id":29647656,"body_markdown":"This is what [Kafka FAQ][1] has to say on the subject of exactly-once:\r\n\r\n&gt; #How do I get exactly-once messaging from Kafka?\r\nExactly once semantics has two parts: avoiding duplication during data production and avoiding duplicates during data consumption.\r\n\r\n&gt; There are two approaches to getting exactly once semantics during data production:\r\n\r\n&gt; * Use a single-writer per partition and every time you get a network error check the last message in that partition to see if your last write succeeded\r\n* Include a primary key (UUID or something) in the message and deduplicate on the consumer.\r\n\r\n&gt; If you do one of these things, the log that Kafka hosts will be duplicate-free. However, reading without duplicates depends on some co-operation from the consumer too. If the consumer is periodically checkpointing its position then if it fails and restarts it will restart from the checkpointed position. Thus if the data output and the checkpoint are not written atomically it will be possible to get duplicates here as well. This problem is particular to your storage system. For example, if you are using a database you could commit these together in a transaction. The HDFS loader Camus that LinkedIn wrote does something like this for Hadoop loads. The other alternative that doesn&#39;t require a transaction is to store the offset with the data loaded and deduplicate using the topic/partition/offset combination.\r\n\r\n&gt; I think there are two improvements that would make this a lot easier:\r\n\r\n&gt; * Producer idempotence could be done automatically and much more cheaply by optionally integrating support for this on the server.\r\n* The existing high-level consumer doesn&#39;t expose a lot of the more fine grained control of offsets (e.g. to reset your position). We will be working on that soon\r\n \r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/KAFKA/FAQ#FAQ-HowdoIgetexactly-oncemessagingfromKafka?","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>This is what <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/FAQ#FAQ-HowdoIgetexactly-oncemessagingfromKafka?\" rel=\"noreferrer\">Kafka FAQ</a> has to say on the subject of exactly-once:</p>\n\n<blockquote>\n  <h1>How do I get exactly-once messaging from Kafka?</h1>\n  \n  <p>Exactly once semantics has two parts: avoiding duplication during data production and avoiding duplicates during data consumption.</p>\n  \n  <p>There are two approaches to getting exactly once semantics during data production:</p>\n  \n  <ul>\n  <li>Use a single-writer per partition and every time you get a network error check the last message in that partition to see if your last write succeeded</li>\n  <li>Include a primary key (UUID or something) in the message and deduplicate on the consumer.</li>\n  </ul>\n  \n  <p>If you do one of these things, the log that Kafka hosts will be duplicate-free. However, reading without duplicates depends on some co-operation from the consumer too. If the consumer is periodically checkpointing its position then if it fails and restarts it will restart from the checkpointed position. Thus if the data output and the checkpoint are not written atomically it will be possible to get duplicates here as well. This problem is particular to your storage system. For example, if you are using a database you could commit these together in a transaction. The HDFS loader Camus that LinkedIn wrote does something like this for Hadoop loads. The other alternative that doesn't require a transaction is to store the offset with the data loaded and deduplicate using the topic/partition/offset combination.</p>\n  \n  <p>I think there are two improvements that would make this a lot easier:</p>\n  \n  <ul>\n  <li>Producer idempotence could be done automatically and much more cheaply by optionally integrating support for this on the server.</li>\n  <li>The existing high-level consumer doesn't expose a lot of the more fine grained control of offsets (e.g. to reset your position). We will be working on that soon</li>\n  </ul>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"score":0,"creation_date":1528554138,"post_id":37184104,"comment_id":88557341,"body_markdown":"this wont work in case of re-try&#39;s you&#39;ll treat them as dedup&#39;s while they should be retry","body":"this wont work in case of re-try&#39;s you&#39;ll treat them as dedup&#39;s while they should be retry"},{"owner":{"account_id":2215099,"reputation":3255,"user_id":1955934,"accept_rate":17,"display_name":"user1955934"},"score":1,"creation_date":1556161225,"post_id":37184104,"comment_id":98345518,"body_markdown":"What if right after jedis.setnx() command, the consumer crashes / network failed etc before it finishes its processing task? i guess we should take this small risk?","body":"What if right after jedis.setnx() command, the consumer crashes / network failed etc before it finishes its processing task? i guess we should take this small risk?"},{"owner":{"account_id":6791225,"reputation":159,"user_id":5228294,"accept_rate":100,"display_name":"oputyk"},"score":0,"creation_date":1632592087,"post_id":37184104,"comment_id":122536844,"body_markdown":"user1955934 You can use Redis transaction.","body":"user1955934 You can use Redis transaction."}],"tags":[],"owner":{"account_id":419030,"reputation":612,"user_id":795969,"display_name":"peihan"},"comment_count":3,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1463048586,"creation_date":1463048586,"answer_id":37184104,"question_id":29647656,"body_markdown":"I agree with RaGe&#39;s deduplicate on the consumer side. And we use Redis to deduplicate Kafka message.\r\n\r\nAssume the Message class has a member called &#39;uniqId&#39;, which is filled by the producer side and is guaranteed to be unique. We use a 12 length random string. (regexp is `&#39;^[A-Za-z0-9]{12}$&#39;`)\r\n\r\nThe consumer side use Redis&#39;s SETNX to deduplicate and EXPIRE to purge expired keys automatically. Sample code:\r\n\r\n    Message msg = ... // eg. ConsumerIterator.next().message().fromJson();\r\n    Jedis jedis = ... // eg. JedisPool.getResource();\r\n    String key = &quot;SPOUT:&quot; + msg.uniqId; // prefix name at will\r\n    String val = Long.toString(System.currentTimeMillis());\r\n    long rsps = jedis.setnx(key, val);\r\n    if (rsps &lt;= 0) {\r\n        log.warn(&quot;kafka dup: {}&quot;, msg.toJson()); // and other logic\r\n    } else {\r\n        jedis.expire(key, 7200); // 2 hours is ok for production environment;\r\n    }\r\n\r\nThe above code did detect duplicate messages several times when Kafka(version 0.8.x) had situations. With our input/output balance audit log, no message lost or dup happened.","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>I agree with RaGe's deduplicate on the consumer side. And we use Redis to deduplicate Kafka message.</p>\n\n<p>Assume the Message class has a member called 'uniqId', which is filled by the producer side and is guaranteed to be unique. We use a 12 length random string. (regexp is <code>'^[A-Za-z0-9]{12}$'</code>)</p>\n\n<p>The consumer side use Redis's SETNX to deduplicate and EXPIRE to purge expired keys automatically. Sample code:</p>\n\n<pre><code>Message msg = ... // eg. ConsumerIterator.next().message().fromJson();\nJedis jedis = ... // eg. JedisPool.getResource();\nString key = \"SPOUT:\" + msg.uniqId; // prefix name at will\nString val = Long.toString(System.currentTimeMillis());\nlong rsps = jedis.setnx(key, val);\nif (rsps &lt;= 0) {\n    log.warn(\"kafka dup: {}\", msg.toJson()); // and other logic\n} else {\n    jedis.expire(key, 7200); // 2 hours is ok for production environment;\n}\n</code></pre>\n\n<p>The above code did detect duplicate messages several times when Kafka(version 0.8.x) had situations. With our input/output balance audit log, no message lost or dup happened.</p>\n"},{"tags":[],"owner":{"account_id":7006182,"reputation":2025,"user_id":5370480,"display_name":"Dean Jain"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1556226414,"creation_date":1556226414,"answer_id":55857650,"question_id":29647656,"body_markdown":"Whatever done on producer side, still the best way we believe to deliver exactly once from kafka is to handle it on consumer side:\r\n\r\n1. Produce msg with a uuid as the Kafka message Key into topic T1\r\n2. consumer side read the msg from T1, write it on hbase with uuid as rowkey \r\n3. read back from hbase with the same rowkey and write to another topic T2\r\n4. have your end consumers actually consume from topic T2","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>Whatever done on producer side, still the best way we believe to deliver exactly once from kafka is to handle it on consumer side:</p>\n\n<ol>\n<li>Produce msg with a uuid as the Kafka message Key into topic T1</li>\n<li>consumer side read the msg from T1, write it on hbase with uuid as rowkey </li>\n<li>read back from hbase with the same rowkey and write to another topic T2</li>\n<li>have your end consumers actually consume from topic T2</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":13402055,"reputation":2947,"user_id":9671280,"display_name":"Traycho Ivanov"},"score":3,"creation_date":1629843592,"post_id":59447739,"comment_id":121792954,"body_markdown":"This applies only if the producer is using transaction API otherwise consumer could not benefit from this pattern.","body":"This applies only if the producer is using transaction API otherwise consumer could not benefit from this pattern."}],"tags":[],"owner":{"account_id":1686812,"reputation":29802,"user_id":1549918,"accept_rate":43,"display_name":"Chris Halcrow"},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1577052099,"creation_date":1577045668,"answer_id":59447739,"question_id":29647656,"body_markdown":"There&#39;s a relatively new &#39;**Transactional API**&#39; now in Kafka that can allow you to achieve exactly once processing when processing a stream. With the transactional API, idempotency can be built in, as long as the remainder of your system is designed for idempotency. See https://www.baeldung.com/kafka-exactly-once","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>There's a relatively new '<strong>Transactional API</strong>' now in Kafka that can allow you to achieve exactly once processing when processing a stream. With the transactional API, idempotency can be built in, as long as the remainder of your system is designed for idempotency. See <a href=\"https://www.baeldung.com/kafka-exactly-once\" rel=\"noreferrer\">https://www.baeldung.com/kafka-exactly-once</a></p>\n"},{"tags":[],"owner":{"account_id":13837298,"reputation":1,"user_id":9988533,"display_name":"Deepthi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701426341,"creation_date":1701318988,"answer_id":77575927,"question_id":29647656,"body_markdown":"Other alternative solutions would be:\r\n1) Produce a message with a unique key into the topic test\r\n2) On the consumer side, push an entry with the unique key into DB once processing is done successfully. Before starting the process at consumer id, check the unique key entry in the DB. If exists then the consumer already processed that message else do com","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>Other alternative solutions would be:</p>\n<ol>\n<li>Produce a message with a unique key into the topic test</li>\n<li>On the consumer side, push an entry with the unique key into DB once processing is done successfully. Before starting the process at consumer id, check the unique key entry in the DB. If exists then the consumer already processed that message else do com</li>\n</ol>\n"}],"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121257,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":29656353,"answer_count":6,"score":76,"last_activity_date":1701426341,"creation_date":1429093224,"question_id":29647656,"body_markdown":"I have been studying apache kafka for a month now. I am however, stuck at a point now. My use case is, I have two or more consumer processes running on different machines. I ran a few tests in which I published 10,000 messages in kafka server. Then while processing these messages I killed one of the consumer processes and restarted it. Consumers were writing processed messages in a file. So after consumption finished, file was showing more than 10k messages. So some messages were duplicated. \r\n\r\nIn consumer process I have disabled auto commit. Consumers manually commit offsets batch wise. So for e.g if 100 messages are written to file, consumer commits offsets. When single consumer process is running and it crashes and recovers duplication is avoided in this manner. But when more than one consumers are running and one of them crashes and recovers, it writes duplicate messages to file.\r\n\r\nIs there any effective strategy to avoid these duplicate messages? ","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>I have been studying apache kafka for a month now. I am however, stuck at a point now. My use case is, I have two or more consumer processes running on different machines. I ran a few tests in which I published 10,000 messages in kafka server. Then while processing these messages I killed one of the consumer processes and restarted it. Consumers were writing processed messages in a file. So after consumption finished, file was showing more than 10k messages. So some messages were duplicated. </p>\n\n<p>In consumer process I have disabled auto commit. Consumers manually commit offsets batch wise. So for e.g if 100 messages are written to file, consumer commits offsets. When single consumer process is running and it crashes and recovers duplication is avoided in this manner. But when more than one consumers are running and one of them crashes and recovers, it writes duplicate messages to file.</p>\n\n<p>Is there any effective strategy to avoid these duplicate messages? </p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":28971313,"reputation":53,"user_id":22191547,"display_name":"AlexisH"},"score":0,"creation_date":1695317443,"post_id":77152289,"comment_id":136011726,"body_markdown":"Okay, thanks for identifying that issue, any input on how to go about fixing it?","body":"Okay, thanks for identifying that issue, any input on how to go about fixing it?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1695317505,"post_id":77152289,"comment_id":136011738,"body_markdown":"@AlexisH change `myList.length` to `myList[0].length`","body":"@AlexisH change <code>myList.length</code> to <code>myList[0].length</code>"}],"answers":[{"tags":[],"owner":{"account_id":25728677,"reputation":29,"user_id":19484558,"display_name":"firapinch"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695317434,"creation_date":1695317434,"answer_id":77152439,"question_id":77152289,"body_markdown":"    String[][] myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;}, {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\n    for (int i = 0; i &lt; myList[0].length; i++) {\r\n        for (int j = 0; j &lt; myList.length; j++) {\r\n            System.out.printf(&quot;%-8s&quot;, myList[j][i]);\r\n        }\r\n    System.out.println();\r\n    }\r\nThe outer loop (i) iterates through the columns (0, 1, 2).\r\nThe inner loop (j) iterates through the rows (0 and 1).\r\nWe use printf to format the output with a width of 8 characters for each element, using %-8s as the format specifier. This ensures that each element is printed in a column of the specified width.\r\nAfter printing each column, we add System.out.println(); to move to the next line to create the desired format.","title":"Printing 2d array Java","body":"<pre><code>String[][] myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;}, {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\nfor (int i = 0; i &lt; myList[0].length; i++) {\n    for (int j = 0; j &lt; myList.length; j++) {\n        System.out.printf(&quot;%-8s&quot;, myList[j][i]);\n    }\nSystem.out.println();\n}\n</code></pre>\n<p>The outer loop (i) iterates through the columns (0, 1, 2).\nThe inner loop (j) iterates through the rows (0 and 1).\nWe use printf to format the output with a width of 8 characters for each element, using %-8s as the format specifier. This ensures that each element is printed in a column of the specified width.\nAfter printing each column, we add System.out.println(); to move to the next line to create the desired format.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695317507,"creation_date":1695317507,"answer_id":77152445,"question_id":77152289,"body_markdown":"Try it like this.  Use [System.out.printf()](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)) to format the output. Note this this will only work for rectangular arrays as it uses the number of columns of the first row for all rows.\r\n- `&quot;%-7s&quot;` - the `7` is the field width and the `-` says to left justify the string in that field. \r\n```\r\nString [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},\r\n                     {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\n\r\n\r\nfor (int col = 0; col &lt; myList[0].length; col++) {\r\n    for ( int row = 0; row &lt; myList.length; row++ ) {\r\n        System.out.printf(&quot;%-7s &quot;, myList[row][col]); \r\n    }\r\n    System.out.println();\r\n}\r\n```\r\nprints\r\n```\r\ncat     chair   \r\ndog     bench   \r\nmouse   stool   \r\n","title":"Printing 2d array Java","body":"<p>Try it like this.  Use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">System.out.printf()</a> to format the output. Note this this will only work for rectangular arrays as it uses the number of columns of the first row for all rows.</p>\n<ul>\n<li><code>&quot;%-7s&quot;</code> - the <code>7</code> is the field width and the <code>-</code> says to left justify the string in that field.</li>\n</ul>\n<pre><code>String [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},\n                     {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\n\n\nfor (int col = 0; col &lt; myList[0].length; col++) {\n    for ( int row = 0; row &lt; myList.length; row++ ) {\n        System.out.printf(&quot;%-7s &quot;, myList[row][col]); \n    }\n    System.out.println();\n}\n</code></pre>\n<p>prints</p>\n<pre><code>cat     chair   \ndog     bench   \nmouse   stool   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695398264,"creation_date":1695319236,"answer_id":77152608,"question_id":77152289,"body_markdown":"Right now, if I run your code, all I see is this.\r\n\r\n```\r\ncatdogchairbench\r\n```\r\n\r\nIt is just jamming each word together *(and it looks like you are missing your `mouse` and your `stool`?)*.\r\n\r\nIn order to answer your question, we need to deal with the several bugs that are here. Your problem is buried underneath 2-4 other problems.\r\n\r\nFirst order of business is to clean up the formatting here. We can do that by adding an empty call to `System.out.println()`.\r\n\r\n```java\r\nString [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\n\r\nfor (int i= 0; i &lt; myList.length; i++)\r\n{\r\n\r\n    for (int j= 0; j &lt; myList.length; j++)\r\n    {\r\n        System.out.print(myList[i][j]);\r\n    }\r\n    \r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nNow, your output is like this.\r\n\r\n```\r\ncatdog\r\nchairbench\r\n```\r\n\r\nThis is an improvement.\r\n\r\nNext, we want whitespace in between the words. We can use the tab character (`&#39;\\t&#39;`) to create that whitespace.\r\n\r\n```java\r\nString [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\n\r\nfor (int i= 0; i &lt; myList.length; i++)\r\n{\r\n\r\n    for (int j= 0; j &lt; myList.length; j++)\r\n    {\r\n        System.out.print(myList[i][j] + &quot;\\t&quot;);\r\n    }\r\n    \r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nHere is the output.\r\n\r\n```\r\ncat     dog\r\nchair   bench\r\n```\r\n\r\nAlso an improvement.\r\n\r\nNext, let&#39;s get back those missing elements -- `mouse` and `stool`.\r\n\r\nIn order to do that, we must first understand what happened to them. You correctly inserted them into your 2-d array, so that is not the issue. However, you are incorrectly ***fetching*** them from the array. Here is where that problem is.\r\n\r\nLet&#39;s refactor your array creation a little, so that we can better see it&#39;s shape.\r\n\r\n```java\r\nString[][] myList =\r\n    {\r\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\r\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\r\n    }\r\n    ;\r\n\r\nfor (int i= 0; i &lt; myList.length; i++)\r\n{\r\n\r\n    for (int j= 0; j &lt; myList.length; j++)\r\n    {\r\n        System.out.print(myList[i][j] + &quot;\\t&quot;);\r\n    }\r\n\r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nSo, your array has 2 rows, and 3 columns. We can clearly see that now. So, when you iterate through your array via the for loops, your for loops need to know about and iterate through those rows and columns correctly.\r\n\r\nThe way most people do this is by having a for loop for each component. That is, a for loop for your rows, and then another for loop for the columns in that row.\r\n\r\nLet&#39;s refactor your code to make that clearer.\r\n\r\n```java\r\nString[][] myList =\r\n    {\r\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\r\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\r\n    }\r\n    ;\r\n\r\nfor (int row = 0; row &lt; myList.length; row++)\r\n{\r\n\r\n    for (int column = 0; column &lt; myList.length; column++)\r\n    {\r\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\r\n    }\r\n\r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nNow, we can clearly see what the indices represent. It&#39;s no longer `i` and `j`, but a `row` and a `column` within the specified row.\r\n\r\nUnderstanding that, let&#39;s look back at the for loops again.\r\n\r\nYour `row` is looping from `0` all the way up to `myList.length`. Well, how long is `myList.length`? It is `2`, because, as we saw earlier, `myList` has 2 rows, so the value of `myList.length` is `2`.\r\n\r\nBut what about your `column`? It is ***also*** looping from `0` all the way up to `myList.length`. But `myList.length` is supposed to represent the number of ***`rows`***, not the number of ***`columns`***!\r\n\r\nSo, how do we fetch the number of columns? You get that by asking the length of ***the specific row you are on***. Your 2-d array has a length, but each row on your 2-d array also has a length. The reason why is because each element in your `myList` array is another array! And each array has a length. Thus, the number of columns = the length of the specific row.\r\n\r\nBut how do we represent that in your code?\r\n\r\nWell, you do it like this. Instead of saying `myList.length`, you say `myList[someIndexValueHere].length`. Of course, we need to replace `someIndexValueHere` with an actual index value. That index value will be the row you are currently on. So, instead, it would be `myList[row].length`. This will give you the number of columns in the row specified by the index `row`.\r\n\r\n```java\r\nString[][] myList =\r\n    {\r\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\r\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\r\n    }\r\n    ;\r\n\r\nfor (int row = 0; row &lt; myList.length; row++)\r\n{\r\n\r\n    for (int column = 0; column &lt; myList[row].length; column++)\r\n    {\r\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\r\n    }\r\n\r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nHere is the output now.\r\n\r\n```\r\ncat     dog     mouse\r\nchair   bench   stool\r\n```\r\n\r\nNow, things look a lot better.\r\n\r\nNow, we still have not solved your original problem. That was because we had to fix all of the bugs that were in the way. Let&#39;s solve your requested problem now.\r\n\r\nEssentially, what you seem to want is for the above output to be &quot;turned sideways&quot;. Meaning, it sounds like you want something like the following instead.\r\n\r\n```\r\ncat     chair\r\ndog     bench\r\nmouse   stool\r\n```\r\n\r\nIf so, then this is a little tricky, but can definitely be done.\r\n\r\nFirst, the way we are currently going is we are going to each row, then fetching all of the columns on it and printing them out.\r\n\r\nTo get this new output, we will have to reverse this process. Instead of going to each row and fetching each column, ***we now need to go to each column, and fetch each row on it***.\r\n\r\nLuckily for you, your array has a special property -- all of the rows on your array have the exact same number of columns! If it was not for this fact, this problem would be much harder to solve.\r\n\r\nBut since we know that all the rows have the same number of columns, that means we can use the size from any row, and it will be the same size as every other row!\r\n\r\nSo, let&#39;s acknowledge that fact, and replace our call to `myList[row].length` to `myList[0].length`. We can get away with this because, the `0` row has the exact same number of columns (the same length!) as any other row on `myList`!\r\n\r\n```java\r\nString[][] myList =\r\n    {\r\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\r\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\r\n    }\r\n    ;\r\n\r\nfor (int row = 0; row &lt; myList.length; row++)\r\n{\r\n\r\n    for (int column = 0; column &lt; myList[0].length; column++)\r\n    {\r\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\r\n    }\r\n\r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nNow, we can make one simple change to solve your original problem -- just swap your for loops!\r\n\r\n```java\r\nString[][] myList =\r\n    {\r\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\r\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\r\n    }\r\n    ;\r\n\r\nfor (int column = 0; column &lt; myList[0].length; column++)\r\n{\r\n\r\n    for (int row = 0; row &lt; myList.length; row++)\r\n    {\r\n\r\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\r\n\r\n    }\r\n\r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nIf we run that, here is our output.\r\n\r\n```\r\ncat     chair\r\ndog     bench\r\nmouse   stool\r\n```\r\n\r\nYour problem is now solved. Let me know if there are any questions.\r\n\r\n**EDIT** - To improve the answer, we could use `System.out.printf()` to help us with formatting. However, in order to use this, we need to know how long the longest element in your 2-d array is. Looking at it, we can see that the longest element is 5 characters long, so anything above 6 would work. But again, you either need to know that ahead of time, or figure out before you start printing. Here is the code refactored to use the new method.\r\n\r\n```java\r\nString[][] myList =\r\n    {\r\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\r\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\r\n    }\r\n    ;\r\n\r\nfor (int column = 0; column &lt; myList[0].length; column++)\r\n{\r\n\r\n    for (int row = 0; row &lt; myList.length; row++)\r\n    {\r\n\r\n        System.out.printf(&quot;%-7s&quot;, myList[row][column]);\r\n\r\n    }\r\n\r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nAs for an explanation of how the function works, I will link to the answer by @WJS that explains it much better.\r\n\r\nhttps://stackoverflow.com/a/77152445/10118965","title":"Printing 2d array Java","body":"<p>Right now, if I run your code, all I see is this.</p>\n<pre><code>catdogchairbench\n</code></pre>\n<p>It is just jamming each word together <em>(and it looks like you are missing your <code>mouse</code> and your <code>stool</code>?)</em>.</p>\n<p>In order to answer your question, we need to deal with the several bugs that are here. Your problem is buried underneath 2-4 other problems.</p>\n<p>First order of business is to clean up the formatting here. We can do that by adding an empty call to <code>System.out.println()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\n\nfor (int i= 0; i &lt; myList.length; i++)\n{\n\n    for (int j= 0; j &lt; myList.length; j++)\n    {\n        System.out.print(myList[i][j]);\n    }\n    \n    System.out.println();\n\n}\n</code></pre>\n<p>Now, your output is like this.</p>\n<pre><code>catdog\nchairbench\n</code></pre>\n<p>This is an improvement.</p>\n<p>Next, we want whitespace in between the words. We can use the tab character (<code>'\\t'</code>) to create that whitespace.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\n\nfor (int i= 0; i &lt; myList.length; i++)\n{\n\n    for (int j= 0; j &lt; myList.length; j++)\n    {\n        System.out.print(myList[i][j] + &quot;\\t&quot;);\n    }\n    \n    System.out.println();\n\n}\n</code></pre>\n<p>Here is the output.</p>\n<pre><code>cat     dog\nchair   bench\n</code></pre>\n<p>Also an improvement.</p>\n<p>Next, let's get back those missing elements -- <code>mouse</code> and <code>stool</code>.</p>\n<p>In order to do that, we must first understand what happened to them. You correctly inserted them into your 2-d array, so that is not the issue. However, you are incorrectly <em><strong>fetching</strong></em> them from the array. Here is where that problem is.</p>\n<p>Let's refactor your array creation a little, so that we can better see it's shape.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] myList =\n    {\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\n    }\n    ;\n\nfor (int i= 0; i &lt; myList.length; i++)\n{\n\n    for (int j= 0; j &lt; myList.length; j++)\n    {\n        System.out.print(myList[i][j] + &quot;\\t&quot;);\n    }\n\n    System.out.println();\n\n}\n</code></pre>\n<p>So, your array has 2 rows, and 3 columns. We can clearly see that now. So, when you iterate through your array via the for loops, your for loops need to know about and iterate through those rows and columns correctly.</p>\n<p>The way most people do this is by having a for loop for each component. That is, a for loop for your rows, and then another for loop for the columns in that row.</p>\n<p>Let's refactor your code to make that clearer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] myList =\n    {\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\n    }\n    ;\n\nfor (int row = 0; row &lt; myList.length; row++)\n{\n\n    for (int column = 0; column &lt; myList.length; column++)\n    {\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\n    }\n\n    System.out.println();\n\n}\n</code></pre>\n<p>Now, we can clearly see what the indices represent. It's no longer <code>i</code> and <code>j</code>, but a <code>row</code> and a <code>column</code> within the specified row.</p>\n<p>Understanding that, let's look back at the for loops again.</p>\n<p>Your <code>row</code> is looping from <code>0</code> all the way up to <code>myList.length</code>. Well, how long is <code>myList.length</code>? It is <code>2</code>, because, as we saw earlier, <code>myList</code> has 2 rows, so the value of <code>myList.length</code> is <code>2</code>.</p>\n<p>But what about your <code>column</code>? It is <em><strong>also</strong></em> looping from <code>0</code> all the way up to <code>myList.length</code>. But <code>myList.length</code> is supposed to represent the number of <em><strong><code>rows</code></strong></em>, not the number of <em><strong><code>columns</code></strong></em>!</p>\n<p>So, how do we fetch the number of columns? You get that by asking the length of <em><strong>the specific row you are on</strong></em>. Your 2-d array has a length, but each row on your 2-d array also has a length. The reason why is because each element in your <code>myList</code> array is another array! And each array has a length. Thus, the number of columns = the length of the specific row.</p>\n<p>But how do we represent that in your code?</p>\n<p>Well, you do it like this. Instead of saying <code>myList.length</code>, you say <code>myList[someIndexValueHere].length</code>. Of course, we need to replace <code>someIndexValueHere</code> with an actual index value. That index value will be the row you are currently on. So, instead, it would be <code>myList[row].length</code>. This will give you the number of columns in the row specified by the index <code>row</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] myList =\n    {\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\n    }\n    ;\n\nfor (int row = 0; row &lt; myList.length; row++)\n{\n\n    for (int column = 0; column &lt; myList[row].length; column++)\n    {\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\n    }\n\n    System.out.println();\n\n}\n</code></pre>\n<p>Here is the output now.</p>\n<pre><code>cat     dog     mouse\nchair   bench   stool\n</code></pre>\n<p>Now, things look a lot better.</p>\n<p>Now, we still have not solved your original problem. That was because we had to fix all of the bugs that were in the way. Let's solve your requested problem now.</p>\n<p>Essentially, what you seem to want is for the above output to be &quot;turned sideways&quot;. Meaning, it sounds like you want something like the following instead.</p>\n<pre><code>cat     chair\ndog     bench\nmouse   stool\n</code></pre>\n<p>If so, then this is a little tricky, but can definitely be done.</p>\n<p>First, the way we are currently going is we are going to each row, then fetching all of the columns on it and printing them out.</p>\n<p>To get this new output, we will have to reverse this process. Instead of going to each row and fetching each column, <em><strong>we now need to go to each column, and fetch each row on it</strong></em>.</p>\n<p>Luckily for you, your array has a special property -- all of the rows on your array have the exact same number of columns! If it was not for this fact, this problem would be much harder to solve.</p>\n<p>But since we know that all the rows have the same number of columns, that means we can use the size from any row, and it will be the same size as every other row!</p>\n<p>So, let's acknowledge that fact, and replace our call to <code>myList[row].length</code> to <code>myList[0].length</code>. We can get away with this because, the <code>0</code> row has the exact same number of columns (the same length!) as any other row on <code>myList</code>!</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] myList =\n    {\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\n    }\n    ;\n\nfor (int row = 0; row &lt; myList.length; row++)\n{\n\n    for (int column = 0; column &lt; myList[0].length; column++)\n    {\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\n    }\n\n    System.out.println();\n\n}\n</code></pre>\n<p>Now, we can make one simple change to solve your original problem -- just swap your for loops!</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] myList =\n    {\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\n    }\n    ;\n\nfor (int column = 0; column &lt; myList[0].length; column++)\n{\n\n    for (int row = 0; row &lt; myList.length; row++)\n    {\n\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\n\n    }\n\n    System.out.println();\n\n}\n</code></pre>\n<p>If we run that, here is our output.</p>\n<pre><code>cat     chair\ndog     bench\nmouse   stool\n</code></pre>\n<p>Your problem is now solved. Let me know if there are any questions.</p>\n<p><strong>EDIT</strong> - To improve the answer, we could use <code>System.out.printf()</code> to help us with formatting. However, in order to use this, we need to know how long the longest element in your 2-d array is. Looking at it, we can see that the longest element is 5 characters long, so anything above 6 would work. But again, you either need to know that ahead of time, or figure out before you start printing. Here is the code refactored to use the new method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] myList =\n    {\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\n    }\n    ;\n\nfor (int column = 0; column &lt; myList[0].length; column++)\n{\n\n    for (int row = 0; row &lt; myList.length; row++)\n    {\n\n        System.out.printf(&quot;%-7s&quot;, myList[row][column]);\n\n    }\n\n    System.out.println();\n\n}\n</code></pre>\n<p>As for an explanation of how the function works, I will link to the answer by @WJS that explains it much better.</p>\n<p><a href=\"https://stackoverflow.com/a/77152445/10118965\">https://stackoverflow.com/a/77152445/10118965</a></p>\n"},{"tags":[],"owner":{"account_id":27038980,"reputation":141,"user_id":20594090,"display_name":"lchristmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701426300,"creation_date":1695321149,"answer_id":77152803,"question_id":77152289,"body_markdown":"# Challenges\r\n\r\nTrying to achieve exactly your desired result, you have two challenges:\r\n\r\n1. Printing the subarrays vertically\r\n2. Printing it in a nice table-looking way\r\n\r\n## 1. Printing the sub-arrays vertically\r\n\r\nFrom your gut feeling, you want to iterate over the outter array and do something. But here you want to process the 1st item of all subarrays together, then the 2nd items of all subarrays, then the 3rd items and so on...\r\n\r\nTherefor **you have to figure out what&#39;s the longest-subarray?** That&#39;s how long you&#39;ll have do your outter loop, because that is how many lines you&#39;ll have to print!\r\n\r\nNow you can loop over all subarrays at once. But they may not all be equally long, so **always do null-checks** to verify if an element exists.\r\n\r\n## 2. Printing it in a nice table-looking way\r\n\r\nEnsuring all table cells have an equal width is easy (see other answers). `System.out.printf(&quot;%-6s&quot;, &quot;abc&quot;);` will make all cells be 6 characters wide.\r\n\r\nBut depending on the strings in your array, you might need wider cells or maybe smaller ones to not waste space. **Calculate a reasonable cell width.**\r\n\r\n# Solution\r\n\r\n1. Figure out the longest subarray\r\n2. Calculate the right cell width\r\n3. Print the table\r\n\r\n```java\r\nString [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\n\r\n// Figure out longest subarray\r\nint longestArray = 0;\r\nfor (String[] array : myList) {\r\n    if (array.length &gt; longestArray) longestArray = array.length;\r\n}\r\n\r\n// Calculate the right cell width: find the longest string + add 2 chars for padding\r\nint cellWidth = 0;\r\nfor (int i = 0; i &lt; myList.length; i++) {\r\n    for (int j = 0; j &lt; myList[i].length; j++) {\r\n        if (myList[i][j].length() &gt; cellWidth) cellWidth = myList[i][j].length();\r\n    }\r\n}\r\ncellWidth += 2;\r\n\r\n// Print the table\r\nfor (int i = 0; i &lt; longestArray; i++) {\r\n    for (int j = 0; j &lt; myList.length; j++) {\r\n        if (myList[j].length &gt; i) System.out.printf(&quot;%-&quot; + cellWidth + &quot;s&quot;, myList[j][i]);\r\n        else System.out.printf(&quot;%-&quot; + cellWidth + &quot;s&quot;, &quot;&quot;);\r\n    }\r\n    System.out.printf(&quot;\\n&quot;);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```\r\ncat    chair  \r\ndog    bench  \r\nmouse  stool\r\n```\r\n\r\nThis **works for any number of subarrays and any number of items in them**.","title":"Printing 2d array Java","body":"<h1>Challenges</h1>\n<p>Trying to achieve exactly your desired result, you have two challenges:</p>\n<ol>\n<li>Printing the subarrays vertically</li>\n<li>Printing it in a nice table-looking way</li>\n</ol>\n<h2>1. Printing the sub-arrays vertically</h2>\n<p>From your gut feeling, you want to iterate over the outter array and do something. But here you want to process the 1st item of all subarrays together, then the 2nd items of all subarrays, then the 3rd items and so on...</p>\n<p>Therefor <strong>you have to figure out what's the longest-subarray?</strong> That's how long you'll have do your outter loop, because that is how many lines you'll have to print!</p>\n<p>Now you can loop over all subarrays at once. But they may not all be equally long, so <strong>always do null-checks</strong> to verify if an element exists.</p>\n<h2>2. Printing it in a nice table-looking way</h2>\n<p>Ensuring all table cells have an equal width is easy (see other answers). <code>System.out.printf(&quot;%-6s&quot;, &quot;abc&quot;);</code> will make all cells be 6 characters wide.</p>\n<p>But depending on the strings in your array, you might need wider cells or maybe smaller ones to not waste space. <strong>Calculate a reasonable cell width.</strong></p>\n<h1>Solution</h1>\n<ol>\n<li>Figure out the longest subarray</li>\n<li>Calculate the right cell width</li>\n<li>Print the table</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\n\n// Figure out longest subarray\nint longestArray = 0;\nfor (String[] array : myList) {\n    if (array.length &gt; longestArray) longestArray = array.length;\n}\n\n// Calculate the right cell width: find the longest string + add 2 chars for padding\nint cellWidth = 0;\nfor (int i = 0; i &lt; myList.length; i++) {\n    for (int j = 0; j &lt; myList[i].length; j++) {\n        if (myList[i][j].length() &gt; cellWidth) cellWidth = myList[i][j].length();\n    }\n}\ncellWidth += 2;\n\n// Print the table\nfor (int i = 0; i &lt; longestArray; i++) {\n    for (int j = 0; j &lt; myList.length; j++) {\n        if (myList[j].length &gt; i) System.out.printf(&quot;%-&quot; + cellWidth + &quot;s&quot;, myList[j][i]);\n        else System.out.printf(&quot;%-&quot; + cellWidth + &quot;s&quot;, &quot;&quot;);\n    }\n    System.out.printf(&quot;\\n&quot;);\n}\n</code></pre>\n<p>Output</p>\n<pre><code>cat    chair  \ndog    bench  \nmouse  stool\n</code></pre>\n<p>This <strong>works for any number of subarrays and any number of items in them</strong>.</p>\n"},{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1695327138,"post_id":77153122,"comment_id":136013402,"body_markdown":"You&#39;re using some ideas/features than may not be  familiar to the OP (e.g. `StringBuilder`, max string length to compute proper width format, `formatted`, etc).  You may want to add some explanations.","body":"You&#39;re using some ideas/features than may not be  familiar to the OP (e.g. <code>StringBuilder</code>, max string length to compute proper width format, <code>formatted</code>, etc).  You may want to add some explanations."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695357697,"creation_date":1695324458,"answer_id":77153122,"question_id":77152289,"body_markdown":"&gt; _&quot;... the issue I&#39;m having is that the array print as a list, but I want it to print as: ...&quot;_\r\n\r\nDetermine the width for each column, additionally the longest list.\r\n\r\n```java\r\nString [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\nint max = 0, widths[] = new int[myList.length];\r\nString[] strings;\r\nfor (int i = 0, n = myList.length; i &lt; n; i++) {\r\n    widths[i] = maximum(strings = myList[i]);\r\n    if (strings.length &gt; max) max = strings.length;\r\n}\r\n```\r\n\r\n```java\r\nint maximum(String[] s) {\r\n    return Stream.of(s).mapToInt(String::length).max().getAsInt();\r\n}\r\n```\r\n\r\nThen, create a _[format-string](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html)_ for the row.\\\r\nI&#39;m adding _+2_ to create space between the columns.\r\n\r\n```java\r\nStringBuilder fs = new StringBuilder();\r\nfor (int v : widths) fs.append(&quot;%%-%ds&quot;.formatted(v + 2));\r\n```\r\n\r\nFinally, build a _String_ array for the corresponding elements, and apply the _format-string_.\r\n\r\n```java\r\nStringBuilder s = new StringBuilder();\r\nString[] row;\r\nfor (int i = 0, j; i &lt; max; i++) {\r\n    row = new String[myList.length];\r\n    for (j = 0; j &lt; row.length; j++)\r\n        row[j] = i &gt; myList[j].length - 1 ? &quot;&quot; : myList[j][i];\r\n    s.append((fs + &quot;%n&quot;).formatted(row));\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\ncat    chair  \r\ndog    bench  \r\nmouse  stool  \r\n```\r\n\r\nHere is an example using a set of randomly generated values.\r\n\r\n```java\r\nRandom r = new Random();\r\nString strings[], myList[][] = new String[4][];\r\nfor (int i = 0, j, n1 = myList.length, n2; i &lt; n1; i++) {\r\n    strings = new String[r.nextInt(5, 20)];\r\n    for (j = 0, n2 = strings.length; j &lt; n2; j++) {\r\n        strings[j] = r.ints(&#39;a&#39;, &#39;z&#39; + 1)\r\n                      .limit(r.nextInt(4, 10))\r\n                      .mapToObj(x -&gt; String.valueOf((char) x))\r\n                      .collect(Collectors.joining());\r\n    }\r\n    myList[i] = strings;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\neoiigbu    eaglbxp    uiou       eygdnizf   \r\nbfkcmid    snlz       vkbkqdo    obfxwtax   \r\nxtxmo      nqtaoxijq  nlorcz     wpwdhk     \r\ndwtdihj    tnsxp      zjeszm     vfeasklyj  \r\nwsmgwegr   tolsnxauk  immxl      trbwlmxft  \r\nlhejlvqh   wfhh       efwkdri               \r\nbjiltokvt  hsprvsfpu  muoqp                 \r\nnmerh      jfkuhr     ycylr                 \r\nmmtcun     mgrj       lunarw                \r\njlnicv     faapyhjb   vlsqz                 \r\nnehy       nfnmtdxai  yzxrivxn              \r\nkiace      oorrj      jfbfgeo               \r\n           hpzaaa     fwmpqcjbi             \r\n           lxvnnqieo                        \r\n           iqujzwnv                         \r\n           hjjz                             \r\n           dthlgtip                         \r\n           oggqr                            \r\n           dbpbr                            \r\n```","title":"Printing 2d array Java","body":"<blockquote>\n<p><em>&quot;... the issue I'm having is that the array print as a list, but I want it to print as: ...&quot;</em></p>\n</blockquote>\n<p>Determine the width for each column, additionally the longest list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\nint max = 0, widths[] = new int[myList.length];\nString[] strings;\nfor (int i = 0, n = myList.length; i &lt; n; i++) {\n    widths[i] = maximum(strings = myList[i]);\n    if (strings.length &gt; max) max = strings.length;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>int maximum(String[] s) {\n    return Stream.of(s).mapToInt(String::length).max().getAsInt();\n}\n</code></pre>\n<p>Then, create a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">format-string</a></em> for the row.<br />\nI'm adding <em>+2</em> to create space between the columns.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder fs = new StringBuilder();\nfor (int v : widths) fs.append(&quot;%%-%ds&quot;.formatted(v + 2));\n</code></pre>\n<p>Finally, build a <em>String</em> array for the corresponding elements, and apply the <em>format-string</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder s = new StringBuilder();\nString[] row;\nfor (int i = 0, j; i &lt; max; i++) {\n    row = new String[myList.length];\n    for (j = 0; j &lt; row.length; j++)\n        row[j] = i &gt; myList[j].length - 1 ? &quot;&quot; : myList[j][i];\n    s.append((fs + &quot;%n&quot;).formatted(row));\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>cat    chair  \ndog    bench  \nmouse  stool  \n</code></pre>\n<p>Here is an example using a set of randomly generated values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Random r = new Random();\nString strings[], myList[][] = new String[4][];\nfor (int i = 0, j, n1 = myList.length, n2; i &lt; n1; i++) {\n    strings = new String[r.nextInt(5, 20)];\n    for (j = 0, n2 = strings.length; j &lt; n2; j++) {\n        strings[j] = r.ints('a', 'z' + 1)\n                      .limit(r.nextInt(4, 10))\n                      .mapToObj(x -&gt; String.valueOf((char) x))\n                      .collect(Collectors.joining());\n    }\n    myList[i] = strings;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>eoiigbu    eaglbxp    uiou       eygdnizf   \nbfkcmid    snlz       vkbkqdo    obfxwtax   \nxtxmo      nqtaoxijq  nlorcz     wpwdhk     \ndwtdihj    tnsxp      zjeszm     vfeasklyj  \nwsmgwegr   tolsnxauk  immxl      trbwlmxft  \nlhejlvqh   wfhh       efwkdri               \nbjiltokvt  hsprvsfpu  muoqp                 \nnmerh      jfkuhr     ycylr                 \nmmtcun     mgrj       lunarw                \njlnicv     faapyhjb   vlsqz                 \nnehy       nfnmtdxai  yzxrivxn              \nkiace      oorrj      jfbfgeo               \n           hpzaaa     fwmpqcjbi             \n           lxvnnqieo                        \n           iqujzwnv                         \n           hjjz                             \n           dthlgtip                         \n           oggqr                            \n           dbpbr                            \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24998171,"reputation":16,"user_id":18858798,"display_name":"Noob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695381650,"creation_date":1695381650,"answer_id":77157171,"question_id":77152289,"body_markdown":"\r\n\t\t\r\n\t\tString [][]myList = {\r\n\t\t\t\t{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},\r\n\t\t\t\t{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;,&quot;stood&quot;},\r\n\t\t\t\t{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;,&quot;stood&quot;,&quot;ascefq&quot;,&quot;efwef&quot;},\r\n\t\t\t\t{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;},\r\n\t\t\t\t{&quot;chair&quot;, &quot;bench&quot;},\r\n\t\t\t\t{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;,&quot;stood&quot;,&quot;ascefq&quot;,&quot;efwef&quot;}\r\n\t\t\t\t};\r\n\t\t\r\n\t\tint max = Integer.MIN_VALUE;\r\n\t\t\r\n\t\tfor (int i = 0 ; i&lt; myList.length; i++)\r\n\t\t{\r\n\t\t\tif(myList[i].length &gt; max)\r\n\t\t\t\t\tmax = myList[i].length;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(max);\r\n\t\t\r\n\t\tfor (int column= 0; column &lt; max; column++)\r\n\t\t{\r\n\t\t    for (int row= 0; row &lt; myList.length; row++)\r\n\t\t    {\r\n\t\t    \tif(myList[row].length &lt;= column)\r\n\t\t    \t\t{\r\n\t\t    \t\t\tSystem.out.printf(&quot;%-8s&quot;,&quot;&quot;);\r\n\t\t    \t\t\tcontinue;\r\n\t\t    \t\t}\r\n\t\t    \t\t\r\n\t\t    \tSystem.out.printf(&quot;%-8s&quot;,myList[row][column]);\r\n\t\t    }\r\n\t\t    System.out.println();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\r\nWith this solution you need less loop and still you will get the accurate result for any nxm array.\r\n\r\nActual logic is in the below part.\r\n\r\n             if(myList[row].length &lt;= column)\r\n                {\r\n                    System.out.printf(&quot;%-8s&quot;,&quot;&quot;);\r\n                    continue;\r\n                }\r\nThis loop is checking if the length of the row is less than or equal to the current column (as we are doing column iteration), means if row length is less or equal then we need to add space else add the string.\r\n\r\nHope it helps.","title":"Printing 2d array Java","body":"<pre><code>    String [][]myList = {\n            {&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},\n            {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;,&quot;stood&quot;},\n            {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;,&quot;stood&quot;,&quot;ascefq&quot;,&quot;efwef&quot;},\n            {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;},\n            {&quot;chair&quot;, &quot;bench&quot;},\n            {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;,&quot;stood&quot;,&quot;ascefq&quot;,&quot;efwef&quot;}\n            };\n    \n    int max = Integer.MIN_VALUE;\n    \n    for (int i = 0 ; i&lt; myList.length; i++)\n    {\n        if(myList[i].length &gt; max)\n                max = myList[i].length;\n    }\n\n    System.out.println(max);\n    \n    for (int column= 0; column &lt; max; column++)\n    {\n        for (int row= 0; row &lt; myList.length; row++)\n        {\n            if(myList[row].length &lt;= column)\n                {\n                    System.out.printf(&quot;%-8s&quot;,&quot;&quot;);\n                    continue;\n                }\n                \n            System.out.printf(&quot;%-8s&quot;,myList[row][column]);\n        }\n        System.out.println();\n    }\n    \n    \n</code></pre>\n<p>With this solution you need less loop and still you will get the accurate result for any nxm array.</p>\n<p>Actual logic is in the below part.</p>\n<pre><code>         if(myList[row].length &lt;= column)\n            {\n                System.out.printf(&quot;%-8s&quot;,&quot;&quot;);\n                continue;\n            }\n</code></pre>\n<p>This loop is checking if the length of the row is less than or equal to the current column (as we are doing column iteration), means if row length is less or equal then we need to add space else add the string.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":28971313,"reputation":53,"user_id":22191547,"display_name":"AlexisH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1701426300,"creation_date":1695315882,"question_id":77152289,"body_markdown":"I am trying print the array I&#39;ve created below.\r\n\r\n***NOTE: this is only a portion of my code that I extracted, so any commentary on anything needed before this portion is unnecessary.***\r\n   \r\n```\r\nString [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\n\r\nfor (int i= 0; i &lt; myList.length; i++)\r\n{\r\n    for (int j= 0; j &lt; myList.length; j++)\r\n    {\r\n        System.out.print(myList[i][j]);\r\n    }\r\n}\r\n```\r\n\r\nHowever, the issue I&#39;m having is that the array print as a list, but I want it to print as:\r\n\r\n```\r\nCat      chair\r\nDog      bench\r\nMouse    stool\r\n```\r\n\r\nAny help would be greatly appreciated.","title":"Printing 2d array Java","body":"<p>I am trying print the array I've created below.</p>\n<p><em><strong>NOTE: this is only a portion of my code that I extracted, so any commentary on anything needed before this portion is unnecessary.</strong></em></p>\n<pre><code>String [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\n\nfor (int i= 0; i &lt; myList.length; i++)\n{\n    for (int j= 0; j &lt; myList.length; j++)\n    {\n        System.out.print(myList[i][j]);\n    }\n}\n</code></pre>\n<p>However, the issue I'm having is that the array print as a list, but I want it to print as:</p>\n<pre><code>Cat      chair\nDog      bench\nMouse    stool\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1661494466,"post_id":73494509,"comment_id":129789943,"body_markdown":"I think you should consider using spring-security to utilize its `PasswordEncoder` and different ways to compare passwords for equality","body":"I think you should consider using spring-security to utilize its <code>PasswordEncoder</code> and different ways to compare passwords for equality"},{"owner":{"account_id":3400101,"reputation":3491,"user_id":2852528,"display_name":"Serhii Pov&#237;senko"},"score":1,"creation_date":1661890309,"post_id":73494509,"comment_id":129878586,"body_markdown":"the best practice is to hash passwords not encrypt them, as @AndrewThomas use any implementation of PasswordEncoder like BCryptPasswordEncoder","body":"the best practice is to hash passwords not encrypt them, as @AndrewThomas use any implementation of PasswordEncoder like BCryptPasswordEncoder"}],"answers":[{"tags":[],"owner":{"account_id":9792233,"reputation":459,"user_id":7256477,"display_name":"Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661497897,"creation_date":1661497897,"answer_id":73497331,"question_id":73494509,"body_markdown":"Use \r\n\r\n&gt; **BCryptPasswordEncoder**\r\n\r\n Class while saving the Password in DataBase.it will convert the normal text to RandomValue.\r\n\r\nDefine the BCryptPasswordEncoder In config Class.\r\n\r\n    @Bean\r\n    public PasswordEncoder encoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nRepository Class :\r\n\r\n       @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n    \r\n    public User newUserAccount(UserDto accountDto) {\r\n            User user = new User();\r\n        user.setFirstName(accountDto.getFirstName());\r\n        user.setLastName(accountDto.getLastName());\r\n       \r\n        user.setPassword(passwordEncoder.encode(accountDto.getPassword()));\r\n        \r\n        \r\n        return repository.save(user);\r\n    }\r\n\r\n  \r\n\r\n","title":"How to encpyt the password using Springboot?","body":"<p>Use</p>\n<blockquote>\n<p><strong>BCryptPasswordEncoder</strong></p>\n</blockquote>\n<p>Class while saving the Password in DataBase.it will convert the normal text to RandomValue.</p>\n<p>Define the BCryptPasswordEncoder In config Class.</p>\n<pre><code>@Bean\npublic PasswordEncoder encoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>Repository Class :</p>\n<pre><code>   @Autowired\nprivate PasswordEncoder passwordEncoder;\n\npublic User newUserAccount(UserDto accountDto) {\n        User user = new User();\n    user.setFirstName(accountDto.getFirstName());\n    user.setLastName(accountDto.getLastName());\n   \n    user.setPassword(passwordEncoder.encode(accountDto.getPassword()));\n    \n    \n    return repository.save(user);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26747337,"reputation":13,"user_id":20347223,"display_name":"Ch Vamsi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701426224,"creation_date":1701426224,"answer_id":77584559,"question_id":73494509,"body_markdown":"   Utilize this code .. Here I am using InMemoryUserDetailsManager to manage user details that stored in memory.\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager createUserDetails(){\r\n        UserDetails user1 = createNewUser(&quot;vamsi&quot;,&quot;vamsi&quot;);\r\n        UserDetails user2 = createNewUser(&quot;a&quot;,&quot;a&quot;);\r\n\r\n        return new InMemoryUserDetailsManager(user1,user2);\r\n\r\n    }\r\n\r\n    private UserDetails createNewUser(String username, String password) {\r\n        Function&lt;String, String&gt; passwordEncoder = input -&gt;passwordEncoder().encode(input);\r\n        return User.builder()\r\n                .passwordEncoder(passwordEncoder)\r\n                .password(password)\r\n                .username(username)\r\n                .roles(&quot;user&quot;,&quot;admin&quot;)\r\n                .build();\r\n    }\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }","title":"How to encpyt the password using Springboot?","body":"<p>Utilize this code .. Here I am using InMemoryUserDetailsManager to manage user details that stored in memory.</p>\n<pre><code>@Bean\npublic InMemoryUserDetailsManager createUserDetails(){\n    UserDetails user1 = createNewUser(&quot;vamsi&quot;,&quot;vamsi&quot;);\n    UserDetails user2 = createNewUser(&quot;a&quot;,&quot;a&quot;);\n\n    return new InMemoryUserDetailsManager(user1,user2);\n\n}\n\nprivate UserDetails createNewUser(String username, String password) {\n    Function&lt;String, String&gt; passwordEncoder = input -&gt;passwordEncoder().encode(input);\n    return User.builder()\n            .passwordEncoder(passwordEncoder)\n            .password(password)\n            .username(username)\n            .roles(&quot;user&quot;,&quot;admin&quot;)\n            .build();\n}\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n"}],"owner":{"account_id":26161588,"reputation":11,"user_id":19848020,"display_name":"Nithisha Perera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701426224,"creation_date":1661469115,"question_id":73494509,"body_markdown":"I have already done user register and login. But I want to encrypt the password when create a profile.\r\n\r\nThis is my current configuration\r\n\r\nMongoDB Connection\r\n\r\n    spring.data.mongodb.uri= mongodb://127.0.0.1:27017/Student\r\n    server.port=8080\r\n\r\nModel Class:\r\n    @Document\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class User {\r\n        @Id\r\n        @Indexed\r\n        private String id;\r\n        @Indexed\r\n        private String address;\r\n        @Indexed\r\n        private String name;\r\n        @Indexed\r\n        private String email;\r\n        @Indexed\r\n        private String password;\r\n        @Indexed\r\n        private String role;\r\n    }\r\n\r\nRepository Class:\r\n\r\n    public interface userReporsitory extends MongoRepository&lt;User,String&gt; {\r\n        Optional&lt;User&gt; findByEmail(String email);\r\n        List&lt;User&gt; findAllByRole(String role);\r\n    }\r\n\r\nService Class:\r\n\r\n    @AllArgsConstructor\r\n    @Service\r\n    public class userService {\r\n        private userReporsitory userReporsitory;\r\n        public User saveUser(User user){\r\n            return userReporsitory.save(user);    \r\n        }\r\n        public User login(User user){\r\n              User response = userReporsitory.findByEmail(user.getEmail()).orElseThrow(()-&gt;new RuntimeException(&quot;User Not Found&quot;));\r\n              \r\n              if(!response.getPassword().equals(user.getPassword())){\r\n                throw new RuntimeException(&quot;Bad Credincials&quot;);\r\n              }\r\n    \r\n              return response;\r\n        }\r\n    \r\n        public List&lt;User&gt; findAllUsers(){\r\n          return userReporsitory.findAllByRole(&quot;user&quot;);\r\n        }\r\n    }\r\n\r\nController Class:\r\n\r\n        @CrossOrigin\r\n    @RestController\r\n    @AllArgsConstructor\r\n    @RequestMapping(&quot;api/v1/user&quot;)\r\n    public class userController {\r\n       private userService userService;\r\n    \r\n        @PostMapping(&quot;/create&quot;)\r\n        public ResponseEntity&lt;User&gt; save(@RequestBody User user){\r\n            HttpStatus status = HttpStatus.EXPECTATION_FAILED;\r\n            User response = userService.saveUser(user);\r\n    \r\n            if(response != null){\r\n               status = HttpStatus.CREATED;\r\n            }\r\n    \r\n            return new ResponseEntity&lt;&gt;(response, status);\r\n            \r\n        }\r\n        @PostMapping(&quot;/login&quot;)\r\n        public ResponseEntity&lt;User&gt; login(@RequestBody User user){\r\n            return new ResponseEntity&lt;&gt;(userService.login(user),HttpStatus.ACCEPTED);\r\n            \r\n        }\r\n        @GetMapping(&quot;/userList&quot;)\r\n        public ResponseEntity&lt;List&lt;User&gt;&gt; userList(){\r\n            return new ResponseEntity&lt;&gt;(userService.findAllUsers(),HttpStatus.ACCEPTED);\r\n        }\r\n            \r\n    \r\n    }","title":"How to encpyt the password using Springboot?","body":"<p>I have already done user register and login. But I want to encrypt the password when create a profile.</p>\n<p>This is my current configuration</p>\n<p>MongoDB Connection</p>\n<pre><code>spring.data.mongodb.uri= mongodb://127.0.0.1:27017/Student\nserver.port=8080\n</code></pre>\n<p>Model Class:\n@Document\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class User {\n@Id\n@Indexed\nprivate String id;\n@Indexed\nprivate String address;\n@Indexed\nprivate String name;\n@Indexed\nprivate String email;\n@Indexed\nprivate String password;\n@Indexed\nprivate String role;\n}</p>\n<p>Repository Class:</p>\n<pre><code>public interface userReporsitory extends MongoRepository&lt;User,String&gt; {\n    Optional&lt;User&gt; findByEmail(String email);\n    List&lt;User&gt; findAllByRole(String role);\n}\n</code></pre>\n<p>Service Class:</p>\n<pre><code>@AllArgsConstructor\n@Service\npublic class userService {\n    private userReporsitory userReporsitory;\n    public User saveUser(User user){\n        return userReporsitory.save(user);    \n    }\n    public User login(User user){\n          User response = userReporsitory.findByEmail(user.getEmail()).orElseThrow(()-&gt;new RuntimeException(&quot;User Not Found&quot;));\n          \n          if(!response.getPassword().equals(user.getPassword())){\n            throw new RuntimeException(&quot;Bad Credincials&quot;);\n          }\n\n          return response;\n    }\n\n    public List&lt;User&gt; findAllUsers(){\n      return userReporsitory.findAllByRole(&quot;user&quot;);\n    }\n}\n</code></pre>\n<p>Controller Class:</p>\n<pre><code>    @CrossOrigin\n@RestController\n@AllArgsConstructor\n@RequestMapping(&quot;api/v1/user&quot;)\npublic class userController {\n   private userService userService;\n\n    @PostMapping(&quot;/create&quot;)\n    public ResponseEntity&lt;User&gt; save(@RequestBody User user){\n        HttpStatus status = HttpStatus.EXPECTATION_FAILED;\n        User response = userService.saveUser(user);\n\n        if(response != null){\n           status = HttpStatus.CREATED;\n        }\n\n        return new ResponseEntity&lt;&gt;(response, status);\n        \n    }\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;User&gt; login(@RequestBody User user){\n        return new ResponseEntity&lt;&gt;(userService.login(user),HttpStatus.ACCEPTED);\n        \n    }\n    @GetMapping(&quot;/userList&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; userList(){\n        return new ResponseEntity&lt;&gt;(userService.findAllUsers(),HttpStatus.ACCEPTED);\n    }\n        \n\n}\n</code></pre>\n"},{"tags":["java","jwt","jjwt"],"answers":[{"tags":[],"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570552323,"creation_date":1570552323,"answer_id":58290507,"question_id":58278342,"body_markdown":"Welcome to StackOverflow!\r\n\r\nThis feature will be natively supported by JJWT when using Jackson in the upcoming JJWT 0.11.0 release (and you can read the [docs for this feature](https://github.com/jwtk/jjwt/tree/README-0-11-0#parsing-of-custom-claim-types) too).  But it is not available natively in 0.10.X and earlier.\r\n\r\nPrior to 0.11.0, and assuming you&#39;re using Jackson, you&#39;ll have to do this yourself manually with the ObjectMapper:\r\n\r\n```java\r\n// when creating:\r\nUser user = getUser();\r\nObjectMapper objectMapper = new ObjectMapper(); // or use an existing one\r\nString json = objectMapper.writeValueAsString(user);\r\nbyte[] bytes = json.getBytes(StandardCharsets.UTF_8)\r\nString base64 = Encoders.BASE64.encode(bytes);\r\nString jws = Jwts.builder()\r\n  ...\r\n  .claim(&quot;userJsonBase64&quot;, base64)\r\n  ...\r\n  .compact();\r\n\r\n//when parsing:\r\nString userJsonBase64 = Jwts.parser()....parseClaimsJws(jws).getBody().get(&quot;userJsonBase64&quot;, String.class);\r\nbytes = Decoders.BASE64.decode(userJsonBase64);\r\njson = new String(bytes, StandardCharsets.UTF_8);\r\nuser = objectMapper.readValue(json, User.class);\r\n```","title":"How can I send an object as part of the JSON Web Token?","body":"<p>Welcome to StackOverflow!</p>\n\n<p>This feature will be natively supported by JJWT when using Jackson in the upcoming JJWT 0.11.0 release (and you can read the <a href=\"https://github.com/jwtk/jjwt/tree/README-0-11-0#parsing-of-custom-claim-types\" rel=\"nofollow noreferrer\">docs for this feature</a> too).  But it is not available natively in 0.10.X and earlier.</p>\n\n<p>Prior to 0.11.0, and assuming you're using Jackson, you'll have to do this yourself manually with the ObjectMapper:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// when creating:\nUser user = getUser();\nObjectMapper objectMapper = new ObjectMapper(); // or use an existing one\nString json = objectMapper.writeValueAsString(user);\nbyte[] bytes = json.getBytes(StandardCharsets.UTF_8)\nString base64 = Encoders.BASE64.encode(bytes);\nString jws = Jwts.builder()\n  ...\n  .claim(\"userJsonBase64\", base64)\n  ...\n  .compact();\n\n//when parsing:\nString userJsonBase64 = Jwts.parser()....parseClaimsJws(jws).getBody().get(\"userJsonBase64\", String.class);\nbytes = Decoders.BASE64.decode(userJsonBase64);\njson = new String(bytes, StandardCharsets.UTF_8);\nuser = objectMapper.readValue(json, User.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16845017,"reputation":49,"user_id":12179432,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570645124,"creation_date":1570645124,"answer_id":58310061,"question_id":58278342,"body_markdown":"Thank you for your answer, that will be a nice feature to have, once it&#39;s available.  I wanted to follow up and post a workaround that I found, in case it helps anyone else in the meantime.  I was able to create the JSON I needed using a Java HashMap (I found out the hard way that a Scala Map does not work) and then passing that as the value of the claim:\r\n\r\n    val user: util.Map[String, String] = new util.HashMap[String,\r\n    String]() user.put(&quot;id&quot;, email.value) user.put(&quot;email&quot;, email.value)\r\n    user.put(&quot;name&quot;, name.displayName)\r\n\r\n...\r\n\r\n    val jws: String = Jwts.builder()\r\n    .claim(&quot;user&quot;, user)\r\n    .signWith(key).compact()","title":"How can I send an object as part of the JSON Web Token?","body":"<p>Thank you for your answer, that will be a nice feature to have, once it's available.  I wanted to follow up and post a workaround that I found, in case it helps anyone else in the meantime.  I was able to create the JSON I needed using a Java HashMap (I found out the hard way that a Scala Map does not work) and then passing that as the value of the claim:</p>\n\n<pre><code>val user: util.Map[String, String] = new util.HashMap[String,\nString]() user.put(\"id\", email.value) user.put(\"email\", email.value)\nuser.put(\"name\", name.displayName)\n</code></pre>\n\n<p>...</p>\n\n<pre><code>val jws: String = Jwts.builder()\n.claim(\"user\", user)\n.signWith(key).compact()\n</code></pre>\n"}],"owner":{"account_id":16845017,"reputation":49,"user_id":12179432,"display_name":"Shawn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5128,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1701426085,"creation_date":1570490980,"question_id":58278342,"body_markdown":"I&#39;m trying to create a web token using the jjwt library, but I can&#39;t figure out how to send an object as one of the claims.  If I parse the object or manually create the string the entire string is coming through as the value instead of a separate JSON object.  For instance, I want to send something that looks like this:\r\n```\r\n{\r\n    &quot;iss&quot;: &quot;NQoFK1NLVelFWOBQtQ8A&quot;,\r\n    &quot;iat&quot;: 1511963669,\r\n    &quot;user&quot;: {\r\n        &quot;id&quot;: &quot;exampleuser&quot;,\r\n        &quot;email&quot;: &quot;example@mail.com&quot;,\r\n        &quot;name&quot;: &quot;A User&quot;,\r\n    }\r\n}\r\n```\r\nBut all I&#39;ve been able to create is:\r\n```\r\n{\r\n    &quot;iss&quot;: &quot;NQoFK1NLVelFWOBQtQ8A&quot;,\r\n    &quot;iat&quot;: 1511963669,\r\n    &quot;user&quot;: &quot;{\\&quot;id\\&quot;: \\&quot;example@mail.com\\&quot;,\\&quot;email\\&quot;: \\&quot;example@mail.com\\&quot;,\\&quot;name\\&quot;: \\&quot;A User\\&quot;}&quot;\r\n}\r\n```","title":"How can I send an object as part of the JSON Web Token?","body":"<p>I'm trying to create a web token using the jjwt library, but I can't figure out how to send an object as one of the claims.  If I parse the object or manually create the string the entire string is coming through as the value instead of a separate JSON object.  For instance, I want to send something that looks like this:</p>\n\n<pre><code>{\n    \"iss\": \"NQoFK1NLVelFWOBQtQ8A\",\n    \"iat\": 1511963669,\n    \"user\": {\n        \"id\": \"exampleuser\",\n        \"email\": \"example@mail.com\",\n        \"name\": \"A User\",\n    }\n}\n</code></pre>\n\n<p>But all I've been able to create is:</p>\n\n<pre><code>{\n    \"iss\": \"NQoFK1NLVelFWOBQtQ8A\",\n    \"iat\": 1511963669,\n    \"user\": \"{\\\"id\\\": \\\"example@mail.com\\\",\\\"email\\\": \\\"example@mail.com\\\",\\\"name\\\": \\\"A User\\\"}\"\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jetty"],"comments":[{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":3,"creation_date":1542527027,"post_id":53358820,"comment_id":93594632,"body_markdown":"Can you post your code?","body":"Can you post your code?"},{"owner":{"account_id":8192774,"reputation":3700,"user_id":7141506,"display_name":"Mikhail Stepanov"},"score":0,"creation_date":1542530599,"post_id":53358820,"comment_id":93595226,"body_markdown":"Welcome to stackoverflow! Please take the [tour](https://stackoverflow.com/tour) and read the [help pages](https://stackoverflow.com/help). Helpful may be [&quot;how to ask good questions&quot;](https://stackoverflow.com/help/how-to-ask) and this [question checklist](https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist). Users here are way more ready to help if you provide [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve) with some input and the desired output.","body":"Welcome to stackoverflow! Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read the <a href=\"https://stackoverflow.com/help\">help pages</a>. Helpful may be <a href=\"https://stackoverflow.com/help/how-to-ask\">&quot;how to ask good questions&quot;</a> and this <a href=\"https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist\">question checklist</a>. Users here are way more ready to help if you provide <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a> with some input and the desired output."}],"answers":[{"tags":[],"owner":{"account_id":14139729,"reputation":81,"user_id":10214932,"display_name":"JekBP"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542533882,"creation_date":1542533882,"answer_id":53359502,"question_id":53358820,"body_markdown":"You are most likely trying to past argument as a String somewhere where it should not be accepting String as a parameter or could be not accepting any parameters at all.\r\n\r\nAs one of the comment said, can you post your codes here? The logs are not telling as well which of your specific class is having an exception.","title":"Error java.lang.IllegalArgumentException: Name for argument type [java.lang.String]","body":"<p>You are most likely trying to past argument as a String somewhere where it should not be accepting String as a parameter or could be not accepting any parameters at all.</p>\n\n<p>As one of the comment said, can you post your codes here? The logs are not telling as well which of your specific class is having an exception.</p>\n"},{"comments":[{"owner":{"account_id":8906792,"reputation":21,"user_id":6648351,"display_name":"riskiana"},"score":1,"creation_date":1543755853,"post_id":53540625,"comment_id":94024403,"body_markdown":"thanks, I found the root cause, that&#39;s java version in my pom.xml. After updating the java version from 8 to 7, it works well","body":"thanks, I found the root cause, that&#39;s java version in my pom.xml. After updating the java version from 8 to 7, it works well"}],"tags":[],"owner":{"account_id":297370,"reputation":3213,"user_id":602856,"accept_rate":40,"display_name":"rainer198"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543499644,"creation_date":1543499644,"answer_id":53540625,"question_id":53358820,"body_markdown":"I suspect you have some Spring MVC controllers and expect that Spring matches controller method arguments and request parameters by name automatically.\r\n\r\nAccording to this article [enter link description here][1] this only works if your code has been compiled with debugging information (javac -g options).\r\n\r\nI&#39;ve also a hard time with this issue. It worked in my IDE, but not when deploying an ant build to a tomcat. When I tried to remote debug the tomcat and therefore added the javac debug options, it suddenly worked. However, i did not see the relation of the debug option and the issue I was looking for ;-)\r\n\r\n  [1]: https://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/parameter-name-discoverer.html","title":"Error java.lang.IllegalArgumentException: Name for argument type [java.lang.String]","body":"<p>I suspect you have some Spring MVC controllers and expect that Spring matches controller method arguments and request parameters by name automatically.</p>\n\n<p>According to this article <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/parameter-name-discoverer.html\" rel=\"nofollow noreferrer\">enter link description here</a> this only works if your code has been compiled with debugging information (javac -g options).</p>\n\n<p>I've also a hard time with this issue. It worked in my IDE, but not when deploying an ant build to a tomcat. When I tried to remote debug the tomcat and therefore added the javac debug options, it suddenly worked. However, i did not see the relation of the debug option and the issue I was looking for ;-)</p>\n"},{"tags":[],"owner":{"account_id":9164249,"reputation":11,"user_id":6814522,"display_name":"sai theja"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701421747,"creation_date":1547829429,"answer_id":54258068,"question_id":53358820,"body_markdown":"Actually here the String type is not available it means like if we give parameters :\r\n\r\n    @Requestparam(value = &quot;myString&quot;) String myString \r\n\r\nif we give it like  `@Requestparam` String myString most probably will get that error. ","title":"Error java.lang.IllegalArgumentException: Name for argument type [java.lang.String]","body":"<p>Actually here the String type is not available it means like if we give parameters :</p>\n<pre><code>@Requestparam(value = &quot;myString&quot;) String myString \n</code></pre>\n<p>if we give it like  <code>@Requestparam</code> String myString most probably will get that error.</p>\n"},{"tags":[],"owner":{"account_id":1034596,"reputation":2386,"user_id":1042226,"accept_rate":52,"display_name":"Master Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573886953,"creation_date":1573885534,"answer_id":58888175,"question_id":53358820,"body_markdown":"We faced the same error when the method missed to add @RequestParam  annotation against the string. The error is generated when we started to use the Ant Build through Jenkins. When export WAR file through Eclipse IDE, it will not arise.\r\n\r\n","title":"Error java.lang.IllegalArgumentException: Name for argument type [java.lang.String]","body":"<p>We faced the same error when the method missed to add @RequestParam  annotation against the string. The error is generated when we started to use the Ant Build through Jenkins. When export WAR file through Eclipse IDE, it will not arise.</p>\n"}],"owner":{"account_id":8906792,"reputation":21,"user_id":6648351,"display_name":"riskiana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5624,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1701426074,"creation_date":1542526813,"question_id":53358820,"body_markdown":"I&#39;ve been struggling to find out the solution with this error for 2 weeks. Could you help me what happened\r\n\r\nHere is the error stack trace:\r\n\r\n\r\n\r\n\r\n&gt; &quot;java.lang.IllegalArgumentException: Name for argument type\r\n&gt; [java.lang.String] not available, and parameter name information not\r\n&gt; found in class file either.\\r\\n\\tat\r\n&gt; org.springframework.util.Assert.notNull(Assert.java:112)\\r\\n\\tat\r\n&gt; org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.updateNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:138)\\r\\n\\tat\r\n&gt; org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.getNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:117)\\r\\n\\tat\r\n&gt; org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:84)\\r\\n\\tat\r\n&gt; org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:77)\\r\\n\\tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:162)\\r\\n\\tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:123)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:936)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:827)\\r\\n\\tat\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:735)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\\r\\n\\tat\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:848)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:684)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1496)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlets.UserAgentFilter.doFilter(UserAgentFilter.java:82)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlets.GzipFilter.doFilter(GzipFilter.java:294)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1484)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\\r\\n\\tat\r\n&gt; org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\\r\\n\\tat\r\n&gt; org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:183)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\\r\\n\\tat\r\n&gt; org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\\r\\n\\tat\r\n&gt; org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1476)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:499)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1086)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:428)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1020)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.Server.handle(Server.java:370)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:494)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:971)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1033)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:644)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:667)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\\r\\n\\tat\r\n&gt; java.lang.Thread.run(Thread.java:748)\\r\\n&quot;\r\n\r\n","title":"Error java.lang.IllegalArgumentException: Name for argument type [java.lang.String]","body":"<p>I've been struggling to find out the solution with this error for 2 weeks. Could you help me what happened</p>\n\n<p>Here is the error stack trace:</p>\n\n<blockquote>\n  <p>\"java.lang.IllegalArgumentException: Name for argument type\n  [java.lang.String] not available, and parameter name information not\n  found in class file either.\\r\\n\\tat\n  org.springframework.util.Assert.notNull(Assert.java:112)\\r\\n\\tat\n  org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.updateNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:138)\\r\\n\\tat\n  org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.getNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:117)\\r\\n\\tat\n  org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:84)\\r\\n\\tat\n  org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:77)\\r\\n\\tat\n  org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:162)\\r\\n\\tat\n  org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:123)\\r\\n\\tat\n  org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\\r\\n\\tat\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\\r\\n\\tat\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\\r\\n\\tat\n  org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\\r\\n\\tat\n  org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\\r\\n\\tat\n  org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\\r\\n\\tat\n  org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:936)\\r\\n\\tat\n  org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:827)\\r\\n\\tat\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:735)\\r\\n\\tat\n  org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\\r\\n\\tat\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:848)\\r\\n\\tat\n  org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:684)\\r\\n\\tat\n  org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1496)\\r\\n\\tat\n  org.eclipse.jetty.servlets.UserAgentFilter.doFilter(UserAgentFilter.java:82)\\r\\n\\tat\n  org.eclipse.jetty.servlets.GzipFilter.doFilter(GzipFilter.java:294)\\r\\n\\tat\n  org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1484)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\\r\\n\\tat\n  org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\\r\\n\\tat\n  org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:183)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\\r\\n\\tat\n  org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\\r\\n\\tat\n  org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\\r\\n\\tat\n  org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1476)\\r\\n\\tat\n  org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:499)\\r\\n\\tat\n  org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\\r\\n\\tat\n  org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\\r\\n\\tat\n  org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\\r\\n\\tat\n  org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1086)\\r\\n\\tat\n  org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:428)\\r\\n\\tat\n  org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\\r\\n\\tat\n  org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1020)\\r\\n\\tat\n  org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\\r\\n\\tat\n  org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\\r\\n\\tat\n  org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\\r\\n\\tat\n  org.eclipse.jetty.server.Server.handle(Server.java:370)\\r\\n\\tat\n  org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:494)\\r\\n\\tat\n  org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:971)\\r\\n\\tat\n  org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1033)\\r\\n\\tat\n  org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:644)\\r\\n\\tat\n  org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\\r\\n\\tat\n  org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\\r\\n\\tat\n  org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:667)\\r\\n\\tat\n  org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)\\r\\n\\tat\n  org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\\r\\n\\tat\n  org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\\r\\n\\tat\n  java.lang.Thread.run(Thread.java:748)\\r\\n\"</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1701393328,"post_id":77582513,"comment_id":136773296,"body_markdown":"Every ArrayList is a List. Therefore, the assignment is valid. What you do with it next is the point where you&#39;ll probably put it all together.","body":"Every ArrayList is a List. Therefore, the assignment is valid. What you do with it next is the point where you&#39;ll probably put it all together."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1701393330,"post_id":77582513,"comment_id":136773297,"body_markdown":"`Collectors.toList()` will give you some concrete `List` instance. Maybe an `ArrayList`, maybe something else.","body":"<code>Collectors.toList()</code> will give you some concrete <code>List</code> instance. Maybe an <code>ArrayList</code>, maybe something else."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701393416,"post_id":77582513,"comment_id":136773304,"body_markdown":"Essentially for the same reason that `List&lt;String&gt; list = new ArrayList&lt;&gt;();` works.","body":"Essentially for the same reason that <code>List&lt;String&gt; list = new ArrayList&lt;&gt;();</code> works."},{"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"score":0,"creation_date":1701421189,"post_id":77582513,"comment_id":136775979,"body_markdown":"in such cases you need to dig into the code you re using. the list you re getting back is obviously being generated somewhere!!\n\nso me telling you that `Collectors.toList()` gives back &quot;this&quot; wont help you long-term. What i can tell you is that when you dont know how something works, you need to open the method(s) you re using and see the implementation. \n\nThis will also help u better understand the code you re using and will make u start thinking about upgrades of libraries, backwords compatibility etc. You need to know the risks of using someone else&#39;s code. welcome to this nightmare ^_^","body":"in such cases you need to dig into the code you re using. the list you re getting back is obviously being generated somewhere!!  so me telling you that <code>Collectors.toList()</code> gives back &quot;this&quot; wont help you long-term. What i can tell you is that when you dont know how something works, you need to open the method(s) you re using and see the implementation.   This will also help u better understand the code you re using and will make u start thinking about upgrades of libraries, backwords compatibility etc. You need to know the risks of using someone else&#39;s code. welcome to this nightmare ^_^"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1701406345,"post_id":77582525,"comment_id":136774336,"body_markdown":"FYI… Seems the [implementation in OpenJDK](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/stream/Collectors.java) for Java 21 uses `ArrayList`. But of course that may not be the case in future or past versions, or in other implementations of Java beyond OpenJDK.","body":"FYI… Seems the <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/stream/Collectors.java\" rel=\"nofollow noreferrer\">implementation in OpenJDK</a> for Java 21 uses <code>ArrayList</code>. But of course that may not be the case in future or past versions, or in other implementations of Java beyond OpenJDK."}],"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701393437,"creation_date":1701393437,"answer_id":77582525,"question_id":77582513,"body_markdown":"`Collectors.toList()` will return you *some* concrete `List` instance. Maybe an `ArrayList`, maybe something else. All the API is willing to guarantee is that it conforms to the `List` interface.\r\n\r\nThe [Javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--) explicitly states:\r\n\r\n&gt; There are no guarantees on the type, mutability, serializability, or\r\n&gt; thread-safety of the `List` returned; if more control over the returned\r\n&gt; `List` is required, use [`toCollection(Supplier)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toCollection-java.util.function.Supplier-).\r\n\r\nYou can check the specific type that is returned at runtime, but shouldn&#39;t rely on it.","title":"If List is an abstract interface, how does Collectors.toList() work with streams?","body":"<p><code>Collectors.toList()</code> will return you <em>some</em> concrete <code>List</code> instance. Maybe an <code>ArrayList</code>, maybe something else. All the API is willing to guarantee is that it conforms to the <code>List</code> interface.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--\" rel=\"nofollow noreferrer\">Javadoc</a> explicitly states:</p>\n<blockquote>\n<p>There are no guarantees on the type, mutability, serializability, or\nthread-safety of the <code>List</code> returned; if more control over the returned\n<code>List</code> is required, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toCollection-java.util.function.Supplier-\" rel=\"nofollow noreferrer\"><code>toCollection(Supplier)</code></a>.</p>\n</blockquote>\n<p>You can check the specific type that is returned at runtime, but shouldn't rely on it.</p>\n"}],"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1701425608,"accepted_answer_id":77582525,"answer_count":1,"score":1,"last_activity_date":1701425658,"creation_date":1701393143,"question_id":77582513,"body_markdown":"I understand this will not work because List is an abstract interface:\r\n\r\n    List&lt;Integer&gt; l = new List&lt;&gt;();\r\n\r\nand this is why I have been using typically `ArrayList&lt;&gt;`.\r\n\r\nI&#39;m curious why the following is valid in assignment of an object to `List&lt;String&gt; l`:\r\n\r\n    ArrayList&lt;E&gt; al = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; l = al.stream().collect(Collectors.toList());\r\n\r\nIt was my understanding objects couldn&#39;t be created from interfaces, only when they have been implemented.  Can anyone explain why second code snippet works and how I should be understanding this difference?","title":"If List is an abstract interface, how does Collectors.toList() work with streams?","body":"<p>I understand this will not work because List is an abstract interface:</p>\n<pre><code>List&lt;Integer&gt; l = new List&lt;&gt;();\n</code></pre>\n<p>and this is why I have been using typically <code>ArrayList&lt;&gt;</code>.</p>\n<p>I'm curious why the following is valid in assignment of an object to <code>List&lt;String&gt; l</code>:</p>\n<pre><code>ArrayList&lt;E&gt; al = new ArrayList&lt;&gt;();\nList&lt;String&gt; l = al.stream().collect(Collectors.toList());\n</code></pre>\n<p>It was my understanding objects couldn't be created from interfaces, only when they have been implemented.  Can anyone explain why second code snippet works and how I should be understanding this difference?</p>\n"},{"tags":["java","spring","spring-boot","schedule"],"comments":[{"owner":{"account_id":27756,"reputation":18233,"user_id":73573,"accept_rate":62,"display_name":"palindrom"},"score":0,"creation_date":1681987076,"post_id":37344801,"comment_id":134146326,"body_markdown":"Can be simply done with a configuration: https://stackoverflow.com/a/70286256/73573","body":"Can be simply done with a configuration: <a href=\"https://stackoverflow.com/a/70286256/73573\">stackoverflow.com/a/70286256/73573</a>"}],"answers":[{"tags":[],"owner":{"account_id":51942,"reputation":40143,"user_id":155213,"accept_rate":83,"display_name":"miensol"},"comment_count":0,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1556227071,"creation_date":1463741861,"answer_id":37344917,"question_id":37344801,"body_markdown":"[The documentation](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/annotation/EnableScheduling.html) clearly states that:\r\n\r\n&gt; By default, will be searching for an associated scheduler definition:\r\n&gt; either a unique `TaskScheduler` bean in the context, or a `TaskScheduler`\r\n&gt; bean named &quot;taskScheduler&quot; otherwise; the same lookup will also be\r\n&gt; performed for a `ScheduledExecutorService` bean. If neither of the two\r\n&gt; is resolvable, a local single-threaded default scheduler will be\r\n&gt; created and used within the registrar.\r\n&gt; \r\n&gt; When more control is desired, a @Configuration class may implement\r\n&gt; SchedulingConfigurer. This allows access to the underlying\r\n&gt; ScheduledTaskRegistrar instance. For example, the following example\r\n&gt; demonstrates how to customize the Executor used to execute scheduled\r\n&gt; tasks:\r\n&gt; \r\n&gt;     @Configuration\r\n&gt;     @EnableScheduling\r\n&gt;     public class AppConfig implements SchedulingConfigurer {\r\n&gt;     \r\n&gt;         @Override\r\n&gt;         public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n&gt;             taskRegistrar.setScheduler(taskExecutor());\r\n&gt;         }\r\n&gt;     \r\n&gt;         @Bean(destroyMethod=&quot;shutdown&quot;)\r\n&gt;         public Executor taskExecutor() {\r\n&gt;             return Executors.newScheduledThreadPool(100);\r\n&gt;         }\r\n&gt;     }","title":"Spring @Scheduler parallel running","body":"<p><a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/annotation/EnableScheduling.html\" rel=\"noreferrer\">The documentation</a> clearly states that:</p>\n\n<blockquote>\n  <p>By default, will be searching for an associated scheduler definition:\n  either a unique <code>TaskScheduler</code> bean in the context, or a <code>TaskScheduler</code>\n  bean named \"taskScheduler\" otherwise; the same lookup will also be\n  performed for a <code>ScheduledExecutorService</code> bean. If neither of the two\n  is resolvable, a local single-threaded default scheduler will be\n  created and used within the registrar.</p>\n  \n  <p>When more control is desired, a @Configuration class may implement\n  SchedulingConfigurer. This allows access to the underlying\n  ScheduledTaskRegistrar instance. For example, the following example\n  demonstrates how to customize the Executor used to execute scheduled\n  tasks:</p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class AppConfig implements SchedulingConfigurer {\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        taskRegistrar.setScheduler(taskExecutor());\n    }\n\n    @Bean(destroyMethod=\"shutdown\")\n    public Executor taskExecutor() {\n        return Executors.newScheduledThreadPool(100);\n    }\n}\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701425427,"creation_date":1701425427,"answer_id":77584464,"question_id":37344801,"body_markdown":"Configure this property in `application.properties`:\r\n\r\n```\r\nspring.task.scheduling.pool.size=2\r\n```\r\n\r\nValue means the number of threads which may be used by scheduled tasks. Default pool size is 1 and this setting is available since SpringBoot 2.1.0\r\n\r\nThe same task will be executed in serialized when the trigger period is shorter than the execution duration. Different tasks will run in parallel with a maximum of threads you set.\r\n\r\nDocumentation - https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.task.scheduling.pool.size","title":"Spring @Scheduler parallel running","body":"<p>Configure this property in <code>application.properties</code>:</p>\n<pre><code>spring.task.scheduling.pool.size=2\n</code></pre>\n<p>Value means the number of threads which may be used by scheduled tasks. Default pool size is 1 and this setting is available since SpringBoot 2.1.0</p>\n<p>The same task will be executed in serialized when the trigger period is shorter than the execution duration. Different tasks will run in parallel with a maximum of threads you set.</p>\n<p>Documentation - <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.task.scheduling.pool.size\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.task.scheduling.pool.size</a></p>\n"}],"owner":{"account_id":5138539,"reputation":1040,"user_id":4116583,"accept_rate":71,"display_name":"hublo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17676,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":37344917,"answer_count":2,"score":23,"last_activity_date":1701425427,"creation_date":1463741513,"question_id":37344801,"body_markdown":"I have the following 3 classes:\r\n\r\n*ComponantA*\r\n\r\n    package mytest.spring.test.spring;\r\n\t\r\n\timport org.apache.log4j.Logger;\r\n\timport org.springframework.scheduling.annotation.Scheduled;\r\n\timport org.springframework.stereotype.Component;\r\n\t\r\n\t@Component\r\n\tpublic class ComponentA {\r\n\t\t\r\n\t\tLogger log = Logger.getLogger(ComponentB.class);\r\n\t\t\r\n\t\t@Scheduled(fixedRate=2000)\r\n\t\tpublic void sayHello() {\r\n\t\t\tfor(int i=1 ; i&lt;=5 ; i++) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tlog.info(&quot;Hello from ComponentA &quot; + i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n*ComponentB*\r\n\r\n    package mytest.spring.test.spring;\r\n\t\r\n\timport org.apache.log4j.Logger;\r\n\timport org.springframework.scheduling.annotation.Scheduled;\r\n\timport org.springframework.stereotype.Component;\r\n\t\r\n\t@Component\r\n\tpublic class ComponentB {\r\n\t\t\r\n\t\tLogger log = Logger.getLogger(ComponentB.class);\r\n\t\t\r\n\t\t@Scheduled(fixedRate=2000)\r\n\t\tpublic void sayHello() {\r\n\t\t\tfor(int i=1 ; i&lt;=3 ; i++) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(2000);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tlog.info(&quot;Hello from ComponentB &quot; + i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n*MyApplication*\r\n\r\n    package mytest.spring.test.spring;\r\n\t\r\n\timport org.springframework.boot.SpringApplication;\r\n\timport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\timport org.springframework.scheduling.annotation.EnableScheduling;\r\n\t\r\n\t@SpringBootApplication\r\n\t@EnableScheduling\r\n\tpublic class MyApplication {\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(MyApplication.class, args);\r\n\t\t}\r\n\t}\r\n\r\nWhen I execute it, I&#39;m getting the following output:\r\n\r\n    Hello from ComponentA 1\r\n\tHello from ComponentA 2\r\n\tHello from ComponentA 3\r\n\tHello from ComponentA 4\r\n\tHello from ComponentA 5\r\n\tHello from ComponentB 1\r\n\tHello from ComponentB 2\r\n\tHello from ComponentB 3\r\n\tHello from ComponentA 1\r\n\tHello from ComponentA 2\r\n\tHello from ComponentA 3\r\n\tHello from ComponentA 4\r\n\tHello from ComponentA 5\r\n\tHello from ComponentB 1\r\n\tHello from ComponentB 2\r\n\tHello from ComponentB 3\r\n\t...\r\n\r\nI need the 2 Scheduled methods to run in parallel, which is clearly not the cae according to the output I&#39;m getting. I read that it should be possible to provide the @Schedule annotation with a custom TaskExecutor, with which it should be possible to define how many thread we want ...\r\n\r\nAm I right ? I can&#39;t find how to provide this information.","title":"Spring @Scheduler parallel running","body":"<p>I have the following 3 classes:</p>\n\n<p><em>ComponantA</em></p>\n\n<pre><code>package mytest.spring.test.spring;\n\nimport org.apache.log4j.Logger;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ComponentA {\n\n    Logger log = Logger.getLogger(ComponentB.class);\n\n    @Scheduled(fixedRate=2000)\n    public void sayHello() {\n        for(int i=1 ; i&lt;=5 ; i++) {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            log.info(\"Hello from ComponentA \" + i);\n        }\n    }\n}\n</code></pre>\n\n<p><em>ComponentB</em></p>\n\n<pre><code>package mytest.spring.test.spring;\n\nimport org.apache.log4j.Logger;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ComponentB {\n\n    Logger log = Logger.getLogger(ComponentB.class);\n\n    @Scheduled(fixedRate=2000)\n    public void sayHello() {\n        for(int i=1 ; i&lt;=3 ; i++) {\n            try {\n                Thread.sleep(2000);\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            log.info(\"Hello from ComponentB \" + i);\n        }\n    }\n}\n</code></pre>\n\n<p><em>MyApplication</em></p>\n\n<pre><code>package mytest.spring.test.spring;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@SpringBootApplication\n@EnableScheduling\npublic class MyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>When I execute it, I'm getting the following output:</p>\n\n<pre><code>Hello from ComponentA 1\nHello from ComponentA 2\nHello from ComponentA 3\nHello from ComponentA 4\nHello from ComponentA 5\nHello from ComponentB 1\nHello from ComponentB 2\nHello from ComponentB 3\nHello from ComponentA 1\nHello from ComponentA 2\nHello from ComponentA 3\nHello from ComponentA 4\nHello from ComponentA 5\nHello from ComponentB 1\nHello from ComponentB 2\nHello from ComponentB 3\n...\n</code></pre>\n\n<p>I need the 2 Scheduled methods to run in parallel, which is clearly not the cae according to the output I'm getting. I read that it should be possible to provide the @Schedule annotation with a custom TaskExecutor, with which it should be possible to define how many thread we want ...</p>\n\n<p>Am I right ? I can't find how to provide this information.</p>\n"},{"tags":["java","maven","pom.xml","maven-enforcer-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701424486,"post_id":77584026,"comment_id":136776550,"body_markdown":"https://github.com/mojohaus/extra-enforcer-rules/","body":"<a href=\"https://github.com/mojohaus/extra-enforcer-rules/\" rel=\"nofollow noreferrer\">github.com/mojohaus/extra-enforcer-rules</a>"}],"answers":[{"tags":[],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701425218,"creation_date":1701422791,"answer_id":77584175,"question_id":77584026,"body_markdown":"The solution was to update the dependency version\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;extra-enforcer-rules&lt;/artifactId&gt;\r\n    &lt;version&gt;1.7.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"enforceBytecodeVersion doesn&#39;t work with Java 11","body":"<p>The solution was to update the dependency version</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;extra-enforcer-rules&lt;/artifactId&gt;\n    &lt;version&gt;1.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77584175,"answer_count":1,"score":0,"last_activity_date":1701425218,"creation_date":1701421157,"question_id":77584026,"body_markdown":"I have this configuration in my POM:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.1&lt;/version&gt; &lt;!-- Trova l&#39;ultima versione su http://maven.apache.org/plugins/maven-enforcer-plugin/ --&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;enforce-bytecode-version&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;enforce&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;rules&gt;\r\n                    &lt;enforceBytecodeVersion&gt;\r\n                        &lt;maxJdkVersion&gt;11&lt;/maxJdkVersion&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;org.mindrot:jbcrypt&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/enforceBytecodeVersion&gt;\r\n                &lt;/rules&gt;\r\n                &lt;fail&gt;true&lt;/fail&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extra-enforcer-rules&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-beta-5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nIt gives me the error\r\n\r\n&gt; Execution enforce-bytecode-version of goal org.apache.maven.plugins:maven-enforcer-plugin:3.4.1:enforce failed: Unknown JDK version given. Should be something like &quot;1.7&quot; -&gt; [Help 1]\r\n\r\nI haven&#39;t found any solution online to set Java 11.\r\n\r\n","title":"enforceBytecodeVersion doesn&#39;t work with Java 11","body":"<p>I have this configuration in my POM:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.1&lt;/version&gt; &lt;!-- Trova l'ultima versione su http://maven.apache.org/plugins/maven-enforcer-plugin/ --&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;enforce-bytecode-version&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;rules&gt;\n                    &lt;enforceBytecodeVersion&gt;\n                        &lt;maxJdkVersion&gt;11&lt;/maxJdkVersion&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;org.mindrot:jbcrypt&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/enforceBytecodeVersion&gt;\n                &lt;/rules&gt;\n                &lt;fail&gt;true&lt;/fail&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;extra-enforcer-rules&lt;/artifactId&gt;\n            &lt;version&gt;1.0-beta-5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It gives me the error</p>\n<blockquote>\n<p>Execution enforce-bytecode-version of goal org.apache.maven.plugins:maven-enforcer-plugin:3.4.1:enforce failed: Unknown JDK version given. Should be something like &quot;1.7&quot; -&gt; [Help 1]</p>\n</blockquote>\n<p>I haven't found any solution online to set Java 11.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","metrics"],"answers":[{"tags":[],"owner":{"account_id":29647658,"reputation":9,"user_id":22722326,"display_name":"Prashant Aghara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701425154,"creation_date":1701425154,"answer_id":77584434,"question_id":77583605,"body_markdown":"Answer would be to make the webclient object using Builder\r\nHere is the example for it :\r\n```\r\n@Bean\r\n    public WebClient webClient(WebClient.Builder webClientBuilder) {\r\n        return webClientBuilder\r\n                .baseUrl(endpoint)\r\n                .defaultHeader(&quot;api-key&quot;, apiKey)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .bu\r\n```","title":"Spring boot Webclient metrics not exposing","body":"<p>Answer would be to make the webclient object using Builder\nHere is the example for it :</p>\n<pre><code>@Bean\n    public WebClient webClient(WebClient.Builder webClientBuilder) {\n        return webClientBuilder\n                .baseUrl(endpoint)\n                .defaultHeader(&quot;api-key&quot;, apiKey)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .bu\n</code></pre>\n"}],"owner":{"account_id":29647658,"reputation":9,"user_id":22722326,"display_name":"Prashant Aghara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701425154,"creation_date":1701415538,"question_id":77583605,"body_markdown":"I am using spring boot &amp; spring webflux version 3.1.4\r\nI have written the below code for Webclient.\r\n\r\n```\r\nreturn WebClient.builder()\r\n                .baseUrl(endpoint)\r\n                .defaultHeader(&quot;api-key&quot;, apiKey)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .build();\r\n```\r\n\r\nAnd also have added dependency for micrometer Prometheus.\r\n```\r\nimplementation (&#39;io.micrometer:micrometer-registry-prometheus:1.10.5&#39;)\r\n```\r\n\r\nHere the management code for actuator\r\n\r\n```\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      base-path: /\r\n      exposure:\r\n        include: health,info,prometheus,beans,metrics\r\n      prometheus:\r\n        enabled: true\r\n      path-mapping:\r\n        prometheus: metrics\r\n        metrics: metrics-info\r\n    metrics:\r\n      export:\r\n        prometheus:\r\n          enabled: true\r\n```\r\n\r\nBut when I go to /metrics-info endpoint I am not seeing the metrics for webclient. \r\nIt says in [this][1] document that it is by default exposed but I am not able to see on the endpoint as well as on prometheus endpoint.\r\n\r\nDo I need to add any other metrics configs for exposing http.client.requests which is by default exposed ?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.1.0.M1/reference/html/production-ready-metrics.html#production-ready-metrics-http-clients","title":"Spring boot Webclient metrics not exposing","body":"<p>I am using spring boot &amp; spring webflux version 3.1.4\nI have written the below code for Webclient.</p>\n<pre><code>return WebClient.builder()\n                .baseUrl(endpoint)\n                .defaultHeader(&quot;api-key&quot;, apiKey)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .build();\n</code></pre>\n<p>And also have added dependency for micrometer Prometheus.</p>\n<pre><code>implementation ('io.micrometer:micrometer-registry-prometheus:1.10.5')\n</code></pre>\n<p>Here the management code for actuator</p>\n<pre><code>management:\n  endpoints:\n    web:\n      base-path: /\n      exposure:\n        include: health,info,prometheus,beans,metrics\n      prometheus:\n        enabled: true\n      path-mapping:\n        prometheus: metrics\n        metrics: metrics-info\n    metrics:\n      export:\n        prometheus:\n          enabled: true\n</code></pre>\n<p>But when I go to /metrics-info endpoint I am not seeing the metrics for webclient.\nIt says in <a href=\"https://docs.spring.io/spring-boot/docs/2.1.0.M1/reference/html/production-ready-metrics.html#production-ready-metrics-http-clients\" rel=\"nofollow noreferrer\">this</a> document that it is by default exposed but I am not able to see on the endpoint as well as on prometheus endpoint.</p>\n<p>Do I need to add any other metrics configs for exposing http.client.requests which is by default exposed ?</p>\n"},{"tags":["java","import"],"comments":[{"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"score":0,"creation_date":1701425261,"post_id":77584334,"comment_id":136776676,"body_markdown":"Try using Intellij it&#39;s almost standard for Java projects. If you can&#39;t afford Ultimate (which will help you mostly in Spring applications) use Community, its free. If you start with Maven project it will be much easier to manage libraries. Which, as far as I understand, is the problem.\nps. Jackson is an excellent choice, it will be your best friend throughout your journey through this language.","body":"Try using Intellij it&#39;s almost standard for Java projects. If you can&#39;t afford Ultimate (which will help you mostly in Spring applications) use Community, its free. If you start with Maven project it will be much easier to manage libraries. Which, as far as I understand, is the problem. ps. Jackson is an excellent choice, it will be your best friend throughout your journey through this language."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1701427276,"post_id":77584334,"comment_id":136776970,"body_markdown":"Please ignore the spam comment from @LudovDmitrii - the fix to &#39;How do I use this IDE&#39; is not &#39;use another one&#39;.","body":"Please ignore the spam comment from @LudovDmitrii - the fix to &#39;How do I use this IDE&#39; is not &#39;use another one&#39;."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1701429359,"post_id":77584334,"comment_id":136777328,"body_markdown":"@LuukMingers it&#39;s not clear from your question what the actual problem is. For example, edit your question and say: &quot;I get an error when compiling this code, on the `import` statement (and then paste the exact error)&quot;. Or: &quot;When I run this, I get an exception `ClassDefNotFoundError` (and paste the entire exception&quot;. Also explain exactly what you are doing that results in the error (&quot;I run `javac *.java`&quot;, for example).","body":"@LuukMingers it&#39;s not clear from your question what the actual problem is. For example, edit your question and say: &quot;I get an error when compiling this code, on the <code>import</code> statement (and then paste the exact error)&quot;. Or: &quot;When I run this, I get an exception <code>ClassDefNotFoundError</code> (and paste the entire exception&quot;. Also explain exactly what you are doing that results in the error (&quot;I run <code>javac *.java</code>&quot;, for example)."}],"owner":{"account_id":30038950,"reputation":11,"user_id":23020227,"display_name":"Luuk Mingers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":0,"score":-2,"last_activity_date":1701425052,"creation_date":1701424282,"question_id":77584334,"body_markdown":"I&#39;m trying to read some data out of a json file which has three parameters. I have an issue with the import of the jackson library. I&#39;m using vscode. In the downloaded file I&#39;m also unable to find a folder called databind. I got these imports from some online information. The debugger on vscode mentions that it &#39;cannot be resolved&#39;\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.Map;\r\n\r\npublic class Listread {\r\n\r\n    public static void main(String[] args) {\r\n        // Provide the path to your JSON file\r\n        String filePath = &quot;my filepath&quot;;\r\n\r\n        try {\r\n            // Read the JSON file into a JsonNode\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            JsonNode jsonNode = objectMapper.readTree(new File(filePath));\r\n\r\n            // Map to store the highest &#39;c&#39; value for each &#39;d&#39;\r\n            Map&lt;String, Double&gt; maxCValues = new HashMap&lt;&gt;();\r\n\r\n            // Iterate through the array in the JSON file\r\n            for (JsonNode arrayNode : jsonNode) {\r\n                String dValue = arrayNode.get(&quot;d&quot;).asText();\r\n                double cValue = arrayNode.get(&quot;c&quot;).asDouble();\r\n\r\n                // Update the max &#39;c&#39; value for the corresponding &#39;d&#39;\r\n                if (!maxCValues.containsKey(dValue) || cValue &gt; maxCValues.get(dValue)) {\r\n                    maxCValues.put(dValue, cValue);\r\n                }\r\n            }\r\n\r\n            // Print the results\r\n            System.out.println(&quot;For each &#39;d&#39;, the corresponding &#39;v&#39; with the highest &#39;c&#39;:&quot;);\r\n            for (JsonNode arrayNode : jsonNode) {\r\n                String dValue = arrayNode.get(&quot;d&quot;).asText();\r\n                double cValue = arrayNode.get(&quot;c&quot;).asDouble();\r\n\r\n                if (cValue == maxCValues.get(dValue)) {\r\n                    String vValue = arrayNode.get(&quot;v&quot;).asText();\r\n                    System.out.println(&quot;d: &quot; + dValue + &quot;, v: &quot; + vValue + &quot;, c: &quot; + cValue);\r\n                }\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI downloaded the jackson library from github and hoped that would resolve the issue, but it didn&#39;t. ","title":"Trying to read data out of a Json file using Java","body":"<p>I'm trying to read some data out of a json file which has three parameters. I have an issue with the import of the jackson library. I'm using vscode. In the downloaded file I'm also unable to find a folder called databind. I got these imports from some online information. The debugger on vscode mentions that it 'cannot be resolved'</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\n\npublic class Listread {\n\n    public static void main(String[] args) {\n        // Provide the path to your JSON file\n        String filePath = &quot;my filepath&quot;;\n\n        try {\n            // Read the JSON file into a JsonNode\n            ObjectMapper objectMapper = new ObjectMapper();\n            JsonNode jsonNode = objectMapper.readTree(new File(filePath));\n\n            // Map to store the highest 'c' value for each 'd'\n            Map&lt;String, Double&gt; maxCValues = new HashMap&lt;&gt;();\n\n            // Iterate through the array in the JSON file\n            for (JsonNode arrayNode : jsonNode) {\n                String dValue = arrayNode.get(&quot;d&quot;).asText();\n                double cValue = arrayNode.get(&quot;c&quot;).asDouble();\n\n                // Update the max 'c' value for the corresponding 'd'\n                if (!maxCValues.containsKey(dValue) || cValue &gt; maxCValues.get(dValue)) {\n                    maxCValues.put(dValue, cValue);\n                }\n            }\n\n            // Print the results\n            System.out.println(&quot;For each 'd', the corresponding 'v' with the highest 'c':&quot;);\n            for (JsonNode arrayNode : jsonNode) {\n                String dValue = arrayNode.get(&quot;d&quot;).asText();\n                double cValue = arrayNode.get(&quot;c&quot;).asDouble();\n\n                if (cValue == maxCValues.get(dValue)) {\n                    String vValue = arrayNode.get(&quot;v&quot;).asText();\n                    System.out.println(&quot;d: &quot; + dValue + &quot;, v: &quot; + vValue + &quot;, c: &quot; + cValue);\n                }\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I downloaded the jackson library from github and hoped that would resolve the issue, but it didn't.</p>\n"},{"tags":["java","android","shared-libraries","static-libraries"],"comments":[{"owner":{"account_id":16371484,"reputation":463,"user_id":11824674,"display_name":"Muhammad Sabeel Ahmed"},"score":0,"creation_date":1578299628,"post_id":59608865,"comment_id":105381122,"body_markdown":"can some one help me on it..??","body":"can some one help me on it..??"},{"owner":{"account_id":16850706,"reputation":922,"user_id":12183825,"display_name":"Edgar"},"score":0,"creation_date":1578299735,"post_id":59608865,"comment_id":105381154,"body_markdown":"https://stackoverflow.com/questions/52515309/libraries-not-accessible-for-classloader-namespace-when-loading-dl4j-model-us did you check this thread","body":"<a href=\"https://stackoverflow.com/questions/52515309/libraries-not-accessible-for-classloader-namespace-when-loading-dl4j-model-us\" title=\"libraries not accessible for classloader namespace when loading dl4j model us\">stackoverflow.com/questions/52515309/&hellip;</a> did you check this thread"},{"owner":{"account_id":16371484,"reputation":463,"user_id":11824674,"display_name":"Muhammad Sabeel Ahmed"},"score":0,"creation_date":1578303911,"post_id":59608865,"comment_id":105382960,"body_markdown":"@sashabeliy yes I have already checked these threads but unable to handle this error till now. I have also read docs of android developer from where i get that if targetVersionSDK is greater then or equal 24 then it will generate RunTimeError while for below then 24 this is working perfectly.\nhttps://developer.android.com/about/versions/nougat/android-7.0-changes.html","body":"@sashabeliy yes I have already checked these threads but unable to handle this error till now. I have also read docs of android developer from where i get that if targetVersionSDK is greater then or equal 24 then it will generate RunTimeError while for below then 24 this is working perfectly. <a href=\"https://developer.android.com/about/versions/nougat/android-7.0-changes.html\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/nougat/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":6332394,"reputation":175,"user_id":4971709,"display_name":"Brandon Ros"},"score":0,"creation_date":1691976720,"post_id":60949833,"comment_id":135559069,"body_markdown":"If you are super brave, you can read `libart.so` address out of `/proc/self/maps` and then look in `Ghidra` for where symbols would be relative to the address loaded in memory.","body":"If you are super brave, you can read <code>libart.so</code> address out of <code>&#47;proc&#47;self&#47;maps</code> and then look in <code>Ghidra</code> for where symbols would be relative to the address loaded in memory."}],"tags":[],"owner":{"account_id":3451973,"reputation":3093,"user_id":2891462,"accept_rate":90,"display_name":"user2891462"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1585655567,"creation_date":1585655150,"answer_id":60949833,"question_id":59608865,"body_markdown":"From Nougat onwards, Android prevents the runtime linkage of private symbols from system libraries (see [this blogpost][1] in Android Developers).\r\nYou have two options:\r\n\r\n 1. Include those libraries in your APK so that you don&#39;t need to look for them in `/system/lib/`; or\r\n 2. Modify your Android ROM so that those libraries are considered public. This can be done by adding those libraries to `/system/etc/public.libraries.txt`.\r\n\r\n\r\n  [1]: https://android-developers.googleblog.com/2016/06/improving-stability-with-private-cc.html","title":"library is not accessible for the namespace &quot;classloader-namespace&quot;","body":"<p>From Nougat onwards, Android prevents the runtime linkage of private symbols from system libraries (see <a href=\"https://android-developers.googleblog.com/2016/06/improving-stability-with-private-cc.html\" rel=\"noreferrer\">this blogpost</a> in Android Developers).\nYou have two options:</p>\n\n<ol>\n<li>Include those libraries in your APK so that you don't need to look for them in <code>/system/lib/</code>; or</li>\n<li>Modify your Android ROM so that those libraries are considered public. This can be done by adding those libraries to <code>/system/etc/public.libraries.txt</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12564813,"reputation":57,"user_id":9141184,"display_name":"WillWolf"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1701425039,"creation_date":1595503806,"answer_id":63053186,"question_id":59608865,"body_markdown":"I also encountered this error, as follows:\r\n\r\nIf I put the .so file in the `libs/yourCpuModel(armeabi-v7a)/` the error will occur.\r\n\r\nIf I put the .so file in the `src/jniLibs/youtCpuModel(armeabi-v7a)/` the error will occur.\r\n\r\nBut if I put the .so file in the `src/main/jniLibs/yourCpuModel(armeabi-v7a)/` directory the error will not occur.\r\n\r\nI don&#39;t know why, however this might still help you.","title":"library is not accessible for the namespace &quot;classloader-namespace&quot;","body":"<p>I also encountered this error, as follows:</p>\n<p>If I put the .so file in the <code>libs/yourCpuModel(armeabi-v7a)/</code> the error will occur.</p>\n<p>If I put the .so file in the <code>src/jniLibs/youtCpuModel(armeabi-v7a)/</code> the error will occur.</p>\n<p>But if I put the .so file in the <code>src/main/jniLibs/yourCpuModel(armeabi-v7a)/</code> directory the error will not occur.</p>\n<p>I don't know why, however this might still help you.</p>\n"}],"owner":{"account_id":16371484,"reputation":463,"user_id":11824674,"display_name":"Muhammad Sabeel Ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15971,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1701425039,"creation_date":1578299423,"question_id":59608865,"body_markdown":"I want to import below libraries in my Android Studio Project these are placed in */system/lib64/ folder*.\r\n**I am getting below error**\r\n```\r\n2020-01-06 13:23:31.358 5171-5171/org.strongswan.android E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: org.strongswan.android, PID: 5171\r\n    java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;/system/lib64/libstrongswan.so&quot; needed or dlopened by &quot;/system/lib64/libnativeloader.so&quot; is not accessible for the namespace &quot;classloader-namespace&quot;\r\n        at java.lang.Runtime.loadLibrary0(Runtime.java:1016)\r\n        at java.lang.System.loadLibrary(System.java:1669)\r\n        at org.strongswan.android.logic.CharonVpnService.&lt;init&gt;(CharonVpnService.java:730)\r\n        at java.lang.Class.newInstance(Native Method)\r\n        at android.app.AppComponentFactory.instantiateService(AppComponentFactory.java:103)\r\n        at android.app.ActivityThread.handleCreateService(ActivityThread.java:3740)\r\n        at android.app.ActivityThread.access$1400(ActivityThread.java:238)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1803)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7073)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\r\n```\r\n\r\n**on the line *System.loadLibrary(&quot;strongswan&quot;)***\r\n```\t{\r\n\t\tSystem.loadLibrary(&quot;strongswan&quot;);\r\n\r\n\t\tif (MainActivity.USE_BYOD)\r\n\t\t{\r\n\t\t\tSystem.loadLibrary(&quot;tncif&quot;);\r\n\t\t\tSystem.loadLibrary(&quot;tnccs&quot;);\r\n\t\t\tSystem.loadLibrary(&quot;imcv&quot;);\r\n\t\t}\r\n\r\n\t\tSystem.loadLibrary(&quot;hydra&quot;);\r\n\t\tSystem.loadLibrary(&quot;charon&quot;);\r\n\t\tSystem.loadLibrary(&quot;ipsec&quot;);\r\n\t\tSystem.loadLibrary(&quot;androidbridge&quot;);\r\n\t}\r\n\r\n```","title":"library is not accessible for the namespace &quot;classloader-namespace&quot;","body":"<p>I want to import below libraries in my Android Studio Project these are placed in <em>/system/lib64/ folder</em>.\n<strong>I am getting below error</strong></p>\n\n<pre><code>2020-01-06 13:23:31.358 5171-5171/org.strongswan.android E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: org.strongswan.android, PID: 5171\n    java.lang.UnsatisfiedLinkError: dlopen failed: library \"/system/lib64/libstrongswan.so\" needed or dlopened by \"/system/lib64/libnativeloader.so\" is not accessible for the namespace \"classloader-namespace\"\n        at java.lang.Runtime.loadLibrary0(Runtime.java:1016)\n        at java.lang.System.loadLibrary(System.java:1669)\n        at org.strongswan.android.logic.CharonVpnService.&lt;init&gt;(CharonVpnService.java:730)\n        at java.lang.Class.newInstance(Native Method)\n        at android.app.AppComponentFactory.instantiateService(AppComponentFactory.java:103)\n        at android.app.ActivityThread.handleCreateService(ActivityThread.java:3740)\n        at android.app.ActivityThread.access$1400(ActivityThread.java:238)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1803)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7073)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\n</code></pre>\n\n<p><strong>on the line <em>System.loadLibrary(\"strongswan\")</em></strong></p>\n\n<pre><code>        System.loadLibrary(\"strongswan\");\n\n        if (MainActivity.USE_BYOD)\n        {\n            System.loadLibrary(\"tncif\");\n            System.loadLibrary(\"tnccs\");\n            System.loadLibrary(\"imcv\");\n        }\n\n        System.loadLibrary(\"hydra\");\n        System.loadLibrary(\"charon\");\n        System.loadLibrary(\"ipsec\");\n        System.loadLibrary(\"androidbridge\");\n    }\n\n</code></pre>\n"},{"tags":["java","google-chrome","selenium-webdriver","webdrivermanager-java"],"comments":[{"owner":{"account_id":53229,"reputation":144059,"user_id":159145,"accept_rate":56,"display_name":"Dai"},"score":0,"creation_date":1701389372,"post_id":77582319,"comment_id":136773001,"body_markdown":"There is no &quot;Chrome 160&quot;... the highest version in preview is 120.","body":"There is no &quot;Chrome 160&quot;... the highest version in preview is 120."}],"answers":[{"comments":[{"owner":{"account_id":2623244,"reputation":21,"user_id":2270832,"display_name":"user2270832"},"score":0,"creation_date":1701901700,"post_id":77584320,"comment_id":136833920,"body_markdown":"WebDriver driver = new ChromeDriver(); raises exception:\n\njava.lang.NoClassDefFoundError: org/openqa/selenium/HasDownloads\n\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.HasDownloads\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)","body":"WebDriver driver = new ChromeDriver(); raises exception:  java.lang.NoClassDefFoundError: org/openqa/selenium/HasDownloads  Caused by: java.lang.ClassNotFoundException: org.openqa.selenium.HasDownloads \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(B&zwnj;&#8203;uiltinClassLoader.ja&zwnj;&#8203;va:583) \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.lo&zwnj;&#8203;adClass(ClassLoaders&zwnj;&#8203;.java:178) \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:5&zwnj;&#8203;21)"}],"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701424149,"creation_date":1701424149,"answer_id":77584320,"question_id":77582319,"body_markdown":"````\r\n&lt;version&gt;3.141.59&lt;/version&gt;\r\n````\r\nYou are using very old version of Selenium. Upgrade to the latest version of selenium i.e. `v4.15.0`.\r\n\r\nAnd once you upgrade to latest selenium, you no longer need `WebDriverManager` library. The new built-in tool `Selenium Manager` will do what `WebDriverManager` used to do before.\r\n\r\nCode can be as simple as:\r\n````\r\npublic static void main(String[] args) {\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.manage().window().maximize();\r\n    driver.get(&quot;https://www.google.com/&quot;);\r\n    driver.quit();\r\n}\r\n````\r\nRefer below answers for more details on this topic:\r\n- https://stackoverflow.com/a/76463081/7598774\r\n- https://stackoverflow.com/a/76752843/7598774\r\n- https://stackoverflow.com/a/77281456/7598774","title":"ChromeDriver only supports Chrome version 114 not 160","body":"<pre><code>&lt;version&gt;3.141.59&lt;/version&gt;\n</code></pre>\n<p>You are using very old version of Selenium. Upgrade to the latest version of selenium i.e. <code>v4.15.0</code>.</p>\n<p>And once you upgrade to latest selenium, you no longer need <code>WebDriverManager</code> library. The new built-in tool <code>Selenium Manager</code> will do what <code>WebDriverManager</code> used to do before.</p>\n<p>Code can be as simple as:</p>\n<pre><code>public static void main(String[] args) {\n    WebDriver driver = new ChromeDriver();\n    driver.manage().window().maximize();\n    driver.get(&quot;https://www.google.com/&quot;);\n    driver.quit();\n}\n</code></pre>\n<p>Refer below answers for more details on this topic:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/76463081/7598774\">https://stackoverflow.com/a/76463081/7598774</a></li>\n<li><a href=\"https://stackoverflow.com/a/76752843/7598774\">https://stackoverflow.com/a/76752843/7598774</a></li>\n<li><a href=\"https://stackoverflow.com/a/77281456/7598774\">https://stackoverflow.com/a/77281456/7598774</a></li>\n</ul>\n"}],"owner":{"account_id":2623244,"reputation":21,"user_id":2270832,"display_name":"user2270832"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701424342,"creation_date":1701388408,"question_id":77582319,"body_markdown":"I&#39;ve got the following error when my Chrome browser got updated to version 160:\r\n```\r\n&quot;org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 114\r\nCurrent browser version is 119.0.6045.160 with binary path C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;&quot;\r\n```\r\n\r\nMy POM file settings:\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI tried to bump up webdrivermanager to 5.6.2 but it did not help.\r\nAnyone can help with this issue?\r\nThanks a lot!!!\r\n\r\n\r\nI tried to bump up webdrivermanager version and it did not help ","title":"ChromeDriver only supports Chrome version 114 not 160","body":"<p>I've got the following error when my Chrome browser got updated to version 160:</p>\n<pre><code>&quot;org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 114\nCurrent browser version is 119.0.6045.160 with binary path C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'&quot;\n</code></pre>\n<p>My POM file settings:</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;4.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I tried to bump up webdrivermanager to 5.6.2 but it did not help.\nAnyone can help with this issue?\nThanks a lot!!!</p>\n<p>I tried to bump up webdrivermanager version and it did not help</p>\n"},{"tags":["java","swing","user-interface"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1461372909,"creation_date":1461372909,"answer_id":36805377,"question_id":36805320,"body_markdown":"The problem is you add components to the frame AFTER the frame is visible and don&#39;t invoke the layout manager so all the components have a size of 0 so there is nothing to paint.\r\n\r\nThe frame must be made visible AFTER all the components have been added to the frame.\r\n\r\nSo the structure of your code should be something like:\r\n\r\n    setTitle(&quot;ThisApp - Best in the business&quot;);\r\n    setResizable(false);\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    setLayout(new GridLayout(2,1));\r\n    \r\n    JButton cat = new JButton(&quot;Cat&quot;);\r\n    this.add(new JButton(&quot;Button&quot;));\r\n    this.add(new JTextField(&quot;CAT CAT&quot;,10));     \r\n    \r\n    setSize(300, 200);\r\n    setLocationRelativeTo( null );\r\n    setVisible(true);\r\n\r\n","title":"JTextField randomly not appearing in program even when code is not changed","body":"<p>The problem is you add components to the frame AFTER the frame is visible and don't invoke the layout manager so all the components have a size of 0 so there is nothing to paint.</p>\n\n<p>The frame must be made visible AFTER all the components have been added to the frame.</p>\n\n<p>So the structure of your code should be something like:</p>\n\n<pre><code>setTitle(\"ThisApp - Best in the business\");\nsetResizable(false);\nsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\nsetLayout(new GridLayout(2,1));\n\nJButton cat = new JButton(\"Cat\");\nthis.add(new JButton(\"Button\"));\nthis.add(new JTextField(\"CAT CAT\",10));     \n\nsetSize(300, 200);\nsetLocationRelativeTo( null );\nsetVisible(true);\n</code></pre>\n"}],"owner":{"account_id":6256343,"reputation":525,"user_id":4864750,"accept_rate":67,"display_name":"cafemolecular"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36805377,"answer_count":1,"score":0,"last_activity_date":1701423983,"creation_date":1461372389,"question_id":36805320,"body_markdown":"I&#39;m trying to write a small UI program with Swing. I need to have a few textfields, but defining a new textfield or textarea (I don&#39;t even have to add it to a Frame) will randomly prevent themselves and anything that is added after them in the code from appearing onscreen.\r\n\r\nI can recompile the same code without making any changes and maybe 1/3 of the time it will work properly. What&#39;s causing this problem and is there any way I can change it?\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class ThisApp\r\n    {\r\n    \tpublic static void main(String [] Args)\r\n    \t{\r\n    \t\tnew ThisUI();\t\t\r\n    \t}\r\n    }\r\n    \r\n    \r\n    class ThisUI extends JFrame //implements ActionListener\r\n    {\r\n    \tpublic ThisUI()\r\n    \t{\r\n    \t\tsetTitle(&quot;ThisApp - Best in the business&quot;);\r\n    \t\tsetResizable(false);\r\n    \t\tsetVisible(true);\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetSize(300, 200);\r\n    \t\tsetLayout(new GridLayout(2,1));\r\n    \r\n    \t\tJButton cat = new JButton(&quot;Cat&quot;);\r\n    \r\n    \t\tthis.add(new JButton(&quot;Button&quot;));\r\n    \t\tthis.add(new JTextField(&quot;CAT CAT&quot;,10));\t\t\r\n    \t}\r\n    }","title":"JTextField randomly not appearing in program even when code is not changed","body":"<p>I'm trying to write a small UI program with Swing. I need to have a few textfields, but defining a new textfield or textarea (I don't even have to add it to a Frame) will randomly prevent themselves and anything that is added after them in the code from appearing onscreen.</p>\n<p>I can recompile the same code without making any changes and maybe 1/3 of the time it will work properly. What's causing this problem and is there any way I can change it?</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class ThisApp\n{\n    public static void main(String [] Args)\n    {\n        new ThisUI();       \n    }\n}\n\n\nclass ThisUI extends JFrame //implements ActionListener\n{\n    public ThisUI()\n    {\n        setTitle(&quot;ThisApp - Best in the business&quot;);\n        setResizable(false);\n        setVisible(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(300, 200);\n        setLayout(new GridLayout(2,1));\n\n        JButton cat = new JButton(&quot;Cat&quot;);\n\n        this.add(new JButton(&quot;Button&quot;));\n        this.add(new JTextField(&quot;CAT CAT&quot;,10));     \n    }\n}\n</code></pre>\n"},{"tags":["java","linkedhashmap"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1416865713,"post_id":27114691,"comment_id":42732350,"body_markdown":"What is the purpose of using a `LinkedHashMap` when you sort it? Maybe use a [`TreeMap`](https://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html) instead and provide an own [`Comparator`](https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html) to sort the value instead of the key.","body":"What is the purpose of using a <code>LinkedHashMap</code> when you sort it? Maybe use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a> instead and provide an own <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> to sort the value instead of the key."},{"owner":{"account_id":1663022,"reputation":20609,"user_id":1530938,"display_name":"kolossus"},"score":0,"creation_date":1416865718,"post_id":27114691,"comment_id":42732353,"body_markdown":"The whole point of it being &quot;Linked&quot; is to derive the benefits of a List, i.e. indexed access. If you want default sorting, you&#39;ll need a Tree-based data structure","body":"The whole point of it being &quot;Linked&quot; is to derive the benefits of a List, i.e. indexed access. If you want default sorting, you&#39;ll need a Tree-based data structure"}],"answers":[{"comments":[{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":1,"creation_date":1416866041,"post_id":27114816,"comment_id":42732507,"body_markdown":"Elegant and minimal. How about a Java 8 version too - as a challenge. :D","body":"Elegant and minimal. How about a Java 8 version too - as a challenge. :D"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1416867564,"post_id":27114816,"comment_id":42733212,"body_markdown":"@LuiggiMendoza If you mean using a temp `TreeMap` to sort the `LinkedHashMap` (e.g. `TreeMap&lt;...&gt; tm = new TreeMap&lt;&gt;(lhm, valueComparator); lhm.clear(); lhm.putAll(tm);`), I don&#39;t really think it is a good idea. Either values then need to be unique or you need [a hack Comparator](http://stackoverflow.com/a/4702335/2891664).","body":"@LuiggiMendoza If you mean using a temp <code>TreeMap</code> to sort the <code>LinkedHashMap</code> (e.g. <code>TreeMap&lt;...&gt; tm = new TreeMap&lt;&gt;(lhm, valueComparator); lhm.clear(); lhm.putAll(tm);</code>), I don&#39;t really think it is a good idea. Either values then need to be unique or you need <a href=\"http://stackoverflow.com/a/4702335/2891664\">a hack Comparator</a>."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1416873105,"post_id":27114816,"comment_id":42735257,"body_markdown":"Even eleganter -&lt;grin&gt;","body":"Even eleganter -&lt;grin&gt;"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1416873516,"post_id":27114816,"comment_id":42735382,"body_markdown":"@OldCurmudgeon Sure, the method could accept `Map`, but it wouldn&#39;t have an effect. I suppose it would be nice if Java had an interface like `OrderedMap&lt;K, V&gt;` which `LinkedHashMap` could implement, even if it was just a marker.","body":"@OldCurmudgeon Sure, the method could accept <code>Map</code>, but it wouldn&#39;t have an effect. I suppose it would be nice if Java had an interface like <code>OrderedMap&lt;K, V&gt;</code> which <code>LinkedHashMap</code> could implement, even if it was just a marker."},{"owner":{"account_id":4545435,"reputation":860,"user_id":3692177,"accept_rate":88,"display_name":"SebasSBM"},"score":0,"creation_date":1560350133,"post_id":27114816,"comment_id":99708823,"body_markdown":"What&#39;s the point in declaring parameters in the function header like this -&gt; `static &lt;K, V&gt; void orderByValue`? I just don&#39;t get it... isn&#39;t this syntax normally used for parametrized types? This chunk doesn&#39;t seem to have anything to parametrize, as far as I know... can somebody explain it, please?","body":"What&#39;s the point in declaring parameters in the function header like this -&gt; <code>static &lt;K, V&gt; void orderByValue</code>? I just don&#39;t get it... isn&#39;t this syntax normally used for parametrized types? This chunk doesn&#39;t seem to have anything to parametrize, as far as I know... can somebody explain it, please?"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1560385241,"post_id":27114816,"comment_id":99722370,"body_markdown":"@SebasSBM It lets us work with the map in a more type-safe way, without us knowing its actual type. In this case, the main benefit is that it lets us pass in a comparator which is compatible with the value type of the map. (`Comparator&lt;? super V&gt;` is basically just a `Comparator&lt;V&gt;`, but it&#39;s a little more permissive about what you can pass in to the method.) You could write an equivalent method without the type parameters by [using raw types](https://stackoverflow.com/q/2770321/2891664), but raw types are discouraged.","body":"@SebasSBM It lets us work with the map in a more type-safe way, without us knowing its actual type. In this case, the main benefit is that it lets us pass in a comparator which is compatible with the value type of the map. (<code>Comparator&lt;? super V&gt;</code> is basically just a <code>Comparator&lt;V&gt;</code>, but it&#39;s a little more permissive about what you can pass in to the method.) You could write an equivalent method without the type parameters by <a href=\"https://stackoverflow.com/q/2770321/2891664\">using raw types</a>, but raw types are discouraged."}],"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"comment_count":6,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1416872440,"creation_date":1416865797,"answer_id":27114816,"question_id":27114691,"body_markdown":"&gt;How can you sort a LinkedHashMap using the value?\r\n\r\n`LinkedHashMap` is not *sorted*, it is *ordered* by order of insertion.\r\n\r\nIf your goal is to *reorder* the Map, you might do something like\r\n\r\n    static &lt;K, V&gt; void orderByValue(\r\n            LinkedHashMap&lt;K, V&gt; m, final Comparator&lt;? super V&gt; c) {\r\n        List&lt;Map.Entry&lt;K, V&gt;&gt; entries = new ArrayList&lt;&gt;(m.entrySet());\r\n\r\n        Collections.sort(entries, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() {\r\n            @Override\r\n            public int compare(Map.Entry&lt;K, V&gt; lhs, Map.Entry&lt;K, V&gt; rhs) {\r\n                return c.compare(lhs.getValue(), rhs.getValue());\r\n            }\r\n        });\r\n\r\n        m.clear();\r\n        for(Map.Entry&lt;K, V&gt; e : entries) {\r\n            m.put(e.getKey(), e.getValue());\r\n        }\r\n    }\r\n\r\nWe put all the entries in a List, sort the List, then put the entries back in the Map in the new order.\r\n\r\nHere&#39;s a Java 8 translation for those inclined:\r\n\r\n    static &lt;K, V&gt; void orderByValue(\r\n            LinkedHashMap&lt;K, V&gt; m, Comparator&lt;? super V&gt; c) {\r\n        List&lt;Map.Entry&lt;K, V&gt;&gt; entries = new ArrayList&lt;&gt;(m.entrySet());\r\n        m.clear();\r\n        entries.stream()\r\n            .sorted(Comparator.comparing(Map.Entry::getValue, c))\r\n            .forEachOrdered(e -&gt; m.put(e.getKey(), e.getValue()));\r\n    }\r\n\r\n(Which, out of curiosity, can be condensed to, although it is less efficient):\r\n\r\n    static &lt;K, V&gt; void orderByValue(\r\n            LinkedHashMap&lt;K, V&gt; m, Comparator&lt;? super V&gt; c) {\r\n        new ArrayList&lt;&gt;(m.keySet()).stream()\r\n            .sorted(Comparator.comparing(m::get, c))\r\n            .forEachOrdered(k -&gt; m.put(k, m.remove(k)));\r\n    }\r\n\r\n&gt;Is there a way to insert entries into a LinkedHashMap so that they are inserted in order based on their value?\r\n\r\nNo. See above. `LinkedHashMap` is not sorted.\r\n\r\nIf your goal is to *keep the Map sorted*, you need to use a `TreeMap`; however there are problems with doing so. Entries in the Map need to have unique values. See [here](https://stackoverflow.com/questions/2864840/treemap-sort-by-value) and [here](https://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java).","title":"Sorting LinkedHashMap by value","body":"<blockquote>\n  <p>How can you sort a LinkedHashMap using the value?</p>\n</blockquote>\n\n<p><code>LinkedHashMap</code> is not <em>sorted</em>, it is <em>ordered</em> by order of insertion.</p>\n\n<p>If your goal is to <em>reorder</em> the Map, you might do something like</p>\n\n<pre><code>static &lt;K, V&gt; void orderByValue(\n        LinkedHashMap&lt;K, V&gt; m, final Comparator&lt;? super V&gt; c) {\n    List&lt;Map.Entry&lt;K, V&gt;&gt; entries = new ArrayList&lt;&gt;(m.entrySet());\n\n    Collections.sort(entries, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() {\n        @Override\n        public int compare(Map.Entry&lt;K, V&gt; lhs, Map.Entry&lt;K, V&gt; rhs) {\n            return c.compare(lhs.getValue(), rhs.getValue());\n        }\n    });\n\n    m.clear();\n    for(Map.Entry&lt;K, V&gt; e : entries) {\n        m.put(e.getKey(), e.getValue());\n    }\n}\n</code></pre>\n\n<p>We put all the entries in a List, sort the List, then put the entries back in the Map in the new order.</p>\n\n<p>Here's a Java 8 translation for those inclined:</p>\n\n<pre><code>static &lt;K, V&gt; void orderByValue(\n        LinkedHashMap&lt;K, V&gt; m, Comparator&lt;? super V&gt; c) {\n    List&lt;Map.Entry&lt;K, V&gt;&gt; entries = new ArrayList&lt;&gt;(m.entrySet());\n    m.clear();\n    entries.stream()\n        .sorted(Comparator.comparing(Map.Entry::getValue, c))\n        .forEachOrdered(e -&gt; m.put(e.getKey(), e.getValue()));\n}\n</code></pre>\n\n<p>(Which, out of curiosity, can be condensed to, although it is less efficient):</p>\n\n<pre><code>static &lt;K, V&gt; void orderByValue(\n        LinkedHashMap&lt;K, V&gt; m, Comparator&lt;? super V&gt; c) {\n    new ArrayList&lt;&gt;(m.keySet()).stream()\n        .sorted(Comparator.comparing(m::get, c))\n        .forEachOrdered(k -&gt; m.put(k, m.remove(k)));\n}\n</code></pre>\n\n<blockquote>\n  <p>Is there a way to insert entries into a LinkedHashMap so that they are inserted in order based on their value?</p>\n</blockquote>\n\n<p>No. See above. <code>LinkedHashMap</code> is not sorted.</p>\n\n<p>If your goal is to <em>keep the Map sorted</em>, you need to use a <code>TreeMap</code>; however there are problems with doing so. Entries in the Map need to have unique values. See <a href=\"https://stackoverflow.com/questions/2864840/treemap-sort-by-value\">here</a> and <a href=\"https://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416866497,"creation_date":1416866037,"answer_id":27114873,"question_id":27114691,"body_markdown":"I think the best way to sort a `LinkedHashMap` by value is to write a comparator that compares two `Map.Entry&lt;K,V&gt;` objects by value, then\r\n\r\n    Map.Entry&lt;K,V&gt;[] entries = (Map.Entry&lt;K,V&gt;[])map.entrySet().toArray();\r\n    Arrays.sort(entries, comparator);\r\n\r\nThe comparator would look something like\r\n\r\n    Comparator&lt;Map.Entry&lt;K,V&gt;&gt; comparator = new Comparator&lt;Map.Entry&lt;K,V&gt;&gt;() {\r\n        @Override\r\n        public int compare(Map.Entry&lt;K,V&gt; o1, Map.Entry&lt;K,V&gt; o2) {\r\n            return o1.getValue().compareTo(o2.getValue());\r\n        }\r\n    };\r\n\r\nBasically, it&#39;s the obvious thing: create an array of all the key/value pairs in the map, and then sort it.\r\n&lt;b&gt;NOTE:&lt;/b&gt; I haven&#39;t tested this.\r\n\r\nAs for the second question: this would require a special data structure that maintains the values in order.  When you insert an element, it would set up the hash table _and_ maintain a doubly-linked list of the elements in insertion order _and_ set up some sort of AVL tree to keep the values in order like `TreeSet`.  I don&#39;t think Java defines a class like this, but maybe there&#39;s one in a third-party library.  It might be easiest to maintain two separate structures, a `LinkedHashMap&lt;K,V&gt;` and a `TreeSet&lt;Map.Entry&lt;K,V&gt;&gt;`.","title":"Sorting LinkedHashMap by value","body":"<p>I think the best way to sort a <code>LinkedHashMap</code> by value is to write a comparator that compares two <code>Map.Entry&lt;K,V&gt;</code> objects by value, then</p>\n\n<pre><code>Map.Entry&lt;K,V&gt;[] entries = (Map.Entry&lt;K,V&gt;[])map.entrySet().toArray();\nArrays.sort(entries, comparator);\n</code></pre>\n\n<p>The comparator would look something like</p>\n\n<pre><code>Comparator&lt;Map.Entry&lt;K,V&gt;&gt; comparator = new Comparator&lt;Map.Entry&lt;K,V&gt;&gt;() {\n    @Override\n    public int compare(Map.Entry&lt;K,V&gt; o1, Map.Entry&lt;K,V&gt; o2) {\n        return o1.getValue().compareTo(o2.getValue());\n    }\n};\n</code></pre>\n\n<p>Basically, it's the obvious thing: create an array of all the key/value pairs in the map, and then sort it.\n<b>NOTE:</b> I haven't tested this.</p>\n\n<p>As for the second question: this would require a special data structure that maintains the values in order.  When you insert an element, it would set up the hash table <em>and</em> maintain a doubly-linked list of the elements in insertion order <em>and</em> set up some sort of AVL tree to keep the values in order like <code>TreeSet</code>.  I don't think Java defines a class like this, but maybe there's one in a third-party library.  It might be easiest to maintain two separate structures, a <code>LinkedHashMap&lt;K,V&gt;</code> and a <code>TreeSet&lt;Map.Entry&lt;K,V&gt;&gt;</code>.</p>\n"},{"comments":[{"owner":{"account_id":4863873,"reputation":305,"user_id":3922757,"accept_rate":56,"display_name":"user3922757"},"score":1,"creation_date":1416869062,"post_id":27115424,"comment_id":42733790,"body_markdown":"I want to sort by the value so I though there was no point creating a tree map if I was going to override the default sort.","body":"I want to sort by the value so I though there was no point creating a tree map if I was going to override the default sort."}],"tags":[],"owner":{"account_id":3498627,"reputation":878,"user_id":2926158,"accept_rate":58,"display_name":"SeahawksRdaBest"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416869664,"creation_date":1416868365,"answer_id":27115424,"question_id":27114691,"body_markdown":"Like the answer before me suggested a LinkedHashMap is not sorted it only holds the insertion order. You have to manually create your comparator. \n\nnow the question is what do you what to sort the Map by ? By an integer key...\n\nHere is a example: (Tree Map)\n\n## Default Compare\n               // Create a hash map\n              TreeMap tm = new TreeMap();\n              // Put elements to the map\n              tm.put(&quot;person1&quot;, new Double(1));\n              tm.put(&quot;person2&quot;, new Double(2));\n              tm.put(&quot;person3&quot;, new Double(3));\n              tm.put(&quot;person4&quot;, new Double(4));\n              tm.put(&quot;person5&quot;, new Double(5));\n              \n              // Get a set of the entries\n              Set set = tm.entrySet();\n              // Get an iterator\n              Iterator i = set.iterator();\n              // Display elements\n              while(i.hasNext()) {\n                 Map.Entry me = (Map.Entry)i.next();\n                 System.out.print(me.getKey() + &quot;: &quot;);\n                 System.out.println(me.getValue());\n              }\n              System.out.println();\n              \n              // Deposit 1000 into person5&#39;s account\n              double balance = ((Double)tm.get(&quot;person5&quot;)).doubleValue();\n              tm.put(&quot;person5&quot;, new Double(balance + 1000));\n              System.out.println(&quot;person5&#39;s new balance: &quot; +\n              tm.get(&quot;person5&quot;));\n    \n    \nThis tree will sort in the natural order of the keys. i.e. person1 threw person5\n    \n        person1: 1.00\n        person2: 2.00\n        person3: 3.00\n        person4: 4.00\n        person5: 5.00\n        person5&#39;s new balance: 1005.00\n    \n## Use a custom comparator:\n    \n    public class MyTMCompUserDefine {\n     \n        public static void main(String a[]){\n            //By using name comparator (String comparison)\n            TreeMap&lt;Empl,String&gt; tm = new TreeMap&lt;Empl, String&gt;(new MyNameComp());\n            tm.put(new Empl(&quot;Ram&quot;,3000), &quot;RAM&quot;);\n            tm.put(new Empl(&quot;John&quot;,6000), &quot;JOHN&quot;);\n            tm.put(new Empl(&quot;Crish&quot;,2000), &quot;CRISH&quot;);\n            tm.put(new Empl(&quot;Tom&quot;,2400), &quot;TOM&quot;);\n            Set&lt;Empl&gt; keys = tm.keySet();\n            for(Empl key:keys){\n                System.out.println(key+&quot; ==&gt; &quot;+tm.get(key));\n            }\n            System.out.println(&quot;===================================&quot;);\n            //By using salary comparator (int comparison)\n            TreeMap&lt;Empl,String&gt; trmap = new TreeMap&lt;Empl, String&gt;(new MySalaryComp());\n            trmap.put(new Empl(&quot;Ram&quot;,3000), &quot;RAM&quot;);\n            trmap.put(new Empl(&quot;John&quot;,6000), &quot;JOHN&quot;);\n            trmap.put(new Empl(&quot;Crish&quot;,2000), &quot;CRISH&quot;);\n            trmap.put(new Empl(&quot;Tom&quot;,2400), &quot;TOM&quot;);\n            Set&lt;Empl&gt; ks = trmap.keySet();\n            for(Empl key:ks){\n                System.out.println(key+&quot; ==&gt; &quot;+trmap.get(key));\n            }\n        }\n    }\n     \n    class MyNameComp implements Comparator&lt;Empl&gt;{\n     \n        @Override\n        public int compare(Empl e1, Empl e2) {\n            return e1.getName().compareTo(e2.getName());\n        }\n    }\n     \n    class MySalaryComp implements Comparator&lt;Empl&gt;{\n     \n        @Override\n        public int compare(Empl e1, Empl e2) {\n            if(e1.getSalary() &gt; e2.getSalary()){\n                return 1;\n            } else {\n                return -1;\n            }\n        }\n    }\n     \n    class Empl{\n         \n        private String name;\n        private int salary;\n         \n        public Empl(String n, int s){\n            this.name = n;\n            this.salary = s;\n        }\n         \n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        public int getSalary() {\n            return salary;\n        }\n        public void setSalary(int salary) {\n            this.salary = salary;\n        }\n        public String toString(){\n            return &quot;Name: &quot;+this.name+&quot;-- Salary: &quot;+this.salary;\n        }\n    }\n\n    Output:\n    Name: Crish-- Salary: 2000 ==&gt; CRISH\n    Name: John-- Salary: 6000 ==&gt; JOHN\n    Name: Ram-- Salary: 3000 ==&gt; RAM\n    Name: Tom-- Salary: 2400 ==&gt; TOM\n    ===================================\n    Name: Crish-- Salary: 2000 ==&gt; CRISH\n    Name: Tom-- Salary: 2400 ==&gt; TOM\n    Name: Ram-- Salary: 3000 ==&gt; RAM\n    Name: John-- Salary: 6000 ==&gt; JOHN\n\n","title":"Sorting LinkedHashMap by value","body":"<p>Like the answer before me suggested a LinkedHashMap is not sorted it only holds the insertion order. You have to manually create your comparator.</p>\n<p>now the question is what do you what to sort the Map by ? By an integer key...</p>\n<p>Here is a example: (Tree Map)</p>\n<h2>Default Compare</h2>\n<pre><code>           // Create a hash map\n          TreeMap tm = new TreeMap();\n          // Put elements to the map\n          tm.put(&quot;person1&quot;, new Double(1));\n          tm.put(&quot;person2&quot;, new Double(2));\n          tm.put(&quot;person3&quot;, new Double(3));\n          tm.put(&quot;person4&quot;, new Double(4));\n          tm.put(&quot;person5&quot;, new Double(5));\n          \n          // Get a set of the entries\n          Set set = tm.entrySet();\n          // Get an iterator\n          Iterator i = set.iterator();\n          // Display elements\n          while(i.hasNext()) {\n             Map.Entry me = (Map.Entry)i.next();\n             System.out.print(me.getKey() + &quot;: &quot;);\n             System.out.println(me.getValue());\n          }\n          System.out.println();\n          \n          // Deposit 1000 into person5's account\n          double balance = ((Double)tm.get(&quot;person5&quot;)).doubleValue();\n          tm.put(&quot;person5&quot;, new Double(balance + 1000));\n          System.out.println(&quot;person5's new balance: &quot; +\n          tm.get(&quot;person5&quot;));\n</code></pre>\n<p>This tree will sort in the natural order of the keys. i.e. person1 threw person5</p>\n<pre><code>    person1: 1.00\n    person2: 2.00\n    person3: 3.00\n    person4: 4.00\n    person5: 5.00\n    person5's new balance: 1005.00\n</code></pre>\n<h2>Use a custom comparator:</h2>\n<pre><code>public class MyTMCompUserDefine {\n \n    public static void main(String a[]){\n        //By using name comparator (String comparison)\n        TreeMap&lt;Empl,String&gt; tm = new TreeMap&lt;Empl, String&gt;(new MyNameComp());\n        tm.put(new Empl(&quot;Ram&quot;,3000), &quot;RAM&quot;);\n        tm.put(new Empl(&quot;John&quot;,6000), &quot;JOHN&quot;);\n        tm.put(new Empl(&quot;Crish&quot;,2000), &quot;CRISH&quot;);\n        tm.put(new Empl(&quot;Tom&quot;,2400), &quot;TOM&quot;);\n        Set&lt;Empl&gt; keys = tm.keySet();\n        for(Empl key:keys){\n            System.out.println(key+&quot; ==&gt; &quot;+tm.get(key));\n        }\n        System.out.println(&quot;===================================&quot;);\n        //By using salary comparator (int comparison)\n        TreeMap&lt;Empl,String&gt; trmap = new TreeMap&lt;Empl, String&gt;(new MySalaryComp());\n        trmap.put(new Empl(&quot;Ram&quot;,3000), &quot;RAM&quot;);\n        trmap.put(new Empl(&quot;John&quot;,6000), &quot;JOHN&quot;);\n        trmap.put(new Empl(&quot;Crish&quot;,2000), &quot;CRISH&quot;);\n        trmap.put(new Empl(&quot;Tom&quot;,2400), &quot;TOM&quot;);\n        Set&lt;Empl&gt; ks = trmap.keySet();\n        for(Empl key:ks){\n            System.out.println(key+&quot; ==&gt; &quot;+trmap.get(key));\n        }\n    }\n}\n \nclass MyNameComp implements Comparator&lt;Empl&gt;{\n \n    @Override\n    public int compare(Empl e1, Empl e2) {\n        return e1.getName().compareTo(e2.getName());\n    }\n}\n \nclass MySalaryComp implements Comparator&lt;Empl&gt;{\n \n    @Override\n    public int compare(Empl e1, Empl e2) {\n        if(e1.getSalary() &gt; e2.getSalary()){\n            return 1;\n        } else {\n            return -1;\n        }\n    }\n}\n \nclass Empl{\n     \n    private String name;\n    private int salary;\n     \n    public Empl(String n, int s){\n        this.name = n;\n        this.salary = s;\n    }\n     \n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getSalary() {\n        return salary;\n    }\n    public void setSalary(int salary) {\n        this.salary = salary;\n    }\n    public String toString(){\n        return &quot;Name: &quot;+this.name+&quot;-- Salary: &quot;+this.salary;\n    }\n}\n\nOutput:\nName: Crish-- Salary: 2000 ==&gt; CRISH\nName: John-- Salary: 6000 ==&gt; JOHN\nName: Ram-- Salary: 3000 ==&gt; RAM\nName: Tom-- Salary: 2400 ==&gt; TOM\n===================================\nName: Crish-- Salary: 2000 ==&gt; CRISH\nName: Tom-- Salary: 2400 ==&gt; TOM\nName: Ram-- Salary: 3000 ==&gt; RAM\nName: John-- Salary: 6000 ==&gt; JOHN\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2474917,"reputation":874,"user_id":2155741,"accept_rate":62,"display_name":"bluearrow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701423888,"creation_date":1701423888,"answer_id":77584298,"question_id":27114691,"body_markdown":"Convert LinkedHashMap to sorted List and then do what you want:\r\n\r\n            LinkedHashMap&lt;String, BigDecimal&gt; topCosts = data.getTopCosts();\r\n            List&lt;Map.Entry&lt;String, BigDecimal&gt;&gt; entries = topCosts.entrySet()\r\n                .stream()\r\n                .sorted((o1, o2) -&gt; o2.getValue().compareTo(o1.getValue())) // desc\r\n                .collect(Collectors.toList());\r\n            for (Map.Entry&lt;String, BigDecimal&gt; entry : entries) {\r\n                // do somting..\r\n            }\r\n        ","title":"Sorting LinkedHashMap by value","body":"<p>Convert LinkedHashMap to sorted List and then do what you want:</p>\n<pre><code>        LinkedHashMap&lt;String, BigDecimal&gt; topCosts = data.getTopCosts();\n        List&lt;Map.Entry&lt;String, BigDecimal&gt;&gt; entries = topCosts.entrySet()\n            .stream()\n            .sorted((o1, o2) -&gt; o2.getValue().compareTo(o1.getValue())) // desc\n            .collect(Collectors.toList());\n        for (Map.Entry&lt;String, BigDecimal&gt; entry : entries) {\n            // do somting..\n        }\n    \n</code></pre>\n"}],"owner":{"account_id":4863873,"reputation":305,"user_id":3922757,"accept_rate":56,"display_name":"user3922757"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24281,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":27114816,"answer_count":4,"score":7,"last_activity_date":1701423888,"creation_date":1416865287,"question_id":27114691,"body_markdown":"How can you sort a LinkedHashMap &lt;String&gt; &lt;Integer&gt; using the value ?\r\n\r\nIs there a way to insert entries into a LinkedHashMap so that they are inserted in order based on their value ?","title":"Sorting LinkedHashMap by value","body":"<p>How can you sort a LinkedHashMap   using the value ?</p>\n\n<p>Is there a way to insert entries into a LinkedHashMap so that they are inserted in order based on their value ?</p>\n"},{"tags":["java","hazelcast"],"comments":[{"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"score":1,"creation_date":1701339072,"post_id":77571602,"comment_id":136764284,"body_markdown":"Check out this link. https://docs.hazelcast.com/hazelcast/5.2/kubernetes/kubernetes-auto-discovery.adoc#discovering-members-from-hazelcast-clients","body":"Check out this link. <a href=\"https://docs.hazelcast.com/hazelcast/5.2/kubernetes/kubernetes-auto-discovery.adoc#discovering-members-from-hazelcast-clients\" rel=\"nofollow noreferrer\">docs.hazelcast.com/hazelcast/5.2/kubernetes/&hellip;</a>"}],"owner":{"account_id":29596674,"reputation":1,"user_id":22683052,"display_name":"Alejandro Garcia Marchena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701423850,"creation_date":1701264823,"question_id":77571602,"body_markdown":"Hazelcast creates a client in discovery mode kubernetes_api that tries to connect in an infinite loop and blocks the app start\r\n\r\n\r\nI created a hazelcast instance with version 5.3.6 and set discovery strategy to dns_lookup the cluster starts perfectly using this discovery mode but then a client is launched hz.client1 [dev] using kubernetes_api as discovery mode, and it gets stucked as i have no RBAC,  and it is unable to get live cluster connection\r\nHow can I use also dns_lookup for this client? I tried to create a bean ClientConfigand set strategy to dns_lookup but it still tries to connect using kubernetes_api \r\n\r\n[See hazelcast log creating hazelcast cluster][1]\r\n\r\n[See hazelcast log with cluster up][2]\r\n\r\n[See client trying to connect the kubernetes API][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TfrRK.png\r\n  [2]: https://i.stack.imgur.com/2Dn0R.jpg\r\n  [3]: https://i.stack.imgur.com/CYLsg.jpg","title":"hazelcast 5.3.6 kubernetes set to dns_lookup but client launched with kubernetes_api","body":"<p>Hazelcast creates a client in discovery mode kubernetes_api that tries to connect in an infinite loop and blocks the app start</p>\n<p>I created a hazelcast instance with version 5.3.6 and set discovery strategy to dns_lookup the cluster starts perfectly using this discovery mode but then a client is launched hz.client1 [dev] using kubernetes_api as discovery mode, and it gets stucked as i have no RBAC,  and it is unable to get live cluster connection\nHow can I use also dns_lookup for this client? I tried to create a bean ClientConfigand set strategy to dns_lookup but it still tries to connect using kubernetes_api</p>\n<p><a href=\"https://i.stack.imgur.com/TfrRK.png\" rel=\"nofollow noreferrer\">See hazelcast log creating hazelcast cluster</a></p>\n<p><a href=\"https://i.stack.imgur.com/2Dn0R.jpg\" rel=\"nofollow noreferrer\">See hazelcast log with cluster up</a></p>\n<p><a href=\"https://i.stack.imgur.com/CYLsg.jpg\" rel=\"nofollow noreferrer\">See client trying to connect the kubernetes API</a></p>\n"},{"tags":["java","jquery","jquery-plugins","struts2","struts2-jquery-plugin"],"answers":[{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387497038,"creation_date":1387411353,"answer_id":20671064,"question_id":20669695,"body_markdown":"+1 because I see you&#39;ve [already posted on the relative Google Group][1]... but, if the things are not changed meanwhile, according to [this (pretty old, but still open JIRA) comment][2] by the plugin author:\r\n\r\n&gt; **The autocompleter with selectBox is working with an static list. In\r\n&gt; your use case you should use the `&lt;sj:select /&gt;` tag with\r\n&gt; autocomplete=&quot;true&quot; instead.** \r\n&gt; \r\n&gt;     &lt;s:url id=&quot;remoteurl&quot; action=&quot;jsonsample&quot;/&gt; \r\n&gt;     &lt;sj:select\r\n&gt;              href=&quot;%{remoteurl}&quot;\r\n&gt;              autocomplete=&quot;true&quot;\r\n&gt;              id=&quot;echo3&quot;\r\n&gt;              name=&quot;echo&quot;\r\n&gt;              list=&quot;languageObjList&quot;\r\n&gt;              listKey=&quot;myKey&quot;\r\n&gt;              listValue=&quot;myValue&quot;\r\n&gt;              emptyOption=&quot;true&quot;\r\n&gt;              headerKey=&quot;-1&quot;\r\n&gt;              headerValue=&quot;Please Select a Language&quot;/&gt;\r\n\r\nThen an `&lt;sj:select /&gt;` with both `emptyOption` and `autocomplete` set to `true` could be the replacement for the dynamic selectbox `&lt;sj:autocompleter /&gt;` you are looking for.\r\n\r\nFeel free to run [this example too][3], that appears to work out of the box.\r\n\r\n  [1]: https://groups.google.com/d/msg/struts2-jquery/s0F9_oFYLRQ/t97PzO4xBlgJ\r\n  [2]: http://code.google.com/p/struts2-jquery/issues/detail?id=488#c4\r\n  [3]: https://stackoverflow.com/a/14186003/1654265","title":"Struts2 JQuery Plugin AutoCompleter does not work when selectBox=&quot;true&quot; attribute is added","body":"<p>+1 because I see you've <a href=\"https://groups.google.com/d/msg/struts2-jquery/s0F9_oFYLRQ/t97PzO4xBlgJ\" rel=\"nofollow noreferrer\">already posted on the relative Google Group</a>... but, if the things are not changed meanwhile, according to <a href=\"http://code.google.com/p/struts2-jquery/issues/detail?id=488#c4\" rel=\"nofollow noreferrer\">this (pretty old, but still open JIRA) comment</a> by the plugin author:</p>\n\n<blockquote>\n  <p><strong>The autocompleter with selectBox is working with an static list. In\n  your use case you should use the <code>&lt;sj:select /&gt;</code> tag with\n  autocomplete=\"true\" instead.</strong> </p>\n\n<pre><code>&lt;s:url id=\"remoteurl\" action=\"jsonsample\"/&gt; \n&lt;sj:select\n         href=\"%{remoteurl}\"\n         autocomplete=\"true\"\n         id=\"echo3\"\n         name=\"echo\"\n         list=\"languageObjList\"\n         listKey=\"myKey\"\n         listValue=\"myValue\"\n         emptyOption=\"true\"\n         headerKey=\"-1\"\n         headerValue=\"Please Select a Language\"/&gt;\n</code></pre>\n</blockquote>\n\n<p>Then an <code>&lt;sj:select /&gt;</code> with both <code>emptyOption</code> and <code>autocomplete</code> set to <code>true</code> could be the replacement for the dynamic selectbox <code>&lt;sj:autocompleter /&gt;</code> you are looking for.</p>\n\n<p>Feel free to run <a href=\"https://stackoverflow.com/a/14186003/1654265\">this example too</a>, that appears to work out of the box.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701423744,"creation_date":1387447539,"answer_id":20678613,"question_id":20669695,"body_markdown":"The Struts2 jQuery [`&lt;sj:autocompleter&gt;`][1] widget with the `selectBox=true` enabled to be able to work correctly shouldn&#39;t load data remotely.  In other words the attribute `href=&quot;%{countrylist}&quot;` is a culprit of the select box is not working. These two attributes are mutually exclusive. You have to choose between two options either you use a `autocompleter` as input box with remote data or as select box but without loading data remotely, because it&#39;s loaded from the `valueStack` as a normal `select` tag. \r\n\r\nYou can supplement a select box with `selectBoxIcon=&quot;true&quot;` to make the widget appear smoothly or use a corresponding jQuery theme in the header tag.  \r\n\r\nTry it\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;sj:autocompleter selectBox=&quot;true&quot; selectBoxIcon=&quot;true&quot; list=&quot;lstcountry&quot;\r\n        listKey=&quot;idcountry&quot; listValue=&quot;countryname&quot; label=&quot;Country&quot;\r\n        name=&quot;idcountry&quot; /&gt; \r\n\r\nAn [example][2] from the struts2 jQuery plugin wiki page. \r\n  \r\n\r\n  [1]: https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag\r\n  [2]: https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag#autocompleter-as-a-select-box","title":"Struts2 JQuery Plugin AutoCompleter does not work when selectBox=&quot;true&quot; attribute is added","body":"<p>The Struts2 jQuery <a href=\"https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag\" rel=\"nofollow noreferrer\"><code>&lt;sj:autocompleter&gt;</code></a> widget with the <code>selectBox=true</code> enabled to be able to work correctly shouldn't load data remotely.  In other words the attribute <code>href=&quot;%{countrylist}&quot;</code> is a culprit of the select box is not working. These two attributes are mutually exclusive. You have to choose between two options either you use a <code>autocompleter</code> as input box with remote data or as select box but without loading data remotely, because it's loaded from the <code>valueStack</code> as a normal <code>select</code> tag.</p>\n<p>You can supplement a select box with <code>selectBoxIcon=&quot;true&quot;</code> to make the widget appear smoothly or use a corresponding jQuery theme in the header tag.</p>\n<p>Try it</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;sj:autocompleter selectBox=&quot;true&quot; selectBoxIcon=&quot;true&quot; list=&quot;lstcountry&quot;\n    listKey=&quot;idcountry&quot; listValue=&quot;countryname&quot; label=&quot;Country&quot;\n    name=&quot;idcountry&quot; /&gt; \n</code></pre>\n<p>An <a href=\"https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag#autocompleter-as-a-select-box\" rel=\"nofollow noreferrer\">example</a> from the struts2 jQuery plugin wiki page.</p>\n"}],"owner":{"account_id":182665,"reputation":851,"user_id":417541,"accept_rate":42,"display_name":"Do Will"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1082,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20678613,"answer_count":2,"score":3,"last_activity_date":1701423744,"creation_date":1387405345,"question_id":20669695,"body_markdown":"Works (Loads the list fine): \r\n\r\n    &lt;s:url id=&quot;countrylist&quot; action=&quot;lstcountryaction&quot; /&gt;\r\n    &lt;sj:autocompleter list=&quot;lstcountry&quot;\r\n        listKey=&quot;idcountry&quot; listValue=&quot;countryname&quot; label=&quot;Country&quot;\r\n        href=&quot;%{countrylist}&quot; name=&quot;idcountry&quot; /&gt;\r\n\r\nDoesn&#39;t work (Nothing is loaded. No call is made to the action) :\r\n\r\n    &lt;s:url id=&quot;countrylist&quot; action=&quot;lstcountryaction&quot; /&gt;\r\n    &lt;sj:autocompleter selectBox=&quot;true&quot; list=&quot;lstcountry&quot;\r\n        listKey=&quot;idcountry&quot; listValue=&quot;countryname&quot; label=&quot;Country&quot;\r\n        href=&quot;%{countrylist}&quot; name=&quot;idcountry&quot; /&gt;\r\n\r\n\r\nOnly difference is that the `selectBox` attribute is added. What am I missing? I am using Struts 2.3.15 and Struts2 JQuery Plugin 3.6.1 (which are both fairly recent).\r\n\r\n\r\nThanks !!\r\n","title":"Struts2 JQuery Plugin AutoCompleter does not work when selectBox=&quot;true&quot; attribute is added","body":"<p>Works (Loads the list fine): </p>\n\n<pre><code>&lt;s:url id=\"countrylist\" action=\"lstcountryaction\" /&gt;\n&lt;sj:autocompleter list=\"lstcountry\"\n    listKey=\"idcountry\" listValue=\"countryname\" label=\"Country\"\n    href=\"%{countrylist}\" name=\"idcountry\" /&gt;\n</code></pre>\n\n<p>Doesn't work (Nothing is loaded. No call is made to the action) :</p>\n\n<pre><code>&lt;s:url id=\"countrylist\" action=\"lstcountryaction\" /&gt;\n&lt;sj:autocompleter selectBox=\"true\" list=\"lstcountry\"\n    listKey=\"idcountry\" listValue=\"countryname\" label=\"Country\"\n    href=\"%{countrylist}\" name=\"idcountry\" /&gt;\n</code></pre>\n\n<p>Only difference is that the <code>selectBox</code> attribute is added. What am I missing? I am using Struts 2.3.15 and Struts2 JQuery Plugin 3.6.1 (which are both fairly recent).</p>\n\n<p>Thanks !!</p>\n"},{"tags":["java","spring","spring-boot","caching","cache-expiration"],"answers":[{"comments":[{"owner":{"display_name":"user16409822"},"score":0,"creation_date":1631604011,"post_id":69173397,"comment_id":122259840,"body_markdown":"Thanks a lot,I also realized it. But how can I use Redis or Gemfire in my implementation above? I tried to use another one as mentioned on https://stackoverflow.com/questions/44202700/spring-cacheable-default-ttl, but now worked","body":"Thanks a lot,I also realized it. But how can I use Redis or Gemfire in my implementation above? I tried to use another one as mentioned on <a href=\"https://stackoverflow.com/questions/44202700/spring-cacheable-default-ttl\" title=\"spring cacheable default ttl\">stackoverflow.com/questions/44202700/&hellip;</a>, but now worked"},{"owner":{"display_name":"user16409822"},"score":0,"creation_date":1631604031,"post_id":69173397,"comment_id":122259847,"body_markdown":"Could you post as an example code by integrating it to the approach above?","body":"Could you post as an example code by integrating it to the approach above?"},{"owner":{"account_id":14803792,"reputation":1246,"user_id":10691359,"display_name":"Pilpo"},"score":1,"creation_date":1631604184,"post_id":69173397,"comment_id":122259918,"body_markdown":"I&#39;ve answered your question. If you have a problem with a `Redis` configuration, you should create an other post and show us what you did and what did not work. In the meantime, I can give this URL https://www.baeldung.com/spring-boot-redis-cache which show you how to use it.","body":"I&#39;ve answered your question. If you have a problem with a <code>Redis</code> configuration, you should create an other post and show us what you did and what did not work. In the meantime, I can give this URL <a href=\"https://www.baeldung.com/spring-boot-redis-cache\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-redis-cache</a> which show you how to use it."},{"owner":{"display_name":"user16409822"},"score":0,"creation_date":1631604385,"post_id":69173397,"comment_id":122260012,"body_markdown":"Thanks a lot. In this scene I need to use other cache providers instead of `@Cacheable` I think. So, which one should I prefer for my Spring Boot? Redis, EhCache, JCache, etc. ?","body":"Thanks a lot. In this scene I need to use other cache providers instead of <code>@Cacheable</code> I think. So, which one should I prefer for my Spring Boot? Redis, EhCache, JCache, etc. ?"},{"owner":{"account_id":14803792,"reputation":1246,"user_id":10691359,"display_name":"Pilpo"},"score":1,"creation_date":1631604609,"post_id":69173397,"comment_id":122260112,"body_markdown":"For large scale distributed app, you should prefer `Redis`, otherwise, you can pick `EhCache` for a simple quick in-memory cache. Both are good.","body":"For large scale distributed app, you should prefer <code>Redis</code>, otherwise, you can pick <code>EhCache</code> for a simple quick in-memory cache. Both are good."},{"owner":{"account_id":14803792,"reputation":1246,"user_id":10691359,"display_name":"Pilpo"},"score":0,"creation_date":1631604715,"post_id":69173397,"comment_id":122260149,"body_markdown":"You&#39;re welcome, don&#39;t forget to accept the answer if it solve your first issue.","body":"You&#39;re welcome, don&#39;t forget to accept the answer if it solve your first issue."},{"owner":{"display_name":"user16409822"},"score":0,"creation_date":1631606566,"post_id":69173397,"comment_id":122260877,"body_markdown":"I tried that approach on Baeldung, but it gives the following error: \n\n&quot;org.springframework.data.redis.serializer.SerializationException: Cannot serialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to serialize object using DefaultSerializer; nested exception is java.io.NotSerializableException:","body":"I tried that approach on Baeldung, but it gives the following error:   &quot;org.springframework.data.redis.serializer.SerializationExce&zwnj;&#8203;ption: Cannot serialize; nested exception is org.springframework.core.serializer.support.SerializationFai&zwnj;&#8203;ledException: Failed to serialize object using DefaultSerializer; nested exception is java.io.NotSerializableException:"},{"owner":{"account_id":14803792,"reputation":1246,"user_id":10691359,"display_name":"Pilpo"},"score":1,"creation_date":1631607202,"post_id":69173397,"comment_id":122261169,"body_markdown":"I can&#39;t help you much without the code, but it seems you need to make an object serializable.","body":"I can&#39;t help you much without the code, but it seems you need to make an object serializable."},{"owner":{"display_name":"user16409822"},"score":0,"creation_date":1631622178,"post_id":69173397,"comment_id":122267551,"body_markdown":"I use another example on https://www.baeldung.com/spring-boot-redis-cache. I hope it is also a good example for Redis. Any idea?","body":"I use another example on <a href=\"https://www.baeldung.com/spring-boot-redis-cache\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-redis-cache</a>. I hope it is also a good example for Redis. Any idea?"}],"tags":[],"owner":{"account_id":14803792,"reputation":1246,"user_id":10691359,"display_name":"Pilpo"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631604063,"creation_date":1631603779,"answer_id":69173397,"question_id":69169170,"body_markdown":"As said in the [Spring documentation][1], there is no TTL for the default cache system of Spring.\r\n\r\n&gt; 8.7. How can I Set the TTL/TTI/Eviction policy/XXX feature?\r\n\r\n&gt; Directly through your cache provider. The cache abstraction is an\r\n&gt; abstraction, not a cache implementation. The solution you use might\r\n&gt; support various data policies and different topologies that other\r\n&gt; solutions do not support (for example, the JDK\r\n&gt; ConcurrentHashMap — exposing that in the cache abstraction would be\r\n&gt; useless because there would no backing support). Such functionality\r\n&gt; should be controlled directly through the backing cache (when\r\n&gt; configuring it) or through its native API\r\n\r\nYou&#39;ll have to use an other cache provider like `Redis` or `Gemfire` if you want a `TTL` configuration.\r\n\r\nAn example of how to use `TTL` with `Redis` is available [here][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-specific-config\r\n  [2]: https://stackoverflow.com/a/60561141/10691359","title":"How to set expiration for @Cacheable in Spring Boot?","body":"<p>As said in the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-specific-config\" rel=\"nofollow noreferrer\">Spring documentation</a>, there is no TTL for the default cache system of Spring.</p>\n<blockquote>\n<p>8.7. How can I Set the TTL/TTI/Eviction policy/XXX feature?</p>\n</blockquote>\n<blockquote>\n<p>Directly through your cache provider. The cache abstraction is an\nabstraction, not a cache implementation. The solution you use might\nsupport various data policies and different topologies that other\nsolutions do not support (for example, the JDK\nConcurrentHashMap — exposing that in the cache abstraction would be\nuseless because there would no backing support). Such functionality\nshould be controlled directly through the backing cache (when\nconfiguring it) or through its native API</p>\n</blockquote>\n<p>You'll have to use an other cache provider like <code>Redis</code> or <code>Gemfire</code> if you want a <code>TTL</code> configuration.</p>\n<p>An example of how to use <code>TTL</code> with <code>Redis</code> is available <a href=\"https://stackoverflow.com/a/60561141/10691359\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":20475886,"reputation":1,"user_id":15025240,"display_name":"Ferhat C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701423479,"creation_date":1701423479,"answer_id":77584250,"question_id":69169170,"body_markdown":"You can solve it with a `LocalDateTime` object. For example:\r\n\r\n    @Cacheable(value=&quot;forecast&quot;, key = &quot;#date.toString()&quot;)\r\n    public void forecast(LocalDate date){\r\n        //\r\n    }\r\n    public void call(){\r\n        forecast(LocalDate.now());\r\n    }\r\n\r\nCache will expire after 1 day.\r\n\r\nPositive aspect - it does not require a scheduled job.\r\n\r\nNegative aspect - old data remains cached.\r\n","title":"How to set expiration for @Cacheable in Spring Boot?","body":"<p>You can solve it with a <code>LocalDateTime</code> object. For example:</p>\n<pre><code>@Cacheable(value=&quot;forecast&quot;, key = &quot;#date.toString()&quot;)\npublic void forecast(LocalDate date){\n    //\n}\npublic void call(){\n    forecast(LocalDate.now());\n}\n</code></pre>\n<p>Cache will expire after 1 day.</p>\n<p>Positive aspect - it does not require a scheduled job.</p>\n<p>Negative aspect - old data remains cached.</p>\n"}],"owner":{"display_name":"user16409822"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5894,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69173397,"answer_count":2,"score":0,"last_activity_date":1701423479,"creation_date":1631567670,"question_id":69169170,"body_markdown":"I have the following cache implementation in a Spring Boot app and it is working without any problem. However, I want to define expiration for this approach. Is it possible to set expiration for `@Cacheable`? \r\n\r\nI look at **[Expiry time `@Cacheable` spring boot](https://stackoverflow.com/questions/27968157/expiry-time-cacheable-spring-boot)** and there is not seem to be a direct way for `@Cacheable`. Is it possible via a smart approach?\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableCaching\r\npublic class CachingConfig {\r\n\r\n    @Bean\r\n    public CacheManager cacheManager() {\r\n        return new ConcurrentMapCacheManager();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class SimpleCacheCustomizer \r\n  implements CacheManagerCustomizer&lt;ConcurrentMapCacheManager&gt; {\r\n\r\n    @Override\r\n    public void customize(ConcurrentMapCacheManager cacheManager) {\r\n        cacheManager.setCacheNames(asList(&quot;users&quot;));\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Cacheable(&quot;users&quot;)\r\npublic List&lt;User&gt; getUsers(UUID id) {...}\r\n```\r\n","title":"How to set expiration for @Cacheable in Spring Boot?","body":"<p>I have the following cache implementation in a Spring Boot app and it is working without any problem. However, I want to define expiration for this approach. Is it possible to set expiration for <code>@Cacheable</code>?</p>\n<p>I look at <strong><a href=\"https://stackoverflow.com/questions/27968157/expiry-time-cacheable-spring-boot\">Expiry time <code>@Cacheable</code> spring boot</a></strong> and there is not seem to be a direct way for <code>@Cacheable</code>. Is it possible via a smart approach?</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CachingConfig {\n\n    @Bean\n    public CacheManager cacheManager() {\n        return new ConcurrentMapCacheManager();\n    }\n}\n</code></pre>\n<pre><code>@Component\npublic class SimpleCacheCustomizer \n  implements CacheManagerCustomizer&lt;ConcurrentMapCacheManager&gt; {\n\n    @Override\n    public void customize(ConcurrentMapCacheManager cacheManager) {\n        cacheManager.setCacheNames(asList(&quot;users&quot;));\n    }\n}\n</code></pre>\n<pre><code>@Cacheable(&quot;users&quot;)\npublic List&lt;User&gt; getUsers(UUID id) {...}\n</code></pre>\n"},{"tags":["java","keycloak"],"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701423400,"creation_date":1701423400,"question_id":77584245,"body_markdown":"Using deprecated &#39;credentials&#39; format in JSON representation error shown during Keycloak user creation in 23.0.x. The error mentions CredentialRepresentation.getHashIterations() as null, but the above field is deprecated and there is no way to set the attribute.\r\n\r\n    2023-12-01 15:03:36,761 WARN  [org.keycloak.models.utils.RepresentationToModel] (executor-thread-8) Using deprecated &#39;credentials&#39; format in JSON representation for user &#39;Sapil&#39;. It will be removed in future versions\r\n    2023-12-01 15:03:36,762 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-8) Uncaught server error: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;org.keycloak.representations.idm.CredentialRepresentation.getHashIterations()&quot; is null\r\n    \tat org.keycloak.models.utils.RepresentationToModel.convertDeprecatedCredentialsFormat(RepresentationToModel.java:225)\r\n    \tat org.keycloak.models.utils.RepresentationToModel.createCredentials(RepresentationToModel.java:734)\r\n    \tat org.keycloak.services.resources.admin.UsersResource.createUser(UsersResource.java:171)\r\n    \tat org.keycloak.services.resources.admin.UsersResource$quarkusrestinvoker$createUser_4d0cc20e069446c6d13766369a6d45d05b869eef.invoke(Unknown Source)\r\n    \tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\r\n    \tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\r\n    \tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:145)\r\n    \tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\r\n    \tat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n    \tat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n\r\n","title":"Using deprecated &#39;credentials&#39; format in JSON representation error shown during Keycloak user creation","body":"<p>Using deprecated 'credentials' format in JSON representation error shown during Keycloak user creation in 23.0.x. The error mentions CredentialRepresentation.getHashIterations() as null, but the above field is deprecated and there is no way to set the attribute.</p>\n<pre><code>2023-12-01 15:03:36,761 WARN  [org.keycloak.models.utils.RepresentationToModel] (executor-thread-8) Using deprecated 'credentials' format in JSON representation for user 'Sapil'. It will be removed in future versions\n2023-12-01 15:03:36,762 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-8) Uncaught server error: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;org.keycloak.representations.idm.CredentialRepresentation.getHashIterations()&quot; is null\n    at org.keycloak.models.utils.RepresentationToModel.convertDeprecatedCredentialsFormat(RepresentationToModel.java:225)\n    at org.keycloak.models.utils.RepresentationToModel.createCredentials(RepresentationToModel.java:734)\n    at org.keycloak.services.resources.admin.UsersResource.createUser(UsersResource.java:171)\n    at org.keycloak.services.resources.admin.UsersResource$quarkusrestinvoker$createUser_4d0cc20e069446c6d13766369a6d45d05b869eef.invoke(Unknown Source)\n    at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\n    at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\n    at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:145)\n    at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\n    at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n    at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\n</code></pre>\n"},{"tags":["java","java-stream","collectors","java-16"],"answers":[{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1612022856,"post_id":65970114,"comment_id":116639502,"body_markdown":"Does this subsequently mean that `.toList()` can never return a null-containing list, but `.collect(toList()` can? i.e. `Stream.of(null, null).toList()` throws, `Stream.of(null, null).collect(toList())` returns?","body":"Does this subsequently mean that <code>.toList()</code> can never return a null-containing list, but <code>.collect(toList()</code> can? i.e. <code>Stream.of(null, null).toList()</code> throws, <code>Stream.of(null, null).collect(toList())</code> returns?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":17,"creation_date":1612030471,"post_id":65970114,"comment_id":116641791,"body_markdown":"IIRC, `Collectors.toList()` is not guaranteed to give us a mutable list either. It just happens to do so in the Java versions we have seen so far.","body":"IIRC, <code>Collectors.toList()</code> is not guaranteed to give us a mutable list either. It just happens to do so in the Java versions we have seen so far."},{"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":3,"creation_date":1612031179,"post_id":65970114,"comment_id":116642021,"body_markdown":"@OleV.V. - Correct. The article linked in my answer mentions it as: `Although there are no guarantees regarding the “type, mutability, serializability, or thread-safety” on the List provided by Collectors.toList(), it is expected that some may have realized it’s currently an ArrayList and have used it in ways that depend on the characteristics of an ArrayList.`","body":"@OleV.V. - Correct. The article linked in my answer mentions it as: <code>Although there are no guarantees regarding the “type, mutability, serializability, or thread-safety” on the List provided by Collectors.toList(), it is expected that some may have realized it’s currently an ArrayList and have used it in ways that depend on the characteristics of an ArrayList.</code>"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1612107234,"post_id":65970114,"comment_id":116657363,"body_markdown":"it&#39;s good that you edited, I have no idea how my comment was removed though :|","body":"it&#39;s good that you edited, I have no idea how my comment was removed though :|"},{"owner":{"account_id":1864994,"reputation":7089,"user_id":1688785,"accept_rate":89,"display_name":"Caramiriel"},"score":0,"creation_date":1612345184,"post_id":65970114,"comment_id":116735047,"body_markdown":"Nothing directed to the author, and maybe something for a new question, but isn&#39;t it strange that it returns a `List`, but you can&#39;t use half of the methods on that interface? Doesn&#39;t really implement that interface then, does it?","body":"Nothing directed to the author, and maybe something for a new question, but isn&#39;t it strange that it returns a <code>List</code>, but you can&#39;t use half of the methods on that interface? Doesn&#39;t really implement that interface then, does it?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1612471448,"post_id":65970114,"comment_id":116785032,"body_markdown":"@Caramiriel The `List` interface was on purpose designed with a number of optional methods, that is, methods that implementing classes need not implement and that many implementations do not implement. You’re not the first to wonder.","body":"@Caramiriel The <code>List</code> interface was on purpose designed with a number of optional methods, that is, methods that implementing classes need not implement and that many implementations do not implement. You’re not the first to wonder."},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":15,"creation_date":1613754431,"post_id":65970114,"comment_id":117182685,"body_markdown":"It is not really a correct statement to say that `collect(toList())` returns a mutable list; the specification is very clear that it makes _no guarantees_ as to the mutability of the returned list.  The current implementation _happens to_ return an `ArrayList` _right now_, but the spec was written explicitly to allow that to change.  If you want a mutable list, use `toCollection(ArrayList::new)`.","body":"It is not really a correct statement to say that <code>collect(toList())</code> returns a mutable list; the specification is very clear that it makes <i>no guarantees</i> as to the mutability of the returned list.  The current implementation <i>happens to</i> return an <code>ArrayList</code> <i>right now</i>, but the spec was written explicitly to allow that to change.  If you want a mutable list, use <code>toCollection(ArrayList::new)</code>."},{"owner":{"account_id":4876099,"reputation":421,"user_id":4455546,"display_name":"Clement Cherlin"},"score":5,"creation_date":1614002728,"post_id":65970114,"comment_id":117243077,"body_markdown":"It is unfortunate that `List` was not divided into `ReadableList` with `get()` etc. and `WritableList` with `set()`, `add()` etc., but it&#39;s too late to fix now. (note: I originally came here to suggest `toCollection(ArrayList::new)`, which is what I always use when I need a mutable list, but The Man Himself beat me to it. &#128514;)","body":"It is unfortunate that <code>List</code> was not divided into <code>ReadableList</code> with <code>get()</code> etc. and <code>WritableList</code> with <code>set()</code>, <code>add()</code> etc., but it&#39;s too late to fix now. (note: I originally came here to suggest <code>toCollection(ArrayList::new)</code>, which is what I always use when I need a mutable list, but The Man Himself beat me to it. 😂)"},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1627497854,"post_id":65970114,"comment_id":121175337,"body_markdown":"The new method Stream.toList() produces neither an unmodifiable list nor a shortcut to collect(toUnmodifiableList()), because toUnmodifiableList() doesn’t accept nulls.The implementation of Stream.toList() is not constrained by the Collector interface; therefore, Stream.toList() allocates less memory. https://blogs.oracle.com/javamagazine/hidden-gems-jdk16-jdk17-jep    &#160;Can you Validate the above statements&#160;in the article ?","body":"The new method Stream.toList() produces neither an unmodifiable list nor a shortcut to collect(toUnmodifiableList()), because toUnmodifiableList() doesn’t accept nulls.The implementation of Stream.toList() is not constrained by the Collector interface; therefore, Stream.toList() allocates less memory. <a href=\"https://blogs.oracle.com/javamagazine/hidden-gems-jdk16-jdk17-jep\" rel=\"nofollow noreferrer\">blogs.oracle.com/javamagazine/hidden-gems-jdk16-jdk17-jep</a>     Can you Validate the above statements in the article ?"}],"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":9,"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1612097196,"creation_date":1612022653,"answer_id":65970114,"question_id":65969919,"body_markdown":"One difference is that `Stream.toList()` provides a `List` implementation that is immutable (type `ImmutableCollections.ListN` that cannot be added to or sorted) similar to that provided by `List.of()` and in contrast to the mutable (can be changed and sorted) `ArrayList` provided by `Stream.collect(Collectors.toList())`. \r\n\r\n**Demo:**\r\n\r\n    import java.util.stream.Stream;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n        \tList&lt;String&gt; list = Stream.of(&quot;Hello&quot;).toList();\r\n            System.out.println(list);\r\n            list.add(&quot;Hi&quot;);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    [Hello]\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n    \tat java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\r\n    \tat java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)\r\n    \tat Main.main(Main.java:8)\r\n\r\nPlease check [this article][1] for more details.\r\n\r\n## Update:\r\n\r\nInterestingly, `Stream.toList()` returns a `null`s-containing list successfully.\r\n\r\n    import java.util.stream.Stream;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n        \tList&lt;Object&gt; list = Stream.of(null, null).toList();\r\n            System.out.println(list);\r\n        }\r\n    }\r\n**Output:**\r\n\r\n    [null, null]\r\nOn the other hand, `List.of(null, null)` throws `NullPointerException`.\r\n\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Object&gt; list = List.of(null, null);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat java.base/java.util.Objects.requireNonNull(Objects.java:208)\r\n    \tat java.base/java.util.ImmutableCollections$List12.&lt;init&gt;(ImmutableCollections.java:453)\r\n    \tat java.base/java.util.List.of(List.java:827)\r\n    \tat Main.main(Main.java:5)\r\n\r\n**Note:** I&#39;ve used ***openjdk-16-ea+34_osx-x64*** to compile and execute the Java SE 16 code.\r\n\r\n**Useful resources:**\r\n\r\n 1. JDK Bug#[JDK-8180352][2]\r\n 2. https://stackoverflow.com/questions/4028059/calling-java-varargs-method-with-single-null-argument\r\n\r\n\r\n  [1]: https://www.javacodegeeks.com/2020/12/jdk-16-stream-to-list-in-one-easy-call.html\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8180352","title":"Differences of Java 16&#39;s Stream.toList() and Stream.collect(Collectors.toList())?","body":"<p>One difference is that <code>Stream.toList()</code> provides a <code>List</code> implementation that is immutable (type <code>ImmutableCollections.ListN</code> that cannot be added to or sorted) similar to that provided by <code>List.of()</code> and in contrast to the mutable (can be changed and sorted) <code>ArrayList</code> provided by <code>Stream.collect(Collectors.toList())</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.util.stream.Stream;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = Stream.of(&quot;Hello&quot;).toList();\n        System.out.println(list);\n        list.add(&quot;Hi&quot;);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[Hello]\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException\n    at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\n    at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)\n    at Main.main(Main.java:8)\n</code></pre>\n<p>Please check <a href=\"https://www.javacodegeeks.com/2020/12/jdk-16-stream-to-list-in-one-easy-call.html\" rel=\"noreferrer\">this article</a> for more details.</p>\n<h2>Update:</h2>\n<p>Interestingly, <code>Stream.toList()</code> returns a <code>null</code>s-containing list successfully.</p>\n<pre><code>import java.util.stream.Stream;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Object&gt; list = Stream.of(null, null).toList();\n        System.out.println(list);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[null, null]\n</code></pre>\n<p>On the other hand, <code>List.of(null, null)</code> throws <code>NullPointerException</code>.</p>\n<pre><code>import java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Object&gt; list = List.of(null, null);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.base/java.util.Objects.requireNonNull(Objects.java:208)\n    at java.base/java.util.ImmutableCollections$List12.&lt;init&gt;(ImmutableCollections.java:453)\n    at java.base/java.util.List.of(List.java:827)\n    at Main.main(Main.java:5)\n</code></pre>\n<p><strong>Note:</strong> I've used <em><strong>openjdk-16-ea+34_osx-x64</strong></em> to compile and execute the Java SE 16 code.</p>\n<p><strong>Useful resources:</strong></p>\n<ol>\n<li>JDK Bug#<a href=\"https://bugs.openjdk.java.net/browse/JDK-8180352\" rel=\"noreferrer\">JDK-8180352</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4028059/calling-java-varargs-method-with-single-null-argument\">Calling Java varargs method with single null argument?</a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":2,"creation_date":1627496388,"post_id":65991907,"comment_id":121174778,"body_markdown":"The new method&#160;Stream.toList()&#160;produces neither an unmodifiable list nor a shortcut to&#160;collect(toUnmodifiableList()), because&#160;toUnmodifiableList()&#160;doesn’t accept nulls.The implementation of&#160;Stream.toList()&#160;is not constrained by the&#160;Collector&#160;interface; therefore,&#160;Stream.toList()&#160;allocates less memory. That makes it optimal to use when the stream size is known in advance.  https://blogs.oracle.com/javamagazine/hidden-gems-jdk16-jdk17-jep                                                    \n Can you Validate the above statements","body":"The new method Stream.toList() produces neither an unmodifiable list nor a shortcut to collect(toUnmodifiableList()), because toUnmodifiableList() doesn’t accept nulls.The implementation of Stream.toList() is not constrained by the Collector interface; therefore, Stream.toList() allocates less memory. That makes it optimal to use when the stream size is known in advance.  <a href=\"https://blogs.oracle.com/javamagazine/hidden-gems-jdk16-jdk17-jep\" rel=\"nofollow noreferrer\">blogs.oracle.com/javamagazine/hidden-gems-jdk16-jdk17-jep</a>                                                      Can you Validate the above statements"},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":1,"creation_date":1670234709,"post_id":65991907,"comment_id":131820776,"body_markdown":"I would add that the first one was introduced in Java 8, the 2nd in Java 10, and the 3rd in Java 16.","body":"I would add that the first one was introduced in Java 8, the 2nd in Java 10, and the 3rd in Java 16."}],"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":2,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1699502455,"creation_date":1612178855,"answer_id":65991907,"question_id":65969919,"body_markdown":"Here is a small table that summarizes the differences between `Stream.collect(Collectors.toList())`, `Stream.collect(Collectors.toUnmodifiableList())` and `Stream.toList()`:\r\n\r\n| Method | Guarantees unmodifiability | Allows nulls | Since\r\n|--------|----------------------------|--------------|------\r\n| `collect(toList())`             | No  | Yes | Java 8\r\n| `collect(toUnmodifiableList())` | Yes | No | Java 10\r\n| `toList()`                      | Yes | Yes | Java 16\r\n\r\nAnother small difference:\r\n\r\n    // Compiles\r\n    List&lt;CharSequence&gt; list = Stream.of(&quot;hello&quot;, &quot;world&quot;).collect(toList());\r\n\r\n    // Error\r\n    List&lt;CharSequence&gt; list = Stream.of(&quot;hello&quot;, &quot;world&quot;).toList();","title":"Differences of Java 16&#39;s Stream.toList() and Stream.collect(Collectors.toList())?","body":"<p>Here is a small table that summarizes the differences between <code>Stream.collect(Collectors.toList())</code>, <code>Stream.collect(Collectors.toUnmodifiableList())</code> and <code>Stream.toList()</code>:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Method</th>\n<th>Guarantees unmodifiability</th>\n<th>Allows nulls</th>\n<th>Since</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>collect(toList())</code></td>\n<td>No</td>\n<td>Yes</td>\n<td>Java 8</td>\n</tr>\n<tr>\n<td><code>collect(toUnmodifiableList())</code></td>\n<td>Yes</td>\n<td>No</td>\n<td>Java 10</td>\n</tr>\n<tr>\n<td><code>toList()</code></td>\n<td>Yes</td>\n<td>Yes</td>\n<td>Java 16</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Another small difference:</p>\n<pre><code>// Compiles\nList&lt;CharSequence&gt; list = Stream.of(&quot;hello&quot;, &quot;world&quot;).collect(toList());\n\n// Error\nList&lt;CharSequence&gt; list = Stream.of(&quot;hello&quot;, &quot;world&quot;).toList();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1701423343,"post_id":73210273,"comment_id":136776368,"body_markdown":"1+, it happens in `javac` also, and probably [this](https://stackoverflow.com/a/77584226/1059372) is the &quot;long&quot; explanation.","body":"1+, it happens in <code>javac</code> also, and probably <a href=\"https://stackoverflow.com/a/77584226/1059372\">this</a> is the &quot;long&quot; explanation."}],"tags":[],"owner":{"account_id":19004,"reputation":21826,"user_id":44089,"accept_rate":79,"display_name":"Bananeweizen"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1659454957,"creation_date":1659454957,"answer_id":73210273,"question_id":65969919,"body_markdown":"`.collect(toList())` and `toList()` behave **different regarding sub type compatibility of the elements** in the created lists.\r\n\r\nHave a look at the following alternatives:\r\n\r\n* `List&lt;Number&gt; old = Stream.of(0).collect(Collectors.toList());` works fine, although we collect a stream of _Integer_ into a list of _Number_.\r\n* `List&lt;Number&gt; new = Stream.of(0).toList();` is the equivalent Java 16+ version, but it doesn&#39;t compile (`cannot convert from List&lt;Integer&gt; to List&lt;Number&gt;`; at least in ecj, the Eclipse Java compiler).\r\n\r\nThere are at least 2 workarounds to fix the compile error:\r\n* Explicitly cast to the wanted type\r\n`List&lt;Number&gt; fix1 = Stream.of(0).map(Number.class::cast).toList();`\r\n* allow sub types in the result collection:\r\n`List&lt;? extends Number&gt; fix2 = Stream.of(0).toList();`\r\n\r\nTo my understanding the root cause is as follows: The generic type T of the Java 16 `toList()` is the same as the generic type T of the Stream itself. The generic type T of Collectors.toList() however is propagated from the left hand side of the assignment. If those 2 types are different, you may see errors when  replacing all the old calls.","title":"Differences of Java 16&#39;s Stream.toList() and Stream.collect(Collectors.toList())?","body":"<p><code>.collect(toList())</code> and <code>toList()</code> behave <strong>different regarding sub type compatibility of the elements</strong> in the created lists.</p>\n<p>Have a look at the following alternatives:</p>\n<ul>\n<li><code>List&lt;Number&gt; old = Stream.of(0).collect(Collectors.toList());</code> works fine, although we collect a stream of <em>Integer</em> into a list of <em>Number</em>.</li>\n<li><code>List&lt;Number&gt; new = Stream.of(0).toList();</code> is the equivalent Java 16+ version, but it doesn't compile (<code>cannot convert from List&lt;Integer&gt; to List&lt;Number&gt;</code>; at least in ecj, the Eclipse Java compiler).</li>\n</ul>\n<p>There are at least 2 workarounds to fix the compile error:</p>\n<ul>\n<li>Explicitly cast to the wanted type\n<code>List&lt;Number&gt; fix1 = Stream.of(0).map(Number.class::cast).toList();</code></li>\n<li>allow sub types in the result collection:\n<code>List&lt;? extends Number&gt; fix2 = Stream.of(0).toList();</code></li>\n</ul>\n<p>To my understanding the root cause is as follows: The generic type T of the Java 16 <code>toList()</code> is the same as the generic type T of the Stream itself. The generic type T of Collectors.toList() however is propagated from the left hand side of the assignment. If those 2 types are different, you may see errors when  replacing all the old calls.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701423281,"creation_date":1701423281,"answer_id":77584226,"question_id":65969919,"body_markdown":"They differ in what they can process related to inheritance. \r\n\r\nThis answer really expands [this one](https://stackoverflow.com/a/73210273/1059372), since it will be too long for a comment. \r\n\r\nSuppose there are two classes:\r\n\r\n```\r\nstatic class Animal {\r\n\r\n}\r\n\r\nstatic class Dog extends Animal {\r\n\r\n}\r\n```\r\n\r\n\r\nAnd such a method:\r\n\r\n```\r\nList&lt;Animal&gt; test(List&lt;Dog&gt; dogs) {\r\n\r\n\tStream&lt;Dog&gt; stream = dogs.stream();\r\n\tCollector&lt;Animal, ?, List&lt;Animal&gt;&gt; collector = Collectors.toList();\r\n\r\n\tList&lt;Animal&gt; animals = stream.collect(collector);\r\n\r\n\treturn animals;\r\n}\r\n```\r\n\r\nNotice a few probably obvious things: \r\n\r\n- `stream` is of type `Stream&lt;Dog&gt;`. The `Stream.class` is declared as `Stream&lt;T&gt; ... `, so `T` will be inferred to be a `Dog`. \r\n\r\n- `stream::collect`  calls a method that is declared as: `&lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector);`\r\n\r\nNotice the type: `? extends T`, that is why we can pass a `Collector&lt;Animal, ?, List&lt;Animal&gt;`: the first argument `Animal` is a super type of `T` (`Dog`).\r\n\r\n\r\nThis is kind of logic btw if you think what a collector is supposed to do. It must take some type and produce a `List` of those types (in our case). That &quot;type&quot; in our case is a `Dog` (but at the same time is an `Animal` too). The result from the collector is a `List&lt;Animal&gt;` and you _can_ put dogs in such a `List`. \r\n\r\n---\r\n\r\nThe same thing does not work with `toList`:\r\n\r\n```\r\nList&lt;Animal&gt; test(List&lt;Dog&gt; dogs) {\r\n\tStream&lt;Dog&gt; stream = dogs.stream();\r\n\tList&lt;Animal&gt; animals = stream.toList();\r\n\treturn animals;\r\n}\r\n```\r\n\r\nYou probably understand why already, its because `Stream::toList` is declared as : `default List&lt;T&gt; toList() { ... }` ","title":"Differences of Java 16&#39;s Stream.toList() and Stream.collect(Collectors.toList())?","body":"<p>They differ in what they can process related to inheritance.</p>\n<p>This answer really expands <a href=\"https://stackoverflow.com/a/73210273/1059372\">this one</a>, since it will be too long for a comment.</p>\n<p>Suppose there are two classes:</p>\n<pre><code>static class Animal {\n\n}\n\nstatic class Dog extends Animal {\n\n}\n</code></pre>\n<p>And such a method:</p>\n<pre><code>List&lt;Animal&gt; test(List&lt;Dog&gt; dogs) {\n\n    Stream&lt;Dog&gt; stream = dogs.stream();\n    Collector&lt;Animal, ?, List&lt;Animal&gt;&gt; collector = Collectors.toList();\n\n    List&lt;Animal&gt; animals = stream.collect(collector);\n\n    return animals;\n}\n</code></pre>\n<p>Notice a few probably obvious things:</p>\n<ul>\n<li><p><code>stream</code> is of type <code>Stream&lt;Dog&gt;</code>. The <code>Stream.class</code> is declared as <code>Stream&lt;T&gt; ... </code>, so <code>T</code> will be inferred to be a <code>Dog</code>.</p>\n</li>\n<li><p><code>stream::collect</code>  calls a method that is declared as: <code>&lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector);</code></p>\n</li>\n</ul>\n<p>Notice the type: <code>? extends T</code>, that is why we can pass a <code>Collector&lt;Animal, ?, List&lt;Animal&gt;</code>: the first argument <code>Animal</code> is a super type of <code>T</code> (<code>Dog</code>).</p>\n<p>This is kind of logic btw if you think what a collector is supposed to do. It must take some type and produce a <code>List</code> of those types (in our case). That &quot;type&quot; in our case is a <code>Dog</code> (but at the same time is an <code>Animal</code> too). The result from the collector is a <code>List&lt;Animal&gt;</code> and you <em>can</em> put dogs in such a <code>List</code>.</p>\n<hr />\n<p>The same thing does not work with <code>toList</code>:</p>\n<pre><code>List&lt;Animal&gt; test(List&lt;Dog&gt; dogs) {\n    Stream&lt;Dog&gt; stream = dogs.stream();\n    List&lt;Animal&gt; animals = stream.toList();\n    return animals;\n}\n</code></pre>\n<p>You probably understand why already, its because <code>Stream::toList</code> is declared as : <code>default List&lt;T&gt; toList() { ... }</code></p>\n"}],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52225,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":65970114,"answer_count":4,"score":87,"last_activity_date":1701423281,"creation_date":1612021489,"question_id":65969919,"body_markdown":"[JDK 16 now includes a `toList()` method directly on `Stream` instances](https://bugs.openjdk.java.net/browse/JDK-8180352). In previous Java versions, you always had to use the `collect` method and provide a `Collector` instance.\r\n\r\nThe new method is obviously fewer characters to type. Are both methods interchangeable or are there subtle differences one should be aware of?\r\n\r\n\r\n    var newList = someCollection.stream()\r\n        .map(x -&gt; mapX(x))\r\n        .filter(x -&gt; filterX(x))\r\n        .toList();\r\n    \r\n    // vs.\r\n    \r\n    var oldList = someCollection.stream()\r\n        .map(x -&gt; mapX(x))\r\n        .filter(x -&gt; filterX(x))\r\n        .collect(Collectors.toList());\r\n\r\n\r\n(This question is similar to &lt;https://stackoverflow.com/questions/65741773/would-stream-tolist-perform-better-than-collectors-tolist&gt;, but focused on behavior and not (only) on performance.)","title":"Differences of Java 16&#39;s Stream.toList() and Stream.collect(Collectors.toList())?","body":"<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8180352\" rel=\"noreferrer\">JDK 16 now includes a <code>toList()</code> method directly on <code>Stream</code> instances</a>. In previous Java versions, you always had to use the <code>collect</code> method and provide a <code>Collector</code> instance.</p>\n<p>The new method is obviously fewer characters to type. Are both methods interchangeable or are there subtle differences one should be aware of?</p>\n<pre><code>var newList = someCollection.stream()\n    .map(x -&gt; mapX(x))\n    .filter(x -&gt; filterX(x))\n    .toList();\n\n// vs.\n\nvar oldList = someCollection.stream()\n    .map(x -&gt; mapX(x))\n    .filter(x -&gt; filterX(x))\n    .collect(Collectors.toList());\n</code></pre>\n<p>(This question is similar to <a href=\"https://stackoverflow.com/questions/65741773/would-stream-tolist-perform-better-than-collectors-tolist\">Would Stream.toList() perform better than Collectors.toList()</a>, but focused on behavior and not (only) on performance.)</p>\n"},{"tags":["java","architecture","amazon-rds","spring-jdbc","amazon-iam"],"comments":[{"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"score":1,"creation_date":1529511758,"post_id":50847945,"comment_id":88903408,"body_markdown":"Anybody? I can&#39;t be the first one trying to do this...","body":"Anybody? I can&#39;t be the first one trying to do this..."}],"answers":[{"comments":[{"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"score":0,"creation_date":1530128762,"post_id":51023536,"comment_id":89130535,"body_markdown":"blagerweij - this is awesome!! I did not think of going the route of connection pooling because of the limitation of RDS connections. This probably would have been my next question if and when I came at that stage! Thanks for your great help and pointing in this direction with a proper implementation, very much appreciated! I need to ask one more favor from you, would you be kind enough to give a sample code utilizing this? Thanking you in advance.","body":"blagerweij - this is awesome!! I did not think of going the route of connection pooling because of the limitation of RDS connections. This probably would have been my next question if and when I came at that stage! Thanks for your great help and pointing in this direction with a proper implementation, very much appreciated! I need to ask one more favor from you, would you be kind enough to give a sample code utilizing this? Thanking you in advance."},{"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"score":0,"creation_date":1530132534,"post_id":51023536,"comment_id":89132174,"body_markdown":"If you&#39;re using Spring Boot, all you need to do is add a dependency with a JdbcTemplate or DataSource. (e.g. `@Autowired JdbcTemplate jdbcTemplate`)","body":"If you&#39;re using Spring Boot, all you need to do is add a dependency with a JdbcTemplate or DataSource. (e.g. <code>@Autowired JdbcTemplate jdbcTemplate</code>)"},{"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"score":0,"creation_date":1530284687,"post_id":51023536,"comment_id":89196392,"body_markdown":"Hi blagerweij - I have updated my original question with more info and the correct need I have (I think). Can you please have a look and provide some pointers? Your help is greatly appreciated! Thank you.","body":"Hi blagerweij - I have updated my original question with more info and the correct need I have (I think). Can you please have a look and provide some pointers? Your help is greatly appreciated! Thank you."},{"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"score":0,"creation_date":1530284800,"post_id":51023536,"comment_id":89196455,"body_markdown":"Please note, this is not to say that your solution above is not needed. In fact, it is perfect and a great way to solve the limitations RDS connection has. But I am not able to utilize it for my purpose of creating a library.","body":"Please note, this is not to say that your solution above is not needed. In fact, it is perfect and a great way to solve the limitations RDS connection has. But I am not able to utilize it for my purpose of creating a library."},{"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"score":0,"creation_date":1530311747,"post_id":51023536,"comment_id":89207364,"body_markdown":"The solution presented above uses the `DefaultAWSCredentialsProviderChain`, which means it supports all available mechanisms (environment vars, profile, Java properties, etc). We are using the above snippet in a shared library for many projects that require AWS specific services. Spring Boot is used for configuring the bean properties, the only thing you will need is to specify the class-name of the DataSource (`type: com.mydomain.jdbc.RdsIamAuthDataSource`)","body":"The solution presented above uses the <code>DefaultAWSCredentialsProviderChain</code>, which means it supports all available mechanisms (environment vars, profile, Java properties, etc). We are using the above snippet in a shared library for many projects that require AWS specific services. Spring Boot is used for configuring the bean properties, the only thing you will need is to specify the class-name of the DataSource (<code>type: com.mydomain.jdbc.RdsIamAuthDataSource</code>)"},{"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"score":0,"creation_date":1530498404,"post_id":51023536,"comment_id":89241789,"body_markdown":"blagerweij - first thing, I would like to give a big thank you for keeping your patience in reading my replies and giving the answers to my queries! I really very highly appreciate it! ; Now, I did try it in the same exact way as you said...specifying the class-name of DataSource as `RdsIamAuthDataSource`. The only difference is I am not using Spring Boot, mine is a regular Spring/Spring JDBC application. Would that make any difference? Thank you!","body":"blagerweij - first thing, I would like to give a big thank you for keeping your patience in reading my replies and giving the answers to my queries! I really very highly appreciate it! ; Now, I did try it in the same exact way as you said...specifying the class-name of DataSource as <code>RdsIamAuthDataSource</code>. The only difference is I am not using Spring Boot, mine is a regular Spring/Spring JDBC application. Would that make any difference? Thank you!"},{"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"score":0,"creation_date":1530531854,"post_id":51023536,"comment_id":89254939,"body_markdown":"Yes, that makes all the difference. Spring Boot has support for autoconfiguration, which automatically configures a DataSource. If you use Spring with XML config, you need to write custom config: `&lt;bean id=&quot;dataSource&quot; class=&quot;com.mydomain.jdbc.RdsIamAuthDataSource&quot; destroy-method=&quot;close&quot;&gt;\n        &lt;property name=&quot;url&quot; value=&quot;xxx&quot; /&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot; /&gt;\n        &lt;property name=&quot;username&quot; value=&quot;iam_user&quot; /&gt;\n    &lt;/bean&gt;`\n\n. Although I recommend using Boot, it makes your life easier.","body":"Yes, that makes all the difference. Spring Boot has support for autoconfiguration, which automatically configures a DataSource. If you use Spring with XML config, you need to write custom config: <code>&lt;bean id=&quot;dataSource&quot; class=&quot;com.mydomain.jdbc.RdsIamAuthDataSource&quot; destroy-method=&quot;close&quot;&gt;         &lt;property name=&quot;url&quot; value=&quot;xxx&quot; &#47;&gt;         &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot; &#47;&gt;         &lt;property name=&quot;username&quot; value=&quot;iam_user&quot; &#47;&gt;     &lt;&#47;bean&gt;</code>  . Although I recommend using Boot, it makes your life easier."},{"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"score":0,"creation_date":1530596618,"post_id":51023536,"comment_id":89278695,"body_markdown":"Got it, thanks for confirming. Actually, it&#39;s an existing project with Spring JDBC dependency already given in POM. And configuration is done using pure Java (i.e. using `@Configuration` annotation on **ApplicationConfig** class which has a @Bean declared as `public DataSource dataSource()` method and in this method a DriverManagerDataSource is being created and the properties like URL, DriverClassName, UserName and Password are being set. If I change this method to **RdsIamAuthDataSource** I don&#39;t get the methods to set all those properties. Any suggestions how I can go about it? Thank you.","body":"Got it, thanks for confirming. Actually, it&#39;s an existing project with Spring JDBC dependency already given in POM. And configuration is done using pure Java (i.e. using <code>@Configuration</code> annotation on <b>ApplicationConfig</b> class which has a @Bean declared as <code>public DataSource dataSource()</code> method and in this method a DriverManagerDataSource is being created and the properties like URL, DriverClassName, UserName and Password are being set. If I change this method to <b>RdsIamAuthDataSource</b> I don&#39;t get the methods to set all those properties. Any suggestions how I can go about it? Thank you."},{"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"score":0,"creation_date":1530721155,"post_id":51023536,"comment_id":89338023,"body_markdown":"You can probably use something like this: (cannot get the format right, sorry): `   @Bean\n    public DataSource dataSource() {\n        PoolConfiguration props = new PoolProperties();\n        props.setUrl(&quot;jdbc:mysql://dbname.abc123xyz.us-east-1.rds.amazonaws.com/dbschema&quot;);\n        props.setUsername(&quot;iam_dbuser_app&quot;);\n        props.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\n        return new RdsIamAuthDataSource(props);\n    }`","body":"You can probably use something like this: (cannot get the format right, sorry): `   @Bean     public DataSource dataSource() {         PoolConfiguration props = new PoolProperties();         props.setUrl(&quot;jdbc:mysql://dbname.abc123xyz.us-east-1.rds.am&zwnj;&#8203;azonaws.com/dbschema&zwnj;&#8203;&quot;);         props.setUsername(&quot;iam_dbuser_app&quot;);         props.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);         return new RdsIamAuthDataSource(props);     }`"},{"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"score":0,"creation_date":1530721911,"post_id":51023536,"comment_id":89338334,"body_markdown":"Here&#39;s a sample project: https://wetransfer.com/downloads/68254709d20ac8652b5b8bc88bbc3ea520180704162936/a6159857dd16916db7681db88db50fde20180704162936/eb6b4a","body":"Here&#39;s a sample project: <a href=\"https://wetransfer.com/downloads/68254709d20ac8652b5b8bc88bbc3ea520180704162936/a6159857dd16916db7681db88db50fde20180704162936/eb6b4a\" rel=\"nofollow noreferrer\">wetransfer.com/downloads/&hellip;</a>"},{"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"score":0,"creation_date":1530815679,"post_id":51023536,"comment_id":89377466,"body_markdown":"This is AWSome! :) I am going to try it today. blagerweij - I really can&#39;t thank you enough for this! I really very highly appreciate your continued patience and help! Best Regards!","body":"This is AWSome! :) I am going to try it today. blagerweij - I really can&#39;t thank you enough for this! I really very highly appreciate your continued patience and help! Best Regards!"},{"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"score":0,"creation_date":1533062522,"post_id":51023536,"comment_id":90205626,"body_markdown":"Hi blagerweij - I finally got to try it now but running into an error. Thought of running it by you while I try to troubleshoot it at my end. Please do let me know if you know the cause or give me some pointers. I am getting **com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: java.io.ByteArrayInputStream@61dbedc2 does not appear to be a valid URL.** when a call to `super.init(prop)` is made from within our `init()` method. The DB URL is good so not sure what the error is exactly about. Thanks for your much needed help!","body":"Hi blagerweij - I finally got to try it now but running into an error. Thought of running it by you while I try to troubleshoot it at my end. Please do let me know if you know the cause or give me some pointers. I am getting <b>com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionE&zwnj;&#8203;xception: java.io.ByteArrayInputStream@61dbedc2 does not appear to be a valid URL.</b> when a call to <code>super.init(prop)</code> is made from within our <code>init()</code> method. The DB URL is good so not sure what the error is exactly about. Thanks for your much needed help!"},{"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"score":0,"creation_date":1533091167,"post_id":51023536,"comment_id":90214190,"body_markdown":"Partial stacktrace where I think it&#39;s failing: ...at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.11.jar:na]\n\tat org.....jdbc.pool.PooledConnection.connect(PooledConnection.java:203)\n\tat org.....jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:732)\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:664)\n\tat org.....jdbc.pool.ConnectionPool.init(ConnectionPool.java:479)\n\tat com.prj.service.util.RdsIamAuthDataSource$RdsConnectionPool.init(RdsIamAuthDataSource.java:82)...","body":"Partial stacktrace where I think it&#39;s failing: ...at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDri&zwnj;&#8203;ver(PooledConnection&zwnj;&#8203;.java:310) ~[tomcat-jdbc-8.5.11.jar:na] \tat org.....jdbc.pool.PooledConnection.connect(PooledConnection.&zwnj;&#8203;java:203) \tat org.....jdbc.pool.ConnectionPool.createConnection(Connection&zwnj;&#8203;Pool.java:732) \tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(&zwnj;&#8203;ConnectionPool.java:&zwnj;&#8203;664) \tat org.....jdbc.pool.ConnectionPool.init(ConnectionPool.java:47&zwnj;&#8203;9) \tat com.prj.service.util.RdsIamAuthDataSource$RdsConnectionPool.&zwnj;&#8203;init(RdsIamAuthDataS&zwnj;&#8203;ource.java:82)..."}],"tags":[],"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"comment_count":13,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1613463819,"creation_date":1529929769,"answer_id":51023536,"question_id":50847945,"body_markdown":"You can use the following snippet as a replacement for the default connection-pool provided by SpringBoot/Tomcat. It will refresh the token password every 10 minutes, since the token is valid for 15 minutes. Also, it assumes the region can be extracted from the DNS hostname. If this is not the case, you&#39;ll need to specify the region to use.\r\n\r\n    public class RdsIamAuthDataSource extends org.apache.tomcat.jdbc.pool.DataSource {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(RdsIamAuthDataSource.class);\r\n\r\n    /**\r\n     * The Java KeyStore (JKS) file that contains the Amazon root CAs\r\n     */\r\n    public static final String RDS_CACERTS = &quot;/rds-cacerts&quot;;\r\n    /**\r\n     * Password for the ca-certs file.\r\n     */\r\n    public static final String PASSWORD = &quot;changeit&quot;;\r\n    public static final int DEFAULT_PORT = 3306;\r\n\r\n    @Override\r\n    public ConnectionPool createPool() throws SQLException {\r\n        return pool != null ? pool : createPoolImpl();\r\n    }\r\n\r\n    protected synchronized ConnectionPool createPoolImpl() throws SQLException {\r\n        return pool = new RdsIamAuthConnectionPool(poolProperties);\r\n    }\r\n\r\n    public static class RdsIamAuthConnectionPool extends ConnectionPool implements Runnable {\r\n\r\n        private RdsIamAuthTokenGenerator rdsIamAuthTokenGenerator;\r\n        private String host;\r\n        private String region;\r\n        private int port;\r\n        private String username;\r\n        private Thread tokenThread;\r\n\r\n        public RdsIamAuthConnectionPool(PoolConfiguration prop) throws SQLException {\r\n            super(prop);\r\n        }\r\n\r\n        @Override\r\n        protected void init(PoolConfiguration prop) throws SQLException {\r\n            try {\r\n                URI uri = new URI(prop.getUrl().substring(5));\r\n                this.host = uri.getHost();\r\n                this.port = uri.getPort();\r\n                if (this.port &lt; 0) {\r\n                    this.port = DEFAULT_PORT;\r\n                }\r\n                this.region = StringUtils.split(this.host,&#39;.&#39;)[2]; // extract region from rds hostname\r\n                this.username = prop.getUsername();\r\n                this.rdsIamAuthTokenGenerator = RdsIamAuthTokenGenerator.builder().credentials(new DefaultAWSCredentialsProviderChain()).region(this.region).build();\r\n                updatePassword(prop);\r\n                final Properties props = prop.getDbProperties();\r\n                props.setProperty(&quot;useSSL&quot;,&quot;true&quot;);\r\n                props.setProperty(&quot;requireSSL&quot;,&quot;true&quot;);\r\n                props.setProperty(&quot;trustCertificateKeyStoreUrl&quot;,getClass().getResource(RDS_CACERTS).toString());\r\n                props.setProperty(&quot;trustCertificateKeyStorePassword&quot;, PASSWORD);\r\n                super.init(prop);\r\n                this.tokenThread = new Thread(this, &quot;RdsIamAuthDataSourceTokenThread&quot;);\r\n                this.tokenThread.setDaemon(true);\r\n                this.tokenThread.start();\r\n            } catch (URISyntaxException e) {\r\n                throw new RuntimeException(e.getMessage());\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                while (this.tokenThread != null) {\r\n                    Thread.sleep(10 * 60 * 1000); // wait for 10 minutes, then recreate the token\r\n                    updatePassword(getPoolProperties());\r\n                }\r\n            } catch (InterruptedException e) {\r\n                LOG.debug(&quot;Background token thread interrupted&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void close(boolean force) {\r\n            super.close(force);\r\n            Thread t = tokenThread;\r\n            tokenThread = null;\r\n            if (t != null) {\r\n                t.interrupt();\r\n            }\r\n        }\r\n\r\n        private void updatePassword(PoolConfiguration props) {\r\n            String token = rdsIamAuthTokenGenerator.getAuthToken(GetIamAuthTokenRequest.builder().hostname(host).port(port).userName(this.username).build());\r\n            LOG.debug(&quot;Updated IAM token for connection pool&quot;);\r\n            props.setPassword(token);\r\n        }\r\n    }\r\n    }\r\n\r\nPlease note that you&#39;ll need to import Amazon&#39;s root/intermediate certificates to establish a trusted connection. The example code above assumes that the certificates have been imported into a file called &#39;rds-cacert&#39; and is available on the classpath. Alternatively, you can also import them into the JVM &#39;cacerts&#39; file.\r\n\r\nTo use this data-source, you can use the following properties for Spring:\r\n\r\n    datasource:\r\n      url: jdbc:mysql://dbhost.xyz123abc.us-east-1.rds.amazonaws.com/dbname\r\n      username: iam_app_user\r\n      driver-class-name: com.mysql.cj.jdbc.Driver\r\n      type: com.mydomain.jdbc.RdsIamAuthDataSource\r\n\r\nUsing Spring Java config:\r\n\r\n    @Bean public DataSource dataSource() { \r\n        PoolConfiguration props = new PoolProperties(); \r\n        props.setUrl(&quot;jdbc:mysql://dbname.abc123xyz.us-east-1.rds.amazonaws.com/dbschema&quot;); \r\n        props.setUsername(&quot;iam_dbuser_app&quot;); \r\n        props.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;); \r\n        return new RdsIamAuthDataSource(props); \r\n    }\r\n\r\n*UPDATE*: When using MySQL, you can also decide to use the MariaDB JDBC driver, which has builtin support for IAM authentication:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    host: dbhost.cluster-xxx.eu-west-1.rds.amazonaws.com\r\n    url: jdbc:mariadb:aurora//${spring.datasource.host}/db?user=xxx&amp;credentialType=AWS-IAM&amp;useSsl&amp;serverSslCert=classpath:rds-combined-ca-bundle.pem\r\n    type: org.mariadb.jdbc.MariaDbPoolDataSource\r\n```\r\nThe above requires MariaDB and AWS SDK libraries, and needs the CA-bundle in the classpath","title":"Accessing AWS RDS using IAM Authentication and Spring JDBC (DataSource and JdbcTemplace)","body":"<p>You can use the following snippet as a replacement for the default connection-pool provided by SpringBoot/Tomcat. It will refresh the token password every 10 minutes, since the token is valid for 15 minutes. Also, it assumes the region can be extracted from the DNS hostname. If this is not the case, you'll need to specify the region to use.</p>\n<pre><code>public class RdsIamAuthDataSource extends org.apache.tomcat.jdbc.pool.DataSource {\n\nprivate static final Logger LOG = LoggerFactory.getLogger(RdsIamAuthDataSource.class);\n\n/**\n * The Java KeyStore (JKS) file that contains the Amazon root CAs\n */\npublic static final String RDS_CACERTS = &quot;/rds-cacerts&quot;;\n/**\n * Password for the ca-certs file.\n */\npublic static final String PASSWORD = &quot;changeit&quot;;\npublic static final int DEFAULT_PORT = 3306;\n\n@Override\npublic ConnectionPool createPool() throws SQLException {\n    return pool != null ? pool : createPoolImpl();\n}\n\nprotected synchronized ConnectionPool createPoolImpl() throws SQLException {\n    return pool = new RdsIamAuthConnectionPool(poolProperties);\n}\n\npublic static class RdsIamAuthConnectionPool extends ConnectionPool implements Runnable {\n\n    private RdsIamAuthTokenGenerator rdsIamAuthTokenGenerator;\n    private String host;\n    private String region;\n    private int port;\n    private String username;\n    private Thread tokenThread;\n\n    public RdsIamAuthConnectionPool(PoolConfiguration prop) throws SQLException {\n        super(prop);\n    }\n\n    @Override\n    protected void init(PoolConfiguration prop) throws SQLException {\n        try {\n            URI uri = new URI(prop.getUrl().substring(5));\n            this.host = uri.getHost();\n            this.port = uri.getPort();\n            if (this.port &lt; 0) {\n                this.port = DEFAULT_PORT;\n            }\n            this.region = StringUtils.split(this.host,'.')[2]; // extract region from rds hostname\n            this.username = prop.getUsername();\n            this.rdsIamAuthTokenGenerator = RdsIamAuthTokenGenerator.builder().credentials(new DefaultAWSCredentialsProviderChain()).region(this.region).build();\n            updatePassword(prop);\n            final Properties props = prop.getDbProperties();\n            props.setProperty(&quot;useSSL&quot;,&quot;true&quot;);\n            props.setProperty(&quot;requireSSL&quot;,&quot;true&quot;);\n            props.setProperty(&quot;trustCertificateKeyStoreUrl&quot;,getClass().getResource(RDS_CACERTS).toString());\n            props.setProperty(&quot;trustCertificateKeyStorePassword&quot;, PASSWORD);\n            super.init(prop);\n            this.tokenThread = new Thread(this, &quot;RdsIamAuthDataSourceTokenThread&quot;);\n            this.tokenThread.setDaemon(true);\n            this.tokenThread.start();\n        } catch (URISyntaxException e) {\n            throw new RuntimeException(e.getMessage());\n        }\n    }\n\n    @Override\n    public void run() {\n        try {\n            while (this.tokenThread != null) {\n                Thread.sleep(10 * 60 * 1000); // wait for 10 minutes, then recreate the token\n                updatePassword(getPoolProperties());\n            }\n        } catch (InterruptedException e) {\n            LOG.debug(&quot;Background token thread interrupted&quot;);\n        }\n    }\n\n    @Override\n    protected void close(boolean force) {\n        super.close(force);\n        Thread t = tokenThread;\n        tokenThread = null;\n        if (t != null) {\n            t.interrupt();\n        }\n    }\n\n    private void updatePassword(PoolConfiguration props) {\n        String token = rdsIamAuthTokenGenerator.getAuthToken(GetIamAuthTokenRequest.builder().hostname(host).port(port).userName(this.username).build());\n        LOG.debug(&quot;Updated IAM token for connection pool&quot;);\n        props.setPassword(token);\n    }\n}\n}\n</code></pre>\n<p>Please note that you'll need to import Amazon's root/intermediate certificates to establish a trusted connection. The example code above assumes that the certificates have been imported into a file called 'rds-cacert' and is available on the classpath. Alternatively, you can also import them into the JVM 'cacerts' file.</p>\n<p>To use this data-source, you can use the following properties for Spring:</p>\n<pre><code>datasource:\n  url: jdbc:mysql://dbhost.xyz123abc.us-east-1.rds.amazonaws.com/dbname\n  username: iam_app_user\n  driver-class-name: com.mysql.cj.jdbc.Driver\n  type: com.mydomain.jdbc.RdsIamAuthDataSource\n</code></pre>\n<p>Using Spring Java config:</p>\n<pre><code>@Bean public DataSource dataSource() { \n    PoolConfiguration props = new PoolProperties(); \n    props.setUrl(&quot;jdbc:mysql://dbname.abc123xyz.us-east-1.rds.amazonaws.com/dbschema&quot;); \n    props.setUsername(&quot;iam_dbuser_app&quot;); \n    props.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;); \n    return new RdsIamAuthDataSource(props); \n}\n</code></pre>\n<p><em>UPDATE</em>: When using MySQL, you can also decide to use the MariaDB JDBC driver, which has builtin support for IAM authentication:</p>\n<pre><code>spring:\n  datasource:\n    host: dbhost.cluster-xxx.eu-west-1.rds.amazonaws.com\n    url: jdbc:mariadb:aurora//${spring.datasource.host}/db?user=xxx&amp;credentialType=AWS-IAM&amp;useSsl&amp;serverSslCert=classpath:rds-combined-ca-bundle.pem\n    type: org.mariadb.jdbc.MariaDbPoolDataSource\n</code></pre>\n<p>The above requires MariaDB and AWS SDK libraries, and needs the CA-bundle in the classpath</p>\n"},{"comments":[{"owner":{"account_id":289850,"reputation":9684,"user_id":591064,"accept_rate":67,"display_name":"ixe013"},"score":0,"creation_date":1638915219,"post_id":64451898,"comment_id":124214048,"body_markdown":"But it still requires the [`AWS_SECRET_ACCESS_KEY` to be set](https://mariadb.com/kb/en/mariadb-connector-j-250-release-notes/#aws-iam)...","body":"But it still requires the <a href=\"https://mariadb.com/kb/en/mariadb-connector-j-250-release-notes/#aws-iam\" rel=\"nofollow noreferrer\"><code>AWS_SECRET_ACCESS_KEY</code> to be set</a>..."},{"owner":{"account_id":289850,"reputation":9684,"user_id":591064,"accept_rate":67,"display_name":"ixe013"},"score":1,"creation_date":1644847463,"post_id":64451898,"comment_id":125706767,"body_markdown":"I stand corrected. I tested it and the MariaDB driver will pick up the instance profile of your EC2 instance. This makes this solution really easy to implement. Give it a try!","body":"I stand corrected. I tested it and the MariaDB driver will pick up the instance profile of your EC2 instance. This makes this solution really easy to implement. Give it a try!"}],"tags":[],"owner":{"account_id":1358805,"reputation":1195,"user_id":1296598,"display_name":"Becca Gaspard"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1683071723,"creation_date":1603221244,"answer_id":64451898,"question_id":50847945,"body_markdown":"**Updated for 2023!**\r\n\r\nThis can now be accomplished even more easily using the [AWS JDBC Driver for MySQL](https://awslabs.github.io/aws-mysql-jdbc/) support for [IAM Database Authentication](https://github.com/awslabs/aws-mysql-jdbc#aws-iam-database-authentication).  I tested out this configuration with Spring Boot 3 &amp; spring-boot-starter-jdbc.\r\n\r\nAdd the following dependencies:\r\n```\r\nruntimeOnly &#39;software.aws.rds:aws-mysql-jdbc:1.1.6&#39;\r\nruntimeOnly &#39;software.amazon.awssdk:rds:2.20.57&#39;\r\n```\r\n\r\nAdd the following to application.yml:\r\n```yaml\r\nspring:\r\n  datasource:\r\n    jdbc-url: jdbc:mysql:aws://yourdbcluster-xxxx.cluster-xxxx.your-region.rds.amazonaws.com:3306/yourdb?useAwsIam=true\r\n    username: iam_username\r\n    #password: dont-need-this\r\n    driver-class-name: software.aws.rds.jdbc.mysql.Driver\r\n```\r\nAnd it should just work!\r\n\r\nThe driver uses the [AWS default credentials provider chain](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html) so make sure you have credentials with policy allowing IAM DB access available wherever you are running your app.  If you are also using failover support, make sure to read all the driver documentation on github.  Hope this update helps someone else!\r\n\r\n---\r\n**This is an older method using MariaDB driver - see updates above!*\r\n\r\nI know this is an older question, but after a some searching I found a pretty easy way you can now do this using the MariaDB driver. In version 2.5 they added an [AWS IAM credential plugin](https://mariadb.com/kb/en/mariadb-connector-j-250-release-notes) to the driver. It will handle generating, caching and refreshing the token automatically.  \r\n\r\nI&#39;ve tested using Spring Boot 2.3 with the default HikariCP connection pool and it is working fine for me with these settings:\r\n\r\n```\r\nspring.datasource.url=jdbc:mariadb://host/db?credentialType=AWS-IAM&amp;useSsl&amp;serverSslCert=classpath:rds-combined-ca-bundle.pem\r\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\nspring.datasource.username=iam_username\r\n#spring.datasource.password=dont-need-this\r\nspring.datasource.hikari.maxLifetime=600000\r\n```\r\n\r\nDownload [rds-combined-ca-bundle.pem](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html) and put it in `src/main/resources` so you can connect via SSL.  \r\nYou will need these dependencies on the classpath as well:\r\n\r\n```\r\nruntime &#39;org.mariadb.jdbc:mariadb-java-client&#39;\r\nruntime &#39;com.amazonaws:aws-java-sdk-rds:1.11.880&#39;\r\n```\r\n\r\nThe driver uses the standard `DefaultAWSCredentialsProviderChain` so make sure you have credentials with policy allowing IAM DB access available wherever you are running your app.  \r\n\r\nHope this helps someone else - most examples I found online involved custom code, background threads, etc - but using the new driver feature is much easier!","title":"Accessing AWS RDS using IAM Authentication and Spring JDBC (DataSource and JdbcTemplace)","body":"<p><strong>Updated for 2023!</strong></p>\n<p>This can now be accomplished even more easily using the <a href=\"https://awslabs.github.io/aws-mysql-jdbc/\" rel=\"nofollow noreferrer\">AWS JDBC Driver for MySQL</a> support for <a href=\"https://github.com/awslabs/aws-mysql-jdbc#aws-iam-database-authentication\" rel=\"nofollow noreferrer\">IAM Database Authentication</a>.  I tested out this configuration with Spring Boot 3 &amp; spring-boot-starter-jdbc.</p>\n<p>Add the following dependencies:</p>\n<pre><code>runtimeOnly 'software.aws.rds:aws-mysql-jdbc:1.1.6'\nruntimeOnly 'software.amazon.awssdk:rds:2.20.57'\n</code></pre>\n<p>Add the following to application.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    jdbc-url: jdbc:mysql:aws://yourdbcluster-xxxx.cluster-xxxx.your-region.rds.amazonaws.com:3306/yourdb?useAwsIam=true\n    username: iam_username\n    #password: dont-need-this\n    driver-class-name: software.aws.rds.jdbc.mysql.Driver\n</code></pre>\n<p>And it should just work!</p>\n<p>The driver uses the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html\" rel=\"nofollow noreferrer\">AWS default credentials provider chain</a> so make sure you have credentials with policy allowing IAM DB access available wherever you are running your app.  If you are also using failover support, make sure to read all the driver documentation on github.  Hope this update helps someone else!</p>\n<hr />\n<p>*<em>This is an older method using MariaDB driver - see updates above!</em></p>\n<p>I know this is an older question, but after a some searching I found a pretty easy way you can now do this using the MariaDB driver. In version 2.5 they added an <a href=\"https://mariadb.com/kb/en/mariadb-connector-j-250-release-notes\" rel=\"nofollow noreferrer\">AWS IAM credential plugin</a> to the driver. It will handle generating, caching and refreshing the token automatically.</p>\n<p>I've tested using Spring Boot 2.3 with the default HikariCP connection pool and it is working fine for me with these settings:</p>\n<pre><code>spring.datasource.url=jdbc:mariadb://host/db?credentialType=AWS-IAM&amp;useSsl&amp;serverSslCert=classpath:rds-combined-ca-bundle.pem\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.datasource.username=iam_username\n#spring.datasource.password=dont-need-this\nspring.datasource.hikari.maxLifetime=600000\n</code></pre>\n<p>Download <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html\" rel=\"nofollow noreferrer\">rds-combined-ca-bundle.pem</a> and put it in <code>src/main/resources</code> so you can connect via SSL.<br />\nYou will need these dependencies on the classpath as well:</p>\n<pre><code>runtime 'org.mariadb.jdbc:mariadb-java-client'\nruntime 'com.amazonaws:aws-java-sdk-rds:1.11.880'\n</code></pre>\n<p>The driver uses the standard <code>DefaultAWSCredentialsProviderChain</code> so make sure you have credentials with policy allowing IAM DB access available wherever you are running your app.</p>\n<p>Hope this helps someone else - most examples I found online involved custom code, background threads, etc - but using the new driver feature is much easier!</p>\n"},{"tags":[],"owner":{"account_id":4518905,"reputation":1,"user_id":3672833,"display_name":"JohnInJax"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701423134,"creation_date":1655578837,"answer_id":72671960,"question_id":50847945,"body_markdown":"There is a library that can make this easy. Effectively you just override the getPassword() method in the HikariDataSource. You use STS to assume the role and send a &quot;password&quot; for that role.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.volcanolabs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;rds-iam-hikari-datasource&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt; ","title":"Accessing AWS RDS using IAM Authentication and Spring JDBC (DataSource and JdbcTemplace)","body":"<p>There is a library that can make this easy. Effectively you just override the getPassword() method in the HikariDataSource. You use STS to assume the role and send a &quot;password&quot; for that role.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.volcanolabs&lt;/groupId&gt;\n  &lt;artifactId&gt;rds-iam-hikari-datasource&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n"}],"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12972,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1701423134,"creation_date":1528935242,"question_id":50847945,"body_markdown":"I am not able to figure out how to implement this. Any help and/or pointers will be greatly appreciated.\r\n\r\nCurrently, my Java/Spring application backend is deployed on **EC2** and accessing **MySQL on RDS** successfully using the regular Spring JDBC setup. That is, storing database info in `application.properties` and configuring `DataSource` and `JdbcTemplate` in **@Configuration** class. Everything works fine.\r\n\r\nNow, I need to access MySQL on RDS **securely**. RDS instance has IAM Authentication enabled. I have also successfully created **IAM role** and applied **inline policy**. Then, following the AWS RDS documentation and Java example on [this link][1], I am able to access the database from a **standalone Java class** successfully using **Authentication Token** and the user I created instead of regular db username and password. This standalone Java class is dealing with &quot;**Connection**&quot; object directly.\r\n\r\nThe place I am stuck is **how I translate this to Spring JDBC configuration**. That is, setting up `DataSource` and `JdbcTemplate` beans for this in my @Configuration class.\r\n\r\nWhat would be a correct/right approach to implement this?\r\n\r\n**----- EDIT - Start -----**\r\n\r\nI am trying to implement this as a library that can be used for multiple projects. That is, it will be used as a JAR and declared as a dependency in a project&#39;s POM file. This library is going to include configurable AWS Services like this RDS access using general DB username and password, RDS access using IAM Authentication, KMS (CMK/data keys) for data encryption, etc.\r\n\r\nIdea is to use this library on any web/app server depending on the project.\r\n\r\nHope this clarifies my need more.\r\n\r\n**----- EDIT - End -----**\r\n\r\nDataSource internally has getConnection() so I can basically create my own DataSource implementation to achieve what I want. But is this a good approach?\r\n\r\nSomething like:\r\n\r\n    public class MyDataSource implements DataSource {\r\n        @Override\r\n        public Connection getConnection() throws SQLException {\r\n            Connection conn = null;\r\n            // get a connection using IAM Authentication Token for accessing AWS RDS, etc. as in the AWS docs\r\n            return conn;\r\n        }\r\n\r\n        @Override\r\n        public Connection getConnection(String username, String password) throws SQLException {\r\n            return getConnection();\r\n        }\r\n\r\n        //other methods\r\n    } \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.Connecting.Java.html","title":"Accessing AWS RDS using IAM Authentication and Spring JDBC (DataSource and JdbcTemplace)","body":"<p>I am not able to figure out how to implement this. Any help and/or pointers will be greatly appreciated.</p>\n\n<p>Currently, my Java/Spring application backend is deployed on <strong>EC2</strong> and accessing <strong>MySQL on RDS</strong> successfully using the regular Spring JDBC setup. That is, storing database info in <code>application.properties</code> and configuring <code>DataSource</code> and <code>JdbcTemplate</code> in <strong>@Configuration</strong> class. Everything works fine.</p>\n\n<p>Now, I need to access MySQL on RDS <strong>securely</strong>. RDS instance has IAM Authentication enabled. I have also successfully created <strong>IAM role</strong> and applied <strong>inline policy</strong>. Then, following the AWS RDS documentation and Java example on <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.Connecting.Java.html\" rel=\"noreferrer\">this link</a>, I am able to access the database from a <strong>standalone Java class</strong> successfully using <strong>Authentication Token</strong> and the user I created instead of regular db username and password. This standalone Java class is dealing with \"<strong>Connection</strong>\" object directly.</p>\n\n<p>The place I am stuck is <strong>how I translate this to Spring JDBC configuration</strong>. That is, setting up <code>DataSource</code> and <code>JdbcTemplate</code> beans for this in my @Configuration class.</p>\n\n<p>What would be a correct/right approach to implement this?</p>\n\n<p><strong>----- EDIT - Start -----</strong></p>\n\n<p>I am trying to implement this as a library that can be used for multiple projects. That is, it will be used as a JAR and declared as a dependency in a project's POM file. This library is going to include configurable AWS Services like this RDS access using general DB username and password, RDS access using IAM Authentication, KMS (CMK/data keys) for data encryption, etc.</p>\n\n<p>Idea is to use this library on any web/app server depending on the project.</p>\n\n<p>Hope this clarifies my need more.</p>\n\n<p><strong>----- EDIT - End -----</strong></p>\n\n<p>DataSource internally has getConnection() so I can basically create my own DataSource implementation to achieve what I want. But is this a good approach?</p>\n\n<p>Something like:</p>\n\n<pre><code>public class MyDataSource implements DataSource {\n    @Override\n    public Connection getConnection() throws SQLException {\n        Connection conn = null;\n        // get a connection using IAM Authentication Token for accessing AWS RDS, etc. as in the AWS docs\n        return conn;\n    }\n\n    @Override\n    public Connection getConnection(String username, String password) throws SQLException {\n        return getConnection();\n    }\n\n    //other methods\n} \n</code></pre>\n"},{"tags":["c#","java"],"comments":[{"owner":{"account_id":57428,"reputation":39119,"user_id":172029,"accept_rate":96,"display_name":"David Pfeffer"},"score":0,"creation_date":1276903951,"post_id":3070261,"comment_id":3149281,"body_markdown":"This has absolutely nothing to do with J#. That tag doesn&#39;t belong here.","body":"This has absolutely nothing to do with J#. That tag doesn&#39;t belong here."}],"answers":[{"comments":[{"owner":{"account_id":59227,"reputation":8704,"user_id":177242,"accept_rate":30,"display_name":"Brady Moritz"},"score":4,"creation_date":1311456988,"post_id":3070308,"comment_id":8077588,"body_markdown":"appears the link has gone cold as well. Sheesh MS, at least let us download it.","body":"appears the link has gone cold as well. Sheesh MS, at least let us download it."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1459348104,"post_id":3070308,"comment_id":60247009,"body_markdown":"Albeit dated, discontinued, this link appears to be working: https://support.microsoft.com/en-us/kb/819018","body":"Albeit dated, discontinued, this link appears to be working: <a href=\"https://support.microsoft.com/en-us/kb/819018\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/kb/819018</a>"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1700661368,"post_id":3070308,"comment_id":136681902,"body_markdown":"Year 2023 update.  &quot;https://www.microsoft.com/download/details.aspx?id=14349&quot; -&gt; We&#39;re sorry, this download is no longer available.","body":"Year 2023 update.  &quot;<a href=\"https://www.microsoft.com/download/details.aspx?id=14349\" rel=\"nofollow noreferrer\">microsoft.com/download/details.aspx?id=14349</a>&quot; -&gt; We&#39;re sorry, this download is no longer available."}],"tags":[],"owner":{"account_id":11091,"reputation":99074,"user_id":21239,"accept_rate":81,"display_name":"Mauricio Scheffer"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1701422867,"creation_date":1276870259,"answer_id":3070308,"question_id":3070261,"body_markdown":"[Microsoft Java Language Conversion Assistant 3.0][1]\r\n\r\nPage has been moved to https://learn.microsoft.com/en-us/previous-versions/troubleshoot/visualstudio/language-compilers/jlca-available-download but download doesn&#39;t seem to be available any more.\r\n\r\nAnyway, it&#39;s [discontinued][2]:\r\n\r\n\r\n&gt; Retirement of J# language and Java\r\n&gt; Language Conversion Assistant from\r\n&gt; future versions of Visual Studio\r\n&gt; \r\n&gt; Since customers have told us that the\r\n&gt; existing J# feature set largely meets\r\n&gt; their needs and usage of J# is\r\n&gt; declining, Microsoft is retiring the\r\n&gt; Visual J# product and Java Language\r\n&gt; Conversion Assistant tool to better\r\n&gt; allocate resources for other customer\r\n&gt; requirements. The J# language and JLCA\r\n&gt; tool will not be available in future\r\n&gt; versions of Visual Studio. To preserve\r\n&gt; existing customer investments in J#,\r\n&gt; Microsoft will continue to support the\r\n&gt; J# and JLCA technology that shipped\r\n&gt; with Visual Studio 2005 through to\r\n&gt; 2015 as per our product life-cycle\r\n&gt; strategy.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/vjsharp/aa718346.aspx\r\n  [2]: http://msdn.microsoft.com/en-us/vjsharp/default.aspx","title":"Where is the Java Language Conversion Assistant (JLCA) 3.0?","body":"<p><a href=\"http://msdn.microsoft.com/en-us/vjsharp/aa718346.aspx\" rel=\"nofollow noreferrer\">Microsoft Java Language Conversion Assistant 3.0</a></p>\n<p>Page has been moved to <a href=\"https://learn.microsoft.com/en-us/previous-versions/troubleshoot/visualstudio/language-compilers/jlca-available-download\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/previous-versions/troubleshoot/visualstudio/language-compilers/jlca-available-download</a> but download doesn't seem to be available any more.</p>\n<p>Anyway, it's <a href=\"http://msdn.microsoft.com/en-us/vjsharp/default.aspx\" rel=\"nofollow noreferrer\">discontinued</a>:</p>\n<blockquote>\n<p>Retirement of J# language and Java\nLanguage Conversion Assistant from\nfuture versions of Visual Studio</p>\n<p>Since customers have told us that the\nexisting J# feature set largely meets\ntheir needs and usage of J# is\ndeclining, Microsoft is retiring the\nVisual J# product and Java Language\nConversion Assistant tool to better\nallocate resources for other customer\nrequirements. The J# language and JLCA\ntool will not be available in future\nversions of Visual Studio. To preserve\nexisting customer investments in J#,\nMicrosoft will continue to support the\nJ# and JLCA technology that shipped\nwith Visual Studio 2005 through to\n2015 as per our product life-cycle\nstrategy.</p>\n</blockquote>\n"}],"owner":{"account_id":57428,"reputation":39119,"user_id":172029,"accept_rate":96,"display_name":"David Pfeffer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18488,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3070308,"answer_count":1,"score":5,"last_activity_date":1701422867,"creation_date":1276869918,"question_id":3070261,"body_markdown":"Microsoft supposedly offer(ed?) something called the JLCA, which converts Java into C#. I can&#39;t find any download or anything for it. Does anyone have any information about this tool and how to use it in VS2008/2010? I can find version 2.0 but not 3.0... supposedly it came built into VS2005?","title":"Where is the Java Language Conversion Assistant (JLCA) 3.0?","body":"<p>Microsoft supposedly offer(ed?) something called the JLCA, which converts Java into C#. I can't find any download or anything for it. Does anyone have any information about this tool and how to use it in VS2008/2010? I can find version 2.0 but not 3.0... supposedly it came built into VS2005?</p>\n"},{"tags":["java","spring","spring-boot","saml"],"answers":[{"tags":[],"owner":{"account_id":18159399,"reputation":628,"user_id":13210997,"display_name":"Filip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701422715,"creation_date":1701422715,"answer_id":77584170,"question_id":77530975,"body_markdown":"I&#39;m assuming you&#39;re trying to implement SP intiated SSO flow which include request and response. It seems like you understood something wrong because `Assertion` element can&#39;t be part of `AuthnRequest` element.\r\nMinimal working example of `AuthnRequest` looks like this\r\n\r\n    &lt;samlp:AuthnRequest xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; ID=&quot;ONELOGIN_809707f0030a5d00620c9d9df97f627afe9dcc24&quot; Version=&quot;2.0&quot; ProviderName=&quot;SP test&quot; IssueInstant=&quot;2014-07-16T23:52:45Z&quot; Destination=&quot;http://idp.example.com/SSOService.php&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceURL=&quot;http://sp.example.com/demo1/index.php?acs&quot;&gt;\r\n      &lt;saml:Issuer&gt;http://sp.example.com/demo1/metadata.php&lt;/saml:Issuer&gt;\r\n      &lt;samlp:NameIDPolicy Format=&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot; AllowCreate=&quot;true&quot;/&gt;\r\n      &lt;samlp:RequestedAuthnContext Comparison=&quot;exact&quot;&gt;\r\n        &lt;saml:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport&lt;/saml:AuthnContextClassRef&gt;\r\n      &lt;/samlp:RequestedAuthnContext&gt;\r\n    &lt;/samlp:AuthnRequest&gt;\r\n\r\n`Assertion` element is actually part of `Response` element that you&#39;re going to receive from identity provider. Example of response looks something like this\r\n\r\n    &lt;samlp:Response xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; ID=&quot;_8e8dc5f69a98cc4c1ff3427e5ce34606fd672f91e6&quot; Version=&quot;2.0&quot; IssueInstant=&quot;2014-07-17T01:01:48Z&quot; Destination=&quot;http://sp.example.com/demo1/index.php?acs&quot; InResponseTo=&quot;ONELOGIN_4fee3b046395c4e751011e97f8900b5273d56685&quot;&gt;\r\n      &lt;saml:Issuer&gt;http://idp.example.com/metadata.php&lt;/saml:Issuer&gt;\r\n      &lt;samlp:Status&gt;\r\n        &lt;samlp:StatusCode Value=&quot;urn:oasis:names:tc:SAML:2.0:status:Success&quot;/&gt;\r\n      &lt;/samlp:Status&gt;\r\n      &lt;saml:Assertion xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; ID=&quot;_d71a3a8e9fcc45c9e9d248ef7049393fc8f04e5f75&quot; Version=&quot;2.0&quot; IssueInstant=&quot;2014-07-17T01:01:48Z&quot;&gt;\r\n        &lt;saml:Issuer&gt;http://idp.example.com/metadata.php&lt;/saml:Issuer&gt;\r\n        &lt;saml:Subject&gt;\r\n          &lt;saml:NameID SPNameQualifier=&quot;http://sp.example.com/demo1/metadata.php&quot; Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&quot;&gt;_ce3d2948b4cf20146dee0a0b3dd6f69b6cf86f62d7&lt;/saml:NameID&gt;\r\n          &lt;saml:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot;&gt;\r\n            &lt;saml:SubjectConfirmationData NotOnOrAfter=&quot;2024-01-18T06:21:48Z&quot; Recipient=&quot;http://sp.example.com/demo1/index.php?acs&quot; InResponseTo=&quot;ONELOGIN_4fee3b046395c4e751011e97f8900b5273d56685&quot;/&gt;\r\n          &lt;/saml:SubjectConfirmation&gt;\r\n        &lt;/saml:Subject&gt;\r\n        &lt;saml:Conditions NotBefore=&quot;2014-07-17T01:01:18Z&quot; NotOnOrAfter=&quot;2024-01-18T06:21:48Z&quot;&gt;\r\n          &lt;saml:AudienceRestriction&gt;\r\n            &lt;saml:Audience&gt;http://sp.example.com/demo1/metadata.php&lt;/saml:Audience&gt;\r\n          &lt;/saml:AudienceRestriction&gt;\r\n        &lt;/saml:Conditions&gt;\r\n        &lt;saml:AuthnStatement AuthnInstant=&quot;2014-07-17T01:01:48Z&quot; SessionNotOnOrAfter=&quot;2024-07-17T09:01:48Z&quot; SessionIndex=&quot;_be9967abd904ddcae3c0eb4189adbe3f71e327cf93&quot;&gt;\r\n          &lt;saml:AuthnContext&gt;\r\n            &lt;saml:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:Password&lt;/saml:AuthnContextClassRef&gt;\r\n          &lt;/saml:AuthnContext&gt;\r\n        &lt;/saml:AuthnStatement&gt;\r\n        &lt;saml:AttributeStatement&gt;\r\n          &lt;saml:Attribute Name=&quot;uid&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\r\n            &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;test&lt;/saml:AttributeValue&gt;\r\n          &lt;/saml:Attribute&gt;\r\n          &lt;saml:Attribute Name=&quot;mail&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\r\n            &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;test@example.com&lt;/saml:AttributeValue&gt;\r\n          &lt;/saml:Attribute&gt;\r\n          &lt;saml:Attribute Name=&quot;eduPersonAffiliation&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\r\n            &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;users&lt;/saml:AttributeValue&gt;\r\n            &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;examplerole1&lt;/saml:AttributeValue&gt;\r\n          &lt;/saml:Attribute&gt;\r\n        &lt;/saml:AttributeStatement&gt;\r\n      &lt;/saml:Assertion&gt;\r\n    &lt;/samlp:Response&gt;\r\n\r\nNotice `Assertion` element here, it contains all the important data. Users `NameID` depending on the identity provider configuration, conditions under which this response is issued and SAML attributes.\r\n\r\nLet me know if this helps you.","title":"How can i use assertion in Saml Request?","body":"<p>I'm assuming you're trying to implement SP intiated SSO flow which include request and response. It seems like you understood something wrong because <code>Assertion</code> element can't be part of <code>AuthnRequest</code> element.\nMinimal working example of <code>AuthnRequest</code> looks like this</p>\n<pre><code>&lt;samlp:AuthnRequest xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; ID=&quot;ONELOGIN_809707f0030a5d00620c9d9df97f627afe9dcc24&quot; Version=&quot;2.0&quot; ProviderName=&quot;SP test&quot; IssueInstant=&quot;2014-07-16T23:52:45Z&quot; Destination=&quot;http://idp.example.com/SSOService.php&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceURL=&quot;http://sp.example.com/demo1/index.php?acs&quot;&gt;\n  &lt;saml:Issuer&gt;http://sp.example.com/demo1/metadata.php&lt;/saml:Issuer&gt;\n  &lt;samlp:NameIDPolicy Format=&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot; AllowCreate=&quot;true&quot;/&gt;\n  &lt;samlp:RequestedAuthnContext Comparison=&quot;exact&quot;&gt;\n    &lt;saml:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport&lt;/saml:AuthnContextClassRef&gt;\n  &lt;/samlp:RequestedAuthnContext&gt;\n&lt;/samlp:AuthnRequest&gt;\n</code></pre>\n<p><code>Assertion</code> element is actually part of <code>Response</code> element that you're going to receive from identity provider. Example of response looks something like this</p>\n<pre><code>&lt;samlp:Response xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; ID=&quot;_8e8dc5f69a98cc4c1ff3427e5ce34606fd672f91e6&quot; Version=&quot;2.0&quot; IssueInstant=&quot;2014-07-17T01:01:48Z&quot; Destination=&quot;http://sp.example.com/demo1/index.php?acs&quot; InResponseTo=&quot;ONELOGIN_4fee3b046395c4e751011e97f8900b5273d56685&quot;&gt;\n  &lt;saml:Issuer&gt;http://idp.example.com/metadata.php&lt;/saml:Issuer&gt;\n  &lt;samlp:Status&gt;\n    &lt;samlp:StatusCode Value=&quot;urn:oasis:names:tc:SAML:2.0:status:Success&quot;/&gt;\n  &lt;/samlp:Status&gt;\n  &lt;saml:Assertion xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; ID=&quot;_d71a3a8e9fcc45c9e9d248ef7049393fc8f04e5f75&quot; Version=&quot;2.0&quot; IssueInstant=&quot;2014-07-17T01:01:48Z&quot;&gt;\n    &lt;saml:Issuer&gt;http://idp.example.com/metadata.php&lt;/saml:Issuer&gt;\n    &lt;saml:Subject&gt;\n      &lt;saml:NameID SPNameQualifier=&quot;http://sp.example.com/demo1/metadata.php&quot; Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&quot;&gt;_ce3d2948b4cf20146dee0a0b3dd6f69b6cf86f62d7&lt;/saml:NameID&gt;\n      &lt;saml:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot;&gt;\n        &lt;saml:SubjectConfirmationData NotOnOrAfter=&quot;2024-01-18T06:21:48Z&quot; Recipient=&quot;http://sp.example.com/demo1/index.php?acs&quot; InResponseTo=&quot;ONELOGIN_4fee3b046395c4e751011e97f8900b5273d56685&quot;/&gt;\n      &lt;/saml:SubjectConfirmation&gt;\n    &lt;/saml:Subject&gt;\n    &lt;saml:Conditions NotBefore=&quot;2014-07-17T01:01:18Z&quot; NotOnOrAfter=&quot;2024-01-18T06:21:48Z&quot;&gt;\n      &lt;saml:AudienceRestriction&gt;\n        &lt;saml:Audience&gt;http://sp.example.com/demo1/metadata.php&lt;/saml:Audience&gt;\n      &lt;/saml:AudienceRestriction&gt;\n    &lt;/saml:Conditions&gt;\n    &lt;saml:AuthnStatement AuthnInstant=&quot;2014-07-17T01:01:48Z&quot; SessionNotOnOrAfter=&quot;2024-07-17T09:01:48Z&quot; SessionIndex=&quot;_be9967abd904ddcae3c0eb4189adbe3f71e327cf93&quot;&gt;\n      &lt;saml:AuthnContext&gt;\n        &lt;saml:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:Password&lt;/saml:AuthnContextClassRef&gt;\n      &lt;/saml:AuthnContext&gt;\n    &lt;/saml:AuthnStatement&gt;\n    &lt;saml:AttributeStatement&gt;\n      &lt;saml:Attribute Name=&quot;uid&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\n        &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;test&lt;/saml:AttributeValue&gt;\n      &lt;/saml:Attribute&gt;\n      &lt;saml:Attribute Name=&quot;mail&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\n        &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;test@example.com&lt;/saml:AttributeValue&gt;\n      &lt;/saml:Attribute&gt;\n      &lt;saml:Attribute Name=&quot;eduPersonAffiliation&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\n        &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;users&lt;/saml:AttributeValue&gt;\n        &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;examplerole1&lt;/saml:AttributeValue&gt;\n      &lt;/saml:Attribute&gt;\n    &lt;/saml:AttributeStatement&gt;\n  &lt;/saml:Assertion&gt;\n&lt;/samlp:Response&gt;\n</code></pre>\n<p>Notice <code>Assertion</code> element here, it contains all the important data. Users <code>NameID</code> depending on the identity provider configuration, conditions under which this response is issued and SAML attributes.</p>\n<p>Let me know if this helps you.</p>\n"}],"owner":{"account_id":29967174,"reputation":1,"user_id":22965481,"display_name":"Luca Rossi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701422715,"creation_date":1700664949,"question_id":77530975,"body_markdown":"I have implemented a Service Provider (SP) with Spring Boot and would like to generate a saml request like this:\r\n\r\n```\r\n&lt;saml:Assertion Version=&quot;2.0&quot; ID=&quot;_e2294424-9055-4b32-ac27-39c1c53f66e7&quot; IssueInstant=&quot;2023-08-03T09:09:30.036Z&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;&gt;\r\n    &lt;samlp:AuthnRequest Version=&quot;2.0&quot; IssueInstant=&quot;2023-08-03T09:09:30.036Z&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceURL=..... xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; /&gt;\r\n    &lt;saml2:Issuer xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\r\n                      Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;\r\n                      &gt;.....\r\n    &lt;/saml2:Issuer&gt;\r\n    &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;..&lt;/ds:Signature&gt;\r\n&lt;/saml:Assertion&gt;\r\n```\r\nhow can i configure spring security to obtain this saml request?\r\n\r\n\r\n\r\nI currently get the following request, but I cannot insert the Assertion tag:\r\n```\r\n&lt;samlp:AuthnRequest Version=&quot;2.0&quot; IssueInstant=&quot;2023-08-03T09:09:30.036Z&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceURL=..... xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; /&gt;\r\n     &lt;saml2:Issuer xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\r\n              Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;\r\n             &gt;......\r\n     &lt;/saml2:Issuer&gt;\r\n     &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;..&lt;/ds:Signature&gt;\r\n&lt;/samlp:AuthnRequest&gt;\r\n```","title":"How can i use assertion in Saml Request?","body":"<p>I have implemented a Service Provider (SP) with Spring Boot and would like to generate a saml request like this:</p>\n<pre><code>&lt;saml:Assertion Version=&quot;2.0&quot; ID=&quot;_e2294424-9055-4b32-ac27-39c1c53f66e7&quot; IssueInstant=&quot;2023-08-03T09:09:30.036Z&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;&gt;\n    &lt;samlp:AuthnRequest Version=&quot;2.0&quot; IssueInstant=&quot;2023-08-03T09:09:30.036Z&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceURL=..... xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; /&gt;\n    &lt;saml2:Issuer xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\n                      Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;\n                      &gt;.....\n    &lt;/saml2:Issuer&gt;\n    &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;..&lt;/ds:Signature&gt;\n&lt;/saml:Assertion&gt;\n</code></pre>\n<p>how can i configure spring security to obtain this saml request?</p>\n<p>I currently get the following request, but I cannot insert the Assertion tag:</p>\n<pre><code>&lt;samlp:AuthnRequest Version=&quot;2.0&quot; IssueInstant=&quot;2023-08-03T09:09:30.036Z&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceURL=..... xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; /&gt;\n     &lt;saml2:Issuer xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\n              Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;\n             &gt;......\n     &lt;/saml2:Issuer&gt;\n     &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;..&lt;/ds:Signature&gt;\n&lt;/samlp:AuthnRequest&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701279872,"creation_date":1701279872,"answer_id":77573428,"question_id":77570517,"body_markdown":"There&#39;s no test variant of `RestClient`. [This Spring Framework issue](https://github.com/spring-projects/spring-framework/issues/31275) is tracking a `RestClient` equivalent of `WebClient`&#39;s `WebTestClient`.","title":"Does the new RestClient introduced in Spring Framework 6.1 have a variant suitable for testing like RestTemplate had with TestRestTemplate?","body":"<p>There's no test variant of <code>RestClient</code>. <a href=\"https://github.com/spring-projects/spring-framework/issues/31275\" rel=\"nofollow noreferrer\">This Spring Framework issue</a> is tracking a <code>RestClient</code> equivalent of <code>WebClient</code>'s <code>WebTestClient</code>.</p>\n"}],"owner":{"account_id":4240367,"reputation":422,"user_id":3470438,"accept_rate":75,"display_name":"wimdetr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77573428,"answer_count":1,"score":2,"last_activity_date":1701422203,"creation_date":1701255275,"question_id":77570517,"body_markdown":"In spring framework 6.1, a new synchronous HTTP client `RestClient` was introduced. See also:\r\n\r\nhttps://github.com/spring-projects/spring-framework/issues/29552\r\n\r\nIt aims to replace the existing `RestTemplate`.\r\n\r\nIn Spring Boot, there was a `TestRestTemplate` which could be used for integration tests. See also:\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.utilities.test-rest-template\r\n\r\nHowever, I could not find any mention of a variant for `RestClient`. What is the recommended way to do integration testing using `RestClient` ?","title":"Does the new RestClient introduced in Spring Framework 6.1 have a variant suitable for testing like RestTemplate had with TestRestTemplate?","body":"<p>In spring framework 6.1, a new synchronous HTTP client <code>RestClient</code> was introduced. See also:</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/issues/29552\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/29552</a></p>\n<p>It aims to replace the existing <code>RestTemplate</code>.</p>\n<p>In Spring Boot, there was a <code>TestRestTemplate</code> which could be used for integration tests. See also:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.utilities.test-rest-template\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.utilities.test-rest-template</a></p>\n<p>However, I could not find any mention of a variant for <code>RestClient</code>. What is the recommended way to do integration testing using <code>RestClient</code> ?</p>\n"},{"tags":["java","spring","hibernate","jsp","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":929110,"reputation":5383,"user_id":959321,"accept_rate":94,"display_name":"Eugene"},"score":42,"creation_date":1343762128,"post_id":11746720,"comment_id":15593329,"body_markdown":"Sorry, but i&#39;d like to use lazy-load. So, I&#39;ve changed the &#39;LinkedHashSet&#39; type t the &#39;PersistentList&#39;.  Exception still occurs","body":"Sorry, but i&#39;d like to use lazy-load. So, I&#39;ve changed the &#39;LinkedHashSet&#39; type t the &#39;PersistentList&#39;.  Exception still occurs"},{"owner":{"account_id":929110,"reputation":5383,"user_id":959321,"accept_rate":94,"display_name":"Eugene"},"score":0,"creation_date":1346356125,"post_id":11746720,"comment_id":16345900,"body_markdown":"I&#39;ve changed my mind. It works nice for the well-mapped tutorial project. Thanks )","body":"I&#39;ve changed my mind. It works nice for the well-mapped tutorial project. Thanks )"},{"owner":{"account_id":254254,"reputation":89,"user_id":533525,"display_name":"Dkyc"},"score":293,"creation_date":1413806394,"post_id":11746720,"comment_id":41568271,"body_markdown":"This could be used as a workaround, but not an actual solution to the problem. What if we need to fetch lazily?","body":"This could be used as a workaround, but not an actual solution to the problem. What if we need to fetch lazily?"},{"owner":{"account_id":403774,"reputation":553,"user_id":771722,"accept_rate":52,"display_name":"Egidio Caprino"},"score":1,"creation_date":1427569326,"post_id":11746720,"comment_id":46833871,"body_markdown":"Is it possible to load them lazy, without that Exception?","body":"Is it possible to load them lazy, without that Exception?"},{"owner":{"account_id":83160,"reputation":5081,"user_id":233347,"accept_rate":87,"display_name":"prashant thakre"},"score":16,"creation_date":1430933798,"post_id":11746720,"comment_id":48280636,"body_markdown":"but in case if we want lazy then this solution will not work and most of the cases we want lazy only.","body":"but in case if we want lazy then this solution will not work and most of the cases we want lazy only."},{"owner":{"account_id":26594,"reputation":13012,"user_id":69352,"display_name":"darrengorman"},"score":2,"creation_date":1431109839,"post_id":11746720,"comment_id":48371085,"body_markdown":"@prashantthakre clearly it won&#39;t work if you want lazy-loading, the whole point of this answer is that it loads the objects eagerly","body":"@prashantthakre clearly it won&#39;t work if you want lazy-loading, the whole point of this answer is that it loads the objects eagerly"},{"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"score":1,"creation_date":1445448104,"post_id":11746720,"comment_id":54332095,"body_markdown":"@darrengorman Thanks but such fix for ManyToMany to give error - &#39;Caused by: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags&#39;","body":"@darrengorman Thanks but such fix for ManyToMany to give error - &#39;Caused by: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags&#39;"},{"owner":{"account_id":5399275,"reputation":16206,"user_id":4299560,"accept_rate":90,"display_name":"Ced"},"score":160,"creation_date":1467225288,"post_id":11746720,"comment_id":63648767,"body_markdown":"This is the type of answer that pops up everywhere on stack overflow. Short, to the point, solves the problem and MISLEADING. To future readers, do yourself a favor and learn what exactly is lazy and eagerly fetched, and understand the consequences.","body":"This is the type of answer that pops up everywhere on stack overflow. Short, to the point, solves the problem and MISLEADING. To future readers, do yourself a favor and learn what exactly is lazy and eagerly fetched, and understand the consequences."},{"owner":{"account_id":26594,"reputation":13012,"user_id":69352,"display_name":"darrengorman"},"score":2,"creation_date":1467278268,"post_id":11746720,"comment_id":63669759,"body_markdown":"@Ced in what way does the answer mislead? It clearly states that this is only a solution *if* the collection is to be loaded every time. Initially the OP stated they&#39;d like to lazily fetch, but then changed their mind and accepted the answer. The answer even links to a concise explanation of the differences between the two strategies. I provided a possible solution, but never claimed it was the only one.","body":"@Ced in what way does the answer mislead? It clearly states that this is only a solution <i>if</i> the collection is to be loaded every time. Initially the OP stated they&#39;d like to lazily fetch, but then changed their mind and accepted the answer. The answer even links to a concise explanation of the differences between the two strategies. I provided a possible solution, but never claimed it was the only one."},{"owner":{"account_id":5399275,"reputation":16206,"user_id":4299560,"accept_rate":90,"display_name":"Ced"},"score":20,"creation_date":1467300104,"post_id":11746720,"comment_id":63685859,"body_markdown":"@darrengorman  When I started JPA I posted a question around the lines of OP&#39;s one. I received the same response as you gave. Soon enough when I ran some test with hundreds of thousands of row, guess what happened ? I think it is misleading because it provides too simple of an answer for a problem that mostly beginners will face and soon enough they will have their whole database loaded in memory if they are not careful (and they won&#39;t, because they won&#39;t be aware of it) :).","body":"@darrengorman  When I started JPA I posted a question around the lines of OP&#39;s one. I received the same response as you gave. Soon enough when I ran some test with hundreds of thousands of row, guess what happened ? I think it is misleading because it provides too simple of an answer for a problem that mostly beginners will face and soon enough they will have their whole database loaded in memory if they are not careful (and they won&#39;t, because they won&#39;t be aware of it) :)."},{"owner":{"account_id":1865925,"reputation":393,"user_id":1689494,"display_name":"Ishara Samantha"},"score":0,"creation_date":1479710585,"post_id":11746720,"comment_id":68655978,"body_markdown":"Loading with eager may return duplicate result due to join query, To avoid this add @Fetch(FetchMode.SUBSELECT)","body":"Loading with eager may return duplicate result due to join query, To avoid this add @Fetch(FetchMode.SUBSELECT)"},{"owner":{"account_id":2932312,"reputation":1029,"user_id":2766687,"display_name":"Bruno Morais"},"score":0,"creation_date":1487769349,"post_id":11746720,"comment_id":71932518,"body_markdown":"In my case, the &quot;fetch = FetchType.EAGER&quot; was enouth.","body":"In my case, the &quot;fetch = FetchType.EAGER&quot; was enouth."},{"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"score":0,"creation_date":1516106089,"post_id":11746720,"comment_id":83546214,"body_markdown":"Setting @JsonIgnore annotation do the job for me.","body":"Setting @JsonIgnore annotation do the job for me."},{"owner":{"account_id":1180130,"reputation":486,"user_id":1155223,"display_name":"Henry"},"score":2,"creation_date":1517368589,"post_id":11746720,"comment_id":84063328,"body_markdown":"This isn&#39;t actually a solution to the question, it&#39;s just changing to use eager loading, which might not actually be appropriate in many cases.","body":"This isn&#39;t actually a solution to the question, it&#39;s just changing to use eager loading, which might not actually be appropriate in many cases."},{"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1518593085,"post_id":11746720,"comment_id":84564711,"body_markdown":"The solution is not correct. We need lazy loading most of the time. It will never cover all scenarios.","body":"The solution is not correct. We need lazy loading most of the time. It will never cover all scenarios."},{"owner":{"account_id":6783269,"reputation":588,"user_id":5222829,"accept_rate":79,"display_name":"Manjunath M"},"score":7,"creation_date":1521522979,"post_id":11746720,"comment_id":85754322,"body_markdown":"How can i solve this with out changing fetch type to EAGER","body":"How can i solve this with out changing fetch type to EAGER"},{"owner":{"account_id":1902639,"reputation":333,"user_id":1718169,"display_name":"Achilles929"},"score":2,"creation_date":1559853931,"post_id":11746720,"comment_id":99559909,"body_markdown":"How is this the top/accepted answer? Clearly people come to this to find out how to solve the lazy load exception. The solution isn&#39;t to switch to use eager loading...","body":"How is this the top/accepted answer? Clearly people come to this to find out how to solve the lazy load exception. The solution isn&#39;t to switch to use eager loading..."},{"owner":{"account_id":1913747,"reputation":857,"user_id":1726847,"accept_rate":80,"display_name":"amarVashishth"},"score":0,"creation_date":1573425445,"post_id":11746720,"comment_id":103868754,"body_markdown":"Difference between FetchType LAZY and EAGER?\nhttps://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api","body":"Difference between FetchType LAZY and EAGER? <a href=\"https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api\" title=\"difference between fetchtype lazy and eager in java persistence api\">stackoverflow.com/questions/2990799/&hellip;</a>"},{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":2,"creation_date":1576232659,"post_id":11746720,"comment_id":104841200,"body_markdown":"This shoudnt be accepted since it&#39;s misleading. Suggest enabling EAGER load without further thinking could create big other problems in the future. Is a crappy solution.","body":"This shoudnt be accepted since it&#39;s misleading. Suggest enabling EAGER load without further thinking could create big other problems in the future. Is a crappy solution."},{"owner":{"account_id":26594,"reputation":13012,"user_id":69352,"display_name":"darrengorman"},"score":2,"creation_date":1576447650,"post_id":11746720,"comment_id":104892928,"body_markdown":"@Rafael doing anything in software development without further thinking could create problems in the future. 7.5 years after I answered this question your comment doesn&#39;t add any value.","body":"@Rafael doing anything in software development without further thinking could create problems in the future. 7.5 years after I answered this question your comment doesn&#39;t add any value."},{"owner":{"account_id":4858810,"reputation":7529,"user_id":3919088,"accept_rate":67,"display_name":"Plaul"},"score":0,"creation_date":1676208132,"post_id":11746720,"comment_id":133087219,"body_markdown":"Wonder why this got so many likes. It removes the exception, but there is a VERY GOOD reason for why FeatchType.LAZY is the default value for @OneToMany.\nWith this reply, you could just as well UN-invent FetchType.LAZY","body":"Wonder why this got so many likes. It removes the exception, but there is a VERY GOOD reason for why FeatchType.LAZY is the default value for @OneToMany. With this reply, you could just as well UN-invent FetchType.LAZY"}],"tags":[],"owner":{"account_id":26594,"reputation":13012,"user_id":69352,"display_name":"darrengorman"},"comment_count":21,"down_vote_count":91,"up_vote_count":341,"is_accepted":true,"score":250,"last_activity_date":1343759588,"creation_date":1343759588,"answer_id":11746720,"question_id":11746499,"body_markdown":"If you know that you&#39;ll want to see all `Comment`s every time you retrieve a `Topic` then change your field mapping for `comments` to:\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;topic&quot;, cascade = CascadeType.ALL)\r\n    private Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\r\n\r\nCollections are lazy-loaded by default, take a look at [this](https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence) if you want to know more.","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>If you know that you'll want to see all <code>Comment</code>s every time you retrieve a <code>Topic</code> then change your field mapping for <code>comments</code> to:</p>\n\n<pre><code>@OneToMany(fetch = FetchType.EAGER, mappedBy = \"topic\", cascade = CascadeType.ALL)\nprivate Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\n</code></pre>\n\n<p>Collections are lazy-loaded by default, take a look at <a href=\"https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence\">this</a> if you want to know more.</p>\n"},{"tags":[],"owner":{"account_id":427405,"reputation":3877,"user_id":809152,"accept_rate":89,"display_name":"Avihai Marchiano"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1508844270,"creation_date":1343765516,"answer_id":11748194,"question_id":11746499,"body_markdown":"your list is lazy loading, so the list wasn&#39;t loaded.\r\ncall to get on the list is not enough.\r\nuse in Hibernate.initialize in order to init the list.\r\nIf dosnt work run on the list element and call Hibernate.initialize for each .\r\nthis need to be before you return from the transaction scope.\r\nlook at [this][1] post.  \r\nsearch for  - \r\n\r\n    Node n = // .. get the node\r\n    Hibernate.initialize(n); // initializes &#39;parent&#39; similar to getParent.\r\n    Hibernate.initialize(n.getChildren()); // pass the lazy collection into the session \r\n\r\n\r\n  [1]: http://www.javalobby.org/java/forums/t20533.html","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>your list is lazy loading, so the list wasn't loaded.\ncall to get on the list is not enough.\nuse in Hibernate.initialize in order to init the list.\nIf dosnt work run on the list element and call Hibernate.initialize for each .\nthis need to be before you return from the transaction scope.\nlook at <a href=\"http://www.javalobby.org/java/forums/t20533.html\" rel=\"nofollow noreferrer\">this</a> post.<br>\nsearch for  - </p>\n\n<pre><code>Node n = // .. get the node\nHibernate.initialize(n); // initializes 'parent' similar to getParent.\nHibernate.initialize(n.getChildren()); // pass the lazy collection into the session \n</code></pre>\n"},{"tags":[],"owner":{"account_id":114647,"reputation":2910,"user_id":301379,"display_name":"GMK"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1343929640,"creation_date":1343765603,"answer_id":11748226,"question_id":11746499,"body_markdown":"In order to lazy load a collection there must be an active session.  In a web app there are two ways to do this.  You can use the [Open Session In View][1] pattern, where you use an [interceptor][2] to open the session at the beginning of the request and close it at the end.  The risk there is that you have to have solid exception handling or you could bind up all your sessions and your app could hang.  \r\n\r\nThe other way to handle this is to collect all the data you need in your controller, close your session, and then stuff the data into your model.  I personally prefer this approach, as it seems a little closer to the spirit of the MVC pattern.  Also if you get an error from the database this way you can handle it a lot better than if it happens in your view renderer.  Your friend in this scenario is [Hibernate.initialize][3](myTopic.getComments()).  You will also have to reattach the object to the session, since you&#39;re creating a new transaction with every request.  Use session.lock(myTopic,LockMode.NONE) for that.\r\n\r\n\r\n  [1]: https://community.jboss.org/wiki/OpenSessionInView?_sscc=t\r\n  [2]: http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/orm/hibernate3/support/OpenSessionInViewInterceptor.html\r\n  [3]: http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching-initialization","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>In order to lazy load a collection there must be an active session.  In a web app there are two ways to do this.  You can use the <a href=\"https://community.jboss.org/wiki/OpenSessionInView?_sscc=t\" rel=\"noreferrer\">Open Session In View</a> pattern, where you use an <a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/orm/hibernate3/support/OpenSessionInViewInterceptor.html\" rel=\"noreferrer\">interceptor</a> to open the session at the beginning of the request and close it at the end.  The risk there is that you have to have solid exception handling or you could bind up all your sessions and your app could hang.  </p>\n\n<p>The other way to handle this is to collect all the data you need in your controller, close your session, and then stuff the data into your model.  I personally prefer this approach, as it seems a little closer to the spirit of the MVC pattern.  Also if you get an error from the database this way you can handle it a lot better than if it happens in your view renderer.  Your friend in this scenario is <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching-initialization\" rel=\"noreferrer\">Hibernate.initialize</a>(myTopic.getComments()).  You will also have to reattach the object to the session, since you're creating a new transaction with every request.  Use session.lock(myTopic,LockMode.NONE) for that.</p>\n"},{"comments":[{"owner":{"account_id":1381366,"reputation":7048,"user_id":1314276,"accept_rate":78,"display_name":"Leonel Sanches da Silva"},"score":5,"creation_date":1378351771,"post_id":11754441,"comment_id":27422111,"body_markdown":"(1) worked for me perfectly. My case: Hibernate.initialize(registry.getVehicle().getOwner().getPerson().getAddress());","body":"(1) worked for me perfectly. My case: Hibernate.initialize(registry.getVehicle().getOwner().getPer&zwnj;&#8203;son().getAddress());"},{"owner":{"account_id":74360,"reputation":3280,"user_id":213717,"accept_rate":94,"display_name":"marionmaiden"},"score":7,"creation_date":1456424817,"post_id":11754441,"comment_id":58952208,"body_markdown":"It seems that Hibernate.initialize doesn&#39;t work with EntityManager","body":"It seems that Hibernate.initialize doesn&#39;t work with EntityManager"},{"owner":{"account_id":3193373,"reputation":3418,"user_id":2697145,"accept_rate":75,"display_name":"Steve Waters"},"score":9,"creation_date":1487228848,"post_id":11754441,"comment_id":71690730,"body_markdown":"This should be the correct answer. For example in my project at work we are explicitly not supposed to use EAGER fetching. It causes problems in this particular system.","body":"This should be the correct answer. For example in my project at work we are explicitly not supposed to use EAGER fetching. It causes problems in this particular system."},{"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"score":1,"creation_date":1536831249,"post_id":11754441,"comment_id":91568529,"body_markdown":"Seems attractive but lack of documentation to implement in another case... could you please provide some more links or explanation on how to implement this solution?","body":"Seems attractive but lack of documentation to implement in another case... could you please provide some more links or explanation on how to implement this solution?"}],"tags":[],"owner":{"account_id":1476033,"reputation":2433,"user_id":1386396,"display_name":"Boris"},"comment_count":4,"down_vote_count":3,"up_vote_count":219,"is_accepted":false,"score":216,"last_activity_date":1701270956,"creation_date":1343805967,"answer_id":11754441,"question_id":11746499,"body_markdown":"From my experience, I have the following methods to solve the famous `LazyInitializationException`:\r\n\r\n**(1) Use Hibernate.initialize**\r\n\r\n    Hibernate.initialize(topics.getComments());\r\n\r\n\r\n**(2) Use JOIN FETCH**\r\n\r\nYou can use the `JOIN FETCH` syntax in your JPQL to explicitly fetch the child collection out. This is somehow like `EAGER` fetching.\r\n\r\n\r\n\r\n**(3) Use OpenSessionInViewFilter**\r\n\r\n`LazyInitializationException` often occurs in the view layer. If you use Spring framework, you can use `OpenSessionInViewFilter`. However, I do not suggest you to do so. It may lead to performance issues if not used correctly.\r\n\r\n\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>From my experience, I have the following methods to solve the famous <code>LazyInitializationException</code>:</p>\n<p><strong>(1) Use Hibernate.initialize</strong></p>\n<pre><code>Hibernate.initialize(topics.getComments());\n</code></pre>\n<p><strong>(2) Use JOIN FETCH</strong></p>\n<p>You can use the <code>JOIN FETCH</code> syntax in your JPQL to explicitly fetch the child collection out. This is somehow like <code>EAGER</code> fetching.</p>\n<p><strong>(3) Use OpenSessionInViewFilter</strong></p>\n<p><code>LazyInitializationException</code> often occurs in the view layer. If you use Spring framework, you can use <code>OpenSessionInViewFilter</code>. However, I do not suggest you to do so. It may lead to performance issues if not used correctly.</p>\n"},{"tags":[],"owner":{"account_id":3387170,"reputation":4027,"user_id":2842896,"accept_rate":50,"display_name":"tolgayilmaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1383837777,"creation_date":1383837777,"answer_id":19839721,"question_id":11746499,"body_markdown":"it was the problem i recently faced which i solved with using \r\n\r\n    &lt;f:attribute name=&quot;collectionType&quot; value=&quot;java.util.ArrayList&quot; /&gt;\r\n\r\nmore detailed decription [here][1] and this saved my day.\r\n\r\n\r\n  [1]: http://blog.itcrowd.pl/2013/02/jsf-manytomany-and-lazyinitializationex.html","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>it was the problem i recently faced which i solved with using </p>\n\n<pre><code>&lt;f:attribute name=\"collectionType\" value=\"java.util.ArrayList\" /&gt;\n</code></pre>\n\n<p>more detailed decription <a href=\"http://blog.itcrowd.pl/2013/02/jsf-manytomany-and-lazyinitializationex.html\" rel=\"noreferrer\">here</a> and this saved my day.</p>\n"},{"comments":[{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":3,"creation_date":1576232818,"post_id":27287313,"comment_id":104841279,"body_markdown":"... and yet both solutions are not good. Suggest using EAGER can create huge problems. Using OpenSessionInViewFilter is an anti-pattern.","body":"... and yet both solutions are not good. Suggest using EAGER can create huge problems. Using OpenSessionInViewFilter is an anti-pattern."}],"tags":[],"owner":{"account_id":2022605,"reputation":3327,"user_id":1808417,"display_name":"saneryee"},"comment_count":1,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1508843377,"creation_date":1417672743,"answer_id":27287313,"question_id":11746499,"body_markdown":"The reason is that when you use lazy load, the session is closed.\r\n\r\nThere are two solutions.\r\n\r\n1. Don&#39;t use lazy load.\r\n\r\n   Set `lazy=false` in XML or Set `@OneToMany(fetch = FetchType.EAGER)` In annotation.\r\n\r\n2. Use lazy load. \r\n\r\n   Set `lazy=true` in XML or Set `@OneToMany(fetch = FetchType.LAZY)` In annotation.\r\n   \r\n   and add `OpenSessionInViewFilter filter` in your `web.xml`\r\n\r\n\r\nDetail See my [POST][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27286187/1808417","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>The reason is that when you use lazy load, the session is closed.</p>\n\n<p>There are two solutions.</p>\n\n<ol>\n<li><p>Don't use lazy load.</p>\n\n<p>Set <code>lazy=false</code> in XML or Set <code>@OneToMany(fetch = FetchType.EAGER)</code> In annotation.</p></li>\n<li><p>Use lazy load. </p>\n\n<p>Set <code>lazy=true</code> in XML or Set <code>@OneToMany(fetch = FetchType.LAZY)</code> In annotation.</p>\n\n<p>and add <code>OpenSessionInViewFilter filter</code> in your <code>web.xml</code></p></li>\n</ol>\n\n<p>Detail See my <a href=\"https://stackoverflow.com/a/27286187/1808417\">POST</a>.</p>\n"},{"comments":[{"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"score":3,"creation_date":1485526384,"post_id":31024098,"comment_id":70973940,"body_markdown":"Hi, be careful with such changes. TRANSACTION scoped persistence context creation is lazy, which was the OP intent. So the question is whether you want to be stateless or not. This setting is dependent on the purpose of the system and shouldn&#39;t be changed too... eagerly. If you know what I mean. Read here http://stackoverflow.com/questions/2547817/what-is-the-difference-between-transaction-scoped-persistence-context-and-extend","body":"Hi, be careful with such changes. TRANSACTION scoped persistence context creation is lazy, which was the OP intent. So the question is whether you want to be stateless or not. This setting is dependent on the purpose of the system and shouldn&#39;t be changed too... eagerly. If you know what I mean. Read here <a href=\"http://stackoverflow.com/questions/2547817/what-is-the-difference-between-transaction-scoped-persistence-context-and-extend\" title=\"what is the difference between transaction scoped persistence context and extend\">stackoverflow.com/questions/2547817/&hellip;</a>"},{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":0,"creation_date":1576233240,"post_id":31024098,"comment_id":104841489,"body_markdown":"Dangerous. This is not the correct answer. There are others above much more accurate and safe.","body":"Dangerous. This is not the correct answer. There are others above much more accurate and safe."}],"tags":[],"owner":{"account_id":6519430,"reputation":127,"user_id":5044134,"display_name":"Elcin ABD"},"comment_count":2,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1442409732,"creation_date":1435141469,"answer_id":31024098,"question_id":11746499,"body_markdown":"I found out that declaring `@PersistenceContext` as `EXTENDED` also solves this problem:\r\n\r\n    @PersistenceContext(type = PersistenceContextType.EXTENDED)","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>I found out that declaring <code>@PersistenceContext</code> as <code>EXTENDED</code> also solves this problem:</p>\n\n<pre><code>@PersistenceContext(type = PersistenceContextType.EXTENDED)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":10,"creation_date":1451228789,"post_id":31482435,"comment_id":56705062,"body_markdown":"Why is JPS session closed? How to make it not being closed? How to perform lazy collection?","body":"Why is JPS session closed? How to make it not being closed? How to perform lazy collection?"},{"owner":{"account_id":1789513,"reputation":3781,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":1,"creation_date":1542391105,"post_id":31482435,"comment_id":93565027,"body_markdown":"What defines a limit of two FetchType.Eager collections per Entity?","body":"What defines a limit of two FetchType.Eager collections per Entity?"},{"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"score":0,"creation_date":1574497498,"post_id":31482435,"comment_id":104260856,"body_markdown":"In Spring Boot, you can add &#39;spring.jpa.open-in-view=true&#39; to &#39;application.properties&#39;","body":"In Spring Boot, you can add &#39;spring.jpa.open-in-view=true&#39; to &#39;application.properties&#39;"},{"owner":{"account_id":1431365,"reputation":1540,"user_id":1353723,"accept_rate":57,"display_name":"0xC0DEGURU"},"score":0,"creation_date":1668594168,"post_id":31482435,"comment_id":131441484,"body_markdown":"@Askar My project is based on Spring Boot and your soulution doesn&#39;t work","body":"@Askar My project is based on Spring Boot and your soulution doesn&#39;t work"},{"owner":{"account_id":1431365,"reputation":1540,"user_id":1353723,"accept_rate":57,"display_name":"0xC0DEGURU"},"score":0,"creation_date":1668594766,"post_id":31482435,"comment_id":131441700,"body_markdown":"... Spring Boot version 2.2.4","body":"... Spring Boot version 2.2.4"},{"owner":{"account_id":1431365,"reputation":1540,"user_id":1353723,"accept_rate":57,"display_name":"0xC0DEGURU"},"score":0,"creation_date":1668595021,"post_id":31482435,"comment_id":131441788,"body_markdown":"... and it seems to be an antipattern - https://stackoverflow.com/a/48222934/1353723","body":"... and it seems to be an antipattern - <a href=\"https://stackoverflow.com/a/48222934/1353723\">stackoverflow.com/a/48222934/1353723</a>"},{"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"score":0,"creation_date":1668605063,"post_id":31482435,"comment_id":131445451,"body_markdown":"@0xC0DEGURU Thanks for your consideration, I will take that in account and investigate. This solution worked for me few years ago and I&#39;ve forgot the details. Also thanks for the provided link.","body":"@0xC0DEGURU Thanks for your consideration, I will take that in account and investigate. This solution worked for me few years ago and I&#39;ve forgot the details. Also thanks for the provided link."}],"tags":[],"owner":{"account_id":3076625,"reputation":3021,"user_id":2605781,"accept_rate":48,"display_name":"Gandalf"},"comment_count":7,"down_vote_count":1,"up_vote_count":75,"is_accepted":false,"score":74,"last_activity_date":1437214882,"creation_date":1437157825,"answer_id":31482435,"question_id":11746499,"body_markdown":"The origin of your problem:\r\n---------------------------\r\n\r\nBy default hibernate lazily loads the collections (relationships) which means whenver you use the `collection` in your code(here `comments` field\r\nin `Topic` class)\r\nthe hibernate gets that from database, now the problem is that you are getting the collection in your controller (where the \r\nJPA session is closed).This is the line of code that causes the exception\r\n(where you are loading the `comments` collection): \r\n\r\n        Collection&lt;Comment&gt; commentList = topicById.getComments();\r\n\r\nYou are  getting &quot;comments&quot; collection (topic.getComments()) in your controller(where `JPA session` has ended) and that causes the exception. Also if you had got \r\nthe `comments` collection in your jsp file like this(instead of getting it in your controller): \r\n\r\n\r\n    &lt;c:forEach items=&quot;topic.comments&quot; var=&quot;item&quot;&gt;\r\n    //some code\r\n    &lt;/c:forEach&gt;\r\n\r\nYou would still have the same exception for the same reason.\r\n\r\nSolving the problem:\r\n--------------------\r\n\r\nBecause you just can have only two collections with the `FetchType.Eager`(eagerly fetched collection) in an Entity class and because lazy loading is more\r\nefficient than eagerly loading, I think this way of solving your problem is better than just changing the `FetchType` to eager:\r\n\r\nIf you want to have collection lazy initialized, and also make this work,\r\nit is better to add this snippet of code to your `web.xml` :\r\n\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;SpringOpenEntityManagerInViewFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;SpringOpenEntityManagerInViewFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\nWhat this code does is that it will increase the length of your `JPA session` or as the documentation says, it is used `&quot;to allow for lazy loading in web views despite the original transactions already being completed.&quot;` so \r\nthis way the JPA session will be open a bit longer and because of that\r\nyou can lazily load collections in your jsp files and controller classes.","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<h2>The origin of your problem:</h2>\n\n<p>By default hibernate lazily loads the collections (relationships) which means whenver you use the <code>collection</code> in your code(here <code>comments</code> field\nin <code>Topic</code> class)\nthe hibernate gets that from database, now the problem is that you are getting the collection in your controller (where the \nJPA session is closed).This is the line of code that causes the exception\n(where you are loading the <code>comments</code> collection): </p>\n\n<pre><code>    Collection&lt;Comment&gt; commentList = topicById.getComments();\n</code></pre>\n\n<p>You are  getting \"comments\" collection (topic.getComments()) in your controller(where <code>JPA session</code> has ended) and that causes the exception. Also if you had got \nthe <code>comments</code> collection in your jsp file like this(instead of getting it in your controller): </p>\n\n<pre><code>&lt;c:forEach items=\"topic.comments\" var=\"item\"&gt;\n//some code\n&lt;/c:forEach&gt;\n</code></pre>\n\n<p>You would still have the same exception for the same reason.</p>\n\n<h2>Solving the problem:</h2>\n\n<p>Because you just can have only two collections with the <code>FetchType.Eager</code>(eagerly fetched collection) in an Entity class and because lazy loading is more\nefficient than eagerly loading, I think this way of solving your problem is better than just changing the <code>FetchType</code> to eager:</p>\n\n<p>If you want to have collection lazy initialized, and also make this work,\nit is better to add this snippet of code to your <code>web.xml</code> :</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;SpringOpenEntityManagerInViewFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;SpringOpenEntityManagerInViewFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>What this code does is that it will increase the length of your <code>JPA session</code> or as the documentation says, it is used <code>\"to allow for lazy loading in web views despite the original transactions already being completed.\"</code> so \nthis way the JPA session will be open a bit longer and because of that\nyou can lazily load collections in your jsp files and controller classes.</p>\n"},{"comments":[{"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"score":2,"creation_date":1485526700,"post_id":32185289,"comment_id":70974171,"body_markdown":"in many cases, you really don&#39;t want to do that. You loose all the benefits of lazy loading here","body":"in many cases, you really don&#39;t want to do that. You loose all the benefits of lazy loading here"}],"tags":[],"owner":{"account_id":5734866,"reputation":243,"user_id":4529358,"display_name":"javaboygo"},"comment_count":1,"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1440427811,"creation_date":1440427811,"answer_id":32185289,"question_id":11746499,"body_markdown":"If you are trying to have a relation between a entity and a Collection or a List of java objects (for example Long type), it would like something like this:\r\n\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n        public List&lt;Long&gt; ids;","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>If you are trying to have a relation between a entity and a Collection or a List of java objects (for example Long type), it would like something like this:</p>\n\n<pre><code>@ElementCollection(fetch = FetchType.EAGER)\n    public List&lt;Long&gt; ids;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1958522,"reputation":9077,"user_id":1760858,"accept_rate":58,"display_name":"velis"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1448947363,"creation_date":1448947363,"answer_id":34013183,"question_id":11746499,"body_markdown":"For those working with [Criteria][1], I found that \r\n\r\n    criteria.setFetchMode(&quot;lazily_fetched_member&quot;, FetchMode.EAGER);\r\n\r\ndid everything I needed had done.\r\n\r\nInitial fetch mode for collections is set to FetchMode.LAZY to provide performance, but when I need the data, I just add that line and enjoy the fully populated objects.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Criteria.html","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>For those working with <a href=\"http://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Criteria.html\" rel=\"nofollow\">Criteria</a>, I found that </p>\n\n<pre><code>criteria.setFetchMode(\"lazily_fetched_member\", FetchMode.EAGER);\n</code></pre>\n\n<p>did everything I needed had done.</p>\n\n<p>Initial fetch mode for collections is set to FetchMode.LAZY to provide performance, but when I need the data, I just add that line and enjoy the fully populated objects.</p>\n"},{"tags":[],"owner":{"account_id":3127494,"reputation":61,"user_id":2646088,"display_name":"Mario Biasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1454690318,"creation_date":1454688179,"answer_id":35228464,"question_id":11746499,"body_markdown":"To solve the problem in my case it was just missing this line\r\n\r\n    &lt;tx:annotation-driven transaction-manager=&quot;myTxManager&quot; /&gt;\r\n\r\nin the application-context file.\r\n\r\nThe `@Transactional` annotation over a method was not taken into account.\r\n\r\nHope the answer will help someone\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>To solve the problem in my case it was just missing this line</p>\n\n<pre><code>&lt;tx:annotation-driven transaction-manager=\"myTxManager\" /&gt;\n</code></pre>\n\n<p>in the application-context file.</p>\n\n<p>The <code>@Transactional</code> annotation over a method was not taken into account.</p>\n\n<p>Hope the answer will help someone</p>\n"},{"comments":[{"owner":{"account_id":6490968,"reputation":356,"user_id":5025049,"display_name":"S&#245;ber"},"score":19,"creation_date":1476998575,"post_id":36234239,"comment_id":67598298,"body_markdown":"I would argue that transaction management belongs to service layer where the business logic resides.","body":"I would argue that transaction management belongs to service layer where the business logic resides."},{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":0,"creation_date":1576233103,"post_id":36234239,"comment_id":104841431,"body_markdown":"Transactional annotation is not missing. Controller should not have such annotation. Those annotations should be at Service level.","body":"Transactional annotation is not missing. Controller should not have such annotation. Those annotations should be at Service level."},{"owner":{"account_id":7373365,"reputation":470,"user_id":5612892,"accept_rate":83,"display_name":"Amirhosein Al"},"score":1,"creation_date":1657265652,"post_id":36234239,"comment_id":128774304,"body_markdown":"Since I didn&#39;t want to set `FetchMode` to `EAGER`, this was my solution.","body":"Since I didn&#39;t want to set <code>FetchMode</code> to <code>EAGER</code>, this was my solution."},{"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"score":0,"creation_date":1671285471,"post_id":36234239,"comment_id":132069006,"body_markdown":"There are some cases where the intial entity need to be reload in the controller and then pass it the @Transactional at the controller level is the workaround I&#39;ve used, it is far better from changing to eager. JPA doesn&#39;t have proper solution for this one. This annotation is used for a specific end-point in the contrller whereas changing to EAGER affect all calls!","body":"There are some cases where the intial entity need to be reload in the controller and then pass it the @Transactional at the controller level is the workaround I&#39;ve used, it is far better from changing to eager. JPA doesn&#39;t have proper solution for this one. This annotation is used for a specific end-point in the contrller whereas changing to EAGER affect all calls!"},{"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"score":0,"creation_date":1671286761,"post_id":36234239,"comment_id":132069267,"body_markdown":"There are some cases where the intial entity need to be reload in the controller. @Transactional at the controller level is the workaround I&#39;ve used, but after reading the comments I move the annoation to the service layer. What I did is reload the entity again in the service layer. So two benefits, change to EAGER is not required and annotation is in the right place. The only probelm is unnessary query is done.","body":"There are some cases where the intial entity need to be reload in the controller. @Transactional at the controller level is the workaround I&#39;ve used, but after reading the comments I move the annoation to the service layer. What I did is reload the entity again in the service layer. So two benefits, change to EAGER is not required and annotation is in the right place. The only probelm is unnessary query is done."}],"tags":[],"owner":{"account_id":1212784,"reputation":266,"user_id":1181017,"accept_rate":0,"display_name":"Xcoder"},"comment_count":5,"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1458988247,"creation_date":1458988247,"answer_id":36234239,"question_id":11746499,"body_markdown":"@Transactional annotation on controller is missing\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/&quot;)\r\n    @Transactional\r\n    public class UserController {\r\n    }","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>@Transactional annotation on controller is missing</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/\")\n@Transactional\npublic class UserController {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2911666,"reputation":4689,"user_id":2495717,"accept_rate":88,"display_name":"ben3000"},"score":6,"creation_date":1481878313,"post_id":37659432,"comment_id":69560795,"body_markdown":"The @Transactional annotation worked for me, but note that Propagation.REQUIRED is the default, at least in Spring Boot 1.4.2 (Spring 4.3).","body":"The @Transactional annotation worked for me, but note that Propagation.REQUIRED is the default, at least in Spring Boot 1.4.2 (Spring 4.3)."},{"owner":{"account_id":1931705,"reputation":1797,"user_id":1740965,"display_name":"sarbuLopex"},"score":5,"creation_date":1482146672,"post_id":37659432,"comment_id":69641532,"body_markdown":"Yes it is, but I thought it could be appreciated to make it clear you could actually change the propagation param","body":"Yes it is, but I thought it could be appreciated to make it clear you could actually change the propagation param"},{"owner":{"account_id":1192089,"reputation":4315,"user_id":1329340,"accept_rate":74,"display_name":"Campa"},"score":0,"creation_date":1559207693,"post_id":37659432,"comment_id":99351658,"body_markdown":"Isn&#39;t `@Transactional` a Spring-only thing?","body":"Isn&#39;t <code>@Transactional</code> a Spring-only thing?"},{"owner":{"account_id":1931705,"reputation":1797,"user_id":1740965,"display_name":"sarbuLopex"},"score":0,"creation_date":1559297342,"post_id":37659432,"comment_id":99384665,"body_markdown":"@Campa yes it is. If you want to handle it manually you should put your business logic inside a transaction retrieved from the entity manager","body":"@Campa yes it is. If you want to handle it manually you should put your business logic inside a transaction retrieved from the entity manager"},{"owner":{"account_id":443973,"reputation":4509,"user_id":835523,"accept_rate":85,"display_name":"Steve"},"score":0,"creation_date":1630347380,"post_id":37659432,"comment_id":121926617,"body_markdown":"I&#39;m not sure I understand why this fixes my problem, but it did. Thank you!","body":"I&#39;m not sure I understand why this fixes my problem, but it did. Thank you!"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1661370991,"post_id":37659432,"comment_id":129759402,"body_markdown":"Putting `@Transactional` on the getter of the collection was the fix for me. It&#39;s clean and makes sense, but it had to be done in the Entity class, which I am not really a fan of but better than not having it work.","body":"Putting <code>@Transactional</code> on the getter of the collection was the fix for me. It&#39;s clean and makes sense, but it had to be done in the Entity class, which I am not really a fan of but better than not having it work."},{"owner":{"account_id":18294701,"reputation":73,"user_id":13330292,"display_name":"fer.trecool"},"score":0,"creation_date":1685481565,"post_id":37659432,"comment_id":134665654,"body_markdown":"is FetchType.EAGER a good practice in @OneToMany decorators?","body":"is FetchType.EAGER a good practice in @OneToMany decorators?"},{"owner":{"account_id":1931705,"reputation":1797,"user_id":1740965,"display_name":"sarbuLopex"},"score":0,"creation_date":1685611128,"post_id":37659432,"comment_id":134685324,"body_markdown":"@fer.trecool no it isn&#39;t. It&#39;s really demanding in terms of performance and you can obtain the same result lazily with the solution proposed in my answer. I think the only scenario of use would be a static small dataset that is really needed at every call BUT if you used Transactional correctly you would be covered anyway so..no","body":"@fer.trecool no it isn&#39;t. It&#39;s really demanding in terms of performance and you can obtain the same result lazily with the solution proposed in my answer. I think the only scenario of use would be a static small dataset that is really needed at every call BUT if you used Transactional correctly you would be covered anyway so..no"}],"tags":[],"owner":{"account_id":1931705,"reputation":1797,"user_id":1740965,"display_name":"sarbuLopex"},"comment_count":8,"down_vote_count":1,"up_vote_count":122,"is_accepted":false,"score":121,"last_activity_date":1465221870,"creation_date":1465221519,"answer_id":37659432,"question_id":11746499,"body_markdown":"I know it&#39;s an old question but I want to help.\r\nYou can put the transactional annotation on the service method you need, in this case findTopicByID(id) should have\r\n\r\n    @Transactional(propagation=Propagation.REQUIRED, readOnly=true, noRollbackFor=Exception.class)\r\n\r\nmore info about this annotation can be found [here][1]\r\n\r\nAbout the other solutions:\r\n\r\n    fetch = FetchType.EAGER \r\n\r\nis not a good practice, it should be used ONLY if necessary.\r\n\r\n    Hibernate.initialize(topics.getComments());\r\n\r\nThe hibernate initializer binds your classes to the hibernate technology. If you are aiming to be flexible is not a good way to go.\r\n\r\nHope it helps\r\n\r\n  [1]: https://stackoverflow.com/questions/10740021/transactionalpropagation-propagation-required\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>I know it's an old question but I want to help.\nYou can put the transactional annotation on the service method you need, in this case findTopicByID(id) should have</p>\n\n<pre><code>@Transactional(propagation=Propagation.REQUIRED, readOnly=true, noRollbackFor=Exception.class)\n</code></pre>\n\n<p>more info about this annotation can be found <a href=\"https://stackoverflow.com/questions/10740021/transactionalpropagation-propagation-required\">here</a></p>\n\n<p>About the other solutions:</p>\n\n<pre><code>fetch = FetchType.EAGER \n</code></pre>\n\n<p>is not a good practice, it should be used ONLY if necessary.</p>\n\n<pre><code>Hibernate.initialize(topics.getComments());\n</code></pre>\n\n<p>The hibernate initializer binds your classes to the hibernate technology. If you are aiming to be flexible is not a good way to go.</p>\n\n<p>Hope it helps</p>\n"},{"comments":[{"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"score":0,"creation_date":1489860915,"post_id":41140986,"comment_id":72859785,"body_markdown":"Why did this receive a minus vote? Adding a transaction to the operation extends the session","body":"Why did this receive a minus vote? Adding a transaction to the operation extends the session"},{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":12,"creation_date":1576232872,"post_id":41140986,"comment_id":104841313,"body_markdown":"It is bad practice to ad @Transactional to the controller.","body":"It is bad practice to ad @Transactional to the controller."},{"owner":{"account_id":28700,"reputation":730,"user_id":76911,"accept_rate":57,"display_name":"Amr Ellafy"},"score":0,"creation_date":1588240713,"post_id":41140986,"comment_id":108825425,"body_markdown":"@Rafael Why it&#39;s a bad practice?","body":"@Rafael Why it&#39;s a bad practice?"},{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":0,"creation_date":1588880589,"post_id":41140986,"comment_id":109079092,"body_markdown":"@AmrEllafy -&gt; Here it is a good explanation: https://stackoverflow.com/a/18498834/1261162","body":"@AmrEllafy -&gt; Here it is a good explanation: <a href=\"https://stackoverflow.com/a/18498834/1261162\">stackoverflow.com/a/18498834/1261162</a>"},{"owner":{"account_id":4034554,"reputation":3494,"user_id":4082254,"accept_rate":0,"display_name":"Je Suis Alrick"},"score":0,"creation_date":1633151087,"post_id":41140986,"comment_id":122689491,"body_markdown":"@Rafael, it&#39;s bad practice to use the opinion of one person and say it is bad practice. If you pointed to a recommendation from the people at Spring fine, but in this case you pointed to a SO answer that wasn&#39;t even accepted and makes no reference to official Spring documentation.","body":"@Rafael, it&#39;s bad practice to use the opinion of one person and say it is bad practice. If you pointed to a recommendation from the people at Spring fine, but in this case you pointed to a SO answer that wasn&#39;t even accepted and makes no reference to official Spring documentation."},{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":1,"creation_date":1633515630,"post_id":41140986,"comment_id":122778215,"body_markdown":"@JeSuisAlrick This entire site is based on professional advice. It is my professional advice to avoid the proposed solution and consider it as a bad practice, and I pointed to a very clear explanation of why. Anyone can of course disagree with that. If you don&#39;t want to accept that explanation because it doesn&#39;t comes from Spring, that&#39;s your decision. Others may or may not agree with you. But I must vote minus because I really think that&#39;s a misleading answer.","body":"@JeSuisAlrick This entire site is based on professional advice. It is my professional advice to avoid the proposed solution and consider it as a bad practice, and I pointed to a very clear explanation of why. Anyone can of course disagree with that. If you don&#39;t want to accept that explanation because it doesn&#39;t comes from Spring, that&#39;s your decision. Others may or may not agree with you. But I must vote minus because I really think that&#39;s a misleading answer."},{"owner":{"account_id":4034554,"reputation":3494,"user_id":4082254,"accept_rate":0,"display_name":"Je Suis Alrick"},"score":0,"creation_date":1633542442,"post_id":41140986,"comment_id":122789845,"body_markdown":"@Rafael, I understand what you and the SO answer you referred to are saying. But my question is, if the transaction needs to extend to the controller for the lazy loading of related models, how is a transaction not a cross-cutting concern in this case? If a transaction does address cross-cutting concerns, then how is this approach bad practice? Isn&#39;t it subjective and based on the specific implementation of transaction management? If this answer is bad practice, what would be your alternative answer for this SO?","body":"@Rafael, I understand what you and the SO answer you referred to are saying. But my question is, if the transaction needs to extend to the controller for the lazy loading of related models, how is a transaction not a cross-cutting concern in this case? If a transaction does address cross-cutting concerns, then how is this approach bad practice? Isn&#39;t it subjective and based on the specific implementation of transaction management? If this answer is bad practice, what would be your alternative answer for this SO?"},{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":1,"creation_date":1633545225,"post_id":41140986,"comment_id":122790891,"body_markdown":"@JeSuisAlrick &quot;if the transaction needs to extend to the controller for the lazy loading of related models&quot;. Thats an opinionated design decision ... which IMO is wrong. You shouldn&#39;t extend the transaction boundary up to the controller. If you are refering to &quot;Open Session In View&quot; ... that&#39;s an anti-pattern to me.\n\nhttps://stackoverflow.com/questions/1103363/why-is-hibernate-open-session-in-view-considered-a-bad-practice","body":"@JeSuisAlrick &quot;if the transaction needs to extend to the controller for the lazy loading of related models&quot;. Thats an opinionated design decision ... which IMO is wrong. You shouldn&#39;t extend the transaction boundary up to the controller. If you are refering to &quot;Open Session In View&quot; ... that&#39;s an anti-pattern to me.  <a href=\"https://stackoverflow.com/questions/1103363/why-is-hibernate-open-session-in-view-considered-a-bad-practice\" title=\"why is hibernate open session in view considered a bad practice\">stackoverflow.com/questions/1103363/&hellip;</a>"},{"owner":{"account_id":4034554,"reputation":3494,"user_id":4082254,"accept_rate":0,"display_name":"Je Suis Alrick"},"score":2,"creation_date":1633581369,"post_id":41140986,"comment_id":122798872,"body_markdown":"@Rafael, I see what you mean--&quot;finalise&quot; the resulting DTO at the service layer and pass that on to the presentation layer. I&#39;m guessing that if he was using MapStruct he&#39;d move it to the service layer and resolve the DTO(s) using it. A sound solution.","body":"@Rafael, I see what you mean--&quot;finalise&quot; the resulting DTO at the service layer and pass that on to the presentation layer. I&#39;m guessing that if he was using MapStruct he&#39;d move it to the service layer and resolve the DTO(s) using it. A sound solution."}],"tags":[],"owner":{"account_id":9441688,"reputation":455,"user_id":7021926,"display_name":"RuiZhi Wang"},"comment_count":9,"down_vote_count":3,"up_vote_count":46,"is_accepted":false,"score":43,"last_activity_date":1701422176,"creation_date":1481713340,"answer_id":41140986,"question_id":11746499,"body_markdown":"    @Controller\r\n    @RequestMapping(value = &quot;/topic&quot;)\r\n    @Transactional\r\n\r\nI solved this problem by adding `@Transactional`, I think this can open a session.","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<pre><code>@Controller\n@RequestMapping(value = &quot;/topic&quot;)\n@Transactional\n</code></pre>\n<p>I solved this problem by adding <code>@Transactional</code>, I think this can open a session.</p>\n"},{"tags":[],"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486114613,"creation_date":1485525792,"answer_id":41895770,"question_id":11746499,"body_markdown":"In my case following code was a problem:\r\n\r\n    entityManager.detach(topicById);\r\n    topicById.getComments() // exception thrown\r\n\r\n\r\nBecause it detached from the database and Hibernate no longer retrieved list from the field when it was needed. So I initialize it before detaching:\r\n\r\n    Hibernate.initialize(topicById.getComments());\r\n    entityManager.detach(topicById);\r\n    topicById.getComments() // works like a charm","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>In my case following code was a problem:</p>\n\n<pre><code>entityManager.detach(topicById);\ntopicById.getComments() // exception thrown\n</code></pre>\n\n<p>Because it detached from the database and Hibernate no longer retrieved list from the field when it was needed. So I initialize it before detaching:</p>\n\n<pre><code>Hibernate.initialize(topicById.getComments());\nentityManager.detach(topicById);\ntopicById.getComments() // works like a charm\n</code></pre>\n"},{"comments":[{"owner":{"account_id":251459,"reputation":1087,"user_id":528858,"accept_rate":74,"display_name":"Zhasulan Berdibekov"},"score":2,"creation_date":1499145043,"post_id":42206232,"comment_id":76772365,"body_markdown":"Fetch type of Eager assumed that hibernate will be pulled all data in the first query, not all places it is correctly","body":"Fetch type of Eager assumed that hibernate will be pulled all data in the first query, not all places it is correctly"},{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":0,"creation_date":1576233303,"post_id":42206232,"comment_id":104841520,"body_markdown":"You should UPPERCASE that the BEST SOLUTION IS 1 ... in fact is the ONLY GOOD solution since all others are anti-patterns!","body":"You should UPPERCASE that the BEST SOLUTION IS 1 ... in fact is the ONLY GOOD solution since all others are anti-patterns!"},{"owner":{"account_id":18916184,"reputation":1080,"user_id":13801206,"display_name":"Luis Acero"},"score":0,"creation_date":1617568858,"post_id":42206232,"comment_id":118335365,"body_markdown":"I agree with @Rafael the only solution is the first","body":"I agree with @Rafael the only solution is the first"}],"tags":[],"owner":{"account_id":3580672,"reputation":518,"user_id":2988961,"display_name":"abentan"},"comment_count":3,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1486995436,"creation_date":1486995436,"answer_id":42206232,"question_id":11746499,"body_markdown":"The problem is caused by accessing an attribute with the hibernate session closed. You have not a hibernate transaction in the controller.\r\n\r\nPossible solutions:\r\n\r\n 1. **Do all this logic, in the service layer**, (with the @Transactional), not in the controller. There should be the right place to do this, it is part of the logic of the app, not in the controller (in this case, an interface to load the model). All the operations in the service layer should be transactional.\r\ni.e.: Move this line to the TopicService.findTopicByID method:\r\n\r\n    Collection&lt;Comment&gt; commentList = topicById.getComments();\r\n\r\n\r\n 2. **Use &#39;eager&#39; instead of &#39;lazy&#39;**. Now you are not using &#39;lazy&#39; .. it is not a real solution, if you want to use lazy, works like a temporary (very temporary) workaround.\r\n 3. **use @Transactional in the Controller**. It should not be used here, you are mixing service layer with presentation, it is not a good design.\r\n 4. **use OpenSessionInViewFilter**, many disadvantages reported, possible instability.\r\n\r\n**In general, the best solution is the 1.**\r\n\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>The problem is caused by accessing an attribute with the hibernate session closed. You have not a hibernate transaction in the controller.</p>\n\n<p>Possible solutions:</p>\n\n<ol>\n<li><p><strong>Do all this logic, in the service layer</strong>, (with the @Transactional), not in the controller. There should be the right place to do this, it is part of the logic of the app, not in the controller (in this case, an interface to load the model). All the operations in the service layer should be transactional.\ni.e.: Move this line to the TopicService.findTopicByID method:</p>\n\n<p>Collection commentList = topicById.getComments();</p></li>\n<li><p><strong>Use 'eager' instead of 'lazy'</strong>. Now you are not using 'lazy' .. it is not a real solution, if you want to use lazy, works like a temporary (very temporary) workaround.</p></li>\n<li><strong>use @Transactional in the Controller</strong>. It should not be used here, you are mixing service layer with presentation, it is not a good design.</li>\n<li><strong>use OpenSessionInViewFilter</strong>, many disadvantages reported, possible instability.</li>\n</ol>\n\n<p><strong>In general, the best solution is the 1.</strong></p>\n"},{"comments":[{"owner":{"account_id":3261342,"reputation":1970,"user_id":2746879,"accept_rate":77,"display_name":"Sarz"},"score":2,"creation_date":1523424987,"post_id":49318086,"comment_id":86549707,"body_markdown":"Yes, this is the problem statement, You should also provide an answer in an `Answer`","body":"Yes, this is the problem statement, You should also provide an answer in an <code>Answer</code>"}],"tags":[],"owner":{"account_id":7964707,"reputation":420,"user_id":6011410,"display_name":"aditya lath"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521195070,"creation_date":1521195070,"answer_id":49318086,"question_id":11746499,"body_markdown":"The reason is you are trying to get the commentList on your controller after closing the session inside the service.\r\n\r\n    topicById.getComments();\r\n\r\nAbove will load the commentList only if your hibernate session is active, which I guess you closed in your service.\r\n\r\n**So, you have to get the commentList before closing the session.**","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>The reason is you are trying to get the commentList on your controller after closing the session inside the service.</p>\n\n<pre><code>topicById.getComments();\n</code></pre>\n\n<p>Above will load the commentList only if your hibernate session is active, which I guess you closed in your service.</p>\n\n<p><strong>So, you have to get the commentList before closing the session.</strong></p>\n"},{"tags":[],"owner":{"account_id":4870584,"reputation":13948,"user_id":3927264,"accept_rate":68,"display_name":"Farhan stands with Palestine"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566810652,"creation_date":1527070378,"answer_id":50485645,"question_id":11746499,"body_markdown":"In my case, I had the mapping b/w `A` and `B` like \r\n\r\n`A` has \r\n\r\n    @OneToMany(mappedBy = &quot;a&quot;, cascade = CascadeType.ALL)\r\n    Set&lt;B&gt; bs;\r\n\r\nin the `DAO` layer, the **method** needs to be annotated with `@Transactional` if you haven&#39;t annotated the mapping with **Fetch Type - Eager**\r\n\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>In my case, I had the mapping b/w <code>A</code> and <code>B</code> like </p>\n\n<p><code>A</code> has </p>\n\n<pre><code>@OneToMany(mappedBy = \"a\", cascade = CascadeType.ALL)\nSet&lt;B&gt; bs;\n</code></pre>\n\n<p>in the <code>DAO</code> layer, the <strong>method</strong> needs to be annotated with <code>@Transactional</code> if you haven't annotated the mapping with <strong>Fetch Type - Eager</strong></p>\n"},{"comments":[{"owner":{"account_id":1789513,"reputation":3781,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":2,"creation_date":1544647807,"post_id":51055820,"comment_id":94354970,"body_markdown":"Vlad do you have any suggestions for working with a lazy-initialized collection in an entity fetched by a Spring-generated repository&#39;s findById() method? I&#39;m not writing the query and the transaction is outside my code.","body":"Vlad do you have any suggestions for working with a lazy-initialized collection in an entity fetched by a Spring-generated repository&#39;s findById() method? I&#39;m not writing the query and the transaction is outside my code."},{"owner":{"account_id":4154011,"reputation":826,"user_id":6113718,"accept_rate":75,"display_name":"Michiel Haisma"},"score":0,"creation_date":1553181510,"post_id":51055820,"comment_id":97297297,"body_markdown":"Could you clarify what you mean by &#39;within the original @Transactional scope&#39; This is unclear to me as I seem to get this error while in an open session (but not the right one?)","body":"Could you clarify what you mean by &#39;within the original @Transactional scope&#39; This is unclear to me as I seem to get this error while in an open session (but not the right one?)"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1553189696,"post_id":51055820,"comment_id":97302196,"body_markdown":"While inside the scope o the top-most transactional service method, also known as the transaction gateway. Check out the `TrassctionInterceptor` in the stack trace and that&#39;s the one.","body":"While inside the scope o the top-most transactional service method, also known as the transaction gateway. Check out the <code>TrassctionInterceptor</code> in the stack trace and that&#39;s the one."},{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":0,"creation_date":1576233485,"post_id":51055820,"comment_id":104841622,"body_markdown":"One of the best answers by far ... this should marked as the correct.\nBTW ... assuming OSIV is an anti-pattern how is possible that is enabled by default on spring-boot recent versions? ... maybe is not that bad?","body":"One of the best answers by far ... this should marked as the correct. BTW ... assuming OSIV is an anti-pattern how is possible that is enabled by default on spring-boot recent versions? ... maybe is not that bad?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1576237275,"post_id":51055820,"comment_id":104843519,"body_markdown":"Of course, it&#39;s bad. Starting with Spring Boot 2, [a warning is logged telling you to disable it](https://github.com/spring-projects/spring-boot/issues/7107).","body":"Of course, it&#39;s bad. Starting with Spring Boot 2, <a href=\"https://github.com/spring-projects/spring-boot/issues/7107\" rel=\"nofollow noreferrer\">a warning is logged telling you to disable it</a>."},{"owner":{"account_id":5636901,"reputation":171,"user_id":4462119,"display_name":"Thomas Carlisle"},"score":0,"creation_date":1607537363,"post_id":51055820,"comment_id":115306542,"body_markdown":"I just want to say, I found this answer and Vlad&#39;s article to be very helpful. I did resolve my issue without resorting to eager loading, OSIV or enable_lazy_load_no_trans. I am sure those things exist for a reason and there are valid use cases, but I have yet to encounter one. For me, it was as simple as making the service layer @Transactional, which is exactly what this answer&#39;s last lines say.","body":"I just want to say, I found this answer and Vlad&#39;s article to be very helpful. I did resolve my issue without resorting to eager loading, OSIV or enable_lazy_load_no_trans. I am sure those things exist for a reason and there are valid use cases, but I have yet to encounter one. For me, it was as simple as making the service layer @Transactional, which is exactly what this answer&#39;s last lines say."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":6,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1654219558,"creation_date":1530080510,"answer_id":51055820,"question_id":11746499,"body_markdown":"The best way to handle the [`LazyInitializationException`](https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/) is to [join fetch](https://stackoverflow.com/a/59468551/4982691) upon query time, like this:\r\n\r\n    select t\r\n    from Topic t\r\n    left join fetch t.comments\r\n\r\nYou should ALWAYS avoid the following anti-patterns:\r\n\r\n- `FetchType.EAGER`\r\n- [OSIV (Open Session in View)](https://stackoverflow.com/a/37526397/1025118)\r\n- [`hibernate.enable_lazy_load_no_trans` Hibernate configuration property](https://stackoverflow.com/a/39723223/1025118)\r\n\r\nTherefore, make sure that your `FetchType.LAZY` associations are initialized at query time or within the original `@Transactional` scope using `Hibernate.initialize` for secondary collections. \r\n\r\n  [2]: https://vladmihalcea.com/eager-fetching-is-a-code-smell/","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>The best way to handle the <a href=\"https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/\" rel=\"noreferrer\"><code>LazyInitializationException</code></a> is to <a href=\"https://stackoverflow.com/a/59468551/4982691\">join fetch</a> upon query time, like this:</p>\n<pre><code>select t\nfrom Topic t\nleft join fetch t.comments\n</code></pre>\n<p>You should ALWAYS avoid the following anti-patterns:</p>\n<ul>\n<li><code>FetchType.EAGER</code></li>\n<li><a href=\"https://stackoverflow.com/a/37526397/1025118\">OSIV (Open Session in View)</a></li>\n<li><a href=\"https://stackoverflow.com/a/39723223/1025118\"><code>hibernate.enable_lazy_load_no_trans</code> Hibernate configuration property</a></li>\n</ul>\n<p>Therefore, make sure that your <code>FetchType.LAZY</code> associations are initialized at query time or within the original <code>@Transactional</code> scope using <code>Hibernate.initialize</code> for secondary collections.</p>\n"},{"tags":[],"owner":{"account_id":3197479,"reputation":27833,"user_id":2700356,"accept_rate":76,"display_name":"Yuci"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532082738,"creation_date":1532082738,"answer_id":51440589,"question_id":11746499,"body_markdown":"The collection `comments` in your model class `Topic` is lazily loaded, which is the default behaviour if you don&#39;t annotate it with `fetch = FetchType.EAGER` specifically.\r\n\r\nIt is mostly likely that your `findTopicByID` service is using a stateless Hibernate session. [A stateless session][1] does not have the first level cache, i.e., no persistence context. Later on when you try to iterate `comments`, Hibernate will throw an exception.\r\n\r\n    org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: mvc3.model.Topic.comments, no session or session was closed\r\n\r\nThe solution can be:\r\n\r\n 1. Annotate `comments` with `fetch = FetchType.EAGER`\r\n\r\n        @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;topic&quot;, cascade = CascadeType.ALL)   \r\n        private Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\r\n\r\n 2. If you still would like comments to be lazily loaded, use [Hibernate&#39;s stateful sessions][2], so that you&#39;ll be able to fetch comments later on demand.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/StatelessSession.html\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/Session.html","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>The collection <code>comments</code> in your model class <code>Topic</code> is lazily loaded, which is the default behaviour if you don't annotate it with <code>fetch = FetchType.EAGER</code> specifically.</p>\n\n<p>It is mostly likely that your <code>findTopicByID</code> service is using a stateless Hibernate session. <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/StatelessSession.html\" rel=\"nofollow noreferrer\">A stateless session</a> does not have the first level cache, i.e., no persistence context. Later on when you try to iterate <code>comments</code>, Hibernate will throw an exception.</p>\n\n<pre><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: mvc3.model.Topic.comments, no session or session was closed\n</code></pre>\n\n<p>The solution can be:</p>\n\n<ol>\n<li><p>Annotate <code>comments</code> with <code>fetch = FetchType.EAGER</code></p>\n\n<pre><code>@OneToMany(fetch = FetchType.EAGER, mappedBy = \"topic\", cascade = CascadeType.ALL)   \nprivate Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\n</code></pre></li>\n<li><p>If you still would like comments to be lazily loaded, use <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/Session.html\" rel=\"nofollow noreferrer\">Hibernate's stateful sessions</a>, so that you'll be able to fetch comments later on demand.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9820488,"reputation":29,"user_id":7275422,"display_name":"vic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532500908,"creation_date":1532500908,"answer_id":51512361,"question_id":11746499,"body_markdown":"Hi All posting quite late hope it helps others,\r\nThanking in advance to @GMK for this post  [Hibernate.initialize(object)][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching-initialization\r\n\r\n when Lazy=&quot;true&quot;\r\n\r\n    Set&lt;myObject&gt; set=null;\r\n    hibernateSession.open\r\n    set=hibernateSession.getMyObjects();\r\n    hibernateSession.close();\r\n\r\nnow if i access &#39;set&#39; after closing session it throws exception.\r\n\r\nMy solution :\r\n\r\n    Set&lt;myObject&gt; set=new HashSet&lt;myObject&gt;();\r\n    hibernateSession.open\r\n    set.addAll(hibernateSession.getMyObjects());\r\n    hibernateSession.close();\r\n\r\nnow i can access &#39;set&#39; even after closing Hibernate Session.\r\n  ","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>Hi All posting quite late hope it helps others,\nThanking in advance to @GMK for this post  <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching-initialization\" rel=\"nofollow noreferrer\">Hibernate.initialize(object)</a></p>\n\n<p>when Lazy=\"true\"</p>\n\n<pre><code>Set&lt;myObject&gt; set=null;\nhibernateSession.open\nset=hibernateSession.getMyObjects();\nhibernateSession.close();\n</code></pre>\n\n<p>now if i access 'set' after closing session it throws exception.</p>\n\n<p>My solution :</p>\n\n<pre><code>Set&lt;myObject&gt; set=new HashSet&lt;myObject&gt;();\nhibernateSession.open\nset.addAll(hibernateSession.getMyObjects());\nhibernateSession.close();\n</code></pre>\n\n<p>now i can access 'set' even after closing Hibernate Session.</p>\n"},{"tags":[],"owner":{"account_id":3585957,"reputation":4619,"user_id":3241889,"accept_rate":72,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1532519994,"creation_date":1532512433,"answer_id":51515961,"question_id":11746499,"body_markdown":"By using the hibernate `@Transactional` annotation, if you get an object from the database with lazy fetched attributes, you can simply get these by fetching these attributes like this :\r\n\r\n    @Transactional\r\n    public void checkTicketSalePresence(UUID ticketUuid, UUID saleUuid) {\r\n            Optional&lt;Ticket&gt; savedTicketOpt = ticketRepository.findById(ticketUuid);\r\n            savedTicketOpt.ifPresent(ticket -&gt; {\r\n                Optional&lt;Sale&gt; saleOpt = ticket.getSales().stream().filter(sale -&gt; sale.getUuid() == saleUuid).findFirst();\r\n                assertThat(saleOpt).isPresent();\r\n            });\r\n    }\r\n\r\nHere, in an Hibernate proxy-managed transaction, the fact of calling `ticket.getSales()` do another query to fetch sales because you explicitly asked it.\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>By using the hibernate <code>@Transactional</code> annotation, if you get an object from the database with lazy fetched attributes, you can simply get these by fetching these attributes like this :</p>\n\n<pre><code>@Transactional\npublic void checkTicketSalePresence(UUID ticketUuid, UUID saleUuid) {\n        Optional&lt;Ticket&gt; savedTicketOpt = ticketRepository.findById(ticketUuid);\n        savedTicketOpt.ifPresent(ticket -&gt; {\n            Optional&lt;Sale&gt; saleOpt = ticket.getSales().stream().filter(sale -&gt; sale.getUuid() == saleUuid).findFirst();\n            assertThat(saleOpt).isPresent();\n        });\n}\n</code></pre>\n\n<p>Here, in an Hibernate proxy-managed transaction, the fact of calling <code>ticket.getSales()</code> do another query to fetch sales because you explicitly asked it.</p>\n"},{"comments":[{"owner":{"account_id":293193,"reputation":3805,"user_id":596367,"display_name":"PeS"},"score":2,"creation_date":1533166726,"post_id":51643544,"comment_id":90251521,"body_markdown":"Can you tell the OP what it does exactly, any side effects, performance impact?","body":"Can you tell the OP what it does exactly, any side effects, performance impact?"},{"owner":{"account_id":10201442,"reputation":187,"user_id":7531583,"display_name":"sreekmatta"},"score":6,"creation_date":1533779629,"post_id":51643544,"comment_id":90475002,"body_markdown":"At the back of the lazy loading, a new session is forked every time an association is loaded lazily, hence more connections are forked and creates a bit of pressure on the connection pool. If you have a limit on the number of connections then this property might not be a correct one to use.","body":"At the back of the lazy loading, a new session is forked every time an association is loaded lazily, hence more connections are forked and creates a bit of pressure on the connection pool. If you have a limit on the number of connections then this property might not be a correct one to use."},{"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"score":3,"creation_date":1571292139,"post_id":51643544,"comment_id":103193199,"body_markdown":"for some, it is considered as an anti-pattern\nhttps://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/","body":"for some, it is considered as an anti-pattern <a href=\"https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"tags":[],"owner":{"account_id":10201442,"reputation":187,"user_id":7531583,"display_name":"sreekmatta"},"comment_count":3,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1533165878,"creation_date":1533165878,"answer_id":51643544,"question_id":11746499,"body_markdown":"One of the best solutions is to add the following in your application.properties file:\r\n**spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true**","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>One of the best solutions is to add the following in your application.properties file:\n<strong>spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true</strong></p>\n"},{"tags":[],"owner":{"account_id":5952929,"reputation":8862,"user_id":4680436,"accept_rate":50,"display_name":"aristotll"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535823830,"creation_date":1535823830,"answer_id":52130698,"question_id":11746499,"body_markdown":"\r\nYet another way to do the thing, you can use [TransactionTemplate][1] to wrap around the lazy fetch.\r\nLike \r\n\r\n    Collection&lt;Comment&gt; commentList = this.transactionTemplate.execute\r\n    (status -&gt; topicById.getComments());\r\n\r\n \r\n\r\n  [1]: https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch11s06.html\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>Yet another way to do the thing, you can use <a href=\"https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch11s06.html\" rel=\"nofollow noreferrer\">TransactionTemplate</a> to wrap around the lazy fetch.\nLike </p>\n\n<pre><code>Collection&lt;Comment&gt; commentList = this.transactionTemplate.execute\n(status -&gt; topicById.getComments());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13059268,"reputation":2333,"user_id":9437031,"display_name":"Dhwanil Patel"},"score":1,"creation_date":1615612545,"post_id":58245211,"comment_id":117751021,"body_markdown":"Thank you so much bro. I exactly found second block :)","body":"Thank you so much bro. I exactly found second block :)"}],"tags":[],"owner":{"account_id":5544220,"reputation":547,"user_id":4399560,"display_name":"karan patel"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1570247655,"creation_date":1570247655,"answer_id":58245211,"question_id":11746499,"body_markdown":"Two things you should have for `fetch = FetchType.LAZY`.\r\n\r\n    @Transactional\r\n\r\nand\r\n\r\n    Hibernate.initialize(topicById.getComments());","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>Two things you should have for <code>fetch = FetchType.LAZY</code>.</p>\n\n<pre><code>@Transactional\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Hibernate.initialize(topicById.getComments());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7669432,"reputation":1445,"user_id":5812179,"accept_rate":50,"display_name":"Niamatullah Bakhshi"},"score":0,"creation_date":1658116648,"post_id":58537158,"comment_id":128962315,"body_markdown":"annotating a service method with `@Transactional` is not a good practice. It just blocks the connection to your db. This will cause your app to become unresponsive when the method calls increase.","body":"annotating a service method with <code>@Transactional</code> is not a good practice. It just blocks the connection to your db. This will cause your app to become unresponsive when the method calls increase."},{"owner":{"account_id":258555,"reputation":466,"user_id":540801,"display_name":"Domingo Gallardo"},"score":0,"creation_date":1658213694,"post_id":58537158,"comment_id":128988908,"body_markdown":"The use of `@Transctional` annotation in services is documented in multiple tutorials like https://vladmihalcea.com/spring-transactional-annotation/ or in the official Spring documentation: https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction-declarative-attransactional-settings","body":"The use of <code>@Transctional</code> annotation in services is documented in multiple tutorials like <a href=\"https://vladmihalcea.com/spring-transactional-annotation/\" rel=\"nofollow noreferrer\">vladmihalcea.com/spring-transactional-annotation</a> or in the official Spring documentation: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction-declarative-attransactional-settings\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":7669432,"reputation":1445,"user_id":5812179,"accept_rate":50,"display_name":"Niamatullah Bakhshi"},"score":0,"creation_date":1658215288,"post_id":58537158,"comment_id":128989401,"body_markdown":"We had used this on the methods that called our database (repository). After an increase in the number of method calls, our app started to hang. This was because this annotation blocks the current database connection. We had 30 Hikaripool database connections. All would exceed. Guess what! we removed these annotations from our service layer methods and added them to the repository.  \nIf you want to replicate the issue, you could try to configure something above. We used spring boot by the way.","body":"We had used this on the methods that called our database (repository). After an increase in the number of method calls, our app started to hang. This was because this annotation blocks the current database connection. We had 30 Hikaripool database connections. All would exceed. Guess what! we removed these annotations from our service layer methods and added them to the repository.   If you want to replicate the issue, you could try to configure something above. We used spring boot by the way."},{"owner":{"account_id":258555,"reputation":466,"user_id":540801,"display_name":"Domingo Gallardo"},"score":0,"creation_date":1658304877,"post_id":58537158,"comment_id":129015658,"body_markdown":"Thanks for sharing your experience, it is very useful. I&#39;ll investigate your solution.","body":"Thanks for sharing your experience, it is very useful. I&#39;ll investigate your solution."}],"tags":[],"owner":{"account_id":258555,"reputation":466,"user_id":540801,"display_name":"Domingo Gallardo"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1571905443,"creation_date":1571905443,"answer_id":58537158,"question_id":11746499,"body_markdown":"The problem is caused because the code is accessing a lazy JPA relation when the &quot;connection&quot; to the database is closed (_persistence context_ is the correct name in terms of Hibernate/JPA).\r\n\r\nA simple way of solving it in Spring Boot is by defining a service layer and using the `@Transactional` annotation. This annotation in a method creates a transaction that propagates into the repository layer and keeps open the persistence context until the method finish. If you access the collection inside the transactional method Hibernate/JPA will fetch the data from the database.\r\n\r\nIn your case, you just need to annotate with `@Transactional` the method `findTopicByID(id)` in your `TopicService` and force the fetch of the collection in that method (for instance, by asking its size):\r\n\r\n```java\r\n    @Transactional(readOnly = true)\r\n    public Topic findTopicById(Long id) {\r\n        Topic topic = TopicRepository.findById(id).orElse(null);\r\n        topic.getComments().size();\r\n        return topic;\r\n    }\r\n```","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>The problem is caused because the code is accessing a lazy JPA relation when the \"connection\" to the database is closed (<em>persistence context</em> is the correct name in terms of Hibernate/JPA).</p>\n\n<p>A simple way of solving it in Spring Boot is by defining a service layer and using the <code>@Transactional</code> annotation. This annotation in a method creates a transaction that propagates into the repository layer and keeps open the persistence context until the method finish. If you access the collection inside the transactional method Hibernate/JPA will fetch the data from the database.</p>\n\n<p>In your case, you just need to annotate with <code>@Transactional</code> the method <code>findTopicByID(id)</code> in your <code>TopicService</code> and force the fetch of the collection in that method (for instance, by asking its size):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Transactional(readOnly = true)\n    public Topic findTopicById(Long id) {\n        Topic topic = TopicRepository.findById(id).orElse(null);\n        topic.getComments().size();\n        return topic;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14583282,"reputation":649,"user_id":10532966,"display_name":"Mohammed Javad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576157041,"creation_date":1576157041,"answer_id":59305634,"question_id":11746499,"body_markdown":"Not the best solution, but for those who are facing `LazyInitializationException` especially on `Serialization` this will help. Here you will check lazily initialized properties and setting `null` to those. For that create the below class\r\n\r\n    public class RepositoryUtil {\r\n    \tpublic static final boolean isCollectionInitialized(Collection&lt;?&gt; collection) {\r\n    \t\tif (collection instanceof PersistentCollection)\r\n    \t\t\treturn ((PersistentCollection) collection).wasInitialized();\r\n    \t\telse \r\n    \t\t\treturn true;\r\n    \t}\t\r\n    }\r\n\r\nInside your Entity class which you are having lazily initialized properties add a method like shown below. Add all your lazily loading properties inside this method.\r\n\r\n\tpublic void checkLazyIntialzation() {\r\n\t\tif (!RepositoryUtil.isCollectionInitialized(yourlazyproperty)) {\r\n\t\t\tyourlazyproperty= null;\r\n\t\t}\r\n\r\nCall this `checkLazyIntialzation()` method after on all the places where you are loading data.   \r\n\r\n     YourEntity obj= entityManager.find(YourEntity.class,1L);\r\n      obj.checkLazyIntialzation();\r\n\r\n \r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>Not the best solution, but for those who are facing <code>LazyInitializationException</code> especially on <code>Serialization</code> this will help. Here you will check lazily initialized properties and setting <code>null</code> to those. For that create the below class</p>\n\n<pre><code>public class RepositoryUtil {\n    public static final boolean isCollectionInitialized(Collection&lt;?&gt; collection) {\n        if (collection instanceof PersistentCollection)\n            return ((PersistentCollection) collection).wasInitialized();\n        else \n            return true;\n    }   \n}\n</code></pre>\n\n<p>Inside your Entity class which you are having lazily initialized properties add a method like shown below. Add all your lazily loading properties inside this method.</p>\n\n<pre><code>public void checkLazyIntialzation() {\n    if (!RepositoryUtil.isCollectionInitialized(yourlazyproperty)) {\n        yourlazyproperty= null;\n    }\n</code></pre>\n\n<p>Call this <code>checkLazyIntialzation()</code> method after on all the places where you are loading data.   </p>\n\n<pre><code> YourEntity obj= entityManager.find(YourEntity.class,1L);\n  obj.checkLazyIntialzation();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1580730187,"creation_date":1580730187,"answer_id":60038572,"question_id":11746499,"body_markdown":"To get rid of lazy initialization exception you should not call for lazy collection when you operate with detached object.\r\n\r\nFrom my opinion, best approach is to use DTO, and not entity. In this case you can explicitly set fields which you want to use. As usual it&#39;s enough. No need to worry that something like jackson `ObjectMapper`, or `hashCode` generated by Lombok will call your methods implicitly.\r\n\r\nFor some specific cases you can use `@EntityGrpaph` annotation, which allow you to make `eager` load even if you have `fetchType=lazy` in your entity.\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>To get rid of lazy initialization exception you should not call for lazy collection when you operate with detached object.</p>\n\n<p>From my opinion, best approach is to use DTO, and not entity. In this case you can explicitly set fields which you want to use. As usual it's enough. No need to worry that something like jackson <code>ObjectMapper</code>, or <code>hashCode</code> generated by Lombok will call your methods implicitly.</p>\n\n<p>For some specific cases you can use <code>@EntityGrpaph</code> annotation, which allow you to make <code>eager</code> load even if you have <code>fetchType=lazy</code> in your entity.</p>\n"},{"tags":[],"owner":{"account_id":1964373,"reputation":299,"user_id":1765004,"display_name":"vsharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1585819497,"creation_date":1585819497,"answer_id":60988252,"question_id":11746499,"body_markdown":"There are multiple solution for this Lazy Initialisation issue - \r\n\r\n1) Change the association Fetch type from LAZY to EAGER but this is not a good practice because this will degrade the performance.\r\n\r\n2) Use FetchType.LAZY on associated Object and also use Transactional annotation in your service layer method so that session will remain open and when you will call topicById.getComments(), child object(comments) will get loaded.\r\n\r\n3) Also, please try to use DTO object instead of entity in controller layer. In your case, session is closed at controller layer. SO better to convert entity to DTO in service layer.","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>There are multiple solution for this Lazy Initialisation issue - </p>\n\n<p>1) Change the association Fetch type from LAZY to EAGER but this is not a good practice because this will degrade the performance.</p>\n\n<p>2) Use FetchType.LAZY on associated Object and also use Transactional annotation in your service layer method so that session will remain open and when you will call topicById.getComments(), child object(comments) will get loaded.</p>\n\n<p>3) Also, please try to use DTO object instead of entity in controller layer. In your case, session is closed at controller layer. SO better to convert entity to DTO in service layer.</p>\n"},{"tags":[],"owner":{"account_id":12584206,"reputation":542,"user_id":9153802,"display_name":"Balu"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1617527294,"creation_date":1617284044,"answer_id":66905504,"question_id":11746499,"body_markdown":"*This is an old question but the below information may help people looking for an answer to this.*\r\n\r\n@VladMihalcea &#39;s answer is useful. You must not rely on `FetchType.EAGER` , instead you should load the comments into the `Topic` entity when required. \r\n\r\nIf you are not explicitly defining your queries so that you could specify a `join fetch`, then using `@NamedEntityGraph` and `@EntityGraph` **you could override** the `FetchType.LAZY` (`@OneToMany` associations use LAZY by default) **at runtime** and load the comments at the same time as the `Topic` **only when required**. Which means that you restrict loading the comments to only those methods (queries) which really require that. An entity graph as JPA [defines][1] it:\r\n\r\n&gt; An entity graph can be used with the find method or as a query hint to\r\n&gt; override or augment FetchType semantics.\r\n\r\nYou could use it based on the JPA example [here][2]. Alternatively, if you use Spring Data JPA, then you could use it based on the example [provided by Spring][3].\r\n\r\n\r\n  [1]: https://download.oracle.com/otn-pub/jcp/persistence-2_2-mrel-spec/JavaPersistence.pdf\r\n  [2]: https://www.baeldung.com/jpa-entity-graph\r\n  [3]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p><em>This is an old question but the below information may help people looking for an answer to this.</em></p>\n<p>@VladMihalcea 's answer is useful. You must not rely on <code>FetchType.EAGER</code> , instead you should load the comments into the <code>Topic</code> entity when required.</p>\n<p>If you are not explicitly defining your queries so that you could specify a <code>join fetch</code>, then using <code>@NamedEntityGraph</code> and <code>@EntityGraph</code> <strong>you could override</strong> the <code>FetchType.LAZY</code> (<code>@OneToMany</code> associations use LAZY by default) <strong>at runtime</strong> and load the comments at the same time as the <code>Topic</code> <strong>only when required</strong>. Which means that you restrict loading the comments to only those methods (queries) which really require that. An entity graph as JPA <a href=\"https://download.oracle.com/otn-pub/jcp/persistence-2_2-mrel-spec/JavaPersistence.pdf\" rel=\"noreferrer\">defines</a> it:</p>\n<blockquote>\n<p>An entity graph can be used with the find method or as a query hint to\noverride or augment FetchType semantics.</p>\n</blockquote>\n<p>You could use it based on the JPA example <a href=\"https://www.baeldung.com/jpa-entity-graph\" rel=\"noreferrer\">here</a>. Alternatively, if you use Spring Data JPA, then you could use it based on the example <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\" rel=\"noreferrer\">provided by Spring</a>.</p>\n"},{"comments":[{"owner":{"account_id":11113076,"reputation":563,"user_id":8158136,"display_name":"Veerabala J"},"score":0,"creation_date":1631725440,"post_id":69063982,"comment_id":122302343,"body_markdown":"Could you pls tell why @Transactional solved this issue?","body":"Could you pls tell why @Transactional solved this issue?"}],"tags":[],"owner":{"account_id":1215394,"reputation":6741,"user_id":1183098,"display_name":"user9869932"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1663852761,"creation_date":1630849878,"answer_id":69063982,"question_id":11746499,"body_markdown":"I got this error after a second execution of a method to generate a JWT token.\r\n\r\nThe line *user.getUsersRole().stream().forEachOrdered((ur) -&gt; roles.add(ur.getRoleId()));* generated the error.\r\n\r\n```java\r\n// MyUserDetails.java\r\n\r\n@Service\r\npublic class MyUserDetails implements UserDetailsService {\r\n\r\n  @Override\r\n  public UserDetails loadUserByUsername(String email) {\r\n\r\n    /* ERROR\r\n    /* org.hibernate.LazyInitializationException: failed to \r\n    /* lazily initialize a collection of role: \r\n    /* com.organizator.backend.model.User.usersRole, \r\n    /* could not initialize proxy - no Session */\r\n    user.getUsersRole().stream().forEachOrdered((ur) -&gt;\r\n           roles.add(ur.getRoleId()));\r\n\r\n```\r\n\r\nIn my case the `@Transactional` annotation solved it,\r\n\r\n```java\r\n// MyUserDetails.java\r\n\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n@Service\r\npublic class MyUserDetails implements UserDetailsService {\r\n\r\n  @Override\r\n  @Transactional // &lt;-- added\r\n  public UserDetails loadUserByUsername(String email) {\r\n\r\n    /* No Error */\r\n    user.getUsersRole().stream().forEachOrdered((ur) -&gt;\r\n           roles.add(ur.getRoleId()));\r\n\r\n```\r\n\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>I got this error after a second execution of a method to generate a JWT token.</p>\n<p>The line <em>user.getUsersRole().stream().forEachOrdered((ur) -&gt; roles.add(ur.getRoleId()));</em> generated the error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// MyUserDetails.java\n\n@Service\npublic class MyUserDetails implements UserDetailsService {\n\n  @Override\n  public UserDetails loadUserByUsername(String email) {\n\n    /* ERROR\n    /* org.hibernate.LazyInitializationException: failed to \n    /* lazily initialize a collection of role: \n    /* com.organizator.backend.model.User.usersRole, \n    /* could not initialize proxy - no Session */\n    user.getUsersRole().stream().forEachOrdered((ur) -&gt;\n           roles.add(ur.getRoleId()));\n\n</code></pre>\n<p>In my case the <code>@Transactional</code> annotation solved it,</p>\n<pre class=\"lang-java prettyprint-override\"><code>// MyUserDetails.java\n\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\npublic class MyUserDetails implements UserDetailsService {\n\n  @Override\n  @Transactional // &lt;-- added\n  public UserDetails loadUserByUsername(String email) {\n\n    /* No Error */\n    user.getUsersRole().stream().forEachOrdered((ur) -&gt;\n           roles.add(ur.getRoleId()));\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20076447,"reputation":127,"user_id":14720089,"display_name":"Michael Goppelt"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1640627010,"creation_date":1640627010,"answer_id":70498725,"question_id":11746499,"body_markdown":"In my Spring-Boot project `spring.jpa.open-in-view` was set to false in application.properties. Setting it to true solved the problem.","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>In my Spring-Boot project <code>spring.jpa.open-in-view</code> was set to false in application.properties. Setting it to true solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700738585,"creation_date":1700738585,"answer_id":77536471,"question_id":11746499,"body_markdown":"In my case the problem was passing a detached entity to a component (even annotated with @Transactional) within a test case. So after reloading the entity it worked: \r\n\r\n    @Entity\r\n    class Entity {\r\n       @ElementCollection\r\n       @BatchSize(size = 10)\r\n       private List&lt;String&gt; strings;\r\n    }\r\n\r\n    @Component\r\n    @Transactional\r\n    class MyTestComponent {\r\n\r\n       public String method(Entity detachedEntity) {\r\n          // reloading the entity fixed it\r\n\t      Entity entity = entityRepository.findById(detachedEntity.getId());\r\n          // detachedEntity.getStrings(); caused the problem\r\n\t      entity.getStrings(); \r\n       }\r\n    }","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>In my case the problem was passing a detached entity to a component (even annotated with @Transactional) within a test case. So after reloading the entity it worked:</p>\n<pre><code>@Entity\nclass Entity {\n   @ElementCollection\n   @BatchSize(size = 10)\n   private List&lt;String&gt; strings;\n}\n\n@Component\n@Transactional\nclass MyTestComponent {\n\n   public String method(Entity detachedEntity) {\n      // reloading the entity fixed it\n      Entity entity = entityRepository.findById(detachedEntity.getId());\n      // detachedEntity.getStrings(); caused the problem\n      entity.getStrings(); \n   }\n}\n</code></pre>\n"}],"owner":{"account_id":929110,"reputation":5383,"user_id":959321,"accept_rate":94,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":771510,"favorite_count":0,"down_vote_count":0,"up_vote_count":477,"accepted_answer_id":11746720,"answer_count":33,"score":477,"last_activity_date":1701422176,"creation_date":1343758691,"question_id":11746499,"body_markdown":"I have this problem:\r\n\r\n&gt; org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: mvc3.model.Topic.comments, no session or session was closed\r\n\r\nHere is the model:  \r\n\r\n    @Entity\r\n    @Table(name = &quot;T_TOPIC&quot;)\r\n    public class Topic {\r\n\t\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO)\r\n        private int id;\r\n\t\r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;USER_ID&quot;)\r\n        private User author;\r\n\t\r\n        @Enumerated(EnumType.STRING)\t\r\n        private Tag topicTag;\r\n\t\r\n        private String name;\r\n        private String text;\r\n\t\r\n        @OneToMany(mappedBy = &quot;topic&quot;, cascade = CascadeType.ALL)\r\n        private Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\r\n\r\n        ...\r\n\r\n        public Collection&lt;Comment&gt; getComments() {\r\n               return comments;\r\n        }\r\n\r\n    }\r\n\r\nThe controller, which calls model looks like the following:\r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/topic&quot;)\r\n    public class TopicController {\r\n\t\r\n        @Autowired\r\n        private TopicService service;\r\n\t\r\n        private static final Logger logger = LoggerFactory.getLogger(TopicController.class);\r\n\t \r\n\r\n        @RequestMapping(value = &quot;/details/{topicId}&quot;, method = RequestMethod.GET)\r\n        public ModelAndView details(@PathVariable(value=&quot;topicId&quot;) int id)\r\n        {\r\n\t\t\r\n                Topic topicById = service.findTopicByID(id);\r\n                Collection&lt;Comment&gt; commentList = topicById.getComments();\r\n\t\t\r\n                Hashtable modelData = new Hashtable();\r\n                modelData.put(&quot;topic&quot;, topicById);\r\n                modelData.put(&quot;commentList&quot;, commentList);\r\n\t\t\r\n                return new ModelAndView(&quot;/topic/details&quot;, modelData);\r\n\t\t\r\n         }\r\n\r\n    }\r\n\r\nThe jsp-page looks li the following:\r\n\r\n    &lt;%@page import=&quot;com.epam.mvc3.helpers.Utils&quot;%&gt;\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;%@ page session=&quot;false&quot; %&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n          &lt;title&gt;View Topic&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;ul&gt;\r\n    &lt;c:forEach items=&quot;${commentList}&quot; var=&quot;item&quot;&gt;\r\n    &lt;jsp:useBean id=&quot;item&quot; type=&quot;mvc3.model.Comment&quot;/&gt;\r\n    &lt;li&gt;${item.getText()}&lt;/li&gt;\r\n    \r\n    &lt;/c:forEach&gt;\r\n    &lt;/ul&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nException is rised, when viewing jsp. In the line with *c:forEach* loop\r\n","title":"How to solve the “failed to lazily initialize a collection of role” Hibernate exception","body":"<p>I have this problem:</p>\n\n<blockquote>\n  <p>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: mvc3.model.Topic.comments, no session or session was closed</p>\n</blockquote>\n\n<p>Here is the model:  </p>\n\n<pre><code>@Entity\n@Table(name = \"T_TOPIC\")\npublic class Topic {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private int id;\n\n    @ManyToOne\n    @JoinColumn(name=\"USER_ID\")\n    private User author;\n\n    @Enumerated(EnumType.STRING)    \n    private Tag topicTag;\n\n    private String name;\n    private String text;\n\n    @OneToMany(mappedBy = \"topic\", cascade = CascadeType.ALL)\n    private Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\n\n    ...\n\n    public Collection&lt;Comment&gt; getComments() {\n           return comments;\n    }\n\n}\n</code></pre>\n\n<p>The controller, which calls model looks like the following:</p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/topic\")\npublic class TopicController {\n\n    @Autowired\n    private TopicService service;\n\n    private static final Logger logger = LoggerFactory.getLogger(TopicController.class);\n\n\n    @RequestMapping(value = \"/details/{topicId}\", method = RequestMethod.GET)\n    public ModelAndView details(@PathVariable(value=\"topicId\") int id)\n    {\n\n            Topic topicById = service.findTopicByID(id);\n            Collection&lt;Comment&gt; commentList = topicById.getComments();\n\n            Hashtable modelData = new Hashtable();\n            modelData.put(\"topic\", topicById);\n            modelData.put(\"commentList\", commentList);\n\n            return new ModelAndView(\"/topic/details\", modelData);\n\n     }\n\n}\n</code></pre>\n\n<p>The jsp-page looks li the following:</p>\n\n<pre><code>&lt;%@page import=\"com.epam.mvc3.helpers.Utils\"%&gt;\n&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;%@ page session=\"false\" %&gt;\n&lt;html&gt;\n&lt;head&gt;\n      &lt;title&gt;View Topic&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;ul&gt;\n&lt;c:forEach items=\"${commentList}\" var=\"item\"&gt;\n&lt;jsp:useBean id=\"item\" type=\"mvc3.model.Comment\"/&gt;\n&lt;li&gt;${item.getText()}&lt;/li&gt;\n\n&lt;/c:forEach&gt;\n&lt;/ul&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Exception is rised, when viewing jsp. In the line with <em>c:forEach</em> loop</p>\n"},{"tags":["java","eclipse","windowbuilder"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1701436864,"post_id":77584113,"comment_id":136778553,"body_markdown":"Please consider posting a [mcve]. I think the chances of someone telling you where the problem is in your code and how to fix it, are very small. Also consider taking the [tour] and visiting the [help].","body":"Please consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I think the chances of someone telling you where the problem is in your code and how to fix it, are very small. Also consider taking the <a href=\"https://stackoverflow.com/tour\">tour</a> and visiting the <a href=\"https://stackoverflow.com/help\">help center</a>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1701437078,"post_id":77584113,"comment_id":136778596,"body_markdown":"`getContentPane().setLayout(new BorderLayout());` [BorderLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/border.html) is the default, so no need to explicitly set it.","body":"<code>getContentPane().setLayout(new BorderLayout());</code> <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/border.html\" rel=\"nofollow noreferrer\">BorderLayout</a> is the default, so no need to explicitly set it."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1701437101,"post_id":77584113,"comment_id":136778598,"body_markdown":"`contentPanel.setLayout(null);` Usually not a good idea to use null [layout](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html).","body":"<code>contentPanel.setLayout(null);</code> Usually not a good idea to use null <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout</a>."}],"owner":{"account_id":30038632,"reputation":1,"user_id":23019975,"display_name":"MPV 070"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701422118,"creation_date":1701422118,"question_id":77584113,"body_markdown":"Im doing a project in window  builder in eclipse, when adding &lt;kbd&gt;action perform&lt;/kbd&gt; it doesn&#39;t perform the action.\r\n\r\n I have this code for the second window that does open\r\n\r\n```\r\n/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tWhatsAJmenu dialog = new WhatsAJmenu();\r\n\t\t\tdialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\r\n\t\t\tdialog.setVisible(true);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Create the dialog.\r\n\t */\r\n\tpublic WhatsAJmenu() {\r\n\t\tsetBounds(100, 100, 450, 300);\r\n\t\tgetContentPane().setLayout(new BorderLayout());\r\n\t\tcontentPanel.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\t\tgetContentPane().add(contentPanel, BorderLayout.CENTER);\r\n\t\tcontentPanel.setLayout(null);\r\n\t\t\r\n\t\tJTextPane txtpnAJmenuIs = new JTextPane();\r\n\t\ttxtpnAJmenuIs.setBounds(10, 11, 414, 206);\r\n\t\ttxtpnAJmenuIs.setText(&quot;First you need a JMenu bar to add the items into the menu.\\r\\nSecondly you can add a JMenu, so when clicked on this element the JMenuItem performs an Action, in this case the action was opening the tab with the text you&#39;re reading.\\r\\n\\r\\n(Close this tab if you have finished reading)&quot;);\r\n\t\tcontentPanel.add(txtpnAJmenuIs);\r\n\t\t\r\n\t\tJLayeredPane layeredPane = new JLayeredPane();\r\n\t\tlayeredPane.setBounds(0, 0, 1, 1);\r\n\t\tcontentPanel.add(layeredPane);\r\n\t\t{\r\n\t\t\tJPanel buttonPane = new JPanel();\r\n\t\t\tbuttonPane.setBackground(new Color(216, 191, 216));\r\n\t\t\tbuttonPane.setLayout(new FlowLayout(FlowLayout.RIGHT));\r\n\t\t\tgetContentPane().add(buttonPane, BorderLayout.SOUTH);\r\n\t\t\t{\r\n\t\t\t\tJButton cancelButton = new JButton(&quot;I have finished reding this.&quot;);\r\n\t\t\t\tcancelButton.addMouseListener(new MouseAdapter() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t\t\tSystem.exit (0);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tcancelButton.addActionListener(new ActionListener() {\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tJButton btnNewButton = new JButton(&quot;I haven&#39;t finished reading this.&quot;);\r\n\t\t\t\tbtnNewButton.addActionListener(new ActionListener() {\r\n\t\t\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t\t\t        NotReading window = new NotReading();\r\n\t\t\t\t        window.setVisible(true);\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tbuttonPane.add(btnNewButton);\r\n\t\t\t\tcancelButton.setActionCommand(&quot;Cancel&quot;);\r\n\t\t\t\tbuttonPane.add(cancelButton);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThen this is the other window that I want to open but doesn&#39;t\r\n\r\n```\r\npackage tabGame;\r\n\r\nimport java.awt.EventQueue;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.border.EmptyBorder;\r\nimport javax.swing.JTextField;\r\nimport java.awt.Color;\r\nimport javax.swing.JLayeredPane;\r\n\r\npublic class NotReading extends JFrame {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate JPanel contentPane;\r\n\tprivate JTextField textField;\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tNotReading frame = new NotReading();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the frame.\r\n\t */\r\n\tpublic NotReading() {\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 450, 300);\r\n\t\tcontentPane = new JPanel();\r\n\t\tcontentPane.setBackground(new Color(255, 255, 51));\r\n\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\r\n\t\tsetContentPane(contentPane);\r\n\t\tcontentPane.setLayout(null);\r\n\t\t\r\n\t\ttextField = new JTextField();\r\n\t\ttextField.setBackground(new Color(255, 255, 51));\r\n\t\ttextField.setBounds(0, 0, 434, 261);\r\n\t\tcontentPane.add(textField);\r\n\t\ttextField.setColumns(10);\r\n\t\t\r\n\t\tJLayeredPane layeredPane = new JLayeredPane();\r\n\t\tlayeredPane.setBounds(0, 0, 1, 1);\r\n\t\tcontentPane.add(layeredPane);\r\n\t}\r\n}\r\n```\r\n\r\nI tried changing the action in here (it&#39;s now as it was)\r\n\r\n```\r\nJButton btnNewButton = new JButton(&quot;I haven&#39;t finished reading this.&quot;);\r\n\t\t\t\tbtnNewButton.addActionListener(new ActionListener() {\r\n\t\t\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t\t\t        NotReading window = new NotReading();\r\n\t\t\t\t        window.setVisible(true);\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tbuttonPane.add(btnNewButton);\r\n\t\t\t\tcancelButton.setActionCommand(&quot;Cancel&quot;);\r\n\t\t\t\tbuttonPane.add(cancelButton);\r\n```\r\n\r\n\r\nBut it still doesn&#180;t work, I tried adding a dialog in the window that does open, but I&#39;m slow or it doesn&#180;t work, but the window still doesn&#39;t open. I dont know what else to do.","title":"When I click a button to open a window in another window thats not the main window, it doesn&#180;t open the window","body":"<p>Im doing a project in window  builder in eclipse, when adding <kbd>action perform</kbd> it doesn't perform the action.</p>\n<p>I have this code for the second window that does open</p>\n<pre><code>/**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        try {\n            WhatsAJmenu dialog = new WhatsAJmenu();\n            dialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\n            dialog.setVisible(true);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    /**\n     * Create the dialog.\n     */\n    public WhatsAJmenu() {\n        setBounds(100, 100, 450, 300);\n        getContentPane().setLayout(new BorderLayout());\n        contentPanel.setBorder(new EmptyBorder(5, 5, 5, 5));\n        getContentPane().add(contentPanel, BorderLayout.CENTER);\n        contentPanel.setLayout(null);\n        \n        JTextPane txtpnAJmenuIs = new JTextPane();\n        txtpnAJmenuIs.setBounds(10, 11, 414, 206);\n        txtpnAJmenuIs.setText(&quot;First you need a JMenu bar to add the items into the menu.\\r\\nSecondly you can add a JMenu, so when clicked on this element the JMenuItem performs an Action, in this case the action was opening the tab with the text you're reading.\\r\\n\\r\\n(Close this tab if you have finished reading)&quot;);\n        contentPanel.add(txtpnAJmenuIs);\n        \n        JLayeredPane layeredPane = new JLayeredPane();\n        layeredPane.setBounds(0, 0, 1, 1);\n        contentPanel.add(layeredPane);\n        {\n            JPanel buttonPane = new JPanel();\n            buttonPane.setBackground(new Color(216, 191, 216));\n            buttonPane.setLayout(new FlowLayout(FlowLayout.RIGHT));\n            getContentPane().add(buttonPane, BorderLayout.SOUTH);\n            {\n                JButton cancelButton = new JButton(&quot;I have finished reding this.&quot;);\n                cancelButton.addMouseListener(new MouseAdapter() {\n                    @Override\n                    public void mouseClicked(MouseEvent e) {\n                        System.exit (0);\n                    }\n                });\n                cancelButton.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {\n                    }\n                });\n                \n                JButton btnNewButton = new JButton(&quot;I haven't finished reading this.&quot;);\n                btnNewButton.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {\n                        NotReading window = new NotReading();\n                        window.setVisible(true);\n                    }\n                });\n                \n                buttonPane.add(btnNewButton);\n                cancelButton.setActionCommand(&quot;Cancel&quot;);\n                buttonPane.add(cancelButton);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then this is the other window that I want to open but doesn't</p>\n<pre><code>package tabGame;\n\nimport java.awt.EventQueue;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.JTextField;\nimport java.awt.Color;\nimport javax.swing.JLayeredPane;\n\npublic class NotReading extends JFrame {\n\n    private static final long serialVersionUID = 1L;\n    private JPanel contentPane;\n    private JTextField textField;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    NotReading frame = new NotReading();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public NotReading() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 450, 300);\n        contentPane = new JPanel();\n        contentPane.setBackground(new Color(255, 255, 51));\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n        \n        textField = new JTextField();\n        textField.setBackground(new Color(255, 255, 51));\n        textField.setBounds(0, 0, 434, 261);\n        contentPane.add(textField);\n        textField.setColumns(10);\n        \n        JLayeredPane layeredPane = new JLayeredPane();\n        layeredPane.setBounds(0, 0, 1, 1);\n        contentPane.add(layeredPane);\n    }\n}\n</code></pre>\n<p>I tried changing the action in here (it's now as it was)</p>\n<pre><code>JButton btnNewButton = new JButton(&quot;I haven't finished reading this.&quot;);\n                btnNewButton.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {\n                        NotReading window = new NotReading();\n                        window.setVisible(true);\n                    }\n                });\n                \n                buttonPane.add(btnNewButton);\n                cancelButton.setActionCommand(&quot;Cancel&quot;);\n                buttonPane.add(cancelButton);\n</code></pre>\n<p>But it still doesn´t work, I tried adding a dialog in the window that does open, but I'm slow or it doesn´t work, but the window still doesn't open. I dont know what else to do.</p>\n"},{"tags":["java","spring-boot","maven-3"],"comments":[{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1701420633,"post_id":77583961,"comment_id":136775883,"body_markdown":"Looks like more a problem with your IDE instead of wrong steps with maven, I mean, you follow the correct steps to build a local maven and local import, should work, try to restart your IDE and clean cache.","body":"Looks like more a problem with your IDE instead of wrong steps with maven, I mean, you follow the correct steps to build a local maven and local import, should work, try to restart your IDE and clean cache."},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701420734,"post_id":77583961,"comment_id":136775903,"body_markdown":"Well, I would&#39;ve thought the same unless `mvn clean compile` from importing project didn&#39;t give the same error as the IDE. I tried exporting and importing modules (JPMS) without luck too.","body":"Well, I would&#39;ve thought the same unless <code>mvn clean compile</code> from importing project didn&#39;t give the same error as the IDE. I tried exporting and importing modules (JPMS) without luck too."},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1701420894,"post_id":77583961,"comment_id":136775929,"body_markdown":"But compile and install are different, when you install you put your build in your repository .m2, when you compile, just make the target and all the stuff just for your project. So when you did the `mvn clean install` should work perfectly, try to clean cache and restart the IDE","body":"But compile and install are different, when you install you put your build in your repository .m2, when you compile, just make the target and all the stuff just for your project. So when you did the <code>mvn clean install</code> should work perfectly, try to clean cache and restart the IDE"},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1701421069,"post_id":77583961,"comment_id":136775965,"body_markdown":"And if not work after restart and clean cache, try doing a `mvn clean install -o` last argument its to compile with the current downloaded library, so maybe you have a policy in your settings which make you necessary update all the dependencies including the local ones","body":"And if not work after restart and clean cache, try doing a <code>mvn clean install -o</code> last argument its to compile with the current downloaded library, so maybe you have a policy in your settings which make you necessary update all the dependencies including the local ones"},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701421455,"post_id":77583961,"comment_id":136776025,"body_markdown":"I don&#39;t have a settings.xml, nor cache clearing in the IDE helped. From the exporting-project I did `mvn clean install -o`. No issues. Then did ` mvn compile` from the importing-project. I get: `[8,1] package com.springmaven.exportingproject does not exist. [22,29] cannot find symbol\n[ERROR]   symbol:   class ExportedFuntionality\n[ERROR]   location: class com.springmaven.importingproject.ImportingprojectApplication`","body":"I don&#39;t have a settings.xml, nor cache clearing in the IDE helped. From the exporting-project I did <code>mvn clean install -o</code>. No issues. Then did ` mvn compile` from the importing-project. I get: <code>[8,1] package com.springmaven.exportingproject does not exist. [22,29] cannot find symbol [ERROR]   symbol:   class ExportedFuntionality [ERROR]   location: class com.springmaven.importingproject.ImportingprojectApplication</code>"},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701421488,"post_id":77583961,"comment_id":136776030,"body_markdown":"So the issue is re-producible even from Maven. Keeping the IDE (IntelliJ, in this case) out of the equation.","body":"So the issue is re-producible even from Maven. Keeping the IDE (IntelliJ, in this case) out of the equation."},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701421565,"post_id":77583961,"comment_id":136776046,"body_markdown":"The shared Github project https://github.com/madukan/SpringMavenLocalRepoExample is quite a basic Spring project demonstrating the issue, if you would like to have a peek.","body":"The shared Github project <a href=\"https://github.com/madukan/SpringMavenLocalRepoExample\" rel=\"nofollow noreferrer\">github.com/madukan/SpringMavenLocalRepoExample</a> is quite a basic Spring project demonstrating the issue, if you would like to have a peek."},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701422951,"post_id":77583961,"comment_id":136776297,"body_markdown":"Thanks for your attempts to solve this issue btw.","body":"Thanks for your attempts to solve this issue btw."}],"answers":[{"comments":[{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701422927,"post_id":77584085,"comment_id":136776288,"body_markdown":"Did you try applying this solution to the shared Github project? Even though the answer sound quite promising I don&#39;t see it working at the moment. I used your code without the `&lt;configuration&gt;` node as I don&#39;t have any use for a executable jar in the exporting project.","body":"Did you try applying this solution to the shared Github project? Even though the answer sound quite promising I don&#39;t see it working at the moment. I used your code without the <code>&lt;configuration&gt;</code> node as I don&#39;t have any use for a executable jar in the exporting project."},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701422945,"post_id":77584085,"comment_id":136776296,"body_markdown":"Thanks for your attempts to solve this issue btw.","body":"Thanks for your attempts to solve this issue btw."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1701423452,"post_id":77584085,"comment_id":136776388,"body_markdown":"`I don&#39;t have any use for a executable jar in the exporting project` - you actually *have*, try to call &quot;Show effective POM&quot; from IntelliJ (select `exportingproject` in maven window, than right click) and check what configuration of `spring-boot-maven-plugin` is actually applied to your project.","body":"<code>I don&#39;t have any use for a executable jar in the exporting project</code> - you actually <i>have</i>, try to call &quot;Show effective POM&quot; from IntelliJ (select <code>exportingproject</code> in maven window, than right click) and check what configuration of <code>spring-boot-maven-plugin</code> is actually applied to your project."},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701434216,"post_id":77584085,"comment_id":136778072,"body_markdown":"What I meant is my Jar is a library. Not an executable. Something is not right when it is a Spring Boot project. If I remove all Spring and make it a direct library, then it becomes available this way. Will keep on trying..","body":"What I meant is my Jar is a library. Not an executable. Something is not right when it is a Spring Boot project. If I remove all Spring and make it a direct library, then it becomes available this way. Will keep on trying.."},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701434535,"post_id":77584085,"comment_id":136778128,"body_markdown":"Okay found the difference. The part that say `&lt;classifier&gt;exec&lt;/classifier&gt;` is the missing piece of the puzzle for me. Thank you! Here&#39;s my reference: https://www.baeldung.com/spring-boot-dependency, Thanks to IntelliJ team too.","body":"Okay found the difference. The part that say <code>&lt;classifier&gt;exec&lt;&#47;classifier&gt;</code> is the missing piece of the puzzle for me. Thank you! Here&#39;s my reference: <a href=\"https://www.baeldung.com/spring-boot-dependency\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-dependency</a>, Thanks to IntelliJ team too."},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701434587,"post_id":77584085,"comment_id":136778140,"body_markdown":"So that config block looks like: \n`&lt;configuration&gt;\n                        &lt;classifier&gt;exec&lt;/classifier&gt;\n&lt;/configuration&gt;\n`","body":"So that config block looks like:  <code>&lt;configuration&gt;                         &lt;classifier&gt;exec&lt;&#47;classifier&gt; &lt;&#47;configuration&gt; </code>"},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1701435515,"post_id":77584085,"comment_id":136778319,"body_markdown":"I marked @Andrey&#39;s response as the answer.","body":"I marked @Andrey&#39;s response as the answer."}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701421821,"creation_date":1701421821,"answer_id":77584085,"question_id":77583961,"body_markdown":"You need to configure `spring-boot-maven-plugin`, by default it is configured to produce executable jars which are &quot;applications&quot;, however you need a &quot;library&quot;, something like following should help:\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n...\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;repackage&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;repackage&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!-- custom classifier for executable jars --&gt;\r\n                        &lt;classifier&gt;exec&lt;/classifier&gt;\r\n                        &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n...\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nPlease note, after that executable jar name will be something like `xxxx-exec.jar`\r\n\r\nAnother, actually more preferable, option is to split your project into two submodules: &quot;library&quot; and &quot;application&quot;","title":"How to refer to another Spring based project using local Maven repository?","body":"<p>You need to configure <code>spring-boot-maven-plugin</code>, by default it is configured to produce executable jars which are &quot;applications&quot;, however you need a &quot;library&quot;, something like following should help:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n...\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;repackage&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;!-- custom classifier for executable jars --&gt;\n                        &lt;classifier&gt;exec&lt;/classifier&gt;\n                        &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n...\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Please note, after that executable jar name will be something like <code>xxxx-exec.jar</code></p>\n<p>Another, actually more preferable, option is to split your project into two submodules: &quot;library&quot; and &quot;application&quot;</p>\n"}],"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77584085,"answer_count":1,"score":0,"last_activity_date":1701421821,"creation_date":1701420293,"question_id":77583961,"body_markdown":"There are two projects. Exporting (which exports some functionality), and the Importing (using the aforementioned exporting functionality).\r\n\r\n`mvn clean install` from the exporting project and then adding that project as a `dependancy` in the importing project should theoretically make the functionality available to the second. \r\n\r\nBut when it comes to Spring Boot projects, this seem to not work.\r\n\r\nIn the screenshot below, the 1 refer to how the import works fine, as the local library is found by Maven. \r\nHowever, when you try to refer to the package, it doesn&#39;t quite work straight out as it should.\r\n\r\nAny tips?\r\n\r\nTwo projects are on GitHub: https://github.com/madukan/SpringMavenLocalRepoExample\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vPvkQ.png","title":"How to refer to another Spring based project using local Maven repository?","body":"<p>There are two projects. Exporting (which exports some functionality), and the Importing (using the aforementioned exporting functionality).</p>\n<p><code>mvn clean install</code> from the exporting project and then adding that project as a <code>dependancy</code> in the importing project should theoretically make the functionality available to the second.</p>\n<p>But when it comes to Spring Boot projects, this seem to not work.</p>\n<p>In the screenshot below, the 1 refer to how the import works fine, as the local library is found by Maven.\nHowever, when you try to refer to the package, it doesn't quite work straight out as it should.</p>\n<p>Any tips?</p>\n<p>Two projects are on GitHub: <a href=\"https://github.com/madukan/SpringMavenLocalRepoExample\" rel=\"nofollow noreferrer\">https://github.com/madukan/SpringMavenLocalRepoExample</a></p>\n<p><a href=\"https://i.stack.imgur.com/vPvkQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vPvkQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1701421672,"post_id":77583726,"comment_id":136776062,"body_markdown":"According to the screenshot, you have somehow managed to configure the non-existent folder `${src.dir}` as an source folder (`${src.dir}` looks like an Ant property). The source folder can be configured in _Project &gt; Properties: Java Build Path_ in the tab _Source_ (which will be persisted in the `.classpath` file, which might have been improperly modified by the Ant script causing this).","body":"According to the screenshot, you have somehow managed to configure the non-existent folder <code>${src.dir}</code> as an source folder (<code>${src.dir}</code> looks like an Ant property). The source folder can be configured in <i>Project &gt; Properties: Java Build Path</i> in the tab <i>Source</i> (which will be persisted in the <code>.classpath</code> file, which might have been improperly modified by the Ant script causing this)."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1701427520,"post_id":77584032,"comment_id":136777006,"body_markdown":"To add to this, to tie the answer to the question properly: Ant by default deals with the problem of &quot;Somewhere a property was used, e.g. in `&lt;mkdir dir=&quot;${src.dir}&quot; /&gt;`, but at that time the property had not been defined&quot;, is to treat the property as its own value, i.e. that would make a dir actually named `${src.dir}`, braces, dollars, and all. If the underlying FS supports it, which OP&#39;s clearly does.","body":"To add to this, to tie the answer to the question properly: Ant by default deals with the problem of &quot;Somewhere a property was used, e.g. in <code>&lt;mkdir dir=&quot;${src.dir}&quot; &#47;&gt;</code>, but at that time the property had not been defined&quot;, is to treat the property as its own value, i.e. that would make a dir actually named <code>${src.dir}</code>, braces, dollars, and all. If the underlying FS supports it, which OP&#39;s clearly does."}],"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701421196,"creation_date":1701421196,"answer_id":77584032,"question_id":77583726,"body_markdown":"Your ANT build file uses the property `${src.dir}` that is either not defined at all or it uses that property in a target that does not depend on the target that defines said property.\r\n\r\nEither ensure that `&lt;property name=&quot;src.dir&quot; .../&gt;` is defined in your ANT build file and that all targets that use the property depend on the target that defines the property or (if you do not want to specify a `src.dir` property in your build file) invoke ANT with a `-Dsrc.dir=...` command line option. In the latter case you should add a condition to your build file that fails the build if the `src.dir` property is not set.\r\n\r\nSee the [ANT manual][1] for more information.\r\n\r\n\r\n  [1]: https://ant.apache.org/manual/properties.html","title":"Ant Build in Eclipse results in ${src.dir} and I don&#39;t know how to resolve it","body":"<p>Your ANT build file uses the property <code>${src.dir}</code> that is either not defined at all or it uses that property in a target that does not depend on the target that defines said property.</p>\n<p>Either ensure that <code>&lt;property name=&quot;src.dir&quot; .../&gt;</code> is defined in your ANT build file and that all targets that use the property depend on the target that defines the property or (if you do not want to specify a <code>src.dir</code> property in your build file) invoke ANT with a <code>-Dsrc.dir=...</code> command line option. In the latter case you should add a condition to your build file that fails the build if the <code>src.dir</code> property is not set.</p>\n<p>See the <a href=\"https://ant.apache.org/manual/properties.html\" rel=\"nofollow noreferrer\">ANT manual</a> for more information.</p>\n"}],"owner":{"account_id":24059605,"reputation":17,"user_id":18037020,"display_name":"PLANET_XYZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77584032,"answer_count":1,"score":0,"last_activity_date":1701421196,"creation_date":1701417082,"question_id":77583726,"body_markdown":"So after adding a new project to my Eclipse environment through Ant, the source folder just shows `${src.dir}` and a small warning sign. The only warning I find in the problems tab is\r\n\r\n    Classpath variable &#39;JRE_LIB&#39; in project &#39;&lt;projectname&gt;&#39; is deprecated: Use the JRE System Library instead\r\n\r\nWe have no idea how to resolve this.\r\n\r\nWe&#39;ve tried compiling the project through cmd ant, which first resulted in a charset error because of UTF-8 (project is encoded in Latin-1) but we managed to fix that, ant can compile it in cmd.\r\n\r\nWe have also tried changing Eclipse&#39;s charset to Latin-1, which didn&#39;t work either.\r\n\r\n[![Screenshot of the library with the weird source folder][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1GSaK.png\r\n\r\n","title":"Ant Build in Eclipse results in ${src.dir} and I don&#39;t know how to resolve it","body":"<p>So after adding a new project to my Eclipse environment through Ant, the source folder just shows <code>${src.dir}</code> and a small warning sign. The only warning I find in the problems tab is</p>\n<pre><code>Classpath variable 'JRE_LIB' in project '&lt;projectname&gt;' is deprecated: Use the JRE System Library instead\n</code></pre>\n<p>We have no idea how to resolve this.</p>\n<p>We've tried compiling the project through cmd ant, which first resulted in a charset error because of UTF-8 (project is encoded in Latin-1) but we managed to fix that, ant can compile it in cmd.</p>\n<p>We have also tried changing Eclipse's charset to Latin-1, which didn't work either.</p>\n<p><a href=\"https://i.stack.imgur.com/1GSaK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1GSaK.png\" alt=\"Screenshot of the library with the weird source folder\" /></a></p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":13438982,"reputation":5555,"user_id":9696675,"display_name":"Constantin Beer"},"score":1,"creation_date":1567220145,"post_id":57734823,"comment_id":101909369,"body_markdown":"Maybe this helps https://stackoverflow.com/questions/10835034/gradle-sourcesets-test-classes-not-found","body":"Maybe this helps <a href=\"https://stackoverflow.com/questions/10835034/gradle-sourcesets-test-classes-not-found\" title=\"gradle sourcesets test classes not found\">stackoverflow.com/questions/10835034/&hellip;</a>"},{"owner":{"account_id":2369134,"reputation":491,"user_id":3650812,"display_name":"Regan Music"},"score":1,"creation_date":1567220995,"post_id":57734823,"comment_id":101909429,"body_markdown":"I&#39;m struggling to interpret the answer to that one. I actually went through this process last week just fine, but today I tried, after Android Studio updated and that seems to be the only difference. I&#39;ve no clue what the &quot;subprojects{} section&quot; is though.","body":"I&#39;m struggling to interpret the answer to that one. I actually went through this process last week just fine, but today I tried, after Android Studio updated and that seems to be the only difference. I&#39;ve no clue what the &quot;subprojects{} section&quot; is though."},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1567221119,"post_id":57734823,"comment_id":101909444,"body_markdown":"This is telling you that you created an Android project but that Android applications use the Android lifecycle to run, not `main`.","body":"This is telling you that you created an Android project but that Android applications use the Android lifecycle to run, not <code>main</code>."}],"answers":[{"tags":[],"owner":{"account_id":17187055,"reputation":41,"user_id":12441487,"display_name":"Arthur"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574808193,"creation_date":1574808193,"answer_id":59060461,"question_id":57734823,"body_markdown":"I had this problem momentarily as well\r\n\r\nI found when I changed Gradle to offline and then back online again then updated Gradle and made sure the connection and proxy settings were correct, things started working normally","title":"Android Studio refuses to run main()","body":"<p>I had this problem momentarily as well</p>\n\n<p>I found when I changed Gradle to offline and then back online again then updated Gradle and made sure the connection and proxy settings were correct, things started working normally</p>\n"},{"tags":[],"owner":{"account_id":11033790,"reputation":793,"user_id":8104378,"display_name":"Roshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1574809231,"creation_date":1574809231,"answer_id":59060645,"question_id":57734823,"body_markdown":"The app module is an android library and expects android lifecycle methods such as onCreate() etc for successful execution. If you want to execute plain java code one option is to add a java library to the project using File -&gt; New Module -&gt; Java Library and add the main method there:\r\n\r\n    package com.example.lib;\r\n    \r\n    public class MyClass {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello&quot;);\r\n        }\r\n    }\r\n\r\nThis would work as you expect it to. ","title":"Android Studio refuses to run main()","body":"<p>The app module is an android library and expects android lifecycle methods such as onCreate() etc for successful execution. If you want to execute plain java code one option is to add a java library to the project using File -> New Module -> Java Library and add the main method there:</p>\n\n<pre><code>package com.example.lib;\n\npublic class MyClass {\n    public static void main(String[] args) {\n        System.out.println(\"Hello\");\n    }\n}\n</code></pre>\n\n<p>This would work as you expect it to. </p>\n"},{"comments":[{"owner":{"account_id":18388087,"reputation":853,"user_id":13394585,"display_name":"Pluto"},"score":1,"creation_date":1590586192,"post_id":62042687,"comment_id":109734991,"body_markdown":"Hello ferraro ! It is best to give a comment to the question if your answer is short and does not solve the question fully!","body":"Hello ferraro ! It is best to give a comment to the question if your answer is short and does not solve the question fully!"},{"owner":{"account_id":2369134,"reputation":491,"user_id":3650812,"display_name":"Regan Music"},"score":1,"creation_date":1590678435,"post_id":62042687,"comment_id":109776566,"body_markdown":"I am grateful all the same. TY for that info :)\n\nI don&#39;t have enough reputation to upvote.","body":"I am grateful all the same. TY for that info :)  I don&#39;t have enough reputation to upvote."},{"owner":{"account_id":4762095,"reputation":332,"user_id":3849242,"accept_rate":25,"display_name":"ferraro"},"score":1,"creation_date":1590687800,"post_id":62042687,"comment_id":109781979,"body_markdown":"@ReganMusic No problem, Good to know my answer helped.","body":"@ReganMusic No problem, Good to know my answer helped."}],"tags":[],"owner":{"account_id":4762095,"reputation":332,"user_id":3849242,"accept_rate":25,"display_name":"ferraro"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590580946,"creation_date":1590580946,"answer_id":62042687,"question_id":57734823,"body_markdown":"Avoid naming the class name as Test, Android studio somehow will get screwed when you name class as Test.","title":"Android Studio refuses to run main()","body":"<p>Avoid naming the class name as Test, Android studio somehow will get screwed when you name class as Test.</p>\n"},{"comments":[{"owner":{"account_id":1440678,"reputation":2393,"user_id":1360930,"accept_rate":79,"display_name":"qkx"},"score":0,"creation_date":1640150071,"post_id":63014978,"comment_id":124524655,"body_markdown":"this is the correct answer! Thanks","body":"this is the correct answer! Thanks"}],"tags":[],"owner":{"account_id":1742388,"reputation":730,"user_id":1593416,"accept_rate":83,"display_name":"Frank"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1595335948,"creation_date":1595335948,"answer_id":63014978,"question_id":57734823,"body_markdown":"Try to run it with &quot;coverage&quot;. I don&#39;t have any explanation, but it works!","title":"Android Studio refuses to run main()","body":"<p>Try to run it with &quot;coverage&quot;. I don't have any explanation, but it works!</p>\n"},{"comments":[{"owner":{"account_id":5111302,"reputation":1420,"user_id":4097793,"display_name":"Sukhbir"},"score":0,"creation_date":1598376769,"post_id":63125553,"comment_id":112437317,"body_markdown":"This is correct. I tested as well  Run with Coverage also works.","body":"This is correct. I tested as well  Run with Coverage also works."},{"owner":{"account_id":1920213,"reputation":3023,"user_id":1731921,"accept_rate":70,"display_name":"asitis"},"score":3,"creation_date":1613577020,"post_id":63125553,"comment_id":117118585,"body_markdown":"this is the right answer! kudos.\nBut what actually does it?","body":"this is the right answer! kudos. But what actually does it?"}],"tags":[],"owner":{"account_id":14670358,"reputation":449,"user_id":10594988,"display_name":"Jian Chen"},"comment_count":2,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1609921697,"creation_date":1595897356,"answer_id":63125553,"question_id":57734823,"body_markdown":"Open &quot;gradle.xml&quot; File in this path :\r\n```\r\n.idea/gradle.xml\r\n```\r\nAdd the following line before ***&lt;/GradleProjectSettings/&gt;***\r\n```\r\n&lt;option name=&quot;delegatedBuild&quot; value=&quot;false&quot; /&gt;\r\n```\r\nThat is it , it worked for me.","title":"Android Studio refuses to run main()","body":"<p>Open &quot;gradle.xml&quot; File in this path :</p>\n<pre><code>.idea/gradle.xml\n</code></pre>\n<p>Add the following line before <em><strong>&lt;/GradleProjectSettings/&gt;</strong></em></p>\n<pre><code>&lt;option name=&quot;delegatedBuild&quot; value=&quot;false&quot; /&gt;\n</code></pre>\n<p>That is it , it worked for me.</p>\n"},{"comments":[{"owner":{"account_id":2177236,"reputation":1539,"user_id":2631304,"accept_rate":70,"display_name":"steven smith"},"score":2,"creation_date":1606148149,"post_id":63536636,"comment_id":114866683,"body_markdown":"This started happening for me right after upgrade to the latest version of kotlin.","body":"This started happening for me right after upgrade to the latest version of kotlin."},{"owner":{"account_id":5460531,"reputation":3365,"user_id":4342778,"accept_rate":76,"display_name":"Goltsev Eugene"},"score":1,"creation_date":1606236482,"post_id":63536636,"comment_id":114899944,"body_markdown":"The same, happened after update to Kotlin 1.4.20-release-Studio4.1-1. Gradle option helped, thanks a lot!!","body":"The same, happened after update to Kotlin 1.4.20-release-Studio4.1-1. Gradle option helped, thanks a lot!!"},{"owner":{"account_id":48063,"reputation":4171,"user_id":142605,"accept_rate":55,"display_name":"dzieciou"},"score":2,"creation_date":1662117464,"post_id":63536636,"comment_id":129937296,"body_markdown":"Two years later and Intellij still have the same bug :-(","body":"Two years later and Intellij still have the same bug :-("}],"tags":[],"owner":{"account_id":5111302,"reputation":1420,"user_id":4097793,"display_name":"Sukhbir"},"comment_count":3,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1645804325,"creation_date":1598102432,"answer_id":63536636,"question_id":57734823,"body_markdown":"&gt; **Quick Fix :**   You can run using **Run with Coverage.**. See Image Below.\r\n\r\n\r\n\r\n[![J][1]][1]\r\n\r\n\r\n\r\n&gt; **Permanent Solution:**  Add `&lt;option name=&quot;delegatedBuild&quot; value=&quot;false&quot; /&gt;` and sync project.\r\n\r\ninside File `gradle.xml` under path `E:\\Project\\.idea\\gradle.xml`. See Image below.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fxqEy.png\r\n  [2]: https://i.stack.imgur.com/cViIE.png","title":"Android Studio refuses to run main()","body":"<blockquote>\n<p><strong>Quick Fix :</strong>   You can run using <strong>Run with Coverage.</strong>. See Image Below.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/fxqEy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fxqEy.png\" alt=\"J\" /></a></p>\n<blockquote>\n<p><strong>Permanent Solution:</strong>  Add <code>&lt;option name=&quot;delegatedBuild&quot; value=&quot;false&quot; /&gt;</code> and sync project.</p>\n</blockquote>\n<p>inside File <code>gradle.xml</code> under path <code>E:\\Project\\.idea\\gradle.xml</code>. See Image below.</p>\n<p><a href=\"https://i.stack.imgur.com/cViIE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cViIE.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":6649224,"reputation":399,"user_id":5132029,"accept_rate":83,"display_name":"Gideon Steven"},"score":0,"creation_date":1621930634,"post_id":64540264,"comment_id":119635138,"body_markdown":"glad it helps :D","body":"glad it helps :D"}],"tags":[],"owner":{"account_id":6649224,"reputation":399,"user_id":5132029,"accept_rate":83,"display_name":"Gideon Steven"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1603726546,"creation_date":1603726546,"answer_id":64540264,"question_id":57734823,"body_markdown":"I&#39;m currently using Android Studio Version **4.0.1** \r\n\r\n 1. after creating the project, you should go to tab \r\n**File ==&gt; New ==&gt; New Module...**\r\n[![image one][1]][1]\r\n\r\n\r\n\r\n 2. on &quot;**Create New Module/ Selecte Module Type**&quot;:\r\n\r\n 3. Select **Java or Kotlin Library**\r\n [![image 2][2]][2] [![image 3][3]][3]\r\n\r\n 4. After it finish, go to javalib folder/ module that you have created. \r\n\r\n 5. Create Java file on there.\r\n [![image 4][4]][4]\r\n\r\n 6. try to run it \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vUYKh.png\r\n  [2]: https://i.stack.imgur.com/sUT6s.png\r\n  [3]: https://i.stack.imgur.com/f5E56.png\r\n  [4]: https://i.stack.imgur.com/SkhMZ.png","title":"Android Studio refuses to run main()","body":"<p>I'm currently using Android Studio Version <strong>4.0.1</strong></p>\n<ol>\n<li><p>after creating the project, you should go to tab\n<strong>File ==&gt; New ==&gt; New Module...</strong>\n<a href=\"https://i.stack.imgur.com/vUYKh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vUYKh.png\" alt=\"image one\" /></a></p>\n</li>\n<li><p>on &quot;<strong>Create New Module/ Selecte Module Type</strong>&quot;:</p>\n</li>\n<li><p>Select <strong>Java or Kotlin Library</strong>\n<a href=\"https://i.stack.imgur.com/sUT6s.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sUT6s.png\" alt=\"image 2\" /></a> <a href=\"https://i.stack.imgur.com/f5E56.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/f5E56.png\" alt=\"image 3\" /></a></p>\n</li>\n<li><p>After it finish, go to javalib folder/ module that you have created.</p>\n</li>\n<li><p>Create Java file on there.\n<a href=\"https://i.stack.imgur.com/SkhMZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SkhMZ.png\" alt=\"image 4\" /></a></p>\n</li>\n<li><p>try to run it</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22259,"user_id":5279996,"display_name":"Braian Coronel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607375004,"creation_date":1607375004,"answer_id":65189344,"question_id":57734823,"body_markdown":"If the module is from an android application or library it is not allowed to run the main; because what is expected is navigate transitions between stages of the [activity lifecycle][1].\r\n\r\nIn the following cases of modules with these plugins applied, the main can NOT be run.\r\n\r\n## build.gradle.kts (:appAndroid) ##\r\n\r\n    plugins {\r\n        id(&quot;com.android.application&quot;)\r\n        id(&quot;kotlin-android&quot;)\r\n    }\r\n\r\n\r\n## build.gradle.kts (:libraryAndroid) ##\r\n\r\n    plugins {\r\n        id(&quot;com.android.library&quot;)\r\n        id(&quot;kotlin-android&quot;)\r\n    }\r\n\r\n\r\n## build.gradle.kts (:kmmShared) ##\r\n\r\n    plugins {\r\n        kotlin(&quot;multiplatform&quot;)\r\n        id(&quot;com.android.library&quot;)\r\n    }\r\n\r\nIf the purpose of running the main was to test things, what you really have to do is use the sourceSets of `test`.\r\n\r\n___\r\n\r\n\r\n# If the module is from a Java or Kotlin library, running the main is allowed so the error would not exist.\r\n\r\nThe following applied plugins describe a JVM library:\r\n\r\n## build.gradle.kts (:jvmLibrary) ##\r\n\r\n    plugins {\r\n        id(&quot;java-library&quot;)\r\n        id(&quot;kotlin&quot;)\r\n    }\r\n\r\n___\r\n\r\nFinally, if using the `test` sourceSets or creating a JVM module was not enough for you, there is a &#39;hack&#39; which is weak because it depends on the IDE (It does not work in KMM modules).\r\n\r\n## .idea/gradle.xml ##\r\n\r\n    &lt;project version=&quot;4&quot;&gt;\r\n      &lt;component name=&quot;GradleSettings&quot;&gt;\r\n        &lt;option name=&quot;linkedExternalProjectsSettings&quot;&gt;\r\n          &lt;GradleProjectSettings&gt;\r\n  \r\n            &lt;option name=&quot;delegatedBuild&quot; value=&quot;false&quot; /&gt;\r\n  \r\n          &lt;/GradleProjectSettings&gt;\r\n        &lt;/option&gt;\r\n      &lt;/component&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nGL\r\n\r\n  [1]: https://developer.android.com/guide/components/activities/activity-lifecycle","title":"Android Studio refuses to run main()","body":"<p>If the module is from an android application or library it is not allowed to run the main; because what is expected is navigate transitions between stages of the <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle\" rel=\"nofollow noreferrer\">activity lifecycle</a>.</p>\n<p>In the following cases of modules with these plugins applied, the main can NOT be run.</p>\n<h2>build.gradle.kts (:appAndroid)</h2>\n<pre><code>plugins {\n    id(&quot;com.android.application&quot;)\n    id(&quot;kotlin-android&quot;)\n}\n</code></pre>\n<h2>build.gradle.kts (:libraryAndroid)</h2>\n<pre><code>plugins {\n    id(&quot;com.android.library&quot;)\n    id(&quot;kotlin-android&quot;)\n}\n</code></pre>\n<h2>build.gradle.kts (:kmmShared)</h2>\n<pre><code>plugins {\n    kotlin(&quot;multiplatform&quot;)\n    id(&quot;com.android.library&quot;)\n}\n</code></pre>\n<p>If the purpose of running the main was to test things, what you really have to do is use the sourceSets of <code>test</code>.</p>\n<hr />\n<h1>If the module is from a Java or Kotlin library, running the main is allowed so the error would not exist.</h1>\n<p>The following applied plugins describe a JVM library:</p>\n<h2>build.gradle.kts (:jvmLibrary)</h2>\n<pre><code>plugins {\n    id(&quot;java-library&quot;)\n    id(&quot;kotlin&quot;)\n}\n</code></pre>\n<hr />\n<p>Finally, if using the <code>test</code> sourceSets or creating a JVM module was not enough for you, there is a 'hack' which is weak because it depends on the IDE (It does not work in KMM modules).</p>\n<h2>.idea/gradle.xml</h2>\n<pre><code>&lt;project version=&quot;4&quot;&gt;\n  &lt;component name=&quot;GradleSettings&quot;&gt;\n    &lt;option name=&quot;linkedExternalProjectsSettings&quot;&gt;\n      &lt;GradleProjectSettings&gt;\n\n        &lt;option name=&quot;delegatedBuild&quot; value=&quot;false&quot; /&gt;\n\n      &lt;/GradleProjectSettings&gt;\n    &lt;/option&gt;\n  &lt;/component&gt;\n&lt;/project&gt;\n</code></pre>\n<p>GL</p>\n"},{"tags":[],"owner":{"account_id":1047847,"reputation":129,"user_id":1052478,"display_name":"user1052478"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646937404,"creation_date":1646937404,"answer_id":71429159,"question_id":57734823,"body_markdown":"I have not much idea about it as I am very new in Android development and Android Studio. But after reading some solution over the internet and watchin some Youtube Videos, I have fixed it.\r\n\r\nIn app/build.gradle under dependencies for me \r\nimplementation &#39;androidx.appcompat:appcompat:1.4.1&#39; - this was there\r\n\r\nI changed it to \r\nimplementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n\r\nrebuilt the project and run, it worked for me..\r\n\r\nI guess there must be some android studio update (in the latest version) was causing the problem.","title":"Android Studio refuses to run main()","body":"<p>I have not much idea about it as I am very new in Android development and Android Studio. But after reading some solution over the internet and watchin some Youtube Videos, I have fixed it.</p>\n<p>In app/build.gradle under dependencies for me\nimplementation 'androidx.appcompat:appcompat:1.4.1' - this was there</p>\n<p>I changed it to\nimplementation 'androidx.appcompat:appcompat:1.2.0'</p>\n<p>rebuilt the project and run, it worked for me..</p>\n<p>I guess there must be some android studio update (in the latest version) was causing the problem.</p>\n"},{"comments":[{"owner":{"account_id":15499012,"reputation":341,"user_id":11181028,"display_name":"Brian M"},"score":0,"creation_date":1700355871,"post_id":73670708,"comment_id":136644640,"body_markdown":"Magicly this worked for me.","body":"Magicly this worked for me."}],"tags":[],"owner":{"account_id":9734655,"reputation":11,"user_id":7218332,"display_name":"Sanjay Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662802298,"creation_date":1662802190,"answer_id":73670708,"question_id":57734823,"body_markdown":"I also got stuck in this problem. I am using **Android Studio Arctic Fox** in **Macbook Pro M1**. I have also tried to add New Module and Select **Java and Kotlin Library** and edited the configuration but it did not work for me. But it did work on my Windows System.\r\n\r\nIn macbook, I simply downgraded the dependancy in my App level **build.gradle** file \r\nfrom\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.0&#39;\r\n\r\nto\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n\r\nand run my Java Class as **Run as Coverage** and it worked.\r\n","title":"Android Studio refuses to run main()","body":"<p>I also got stuck in this problem. I am using <strong>Android Studio Arctic Fox</strong> in <strong>Macbook Pro M1</strong>. I have also tried to add New Module and Select <strong>Java and Kotlin Library</strong> and edited the configuration but it did not work for me. But it did work on my Windows System.</p>\n<p>In macbook, I simply downgraded the dependancy in my App level <strong>build.gradle</strong> file\nfrom</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.5.0'\n</code></pre>\n<p>to</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.2.0'\n</code></pre>\n<p>and run my Java Class as <strong>Run as Coverage</strong> and it worked.</p>\n"},{"tags":[],"owner":{"account_id":29957307,"reputation":1,"user_id":22957915,"display_name":"حسن زال"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701420918,"creation_date":1701420918,"answer_id":77584009,"question_id":57734823,"body_markdown":"i had the same problem, but this way the error went away.\r\nIn the priject field right click on app,\r\nselect\r\nNew module, then chosse java or kotlin Library.\r\nAfter that open your brand new module.\r\nInside public class write main and hit enter.\r\nNow inside your main class you are able to write your code.as you wished.","title":"Android Studio refuses to run main()","body":"<p>i had the same problem, but this way the error went away.\nIn the priject field right click on app,\nselect\nNew module, then chosse java or kotlin Library.\nAfter that open your brand new module.\nInside public class write main and hit enter.\nNow inside your main class you are able to write your code.as you wished.</p>\n"}],"owner":{"account_id":2369134,"reputation":491,"user_id":3650812,"display_name":"Regan Music"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27560,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"answer_count":11,"score":37,"last_activity_date":1701420918,"creation_date":1567219760,"question_id":57734823,"body_markdown":"Repro steps:\r\n\r\n 1. Start a new project in Android Studio (with the latest update);\r\n 2. Make a new class and add main() as usual;\r\n 3. Right-click class to run main() as a test.\r\n\r\n```java\r\npackage test;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n    }\r\n}\r\n```\r\n\r\nUsually I expect I can just `System.out.printLn(&quot;Hello World&quot;)` but this time, no matter if it&#39;s a new project, I get the following error:\r\n\r\n```\r\n2:34:23 PM: Executing task &#39;Test.main()&#39;...\r\n\r\nExecuting tasks: [Test.main()] in project C:\\Users\\regan\\Desktop\\events\\MyApplication\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nInitialization script &#39;C:\\Users\\regan\\AppData\\Local\\Temp\\Test_main__2.gradle&#39; line: 20\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:app&#39;.\r\n&gt; Could not create task &#39;:app:Test.main()&#39;.\r\n   &gt; SourceSet with name &#39;test&#39; not found.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/5.4.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 0s\r\n2:34:24 PM: Task execution finished &#39;Test.main()&#39;.\r\n```\r\n\r\nI am *fairly* new to Java after years of C# in Unity and have no idea what all this stuff is trying to tell me. I have googled but the closest I found was a way to HIDE this error (assuming code was still compiling). I need this code to at least compile.","title":"Android Studio refuses to run main()","body":"<p>Repro steps:</p>\n\n<ol>\n<li>Start a new project in Android Studio (with the latest update);</li>\n<li>Make a new class and add main() as usual;</li>\n<li>Right-click class to run main() as a test.</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\npublic class Test {\n    public static void main(String[] args) {\n    }\n}\n</code></pre>\n\n<p>Usually I expect I can just <code>System.out.printLn(\"Hello World\")</code> but this time, no matter if it's a new project, I get the following error:</p>\n\n<pre><code>2:34:23 PM: Executing task 'Test.main()'...\n\nExecuting tasks: [Test.main()] in project C:\\Users\\regan\\Desktop\\events\\MyApplication\n\n\nFAILURE: Build failed with an exception.\n\n* Where:\nInitialization script 'C:\\Users\\regan\\AppData\\Local\\Temp\\Test_main__2.gradle' line: 20\n\n* What went wrong:\nA problem occurred configuring project ':app'.\n&gt; Could not create task ':app:Test.main()'.\n   &gt; SourceSet with name 'test' not found.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/5.4.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 0s\n2:34:24 PM: Task execution finished 'Test.main()'.\n</code></pre>\n\n<p>I am <em>fairly</em> new to Java after years of C# in Unity and have no idea what all this stuff is trying to tell me. I have googled but the closest I found was a way to HIDE this error (assuming code was still compiling). I need this code to at least compile.</p>\n"},{"tags":["java","tomcat","centos","http-status-code-500"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701376996,"post_id":77579015,"comment_id":136771482,"body_markdown":"Err, provide a ChartRenderingInfo value?","body":"Err, provide a ChartRenderingInfo value?"}],"answers":[{"tags":[],"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701420528,"creation_date":1701420528,"answer_id":77583974,"question_id":77579015,"body_markdown":"As per [documentation][1], nulls are allowed for ChartRenderingInfo in &#39;saveChartAsPNG&#39;, so check if your other object parameters (JFreeChart and HttpSession) are the ones expected, as in package, versions etc.\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/servlet/ServletUtilities.html#saveChartAsPNG-org.jfree.chart.JFreeChart-int-int-org.jfree.chart.ChartRenderingInfo-javax.servlet.http.HttpSession-","title":"HTTP Status 500 – Internal Server Error about ServletUtilities","body":"<p>As per <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/servlet/ServletUtilities.html#saveChartAsPNG-org.jfree.chart.JFreeChart-int-int-org.jfree.chart.ChartRenderingInfo-javax.servlet.http.HttpSession-\" rel=\"nofollow noreferrer\">documentation</a>, nulls are allowed for ChartRenderingInfo in 'saveChartAsPNG', so check if your other object parameters (JFreeChart and HttpSession) are the ones expected, as in package, versions etc.</p>\n"}],"owner":{"account_id":8769016,"reputation":547,"user_id":6556472,"accept_rate":60,"display_name":"georgetovrea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701420528,"creation_date":1701352473,"question_id":77579015,"body_markdown":"I am trying to make a Web Service using Tomcat 10 and jdk11 on centos.\r\n\r\nbut I got HTTP Status 500 – Internal Server Error, and show An error occurred at line: [703] in the jsp file: [/index.jsp] \r\n    \r\nIt&#39;s  said The method saveChartAsPNG(JFreeChart, int, int, ChartRenderingInfo, HttpSession) in the type ServletUtilities is not applicable for the arguments (JFreeChart, int, int, null, HttpSession)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nmy code as below,\r\n\r\n    ValueAxis   rangeAxis   =   plot.getRangeAxis();   \r\n    rangeAxis.setUpperMargin(1);\r\n \r\n    String filename = ServletUtilities.saveChartAsPNG(chart, 200, 160, null, session);\r\n    String graphURL = request.getContextPath()+&quot;/DisplayChart?filename=&quot;+filename; \r\n\r\n\r\n \r\n\r\nPlease anyone can tell me what to do to fix this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IvxTp.jpg","title":"HTTP Status 500 – Internal Server Error about ServletUtilities","body":"<p>I am trying to make a Web Service using Tomcat 10 and jdk11 on centos.</p>\n<p>but I got HTTP Status 500 – Internal Server Error, and show An error occurred at line: [703] in the jsp file: [/index.jsp]</p>\n<p>It's  said The method saveChartAsPNG(JFreeChart, int, int, ChartRenderingInfo, HttpSession) in the type ServletUtilities is not applicable for the arguments (JFreeChart, int, int, null, HttpSession)</p>\n<p><a href=\"https://i.stack.imgur.com/IvxTp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IvxTp.jpg\" alt=\"enter image description here\" /></a></p>\n<p>my code as below,</p>\n<pre><code>ValueAxis   rangeAxis   =   plot.getRangeAxis();   \nrangeAxis.setUpperMargin(1);\n\nString filename = ServletUtilities.saveChartAsPNG(chart, 200, 160, null, session);\nString graphURL = request.getContextPath()+&quot;/DisplayChart?filename=&quot;+filename; \n</code></pre>\n<p>Please anyone can tell me what to do to fix this?</p>\n"},{"tags":["java","caching","spring-cache"],"answers":[{"comments":[{"owner":{"account_id":4039357,"reputation":1442,"user_id":3322664,"accept_rate":4,"display_name":"nole"},"score":1,"creation_date":1421339833,"post_id":27968317,"comment_id":44329370,"body_markdown":"Spring boot doesn&#39;t have *xml","body":"Spring boot doesn&#39;t have *xml"},{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":8,"creation_date":1421339985,"post_id":27968317,"comment_id":44329459,"body_markdown":"Oh yes there is! :) This is the default location for the EHCache configuration. Other caching libraries will presumably expect different locations.","body":"Oh yes there is! :) This is the default location for the EHCache configuration. Other caching libraries will presumably expect different locations."}],"tags":[],"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1514969222,"creation_date":1421339665,"answer_id":27968317,"question_id":27968157,"body_markdown":"Note that this answer uses [ehcache](http://www.ehcache.org), which is one of supported Spring Boot cache managers, and arguably one of the most popular.\r\n\r\nFirst you need to add to `pom.xml`:\r\n\r\n    &lt;!-- Spring Framework Caching Support --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn `src/main/resources/ehcache.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;ehcache&gt;\r\n        &lt;defaultCache eternal=&quot;true&quot; maxElementsInMemory=&quot;100&quot; overflowToDisk=&quot;false&quot; /&gt;\r\n        &lt;cache name=&quot;forecast&quot; \r\n               maxElementsInMemory=&quot;1000&quot; \r\n               timeToIdleSeconds=&quot;120&quot;\r\n               timeToLiveSeconds=&quot;120&quot;\r\n               overflowToDisk=&quot;false&quot;\r\n               memoryStoreEvictionPolicy=&quot;LRU&quot; /&gt;\r\n    &lt;/ehcache&gt;","title":"Expiry time @cacheable spring boot","body":"<p>Note that this answer uses <a href=\"http://www.ehcache.org\" rel=\"noreferrer\">ehcache</a>, which is one of supported Spring Boot cache managers, and arguably one of the most popular.</p>\n\n<p>First you need to add to <code>pom.xml</code>:</p>\n\n<pre><code>&lt;!-- Spring Framework Caching Support --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In <code>src/main/resources/ehcache.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;ehcache&gt;\n    &lt;defaultCache eternal=\"true\" maxElementsInMemory=\"100\" overflowToDisk=\"false\" /&gt;\n    &lt;cache name=\"forecast\" \n           maxElementsInMemory=\"1000\" \n           timeToIdleSeconds=\"120\"\n           timeToLiveSeconds=\"120\"\n           overflowToDisk=\"false\"\n           memoryStoreEvictionPolicy=\"LRU\" /&gt;\n&lt;/ehcache&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4039357,"reputation":1442,"user_id":3322664,"accept_rate":4,"display_name":"nole"},"score":1,"creation_date":1421341099,"post_id":27968542,"comment_id":44330252,"body_markdown":"Thank you. Finally I have added this in my application.yml: spring.resources.cache-period","body":"Thank you. Finally I have added this in my application.yml: spring.resources.cache-period"},{"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"score":3,"creation_date":1421400559,"post_id":27968542,"comment_id":44353047,"body_markdown":"Sorry, I don&#39;t see the link with your example. Sounds like totally unrelated to me. That property is to configure the cache period of the web resources.","body":"Sorry, I don&#39;t see the link with your example. Sounds like totally unrelated to me. That property is to configure the cache period of the web resources."}],"tags":[],"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1421340319,"creation_date":1421340319,"answer_id":27968542,"question_id":27968157,"body_markdown":"From the [reference documentation](http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/htmlsingle/#cache-specific-config)\r\n\r\n&gt; Directly through your cache provider. The cache abstraction is… well, an abstraction not a cache implementation. The solution you are using might support various data policies and different topologies which other solutions do not (take for example the JDK ConcurrentHashMap) - exposing that in the cache abstraction would be useless simply because there would no backing support. Such functionality should be controlled directly through the backing cache, when configuring it or through its native API.","title":"Expiry time @cacheable spring boot","body":"<p>From the <a href=\"http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/htmlsingle/#cache-specific-config\" rel=\"noreferrer\">reference documentation</a></p>\n\n<blockquote>\n  <p>Directly through your cache provider. The cache abstraction is… well, an abstraction not a cache implementation. The solution you are using might support various data policies and different topologies which other solutions do not (take for example the JDK ConcurrentHashMap) - exposing that in the cache abstraction would be useless simply because there would no backing support. Such functionality should be controlled directly through the backing cache, when configuring it or through its native API.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5073856,"reputation":1083,"user_id":4071862,"display_name":"Sameer Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1422211024,"creation_date":1422211024,"answer_id":28139968,"question_id":27968157,"body_markdown":"You cannot specify expiry time with @cacheable notation, since @cacheable does not provide any such configurable option.\r\n\r\nHowever different caching vendors providing spring caching have provided this feature through their own configurations. For example [NCache][1] / [TayzGrid][2] allows you to [create different cache regions with configurable expiration time][3].\r\n\r\nIf you have implemented your own cache, you will need to define a way to specify expiration in you cache provider and will also need to incorporate expiration logic in your solution.\r\n\r\n\r\n  [1]: http://www.alachisoft.com/ncache/\r\n  [2]: http://www.tayzgrid.com/\r\n  [3]: http://www.tayzgrid.com/tayzgrid/spring-integration.html","title":"Expiry time @cacheable spring boot","body":"<p>You cannot specify expiry time with @cacheable notation, since @cacheable does not provide any such configurable option.</p>\n\n<p>However different caching vendors providing spring caching have provided this feature through their own configurations. For example <a href=\"http://www.alachisoft.com/ncache/\" rel=\"noreferrer\">NCache</a> / <a href=\"http://www.tayzgrid.com/\" rel=\"noreferrer\">TayzGrid</a> allows you to <a href=\"http://www.tayzgrid.com/tayzgrid/spring-integration.html\" rel=\"noreferrer\">create different cache regions with configurable expiration time</a>.</p>\n\n<p>If you have implemented your own cache, you will need to define a way to specify expiration in you cache provider and will also need to incorporate expiration logic in your solution.</p>\n"},{"comments":[{"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"score":24,"creation_date":1568019665,"post_id":38261593,"comment_id":102128295,"body_markdown":"Nice but this will evict all entries, old or new ones.","body":"Nice but this will evict all entries, old or new ones."}],"tags":[],"owner":{"account_id":5632403,"reputation":1261,"user_id":4458964,"accept_rate":0,"display_name":"Atum"},"comment_count":1,"down_vote_count":6,"up_vote_count":44,"is_accepted":false,"score":38,"last_activity_date":1660589395,"creation_date":1467964504,"answer_id":38261593,"question_id":27968157,"body_markdown":"I use life hacking like this:\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    @EnableScheduling\r\n    public class CachingConfig {\r\n\r\n      public static final String GAMES = &quot;GAMES&quot;;\r\n\r\n      @Bean\r\n      public CacheManager cacheManager() {\r\n        ConcurrentMapCacheManager cacheManager = new ConcurrentMapCacheManager(GAMES);\r\n        return cacheManager;\r\n      }\r\n   \r\n      @CacheEvict(allEntries = true, value = {GAMES})\r\n      @Scheduled(fixedDelay = 10 * 60 * 1000 ,  initialDelay = 500)\r\n      public void reportCacheEvict() {\r\n        System.out.println(&quot;Flush Cache &quot; + dateFormat.format(new Date()));\r\n      }\r\n\r\n    }","title":"Expiry time @cacheable spring boot","body":"<p>I use life hacking like this:</p>\n<pre><code>@Configuration\n@EnableCaching\n@EnableScheduling\npublic class CachingConfig {\n\n  public static final String GAMES = &quot;GAMES&quot;;\n\n  @Bean\n  public CacheManager cacheManager() {\n    ConcurrentMapCacheManager cacheManager = new ConcurrentMapCacheManager(GAMES);\n    return cacheManager;\n  }\n\n  @CacheEvict(allEntries = true, value = {GAMES})\n  @Scheduled(fixedDelay = 10 * 60 * 1000 ,  initialDelay = 500)\n  public void reportCacheEvict() {\n    System.out.println(&quot;Flush Cache &quot; + dateFormat.format(new Date()));\n  }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"score":0,"creation_date":1636366029,"post_id":51310643,"comment_id":123528038,"body_markdown":"If I use caffeine cache.how to fill `hibernate.cache.region.factory_class` in `spring.properties`","body":"If I use caffeine cache.how to fill <code>hibernate.cache.region.factory_class</code> in <code>spring.properties</code>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1693501439,"post_id":51310643,"comment_id":135772915,"body_markdown":"For others finding this answer, note that more information for these settings is in the [Spring Boot Documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#io.caching.provider.caffeine).","body":"For others finding this answer, note that more information for these settings is in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#io.caching.provider.caffeine\" rel=\"nofollow noreferrer\">Spring Boot Documentation</a>."}],"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1531413243,"creation_date":1531413243,"answer_id":51310643,"question_id":27968157,"body_markdown":"I use caffeine-caching, with this configuration for a 60 minute expiration:\r\n\r\n    spring.cache.cache-names=forecast\r\n    spring.cache.caffeine.spec=expireAfterWrite=60m\r\n","title":"Expiry time @cacheable spring boot","body":"<p>I use caffeine-caching, with this configuration for a 60 minute expiration:</p>\n\n<pre><code>spring.cache.cache-names=forecast\nspring.cache.caffeine.spec=expireAfterWrite=60m\n</code></pre>\n"},{"comments":[{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":1,"creation_date":1655219008,"post_id":64433430,"comment_id":128277618,"body_markdown":"This should be considered as a workaround as this clears the whole cache (contrary to the notion of expiration which is different for each cached element).","body":"This should be considered as a workaround as this clears the whole cache (contrary to the notion of expiration which is different for each cached element)."},{"owner":{"account_id":2380565,"reputation":165,"user_id":2082681,"display_name":"havryliuk"},"score":0,"creation_date":1677055078,"post_id":64433430,"comment_id":133259745,"body_markdown":"@JulienKronegg you can create such schedules for each cache separately. I agree that it muat be not the most convenient way though.","body":"@JulienKronegg you can create such schedules for each cache separately. I agree that it muat be not the most convenient way though."}],"tags":[],"owner":{"account_id":15828703,"reputation":2256,"user_id":11420760,"display_name":"talhature"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1603133247,"creation_date":1603133247,"answer_id":64433430,"question_id":27968157,"body_markdown":"You can achieve this kind of eviction strategy by making use of [`@Scheduled`][1] annotation. It is possible to schedule with a fixedRate or even with a cron expression.\r\n\r\n    @Autowired\r\n\tCacheManager cacheManager;\r\n    \r\n    public void evictAllCaches() {\r\n    \t    cacheManager.getCacheNames().stream()\r\n    \t      .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\r\n    }\r\n    \r\n    @Scheduled(fixedRate = 6000)\r\n    public void evictAllcachesAtIntervals() {\r\n    \t    evictAllCaches();\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-scheduled-tasks","title":"Expiry time @cacheable spring boot","body":"<p>You can achieve this kind of eviction strategy by making use of <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\"><code>@Scheduled</code></a> annotation. It is possible to schedule with a fixedRate or even with a cron expression.</p>\n<pre><code>@Autowired\nCacheManager cacheManager;\n\npublic void evictAllCaches() {\n        cacheManager.getCacheNames().stream()\n          .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\n}\n\n@Scheduled(fixedRate = 6000)\npublic void evictAllcachesAtIntervals() {\n        evictAllCaches();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"score":0,"creation_date":1636366043,"post_id":67293549,"comment_id":123528041,"body_markdown":"If I use caffeine cache.how to fill `hibernate.cache.region.factory_class` in `spring.properties`","body":"If I use caffeine cache.how to fill <code>hibernate.cache.region.factory_class</code> in <code>spring.properties</code>"}],"tags":[],"owner":{"account_id":6105736,"reputation":1223,"user_id":4763511,"accept_rate":80,"display_name":"Bu Saeed"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619582136,"creation_date":1619582136,"answer_id":67293549,"question_id":27968157,"body_markdown":"If you are using Caffeine than you can add the following line in your `application.properties` file:\r\n\r\n    spring.cache.caffeine.spec=expireAfterAccess=300s","title":"Expiry time @cacheable spring boot","body":"<p>If you are using Caffeine than you can add the following line in your <code>application.properties</code> file:</p>\n<pre><code>spring.cache.caffeine.spec=expireAfterAccess=300s\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11745569,"reputation":181,"user_id":8596440,"display_name":"Amritansh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641020889,"creation_date":1641020889,"answer_id":70547408,"question_id":27968157,"body_markdown":"Found this [Spring cache: Set expiry time to a cache entry][1].\r\n\r\nIt uses the `spring-boot-starter-cache` dependency and works as expected . You can configure the expiry time for cached objects as well as the max number of cached values.\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2019/09/spring-cache-set-expiry-time-to-cache.html","title":"Expiry time @cacheable spring boot","body":"<p>Found this <a href=\"https://self-learning-java-tutorial.blogspot.com/2019/09/spring-cache-set-expiry-time-to-cache.html\" rel=\"nofollow noreferrer\">Spring cache: Set expiry time to a cache entry</a>.</p>\n<p>It uses the <code>spring-boot-starter-cache</code> dependency and works as expected . You can configure the expiry time for cached objects as well as the max number of cached values.</p>\n"},{"tags":[],"owner":{"account_id":20475886,"reputation":1,"user_id":15025240,"display_name":"Ferhat C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701420352,"creation_date":1701335372,"answer_id":77577158,"question_id":27968157,"body_markdown":"You can solve it with a `LocalDateTime` object. For example:\r\n\r\n    @Cacheable(value=&quot;forecast&quot;, key = &quot;#date.toString()&quot;)\r\n    public void forecast(LocalDate date){\r\n        //\r\n    }\r\n    public void call(){\r\n        forecast(LocalDate.now());\r\n    }\r\n\r\nCache will expire after 1 day.\r\n\r\nPositive aspect - it does not require a scheduled job.\r\n\r\nNegative aspect - old data remains cached.\r\n","title":"Expiry time @cacheable spring boot","body":"<p>You can solve it with a <code>LocalDateTime</code> object. For example:</p>\n<pre><code>@Cacheable(value=&quot;forecast&quot;, key = &quot;#date.toString()&quot;)\npublic void forecast(LocalDate date){\n    //\n}\npublic void call(){\n    forecast(LocalDate.now());\n}\n</code></pre>\n<p>Cache will expire after 1 day.</p>\n<p>Positive aspect - it does not require a scheduled job.</p>\n<p>Negative aspect - old data remains cached.</p>\n"}],"owner":{"account_id":4039357,"reputation":1442,"user_id":3322664,"accept_rate":4,"display_name":"nole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102816,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"answer_count":9,"score":56,"last_activity_date":1701420352,"creation_date":1421339196,"question_id":27968157,"body_markdown":"I have implemented a cache and now I want to add an expiry time.\r\n\r\nHow can I set an expiry time in spring boot with `@Cacheable`? \r\n\r\nThis is a code snippet:\r\n\r\n    @Cacheable(value=&quot;forecast&quot;,unless=&quot;#result == null&quot;)\r\n\r\n","title":"Expiry time @cacheable spring boot","body":"<p>I have implemented a cache and now I want to add an expiry time.</p>\n\n<p>How can I set an expiry time in spring boot with <code>@Cacheable</code>? </p>\n\n<p>This is a code snippet:</p>\n\n<pre><code>@Cacheable(value=\"forecast\",unless=\"#result == null\")\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701418890,"post_id":77583811,"comment_id":136775628,"body_markdown":"Please show the pom files of both projects..","body":"Please show the pom files of both projects.."},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1701419320,"post_id":77583811,"comment_id":136775685,"body_markdown":"Are you sure you don&#39;t have an old version of A2?Please, share both poms.","body":"Are you sure you don&#39;t have an old version of A2?Please, share both poms."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1701421650,"post_id":77583811,"comment_id":136776058,"body_markdown":"I think this is the reason. A has dependencyManagement limits jakarta.json-api (short as JJA) version to 1.1.6. And `elasticsearch-java` pom requires JJA 2.0.1 version and scope provided. Although A2 has 2.0.1 in pom.xml directly, ES brings 1.1.6. And A1 has A2 as dependency, A1 has 1.1.6 from parent, and both 1.1.6 and 2.0.1 from A2, so it decides to use 1.1.6. The odd part is ES pom JJA version does not work, which probably written somewhere on maven website: why provided version can be different from version required in pom.","body":"I think this is the reason. A has dependencyManagement limits jakarta.json-api (short as JJA) version to 1.1.6. And <code>elasticsearch-java</code> pom requires JJA 2.0.1 version and scope provided. Although A2 has 2.0.1 in pom.xml directly, ES brings 1.1.6. And A1 has A2 as dependency, A1 has 1.1.6 from parent, and both 1.1.6 and 2.0.1 from A2, so it decides to use 1.1.6. The odd part is ES pom JJA version does not work, which probably written somewhere on maven website: why provided version can be different from version required in pom."}],"answers":[{"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1701420752,"post_id":77583925,"comment_id":136775904,"body_markdown":"The idiomatic way of enforcing versions of transitive dependencies it to take advantage of `dependencyManagement`","body":"The idiomatic way of enforcing versions of transitive dependencies it to take advantage of <code>dependencyManagement</code>"}],"tags":[],"owner":{"account_id":7681868,"reputation":11,"user_id":5820905,"display_name":"dev_abhi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701419854,"creation_date":1701419854,"answer_id":77583925,"question_id":77583811,"body_markdown":"Maven resolves conflicting dependencies based on the nearest definition rule. A2 should be resolved using A as parent dependency in your case. Maven will use the version closest to the project declaring the dependency. You can explicitly control versions providing direct dependency or write exculsions on one of the dependencies.","title":"local maven dependency crashes? what causes dependency version different from that in pom?","body":"<p>Maven resolves conflicting dependencies based on the nearest definition rule. A2 should be resolved using A as parent dependency in your case. Maven will use the version closest to the project declaring the dependency. You can explicitly control versions providing direct dependency or write exculsions on one of the dependencies.</p>\n"}],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701420347,"creation_date":1701418249,"question_id":77583811,"body_markdown":"In a project, it has maven module as following:\r\n```\r\nA -&gt; A1, A2, module A has 2 sub modules A1 and A2.\r\nA1 -&gt; A2, module A1 has A2 as its dependency\r\n```\r\nby running `mvn dependency:tree` in A1, it shows following result:\r\n```\r\n[INFO] +- A2:jar:1.0.0-SNAPSHOT:compile\r\n[INFO] |  +- co.elastic.clients:elasticsearch-java:jar:8.2.3:compile\r\n[INFO] |  |  +- org.elasticsearch.client:elasticsearch-rest-client:jar:7.6.2:compile\r\n[INFO] |  |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n[INFO] |  |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.14:compile\r\n[INFO] |  |  |  +- org.apache.httpcomponents:httpasyncclient:jar:4.1.4:compile\r\n[INFO] |  |  |  \\- org.apache.httpcomponents:httpcore-nio:jar:4.4.14:compile\r\n[INFO] |  |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n[INFO] |  |  \\- org.eclipse.parsson:parsson:jar:1.0.0:compile\r\n[INFO] |  +- jakarta.json:jakarta.json-api:jar:1.1.6:compile\r\n```\r\n\r\nrunning the same command in A2, it shows following result:\r\n```\r\n[INFO] +- co.elastic.clients:elasticsearch-java:jar:8.2.3:compile\r\n[INFO] |  +- org.elasticsearch.client:elasticsearch-rest-client:jar:7.6.2:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.14:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpasyncclient:jar:4.1.4:compile\r\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore-nio:jar:4.4.14:compile\r\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n[INFO] |  \\- org.eclipse.parsson:parsson:jar:1.0.0:compile\r\n[INFO] +- jakarta.json:jakarta.json-api:jar:2.0.1:compile\r\n```\r\n\r\n`jakarta.json-api` has wrong version in A1, and the hint is it is included from A2. However, in A2, hint shows it has no `version 1.1.6 jakarta.json-api`\r\n\r\nThis is result form git bash CLI, not any tool used. This is the first time I encoutered maven dependency behaves like this. all commands are run after `mvn clean`\r\n\r\nThis is A2 pom:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;mygroup.ai&lt;/groupId&gt;\r\n        &lt;artifactId&gt;A&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;A2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-redis-reactive&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;druid&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.elasticsearch.client/elasticsearch-rest-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.yomahub&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tlog-web-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nA1&#39;s pom:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;mygroup.ai&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;A&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath&gt;..&lt;/relativePath&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;artifactId&gt;A1&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;A1&lt;/name&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mygroup.ai&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;A2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis-reactive&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;druid&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- I added this to make it right, although it does not have to be present --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.yomahub&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tlog-web-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--jasypt--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;mygroup.ai.A.Application&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI used a GUI tool to parse A1 pom.xml, it shows this:\r\n```\r\nA2: 1.0.0-SNAPSHOT[compile]\r\n- elasticsearch-java: 8.2.3[compile](omitted for conflict with 2.0.1)\r\n- - jakarta.json-api: 1.1.6 [compile]\r\n- - parsson: 1.0.0[compile]\r\n- - - jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\r\n- jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\r\njakarta.json-api: 2.0.1 [compile]\r\n```\r\nAnd used that tool to parse A2 pom.xml:\r\n```\r\nelasticsearch-java: 8.2.3[compile]\r\n- jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\r\n- parsson: 1.0.0[compile]\r\n- - jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\r\njakarta.json-api: 2.0.1 [compile]\r\n```","title":"local maven dependency crashes? what causes dependency version different from that in pom?","body":"<p>In a project, it has maven module as following:</p>\n<pre><code>A -&gt; A1, A2, module A has 2 sub modules A1 and A2.\nA1 -&gt; A2, module A1 has A2 as its dependency\n</code></pre>\n<p>by running <code>mvn dependency:tree</code> in A1, it shows following result:</p>\n<pre><code>[INFO] +- A2:jar:1.0.0-SNAPSHOT:compile\n[INFO] |  +- co.elastic.clients:elasticsearch-java:jar:8.2.3:compile\n[INFO] |  |  +- org.elasticsearch.client:elasticsearch-rest-client:jar:7.6.2:compile\n[INFO] |  |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n[INFO] |  |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.14:compile\n[INFO] |  |  |  +- org.apache.httpcomponents:httpasyncclient:jar:4.1.4:compile\n[INFO] |  |  |  \\- org.apache.httpcomponents:httpcore-nio:jar:4.4.14:compile\n[INFO] |  |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n[INFO] |  |  \\- org.eclipse.parsson:parsson:jar:1.0.0:compile\n[INFO] |  +- jakarta.json:jakarta.json-api:jar:1.1.6:compile\n</code></pre>\n<p>running the same command in A2, it shows following result:</p>\n<pre><code>[INFO] +- co.elastic.clients:elasticsearch-java:jar:8.2.3:compile\n[INFO] |  +- org.elasticsearch.client:elasticsearch-rest-client:jar:7.6.2:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.14:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpasyncclient:jar:4.1.4:compile\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore-nio:jar:4.4.14:compile\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n[INFO] |  \\- org.eclipse.parsson:parsson:jar:1.0.0:compile\n[INFO] +- jakarta.json:jakarta.json-api:jar:2.0.1:compile\n</code></pre>\n<p><code>jakarta.json-api</code> has wrong version in A1, and the hint is it is included from A2. However, in A2, hint shows it has no <code>version 1.1.6 jakarta.json-api</code></p>\n<p>This is result form git bash CLI, not any tool used. This is the first time I encoutered maven dependency behaves like this. all commands are run after <code>mvn clean</code></p>\n<p>This is A2 pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;mygroup.ai&lt;/groupId&gt;\n        &lt;artifactId&gt;A&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;A2&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;druid&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.elasticsearch.client/elasticsearch-rest-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n            &lt;version&gt;8.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.yomahub&lt;/groupId&gt;\n            &lt;artifactId&gt;tlog-web-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>A1's pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;mygroup.ai&lt;/groupId&gt;\n        &lt;artifactId&gt;A&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;..&lt;/relativePath&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;A1&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;A1&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mygroup.ai&lt;/groupId&gt;\n            &lt;artifactId&gt;A2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;druid&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- I added this to make it right, although it does not have to be present --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.yomahub&lt;/groupId&gt;\n            &lt;artifactId&gt;tlog-web-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--jasypt--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n            &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;mygroup.ai.A.Application&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I used a GUI tool to parse A1 pom.xml, it shows this:</p>\n<pre><code>A2: 1.0.0-SNAPSHOT[compile]\n- elasticsearch-java: 8.2.3[compile](omitted for conflict with 2.0.1)\n- - jakarta.json-api: 1.1.6 [compile]\n- - parsson: 1.0.0[compile]\n- - - jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\n- jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\njakarta.json-api: 2.0.1 [compile]\n</code></pre>\n<p>And used that tool to parse A2 pom.xml:</p>\n<pre><code>elasticsearch-java: 8.2.3[compile]\n- jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\n- parsson: 1.0.0[compile]\n- - jakarta.json-api: 1.1.6 [compile](omitted for conflict with 2.0.1)\njakarta.json-api: 2.0.1 [compile]\n</code></pre>\n"},{"tags":["java","azure","logging","graph","microsoft-graph-api"],"answers":[{"comments":[{"owner":{"account_id":1692303,"reputation":969,"user_id":1554421,"accept_rate":100,"display_name":"Gunwant"},"score":0,"creation_date":1671637448,"post_id":74873329,"comment_id":132142471,"body_markdown":"Thanks @peter, but this is not solving  the issue","body":"Thanks @peter, but this is not solving  the issue"},{"owner":{"account_id":4679568,"reputation":3003,"user_id":3788685,"accept_rate":100,"display_name":"user3788685"},"score":0,"creation_date":1701287673,"post_id":74873329,"comment_id":136758427,"body_markdown":"Did you ever find a solution to this?","body":"Did you ever find a solution to this?"},{"owner":{"account_id":4679568,"reputation":3003,"user_id":3788685,"accept_rate":100,"display_name":"user3788685"},"score":0,"creation_date":1701383236,"post_id":74873329,"comment_id":136772382,"body_markdown":"Hmmm I&#39;m using an embedded log4j2 within apache camel and had already have `com.azure.core.amqp.implementation.ReactorSession`, `com.azure.messaging.servicebus.implementation.ServiceBusReceiveLinkProcessor` &amp; `com.azure.core.amqp.implementation.ActiveClientTokenManager` set for WARN level in the `log4j2.properties` file.","body":"Hmmm I&#39;m using an embedded log4j2 within apache camel and had already have <code>com.azure.core.amqp.implementation.ReactorSession</code>, <code>com.azure.messaging.servicebus.implementation.ServiceBusRece&zwnj;&#8203;iveLinkProcessor</code> &amp; <code>com.azure.core.amqp.implementation.ActiveClientTokenManager</code> set for WARN level in the <code>log4j2.properties</code> file."},{"owner":{"account_id":4074237,"reputation":1,"user_id":10385395,"display_name":"Peter"},"score":0,"creation_date":1701419781,"post_id":74873329,"comment_id":136775745,"body_markdown":"@user3788685\nApologies, was late for me and posted wrong.\n\n\nSo I created a xml file with the content below, then pointed to the file with\n\nSystem.setProperty(&quot;logging.config&quot;, &quot;/absolute/path/to/file.xml&quot;);\n\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;error&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;    \n&lt;/configuration&gt;","body":"@user3788685 Apologies, was late for me and posted wrong.   So I created a xml file with the content below, then pointed to the file with  System.setProperty(&quot;logging.config&quot;, &quot;/absolute/path/to/file.xml&quot;);   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;configuration&gt;     &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;         &lt;encoder&gt;             &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;         &lt;/encoder&gt;     &lt;/appender&gt;     &lt;root level=&quot;error&quot;&gt;         &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;     &lt;/root&gt;     &lt;/configuration&gt;"}],"tags":[],"owner":{"account_id":4074237,"reputation":1,"user_id":10385395,"display_name":"Peter"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701420327,"creation_date":1671612187,"answer_id":74873329,"question_id":74852849,"body_markdown":"Found this as I am looking for the same solution. \r\n\r\nLooks like Microsoft  requires an extra hoop to jump through to control the logging level of the MSAL library.\r\n\r\nFor Java:\r\nThis involves creating a logging XML file and pointing to it with a System.properties setting. Setting the level to &quot;error&quot; or &quot;warn&quot; should stop these messages.\r\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/msal-logging-java\r\n\r\nIf your solution is not using Java, see this link for other implementations\r\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/msal-client-application-configuration#logging\r\n\r\n****edit\r\n\r\nTo add, the solution I implemented for this:\r\nCreate an XML file and point to it with\r\nSystem.setProperty(&quot;logging.config&quot;, &quot;/absolute/path/to/file.xml&quot;);\r\n\r\ncontents of the file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;root level=&quot;error&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/root&gt;    \r\n    &lt;/configuration&gt;\r\n\r\n","title":"Azure-identity APIs logging too much logs","body":"<p>Found this as I am looking for the same solution.</p>\n<p>Looks like Microsoft  requires an extra hoop to jump through to control the logging level of the MSAL library.</p>\n<p>For Java:\nThis involves creating a logging XML file and pointing to it with a System.properties setting. Setting the level to &quot;error&quot; or &quot;warn&quot; should stop these messages.\n<a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/msal-logging-java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/msal-logging-java</a></p>\n<p>If your solution is not using Java, see this link for other implementations\n<a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/msal-client-application-configuration#logging\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/msal-client-application-configuration#logging</a></p>\n<p>****edit</p>\n<p>To add, the solution I implemented for this:\nCreate an XML file and point to it with\nSystem.setProperty(&quot;logging.config&quot;, &quot;/absolute/path/to/file.xml&quot;);</p>\n<p>contents of the file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;error&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;    \n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":1692303,"reputation":969,"user_id":1554421,"accept_rate":100,"display_name":"Gunwant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701420327,"creation_date":1671465057,"question_id":74852849,"body_markdown":"I am using azure-identity to authenticate and microsoft-graph apis to fetch data from Microsoft Teams. Somehow azure-identity APIs are logging too much unwanted logs, those repetitive and not much of having important information, just like below. \r\n\r\n\r\n    \t2022-12-19 20:51:05.256  INFO 28050 --- [ol-1-worker-105] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.256  INFO 28050 --- [ool-1-worker-69] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.256  INFO 28050 --- [ool-1-worker-69] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.256  INFO 28050 --- [ol-1-worker-105] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.357  INFO 28050 --- [onPool-worker-5] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.358  INFO 28050 --- [onPool-worker-5] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.387  INFO 28050 --- [Pool-1-worker-3] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.387  INFO 28050 --- [Pool-1-worker-3] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.513  INFO 28050 --- [ool-1-worker-59] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.513  INFO 28050 --- [ool-1-worker-59] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.566  INFO 28050 --- [ool-1-worker-69] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.566  INFO 28050 --- [ool-1-worker-69] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.614  INFO 28050 --- [onPool-worker-5] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.614  INFO 28050 --- [onPool-worker-5] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.662  INFO 28050 --- [ool-1-worker-21] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.663  INFO 28050 --- [ool-1-worker-21] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\r\n\t2022-12-19 20:51:05.678  INFO 28050 --- [ol-1-worker-103] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\r\n\t2022-12-19 20:51:05.678  INFO 28050 --- [ol-1-worker-103] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [\t\thttps://graph.microsoft.com/.default]: SUCCESS\t\r\n\r\n\r\nMy pom.xml entry for azure-identity and microsoft-graph is as below. \r\n\r\n\r\n\r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n\t&lt;exclusions&gt;\r\n\t&lt;exclusion&gt;\r\n\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;netty-tcnative-boringssl-static&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.17.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nMy Question is, is there any way to stop those logs, is there any way to control it?","title":"Azure-identity APIs logging too much logs","body":"<p>I am using azure-identity to authenticate and microsoft-graph apis to fetch data from Microsoft Teams. Somehow azure-identity APIs are logging too much unwanted logs, those repetitive and not much of having important information, just like below.</p>\n<pre><code>    2022-12-19 20:51:05.256  INFO 28050 --- [ol-1-worker-105] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.256  INFO 28050 --- [ool-1-worker-69] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.256  INFO 28050 --- [ool-1-worker-69] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.256  INFO 28050 --- [ol-1-worker-105] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.357  INFO 28050 --- [onPool-worker-5] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.358  INFO 28050 --- [onPool-worker-5] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.387  INFO 28050 --- [Pool-1-worker-3] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.387  INFO 28050 --- [Pool-1-worker-3] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.513  INFO 28050 --- [ool-1-worker-59] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.513  INFO 28050 --- [ool-1-worker-59] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.566  INFO 28050 --- [ool-1-worker-69] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.566  INFO 28050 --- [ool-1-worker-69] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.614  INFO 28050 --- [onPool-worker-5] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.614  INFO 28050 --- [onPool-worker-5] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.662  INFO 28050 --- [ool-1-worker-21] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.663  INFO 28050 --- [ool-1-worker-21] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS\n2022-12-19 20:51:05.678  INFO 28050 --- [ol-1-worker-103] c.m.a.msal4j.AcquireTokenSilentSupplier  : Returning token from cache\n2022-12-19 20:51:05.678  INFO 28050 --- [ol-1-worker-103] c.azure.identity.ClientSecretCredential  : Azure Identity =&gt; getToken() result for scopes [       https://graph.microsoft.com/.default]: SUCCESS  \n</code></pre>\n<p>My pom.xml entry for azure-identity and microsoft-graph is as below.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.azure&lt;/groupId&gt;\n&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n&lt;version&gt;1.6.1&lt;/version&gt;\n&lt;exclusions&gt;\n&lt;exclusion&gt;\n&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n&lt;exclusion&gt;\n&lt;groupId&gt;io.netty&lt;/groupId&gt;\n&lt;artifactId&gt;netty-tcnative-boringssl-static&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\n&lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\n&lt;version&gt;5.17.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My Question is, is there any way to stop those logs, is there any way to control it?</p>\n"},{"tags":["java","android","android-permissions","android-external-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701422102,"post_id":77583936,"comment_id":136776137,"body_markdown":"You only have to use ACTION_OPEN_DOCUMENT_TREE (or equivalent) once if you take persitable uri permission on the obtained uri. You should not use ACTION_OPEN_DICUNENT_TREE twice. Why you do? FYI: i did not read your code yet. First wanne know what goes on.","body":"You only have to use ACTION_OPEN_DOCUMENT_TREE (or equivalent) once if you take persitable uri permission on the obtained uri. You should not use ACTION_OPEN_DICUNENT_TREE twice. Why you do? FYI: i did not read your code yet. First wanne know what goes on."},{"owner":{"account_id":14907401,"reputation":3507,"user_id":10764147,"display_name":"S. M. Asif"},"score":0,"creation_date":1701423203,"post_id":77583936,"comment_id":136776342,"body_markdown":"I have used that twice because, one time I need to save file by picking up specific directory, and the 2nd one is for retrieving file information from picked up directory.","body":"I have used that twice because, one time I need to save file by picking up specific directory, and the 2nd one is for retrieving file information from picked up directory."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701438393,"post_id":77583936,"comment_id":136778834,"body_markdown":"You can use it as often as you want. But it is not needed. And it looks as if it has nothing to do with your problem. If you use the action again and choose the same directory again you are asked to allow. Indeed that happens. You can do nothing about it. For that you did not have to post code.","body":"You can use it as often as you want. But it is not needed. And it looks as if it has nothing to do with your problem. If you use the action again and choose the same directory again you are asked to allow. Indeed that happens. You can do nothing about it. For that you did not have to post code."}],"owner":{"account_id":14907401,"reputation":3507,"user_id":10764147,"display_name":"S. M. Asif"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701420020,"creation_date":1701420020,"question_id":77583936,"body_markdown":"In my android native java project, I want one functionality that will create a .txt file by taking input from user. Then, while saving the file, we will use file picker to open and select one directory. Here, it will ask for permission to allow write in that directory.\r\n\r\n**compileSdk = 34, \r\ntargetSdk = 34**\r\n\r\n**Here&#39;s the code:**\r\n\r\n\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.documentfile.provider.DocumentFile;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n    \r\n    import com.bjit.fliecreateshowread.model.FileInfo;\r\n    import com.bjit.fliecreateshowread.adapter.FileInfoListAdapter;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class CreateFileActivity extends AppCompatActivity {\r\n    \r\n        private EditText edtFileName;\r\n        private EditText edtFileDesc;\r\n        private Button btnSaveFile;\r\n    \r\n        private static final int REQUEST_WRITE_EXTERNAL_STORAGE = 1;\r\n    \r\n        private static final int PICK_DIRECTORY_REQUEST_CODE = 123;\r\n    \r\n        private FilePicker filePicker;\r\n    \r\n        private List&lt;FileInfo&gt; fileInfoList;\r\n        private RecyclerView rvFileInformationList;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_create_file);\r\n    \r\n            fileInfoList = new ArrayList&lt;&gt;();\r\n    \r\n            filePicker = new FilePicker();\r\n    \r\n            edtFileName = findViewById(R.id.edtFileName);\r\n            edtFileDesc = findViewById(R.id.edtFileDesc);\r\n            btnSaveFile = findViewById(R.id.btnSaveFile);\r\n            rvFileInformationList = findViewById(R.id.rvFileInformationList);\r\n    \r\n            btnSaveFile.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    filePicker.pickDirectory(CreateFileActivity.this);\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(\r\n                int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    \r\n            if (requestCode == REQUEST_WRITE_EXTERNAL_STORAGE) {\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    // Permission granted, you can proceed with file creation\r\n                } else {\r\n                    Toast.makeText(this, &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        private void createAndSaveTextFileOnSDCard(Intent data, String fileName, String fileDesc) {\r\n            Uri uri = data.getData();\r\n    \r\n            if (uri != null) {\r\n                DocumentFile documentFile = DocumentFile.fromTreeUri(this, uri);\r\n    \r\n                if (documentFile != null &amp;&amp; documentFile.exists()) {\r\n                    DocumentFile file = documentFile.createFile(&quot;text/plain&quot;, fileName + &quot;.txt&quot;);\r\n    \r\n                    try (OutputStream outputStream = getContentResolver().openOutputStream(file.getUri())) {\r\n                        if (outputStream != null) {\r\n                            String content = fileDesc;\r\n                            outputStream.write(content.getBytes());\r\n                            Log.e(&quot;##PATH&quot;, file.getUri().toString());\r\n                            Toast.makeText(this, &quot;File saved: &quot; + file.getUri().toString(), Toast.LENGTH_SHORT).show();\r\n    \r\n                            // Read the file content after saving\r\n                            String fileContent = readTextFile(file.getUri());\r\n                            Log.e(&quot;##FILE_CONTENT&quot;, fileContent);\r\n    \r\n                            FileInfo fileInfo = new FileInfo(fileName, file.getUri().toString());\r\n    \r\n                            showFilesInDirectory(documentFile.getUri());\r\n                        }\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                        Toast.makeText(this, &quot;Error saving file: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(this, &quot;Selected directory not found or does not exist&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            } else {\r\n                Toast.makeText(this, &quot;Invalid URI&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        private String readTextFile(Uri fileUri) {\r\n            StringBuilder content = new StringBuilder();\r\n    \r\n            try (InputStream inputStream = getContentResolver().openInputStream(fileUri);\r\n                 BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream))) {\r\n    \r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                    content.append(line).append(&quot;\\n&quot;);\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                Toast.makeText(this, &quot;Error reading file: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n            return content.toString();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (requestCode == PICK_DIRECTORY_REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\r\n                createAndSaveTextFileOnSDCard(data, edtFileName.getText().toString(), edtFileDesc.getText().toString());\r\n            }\r\n        }\r\n    \r\n    \r\n        private void showFilesInDirectory(Uri directoryUri) {\r\n            DocumentFile directory = DocumentFile.fromTreeUri(this, directoryUri);\r\n    \r\n            if (directory != null &amp;&amp; directory.exists() &amp;&amp; directory.isDirectory()) {\r\n                DocumentFile[] files = directory.listFiles();\r\n    \r\n                fileInfoList.clear();\r\n    \r\n                if (files != null &amp;&amp; files.length &gt; 0) {\r\n                    // Iterate through the list of files and display their names or perform other actions\r\n                    for (DocumentFile file : files) {\r\n                        Log.e(&quot;##FILE_IN_DIRECTORY&quot;, &quot;File Name: &quot; + file.getName() + &quot;, File URI: &quot; + file.getUri());\r\n                        // You can display the file names in a ListView, RecyclerView, or perform other actions here\r\n    \r\n                        FileInfo fileInfo = new FileInfo(file.getName(), file.getUri().toString());\r\n                        fileInfoList.add(fileInfo);\r\n                    }\r\n    \r\n                    rvFileInformationList.setLayoutManager(new LinearLayoutManager(this));\r\n                    FileInfoListAdapter adapter = new FileInfoListAdapter((ArrayList&lt;FileInfo&gt;) fileInfoList, CreateFileActivity.this);\r\n                    rvFileInformationList.setAdapter(adapter);\r\n                    adapter.notifyDataSetChanged();\r\n    \r\n                } else {\r\n                    Log.e(&quot;##FILE_IN_DIRECTORY&quot;, &quot;No files in the directory&quot;);\r\n                }\r\n            } else {\r\n                Log.e(&quot;##FILE_IN_DIRECTORY&quot;, &quot;Invalid directory or directory does not exist&quot;);\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n**------- Now the problem is ---------**\r\n\r\nEven if I have allowed permission for one folder that I have already saved file and granted permission, whenever I am trying to save another file in the same directory, it is again asking me to allow permission. How can I avoid this and only ask for a single time permission for one folder?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q7WFH.png","title":"How to solve- Write file to a specific directory through file picker asking for permission again and again in Android native Java?","body":"<p>In my android native java project, I want one functionality that will create a .txt file by taking input from user. Then, while saving the file, we will use file picker to open and select one directory. Here, it will ask for permission to allow write in that directory.</p>\n<p><strong>compileSdk = 34,\ntargetSdk = 34</strong></p>\n<p><strong>Here's the code:</strong></p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.documentfile.provider.DocumentFile;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.bjit.fliecreateshowread.model.FileInfo;\nimport com.bjit.fliecreateshowread.adapter.FileInfoListAdapter;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CreateFileActivity extends AppCompatActivity {\n\n    private EditText edtFileName;\n    private EditText edtFileDesc;\n    private Button btnSaveFile;\n\n    private static final int REQUEST_WRITE_EXTERNAL_STORAGE = 1;\n\n    private static final int PICK_DIRECTORY_REQUEST_CODE = 123;\n\n    private FilePicker filePicker;\n\n    private List&lt;FileInfo&gt; fileInfoList;\n    private RecyclerView rvFileInformationList;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_create_file);\n\n        fileInfoList = new ArrayList&lt;&gt;();\n\n        filePicker = new FilePicker();\n\n        edtFileName = findViewById(R.id.edtFileName);\n        edtFileDesc = findViewById(R.id.edtFileDesc);\n        btnSaveFile = findViewById(R.id.btnSaveFile);\n        rvFileInformationList = findViewById(R.id.rvFileInformationList);\n\n        btnSaveFile.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                filePicker.pickDirectory(CreateFileActivity.this);\n\n            }\n        });\n    }\n\n\n    @Override\n    public void onRequestPermissionsResult(\n            int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == REQUEST_WRITE_EXTERNAL_STORAGE) {\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // Permission granted, you can proceed with file creation\n            } else {\n                Toast.makeText(this, &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n\n    private void createAndSaveTextFileOnSDCard(Intent data, String fileName, String fileDesc) {\n        Uri uri = data.getData();\n\n        if (uri != null) {\n            DocumentFile documentFile = DocumentFile.fromTreeUri(this, uri);\n\n            if (documentFile != null &amp;&amp; documentFile.exists()) {\n                DocumentFile file = documentFile.createFile(&quot;text/plain&quot;, fileName + &quot;.txt&quot;);\n\n                try (OutputStream outputStream = getContentResolver().openOutputStream(file.getUri())) {\n                    if (outputStream != null) {\n                        String content = fileDesc;\n                        outputStream.write(content.getBytes());\n                        Log.e(&quot;##PATH&quot;, file.getUri().toString());\n                        Toast.makeText(this, &quot;File saved: &quot; + file.getUri().toString(), Toast.LENGTH_SHORT).show();\n\n                        // Read the file content after saving\n                        String fileContent = readTextFile(file.getUri());\n                        Log.e(&quot;##FILE_CONTENT&quot;, fileContent);\n\n                        FileInfo fileInfo = new FileInfo(fileName, file.getUri().toString());\n\n                        showFilesInDirectory(documentFile.getUri());\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                    Toast.makeText(this, &quot;Error saving file: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            } else {\n                Toast.makeText(this, &quot;Selected directory not found or does not exist&quot;, Toast.LENGTH_SHORT).show();\n            }\n        } else {\n            Toast.makeText(this, &quot;Invalid URI&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n\n\n    private String readTextFile(Uri fileUri) {\n        StringBuilder content = new StringBuilder();\n\n        try (InputStream inputStream = getContentResolver().openInputStream(fileUri);\n             BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream))) {\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                content.append(line).append(&quot;\\n&quot;);\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n            Toast.makeText(this, &quot;Error reading file: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n\n        return content.toString();\n    }\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == PICK_DIRECTORY_REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\n            createAndSaveTextFileOnSDCard(data, edtFileName.getText().toString(), edtFileDesc.getText().toString());\n        }\n    }\n\n\n    private void showFilesInDirectory(Uri directoryUri) {\n        DocumentFile directory = DocumentFile.fromTreeUri(this, directoryUri);\n\n        if (directory != null &amp;&amp; directory.exists() &amp;&amp; directory.isDirectory()) {\n            DocumentFile[] files = directory.listFiles();\n\n            fileInfoList.clear();\n\n            if (files != null &amp;&amp; files.length &gt; 0) {\n                // Iterate through the list of files and display their names or perform other actions\n                for (DocumentFile file : files) {\n                    Log.e(&quot;##FILE_IN_DIRECTORY&quot;, &quot;File Name: &quot; + file.getName() + &quot;, File URI: &quot; + file.getUri());\n                    // You can display the file names in a ListView, RecyclerView, or perform other actions here\n\n                    FileInfo fileInfo = new FileInfo(file.getName(), file.getUri().toString());\n                    fileInfoList.add(fileInfo);\n                }\n\n                rvFileInformationList.setLayoutManager(new LinearLayoutManager(this));\n                FileInfoListAdapter adapter = new FileInfoListAdapter((ArrayList&lt;FileInfo&gt;) fileInfoList, CreateFileActivity.this);\n                rvFileInformationList.setAdapter(adapter);\n                adapter.notifyDataSetChanged();\n\n            } else {\n                Log.e(&quot;##FILE_IN_DIRECTORY&quot;, &quot;No files in the directory&quot;);\n            }\n        } else {\n            Log.e(&quot;##FILE_IN_DIRECTORY&quot;, &quot;Invalid directory or directory does not exist&quot;);\n        }\n    }\n\n\n}\n</code></pre>\n<p><strong>------- Now the problem is ---------</strong></p>\n<p>Even if I have allowed permission for one folder that I have already saved file and granted permission, whenever I am trying to save another file in the same directory, it is again asking me to allow permission. How can I avoid this and only ask for a single time permission for one folder?</p>\n<p><a href=\"https://i.stack.imgur.com/Q7WFH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q7WFH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","many-to-many"],"comments":[{"owner":{"account_id":12561920,"reputation":408,"user_id":9139357,"display_name":"Eric"},"score":0,"creation_date":1701344670,"post_id":77570427,"comment_id":136765273,"body_markdown":"To understand your question better, you do not want to use that line and permissions will be deleted from the table, correct?\n**`employee.getAppUser().getPermissions().clear();`**","body":"To understand your question better, you do not want to use that line and permissions will be deleted from the table, correct? <b><code>employee.getAppUser().getPermissions().clear();</code></b>"},{"owner":{"account_id":30016259,"reputation":11,"user_id":23002719,"display_name":"Lu91Kas"},"score":0,"creation_date":1701415945,"post_id":77570427,"comment_id":136775228,"body_markdown":"Actually, I&#39;m just trying to remove the AppUser-entry from the Employee-entry with an update via Employee. But since the User has Permissions, it fails.","body":"Actually, I&#39;m just trying to remove the AppUser-entry from the Employee-entry with an update via Employee. But since the User has Permissions, it fails."}],"answers":[{"comments":[{"owner":{"account_id":30016259,"reputation":11,"user_id":23002719,"display_name":"Lu91Kas"},"score":0,"creation_date":1701418868,"post_id":77583742,"comment_id":136775625,"body_markdown":"Thanks for your hint. I don&#39;t wan&#39;t the permissions to be deleted. I still tried that and it doesn&#39;t work. Instead of having JPA removing the entry from AppUserPermission, it tries to delete the permission (which is still referenced in AppUserPermission).","body":"Thanks for your hint. I don&#39;t wan&#39;t the permissions to be deleted. I still tried that and it doesn&#39;t work. Instead of having JPA removing the entry from AppUserPermission, it tries to delete the permission (which is still referenced in AppUserPermission)."}],"tags":[],"owner":{"account_id":12561920,"reputation":408,"user_id":9139357,"display_name":"Eric"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701417334,"creation_date":1701417334,"answer_id":77583742,"question_id":77570427,"body_markdown":"Can you try this in the `AppUser` class? \r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;AppUserPermission&quot;, joinColumns = @JoinColumn(name = &quot;appUserId&quot;), inverseJoinColumns = @JoinColumn(name = &quot;permissionId&quot;))\r\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\r\n\r\nSince you use specify cascade `CascadeType.ALL` when `AppUser` entry is deleted, associated permissions also should be deleted automatically.","title":"Clear ManyToMany via cascaded OneToOne remove","body":"<p>Can you try this in the <code>AppUser</code> class?</p>\n<pre><code>@ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n@JoinTable(name = &quot;AppUserPermission&quot;, joinColumns = @JoinColumn(name = &quot;appUserId&quot;), inverseJoinColumns = @JoinColumn(name = &quot;permissionId&quot;))\nprivate Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\n</code></pre>\n<p>Since you use specify cascade <code>CascadeType.ALL</code> when <code>AppUser</code> entry is deleted, associated permissions also should be deleted automatically.</p>\n"}],"owner":{"account_id":30016259,"reputation":11,"user_id":23002719,"display_name":"Lu91Kas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701419340,"creation_date":1701254495,"question_id":77570427,"body_markdown":"I&#39;m facing problems in a Hibernate project where I try to remove a OneToOne relation which still has entries in a ManyToMany relation.\r\n\r\nEntities:\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class Employee implements Serializable {\r\n\r\n    @Id\r\n    Long id;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;employeeId&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private AppUser appUser;\r\n    \r\n    // some more basic fields\r\n\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class AppUser implements Serializable {\r\n\r\n    @Id\r\n    Long id;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;employeeId&quot;)\r\n    @NotNull\r\n    private Employee employeeId;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;AppUserPermission&quot;, joinColumns = @JoinColumn(name = &quot;appUserId&quot;), inverseJoinColumns = @JoinColumn(name = &quot;permissionId&quot;))\r\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\r\n    \r\n    // some more basic fields\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class Permission implements Serializable {\r\n\r\n    @Id\r\n    Long id;\r\n    \r\n    // some more basic fields\r\n}\r\n```\r\n\r\nDB:\r\n```sql\r\nCREATE TABLE IF NOT EXISTS Employee\r\n(\r\n    id bigint NOT NULL,\r\n    CONSTRAINT pk_Employee PRIMARY KEY (id)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS AppUser\r\n(\r\n    id bigint NOT NULL,\r\n    employeeId bigint NOT NULL,\r\n    CONSTRAINT pk_AppUser PRIMARY KEY (id),\r\n    CONSTRAINT uq_AppUser_employeeId UNIQUE (employeeId),\r\n    CONSTRAINT fk_AppUser_employeeId FOREIGN KEY (employeeId)\r\n        REFERENCES Employee (id) MATCH SIMPLE\r\n        ON UPDATE RESTRICT\r\n        ON DELETE RESTRICT\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS Permission\r\n(\r\n    id bigint NOT NULL,\r\n    CONSTRAINT pk_Permission PRIMARY KEY (id)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS AppUserPermission\r\n(\r\n    appUserId bigint NOT NULL,\r\n    permissionId bigint NOT NULL,\r\n    CONSTRAINT pk_AppUserPermission PRIMARY KEY (appUserId, permissionId),\r\n    CONSTRAINT fk_AppUserPermission_appUserId FOREIGN KEY (appUserId)\r\n        REFERENCES AppUser (id) MATCH SIMPLE\r\n        ON UPDATE RESTRICT\r\n        ON DELETE RESTRICT,\r\n    CONSTRAINT fk_UserPermission_permissionId FOREIGN KEY (permissionId)\r\n        REFERENCES Permission (id) MATCH SIMPLE\r\n        ON UPDATE RESTRICT\r\n        ON DELETE RESTRICT\r\n);\r\n``` \r\n\r\nWhen I now try to remove the User-entry from an Employee, where the User has no Permission, it works as expected - User is deleted from the DB:\r\n\r\n```java\r\nEmployee employee = session.find(Employee.class, employeeId);\r\n\r\n// user has no permission(s)\r\nAssert.assertTrue(employee.getAppUser().getPermissions().isEmpty());\r\n\r\nemployee.setAppUser(null);\r\nsession.update(employee);\r\nsession.flush();\r\n```\r\n\r\nIt&#39;s also possible to remove the Permissions via Employee - the entry in the DB&#39;s jointable got removed, the permission still is available:\r\n\r\n```java\r\nEmployee employee = session.find(Employee.class, employeeId);\r\n\r\n// user has permission(s)\r\nAssert.assertFalse(employee.getAppUser().getPermissions().isEmpty());\r\n\r\nemployee.getAppUser().getPermissions().clear();\r\nsession.update(employee);\r\nsession.flush();\r\n\r\n// this would also work now, but I wan&#39;t prevent two updates if possible\r\nemployee.setAppUser(null);\r\nsession.update(employee);\r\nsession.flush();\r\n```\r\n\r\nBut as stated above, I&#39;d like to do it in one update:\r\n```java\r\nEmployee employee = session.find(Employee.class, employeeId);\r\n\r\n// user has permission(s)\r\nAssert.assertFalse(employee.getAppUser().getPermissions().isEmpty());\r\n\r\nemployee.setAppUser(null);\r\nsession.update(employee);\r\nsession.flush();\r\n```\r\nWith the above code snippet, the following exception occurs:\r\n```\r\nCaused by: org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;appuser&quot; violates foreign key constraint &quot;fk_appuserpermission_appuserid&quot; on table &quot;appuserpermission&quot;\r\n  Detail: Key (id)=(1825727638) is still referenced from table &quot;appuserpermission&quot;.\r\n  Ort: Datei: ri_triggers.c, Routine: ri_ReportViolation, Zeile: 2609.\r\n  Server SQLState: 23503\r\n```\r\n\r\nJPA executes:\r\n```\r\n/* delete test.hibernate.AppUser */ delete \r\n    from\r\n        appuser \r\n    where\r\n        &quot;id&quot;=?\r\n\r\n```\r\n\r\nBut what I expect is something like that:\r\n```\r\nDELETE FROM AppUserPermission WHERE appUserId = ? AND permissionId = ?;\r\n\r\nDELETE FROM AppUser WHERE id = ?;\r\n```\r\n\r\nDoes someone have an idea how to solve?\r\n\r\nI know it would work if I change the on-delete cascade option from restrict to cascade on the table AppUserPermission, but I&#39;m wondering if Hibernate is able to handle it without that. Since now, JPA handled all cascaded deletions in proper order, also if the DB&#39;s option is restrict.\r\n\r\n***EDIT***:\r\nThe permission(s) belonging to the AppUser should not be deleted - just the entry in the ManyToMany-jointable.\r\n\r\nAny hints appreciated :)","title":"Clear ManyToMany via cascaded OneToOne remove","body":"<p>I'm facing problems in a Hibernate project where I try to remove a OneToOne relation which still has entries in a ManyToMany relation.</p>\n<p>Entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Entity\npublic class Employee implements Serializable {\n\n    @Id\n    Long id;\n\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;employeeId&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private AppUser appUser;\n    \n    // some more basic fields\n\n}\n\n@Getter\n@Setter\n@Entity\npublic class AppUser implements Serializable {\n\n    @Id\n    Long id;\n\n    @OneToOne\n    @JoinColumn(name = &quot;employeeId&quot;)\n    @NotNull\n    private Employee employeeId;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;AppUserPermission&quot;, joinColumns = @JoinColumn(name = &quot;appUserId&quot;), inverseJoinColumns = @JoinColumn(name = &quot;permissionId&quot;))\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\n    \n    // some more basic fields\n}\n\n@Getter\n@Setter\n@Entity\npublic class Permission implements Serializable {\n\n    @Id\n    Long id;\n    \n    // some more basic fields\n}\n</code></pre>\n<p>DB:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE IF NOT EXISTS Employee\n(\n    id bigint NOT NULL,\n    CONSTRAINT pk_Employee PRIMARY KEY (id)\n);\n\nCREATE TABLE IF NOT EXISTS AppUser\n(\n    id bigint NOT NULL,\n    employeeId bigint NOT NULL,\n    CONSTRAINT pk_AppUser PRIMARY KEY (id),\n    CONSTRAINT uq_AppUser_employeeId UNIQUE (employeeId),\n    CONSTRAINT fk_AppUser_employeeId FOREIGN KEY (employeeId)\n        REFERENCES Employee (id) MATCH SIMPLE\n        ON UPDATE RESTRICT\n        ON DELETE RESTRICT\n);\n\nCREATE TABLE IF NOT EXISTS Permission\n(\n    id bigint NOT NULL,\n    CONSTRAINT pk_Permission PRIMARY KEY (id)\n);\n\nCREATE TABLE IF NOT EXISTS AppUserPermission\n(\n    appUserId bigint NOT NULL,\n    permissionId bigint NOT NULL,\n    CONSTRAINT pk_AppUserPermission PRIMARY KEY (appUserId, permissionId),\n    CONSTRAINT fk_AppUserPermission_appUserId FOREIGN KEY (appUserId)\n        REFERENCES AppUser (id) MATCH SIMPLE\n        ON UPDATE RESTRICT\n        ON DELETE RESTRICT,\n    CONSTRAINT fk_UserPermission_permissionId FOREIGN KEY (permissionId)\n        REFERENCES Permission (id) MATCH SIMPLE\n        ON UPDATE RESTRICT\n        ON DELETE RESTRICT\n);\n</code></pre>\n<p>When I now try to remove the User-entry from an Employee, where the User has no Permission, it works as expected - User is deleted from the DB:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee employee = session.find(Employee.class, employeeId);\n\n// user has no permission(s)\nAssert.assertTrue(employee.getAppUser().getPermissions().isEmpty());\n\nemployee.setAppUser(null);\nsession.update(employee);\nsession.flush();\n</code></pre>\n<p>It's also possible to remove the Permissions via Employee - the entry in the DB's jointable got removed, the permission still is available:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee employee = session.find(Employee.class, employeeId);\n\n// user has permission(s)\nAssert.assertFalse(employee.getAppUser().getPermissions().isEmpty());\n\nemployee.getAppUser().getPermissions().clear();\nsession.update(employee);\nsession.flush();\n\n// this would also work now, but I wan't prevent two updates if possible\nemployee.setAppUser(null);\nsession.update(employee);\nsession.flush();\n</code></pre>\n<p>But as stated above, I'd like to do it in one update:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee employee = session.find(Employee.class, employeeId);\n\n// user has permission(s)\nAssert.assertFalse(employee.getAppUser().getPermissions().isEmpty());\n\nemployee.setAppUser(null);\nsession.update(employee);\nsession.flush();\n</code></pre>\n<p>With the above code snippet, the following exception occurs:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;appuser&quot; violates foreign key constraint &quot;fk_appuserpermission_appuserid&quot; on table &quot;appuserpermission&quot;\n  Detail: Key (id)=(1825727638) is still referenced from table &quot;appuserpermission&quot;.\n  Ort: Datei: ri_triggers.c, Routine: ri_ReportViolation, Zeile: 2609.\n  Server SQLState: 23503\n</code></pre>\n<p>JPA executes:</p>\n<pre><code>/* delete test.hibernate.AppUser */ delete \n    from\n        appuser \n    where\n        &quot;id&quot;=?\n\n</code></pre>\n<p>But what I expect is something like that:</p>\n<pre><code>DELETE FROM AppUserPermission WHERE appUserId = ? AND permissionId = ?;\n\nDELETE FROM AppUser WHERE id = ?;\n</code></pre>\n<p>Does someone have an idea how to solve?</p>\n<p>I know it would work if I change the on-delete cascade option from restrict to cascade on the table AppUserPermission, but I'm wondering if Hibernate is able to handle it without that. Since now, JPA handled all cascaded deletions in proper order, also if the DB's option is restrict.</p>\n<p><em><strong>EDIT</strong></em>:\nThe permission(s) belonging to the AppUser should not be deleted - just the entry in the ManyToMany-jointable.</p>\n<p>Any hints appreciated :)</p>\n"},{"tags":["java","random","arraylist","processing","mouseevent"],"answers":[{"comments":[{"owner":{"account_id":30038288,"reputation":3,"user_id":23019705,"display_name":"Kristal"},"score":0,"creation_date":1701457023,"post_id":77583873,"comment_id":136782245,"body_markdown":"Thank you so much!! This helped solve my problem, very eye-opening and cool to see my code work.","body":"Thank you so much!! This helped solve my problem, very eye-opening and cool to see my code work."}],"tags":[],"owner":{"account_id":22673322,"reputation":50,"user_id":18820487,"display_name":"Chathura Abeywickrama"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701419241,"creation_date":1701419241,"answer_id":77583873,"question_id":77583845,"body_markdown":"Check this code.\r\n\r\n    // Import the ArrayList class\r\n    import java.util.ArrayList;\r\n    \r\n    ArrayList&lt;PVector&gt; textPositions = new ArrayList&lt;PVector&gt;();\r\n    ArrayList&lt;String&gt; textStrings = new ArrayList&lt;String&gt;();\r\n    \r\n    void setup() {\r\n      size(700, 700);\r\n      textSize(20);\r\n    }\r\n    \r\n    void draw() {\r\n      background(0);\r\n    \r\n      // Iterate through all stored text positions and strings\r\n      for (int i = 0; i &lt; textPositions.size(); i++) {\r\n        PVector pos = textPositions.get(i);\r\n        String textString = textStrings.get(i);\r\n    \r\n        pushMatrix();\r\n        fill(255);\r\n        textAlign(CENTER);\r\n        translate(pos.x, pos.y);\r\n        rotate(theta);\r\n        text(textString, 0, 0);\r\n        popMatrix();\r\n      }\r\n    \r\n      theta += 0.02;\r\n    }\r\n    \r\n    void mousePressed () {\r\n      // Add the current mouse position and a random string to the ArrayLists\r\n      PVector mousePos = new PVector(mouseX, mouseY);\r\n      textPositions.add(mousePos);\r\n      textStrings.add(sentences[int(random(3))]);\r\n    }\r\n\r\nYou need to import this code initially.\r\n\r\n    import processing.core.PVector;\r\n\r\n","title":"ArrayList for random strings with mousePressed in Processing (also rotation)","body":"<p>Check this code.</p>\n<pre><code>// Import the ArrayList class\nimport java.util.ArrayList;\n\nArrayList&lt;PVector&gt; textPositions = new ArrayList&lt;PVector&gt;();\nArrayList&lt;String&gt; textStrings = new ArrayList&lt;String&gt;();\n\nvoid setup() {\n  size(700, 700);\n  textSize(20);\n}\n\nvoid draw() {\n  background(0);\n\n  // Iterate through all stored text positions and strings\n  for (int i = 0; i &lt; textPositions.size(); i++) {\n    PVector pos = textPositions.get(i);\n    String textString = textStrings.get(i);\n\n    pushMatrix();\n    fill(255);\n    textAlign(CENTER);\n    translate(pos.x, pos.y);\n    rotate(theta);\n    text(textString, 0, 0);\n    popMatrix();\n  }\n\n  theta += 0.02;\n}\n\nvoid mousePressed () {\n  // Add the current mouse position and a random string to the ArrayLists\n  PVector mousePos = new PVector(mouseX, mouseY);\n  textPositions.add(mousePos);\n  textStrings.add(sentences[int(random(3))]);\n}\n</code></pre>\n<p>You need to import this code initially.</p>\n<pre><code>import processing.core.PVector;\n</code></pre>\n"}],"owner":{"account_id":30038288,"reputation":3,"user_id":23019705,"display_name":"Kristal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77583873,"answer_count":1,"score":-1,"last_activity_date":1701419241,"creation_date":1701418765,"question_id":77583845,"body_markdown":"I am new to coding and Processing (so bear with me). I have a class project I need to finish and I need help with one component in my code. I have a mousePressed function within my code that allows for random strings of text to appear in a rotating fashion. However, I want the text to rotate even after the mouse has been released at any RANDOM spot where the viewer released the mouse. I want the viewer to be able to do this (basically an infinite amount of times), but all of the text will rotate simultaneously, not just one string of text at a time. I know I need some ArrayList function to start with, but I don&#39;t know where to start since I have many moving pieces in my code.\r\n\r\nI hope this makes sense :) but any feedback/EXAMPLES will be VERY much appreciated!\r\n\r\nThank you!\r\n\r\n```\r\n    String [] sentences= {\r\n          &quot;Hello&quot;,\r\n          &quot;Good morning&quot;,\r\n          &quot;Good night&quot;,\r\n    };\r\n    float theta;\r\n    int index = 0;\r\n    \r\n    void setup() {\r\n          background (0);\r\n          size(700, 700);\r\n          textSize(20);\r\n    }\r\n\r\n    void draw() {\r\n          background(0);\r\n          pushMatrix();\r\n          fill(255);\r\n          textAlign(CENTER);\r\n          translate(mouseX, mouseY);\r\n          rotate(theta);\r\n          text(sentences[index], 0, 0);\r\n          popMatrix();\r\n        \r\n          theta += 0.02;\r\n    }\r\n\r\n    void mousePressed () {\r\n          index = int(random(3));\r\n    }\r\n```\r\n\r\nI&#39;ve already tried to use an ArrayList with PVector, but the code didn&#39;t seem to recognize some of the variables I used. So an example of an ArrayList I could use would be very helpful :)","title":"ArrayList for random strings with mousePressed in Processing (also rotation)","body":"<p>I am new to coding and Processing (so bear with me). I have a class project I need to finish and I need help with one component in my code. I have a mousePressed function within my code that allows for random strings of text to appear in a rotating fashion. However, I want the text to rotate even after the mouse has been released at any RANDOM spot where the viewer released the mouse. I want the viewer to be able to do this (basically an infinite amount of times), but all of the text will rotate simultaneously, not just one string of text at a time. I know I need some ArrayList function to start with, but I don't know where to start since I have many moving pieces in my code.</p>\n<p>I hope this makes sense :) but any feedback/EXAMPLES will be VERY much appreciated!</p>\n<p>Thank you!</p>\n<pre><code>    String [] sentences= {\n          &quot;Hello&quot;,\n          &quot;Good morning&quot;,\n          &quot;Good night&quot;,\n    };\n    float theta;\n    int index = 0;\n    \n    void setup() {\n          background (0);\n          size(700, 700);\n          textSize(20);\n    }\n\n    void draw() {\n          background(0);\n          pushMatrix();\n          fill(255);\n          textAlign(CENTER);\n          translate(mouseX, mouseY);\n          rotate(theta);\n          text(sentences[index], 0, 0);\n          popMatrix();\n        \n          theta += 0.02;\n    }\n\n    void mousePressed () {\n          index = int(random(3));\n    }\n</code></pre>\n<p>I've already tried to use an ArrayList with PVector, but the code didn't seem to recognize some of the variables I used. So an example of an ArrayList I could use would be very helpful :)</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1701297120,"post_id":77574719,"comment_id":136759800,"body_markdown":"Sometimes new classes and packages are introduced between versions. For example, [`java.time`](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) was introduced in Java 8. Setting the `-source` target to Java 7 doesn&#39;t mean the code won&#39;t compile if you use `java.time` with JDK 8 and target Java 7. But just because it compiles, doesn&#39;t mean it will work. It won&#39;t. The `java.time` package is not present in Java 7.","body":"Sometimes new classes and packages are introduced between versions. For example, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a> was introduced in Java 8. Setting the <code>-source</code> target to Java 7 doesn&#39;t mean the code won&#39;t compile if you use <code>java.time</code> with JDK 8 and target Java 7. But just because it compiles, doesn&#39;t mean it will work. It won&#39;t. The <code>java.time</code> package is not present in Java 7."}],"answers":[{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701337625,"post_id":77575006,"comment_id":136764053,"body_markdown":"Starting with JDK9 you should not use `--target` / `--source` anymore.. use `--release` only.. or `&lt;maven.compiler.release&gt;10&lt;/maven.compiler.release&gt;`..","body":"Starting with JDK9 you should not use <code>--target</code> / <code>--source</code> anymore.. use <code>--release</code> only.. or <code>&lt;maven.compiler.release&gt;10&lt;&#47;maven.compiler.release&gt;</code>.."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701299901,"creation_date":1701299901,"answer_id":77575006,"question_id":77574719,"body_markdown":"It is not contradictory but maybe not well described. \r\n\r\nFor `--source` to add more context of the description for Java 17 helps:\r\n\r\n&gt; --source release or -source release\r\n&gt;\r\n&gt;    Compiles source code according to the rules of the Java programming &gt;language for the specified Java SE release. The supported values of release &gt;are the current Java SE release and a limited number of previous releases, &gt;detailed in the command-line help.\r\n\r\nIt means that the compiler will use the source language rules or parser for the version selected, with limited support for some but not all previous versions of Java. This is limited to the language specification, not libraries. You can select a previous version to avoid using newer features, but you are still linking to the current library of the JDK so you could be using newer class and/or methods that will not be present if you actually execute with an older version of the JDK.\r\n\r\n`--target` indicates that you want the generated bytecode to be compatible with the target version and not use bytecodes that are only available in a newer version. Again you still could be depending on APIs (classes/methods) available in a newer version so if you try to execute in the older version of the JDK it may fail.\r\n\r\n`--release` was introduce in Java 9 to resolve the problem of API compatibility. In addition to set `--source` and `--target` to the same version it ensures that also the standard library used is compatible with the version selected. More information is available in this answer: https://stackoverflow.com/a/43103038/721855\r\n\r\n`--release` documentation for Java 17:\r\n&gt; --release release\r\n&gt; \r\n&gt; Compiles source code according to the rules of the Java programming language for the specified Java SE release, generating\r\n&gt; class files which target that release. Source code is compiled against\r\n&gt; the combined Java SE and JDK API for the specified release.\r\n&gt; \r\n&gt; The supported values of release are the current Java SE release and a limited number of previous releases, detailed in the\r\n&gt; command-line help.\r\n&gt; \r\n&gt; For the current release, the Java SE API consists of the java.*, javax.*, and org.* packages that are exported by the Java SE modules\r\n&gt; in the release; the JDK API consists of the com.* and jdk.* packages\r\n&gt; that are exported by the JDK modules in the release, plus the javax.*\r\n&gt; packages that are exported by standard, but non-Java SE, modules in\r\n&gt; the release.\r\n&gt; \r\n&gt; For previous releases, the Java SE API and the JDK API are as defined in that release.\r\n&gt;  \r\n&gt; The Maven configurations mentioned just lets you configure those\r\n&gt; values.","title":"Understanding java compiler source and target flags","body":"<p>It is not contradictory but maybe not well described.</p>\n<p>For <code>--source</code> to add more context of the description for Java 17 helps:</p>\n<blockquote>\n<p>--source release or -source release</p>\n<p>Compiles source code according to the rules of the Java programming &gt;language for the specified Java SE release. The supported values of release &gt;are the current Java SE release and a limited number of previous releases, &gt;detailed in the command-line help.</p>\n</blockquote>\n<p>It means that the compiler will use the source language rules or parser for the version selected, with limited support for some but not all previous versions of Java. This is limited to the language specification, not libraries. You can select a previous version to avoid using newer features, but you are still linking to the current library of the JDK so you could be using newer class and/or methods that will not be present if you actually execute with an older version of the JDK.</p>\n<p><code>--target</code> indicates that you want the generated bytecode to be compatible with the target version and not use bytecodes that are only available in a newer version. Again you still could be depending on APIs (classes/methods) available in a newer version so if you try to execute in the older version of the JDK it may fail.</p>\n<p><code>--release</code> was introduce in Java 9 to resolve the problem of API compatibility. In addition to set <code>--source</code> and <code>--target</code> to the same version it ensures that also the standard library used is compatible with the version selected. More information is available in this answer: <a href=\"https://stackoverflow.com/a/43103038/721855\">https://stackoverflow.com/a/43103038/721855</a></p>\n<p><code>--release</code> documentation for Java 17:</p>\n<blockquote>\n<p>--release release</p>\n<p>Compiles source code according to the rules of the Java programming language for the specified Java SE release, generating\nclass files which target that release. Source code is compiled against\nthe combined Java SE and JDK API for the specified release.</p>\n<p>The supported values of release are the current Java SE release and a limited number of previous releases, detailed in the\ncommand-line help.</p>\n<p>For the current release, the Java SE API consists of the java.<em>, javax.</em>, and org.* packages that are exported by the Java SE modules\nin the release; the JDK API consists of the com.* and jdk.* packages\nthat are exported by the JDK modules in the release, plus the javax.*\npackages that are exported by standard, but non-Java SE, modules in\nthe release.</p>\n<p>For previous releases, the Java SE API and the JDK API are as defined in that release.</p>\n<p>The Maven configurations mentioned just lets you configure those\nvalues.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701418885,"creation_date":1701329556,"answer_id":77576616,"question_id":77574719,"body_markdown":"This is about how the Java compiler is told to do its work. \r\n\r\nThe rules of how to interpret Java programs, and what the output files should look like has changed over the years.  \r\n\r\n* `-source X` means the compiler should follow the rules when parsing source code for Java version X.  An example could be how to interpret the `@Overrides` annotation which was invalid in Java 5, but very useful in Java 6.  Another that lambda expressions came in Java 8.\r\n* `-target Y` means that the output files (classfiles) should follow the rules for Java version Y.  This is usually important because old JVM&#39;s cannot understand classes compiled for newer JVM&#39;s as they contain new stuff that they don&#39;t know how to handle.\r\n* `-release X` is a newer flag combining the two.  This is most likely because the OpenJDK java compiler hasn&#39;t allowed different source and target arguments for quite some time.  See https://stackoverflow.com/q/8970920/53897 for how the world looked when I wanted to have Java 6 sources compiled for a Java 5 target (there were very good reasons for that).\r\n\r\nThis is what the Oracle documentation tries to tell you.\r\n\r\nThe tricky part here is that even if the Java 17 compiler knows it is compiling Java 8 code, the default behavior is that it can only resolve class references against what is present in the Java 17 JVM it is running in.  Hence, if you happen to use a class not present in Java 8 but in Java 17 the compiler has no way of knowing that and therefore can generate code that can run but not work on the Java 8 JVM.   \r\n\r\nThis is what the Maven documentation tries to tell you (as Maven essentially just passes these arguments on to javac in its default configuration).\r\n\r\nNotes:  \r\n\r\n* Unless you have very, very good reason not to, you should write for the latest relevant Long Term Support version.  A good choice is Java 17. \r\n* These days you should compile your sources for others with the JVM intended to run the program.  This is very easy using docker or build tools like Github Actions.\r\n","title":"Understanding java compiler source and target flags","body":"<p>This is about how the Java compiler is told to do its work.</p>\n<p>The rules of how to interpret Java programs, and what the output files should look like has changed over the years.</p>\n<ul>\n<li><code>-source X</code> means the compiler should follow the rules when parsing source code for Java version X.  An example could be how to interpret the <code>@Overrides</code> annotation which was invalid in Java 5, but very useful in Java 6.  Another that lambda expressions came in Java 8.</li>\n<li><code>-target Y</code> means that the output files (classfiles) should follow the rules for Java version Y.  This is usually important because old JVM's cannot understand classes compiled for newer JVM's as they contain new stuff that they don't know how to handle.</li>\n<li><code>-release X</code> is a newer flag combining the two.  This is most likely because the OpenJDK java compiler hasn't allowed different source and target arguments for quite some time.  See <a href=\"https://stackoverflow.com/q/8970920/53897\">Maven: javac: source release 1.6 requires target release 1.6</a> for how the world looked when I wanted to have Java 6 sources compiled for a Java 5 target (there were very good reasons for that).</li>\n</ul>\n<p>This is what the Oracle documentation tries to tell you.</p>\n<p>The tricky part here is that even if the Java 17 compiler knows it is compiling Java 8 code, the default behavior is that it can only resolve class references against what is present in the Java 17 JVM it is running in.  Hence, if you happen to use a class not present in Java 8 but in Java 17 the compiler has no way of knowing that and therefore can generate code that can run but not work on the Java 8 JVM.</p>\n<p>This is what the Maven documentation tries to tell you (as Maven essentially just passes these arguments on to javac in its default configuration).</p>\n<p>Notes:</p>\n<ul>\n<li>Unless you have very, very good reason not to, you should write for the latest relevant Long Term Support version.  A good choice is Java 17.</li>\n<li>These days you should compile your sources for others with the JVM intended to run the program.  This is very easy using docker or build tools like Github Actions.</li>\n</ul>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701418885,"creation_date":1701295270,"question_id":77574719,"body_markdown":"The `javac` [documentation](https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html) says:\r\n\r\n&gt;--source release or -source release\r\nCompiles source code according to the rules of the Java programming language for the specified Java SE release.\r\n\r\n&gt;--target release or -target release\r\nGenerates class files suitable for the specified Java SE release. \r\n\r\nbut Maven [documentation](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html) says:\r\n\r\n&gt;setting the source option does not guarantee that your code actually compiles on a JDK with the specified version.\r\n\r\n&gt;Merely setting the target option does not guarantee that your code actually runs on a JRE with the specified version.\r\n\r\nI don&#39;t understand this and find it conflicting. Which of the above is correct? Or, can anyone explain with an example how both are correct?\r\n\r\nOn another [page](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html) Maven seems to advocate using the `release` flag instead and says:\r\n\r\n&gt;This means that, unlike the -source and -target options, the compiler will detect and generate an error when using APIs that don&#39;t exist in previous releases of Java SE","title":"Understanding java compiler source and target flags","body":"<p>The <code>javac</code> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n<blockquote>\n<p>--source release or -source release\nCompiles source code according to the rules of the Java programming language for the specified Java SE release.</p>\n</blockquote>\n<blockquote>\n<p>--target release or -target release\nGenerates class files suitable for the specified Java SE release.</p>\n</blockquote>\n<p>but Maven <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n<blockquote>\n<p>setting the source option does not guarantee that your code actually compiles on a JDK with the specified version.</p>\n</blockquote>\n<blockquote>\n<p>Merely setting the target option does not guarantee that your code actually runs on a JRE with the specified version.</p>\n</blockquote>\n<p>I don't understand this and find it conflicting. Which of the above is correct? Or, can anyone explain with an example how both are correct?</p>\n<p>On another <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html\" rel=\"nofollow noreferrer\">page</a> Maven seems to advocate using the <code>release</code> flag instead and says:</p>\n<blockquote>\n<p>This means that, unlike the -source and -target options, the compiler will detect and generate an error when using APIs that don't exist in previous releases of Java SE</p>\n</blockquote>\n"},{"tags":["java","java-21","virtual-threads"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700129388,"post_id":77492181,"comment_id":136617687,"body_markdown":"Maybe when you’re using `synchronized` a lot.","body":"Maybe when you’re using <code>synchronized</code> a lot."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700138557,"post_id":77492181,"comment_id":136619301,"body_markdown":"@Holger `synchronized` alone isn&#39;t that much of a problem - but _blocking operations inside `synchronized`_ would cause pinning - However, I don&#39;t think the OP is asking about pinning but things like file I/O that temporarily increases the number of platform threads in the pool.","body":"@Holger <code>synchronized</code> alone isn&#39;t that much of a problem - but <i>blocking operations inside <code>synchronized</code></i> would cause pinning - However, I don&#39;t think the OP is asking about pinning but things like file I/O that temporarily increases the number of platform threads in the pool."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700213491,"post_id":77492181,"comment_id":136629191,"body_markdown":"@dan1st the thread is pinned the entire time it owns the object’s monitor (the entire `synchronized` block when not using `wait`) though you’re right that this is not a problem when the thread does not use blocking operations. But keep in mind that trying to enter a `synchronized` block also is a blocking operation when another thread own the object’s monitor. So nested `synchronized` blocks (on different objects) alone are sufficient to create an actual problem.","body":"@dan1st the thread is pinned the entire time it owns the object’s monitor (the entire <code>synchronized</code> block when not using <code>wait</code>) though you’re right that this is not a problem when the thread does not use blocking operations. But keep in mind that trying to enter a <code>synchronized</code> block also is a blocking operation when another thread own the object’s monitor. So nested <code>synchronized</code> blocks (on different objects) alone are sufficient to create an actual problem."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700231026,"post_id":77492181,"comment_id":136632316,"body_markdown":"Pinning from `synchronized` blocks doesn&#39;t temporarily increase the number of carrier threads IIRC. As I said, I think the OP is asking about things like `FileInputStream` which is not yet implemented asynchronously. Also, if you have high-contention nested `synchronized` blocks (i.e. the inner one is contended) or `synchronized` blocks that take a long time without blocking, you might be doing something wrong.","body":"Pinning from <code>synchronized</code> blocks doesn&#39;t temporarily increase the number of carrier threads IIRC. As I said, I think the OP is asking about things like <code>FileInputStream</code> which is not yet implemented asynchronously. Also, if you have high-contention nested <code>synchronized</code> blocks (i.e. the inner one is contended) or <code>synchronized</code> blocks that take a long time without blocking, you might be doing something wrong."},{"owner":{"account_id":17675286,"reputation":1,"user_id":12830366,"display_name":"FlyChenKai"},"score":0,"creation_date":1701244790,"post_id":77492181,"comment_id":136750246,"body_markdown":"@dan1st&#160;丹1st You&#39;are right that I&#39;m not asking about pinning. Pinning will not cause carrier threads expansion.\nI want to know what operation will cause carrier threads expansion. Could you give me some  code to reach this? Thank you very much!","body":"@dan1st 丹1st You&#39;are right that I&#39;m not asking about pinning. Pinning will not cause carrier threads expansion. I want to know what operation will cause carrier threads expansion. Could you give me some  code to reach this? Thank you very much!"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701244894,"post_id":77492181,"comment_id":136750263,"body_markdown":"Any code blocking on `FileInputStream#read`/`FileOutputStream#write` (you might need `FileOutputStream#flush` after writing) in virtual threads should work - but I don&#39;t know about other ways/I don&#39;t have a full list.","body":"Any code blocking on <code>FileInputStream#read</code>/<code>FileOutputStream#write</code> (you might need <code>FileOutputStream#flush</code> after writing) in virtual threads should work - but I don&#39;t know about other ways/I don&#39;t have a full list."},{"owner":{"account_id":17675286,"reputation":1,"user_id":12830366,"display_name":"FlyChenKai"},"score":0,"creation_date":1701417676,"post_id":77492181,"comment_id":136775467,"body_markdown":"@dan1st Sorry, how can I print the number of  carrier threads?","body":"@dan1st Sorry, how can I print the number of  carrier threads?"},{"owner":{"account_id":17675286,"reputation":1,"user_id":12830366,"display_name":"FlyChenKai"},"score":0,"creation_date":1701418598,"post_id":77492181,"comment_id":136775598,"body_markdown":"@dan1st You&#39;re right. I have sawn the carrier threads expansion in `FileInputStream#read`  by `jstack pid`","body":"@dan1st You&#39;re right. I have sawn the carrier threads expansion in <code>FileInputStream#read</code>  by <code>jstack pid</code>"}],"answers":[{"tags":[],"owner":{"account_id":17675286,"reputation":1,"user_id":12830366,"display_name":"FlyChenKai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701418749,"creation_date":1701418749,"answer_id":77583843,"question_id":77492181,"body_markdown":"```\r\npublic class CarrierThreadExpandTest {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor();\r\n        File file = new File(&quot;/Users/info.log&quot;);\r\n        for (int i = 0; i &lt; 32; i++) {\r\n            executorService.execute(() -&gt; {\r\n                while (true) {\r\n                    try (FileInputStream fis = new FileInputStream(file)) {\r\n                        int content;\r\n                        while ((content = fis.read()) != -1) {\r\n                            System.out.print((char) content);\r\n                        }\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n\r\n                }\r\n            });\r\n        }\r\n        Thread.sleep(1000 * 60 * 60);\r\n    }\r\n}\r\n\r\n```\r\n```\r\n$ jps\r\n$ jstack pid\r\n```\r\nlook at the &quot;ForkJoinPool-1-worker-xx&quot; thread.\r\n","title":"Under what circumstances will virtual threads expand the number of underlying carrier threads?","body":"<pre><code>public class CarrierThreadExpandTest {\n\n    public static void main(String[] args) throws InterruptedException {\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor();\n        File file = new File(&quot;/Users/info.log&quot;);\n        for (int i = 0; i &lt; 32; i++) {\n            executorService.execute(() -&gt; {\n                while (true) {\n                    try (FileInputStream fis = new FileInputStream(file)) {\n                        int content;\n                        while ((content = fis.read()) != -1) {\n                            System.out.print((char) content);\n                        }\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n\n                }\n            });\n        }\n        Thread.sleep(1000 * 60 * 60);\n    }\n}\n\n</code></pre>\n<pre><code>$ jps\n$ jstack pid\n</code></pre>\n<p>look at the &quot;ForkJoinPool-1-worker-xx&quot; thread.</p>\n"}],"owner":{"account_id":17675286,"reputation":1,"user_id":12830366,"display_name":"FlyChenKai"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701418749,"creation_date":1700106248,"question_id":77492181,"body_markdown":"In the jep444, I see &quot;The implementations of these blocking operations compensate for the capture of the OS thread by temporarily expanding the parallelism of the scheduler&quot;.\r\nUnder what circumstances will virtual threads expand the number of underlying carrier threads?\r\n\r\n\r\nCan you give me some code to reach this?","title":"Under what circumstances will virtual threads expand the number of underlying carrier threads?","body":"<p>In the jep444, I see &quot;The implementations of these blocking operations compensate for the capture of the OS thread by temporarily expanding the parallelism of the scheduler&quot;.\nUnder what circumstances will virtual threads expand the number of underlying carrier threads?</p>\n<p>Can you give me some code to reach this?</p>\n"},{"tags":["java","android","android-gradle-plugin","build.gradle"],"answers":[{"comments":[{"owner":{"account_id":199087,"reputation":1284,"user_id":444158,"accept_rate":53,"display_name":"Prabhakaran"},"score":0,"creation_date":1566382328,"post_id":57589190,"comment_id":101636075,"body_markdown":"Could not get unknown property &#39;main&#39; for SourceSet container of type org.gradle.api.internal.tasks.DefaultSourceSetContainer.","body":"Could not get unknown property &#39;main&#39; for SourceSet container of type org.gradle.api.internal.tasks.DefaultSourceSetContainer."},{"owner":{"account_id":199087,"reputation":1284,"user_id":444158,"accept_rate":53,"display_name":"Prabhakaran"},"score":0,"creation_date":1566436993,"post_id":57589190,"comment_id":101658918,"body_markdown":"I forget to update the result for that as well. I tried when trying your previous solution with adding android as well but still failing.  Could not get unknown property &#39;allSource&#39; for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet.","body":"I forget to update the result for that as well. I tried when trying your previous solution with adding android as well but still failing.  Could not get unknown property &#39;allSource&#39; for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSe&zwnj;&#8203;t."},{"owner":{"account_id":199087,"reputation":1284,"user_id":444158,"accept_rate":53,"display_name":"Prabhakaran"},"score":0,"creation_date":1566437095,"post_id":57589190,"comment_id":101658943,"body_markdown":"I noticed just that the subproject under this and reference project are different. one is apply plugin: &#39;java&#39; and another is apply plugin: &#39;java-library&#39;. do we need to check the subproject type before we running the task?","body":"I noticed just that the subproject under this and reference project are different. one is apply plugin: &#39;java&#39; and another is apply plugin: &#39;java-library&#39;. do we need to check the subproject type before we running the task?"}],"tags":[],"owner":{"account_id":6976446,"reputation":9597,"user_id":5351055,"display_name":"Manoj Perumarath"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566450677,"creation_date":1566381961,"answer_id":57589190,"question_id":57588781,"body_markdown":"Try this\r\n\r\n    task codeCoverageReport(type: JacocoReport) {\r\n    def execData = subprojects.collect { files(&quot;${it.buildDir}/jacoco/test.exec&quot;) }\r\n    executionData execData\r\n\r\n    // Add all relevant sourcesets from the subprojects\r\n    sourceDirectories.from = subprojects.android.sourceSets.main.allSource.srcDirs\r\n    classDirectories.from = subprojects.android.sourceSets.main.output\r\n\r\n    reports {\r\n        xml.enabled = false\r\n        html.enabled = false\r\n        html.destination file(&quot;${buildDir}/reports/jacoco&quot;)\r\n        csv.enabled = false\r\n      }\r\n    }\r\nFor Java projects the correct path is\r\n\r\n    subprojects.sourceSets.main\r\nsince we&#39;re on Android Projects the path changes to\r\n\r\n    subprojects.android.sourceSets.main\r\nalso\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;jacoco-android&#39;","title":"Could not get unknown property &#39;output&#39; for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet","body":"<p>Try this</p>\n\n<pre><code>task codeCoverageReport(type: JacocoReport) {\ndef execData = subprojects.collect { files(\"${it.buildDir}/jacoco/test.exec\") }\nexecutionData execData\n\n// Add all relevant sourcesets from the subprojects\nsourceDirectories.from = subprojects.android.sourceSets.main.allSource.srcDirs\nclassDirectories.from = subprojects.android.sourceSets.main.output\n\nreports {\n    xml.enabled = false\n    html.enabled = false\n    html.destination file(\"${buildDir}/reports/jacoco\")\n    csv.enabled = false\n  }\n}\n</code></pre>\n\n<p>For Java projects the correct path is</p>\n\n<pre><code>subprojects.sourceSets.main\n</code></pre>\n\n<p>since we're on Android Projects the path changes to</p>\n\n<pre><code>subprojects.android.sourceSets.main\n</code></pre>\n\n<p>also</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'jacoco-android'\n</code></pre>\n"}],"owner":{"account_id":199087,"reputation":1284,"user_id":444158,"accept_rate":53,"display_name":"Prabhakaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9162,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1701418095,"creation_date":1566380587,"question_id":57588781,"body_markdown":"After I updated my gradle tools from 3.0.1 to 3.2.0 my JacocoReport task was not compiling.\r\nAndroid Studio : \r\n\r\n    Android Studio 3.3.1\r\n    Build #AI-182.5107.16.33.5264788, built on January 29, 2019\r\n    JRE: 1.8.0_152-release-1248-b01 amd64\r\n    JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\n    Windows 10 10.0\r\n\r\n\r\nGradle Wrapper : `distributionUrl=https://services.gradle.org/distributions/gradle-4.6-all.zip`\r\n\r\nInitially the task was \r\n\r\n    task codeCoverageReport(type: JacocoReport) {\r\n        def execData = subprojects.collect { files(&quot;${it.buildDir}/jacoco/test.exec&quot;) }\r\n        executionData execData\r\n    \r\n        // Add all relevant sourcesets from the subprojects\r\n        classDirectories = files(subprojects.sourceSets.main.output)\r\n        sourceDirectories = files(subprojects.sourceSets.main.java.srcDirs)\r\n    \r\n        reports {\r\n            xml.enabled = false\r\n            html.enabled = false\r\n            html.destination file(&quot;${buildDir}/reports/jacoco&quot;)\r\n            csv.enabled = false\r\n        }\r\n    }\r\n\r\nI got the error for the above as \r\n\r\n    ERROR: Could not get unknown property &#39;main&#39; for SourceSet container of type org.gradle.api.internal.tasks.DefaultSourceSetContainer.\r\n\r\nThen based on some google suggestion I modified as below lines\r\n\r\n    classDirectories = files(subprojects.android.sourceSets.main.output)\r\n    sourceDirectories = files(subprojects.android.sourceSets.main.java.srcDirs)\r\n\r\nand now I am facing \r\n\r\n    Could not get unknown property &#39;output&#39; for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet.\r\n\r\n\r\n\r\nthe above task will be called from the top level gradle file and the task will be invoked as below line from that file.\r\n\r\n    afterEvaluate {project -&gt;\r\n        project.tasks.test.finalizedBy(jacocoTestReport)\r\n        project.tasks.check.finalizedBy(jdependReport)\r\n        project.tasks.connectedCheck.finalizedBy(jacocoTestReport)\r\n    }\r\n\r\nthe below is the stacktrace\r\n\r\n    Configure project :common \r\n    Project evaluation failed including an error in afterEvaluate {}.\r\n    groovy.lang.MissingPropertyException: Could not get unknown property &#39;test&#39; for task set of type org.gradle.api.internal.tasks.DefaultTaskContainer.\r\n            at org.gradle.internal.metaobject.AbstractDynamicObject.getMissingProperty(AbstractDynamicObject.java:83)\r\n            at org.gradle.internal.metaobject.AbstractDynamicObject.getProperty(AbstractDynamicObject.java:61)\r\n            at org.gradle.api.internal.tasks.DefaultTaskContainer_Decorated.getProperty(Unknown Source)\r\n            at org.codehaus.groovy.runtime.callsite.PogoGetPropertySite.getProperty(PogoGetPropertySite.java:50)\r\n            at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGetProperty(AbstractCallSite.java:296)\r\n            at quality_938z6id0n9x7f1jhtgj974y8d$_run_closure12.doCall(E:..\\config\\quality.gradle:197)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\r\n            at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n            at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294)\r\n            at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\r\n            at groovy.lang.Closure.call(Closure.java:414)\r\n            at org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(ClosureBackedMethodInvocationDispatch.java:40)\r\n            at org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(ClosureBackedMethodInvocationDispatch.java:25)\r\n            at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n            at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n            at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n            at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)\r\n            at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)\r\n            at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)\r\n            at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n            at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n            at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n            at com.sun.proxy.$Proxy25.afterEvaluate(Unknown Source)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.notifyAfterEvaluate(LifecycleProjectEvaluator.java:76)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:70)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)\r\n            at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:667)\r\n            at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:136)\r\n            at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\r\n            at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)\r\n            at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)\r\n            at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:261)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:173)\r\n            at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)\r\n            at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)\r\n            at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\r\n            at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\r\n            at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\r\n            at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\r\n            at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\r\n            at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n            at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\r\n            at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\r\n            at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\r\n            at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\r\n            at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\r\n            at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\r\n            at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\r\n            at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\r\n            at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n            at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n            at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n            at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n            at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\r\n            at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\r\n            at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\r\n            at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\r\n            at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\r\n            at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\r\n            at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n            at org.gradle.util.Swapper.swap(Swapper.java:38)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n            at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n            at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    \r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;E:..\\common\\build.gradle&#39; line: 144\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating project &#39;:common&#39;.\r\n    &gt; Could not get unknown property &#39;output&#39; for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet.\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.GradleScriptException: A problem occurred evaluating project &#39;:common&#39;.\r\n            at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:92)\r\n            at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl$2.run(DefaultScriptPluginFactory.java:204)\r\n            at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:77)\r\n            at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:209)\r\n            at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:61)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:58)\r\n            at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:41)\r\n            at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n            at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:64)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)\r\n            at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:667)\r\n            at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:136)\r\n            at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\r\n            at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)\r\n            at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)\r\n            at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:261)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:173)\r\n            at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)\r\n            at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)\r\n            at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\r\n            at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\r\n            at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\r\n            at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\r\n            at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\r\n            at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n            at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\r\n            at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\r\n            at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\r\n            at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\r\n            at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\r\n            at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\r\n            at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\r\n            at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\r\n            at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n            at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n            at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n            at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n            at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\r\n            at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\r\n            at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\r\n            at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\r\n            at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\r\n            at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\r\n            at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n            at org.gradle.util.Swapper.swap(Swapper.java:38)\r\n            at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n            at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n            at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    Caused by: groovy.lang.MissingPropertyException: Could not get unknown property &#39;output&#39; for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet.\r\n            at org.gradle.internal.metaobject.AbstractDynamicObject.getMissingProperty(AbstractDynamicObject.java:83)\r\n            at org.gradle.internal.metaobject.AbstractDynamicObject.getProperty(AbstractDynamicObject.java:61)\r\n            at com.android.build.gradle.internal.api.DefaultAndroidSourceSet_Decorated.getProperty(Unknown Source)\r\n            at build_79h3ozytg2wcts2y6ussq1j61$_run_closure6.doCall(E:..\\common\\build.gradle:144)\r\n            at org.gradle.api.internal.ClosureBackedAction.execute(ClosureBackedAction.java:71)\r\n            at org.gradle.util.ConfigureUtil.configureTarget(ConfigureUtil.java:160)\r\n            at org.gradle.util.ConfigureUtil.configureSelf(ConfigureUtil.java:136)\r\n            at org.gradle.api.internal.AbstractTask.configure(AbstractTask.java:642)\r\n            at org.gradle.api.internal.project.DefaultProject.task(DefaultProject.java:1209)\r\n            at org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:479)\r\n            at org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:191)\r\n            at org.gradle.internal.metaobject.CompositeDynamicObject.tryInvokeMethod(CompositeDynamicObject.java:98)\r\n            at org.gradle.internal.metaobject.MixInClosurePropertiesAsMethodsDynamicObject.tryInvokeMethod(MixInClosurePropertiesAsMethodsDynamicObject.java:30)\r\n            at org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.tryInvokeMethod(BasicScript.java:134)\r\n            at org.gradle.internal.metaobject.AbstractDynamicObject.invokeMethod(AbstractDynamicObject.java:160)\r\n            at org.gradle.groovy.scripts.BasicScript.invokeMethod(BasicScript.java:83)\r\n            at build_79h3ozytg2wcts2y6ussq1j61.run(E:...\\common\\build.gradle:139)\r\n            at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:90)\r\n            ... 93 more\r\n\r\n","title":"Could not get unknown property &#39;output&#39; for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet","body":"<p>After I updated my gradle tools from 3.0.1 to 3.2.0 my JacocoReport task was not compiling.\nAndroid Studio : </p>\n\n<pre><code>Android Studio 3.3.1\nBuild #AI-182.5107.16.33.5264788, built on January 29, 2019\nJRE: 1.8.0_152-release-1248-b01 amd64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nWindows 10 10.0\n</code></pre>\n\n<p>Gradle Wrapper : <code>distributionUrl=https://services.gradle.org/distributions/gradle-4.6-all.zip</code></p>\n\n<p>Initially the task was </p>\n\n<pre><code>task codeCoverageReport(type: JacocoReport) {\n    def execData = subprojects.collect { files(\"${it.buildDir}/jacoco/test.exec\") }\n    executionData execData\n\n    // Add all relevant sourcesets from the subprojects\n    classDirectories = files(subprojects.sourceSets.main.output)\n    sourceDirectories = files(subprojects.sourceSets.main.java.srcDirs)\n\n    reports {\n        xml.enabled = false\n        html.enabled = false\n        html.destination file(\"${buildDir}/reports/jacoco\")\n        csv.enabled = false\n    }\n}\n</code></pre>\n\n<p>I got the error for the above as </p>\n\n<pre><code>ERROR: Could not get unknown property 'main' for SourceSet container of type org.gradle.api.internal.tasks.DefaultSourceSetContainer.\n</code></pre>\n\n<p>Then based on some google suggestion I modified as below lines</p>\n\n<pre><code>classDirectories = files(subprojects.android.sourceSets.main.output)\nsourceDirectories = files(subprojects.android.sourceSets.main.java.srcDirs)\n</code></pre>\n\n<p>and now I am facing </p>\n\n<pre><code>Could not get unknown property 'output' for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet.\n</code></pre>\n\n<p>the above task will be called from the top level gradle file and the task will be invoked as below line from that file.</p>\n\n<pre><code>afterEvaluate {project -&gt;\n    project.tasks.test.finalizedBy(jacocoTestReport)\n    project.tasks.check.finalizedBy(jdependReport)\n    project.tasks.connectedCheck.finalizedBy(jacocoTestReport)\n}\n</code></pre>\n\n<p>the below is the stacktrace</p>\n\n<pre><code>Configure project :common \nProject evaluation failed including an error in afterEvaluate {}.\ngroovy.lang.MissingPropertyException: Could not get unknown property 'test' for task set of type org.gradle.api.internal.tasks.DefaultTaskContainer.\n        at org.gradle.internal.metaobject.AbstractDynamicObject.getMissingProperty(AbstractDynamicObject.java:83)\n        at org.gradle.internal.metaobject.AbstractDynamicObject.getProperty(AbstractDynamicObject.java:61)\n        at org.gradle.api.internal.tasks.DefaultTaskContainer_Decorated.getProperty(Unknown Source)\n        at org.codehaus.groovy.runtime.callsite.PogoGetPropertySite.getProperty(PogoGetPropertySite.java:50)\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGetProperty(AbstractCallSite.java:296)\n        at quality_938z6id0n9x7f1jhtgj974y8d$_run_closure12.doCall(E:..\\config\\quality.gradle:197)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\n        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\n        at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294)\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\n        at groovy.lang.Closure.call(Closure.java:414)\n        at org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(ClosureBackedMethodInvocationDispatch.java:40)\n        at org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(ClosureBackedMethodInvocationDispatch.java:25)\n        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)\n        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)\n        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)\n        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n        at com.sun.proxy.$Proxy25.afterEvaluate(Unknown Source)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.notifyAfterEvaluate(LifecycleProjectEvaluator.java:76)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:70)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:667)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:136)\n        at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\n        at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)\n        at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)\n        at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:261)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:173)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)\n        at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)\n        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n        at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n        at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n        at java.lang.Thread.run(Thread.java:748)\n\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'E:..\\common\\build.gradle' line: 144\n\n* What went wrong:\nA problem occurred evaluating project ':common'.\n&gt; Could not get unknown property 'output' for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet.\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating project ':common'.\n        at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:92)\n        at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl$2.run(DefaultScriptPluginFactory.java:204)\n        at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:77)\n        at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:209)\n        at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:61)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:58)\n        at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:41)\n        at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n        at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:64)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:667)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:136)\n        at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\n        at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)\n        at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)\n        at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:261)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:173)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)\n        at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)\n        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n        at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n        at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: groovy.lang.MissingPropertyException: Could not get unknown property 'output' for source set main of type com.android.build.gradle.internal.api.DefaultAndroidSourceSet.\n        at org.gradle.internal.metaobject.AbstractDynamicObject.getMissingProperty(AbstractDynamicObject.java:83)\n        at org.gradle.internal.metaobject.AbstractDynamicObject.getProperty(AbstractDynamicObject.java:61)\n        at com.android.build.gradle.internal.api.DefaultAndroidSourceSet_Decorated.getProperty(Unknown Source)\n        at build_79h3ozytg2wcts2y6ussq1j61$_run_closure6.doCall(E:..\\common\\build.gradle:144)\n        at org.gradle.api.internal.ClosureBackedAction.execute(ClosureBackedAction.java:71)\n        at org.gradle.util.ConfigureUtil.configureTarget(ConfigureUtil.java:160)\n        at org.gradle.util.ConfigureUtil.configureSelf(ConfigureUtil.java:136)\n        at org.gradle.api.internal.AbstractTask.configure(AbstractTask.java:642)\n        at org.gradle.api.internal.project.DefaultProject.task(DefaultProject.java:1209)\n        at org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:479)\n        at org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:191)\n        at org.gradle.internal.metaobject.CompositeDynamicObject.tryInvokeMethod(CompositeDynamicObject.java:98)\n        at org.gradle.internal.metaobject.MixInClosurePropertiesAsMethodsDynamicObject.tryInvokeMethod(MixInClosurePropertiesAsMethodsDynamicObject.java:30)\n        at org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.tryInvokeMethod(BasicScript.java:134)\n        at org.gradle.internal.metaobject.AbstractDynamicObject.invokeMethod(AbstractDynamicObject.java:160)\n        at org.gradle.groovy.scripts.BasicScript.invokeMethod(BasicScript.java:83)\n        at build_79h3ozytg2wcts2y6ussq1j61.run(E:...\\common\\build.gradle:139)\n        at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:90)\n        ... 93 more\n</code></pre>\n"},{"tags":["java","windows","screen-capture"],"comments":[{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1572190143,"post_id":58574623,"comment_id":103475985,"body_markdown":"The reason the user locked the screen is for the screen to be locked. Therefore you are entering into illegal activities here. It is reportable to your campus chancellor!!.","body":"The reason the user locked the screen is for the screen to be locked. Therefore you are entering into illegal activities here. It is reportable to your campus chancellor!!."},{"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"score":0,"creation_date":1572190884,"post_id":58574623,"comment_id":103476186,"body_markdown":"Sorry to say but you went way off topic here....nobody is doing anything illegal. This is a purely programming issue. How to obtain screenshots during lockscreen..who said anything about unauthorized access? What is this about campus? Please refrain from expressing off topic remarks here.","body":"Sorry to say but you went way off topic here....nobody is doing anything illegal. This is a purely programming issue. How to obtain screenshots during lockscreen..who said anything about unauthorized access? What is this about campus? Please refrain from expressing off topic remarks here."},{"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"score":0,"creation_date":1572190993,"post_id":58574623,"comment_id":103476226,"body_markdown":"@gpasch please note that the user himself/herself has launched the application and let it run during lockscreen.","body":"@gpasch please note that the user himself/herself has launched the application and let it run during lockscreen."}],"answers":[{"tags":[],"owner":{"account_id":6999927,"reputation":226,"user_id":5366271,"display_name":"Itamar Vieira Junior"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701399332,"creation_date":1701399332,"answer_id":77582766,"question_id":58574623,"body_markdown":"I know this is an old question, but I had the same problem because a testing framework that runs on a Jenkins node couldn&#39;t capture screenshots when an exception occurred. The accepted answer here solved the problem: https://stackoverflow.com/questions/53842821/is-it-possible-to-programmatically-take-a-screenshot-while-the-computer-is-locke/53845814#53845814","title":"Screen Capture during lockscreen using java on windows","body":"<p>I know this is an old question, but I had the same problem because a testing framework that runs on a Jenkins node couldn't capture screenshots when an exception occurred. The accepted answer here solved the problem: <a href=\"https://stackoverflow.com/questions/53842821/is-it-possible-to-programmatically-take-a-screenshot-while-the-computer-is-locke/53845814#53845814\">Is it possible to programmatically take a screenshot while the computer is locked?</a></p>\n"},{"tags":[],"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701416810,"creation_date":1701416003,"answer_id":77583642,"question_id":58574623,"body_markdown":"Portably capturing the underlying application during lockscreen is impossible to do in Java, and perhaps in any screen capturing solution. [Docs][1] for `Robot.createScreenCapture` say:   \r\n\r\n&gt;&quot;[It] Creates an image containing pixels read from the screen. ...&quot;\r\n\r\nimplying that `Robot` is only capable of capturing *whatever* is being rendered to the screen and has no notion/understanding/programmatic ability to detect its contents, say individual applications, notifications, widgets etc. When what is being rendered is the lockscreen, that is what gets captured.\r\n\r\nThis also implies that when nothing is being sent to it (say the monitor/screen was turned off by the OS&#39;s energy policy and so wasn&#39;t necessarily being rendered to), nothing (but perhaps a black screen) gets captured.\r\n\r\nIn order to achieve what you are attempting,you need application specific hooks either into the app (say via some API it exposes - highly unlikely) or an OS specific call [(e.g.)][2] or process probing. Former depends on the app and the latter break portability.\r\n\r\nRemark on general impossibility: Video conferencing/streaming/screen recording/remote access apps routinely share app specific screens across users. However,  an app&#39;s (&#39;the recorder&#39;) app-agnostic awareness of and access to other applications (&#39;the recorded&#39;) is necessarily mediated by the OS, thus breaking portability. Not to mention it stops during lockscreen.\r\n\r\nThis would be equally true of audio capture or any other data stream. As a maxim, then:\r\n\r\n&gt; Cross app-data capture is either exposed by target app or is OS mediated.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/java/awt/Robot.html#createScreenCapture(java.awt.Rectangle)\r\n  [2]: https://stackoverflow.com/a/29612211/10115137","title":"Screen Capture during lockscreen using java on windows","body":"<p>Portably capturing the underlying application during lockscreen is impossible to do in Java, and perhaps in any screen capturing solution. <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/java/awt/Robot.html#createScreenCapture(java.awt.Rectangle)\" rel=\"nofollow noreferrer\">Docs</a> for <code>Robot.createScreenCapture</code> say:</p>\n<blockquote>\n<p>&quot;[It] Creates an image containing pixels read from the screen. ...&quot;</p>\n</blockquote>\n<p>implying that <code>Robot</code> is only capable of capturing <em>whatever</em> is being rendered to the screen and has no notion/understanding/programmatic ability to detect its contents, say individual applications, notifications, widgets etc. When what is being rendered is the lockscreen, that is what gets captured.</p>\n<p>This also implies that when nothing is being sent to it (say the monitor/screen was turned off by the OS's energy policy and so wasn't necessarily being rendered to), nothing (but perhaps a black screen) gets captured.</p>\n<p>In order to achieve what you are attempting,you need application specific hooks either into the app (say via some API it exposes - highly unlikely) or an OS specific call <a href=\"https://stackoverflow.com/a/29612211/10115137\">(e.g.)</a> or process probing. Former depends on the app and the latter break portability.</p>\n<p>Remark on general impossibility: Video conferencing/streaming/screen recording/remote access apps routinely share app specific screens across users. However,  an app's ('the recorder') app-agnostic awareness of and access to other applications ('the recorded') is necessarily mediated by the OS, thus breaking portability. Not to mention it stops during lockscreen.</p>\n<p>This would be equally true of audio capture or any other data stream. As a maxim, then:</p>\n<blockquote>\n<p>Cross app-data capture is either exposed by target app or is OS mediated.</p>\n</blockquote>\n"}],"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77583642,"answer_count":2,"score":1,"last_activity_date":1701416810,"creation_date":1572123182,"question_id":58574623,"body_markdown":"The aim is to do screen capture regardless of screen lock as long as the java application is running. I have come across several similar questions on the exchange but all of them relate to using Selenium or some Windows specific code.\r\n\r\nThe code (see below) uses `java.awt.Robot` to do looped screen capture. The file is saved as a png.\r\n\r\nThe problem is **when a user locks the computer, the screenshot taken is of the lockscreen instead of what the underlying screen would look like if the pc was unlocked.**\r\n\r\nHow to solve this?\r\n\r\n````\r\nimport java.awt.DisplayMode;\r\nimport java.awt.GraphicsDevice;\r\nimport java.awt.GraphicsEnvironment;\r\nimport java.awt.Rectangle;\r\nimport java.awt.Robot;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class Capture{\r\n    public static void main(String[] args) throws Exception {\r\n        GraphicsDevice screen = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\r\n        DisplayMode dm = screen.getDisplayMode();\r\n        int[] size = {dm.getWidth(), dm.getHeight()};\r\n        Rectangle rect = new Rectangle(size[0], size[1]);\r\n        String path = &quot;D:/img.png&quot;;\r\n        Robot rob = new Robot(screen);\r\n        File outfile = new File(path);\r\n\r\n        while (true) {\r\n            BufferedImage img = rob.createScreenCapture(rect);\r\n            ImageIO.write(img, &quot;png&quot;, outfile);\r\n            Thread.sleep(1000);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n````\r\n**env**  \r\nWindows 10  \r\nJDK 12\r\n","title":"Screen Capture during lockscreen using java on windows","body":"<p>The aim is to do screen capture regardless of screen lock as long as the java application is running. I have come across several similar questions on the exchange but all of them relate to using Selenium or some Windows specific code.</p>\n\n<p>The code (see below) uses <code>java.awt.Robot</code> to do looped screen capture. The file is saved as a png.</p>\n\n<p>The problem is <strong>when a user locks the computer, the screenshot taken is of the lockscreen instead of what the underlying screen would look like if the pc was unlocked.</strong></p>\n\n<p>How to solve this?</p>\n\n<pre><code>import java.awt.DisplayMode;\nimport java.awt.GraphicsDevice;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.Rectangle;\nimport java.awt.Robot;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport javax.imageio.ImageIO;\n\npublic class Capture{\n    public static void main(String[] args) throws Exception {\n        GraphicsDevice screen = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\n        DisplayMode dm = screen.getDisplayMode();\n        int[] size = {dm.getWidth(), dm.getHeight()};\n        Rectangle rect = new Rectangle(size[0], size[1]);\n        String path = \"D:/img.png\";\n        Robot rob = new Robot(screen);\n        File outfile = new File(path);\n\n        while (true) {\n            BufferedImage img = rob.createScreenCapture(rect);\n            ImageIO.write(img, \"png\", outfile);\n            Thread.sleep(1000);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p><strong>env</strong><br>\nWindows 10<br>\nJDK 12</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1701414211,"post_id":77583453,"comment_id":136775004,"body_markdown":"do you know what your second loop is doing? if no, why did you add the second for loop?","body":"do you know what your second loop is doing? if no, why did you add the second for loop?"}],"answers":[{"tags":[],"owner":{"account_id":5592431,"reputation":11,"user_id":4431172,"display_name":"Photon Cat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701413822,"creation_date":1701413822,"answer_id":77583473,"question_id":77583453,"body_markdown":"Just get rid of your second loop completely.\r\n\r\n```\r\npublic static void main(String []args){\r\n    String a = &quot;I am an engineer&quot;;\r\n    String[] ar = a.split(&quot; &quot;);\r\n    for(int i=0;i&lt;=ar.length-1;i++){\r\n        if(ar[i].length()&gt;=2){\r\n            System.out.println(ar[i].charAt(1));\r\n        }else{\r\n            System.out.println(&quot;@&quot;);\r\n        }\r\n    }\r\n }\r\n```","title":"I want only the second character of every word if the length of the word is less than 2 it should print @","body":"<p>Just get rid of your second loop completely.</p>\n<pre><code>public static void main(String []args){\n    String a = &quot;I am an engineer&quot;;\n    String[] ar = a.split(&quot; &quot;);\n    for(int i=0;i&lt;=ar.length-1;i++){\n        if(ar[i].length()&gt;=2){\n            System.out.println(ar[i].charAt(1));\n        }else{\n            System.out.println(&quot;@&quot;);\n        }\n    }\n }\n</code></pre>\n"}],"owner":{"account_id":30037774,"reputation":1,"user_id":23019309,"display_name":"Hitheesh Sh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701416688,"creation_date":1701413594,"question_id":77583453,"body_markdown":"I want only the second character of every word, and if the length of the word is less than 2 it should print @.\r\n\r\n```java\r\npublic class HelloWorld{\r\n\r\n    public static void main(String []args){\r\n        String a = &quot;I am an engineer&quot;;\r\n        String[] ar = a.split(&quot; &quot;);\r\n        for (int i=0;i&lt;=ar.length-1;i++){\r\n            for (int j=0;j&lt;=ar[i].length()-1;j++){\r\n                if (ar[i].length()&gt;=2){\r\n                    System.out.println(ar[i].charAt(1));\r\n                } else {\r\n                    System.out.println(&quot;@&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI did this but it&#39;s printing this:\r\n```\r\n@ m m n n n n n n n n n n\r\n```\r\n\r\nI want only one character for one word. The output should be `@ m n n`","title":"I want only the second character of every word if the length of the word is less than 2 it should print @","body":"<p>I want only the second character of every word, and if the length of the word is less than 2 it should print @.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloWorld{\n\n    public static void main(String []args){\n        String a = &quot;I am an engineer&quot;;\n        String[] ar = a.split(&quot; &quot;);\n        for (int i=0;i&lt;=ar.length-1;i++){\n            for (int j=0;j&lt;=ar[i].length()-1;j++){\n                if (ar[i].length()&gt;=2){\n                    System.out.println(ar[i].charAt(1));\n                } else {\n                    System.out.println(&quot;@&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I did this but it's printing this:</p>\n<pre><code>@ m m n n n n n n n n n n\n</code></pre>\n<p>I want only one character for one word. The output should be <code>@ m n n</code></p>\n"},{"tags":["java","log4j2","open-telemetry"],"comments":[{"owner":{"account_id":5072637,"reputation":345,"user_id":4070983,"accept_rate":50,"display_name":"Dmitrii Apanasevich"},"score":0,"creation_date":1701770645,"post_id":77583556,"comment_id":136813976,"body_markdown":"The cause of attribute absence is really that `Span` is ended. Everyting is correct with a solution via custom appender. So, the only question is how to enable SDK debug logging?","body":"The cause of attribute absence is really that <code>Span</code> is ended. Everyting is correct with a solution via custom appender. So, the only question is how to enable SDK debug logging?"}],"owner":{"account_id":5072637,"reputation":345,"user_id":4070983,"accept_rate":50,"display_name":"Dmitrii Apanasevich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701416662,"creation_date":1701414871,"question_id":77583556,"body_markdown":"All problems with business logic in code are written to log with `WARN` or `ERROR` level. The issue is to mark the span if something was went wrog during the code execution. Thus the issue could be stated as *set span attribute `logging.level` to related logging level value* so traces could be processed later in a collector to decide whether to store them or not. I started with the simple `Appender`:\r\n\r\n```\r\npublic final class OtelAttributeAppender extends AbstractAppender {\r\n  public static final AttributeKey&lt;String&gt; ATTRIBUTE_KEY = AttributeKey.stringKey(&quot;logging.level&quot;);\r\n\r\n  public static void install() {\r\n    final var context = (LoggerContext) LogManager.getContext(false);\r\n    final var logger = (Logger) LogManager.getRootLogger();\r\n    final var appender = new OtelAttributeAppender();\r\n    context.getConfiguration().addLoggerAppender(logger, appender);\r\n    appender.start();\r\n  }\r\n\r\n  private OtelAttributeAppender() {\r\n    super(\r\n        OtelAttributeAppender.class.getSimpleName(),\r\n        null,\r\n        PatternLayout.createDefaultLayout(),\r\n        true,\r\n        Property.EMPTY_ARRAY\r\n    );\r\n  }\r\n\r\n  @Override\r\n  public void append(LogEvent event) {\r\n    final var span = Span.current();\r\n    final var level = event.getLevel();\r\n    if (span.getSpanContext().isValid() &amp;&amp; level.isMoreSpecificThan(Level.WARN)) {\r\n      span.setAttribute(ATTRIBUTE_KEY, level.name());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe code above is called but the problem is that `setAttribute` method does not actually set the attribute in a related span. Why? Maybe `Span`s are already ended at the moment of `setAttribute` calls? I&#39;ve found an [issue][1] but cannot find a way to enable Otel SDK logging. I run my app from IDEA with parameter `-Dotel.javaagent.logging=application`. Tried to set envvar OTEL_LOG_LEVEL to `OTEL_LOG_LEVEL=FINE` or `OTEL_LOG_LEVEL=DEBUG` but with no luck. How to check if a span is ended? \r\n\r\n\r\nMaybe there are ideas about setting the attribute using another solution?\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java/issues/774","title":"Set span attribute at the moment of logging data with log4j2","body":"<p>All problems with business logic in code are written to log with <code>WARN</code> or <code>ERROR</code> level. The issue is to mark the span if something was went wrog during the code execution. Thus the issue could be stated as <em>set span attribute <code>logging.level</code> to related logging level value</em> so traces could be processed later in a collector to decide whether to store them or not. I started with the simple <code>Appender</code>:</p>\n<pre><code>public final class OtelAttributeAppender extends AbstractAppender {\n  public static final AttributeKey&lt;String&gt; ATTRIBUTE_KEY = AttributeKey.stringKey(&quot;logging.level&quot;);\n\n  public static void install() {\n    final var context = (LoggerContext) LogManager.getContext(false);\n    final var logger = (Logger) LogManager.getRootLogger();\n    final var appender = new OtelAttributeAppender();\n    context.getConfiguration().addLoggerAppender(logger, appender);\n    appender.start();\n  }\n\n  private OtelAttributeAppender() {\n    super(\n        OtelAttributeAppender.class.getSimpleName(),\n        null,\n        PatternLayout.createDefaultLayout(),\n        true,\n        Property.EMPTY_ARRAY\n    );\n  }\n\n  @Override\n  public void append(LogEvent event) {\n    final var span = Span.current();\n    final var level = event.getLevel();\n    if (span.getSpanContext().isValid() &amp;&amp; level.isMoreSpecificThan(Level.WARN)) {\n      span.setAttribute(ATTRIBUTE_KEY, level.name());\n    }\n  }\n}\n</code></pre>\n<p>The code above is called but the problem is that <code>setAttribute</code> method does not actually set the attribute in a related span. Why? Maybe <code>Span</code>s are already ended at the moment of <code>setAttribute</code> calls? I've found an <a href=\"https://github.com/open-telemetry/opentelemetry-java/issues/774\" rel=\"nofollow noreferrer\">issue</a> but cannot find a way to enable Otel SDK logging. I run my app from IDEA with parameter <code>-Dotel.javaagent.logging=application</code>. Tried to set envvar OTEL_LOG_LEVEL to <code>OTEL_LOG_LEVEL=FINE</code> or <code>OTEL_LOG_LEVEL=DEBUG</code> but with no luck. How to check if a span is ended?</p>\n<p>Maybe there are ideas about setting the attribute using another solution?</p>\n"},{"tags":["java","android","runtime-error","lineageos"],"owner":{"account_id":30038035,"reputation":1,"user_id":23019517,"display_name":"Drakiel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701416097,"creation_date":1701416097,"question_id":77583646,"body_markdown":"I have a problem when I want to launch the cmb or credit mutuel de bretagne app. The application crashes on startup. I retrieved the logs from my phone:\r\n\r\n`12-01 07:47:00.216  1000  2970 10155 I am_crash [912,0,com.arkea.android.application.cmb,549994052,java.lang.NoSuchMethodError,No static method toDS(Le2/TextStyle;Lt0/Composer;I)Li10/DSTextStyle; in class Li10/e; or its super classes (declaration of &#39;i10.e&#39; appears in base.apk!classes2.dex),SourceFile,327] `\r\n\r\nI&#39;m on lineageOS 18.1 of July 14, 2023, the application worked until this morning (I haven&#39;t used it for several days). The app was last updated on November 22, but I used it on the 23rd and 24th, so that&#39;s not the problem.\r\n\r\nI&#39;m not sure what my options are, as I have no control over the application code. What can I do about it?\r\n\r\nI uninstalled then reinstalled the application, restarted the phone and tried to force shutdown then restart it.","title":"CMB Application crash when i launch it due to a NoSuchMethodError","body":"<p>I have a problem when I want to launch the cmb or credit mutuel de bretagne app. The application crashes on startup. I retrieved the logs from my phone:</p>\n<p><code>12-01 07:47:00.216  1000  2970 10155 I am_crash [912,0,com.arkea.android.application.cmb,549994052,java.lang.NoSuchMethodError,No static method toDS(Le2/TextStyle;Lt0/Composer;I)Li10/DSTextStyle; in class Li10/e; or its super classes (declaration of 'i10.e' appears in base.apk!classes2.dex),SourceFile,327] </code></p>\n<p>I'm on lineageOS 18.1 of July 14, 2023, the application worked until this morning (I haven't used it for several days). The app was last updated on November 22, but I used it on the 23rd and 24th, so that's not the problem.</p>\n<p>I'm not sure what my options are, as I have no control over the application code. What can I do about it?</p>\n<p>I uninstalled then reinstalled the application, restarted the phone and tried to force shutdown then restart it.</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1700788496,"post_id":77537657,"comment_id":136699380,"body_markdown":"please update with debug logs for the others and we can explain exacctly what is happening.","body":"please update with debug logs for the others and we can explain exacctly what is happening."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1700811489,"post_id":77537657,"comment_id":136701175,"body_markdown":"debug logs from what others?","body":"debug logs from what others?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1700822926,"post_id":77537657,"comment_id":136703048,"body_markdown":"When you are accessing the other endpoints","body":"When you are accessing the other endpoints"},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1700908055,"post_id":77537657,"comment_id":136711506,"body_markdown":"There is no debug logging then.\nBefore I added the /api/third, I got the debug logging as above. When I added the /api/thid, it got the debug logging, but when I access the other, there was no logging.","body":"There is no debug logging then. Before I added the /api/third, I got the debug logging as above. When I added the /api/thid, it got the debug logging, but when I access the other, there was no logging."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1700910666,"post_id":77537657,"comment_id":136711681,"body_markdown":"What you are claiming makes no sense. Well no logs i cant help you, good luck","body":"What you are claiming makes no sense. Well no logs i cant help you, good luck"},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1701352760,"post_id":77537657,"comment_id":136766892,"body_markdown":"That is exactly why I am asking. When I added the third security configuration to HttpSecurity, the logs shows Secured Get for that API endpoint, but nothing for the first others.","body":"That is exactly why I am asking. When I added the third security configuration to HttpSecurity, the logs shows Secured Get for that API endpoint, but nothing for the first others."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1701371389,"post_id":77537657,"comment_id":136770566,"body_markdown":"well we usually dont ask for peoples opinions on logs, we prefer that you post your logs in full so that we get an ubiased full picture of what is happening in your server. So no, there are no logs good luck.","body":"well we usually dont ask for peoples opinions on logs, we prefer that you post your logs in full so that we get an ubiased full picture of what is happening in your server. So no, there are no logs good luck."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1701413900,"post_id":77537657,"comment_id":136774971,"body_markdown":"I am not asking about an opinion, but why Spring Security is behaving like it does in my example. Full logs coming up...","body":"I am not asking about an opinion, but why Spring Security is behaving like it does in my example. Full logs coming up..."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1701417641,"post_id":77537657,"comment_id":136775455,"body_markdown":"I didnt say you were asking for an opinion. I said we ask for logs so we can read them. We dont ask for someones intepretation of their logs.","body":"I didnt say you were asking for an opinion. I said we ask for logs so we can read them. We dont ask for someones intepretation of their logs."}],"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701415064,"creation_date":1700749714,"question_id":77537657,"body_markdown":"I have a Spring Boot Application, and in the process of learning Spring Security.\\\r\nSpring Boot 3.1.5, Java 17\r\n\r\nI have configured Spring Security and it works.\r\n\r\nThere is a few issues I wonder why it is working the way it does.\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    private static final String[] ENDPOINTS = { &quot;/api/first/**&quot;, &quot;/api/second/**&quot; };\r\n\r\n    private static final String ROLE = &quot;USER&quot;;\r\n\r\n    private final String username;\r\n\r\n    private final String password;\r\n\r\n    public SecurityConfig(\r\n        @Value(&quot;${spring.security.user.name}&quot;) final String username,\r\n        @Value(&quot;${spring.security.user.password}&quot;) final String password\r\n    ) {\r\n        this.username = username;\r\n        this.password = password;\r\n    }\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager userDetailsService(final PasswordEncoder passwordEncoder) {\r\n        final UserDetails anyUser = User.builder()\r\n            .username(username)\r\n            .password(passwordEncoder.encode(password))\r\n            .roles(ROLE)\r\n            .build();\r\n        return new InMemoryUserDetailsManager(anyUser);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\r\n        http.securityMatcher(ENDPOINTS)\r\n            .authorizeHttpRequests(createRequestMatchers())\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .httpBasic(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n\r\n    @NotNull\r\n    private Customizer&lt;AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry&gt; createRequestMatchers() {\r\n        return (authz) -&gt;\r\n            authz.requestMatchers(ENDPOINTS).authenticated();\r\n    }\r\n}\r\n```\r\n\r\nWhen accessing the APIs I can see that it is authenticating the user when calling the API /api/second?id=7324325\r\n```\r\n2023-12-01T07:59:05.955+01:00  INFO 5548 --- [           main] t.r.a.t.MyApplication : Starting MyApplication using Java 21.0.1 with PID 5548 (C:\\Users\\djviking\\workspace-company\\java-my-application\\target\\classes started by djviking in C:\\Users\\djviking\\workspace-company\\java-my-application)\r\n2023-12-01T07:59:05.956+01:00 DEBUG 5548 --- [           main] t.r.a.t.MyApplication : Running with Spring Boot v3.1.5, Spring v6.0.13\r\n2023-12-01T07:59:05.956+01:00  INFO 5548 --- [           main] t.r.a.t.MyApplication : The following 1 profile is active: &quot;test&quot;\r\n2023-12-01T07:59:06.535+01:00  INFO 5548 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-12-01T07:59:06.669+01:00  INFO 5548 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 124 ms. Found 3 JPA repository interfaces.\r\n2023-12-01T07:59:06.966+01:00  INFO 5548 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;errorChannel&#39; has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\r\n2023-12-01T07:59:06.974+01:00  INFO 5548 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;integrationHeaderChannelRegistry&#39; has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\r\n2023-12-01T07:59:07.429+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8306 (http)\r\n2023-12-01T07:59:07.436+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-12-01T07:59:07.437+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\r\n2023-12-01T07:59:07.519+01:00  INFO 5548 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-12-01T07:59:07.519+01:00  INFO 5548 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1525 ms\r\nStandard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\r\n2023-12-01T07:59:07.715+01:00  INFO 5548 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-12-01T07:59:07.752+01:00  INFO 5548 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final\r\n2023-12-01T07:59:07.754+01:00  INFO 5548 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-12-01T07:59:07.829+01:00  INFO 5548 --- [           main] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true\r\n2023-12-01T07:59:07.951+01:00  INFO 5548 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-12-01T07:59:07.968+01:00  INFO 5548 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-12-01T07:59:08.475+01:00  INFO 5548 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: f46ed47e-63af-407b-b0c8-cfee5a773ff8\r\n2023-12-01T07:59:08.476+01:00  INFO 5548 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-12-01T07:59:08.494+01:00  WARN 5548 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: SQLServer2012Dialect does not need to be specified explicitly using &#39;hibernate.dialect&#39; (remove the property setting and it will be selected by default)\r\n2023-12-01T07:59:08.495+01:00  WARN 5548 --- [           main] org.hibernate.orm.deprecation            : HHH90000026: SQLServer2012Dialect has been deprecated; use org.hibernate.dialect.SQLServerDialect instead\r\n2023-12-01T07:59:09.377+01:00  INFO 5548 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set &#39;hibernate.transaction.jta.platform&#39; to enable JTA platform integration)\r\n2023-12-01T07:59:10.208+01:00  INFO 5548 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-12-01T07:59:10.767+01:00  INFO 5548 --- [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.\r\n2023-12-01T07:59:11.312+01:00  WARN 5548 --- [           main] i.l.graphql.generator.OperationMapper    : Potential type name collision detected: Int bound to multiple types: java.lang.Integer and int. Assign unique names using the appropriate annotations or override the TypeInfoGenerator. For details and solutions see https://github.com/leangen/graphql-spqr/wiki/Errors#non-unique-type-name\r\n2023-12-01T07:59:11.465+01:00  WARN 5548 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-12-01T07:59:11.871+01:00  INFO 5548 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern=&#39;/api/first/**&#39;], Mvc [pattern=&#39;/api/second/**&#39;]] with [org.springframework.security.web.session.DisableEncodeUrlFilter@67a84d80, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21d297a, org.springframework.security.web.context.SecurityContextHolderFilter@7445fdb2, org.springframework.security.web.header.HeaderWriterFilter@56ed0511, org.springframework.security.web.authentication.logout.LogoutFilter@5db553f9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@495590a7, com.company.raavare.avregning.tilleggtrekk.config.SecurityConfig$HeaderFilter@7879348, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35069061, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5199d74e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b869242, org.springframework.security.web.access.ExceptionTranslationFilter@2afee2ee, org.springframework.security.web.access.intercept.AuthorizationFilter@77ad33c]\r\n2023-12-01T07:59:12.224+01:00  INFO 5548 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the &#39;errorChannel&#39; channel\r\n2023-12-01T07:59:12.224+01:00  INFO 5548 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel &#39;my-application.errorChannel&#39; has 1 subscriber(s).\r\n2023-12-01T07:59:12.225+01:00  INFO 5548 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean &#39;_org.springframework.integration.errorLogger&#39;\r\n2023-12-01T07:59:12.248+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8306 (http) with context path &#39;&#39;\r\n2023-12-01T07:59:12.301+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8088 (http)\r\n2023-12-01T07:59:12.301+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-12-01T07:59:12.302+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\r\n2023-12-01T07:59:12.327+01:00  INFO 5548 --- [           main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext\r\n2023-12-01T07:59:12.327+01:00  INFO 5548 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 75 ms\r\nStandard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\r\n2023-12-01T07:59:12.339+01:00  INFO 5548 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path &#39;/actuator&#39;\r\n2023-12-01T07:59:12.370+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8088 (http) with context path &#39;&#39;\r\n2023-12-01T07:59:12.377+01:00  INFO 5548 --- [           main] t.r.a.t.MyApplication : Started MyApplication in 6.738 seconds (process running for 7.222)\r\n2023-12-01T07:59:20.608+01:00  INFO 5548 --- [nio-8306-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-12-01T07:59:20.609+01:00  INFO 5548 --- [nio-8306-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-12-01T07:59:20.610+01:00  INFO 5548 --- [nio-8306-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n2023-12-01T07:59:20.623+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/second?id=7324325\r\n2023-12-01T07:59:20.757+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\r\n2023-12-01T07:59:20.760+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=username, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]\r\n2023-12-01T07:59:20.768+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/second?id=7324325\r\n2023-12-01T07:59:20.782+01:00 DEBUG 5548 --- [nio-8306-exec-3] .r.a.t.w.MyApplicationController : Get Result for Id Id=7324325\r\n```\r\n\r\n\r\nI have a third API &quot;/api/third&quot;, that is not configured in the SecurityConfig.\r\n\r\nWhen calling this /api/third, it does not log from Spring Security, as it did for the /api/second. Does that mean that the third API is unsecured?\r\n\r\nIf I add Security configuration for the third API in SpringSecurity:\r\n```\r\n@Bean\r\n    public SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\r\n        http.securityMatcher(ENDPOINTS).authorizeHttpRequests(createRequestMatchers())   \r\n            .securityMatcher(&quot;/api/third/**&quot;).authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/api/third/**&quot;).hasRole(&quot;ADMIN&quot;))\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .httpBasic(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n```\r\n\r\nWhen I call the second API this time, it does not log Spring Security like it did before.\r\n\r\nNow when I call the third API, with the User (who is not Admin role), then it logs Security.\r\n```\r\n2023-12-01T08:11:42.857+01:00  INFO 24016 --- [           main] t.r.a.t.MyApplication                    : Started MyApplication in 6.072 seconds (process running for 6.54)\r\n2023-12-01T08:12:09.529+01:00  INFO 24016 --- [nio-8306-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-12-01T08:12:09.530+01:00  INFO 24016 --- [nio-8306-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-12-01T08:12:09.531+01:00  INFO 24016 --- [nio-8306-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n2023-12-01T08:12:09.560+01:00 DEBUG 24016 --- [nio-8306-exec-5] .r.a.t.w.MyApplicationController         : Get Result for Id Id=7324325\r\n2023-12-01T08:12:24.736+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/third?id=7324325\r\n2023-12-01T08:12:24.871+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\r\n2023-12-01T08:12:24.872+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=username, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]\r\n2023-12-01T08:12:24.879+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\r\n```\r\n\r\nThe log &quot;Get Result for Id Id=7324325&quot; is when me calling the /api/second\r\n\r\nThe log Securing GET is now only for the third API.","title":"Spring Security: Unsecured Basic Authentication","body":"<p>I have a Spring Boot Application, and in the process of learning Spring Security.<br />\nSpring Boot 3.1.5, Java 17</p>\n<p>I have configured Spring Security and it works.</p>\n<p>There is a few issues I wonder why it is working the way it does.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private static final String[] ENDPOINTS = { &quot;/api/first/**&quot;, &quot;/api/second/**&quot; };\n\n    private static final String ROLE = &quot;USER&quot;;\n\n    private final String username;\n\n    private final String password;\n\n    public SecurityConfig(\n        @Value(&quot;${spring.security.user.name}&quot;) final String username,\n        @Value(&quot;${spring.security.user.password}&quot;) final String password\n    ) {\n        this.username = username;\n        this.password = password;\n    }\n\n    @Bean\n    public InMemoryUserDetailsManager userDetailsService(final PasswordEncoder passwordEncoder) {\n        final UserDetails anyUser = User.builder()\n            .username(username)\n            .password(passwordEncoder.encode(password))\n            .roles(ROLE)\n            .build();\n        return new InMemoryUserDetailsManager(anyUser);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\n        http.securityMatcher(ENDPOINTS)\n            .authorizeHttpRequests(createRequestMatchers())\n            .csrf(AbstractHttpConfigurer::disable)\n            .httpBasic(Customizer.withDefaults());\n        return http.build();\n    }\n\n    @NotNull\n    private Customizer&lt;AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry&gt; createRequestMatchers() {\n        return (authz) -&gt;\n            authz.requestMatchers(ENDPOINTS).authenticated();\n    }\n}\n</code></pre>\n<p>When accessing the APIs I can see that it is authenticating the user when calling the API /api/second?id=7324325</p>\n<pre><code>2023-12-01T07:59:05.955+01:00  INFO 5548 --- [           main] t.r.a.t.MyApplication : Starting MyApplication using Java 21.0.1 with PID 5548 (C:\\Users\\djviking\\workspace-company\\java-my-application\\target\\classes started by djviking in C:\\Users\\djviking\\workspace-company\\java-my-application)\n2023-12-01T07:59:05.956+01:00 DEBUG 5548 --- [           main] t.r.a.t.MyApplication : Running with Spring Boot v3.1.5, Spring v6.0.13\n2023-12-01T07:59:05.956+01:00  INFO 5548 --- [           main] t.r.a.t.MyApplication : The following 1 profile is active: &quot;test&quot;\n2023-12-01T07:59:06.535+01:00  INFO 5548 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-12-01T07:59:06.669+01:00  INFO 5548 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 124 ms. Found 3 JPA repository interfaces.\n2023-12-01T07:59:06.966+01:00  INFO 5548 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\n2023-12-01T07:59:06.974+01:00  INFO 5548 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\n2023-12-01T07:59:07.429+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8306 (http)\n2023-12-01T07:59:07.436+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-12-01T07:59:07.437+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\n2023-12-01T07:59:07.519+01:00  INFO 5548 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-12-01T07:59:07.519+01:00  INFO 5548 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1525 ms\nStandard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\n2023-12-01T07:59:07.715+01:00  INFO 5548 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-12-01T07:59:07.752+01:00  INFO 5548 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final\n2023-12-01T07:59:07.754+01:00  INFO 5548 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-12-01T07:59:07.829+01:00  INFO 5548 --- [           main] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true\n2023-12-01T07:59:07.951+01:00  INFO 5548 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-12-01T07:59:07.968+01:00  INFO 5548 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-12-01T07:59:08.475+01:00  INFO 5548 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: f46ed47e-63af-407b-b0c8-cfee5a773ff8\n2023-12-01T07:59:08.476+01:00  INFO 5548 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-12-01T07:59:08.494+01:00  WARN 5548 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: SQLServer2012Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)\n2023-12-01T07:59:08.495+01:00  WARN 5548 --- [           main] org.hibernate.orm.deprecation            : HHH90000026: SQLServer2012Dialect has been deprecated; use org.hibernate.dialect.SQLServerDialect instead\n2023-12-01T07:59:09.377+01:00  INFO 5548 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)\n2023-12-01T07:59:10.208+01:00  INFO 5548 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-12-01T07:59:10.767+01:00  INFO 5548 --- [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.\n2023-12-01T07:59:11.312+01:00  WARN 5548 --- [           main] i.l.graphql.generator.OperationMapper    : Potential type name collision detected: Int bound to multiple types: java.lang.Integer and int. Assign unique names using the appropriate annotations or override the TypeInfoGenerator. For details and solutions see https://github.com/leangen/graphql-spqr/wiki/Errors#non-unique-type-name\n2023-12-01T07:59:11.465+01:00  WARN 5548 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-12-01T07:59:11.871+01:00  INFO 5548 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/first/**'], Mvc [pattern='/api/second/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@67a84d80, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21d297a, org.springframework.security.web.context.SecurityContextHolderFilter@7445fdb2, org.springframework.security.web.header.HeaderWriterFilter@56ed0511, org.springframework.security.web.authentication.logout.LogoutFilter@5db553f9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@495590a7, com.company.raavare.avregning.tilleggtrekk.config.SecurityConfig$HeaderFilter@7879348, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35069061, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5199d74e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b869242, org.springframework.security.web.access.ExceptionTranslationFilter@2afee2ee, org.springframework.security.web.access.intercept.AuthorizationFilter@77ad33c]\n2023-12-01T07:59:12.224+01:00  INFO 5548 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel\n2023-12-01T07:59:12.224+01:00  INFO 5548 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel 'my-application.errorChannel' has 1 subscriber(s).\n2023-12-01T07:59:12.225+01:00  INFO 5548 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'\n2023-12-01T07:59:12.248+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8306 (http) with context path ''\n2023-12-01T07:59:12.301+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8088 (http)\n2023-12-01T07:59:12.301+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-12-01T07:59:12.302+01:00  INFO 5548 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\n2023-12-01T07:59:12.327+01:00  INFO 5548 --- [           main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext\n2023-12-01T07:59:12.327+01:00  INFO 5548 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 75 ms\nStandard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\n2023-12-01T07:59:12.339+01:00  INFO 5548 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'\n2023-12-01T07:59:12.370+01:00  INFO 5548 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8088 (http) with context path ''\n2023-12-01T07:59:12.377+01:00  INFO 5548 --- [           main] t.r.a.t.MyApplication : Started MyApplication in 6.738 seconds (process running for 7.222)\n2023-12-01T07:59:20.608+01:00  INFO 5548 --- [nio-8306-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-12-01T07:59:20.609+01:00  INFO 5548 --- [nio-8306-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-12-01T07:59:20.610+01:00  INFO 5548 --- [nio-8306-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-12-01T07:59:20.623+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/second?id=7324325\n2023-12-01T07:59:20.757+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\n2023-12-01T07:59:20.760+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=username, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]\n2023-12-01T07:59:20.768+01:00 DEBUG 5548 --- [nio-8306-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/second?id=7324325\n2023-12-01T07:59:20.782+01:00 DEBUG 5548 --- [nio-8306-exec-3] .r.a.t.w.MyApplicationController : Get Result for Id Id=7324325\n</code></pre>\n<p>I have a third API &quot;/api/third&quot;, that is not configured in the SecurityConfig.</p>\n<p>When calling this /api/third, it does not log from Spring Security, as it did for the /api/second. Does that mean that the third API is unsecured?</p>\n<p>If I add Security configuration for the third API in SpringSecurity:</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\n        http.securityMatcher(ENDPOINTS).authorizeHttpRequests(createRequestMatchers())   \n            .securityMatcher(&quot;/api/third/**&quot;).authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/api/third/**&quot;).hasRole(&quot;ADMIN&quot;))\n            .csrf(AbstractHttpConfigurer::disable)\n            .httpBasic(Customizer.withDefaults());\n        return http.build();\n    }\n</code></pre>\n<p>When I call the second API this time, it does not log Spring Security like it did before.</p>\n<p>Now when I call the third API, with the User (who is not Admin role), then it logs Security.</p>\n<pre><code>2023-12-01T08:11:42.857+01:00  INFO 24016 --- [           main] t.r.a.t.MyApplication                    : Started MyApplication in 6.072 seconds (process running for 6.54)\n2023-12-01T08:12:09.529+01:00  INFO 24016 --- [nio-8306-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-12-01T08:12:09.530+01:00  INFO 24016 --- [nio-8306-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-12-01T08:12:09.531+01:00  INFO 24016 --- [nio-8306-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-12-01T08:12:09.560+01:00 DEBUG 24016 --- [nio-8306-exec-5] .r.a.t.w.MyApplicationController         : Get Result for Id Id=7324325\n2023-12-01T08:12:24.736+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/third?id=7324325\n2023-12-01T08:12:24.871+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\n2023-12-01T08:12:24.872+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=username, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]\n2023-12-01T08:12:24.879+01:00 DEBUG 24016 --- [nio-8306-exec-8] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\n</code></pre>\n<p>The log &quot;Get Result for Id Id=7324325&quot; is when me calling the /api/second</p>\n<p>The log Securing GET is now only for the third API.</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":6151954,"reputation":2176,"user_id":4796134,"accept_rate":79,"display_name":"Sijan Shrestha"},"score":0,"creation_date":1583472090,"post_id":60557935,"comment_id":107135977,"body_markdown":"Could you please specify when this error is occurring and if any solutions you have tried to apply also so we can understand and help you.","body":"Could you please specify when this error is occurring and if any solutions you have tried to apply also so we can understand and help you."},{"owner":{"account_id":17915670,"reputation":211,"user_id":13016691,"display_name":"nemic"},"score":0,"creation_date":1583473467,"post_id":60557935,"comment_id":107136285,"body_markdown":"when i try to buid a project this error will come","body":"when i try to buid a project this error will come"},{"owner":{"account_id":17915670,"reputation":211,"user_id":13016691,"display_name":"nemic"},"score":0,"creation_date":1583473512,"post_id":60557935,"comment_id":107136297,"body_markdown":"after updating android studio and gradle this problem occur","body":"after updating android studio and gradle this problem occur"},{"owner":{"account_id":14171236,"reputation":71,"user_id":10237729,"display_name":"IceMan"},"score":0,"creation_date":1586355996,"post_id":60557935,"comment_id":108098790,"body_markdown":"Experienced the same issue when building a Flutter project on Android Studio 3.6.2.  Interestingly, the project builds from Android Studio to Xcode iOS Simulator and runs like a champ.","body":"Experienced the same issue when building a Flutter project on Android Studio 3.6.2.  Interestingly, the project builds from Android Studio to Xcode iOS Simulator and runs like a champ."}],"answers":[{"tags":[],"owner":{"account_id":9356486,"reputation":39,"user_id":7935178,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586126839,"creation_date":1586126839,"answer_id":61050543,"question_id":60557935,"body_markdown":"I ran into the same issue when trying to deploy another project on the same virtual device. For me it was solved by selecting &quot;Wipe Data&quot; for that Virtual Device in Android Virtual Device Manager.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>I ran into the same issue when trying to deploy another project on the same virtual device. For me it was solved by selecting \"Wipe Data\" for that Virtual Device in Android Virtual Device Manager.</p>\n"},{"tags":[],"owner":{"display_name":"user5172374"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587700409,"creation_date":1587700409,"answer_id":61400841,"question_id":60557935,"body_markdown":"Backing up the answer from Alex. I got this issue when my project is in my external drive. I played around with device permission, file permission and even updated my android studio since I use VS Code for my flutter projects. \r\n\r\nFinally made a sample project on android studio and thankfully got the same error message from Gradle. In this way, I knew the issue is not related to the VS code. As Alex said, I wiped the data from android device manager. But I got into some other issue. I let the virtual device to start completely and ran the project again and it worked. ","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>Backing up the answer from Alex. I got this issue when my project is in my external drive. I played around with device permission, file permission and even updated my android studio since I use VS Code for my flutter projects. </p>\n\n<p>Finally made a sample project on android studio and thankfully got the same error message from Gradle. In this way, I knew the issue is not related to the VS code. As Alex said, I wiped the data from android device manager. But I got into some other issue. I let the virtual device to start completely and ran the project again and it worked. </p>\n"},{"tags":[],"owner":{"account_id":18470187,"reputation":1,"user_id":13455313,"display_name":"ghastlybespoke4"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589312954,"creation_date":1589312954,"answer_id":61760681,"question_id":60557935,"body_markdown":"I had the same issue until I disabled the &quot;Use detected ADB location&quot; under Emulator Extended Controls &gt; Settings. Restarted the emulator and was able to &quot;Run&quot; without any errors occurring anymore. [Preview of &quot;Use detected ADB location&quot; setting.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7tnXw.jpg","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>I had the same issue until I disabled the \"Use detected ADB location\" under Emulator Extended Controls > Settings. Restarted the emulator and was able to \"Run\" without any errors occurring anymore. <a href=\"https://i.stack.imgur.com/7tnXw.jpg\" rel=\"nofollow noreferrer\">Preview of \"Use detected ADB location\" setting.</a></p>\n"},{"tags":[],"owner":{"account_id":1198414,"reputation":451,"user_id":1169629,"accept_rate":33,"display_name":"user1169629"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591289762,"creation_date":1591289762,"answer_id":62200117,"question_id":60557935,"body_markdown":"For me the source of this error was wrong permissions within the project. A `sudo chown -R &lt;username&gt; .` within the project&#39;s root fixed those issues.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>For me the source of this error was wrong permissions within the project. A <code>sudo chown -R &lt;username&gt; .</code> within the project's root fixed those issues.</p>\n"},{"comments":[{"owner":{"account_id":11936106,"reputation":708,"user_id":8734523,"display_name":"Breno Medeiros de Oliveira"},"score":0,"creation_date":1622049764,"post_id":62816762,"comment_id":119680998,"body_markdown":"Thanks a Loooooot!!!\nUnbelievable this was the problem, I use a partition of ExFAT so I can use it to have mutual shared memory between my Widows partition(NTFS) and my Mac partition(APFS), but from now on Flutter projects only on APFS!","body":"Thanks a Loooooot!!! Unbelievable this was the problem, I use a partition of ExFAT so I can use it to have mutual shared memory between my Widows partition(NTFS) and my Mac partition(APFS), but from now on Flutter projects only on APFS!"},{"owner":{"account_id":7378785,"reputation":126,"user_id":5616307,"display_name":"jlee7"},"score":0,"creation_date":1645265876,"post_id":62816762,"comment_id":125828558,"body_markdown":"Flutter Hello World (MyApp)\nHost: MacOS\nExternal Disk: ExFAT\nInternal Disk: APFS\nTarget: Android\n\nI can confirm that the Flutter Hello World shows this error when running from the external ExFAT disk.\nThe same copy of the project runs without errors from the internal disk.\n\nThank you @TnsKtel.","body":"Flutter Hello World (MyApp) Host: MacOS External Disk: ExFAT Internal Disk: APFS Target: Android  I can confirm that the Flutter Hello World shows this error when running from the external ExFAT disk. The same copy of the project runs without errors from the internal disk.  Thank you @TnsKtel."}],"tags":[],"owner":{"account_id":5268338,"reputation":361,"user_id":4723722,"display_name":"TmsKtel"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1594303690,"creation_date":1594303690,"answer_id":62816762,"question_id":60557935,"body_markdown":"I also had this when I tried building on my ExFAT formatted ssd on macos. Reformatting it using APFS solved it.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>I also had this when I tried building on my ExFAT formatted ssd on macos. Reformatting it using APFS solved it.</p>\n"},{"tags":[],"owner":{"account_id":13376068,"reputation":47,"user_id":9652922,"display_name":"Abrham Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596747940,"creation_date":1596747940,"answer_id":63291737,"question_id":60557935,"body_markdown":"Creating a new project or performing a clean on any other project except the current one where the error exist solved the problem for me.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>Creating a new project or performing a clean on any other project except the current one where the error exist solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":373574,"reputation":29,"user_id":3737950,"display_name":"Rajesh Sambandam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600095309,"creation_date":1600095309,"answer_id":63886800,"question_id":60557935,"body_markdown":"Remove the caches directory under c:\\Users\\&lt;Your user name directory&gt;.gradle directory  and do the build again. It worked for me.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>Remove the caches directory under c:\\Users&lt;Your user name directory&gt;.gradle directory  and do the build again. It worked for me.</p>\n"},{"comments":[{"owner":{"account_id":4959853,"reputation":53,"user_id":3991376,"display_name":"Nayanendu Mondal"},"score":0,"creation_date":1653768781,"post_id":63984196,"comment_id":127933473,"body_markdown":"works on mac. &lt;3","body":"works on mac. &lt;3"},{"owner":{"account_id":517292,"reputation":58,"user_id":9838085,"display_name":"ChingKun Yu"},"score":0,"creation_date":1659463747,"post_id":63984196,"comment_id":129299515,"body_markdown":"works on ubuntu 22.04, too","body":"works on ubuntu 22.04, too"}],"tags":[],"owner":{"account_id":2221693,"reputation":1235,"user_id":1960924,"display_name":"femotizo"},"comment_count":2,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1604946135,"creation_date":1600640509,"answer_id":63984196,"question_id":60557935,"body_markdown":"had same issue, stopping Gradle using the command below fixed it for me:\r\n\r\n```\r\ngradle --stop\r\n```\r\n\r\nor if you are using wrapper, use:\r\n\r\n```\r\n./gradlew --stop\r\n```","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>had same issue, stopping Gradle using the command below fixed it for me:</p>\n<pre><code>gradle --stop\n</code></pre>\n<p>or if you are using wrapper, use:</p>\n<pre><code>./gradlew --stop\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10010734,"reputation":81,"user_id":7403664,"display_name":"AnmolTheDeveloper"},"score":0,"creation_date":1638886448,"post_id":64017953,"comment_id":124203015,"body_markdown":"Yes works in windows 10 too","body":"Yes works in windows 10 too"},{"owner":{"account_id":16022797,"reputation":754,"user_id":11563863,"display_name":"surftijmen"},"score":1,"creation_date":1647801784,"post_id":64017953,"comment_id":126457077,"body_markdown":"This also works in windows 11","body":"This also works in windows 11"}],"tags":[],"owner":{"account_id":4563811,"reputation":4179,"user_id":3705348,"accept_rate":100,"display_name":"jaredbaszler"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1607438777,"creation_date":1600810258,"answer_id":64017953,"question_id":60557935,"body_markdown":"I simply had to restart my PC for this to get fixed.  Unfortunately I didn&#39;t try this until after I tried most of the other solutions. &#128580;","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>I simply had to restart my PC for this to get fixed.  Unfortunately I didn't try this until after I tried most of the other solutions. 🙄</p>\n"},{"tags":[],"owner":{"account_id":5001083,"reputation":876,"user_id":4020087,"display_name":"Faisal Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625506911,"creation_date":1625506911,"answer_id":68260185,"question_id":60557935,"body_markdown":"I have faceed same issues in my flutter project for multiple build process and out of memory then I copy project from one folder to another folder and open project from android studio. It&#39;s working perfectly.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>I have faceed same issues in my flutter project for multiple build process and out of memory then I copy project from one folder to another folder and open project from android studio. It's working perfectly.</p>\n"},{"tags":[],"owner":{"account_id":12975674,"reputation":71,"user_id":9379778,"display_name":"Charith Prasanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1629215172,"creation_date":1629215172,"answer_id":68820412,"question_id":60557935,"body_markdown":"did u face this issue in react native,\r\n\r\n1) go to android folder\r\n2) open the terminal\r\n3) if u using vscode terminal(powershell) use -&gt; ./gradlew --stop\r\n4) otherwise -&gt; gradle --stop","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>did u face this issue in react native,</p>\n<ol>\n<li>go to android folder</li>\n<li>open the terminal</li>\n<li>if u using vscode terminal(powershell) use -&gt; ./gradlew --stop</li>\n<li>otherwise -&gt; gradle --stop</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6831323,"reputation":751,"user_id":5255205,"display_name":"Temuujin Dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635176691,"creation_date":1635000175,"answer_id":69689187,"question_id":60557935,"body_markdown":"In my situation this worked, I&#39;m using Android Studio on Windows 10 \r\n1. I installed JDK and added its installed path into my environment variable under name JAVA_HOME ([follow solution 2][1])\r\n3. just added --stop run configuration on android/gradlew\r\n\r\n[![enter image description here][2]][2]\r\n4. ran android/grandlew\r\n\r\n[![enter image description here][3]][3]\r\n\r\n5. remove --stop that you did step 3 and click on okay\r\n6.If not work just restart android studio and follow step 4 again\r\n  [1]: https://fluttercorner.com/solved-error-java_home-is-not-set-and-no-java-command-could-be-found-in-your-flutter-path-in-flutter/\r\n  [2]: https://i.stack.imgur.com/W77DF.png\r\n  [3]: https://i.stack.imgur.com/T9LWg.png","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>In my situation this worked, I'm using Android Studio on Windows 10</p>\n<ol>\n<li>I installed JDK and added its installed path into my environment variable under name JAVA_HOME ([follow solution 2][1])</li>\n<li>just added --stop run configuration on android/gradlew</li>\n</ol>\n<p>[![enter image description here][2]][2]\n4. ran android/grandlew</p>\n<p>[![enter image description here][3]][3]</p>\n<ol start=\"5\">\n<li>remove --stop that you did step 3 and click on okay\n6.If not work just restart android studio and follow step 4 again\n[1]: <a href=\"https://fluttercorner.com/solved-error-java_home-is-not-set-and-no-java-command-could-be-found-in-your-flutter-path-in-flutter/\" rel=\"nofollow noreferrer\">https://fluttercorner.com/solved-error-java_home-is-not-set-and-no-java-command-could-be-found-in-your-flutter-path-in-flutter/</a>\n[2]: <a href=\"https://i.stack.imgur.com/W77DF.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/W77DF.png</a>\n[3]: <a href=\"https://i.stack.imgur.com/T9LWg.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/T9LWg.png</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16145774,"reputation":111,"user_id":11655570,"display_name":"Chryzl"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646487422,"creation_date":1646487422,"answer_id":71362632,"question_id":60557935,"body_markdown":"For anyone who has their project on their **external drive**\r\n\r\n - Try moving it to your local drive\r\n\r\nThis worked for me\r\n\r\n(MacOS Monterey) ","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>For anyone who has their project on their <strong>external drive</strong></p>\n<ul>\n<li>Try moving it to your local drive</li>\n</ul>\n<p>This worked for me</p>\n<p>(MacOS Monterey)</p>\n"},{"tags":[],"owner":{"account_id":10573187,"reputation":1775,"user_id":7789242,"display_name":"Deni Al Farizi"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1659445372,"creation_date":1659445372,"answer_id":73208051,"question_id":60557935,"body_markdown":"in flutter or react-native go to android folder and run this in cmd\r\n\r\n&gt; gradlew --stop\r\n\r\nnext\r\n\r\n&gt; gradlew clean \r\n\r\nto rebuild android or simple so you can restart your computer and run your flutter or react-native project again\r\n\r\n\r\n\r\n","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>in flutter or react-native go to android folder and run this in cmd</p>\n<blockquote>\n<p>gradlew --stop</p>\n</blockquote>\n<p>next</p>\n<blockquote>\n<p>gradlew clean</p>\n</blockquote>\n<p>to rebuild android or simple so you can restart your computer and run your flutter or react-native project again</p>\n"},{"tags":[],"owner":{"account_id":14758263,"reputation":1,"user_id":10658371,"display_name":"asad saddique"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665063647,"creation_date":1664789550,"answer_id":73933546,"question_id":60557935,"body_markdown":"run this command on \r\n**sudo ./gradlew clean**","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>run this command on\n<strong>sudo ./gradlew clean</strong></p>\n"},{"tags":[],"owner":{"account_id":15695357,"reputation":619,"user_id":11325112,"display_name":"samad shukr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699183399,"creation_date":1699183399,"answer_id":77425706,"question_id":60557935,"body_markdown":"**For Flutter**\r\nI have solved it by running\r\n\r\n    cd android\r\nthen\r\n\r\n    ./gradlew --stop\r\n\r\n","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p><strong>For Flutter</strong>\nI have solved it by running</p>\n<pre><code>cd android\n</code></pre>\n<p>then</p>\n<pre><code>./gradlew --stop\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13751724,"reputation":363,"user_id":9923629,"display_name":"Hrusikesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701414732,"creation_date":1701414732,"answer_id":77583546,"question_id":60557935,"body_markdown":"I have faced the same issue in a **react native project** like below in the screenshot when I try to run the app in android **simulator** using `yarn android` then I followed the below steps to resolve the issue which I got from the above\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Step - 1:** Go to android folder and delete **build** folder.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Step - 2:** Run the below command like \r\n\r\n`cd android and ./gradlew --stop`\r\n\r\nand then you will see a response like `Stopping Daemon(s)`\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**Step - 3:** Now running `cd .. &amp;&amp; yarn android` successfully launch the app without the above error.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CmYKe.png\r\n  [2]: https://i.stack.imgur.com/A4kFR.png\r\n  [3]: https://i.stack.imgur.com/UYkYu.png\r\n  [4]: https://i.stack.imgur.com/sFQIR.jpg","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>I have faced the same issue in a <strong>react native project</strong> like below in the screenshot when I try to run the app in android <strong>simulator</strong> using <code>yarn android</code> then I followed the below steps to resolve the issue which I got from the above</p>\n<p><a href=\"https://i.stack.imgur.com/CmYKe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CmYKe.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step - 1:</strong> Go to android folder and delete <strong>build</strong> folder.</p>\n<p><a href=\"https://i.stack.imgur.com/A4kFR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A4kFR.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step - 2:</strong> Run the below command like</p>\n<p><code>cd android and ./gradlew --stop</code></p>\n<p>and then you will see a response like <code>Stopping Daemon(s)</code></p>\n<p><a href=\"https://i.stack.imgur.com/UYkYu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UYkYu.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step - 3:</strong> Now running <code>cd .. &amp;&amp; yarn android</code> successfully launch the app without the above error.</p>\n<p><a href=\"https://i.stack.imgur.com/sFQIR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sFQIR.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17915670,"reputation":211,"user_id":13016691,"display_name":"nemic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35783,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":17,"score":21,"last_activity_date":1701414732,"creation_date":1583471544,"question_id":60557935,"body_markdown":"Android Studio 3.6.1 Gradle Version 5.6.4\r\n\r\nGradle Buid Error\r\n\r\nCannot create service of type `TaskExecuter` using `ProjectExecutionServices.createTaskExecuter()` as there is a problem with parameter #22 of type `ReservedFileSystemLocationRegistry`.\r\n\r\n    Cannot create service of type ReservedFileSystemLocationRegistry using ProjectExecutionServices.createReservedFileLocationRegistry() as there is a problem with parameter #1 of type List&lt;ReservedFileSystemLocation&gt;.","title":"Cannot create service of type TaskExecuter using ProjectExecutionServices","body":"<p>Android Studio 3.6.1 Gradle Version 5.6.4</p>\n\n<p>Gradle Buid Error</p>\n\n<p>Cannot create service of type <code>TaskExecuter</code> using <code>ProjectExecutionServices.createTaskExecuter()</code> as there is a problem with parameter #22 of type <code>ReservedFileSystemLocationRegistry</code>.</p>\n\n<pre><code>Cannot create service of type ReservedFileSystemLocationRegistry using ProjectExecutionServices.createReservedFileLocationRegistry() as there is a problem with parameter #1 of type List&lt;ReservedFileSystemLocation&gt;.\n</code></pre>\n"},{"tags":["java","node.js","express","process"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701421499,"post_id":77583517,"comment_id":136776032,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":19324407,"reputation":1,"user_id":14127417,"display_name":"Perumal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701414339,"creation_date":1701414339,"question_id":77583517,"body_markdown":"I have a node js express app which will have APIs for FTP operations using FTP4 node js library. If I start the application using CMD prompt, it is working peroperly. But if i start the same app using process builder is hanging after some time. When I checked the resource monitor, node js app is not taking much memory (52 MB).\r\nWhat could be the reason for this kind of behaviour?\r\n\r\nI added logs in node js app, no error logs appearing when there&#39;s hanging. At the same time resource monitor is showing that node.exe process is running.","title":"Node js is hanging if I start the app using Java process builder","body":"<p>I have a node js express app which will have APIs for FTP operations using FTP4 node js library. If I start the application using CMD prompt, it is working peroperly. But if i start the same app using process builder is hanging after some time. When I checked the resource monitor, node js app is not taking much memory (52 MB).\nWhat could be the reason for this kind of behaviour?</p>\n<p>I added logs in node js app, no error logs appearing when there's hanging. At the same time resource monitor is showing that node.exe process is running.</p>\n"},{"tags":["java","spring","string","validation","spring-validator"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1625267888,"post_id":68231771,"comment_id":120591204,"body_markdown":"Why not &quot;the name must be between 2 and 200 characters&quot;?","body":"Why not &quot;the name must be between 2 and 200 characters&quot;?"},{"owner":{"account_id":17521233,"reputation":992,"user_id":12707241,"display_name":"F_Schmidt"},"score":0,"creation_date":1625268086,"post_id":68231771,"comment_id":120591238,"body_markdown":"I think this isn&#39;t really user friendly. I&#39;d prefer two separat validations.","body":"I think this isn&#39;t really user friendly. I&#39;d prefer two separat validations."},{"owner":{"account_id":7254391,"reputation":835,"user_id":5533591,"accept_rate":100,"display_name":"ChristophE"},"score":0,"creation_date":1701414427,"post_id":68231771,"comment_id":136775031,"body_markdown":"Maybe not the most realistic example but as a User I may enter a String size 1. I get, &quot;string to short&quot;, now I write &quot;thisisaverylongstring......&quot;. And now I get &quot;string to long&quot;. Isn&#39;t this more annoying than the message provided by @chrylis-cautiouslyoptimistic- ?","body":"Maybe not the most realistic example but as a User I may enter a String size 1. I get, &quot;string to short&quot;, now I write &quot;thisisaverylongstring......&quot;. And now I get &quot;string to long&quot;. Isn&#39;t this more annoying than the message provided by @chrylis-cautiouslyoptimistic- ?"}],"answers":[{"tags":[],"owner":{"account_id":8620227,"reputation":556,"user_id":6455422,"display_name":"Fabian"},"comment_count":0,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1625270549,"creation_date":1625270549,"answer_id":68232313,"question_id":68231771,"body_markdown":"You can just use the &quot;@Size&quot;-annotation twice:\r\n\r\n    @Size(min = 2, message = &quot;{validation.name.size.too_short}&quot;)\r\n    @Size(max = 200, message = &quot;{validation.name.size.too_long}&quot;)\r\n    private String name;","title":"How can I validate the string length using java spring validation?","body":"<p>You can just use the &quot;@Size&quot;-annotation twice:</p>\n<pre><code>@Size(min = 2, message = &quot;{validation.name.size.too_short}&quot;)\n@Size(max = 200, message = &quot;{validation.name.size.too_long}&quot;)\nprivate String name;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22326816,"reputation":41,"user_id":16548722,"display_name":"Spilvergo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701413762,"creation_date":1669754030,"answer_id":74619989,"question_id":68231771,"body_markdown":"another option could be to use a regex.\r\nsomething like\r\n\r\n    ^[a-zA-Z0-9]]{2,200}$\r\n\r\nit depends if you want to control the characters.","title":"How can I validate the string length using java spring validation?","body":"<p>another option could be to use a regex.\nsomething like</p>\n<pre><code>^[a-zA-Z0-9]]{2,200}$\n</code></pre>\n<p>it depends if you want to control the characters.</p>\n"},{"tags":[],"owner":{"account_id":27807567,"reputation":61,"user_id":21230599,"display_name":"Gabe"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1677872904,"creation_date":1676596414,"answer_id":75479392,"question_id":68231771,"body_markdown":"Yes there is - you can use the @Size.List() and @Size annotations in conjunction like so:\r\n\r\n    @Size.List({\r\n         @Size(min = 2, message = &quot;{validation.name.size.too_short}&quot;),\r\n         @Size(max = 10, message = &quot;{validation.name.size.too_long}&quot;)\r\n    })","title":"How can I validate the string length using java spring validation?","body":"<p>Yes there is - you can use the @Size.List() and @Size annotations in conjunction like so:</p>\n<pre><code>@Size.List({\n     @Size(min = 2, message = &quot;{validation.name.size.too_short}&quot;),\n     @Size(max = 10, message = &quot;{validation.name.size.too_long}&quot;)\n})\n</code></pre>\n"}],"owner":{"account_id":17521233,"reputation":992,"user_id":12707241,"display_name":"F_Schmidt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48962,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":68232313,"answer_count":3,"score":28,"last_activity_date":1701413762,"creation_date":1625264476,"question_id":68231771,"body_markdown":"I have this field declared in a model class:\r\n```\r\n@Size(min = 2, max = 200, message = &quot;{validation.name.size}&quot;)\r\nprivate String name;\r\n```\r\n\r\nwhere `validation.name.size` is the path to a localized message. The problem is that I do not want to output a message like &#39;The name is too long or too short.&#39;.\r\n\r\nIs there any way to use two different messages and check minimum and maximum string length? `@Min` and `@Max` are only working for numeric types, so they can not be used. What is the alternative for strings?","title":"How can I validate the string length using java spring validation?","body":"<p>I have this field declared in a model class:</p>\n<pre><code>@Size(min = 2, max = 200, message = &quot;{validation.name.size}&quot;)\nprivate String name;\n</code></pre>\n<p>where <code>validation.name.size</code> is the path to a localized message. The problem is that I do not want to output a message like 'The name is too long or too short.'.</p>\n<p>Is there any way to use two different messages and check minimum and maximum string length? <code>@Min</code> and <code>@Max</code> are only working for numeric types, so they can not be used. What is the alternative for strings?</p>\n"},{"tags":["java","string","split","trim"],"comments":[{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":2,"creation_date":1485853402,"post_id":41953388,"comment_id":71085927,"body_markdown":"you could also split on `,\\\\s` and remove the last `,` in your `String`","body":"you could also split on <code>,\\\\s</code> and remove the last <code>,</code> in your <code>String</code>"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":2,"creation_date":1485853507,"post_id":41953388,"comment_id":71085985,"body_markdown":"@KevinEsche Mind the leading space in first entry. This would have to be trimmed, too.","body":"@KevinEsche Mind the leading space in first entry. This would have to be trimmed, too."},{"owner":{"account_id":8615996,"reputation":1326,"user_id":6452817,"accept_rate":100,"display_name":"Silverclaw"},"score":5,"creation_date":1485853549,"post_id":41953388,"comment_id":71086010,"body_markdown":"In my opinion, doing this in &quot;two shots&quot; would be the cleanest way to code it and not much more effort. I really don&#39;t see the point in over-complicating this.","body":"In my opinion, doing this in &quot;two shots&quot; would be the cleanest way to code it and not much more effort. I really don&#39;t see the point in over-complicating this."},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1485853791,"post_id":41953388,"comment_id":71086150,"body_markdown":"I second Silverclaw. IMHO this is premature optimization. So long doing it in two steps will not lead to performance issues, do it in two steps. Not worth the effort, I guess.","body":"I second Silverclaw. IMHO this is premature optimization. So long doing it in two steps will not lead to performance issues, do it in two steps. Not worth the effort, I guess."},{"owner":{"account_id":165768,"reputation":3642,"user_id":389489,"accept_rate":78,"display_name":"Somu"},"score":0,"creation_date":1580980819,"post_id":41953388,"comment_id":106278780,"body_markdown":"Possible duplicate: https://stackoverflow.com/questions/7987149/split-string-and-trim-every-element","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/7987149/split-string-and-trim-every-element\" title=\"split string and trim every element\">stackoverflow.com/questions/7987149/&hellip;</a>"},{"owner":{"account_id":72771,"reputation":2063,"user_id":209942,"accept_rate":44,"display_name":"johny why"},"score":1,"creation_date":1669319093,"post_id":41953388,"comment_id":131622519,"body_markdown":"Globally string-replace `n spaces + delimiter + n spaces` with `delimiter`. Then do your simple split. I believe string-replace is extremely fast, compared to iteration of an array.","body":"Globally string-replace <code>n spaces + delimiter + n spaces</code> with <code>delimiter</code>. Then do your simple split. I believe string-replace is extremely fast, compared to iteration of an array."}],"answers":[{"comments":[{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1485853646,"post_id":41953428,"comment_id":71086069,"body_markdown":"This would still need special treatment of first and last entry. Not a problem but just saying. So it wouldn&#39;t be really a &quot;one-shot&quot; neither.","body":"This would still need special treatment of first and last entry. Not a problem but just saying. So it wouldn&#39;t be really a &quot;one-shot&quot; neither."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1485853778,"post_id":41953428,"comment_id":71086139,"body_markdown":"this return a result like this space in begining and , in the end` foo boo\nfaa baa\nfii bii,`","body":"this return a result like this space in begining and , in the end` foo boo faa baa fii bii,`"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1485853874,"post_id":41953428,"comment_id":71086207,"body_markdown":"@YCF_L Still, this drops your effort to trimming result[0] and removing a &quot;,&quot; from result[result.length-1] instead of touching each element.","body":"@YCF_L Still, this drops your effort to trimming result[0] and removing a &quot;,&quot; from result[result.length-1] instead of touching each element."},{"owner":{"account_id":72771,"reputation":2063,"user_id":209942,"accept_rate":44,"display_name":"johny why"},"score":0,"creation_date":1669318825,"post_id":41953428,"comment_id":131622473,"body_markdown":"good idea! But what if there are more than one space? How to split on multiple spaces?","body":"good idea! But what if there are more than one space? How to split on multiple spaces?"}],"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485855459,"creation_date":1485853427,"answer_id":41953428,"question_id":41953388,"body_markdown":"What about spliting with comma and space:\r\n\r\n\r\n    String result[] = attributes.split(&quot;,\\\\s&quot;);","title":"Java - Split and trim in one shot","body":"<p>What about spliting with comma and space:</p>\n\n<pre><code>String result[] = attributes.split(\",\\\\s\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3934113,"reputation":473,"user_id":3251262,"accept_rate":43,"display_name":"SASIKUMAR SENTHILNATHAN"},"score":1,"creation_date":1485854319,"post_id":41953571,"comment_id":71086519,"body_markdown":"Still it doesn&#39;t fall under single shot!!!! @YCF_L as trim is he first shot and split is the second shot!!!","body":"Still it doesn&#39;t fall under single shot!!!! @YCF_L as trim is he first shot and split is the second shot!!!"},{"owner":{"account_id":1603420,"reputation":4616,"user_id":1484017,"display_name":"Yogesh"},"score":0,"creation_date":1485854434,"post_id":41953571,"comment_id":71086586,"body_markdown":"@SASIKUMAR it can&#39;t never work without trim(). as split is just gonna segment the string not alter the segmentation.","body":"@SASIKUMAR it can&#39;t never work without trim(). as split is just gonna segment the string not alter the segmentation."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1485854479,"post_id":41953571,"comment_id":71086623,"body_markdown":"@SASIKUMARS i think this is the better solution until now maybe we can wait to a better one ?","body":"@SASIKUMARS i think this is the better solution until now maybe we can wait to a better one ?"},{"owner":{"account_id":3934113,"reputation":473,"user_id":3251262,"accept_rate":43,"display_name":"SASIKUMAR SENTHILNATHAN"},"score":0,"creation_date":1485854618,"post_id":41953571,"comment_id":71086709,"body_markdown":"Yes basically you can never make it one shot as it has two different opertaions, even internally it should go for both ones @YCF_L?","body":"Yes basically you can never make it one shot as it has two different opertaions, even internally it should go for both ones @YCF_L?"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":2,"creation_date":1485854794,"post_id":41953571,"comment_id":71086831,"body_markdown":"Well, I guess this is as close as you can get without writing your own parser. And it is only 1 trim instead of n trims ...","body":"Well, I guess this is as close as you can get without writing your own parser. And it is only 1 trim instead of n trims ..."},{"owner":{"account_id":3113945,"reputation":1016,"user_id":2635146,"display_name":"simon.watts"},"score":0,"creation_date":1537279434,"post_id":41953571,"comment_id":91721429,"body_markdown":"Okay for splitting on a comma -- but you don&#39;t want this for tab-delimited input as it trims leading empty fields.","body":"Okay for splitting on a comma -- but you don&#39;t want this for tab-delimited input as it trims leading empty fields."},{"owner":{"account_id":1513574,"reputation":168,"user_id":5899384,"display_name":"Rodrigo R. Coelho"},"score":0,"creation_date":1589493905,"post_id":41953571,"comment_id":109325547,"body_markdown":"Would this solution work if the separator is a space?\nattributes.trim().split(&quot;\\\\s* \\\\s*&quot;);","body":"Would this solution work if the separator is a space? attributes.trim().split(&quot;\\\\s* \\\\s*&quot;);"},{"owner":{"account_id":2375630,"reputation":30614,"user_id":2815219,"display_name":"Raman Sahasi"},"score":1,"creation_date":1589516598,"post_id":41953571,"comment_id":109331519,"body_markdown":"@RodrigoR.Coelho `\\\\s` itself will cover all the space characters. So in your case, you can just use `attributes.trim().split(&quot;\\\\s*&quot;);`","body":"@RodrigoR.Coelho <code>\\\\s</code> itself will cover all the space characters. So in your case, you can just use <code>attributes.trim().split(&quot;\\\\s*&quot;);</code>"}],"tags":[],"owner":{"account_id":2375630,"reputation":30614,"user_id":2815219,"display_name":"Raman Sahasi"},"comment_count":8,"down_vote_count":0,"up_vote_count":140,"is_accepted":true,"score":140,"last_activity_date":1537426957,"creation_date":1485853941,"answer_id":41953571,"question_id":41953388,"body_markdown":"Use regular expression `\\s*,\\s*` for splitting.\r\n\r\n    String result[] = attributes.split(&quot;\\\\s*,\\\\s*&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\n**For Initial and Trailing Whitespaces**  \r\nThe previous solution still leaves initial and trailing white-spaces. So if we&#39;re expecting any of them, then we can use the following solution to remove the same:\r\n\r\n    String result[] = attributes.trim().split(&quot;\\\\s*,\\\\s*&quot;);","title":"Java - Split and trim in one shot","body":"<p>Use regular expression <code>\\s*,\\s*</code> for splitting.</p>\n\n<pre><code>String result[] = attributes.split(\"\\\\s*,\\\\s*\");\n</code></pre>\n\n<hr>\n\n<p><strong>For Initial and Trailing Whitespaces</strong><br>\nThe previous solution still leaves initial and trailing white-spaces. So if we're expecting any of them, then we can use the following solution to remove the same:</p>\n\n<pre><code>String result[] = attributes.trim().split(\"\\\\s*,\\\\s*\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1603420,"reputation":4616,"user_id":1484017,"display_name":"Yogesh"},"score":7,"creation_date":1485854162,"post_id":41953621,"comment_id":71086406,"body_markdown":"this is not one shot! i guess you are just writing for loop in one line","body":"this is not one shot! i guess you are just writing for loop in one line"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":5,"creation_date":1485854240,"post_id":41953621,"comment_id":71086459,"body_markdown":"@SASIKUMARS Depends on your definition of &quot;one shot&quot;. If equal to &quot;one line&quot; it is perfectly ok.","body":"@SASIKUMARS Depends on your definition of &quot;one shot&quot;. If equal to &quot;one line&quot; it is perfectly ok."},{"owner":{"account_id":5963177,"reputation":2320,"user_id":4687702,"accept_rate":52,"display_name":"Andrei Olar"},"score":0,"creation_date":1485854252,"post_id":41953621,"comment_id":71086471,"body_markdown":"Oh. I did not understand that &quot;one shot&quot; properly... Sorry. :).\n@Fildor I also thought about one line...","body":"Oh. I did not understand that &quot;one shot&quot; properly... Sorry. :). @Fildor I also thought about one line..."},{"owner":{"account_id":3934113,"reputation":473,"user_id":3251262,"accept_rate":43,"display_name":"SASIKUMAR SENTHILNATHAN"},"score":0,"creation_date":1485854475,"post_id":41953621,"comment_id":71086618,"body_markdown":"Sorry it doesn&#39;t make sense for the term &quot;one shot&quot; @Fildor","body":"Sorry it doesn&#39;t make sense for the term &quot;one shot&quot; @Fildor"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":2,"creation_date":1485854547,"post_id":41953621,"comment_id":71086664,"body_markdown":"@SASIKUMARS I disagree. Me, too I interpreted it as &quot;in one **step**&quot; but that doesn&#39;t mean other interpretations are not valid.","body":"@SASIKUMARS I disagree. Me, too I interpreted it as &quot;in one <b>step</b>&quot; but that doesn&#39;t mean other interpretations are not valid."},{"owner":{"account_id":3934113,"reputation":473,"user_id":3251262,"accept_rate":43,"display_name":"SASIKUMAR SENTHILNATHAN"},"score":1,"creation_date":1485854779,"post_id":41953621,"comment_id":71086817,"body_markdown":"I didnt mean it not valid. Its not the best solution... But it is a good solution even though!!! @Fildor","body":"I didnt mean it not valid. Its not the best solution... But it is a good solution even though!!! @Fildor"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1485854847,"post_id":41953621,"comment_id":71086862,"body_markdown":"OK, I can agree with that @SASIKUMARS","body":"OK, I can agree with that @SASIKUMARS"},{"owner":{"account_id":3527008,"reputation":1958,"user_id":2947812,"accept_rate":63,"display_name":"Mikhail Batcer"},"score":0,"creation_date":1485855022,"post_id":41953621,"comment_id":71086974,"body_markdown":"Nice solution. It&#39;s usually better to go without regexes. What does `.toArray(String[]::new)` mean?","body":"Nice solution. It&#39;s usually better to go without regexes. What does <code>.toArray(String[]::new)</code> mean?"},{"owner":{"account_id":5963177,"reputation":2320,"user_id":4687702,"accept_rate":52,"display_name":"Andrei Olar"},"score":1,"creation_date":1485855334,"post_id":41953621,"comment_id":71087154,"body_markdown":"@MikhailBatcer The `String[]::new`part is basically a function which produces a new array of the desired type and the provided length. And the method itself `toArray()` returnes an array containing the elements of the stream by making use of the above specified function.","body":"@MikhailBatcer The <code>String[]::new</code>part is basically a function which produces a new array of the desired type and the provided length. And the method itself <code>toArray()</code> returnes an array containing the elements of the stream by making use of the above specified function."}],"tags":[],"owner":{"account_id":5963177,"reputation":2320,"user_id":4687702,"accept_rate":52,"display_name":"Andrei Olar"},"comment_count":9,"down_vote_count":3,"up_vote_count":69,"is_accepted":false,"score":66,"last_activity_date":1485854102,"creation_date":1485854102,"answer_id":41953621,"question_id":41953388,"body_markdown":"Using java 8 you can do it like this in one line\r\n\r\n    String[] result = Arrays.stream(attributes.split(&quot;,&quot;)).map(String::trim).toArray(String[]::new);","title":"Java - Split and trim in one shot","body":"<p>Using java 8 you can do it like this in one line</p>\n\n<pre><code>String[] result = Arrays.stream(attributes.split(\",\")).map(String::trim).toArray(String[]::new);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6022505,"reputation":3558,"user_id":4729203,"accept_rate":88,"display_name":"wonsuc"},"score":0,"creation_date":1543420189,"post_id":48222817,"comment_id":93915359,"body_markdown":"nice try. `⠀⠀⠀`","body":"nice try. <code>⠀⠀⠀</code>"}],"tags":[],"owner":{"account_id":4995637,"reputation":329,"user_id":4016342,"display_name":"Maxple"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1515762022,"creation_date":1515748032,"answer_id":48222817,"question_id":41953388,"body_markdown":"If there is no text between the commas, the following expression will not create empty elements:\r\n\r\n    String result[] = attributes.trim().split(&quot;\\\\s*,+\\\\s*,*\\\\s*&quot;);\r\n\r\n","title":"Java - Split and trim in one shot","body":"<p>If there is no text between the commas, the following expression will not create empty elements:</p>\n\n<pre><code>String result[] = attributes.trim().split(\"\\\\s*,+\\\\s*,*\\\\s*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":505795,"reputation":390,"user_id":1689489,"display_name":"Dmitriy Pichugin"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1519382465,"creation_date":1519381960,"answer_id":48945784,"question_id":41953388,"body_markdown":"    String result[] = attributes.trim().split(&quot;\\\\s*,[,\\\\s]*&quot;);\r\n\r\npreviously posted here: https://blog.oio.de/2012/08/23/split-comma-separated-strings-in-java/","title":"Java - Split and trim in one shot","body":"<pre><code>String result[] = attributes.trim().split(\"\\\\s*,[,\\\\s]*\");\n</code></pre>\n\n<p>previously posted here: <a href=\"https://blog.oio.de/2012/08/23/split-comma-separated-strings-in-java/\" rel=\"nofollow noreferrer\">https://blog.oio.de/2012/08/23/split-comma-separated-strings-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":8102714,"reputation":1403,"user_id":6105280,"display_name":"Timetrax"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668624644,"creation_date":1535740327,"answer_id":52121036,"question_id":41953388,"body_markdown":"create your own custom function\r\n \r\n\r\n    private static String[] split_and_trim_in_one_shot(String string){\r\n     String[] result  = string.split(&quot;,&quot;);\r\n     int array_length = result.length;\r\n\r\n     for(int i =0; i &lt; array_length ; i++){\r\n      result[i]=result[i].trim();\r\n     }\r\n     return result;\r\n\r\n \r\nOverload with a consideration for custom delimiter \r\n \r\n\r\n    private static String[] split_and_trim_in_one_shot(String string, String delimiter){\r\n     String[] result  = string.split(delimiter);\r\n     int array_length = result.length;\r\n\r\n     for(int i =0; i &lt; array_length ; i++){\r\n      result[i]=result[i].trim();\r\n     }\r\n     return result;\r\n\r\n \r\nwith streams\r\n\r\n\tpublic static List&lt;String&gt; split(String str){\r\n    return Stream.of(str.split(&quot;,&quot;))\r\n      .map(String::trim)\r\n      .map (elem -&gt; new String(elem))//optional\r\n      .collect(Collectors.toList());\r\n\r\n    ","title":"Java - Split and trim in one shot","body":"<p>create your own custom function</p>\n<pre><code>private static String[] split_and_trim_in_one_shot(String string){\n String[] result  = string.split(&quot;,&quot;);\n int array_length = result.length;\n\n for(int i =0; i &lt; array_length ; i++){\n  result[i]=result[i].trim();\n }\n return result;\n</code></pre>\n<p>Overload with a consideration for custom delimiter</p>\n<pre><code>private static String[] split_and_trim_in_one_shot(String string, String delimiter){\n String[] result  = string.split(delimiter);\n int array_length = result.length;\n\n for(int i =0; i &lt; array_length ; i++){\n  result[i]=result[i].trim();\n }\n return result;\n</code></pre>\n<p>with streams</p>\n<pre><code>public static List&lt;String&gt; split(String str){\nreturn Stream.of(str.split(&quot;,&quot;))\n  .map(String::trim)\n  .map (elem -&gt; new String(elem))//optional\n  .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4028316,"reputation":169,"user_id":3423146,"display_name":"Alexander Stohr"},"score":1,"creation_date":1620831294,"post_id":63542874,"comment_id":119318510,"body_markdown":"nope! it keeps the leading spaces of faa and fii !!!","body":"nope! it keeps the leading spaces of faa and fii !!!"},{"owner":{"account_id":4028316,"reputation":169,"user_id":3423146,"display_name":"Alexander Stohr"},"score":1,"creation_date":1620831578,"post_id":63542874,"comment_id":119318661,"body_markdown":"with grovy and the trailing asterisk operator will apply any trailing operation to each of the elements: attributes.split(&quot;[,]&quot;)*.trim() (hoping that will be still read-able with the mini-format codes here in the comments)","body":"with grovy and the trailing asterisk operator will apply any trailing operation to each of the elements: attributes.split(&quot;[,]&quot;)*.trim() (hoping that will be still read-able with the mini-format codes here in the comments)"}],"tags":[],"owner":{"account_id":7628917,"reputation":17,"user_id":5784599,"display_name":"Naveen"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1598173008,"creation_date":1598150165,"answer_id":63542874,"question_id":41953388,"body_markdown":"```java\r\n// given input\r\nString attributes = &quot; foo boo, faa baa, fii bii,&quot;;\r\n\r\n// desired output\r\nString[] result = {&quot;foo boo&quot;, &quot;faa baa&quot;, &quot;fii bii&quot;};\r\n```\r\n\r\nThis should work:\r\n```java\r\nString[] s = attributes.trim().split(&quot;[,]&quot;);\r\n```\r\n\r\nAs answered by @Raman Sahasi:\r\n&gt; before you split your string, you can trim the trailing and leading spaces. I&#39;ve used the delimiter `,` as it was your only delimiter in your string ","title":"Java - Split and trim in one shot","body":"<pre class=\"lang-java prettyprint-override\"><code>// given input\nString attributes = &quot; foo boo, faa baa, fii bii,&quot;;\n\n// desired output\nString[] result = {&quot;foo boo&quot;, &quot;faa baa&quot;, &quot;fii bii&quot;};\n</code></pre>\n<p>This should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] s = attributes.trim().split(&quot;[,]&quot;);\n</code></pre>\n<p>As answered by @Raman Sahasi:</p>\n<blockquote>\n<p>before you split your string, you can trim the trailing and leading spaces. I've used the delimiter <code>,</code> as it was your only delimiter in your string</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9066862,"reputation":5,"user_id":6751387,"display_name":"Mahantesh Chatter"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1600196409,"creation_date":1600189871,"answer_id":63906812,"question_id":41953388,"body_markdown":"Best way is:\r\n\r\n    value.split(&quot;,&quot;).map(function(x) {return x.trim()});","title":"Java - Split and trim in one shot","body":"<p>Best way is:</p>\n<pre><code>value.split(&quot;,&quot;).map(function(x) {return x.trim()});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2115257,"reputation":779,"user_id":1879731,"accept_rate":50,"display_name":"Olivier Masseau"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646397740,"creation_date":1646397740,"answer_id":71351591,"question_id":41953388,"body_markdown":"You can do it with Google Guava library this way :\r\n\r\n    List&lt;String&gt; results = Splitter.on(&quot;,&quot;).trimResults().splitToList(attributes);\r\n\r\nwhich I find quite elegant as the code is very explicit in what it does when you read it.","title":"Java - Split and trim in one shot","body":"<p>You can do it with Google Guava library this way :</p>\n<pre><code>List&lt;String&gt; results = Splitter.on(&quot;,&quot;).trimResults().splitToList(attributes);\n</code></pre>\n<p>which I find quite elegant as the code is very explicit in what it does when you read it.</p>\n"},{"tags":[],"owner":{"account_id":1088091,"reputation":1226,"user_id":1083338,"accept_rate":64,"display_name":"Umair"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660636190,"creation_date":1660636190,"answer_id":73370495,"question_id":41953388,"body_markdown":"ApaceCommons StringUtils.stripAll function can be used to trim individual elements of an array. It leaves the null as null if some of your array elements are null. \r\n\r\nHere, \r\n\r\n    String[] array = StringUtils.stripAll(attributes.split(&quot;,&quot;));","title":"Java - Split and trim in one shot","body":"<p>ApaceCommons StringUtils.stripAll function can be used to trim individual elements of an array. It leaves the null as null if some of your array elements are null.</p>\n<p>Here,</p>\n<pre><code>String[] array = StringUtils.stripAll(attributes.split(&quot;,&quot;));\n</code></pre>\n"}],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118172,"favorite_count":0,"down_vote_count":3,"up_vote_count":97,"accepted_answer_id":41953571,"answer_count":10,"score":94,"last_activity_date":1701412902,"creation_date":1485853289,"question_id":41953388,"body_markdown":"I have a String like this : \r\n\r\n    String attributes = &quot; foo boo, faa baa, fii bii,&quot;\r\n\r\nand I want to get a result like this :\r\n\r\n    String[] result = {&quot;foo boo&quot;, &quot;faa baa&quot;, &quot;fii bii&quot;};\r\n\r\nSo my issue is how should to make split and trim in one shot i already split:\r\n\r\n    String[] result = attributes.split(&quot;,&quot;);\r\n\r\nBut the `spaces` still in the result :\r\n\r\n    String[] result = {&quot; foo boo&quot;, &quot; faa baa&quot;, &quot; fii bii&quot;};\r\n                        ^           ^           ^\r\nI know that we can make a loop and make `trim` for every one but I want to makes it in shot.","title":"Java - Split and trim in one shot","body":"<p>I have a String like this :</p>\n<pre><code>String attributes = &quot; foo boo, faa baa, fii bii,&quot;\n</code></pre>\n<p>and I want to get a result like this :</p>\n<pre><code>String[] result = {&quot;foo boo&quot;, &quot;faa baa&quot;, &quot;fii bii&quot;};\n</code></pre>\n<p>So my issue is how should to make split and trim in one shot i already split:</p>\n<pre><code>String[] result = attributes.split(&quot;,&quot;);\n</code></pre>\n<p>But the <code>spaces</code> still in the result :</p>\n<pre><code>String[] result = {&quot; foo boo&quot;, &quot; faa baa&quot;, &quot; fii bii&quot;};\n                    ^           ^           ^\n</code></pre>\n<p>I know that we can make a loop and make <code>trim</code> for every one but I want to makes it in shot.</p>\n"},{"tags":["java","android","textview"],"comments":[{"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"score":2,"creation_date":1550474607,"post_id":54742207,"comment_id":96266555,"body_markdown":"You can add details like screenshot of your current UI and expected UI for us to have a clear picture","body":"You can add details like screenshot of your current UI and expected UI for us to have a clear picture"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1550474635,"post_id":54742207,"comment_id":96266582,"body_markdown":"Use [ImageSpan](https://developer.android.com/reference/android/text/style/ImageSpan) instead . Compound Drawable will always show either of 4 edges so you need to add icon to the text in this case .","body":"Use <a href=\"https://developer.android.com/reference/android/text/style/ImageSpan\" rel=\"nofollow noreferrer\">ImageSpan</a> instead . Compound Drawable will always show either of 4 edges so you need to add icon to the text in this case ."}],"answers":[{"comments":[{"owner":{"account_id":12388089,"reputation":222,"user_id":9030938,"display_name":"Naveen"},"score":0,"creation_date":1550478058,"post_id":54742260,"comment_id":96268200,"body_markdown":"if i am taking text.length(), text.length() + 1 then getting java.lang.IndexOutOfBoundsException: setSpan (80 ... 81) ends beyond length 80","body":"if i am taking text.length(), text.length() + 1 then getting java.lang.IndexOutOfBoundsException: setSpan (80 ... 81) ends beyond length 80"},{"owner":{"account_id":12388089,"reputation":222,"user_id":9030938,"display_name":"Naveen"},"score":0,"creation_date":1550478822,"post_id":54742260,"comment_id":96268559,"body_markdown":"text.length()-1 , text.length() this is work for me but there is no space between text and icon. i want single space between them","body":"text.length()-1 , text.length() this is work for me but there is no space between text and icon. i want single space between them"},{"owner":{"account_id":84127,"reputation":51115,"user_id":235354,"display_name":"jspcal"},"score":0,"creation_date":1550525752,"post_id":54742260,"comment_id":96292960,"body_markdown":"Yes you could add another space at the end of text.","body":"Yes you could add another space at the end of text."},{"owner":{"account_id":12388089,"reputation":222,"user_id":9030938,"display_name":"Naveen"},"score":0,"creation_date":1550665928,"post_id":54742260,"comment_id":96351267,"body_markdown":"added two space after text , got my solution , thank you so much @jspcal","body":"added two space after text , got my solution , thank you so much @jspcal"}],"tags":[],"owner":{"account_id":84127,"reputation":51115,"user_id":235354,"display_name":"jspcal"},"comment_count":4,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1701412581,"creation_date":1550474783,"answer_id":54742260,"question_id":54742207,"body_markdown":"You can embed an [`ImageSpan`][1] in a [`SpannableString`][2] and set the [`TextView`][3] to display that. For example:\r\n\r\n\r\n    String text = &quot;hello  &quot;;\r\n    SpannableStringBuilder sb = new SpannableStringBuilder(text);\r\n    ImageSpan imageSpan = new ImageSpan(context, R.drawable.my_icon);\r\n    sb.setSpan(imageSpan, text.length() - 1, text.length()), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n    textView.setText(sb);\r\n\r\n  [1]: https://developer.android.com/reference/android/text/style/ImageSpan\r\n  [2]: https://developer.android.com/reference/android/text/SpannableString\r\n  [3]: https://developer.android.com/reference/android/widget/TextView","title":"Set drawable to the end of the text, in TextView","body":"<p>You can embed an <a href=\"https://developer.android.com/reference/android/text/style/ImageSpan\" rel=\"nofollow noreferrer\"><code>ImageSpan</code></a> in a <a href=\"https://developer.android.com/reference/android/text/SpannableString\" rel=\"nofollow noreferrer\"><code>SpannableString</code></a> and set the <a href=\"https://developer.android.com/reference/android/widget/TextView\" rel=\"nofollow noreferrer\"><code>TextView</code></a> to display that. For example:</p>\n<pre><code>String text = &quot;hello  &quot;;\nSpannableStringBuilder sb = new SpannableStringBuilder(text);\nImageSpan imageSpan = new ImageSpan(context, R.drawable.my_icon);\nsb.setSpan(imageSpan, text.length() - 1, text.length()), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\ntextView.setText(sb);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3126079,"reputation":564,"user_id":2644905,"accept_rate":71,"display_name":"omersem"},"score":1,"creation_date":1603409743,"post_id":54742399,"comment_id":114036752,"body_markdown":"This will put at the end of the text view not text itself, please read the question first.","body":"This will put at the end of the text view not text itself, please read the question first."}],"tags":[],"owner":{"account_id":10372270,"reputation":718,"user_id":7649582,"display_name":"Asteroid"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1550475391,"creation_date":1550475391,"answer_id":54742399,"question_id":54742207,"body_markdown":"Check this -  \r\n\r\n  \r\n\r\n     &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:drawableRight=&quot;@drawable/ic_arrow_back_black_24dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:paddingLeft=&quot;10dp&quot;\r\n                android:paddingRight=&quot;10dp&quot;\r\n                android:drawablePadding=&quot;10dp&quot;\r\n                android:text=&quot;text&quot;/&gt;","title":"Set drawable to the end of the text, in TextView","body":"<p>Check this -  </p>\n\n<pre><code> &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:drawableRight=\"@drawable/ic_arrow_back_black_24dp\"\n            android:gravity=\"center\"\n            android:paddingLeft=\"10dp\"\n            android:paddingRight=\"10dp\"\n            android:drawablePadding=\"10dp\"\n            android:text=\"text\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6434390,"reputation":54,"user_id":4986424,"display_name":"Akhil MG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550475655,"creation_date":1550475655,"answer_id":54742470,"question_id":54742207,"body_markdown":"Try setting\r\n\r\n    android:layout_width=&quot;match_parent&quot;","title":"Set drawable to the end of the text, in TextView","body":"<p>Try setting</p>\n\n<pre><code>android:layout_width=\"match_parent\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":202974,"reputation":3884,"user_id":450356,"accept_rate":40,"display_name":"Adib Faramarzi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1550476723,"creation_date":1550476723,"answer_id":54742692,"question_id":54742207,"body_markdown":"You need to use `android:drawableEnd` instead of `drawableRight`.","title":"Set drawable to the end of the text, in TextView","body":"<p>You need to use <code>android:drawableEnd</code> instead of <code>drawableRight</code>.</p>\n"}],"owner":{"account_id":12388089,"reputation":222,"user_id":9030938,"display_name":"Naveen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54742260,"answer_count":4,"score":1,"last_activity_date":1701412581,"creation_date":1550474525,"question_id":54742207,"body_markdown":"I want to set the drawable image to the end of the text but it shows the end of the text view.\r\n\r\n**Here is my code**\r\n       \r\n    &lt;TextView\r\n         android:id=&quot;@+id/tv_overweight_messsage&quot;\r\n         android:layout_width=&quot;wrap_content&quot;\r\n         android:layout_height=&quot;wrap_content\r\n         android:layout_marginTop=&quot;@dimen/activity_marginVertical_Large&quot;\r\n         android:gravity=&quot;center&quot;\r\n         android:text=&quot;dvdmnvkdnxknb vcnbvcxmnbxm,cbn,m vnnxmndxvbhddbv svbhzv&quot;\r\n         android:textColor=&quot;@color/required&quot;\r\n         android:textSize=&quot;@dimen/textSize_small&quot;\r\n         android:drawablePadding=&quot;@dimen/widget_padding&quot;\r\n         android:drawableRight=&quot;@drawable/img_infobn&quot;\r\n         android:visibility=&quot;gone&quot;\r\n         app:mfafont=&quot;@string/font_Questrial_Regular&quot;\r\n         tools:visibility=&quot;visible&quot; /&gt;\r\n\r\n","title":"Set drawable to the end of the text, in TextView","body":"<p>I want to set the drawable image to the end of the text but it shows the end of the text view.</p>\n\n<p><strong>Here is my code</strong></p>\n\n<pre><code>&lt;TextView\n     android:id=\"@+id/tv_overweight_messsage\"\n     android:layout_width=\"wrap_content\"\n     android:layout_height=\"wrap_content\n     android:layout_marginTop=\"@dimen/activity_marginVertical_Large\"\n     android:gravity=\"center\"\n     android:text=\"dvdmnvkdnxknb vcnbvcxmnbxm,cbn,m vnnxmndxvbhddbv svbhzv\"\n     android:textColor=\"@color/required\"\n     android:textSize=\"@dimen/textSize_small\"\n     android:drawablePadding=\"@dimen/widget_padding\"\n     android:drawableRight=\"@drawable/img_infobn\"\n     android:visibility=\"gone\"\n     app:mfafont=\"@string/font_Questrial_Regular\"\n     tools:visibility=\"visible\" /&gt;\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","log4j"],"answers":[{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1701474369,"post_id":77583357,"comment_id":136784428,"body_markdown":"log4j version 2 was a major refactoring by the Apache logging team, abandoning version 1 as the original primary developer had left to create logback based on the log4j version 1.3 work.   He later decided to fork the abandoned version into reload4j (https://reload4j.qos.ch/).   This is why log4j2 is so different from log4j version 1.2.","body":"log4j version 2 was a major refactoring by the Apache logging team, abandoning version 1 as the original primary developer had left to create logback based on the log4j version 1.3 work.   He later decided to fork the abandoned version into reload4j (<a href=\"https://reload4j.qos.ch/\" rel=\"nofollow noreferrer\">reload4j.qos.ch</a>).   This is why log4j2 is so different from log4j version 1.2."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1701622473,"post_id":77583357,"comment_id":136796038,"body_markdown":"Thanks kindly for the history.  I&#39;m sure that the project had well-justified reasoning for changing things, however in my opinion, there too many similarities and not enough tripwires for developers to not hit snags.  For example, based on my searching `rootLogger` was reused, but the `log4j.` prefix was removed.  Furthemore, changing the `.properties` namespace would only seem sensible if projects were simultaneously running Log4j 1 + 2 simultaneously (which I assume should never happen).","body":"Thanks kindly for the history.  I&#39;m sure that the project had well-justified reasoning for changing things, however in my opinion, there too many similarities and not enough tripwires for developers to not hit snags.  For example, based on my searching <code>rootLogger</code> was reused, but the <code>log4j.</code> prefix was removed.  Furthemore, changing the <code>.properties</code> namespace would only seem sensible if projects were simultaneously running Log4j 1 + 2 simultaneously (which I assume should never happen)."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1701622526,"post_id":77583357,"comment_id":136796045,"body_markdown":"... furthemore, some of Google&#39;s first results, such as this one: https://www.digitalocean.com/community/tutorials/log4j-properties-file-example are artificatially dated for 2022 (comments suggest this is a lie) which turns an otherwise simply copy/paste into hours of trial and error.","body":"... furthemore, some of Google&#39;s first results, such as this one: <a href=\"https://www.digitalocean.com/community/tutorials/log4j-properties-file-example\" rel=\"nofollow noreferrer\">digitalocean.com/community/tutorials/&hellip;</a> are artificatially dated for 2022 (comments suggest this is a lie) which turns an otherwise simply copy/paste into hours of trial and error."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1701630071,"post_id":77583357,"comment_id":136796901,"body_markdown":"I do not know why they did as they did with version 2, but logback has greater traction than log4j2 so if it doesn&#39;t matter to you, either use java.util.logging (built in, enhanced a lot in Java 8) or slf4j with logback.  This is the default for Spring Boot applications.","body":"I do not know why they did as they did with version 2, but logback has greater traction than log4j2 so if it doesn&#39;t matter to you, either use java.util.logging (built in, enhanced a lot in Java 8) or slf4j with logback.  This is the default for Spring Boot applications."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1701710245,"post_id":77583357,"comment_id":136806820,"body_markdown":"Thanks.  Personally, I moved away fro slf4j when switching to Log4J2, as everything broke, which defeated the purpose of slf4j to begin with :D... but thanks for the pointer, I&#39;ll reconsider as well as give Java 8&#39;s Logger a look.","body":"Thanks.  Personally, I moved away fro slf4j when switching to Log4J2, as everything broke, which defeated the purpose of slf4j to begin with :D... but thanks for the pointer, I&#39;ll reconsider as well as give Java 8&#39;s Logger a look."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1701797216,"post_id":77583357,"comment_id":136818893,"body_markdown":"Given your current problem it may have had the same cause, namely that you used documentation for the older version.  That said, at one point slf4j enforced that all parameters should be strings instead of objects which bluntly said was a mistake.  This mean you cannot log complex objects without converting them to a string first.  My guess would be that the native log4j2 interface does not make this mistake.","body":"Given your current problem it may have had the same cause, namely that you used documentation for the older version.  That said, at one point slf4j enforced that all parameters should be strings instead of objects which bluntly said was a mistake.  This mean you cannot log complex objects without converting them to a string first.  My guess would be that the native log4j2 interface does not make this mistake."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1701801817,"post_id":77583357,"comment_id":136819673,"body_markdown":"Unfortunately the conversation of why I switched from slf4j to Log4J2 was lost when Slack changed its retention settings from 10,000 messages to 90 days so I&#39;ve lost that trial and error context, but my colleague at the time was so frustrated that we ripped sl4j out entirely, touching 106 files. :( https://github.com/qzind/tray/pull/896/files.","body":"Unfortunately the conversation of why I switched from slf4j to Log4J2 was lost when Slack changed its retention settings from 10,000 messages to 90 days so I&#39;ve lost that trial and error context, but my colleague at the time was so frustrated that we ripped sl4j out entirely, touching 106 files. :( <a href=\"https://github.com/qzind/tray/pull/896/files\" rel=\"nofollow noreferrer\">github.com/qzind/tray/pull/896/files</a>."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1701825579,"post_id":77583357,"comment_id":136822697,"body_markdown":"As can be seen on  https://github.com/qos-ch/slf4j/graphs/contributors slf4j is essentially a single-man-army effort which mean that the design changes does not have to be approved by a full team before being implemented.","body":"As can be seen on  <a href=\"https://github.com/qos-ch/slf4j/graphs/contributors\" rel=\"nofollow noreferrer\">github.com/qos-ch/slf4j/graphs/contributors</a> slf4j is essentially a single-man-army effort which mean that the design changes does not have to be approved by a full team before being implemented."}],"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701412336,"creation_date":1701412017,"answer_id":77583357,"question_id":77583236,"body_markdown":"A bit of a facepalm moment, but I went back and [RTFM](https://en.wikipedia.org/wiki/RTFM)&#39;d and these are the two mistakes (and fixes)\r\n\r\n1. It&#39;s called `log4j2.properties`, not `log4j.properties` emphasis on the `2`.\r\n\r\n   ```\r\n   src/test/resources/log4j2.properties\r\n                           ^------------ the number two is needed\r\n   ```\r\n2. There&#39;s no `log4j` prefix on the properties.\r\n   ```properties\r\n   # BEFORE\r\n   log4j.rootLogger=...\r\n   #    ^------------ remove the &quot;log4j.&quot; prefix\r\n\r\n\r\n   # AFTER\r\n   rootLogger=...\r\n   ```\r\n\r\nNow there is a working IntelliJ and customizable log4j.\r\n\r\nAlthough these may be obvious to some, I&#39;m leaving both the question and answer here because a lot of time was wasted on these small details and I&#39;m hoping it will save others some time. \r\n","title":"Customize log4j in unit testing from IntelliJ","body":"<p>A bit of a facepalm moment, but I went back and <a href=\"https://en.wikipedia.org/wiki/RTFM\" rel=\"nofollow noreferrer\">RTFM</a>'d and these are the two mistakes (and fixes)</p>\n<ol>\n<li><p>It's called <code>log4j2.properties</code>, not <code>log4j.properties</code> emphasis on the <code>2</code>.</p>\n<pre><code>src/test/resources/log4j2.properties\n                        ^------------ the number two is needed\n</code></pre>\n</li>\n<li><p>There's no <code>log4j</code> prefix on the properties.</p>\n<pre><code># BEFORE\nlog4j.rootLogger=...\n#    ^------------ remove the &quot;log4j.&quot; prefix\n\n\n# AFTER\nrootLogger=...\n</code></pre>\n</li>\n</ol>\n<p>Now there is a working IntelliJ and customizable log4j.</p>\n<p>Although these may be obvious to some, I'm leaving both the question and answer here because a lot of time was wasted on these small details and I'm hoping it will save others some time.</p>\n"}],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701412336,"creation_date":1701409875,"question_id":77583236,"body_markdown":"I&#39;d like to customize some junit logs from the IntelliJ IDE.\r\n\r\nI have a sample IntelliJ Maven project.  My goal is to be able to configure the logs for `src/test/java`.\r\n\r\nFrom my understanding, the convention for the log4j configuration is to place it in:\r\n* `src/test/resources/log4j.properties`\r\n* IntelliJ automatically recognizes the `src/test/resources/` as a Maven resources directory.\r\n* I&#39;ve also tried to add the `log4j.properties` file to the root `test` and `src` directories, both to no avail.\r\n\r\n\r\nMy unit test looks like this:\r\n\r\n```\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.junit.Test;\r\n\r\npublic class LogTest {\r\n    private static Logger log = LogManager.getLogger(LogTest.class);\r\n\r\n    @Test\r\n    public void printLogs() {\r\n        log.info(&quot;Hello world from log.info!&quot;);\r\n        log.error(&quot;Hello world from log.error!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nMy `src/test/resources/log4j.properties` looks like this:\r\n```properties\r\nlog4j.rootLogger=ALL\r\n```\r\n\r\n... however the output never shows the `log.info` line.\r\n\r\n&lt;pre&gt;\r\n00:48:19.766 [main] ERROR LogTest - Hello world from log.error!\r\n\r\nProcess finished with exit code 0\r\n&lt;/pre&gt;\r\n\r\n... so I&#39;m stuck at the very first first step of configuring my unit test logs.  What am I doing wrong?  I&#39;m happy to share the `pom.xml` and/or IntelliJ project if needed.  It&#39;s the default Maven project that IntelliJ provides with dependencies for `junit`, `log4j-api`, and `log4j-core` added.","title":"Customize log4j in unit testing from IntelliJ","body":"<p>I'd like to customize some junit logs from the IntelliJ IDE.</p>\n<p>I have a sample IntelliJ Maven project.  My goal is to be able to configure the logs for <code>src/test/java</code>.</p>\n<p>From my understanding, the convention for the log4j configuration is to place it in:</p>\n<ul>\n<li><code>src/test/resources/log4j.properties</code></li>\n<li>IntelliJ automatically recognizes the <code>src/test/resources/</code> as a Maven resources directory.</li>\n<li>I've also tried to add the <code>log4j.properties</code> file to the root <code>test</code> and <code>src</code> directories, both to no avail.</li>\n</ul>\n<p>My unit test looks like this:</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.junit.Test;\n\npublic class LogTest {\n    private static Logger log = LogManager.getLogger(LogTest.class);\n\n    @Test\n    public void printLogs() {\n        log.info(&quot;Hello world from log.info!&quot;);\n        log.error(&quot;Hello world from log.error!&quot;);\n    }\n}\n</code></pre>\n<p>My <code>src/test/resources/log4j.properties</code> looks like this:</p>\n<pre><code>log4j.rootLogger=ALL\n</code></pre>\n<p>... however the output never shows the <code>log.info</code> line.</p>\n<pre>\n00:48:19.766 [main] ERROR LogTest - Hello world from log.error!\n\nProcess finished with exit code 0\n</pre>\n<p>... so I'm stuck at the very first first step of configuring my unit test logs.  What am I doing wrong?  I'm happy to share the <code>pom.xml</code> and/or IntelliJ project if needed.  It's the default Maven project that IntelliJ provides with dependencies for <code>junit</code>, <code>log4j-api</code>, and <code>log4j-core</code> added.</p>\n"},{"tags":["python","java","tensorflow","opencv","keras-vggface"],"owner":{"account_id":26958948,"reputation":317,"user_id":20526897,"display_name":"Zaryab Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701412074,"creation_date":1701412074,"question_id":77583358,"body_markdown":"I&#39;m trying to use some pre-trained model in Java. I&#39;m using Intellij Idea and I&#39;ve added library dependency of TensorFlow and Added OpenCV via project structure.\r\n\r\n`libraryDependency += &quot;org.tensorflow&quot; % &quot;tensorflow&quot; % &quot;1.15.0&quot;`\r\n\r\nI&#39;ve downloaded the VGGFace2 pre-trained model from [here][1], and trying to use its **.pb** file and find face embeddings.\r\n\r\nFiles which I get after completion of download:\r\n\r\n    /20170512-110547/20170512-110547.pb\r\n    /20170512-110547/model-20170512-110547.ckpt-250000.data-00000-of-00001\r\n    /20170512-110547/model-20170512-110547.ckpt-250000.index\r\n    /20170512-110547/model-20170512-110547.meta\r\n\r\n\r\n**Code:**\r\n```\r\nimport org.opencv.core.Core;\r\nimport org.opencv.core.Mat;\r\nimport org.opencv.imgcodecs.Imgcodecs;\r\nimport org.tensorflow.*;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.FloatBuffer;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.Files;\r\nimport java.io.IOException;\r\n\r\npublic class DirectTensorflowTest {\r\n    public static void main(String[] args) {\r\n        // Load OpenCV library\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n\r\n        // Path to the FaceNet model\r\n        String modelDir = &quot;/home/zaryab/Downloads/20170512-110547&quot;;\r\n\r\n        try {\r\n            // Read the FaceNet model graph\r\n            byte[] graphDef = readAllBytesOrExit(Paths.get(modelDir, &quot;20170512-110547.pb&quot;));\r\n\r\n            // Import the graph definition into TensorFlow Graph\r\n            Graph g = new Graph();\r\n            g.importGraphDef(graphDef);\r\n\r\n            // Create a TensorFlow session with the imported graph\r\n            try (Session s = new Session(g)) {\r\n                // Load an image using OpenCV (replace this with your image loading logic)\r\n                String imagePath = &quot;/home/zaryab/Desktop/IMG_20231124_171435.jpg&quot;;\r\n                Mat openCVMat = Imgcodecs.imread(imagePath);\r\n\r\n                // Convert OpenCV Mat to float array\r\n                float[] floatArray = convertMatToFloatArray(openCVMat);\r\n\r\n                // Byte array to TensorFlow Tensor\r\n                ByteBuffer byteBuffer = ByteBuffer.allocate(floatArray.length * Float.BYTES);\r\n                byteBuffer.asFloatBuffer().put(floatArray);\r\n                byte[] imageByte = byteBuffer.array();\r\n\r\n                FloatBuffer fb = ByteBuffer.wrap(imageByte).asFloatBuffer();\r\n                Tensor&lt;Float&gt; imageF = Tensor.create(new long[]{1, openCVMat.rows(), openCVMat.cols(), 1}, fb);\r\n\r\n                Tensor&lt;Boolean&gt; falseTensor = Tensors.create(false);\r\n\r\n                // Run the session to get embeddings\r\n                Tensor&lt;Float&gt; result = s.runner()\r\n                        .feed(&quot;input&quot;, imageF)\r\n                        .feed(&quot;phase_train&quot;, falseTensor)\r\n                        .fetch(&quot;embeddings&quot;)\r\n                        .run()\r\n                        .get(0)\r\n                        .expect(Float.class);\r\n\r\n                // Access the embeddings\r\n                float[][] embeddings = new float[1][(int) result.shape()[1]]; // Assuming shape[1] gives the embedding size\r\n                result.copyTo(embeddings);\r\n\r\n                System.out.println(embeddings);\r\n\r\n                result.close();\r\n                imageF.close();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // Function to convert OpenCV Mat to float array\r\n    public static float[] convertMatToFloatArray(Mat mat) {\r\n        int rows = mat.rows();\r\n        int cols = mat.cols();\r\n\r\n        float[] floatArray = new float[rows * cols];\r\n\r\n        for (int i = 0; i &lt; rows; i++) {\r\n            for (int j = 0; j &lt; cols; j++) {\r\n                floatArray[i * cols + j] = (float) (mat.get(i, j)[0] / 255.0); // Normalize pixel values between 0 and 1\r\n            }\r\n        }\r\n\r\n        return floatArray;\r\n    }\r\n\r\n    // Function to read all bytes from a file\r\n    public static byte[] readAllBytesOrExit(java.nio.file.Path path) throws IOException {\r\n        return Files.readAllBytes(path);\r\n    }\r\n}\r\n\r\n```\r\nI&#39;ve taken some help from [this github issue][2] but still getting error:\r\n\r\n```\r\n2023-12-01 11:19:51.689467: W tensorflow/core/framework/op_kernel.cc:1651] OP_REQUIRES failed at conv_ops.cc:491 : Invalid argument: input depth must be evenly divisible by filter depth: 1 vs 3\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: input depth must be evenly divisible by filter depth: 1 vs 3\r\n\t [[{{node InceptionResnetV1/Conv2d_1a_3x3/convolution}}]]\r\n\tat org.tensorflow.Session.run(Native Method)\r\n\tat org.tensorflow.Session.access$100(Session.java:48)\r\n\tat org.tensorflow.Session$Runner.runHelper(Session.java:326)\r\n\tat org.tensorflow.Session$Runner.run(Session.java:276)\r\n\tat DirectTensorflowTest.main(DirectTensorflowTest.java:111)\r\n```\r\n\r\n**Guide me how can I resolve above issue and successfully use this model in java using Tensorflow?**\r\n\r\n\r\n  [1]: https://github.com/davidsandberg/facenet\r\n  [2]: https://github.com/davidsandberg/facenet/issues/659","title":"How to use .pb file of VGGFace2 in tensorflow (java) to find Face Embeddings?","body":"<p>I'm trying to use some pre-trained model in Java. I'm using Intellij Idea and I've added library dependency of TensorFlow and Added OpenCV via project structure.</p>\n<p><code>libraryDependency += &quot;org.tensorflow&quot; % &quot;tensorflow&quot; % &quot;1.15.0&quot;</code></p>\n<p>I've downloaded the VGGFace2 pre-trained model from <a href=\"https://github.com/davidsandberg/facenet\" rel=\"nofollow noreferrer\">here</a>, and trying to use its <strong>.pb</strong> file and find face embeddings.</p>\n<p>Files which I get after completion of download:</p>\n<pre><code>/20170512-110547/20170512-110547.pb\n/20170512-110547/model-20170512-110547.ckpt-250000.data-00000-of-00001\n/20170512-110547/model-20170512-110547.ckpt-250000.index\n/20170512-110547/model-20170512-110547.meta\n</code></pre>\n<p><strong>Code:</strong></p>\n<pre><code>import org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.imgcodecs.Imgcodecs;\nimport org.tensorflow.*;\nimport java.nio.ByteBuffer;\nimport java.nio.FloatBuffer;\nimport java.nio.file.Paths;\nimport java.nio.file.Files;\nimport java.io.IOException;\n\npublic class DirectTensorflowTest {\n    public static void main(String[] args) {\n        // Load OpenCV library\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n\n        // Path to the FaceNet model\n        String modelDir = &quot;/home/zaryab/Downloads/20170512-110547&quot;;\n\n        try {\n            // Read the FaceNet model graph\n            byte[] graphDef = readAllBytesOrExit(Paths.get(modelDir, &quot;20170512-110547.pb&quot;));\n\n            // Import the graph definition into TensorFlow Graph\n            Graph g = new Graph();\n            g.importGraphDef(graphDef);\n\n            // Create a TensorFlow session with the imported graph\n            try (Session s = new Session(g)) {\n                // Load an image using OpenCV (replace this with your image loading logic)\n                String imagePath = &quot;/home/zaryab/Desktop/IMG_20231124_171435.jpg&quot;;\n                Mat openCVMat = Imgcodecs.imread(imagePath);\n\n                // Convert OpenCV Mat to float array\n                float[] floatArray = convertMatToFloatArray(openCVMat);\n\n                // Byte array to TensorFlow Tensor\n                ByteBuffer byteBuffer = ByteBuffer.allocate(floatArray.length * Float.BYTES);\n                byteBuffer.asFloatBuffer().put(floatArray);\n                byte[] imageByte = byteBuffer.array();\n\n                FloatBuffer fb = ByteBuffer.wrap(imageByte).asFloatBuffer();\n                Tensor&lt;Float&gt; imageF = Tensor.create(new long[]{1, openCVMat.rows(), openCVMat.cols(), 1}, fb);\n\n                Tensor&lt;Boolean&gt; falseTensor = Tensors.create(false);\n\n                // Run the session to get embeddings\n                Tensor&lt;Float&gt; result = s.runner()\n                        .feed(&quot;input&quot;, imageF)\n                        .feed(&quot;phase_train&quot;, falseTensor)\n                        .fetch(&quot;embeddings&quot;)\n                        .run()\n                        .get(0)\n                        .expect(Float.class);\n\n                // Access the embeddings\n                float[][] embeddings = new float[1][(int) result.shape()[1]]; // Assuming shape[1] gives the embedding size\n                result.copyTo(embeddings);\n\n                System.out.println(embeddings);\n\n                result.close();\n                imageF.close();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    // Function to convert OpenCV Mat to float array\n    public static float[] convertMatToFloatArray(Mat mat) {\n        int rows = mat.rows();\n        int cols = mat.cols();\n\n        float[] floatArray = new float[rows * cols];\n\n        for (int i = 0; i &lt; rows; i++) {\n            for (int j = 0; j &lt; cols; j++) {\n                floatArray[i * cols + j] = (float) (mat.get(i, j)[0] / 255.0); // Normalize pixel values between 0 and 1\n            }\n        }\n\n        return floatArray;\n    }\n\n    // Function to read all bytes from a file\n    public static byte[] readAllBytesOrExit(java.nio.file.Path path) throws IOException {\n        return Files.readAllBytes(path);\n    }\n}\n\n</code></pre>\n<p>I've taken some help from <a href=\"https://github.com/davidsandberg/facenet/issues/659\" rel=\"nofollow noreferrer\">this github issue</a> but still getting error:</p>\n<pre><code>2023-12-01 11:19:51.689467: W tensorflow/core/framework/op_kernel.cc:1651] OP_REQUIRES failed at conv_ops.cc:491 : Invalid argument: input depth must be evenly divisible by filter depth: 1 vs 3\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: input depth must be evenly divisible by filter depth: 1 vs 3\n     [[{{node InceptionResnetV1/Conv2d_1a_3x3/convolution}}]]\n    at org.tensorflow.Session.run(Native Method)\n    at org.tensorflow.Session.access$100(Session.java:48)\n    at org.tensorflow.Session$Runner.runHelper(Session.java:326)\n    at org.tensorflow.Session$Runner.run(Session.java:276)\n    at DirectTensorflowTest.main(DirectTensorflowTest.java:111)\n</code></pre>\n<p><strong>Guide me how can I resolve above issue and successfully use this model in java using Tensorflow?</strong></p>\n"},{"tags":["java","antlr","antlr4"],"comments":[{"owner":{"account_id":5763746,"reputation":415,"user_id":5652258,"display_name":"Some Guy"},"score":0,"creation_date":1548417103,"post_id":16343288,"comment_id":95543272,"body_markdown":"See also [this question](https://stackoverflow.com/questions/7443860/get-original-text-of-an-antlr-rule) and [this question](https://stackoverflow.com/questions/50443728/context-gettext-excludes-spaces-in-antlr4).","body":"See also <a href=\"https://stackoverflow.com/questions/7443860/get-original-text-of-an-antlr-rule\">this question</a> and <a href=\"https://stackoverflow.com/questions/50443728/context-gettext-excludes-spaces-in-antlr4\">this question</a>."}],"answers":[{"comments":[{"owner":{"account_id":1124685,"reputation":928,"user_id":1112244,"display_name":"Peter"},"score":28,"creation_date":1404404592,"post_id":16343289,"comment_id":38037264,"body_markdown":"If you don&#39;t have access to or don&#39;t want to keep track of the `CharStream`, use `ctx.start.getInputStream()` to retrieve it.","body":"If you don&#39;t have access to or don&#39;t want to keep track of the <code>CharStream</code>, use <code>ctx.start.getInputStream()</code> to retrieve it."},{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":1,"creation_date":1517538650,"post_id":16343289,"comment_id":84146354,"body_markdown":"CharStream input = ctx.start.getInputStream();\ninput.getText(interval);\n\nGives me runtime errors .checkBoundsOffCount(String.java:3101)","body":"CharStream input = ctx.start.getInputStream(); input.getText(interval);  Gives me runtime errors .checkBoundsOffCount(String.java:3101)"},{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":2,"creation_date":1517538772,"post_id":16343289,"comment_id":84146389,"body_markdown":"And where it doesn&#39;t fail it still removes whitespace","body":"And where it doesn&#39;t fail it still removes whitespace"},{"owner":{"account_id":2726750,"reputation":432,"user_id":2351580,"accept_rate":58,"display_name":"Julius Naeumann"},"score":0,"creation_date":1587306377,"post_id":16343289,"comment_id":108453682,"body_markdown":"Your answer helped me fix a weird error where calling `getText()` on a `Token` failed because somehow my original `CharStream` got garbage collected. I kept a reference to it and `getText` works now.","body":"Your answer helped me fix a weird error where calling <code>getText()</code> on a <code>Token</code> failed because somehow my original <code>CharStream</code> got garbage collected. I kept a reference to it and <code>getText</code> works now."},{"owner":{"account_id":416171,"reputation":31427,"user_id":791406,"accept_rate":69,"display_name":"raffian"},"score":0,"creation_date":1677800134,"post_id":16343289,"comment_id":133414175,"body_markdown":"Totally nonintuitive as far as solutions go, this was a lifesaver for me.","body":"Totally nonintuitive as far as solutions go, this was a lifesaver for me."}],"tags":[],"owner":{"account_id":1458562,"reputation":1769,"user_id":1373521,"accept_rate":70,"display_name":"monty0"},"comment_count":5,"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1367512627,"creation_date":1367512627,"answer_id":16343289,"question_id":16343288,"body_markdown":"ANTLR&#39;s `CharStream` class has a method `getText(Interval interval)` which will return the original source in the give range.  The `Context` object has methods to get the beginning and end.  Assuming you have a field in your listener called `input` which has the CharStream being parsed, you can do this:\r\n\r\n        int a = ctx.start.getStartIndex();\r\n        int b = ctx.stop.getStopIndex();\r\n        Interval interval = new Interval(a,b);\r\n        input.getText(interval);","title":"How do I get the original text that an antlr4 rule matched?","body":"<p>ANTLR's <code>CharStream</code> class has a method <code>getText(Interval interval)</code> which will return the original source in the give range.  The <code>Context</code> object has methods to get the beginning and end.  Assuming you have a field in your listener called <code>input</code> which has the CharStream being parsed, you can do this:</p>\n\n<pre><code>    int a = ctx.start.getStartIndex();\n    int b = ctx.stop.getStopIndex();\n    Interval interval = new Interval(a,b);\n    input.getText(interval);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14192537,"reputation":141,"user_id":10252707,"display_name":"ideal"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1535426635,"creation_date":1535426635,"answer_id":52049632,"question_id":16343288,"body_markdown":"demo:\r\n\r\n    SqlBaseParser.QueryContext queryContext = context.query();\r\n    int a = queryContext.start.getStartIndex();\r\n    int b = queryContext.stop.getStopIndex();\r\n    Interval interval = new Interval(a,b);\r\n    String viewSql = context.start.getInputStream().getText(interval);","title":"How do I get the original text that an antlr4 rule matched?","body":"<p>demo:</p>\n\n<pre><code>SqlBaseParser.QueryContext queryContext = context.query();\nint a = queryContext.start.getStartIndex();\nint b = queryContext.stop.getStopIndex();\nInterval interval = new Interval(a,b);\nString viewSql = context.start.getInputStream().getText(interval);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18061814,"reputation":370,"user_id":13128763,"display_name":"Heinrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626080297,"creation_date":1626080297,"answer_id":68344574,"question_id":16343288,"body_markdown":"Python implementation:\r\n\r\n```python\r\ndef extract_original_text(self, ctx):\r\n    token_source = ctx.start.getTokenSource()\r\n    input_stream = token_source.inputStream\r\n    start, stop  = ctx.start.start, ctx.stop.stop\r\n    return input_stream.getText(start, stop)\r\n```","title":"How do I get the original text that an antlr4 rule matched?","body":"<p>Python implementation:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def extract_original_text(self, ctx):\n    token_source = ctx.start.getTokenSource()\n    input_stream = token_source.inputStream\n    start, stop  = ctx.start.start, ctx.stop.stop\n    return input_stream.getText(start, stop)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30037591,"reputation":11,"user_id":23019171,"display_name":"user23019171"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701411418,"creation_date":1701411418,"answer_id":77583321,"question_id":16343288,"body_markdown":"[The accepted answer](https://stackoverflow.com/a/16343289) doesn&#39;t work when there are errors during the parsing, and antlr fixes those errors (which is the default behavior).  \r\nBy default antlr uses [`DefaultErrorStrategy`](https://www.antlr.org/api/Java/org/antlr/v4/runtime/DefaultErrorStrategy.html) which creates tokens with `startIndex=endIndex=-1` for missing tokens ([here](https://github.com/antlr/antlr4/blob/v4.11.1/runtime/Java/src/org/antlr/v4/runtime/DefaultErrorStrategy.java#L599) is the source code).  \r\nThe code in the accepted answer will throw an exception in case of such tokens.\r\n\r\nAlso antlr&#39;s smart error handling [can delete](https://github.com/antlr/antlr4/blob/v4.11.1/runtime/Java/src/org/antlr/v4/runtime/DefaultErrorStrategy.java#L467) some &quot;extra&quot; tokens.\r\n\r\nAs a result, &quot;the matched text&quot; can consists of multiple chunks of the original text + some tokens that have no matched original text.\r\n\r\nSome possible solutions for this problem:\r\n- either use `ANTLRErrorStrategy` without smart error handling (e.g. [`BailErrorStrategy`](https://www.antlr.org/api/Java/org/antlr/v4/runtime/BailErrorStrategy.html))\r\n- or iterate recursively over node&#39;s children and collect text from valid tokens only.","title":"How do I get the original text that an antlr4 rule matched?","body":"<p><a href=\"https://stackoverflow.com/a/16343289\">The accepted answer</a> doesn't work when there are errors during the parsing, and antlr fixes those errors (which is the default behavior).<br />\nBy default antlr uses <a href=\"https://www.antlr.org/api/Java/org/antlr/v4/runtime/DefaultErrorStrategy.html\" rel=\"nofollow noreferrer\"><code>DefaultErrorStrategy</code></a> which creates tokens with <code>startIndex=endIndex=-1</code> for missing tokens (<a href=\"https://github.com/antlr/antlr4/blob/v4.11.1/runtime/Java/src/org/antlr/v4/runtime/DefaultErrorStrategy.java#L599\" rel=\"nofollow noreferrer\">here</a> is the source code).<br />\nThe code in the accepted answer will throw an exception in case of such tokens.</p>\n<p>Also antlr's smart error handling <a href=\"https://github.com/antlr/antlr4/blob/v4.11.1/runtime/Java/src/org/antlr/v4/runtime/DefaultErrorStrategy.java#L467\" rel=\"nofollow noreferrer\">can delete</a> some &quot;extra&quot; tokens.</p>\n<p>As a result, &quot;the matched text&quot; can consists of multiple chunks of the original text + some tokens that have no matched original text.</p>\n<p>Some possible solutions for this problem:</p>\n<ul>\n<li>either use <code>ANTLRErrorStrategy</code> without smart error handling (e.g. <a href=\"https://www.antlr.org/api/Java/org/antlr/v4/runtime/BailErrorStrategy.html\" rel=\"nofollow noreferrer\"><code>BailErrorStrategy</code></a>)</li>\n<li>or iterate recursively over node's children and collect text from valid tokens only.</li>\n</ul>\n"}],"owner":{"account_id":1458562,"reputation":1769,"user_id":1373521,"accept_rate":70,"display_name":"monty0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13095,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":16343289,"answer_count":4,"score":47,"last_activity_date":1701411418,"creation_date":1367512627,"question_id":16343288,"body_markdown":"Using the Java 7 grammar https://github.com/antlr/grammars-v4/blob/master/java7/Java7.g4 I want to find methods with a specific name and then just print out that method.  I see that I can use the `methodDeclaration` rule when I match.  So I subclass `Java7BaseListener` and override this listener method:\r\n\r\n    @Override public void enterMethodDeclaration(Java7Parser.MethodDeclarationContext ctx) { }\r\n\r\nHow do I get the original text out?  `ctx.getText()` gives me a string with all the whitespace stripped out.  I want the comments and original formatting.\r\n","title":"How do I get the original text that an antlr4 rule matched?","body":"<p>Using the Java 7 grammar <a href=\"https://github.com/antlr/grammars-v4/blob/master/java7/Java7.g4\" rel=\"noreferrer\">https://github.com/antlr/grammars-v4/blob/master/java7/Java7.g4</a> I want to find methods with a specific name and then just print out that method.  I see that I can use the <code>methodDeclaration</code> rule when I match.  So I subclass <code>Java7BaseListener</code> and override this listener method:</p>\n\n<pre><code>@Override public void enterMethodDeclaration(Java7Parser.MethodDeclarationContext ctx) { }\n</code></pre>\n\n<p>How do I get the original text out?  <code>ctx.getText()</code> gives me a string with all the whitespace stripped out.  I want the comments and original formatting.</p>\n"},{"tags":["java","maven","netbeans","netbeans-platform","maven-dependency-plugin"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":3,"creation_date":1684694370,"post_id":76300401,"comment_id":134550806,"body_markdown":"please try with the latest dependency plugin version `mvn dependency:3.5.0:analyze`","body":"please try with the latest dependency plugin version <code>mvn dependency:3.5.0:analyze</code>"},{"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"score":1,"creation_date":1685221394,"post_id":76300401,"comment_id":134632340,"body_markdown":"Thank you that solved my issue, you can post the answer...","body":"Thank you that solved my issue, you can post the answer..."}],"answers":[{"tags":[],"owner":{"account_id":137056,"reputation":111,"user_id":340993,"accept_rate":75,"display_name":"Ben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701410935,"creation_date":1701410935,"answer_id":77583291,"question_id":76300401,"body_markdown":"Use the latest version of the dependency plugin.\r\nAdd this to the pluginManagement section of your pom:\r\n\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.5.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n","title":"Unable to process file error with maven-dependency-analyzer","body":"<p>Use the latest version of the dependency plugin.\nAdd this to the pluginManagement section of your pom:</p>\n<pre><code>&lt;pluginManagement&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.5.0&lt;/version&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/pluginManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1766,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701410935,"creation_date":1684679457,"question_id":76300401,"body_markdown":"`mvn dependency:analyze` on my project is unable to process files (see log below). I can&#39;t understand why, the compilation seems OK since I can run the application fine.\r\n\r\n\r\nThe parent pom.xml configures `maven.compiler.plugin.version=3.10.0` with `release=17`, and `-Xlint:all` as compiler arguments. \r\n\r\nRepo is available [here][1]. The log was used on project `modules/Phrase`, but all the modules have the same problem. Win10, cygwin, JDK17, and I&#39;m a beginner in Maven...\r\n\r\n    $ mvn dependency:analyze -Dmaven.plugin.validation=VERBOSE\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] -------------------&lt; org.jjazzlab:org-jjazz-phrase &gt;--------------------\r\n    [INFO] Building Phrase 1.0-SNAPSHOT\r\n    [INFO]   from pom.xml\r\n    [INFO] --------------------------------[ nbm ]---------------------------------\r\n    [INFO]\r\n    [INFO] &gt;&gt;&gt; dependency:2.8:analyze (default-cli) &gt; test-compile @ org-jjazz-phrase &gt;&gt;&gt;\r\n    [INFO]\r\n    [INFO] --- resources:3.3.1:resources (default-resources) @ org-jjazz-phrase ---\r\n    [INFO] Copying 1 resource from src\\main\\resources to target\\classes\r\n    [INFO]\r\n    [INFO] --- compiler:3.10.0:compile (default-compile) @ org-jjazz-phrase ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO]\r\n    [INFO] --- nbm:4.8:manifest (default-manifest) @ org-jjazz-phrase ---\r\n    [INFO] NBM Plugin generates manifest\r\n    [INFO]\r\n    [INFO] --- resources:3.3.1:testResources (default-testResources) @ org-jjazz-phrase ---\r\n    [INFO] skip non existing resourceDirectory D:\\JeromeDocs\\NetBeansProjects\\JJazzLab\\modules\\Phrase\\src\\test\\resources\r\n    [INFO]\r\n    [INFO] --- compiler:3.10.0:testCompile (default-testCompile) @ org-jjazz-phrase ---\r\n    [INFO] No sources to compile\r\n    [INFO]\r\n    [INFO] &lt;&lt;&lt; dependency:2.8:analyze (default-cli) &lt; test-compile @ org-jjazz-phrase &lt;&lt;&lt;\r\n    [INFO]\r\n    [INFO]\r\n    [INFO] --- dependency:2.8:analyze (default-cli) @ org-jjazz-phrase ---\r\n    Unable to process: org.jjazz.phrase.api.CyclicPositions\r\n    Unable to process: org.jjazz.phrase.api.Grid\r\n    Unable to process: org.jjazz.phrase.api.NoteEvent$AsNoteKey\r\n    Unable to process: org.jjazz.phrase.api.NoteEvent\r\n    Unable to process: org.jjazz.phrase.api.Phrase$6\r\n    Unable to process: org.jjazz.phrase.api.Phrase\r\n    Unable to process: org.jjazz.phrase.api.Phrases\r\n    Unable to process: org.jjazz.phrase.api.PhraseSamples\r\n    Unable to process: org.jjazz.phrase.api.SizedPhrase\r\n    Unable to process: org.jjazz.phrase.api.SourcePhrase\r\n    Unable to process: org.jjazz.phrase.api.SourcePhraseSet\r\n    [WARNING] Used undeclared dependencies found:\r\n    [WARNING]    com.google.guava:guava:jar:23.6-jre:compile\r\n    [WARNING] Unused declared dependencies found:\r\n    [WARNING]    org.jjazzlab:org-jjazz-guava:jar:1.0-SNAPSHOT:compile\r\n    [WARNING]    org.jjazzlab:org-jjazz-chordleadsheet:jar:1.0-SNAPSHOT:compile\r\n    [WARNING]    org.jjazzlab:org-jjazz-midi:jar:1.0-SNAPSHOT:compile\r\n    [WARNING]    org.netbeans.api:org-openide-dialogs:jar:RELEASE170:compile\r\n    [WARNING]    org.netbeans.api:org-openide-util:jar:RELEASE170:compile\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  2.754 s\r\n    [INFO] Finished at: 2023-05-21T16:24:36+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [WARNING]\r\n    [WARNING] Plugin validation issues were detected in 4 plugin(s)\r\n    [WARNING]\r\n    [WARNING]  * org.apache.maven.plugins:maven-site-plugin:3.12.1\r\n    [WARNING]   Plugin issue(s):\r\n    [WARNING]    * Plugin depends on the deprecated Maven 2.x compatibility layer, which may not be supported in Maven 4.x\r\n    [WARNING]\r\n    [WARNING]  * org.apache.maven.plugins:maven-compiler-plugin:3.10.0\r\n    [WARNING]   Declared at location(s):\r\n    [WARNING]    * org.jjazzlab:jjazzlab-parent:1.0-SNAPSHOT (C:\\Users\\Jerome\\.m2\\repository\\org\\jjazzlab\\jjazzlab-parent\\1.0-SNAPSHOT\\jjazzlab-parent-1.0-SNAPSHOT.pom) @ line 35\r\n    [WARNING]   Used in module(s):\r\n    [WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\r\n    [WARNING]   Plugin issue(s):\r\n    [WARNING]    * Plugin should declare these Maven artifacts in `provided` scope: [org.apache.maven:maven-plugin-api:3.2.5, org.apache.maven:maven-model:3.2.5, org.apache.maven:maven-core:3.2.5, org.apache.maven:\r\n    maven-settings:3.2.5, org.apache.maven:maven-model-builder:3.2.5, org.apache.maven:maven-repository-metadata:3.2.5, org.apache.maven:maven-aether-provider:3.2.5, org.apache.maven:maven-settings-builder:3.2.5, o\r\n    rg.apache.maven:maven-artifact:3.2.5]\r\n    [WARNING]\r\n    [WARNING]  * org.apache.netbeans.utilities:nbm-maven-plugin:4.8\r\n    [WARNING]   Declared at location(s):\r\n    [WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml) @ line 16\r\n    [WARNING]   Used in module(s):\r\n    [WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\r\n    [WARNING]   Plugin issue(s):\r\n    [WARNING]    * Plugin depends on the deprecated Maven 2.x compatibility layer, which may not be supported in Maven 4.x\r\n    [WARNING]    * Plugin depends on plexus-container-default, which is EOL\r\n    [WARNING]   Mojo issue(s):\r\n    [WARNING]    * Mojo nbm:manifest (org.apache.netbeans.nbm.NetBeansManifestUpdateMojo)\r\n    [WARNING]      - Parameter &#39;localRepository&#39; uses deprecated parameter expression &#39;${localRepository}&#39;: ArtifactRepository type is deprecated and its use in Mojos should be avoided.\r\n    [WARNING]\r\n    [WARNING]  * org.apache.maven.plugins:maven-dependency-plugin:2.8\r\n    [WARNING]   Declared at location(s):\r\n    [WARNING]    * unknown\r\n    [WARNING]   Used in module(s):\r\n    [WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\r\n    [WARNING]   Plugin issue(s):\r\n    [WARNING]    * Plugin is a Maven 2.x plugin, which will be not supported in Maven 4.x\r\n    [WARNING]    * Plugin depends on plexus-container-default, which is EOL\r\n    [WARNING]   Mojo issue(s):\r\n    [WARNING]    * Mojo dependency:analyze (org.apache.maven.plugin.dependency.analyze.AnalyzeMojo)\r\n    [WARNING]      - Implements `Contextualizable` interface from Plexus Container, which is EOL.\r\n    [WARNING]\r\n    [WARNING]\r\n    [WARNING] Fix reported issues by adjusting plugin configuration or by upgrading above listed plugins. If no upgrade available, please notify plugin maintainers about reported issues.\r\n    [WARNING] For more or less details, use &#39;maven.plugin.validation&#39; property with one of the values (case insensitive): [BRIEF, DEFAULT, VERBOSE]\r\n    [WARNING]\r\n\r\n\r\n  [1]: https://github.com/jjazzboss/JJazzLabTemp","title":"Unable to process file error with maven-dependency-analyzer","body":"<p><code>mvn dependency:analyze</code> on my project is unable to process files (see log below). I can't understand why, the compilation seems OK since I can run the application fine.</p>\n<p>The parent pom.xml configures <code>maven.compiler.plugin.version=3.10.0</code> with <code>release=17</code>, and <code>-Xlint:all</code> as compiler arguments.</p>\n<p>Repo is available <a href=\"https://github.com/jjazzboss/JJazzLabTemp\" rel=\"nofollow noreferrer\">here</a>. The log was used on project <code>modules/Phrase</code>, but all the modules have the same problem. Win10, cygwin, JDK17, and I'm a beginner in Maven...</p>\n<pre><code>$ mvn dependency:analyze -Dmaven.plugin.validation=VERBOSE\n[INFO] Scanning for projects...\n[INFO]\n[INFO] -------------------&lt; org.jjazzlab:org-jjazz-phrase &gt;--------------------\n[INFO] Building Phrase 1.0-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ nbm ]---------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; dependency:2.8:analyze (default-cli) &gt; test-compile @ org-jjazz-phrase &gt;&gt;&gt;\n[INFO]\n[INFO] --- resources:3.3.1:resources (default-resources) @ org-jjazz-phrase ---\n[INFO] Copying 1 resource from src\\main\\resources to target\\classes\n[INFO]\n[INFO] --- compiler:3.10.0:compile (default-compile) @ org-jjazz-phrase ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- nbm:4.8:manifest (default-manifest) @ org-jjazz-phrase ---\n[INFO] NBM Plugin generates manifest\n[INFO]\n[INFO] --- resources:3.3.1:testResources (default-testResources) @ org-jjazz-phrase ---\n[INFO] skip non existing resourceDirectory D:\\JeromeDocs\\NetBeansProjects\\JJazzLab\\modules\\Phrase\\src\\test\\resources\n[INFO]\n[INFO] --- compiler:3.10.0:testCompile (default-testCompile) @ org-jjazz-phrase ---\n[INFO] No sources to compile\n[INFO]\n[INFO] &lt;&lt;&lt; dependency:2.8:analyze (default-cli) &lt; test-compile @ org-jjazz-phrase &lt;&lt;&lt;\n[INFO]\n[INFO]\n[INFO] --- dependency:2.8:analyze (default-cli) @ org-jjazz-phrase ---\nUnable to process: org.jjazz.phrase.api.CyclicPositions\nUnable to process: org.jjazz.phrase.api.Grid\nUnable to process: org.jjazz.phrase.api.NoteEvent$AsNoteKey\nUnable to process: org.jjazz.phrase.api.NoteEvent\nUnable to process: org.jjazz.phrase.api.Phrase$6\nUnable to process: org.jjazz.phrase.api.Phrase\nUnable to process: org.jjazz.phrase.api.Phrases\nUnable to process: org.jjazz.phrase.api.PhraseSamples\nUnable to process: org.jjazz.phrase.api.SizedPhrase\nUnable to process: org.jjazz.phrase.api.SourcePhrase\nUnable to process: org.jjazz.phrase.api.SourcePhraseSet\n[WARNING] Used undeclared dependencies found:\n[WARNING]    com.google.guava:guava:jar:23.6-jre:compile\n[WARNING] Unused declared dependencies found:\n[WARNING]    org.jjazzlab:org-jjazz-guava:jar:1.0-SNAPSHOT:compile\n[WARNING]    org.jjazzlab:org-jjazz-chordleadsheet:jar:1.0-SNAPSHOT:compile\n[WARNING]    org.jjazzlab:org-jjazz-midi:jar:1.0-SNAPSHOT:compile\n[WARNING]    org.netbeans.api:org-openide-dialogs:jar:RELEASE170:compile\n[WARNING]    org.netbeans.api:org-openide-util:jar:RELEASE170:compile\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.754 s\n[INFO] Finished at: 2023-05-21T16:24:36+02:00\n[INFO] ------------------------------------------------------------------------\n[WARNING]\n[WARNING] Plugin validation issues were detected in 4 plugin(s)\n[WARNING]\n[WARNING]  * org.apache.maven.plugins:maven-site-plugin:3.12.1\n[WARNING]   Plugin issue(s):\n[WARNING]    * Plugin depends on the deprecated Maven 2.x compatibility layer, which may not be supported in Maven 4.x\n[WARNING]\n[WARNING]  * org.apache.maven.plugins:maven-compiler-plugin:3.10.0\n[WARNING]   Declared at location(s):\n[WARNING]    * org.jjazzlab:jjazzlab-parent:1.0-SNAPSHOT (C:\\Users\\Jerome\\.m2\\repository\\org\\jjazzlab\\jjazzlab-parent\\1.0-SNAPSHOT\\jjazzlab-parent-1.0-SNAPSHOT.pom) @ line 35\n[WARNING]   Used in module(s):\n[WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\n[WARNING]   Plugin issue(s):\n[WARNING]    * Plugin should declare these Maven artifacts in `provided` scope: [org.apache.maven:maven-plugin-api:3.2.5, org.apache.maven:maven-model:3.2.5, org.apache.maven:maven-core:3.2.5, org.apache.maven:\nmaven-settings:3.2.5, org.apache.maven:maven-model-builder:3.2.5, org.apache.maven:maven-repository-metadata:3.2.5, org.apache.maven:maven-aether-provider:3.2.5, org.apache.maven:maven-settings-builder:3.2.5, o\nrg.apache.maven:maven-artifact:3.2.5]\n[WARNING]\n[WARNING]  * org.apache.netbeans.utilities:nbm-maven-plugin:4.8\n[WARNING]   Declared at location(s):\n[WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml) @ line 16\n[WARNING]   Used in module(s):\n[WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\n[WARNING]   Plugin issue(s):\n[WARNING]    * Plugin depends on the deprecated Maven 2.x compatibility layer, which may not be supported in Maven 4.x\n[WARNING]    * Plugin depends on plexus-container-default, which is EOL\n[WARNING]   Mojo issue(s):\n[WARNING]    * Mojo nbm:manifest (org.apache.netbeans.nbm.NetBeansManifestUpdateMojo)\n[WARNING]      - Parameter 'localRepository' uses deprecated parameter expression '${localRepository}': ArtifactRepository type is deprecated and its use in Mojos should be avoided.\n[WARNING]\n[WARNING]  * org.apache.maven.plugins:maven-dependency-plugin:2.8\n[WARNING]   Declared at location(s):\n[WARNING]    * unknown\n[WARNING]   Used in module(s):\n[WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\n[WARNING]   Plugin issue(s):\n[WARNING]    * Plugin is a Maven 2.x plugin, which will be not supported in Maven 4.x\n[WARNING]    * Plugin depends on plexus-container-default, which is EOL\n[WARNING]   Mojo issue(s):\n[WARNING]    * Mojo dependency:analyze (org.apache.maven.plugin.dependency.analyze.AnalyzeMojo)\n[WARNING]      - Implements `Contextualizable` interface from Plexus Container, which is EOL.\n[WARNING]\n[WARNING]\n[WARNING] Fix reported issues by adjusting plugin configuration or by upgrading above listed plugins. If no upgrade available, please notify plugin maintainers about reported issues.\n[WARNING] For more or less details, use 'maven.plugin.validation' property with one of the values (case insensitive): [BRIEF, DEFAULT, VERBOSE]\n[WARNING]\n</code></pre>\n"},{"tags":["java","guidewire"],"comments":[{"owner":{"account_id":1272645,"reputation":130,"user_id":1228592,"display_name":"grambo25"},"score":0,"creation_date":1701284777,"post_id":77557763,"comment_id":136757962,"body_markdown":"Can you say more about what you want to do with the class?  Maybe there is something else you could do besides a private constructor.","body":"Can you say more about what you want to do with the class?  Maybe there is something else you could do besides a private constructor."},{"owner":{"account_id":19127266,"reputation":1,"user_id":13969981,"display_name":"Maxim Kozlyuk"},"score":0,"creation_date":1701411808,"post_id":77557763,"comment_id":136774767,"body_markdown":"@grambo25 Its actually good question, i whant to get mock S3 impl and reals S3 impl and write test to compare each other, to ensure they work identically.  Seems like i can manualy instantinate them using Configuration (app properties), instead of using static fabric (which all production code uses to obtain s3 impl depending on app env). But the question is still unanswered - is there a way to do so via reflection?","body":"@grambo25 Its actually good question, i whant to get mock S3 impl and reals S3 impl and write test to compare each other, to ensure they work identically.  Seems like i can manualy instantinate them using Configuration (app properties), instead of using static fabric (which all production code uses to obtain s3 impl depending on app env). But the question is still unanswered - is there a way to do so via reflection?"}],"answers":[{"tags":[],"owner":{"account_id":19127266,"reputation":1,"user_id":13969981,"display_name":"Maxim Kozlyuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701103904,"creation_date":1701103904,"answer_id":77558620,"question_id":77557763,"body_markdown":"There is another way how to create instance:\r\n\r\n    var typeInfo = InternalBucketS3Service.TypeInfo\r\n    var ctor = typeInfo.Constructors.first().Constructor\r\n    return ctor.newInstance({_testClaim}) as S3Service\r\n\r\nBut seems like it works only for `private` constructors. In this case i cant use it, need `internal`.\r\n\r\nAm just gonna make constructor `public` and add `@Deprecated` to it to mark &quot;for tests only&quot;.\r\nPlease comment if it is actually possible to create `internal` object in Gosu via reflection.","title":"Create instance of class with internal / private constructor in GOSU language","body":"<p>There is another way how to create instance:</p>\n<pre><code>var typeInfo = InternalBucketS3Service.TypeInfo\nvar ctor = typeInfo.Constructors.first().Constructor\nreturn ctor.newInstance({_testClaim}) as S3Service\n</code></pre>\n<p>But seems like it works only for <code>private</code> constructors. In this case i cant use it, need <code>internal</code>.</p>\n<p>Am just gonna make constructor <code>public</code> and add <code>@Deprecated</code> to it to mark &quot;for tests only&quot;.\nPlease comment if it is actually possible to create <code>internal</code> object in Gosu via reflection.</p>\n"}],"owner":{"account_id":19127266,"reputation":1,"user_id":13969981,"display_name":"Maxim Kozlyuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701410887,"creation_date":1701096297,"question_id":77557763,"body_markdown":"I whant to create an instance of class with only one `internal` constructor for unit-tests purpose. Am running Guidewire version 10.\r\nGetting error on string with `.newInstance` call: \r\n```\r\n    var s3ServiceCtor = InternalBucketS3Service.getClass().getDeclaredConstructors().first()\r\n    s3ServiceCtor.setAccessible(true)\r\n    var newInstanceResult = s3ServiceCtor.newInstance({_testClaim}.toArray())\r\n    return newInstanceResult as S3Service\r\n```\r\n\r\nHere is a class i whant to create:\r\n```\r\nclass InternalBucketS3Service extends AbstractS3Service {\r\n\r\n  private var _claim : Claim\r\n\r\n  internal construct(claim : Claim) {\r\n    super(Configuration.S3InternalBucket)\r\n    _claim = claim\r\n  }\r\n  // no more constructors, only methods ...\r\n```\r\n\r\nAnd am getting this error:\r\n```\r\njunit.framework.AssertionFailedError: Exception in constructor: testGeneralS3ServicesCompare (java.lang.IllegalArgumentException\r\n\tat jdk.internal.reflect.GeneratedConstructorAccessor141.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat ru.tinkoff.util.s3.S3TestServiceImplComparisonTest.getRealS3(S3TestServiceImplComparisonTest.gs:59)\r\n\tat ru.tinkoff.util.s3.S3TestServiceImplComparisonTest.&lt;init&gt;(S3TestServiceImplComparisonTest.gs:25)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n```\r\n\r\nHow to fix it?","title":"Create instance of class with internal / private constructor in GOSU language","body":"<p>I whant to create an instance of class with only one <code>internal</code> constructor for unit-tests purpose. Am running Guidewire version 10.\nGetting error on string with <code>.newInstance</code> call:</p>\n<pre><code>    var s3ServiceCtor = InternalBucketS3Service.getClass().getDeclaredConstructors().first()\n    s3ServiceCtor.setAccessible(true)\n    var newInstanceResult = s3ServiceCtor.newInstance({_testClaim}.toArray())\n    return newInstanceResult as S3Service\n</code></pre>\n<p>Here is a class i whant to create:</p>\n<pre><code>class InternalBucketS3Service extends AbstractS3Service {\n\n  private var _claim : Claim\n\n  internal construct(claim : Claim) {\n    super(Configuration.S3InternalBucket)\n    _claim = claim\n  }\n  // no more constructors, only methods ...\n</code></pre>\n<p>And am getting this error:</p>\n<pre><code>junit.framework.AssertionFailedError: Exception in constructor: testGeneralS3ServicesCompare (java.lang.IllegalArgumentException\n    at jdk.internal.reflect.GeneratedConstructorAccessor141.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at ru.tinkoff.util.s3.S3TestServiceImplComparisonTest.getRealS3(S3TestServiceImplComparisonTest.gs:59)\n    at ru.tinkoff.util.s3.S3TestServiceImplComparisonTest.&lt;init&gt;(S3TestServiceImplComparisonTest.gs:25)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n</code></pre>\n<p>How to fix it?</p>\n"},{"tags":["java","eclipse","maven","selenium"],"answers":[{"comments":[{"owner":{"account_id":10064278,"reputation":59,"user_id":7439898,"accept_rate":0,"display_name":"EnislavMollov"},"score":0,"creation_date":1507188088,"post_id":46579569,"comment_id":80112792,"body_markdown":"I try it, but got the same error: FAILED CONFIGURATION: @BeforeTest beforeTest\njava.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.chrome.driver system property;","body":"I try it, but got the same error: FAILED CONFIGURATION: @BeforeTest beforeTest java.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.chrome.driver system property;"},{"owner":{"account_id":11064868,"reputation":1269,"user_id":8124980,"display_name":"Ankur Singh"},"score":0,"creation_date":1507194668,"post_id":46579569,"comment_id":80116439,"body_markdown":"String exePath = &quot;/Users/********/Downloads/chromedriver&quot; Ur path should be till chromedriver.exe.. refer syntx                                                                           \n      String exePath = &quot;/Users/********/Downloads/chromedriver/chromedriver.exe&quot;;","body":"String exePath = &quot;/Users/********/Downloads/chromedriver&quot; Ur path should be till chromedriver.exe.. refer syntx                                                                                  String exePath = &quot;/Users/********/Downloads/chromedriver/chromedriver.exe&quot;;"},{"owner":{"account_id":10064278,"reputation":59,"user_id":7439898,"accept_rate":0,"display_name":"EnislavMollov"},"score":0,"creation_date":1507210894,"post_id":46579569,"comment_id":80127363,"body_markdown":"chromedriver is not *.exe file. It says &#39;Unix executable&#39;","body":"chromedriver is not *.exe file. It says &#39;Unix executable&#39;"},{"owner":{"account_id":3411393,"reputation":306,"user_id":2861219,"accept_rate":100,"display_name":"Harish"},"score":0,"creation_date":1507354689,"post_id":46579569,"comment_id":80185578,"body_markdown":"I assume, you are using Mac OS. You don&#39;t have to specify the extension for your Chromedriver executable. Modify your exePath as exePath = &quot;/Users/********/Downloads/chromedriver&quot; in beforeTest method.","body":"I assume, you are using Mac OS. You don&#39;t have to specify the extension for your Chromedriver executable. Modify your exePath as exePath = &quot;/Users/********/Downloads/chromedriver&quot; in beforeTest method."}],"tags":[],"owner":{"account_id":11064868,"reputation":1269,"user_id":8124980,"display_name":"Ankur Singh"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507195065,"creation_date":1507186423,"answer_id":46579569,"question_id":46579476,"body_markdown":"You need to set property in @beforeTest method bec. it will run before @Test.\r\n\r\nIn your case you are trying to create driver instance before setting it property.  \r\n\r\nTry below code :- \r\n\r\n      @BeforeTest\r\n        public void beforeTest() {  \r\n           String exePath = &quot;/Users/********/Downloads/chromedriver/chromedriver.exe&quot;;\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, exePath);\r\n            driver = new ChromeDriver();  \r\n        } \r\n\r\n--------------------\r\n\r\n\r\n    package test.java;\r\n    \r\n    import org.testng.annotations.AfterTest;\r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import junit.framework.Assert;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    \r\n    public class NewTest {\r\n    \r\n    private WebDriver driver;\r\n    \r\n    @Test   \r\n    \r\n    public void f() {\r\n    \r\n        driver.get(&quot;https://www.apple.com/&quot;);  \r\n        String title = driver.getTitle();                \r\n        Assert.assertTrue(title.contains(&quot;Apple&quot;));         \r\n    }\r\n    \r\n    @BeforeTest\r\n    public void beforeTest() {  \r\n    String exePath = &quot;/Users/********/Downloads/chromedriver/chromedriver.exe&quot;;\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, exePath);\r\n    \r\n        driver = new ChromeDriver();  \r\n    }       \r\n    @AfterTest\r\n    public void afterTest() {\r\n        driver.quit();          \r\n    }       \r\n    \r\n    }\r\n","title":"FAILED CONFIGURATION: @BeforeTest beforeTest . MAVEN; TestNG, Selenium","body":"<p>You need to set property in @beforeTest method bec. it will run before @Test.</p>\n\n<p>In your case you are trying to create driver instance before setting it property.  </p>\n\n<p>Try below code :- </p>\n\n<pre><code>  @BeforeTest\n    public void beforeTest() {  \n       String exePath = \"/Users/********/Downloads/chromedriver/chromedriver.exe\";\n        System.setProperty(\"webdriver.chrome.driver\", exePath);\n        driver = new ChromeDriver();  \n    } \n</code></pre>\n\n<hr>\n\n<pre><code>package test.java;\n\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\nimport junit.framework.Assert;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\n\npublic class NewTest {\n\nprivate WebDriver driver;\n\n@Test   \n\npublic void f() {\n\n    driver.get(\"https://www.apple.com/\");  \n    String title = driver.getTitle();                \n    Assert.assertTrue(title.contains(\"Apple\"));         \n}\n\n@BeforeTest\npublic void beforeTest() {  \nString exePath = \"/Users/********/Downloads/chromedriver/chromedriver.exe\";\n    System.setProperty(\"webdriver.chrome.driver\", exePath);\n\n    driver = new ChromeDriver();  \n}       \n@AfterTest\npublic void afterTest() {\n    driver.quit();          \n}       \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14036550,"reputation":1,"user_id":10139092,"display_name":"Sindhuja Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635108345,"creation_date":1635105707,"answer_id":69700312,"question_id":46579476,"body_markdown":"Worked for me when i removed `.exe` extension from the path. For example:\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/***/***/chromedriver&quot;);\r\n```","title":"FAILED CONFIGURATION: @BeforeTest beforeTest . MAVEN; TestNG, Selenium","body":"<p>Worked for me when i removed <code>.exe</code> extension from the path. For example:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/***/***/chromedriver&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":179900,"reputation":636,"user_id":412867,"accept_rate":100,"display_name":"Vukasin Toroman"},"score":0,"creation_date":1678287828,"post_id":75626476,"comment_id":133503758,"body_markdown":"Please don&#39;t link external resources and describe the solution instead","body":"Please don&#39;t link external resources and describe the solution instead"},{"owner":{"account_id":25046376,"reputation":1,"user_id":18902753,"display_name":"naresh"},"score":0,"creation_date":1678374239,"post_id":75626476,"comment_id":133523328,"body_markdown":"I found this sts file after a long search (here https://spring.io/blog/category/releases).  I thought it&#39;d be helpful for newbies.","body":"I found this sts file after a long search (here <a href=\"https://spring.io/blog/category/releases\" rel=\"nofollow noreferrer\">spring.io/blog/category/releases</a>).  I thought it&#39;d be helpful for newbies."}],"tags":[],"owner":{"account_id":25046376,"reputation":1,"user_id":18902753,"display_name":"naresh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677842694,"creation_date":1677842694,"answer_id":75626476,"question_id":46579476,"body_markdown":"I got the error `failed CONFIGURATION: @BeforeTest java.lang.NoSuchMethodError:openqa selenium`. After switched my project to STS, it worked fine(problem with my eclipse, I think). Download STS here https://download.springsource.com/release/STS4/4.17.0.RELEASE/dist/e4.26/spring-tool-suite-4-4.17.0.RELEASE-e4.26.0-win32.win32.x86_64.zip","title":"FAILED CONFIGURATION: @BeforeTest beforeTest . MAVEN; TestNG, Selenium","body":"<p>I got the error <code>failed CONFIGURATION: @BeforeTest java.lang.NoSuchMethodError:openqa selenium</code>. After switched my project to STS, it worked fine(problem with my eclipse, I think). Download STS here <a href=\"https://download.springsource.com/release/STS4/4.17.0.RELEASE/dist/e4.26/spring-tool-suite-4-4.17.0.RELEASE-e4.26.0-win32.win32.x86_64.zip\" rel=\"nofollow noreferrer\">https://download.springsource.com/release/STS4/4.17.0.RELEASE/dist/e4.26/spring-tool-suite-4-4.17.0.RELEASE-e4.26.0-win32.win32.x86_64.zip</a></p>\n"}],"owner":{"account_id":10064278,"reputation":59,"user_id":7439898,"accept_rate":0,"display_name":"EnislavMollov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701410490,"creation_date":1507186145,"question_id":46579476,"body_markdown":"Hi I&#39;m trying to run Selenium script with Maven, TestNG in Eclipse. \r\nFirst I right click on my project and select TestNG | Convert to TestNG(testing.xml is created). Then I go to the Run Configurations and create a new launch TestNGl and click Run. When run it I got this error:\r\n\r\n[RemoteTestNG] detected TestNG version 6.11.0\r\nFAILED CONFIGURATION: @BeforeTest beforeTest\r\njava.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:754)\r\n\tat org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:124)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:32)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137)\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:329)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n\tat test.java.NewTest.beforeTest(NewTest.java:27)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)\r\n\tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:523)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:224)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:146)\r\n\tat org.testng.TestRunner.beforeRun(TestRunner.java:626)\r\n\tat org.testng.TestRunner.run(TestRunner.java:594)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:289)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1144)\r\n\tat org.testng.TestNG.run(TestNG.java:1115)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\nSKIPPED CONFIGURATION: @AfterTest afterTest\r\nSKIPPED: f\r\njava.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:754)\r\n\tat org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:124)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:32)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137)\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:329)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n\tat test.java.NewTest.beforeTest(NewTest.java:27)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)\r\n\tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:523)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:224)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:146)\r\n\tat org.testng.TestRunner.beforeRun(TestRunner.java:626)\r\n\tat org.testng.TestRunner.run(TestRunner.java:594)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:289)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1144)\r\n\tat org.testng.TestNG.run(TestNG.java:1115)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\n\r\n===============================================\r\n    Default test\r\n    Tests run: 1, Failures: 0, Skips: 1\r\n    Configuration Failures: 1, Skips: 1\r\n===============================================\r\n\r\n\r\n===============================================\r\nDefault suite\r\nTotal tests run: 1, Failures: 0, Skips: 1\r\nConfiguration Failures: 1, Skips: 1\r\n===============================================\r\n\r\n\r\n\r\nI have the following code:\r\n\r\n    package test.java;\r\n\r\n    import org.testng.annotations.AfterTest;\r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.Test;\r\n\r\n    import junit.framework.Assert;\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n\r\n    public class NewTest {\r\n\t\r\n\tprivate WebDriver driver;\r\n\r\n\t@Test\t\r\n\r\n    public void f() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tString exePath = &quot;/Users/********/Downloads/chromedriver&quot;;\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, exePath);\r\n\t\t\r\n\t\t//WebDriver driver = new ChromeDriver();\r\n\t\t\r\n\t\tdriver.get(&quot;https://www.apple.com/&quot;);  \r\n\t\tString title = driver.getTitle();\t\t\t\t \r\n\t\tAssert.assertTrue(title.contains(&quot;Apple&quot;)); \t\t\r\n    }\r\n\r\n\t@BeforeTest\r\n\tpublic void beforeTest() {\t\r\n\t    driver = new ChromeDriver();  \r\n\t}\t\t\r\n\t@AfterTest\r\n\tpublic void afterTest() {\r\n\t\tdriver.quit();\t\t\t\r\n\t}\t\t\r\n\r\n    }\r\n\r\nAnd following pom.xml:\r\n\r\n    project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;TestMaven&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TestMaven&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;build&gt;\r\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;3.6.0&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;6.11&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;3.17&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;2.20.1&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"FAILED CONFIGURATION: @BeforeTest beforeTest . MAVEN; TestNG, Selenium","body":"<p>Hi I'm trying to run Selenium script with Maven, TestNG in Eclipse. \nFirst I right click on my project and select TestNG | Convert to TestNG(testing.xml is created). Then I go to the Run Configurations and create a new launch TestNGl and click Run. When run it I got this error:</p>\n\n<p>[RemoteTestNG] detected TestNG version 6.11.0\nFAILED CONFIGURATION: @BeforeTest beforeTest\njava.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see <a href=\"https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver</a>. The latest version can be downloaded from <a href=\"http://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html</a>\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:754)\n    at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:124)\n    at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:32)\n    at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137)\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:329)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:123)\n    at test.java.NewTest.beforeTest(NewTest.java:27)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:523)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:224)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:146)\n    at org.testng.TestRunner.beforeRun(TestRunner.java:626)\n    at org.testng.TestRunner.run(TestRunner.java:594)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:289)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\n    at org.testng.TestNG.runSuites(TestNG.java:1144)\n    at org.testng.TestNG.run(TestNG.java:1115)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)</p>\n\n<p>SKIPPED CONFIGURATION: @AfterTest afterTest\nSKIPPED: f\njava.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see <a href=\"https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver</a>. The latest version can be downloaded from <a href=\"http://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html</a>\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:754)\n    at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:124)\n    at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:32)\n    at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137)\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:329)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:123)\n    at test.java.NewTest.beforeTest(NewTest.java:27)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:523)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:224)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:146)\n    at org.testng.TestRunner.beforeRun(TestRunner.java:626)\n    at org.testng.TestRunner.run(TestRunner.java:594)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:289)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\n    at org.testng.TestNG.runSuites(TestNG.java:1144)\n    at org.testng.TestNG.run(TestNG.java:1115)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)</p>\n\n<p>===============================================\n    Default test\n    Tests run: 1, Failures: 0, Skips: 1</p>\n\n<h1>    Configuration Failures: 1, Skips: 1</h1>\n\n<p>===============================================\nDefault suite\nTotal tests run: 1, Failures: 0, Skips: 1</p>\n\n<h1>Configuration Failures: 1, Skips: 1</h1>\n\n<p>I have the following code:</p>\n\n<pre><code>package test.java;\n\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\nimport junit.framework.Assert;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\n\npublic class NewTest {\n\nprivate WebDriver driver;\n\n@Test   \n\npublic void f() {\n    // TODO Auto-generated method stub\n    String exePath = \"/Users/********/Downloads/chromedriver\";\n    System.setProperty(\"webdriver.chrome.driver\", exePath);\n\n    //WebDriver driver = new ChromeDriver();\n\n    driver.get(\"https://www.apple.com/\");  \n    String title = driver.getTitle();                \n    Assert.assertTrue(title.contains(\"Apple\"));         \n}\n\n@BeforeTest\npublic void beforeTest() {  \n    driver = new ChromeDriver();  \n}       \n@AfterTest\npublic void afterTest() {\n    driver.quit();          \n}       \n\n}\n</code></pre>\n\n<p>And following pom.xml:</p>\n\n<pre><code>project xmlns=\"http://maven.apache.org/POM/4.0.0\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 \nhttp://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;TestMaven&lt;/groupId&gt;\n&lt;artifactId&gt;TestMaven&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;build&gt;\n&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.5.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;1.8&lt;/source&gt;\n      &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n&lt;dependencies&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;3.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;6.11&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;3.17&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.20.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","hibernate","javafx","h2"],"answers":[{"tags":[],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701410095,"creation_date":1701410095,"answer_id":77583246,"question_id":77577095,"body_markdown":"So the problem was with 2 things:\r\n\r\n 1. It should `import jakarta.persistence.Entity` not `import javax.persistence.Entity;`\r\n2. Turns out you can&#39;t connect to H2 file normally trough IntelliJ idea. So I have to download h2 gui, launch it and only after that I was able to see the content of the database. Also I needed to run h2 with `AUTO_SERVER=TRUE`.","title":"Hibernate and H2 n JavaFX app, not creating tables","body":"<p>So the problem was with 2 things:</p>\n<ol>\n<li>It should <code>import jakarta.persistence.Entity</code> not <code>import javax.persistence.Entity;</code></li>\n<li>Turns out you can't connect to H2 file normally trough IntelliJ idea. So I have to download h2 gui, launch it and only after that I was able to see the content of the database. Also I needed to run h2 with <code>AUTO_SERVER=TRUE</code>.</li>\n</ol>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77583246,"answer_count":1,"score":1,"last_activity_date":1701410095,"creation_date":1701334720,"question_id":77577095,"body_markdown":"I want to include a database to my JavaFX app. I chose h2 and configured hibernate to use with it. \r\nThe problem is that it doesnt&#39; create tables from entities like it&#39;s supposed to. What I did, I have these dependecies:\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.214&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;6.2.7.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nI have this `hibernate.cfg.xml` configuration file stored in the `resources` folder:\r\n```\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n  &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n&lt;hibernate-configuration&gt;\r\n  &lt;session-factory&gt;\r\n    &lt;property name=&quot;connection.driver_class&quot;&gt;org.h2.Driver&lt;/property&gt;\r\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:h2:file:./database\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;connection.username&quot;&gt;...&lt;/property&gt;\r\n    &lt;property name=&quot;connection.password&quot;&gt;...&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.H2Dialect&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; // setting to create also didn&#39;t help\r\n    &lt;mapping class=&quot;my.package.model.TestEntity&quot;/&gt;\r\n  &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n`TestEntity` is annotated with needed annotations like `@Entity`:\r\n```\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;test_entity&quot;)\r\npublic class TestEntity {\r\n\r\n  @Column(name = &quot;test&quot;)\r\n  @Id\r\n  private String test;\r\n\r\n}\r\n```\r\nBut it&#39;s not working, the database is getting created, but there is no `TestEntity` table. What could be the problem?","title":"Hibernate and H2 n JavaFX app, not creating tables","body":"<p>I want to include a database to my JavaFX app. I chose h2 and configured hibernate to use with it.\nThe problem is that it doesnt' create tables from entities like it's supposed to. What I did, I have these dependecies:</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n      &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;version&gt;2.1.214&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;6.2.7.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have this <code>hibernate.cfg.xml</code> configuration file stored in the <code>resources</code> folder:</p>\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n  &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n    &lt;property name=&quot;connection.driver_class&quot;&gt;org.h2.Driver&lt;/property&gt;\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:h2:file:./database\n    &lt;/property&gt;\n    &lt;property name=&quot;connection.username&quot;&gt;...&lt;/property&gt;\n    &lt;property name=&quot;connection.password&quot;&gt;...&lt;/property&gt;\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.H2Dialect&lt;/property&gt;\n    &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; // setting to create also didn't help\n    &lt;mapping class=&quot;my.package.model.TestEntity&quot;/&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><code>TestEntity</code> is annotated with needed annotations like <code>@Entity</code>:</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;test_entity&quot;)\npublic class TestEntity {\n\n  @Column(name = &quot;test&quot;)\n  @Id\n  private String test;\n\n}\n</code></pre>\n<p>But it's not working, the database is getting created, but there is no <code>TestEntity</code> table. What could be the problem?</p>\n"},{"tags":["java","mysql","eclipse","hibernate"],"comments":[{"owner":{"account_id":10244893,"reputation":1991,"user_id":7560986,"display_name":"Dhiral Kaniya"},"score":0,"creation_date":1524157637,"post_id":49926225,"comment_id":86869089,"body_markdown":"Have you add mysql jar file in your classpath ?","body":"Have you add mysql jar file in your classpath ?"},{"owner":{"account_id":13401619,"reputation":11,"user_id":9670977,"display_name":"park shin "},"score":0,"creation_date":1524217277,"post_id":49926225,"comment_id":86892941,"body_markdown":"yes i added mysql connector ;","body":"yes i added mysql connector ;"}],"answers":[{"comments":[{"owner":{"account_id":13401619,"reputation":11,"user_id":9670977,"display_name":"park shin "},"score":0,"creation_date":1524168737,"post_id":49926449,"comment_id":86874889,"body_markdown":"i use it because Hibernate(ORM) it &#39;s something new for me i had just follow some tutoriels ,i don&#39;t know alot about that . what should i do now to solve this problem  ?","body":"i use it because Hibernate(ORM) it &#39;s something new for me i had just follow some tutoriels ,i don&#39;t know alot about that . what should i do now to solve this problem  ?"},{"owner":{"account_id":208839,"reputation":1399,"user_id":459572,"accept_rate":23,"display_name":"Donz"},"score":0,"creation_date":1524196960,"post_id":49926449,"comment_id":86883113,"body_markdown":"Change dialect to proper. And I think you need something like this tutorial: https://docs.jboss.org/hibernate/orm/3.6/quickstart/en-US/html/hibernate-gsg-tutorial-jpa.html Or, that is better, like this: https://spring.io/guides/gs/accessing-data-jpa/","body":"Change dialect to proper. And I think you need something like this tutorial: <a href=\"https://docs.jboss.org/hibernate/orm/3.6/quickstart/en-US/html/hibernate-gsg-tutorial-jpa.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/3.6/quickstart/en-US/html/&hellip;</a> Or, that is better, like this: <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/accessing-data-jpa</a>"}],"tags":[],"owner":{"account_id":208839,"reputation":1399,"user_id":459572,"accept_rate":23,"display_name":"Donz"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524157094,"creation_date":1524157094,"answer_id":49926449,"question_id":49926225,"body_markdown":"At least you need to use dialect from this package https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html not from net.sf.hibernate.dialect. For example org.hibernate.dialect.MySQL5Dialect\r\nThe package you use was in old hibernate version.\r\n\r\nAnd why do you use xml-style definition? ","title":"How to connect Hibernate with MySQL","body":"<p>At least you need to use dialect from this package <a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html</a> not from net.sf.hibernate.dialect. For example org.hibernate.dialect.MySQL5Dialect\nThe package you use was in old hibernate version.</p>\n\n<p>And why do you use xml-style definition? </p>\n"},{"tags":[],"owner":{"account_id":3769380,"reputation":1,"user_id":3131999,"display_name":"Nikhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701409315,"creation_date":1524160717,"answer_id":49927387,"question_id":49926225,"body_markdown":"The proper hibernate dialect needs to be selected depending on the version of MySQL. I faced similar issue and resolution was very simple of using InnoDB dialect version of MySQL.\r\nYou can refer the proper dialect from package: [org.hibernate.dialect][1]\r\n\r\nReferece : [Link][2]\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html\r\n  [2]: https://stackoverflow.com/questions/1459265/hibernate-create-mysql-innodb-tables-instead-of-myisam","title":"How to connect Hibernate with MySQL","body":"<p>The proper hibernate dialect needs to be selected depending on the version of MySQL. I faced similar issue and resolution was very simple of using InnoDB dialect version of MySQL.\nYou can refer the proper dialect from package: <a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html\" rel=\"nofollow noreferrer\">org.hibernate.dialect</a></p>\n<p>Referece : <a href=\"https://stackoverflow.com/questions/1459265/hibernate-create-mysql-innodb-tables-instead-of-myisam\">Link</a></p>\n"}],"owner":{"account_id":13401619,"reputation":11,"user_id":9670977,"display_name":"park shin "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701409315,"creation_date":1524156303,"question_id":49926225,"body_markdown":"I want to connect Hibernate with MySQL. I tried all methods, but I&#39;m still getting this error. I&#39;m using Hibernate the version.\r\n\r\n    avr. 19, 2018 1:55:21 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {5.2.16.Final}\r\n    avr. 19, 2018 1:55:21 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    avr. 19, 2018 1:55:22 PM org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver resolveEntity\r\n    WARN: HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-mapping. Use namespace http://www.hibernate.org/dtd/hibernate-mapping instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\r\n    avr. 19, 2018 1:55:24 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n    avr. 19, 2018 1:55:24 PM org.hibernate.engine.jdbc.connections.internal.ConnectionProviderInitiator initiateService\r\n    WARN: HHH000181: No appropriate connection provider encountered, assuming application will be supplying connections\r\n    avr. 19, 2018 1:55:24 PM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator initiateService\r\n    WARN: HHH000342: Could not obtain connection to query metadata : The application must supply JDBC connections\r\n    Exception in thread &quot;main&quot; org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:83)\r\n    \tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:418)\r\n    \tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:87)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:691)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)\r\n    \tat TestHibernate1.main(TestHibernate1.java:14)\r\n    Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n    \tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\r\n    \tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259)\r\n\r\n\r\n===========================================================================\r\n\r\n =&gt; this is my hibernate.cfg.xml\r\n\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt; \r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n            &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n      &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;net.sf.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost/bd_per&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;net.sf.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;mapping resource=&quot;Personnes.hbm.xml&quot;/&gt;\r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n=&gt; this is my hibernate-mapping \r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE hibernate-mapping PUBLIC\r\n    &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n    &quot;http://hibernate.sourceforge.net/hibernate-mapping&quot;&gt;&lt;hibernate-mapping&gt;\r\n      &lt;class name=&quot;Personnes&quot; table=&quot;personnes&quot;&gt;\r\n        &lt;id name=&quot;idPersonne&quot; type=&quot;int&quot; column=&quot;idpersonne&quot;&gt;\r\n          &lt;generator class=&quot;native&quot;/&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;nomPersonne&quot; type=&quot;string&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;property name=&quot;prenomPersonne&quot; type=&quot;string&quot; not-null=&quot;true&quot; /&gt;\r\n        \r\n        \r\n      &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\n=&gt; finaly my classe Personnes\r\n \r\n\r\n    public class Personnes {\r\n    \r\n      private Integer idPersonne;\r\n      private String nomPersonne;\r\n      private String prenomPersonne;\r\n      \r\n    \r\n      public Personnes(String nomPersonne, String prenomPersonne) {\r\n        this.nomPersonne = nomPersonne;\r\n        this.prenomPersonne = prenomPersonne;\r\n        \r\n      }\r\n    \r\n      public Personnes() {\r\n      }\r\n    \r\n      \r\n      public Integer getIdPersonne() {\r\n        return idPersonne;\r\n      }\r\n    \r\n      public String getNomPersonne() {\r\n        return nomPersonne;\r\n      }\r\n    \r\n      public String getPrenomPersonne() {\r\n        return prenomPersonne;\r\n      }\r\n    \r\n     \r\n    \r\n      public void setIdPersonne(Integer integer) {\r\n        idPersonne = integer;\r\n      }\r\n    \r\n     And,thanks for responding as quickly as possible.\r\n    \r\n      public void setPrenomPersonne(String string) {\r\n        prenomPersonne = string;\r\n      }\r\n    \r\n    public void setNomPersonne(String string) {\r\n    \t// TODO Auto-generated method stub\r\n    \t\r\n    }\r\n    \r\n    }\r\n\r\n","title":"How to connect Hibernate with MySQL","body":"<p>I want to connect Hibernate with MySQL. I tried all methods, but I'm still getting this error. I'm using Hibernate the version.</p>\n\n<pre><code>avr. 19, 2018 1:55:21 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.2.16.Final}\navr. 19, 2018 1:55:21 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\navr. 19, 2018 1:55:22 PM org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver resolveEntity\nWARN: HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-mapping. Use namespace http://www.hibernate.org/dtd/hibernate-mapping instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\navr. 19, 2018 1:55:24 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\navr. 19, 2018 1:55:24 PM org.hibernate.engine.jdbc.connections.internal.ConnectionProviderInitiator initiateService\nWARN: HHH000181: No appropriate connection provider encountered, assuming application will be supplying connections\navr. 19, 2018 1:55:24 PM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator initiateService\nWARN: HHH000342: Could not obtain connection to query metadata : The application must supply JDBC connections\nException in thread \"main\" org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:83)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:418)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:87)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:691)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)\n    at TestHibernate1.main(TestHibernate1.java:14)\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259)\n</code></pre>\n\n<p>===========================================================================</p>\n\n<p>=> this is my hibernate.cfg.xml</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt; \n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        \"-//Hibernate/Hibernate Configuration DTD//EN\"\n        \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n    &lt;property name=\"hibernate.dialect\"&gt;net.sf.hibernate.dialect.MySQLDialect&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost/bd_per&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.password\"&gt;&lt;/property&gt;\n    &lt;property name=\"dialect\"&gt;net.sf.hibernate.dialect.MySQLDialect&lt;/property&gt;\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n    &lt;mapping resource=\"Personnes.hbm.xml\"/&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>=> this is my hibernate-mapping </p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;&lt;!DOCTYPE hibernate-mapping PUBLIC\n\"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\n\"http://hibernate.sourceforge.net/hibernate-mapping\"&gt;&lt;hibernate-mapping&gt;\n  &lt;class name=\"Personnes\" table=\"personnes\"&gt;\n    &lt;id name=\"idPersonne\" type=\"int\" column=\"idpersonne\"&gt;\n      &lt;generator class=\"native\"/&gt;\n    &lt;/id&gt;\n    &lt;property name=\"nomPersonne\" type=\"string\" not-null=\"true\" /&gt;\n    &lt;property name=\"prenomPersonne\" type=\"string\" not-null=\"true\" /&gt;\n\n\n  &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>=> finaly my classe Personnes</p>\n\n<pre><code>public class Personnes {\n\n  private Integer idPersonne;\n  private String nomPersonne;\n  private String prenomPersonne;\n\n\n  public Personnes(String nomPersonne, String prenomPersonne) {\n    this.nomPersonne = nomPersonne;\n    this.prenomPersonne = prenomPersonne;\n\n  }\n\n  public Personnes() {\n  }\n\n\n  public Integer getIdPersonne() {\n    return idPersonne;\n  }\n\n  public String getNomPersonne() {\n    return nomPersonne;\n  }\n\n  public String getPrenomPersonne() {\n    return prenomPersonne;\n  }\n\n\n\n  public void setIdPersonne(Integer integer) {\n    idPersonne = integer;\n  }\n\n And,thanks for responding as quickly as possible.\n\n  public void setPrenomPersonne(String string) {\n    prenomPersonne = string;\n  }\n\npublic void setNomPersonne(String string) {\n    // TODO Auto-generated method stub\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","security","xsd","jaxb","unmarshalling"],"answers":[{"comments":[{"owner":{"account_id":228687,"reputation":1182,"user_id":491160,"accept_rate":72,"display_name":"Jes&#250;s Zazueta"},"score":0,"creation_date":1701408850,"post_id":77572563,"comment_id":136774542,"body_markdown":"Great! I&#39;ve added more information to the question. I&#39;m basically trying to find out if JAXB, in its default configuration, is open to XML External Entity attacks. Thanks!","body":"Great! I&#39;ve added more information to the question. I&#39;m basically trying to find out if JAXB, in its default configuration, is open to XML External Entity attacks. Thanks!"},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":1,"creation_date":1701417266,"post_id":77572563,"comment_id":136775404,"body_markdown":"From what I know, there&#39;s no default validation of XML Input according to XSD since the schema is null in default configuration and there&#39;s no magic autoconfig behind-the-scene. After, the Java parser can fail or be lax about XML input : it can fail on unknown field received or unknown enum values, or just ignore them / assign null. From what I read about XML External Entity attacks, you can prevent them by removing DTD support and add the schema as validator.","body":"From what I know, there&#39;s no default validation of XML Input according to XSD since the schema is null in default configuration and there&#39;s no magic autoconfig behind-the-scene. After, the Java parser can fail or be lax about XML input : it can fail on unknown field received or unknown enum values, or just ignore them / assign null. From what I read about XML External Entity attacks, you can prevent them by removing DTD support and add the schema as validator."}],"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701272257,"creation_date":1701272257,"answer_id":77572563,"question_id":77570462,"body_markdown":"I don&#39;t truly understand the need to check this but here&#39;s a simple use-case that should give the proof that the XSD file won&#39;t be loaded by the JVM when unmarshalling XML :\r\n\r\n - Create the Java Classes from XSD by any plugin you want, or like here, create it manually. Package it in jar file without the XSD in it (only Java classes)\r\n - Write the unmarshalling code from XML in another Java program, that depends on the first JAR and run it with no XSD whatsoever in your classpath ==&gt; Your code will still work without knowing the XSD Schema\r\n\r\nYou can also look at the Java Code itself :\r\n - `com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl` which implements the `Unmarshaller` interface has default `schema` property to `null` (so setting it to `null` is a no-op in your above code)\r\n - Your code doesn&#39;t reference XSD itself from which you created the Java XML-annotated-POJO : the JVM cannot guess that you write your code based on external schema.\r\n - You could also run your program in debug mode and see that the XSD won&#39;t be loaded (again there&#39;s no reference in your Java Code : you could even have deleted it, it wouldn&#39;t have made a difference).\r\n\r\nStill, I Hope that I&#39;ve answered to your question.","title":"Demonstrate that JAXB unmarshalling will not load an XSD schema","body":"<p>I don't truly understand the need to check this but here's a simple use-case that should give the proof that the XSD file won't be loaded by the JVM when unmarshalling XML :</p>\n<ul>\n<li>Create the Java Classes from XSD by any plugin you want, or like here, create it manually. Package it in jar file without the XSD in it (only Java classes)</li>\n<li>Write the unmarshalling code from XML in another Java program, that depends on the first JAR and run it with no XSD whatsoever in your classpath ==&gt; Your code will still work without knowing the XSD Schema</li>\n</ul>\n<p>You can also look at the Java Code itself :</p>\n<ul>\n<li><code>com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl</code> which implements the <code>Unmarshaller</code> interface has default <code>schema</code> property to <code>null</code> (so setting it to <code>null</code> is a no-op in your above code)</li>\n<li>Your code doesn't reference XSD itself from which you created the Java XML-annotated-POJO : the JVM cannot guess that you write your code based on external schema.</li>\n<li>You could also run your program in debug mode and see that the XSD won't be loaded (again there's no reference in your Java Code : you could even have deleted it, it wouldn't have made a difference).</li>\n</ul>\n<p>Still, I Hope that I've answered to your question.</p>\n"}],"owner":{"account_id":228687,"reputation":1182,"user_id":491160,"accept_rate":72,"display_name":"Jes&#250;s Zazueta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77572563,"answer_count":1,"score":0,"last_activity_date":1701408755,"creation_date":1701254752,"question_id":77570462,"body_markdown":"Related to [this question](https://stackoverflow.com/questions/24760796/how-to-validate-an-xml-against-schema-using-jaxb), given the following schema called `customer.xsd`:\r\n\r\n```xml\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;xs:simpleType name=&quot;stringMaxSize5&quot;&gt;\r\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n            &lt;xs:maxLength value=&quot;5&quot;/&gt;\r\n        &lt;/xs:restriction&gt;\r\n    &lt;/xs:simpleType&gt;\r\n    &lt;xs:element name=&quot;customer&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;name&quot; type=&quot;stringMaxSize5&quot;/&gt;\r\n                &lt;xs:element ref=&quot;phone-number&quot; maxOccurs=&quot;2&quot;/&gt;\r\n             &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n    &lt;xs:element name=&quot;phone-number&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence/&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nThe following XML document called `input.xml`:\r\n\r\n```xml\r\n&lt;customer\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:noNamespaceSchemaLocation=&quot;./customer.xsd&quot;&gt;\r\n    &lt;name&gt;Jane Doe&lt;/name&gt;\r\n    &lt;phone-number/&gt;\r\n    &lt;phone-number/&gt;\r\n    &lt;phone-number/&gt;\r\n&lt;/customer&gt;\r\n```\r\n\r\nAnd the following unmarshalling code:\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.xml.bind.JAXBContext;\r\nimport javax.xml.bind.Unmarshaller;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\n\r\npublic class Unmarshal {\r\n\r\n    @XmlRootElement(name = &quot;customer&quot;)\r\n    public static class Customer {\r\n        public String name;\r\n        @XmlElement(name=&quot;phone-number&quot;)\r\n        public List&lt;PhoneNumber&gt; phoneNumbers = new ArrayList&lt;PhoneNumber&gt;();\r\n    }\r\n\r\n    public static class PhoneNumber {}\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        JAXBContext jc = JAXBContext.newInstance(Customer.class);\r\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n        unmarshaller.setSchema(null);\r\n        Customer customer = (Customer) unmarshaller.unmarshal(new File(&quot;input.xml&quot;));\r\n        System.out.println(customer.name);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe Java code is able to deserialize the XML input document into an instance of `Customer` even when this XML document produces 2 validation errors (indicated by an external editor):\r\n\r\n```\r\ncvc-maxLength-valid: Value &#39;Jane Doe&#39; with length = &#39;8&#39; is not facet-valid with respect to maxLength &#39;5&#39; for type &#39;stringMaxSize5&#39;.xml(cvc-maxLength-valid)\r\ncvc-type.3.1.3: The value &#39;Jane Doe&#39; of element &#39;name&#39; is not valid.xml(cvc-type.3.1.3)\r\n```\r\n\r\nand\r\n\r\n```\r\ncvc-complex-type.2.4.f: &#39;phone-number&#39; can occur a maximum of &#39;2&#39; times in the current sequence. This limit was exceeded. No child element is expected at this point.xml(cvc-complex-type.2.4.f)\r\n```\r\n\r\nThis means that JAXB did not validate the given XML input during unmarshalling, however:\r\n\r\nGiven that `unmarshaller.setSchema(null);` was set to DISABLE schema validation, is there a way to demonstrate that the content of the `customer.xsd` file WAS NOT accessed by the JVM when unmarshalling occurred?\r\n\r\nIn other words, is there a way to not blindly trust that the JVM won&#39;t load XSD references, even when schema validation is explicitly set to `null`?\r\n\r\n## Update 1:\r\n\r\nThe purpose is to find out how likely are XSD schema references inside an XML document likely to become a security attack vector, as described by:\r\n\r\n- https://owasp.org/www-community/vulnerabilities/XML_External_Entity_(XXE)_Processing\r\n-  https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\r\n\r\nThanks.","title":"Demonstrate that JAXB unmarshalling will not load an XSD schema","body":"<p>Related to <a href=\"https://stackoverflow.com/questions/24760796/how-to-validate-an-xml-against-schema-using-jaxb\">this question</a>, given the following schema called <code>customer.xsd</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;xs:simpleType name=&quot;stringMaxSize5&quot;&gt;\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n            &lt;xs:maxLength value=&quot;5&quot;/&gt;\n        &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n    &lt;xs:element name=&quot;customer&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;name&quot; type=&quot;stringMaxSize5&quot;/&gt;\n                &lt;xs:element ref=&quot;phone-number&quot; maxOccurs=&quot;2&quot;/&gt;\n             &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n    &lt;xs:element name=&quot;phone-number&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence/&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>The following XML document called <code>input.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;customer\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:noNamespaceSchemaLocation=&quot;./customer.xsd&quot;&gt;\n    &lt;name&gt;Jane Doe&lt;/name&gt;\n    &lt;phone-number/&gt;\n    &lt;phone-number/&gt;\n    &lt;phone-number/&gt;\n&lt;/customer&gt;\n</code></pre>\n<p>And the following unmarshalling code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.Unmarshaller;\nimport javax.xml.bind.annotation.XmlRootElement;\n\npublic class Unmarshal {\n\n    @XmlRootElement(name = &quot;customer&quot;)\n    public static class Customer {\n        public String name;\n        @XmlElement(name=&quot;phone-number&quot;)\n        public List&lt;PhoneNumber&gt; phoneNumbers = new ArrayList&lt;PhoneNumber&gt;();\n    }\n\n    public static class PhoneNumber {}\n\n    public static void main(String[] args) throws Exception {\n        JAXBContext jc = JAXBContext.newInstance(Customer.class);\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        unmarshaller.setSchema(null);\n        Customer customer = (Customer) unmarshaller.unmarshal(new File(&quot;input.xml&quot;));\n        System.out.println(customer.name);\n    }\n\n}\n</code></pre>\n<p>The Java code is able to deserialize the XML input document into an instance of <code>Customer</code> even when this XML document produces 2 validation errors (indicated by an external editor):</p>\n<pre><code>cvc-maxLength-valid: Value 'Jane Doe' with length = '8' is not facet-valid with respect to maxLength '5' for type 'stringMaxSize5'.xml(cvc-maxLength-valid)\ncvc-type.3.1.3: The value 'Jane Doe' of element 'name' is not valid.xml(cvc-type.3.1.3)\n</code></pre>\n<p>and</p>\n<pre><code>cvc-complex-type.2.4.f: 'phone-number' can occur a maximum of '2' times in the current sequence. This limit was exceeded. No child element is expected at this point.xml(cvc-complex-type.2.4.f)\n</code></pre>\n<p>This means that JAXB did not validate the given XML input during unmarshalling, however:</p>\n<p>Given that <code>unmarshaller.setSchema(null);</code> was set to DISABLE schema validation, is there a way to demonstrate that the content of the <code>customer.xsd</code> file WAS NOT accessed by the JVM when unmarshalling occurred?</p>\n<p>In other words, is there a way to not blindly trust that the JVM won't load XSD references, even when schema validation is explicitly set to <code>null</code>?</p>\n<h2>Update 1:</h2>\n<p>The purpose is to find out how likely are XSD schema references inside an XML document likely to become a security attack vector, as described by:</p>\n<ul>\n<li><a href=\"https://owasp.org/www-community/vulnerabilities/XML_External_Entity_(XXE)_Processing\" rel=\"nofollow noreferrer\">https://owasp.org/www-community/vulnerabilities/XML_External_Entity_(XXE)_Processing</a></li>\n<li><a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html</a></li>\n</ul>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","junit"],"owner":{"account_id":27499070,"reputation":33,"user_id":20983127,"display_name":"Arushi awasthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701407950,"creation_date":1701405953,"question_id":77583063,"body_markdown":"I have test method below \r\n\r\n    @test\r\n    public void test(){\r\n    Map&lt;String,String&gt; map=new HashMap();\r\n    add.add(map);\r\n    assert.equals(2, map.size())\r\n    }\r\n\r\nactual methods are \r\n\r\n    Class Add{\r\n    @Autowired\r\n    Get get;\r\n    \r\n    public void add(Map&lt;String,String&gt; map){\r\n    get.get(map);\r\n    }\r\n    }\r\n\r\n\r\n    Class Get{\r\n    public void get(Map&lt;String,String&gt; map){\r\n    map.put(&quot;xyz&quot;,&quot;xyz&quot;);\r\n    map.put(&quot;123&quot;,&quot;123&quot;);\r\n    }\r\n    }\r\n\r\nnow since get is a public method i want to mock this method and populate map in that mock, how can we do this.\r\n\r\nThanks in advance.\r\n","title":"Map populating while mocking a method in junit","body":"<p>I have test method below</p>\n<pre><code>@test\npublic void test(){\nMap&lt;String,String&gt; map=new HashMap();\nadd.add(map);\nassert.equals(2, map.size())\n}\n</code></pre>\n<p>actual methods are</p>\n<pre><code>Class Add{\n@Autowired\nGet get;\n\npublic void add(Map&lt;String,String&gt; map){\nget.get(map);\n}\n}\n\n\nClass Get{\npublic void get(Map&lt;String,String&gt; map){\nmap.put(&quot;xyz&quot;,&quot;xyz&quot;);\nmap.put(&quot;123&quot;,&quot;123&quot;);\n}\n}\n</code></pre>\n<p>now since get is a public method i want to mock this method and populate map in that mock, how can we do this.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","apache-poi","summary"],"comments":[{"owner":{"account_id":426188,"reputation":1943,"user_id":807255,"accept_rate":83,"display_name":"dngfng"},"score":0,"creation_date":1350051763,"post_id":12861054,"comment_id":17406822,"body_markdown":"Why don&#39;t you post the code, even if its not working it will still help with the answer?","body":"Why don&#39;t you post the code, even if its not working it will still help with the answer?"},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1350051784,"post_id":12861054,"comment_id":17406833,"body_markdown":"So you&#39;re talking about MS Office files, correct?","body":"So you&#39;re talking about MS Office files, correct?"},{"owner":{"account_id":1932253,"reputation":135,"user_id":1741407,"accept_rate":60,"display_name":"backLF"},"score":0,"creation_date":1350052070,"post_id":12861054,"comment_id":17406965,"body_markdown":"Now I post the code. No about MS Office files, I am talking about in general files.","body":"Now I post the code. No about MS Office files, I am talking about in general files."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1350123142,"post_id":12861054,"comment_id":17425470,"body_markdown":"What&#39;s wrong with your code? It looks about correct to me?","body":"What&#39;s wrong with your code? It looks about correct to me?"}],"answers":[{"comments":[{"owner":{"account_id":1932253,"reputation":135,"user_id":1741407,"accept_rate":60,"display_name":"backLF"},"score":0,"creation_date":1350052344,"post_id":12861190,"comment_id":17407085,"body_markdown":"Thanks, I&#39;ll read these. I have also read this http://stackoverflow.com/questions/4096973/reading-windows-file-summary-properties-title-subject-author-in-java , but I didn&#39;t understand.","body":"Thanks, I&#39;ll read these. I have also read this <a href=\"http://stackoverflow.com/questions/4096973/reading-windows-file-summary-properties-title-subject-author-in-java\" title=\"reading windows file summary properties title subject author in java\">stackoverflow.com/questions/4096973/&hellip;</a> , but I didn&#39;t understand."},{"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"score":0,"creation_date":1350052739,"post_id":12861190,"comment_id":17407284,"body_markdown":"Good. If this is helpful, please don&#39;t forget to accept the answer.","body":"Good. If this is helpful, please don&#39;t forget to accept the answer."}],"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1350052851,"creation_date":1350052009,"answer_id":12861190,"question_id":12861054,"body_markdown":"Please find the sample code here- [**Appache POI how to**](http://poi.apache.org/hpsf/how-to.html)\r\n\r\nIn brief, you can a listener `MyPOIFSReaderListener`:\r\n\r\n        SummaryInformation si = (SummaryInformation)\r\n                 PropertySetFactory.create(event.getStream());\r\n        String title = si.getTitle();\r\n        String Author= si.getLastAuthor();\r\n        ......\r\n\r\nand register it as :\r\n\r\n        POIFSReader r = new POIFSReader();\r\n        r.registerListener(new MyPOIFSReaderListener(),\r\n                       &quot;\\005SummaryInformation&quot;);\r\n        r.read(new FileInputStream(filename));","title":"How to get file summary information with Java/Apache POI","body":"<p>Please find the sample code here- <a href=\"http://poi.apache.org/hpsf/how-to.html\" rel=\"nofollow\"><strong>Appache POI how to</strong></a></p>\n\n<p>In brief, you can a listener <code>MyPOIFSReaderListener</code>:</p>\n\n<pre><code>    SummaryInformation si = (SummaryInformation)\n             PropertySetFactory.create(event.getStream());\n    String title = si.getTitle();\n    String Author= si.getLastAuthor();\n    ......\n</code></pre>\n\n<p>and register it as :</p>\n\n<pre><code>    POIFSReader r = new POIFSReader();\n    r.registerListener(new MyPOIFSReaderListener(),\n                   \"\\005SummaryInformation\");\n    r.read(new FileInputStream(filename));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1916194,"reputation":61,"user_id":1728744,"display_name":"Dragos Catalin Triteanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701407923,"creation_date":1365794601,"answer_id":15979313,"question_id":12861054,"body_markdown":"As explained in the POI overview at http://poi.apache.org/overview.html, there are more types of file parsers.\r\nThe following examples extract the Author/Creator from 2003 office files: \r\n\r\n```java\r\npublic static String parseOLE2FileAuthor(File file) {\r\n    String author=null;\r\n    try {\r\n\r\n        FileInputStream stream = new FileInputStream(file);\r\n        POIFSFileSystem poifs = new POIFSFileSystem(stream);\r\n        DirectoryEntry dir = poifs.getRoot();\r\n        DocumentEntry siEntry =      (DocumentEntry)dir.getEntry(SummaryInformation.DEFAULT_STREAM_NAME);\r\n        DocumentInputStream dis = new DocumentInputStream(siEntry);\r\n        PropertySet ps = new PropertySet(dis);\r\n        SummaryInformation si = new SummaryInformation(ps);\r\n\r\n        author=si.getAuthor();\r\n        stream.close();\r\n  \r\n    } catch (IOException ex) {\r\n        ex.getStackTrace();\r\n    } catch (NoPropertySetStreamException ex) {\r\n        ex.getStackTrace();\r\n    } catch (MarkUnsupportedException ex) {\r\n        ex.getStackTrace();\r\n    } catch (UnexpectedPropertySetTypeException ex) {\r\n        ex.getStackTrace();\r\n    }\r\n    return author;\r\n}\r\n```\r\n\r\nFor DOCX, PPTX, and XSLX, the POI has specialized classes.\r\nExample for `.docx` file:\r\n\r\n```java\r\npublic static String parseDOCX(File file){\r\n    String author=null;\r\n    FileInputStream stream;\r\n    try {\r\n        stream = new FileInputStream(file);\r\n        XWPFDocument docx = new XWPFDocument(stream);\r\n        CoreProperties props = docx.getProperties().getCoreProperties();\r\n        author=props.getCreator();\r\n        stream.close();\r\n    } catch (FileNotFoundException ex) {\r\n       ex.printStackTrace();\r\n    } catch (IOException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n     \r\n\r\n    return author;\r\n}\r\n```\r\n\r\nFor PPTX, use `XMLSlideShow` or `XMLWorkbook` instead of `XMLDocument`.\r\n\r\n","title":"How to get file summary information with Java/Apache POI","body":"<p>As explained in the POI overview at <a href=\"http://poi.apache.org/overview.html\" rel=\"nofollow noreferrer\">http://poi.apache.org/overview.html</a>, there are more types of file parsers.\nThe following examples extract the Author/Creator from 2003 office files:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String parseOLE2FileAuthor(File file) {\n    String author=null;\n    try {\n\n        FileInputStream stream = new FileInputStream(file);\n        POIFSFileSystem poifs = new POIFSFileSystem(stream);\n        DirectoryEntry dir = poifs.getRoot();\n        DocumentEntry siEntry =      (DocumentEntry)dir.getEntry(SummaryInformation.DEFAULT_STREAM_NAME);\n        DocumentInputStream dis = new DocumentInputStream(siEntry);\n        PropertySet ps = new PropertySet(dis);\n        SummaryInformation si = new SummaryInformation(ps);\n\n        author=si.getAuthor();\n        stream.close();\n  \n    } catch (IOException ex) {\n        ex.getStackTrace();\n    } catch (NoPropertySetStreamException ex) {\n        ex.getStackTrace();\n    } catch (MarkUnsupportedException ex) {\n        ex.getStackTrace();\n    } catch (UnexpectedPropertySetTypeException ex) {\n        ex.getStackTrace();\n    }\n    return author;\n}\n</code></pre>\n<p>For DOCX, PPTX, and XSLX, the POI has specialized classes.\nExample for <code>.docx</code> file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String parseDOCX(File file){\n    String author=null;\n    FileInputStream stream;\n    try {\n        stream = new FileInputStream(file);\n        XWPFDocument docx = new XWPFDocument(stream);\n        CoreProperties props = docx.getProperties().getCoreProperties();\n        author=props.getCreator();\n        stream.close();\n    } catch (FileNotFoundException ex) {\n       ex.printStackTrace();\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n     \n\n    return author;\n}\n</code></pre>\n<p>For PPTX, use <code>XMLSlideShow</code> or <code>XMLWorkbook</code> instead of <code>XMLDocument</code>.</p>\n"},{"tags":[],"owner":{"account_id":14170352,"reputation":1,"user_id":10237088,"display_name":"lostwind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534471123,"creation_date":1534471123,"answer_id":51887435,"question_id":12861054,"body_markdown":"for 2003 office files, you can use classes inherited from POIDocument. here is an example for doc file:\r\n\r\n    FileInputStream in = new FileInputStream(file);\r\n    HWPFDocument doc = new HWPFDocument(in);\r\n    author = doc.getSummaryInformation().getAuthor();\r\n    \r\nand HSLFSlideShowImpl for ppt,  \r\nHSSFWorkbook for xls,   \r\nHDGFDiagram for vsd.  \r\n\r\nthere are many other file information within the SummaryInformation class.\r\n\r\nfor 2007 or above office file, see the answer of @Dragos Catalin Trieanu","title":"How to get file summary information with Java/Apache POI","body":"<p>for 2003 office files, you can use classes inherited from POIDocument. here is an example for doc file:</p>\n\n<pre><code>FileInputStream in = new FileInputStream(file);\nHWPFDocument doc = new HWPFDocument(in);\nauthor = doc.getSummaryInformation().getAuthor();\n</code></pre>\n\n<p>and HSLFSlideShowImpl for ppt,<br>\nHSSFWorkbook for xls,<br>\nHDGFDiagram for vsd.  </p>\n\n<p>there are many other file information within the SummaryInformation class.</p>\n\n<p>for 2007 or above office file, see the answer of @Dragos Catalin Trieanu</p>\n"}],"owner":{"account_id":1932253,"reputation":135,"user_id":1741407,"accept_rate":60,"display_name":"backLF"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7097,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12861190,"answer_count":3,"score":2,"last_activity_date":1701407923,"creation_date":1350051486,"question_id":12861054,"body_markdown":"i&#39;am trying to get the summary information from file with JAVA and I can&#39;t found anything. I tried with `org.apache.poi.hpsf.*` . \r\n\r\n\r\nI need Author, Subject, Comments, Keywords and Title.\r\n\r\n\r\n           File rep = new File(&quot;C:\\\\Cry_ReportERP006.rpt&quot;);\r\n\r\n    \t\t\r\n            /* Read a test document &lt;em&gt;doc&lt;/em&gt; into a POI filesystem. */\r\n            final POIFSFileSystem poifs = new POIFSFileSystem(new FileInputStream(rep));\r\n            final DirectoryEntry dir = poifs.getRoot();\r\n            DocumentEntry dsiEntry = null;\r\n            try\r\n            {\r\n                dsiEntry = (DocumentEntry) dir.getEntry(DocumentSummaryInformation.DEFAULT_STREAM_NAME);\r\n            }\r\n            catch (FileNotFoundException ex)\r\n            {\r\n                /*\r\n                 * A missing document summary information stream is not an error\r\n                 * and therefore silently ignored here.\r\n                 */\r\n            }\r\n\r\n            /*\r\n             * If there is a document summry information stream, read it from\r\n             * the POI filesystem.\r\n             */\r\n            if (dsiEntry != null)\r\n            {\r\n                final DocumentInputStream dis = new DocumentInputStream(dsiEntry);\r\n                final PropertySet ps = new PropertySet(dis);\r\n                final DocumentSummaryInformation dsi = new DocumentSummaryInformation(ps);\r\n                final SummaryInformation si = new SummaryInformation(ps);\r\n                \r\n                \r\n                /* Execute the get... methods. */\r\n                System.out.println(si.getAuthor());","title":"How to get file summary information with Java/Apache POI","body":"<p>i'am trying to get the summary information from file with JAVA and I can't found anything. I tried with <code>org.apache.poi.hpsf.*</code> . </p>\n\n<p>I need Author, Subject, Comments, Keywords and Title.</p>\n\n<pre><code>       File rep = new File(\"C:\\\\Cry_ReportERP006.rpt\");\n\n\n        /* Read a test document &lt;em&gt;doc&lt;/em&gt; into a POI filesystem. */\n        final POIFSFileSystem poifs = new POIFSFileSystem(new FileInputStream(rep));\n        final DirectoryEntry dir = poifs.getRoot();\n        DocumentEntry dsiEntry = null;\n        try\n        {\n            dsiEntry = (DocumentEntry) dir.getEntry(DocumentSummaryInformation.DEFAULT_STREAM_NAME);\n        }\n        catch (FileNotFoundException ex)\n        {\n            /*\n             * A missing document summary information stream is not an error\n             * and therefore silently ignored here.\n             */\n        }\n\n        /*\n         * If there is a document summry information stream, read it from\n         * the POI filesystem.\n         */\n        if (dsiEntry != null)\n        {\n            final DocumentInputStream dis = new DocumentInputStream(dsiEntry);\n            final PropertySet ps = new PropertySet(dis);\n            final DocumentSummaryInformation dsi = new DocumentSummaryInformation(ps);\n            final SummaryInformation si = new SummaryInformation(ps);\n\n\n            /* Execute the get... methods. */\n            System.out.println(si.getAuthor());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","kotlin"],"comments":[{"owner":{"account_id":26632317,"reputation":61,"user_id":20249327,"display_name":"soonhankwon"},"score":0,"creation_date":1701406955,"post_id":77582874,"comment_id":136774389,"body_markdown":"https://docs.jboss.org/hibernate/orm/6.4/introduction/html_single/Hibernate_Introduction.html\nIt may be helpful to look at 3.11 of the latest Hibernate reference.","body":"<a href=\"https://docs.jboss.org/hibernate/orm/6.4/introduction/html_single/Hibernate_Introduction.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.4/introduction/html_single/&hellip;</a> It may be helpful to look at 3.11 of the latest Hibernate reference."}],"answers":[{"tags":[],"owner":{"account_id":26632317,"reputation":61,"user_id":20249327,"display_name":"soonhankwon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701406148,"creation_date":1701406148,"answer_id":77583068,"question_id":77582874,"body_markdown":"With the upgrade to Spring Boot 3.x, Hibernate&#39;s mapping restrictions are expected to become stricter.\r\n\r\nThe problem lies in mapping the Enum class to Integer.\r\n\r\nBy default, the Enum class is set to TinyInt. I think Hibernate is a strict upgrade to that policy. I&#39;ll have to look for references.\r\n\r\nA temporary solution that comes to mind is to consider changing the Enum class to a utility class and using it like the code below.\r\n\r\n```java\r\n@Entity\r\nclass Test(\r\n    @Id val word: String,\r\n    @Column(name = &quot;status&quot;, columnDefinition = &quot;INTEGER&quot;)\r\n    var status: Int\r\n) {\r\n    fun methodA(): Test {\r\n        val customStatusValue = StatusEnum().enum1\r\n        return Test(&quot;&quot;, customStatusValue)\r\n    }\r\n}\r\n\r\nclass StatusEnum(\r\n    val enum1: Int = 14,\r\n    val enum2: Int = 15\r\n)\r\n```","title":"Hibernate fails Integer schema validation after the update","body":"<p>With the upgrade to Spring Boot 3.x, Hibernate's mapping restrictions are expected to become stricter.</p>\n<p>The problem lies in mapping the Enum class to Integer.</p>\n<p>By default, the Enum class is set to TinyInt. I think Hibernate is a strict upgrade to that policy. I'll have to look for references.</p>\n<p>A temporary solution that comes to mind is to consider changing the Enum class to a utility class and using it like the code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nclass Test(\n    @Id val word: String,\n    @Column(name = &quot;status&quot;, columnDefinition = &quot;INTEGER&quot;)\n    var status: Int\n) {\n    fun methodA(): Test {\n        val customStatusValue = StatusEnum().enum1\n        return Test(&quot;&quot;, customStatusValue)\n    }\n}\n\nclass StatusEnum(\n    val enum1: Int = 14,\n    val enum2: Int = 15\n)\n</code></pre>\n"}],"owner":{"account_id":1536635,"reputation":5711,"user_id":1432503,"accept_rate":43,"display_name":"Zed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701406148,"creation_date":1701401716,"question_id":77582874,"body_markdown":"I used to run spring boot v2.x but now after updating it to 3.1.4 and getting all the new dependencies, it appears there is this annoying thing which is preventing the application to run and fails on boot.\r\n\r\nBasically, I have an entity that maps to a column of type integer in Postgres DB, and back to an enum in SpringBoot/Hibernate. The code used to look very simple, just like this:\r\n\r\n    @Column(name = &quot;status&quot;) \r\n    var status: StatusEnum,\r\n\r\n`status` is of type Integer in DB, and this mapping worked perfectly. Then I updated spring boot version to 3.x, and now during both schema validation fails with this error:\r\n\r\n&gt;nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [status] in table [xxx]; found [int4 (Types#INTEGER)], but expecting [smallint (Types#TINYINT)]&quot;\r\n\r\nI thought, OK, it is expecting smallint but it is an integer there, there must be a way to override this behavior, so I tried telling it with `columnDefinition`:\r\n\r\n    @Column(name = &quot;status&quot;, columnDefinition = &quot;INTEGER&quot;) \r\n    var status: StatusEnum,\r\n\r\nAnd error again:\r\n\r\n &gt;Schema-validation: wrong column type encountered in column [status] in table [xxx]; found [int4 (Types#INTEGER)], but expecting [integer (Types#TINYINT)]&quot;\r\n\r\nI tried setting in `columnDefinition` other values as well, such as `integer`, `int4`, `int2`, doesn&#39;t matter always the same error. \r\n\r\nIs it really possible that this default behavior looking for `TINYINT` cannot be overriden and I&#39;ll have to change my db defintion? \r\n\r\nThe dialect set in my `application.yml` is `org.hibernate.dialect.PostgreSQLDialect` if it is of any value.","title":"Hibernate fails Integer schema validation after the update","body":"<p>I used to run spring boot v2.x but now after updating it to 3.1.4 and getting all the new dependencies, it appears there is this annoying thing which is preventing the application to run and fails on boot.</p>\n<p>Basically, I have an entity that maps to a column of type integer in Postgres DB, and back to an enum in SpringBoot/Hibernate. The code used to look very simple, just like this:</p>\n<pre><code>@Column(name = &quot;status&quot;) \nvar status: StatusEnum,\n</code></pre>\n<p><code>status</code> is of type Integer in DB, and this mapping worked perfectly. Then I updated spring boot version to 3.x, and now during both schema validation fails with this error:</p>\n<blockquote>\n<p>nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [status] in table [xxx]; found [int4 (Types#INTEGER)], but expecting [smallint (Types#TINYINT)]&quot;</p>\n</blockquote>\n<p>I thought, OK, it is expecting smallint but it is an integer there, there must be a way to override this behavior, so I tried telling it with <code>columnDefinition</code>:</p>\n<pre><code>@Column(name = &quot;status&quot;, columnDefinition = &quot;INTEGER&quot;) \nvar status: StatusEnum,\n</code></pre>\n<p>And error again:</p>\n<blockquote>\n<p>Schema-validation: wrong column type encountered in column [status] in table [xxx]; found [int4 (Types#INTEGER)], but expecting [integer (Types#TINYINT)]&quot;</p>\n</blockquote>\n<p>I tried setting in <code>columnDefinition</code> other values as well, such as <code>integer</code>, <code>int4</code>, <code>int2</code>, doesn't matter always the same error.</p>\n<p>Is it really possible that this default behavior looking for <code>TINYINT</code> cannot be overriden and I'll have to change my db defintion?</p>\n<p>The dialect set in my <code>application.yml</code> is <code>org.hibernate.dialect.PostgreSQLDialect</code> if it is of any value.</p>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1681828376,"post_id":76045255,"comment_id":134117617,"body_markdown":"Your code is not self-contained. What are the imports around `toDatasetComptesIndividuels`? What are `rs`, `mr`, `alimenterCompteIndividuels`? Please try to minimize your reproduction. [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). In 3.4.0 pattern matching falls to the default case. What codec (what case) was selected in 3.3.2? The codec for Java bean?","body":"Your code is not self-contained. What are the imports around <code>toDatasetComptesIndividuels</code>? What are <code>rs</code>, <code>mr</code>, <code>alimenterCompteIndividuels</code>? Please try to minimize your reproduction. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>. In 3.4.0 pattern matching falls to the default case. What codec (what case) was selected in 3.3.2? The codec for Java bean?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1681828675,"post_id":76045255,"comment_id":134117707,"body_markdown":"What is the difference with https://stackoverflow.com/questions/76036349/encoders-bean-doesnt-work-anymore-on-a-java-pojo-with-spark-3-4-0 ?","body":"What is the difference with <a href=\"https://stackoverflow.com/questions/76036349/encoders-bean-doesnt-work-anymore-on-a-java-pojo-with-spark-3-4-0\" title=\"encoders bean doesnt work anymore on a java pojo with spark 3 4 0\">stackoverflow.com/questions/76036349/&hellip;</a> ?"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1681828874,"post_id":76045255,"comment_id":134117767,"body_markdown":"@DmytroMitin this one affects the encoding, the other one the decoding. The two links do not describe the same error (not the same message, not the same behavior). A minimal example cannot be created in some contexts like such a complex Spark application, your remarks cannot apply here. Debug session description is provided instead.","body":"@DmytroMitin this one affects the encoding, the other one the decoding. The two links do not describe the same error (not the same message, not the same behavior). A minimal example cannot be created in some contexts like such a complex Spark application, your remarks cannot apply here. Debug session description is provided instead."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1681829464,"post_id":76045255,"comment_id":134117967,"body_markdown":"The screenshot from debugger is not so useful without similar screenshot from 3.3.2 where everything was working. You could focus on differences.","body":"The screenshot from debugger is not so useful without similar screenshot from 3.3.2 where everything was working. You could focus on differences."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":1,"creation_date":1681839922,"post_id":76045255,"comment_id":134120598,"body_markdown":"@DmytroMitin I replied to your question in my question (added a section about it). Spark `3.3.2` and `3.4.0` have a largely different code for `Encoders.bean`, and they are now difficult to compare. Understanding their changes would be difficult.","body":"@DmytroMitin I replied to your question in my question (added a section about it). Spark <code>3.3.2</code> and <code>3.4.0</code> have a largely different code for <code>Encoders.bean</code>, and they are now difficult to compare. Understanding their changes would be difficult."}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701405840,"creation_date":1681824820,"question_id":76045255,"body_markdown":"That&#39;s a strange problem I stumbled into, since I&#39;ve switched to _Spark_ `3.4.0`\r\n\r\nI have a class that isn&#39;t simple to fill, with `Encoders.bean` in _Java_:\r\n\r\nWithout going too deep, the class I have to fill with data, has a base class with generic types in it:\r\n\r\n```java\r\npublic class ComptesIndividuels&lt;MR extends ComptesTotalOuBaseEtParHabitant, RS extends ComptesAvecRatioStructure, RV extends ComptesAvecReductionVotee, TV extends ComptesAvecTauxVote&gt; implements Serializable {\r\n[...]\r\n   /** Ann&#233;e d&#39;exercice */\r\n   private Integer anneeExercice;\r\n   \r\n   /** Nom de la collectivit&#233; */\r\n   private String nom;\r\n\r\n   /** PRODUITS DE FONCTIONNEMENT = A */\r\n   private MR produitsDeFonctionnement;\r\n\r\n   /** Produits de fonctionnement CAF */\r\n   private MR produitsDeFonctionnementCAF;\r\n   \r\n   /** PRODUITS DE FONCTIONNEMENT = A : CAF : Imp&#244;ts Locaux */ \r\n   private RS produitsDeFonctionnementCAFImpotsLocaux;\r\n\r\n   /** PRODUITS DE FONCTIONNEMENT = A : CAF : Autres imp&#244;ts et taxes */\r\n   private RS produitsDeFonctionnementCAFAutresImpotsEtTaxes;\r\n\r\n   /** PRODUITS DE FONCTIONNEMENT = A : CAF : Dotation globale de fonctionnement */\r\n   private RS produitsDeFonctionnementCAFDGF;\r\n   \r\n   /** CHARGES DE FONCTIONNEMENT = B */\r\n   private MR chargesDeFonctionnement;\r\n\r\n   /** Charges de fonctionnement CAF */\r\n   private MR chargesDeFonctionnementCAF;\r\n\r\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Charges de personnel */\r\n   private RS chargesDeFonctionnementCAFChargesDePersonnel;\r\n\r\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Achats et charges externes */\r\n   private RS chargesDeFonctionnementCAFAchatsEtChargesExternes;\r\n\r\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Charges financi&#232;res */\r\n   private RS chargesDeFonctionnementCAFChargesFinancieres;\r\n\r\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Subventions vers&#233;es */\r\n   private RS chargesDeFonctionnementCAFSubventionsVersees;\r\n[...]\r\n```\r\n\r\nThey are needed because departments, cities, local authorities, regions have the overhaul same structure, but with some small variations.\r\n\r\nSo, the concrete class I am willing to fill, for example, is a city individual accounts, `ComptesIndividuelsCommune` extending `ComptesIndividuels`:\r\n\r\n```java\r\n/**\r\n * Comptes individuels d&#39;une commune.\r\n * @author Marc Le Bihan\r\n */\r\npublic class ComptesIndividuelsCommune extends ComptesIndividuels&lt;ComptesAvecMoyenneStrate, ComptesAvecStrateEtRatioStructureEtStrate, ComptesAvecStrateEtReductionVotee, ComptesAvecStrateEtTauxVoteEtStrate&gt; {\r\n[...]\r\n   /** Code de la r&#233;gion */\r\n   private String codeRegion;\r\n   \r\n   /** Code du d&#233;partement */\r\n   private String codeDepartement;\r\n\r\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Contingents */\r\n   private ComptesAvecStrateEtRatioStructureEtStrate chargesDeFonctionnementCAFContingents;\r\n\r\n   /** RESSOURCES D&#39;INVESTISSEMENT : Retour de biens affect&#233;s conc&#233;d&#233;s ... */\r\n   private ComptesAvecStrateEtRatioStructureEtStrate ressourcesInvestissementRetourDeBiensAffectesConcedes;\r\n\r\n   /** EMPLOIS D&#39;INVESTISSEMENT : Charges &#224; r&#233;partir */\r\n   private ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementChargesARepartir;\r\n\r\n   /** EMPLOIS D&#39;INVESTISSEMENT : Immobilisations affect&#233;es, conc&#233;d&#233;es, ... */\r\n   private ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementImmobilisationsAffecteesConcedees;\r\n\r\n   /** AUTOFINANCEMENT : Exc&#233;dent brut de fonctionnement */\r\n   private ComptesAvecStrateEtRatioStructureEtStrate autoFinancementExcedentBrutDeFonctionnement;\r\n[...]\r\n```\r\n\r\nUntil `Spark 3.3.2` I was able to fill it from a row dataset with proper properties, with this function:\r\n\r\n```java\r\n/**\r\n * Convertir un Dataset Row en Dataset de comptes individuels de communes.\r\n * @param dsRow Dataset Row &#224; convertir.\r\n * @return Dataset de comptes de communes.\r\n */\r\n@Override\r\npublic Dataset&lt;ComptesIndividuelsCommune&gt; toDatasetComptesIndividuels(Dataset&lt;Row&gt; dsRow) {\r\n   Objects.requireNonNull(dsRow, &quot;Le dataset de comptes individuels de communes ne peut pas valoir null.&quot;);\r\n      \r\n   return dsRow.map((MapFunction&lt;Row, ComptesIndividuelsCommune&gt;)row -&gt; {\r\n      ComptesAvecStrateEtRatioStructureEtStrate chargesDeFonctionnementCAFContingents = rs(&quot;\\t\\tContingents\\t\\t\\t&quot;, &quot;chargesDeFonctionnementCAFContingents&quot;, true, row); \r\n\r\n      ComptesAvecStrateEtRatioStructureEtStrate ressourcesInvestissementRetourDeBiensAffectesConcedes = rs(&quot;\\tRetour de biens affect&#233;s, conc&#233;d&#233;s, ...\\t&quot;, &quot;ressourcesInvestissementRetourDeBiensAffectesConcedes&quot;, true, row);\r\n         \r\n      ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementChargesARepartir = rs(&quot;\\tCharges &#224; r&#233;partir\\t\\t\\t&quot;, &quot;emploisInvestissementChargesARepartir&quot;, true, row); \r\n      ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementImmobilisationsAffecteesConcedees = rs(&quot;\\tImmobilisations affect&#233;es, conc&#233;d&#233;es, ...&quot;, &quot;emploisInvestissementImmobilisationsAffecteesConcedees&quot;, true, row);\r\n\r\n      ComptesAvecMoyenneStrate operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement = mr(&quot;Besoin ou capacit&#233; de financement r&#233;siduel de la section d&#39;investissement = D - C&quot;, &quot;operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement&quot;, true, row);\r\n      ComptesAvecMoyenneStrate operationsInvestissementSoldeDesOperationsPourCompteDeTiers = mr(&quot;+ Solde des op&#233;rations pour le compte de tiers&quot;, &quot;operationsInvestissementSoldeDesOperationsPourCompteDeTiers&quot;, true, row);\r\n      ComptesAvecMoyenneStrate operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement = mr(&quot;Besoin ou capacit&#233; de financement de la section d&#39;investissement = E&quot;, &quot;operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement&quot;, true, row);\r\n      ComptesAvecMoyenneStrate operationsInvestissementResultatEnsemble = mr(&quot;R&#233;sultat d&#39;ensemble = R - E&quot;, &quot;operationsInvestissementResultatEnsemble&quot;, true, row);\r\n         \r\n      ComptesAvecStrateEtRatioStructureEtStrate autoFinancementExcedentBrutDeFonctionnement = rs(&quot;Exc&#233;dent brut de fonctionnement\\t\\t\\t&quot;, &quot;autoFinancementExcedentBrutDeFonctionnement&quot;, true, row);\r\n         \r\n      ComptesAvecMoyenneStrate endettementFondsDeRoulement = mr(&quot;FONDS DE ROULEMENT&quot;, &quot;endettementFondsDeRoulement&quot;, true, row);\r\n         \r\n      ComptesIndividuels&lt;ComptesAvecMoyenneStrate, ComptesAvecStrateEtRatioStructureEtStrate, ComptesAvecStrateEtReductionVotee, ComptesAvecStrateEtTauxVoteEtStrate&gt; comptesIndividuels = super.alimenterCompteIndividuels(row, \r\n         row.getAs(&quot;populationCommune&quot;), row.getAs(&quot;sirenCommune&quot;), row.getAs(&quot;codeCommune&quot;), row.getAs(&quot;nomCommune&quot;), true);\r\n         \r\n      return new ComptesIndividuelsCommune(comptesIndividuels,\r\n         row.getAs(&quot;codeRegion&quot;), row.getAs(&quot;codeDepartement&quot;),\r\n         row.getAs(&quot;typeGroupementAppartenance&quot;),\r\n         row.getAs(&quot;libelleStrateCommune&quot;),\r\n         ressourcesInvestissementRetourDeBiensAffectesConcedes,\r\n         chargesDeFonctionnementCAFContingents,\r\n         emploisInvestissementChargesARepartir, emploisInvestissementImmobilisationsAffecteesConcedees,\r\n         autoFinancementExcedentBrutDeFonctionnement,  \r\n         endettementFondsDeRoulement,\r\n         operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement, \r\n         operationsInvestissementSoldeDesOperationsPourCompteDeTiers, \r\n         operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement, \r\n         operationsInvestissementResultatEnsemble); \r\n   }, Encoders.bean(ComptesIndividuelsCommune.class));\r\n}\r\n```\r\n\r\nBut since _Spark_ `3.4.0`, it fails with this stacktrace:\r\n\r\n```log\r\norg.apache.spark.SparkUnsupportedOperationException: [ENCODER_NOT_FOUND] Not found an encoder of the type RS to Spark SQL internal representation. Consider to change the input type to one of supported at &#39;https://spark.apache.org/docs/latest/sql-ref-datatypes.html&#39;.\r\n\r\n\tat org.apache.spark.sql.errors.QueryExecutionErrors$.cannotFindEncoderForTypeError(QueryExecutionErrors.scala:1483)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:142)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$encoderFor$1(JavaTypeInference.scala:128)\r\n\tat scala.collection.ArrayOps$.map$extension(ArrayOps.scala:929)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:126)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:58)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:51)\r\n\tat org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.javaBean(ExpressionEncoder.scala:62)\r\n\tat org.apache.spark.sql.Encoders$.bean(Encoders.scala:179)\r\n\tat org.apache.spark.sql.Encoders.bean(Encoders.scala)\r\n\tat fr.ecoemploi.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset.toDatasetComptesIndividuels(ComptesIndividuelsCommunesDataset.java:614)\r\n\tat fr.ecoemploi.spark.dataset.individuel.AbstractComptesIndividuelsDataset.toComptesIndividuels(AbstractComptesIndividuelsDataset.java:119)\r\n\tat fr.ecoemploi.spark.dataset.balance.communes.ComptesIndividuelsCommunesIT.datasetComptesIndividuelsCommunesEPCI(ComptesIndividuelsCommunesIT.java:158)\r\n```\r\n\r\nI&#39;ve started a debug session. The problem happens in the encoding checking.\r\n\r\nThis function is called (visible in the stacktrace) by the _Scala_ engine of _Spark_:\r\n\r\n```scala\r\nprivate def encoderFor(t: Type, seenTypeSet: Set[Class[_]]): AgnosticEncoder[_] = t match {\r\n\r\n  case c: Class[_] if c == java.lang.Boolean.TYPE =&gt; PrimitiveBooleanEncoder\r\n  case c: Class[_] if c == java.lang.Byte.TYPE =&gt; PrimitiveByteEncoder\r\n  case c: Class[_] if c == java.lang.Short.TYPE =&gt; PrimitiveShortEncoder\r\n  case c: Class[_] if c == java.lang.Integer.TYPE =&gt; PrimitiveIntEncoder\r\n  case c: Class[_] if c == java.lang.Long.TYPE =&gt; PrimitiveLongEncoder\r\n  case c: Class[_] if c == java.lang.Float.TYPE =&gt; PrimitiveFloatEncoder\r\n  case c: Class[_] if c == java.lang.Double.TYPE =&gt; PrimitiveDoubleEncoder\r\n\r\n  case c: Class[_] if c == classOf[java.lang.Boolean] =&gt; BoxedBooleanEncoder\r\n  case c: Class[_] if c == classOf[java.lang.Byte] =&gt; BoxedByteEncoder\r\n  case c: Class[_] if c == classOf[java.lang.Short] =&gt; BoxedShortEncoder\r\n  case c: Class[_] if c == classOf[java.lang.Integer] =&gt; BoxedIntEncoder\r\n  case c: Class[_] if c == classOf[java.lang.Long] =&gt; BoxedLongEncoder\r\n  case c: Class[_] if c == classOf[java.lang.Float] =&gt; BoxedFloatEncoder\r\n  case c: Class[_] if c == classOf[java.lang.Double] =&gt; BoxedDoubleEncoder\r\n\r\n  case c: Class[_] if c == classOf[java.lang.String] =&gt; StringEncoder\r\n  case c: Class[_] if c == classOf[Array[Byte]] =&gt; BinaryEncoder\r\n  case c: Class[_] if c == classOf[java.math.BigDecimal] =&gt; DEFAULT_JAVA_DECIMAL_ENCODER\r\n  case c: Class[_] if c == classOf[java.math.BigInteger] =&gt; JavaBigIntEncoder\r\n  case c: Class[_] if c == classOf[java.time.LocalDate] =&gt; STRICT_LOCAL_DATE_ENCODER\r\n  case c: Class[_] if c == classOf[java.sql.Date] =&gt; STRICT_DATE_ENCODER\r\n  case c: Class[_] if c == classOf[java.time.Instant] =&gt; STRICT_INSTANT_ENCODER\r\n  case c: Class[_] if c == classOf[java.sql.Timestamp] =&gt; STRICT_TIMESTAMP_ENCODER\r\n  case c: Class[_] if c == classOf[java.time.LocalDateTime] =&gt; LocalDateTimeEncoder\r\n  case c: Class[_] if c == classOf[java.time.Duration] =&gt; DayTimeIntervalEncoder\r\n  case c: Class[_] if c == classOf[java.time.Period] =&gt; YearMonthIntervalEncoder\r\n\r\n  case c: Class[_] if c.isEnum =&gt; JavaEnumEncoder(ClassTag(c))\r\n\r\n  case c: Class[_] if c.isAnnotationPresent(classOf[SQLUserDefinedType]) =&gt;\r\n    val udt = c.getAnnotation(classOf[SQLUserDefinedType]).udt()\r\n      .getConstructor().newInstance().asInstanceOf[UserDefinedType[Any]]\r\n    val udtClass = udt.userClass.getAnnotation(classOf[SQLUserDefinedType]).udt()\r\n    UDTEncoder(udt, udtClass)\r\n\r\n  case c: Class[_] if UDTRegistration.exists(c.getName) =&gt;\r\n    val udt = UDTRegistration.getUDTFor(c.getName).get.getConstructor().\r\n      newInstance().asInstanceOf[UserDefinedType[Any]]\r\n    UDTEncoder(udt, udt.getClass)\r\n\r\n  case c: Class[_] if c.isArray =&gt;\r\n    val elementEncoder = encoderFor(c.getComponentType, seenTypeSet)\r\n    ArrayEncoder(elementEncoder, elementEncoder.nullable)\r\n\r\n  case ImplementsList(c, Array(elementCls)) =&gt;\r\n    val element = encoderFor(elementCls, seenTypeSet)\r\n    IterableEncoder(ClassTag(c), element, element.nullable, lenientSerialization = false)\r\n\r\n  case ImplementsMap(c, Array(keyCls, valueCls)) =&gt;\r\n    val keyEncoder = encoderFor(keyCls, seenTypeSet)\r\n    val valueEncoder = encoderFor(valueCls, seenTypeSet)\r\n    MapEncoder(ClassTag(c), keyEncoder, valueEncoder, valueEncoder.nullable)\r\n\r\n  case c: Class[_] =&gt;\r\n    if (seenTypeSet.contains(c)) {\r\n      throw QueryExecutionErrors.cannotHaveCircularReferencesInBeanClassError(c)\r\n    }\r\n\r\n    // TODO: we should only collect properties that have getter and setter. However, some tests\r\n    //   pass in scala case class as java bean class which doesn&#39;t have getter and setter.\r\n    val properties = getJavaBeanReadableProperties(c)\r\n    // Note that the fields are ordered by name.\r\n    val fields = properties.map { property =&gt;\r\n      val readMethod = property.getReadMethod\r\n      val encoder = encoderFor(readMethod.getGenericReturnType, seenTypeSet + c)\r\n      // The existence of `javax.annotation.Nonnull`, means this field is not nullable.\r\n      val hasNonNull = readMethod.isAnnotationPresent(classOf[Nonnull])\r\n      EncoderField(\r\n        property.getName,\r\n        encoder,\r\n        encoder.nullable &amp;&amp; !hasNonNull,\r\n        Metadata.empty,\r\n        Option(readMethod.getName),\r\n        Option(property.getWriteMethod).map(_.getName))\r\n    }\r\n    JavaBeanEncoder(ClassTag(c), fields)\r\n\r\n  case _ =&gt;\r\n    throw QueryExecutionErrors.cannotFindEncoderForTypeError(t.toString, SPARK_DOC_ROOT)\r\n}\r\n```\r\n\r\nwhere it fails, on the line  \r\n`val encoder = encoderFor(readMethod.getGenericReturnType, seenTypeSet + c)`  \r\nit has called with that content below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand then it jumps to the default case:\r\n\r\n```scala\r\ncase _ =&gt;\r\n  throw QueryExecutionErrors.cannotFindEncoderForTypeError(t.toString, SPARK_DOC_ROOT)\r\n```\r\n\r\nthrowing an exception: \r\n\r\n```\r\norg.apache.spark.SparkUnsupportedOperationException: [ENCODER_NOT_FOUND] Not found an encoder of the type RS to Spark SQL internal representation. Consider to change the input type to one of supported at &#39;https://spark.apache.org/docs/latest/sql-ref-datatypes.html&#39;.\r\n```\r\n\r\nand then I understand that the `t: Type` `encoderFor` is using, has for value `RS`...  \r\nand it appears me strange that such a type could hold a generic type declaration, instead of a concrete class, at this step.\r\n\r\nI am clueless, here. I wonder what I could do to solve my problem.  \r\nMaybe I am in front of a Spark `3.4.0` issue?\r\n\r\n----------\r\n\r\nFor @DmytroMitin question about the differences between Spark `3.4.0` and Spark `3.3.2`, in his comment below: the Spark `3.3.2` is different.  \r\nIts method is called `inferDataType` and execute this piece of code:\r\n\r\n```scala\r\ncase other =&gt;\r\n   if (seenTypeSet.contains(other)) {\r\n      throw QueryExecutionErrors.cannotHaveCircularReferencesInBeanClassError(other)\r\n     }\r\n\r\n   // TODO: we should only collect properties that have getter and setter. However, some tests\r\n   // pass in scala case class as java bean class which doesn&#39;t have getter and setter.\r\n   val properties = getJavaBeanReadableProperties(other)\r\n   val fields = properties.map { property =&gt;\r\n   val returnType = typeToken.method(property.getReadMethod).getReturnType\r\n   val (dataType, nullable) = inferDataType(returnType, seenTypeSet + other)\r\n   // The existence of `javax.annotation.Nonnull`, means this field is not nullable.\r\n   val hasNonNull = property.getReadMethod.isAnnotationPresent(classOf[Nonnull])\r\n    new StructField(property.getName, dataType, nullable &amp;&amp; !hasNonNull)\r\n  }\r\n  (new StructType(fields), true)\r\n}\r\n```\r\n\r\nand doesn&#39;t encouter the same problem:\r\n\r\n```\r\nreturnType = fr.ecoemploi.metier.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\r\n```\r\n\r\nit is able to define a StructType from that class:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI think code between `3.3.2` and  `3.4.0` have largely enough changed, and are incomparable now (for normal understanding).\r\n\r\n  [1]: https://i.stack.imgur.com/MlmJs.png\r\n  [2]: https://i.stack.imgur.com/GOOsF.png","title":"Encoders.bean attempts to check the validity of a return type considering its generic type and not its concrete class, with Spark 3.4.0","body":"<p>That's a strange problem I stumbled into, since I've switched to <em>Spark</em> <code>3.4.0</code></p>\n<p>I have a class that isn't simple to fill, with <code>Encoders.bean</code> in <em>Java</em>:</p>\n<p>Without going too deep, the class I have to fill with data, has a base class with generic types in it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ComptesIndividuels&lt;MR extends ComptesTotalOuBaseEtParHabitant, RS extends ComptesAvecRatioStructure, RV extends ComptesAvecReductionVotee, TV extends ComptesAvecTauxVote&gt; implements Serializable {\n[...]\n   /** Année d'exercice */\n   private Integer anneeExercice;\n   \n   /** Nom de la collectivité */\n   private String nom;\n\n   /** PRODUITS DE FONCTIONNEMENT = A */\n   private MR produitsDeFonctionnement;\n\n   /** Produits de fonctionnement CAF */\n   private MR produitsDeFonctionnementCAF;\n   \n   /** PRODUITS DE FONCTIONNEMENT = A : CAF : Impôts Locaux */ \n   private RS produitsDeFonctionnementCAFImpotsLocaux;\n\n   /** PRODUITS DE FONCTIONNEMENT = A : CAF : Autres impôts et taxes */\n   private RS produitsDeFonctionnementCAFAutresImpotsEtTaxes;\n\n   /** PRODUITS DE FONCTIONNEMENT = A : CAF : Dotation globale de fonctionnement */\n   private RS produitsDeFonctionnementCAFDGF;\n   \n   /** CHARGES DE FONCTIONNEMENT = B */\n   private MR chargesDeFonctionnement;\n\n   /** Charges de fonctionnement CAF */\n   private MR chargesDeFonctionnementCAF;\n\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Charges de personnel */\n   private RS chargesDeFonctionnementCAFChargesDePersonnel;\n\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Achats et charges externes */\n   private RS chargesDeFonctionnementCAFAchatsEtChargesExternes;\n\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Charges financières */\n   private RS chargesDeFonctionnementCAFChargesFinancieres;\n\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Subventions versées */\n   private RS chargesDeFonctionnementCAFSubventionsVersees;\n[...]\n</code></pre>\n<p>They are needed because departments, cities, local authorities, regions have the overhaul same structure, but with some small variations.</p>\n<p>So, the concrete class I am willing to fill, for example, is a city individual accounts, <code>ComptesIndividuelsCommune</code> extending <code>ComptesIndividuels</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Comptes individuels d'une commune.\n * @author Marc Le Bihan\n */\npublic class ComptesIndividuelsCommune extends ComptesIndividuels&lt;ComptesAvecMoyenneStrate, ComptesAvecStrateEtRatioStructureEtStrate, ComptesAvecStrateEtReductionVotee, ComptesAvecStrateEtTauxVoteEtStrate&gt; {\n[...]\n   /** Code de la région */\n   private String codeRegion;\n   \n   /** Code du département */\n   private String codeDepartement;\n\n   /** CHARGES DE FONCTIONNEMENT = B : CAF : Contingents */\n   private ComptesAvecStrateEtRatioStructureEtStrate chargesDeFonctionnementCAFContingents;\n\n   /** RESSOURCES D'INVESTISSEMENT : Retour de biens affectés concédés ... */\n   private ComptesAvecStrateEtRatioStructureEtStrate ressourcesInvestissementRetourDeBiensAffectesConcedes;\n\n   /** EMPLOIS D'INVESTISSEMENT : Charges à répartir */\n   private ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementChargesARepartir;\n\n   /** EMPLOIS D'INVESTISSEMENT : Immobilisations affectées, concédées, ... */\n   private ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementImmobilisationsAffecteesConcedees;\n\n   /** AUTOFINANCEMENT : Excédent brut de fonctionnement */\n   private ComptesAvecStrateEtRatioStructureEtStrate autoFinancementExcedentBrutDeFonctionnement;\n[...]\n</code></pre>\n<p>Until <code>Spark 3.3.2</code> I was able to fill it from a row dataset with proper properties, with this function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Convertir un Dataset Row en Dataset de comptes individuels de communes.\n * @param dsRow Dataset Row à convertir.\n * @return Dataset de comptes de communes.\n */\n@Override\npublic Dataset&lt;ComptesIndividuelsCommune&gt; toDatasetComptesIndividuels(Dataset&lt;Row&gt; dsRow) {\n   Objects.requireNonNull(dsRow, &quot;Le dataset de comptes individuels de communes ne peut pas valoir null.&quot;);\n      \n   return dsRow.map((MapFunction&lt;Row, ComptesIndividuelsCommune&gt;)row -&gt; {\n      ComptesAvecStrateEtRatioStructureEtStrate chargesDeFonctionnementCAFContingents = rs(&quot;\\t\\tContingents\\t\\t\\t&quot;, &quot;chargesDeFonctionnementCAFContingents&quot;, true, row); \n\n      ComptesAvecStrateEtRatioStructureEtStrate ressourcesInvestissementRetourDeBiensAffectesConcedes = rs(&quot;\\tRetour de biens affectés, concédés, ...\\t&quot;, &quot;ressourcesInvestissementRetourDeBiensAffectesConcedes&quot;, true, row);\n         \n      ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementChargesARepartir = rs(&quot;\\tCharges à répartir\\t\\t\\t&quot;, &quot;emploisInvestissementChargesARepartir&quot;, true, row); \n      ComptesAvecStrateEtRatioStructureEtStrate emploisInvestissementImmobilisationsAffecteesConcedees = rs(&quot;\\tImmobilisations affectées, concédées, ...&quot;, &quot;emploisInvestissementImmobilisationsAffecteesConcedees&quot;, true, row);\n\n      ComptesAvecMoyenneStrate operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement = mr(&quot;Besoin ou capacité de financement résiduel de la section d'investissement = D - C&quot;, &quot;operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement&quot;, true, row);\n      ComptesAvecMoyenneStrate operationsInvestissementSoldeDesOperationsPourCompteDeTiers = mr(&quot;+ Solde des opérations pour le compte de tiers&quot;, &quot;operationsInvestissementSoldeDesOperationsPourCompteDeTiers&quot;, true, row);\n      ComptesAvecMoyenneStrate operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement = mr(&quot;Besoin ou capacité de financement de la section d'investissement = E&quot;, &quot;operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement&quot;, true, row);\n      ComptesAvecMoyenneStrate operationsInvestissementResultatEnsemble = mr(&quot;Résultat d'ensemble = R - E&quot;, &quot;operationsInvestissementResultatEnsemble&quot;, true, row);\n         \n      ComptesAvecStrateEtRatioStructureEtStrate autoFinancementExcedentBrutDeFonctionnement = rs(&quot;Excédent brut de fonctionnement\\t\\t\\t&quot;, &quot;autoFinancementExcedentBrutDeFonctionnement&quot;, true, row);\n         \n      ComptesAvecMoyenneStrate endettementFondsDeRoulement = mr(&quot;FONDS DE ROULEMENT&quot;, &quot;endettementFondsDeRoulement&quot;, true, row);\n         \n      ComptesIndividuels&lt;ComptesAvecMoyenneStrate, ComptesAvecStrateEtRatioStructureEtStrate, ComptesAvecStrateEtReductionVotee, ComptesAvecStrateEtTauxVoteEtStrate&gt; comptesIndividuels = super.alimenterCompteIndividuels(row, \n         row.getAs(&quot;populationCommune&quot;), row.getAs(&quot;sirenCommune&quot;), row.getAs(&quot;codeCommune&quot;), row.getAs(&quot;nomCommune&quot;), true);\n         \n      return new ComptesIndividuelsCommune(comptesIndividuels,\n         row.getAs(&quot;codeRegion&quot;), row.getAs(&quot;codeDepartement&quot;),\n         row.getAs(&quot;typeGroupementAppartenance&quot;),\n         row.getAs(&quot;libelleStrateCommune&quot;),\n         ressourcesInvestissementRetourDeBiensAffectesConcedes,\n         chargesDeFonctionnementCAFContingents,\n         emploisInvestissementChargesARepartir, emploisInvestissementImmobilisationsAffecteesConcedees,\n         autoFinancementExcedentBrutDeFonctionnement,  \n         endettementFondsDeRoulement,\n         operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement, \n         operationsInvestissementSoldeDesOperationsPourCompteDeTiers, \n         operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement, \n         operationsInvestissementResultatEnsemble); \n   }, Encoders.bean(ComptesIndividuelsCommune.class));\n}\n</code></pre>\n<p>But since <em>Spark</em> <code>3.4.0</code>, it fails with this stacktrace:</p>\n<pre><code>org.apache.spark.SparkUnsupportedOperationException: [ENCODER_NOT_FOUND] Not found an encoder of the type RS to Spark SQL internal representation. Consider to change the input type to one of supported at 'https://spark.apache.org/docs/latest/sql-ref-datatypes.html'.\n\n    at org.apache.spark.sql.errors.QueryExecutionErrors$.cannotFindEncoderForTypeError(QueryExecutionErrors.scala:1483)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:142)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$encoderFor$1(JavaTypeInference.scala:128)\n    at scala.collection.ArrayOps$.map$extension(ArrayOps.scala:929)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:126)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:58)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.encoderFor(JavaTypeInference.scala:51)\n    at org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.javaBean(ExpressionEncoder.scala:62)\n    at org.apache.spark.sql.Encoders$.bean(Encoders.scala:179)\n    at org.apache.spark.sql.Encoders.bean(Encoders.scala)\n    at fr.ecoemploi.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset.toDatasetComptesIndividuels(ComptesIndividuelsCommunesDataset.java:614)\n    at fr.ecoemploi.spark.dataset.individuel.AbstractComptesIndividuelsDataset.toComptesIndividuels(AbstractComptesIndividuelsDataset.java:119)\n    at fr.ecoemploi.spark.dataset.balance.communes.ComptesIndividuelsCommunesIT.datasetComptesIndividuelsCommunesEPCI(ComptesIndividuelsCommunesIT.java:158)\n</code></pre>\n<p>I've started a debug session. The problem happens in the encoding checking.</p>\n<p>This function is called (visible in the stacktrace) by the <em>Scala</em> engine of <em>Spark</em>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>private def encoderFor(t: Type, seenTypeSet: Set[Class[_]]): AgnosticEncoder[_] = t match {\n\n  case c: Class[_] if c == java.lang.Boolean.TYPE =&gt; PrimitiveBooleanEncoder\n  case c: Class[_] if c == java.lang.Byte.TYPE =&gt; PrimitiveByteEncoder\n  case c: Class[_] if c == java.lang.Short.TYPE =&gt; PrimitiveShortEncoder\n  case c: Class[_] if c == java.lang.Integer.TYPE =&gt; PrimitiveIntEncoder\n  case c: Class[_] if c == java.lang.Long.TYPE =&gt; PrimitiveLongEncoder\n  case c: Class[_] if c == java.lang.Float.TYPE =&gt; PrimitiveFloatEncoder\n  case c: Class[_] if c == java.lang.Double.TYPE =&gt; PrimitiveDoubleEncoder\n\n  case c: Class[_] if c == classOf[java.lang.Boolean] =&gt; BoxedBooleanEncoder\n  case c: Class[_] if c == classOf[java.lang.Byte] =&gt; BoxedByteEncoder\n  case c: Class[_] if c == classOf[java.lang.Short] =&gt; BoxedShortEncoder\n  case c: Class[_] if c == classOf[java.lang.Integer] =&gt; BoxedIntEncoder\n  case c: Class[_] if c == classOf[java.lang.Long] =&gt; BoxedLongEncoder\n  case c: Class[_] if c == classOf[java.lang.Float] =&gt; BoxedFloatEncoder\n  case c: Class[_] if c == classOf[java.lang.Double] =&gt; BoxedDoubleEncoder\n\n  case c: Class[_] if c == classOf[java.lang.String] =&gt; StringEncoder\n  case c: Class[_] if c == classOf[Array[Byte]] =&gt; BinaryEncoder\n  case c: Class[_] if c == classOf[java.math.BigDecimal] =&gt; DEFAULT_JAVA_DECIMAL_ENCODER\n  case c: Class[_] if c == classOf[java.math.BigInteger] =&gt; JavaBigIntEncoder\n  case c: Class[_] if c == classOf[java.time.LocalDate] =&gt; STRICT_LOCAL_DATE_ENCODER\n  case c: Class[_] if c == classOf[java.sql.Date] =&gt; STRICT_DATE_ENCODER\n  case c: Class[_] if c == classOf[java.time.Instant] =&gt; STRICT_INSTANT_ENCODER\n  case c: Class[_] if c == classOf[java.sql.Timestamp] =&gt; STRICT_TIMESTAMP_ENCODER\n  case c: Class[_] if c == classOf[java.time.LocalDateTime] =&gt; LocalDateTimeEncoder\n  case c: Class[_] if c == classOf[java.time.Duration] =&gt; DayTimeIntervalEncoder\n  case c: Class[_] if c == classOf[java.time.Period] =&gt; YearMonthIntervalEncoder\n\n  case c: Class[_] if c.isEnum =&gt; JavaEnumEncoder(ClassTag(c))\n\n  case c: Class[_] if c.isAnnotationPresent(classOf[SQLUserDefinedType]) =&gt;\n    val udt = c.getAnnotation(classOf[SQLUserDefinedType]).udt()\n      .getConstructor().newInstance().asInstanceOf[UserDefinedType[Any]]\n    val udtClass = udt.userClass.getAnnotation(classOf[SQLUserDefinedType]).udt()\n    UDTEncoder(udt, udtClass)\n\n  case c: Class[_] if UDTRegistration.exists(c.getName) =&gt;\n    val udt = UDTRegistration.getUDTFor(c.getName).get.getConstructor().\n      newInstance().asInstanceOf[UserDefinedType[Any]]\n    UDTEncoder(udt, udt.getClass)\n\n  case c: Class[_] if c.isArray =&gt;\n    val elementEncoder = encoderFor(c.getComponentType, seenTypeSet)\n    ArrayEncoder(elementEncoder, elementEncoder.nullable)\n\n  case ImplementsList(c, Array(elementCls)) =&gt;\n    val element = encoderFor(elementCls, seenTypeSet)\n    IterableEncoder(ClassTag(c), element, element.nullable, lenientSerialization = false)\n\n  case ImplementsMap(c, Array(keyCls, valueCls)) =&gt;\n    val keyEncoder = encoderFor(keyCls, seenTypeSet)\n    val valueEncoder = encoderFor(valueCls, seenTypeSet)\n    MapEncoder(ClassTag(c), keyEncoder, valueEncoder, valueEncoder.nullable)\n\n  case c: Class[_] =&gt;\n    if (seenTypeSet.contains(c)) {\n      throw QueryExecutionErrors.cannotHaveCircularReferencesInBeanClassError(c)\n    }\n\n    // TODO: we should only collect properties that have getter and setter. However, some tests\n    //   pass in scala case class as java bean class which doesn't have getter and setter.\n    val properties = getJavaBeanReadableProperties(c)\n    // Note that the fields are ordered by name.\n    val fields = properties.map { property =&gt;\n      val readMethod = property.getReadMethod\n      val encoder = encoderFor(readMethod.getGenericReturnType, seenTypeSet + c)\n      // The existence of `javax.annotation.Nonnull`, means this field is not nullable.\n      val hasNonNull = readMethod.isAnnotationPresent(classOf[Nonnull])\n      EncoderField(\n        property.getName,\n        encoder,\n        encoder.nullable &amp;&amp; !hasNonNull,\n        Metadata.empty,\n        Option(readMethod.getName),\n        Option(property.getWriteMethod).map(_.getName))\n    }\n    JavaBeanEncoder(ClassTag(c), fields)\n\n  case _ =&gt;\n    throw QueryExecutionErrors.cannotFindEncoderForTypeError(t.toString, SPARK_DOC_ROOT)\n}\n</code></pre>\n<p>where it fails, on the line<br />\n<code>val encoder = encoderFor(readMethod.getGenericReturnType, seenTypeSet + c)</code><br />\nit has called with that content below:</p>\n<p><a href=\"https://i.stack.imgur.com/MlmJs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MlmJs.png\" alt=\"enter image description here\" /></a></p>\n<p>and then it jumps to the default case:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>case _ =&gt;\n  throw QueryExecutionErrors.cannotFindEncoderForTypeError(t.toString, SPARK_DOC_ROOT)\n</code></pre>\n<p>throwing an exception:</p>\n<pre><code>org.apache.spark.SparkUnsupportedOperationException: [ENCODER_NOT_FOUND] Not found an encoder of the type RS to Spark SQL internal representation. Consider to change the input type to one of supported at 'https://spark.apache.org/docs/latest/sql-ref-datatypes.html'.\n</code></pre>\n<p>and then I understand that the <code>t: Type</code> <code>encoderFor</code> is using, has for value <code>RS</code>...<br />\nand it appears me strange that such a type could hold a generic type declaration, instead of a concrete class, at this step.</p>\n<p>I am clueless, here. I wonder what I could do to solve my problem.<br />\nMaybe I am in front of a Spark <code>3.4.0</code> issue?</p>\n<hr />\n<p>For @DmytroMitin question about the differences between Spark <code>3.4.0</code> and Spark <code>3.3.2</code>, in his comment below: the Spark <code>3.3.2</code> is different.<br />\nIts method is called <code>inferDataType</code> and execute this piece of code:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>case other =&gt;\n   if (seenTypeSet.contains(other)) {\n      throw QueryExecutionErrors.cannotHaveCircularReferencesInBeanClassError(other)\n     }\n\n   // TODO: we should only collect properties that have getter and setter. However, some tests\n   // pass in scala case class as java bean class which doesn't have getter and setter.\n   val properties = getJavaBeanReadableProperties(other)\n   val fields = properties.map { property =&gt;\n   val returnType = typeToken.method(property.getReadMethod).getReturnType\n   val (dataType, nullable) = inferDataType(returnType, seenTypeSet + other)\n   // The existence of `javax.annotation.Nonnull`, means this field is not nullable.\n   val hasNonNull = property.getReadMethod.isAnnotationPresent(classOf[Nonnull])\n    new StructField(property.getName, dataType, nullable &amp;&amp; !hasNonNull)\n  }\n  (new StructType(fields), true)\n}\n</code></pre>\n<p>and doesn't encouter the same problem:</p>\n<pre><code>returnType = fr.ecoemploi.metier.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\n</code></pre>\n<p>it is able to define a StructType from that class:</p>\n<p><a href=\"https://i.stack.imgur.com/GOOsF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GOOsF.png\" alt=\"enter image description here\" /></a></p>\n<p>I think code between <code>3.3.2</code> and  <code>3.4.0</code> have largely enough changed, and are incomparable now (for normal understanding).</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":1,"creation_date":1681758451,"post_id":76036349,"comment_id":134105650,"body_markdown":"You need to provide a minimal example that demonstrates the issue. E.g. remove fields and setters from the Commune class until the problem stops occurring.","body":"You need to provide a minimal example that demonstrates the issue. E.g. remove fields and setters from the Commune class until the problem stops occurring."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1681760509,"post_id":76036349,"comment_id":134106080,"body_markdown":"@jon-hanson it won&#39;t be easy. I&#39;m doing a step-by-step debugging instead, and might have the beginning of a solution. I hope that in few days, I can provide an helpful answer to all of those who will face this problem with the Spark new version.","body":"@jon-hanson it won&#39;t be easy. I&#39;m doing a step-by-step debugging instead, and might have the beginning of a solution. I hope that in few days, I can provide an helpful answer to all of those who will face this problem with the Spark new version."}],"answers":[{"comments":[{"owner":{"account_id":5868718,"reputation":300,"user_id":7800693,"display_name":"Bhargav Kosaraju"},"score":1,"creation_date":1685005100,"post_id":76040939,"comment_id":134601308,"body_markdown":"This even breaks Dataset from bean Encoder, \nexactly produced same error when data set being generated.\nno way we can pass the writeMethod to a field from instantiation \nex:\n`spark.createDataSet(Seq(myCustomClassItems))(Encoders.bean(Class[MyCustomClass]).toDS`","body":"This even breaks Dataset from bean Encoder,  exactly produced same error when data set being generated. no way we can pass the writeMethod to a field from instantiation  ex: <code>spark.createDataSet(Seq(myCustomClassItems))(Encoders.bean(C&zwnj;&#8203;lass[MyCustomClass])&zwnj;&#8203;.toDS</code>"},{"owner":{"account_id":2786445,"reputation":1094,"user_id":2397723,"accept_rate":54,"display_name":"Comencau"},"score":2,"creation_date":1692356081,"post_id":76040939,"comment_id":135615032,"body_markdown":"Merci Marc. Vous me sauvez la vie. J&#39;avais aussi une m&#233;thode utilitaire getXXX qui n&#39;&#233;tait pas un getter sur un attribut et &#231;a faisait planter ce couillon de Spark 3.4.0. Gr&#226;ce &#224; votre post ci-dessus, j&#39;ai compris que je n&#39;avais qu&#39;&#224; renommer cette m&#233;thode afin qu&#39;elle ne commence pas par &quot;get&quot; et &#231;a a r&#233;solu le probl&#232;me.","body":"Merci Marc. Vous me sauvez la vie. J&#39;avais aussi une m&#233;thode utilitaire getXXX qui n&#39;&#233;tait pas un getter sur un attribut et &#231;a faisait planter ce couillon de Spark 3.4.0. Gr&#226;ce &#224; votre post ci-dessus, j&#39;ai compris que je n&#39;avais qu&#39;&#224; renommer cette m&#233;thode afin qu&#39;elle ne commence pas par &quot;get&quot; et &#231;a a r&#233;solu le probl&#232;me."},{"owner":{"account_id":986881,"reputation":537,"user_id":1005162,"display_name":"weikangchia"},"score":0,"creation_date":1692624394,"post_id":76040939,"comment_id":135644895,"body_markdown":"Hi @marc-le-bihan or anyone, I also faced the same issue and it is due to the get method, may I know if there is other workaround other than renaming the get method, maybe using annotation?","body":"Hi @marc-le-bihan or anyone, I also faced the same issue and it is due to the get method, may I know if there is other workaround other than renaming the get method, maybe using annotation?"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1692625840,"post_id":76040939,"comment_id":135645262,"body_markdown":"@weikangchia Currently, I don&#39;t know. I&#39;m awaiting the `Spark 3.4.2` version expecting they will correct this issue, because I&#39;m trying to create a minimal test case in order to create an issue, but this is very long to do.","body":"@weikangchia Currently, I don&#39;t know. I&#39;m awaiting the <code>Spark 3.4.2</code> version expecting they will correct this issue, because I&#39;m trying to create a minimal test case in order to create an issue, but this is very long to do."},{"owner":{"account_id":986881,"reputation":537,"user_id":1005162,"display_name":"weikangchia"},"score":0,"creation_date":1692665780,"post_id":76040939,"comment_id":135651849,"body_markdown":"I see, thanks. I guess I shall go with renaming my method first and share here if I find anything useful.","body":"I see, thanks. I guess I shall go with renaming my method first and share here if I find anything useful."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1697966854,"post_id":76040939,"comment_id":136343524,"body_markdown":"I&#39;ve created an issue about it, and two others linked troubles on https://issues.apache.org/jira/browse/SPARK-45311","body":"I&#39;ve created an issue about it, and two others linked troubles on <a href=\"https://issues.apache.org/jira/browse/SPARK-45311\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/SPARK-45311</a>"}],"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681798564,"creation_date":1681789287,"answer_id":76040939,"question_id":76036349,"body_markdown":"The problem starts in the `private def deserializerFor(enc: AgnosticEncoder[_], path: Expression, walkedTypePath: WalkedTypePath)` in the stack trace.\r\n\r\nIt attempts to run that piece of code:\r\n\r\n```scala\r\ncase JavaBeanEncoder(tag, fields) =&gt;\r\n  val setters = fields.map { f =&gt;\r\n    val newTypePath = walkedTypePath.recordField(\r\n      f.enc.clsTag.runtimeClass.getName,\r\n      f.name)\r\n    val setter = expressionWithNullSafety(\r\n      deserializerFor(\r\n        f.enc,\r\n        addToPath(path, f.name, f.enc.dataType, newTypePath),\r\n        newTypePath),\r\n      nullable = f.nullable,\r\n      newTypePath)\r\n    f.writeMethod.get -&gt; setter\r\n  }\r\n[...]\r\n```\r\n\r\nHere, among its searches, it searches for `isCollectiviteOutremer` method, and finds:\r\n\r\n```scala\r\nEncoderField(isCollectiviteOutremer,PrimitiveBooleanEncoder,true,{},Some(isCollectiviteOutremer),None)\r\n```\r\n\r\n(or something like that, I solved it in a debug). What is important is that for setter it has: `None`.\r\n\r\nBecause the method it tries to encode is that one:\r\n\r\n```java\r\npublic boolean isCollectiviteOutremer() {\r\n   return this.codeCommune != null &amp;&amp;\r\n      (this.codeCommune.startsWith(&quot;975&quot;) || this.codeCommune.startsWith(&quot;977&quot;) || this.codeCommune.startsWith(&quot;978&quot;) || this.codeCommune.startsWith(&quot;98&quot;));\r\n}\r\n```\r\n\r\nThat is an utilitarian method, and doesn&#39;t need a setter.\r\n\r\nIn fact, that method doesn&#39;t need to be encoded into a field, but I don&#39;t know how to tell to `Encoders.bean(...)` to skip it. If an annotation exists, or something else.\r\n\r\nWhatever, I was able to remove that encoding attempt by changing its return type from `boolean` to `Boolean`, and then I hadn&#39;t the problem anymore: the method `isCollectiviteOutremer` wasn&#39;t listed in `fields` anymore.\r\n\r\nMy answer to this question counts, however, more for a workaround than a good solution.","title":"Encoders.bean doesn&#39;t work anymore on a Java POJO, with Spark 3.4.0","body":"<p>The problem starts in the <code>private def deserializerFor(enc: AgnosticEncoder[_], path: Expression, walkedTypePath: WalkedTypePath)</code> in the stack trace.</p>\n<p>It attempts to run that piece of code:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>case JavaBeanEncoder(tag, fields) =&gt;\n  val setters = fields.map { f =&gt;\n    val newTypePath = walkedTypePath.recordField(\n      f.enc.clsTag.runtimeClass.getName,\n      f.name)\n    val setter = expressionWithNullSafety(\n      deserializerFor(\n        f.enc,\n        addToPath(path, f.name, f.enc.dataType, newTypePath),\n        newTypePath),\n      nullable = f.nullable,\n      newTypePath)\n    f.writeMethod.get -&gt; setter\n  }\n[...]\n</code></pre>\n<p>Here, among its searches, it searches for <code>isCollectiviteOutremer</code> method, and finds:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>EncoderField(isCollectiviteOutremer,PrimitiveBooleanEncoder,true,{},Some(isCollectiviteOutremer),None)\n</code></pre>\n<p>(or something like that, I solved it in a debug). What is important is that for setter it has: <code>None</code>.</p>\n<p>Because the method it tries to encode is that one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isCollectiviteOutremer() {\n   return this.codeCommune != null &amp;&amp;\n      (this.codeCommune.startsWith(&quot;975&quot;) || this.codeCommune.startsWith(&quot;977&quot;) || this.codeCommune.startsWith(&quot;978&quot;) || this.codeCommune.startsWith(&quot;98&quot;));\n}\n</code></pre>\n<p>That is an utilitarian method, and doesn't need a setter.</p>\n<p>In fact, that method doesn't need to be encoded into a field, but I don't know how to tell to <code>Encoders.bean(...)</code> to skip it. If an annotation exists, or something else.</p>\n<p>Whatever, I was able to remove that encoding attempt by changing its return type from <code>boolean</code> to <code>Boolean</code>, and then I hadn't the problem anymore: the method <code>isCollectiviteOutremer</code> wasn't listed in <code>fields</code> anymore.</p>\n<p>My answer to this question counts, however, more for a workaround than a good solution.</p>\n"},{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701405682,"creation_date":1701405682,"answer_id":77583050,"question_id":76036349,"body_markdown":"This problem is now corrected with the `Spark 3.4.2` new release.","title":"Encoders.bean doesn&#39;t work anymore on a Java POJO, with Spark 3.4.0","body":"<p>This problem is now corrected with the <code>Spark 3.4.2</code> new release.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77583050,"answer_count":2,"score":3,"last_activity_date":1701405682,"creation_date":1681742397,"question_id":76036349,"body_markdown":"This method that worked well from Spark `3.2.x` to Spark `3.3.x`,\r\n\r\n```java\r\npublic Dataset&lt;Commune&gt; obtenirCommunes(SparkSession session, int anneeCOG) throws TechniqueException {\r\n   Dataset&lt;Row&gt; communes = rowCommunes(session, anneeCOG);\r\n\r\n   return communes\r\n      .select(communes.col(&quot;typeCommune&quot;), communes.col(&quot;codeCommune&quot;), communes.col(&quot;codeRegion&quot;), communes.col(&quot;codeDepartement&quot;),\r\n          communes.col(&quot;arrondissement&quot;), communes.col(&quot;typeNomEtCharniere&quot;), communes.col(&quot;nomMajuscules&quot;), communes.col(&quot;nomCommune&quot;), \r\n          communes.col(&quot;codeCanton&quot;), communes.col(&quot;codeCommuneParente&quot;), communes.col(&quot;sirenCommune&quot;), communes.col(&quot;populationTotale&quot;).alias(&quot;population&quot;),\r\n          communes.col(&quot;strateCommune&quot;), communes.col(&quot;codeEPCI&quot;), communes.col(&quot;surface&quot;), communes.col(&quot;longitude&quot;), communes.col(&quot;latitude&quot;),\r\n          communes.col(&quot;nomDepartement&quot;), communes.col(&quot;nomEPCI&quot;))\r\n      .as(Encoders.bean(Commune.class))\r\n      .cache();\r\n   }\r\n```\r\n\r\nis now failing with Spark `3.4.0`, through this test:\r\n\r\n```java\r\n/**\r\n * Charger le Code Officiel G&#233;ographique entier.\r\n * @throws CommuneInexistanteException si la commune recherch&#233;e n&#39;existe pas.\r\n * @throws TechniqueException si un incident survient.\r\n */\r\n@Test\r\n@DisplayName(&quot;Lecture du code officiel g&#233;ographique&quot;)\r\nvoid cog() throws TechniqueException, CommuneInexistanteException {\r\n   for(int cog = COG_START; cog &lt;= COG_END; cog ++) {\r\n      if (this.toutesAnnees == false &amp;&amp; cog != COG_END) {\r\n         continue;\r\n      }\r\n         \r\n      CodeOfficielGeographique maillage = this.cogDataset.obtenirCodeOfficielGeographique(this.session, cog, true);\r\n      LOGGER.info(&quot;Code Officiel G&#233;ographique : {} communes, {} intercommunalit&#233;s.&quot;, maillage.getCommunes().size(), maillage.getIntercommunalites().size());\r\n         \r\n      Intercommunalite intercommunalite = maillage.getIntercommunalites().values().iterator().next();\r\n      LOGGER.info(&quot;La premi&#232;re intercommunalit&#233; : {}&quot;, intercommunalite);\r\n         \r\n      Commune cambremer = maillage.getCommune(&quot;14126&quot;);\r\n      assertNotNull(cambremer, MessageFormat.format(&quot;Cambremer aurait d&#251; &#234;tre trouv&#233; dans le COG {0}.&quot;, cog));\r\n      LOGGER.info(cambremer.toString());\r\n   }\r\n}\r\n```\r\n\r\nThe failure comes with a not very clear log (it&#39;s the line `CodeOfficielGeographique maillage = this.cogDataset.obtenirCodeOfficielGeographique(this.session, cog, true)` that calls `CogDataset:obtenirCommunes` who fails):\r\n\r\n```log\r\njava.util.NoSuchElementException: None.get\r\n\r\n\tat scala.None$.get(Option.scala:627)\r\n\tat scala.None$.get(Option.scala:626)\r\n\tat org.apache.spark.sql.catalyst.ScalaReflection$.$anonfun$deserializerFor$8(ScalaReflection.scala:359)\r\n\tat scala.collection.immutable.ArraySeq.map(ArraySeq.scala:75)\r\n\tat scala.collection.immutable.ArraySeq.map(ArraySeq.scala:35)\r\n\tat org.apache.spark.sql.catalyst.ScalaReflection$.deserializerFor(ScalaReflection.scala:348)\r\n\tat org.apache.spark.sql.catalyst.ScalaReflection$.deserializerFor(ScalaReflection.scala:183)\r\n\tat org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.apply(ExpressionEncoder.scala:56)\r\n\tat org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.javaBean(ExpressionEncoder.scala:62)\r\n\tat org.apache.spark.sql.Encoders$.bean(Encoders.scala:179)\r\n\tat org.apache.spark.sql.Encoders.bean(Encoders.scala)\r\n\tat fr.ecoemploi.spark.dataset.cog.CogDataset.obtenirCommunes(CogDataset.java:220)\r\n\tat fr.ecoemploi.spark.dataset.cog.CogDataset.obtenirCodeOfficielGeographique(CogDataset.java:186)\r\n\tat fr.ecoemploi.spark.dataset.cog.CommuneObjectsMetiersIT.cog(CommuneObjectsMetiersIT.java:92)\r\n```\r\n\r\nAnd the `Commune` object that `Encoders.bean` targets, is this one:\r\n\r\n```java\r\npackage fr.ecoemploi.metier.territoire;\r\n\r\nimport static fr.ecoemploi.metier.territoire.PrefixageNomCommune.*;\r\n\r\nimport java.io.Serial;\r\nimport java.text.*;\r\nimport java.util.*;\r\nimport java.util.function.Predicate;\r\n\r\nimport javax.validation.constraints.*;\r\n\r\nimport org.apache.commons.lang3.*;\r\n\r\nimport fr.fondation.utilitaires.autocontrole.*;\r\nimport fr.fondation.utilitaires.localisation.*;\r\nimport io.swagger.v3.oas.annotations.*;\r\nimport io.swagger.v3.oas.annotations.media.*;\r\n\r\n/**\r\n * Une commune.\r\n * @author Marc LE BIHAN.\r\n */\r\n@Schema(description = &quot;Une commune du Code Officiel G&#233;ographique&quot;)\r\npublic class Commune extends ObjetMetierSpark {\r\n   /** Serial ID */\r\n   @Serial\r\n   private static final long serialVersionUID = 4381577514414536917L;\r\n\r\n   /** Collator utilis&#233; pour comparer les noms de communes, sans accents. */\r\n   private static final Collator collator = Collator.getInstance(Locale.FRENCH);\r\n   \r\n   static {\r\n      collator.setStrength(Collator.PRIMARY);\r\n   }\r\n\r\n   /** Code de la commune. */\r\n   @NotNull @Size(min = 5, max = 5) @Schema(description = &quot;Code de la commune&quot;, example = &quot;29019&quot;)\r\n   private String codeCommune;\r\n   \r\n   /** Code dd&#233;partement. */\r\n   @NotNull @Size(min=2, max=3) @Schema(description = &quot;Code du d&#233;partement&quot;, example = &quot;972&quot;)\r\n   private String codeDepartement;\r\n   \r\n   /** Nom du d&#233;partement. */\r\n   @NotNull @Schema(description = &quot;Nom du d&#233;partement&quot;, example = &quot;Finist&#232;re&quot;)\r\n   private String nomDepartement;\r\n\r\n   /** Code de la commune parente (pour arrondissements, communes associ&#233;es ou d&#233;l&#233;gu&#233;es). */\r\n   @Size(min = 9, max = 9) @Schema(description = &quot;Code de la commune parente&quot;, example = &quot;75056&quot;, nullable = true)\r\n   private String codeCommuneParente;\r\n\r\n   /** Code INSEE de la r&#233;gion auquel appartient ce d&#233;partement. */\r\n   @NotNull @Size(min = 2, max = 2) @Schema(description = &quot;Code de la r&#233;gion&quot;, example = &quot;84&quot;)\r\n   private String codeRegion;\r\n   \r\n   /** Code Canton de la commune. */\r\n   @Schema(description = &quot;Code du canton&quot;, nullable = true)\r\n   private String codeCanton;\r\n\r\n   /** Nom de la ville. */\r\n   @NotNull @Schema(description = &quot;Nom de la commune&quot;, example = &quot;Brest&quot;)\r\n   private String nomCommune;\r\n\r\n   /** Nom en majuscule. */\r\n   @NotNull @Schema(description = &quot;Nom de la commune en majuscules&quot;, example = &quot;BREST&quot;)\r\n   private String nomMajuscules;\r\n\r\n   /** Type et nom charni&#232;re. */\r\n   @NotNull @Size(min=1, max=1)\r\n   @Schema(description = &quot;Type de nom et charni&#232;re: &lt;ul&gt;&quot;\r\n         + &quot;&lt;li&gt;0  Pas d&#39;article et le nom commence par une consonne sauf H muet  charni&#232;re = DE&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;1  Pas d&#39;article et le nom commence par une voyelle ou un H muet  charni&#232;re = D&#39;&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;2  Article = LE   charni&#232;re = DU&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;3  Article = LA   charni&#232;re = DE LA&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;4  Article = LES  charni&#232;re = DES&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;5  Article = L&#39;   charni&#232;re = DE L&#39;&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;6  Article = AUX  charni&#232;re = DES&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;7  Article = LAS  charni&#232;re = DE LAS&lt;/li&gt;&quot;\r\n         + &quot;&lt;li&gt;8  Article = LOS  charni&#232;re = DE LOS&lt;/li&gt;&quot;\r\n         + &quot;&lt;/ul&gt;&quot;)\r\n   private String typeNomEtCharniere;\r\n\r\n   /** SIREN de la commune (permet de la lier &#224; son intercommunalit&#233;). */\r\n   @NotNull @Size(min=9, max=9) @Schema(description = &quot;Num&#233;ro SIREN de la commune&quot;, example = &quot;212900195&quot;)\r\n   private String sirenCommune;\r\n\r\n   /** Liste des groupements dont cette commune est le si&#232;ge. */\r\n   @NotNull \r\n   @Schema(description = &quot;Liste des groupements (EPCI, ult&#233;rieurement : syndicats) dont cette commune est le si&#232;ge. &quot;\r\n         + &quot;Cette liste est vide si la commune n&#39;est si&#232;ge d&#39;aucun syndicat ou intercommunalit&#233;.&quot;, example = &quot;[242900314]&quot;)\r\n   private Set&lt;String&gt; siegeGroupements = new HashSet&lt;&gt;();\r\n   \r\n   /** Liste des intercommunalit&#233;s dont cette commune est membre. */\r\n   @NotNull @Schema(description = &quot;Liste des groupepements (EPCI, ult&#233;rieurement : syndicats) dont cette commune est membre.&quot;, example = &quot;[242900314]&quot;)\r\n   private Set&lt;String&gt; membreGroupements = new HashSet&lt;&gt;();\r\n   \r\n   /** Intercommunalit&#233; &#224; fiscalit&#233; propre &#224; laquelle cette commune appartient (qu&#39;elle en soit si&#232;ge ou membre). */\r\n   @NotNull @Size(min=9, max=9) @Schema(description = &quot;Num&#233;ro SIREN de l&#39;intercommunalit&#233; dont cette commune est si&#232;ge ou membre.&quot;, example = &quot;242900314&quot;)\r\n   private String epciFiscalitePropre;\r\n   \r\n   /** Nom de de l&#39;intercommunalit&#233; &#224; laquelle la commune appartient. */\r\n   @NotNull @Schema(description = &quot;Nom de l&#39;intercommunalit&#233; &#224; laquelle la commune appartient&quot;, example = &quot;Brest M&#233;tropole&quot;)\r\n   private String nomEPCI;\r\n   \r\n   /** Arrondissement de la commune. */\r\n   @Schema(description = &quot;Code de l&#39;arrondissement de la commune.&quot;, nullable = true)\r\n   private String arrondissement;\r\n   \r\n   /** Population de la commune. */\r\n   @NotNull @Schema(description = &quot;Population totale de la commune.&quot;)\r\n   private Integer population;\r\n   \r\n   /** Type de la commune. */\r\n   @NotNull\r\n   @Schema(description = &quot;Type de la commune : &lt;ul&gt;&quot; +\r\n      &quot;&lt;li&gt;COM   Commune&lt;/li&gt;&quot; + \r\n      &quot;&lt;li&gt;COMA  Commune associ&#233;e&lt;/li&gt;&quot; + \r\n      &quot;&lt;li&gt;COMD  Commune d&#233;l&#233;gu&#233;e&lt;/li&gt;&quot; + \r\n      &quot;&lt;li&gt;ARM   Arrondissement municipal&lt;/li&gt;&quot;\r\n      + &quot;&lt;/ul&gt;&quot;, example = &quot;COM&quot;)\r\n   private String typeCommune;\r\n   \r\n   /** Strate communale. */\r\n   @NotNull\r\n   @Schema(description = &quot;Strate communale : &lt;ul&gt;&quot; +\r\n         &quot;&lt;li&gt;1 : Moins de 100 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;2 : De 100 &#224; moins de 200 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;3 : De 200 &#224; moins de 500 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;4 : De 500 &#224; moins de 2 000 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;5 : De 2 000 &#224; moins de 3 500 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;6 : De 3 500 &#224; moins de 5 000 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;7 : De 5 000 &#224; moins de 10 000 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;8 : de 10 000 &#224; moins de 20 000 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;9 : de 20 000 &#224; moins de 50 000 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;10 : de 50 000 &#224; moins de 100 000 habitants&lt;/li&gt;&quot; + \r\n         &quot;&lt;li&gt;11 : 100 000 habitants et plus&lt;/li&gt;&quot; + \r\n         &quot;&lt;/ul&gt;&quot;, example = &quot;1&quot;)\r\n   private Integer strateCommune;\r\n   \r\n   /** Surface de la commune en hectares. */\r\n   @Schema(description = &quot;Surface de la commune, en hectares. N&#39;est pas aliment&#233; pour les arrondissements.&quot;, example = &quot;1520.25&quot;, nullable = true)\r\n   private Double surface;\r\n   \r\n   /** Longitude du centro&#239;de de la commune. */\r\n   @Schema(description = &quot;Longitude du centro&#239;de de la commune. N&#39;est pas aliment&#233; pour les arrondissements.&quot;, example = &quot;-4.2908&quot;, nullable = true)\r\n   private Double longitude;\r\n   \r\n   /** Latitude du centro&#239;de de la commune. */\r\n   @Schema(description = &quot;Latitude du centro&#239;de de la commune. N&#39;est pas aliment&#233; pour les arrondissements.&quot;, example = &quot;48.2327&quot;, nullable = true)\r\n   private Double latitude;\r\n\r\n   /**\r\n    * Construire une commune.\r\n    */\r\n   public Commune() {\r\n   }\r\n   \r\n   /**\r\n    * Ajouter une intercommunalit&#233; dont cette commune est membre.\r\n    * @param sirenIntercommunalite SIREN de l&#39;intercommunalit&#233;.\r\n    */\r\n   public void ajouterMembreGroupement(String sirenIntercommunalite) {\r\n      this.membreGroupements.add(sirenIntercommunalite);\r\n   }\r\n   \r\n   /**\r\n    * Ajouter une intercommunalit&#233; dont cette commune est le si&#232;ge.\r\n    * @param sirenIntercommunalite SIREN de l&#39;intercommunalit&#233;.\r\n    */\r\n   public void ajouterSiegeGroupement(String sirenIntercommunalite) {\r\n      this.siegeGroupements.add(sirenIntercommunalite);\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code Canton de la commune. \r\n    * @return Code canton de la commune.\r\n    */\r\n   public String getCodeCanton() {\r\n      return this.codeCanton;\r\n   }\r\n\r\n   /**\r\n    * Fixer le code canton de la commune.\r\n    * @param codeCanton Code canton de la commune.\r\n    */\r\n   public void setCodeCanton(String codeCanton) {\r\n      this.codeCanton = codeCanton;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code de la commune.\r\n    * @return Code de la commune.\r\n    */\r\n   public String getCodeCommune() {\r\n      return this.codeCommune;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code de la commune.\r\n    * @return Code de la commune.\r\n    */\r\n   public CodeCommune astCodeCommune() {\r\n      return new CodeCommune(this.codeCommune);\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code commune parente (pour arrondissements, communes associ&#233;es ou d&#233;l&#233;gu&#233;es).\r\n    * @return Code commune parente.\r\n    */\r\n   public CodeCommune astCodeCommuneParente() {\r\n      return new CodeCommune(this.codeCommuneParente);\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer le code commune parente (pour arrondissements, communes associ&#233;es ou d&#233;l&#233;gu&#233;es).\r\n    * @return Code commune parente.\r\n    */\r\n   public String getCodeCommuneParente() {\r\n      return this.codeCommuneParente;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code d&#233;partement.\r\n    * @return Code d&#233;partement.\r\n    */\r\n   public CodeDepartement asCodeDepartement() {\r\n      return new CodeDepartement(this.codeDepartement);\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code d&#233;partement.\r\n    * @return Code d&#233;partement.\r\n    */\r\n   public String getCodeDepartement() {\r\n      return this.codeDepartement;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code r&#233;gion.\r\n    * @return Code r&#233;gion.\r\n    */\r\n   public CodeRegion asCodeRegion() {\r\n      return new CodeRegion(this.codeRegion);\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code r&#233;gion.\r\n    * @return Code r&#233;gion.\r\n    */\r\n   public String getCodeRegion() {\r\n      return this.codeRegion;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer l&#39;intercommunalit&#233; &#224; fiscalit&#233; propre &#224; laquelle cette commune appartient, qu&#39;elle en soit si&#232;ge ou membre.\r\n    * @return Intercommunalit&#233;.\r\n    */\r\n   public SIREN asEpciFiscalitePropre() {\r\n      return new SIREN(this.epciFiscalitePropre);\r\n   }\r\n\r\n   /**\r\n    * Renvoyer l&#39;intercommunalit&#233; &#224; fiscalit&#233; propre &#224; laquelle cette commune appartient, qu&#39;elle en soit si&#232;ge ou membre.\r\n    * @return Intercommunalit&#233;.\r\n    */\r\n   @Hidden\r\n   public String getCodeEPCI() {\r\n      return this.epciFiscalitePropre;\r\n   }\r\n\r\n   /**\r\n    * Fixer l&#39;intercommunalit&#233; &#224; fiscalit&#233; propre &#224; laquelle cette commune appartient, qu&#39;elle en soit si&#232;ge ou membre.\r\n    * @param epci Intercommunalit&#233;.\r\n    */\r\n   @Hidden\r\n   public void setCodeEPCI(String epci) {\r\n      this.epciFiscalitePropre = epci;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer les groupements dont cette commune est membre.\r\n    * @return Groupements.\r\n    */\r\n   public Set&lt;String&gt; membreGroupements() {\r\n      return this.membreGroupements;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer la liste des groupements dont cette commune est le si&#232;ge.\r\n    * @return liste des groupements.\r\n    */\r\n   public Set&lt;String&gt; siegeGroupements() {\r\n      return this.siegeGroupements;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer l&#39;arrondissement.\r\n    * @return Arrondissement.\r\n    */\r\n   public String getArrondissement() {\r\n      return this.arrondissement;\r\n   }\r\n   \r\n   /**\r\n    * D&#233;terminer si ce code commune d&#233;signe une collectivit&#233; d&#39;outre-mer :&lt;br&gt;\r\n    * Attention, il s&#39;agit des d&#233;partements 975, 977, 978 et 98, et pas les d&#233;partements d&#39;outremer 971, 972, 973, 974 et 976.\r\n    * @return true si c&#39;est le cas.\r\n    */\r\n   @Hidden\r\n   public boolean isCollectiviteOutremer() {\r\n      return this.codeCommune != null &amp;&amp;\r\n         (this.codeCommune.startsWith(&quot;975&quot;) || this.codeCommune.startsWith(&quot;977&quot;) || this.codeCommune.startsWith(&quot;978&quot;) || this.codeCommune.startsWith(&quot;98&quot;));\r\n   }\r\n\r\n   /**\r\n    * Fixer l&#39;arrondissement.\r\n    * @param arrondissement Arrondissement.\r\n    */\r\n   public void setArrondissement(String arrondissement) {\r\n      this.arrondissement = arrondissement;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le nom de la commune.\r\n    * @return Nom de la commune.\r\n    */\r\n   public String getNomCommune() {\r\n      return this.nomCommune;\r\n   }\r\n   \r\n   /**\r\n    * D&#233;terminer si notre commune a le m&#234;me nom que celle en param&#232;tre.\r\n    * @param nomCandidat Nom de commune : il peut contenir une charni&#232;re.\r\n    * @return true si c&#39;est le cas.\r\n    */\r\n   public boolean hasMemeNom(String nomCandidat) {\r\n      // Si le nom soumis vaut null, r&#233;pondre non.\r\n      if (nomCandidat == null) {\r\n         return false;\r\n      }\r\n\r\n      // Faire une comparaison directe de nom de commune tout d&#39;abord, car l&#39;emploi du collator est tr&#232;s co&#251;teux.\r\n      if (nomCandidat.equalsIgnoreCase(this.nomCommune)) {\r\n         return true;\r\n      }\r\n      \r\n      // Puis, rechercher avec les diff&#233;rentes charni&#232;res.\r\n      if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.AUCUN))) {\r\n         return true;\r\n      }\r\n      \r\n      if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.A))) {\r\n         return true;\r\n      }\r\n      \r\n      if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.POUR))) {\r\n         return true;\r\n      }\r\n      \r\n      // En cas d&#39;&#233;chec, reprendre ces tests, mais avec le collator, plus lent, mais qui passera outre les caract&#232;res accentu&#233;s.\r\n      if (collator.equals(nomCandidat, this.nomCommune)) {\r\n         return true;\r\n      }\r\n      \r\n      if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.AUCUN))) {\r\n         return true;\r\n      }\r\n      \r\n      if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.A))) {\r\n         return true;\r\n      }\r\n\r\n      if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.POUR))) {\r\n         return true;\r\n      }\r\n\r\n      // Alternative aux tests pr&#233;c&#233;dents\r\n      List&lt;Predicate&lt;String&gt;&gt; memeNoms = new ArrayList&lt;&gt;();\r\n      memeNoms.add(nom -&gt; nom.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.AUCUN)));\r\n      memeNoms.add(nom -&gt; nom.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.A)));\r\n      memeNoms.add(nom -&gt; nom.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.POUR)));\r\n      memeNoms.add(nom -&gt; collator.equals(nom, this.nomCommune));\r\n      memeNoms.add(nom -&gt; collator.equals(nom, nomAvecType(false, PrefixageNomCommune.AUCUN)));\r\n      memeNoms.add(nom -&gt; collator.equals(nom, nomAvecType(false, PrefixageNomCommune.A)));\r\n      memeNoms.add(nom -&gt; collator.equals(nom, nomAvecType(false, PrefixageNomCommune.POUR)));\r\n\r\n      return memeNoms.stream().anyMatch(memeNom -&gt; memeNom.test(nomCandidat));\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le nom de la commune avec sa charni&#232;re accol&#233;e : Ville D&#39;Ermenouville, Ville de Villenoy\r\n    * @param majuscules true S&#39;il faut que la ville et sa charni&#232;re soient en majuscules.\r\n    * @return Nom de la commune avec sa charni&#232;re.\r\n    */\r\n   public String nomAvecCharniere(boolean majuscules) {\r\n      String articleCommune = switch(asArticleEtCharniere()) {\r\n         case AUCUN_D_APOSTROPHE -&gt; &quot;d&#39;&quot;;\r\n         case AUX_DES, LES_DES -&gt; &quot;des &quot;;\r\n         case LAS_DE_LAS -&gt; &quot;de las &quot;;\r\n         case LA_DE_LA -&gt; &quot;de la &quot;;\r\n         case LE_DU -&gt; &quot;du &quot;;\r\n         case LOS_DE_LOS -&gt; &quot;de los &quot;;\r\n         case L_APOSTROPHE_DE_L_APOSTROPHE -&gt; &quot;l&#39;&quot;;\r\n         default -&gt; // inclut le cas : AUCUN_CONSONNE_DE\r\n            &quot;de &quot;;\r\n      };\r\n\r\n      String texte = articleCommune + (majuscules ? this.nomMajuscules : this.nomCommune);\r\n      return majuscules ? texte.toUpperCase(Locale.FRENCH) : texte;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le nom de la commune avec son type accol&#233; : Bienvenue &#224; Ermenouville, Bienvenue aux Ullis.\r\n    * @param majuscules true S&#39;il faut que la ville et sa charni&#232;re soient en majuscules.\r\n    * @param prefixage Indique s&#39;il faut replacer type vide par &#39;&#224;&#39;, &#39;pour&#39; : &quot;Bienvenue &#224; St-Etienne&quot;, &quot;pour les Ullis&quot;.\r\n    * @return Nom de la commune avec sa charni&#232;re.\r\n    */\r\n   public String nomAvecType(boolean majuscules, PrefixageNomCommune prefixage) {\r\n      String articleCommune = &quot;&quot;;\r\n      String prefixe = &quot;&quot;;\r\n\r\n      final String PREFIXE_POUR = &quot;pour &quot;;\r\n\r\n      switch(asArticleEtCharniere()) {\r\n         case AUCUN_CONSONNE_DE -&gt; {\r\n            if (prefixage.equals(A))\r\n               articleCommune = &quot;&#224; &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case AUCUN_D_APOSTROPHE -&gt; {\r\n            if (prefixage.equals(A))\r\n               prefixe = &quot;&#224; &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case AUX_DES -&gt; articleCommune = &quot;aux &quot;;\r\n\r\n         case LAS_DE_LAS -&gt; {\r\n            articleCommune = &quot;las &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case LA_DE_LA -&gt; {\r\n            articleCommune = &quot;la &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case LES_DES -&gt; {\r\n            articleCommune = &quot;les &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case LE_DU -&gt; {\r\n            articleCommune = &quot;le &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case LOS_DE_LOS -&gt; {\r\n            articleCommune = &quot;los &quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         case L_APOSTROPHE_DE_L_APOSTROPHE -&gt; {\r\n            articleCommune = &quot;l&#39;&quot;;\r\n\r\n            if (prefixage.equals(POUR))\r\n               prefixe = PREFIXE_POUR;\r\n         }\r\n\r\n         default -&gt; {\r\n            if (prefixage.equals(A))\r\n               prefixe = &quot;&#224; &quot;;\r\n         }\r\n      }\r\n\r\n      String texte = prefixe + articleCommune + (majuscules ? this.nomMajuscules : this.nomCommune);\r\n      return majuscules ? texte.toUpperCase(Locale.FRENCH) : texte;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le nom de la commune en majuscules.\r\n    * @return Nom de la commune.\r\n    */\r\n   public String getNomMajuscules() {\r\n      return this.nomMajuscules;\r\n   }\r\n   \r\n   /**\r\n    * Obtenir la population de la commune une ann&#233;e particuli&#232;re.\r\n    * @return population de la commune.\r\n    */\r\n   public Integer getPopulation() {\r\n      return this.population;\r\n   }\r\n\r\n   /**\r\n    * Convertit un type de nom INSEE en enum charni&#232;re INSEE.\r\n    * @return Enum&#233;ration.\r\n    */\r\n   public ArticleEtCharniereINSEE asArticleEtCharniere() {\r\n      for(ArticleEtCharniereINSEE candidat : ArticleEtCharniereINSEE.values()) {\r\n         if (candidat.getCode().equals(this.typeNomEtCharniere))\r\n            return candidat;\r\n      }\r\n\r\n      return null;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer l&#39;article et la charni&#232;re.\r\n    * @return Article et charni&#232;re.\r\n    */\r\n   public String getTypeNomEtCharniere() {\r\n      return this.typeNomEtCharniere;\r\n   }\r\n   \r\n   /**\r\n    * D&#233;terminer si la commune a un num&#233;ro de SIREN aliment&#233;\r\n    * (elle en a forc&#233;ment un, mais parfois l&#39;objet m&#233;tier ne le porte pas encore).\r\n    * @return true, si c&#39;est le cas.\r\n    */\r\n   public boolean hasSIREN() {\r\n      return this.sirenCommune != null &amp;&amp; StringUtils.isBlank(this.sirenCommune) == false;\r\n   }\r\n\r\n   /**\r\n    * Fixer le code de la commune.\r\n    * @param code Code de la commune.\r\n    */\r\n   public void setCodeCommune(String code) {\r\n      this.codeCommune = code;\r\n   }\r\n\r\n   /**\r\n    * Fixer le code de la commune parente (pour arrondissements, communes associ&#233;es ou d&#233;l&#233;gu&#233;es).\r\n    * @param code Code de la commune parente (pour arrondissements, communes associ&#233;es ou d&#233;l&#233;gu&#233;es).\r\n    */\r\n   public void setCodeCommuneParente(String code) {\r\n      this.codeCommuneParente = code;\r\n   }\r\n\r\n   /**\r\n    * Fixer le code d&#233;partement.\r\n    * @param code Code d&#233;partement.\r\n    */\r\n   public void setCodeDepartement(String code) {\r\n      this.codeDepartement = code;\r\n   }\r\n\r\n   /**\r\n    * Fixer le code r&#233;gion.\r\n    * @param code Code r&#233;gion.\r\n    */\r\n   public void setCodeRegion(String code) {\r\n      this.codeRegion = code;\r\n   }\r\n\r\n   /**\r\n    * Fixer les groupements dont cette commune est membre.\r\n    * @param groupements Groupements.\r\n    */\r\n   public void membreGroupements(Set&lt;String&gt; groupements) {\r\n      this.membreGroupements = groupements;\r\n   }\r\n   \r\n   /**\r\n    * Fixer les groupements dont cette commune est le si&#232;ge.\r\n    * @param siegeIntercommunalites Intercommunalit&#233;s.\r\n    */\r\n   public void siegeGroupements(Set&lt;String&gt; siegeIntercommunalites) {\r\n      this.siegeGroupements = siegeIntercommunalites;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer la latitude de la commune.\r\n    * @return Latitude de la commune.\r\n    */\r\n   public Double getLatitude() {\r\n      return this.latitude;\r\n   }\r\n\r\n   /**\r\n    * Fixer la latitude de la commune.\r\n    * @param latitude Latitude de la commune.\r\n    */\r\n   public void setLatitude(Double latitude) {\r\n      this.latitude = latitude;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer la longitude de la commune.\r\n    * @return Longitude de la commune.\r\n    */\r\n   public Double getLongitude() {\r\n      return this.longitude;\r\n   }\r\n\r\n   /**\r\n    * Fixer la longitude de la commune.\r\n    * @param longitude Longitude de la commune. \r\n    */\r\n   public void setLongitude(Double longitude) {\r\n      this.longitude = longitude;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer le nom du d&#233;partement.\r\n    * @return Nom du d&#233;partement.\r\n    */\r\n   public String getNomDepartement() {\r\n      return this.nomDepartement;\r\n   }\r\n   \r\n   /**\r\n    * Fixer le nom du d&#233;partement.\r\n    * @param nomDepartement Nom du d&#233;partement.\r\n    */\r\n   public void setNomDepartement(String nomDepartement) {\r\n      this.nomDepartement = nomDepartement;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer le nom de l&#39;EPCI dont la commune est membre ou si&#232;ge.\r\n    * @return Nom de l&#39;EPCI.\r\n    */\r\n   public String getNomEPCI() {\r\n      return this.nomEPCI;\r\n   }\r\n\r\n   /**\r\n    * Fixer le nom de l&#39;EPCI dont la commune est membre ou si&#232;ge.\r\n    * @param nomEPCI Nom de l&#39;EPCI.\r\n    */\r\n   public void setNomEPCI(String nomEPCI) {\r\n      this.nomEPCI = nomEPCI;\r\n   }\r\n\r\n   /**\r\n    * Fixer le nom de la ville.\r\n    * @param nomVille Nom de la ville.\r\n    */\r\n   public void setNomCommune(String nomVille) {\r\n      this.nomCommune = nomVille;\r\n   }\r\n\r\n   /**\r\n    * Fixer le nom de la commune en majuscules.\r\n    * @param nomVille Nom de la commune.\r\n    */\r\n   public void setNomMajuscules(String nomVille) {\r\n      this.nomMajuscules = nomVille;\r\n   }\r\n   \r\n   /**\r\n    * Fixer la population de la commune une ann&#233;e donn&#233;e.\r\n    * @param population Population.\r\n    */\r\n   public void setPopulation(Integer population) {\r\n      this.population = population;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le SIREN de la commune.\r\n    * @return SIREN.\r\n    */\r\n   public SIRENCommune asSiren() {\r\n      return new SIRENCommune(this.sirenCommune);\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le SIREN de la commune.\r\n    * @return SIREN.\r\n    */\r\n   public String getSirenCommune() {\r\n      return this.sirenCommune;\r\n   }\r\n\r\n   /**\r\n    * Fixer le code SIREN de la commune.\r\n    * @param sirenCommune Siren.\r\n    */\r\n   public void setSirenCommune(String sirenCommune) {\r\n      this.sirenCommune = sirenCommune;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer la strate communale.\r\n    * @return Strate :&lt;br&gt;\r\n    * 1 : Moins de 100 habitants&lt;br&gt; \r\n    * 2 : De 100 &#224; moins de 200 habitants&lt;br&gt;\r\n    * 3 : De 200 &#224; moins de 500 habitants&lt;br&gt;\r\n    * 4 : De 500 &#224; moins de 2 000 habitants&lt;br&gt;\r\n    * 5 : De 2 000 &#224; moins de 3 500 habitants&lt;br&gt;\r\n    * 6 : De 3 500 &#224; moins de 5 000 habitants&lt;br&gt;\r\n    * 7 : De 5 000 &#224; moins de 10 000 habitants&lt;br&gt;\r\n    * 8 : de 10 000 &#224; moins de 20 000 habitants&lt;br&gt;\r\n    * 9 : de 20 000 &#224; moins de 50 000 habitants&lt;br&gt;\r\n    * 10 : de 50 000 &#224; moins de 100 000 habitants&lt;br&gt;\r\n    * 11 : 100 000 habitants et plus\r\n    */\r\n   public Integer getStrateCommune() {\r\n      return this.strateCommune;\r\n   }\r\n   \r\n   /**\r\n    * Fixer la strate communale.\r\n    * @param strate Strate communele.\r\n    */\r\n   public void setStrateCommune(Integer strate) {\r\n      this.strateCommune = strate;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer la surface de la commune, en hectares.\r\n    * @return Surface en hectares.\r\n    */\r\n   public Double getSurface() {\r\n      return this.surface;\r\n   }\r\n\r\n   /**\r\n    * Fixer la surface de la communes, en hectares.\r\n    * @param surface Surface en hectares.\r\n    */\r\n   public void setSurface(Double surface) {\r\n      this.surface = surface;\r\n   }\r\n\r\n   /**\r\n    * Fixer le type nom et charni&#232;re.\r\n    * @param type Type nom et charni&#232;re.\r\n    */\r\n   public void setTypeNomEtCharniere(String type) {\r\n      this.typeNomEtCharniere = type;\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer le type de commune. \r\n    * @return Type de commune.\r\n    */\r\n   public String getTypeCommune() {\r\n      return this.typeCommune;\r\n   }\r\n\r\n   /**\r\n    * Fixer le type de commune.\r\n    * @param typeDeCommune Type de commune.\r\n    */\r\n   public void setTypeCommune(String typeDeCommune) {\r\n      this.typeCommune = typeDeCommune;\r\n   }\r\n\r\n   /**\r\n    * @see fr.fondation.objets.ObjetMetierIdentifiable#toString()\r\n    */\r\n   @Override\r\n   public String toString() {\r\n      return BabelTower.format(Commune.class, &quot;toString&quot;, this.nomCommune, this.nomMajuscules, this.codeDepartement, this.codeRegion,\r\n         this.codeCommuneParente, this.typeNomEtCharniere, this.codeCommune, this.sirenCommune, this.siegeGroupements, \r\n         this.membreGroupements, this.epciFiscalitePropre, this.arrondissement, this.codeCanton, this.population, this.strateCommune,\r\n         this.surface, this.longitude, this.latitude, this.nomDepartement, this.nomEPCI);\r\n   }\r\n}\r\n```\r\n\r\nMy hypothethis is that `Encoders.bean` change its way of working in `3.4.0`, or its prerequisites, but I have no clues about what it is refusing now.","title":"Encoders.bean doesn&#39;t work anymore on a Java POJO, with Spark 3.4.0","body":"<p>This method that worked well from Spark <code>3.2.x</code> to Spark <code>3.3.x</code>,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Dataset&lt;Commune&gt; obtenirCommunes(SparkSession session, int anneeCOG) throws TechniqueException {\n   Dataset&lt;Row&gt; communes = rowCommunes(session, anneeCOG);\n\n   return communes\n      .select(communes.col(&quot;typeCommune&quot;), communes.col(&quot;codeCommune&quot;), communes.col(&quot;codeRegion&quot;), communes.col(&quot;codeDepartement&quot;),\n          communes.col(&quot;arrondissement&quot;), communes.col(&quot;typeNomEtCharniere&quot;), communes.col(&quot;nomMajuscules&quot;), communes.col(&quot;nomCommune&quot;), \n          communes.col(&quot;codeCanton&quot;), communes.col(&quot;codeCommuneParente&quot;), communes.col(&quot;sirenCommune&quot;), communes.col(&quot;populationTotale&quot;).alias(&quot;population&quot;),\n          communes.col(&quot;strateCommune&quot;), communes.col(&quot;codeEPCI&quot;), communes.col(&quot;surface&quot;), communes.col(&quot;longitude&quot;), communes.col(&quot;latitude&quot;),\n          communes.col(&quot;nomDepartement&quot;), communes.col(&quot;nomEPCI&quot;))\n      .as(Encoders.bean(Commune.class))\n      .cache();\n   }\n</code></pre>\n<p>is now failing with Spark <code>3.4.0</code>, through this test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Charger le Code Officiel Géographique entier.\n * @throws CommuneInexistanteException si la commune recherchée n'existe pas.\n * @throws TechniqueException si un incident survient.\n */\n@Test\n@DisplayName(&quot;Lecture du code officiel géographique&quot;)\nvoid cog() throws TechniqueException, CommuneInexistanteException {\n   for(int cog = COG_START; cog &lt;= COG_END; cog ++) {\n      if (this.toutesAnnees == false &amp;&amp; cog != COG_END) {\n         continue;\n      }\n         \n      CodeOfficielGeographique maillage = this.cogDataset.obtenirCodeOfficielGeographique(this.session, cog, true);\n      LOGGER.info(&quot;Code Officiel Géographique : {} communes, {} intercommunalités.&quot;, maillage.getCommunes().size(), maillage.getIntercommunalites().size());\n         \n      Intercommunalite intercommunalite = maillage.getIntercommunalites().values().iterator().next();\n      LOGGER.info(&quot;La première intercommunalité : {}&quot;, intercommunalite);\n         \n      Commune cambremer = maillage.getCommune(&quot;14126&quot;);\n      assertNotNull(cambremer, MessageFormat.format(&quot;Cambremer aurait dû être trouvé dans le COG {0}.&quot;, cog));\n      LOGGER.info(cambremer.toString());\n   }\n}\n</code></pre>\n<p>The failure comes with a not very clear log (it's the line <code>CodeOfficielGeographique maillage = this.cogDataset.obtenirCodeOfficielGeographique(this.session, cog, true)</code> that calls <code>CogDataset:obtenirCommunes</code> who fails):</p>\n<pre><code>java.util.NoSuchElementException: None.get\n\n    at scala.None$.get(Option.scala:627)\n    at scala.None$.get(Option.scala:626)\n    at org.apache.spark.sql.catalyst.ScalaReflection$.$anonfun$deserializerFor$8(ScalaReflection.scala:359)\n    at scala.collection.immutable.ArraySeq.map(ArraySeq.scala:75)\n    at scala.collection.immutable.ArraySeq.map(ArraySeq.scala:35)\n    at org.apache.spark.sql.catalyst.ScalaReflection$.deserializerFor(ScalaReflection.scala:348)\n    at org.apache.spark.sql.catalyst.ScalaReflection$.deserializerFor(ScalaReflection.scala:183)\n    at org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.apply(ExpressionEncoder.scala:56)\n    at org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.javaBean(ExpressionEncoder.scala:62)\n    at org.apache.spark.sql.Encoders$.bean(Encoders.scala:179)\n    at org.apache.spark.sql.Encoders.bean(Encoders.scala)\n    at fr.ecoemploi.spark.dataset.cog.CogDataset.obtenirCommunes(CogDataset.java:220)\n    at fr.ecoemploi.spark.dataset.cog.CogDataset.obtenirCodeOfficielGeographique(CogDataset.java:186)\n    at fr.ecoemploi.spark.dataset.cog.CommuneObjectsMetiersIT.cog(CommuneObjectsMetiersIT.java:92)\n</code></pre>\n<p>And the <code>Commune</code> object that <code>Encoders.bean</code> targets, is this one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package fr.ecoemploi.metier.territoire;\n\nimport static fr.ecoemploi.metier.territoire.PrefixageNomCommune.*;\n\nimport java.io.Serial;\nimport java.text.*;\nimport java.util.*;\nimport java.util.function.Predicate;\n\nimport javax.validation.constraints.*;\n\nimport org.apache.commons.lang3.*;\n\nimport fr.fondation.utilitaires.autocontrole.*;\nimport fr.fondation.utilitaires.localisation.*;\nimport io.swagger.v3.oas.annotations.*;\nimport io.swagger.v3.oas.annotations.media.*;\n\n/**\n * Une commune.\n * @author Marc LE BIHAN.\n */\n@Schema(description = &quot;Une commune du Code Officiel Géographique&quot;)\npublic class Commune extends ObjetMetierSpark {\n   /** Serial ID */\n   @Serial\n   private static final long serialVersionUID = 4381577514414536917L;\n\n   /** Collator utilisé pour comparer les noms de communes, sans accents. */\n   private static final Collator collator = Collator.getInstance(Locale.FRENCH);\n   \n   static {\n      collator.setStrength(Collator.PRIMARY);\n   }\n\n   /** Code de la commune. */\n   @NotNull @Size(min = 5, max = 5) @Schema(description = &quot;Code de la commune&quot;, example = &quot;29019&quot;)\n   private String codeCommune;\n   \n   /** Code ddépartement. */\n   @NotNull @Size(min=2, max=3) @Schema(description = &quot;Code du département&quot;, example = &quot;972&quot;)\n   private String codeDepartement;\n   \n   /** Nom du département. */\n   @NotNull @Schema(description = &quot;Nom du département&quot;, example = &quot;Finistère&quot;)\n   private String nomDepartement;\n\n   /** Code de la commune parente (pour arrondissements, communes associées ou déléguées). */\n   @Size(min = 9, max = 9) @Schema(description = &quot;Code de la commune parente&quot;, example = &quot;75056&quot;, nullable = true)\n   private String codeCommuneParente;\n\n   /** Code INSEE de la région auquel appartient ce département. */\n   @NotNull @Size(min = 2, max = 2) @Schema(description = &quot;Code de la région&quot;, example = &quot;84&quot;)\n   private String codeRegion;\n   \n   /** Code Canton de la commune. */\n   @Schema(description = &quot;Code du canton&quot;, nullable = true)\n   private String codeCanton;\n\n   /** Nom de la ville. */\n   @NotNull @Schema(description = &quot;Nom de la commune&quot;, example = &quot;Brest&quot;)\n   private String nomCommune;\n\n   /** Nom en majuscule. */\n   @NotNull @Schema(description = &quot;Nom de la commune en majuscules&quot;, example = &quot;BREST&quot;)\n   private String nomMajuscules;\n\n   /** Type et nom charnière. */\n   @NotNull @Size(min=1, max=1)\n   @Schema(description = &quot;Type de nom et charnière: &lt;ul&gt;&quot;\n         + &quot;&lt;li&gt;0  Pas d'article et le nom commence par une consonne sauf H muet  charnière = DE&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;1  Pas d'article et le nom commence par une voyelle ou un H muet  charnière = D'&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;2  Article = LE   charnière = DU&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;3  Article = LA   charnière = DE LA&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;4  Article = LES  charnière = DES&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;5  Article = L'   charnière = DE L'&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;6  Article = AUX  charnière = DES&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;7  Article = LAS  charnière = DE LAS&lt;/li&gt;&quot;\n         + &quot;&lt;li&gt;8  Article = LOS  charnière = DE LOS&lt;/li&gt;&quot;\n         + &quot;&lt;/ul&gt;&quot;)\n   private String typeNomEtCharniere;\n\n   /** SIREN de la commune (permet de la lier à son intercommunalité). */\n   @NotNull @Size(min=9, max=9) @Schema(description = &quot;Numéro SIREN de la commune&quot;, example = &quot;212900195&quot;)\n   private String sirenCommune;\n\n   /** Liste des groupements dont cette commune est le siège. */\n   @NotNull \n   @Schema(description = &quot;Liste des groupements (EPCI, ultérieurement : syndicats) dont cette commune est le siège. &quot;\n         + &quot;Cette liste est vide si la commune n'est siège d'aucun syndicat ou intercommunalité.&quot;, example = &quot;[242900314]&quot;)\n   private Set&lt;String&gt; siegeGroupements = new HashSet&lt;&gt;();\n   \n   /** Liste des intercommunalités dont cette commune est membre. */\n   @NotNull @Schema(description = &quot;Liste des groupepements (EPCI, ultérieurement : syndicats) dont cette commune est membre.&quot;, example = &quot;[242900314]&quot;)\n   private Set&lt;String&gt; membreGroupements = new HashSet&lt;&gt;();\n   \n   /** Intercommunalité à fiscalité propre à laquelle cette commune appartient (qu'elle en soit siège ou membre). */\n   @NotNull @Size(min=9, max=9) @Schema(description = &quot;Numéro SIREN de l'intercommunalité dont cette commune est siège ou membre.&quot;, example = &quot;242900314&quot;)\n   private String epciFiscalitePropre;\n   \n   /** Nom de de l'intercommunalité à laquelle la commune appartient. */\n   @NotNull @Schema(description = &quot;Nom de l'intercommunalité à laquelle la commune appartient&quot;, example = &quot;Brest Métropole&quot;)\n   private String nomEPCI;\n   \n   /** Arrondissement de la commune. */\n   @Schema(description = &quot;Code de l'arrondissement de la commune.&quot;, nullable = true)\n   private String arrondissement;\n   \n   /** Population de la commune. */\n   @NotNull @Schema(description = &quot;Population totale de la commune.&quot;)\n   private Integer population;\n   \n   /** Type de la commune. */\n   @NotNull\n   @Schema(description = &quot;Type de la commune : &lt;ul&gt;&quot; +\n      &quot;&lt;li&gt;COM   Commune&lt;/li&gt;&quot; + \n      &quot;&lt;li&gt;COMA  Commune associée&lt;/li&gt;&quot; + \n      &quot;&lt;li&gt;COMD  Commune déléguée&lt;/li&gt;&quot; + \n      &quot;&lt;li&gt;ARM   Arrondissement municipal&lt;/li&gt;&quot;\n      + &quot;&lt;/ul&gt;&quot;, example = &quot;COM&quot;)\n   private String typeCommune;\n   \n   /** Strate communale. */\n   @NotNull\n   @Schema(description = &quot;Strate communale : &lt;ul&gt;&quot; +\n         &quot;&lt;li&gt;1 : Moins de 100 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;2 : De 100 à moins de 200 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;3 : De 200 à moins de 500 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;4 : De 500 à moins de 2 000 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;5 : De 2 000 à moins de 3 500 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;6 : De 3 500 à moins de 5 000 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;7 : De 5 000 à moins de 10 000 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;8 : de 10 000 à moins de 20 000 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;9 : de 20 000 à moins de 50 000 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;10 : de 50 000 à moins de 100 000 habitants&lt;/li&gt;&quot; + \n         &quot;&lt;li&gt;11 : 100 000 habitants et plus&lt;/li&gt;&quot; + \n         &quot;&lt;/ul&gt;&quot;, example = &quot;1&quot;)\n   private Integer strateCommune;\n   \n   /** Surface de la commune en hectares. */\n   @Schema(description = &quot;Surface de la commune, en hectares. N'est pas alimenté pour les arrondissements.&quot;, example = &quot;1520.25&quot;, nullable = true)\n   private Double surface;\n   \n   /** Longitude du centroïde de la commune. */\n   @Schema(description = &quot;Longitude du centroïde de la commune. N'est pas alimenté pour les arrondissements.&quot;, example = &quot;-4.2908&quot;, nullable = true)\n   private Double longitude;\n   \n   /** Latitude du centroïde de la commune. */\n   @Schema(description = &quot;Latitude du centroïde de la commune. N'est pas alimenté pour les arrondissements.&quot;, example = &quot;48.2327&quot;, nullable = true)\n   private Double latitude;\n\n   /**\n    * Construire une commune.\n    */\n   public Commune() {\n   }\n   \n   /**\n    * Ajouter une intercommunalité dont cette commune est membre.\n    * @param sirenIntercommunalite SIREN de l'intercommunalité.\n    */\n   public void ajouterMembreGroupement(String sirenIntercommunalite) {\n      this.membreGroupements.add(sirenIntercommunalite);\n   }\n   \n   /**\n    * Ajouter une intercommunalité dont cette commune est le siège.\n    * @param sirenIntercommunalite SIREN de l'intercommunalité.\n    */\n   public void ajouterSiegeGroupement(String sirenIntercommunalite) {\n      this.siegeGroupements.add(sirenIntercommunalite);\n   }\n\n   /**\n    * Renvoyer le code Canton de la commune. \n    * @return Code canton de la commune.\n    */\n   public String getCodeCanton() {\n      return this.codeCanton;\n   }\n\n   /**\n    * Fixer le code canton de la commune.\n    * @param codeCanton Code canton de la commune.\n    */\n   public void setCodeCanton(String codeCanton) {\n      this.codeCanton = codeCanton;\n   }\n\n   /**\n    * Renvoyer le code de la commune.\n    * @return Code de la commune.\n    */\n   public String getCodeCommune() {\n      return this.codeCommune;\n   }\n\n   /**\n    * Renvoyer le code de la commune.\n    * @return Code de la commune.\n    */\n   public CodeCommune astCodeCommune() {\n      return new CodeCommune(this.codeCommune);\n   }\n\n   /**\n    * Renvoyer le code commune parente (pour arrondissements, communes associées ou déléguées).\n    * @return Code commune parente.\n    */\n   public CodeCommune astCodeCommuneParente() {\n      return new CodeCommune(this.codeCommuneParente);\n   }\n   \n   /**\n    * Renvoyer le code commune parente (pour arrondissements, communes associées ou déléguées).\n    * @return Code commune parente.\n    */\n   public String getCodeCommuneParente() {\n      return this.codeCommuneParente;\n   }\n\n   /**\n    * Renvoyer le code département.\n    * @return Code département.\n    */\n   public CodeDepartement asCodeDepartement() {\n      return new CodeDepartement(this.codeDepartement);\n   }\n\n   /**\n    * Renvoyer le code département.\n    * @return Code département.\n    */\n   public String getCodeDepartement() {\n      return this.codeDepartement;\n   }\n\n   /**\n    * Renvoyer le code région.\n    * @return Code région.\n    */\n   public CodeRegion asCodeRegion() {\n      return new CodeRegion(this.codeRegion);\n   }\n\n   /**\n    * Renvoyer le code région.\n    * @return Code région.\n    */\n   public String getCodeRegion() {\n      return this.codeRegion;\n   }\n   \n   /**\n    * Renvoyer l'intercommunalité à fiscalité propre à laquelle cette commune appartient, qu'elle en soit siège ou membre.\n    * @return Intercommunalité.\n    */\n   public SIREN asEpciFiscalitePropre() {\n      return new SIREN(this.epciFiscalitePropre);\n   }\n\n   /**\n    * Renvoyer l'intercommunalité à fiscalité propre à laquelle cette commune appartient, qu'elle en soit siège ou membre.\n    * @return Intercommunalité.\n    */\n   @Hidden\n   public String getCodeEPCI() {\n      return this.epciFiscalitePropre;\n   }\n\n   /**\n    * Fixer l'intercommunalité à fiscalité propre à laquelle cette commune appartient, qu'elle en soit siège ou membre.\n    * @param epci Intercommunalité.\n    */\n   @Hidden\n   public void setCodeEPCI(String epci) {\n      this.epciFiscalitePropre = epci;\n   }\n\n   /**\n    * Renvoyer les groupements dont cette commune est membre.\n    * @return Groupements.\n    */\n   public Set&lt;String&gt; membreGroupements() {\n      return this.membreGroupements;\n   }\n\n   /**\n    * Renvoyer la liste des groupements dont cette commune est le siège.\n    * @return liste des groupements.\n    */\n   public Set&lt;String&gt; siegeGroupements() {\n      return this.siegeGroupements;\n   }\n   \n   /**\n    * Renvoyer l'arrondissement.\n    * @return Arrondissement.\n    */\n   public String getArrondissement() {\n      return this.arrondissement;\n   }\n   \n   /**\n    * Déterminer si ce code commune désigne une collectivité d'outre-mer :&lt;br&gt;\n    * Attention, il s'agit des départements 975, 977, 978 et 98, et pas les départements d'outremer 971, 972, 973, 974 et 976.\n    * @return true si c'est le cas.\n    */\n   @Hidden\n   public boolean isCollectiviteOutremer() {\n      return this.codeCommune != null &amp;&amp;\n         (this.codeCommune.startsWith(&quot;975&quot;) || this.codeCommune.startsWith(&quot;977&quot;) || this.codeCommune.startsWith(&quot;978&quot;) || this.codeCommune.startsWith(&quot;98&quot;));\n   }\n\n   /**\n    * Fixer l'arrondissement.\n    * @param arrondissement Arrondissement.\n    */\n   public void setArrondissement(String arrondissement) {\n      this.arrondissement = arrondissement;\n   }\n\n   /**\n    * Renvoyer le nom de la commune.\n    * @return Nom de la commune.\n    */\n   public String getNomCommune() {\n      return this.nomCommune;\n   }\n   \n   /**\n    * Déterminer si notre commune a le même nom que celle en paramètre.\n    * @param nomCandidat Nom de commune : il peut contenir une charnière.\n    * @return true si c'est le cas.\n    */\n   public boolean hasMemeNom(String nomCandidat) {\n      // Si le nom soumis vaut null, répondre non.\n      if (nomCandidat == null) {\n         return false;\n      }\n\n      // Faire une comparaison directe de nom de commune tout d'abord, car l'emploi du collator est très coûteux.\n      if (nomCandidat.equalsIgnoreCase(this.nomCommune)) {\n         return true;\n      }\n      \n      // Puis, rechercher avec les différentes charnières.\n      if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.AUCUN))) {\n         return true;\n      }\n      \n      if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.A))) {\n         return true;\n      }\n      \n      if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.POUR))) {\n         return true;\n      }\n      \n      // En cas d'échec, reprendre ces tests, mais avec le collator, plus lent, mais qui passera outre les caractères accentués.\n      if (collator.equals(nomCandidat, this.nomCommune)) {\n         return true;\n      }\n      \n      if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.AUCUN))) {\n         return true;\n      }\n      \n      if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.A))) {\n         return true;\n      }\n\n      if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.POUR))) {\n         return true;\n      }\n\n      // Alternative aux tests précédents\n      List&lt;Predicate&lt;String&gt;&gt; memeNoms = new ArrayList&lt;&gt;();\n      memeNoms.add(nom -&gt; nom.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.AUCUN)));\n      memeNoms.add(nom -&gt; nom.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.A)));\n      memeNoms.add(nom -&gt; nom.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.POUR)));\n      memeNoms.add(nom -&gt; collator.equals(nom, this.nomCommune));\n      memeNoms.add(nom -&gt; collator.equals(nom, nomAvecType(false, PrefixageNomCommune.AUCUN)));\n      memeNoms.add(nom -&gt; collator.equals(nom, nomAvecType(false, PrefixageNomCommune.A)));\n      memeNoms.add(nom -&gt; collator.equals(nom, nomAvecType(false, PrefixageNomCommune.POUR)));\n\n      return memeNoms.stream().anyMatch(memeNom -&gt; memeNom.test(nomCandidat));\n   }\n\n   /**\n    * Renvoyer le nom de la commune avec sa charnière accolée : Ville D'Ermenouville, Ville de Villenoy\n    * @param majuscules true S'il faut que la ville et sa charnière soient en majuscules.\n    * @return Nom de la commune avec sa charnière.\n    */\n   public String nomAvecCharniere(boolean majuscules) {\n      String articleCommune = switch(asArticleEtCharniere()) {\n         case AUCUN_D_APOSTROPHE -&gt; &quot;d'&quot;;\n         case AUX_DES, LES_DES -&gt; &quot;des &quot;;\n         case LAS_DE_LAS -&gt; &quot;de las &quot;;\n         case LA_DE_LA -&gt; &quot;de la &quot;;\n         case LE_DU -&gt; &quot;du &quot;;\n         case LOS_DE_LOS -&gt; &quot;de los &quot;;\n         case L_APOSTROPHE_DE_L_APOSTROPHE -&gt; &quot;l'&quot;;\n         default -&gt; // inclut le cas : AUCUN_CONSONNE_DE\n            &quot;de &quot;;\n      };\n\n      String texte = articleCommune + (majuscules ? this.nomMajuscules : this.nomCommune);\n      return majuscules ? texte.toUpperCase(Locale.FRENCH) : texte;\n   }\n\n   /**\n    * Renvoyer le nom de la commune avec son type accolé : Bienvenue à Ermenouville, Bienvenue aux Ullis.\n    * @param majuscules true S'il faut que la ville et sa charnière soient en majuscules.\n    * @param prefixage Indique s'il faut replacer type vide par 'à', 'pour' : &quot;Bienvenue à St-Etienne&quot;, &quot;pour les Ullis&quot;.\n    * @return Nom de la commune avec sa charnière.\n    */\n   public String nomAvecType(boolean majuscules, PrefixageNomCommune prefixage) {\n      String articleCommune = &quot;&quot;;\n      String prefixe = &quot;&quot;;\n\n      final String PREFIXE_POUR = &quot;pour &quot;;\n\n      switch(asArticleEtCharniere()) {\n         case AUCUN_CONSONNE_DE -&gt; {\n            if (prefixage.equals(A))\n               articleCommune = &quot;à &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case AUCUN_D_APOSTROPHE -&gt; {\n            if (prefixage.equals(A))\n               prefixe = &quot;à &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case AUX_DES -&gt; articleCommune = &quot;aux &quot;;\n\n         case LAS_DE_LAS -&gt; {\n            articleCommune = &quot;las &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case LA_DE_LA -&gt; {\n            articleCommune = &quot;la &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case LES_DES -&gt; {\n            articleCommune = &quot;les &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case LE_DU -&gt; {\n            articleCommune = &quot;le &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case LOS_DE_LOS -&gt; {\n            articleCommune = &quot;los &quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         case L_APOSTROPHE_DE_L_APOSTROPHE -&gt; {\n            articleCommune = &quot;l'&quot;;\n\n            if (prefixage.equals(POUR))\n               prefixe = PREFIXE_POUR;\n         }\n\n         default -&gt; {\n            if (prefixage.equals(A))\n               prefixe = &quot;à &quot;;\n         }\n      }\n\n      String texte = prefixe + articleCommune + (majuscules ? this.nomMajuscules : this.nomCommune);\n      return majuscules ? texte.toUpperCase(Locale.FRENCH) : texte;\n   }\n\n   /**\n    * Renvoyer le nom de la commune en majuscules.\n    * @return Nom de la commune.\n    */\n   public String getNomMajuscules() {\n      return this.nomMajuscules;\n   }\n   \n   /**\n    * Obtenir la population de la commune une année particulière.\n    * @return population de la commune.\n    */\n   public Integer getPopulation() {\n      return this.population;\n   }\n\n   /**\n    * Convertit un type de nom INSEE en enum charnière INSEE.\n    * @return Enumération.\n    */\n   public ArticleEtCharniereINSEE asArticleEtCharniere() {\n      for(ArticleEtCharniereINSEE candidat : ArticleEtCharniereINSEE.values()) {\n         if (candidat.getCode().equals(this.typeNomEtCharniere))\n            return candidat;\n      }\n\n      return null;\n   }\n   \n   /**\n    * Renvoyer l'article et la charnière.\n    * @return Article et charnière.\n    */\n   public String getTypeNomEtCharniere() {\n      return this.typeNomEtCharniere;\n   }\n   \n   /**\n    * Déterminer si la commune a un numéro de SIREN alimenté\n    * (elle en a forcément un, mais parfois l'objet métier ne le porte pas encore).\n    * @return true, si c'est le cas.\n    */\n   public boolean hasSIREN() {\n      return this.sirenCommune != null &amp;&amp; StringUtils.isBlank(this.sirenCommune) == false;\n   }\n\n   /**\n    * Fixer le code de la commune.\n    * @param code Code de la commune.\n    */\n   public void setCodeCommune(String code) {\n      this.codeCommune = code;\n   }\n\n   /**\n    * Fixer le code de la commune parente (pour arrondissements, communes associées ou déléguées).\n    * @param code Code de la commune parente (pour arrondissements, communes associées ou déléguées).\n    */\n   public void setCodeCommuneParente(String code) {\n      this.codeCommuneParente = code;\n   }\n\n   /**\n    * Fixer le code département.\n    * @param code Code département.\n    */\n   public void setCodeDepartement(String code) {\n      this.codeDepartement = code;\n   }\n\n   /**\n    * Fixer le code région.\n    * @param code Code région.\n    */\n   public void setCodeRegion(String code) {\n      this.codeRegion = code;\n   }\n\n   /**\n    * Fixer les groupements dont cette commune est membre.\n    * @param groupements Groupements.\n    */\n   public void membreGroupements(Set&lt;String&gt; groupements) {\n      this.membreGroupements = groupements;\n   }\n   \n   /**\n    * Fixer les groupements dont cette commune est le siège.\n    * @param siegeIntercommunalites Intercommunalités.\n    */\n   public void siegeGroupements(Set&lt;String&gt; siegeIntercommunalites) {\n      this.siegeGroupements = siegeIntercommunalites;\n   }\n\n   /**\n    * Renvoyer la latitude de la commune.\n    * @return Latitude de la commune.\n    */\n   public Double getLatitude() {\n      return this.latitude;\n   }\n\n   /**\n    * Fixer la latitude de la commune.\n    * @param latitude Latitude de la commune.\n    */\n   public void setLatitude(Double latitude) {\n      this.latitude = latitude;\n   }\n\n   /**\n    * Renvoyer la longitude de la commune.\n    * @return Longitude de la commune.\n    */\n   public Double getLongitude() {\n      return this.longitude;\n   }\n\n   /**\n    * Fixer la longitude de la commune.\n    * @param longitude Longitude de la commune. \n    */\n   public void setLongitude(Double longitude) {\n      this.longitude = longitude;\n   }\n   \n   /**\n    * Renvoyer le nom du département.\n    * @return Nom du département.\n    */\n   public String getNomDepartement() {\n      return this.nomDepartement;\n   }\n   \n   /**\n    * Fixer le nom du département.\n    * @param nomDepartement Nom du département.\n    */\n   public void setNomDepartement(String nomDepartement) {\n      this.nomDepartement = nomDepartement;\n   }\n   \n   /**\n    * Renvoyer le nom de l'EPCI dont la commune est membre ou siège.\n    * @return Nom de l'EPCI.\n    */\n   public String getNomEPCI() {\n      return this.nomEPCI;\n   }\n\n   /**\n    * Fixer le nom de l'EPCI dont la commune est membre ou siège.\n    * @param nomEPCI Nom de l'EPCI.\n    */\n   public void setNomEPCI(String nomEPCI) {\n      this.nomEPCI = nomEPCI;\n   }\n\n   /**\n    * Fixer le nom de la ville.\n    * @param nomVille Nom de la ville.\n    */\n   public void setNomCommune(String nomVille) {\n      this.nomCommune = nomVille;\n   }\n\n   /**\n    * Fixer le nom de la commune en majuscules.\n    * @param nomVille Nom de la commune.\n    */\n   public void setNomMajuscules(String nomVille) {\n      this.nomMajuscules = nomVille;\n   }\n   \n   /**\n    * Fixer la population de la commune une année donnée.\n    * @param population Population.\n    */\n   public void setPopulation(Integer population) {\n      this.population = population;\n   }\n\n   /**\n    * Renvoyer le SIREN de la commune.\n    * @return SIREN.\n    */\n   public SIRENCommune asSiren() {\n      return new SIRENCommune(this.sirenCommune);\n   }\n\n   /**\n    * Renvoyer le SIREN de la commune.\n    * @return SIREN.\n    */\n   public String getSirenCommune() {\n      return this.sirenCommune;\n   }\n\n   /**\n    * Fixer le code SIREN de la commune.\n    * @param sirenCommune Siren.\n    */\n   public void setSirenCommune(String sirenCommune) {\n      this.sirenCommune = sirenCommune;\n   }\n   \n   /**\n    * Renvoyer la strate communale.\n    * @return Strate :&lt;br&gt;\n    * 1 : Moins de 100 habitants&lt;br&gt; \n    * 2 : De 100 à moins de 200 habitants&lt;br&gt;\n    * 3 : De 200 à moins de 500 habitants&lt;br&gt;\n    * 4 : De 500 à moins de 2 000 habitants&lt;br&gt;\n    * 5 : De 2 000 à moins de 3 500 habitants&lt;br&gt;\n    * 6 : De 3 500 à moins de 5 000 habitants&lt;br&gt;\n    * 7 : De 5 000 à moins de 10 000 habitants&lt;br&gt;\n    * 8 : de 10 000 à moins de 20 000 habitants&lt;br&gt;\n    * 9 : de 20 000 à moins de 50 000 habitants&lt;br&gt;\n    * 10 : de 50 000 à moins de 100 000 habitants&lt;br&gt;\n    * 11 : 100 000 habitants et plus\n    */\n   public Integer getStrateCommune() {\n      return this.strateCommune;\n   }\n   \n   /**\n    * Fixer la strate communale.\n    * @param strate Strate communele.\n    */\n   public void setStrateCommune(Integer strate) {\n      this.strateCommune = strate;\n   }\n\n   /**\n    * Renvoyer la surface de la commune, en hectares.\n    * @return Surface en hectares.\n    */\n   public Double getSurface() {\n      return this.surface;\n   }\n\n   /**\n    * Fixer la surface de la communes, en hectares.\n    * @param surface Surface en hectares.\n    */\n   public void setSurface(Double surface) {\n      this.surface = surface;\n   }\n\n   /**\n    * Fixer le type nom et charnière.\n    * @param type Type nom et charnière.\n    */\n   public void setTypeNomEtCharniere(String type) {\n      this.typeNomEtCharniere = type;\n   }\n   \n   /**\n    * Renvoyer le type de commune. \n    * @return Type de commune.\n    */\n   public String getTypeCommune() {\n      return this.typeCommune;\n   }\n\n   /**\n    * Fixer le type de commune.\n    * @param typeDeCommune Type de commune.\n    */\n   public void setTypeCommune(String typeDeCommune) {\n      this.typeCommune = typeDeCommune;\n   }\n\n   /**\n    * @see fr.fondation.objets.ObjetMetierIdentifiable#toString()\n    */\n   @Override\n   public String toString() {\n      return BabelTower.format(Commune.class, &quot;toString&quot;, this.nomCommune, this.nomMajuscules, this.codeDepartement, this.codeRegion,\n         this.codeCommuneParente, this.typeNomEtCharniere, this.codeCommune, this.sirenCommune, this.siegeGroupements, \n         this.membreGroupements, this.epciFiscalitePropre, this.arrondissement, this.codeCanton, this.population, this.strateCommune,\n         this.surface, this.longitude, this.latitude, this.nomDepartement, this.nomEPCI);\n   }\n}\n</code></pre>\n<p>My hypothethis is that <code>Encoders.bean</code> change its way of working in <code>3.4.0</code>, or its prerequisites, but I have no clues about what it is refusing now.</p>\n"},{"tags":["java","concurrency","distributed-computing","race-condition","concurrent.futures"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701403467,"post_id":77582737,"comment_id":136774114,"body_markdown":"To format your text as code, indent *all* lines by four spaces, or else nest in a pair of triple back-ticks.","body":"To format your text as code, indent <i>all</i> lines by four spaces, or else nest in a pair of triple back-ticks."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701420864,"post_id":77583047,"comment_id":136775926,"body_markdown":"When you end up comparing nanoseconds anyway, use `System.nanoTime()` in the first place. Before the loop: `long maxTime = Duration.ofMillis(10).toNanos(), start = System.nanoTime();` Inside the loop: `if(System.nanoTime() - start &gt; maxTime) break;`","body":"When you end up comparing nanoseconds anyway, use <code>System.nanoTime()</code> in the first place. Before the loop: <code>long maxTime = Duration.ofMillis(10).toNanos(), start = System.nanoTime();</code> Inside the loop: <code>if(System.nanoTime() - start &gt; maxTime) break;</code>"},{"owner":{"account_id":14840844,"reputation":11,"user_id":10717651,"display_name":"Joe Gilbert"},"score":0,"creation_date":1701467836,"post_id":77583047,"comment_id":136783774,"body_markdown":"It seems good, but there is a problem because the buffer reader is waiting for the next string, if this string comes after 10 mins, we will be stopped in this line `while ( ( line = bufferedReader.readLine ( ) ) != null )`","body":"It seems good, but there is a problem because the buffer reader is waiting for the next string, if this string comes after 10 mins, we will be stopped in this line <code>while ( ( line = bufferedReader.readLine ( ) ) != null )</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701486999,"post_id":77583047,"comment_id":136785294,"body_markdown":"@JoeGilbert If you are asking how to interrupt an `InputStream` or `BufferedReader` that is taking too long, post a Question on that exact topic.","body":"@JoeGilbert If you are asking how to interrupt an <code>InputStream</code> or <code>BufferedReader</code> that is taking too long, post a Question on that exact topic."},{"owner":{"account_id":14840844,"reputation":11,"user_id":10717651,"display_name":"Joe Gilbert"},"score":0,"creation_date":1701487907,"post_id":77583047,"comment_id":136785333,"body_markdown":"@BasilBourque yes but this is my question how to read for a specific time an InputStream. I don&#39;t want to interrupt if it is taking too long, I want to interrupt at this specific time. If the thread is reading I need to leave that and continue with the next calculations, with the lines that the thread read at that moment, instead of keeping that thread blocked.","body":"@BasilBourque yes but this is my question how to read for a specific time an InputStream. I don&#39;t want to interrupt if it is taking too long, I want to interrupt at this specific time. If the thread is reading I need to leave that and continue with the next calculations, with the lines that the thread read at that moment, instead of keeping that thread blocked."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701405627,"creation_date":1701405627,"answer_id":77583047,"question_id":77582737,"body_markdown":"## No need for threading here\r\n\r\nIf you launch a task in a background thread, and then immediately wait for results, there is no point in using that other thread at all. You might as well perform the task in the first thread. \r\n\r\nBy the way, you do not correctly handle shutting down an executor service. See the boilerplate code given to you in `shutdownAndAwaitTermination` method in the Javadoc for [`ExecutorService`][1]. In Java 19+, `ExecutorService` is [`AutoCloseable`][2], so you can make convenient use of try-with-resources syntax to automatically close the executor service.\r\n\r\n## Check elapsed time as each line imports\r\n\r\nWithout threading, just check elapsed time on every loop while reading your input stream.\r\n\r\nTo get elapsed time, you could count nanoseconds that have passed by calling `System.nanoTime`. But the ever-increasing count of nanos returned by that call can be reset when reading the limit of a `long`. How long until that limit is reached is undefined, so I would not rely upon this in production code.\r\n\r\n### `Instant.now` &amp; `Duration`\r\n\r\nA better way to get elapsed time, if a resolution of microseconds suffices, is to use `Instant` class with its `Instant.now()` method to capture the current moment as a date-time seen with an offset of zero hours-minutes-seconds from the temporal meridian of UTC. Use `Duration` class to represent a span-of-time not attached to the timeline.\r\n\r\n```java\r\nrecord Person( String firstName , String lastName ) { }\r\nArrayList &lt; Person &gt; persons = new ArrayList &lt;&gt; ( );\r\nDuration maxTime = Duration.ofMillis ( 10 );\r\nInputStream inputStream = null;\r\n\r\nInstant start = Instant.now ( );\r\ntry (\r\n        BufferedReader bufferedReader = …\r\n)\r\n{\r\n    String line;\r\n    while ( ( line = bufferedReader.readLine ( ) ) != null )\r\n    {\r\n        // Time limit not yet expired, so process another line.\r\n        String[] parts = line.split ( &quot;,&quot; );\r\n        String firstName = parts[ 0 ];\r\n        String lastName = parts[ 1 ];\r\n        Person person = new Person ( firstName , lastName );\r\n        persons.add ( person );\r\n\r\n        // Check to see if exceeding our time limit.\r\n        Duration elapsed = Duration.between ( start , Instant.now ( ) );\r\n        if ( elapsed.toNanos ( ) &gt; maxTime.toNanos ( ) ) break;  // If we have exceeded our time limit, break out of this `while`` loop.\r\n    }\r\n} catch ( IOException e )\r\n{\r\n    throw new RuntimeException ( e );\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html","title":"How to read from input stream for certain time?","body":"<h2>No need for threading here</h2>\n<p>If you launch a task in a background thread, and then immediately wait for results, there is no point in using that other thread at all. You might as well perform the task in the first thread.</p>\n<p>By the way, you do not correctly handle shutting down an executor service. See the boilerplate code given to you in <code>shutdownAndAwaitTermination</code> method in the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>. In Java 19+, <code>ExecutorService</code> is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a>, so you can make convenient use of try-with-resources syntax to automatically close the executor service.</p>\n<h2>Check elapsed time as each line imports</h2>\n<p>Without threading, just check elapsed time on every loop while reading your input stream.</p>\n<p>To get elapsed time, you could count nanoseconds that have passed by calling <code>System.nanoTime</code>. But the ever-increasing count of nanos returned by that call can be reset when reading the limit of a <code>long</code>. How long until that limit is reached is undefined, so I would not rely upon this in production code.</p>\n<h3><code>Instant.now</code> &amp; <code>Duration</code></h3>\n<p>A better way to get elapsed time, if a resolution of microseconds suffices, is to use <code>Instant</code> class with its <code>Instant.now()</code> method to capture the current moment as a date-time seen with an offset of zero hours-minutes-seconds from the temporal meridian of UTC. Use <code>Duration</code> class to represent a span-of-time not attached to the timeline.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person( String firstName , String lastName ) { }\nArrayList &lt; Person &gt; persons = new ArrayList &lt;&gt; ( );\nDuration maxTime = Duration.ofMillis ( 10 );\nInputStream inputStream = null;\n\nInstant start = Instant.now ( );\ntry (\n        BufferedReader bufferedReader = …\n)\n{\n    String line;\n    while ( ( line = bufferedReader.readLine ( ) ) != null )\n    {\n        // Time limit not yet expired, so process another line.\n        String[] parts = line.split ( &quot;,&quot; );\n        String firstName = parts[ 0 ];\n        String lastName = parts[ 1 ];\n        Person person = new Person ( firstName , lastName );\n        persons.add ( person );\n\n        // Check to see if exceeding our time limit.\n        Duration elapsed = Duration.between ( start , Instant.now ( ) );\n        if ( elapsed.toNanos ( ) &gt; maxTime.toNanos ( ) ) break;  // If we have exceeded our time limit, break out of this `while`` loop.\n    }\n} catch ( IOException e )\n{\n    throw new RuntimeException ( e );\n}\n</code></pre>\n"}],"owner":{"account_id":14840844,"reputation":11,"user_id":10717651,"display_name":"Joe Gilbert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701405627,"creation_date":1701398786,"question_id":77582737,"body_markdown":"I have to read lines from InputStream during certain time and return the lines that I read in a List. In my current solution I am not sure if it is the best way to interrupt a thread, because sometimes after the return some orders are added, and other times not.\r\n\r\nThis is my current solution.\r\n\r\n\r\n    InputStream source;\r\n    ObjectMapper objectMapper;\r\n\r\n    public OrderStreamReader(InputStream source, ObjectMapper objectMapper) {\r\n        this.source = source;\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    public List&lt;OrderStream&gt; get( Duration maxTime) {\r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        ReaderOrdersStream readerOrder = new ReaderOrdersStream();\r\n        Future future = executor.submit(readerOrder::run);\r\n\r\n        try {\r\n            future.get(maxTime.toMillis(), TimeUnit.MILLISECONDS);\r\n        } catch (TimeoutException e) {\r\n            future.cancel(true);\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            throw new RuntimeException(e);\r\n        } finally {\r\n            executor.shutdownNow();\r\n        }\r\n\r\n        return readerOrder.orders;\r\n    }\r\n\r\n    private class ReaderOrdersStream {\r\n        private List&lt;OrderStream&gt; orders = new LinkedList&lt;&gt;();\r\n        \r\n\r\n        public void run() {\r\n            try (BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(source))) {\r\n                String rawOrder;\r\n                while ((rawOrder = bufferedReader.readLine()) != null) {\r\n                    var currentOrder = objectMapper.readValue(rawOrder, OrderStream.class);\r\n                    if (Thread.interrupted()) break;\r\n                    orders.add(currentOrder);\r\n                }\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n        }`\r\n\r\nAvoid extra added orders after return.","title":"How to read from input stream for certain time?","body":"<p>I have to read lines from InputStream during certain time and return the lines that I read in a List. In my current solution I am not sure if it is the best way to interrupt a thread, because sometimes after the return some orders are added, and other times not.</p>\n<p>This is my current solution.</p>\n<pre><code>InputStream source;\nObjectMapper objectMapper;\n\npublic OrderStreamReader(InputStream source, ObjectMapper objectMapper) {\n    this.source = source;\n    this.objectMapper = objectMapper;\n}\n\npublic List&lt;OrderStream&gt; get( Duration maxTime) {\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n    ReaderOrdersStream readerOrder = new ReaderOrdersStream();\n    Future future = executor.submit(readerOrder::run);\n\n    try {\n        future.get(maxTime.toMillis(), TimeUnit.MILLISECONDS);\n    } catch (TimeoutException e) {\n        future.cancel(true);\n    } catch (InterruptedException | ExecutionException e) {\n        throw new RuntimeException(e);\n    } finally {\n        executor.shutdownNow();\n    }\n\n    return readerOrder.orders;\n}\n\nprivate class ReaderOrdersStream {\n    private List&lt;OrderStream&gt; orders = new LinkedList&lt;&gt;();\n    \n\n    public void run() {\n        try (BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(source))) {\n            String rawOrder;\n            while ((rawOrder = bufferedReader.readLine()) != null) {\n                var currentOrder = objectMapper.readValue(rawOrder, OrderStream.class);\n                if (Thread.interrupted()) break;\n                orders.add(currentOrder);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }`\n</code></pre>\n<p>Avoid extra added orders after return.</p>\n"},{"tags":["java","android","flutter","kotlin","gradle"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1698312149,"post_id":77365668,"comment_id":136390299,"body_markdown":"Did you change the Java version inside File-&gt;Preferences-&gt;Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle?","body":"Did you change the Java version inside File-&gt;Preferences-&gt;Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle?"},{"owner":{"account_id":11534281,"reputation":307,"user_id":8452276,"display_name":"danish"},"score":0,"creation_date":1698312284,"post_id":77365668,"comment_id":136390321,"body_markdown":"I changed it to 17 there &#39;jbr 17&#39;","body":"I changed it to 17 there &#39;jbr 17&#39;"},{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":2,"creation_date":1698312739,"post_id":77365668,"comment_id":136390418,"body_markdown":"Does [this](https://stackoverflow.com/questions/75480173/android-studio-build-error-compiledebugjavawithjavac-task-current-target-it-1) help?","body":"Does <a href=\"https://stackoverflow.com/questions/75480173/android-studio-build-error-compiledebugjavawithjavac-task-current-target-it-1\">this</a> help?"}],"answers":[{"tags":[],"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698322657,"creation_date":1698322657,"answer_id":77366929,"question_id":77365668,"body_markdown":"The error is caused because you are trying to use Java 17 instead of Java 8.\r\n\r\nIn your `build.gradle`\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n\r\nCheck also: \r\n\r\n`Settings` -&gt; `Build, Execution, Deployment` -&gt; `Build Tools` -&gt; `Gradle` \r\n\r\nand check if `Gradle JDK` is set to 1.8","title":"Android Studio build error - compileDebugJavaWithJavac task (current target is 1.8) and compileDebugKotlin task (current target is 17) f","body":"<p>The error is caused because you are trying to use Java 17 instead of Java 8.</p>\n<p>In your <code>build.gradle</code></p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n\nkotlinOptions {\n    jvmTarget = '1.8'\n}\n</code></pre>\n<p>Check also:</p>\n<p><code>Settings</code> -&gt; <code>Build, Execution, Deployment</code> -&gt; <code>Build Tools</code> -&gt; <code>Gradle</code></p>\n<p>and check if <code>Gradle JDK</code> is set to 1.8</p>\n"},{"tags":[],"owner":{"account_id":22467031,"reputation":11,"user_id":16668048,"display_name":"Sohail Ahmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698609837,"creation_date":1698609505,"answer_id":77384997,"question_id":77365668,"body_markdown":"in your bulid.gradle update following\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    //project level\r\n     id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.9.10&#39; apply false\r\n\r\n    //app level\r\n        composeOptions {\r\n            kotlinCompilerExtensionVersion &#39;1.5.3&#39;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Android Studio build error - compileDebugJavaWithJavac task (current target is 1.8) and compileDebugKotlin task (current target is 17) f","body":"<p>in your bulid.gradle update following</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>//project level\n id 'org.jetbrains.kotlin.android' version '1.9.10' apply false\n\n//app level\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.5.3'\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":4158911,"reputation":339,"user_id":3409417,"display_name":"litao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700559718,"creation_date":1700559718,"answer_id":77521756,"question_id":77365668,"body_markdown":"Try right-clicking on the project name and then click &#39;Open Module Settings&#39;\r\n\r\nChange the Gradle JDK to 17\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OfpGQ.png","title":"Android Studio build error - compileDebugJavaWithJavac task (current target is 1.8) and compileDebugKotlin task (current target is 17) f","body":"<p>Try right-clicking on the project name and then click 'Open Module Settings'</p>\n<p>Change the Gradle JDK to 17</p>\n<p><a href=\"https://i.stack.imgur.com/OfpGQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OfpGQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20552499,"reputation":33,"user_id":15084887,"display_name":"RIYAS PULLUR"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1701404774,"creation_date":1701404774,"answer_id":77583009,"question_id":77365668,"body_markdown":"\r\nThis error indicates a mismatch in Java and Kotlin compilation targets in your Android Studio project. The current target version for compileDebugJavaWithJavac is set to 1.8 (Java 8), while the target for compileDebugKotlin is set to 17. These should, ideally, match.\r\n\r\n\r\n1. Update Java Version\r\nEnsure that your compileOptions are in the Android block of your build.gradle file is set to a version compatible with both Java and Kotlin.\r\n\r\n \r\n\r\n    android {\r\n        compileOptions {\r\n            sourceCompatibility 1.8\r\n            targetCompatibility 1.8\r\n        }\r\n        // Other configurations...\r\n    }\r\n\r\n\r\n2. Update Kotlin Version\r\nCheck your build.gradle file for the Kotlin version and make sure it&#39;s compatible with your project. You can set the Kotlin version in the dependencies block:\r\n\r\n    dependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n    // Other dependencies...\r\n}\r\n\r\n\r\n\r\n3. Check Gradle Version\r\nEnsure that you are using an up-to-date version of the Gradle plugin in your build.gradle file:\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.0&#39; // Use the latest version\r\n        // Other dependencies...\r\n    }\r\n\r\n4. Clean and Rebuild\r\nAfter making these changes, clean your project and rebuild it. You can do this by selecting &quot;Build&quot; -&gt; &quot;Clean Project&quot; and then &quot;Build&quot; -&gt; &quot;Rebuild Project&quot; in Android Studio.\r\n\r\n5. Check Dependencies\r\nMake sure that all your dependencies, including any Kotlin or Java libraries, are compatible with the versions you are using.\r\n\r\n6. Review Android Studio Settings\r\nIn Android Studio, go to &quot;File&quot; -&gt; &quot;Project Structure&quot; and ensure that the JDK location is set correctly.\r\n\r\n7. Check Gradle Properties\r\nIn the gradle.properties file of your project, ensure that the Java version is set correctly:\r\n\r\norg.gradle.java.home=/path/to/your/jdk\r\n\r\n\r\n\r\n","title":"Android Studio build error - compileDebugJavaWithJavac task (current target is 1.8) and compileDebugKotlin task (current target is 17) f","body":"<p>This error indicates a mismatch in Java and Kotlin compilation targets in your Android Studio project. The current target version for compileDebugJavaWithJavac is set to 1.8 (Java 8), while the target for compileDebugKotlin is set to 17. These should, ideally, match.</p>\n<ol>\n<li><p>Update Java Version\nEnsure that your compileOptions are in the Android block of your build.gradle file is set to a version compatible with both Java and Kotlin.</p>\n<p>android {\ncompileOptions {\nsourceCompatibility 1.8\ntargetCompatibility 1.8\n}\n// Other configurations...\n}</p>\n</li>\n<li><p>Update Kotlin Version\nCheck your build.gradle file for the Kotlin version and make sure it's compatible with your project. You can set the Kotlin version in the dependencies block:</p>\n<p>dependencies {\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n// Other dependencies...\n}</p>\n</li>\n<li><p>Check Gradle Version\nEnsure that you are using an up-to-date version of the Gradle plugin in your build.gradle file:</p>\n<p>dependencies {\nclasspath 'com.android.tools.build:gradle:7.0.0' // Use the latest version\n// Other dependencies...\n}</p>\n</li>\n<li><p>Clean and Rebuild\nAfter making these changes, clean your project and rebuild it. You can do this by selecting &quot;Build&quot; -&gt; &quot;Clean Project&quot; and then &quot;Build&quot; -&gt; &quot;Rebuild Project&quot; in Android Studio.</p>\n</li>\n<li><p>Check Dependencies\nMake sure that all your dependencies, including any Kotlin or Java libraries, are compatible with the versions you are using.</p>\n</li>\n<li><p>Review Android Studio Settings\nIn Android Studio, go to &quot;File&quot; -&gt; &quot;Project Structure&quot; and ensure that the JDK location is set correctly.</p>\n</li>\n<li><p>Check Gradle Properties\nIn the gradle.properties file of your project, ensure that the Java version is set correctly:</p>\n</li>\n</ol>\n<p>org.gradle.java.home=/path/to/your/jdk</p>\n"}],"owner":{"account_id":11534281,"reputation":307,"user_id":8452276,"display_name":"danish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1701404774,"creation_date":1698311819,"question_id":77365668,"body_markdown":"I am working on an app it was working fine until i upgraded the gradle version now this is the error. I also tried changing the version to 17 but it doesn&#39;t seems to work and also changed the java version for gradle in setting android studio to 17.\r\n\r\n    Execution failed for task &#39;:stripe_android:compileDebugKotlin&#39;.\r\n    &gt; &#39;compileDebugJavaWithJavac&#39; task (current target is 1.8) and &#39;compileDebugKotlin&#39; \r\n    task (current target is 17) jvm target compatibility should be set to the same Java \r\n    version.\r\n\r\nThis is my buld.gradle file. Here i changed according to the error.\r\n\r\n```\r\nplugins {\r\n    id &quot;com.android.application&quot;\r\n    id &quot;kotlin-android&quot;\r\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\r\n}\r\n\r\ndef localProperties = new Properties()\r\ndef localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\nif (localPropertiesFile.exists()) {\r\n    localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n        localProperties.load(reader)\r\n    }\r\n}\r\n\r\ndef flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\nif (flutterVersionCode == null) {\r\n    flutterVersionCode = &#39;1&#39;\r\n}\r\n\r\ndef flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\nif (flutterVersionName == null) {\r\n    flutterVersionName = &#39;1.0&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &quot;com.roam1.esim&quot;\r\n    compileSdkVersion flutter.compileSdkVersion\r\n    ndkVersion flutter.ndkVersion\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;17&#39;\r\n    }\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n        applicationId &quot;com.example.sim&quot;\r\n        // You can update the following values to match your application needs.\r\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\r\n        minSdkVersion 21\r\n        targetSdkVersion flutter.targetSdkVersion\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            // TODO: Add your own signing config for the release build.\r\n            // Signing with the debug keys for now, so `flutter run --release` works.\r\n            signingConfig signingConfigs.debug\r\n        }\r\n    }\r\n}\r\n\r\nflutter {\r\n    source &#39;../..&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.facebook.android:facebook-android-sdk:latest.release&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:32.4.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n}\r\n\r\n```\r\n","title":"Android Studio build error - compileDebugJavaWithJavac task (current target is 1.8) and compileDebugKotlin task (current target is 17) f","body":"<p>I am working on an app it was working fine until i upgraded the gradle version now this is the error. I also tried changing the version to 17 but it doesn't seems to work and also changed the java version for gradle in setting android studio to 17.</p>\n<pre><code>Execution failed for task ':stripe_android:compileDebugKotlin'.\n&gt; 'compileDebugJavaWithJavac' task (current target is 1.8) and 'compileDebugKotlin' \ntask (current target is 17) jvm target compatibility should be set to the same Java \nversion.\n</code></pre>\n<p>This is my buld.gradle file. Here i changed according to the error.</p>\n<pre><code>plugins {\n    id &quot;com.android.application&quot;\n    id &quot;kotlin-android&quot;\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\nandroid {\n    namespace &quot;com.roam1.esim&quot;\n    compileSdkVersion flutter.compileSdkVersion\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n\n    kotlinOptions {\n        jvmTarget = '17'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.example.sim&quot;\n        // You can update the following values to match your application needs.\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\n        minSdkVersion 21\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation 'com.facebook.android:facebook-android-sdk:latest.release'\n    implementation platform('com.google.firebase:firebase-bom:32.4.0')\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n}\n\n</code></pre>\n"},{"tags":["java","java.util.scanner","java-io"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1383873040,"post_id":19849813,"comment_id":29520923,"body_markdown":"Any exceptions? Any empty catch blocks?","body":"Any exceptions? Any empty catch blocks?"},{"owner":{"account_id":1675472,"reputation":1206,"user_id":1541137,"accept_rate":83,"display_name":"Lan"},"score":0,"creation_date":1383873069,"post_id":19849813,"comment_id":29520930,"body_markdown":"Any special characters? Try bufferedreader, I&#39;ve had mirror issues like yours. Or try switching hasNext() to hastNextLine() to see if that affects your stated switch from next() to nextLine()","body":"Any special characters? Try bufferedreader, I&#39;ve had mirror issues like yours. Or try switching hasNext() to hastNextLine() to see if that affects your stated switch from next() to nextLine()"},{"owner":{"display_name":"user2030471"},"score":0,"creation_date":1383873408,"post_id":19849813,"comment_id":29521000,"body_markdown":"Did you try printing the `ArrayList`? There might be an issue/misconfig with the IDE.","body":"Did you try printing the <code>ArrayList</code>? There might be an issue/misconfig with the IDE."},{"owner":{"account_id":2025799,"reputation":1515,"user_id":1810854,"accept_rate":60,"display_name":"Jess"},"score":0,"creation_date":1383873431,"post_id":19849813,"comment_id":29521004,"body_markdown":"Exceptions: originally caught FileNotFoundExceptions and printed stack trace, changed to general type Exception but no difference...","body":"Exceptions: originally caught FileNotFoundExceptions and printed stack trace, changed to general type Exception but no difference..."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1383873470,"post_id":19849813,"comment_id":29521014,"body_markdown":"What does this even mean `I&#39;ve initialized Scanner both with and without a &quot;\\n&quot; delimiter`?. Also, do like @John said and use `hasNextLine()`. It&#39;s better practice.","body":"What does this even mean <code>I&#39;ve initialized Scanner both with and without a &quot;\\n&quot; delimiter</code>?. Also, do like @John said and use <code>hasNextLine()</code>. It&#39;s better practice."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1383873549,"post_id":19849813,"comment_id":29521034,"body_markdown":"Are trying to store each word or each line? Be more clear.","body":"Are trying to store each word or each line? Be more clear."},{"owner":{"account_id":2025799,"reputation":1515,"user_id":1810854,"accept_rate":60,"display_name":"Jess"},"score":0,"creation_date":1383874067,"post_id":19849813,"comment_id":29521137,"body_markdown":"I have one word on each line, so same thing essentially. &quot;\\n&quot; as in I&#39;ve initialized my Scanner specifying that the delimiter was a new line e.g. Scanner s = new Scanner(file).useDelimiter(&quot;\\n&quot;). Just changed to hasNextLine(), but still same result..","body":"I have one word on each line, so same thing essentially. &quot;\\n&quot; as in I&#39;ve initialized my Scanner specifying that the delimiter was a new line e.g. Scanner s = new Scanner(file).useDelimiter(&quot;\\n&quot;). Just changed to hasNextLine(), but still same result.."},{"owner":{"account_id":2025799,"reputation":1515,"user_id":1810854,"accept_rate":60,"display_name":"Jess"},"score":0,"creation_date":1383874134,"post_id":19849813,"comment_id":29521151,"body_markdown":"If I try to print the later elements of my ArrayList beyond what I see in the debugger, they haven&#39;t even been initialized yet (IndexOutOfBounds)","body":"If I try to print the later elements of my ArrayList beyond what I see in the debugger, they haven&#39;t even been initialized yet (IndexOutOfBounds)"}],"answers":[{"tags":[],"owner":{"account_id":22315382,"reputation":11,"user_id":16538806,"display_name":"Phoebe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627411435,"creation_date":1627400337,"answer_id":68547880,"question_id":19849813,"body_markdown":"try `FileReader` instead of `File`, so you don&#39;t have buffer problems. I had the same problem and this worked for me.","title":"java.util.Scanner issue: stops reading after certain number of characters?","body":"<p>try <code>FileReader</code> instead of <code>File</code>, so you don't have buffer problems. I had the same problem and this worked for me.</p>\n"}],"owner":{"account_id":2025799,"reputation":1515,"user_id":1810854,"accept_rate":60,"display_name":"Jess"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701404347,"creation_date":1383872708,"question_id":19849813,"body_markdown":"I&#39;m using Scanner to read in approx 700 lines of text (one word per line), and storing each line/word as an element of String ArrayList constructed with a predetermined 800-element size. However, while debugging in Eclipse&#39;s variable mode I noticed that the later elements of the ArrayList weren&#39;t initialized at all - it seems Scanner stopped in the middle of a word, on a random line. \r\n\r\n - It isn&#39;t a problem with the delimiter (I&#39;ve initialized Scanner both with and without a &quot;\\n&quot; delimiter, no difference) or the text content itself -- when I switch around the order of the words, Scanner stops reading at EXACTLY the same number of characters.\r\n - The text file itself isn&#39;t very big -- only 6KB.\r\n - I&#39;ve tried switching from next() to nextLine(), no issue there either\r\n\r\nI&#39;m using try with resources:\r\n\r\n    try (Scanner stopwordImport = new Scanner(new File(stopwordFile))) {\r\n\t\t\twhile (stopwordImport.hasNext()) {\r\n\t\t\t\tstopWords.add(stopwordImport.nextLine());\r\n\t\t\t}\r\n...so Scanner should be closing.\r\n\r\nI&#39;m at a loss...what&#39;s going wrong? Thanks in advance.","title":"java.util.Scanner issue: stops reading after certain number of characters?","body":"<p>I'm using Scanner to read in approx 700 lines of text (one word per line), and storing each line/word as an element of String ArrayList constructed with a predetermined 800-element size. However, while debugging in Eclipse's variable mode I noticed that the later elements of the ArrayList weren't initialized at all - it seems Scanner stopped in the middle of a word, on a random line. </p>\n\n<ul>\n<li>It isn't a problem with the delimiter (I've initialized Scanner both with and without a \"\\n\" delimiter, no difference) or the text content itself -- when I switch around the order of the words, Scanner stops reading at EXACTLY the same number of characters.</li>\n<li>The text file itself isn't very big -- only 6KB.</li>\n<li>I've tried switching from next() to nextLine(), no issue there either</li>\n</ul>\n\n<p>I'm using try with resources:</p>\n\n<pre><code>try (Scanner stopwordImport = new Scanner(new File(stopwordFile))) {\n        while (stopwordImport.hasNext()) {\n            stopWords.add(stopwordImport.nextLine());\n        }\n</code></pre>\n\n<p>...so Scanner should be closing.</p>\n\n<p>I'm at a loss...what's going wrong? Thanks in advance.</p>\n"},{"tags":["java","selenium-webdriver","automation","webdriver-manager"],"comments":[{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1699259122,"post_id":77429284,"comment_id":136504231,"body_markdown":"You need to add the slf4j-simple-1.6.2.jar file to your classpath","body":"You need to add the slf4j-simple-1.6.2.jar file to your classpath"},{"owner":{"account_id":29835675,"reputation":11,"user_id":22865084,"display_name":"Nabeel khan"},"score":0,"creation_date":1699260714,"post_id":77429284,"comment_id":136504460,"body_markdown":"Thanks @bhairu . . . after adding above suggested dependency it has finally started working now :)","body":"Thanks @bhairu . . . after adding above suggested dependency it has finally started working now :)"}],"owner":{"account_id":29835675,"reputation":11,"user_id":22865084,"display_name":"Nabeel khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701403363,"creation_date":1699254308,"question_id":77429284,"body_markdown":"I am getting below error on running my testng test:\r\n\r\n*&quot;org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;xxxxx&#39;, ip: &#39;xxxxxxxxxxx&#39;\r\nBuild info: version: &#39;4.15.0&#39;, revision: &#39;1d14b5521b&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;13.5&#39;, java.version: &#39;21.0.1&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [], binary: /Application&quot;*\r\n\r\n**Below are the details of versions I am using:**\r\nChrome browser version: 119\r\nWebdrivermanager: 5.6.0\r\nTestNg version: 7.8.0\r\nSelenium-Java: 4.15.0\r\nJDK: Tried 21, 18 and 11 but facing same issue every time\r\n\r\n**Here is the code I am trying to run:**\r\n\r\n\r\n\r\n```\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.testng.annotations.*;\r\n\r\npublic class okta1 {\r\n\r\n    private WebDriver driver;\r\n\r\n    @BeforeClass\r\n    static void setupClass() {\r\n        WebDriverManager.chromedriver().clearDriverCache().setup();\r\n    }\r\n\r\n    @BeforeTest\r\n    void setupTest() {\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setCapability(&quot;browserVersion&quot;, &quot;119.0.6045.105&quot;);\r\n        driver = new ChromeDriver(options);\r\n    }\r\n\r\n    @AfterTest\r\n    void teardown() {\r\n        driver.quit();\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        // Exercise\r\n        driver.get(&quot;https://bonigarcia.dev/selenium-webdriver-java/&quot;);\r\n        String title = driver.getTitle();\r\n\r\n        // Verify\r\n        // assertThat(title).contains(&quot;Selenium WebDriver&quot;);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n**\r\nHere is the pom.xml:**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Teams-Automation-Framework&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;21&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;```\r\n\r\n\r\n\r\nTried changing different version of JDK and webdriver manager but still getting same error on every attempt","title":"I can not open the chrome browser using latest webdriver manager 5.6.0","body":"<p>I am getting below error on running my testng test:</p>\n<p><em>&quot;org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\nHost info: host: 'xxxxx', ip: 'xxxxxxxxxxx'\nBuild info: version: '4.15.0', revision: '1d14b5521b'\nSystem info: os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '13.5', java.version: '21.0.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [], binary: /Application&quot;</em></p>\n<p><strong>Below are the details of versions I am using:</strong>\nChrome browser version: 119\nWebdrivermanager: 5.6.0\nTestNg version: 7.8.0\nSelenium-Java: 4.15.0\nJDK: Tried 21, 18 and 11 but facing same issue every time</p>\n<p><strong>Here is the code I am trying to run:</strong></p>\n<pre><code>import io.github.bonigarcia.wdm.WebDriverManager;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.testng.annotations.*;\n\npublic class okta1 {\n\n    private WebDriver driver;\n\n    @BeforeClass\n    static void setupClass() {\n        WebDriverManager.chromedriver().clearDriverCache().setup();\n    }\n\n    @BeforeTest\n    void setupTest() {\n        ChromeOptions options = new ChromeOptions();\n        options.setCapability(&quot;browserVersion&quot;, &quot;119.0.6045.105&quot;);\n        driver = new ChromeDriver(options);\n    }\n\n    @AfterTest\n    void teardown() {\n        driver.quit();\n    }\n\n    @Test\n    void test() {\n        // Exercise\n        driver.get(&quot;https://bonigarcia.dev/selenium-webdriver-java/&quot;);\n        String title = driver.getTitle();\n\n        // Verify\n        // assertThat(title).contains(&quot;Selenium WebDriver&quot;);\n    }\n\n\n}\n</code></pre>\n<p>**\nHere is the pom.xml:**</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Teams-Automation-Framework&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;21&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.15.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;```\n\n\n\nTried changing different version of JDK and webdriver manager but still getting same error on every attempt\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":29137371,"reputation":5,"user_id":22321226,"display_name":"user22321226"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701403107,"creation_date":1700167453,"question_id":77497947,"body_markdown":"Here is the Pop up \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/24STp.png\r\n\r\nHow to handle this and click on Keep.\r\n\r\nI have tried \r\n\r\n```\r\noptions.addArguments(&quot;--safebrowsing-disable-download-protection&quot;); \r\noptions.addArguments(&quot;safebrowsing-disable-extension-blacklist&quot;);\r\nMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\nprefs.put(&quot;download.default_directory&quot;, downloadDirectory);\r\nprefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n```\r\n\r\nBut not working.","title":"How to handle Download blocked pop up in selenium Java?","body":"<p>Here is the Pop up\n<a href=\"https://i.stack.imgur.com/24STp.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>How to handle this and click on Keep.</p>\n<p>I have tried</p>\n<pre><code>options.addArguments(&quot;--safebrowsing-disable-download-protection&quot;); \noptions.addArguments(&quot;safebrowsing-disable-extension-blacklist&quot;);\nMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\nprefs.put(&quot;download.default_directory&quot;, downloadDirectory);\nprefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\n</code></pre>\n<p>But not working.</p>\n"},{"tags":["java","maven","automated-tests","allure"],"owner":{"account_id":13823535,"reputation":307,"user_id":9978422,"display_name":"lukos06"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701403056,"creation_date":1701352046,"question_id":77578969,"body_markdown":"I have a problem. I want to use Allure Reports in my Java tests (Selenide + TestNG). I&#39;ve added all the dependencies to the `pom.xml` according to the documentation:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test-repo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;allure.version&gt;2.24.0&lt;/allure.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${allure.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;7.14.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.14.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.6.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n...\r\n\r\n```\r\nHere&#39;s how my test runner looks like:\r\n```\r\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\r\nimport io.cucumber.testng.CucumberOptions;\r\nimport org.testng.annotations.Test;\r\n\r\n@Test\r\n@CucumberOptions(\r\n        features = &quot;src/test/resources/features&quot;,\r\n        glue = {&quot;stepDefinitions&quot;},\r\n        plugin = {&quot;io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;}\r\n)\r\npublic class TestRunner extends AbstractTestNGCucumberTests {\r\n    static {\r\n        System.setProperty(&quot;IS_CUCUMBER_TEST&quot;, &quot;true&quot;);\r\n    }\r\n}\r\n```\r\nThe problem is that the `.json` files are generated in the allure-results folder, but when I try to use the command `allure serve allure-results`, a browser opens with an empty page and a message that the page is not accessible. I&#39;ve already tried changing the port, using the full path, changing the test folder, and nothing seems to work. Can anyone help?","title":"Allure HTML report won&#39;t create from json files","body":"<p>I have a problem. I want to use Allure Reports in my Java tests (Selenide + TestNG). I've added all the dependencies to the <code>pom.xml</code> according to the documentation:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test-repo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;allure.version&gt;2.24.0&lt;/allure.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-bom&lt;/artifactId&gt;\n                &lt;version&gt;${allure.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\n            &lt;version&gt;7.0.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.14.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;7.14.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.6.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n...\n\n</code></pre>\n<p>Here's how my test runner looks like:</p>\n<pre><code>import io.cucumber.testng.AbstractTestNGCucumberTests;\nimport io.cucumber.testng.CucumberOptions;\nimport org.testng.annotations.Test;\n\n@Test\n@CucumberOptions(\n        features = &quot;src/test/resources/features&quot;,\n        glue = {&quot;stepDefinitions&quot;},\n        plugin = {&quot;io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;}\n)\npublic class TestRunner extends AbstractTestNGCucumberTests {\n    static {\n        System.setProperty(&quot;IS_CUCUMBER_TEST&quot;, &quot;true&quot;);\n    }\n}\n</code></pre>\n<p>The problem is that the <code>.json</code> files are generated in the allure-results folder, but when I try to use the command <code>allure serve allure-results</code>, a browser opens with an empty page and a message that the page is not accessible. I've already tried changing the port, using the full path, changing the test folder, and nothing seems to work. Can anyone help?</p>\n"},{"tags":["java","gradle","junit","build.gradle"],"owner":{"account_id":8445681,"reputation":344,"user_id":6336443,"accept_rate":29,"display_name":"Somesh Dhal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701403012,"creation_date":1701375763,"question_id":77581468,"body_markdown":"I have a multi-module gradle project where each module has some test cases. With the default gradle behavior, test cases within a module run sequentially but test tasks of multiple modules will run in parallel. Due to some internal reason, I want to avoid this behavior and achieve the following things.\r\n\r\n - Each module&#39;s test task should run once the previous module&#39;s test execution is done.\r\n - Test cases present with a module should execute sequentially. ( happening by default )\r\n\r\nBelow is the build.gradle of my root project. Please suggest what changes can be done for the same.\r\n\r\n    /****************************************\r\n     * instructions for all projects\r\n     ****************************************/\r\n    \r\n    allprojects {\r\n        apply from: &quot;$rootDir/dependencies.gradle&quot;\r\n        apply from: &quot;$rootDir/build.properties&quot;\r\n    \r\n        apply plugin: &#39;project-report&#39;\r\n        apply plugin: &#39;java-library&#39;\r\n        apply plugin: &#39;maven-publish&#39;\r\n    \r\n    \r\n        repositories {\r\n            mavenCentral()\r\n            mavenLocal()\r\n        }\r\n    \r\n        group = projectName\r\n        projectVersion = projectVersion + &#39;.&#39; + jenkinsBuildNumber\r\n        version = projectVersion\r\n    \r\n        sourceCompatibility = 11\r\n        targetCompatibility = 11\r\n    \r\n    }\r\n    \r\n    /****************************************\r\n     * instructions for each sub project\r\n     ****************************************/\r\n    subprojects {\r\n        apply plugin: &#39;jacoco&#39;\r\n        jacoco {\r\n            toolVersion = &quot;0.8.5&quot;\r\n            reportsDir = file(&quot;$buildDir/reports/jacoco&quot;)\r\n        }\r\n    \r\n        jacocoTestReport {\r\n            def coverageSourceDirs = [&#39;src/main/java/&#39;]\r\n            reports {\r\n                xml.enabled false\r\n                csv.enabled false\r\n                html.enabled true\r\n            }\r\n        }\r\n    \r\n        // common dependencies\r\n        dependencies {\r\n            testImplementation(\r\n                    libs.testng,\r\n            )\r\n        }\r\n    \r\n        test {\r\n            systemProperty &quot;file.encoding&quot;, &quot;utf-8&quot;\r\n            useTestNG()\r\n            testLogging.showStandardStreams = true\r\n            testLogging.exceptionFormat = &#39;full&#39;\r\n            testLogging {\r\n                events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n            }\r\n            finalizedBy jacocoTestReport\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to ensure sequential module wise test case execution in multi module gradle project?","body":"<p>I have a multi-module gradle project where each module has some test cases. With the default gradle behavior, test cases within a module run sequentially but test tasks of multiple modules will run in parallel. Due to some internal reason, I want to avoid this behavior and achieve the following things.</p>\n<ul>\n<li>Each module's test task should run once the previous module's test execution is done.</li>\n<li>Test cases present with a module should execute sequentially. ( happening by default )</li>\n</ul>\n<p>Below is the build.gradle of my root project. Please suggest what changes can be done for the same.</p>\n<pre><code>/****************************************\n * instructions for all projects\n ****************************************/\n\nallprojects {\n    apply from: &quot;$rootDir/dependencies.gradle&quot;\n    apply from: &quot;$rootDir/build.properties&quot;\n\n    apply plugin: 'project-report'\n    apply plugin: 'java-library'\n    apply plugin: 'maven-publish'\n\n\n    repositories {\n        mavenCentral()\n        mavenLocal()\n    }\n\n    group = projectName\n    projectVersion = projectVersion + '.' + jenkinsBuildNumber\n    version = projectVersion\n\n    sourceCompatibility = 11\n    targetCompatibility = 11\n\n}\n\n/****************************************\n * instructions for each sub project\n ****************************************/\nsubprojects {\n    apply plugin: 'jacoco'\n    jacoco {\n        toolVersion = &quot;0.8.5&quot;\n        reportsDir = file(&quot;$buildDir/reports/jacoco&quot;)\n    }\n\n    jacocoTestReport {\n        def coverageSourceDirs = ['src/main/java/']\n        reports {\n            xml.enabled false\n            csv.enabled false\n            html.enabled true\n        }\n    }\n\n    // common dependencies\n    dependencies {\n        testImplementation(\n                libs.testng,\n        )\n    }\n\n    test {\n        systemProperty &quot;file.encoding&quot;, &quot;utf-8&quot;\n        useTestNG()\n        testLogging.showStandardStreams = true\n        testLogging.exceptionFormat = 'full'\n        testLogging {\n            events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n        }\n        finalizedBy jacocoTestReport\n\n    }\n}\n</code></pre>\n"},{"tags":["java","rest","web-services","resttemplate"],"comments":[{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":1,"creation_date":1662198839,"post_id":73590975,"comment_id":129954192,"body_markdown":"What exception actually gets thrown?","body":"What exception actually gets thrown?"},{"owner":{"account_id":10352670,"reputation":15,"user_id":7635630,"display_name":"Niranjan "},"score":0,"creation_date":1662281824,"post_id":73590975,"comment_id":129966214,"body_markdown":"SocketException - Read Timed out","body":"SocketException - Read Timed out"}],"answers":[{"tags":[],"owner":{"account_id":3487925,"reputation":107,"user_id":2918319,"display_name":"Jerry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701402448,"creation_date":1701402448,"answer_id":77582902,"question_id":73590975,"body_markdown":"In my case, it is because of Windows update. I need to update Windows, restart the PC, then it works. But I&#39;m don&#39;t know the root cause.","title":"Request getting read timed out from code using resttemplate. But same request goes through in postman","body":"<p>In my case, it is because of Windows update. I need to update Windows, restart the PC, then it works. But I'm don't know the root cause.</p>\n"}],"owner":{"account_id":10352670,"reputation":15,"user_id":7635630,"display_name":"Niranjan "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701402448,"creation_date":1662196041,"question_id":73590975,"body_markdown":"This is a large request. But it works in postman and returns after a min.\r\nThe rest template timeout has been set as 5min. Both read and connection timeout. Somehow this works for smaller requests. I also debugged and I could see the timeout setting being applied. \r\n\r\nHowever the order went through and reached our target system and order got placed there. But we never get a response back, hence our system shows order failed since no response was received. The same works through postman. I checked through the headers, everything is ditto same\r\n\r\n    final String responseStr = restTemplate.postForObject(url, httpEntity, String.class);\r\n\r\n&lt;alias name=&quot;defaultHoneywellApigeeRestTemplate&quot; alias=&quot;honeywellApigeeRestTemplate&quot;/&gt;\r\n    &lt;bean id=&quot;defaultHoneywellApigeeRestTemplate&quot; class=&quot;org.springframework.web.client.RestTemplate&quot; scope=&quot;prototype&quot;&gt;\r\n        &lt;property name=&quot;requestFactory&quot; ref=&quot;simpleClientHttpRequestFactory&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;alias name=&quot;defaultSimpleClientHttpRequestFactory&quot; alias=&quot;simpleClientHttpRequestFactory&quot;/&gt;\r\n    &lt;bean id=&quot;defaultSimpleClientHttpRequestFactory&quot; class=&quot;org.springframework.http.client.SimpleClientHttpRequestFactory&quot; scope=&quot;prototype&quot;&gt;\r\n        &lt;property name=&quot;connectTimeout&quot; value=&quot;${connection.timeout}&quot;/&gt;\r\n        &lt;property name=&quot;readTimeout&quot; value=&quot;${read.timeout}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nAs per best practices, we must use a rest template creator. **But is this issue caused by this**? This is all existing code. Is it worth the refactor? Because we had already tried some options(**bufferRequestBody** to false) which has led to other strange issues. It works in local, but not in higher env as well\r\n\r\nOr is it caused by **not using custom message converters**? Should we take this direction? Something like below since we are using json string request\r\n\r\n    &lt;property name=&quot;messageConverters&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\r\n                    &lt;property name=&quot;supportedMediaTypes&quot;&gt;\r\n                        &lt;list&gt;\r\n                            &lt;bean class=&quot;org.springframework.http.MediaType&quot;&gt;\r\n                                &lt;constructor-arg value=&quot;application&quot;/&gt;\r\n                                &lt;constructor-arg value=&quot;json&quot;/&gt;\r\n                            &lt;/bean&gt;\r\n                            &lt;bean class=&quot;org.springframework.http.MediaType&quot;&gt;\r\n                                &lt;constructor-arg value=&quot;application&quot;/&gt;\r\n                                &lt;constructor-arg value=&quot;octet-stream&quot;/&gt;\r\n                            &lt;/bean&gt;\r\n                        &lt;/list&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/bean&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n\r\nOr should is this caused by **request interceptor**?\r\n\r\nOr by **Error handler**? I debugged this flow to see where exactly it read times out. And I could see execute method is happening fine, but then later in error handler. \r\n\r\n    org.springframework.web.client.DefaultResponseErrorHandler\r\n    \r\n    @Override\r\n          public boolean hasError(ClientHttpResponse response) throws IOException {\r\n                int rawStatusCode = response.getRawStatusCode();\r\n                HttpStatus statusCode = HttpStatus.resolve(rawStatusCode);\r\n                return (statusCode != null ? hasError(statusCode) : hasError(rawStatusCode));\r\n          }\r\n\r\nIt times out at **response.getRawStatusCode()**\r\n\r\nHas anyone faced something like this with rest template? Please share or suggest. Thanks in Advance","title":"Request getting read timed out from code using resttemplate. But same request goes through in postman","body":"<p>This is a large request. But it works in postman and returns after a min.\nThe rest template timeout has been set as 5min. Both read and connection timeout. Somehow this works for smaller requests. I also debugged and I could see the timeout setting being applied.</p>\n<p>However the order went through and reached our target system and order got placed there. But we never get a response back, hence our system shows order failed since no response was received. The same works through postman. I checked through the headers, everything is ditto same</p>\n<pre><code>final String responseStr = restTemplate.postForObject(url, httpEntity, String.class);\n</code></pre>\n\n    \n        \n    \n<pre><code>&lt;alias name=&quot;defaultSimpleClientHttpRequestFactory&quot; alias=&quot;simpleClientHttpRequestFactory&quot;/&gt;\n&lt;bean id=&quot;defaultSimpleClientHttpRequestFactory&quot; class=&quot;org.springframework.http.client.SimpleClientHttpRequestFactory&quot; scope=&quot;prototype&quot;&gt;\n    &lt;property name=&quot;connectTimeout&quot; value=&quot;${connection.timeout}&quot;/&gt;\n    &lt;property name=&quot;readTimeout&quot; value=&quot;${read.timeout}&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>As per best practices, we must use a rest template creator. <strong>But is this issue caused by this</strong>? This is all existing code. Is it worth the refactor? Because we had already tried some options(<strong>bufferRequestBody</strong> to false) which has led to other strange issues. It works in local, but not in higher env as well</p>\n<p>Or is it caused by <strong>not using custom message converters</strong>? Should we take this direction? Something like below since we are using json string request</p>\n<pre><code>&lt;property name=&quot;messageConverters&quot;&gt;\n        &lt;list&gt;\n            &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\n                &lt;property name=&quot;supportedMediaTypes&quot;&gt;\n                    &lt;list&gt;\n                        &lt;bean class=&quot;org.springframework.http.MediaType&quot;&gt;\n                            &lt;constructor-arg value=&quot;application&quot;/&gt;\n                            &lt;constructor-arg value=&quot;json&quot;/&gt;\n                        &lt;/bean&gt;\n                        &lt;bean class=&quot;org.springframework.http.MediaType&quot;&gt;\n                            &lt;constructor-arg value=&quot;application&quot;/&gt;\n                            &lt;constructor-arg value=&quot;octet-stream&quot;/&gt;\n                        &lt;/bean&gt;\n                    &lt;/list&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n</code></pre>\n<p>Or should is this caused by <strong>request interceptor</strong>?</p>\n<p>Or by <strong>Error handler</strong>? I debugged this flow to see where exactly it read times out. And I could see execute method is happening fine, but then later in error handler.</p>\n<pre><code>org.springframework.web.client.DefaultResponseErrorHandler\n\n@Override\n      public boolean hasError(ClientHttpResponse response) throws IOException {\n            int rawStatusCode = response.getRawStatusCode();\n            HttpStatus statusCode = HttpStatus.resolve(rawStatusCode);\n            return (statusCode != null ? hasError(statusCode) : hasError(rawStatusCode));\n      }\n</code></pre>\n<p>It times out at <strong>response.getRawStatusCode()</strong></p>\n<p>Has anyone faced something like this with rest template? Please share or suggest. Thanks in Advance</p>\n"},{"tags":["java","mysql","postgresql","netbeans","jdbc"],"comments":[{"owner":{"account_id":364812,"reputation":3294,"user_id":709399,"accept_rate":71,"display_name":"Tim Sparg"},"score":0,"creation_date":1306059079,"post_id":6081307,"comment_id":7053860,"body_markdown":"Is your question about using the built in NetBeans SQL editor to access your database, or are you asking how to connect the program that you&#39;ve written to a MySQL database?","body":"Is your question about using the built in NetBeans SQL editor to access your database, or are you asking how to connect the program that you&#39;ve written to a MySQL database?"}],"answers":[{"comments":[{"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"score":0,"creation_date":1305977663,"post_id":6081333,"comment_id":7045160,"body_markdown":"@jigar u don&#39;t need to install jar. just select connetor/J dirver","body":"@jigar u don&#39;t need to install jar. just select connetor/J dirver"},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1305977757,"post_id":6081333,"comment_id":7045172,"body_markdown":"@ravi I meant installation by  that","body":"@ravi I meant installation by  that"},{"owner":{"account_id":371575,"reputation":13174,"user_id":720176,"accept_rate":75,"display_name":"Amit"},"score":0,"creation_date":1305978932,"post_id":6081333,"comment_id":7045341,"body_markdown":"@ravi and @Jigar : I have done all that... but still Class.forName() is throwing ClassNotFoundException. When I tried System.setProperty(&quot;jdbc.driver&quot;,&quot;driver info&quot;); still it is not working.....","body":"@ravi and @Jigar : I have done all that... but still Class.forName() is throwing ClassNotFoundException. When I tried System.setProperty(&quot;jdbc.driver&quot;,&quot;driver info&quot;); still it is not working....."},{"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"score":0,"creation_date":1305979129,"post_id":6081333,"comment_id":7045368,"body_markdown":"buddy u have to attache mysql.jar to run your project library.\nattache with naetbean is just like workbench,querybrowser, toad etc.","body":"buddy u have to attache mysql.jar to run your project library. attache with naetbean is just like workbench,querybrowser, toad etc."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1305979336,"post_id":6081333,"comment_id":7045396,"body_markdown":"You need to provide driver jar  into classpath","body":"You need to provide driver jar  into classpath"}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305978962,"creation_date":1305976492,"answer_id":6081333,"question_id":6081307,"body_markdown":"If you meant you want to use IDE&#39;s GUI tool then\r\n\r\n - windows &gt; services &gt;database &gt; driver\r\n - Get the driver jar\r\n - install the jar\r\n - right click on driver installed &gt; connect using &gt; and then provide the information\r\n\r\nOr otherwise use JDBC","title":"How to connect NetBeans to MySQL database?","body":"<p>If you meant you want to use IDE's GUI tool then</p>\n\n<ul>\n<li>windows > services >database > driver</li>\n<li>Get the driver jar</li>\n<li>install the jar</li>\n<li>right click on driver installed > connect using > and then provide the information</li>\n</ul>\n\n<p>Or otherwise use JDBC</p>\n"},{"tags":[],"owner":{"account_id":60135,"reputation":855,"user_id":179741,"accept_rate":95,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305976560,"creation_date":1305976560,"answer_id":6081341,"question_id":6081307,"body_markdown":"One way to connect to such databases is to use a JDBC (Java Database Connectivity) driver.  You can find more about JDBC at the [Oracle FAQ](http://download.oracle.com/javase/tutorial/jdbc/basics/index.html).","title":"How to connect NetBeans to MySQL database?","body":"<p>One way to connect to such databases is to use a JDBC (Java Database Connectivity) driver.  You can find more about JDBC at the <a href=\"http://download.oracle.com/javase/tutorial/jdbc/basics/index.html\" rel=\"nofollow\">Oracle FAQ</a>.</p>\n"},{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1305979185,"creation_date":1305979185,"answer_id":6081579,"question_id":6081307,"body_markdown":"In the **Services** window you can right click on the **Databases** tab and select **New Connection**.\r\n![New Connection][1]\r\n\r\nSelect **MySQL(Connector/J Driver)** from the drop down list. The driver file should be listed in the window. If not, you can download the file, then click add and select it from your hard drive.\r\n![Driver Information][2]\r\n\r\nFinally enter your database details such as servername, username and password and click finish.\r\n![Database Details][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6EJsq.png\r\n  [2]: http://i.stack.imgur.com/OSFKB.png\r\n  [3]: http://i.stack.imgur.com/IB5Sm.png","title":"How to connect NetBeans to MySQL database?","body":"<p>In the <strong>Services</strong> window you can right click on the <strong>Databases</strong> tab and select <strong>New Connection</strong>.\n<img src=\"https://i.stack.imgur.com/6EJsq.png\" alt=\"New Connection\"></p>\n\n<p>Select <strong>MySQL(Connector/J Driver)</strong> from the drop down list. The driver file should be listed in the window. If not, you can download the file, then click add and select it from your hard drive.\n<img src=\"https://i.stack.imgur.com/OSFKB.png\" alt=\"Driver Information\"></p>\n\n<p>Finally enter your database details such as servername, username and password and click finish.\n<img src=\"https://i.stack.imgur.com/IB5Sm.png\" alt=\"Database Details\"></p>\n"},{"tags":[],"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305979390,"creation_date":1305979390,"answer_id":6081594,"question_id":6081307,"body_markdown":"see mysql .jar for u project properties if  u waant to run or for netbeans shown by @Vincent Ramdhanie\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/fjNIb.png","title":"How to connect NetBeans to MySQL database?","body":"<p>see mysql .jar for u project properties if  u waant to run or for netbeans shown by @Vincent Ramdhanie\n<img src=\"https://i.stack.imgur.com/fjNIb.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":3989434,"reputation":55901,"user_id":3288890,"accept_rate":43,"display_name":"Adiii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437241096,"creation_date":1437241096,"answer_id":31493762,"question_id":6081307,"body_markdown":"**click on window and then select services**\r\n\r\n\r\n![enter image description here][1]\r\n\r\n**then click on databases and select new connection**\r\n![enter image description here][2]\r\n\r\n\r\n\r\n**select driver which you want** \r\n\r\n\r\n\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SewTv.png\r\n  [2]: http://i.stack.imgur.com/3UixP.png\r\n  [3]: http://i.stack.imgur.com/ECnLa.png\r\n\r\n\r\n\r\nthen click finish \r\n\r\n\r\nif you want to check the connection is successful or not\r\n\r\n\r\n     try\r\n        {\r\n             con=DriverManager.getConnection(&quot;jdbc:mysql://localhost/student_result&quot;,&quot;root&quot;,&quot;&quot;);\r\n   \r\n\r\n    JOptionPane.showMessageDialog(null,&quot;connected with &quot;+con.toString());\r\n\r\n  \r\n        }\r\n        catch(Exception e)\r\n        {\r\n            JOptionPane.showMessageDialog(null,&quot;not connect to server and message is&quot;+e.getMessage());\r\n        }","title":"How to connect NetBeans to MySQL database?","body":"<p><strong>click on window and then select services</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/SewTv.png\" alt=\"enter image description here\"></p>\n\n<p><strong>then click on databases and select new connection</strong>\n<img src=\"https://i.stack.imgur.com/3UixP.png\" alt=\"enter image description here\"></p>\n\n<p><strong>select driver which you want</strong> </p>\n\n<p><img src=\"https://i.stack.imgur.com/ECnLa.png\" alt=\"enter image description here\"></p>\n\n<p>then click finish </p>\n\n<p>if you want to check the connection is successful or not</p>\n\n<pre><code> try\n    {\n         con=DriverManager.getConnection(\"jdbc:mysql://localhost/student_result\",\"root\",\"\");\n\n\nJOptionPane.showMessageDialog(null,\"connected with \"+con.toString());\n\n\n    }\n    catch(Exception e)\n    {\n        JOptionPane.showMessageDialog(null,\"not connect to server and message is\"+e.getMessage());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9045441,"reputation":1,"user_id":6737960,"display_name":"Sudhir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471694403,"creation_date":1471694403,"answer_id":39053889,"question_id":6081307,"body_markdown":"Follow the steps:-\r\n\r\n1.Create a new application \r\n2.In projects section of netbeans right click on libraries\r\n3.Check the picture(i)[Libraries java mysql connector][1] \r\nThus you successfully setup the connection with mysql.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N9dcJ.png","title":"How to connect NetBeans to MySQL database?","body":"<p>Follow the steps:-</p>\n\n<p>1.Create a new application \n2.In projects section of netbeans right click on libraries\n3.Check the picture(i)<a href=\"https://i.stack.imgur.com/N9dcJ.png\" rel=\"nofollow\">Libraries java mysql connector</a> \nThus you successfully setup the connection with mysql.</p>\n"}],"owner":{"account_id":371575,"reputation":13174,"user_id":720176,"accept_rate":75,"display_name":"Amit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108182,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":6081579,"answer_count":6,"score":7,"last_activity_date":1701401876,"creation_date":1305976241,"question_id":6081307,"body_markdown":"I have just installed NetBeans 7.0  and I am a newbie in NetBeans&#39; world. can any one tell me how to connect my application to MySQl / Postgres ? I work on Windows XP.\r\n","title":"How to connect NetBeans to MySQL database?","body":"<p>I have just installed NetBeans 7.0  and I am a newbie in NetBeans' world. can any one tell me how to connect my application to MySQl / Postgres ? I work on Windows XP.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1701399734,"post_id":77582773,"comment_id":136773803,"body_markdown":"example1 is an array...arrays don&#39;t have a checkingArray() method, thats why","body":"example1 is an array...arrays don&#39;t have a checkingArray() method, thats why"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1701400465,"post_id":77582773,"comment_id":136773874,"body_markdown":"checkingArray(example1)","body":"checkingArray(example1)"}],"answers":[{"tags":[],"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701399793,"creation_date":1701399793,"answer_id":77582790,"question_id":77582773,"body_markdown":"`checkingArray` is not a method of `int[]`\r\n\r\nIt is a static method of your class, which takes an argument of type `int[]`.\r\n\r\nCall it like \r\n\r\n    System.out.println(&quot;Array 1 is sorted: &quot; + checkingArray(example1));","title":"Method not accepting the data type that it was written to accept","body":"<p><code>checkingArray</code> is not a method of <code>int[]</code></p>\n<p>It is a static method of your class, which takes an argument of type <code>int[]</code>.</p>\n<p>Call it like</p>\n<pre><code>System.out.println(&quot;Array 1 is sorted: &quot; + checkingArray(example1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13210775,"reputation":999,"user_id":9541096,"display_name":"Owais Yosuf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701399942,"creation_date":1701399942,"answer_id":77582797,"question_id":77582773,"body_markdown":"It looks like there are a couple of issues in your code. First, when you&#39;re calling the checkingArray method on your arrays (example1 and example2), you should pass the arrays as arguments to the method. Second, your for loop in the checkingArray method is missing the increment statement.\r\n\r\n**Try the below code:**\r\n\r\n    public class ArrayChecker {\r\n    \r\n        public static boolean checkingArray(int[] data) {\r\n            boolean isSorted = true;\r\n            for (int i = 0; i &lt; data.length - 1; i++) {\r\n                if (data[i] &gt;= data[i + 1]) {\r\n                    isSorted = false;\r\n                    break; // No need to continue checking if it&#39;s already determined as not sorted\r\n                }\r\n            }\r\n            return isSorted;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int example1[] = {1, 6, 9, 4, 5, 10, 2, 7};\r\n            int example2[] = {3, 8, 9, 12, 20};\r\n    \r\n            System.out.println(&quot;Array 1 is sorted: &quot; + checkingArray(example1));\r\n            System.out.println(&quot;Array 2 is sorted: &quot; + checkingArray(example2));\r\n        }\r\n    }\r\n\r\n*Now, the code should work as intended.*","title":"Method not accepting the data type that it was written to accept","body":"<p>It looks like there are a couple of issues in your code. First, when you're calling the checkingArray method on your arrays (example1 and example2), you should pass the arrays as arguments to the method. Second, your for loop in the checkingArray method is missing the increment statement.</p>\n<p><strong>Try the below code:</strong></p>\n<pre><code>public class ArrayChecker {\n\n    public static boolean checkingArray(int[] data) {\n        boolean isSorted = true;\n        for (int i = 0; i &lt; data.length - 1; i++) {\n            if (data[i] &gt;= data[i + 1]) {\n                isSorted = false;\n                break; // No need to continue checking if it's already determined as not sorted\n            }\n        }\n        return isSorted;\n    }\n\n    public static void main(String[] args) {\n        int example1[] = {1, 6, 9, 4, 5, 10, 2, 7};\n        int example2[] = {3, 8, 9, 12, 20};\n\n        System.out.println(&quot;Array 1 is sorted: &quot; + checkingArray(example1));\n        System.out.println(&quot;Array 2 is sorted: &quot; + checkingArray(example2));\n    }\n}\n</code></pre>\n<p><em>Now, the code should work as intended.</em></p>\n"}],"owner":{"account_id":30036551,"reputation":13,"user_id":23018374,"display_name":"ParagonQuille"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77582797,"answer_count":2,"score":0,"last_activity_date":1701399942,"creation_date":1701399493,"question_id":77582773,"body_markdown":"I have an assignment where I&#39;ve been given a method header pre-written: \r\n`public static boolean checkingArray (int[] data) `\r\nI then have to write the method to check an array for if its sorted in numerical order, and all that went fine.\r\nBut when I try calling the method on the example arrays I&#39;ve been given, it gives me this error:\r\n\r\n`Cannot invoke checkingArray() on the array type int[]`\r\n\r\n\r\n\r\n\r\nThis is the code that I&#39;ve written, can anyone explain if I did something wrong or if my code is bugged, or what&#39;s happening? I&#39;m totally lost on any kind of solution.\r\n\r\n```\r\npublic static boolean checkingArray (int[] data) {\r\n\t\tboolean isSorted = true;\r\n\t\tfor (int i = 0; i &lt;data.length;) \r\n\t\t\tif (data[i] &gt;= data[i+1]) \r\n\t\t\t\tisSorted = false;\r\n\t\treturn isSorted;\r\n\t}\r\n\t\r\n\tstatic int example1[] = {1, 6, 9, 4, 5, 10, 2, 7};\r\n\tstatic int example2[] = {3, 8, 9, 12, 20};\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Array 1 is sorted: &quot; + example1.checkingArray());\r\n\t\tSystem.out.println(&quot;Array 2 is sorted: &quot; + example2.checkingArray());\r\n\t\t}\r\n\t}\r\n```\r\n","title":"Method not accepting the data type that it was written to accept","body":"<p>I have an assignment where I've been given a method header pre-written:\n<code>public static boolean checkingArray (int[] data) </code>\nI then have to write the method to check an array for if its sorted in numerical order, and all that went fine.\nBut when I try calling the method on the example arrays I've been given, it gives me this error:</p>\n<p><code>Cannot invoke checkingArray() on the array type int[]</code></p>\n<p>This is the code that I've written, can anyone explain if I did something wrong or if my code is bugged, or what's happening? I'm totally lost on any kind of solution.</p>\n<pre><code>public static boolean checkingArray (int[] data) {\n        boolean isSorted = true;\n        for (int i = 0; i &lt;data.length;) \n            if (data[i] &gt;= data[i+1]) \n                isSorted = false;\n        return isSorted;\n    }\n    \n    static int example1[] = {1, 6, 9, 4, 5, 10, 2, 7};\n    static int example2[] = {3, 8, 9, 12, 20};\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;Array 1 is sorted: &quot; + example1.checkingArray());\n        System.out.println(&quot;Array 2 is sorted: &quot; + example2.checkingArray());\n        }\n    }\n</code></pre>\n"},{"tags":["java","latency","catboost"],"owner":{"account_id":1891460,"reputation":2159,"user_id":1709417,"accept_rate":56,"display_name":"Nishant Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701399378,"creation_date":1701357478,"question_id":77579585,"body_markdown":"I am trying to use `catboost` **java** API but facing high latency issues at a large scale. I currently run a high-scale multi-threaded system with around 300+ worker threads that query the catboost model multiple times per client request. Here is the sample code:\r\n```\r\nloadModel(){\r\n// load model file\r\n// modelFilePath is around 1 GB\r\nCatBoostModel model = CatBoostModel.loadModel(modelFilePath);\r\n}\r\n...\r\n...\r\ngetprecition(){\r\n// called from multiple threads multiple times per user request\r\n// Predict for all inputs at once. \r\n// IMP: inputCount is always 1\r\nfloat[][] numericalFeatures = new float[inputCount][];\r\nString[][] catFeatures = new String[inputCount][];\r\n...\r\n...\r\nCatBoostPredictions prediction = model.predict(numericalFeatures, catFeatures);\r\ndouble result = sigmoid(prediction.get(0, 0));\r\n}\r\n```\r\nI have generated flame graph that shows significant times of CPU is used in catboost prediction\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI was expecting model prediction latency to be under 1 ms but it suddenly starts increasing when the load increases on the server (from 9-10k QPS to 12-13k QPS x 10-100 model queries per request).\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Another thing that I noticed is that the CPU load average also increases a lot (without using the model also) to 100+ on 48 core server.**\r\n\r\nI tried having 4 instances of model and querying each instance in a round-robin fashion but no improvement.\r\n\r\nIs there a way to optimize it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ePb2o.jpg\r\n  [2]: https://i.stack.imgur.com/NuTtz.jpg","title":"catboost java prediction slow at high scale","body":"<p>I am trying to use <code>catboost</code> <strong>java</strong> API but facing high latency issues at a large scale. I currently run a high-scale multi-threaded system with around 300+ worker threads that query the catboost model multiple times per client request. Here is the sample code:</p>\n<pre><code>loadModel(){\n// load model file\n// modelFilePath is around 1 GB\nCatBoostModel model = CatBoostModel.loadModel(modelFilePath);\n}\n...\n...\ngetprecition(){\n// called from multiple threads multiple times per user request\n// Predict for all inputs at once. \n// IMP: inputCount is always 1\nfloat[][] numericalFeatures = new float[inputCount][];\nString[][] catFeatures = new String[inputCount][];\n...\n...\nCatBoostPredictions prediction = model.predict(numericalFeatures, catFeatures);\ndouble result = sigmoid(prediction.get(0, 0));\n}\n</code></pre>\n<p>I have generated flame graph that shows significant times of CPU is used in catboost prediction\n<a href=\"https://i.stack.imgur.com/ePb2o.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ePb2o.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I was expecting model prediction latency to be under 1 ms but it suddenly starts increasing when the load increases on the server (from 9-10k QPS to 12-13k QPS x 10-100 model queries per request).</p>\n<p><a href=\"https://i.stack.imgur.com/NuTtz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NuTtz.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Another thing that I noticed is that the CPU load average also increases a lot (without using the model also) to 100+ on 48 core server.</strong></p>\n<p>I tried having 4 instances of model and querying each instance in a round-robin fashion but no improvement.</p>\n<p>Is there a way to optimize it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1701404672,"post_id":77582717,"comment_id":136774214,"body_markdown":"The combiner is only used for parallel streams.  And yes, those do the same thing.","body":"The combiner is only used for parallel streams.  And yes, those do the same thing."},{"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"score":0,"creation_date":1701404784,"post_id":77582717,"comment_id":136774222,"body_markdown":"@LouisWasserman any idea on the second example?","body":"@LouisWasserman any idea on the second example?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1701407720,"post_id":77582717,"comment_id":136774450,"body_markdown":"I answered the second question: nothing is; it&#39;s only used for parallel streams.  Or are you asking what `StringBuilder::append` does?  That&#39;s just a call to [StringBuilder.append(CharSequence)](https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#append-java.lang.CharSequence-)","body":"I answered the second question: nothing is; it&#39;s only used for parallel streams.  Or are you asking what <code>StringBuilder::append</code> does?  That&#39;s just a call to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#append-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">StringBuilder.append(CharSequence)</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701408644,"post_id":77582717,"comment_id":136774522,"body_markdown":"If you look at the [`Collector`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Collector.html) interface, you&#39;ll see it&#39;s essentially an encapsulation of the supplier, accumulator, and combiner. Though a `Collector` also has a &quot;finisher&quot;, and also can report characteristics, which may help the stream implementation optimize the collection operation.","body":"If you look at the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\"><code>Collector</code></a> interface, you&#39;ll see it&#39;s essentially an encapsulation of the supplier, accumulator, and combiner. Though a <code>Collector</code> also has a &quot;finisher&quot;, and also can report characteristics, which may help the stream implementation optimize the collection operation."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701408725,"post_id":77582717,"comment_id":136774530,"body_markdown":"And note the second `StringBuilder::append` as the combiner would, as a lambda expression, look like `(firstAppender, secondAppender) -&gt; firstAppender.append(secondAppender)`.","body":"And note the second <code>StringBuilder::append</code> as the combiner would, as a lambda expression, look like <code>(firstAppender, secondAppender) -&gt; firstAppender.append(secondAppender)</code>."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1701413073,"post_id":77582717,"comment_id":136774892,"body_markdown":"@notaorb Note that the `Stream#collect` is overloaded. One uses three parameters the other just one. Based upon your requirement you can use any of these. Also, sometimes the `reduce` method can be used to get the same result. And, your string concatenation can also be performed using the `stringStream.collect(Collectors.joining());`","body":"@notaorb Note that the <code>Stream#collect</code> is overloaded. One uses three parameters the other just one. Based upon your requirement you can use any of these. Also, sometimes the <code>reduce</code> method can be used to get the same result. And, your string concatenation can also be performed using the <code>stringStream.collect(Collectors.joining());</code>"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1701413826,"post_id":77582717,"comment_id":136774966,"body_markdown":"For further clarification see this in Java documentation: [java.util.stream -&gt; Reduction Operations (sub topic)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html)","body":"For further clarification see this in Java documentation: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">java.util.stream -&gt; Reduction Operations (sub topic)</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701422079,"post_id":77582717,"comment_id":136776136,"body_markdown":"Don’t ask multiple, entirely different questions. The answer to the first question is: it is just an example. The answer to the second is, the logic for implementing a `BiConsumer` with a single argument method is the same for second parameter and the third parameter. If you understood, how it works for the second parameter or how `ArrayList::addAll` can act as a combiner, there should be no problem in understanding how a single argument `append` method can be used as a combiner. It’s exactly the same logic.","body":"Don’t ask multiple, entirely different questions. The answer to the first question is: it is just an example. The answer to the second is, the logic for implementing a <code>BiConsumer</code> with a single argument method is the same for second parameter and the third parameter. If you understood, how it works for the second parameter or how <code>ArrayList::addAll</code> can act as a combiner, there should be no problem in understanding how a single argument <code>append</code> method can be used as a combiner. It’s exactly the same logic."}],"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701398899,"creation_date":1701398358,"question_id":77582717,"body_markdown":"I&#39;m looking at Streams:\r\n\r\n    &lt;R&gt; R collect(Supplier&lt;R&gt; supplier,\r\n                  BiConsumer&lt;R,? super T&gt; accumulator,\r\n                  BiConsumer&lt;R,R&gt; combiner)\r\n\r\nI see the example:\r\n\r\n     List&lt;String&gt; asList = stringStream.collect(ArrayList::new, ArrayList::add,\r\n                                                ArrayList::addAll);\r\n\r\nWhy would I use this over?\r\n\r\n     ArrayList&lt;String&gt; asList =     \r\n         stringStream.collect(Collectors.toCollection(ArrayList&lt;String&gt;::new));\r\n\r\nare they not doing the same thing?\r\n\r\nThe second example in the docs:\r\n\r\n     String concat = stringStream.collect(StringBuilder::new, StringBuilder::append,\r\n                                          StringBuilder::append)\r\n                                 .toString();\r\n\r\nI understand each individual String is passed to the accumulator, but what is passed to the last argument the combiner?\r\n\r\nI&#39;m expecting the combined to be `BiConsumer&lt;R,R&gt; c` which means `append(x, x)` should be called, where `x = new StringBuilder` but I don&#39;t see a method for accepting these two same types in the docs.","title":"Streams collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R,? super T&gt; accumulator, BiConsumer&lt;R,R&gt; combiner) question","body":"<p>I'm looking at Streams:</p>\n<pre><code>&lt;R&gt; R collect(Supplier&lt;R&gt; supplier,\n              BiConsumer&lt;R,? super T&gt; accumulator,\n              BiConsumer&lt;R,R&gt; combiner)\n</code></pre>\n<p>I see the example:</p>\n<pre><code> List&lt;String&gt; asList = stringStream.collect(ArrayList::new, ArrayList::add,\n                                            ArrayList::addAll);\n</code></pre>\n<p>Why would I use this over?</p>\n<pre><code> ArrayList&lt;String&gt; asList =     \n     stringStream.collect(Collectors.toCollection(ArrayList&lt;String&gt;::new));\n</code></pre>\n<p>are they not doing the same thing?</p>\n<p>The second example in the docs:</p>\n<pre><code> String concat = stringStream.collect(StringBuilder::new, StringBuilder::append,\n                                      StringBuilder::append)\n                             .toString();\n</code></pre>\n<p>I understand each individual String is passed to the accumulator, but what is passed to the last argument the combiner?</p>\n<p>I'm expecting the combined to be <code>BiConsumer&lt;R,R&gt; c</code> which means <code>append(x, x)</code> should be called, where <code>x = new StringBuilder</code> but I don't see a method for accepting these two same types in the docs.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701419277,"post_id":77582397,"comment_id":136775678,"body_markdown":"Using `--spring-profiles.active=..` within your configuration of the exec-maven-plugin ... the question is why execution... The spring-boot-maven-plugin has a paraemter `profiles` to activate a profile (https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run)","body":"Using <code>--spring-profiles.active=..</code> within your configuration of the exec-maven-plugin ... the question is why execution... The spring-boot-maven-plugin has a paraemter <code>profiles</code> to activate a profile (<a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/refere&zwnj;&#8203;nce/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701398341,"creation_date":1701398341,"answer_id":77582716,"question_id":77582397,"body_markdown":"[This](https://www.baeldung.com/spring-boot-main-class) article will help you. \r\n\r\nYou basically create multiple maven profiles in which you define the main class for the profile, refer to this class in the spring-boot-maven-plugin, and provide the appropriate command line options when running your application via maven.","title":"How to use different execution profiles with spring boot maven plugin?","body":"<p><a href=\"https://www.baeldung.com/spring-boot-main-class\" rel=\"nofollow noreferrer\">This</a> article will help you.</p>\n<p>You basically create multiple maven profiles in which you define the main class for the profile, refer to this class in the spring-boot-maven-plugin, and provide the appropriate command line options when running your application via maven.</p>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701398341,"creation_date":1701390205,"question_id":77582397,"body_markdown":"The `exec-maven-plugin` supports setting different execution profiles [[1](https://stackoverflow.com/a/8252214/147530)]. I&#39;d like to use this feature e.g., to execute different main classes but I am not running the `exec-maven-plugin` directly. Instead I am executing my application using the [`spring-boot-maven-plugin`](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/). How can I set different execution profiles with `spring-boot-maven-plugin`?","title":"How to use different execution profiles with spring boot maven plugin?","body":"<p>The <code>exec-maven-plugin</code> supports setting different execution profiles [<a href=\"https://stackoverflow.com/a/8252214/147530\">1</a>]. I'd like to use this feature e.g., to execute different main classes but I am not running the <code>exec-maven-plugin</code> directly. Instead I am executing my application using the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\"><code>spring-boot-maven-plugin</code></a>. How can I set different execution profiles with <code>spring-boot-maven-plugin</code>?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":3259697,"reputation":26527,"user_id":2745495,"accept_rate":80,"display_name":"Gino Mempin"},"score":1,"creation_date":1569455851,"post_id":58107821,"comment_id":102606143,"body_markdown":"Have you checked the [VS Code docs on Java#Debugging](https://code.visualstudio.com/docs/languages/java#_debugging)? Please [edit] your question with your Java code and your launch configuration.","body":"Have you checked the <a href=\"https://code.visualstudio.com/docs/languages/java#_debugging\" rel=\"nofollow noreferrer\">VS Code docs on Java#Debugging</a>? Please <a href=\"https://stackoverflow.com/posts/58107821/edit\">edit</a> your question with your Java code and your launch configuration."},{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1569466566,"post_id":58107821,"comment_id":102608030,"body_markdown":"try to delete the launch.json and run","body":"try to delete the launch.json and run"}],"answers":[{"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":2,"creation_date":1701396156,"post_id":77582610,"comment_id":136773523,"body_markdown":"Please write your entire answer in English, as Stack Overflow is an English-only site.","body":"Please write your entire answer in English, as Stack Overflow is an English-only site."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701398114,"post_id":77582610,"comment_id":136773665,"body_markdown":"This would not have fixed the OP&#39;s problem.  The problem was that the `java` command that VScode was running could not find the OP&#39;s class.  This is a problem with the .class file or the class path, not the `$PATH` variable.","body":"This would not have fixed the OP&#39;s problem.  The problem was that the <code>java</code> command that VScode was running could not find the OP&#39;s class.  This is a problem with the .class file or the class path, not the <code>$PATH</code> variable."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1701398311,"post_id":77582610,"comment_id":136773686,"body_markdown":"Besides ... this question is 4 years old, and missing debugging details.  There is little chance that a (correct) late answer to an old, incomplete question would help anyone.","body":"Besides ... this question is 4 years old, and missing debugging details.  There is little chance that a (correct) late answer to an old, incomplete question would help anyone."}],"tags":[],"owner":{"account_id":30036309,"reputation":1,"user_id":23018176,"display_name":"Aslam New"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701397933,"creation_date":1701395768,"answer_id":77582610,"question_id":58107821,"body_markdown":"java notes\r\n\r\nwhen vscode in particular starts a java program:\r\nError: Could not find or load main class (filename)\r\nCaused by: java.lang.ClassNotFoundException:(filename)\r\n\r\nthe way to fix it is:\r\n\r\nC:\\Program Files\\Java\\jdk\\bin\r\n\r\nand you have to set the PATH in the environment variables\r\nThe folder name (JDK) must be jdk\r\nexample:\r\nC:\\Program Files\\Java\\jdk\r\nC:\\Program Files\\Java\\jdk\\bin\r\n\r\nthen the name for the PATH and folder must be like that, but this also applies to the others.\r\n","title":"VS Code Java Error: Could not find or load main class","body":"<p>java notes</p>\n<p>when vscode in particular starts a java program:\nError: Could not find or load main class (filename)\nCaused by: java.lang.ClassNotFoundException:(filename)</p>\n<p>the way to fix it is:</p>\n<p>C:\\Program Files\\Java\\jdk\\bin</p>\n<p>and you have to set the PATH in the environment variables\nThe folder name (JDK) must be jdk\nexample:\nC:\\Program Files\\Java\\jdk\nC:\\Program Files\\Java\\jdk\\bin</p>\n<p>then the name for the PATH and folder must be like that, but this also applies to the others.</p>\n"}],"owner":{"account_id":14985968,"reputation":681,"user_id":10818522,"display_name":"Robert Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701397933,"creation_date":1569455019,"question_id":58107821,"body_markdown":"Every time I hit run on my main method in my java file, no matter what file, I get &quot;Error: Could not find or load main class (name of the class)&quot;. I&#39;ve tried uninstalling VS Code and uninstalling the rest of my Java extensions.","title":"VS Code Java Error: Could not find or load main class","body":"<p>Every time I hit run on my main method in my java file, no matter what file, I get \"Error: Could not find or load main class (name of the class)\". I've tried uninstalling VS Code and uninstalling the rest of my Java extensions.</p>\n"},{"tags":["java","string","stringbuilder"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":5,"creation_date":1394985684,"post_id":22439177,"comment_id":34125240,"body_markdown":"If those don&#39;t answer your question, neither will any here.","body":"If those don&#39;t answer your question, neither will any here."},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":3,"creation_date":1394986021,"post_id":22439177,"comment_id":34125385,"body_markdown":"What evidence do you have to support the assertion that *`StringBuilder` is much faster than string concatenation using the `+` operator*?","body":"What evidence do you have to support the assertion that <i><code>StringBuilder</code> is much faster than string concatenation using the <code>+</code> operator</i>?"},{"owner":{"account_id":2857286,"reputation":396,"user_id":2453286,"accept_rate":100,"display_name":"Jason"},"score":1,"creation_date":1394986208,"post_id":22439177,"comment_id":34125471,"body_markdown":"I have written a code that uses both &quot;+&quot; operator and StringBuilder. Please have a look at it and try to run it to see the result","body":"I have written a code that uses both &quot;+&quot; operator and StringBuilder. Please have a look at it and try to run it to see the result"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1590008736,"post_id":22439177,"comment_id":109522764,"body_markdown":"Note that your way of measuring the time is heavily flawed. You can not do something like that in a language like Java because of JVM, JIT and GC. Your measurement consists of probably 90% just sideeffects. I have seen it many times already that someone made a measurement like this with the outcome of `10ms` vs `100ms` and concluded that the first must be faster, although it was actually a lot slower in practice. You have to use a framework like JMH to get useable results.","body":"Note that your way of measuring the time is heavily flawed. You can not do something like that in a language like Java because of JVM, JIT and GC. Your measurement consists of probably 90% just sideeffects. I have seen it many times already that someone made a measurement like this with the outcome of <code>10ms</code> vs <code>100ms</code> and concluded that the first must be faster, although it was actually a lot slower in practice. You have to use a framework like JMH to get useable results."},{"owner":{"account_id":15814379,"reputation":565,"user_id":12114801,"display_name":"Sathvik"},"score":0,"creation_date":1600016199,"post_id":22439177,"comment_id":112948530,"body_markdown":"https://stackoverflow.com/questions/2971315/string-stringbuffer-and-stringbuilder","body":"<a href=\"https://stackoverflow.com/questions/2971315/string-stringbuffer-and-stringbuilder\" title=\"string stringbuffer and stringbuilder\">stackoverflow.com/questions/2971315/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"comment_count":0,"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1663909866,"creation_date":1394986907,"answer_id":22439433,"question_id":22439177,"body_markdown":"Do you understand how it works internally?\r\n\r\nEvery time you do `stringA += stringB;` a new string is created an assigned to stringA, so it will consume memory (a new string instance!) and time (copy the old string + new characters of the other string).\r\n\r\n`StringBuilder` will use an array of characters internally and when you use the `.append()` method it will do several things:\r\n\r\n  - check if there are any free space for the string to append\r\n  - again some internal checks and run a `System.arraycopy` to copy the characters of the string in the array.\r\n\r\nPersonally, I think the allocation of a new string every time (creating a new instance of string, put the string, etc.) could be very expensive in terms of memory and speed (in *while*/*for*, etc. especially).\r\n\r\nIn your example, use a `StringBuilder` is better, but if you need (example) something simple like a `.toString()`,\r\n\r\n    public String toString() {\r\n        return StringA + &quot; - &quot; + StringB;\r\n    }\r\n\r\nmakes no differences (well, in this case it is better you avoid StringBuilder overhead which is useless here).\r\n\r\n","title":"Why is StringBuilder much faster than String?","body":"<p>Do you understand how it works internally?</p>\n<p>Every time you do <code>stringA += stringB;</code> a new string is created an assigned to stringA, so it will consume memory (a new string instance!) and time (copy the old string + new characters of the other string).</p>\n<p><code>StringBuilder</code> will use an array of characters internally and when you use the <code>.append()</code> method it will do several things:</p>\n<ul>\n<li>check if there are any free space for the string to append</li>\n<li>again some internal checks and run a <code>System.arraycopy</code> to copy the characters of the string in the array.</li>\n</ul>\n<p>Personally, I think the allocation of a new string every time (creating a new instance of string, put the string, etc.) could be very expensive in terms of memory and speed (in <em>while</em>/<em>for</em>, etc. especially).</p>\n<p>In your example, use a <code>StringBuilder</code> is better, but if you need (example) something simple like a <code>.toString()</code>,</p>\n<pre><code>public String toString() {\n    return StringA + &quot; - &quot; + StringB;\n}\n</code></pre>\n<p>makes no differences (well, in this case it is better you avoid StringBuilder overhead which is useless here).</p>\n"},{"tags":[],"owner":{"account_id":1771725,"reputation":614,"user_id":1616374,"display_name":"Donagh Hatton"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1621336440,"creation_date":1394987017,"answer_id":22439461,"question_id":22439177,"body_markdown":"Strings in Java are **immutable**. This means that methods that operate on strings cannot ever change the value of a string. String concatenation using += works by allocating memory for an entirely new string that is the concatenation of the two previous ones, and replacing the reference with this new string. Each new concatenation requires the construction of an entirely new String object.\r\n\r\nIn contrast, the StringBuilder and StringBuffer classes are implemented as a **mutable** sequence of characters. This means that as you append new Strings or characters onto a StringBuilder, it simply updates its internal array to reflect the changes you&#39;ve made. This means that new memory is only allocated when the string grows past the buffer already existing in a StringBuilder.\r\n\r\n\r\n","title":"Why is StringBuilder much faster than String?","body":"<p>Strings in Java are <strong>immutable</strong>. This means that methods that operate on strings cannot ever change the value of a string. String concatenation using += works by allocating memory for an entirely new string that is the concatenation of the two previous ones, and replacing the reference with this new string. Each new concatenation requires the construction of an entirely new String object.</p>\n<p>In contrast, the StringBuilder and StringBuffer classes are implemented as a <strong>mutable</strong> sequence of characters. This means that as you append new Strings or characters onto a StringBuilder, it simply updates its internal array to reflect the changes you've made. This means that new memory is only allocated when the string grows past the buffer already existing in a StringBuilder.</p>\n"},{"tags":[],"owner":{"account_id":4017054,"reputation":49,"user_id":6064773,"display_name":"Shardul"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1621336794,"creation_date":1590008447,"answer_id":61922795,"question_id":22439177,"body_markdown":"I can list a very nice example for understanding the same (I mean I felt it&#39;s a nice example). Check the code here taken from a [LeetCode][1] problem: https://leetcode.com/problems/remove-outermost-parentheses/\r\n\r\n1: Using String\r\n\r\n    public String removeOuterParentheses(String S) {\r\n\r\n        String a = &quot;&quot;;\r\n        int num = 0;\r\n        for(int i=0; i &lt; S.length()-1; i++) {\r\n            if(S.charAt(i) == &#39;(&#39; &amp;&amp; num++ &gt; 0) {\r\n                a += &quot;(&quot;;\r\n            }\r\n            if(S.charAt(i) == &#39;)&#39; &amp;&amp; num-- &gt; 1) {\r\n                a += &quot;)&quot;;\r\n            }\r\n        }\r\n        return a;\r\n    }\r\n\r\nAnd now, using StringBuilder.\r\n\r\n    public String removeOuterParentheses(String S) {\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        int a = 0;\r\n        for(char ch : S.toCharArray()) {\r\n            if(ch == &#39;(&#39; &amp;&amp; a++ &gt; 0) sb.append(&#39;(&#39;);\r\n            if(ch == &#39;)&#39; &amp;&amp; a-- &gt; 1) sb.append(&#39;)&#39;);\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\nThe performance of both varies by a huge margin. The first submission uses String while the latter one uses StringBuilder.\r\n\r\n[![Enter image description here][2]][2]\r\n\r\nAs explained above the theory is the same. String by property is immutable and synchronous,i.e. its state cannot be changed. The second, for example, is expensive owing to the creation of a new memory allocation whenever a concatenation function or &quot;+&quot; is used. It will consume a lot of heap and in return be slower. In comparison StringBuilder is mutable, it will only append and not create an overload on the memory consumed.\r\n\r\n  [1]: https://leetcode.com/\r\n  [2]: https://i.stack.imgur.com/rn6wC.png\r\n\r\n","title":"Why is StringBuilder much faster than String?","body":"<p>I can list a very nice example for understanding the same (I mean I felt it's a nice example). Check the code here taken from a <a href=\"https://leetcode.com/\" rel=\"nofollow noreferrer\">LeetCode</a> problem: <a href=\"https://leetcode.com/problems/remove-outermost-parentheses/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/remove-outermost-parentheses/</a></p>\n<p>1: Using String</p>\n<pre><code>public String removeOuterParentheses(String S) {\n\n    String a = &quot;&quot;;\n    int num = 0;\n    for(int i=0; i &lt; S.length()-1; i++) {\n        if(S.charAt(i) == '(' &amp;&amp; num++ &gt; 0) {\n            a += &quot;(&quot;;\n        }\n        if(S.charAt(i) == ')' &amp;&amp; num-- &gt; 1) {\n            a += &quot;)&quot;;\n        }\n    }\n    return a;\n}\n</code></pre>\n<p>And now, using StringBuilder.</p>\n<pre><code>public String removeOuterParentheses(String S) {\n\n    StringBuilder sb = new StringBuilder();\n\n    int a = 0;\n    for(char ch : S.toCharArray()) {\n        if(ch == '(' &amp;&amp; a++ &gt; 0) sb.append('(');\n        if(ch == ')' &amp;&amp; a-- &gt; 1) sb.append(')');\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>The performance of both varies by a huge margin. The first submission uses String while the latter one uses StringBuilder.</p>\n<p><a href=\"https://i.stack.imgur.com/rn6wC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rn6wC.png\" alt=\"Enter image description here\" /></a></p>\n<p>As explained above the theory is the same. String by property is immutable and synchronous,i.e. its state cannot be changed. The second, for example, is expensive owing to the creation of a new memory allocation whenever a concatenation function or &quot;+&quot; is used. It will consume a lot of heap and in return be slower. In comparison StringBuilder is mutable, it will only append and not create an overload on the memory consumed.</p>\n"},{"tags":[],"owner":{"account_id":6232188,"reputation":850,"user_id":6660678,"display_name":"mdfst13"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701397914,"creation_date":1701397914,"answer_id":77582700,"question_id":22439177,"body_markdown":"The problem is that you implemented a more efficient version with `StringBuilder` than the compiler would.  Try \r\n\r\n    while (System.currentTimeMillis() - startTime &lt;= 1000) {\r\n        character = new StringBuilder(character).append(&quot;Y&quot;).toString();\r\n    }\r\n\r\nThat will give you a similar result to `+=`.  The problem is that the compiler isn&#39;t necessarily smart enough to realize that instead of repeatedly casting to `StringBuilder` and back to `String`, it could do everything with the same `StringBuilder`.  As [others](https://stackoverflow.com/a/22439461/6660678) have already noted, using a single `StringBuilder` is going to be much faster, as it only has to allocate memory occasionally.  \r\n\r\nThe `+=` version may still do more optimizations than that one.  But it will act more like that than your version.  Consider \r\n\r\n    sb = new StringBuilder();\r\n    while (System.currentTimeMillis() - startTime &lt;= 1000) {\r\n        sb.append(&quot;Y&quot;);\r\n        character = sb.toString();\r\n    }\r\n\r\nAlmost the same as your version but as slow as creating a new `StringBuilder` on every iteration.  Apparently it&#39;s the `toString` that slows things down.  ","title":"Why is StringBuilder much faster than String?","body":"<p>The problem is that you implemented a more efficient version with <code>StringBuilder</code> than the compiler would.  Try</p>\n<pre><code>while (System.currentTimeMillis() - startTime &lt;= 1000) {\n    character = new StringBuilder(character).append(&quot;Y&quot;).toString();\n}\n</code></pre>\n<p>That will give you a similar result to <code>+=</code>.  The problem is that the compiler isn't necessarily smart enough to realize that instead of repeatedly casting to <code>StringBuilder</code> and back to <code>String</code>, it could do everything with the same <code>StringBuilder</code>.  As <a href=\"https://stackoverflow.com/a/22439461/6660678\">others</a> have already noted, using a single <code>StringBuilder</code> is going to be much faster, as it only has to allocate memory occasionally.</p>\n<p>The <code>+=</code> version may still do more optimizations than that one.  But it will act more like that than your version.  Consider</p>\n<pre><code>sb = new StringBuilder();\nwhile (System.currentTimeMillis() - startTime &lt;= 1000) {\n    sb.append(&quot;Y&quot;);\n    character = sb.toString();\n}\n</code></pre>\n<p>Almost the same as your version but as slow as creating a new <code>StringBuilder</code> on every iteration.  Apparently it's the <code>toString</code> that slows things down.</p>\n"}],"owner":{"account_id":2857286,"reputation":396,"user_id":2453286,"accept_rate":100,"display_name":"Jason"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15969,"favorite_count":0,"down_vote_count":3,"up_vote_count":18,"accepted_answer_id":22439433,"answer_count":4,"score":15,"last_activity_date":1701397914,"creation_date":1394985617,"question_id":22439177,"body_markdown":"Why is `StringBuilder` much faster than string concatenation using the `+` operator? Even though that the `+` operator internally is implemented using either `StringBuffer` or `StringBuilder`.\r\n\r\n    public void shortConcatenation(){\r\n\t\tlong startTime = System.currentTimeMillis();\r\n\t\twhile (System.currentTimeMillis() - startTime &lt;= 1000){\r\n\r\n\t\t\tcharacter += &quot;Y&quot;;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;short: &quot; + character.length());\r\n\t}\r\n\r\n//// using String builder\r\n \r\n     public void shortConcatenation2(){\r\n\t\tlong startTime = System.currentTimeMillis();\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\twhile (System.currentTimeMillis() - startTime &lt;= 1000){\r\n\r\n\t\t\tsb.append(&quot;Y&quot;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;string builder short: &quot; + sb.length());\r\n\t}\r\n  \r\n&lt;sub&gt;I know that there are a lot of similar questions posted here, but these don&#39;t really answer my question.&lt;/sub&gt;\r\n","title":"Why is StringBuilder much faster than String?","body":"<p>Why is <code>StringBuilder</code> much faster than string concatenation using the <code>+</code> operator? Even though that the <code>+</code> operator internally is implemented using either <code>StringBuffer</code> or <code>StringBuilder</code>.</p>\n<pre><code>public void shortConcatenation(){\n    long startTime = System.currentTimeMillis();\n    while (System.currentTimeMillis() - startTime &lt;= 1000){\n\n        character += &quot;Y&quot;;\n    }\n\n    System.out.println(&quot;short: &quot; + character.length());\n}\n</code></pre>\n<p>//// using String builder</p>\n<pre><code> public void shortConcatenation2(){\n    long startTime = System.currentTimeMillis();\n    StringBuilder sb = new StringBuilder();\n    while (System.currentTimeMillis() - startTime &lt;= 1000){\n\n        sb.append(&quot;Y&quot;);\n    }\n    System.out.println(&quot;string builder short: &quot; + sb.length());\n}\n</code></pre>\n<p><sub>I know that there are a lot of similar questions posted here, but these don't really answer my question.</sub></p>\n"},{"tags":["java","maven","maven-assembly-plugin","java-module","maven-jar-plugin"],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701397019,"creation_date":1701397019,"question_id":77582662,"body_markdown":"I am facing the issue described here : https://stackoverflow.com/questions/75950070/java-module-issues-with-confluent-kafka-libraries-split-package\r\n\r\nin a nutshell : there&#39;s a &quot;split package&quot; situation with 2 Kafka / Avro jars, with classes in same java package, but in 2 different jars in 2 different modules (JPMS).   \r\n\r\n\r\n\r\nI want to try to repackage and &quot;merge&quot; the 2 jars, following what is described here : https://stackoverflow.com/questions/44463552/java-9-module-reads-package-x-from-a-and-b/65889053#65889053\r\n\r\nbut it&#39;s not working, so I guess I am missing something. \r\n\r\nI created a new Maven module in my project, and simply put this in the `pom.xml` : \r\n\r\n    &lt;artifactId&gt;avro-serializer-repackaged&lt;/artifactId&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.6.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;          \r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\r\n            &lt;version&gt;7.5.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;kafka-schema-serializer&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-schema-serializer&lt;/artifactId&gt;\r\n            &lt;version&gt;7.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nthe build &quot;works&quot;, and generates a jar. However, when I look into the jar and open the `module-info.class`, here&#39;s what I have, which I am not really able to explain : \r\n\r\n    module com.fasterxml.jackson.annotation {\r\n        exports com.fasterxml.jackson.annotation;\r\n    \r\n        opens com.fasterxml.jackson.annotation;\r\n    }\r\n\r\n\r\nSo of course, when I try to use the jar in the other Maven module, declaring that I wan to use the `avro.serializer.repackaged` module, it doesn&#39;t work.\r\n\r\nI tried adding this :\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Automatic-Module-Name&gt;avro.serializer.repackaged&lt;/Automatic-Module-Name&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\nBut that didn&#39;t change anything.\r\n\r\nI also tried to add a `module-info.java` under `src/main/java` , but since I have no code and just a pom.xml, I am not sure what to put there..\r\n\r\nSo I am stuck now, and I don&#39;t see how I can migrate y project to use JPMS. Is there a chance to make this work, and build a jar with a proper module descriptor ? \r\n\r\nAlso, I am super puzzled that something as popular as Kafka / Avro faces this.. isn&#39;t anyone using these 2 jars in a project using java modules ?\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n","title":"repackaging 2 libraries, with proper module configuration","body":"<p>I am facing the issue described here : <a href=\"https://stackoverflow.com/questions/75950070/java-module-issues-with-confluent-kafka-libraries-split-package\">Java module issues with Confluent Kafka libraries (split package)</a></p>\n<p>in a nutshell : there's a &quot;split package&quot; situation with 2 Kafka / Avro jars, with classes in same java package, but in 2 different jars in 2 different modules (JPMS).</p>\n<p>I want to try to repackage and &quot;merge&quot; the 2 jars, following what is described here : <a href=\"https://stackoverflow.com/questions/44463552/java-9-module-reads-package-x-from-a-and-b/65889053#65889053\">java 9 module reads package X from A and B</a></p>\n<p>but it's not working, so I guess I am missing something.</p>\n<p>I created a new Maven module in my project, and simply put this in the <code>pom.xml</code> :</p>\n<pre><code>&lt;artifactId&gt;avro-serializer-repackaged&lt;/artifactId&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.6.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;          \n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\n        &lt;version&gt;7.5.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n                &lt;artifactId&gt;kafka-schema-serializer&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-schema-serializer&lt;/artifactId&gt;\n        &lt;version&gt;7.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>the build &quot;works&quot;, and generates a jar. However, when I look into the jar and open the <code>module-info.class</code>, here's what I have, which I am not really able to explain :</p>\n<pre><code>module com.fasterxml.jackson.annotation {\n    exports com.fasterxml.jackson.annotation;\n\n    opens com.fasterxml.jackson.annotation;\n}\n</code></pre>\n<p>So of course, when I try to use the jar in the other Maven module, declaring that I wan to use the <code>avro.serializer.repackaged</code> module, it doesn't work.</p>\n<p>I tried adding this :</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifestEntries&gt;\n                        &lt;Automatic-Module-Name&gt;avro.serializer.repackaged&lt;/Automatic-Module-Name&gt;\n                    &lt;/manifestEntries&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>But that didn't change anything.</p>\n<p>I also tried to add a <code>module-info.java</code> under <code>src/main/java</code> , but since I have no code and just a pom.xml, I am not sure what to put there..</p>\n<p>So I am stuck now, and I don't see how I can migrate y project to use JPMS. Is there a chance to make this work, and build a jar with a proper module descriptor ?</p>\n<p>Also, I am super puzzled that something as popular as Kafka / Avro faces this.. isn't anyone using these 2 jars in a project using java modules ?</p>\n"},{"tags":["java","methods","refactoring"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":1,"creation_date":1701387088,"post_id":77582156,"comment_id":136772781,"body_markdown":"You need to pass the `animal` created in `Screen`  object to your `FishAnimation` object, preferably via the constructor.","body":"You need to pass the <code>animal</code> created in <code>Screen</code>  object to your <code>FishAnimation</code> object, preferably via the constructor."},{"owner":{"account_id":29686435,"reputation":1,"user_id":22751871,"display_name":"TokenZ"},"score":0,"creation_date":1701719345,"post_id":77582156,"comment_id":136808405,"body_markdown":"@JanezKuhar can you make me an example?","body":"@JanezKuhar can you make me an example?"}],"owner":{"account_id":29686435,"reputation":1,"user_id":22751871,"display_name":"TokenZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701396936,"creation_date":1701385584,"question_id":77582156,"body_markdown":"I have this class called Screen\r\n```\r\npackage main;\r\n\r\nimport java.awt.Dimension;\r\nimport java.io.IOException;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLayeredPane;\r\nimport javax.swing.JPanel;\r\nimport AnimatorHandler.FishAnimation;\r\nimport data.*;\r\nimport save.Data;\r\n\r\npublic class Screen extends JPanel{\r\n\t\r\n\tResources res = new Resources();\r\n\tBackground background = new Background();\r\n\tGround ground = new Ground();\r\n\tAnimal animal = new Animal(null, null, 0, null, 0, 0);\r\n\tFishAnimation fA = new FishAnimation();\r\n\t\r\n\tint screenSizeX = 1099;\r\n\tint screenSizeY = 735;\r\n\t\r\n\tvoid createWindow() throws IOException {\r\n\t\t\r\n\t\t//CREATION OF THE RESOURCES\r\n\t\tbackground.createBackground();\r\n\t\tground.createGround();\r\n\t\tanimal.createAnimal();\r\n\t\t\r\n\t\t//SETTING OF THE LAYEREDPANE\r\n\t\tJLayeredPane layeredPane = new JLayeredPane();\r\n\t\tlayeredPane.setBounds(0, 0, screenSizeX, screenSizeY);\r\n\t\tlayeredPane.add(background.background[Data.selectedBackground], Integer.valueOf(0));\r\n\t\tlayeredPane.add(ground.ground[Data.selectedGround], Integer.valueOf(1));\r\n\t\tlayeredPane.add(animal.animals[Data.selectedAnimal], Integer.valueOf(2));\r\n\t\tlayeredPane.add(animal.animals[Data.selectedAnimal+1], Integer.valueOf(2));\r\n\t\t   \r\n\t\t//SETTING OF THE FRAME\r\n\t    JFrame frame = new JFrame(&quot;Happy Aquarium&quot;);\r\n\t    frame.add(layeredPane);\r\n\t    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t    frame.setSize(new Dimension(screenSizeX, screenSizeY));\r\n\t    frame.setLayout(null);\r\n\t    frame.setVisible(true);\r\n\t    \r\n\t    //ANIMATION\r\n\t    fA.action();\r\n\t    \r\n    }\r\n}\r\n\r\n```\r\nAnd I just tried to export the `fA.action()` in another class (before the export was called just `action`, created automatically by `ActionListener`) So I just cut and paste the method to the `Screen` class to the `FishAnimation` class.\r\n\r\n\r\n```\r\npackage AnimatorHandler;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.Timer;\r\n\r\nimport data.Animal;\r\nimport save.Data;\r\n\r\npublic class FishAnimation implements ActionListener{\r\n\t\r\n\tAnimal animal = new Animal(null, null, 0, null, 0, 0);\r\n\tTimer timer;\r\n\t\r\n\tpublic void action() throws IOException {\r\n\t\tanimal.createAnimal();\r\n\t\t\r\n\t\ttimer = new Timer(1, this);\r\n\t\ttimer.start();\r\n\t\t\t\r\n\t\t \r\n\t\t  \r\n\t\t  \r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\r\n\t\tif(animal.animals[Data.selectedAnimal].getY() &gt;= 260 || animal.animals[Data.selectedAnimal].getY()&lt;-300) {\r\n\t\t\t\r\n\t\t\tanimal.animali[Data.selectedAnimal].setYVelocity(animal.animali[Data.selectedAnimal].getYVelocity() * -1);\r\n\t\t}\r\n\t\t\r\n\t\tif(animal.animals[Data.selectedAnimal].getX() &gt;= 456 || animal.animals[Data.selectedAnimal].getX()&lt;-456) {\r\n\t\t\t\r\n\t\t\tanimal.animali[Data.selectedAnimal].setXVelocity(animal.animali[Data.selectedAnimal].getXVelocity() * -1);\r\n\t\t\t\r\n\t\t}\r\n\t\tanimal.animals[Data.selectedAnimal].setBounds(animal.animals[Data.selectedAnimal].getX() + animal.animali[Data.selectedAnimal].getXVelocity(), animal.animals[Data.selectedAnimal].getY() + animal.animali[Data.selectedAnimal].getYVelocity(), 1083, 696);\r\n\r\n\t\tif(animal.animals[Data.selectedAnimal+1].getY() &gt;= 260 || animal.animals[Data.selectedAnimal+1].getY()&lt;-300) {\r\n\t\t\t\r\n\t\t\tanimal.animali[Data.selectedAnimal+1].setYVelocity(animal.animali[Data.selectedAnimal+1].getYVelocity() * -1);\r\n\t\t}\r\n\t\t\r\n\t\tif(animal.animals[Data.selectedAnimal+1].getX() &gt;= 456 || animal.animals[Data.selectedAnimal+1].getX()&lt;-456) {\r\n\r\n\t\t\tanimal.animali[Data.selectedAnimal+1].setXVelocity(animal.animali[Data.selectedAnimal+1].getXVelocity() * -1);\r\n\t\t\t\r\n\t\t}\r\n\t\tanimal.animals[Data.selectedAnimal+1].setBounds(animal.animals[Data.selectedAnimal+1].getX() + animal.animali[Data.selectedAnimal+1].getXVelocity(), animal.animals[Data.selectedAnimal+1].getY() + animal.animali[Data.selectedAnimal+1].getYVelocity(), 1083, 696);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\nSo I called the `action` method from this new class to the `Screen` class and nothing it stop working\r\n\r\nI tried google it but nothing, I tried to call the method in the `Main` class instead of the `Screen` class, but still nothing, BUT if I import again the exported `action` method to the `Screen` class, it works again.","title":"Moving the method to another class make it stop working","body":"<p>I have this class called Screen</p>\n<pre><code>package main;\n\nimport java.awt.Dimension;\nimport java.io.IOException;\nimport javax.swing.JFrame;\nimport javax.swing.JLayeredPane;\nimport javax.swing.JPanel;\nimport AnimatorHandler.FishAnimation;\nimport data.*;\nimport save.Data;\n\npublic class Screen extends JPanel{\n    \n    Resources res = new Resources();\n    Background background = new Background();\n    Ground ground = new Ground();\n    Animal animal = new Animal(null, null, 0, null, 0, 0);\n    FishAnimation fA = new FishAnimation();\n    \n    int screenSizeX = 1099;\n    int screenSizeY = 735;\n    \n    void createWindow() throws IOException {\n        \n        //CREATION OF THE RESOURCES\n        background.createBackground();\n        ground.createGround();\n        animal.createAnimal();\n        \n        //SETTING OF THE LAYEREDPANE\n        JLayeredPane layeredPane = new JLayeredPane();\n        layeredPane.setBounds(0, 0, screenSizeX, screenSizeY);\n        layeredPane.add(background.background[Data.selectedBackground], Integer.valueOf(0));\n        layeredPane.add(ground.ground[Data.selectedGround], Integer.valueOf(1));\n        layeredPane.add(animal.animals[Data.selectedAnimal], Integer.valueOf(2));\n        layeredPane.add(animal.animals[Data.selectedAnimal+1], Integer.valueOf(2));\n           \n        //SETTING OF THE FRAME\n        JFrame frame = new JFrame(&quot;Happy Aquarium&quot;);\n        frame.add(layeredPane);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(new Dimension(screenSizeX, screenSizeY));\n        frame.setLayout(null);\n        frame.setVisible(true);\n        \n        //ANIMATION\n        fA.action();\n        \n    }\n}\n\n</code></pre>\n<p>And I just tried to export the <code>fA.action()</code> in another class (before the export was called just <code>action</code>, created automatically by <code>ActionListener</code>) So I just cut and paste the method to the <code>Screen</code> class to the <code>FishAnimation</code> class.</p>\n<pre><code>package AnimatorHandler;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.IOException;\n\nimport javax.swing.Timer;\n\nimport data.Animal;\nimport save.Data;\n\npublic class FishAnimation implements ActionListener{\n    \n    Animal animal = new Animal(null, null, 0, null, 0, 0);\n    Timer timer;\n    \n    public void action() throws IOException {\n        animal.createAnimal();\n        \n        timer = new Timer(1, this);\n        timer.start();\n            \n         \n          \n          \n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        \n\n        if(animal.animals[Data.selectedAnimal].getY() &gt;= 260 || animal.animals[Data.selectedAnimal].getY()&lt;-300) {\n            \n            animal.animali[Data.selectedAnimal].setYVelocity(animal.animali[Data.selectedAnimal].getYVelocity() * -1);\n        }\n        \n        if(animal.animals[Data.selectedAnimal].getX() &gt;= 456 || animal.animals[Data.selectedAnimal].getX()&lt;-456) {\n            \n            animal.animali[Data.selectedAnimal].setXVelocity(animal.animali[Data.selectedAnimal].getXVelocity() * -1);\n            \n        }\n        animal.animals[Data.selectedAnimal].setBounds(animal.animals[Data.selectedAnimal].getX() + animal.animali[Data.selectedAnimal].getXVelocity(), animal.animals[Data.selectedAnimal].getY() + animal.animali[Data.selectedAnimal].getYVelocity(), 1083, 696);\n\n        if(animal.animals[Data.selectedAnimal+1].getY() &gt;= 260 || animal.animals[Data.selectedAnimal+1].getY()&lt;-300) {\n            \n            animal.animali[Data.selectedAnimal+1].setYVelocity(animal.animali[Data.selectedAnimal+1].getYVelocity() * -1);\n        }\n        \n        if(animal.animals[Data.selectedAnimal+1].getX() &gt;= 456 || animal.animals[Data.selectedAnimal+1].getX()&lt;-456) {\n\n            animal.animali[Data.selectedAnimal+1].setXVelocity(animal.animali[Data.selectedAnimal+1].getXVelocity() * -1);\n            \n        }\n        animal.animals[Data.selectedAnimal+1].setBounds(animal.animals[Data.selectedAnimal+1].getX() + animal.animali[Data.selectedAnimal+1].getXVelocity(), animal.animals[Data.selectedAnimal+1].getY() + animal.animali[Data.selectedAnimal+1].getYVelocity(), 1083, 696);\n        \n        \n    }\n    \n    \n}\n\n</code></pre>\n<p>So I called the <code>action</code> method from this new class to the <code>Screen</code> class and nothing it stop working</p>\n<p>I tried google it but nothing, I tried to call the method in the <code>Main</code> class instead of the <code>Screen</code> class, but still nothing, BUT if I import again the exported <code>action</code> method to the <code>Screen</code> class, it works again.</p>\n"},{"tags":["java","tomcat7","connection-pooling"],"answers":[{"tags":[],"owner":{"account_id":2067017,"reputation":310,"user_id":1842348,"accept_rate":100,"display_name":"Sinble"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372366026,"creation_date":1372366026,"answer_id":17352869,"question_id":16558097,"body_markdown":"From my research this is related to a stale connection or not closing connections correctly. I have found related ticket [here]. Please review and let me know if that helps. If not can you provide more information of your environment. Tomcat Fullversion? Looks like your using hibernate. What version? Are there any other errors like maybe in your application logging that could be related?\n\n[here]: https://stackoverflow.com/questions/4107275/basics-troubleshooting-hibernate-jdbc-connection-pool-issue\n\n","title":"Warning for Connection Abandoned - With tomcat 7 throwing PooledConnection Exception","body":"<p>From my research this is related to a stale connection or not closing connections correctly. I have found related ticket <a href=\"https://stackoverflow.com/questions/4107275/basics-troubleshooting-hibernate-jdbc-connection-pool-issue\">here</a>. Please review and let me know if that helps. If not can you provide more information of your environment. Tomcat Fullversion? Looks like your using hibernate. What version? Are there any other errors like maybe in your application logging that could be related?</p>\n"}],"owner":{"account_id":2459553,"reputation":511,"user_id":2144000,"accept_rate":27,"display_name":"paras2682"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11992,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1701396566,"creation_date":1368598658,"question_id":16558097,"body_markdown":"I&#39;m using tomcat 7 in my application. When I start the server, it shows me following warning message while startup:-\r\n\r\n    May 15, 2013 11:45:10 AM org.apache.tomcat.jdbc.pool.ConnectionPool abandon\r\n    WARNING: Connection has been abandoned PooledConnection[oracle.jdbc.driver.T4CConnection@d6d9b4]:java.lang.Exception\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.getThreadDump(ConnectionPool.java:1006)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:672)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:607)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:470)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:135)\r\n    \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:112)\r\n    \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:99)\r\n    \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:123)\r\n    \tat org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcServicesImpl.java:253)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:119)\r\n    \tat org.hibernate.service.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:75)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:159)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:131)\r\n    \tat org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:71)\r\n    \tat org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2270)\r\n    \tat org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2266)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1735)\r\n    \tat org.hibernate.ejb.EntityManagerFactoryImpl.&lt;init&gt;(EntityManagerFactoryImpl.java:84)\r\n    \tat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)\r\n    \tat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)\r\n    \tat org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:268)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:400)\r\n    \tat org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:103)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1475)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1443)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:728)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:449)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:385)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:284)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:619)\r\n\r\nDon&#39;t know what&#39;s going wrong. Pls help me get rid of this warning as its causing other problems.","title":"Warning for Connection Abandoned - With tomcat 7 throwing PooledConnection Exception","body":"<p>I'm using tomcat 7 in my application. When I start the server, it shows me following warning message while startup:-</p>\n\n<pre><code>May 15, 2013 11:45:10 AM org.apache.tomcat.jdbc.pool.ConnectionPool abandon\nWARNING: Connection has been abandoned PooledConnection[oracle.jdbc.driver.T4CConnection@d6d9b4]:java.lang.Exception\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.getThreadDump(ConnectionPool.java:1006)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:672)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:607)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:470)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:135)\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:112)\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:99)\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:123)\n    at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcServicesImpl.java:253)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:119)\n    at org.hibernate.service.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:75)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:159)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:131)\n    at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:71)\n    at org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2270)\n    at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2266)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1735)\n    at org.hibernate.ejb.EntityManagerFactoryImpl.&lt;init&gt;(EntityManagerFactoryImpl.java:84)\n    at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)\n    at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)\n    at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:268)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:400)\n    at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:103)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1475)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1443)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:728)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:449)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:385)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:284)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:619)\n</code></pre>\n\n<p>Don't know what's going wrong. Pls help me get rid of this warning as its causing other problems.</p>\n"},{"tags":["java","spring-boot","spring-boot-security"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1701330564,"post_id":77576150,"comment_id":136762899,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1701332131,"post_id":77576150,"comment_id":136763132,"body_markdown":"What&#39;s the benefit of writing &quot;I&#39;m new&quot; in all the questions?","body":"What&#39;s the benefit of writing &quot;I&#39;m new&quot; in all the questions?"},{"owner":{"account_id":27308815,"reputation":5,"user_id":20824328,"display_name":"Parikshith G"},"score":0,"creation_date":1701346326,"post_id":77576150,"comment_id":136765582,"body_markdown":"im sorry sir but i feel i have summarized my issue correctly. i cannot log in in the above page as no credentials i put work. i tried the default user and auto genetared password also but it didnt work","body":"im sorry sir but i feel i have summarized my issue correctly. i cannot log in in the above page as no credentials i put work. i tried the default user and auto genetared password also but it didnt work"},{"owner":{"account_id":27308815,"reputation":5,"user_id":20824328,"display_name":"Parikshith G"},"score":0,"creation_date":1701346773,"post_id":77576150,"comment_id":136765680,"body_markdown":"for What&#39;s the benefit of writing &quot;I&#39;m new&quot; in all the questions? . im sorry but i havnt used stackoverflow and i dont know the proper etiquitte","body":"for What&#39;s the benefit of writing &quot;I&#39;m new&quot; in all the questions? . im sorry but i havnt used stackoverflow and i dont know the proper etiquitte"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701347401,"post_id":77576150,"comment_id":136765789,"body_markdown":"You have your own security configuration which will make the spring boot auto configuration back off and so the configuration in `application.properties` is ignored.","body":"You have your own security configuration which will make the spring boot auto configuration back off and so the configuration in <code>application.properties</code> is ignored."},{"owner":{"account_id":27308815,"reputation":5,"user_id":20824328,"display_name":"Parikshith G"},"score":0,"creation_date":1701348786,"post_id":77576150,"comment_id":136766066,"body_markdown":"ohh ?? okok then where will be the username and password for the default login page.","body":"ohh ?? okok then where will be the username and password for the default login page."}],"answers":[{"comments":[{"owner":{"account_id":27308815,"reputation":5,"user_id":20824328,"display_name":"Parikshith G"},"score":0,"creation_date":1701346098,"post_id":77576290,"comment_id":136765540,"body_markdown":"i tried that on day one itself but same error","body":"i tried that on day one itself but same error"},{"owner":{"account_id":27308815,"reputation":5,"user_id":20824328,"display_name":"Parikshith G"},"score":1,"creation_date":1701346121,"post_id":77576290,"comment_id":136765545,"body_markdown":"how to add pics here. im new to stack overflow","body":"how to add pics here. im new to stack overflow"},{"owner":{"account_id":27308815,"reputation":5,"user_id":20824328,"display_name":"Parikshith G"},"score":0,"creation_date":1701348863,"post_id":77576290,"comment_id":136766080,"body_markdown":"whats {noop}password?","body":"whats {noop}password?"},{"owner":{"account_id":27597641,"reputation":11,"user_id":21063532,"display_name":"Mykhailo Ordyntsev"},"score":0,"creation_date":1701393039,"post_id":77576290,"comment_id":136773279,"body_markdown":"Nothing, just ingone that. You have your own UserDetailsService, so user info in  application.properties file is ignored.","body":"Nothing, just ingone that. You have your own UserDetailsService, so user info in  application.properties file is ignored."},{"owner":{"account_id":27308815,"reputation":5,"user_id":20824328,"display_name":"Parikshith G"},"score":0,"creation_date":1701405667,"post_id":77576290,"comment_id":136774276,"body_markdown":"ohh i see. then what is the username and password please help","body":"ohh i see. then what is the username and password please help"},{"owner":{"account_id":27308815,"reputation":5,"user_id":20824328,"display_name":"Parikshith G"},"score":0,"creation_date":1701405705,"post_id":77576290,"comment_id":136774279,"body_markdown":"wont there be a default user and password though","body":"wont there be a default user and password though"},{"owner":{"account_id":27597641,"reputation":11,"user_id":21063532,"display_name":"Mykhailo Ordyntsev"},"score":0,"creation_date":1701410745,"post_id":77576290,"comment_id":136774673,"body_markdown":"@ParikshithG If you use my entity and my DB schema you will have 2 users: `{&quot;username&quot; : &quot;someemail@mail.com&quot;, &quot;password&quot; : &quot;password&quot;}, {&quot;username&quot; : &quot;johndoe@gmail.com&quot;, &quot;password&quot; : &quot;password&quot;}`. But, to achieve that, you must have in your props next: `spring.sql.init.mode=always`, and have file data.sql with my script. !IMPORTANT! to have semicolon on end of the script.","body":"@ParikshithG If you use my entity and my DB schema you will have 2 users: <code>{&quot;username&quot; : &quot;someemail@mail.com&quot;, &quot;password&quot; : &quot;password&quot;}, {&quot;username&quot; : &quot;johndoe@gmail.com&quot;, &quot;password&quot; : &quot;password&quot;}</code>. But, to achieve that, you must have in your props next: <code>spring.sql.init.mode=always</code>, and have file data.sql with my script. !IMPORTANT! to have semicolon on end of the script."}],"tags":[],"owner":{"account_id":27597641,"reputation":11,"user_id":21063532,"display_name":"Mykhailo Ordyntsev"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701396316,"creation_date":1701325141,"answer_id":77576290,"question_id":77576150,"body_markdown":"You just need determine in your database Entity, that implements user details service like this: (or you can just map your entity on UserDetails later)\r\n\r\n```java\r\n\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n\r\n@Entity\r\n@Table(name = &quot;t_accounts&quot;)\r\npublic class Account implements UserDetails {\r\n    @Id\r\n    @Column(nullable = false, name = &quot;account_id&quot;)\r\n    private Long id;\r\n\r\n    private String email;\r\n\r\n    private String password;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(length = 20)\r\n    private Role role;\r\n\r\n    private boolean isAccountNonLocked;\r\n\r\n    private boolean isEnabled;\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return Set.of(role);\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nRole enum:\r\n\r\n```java\r\n\r\npublic enum Role implements GrantedAuthority {\r\n    USER, ADMIN;\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return name();\r\n    }\r\n}\r\n```\r\nAccount repository:\r\n\r\n```java\r\n\r\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\r\n    Optional&lt;Account&gt; findByEmail(String email);\r\n}\r\n```\r\n\r\n\r\nYou must have next Beans: UserDetailsService (you already have this one, but I recommend separate UserService and UserDetailsService) and AuthenticationProvider.\r\n\r\n```java\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(AccountRepository accountRepository) {\r\n        return email -&gt; accountRepository.findByEmail(email)\r\n                .orElseThrow(() -&gt; new ResponseStatusException(\r\n                        HttpStatus.NOT_FOUND,\r\n                        &quot;user with email = %s not found&quot;.formattet(email)\r\n                ));\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(userDetailsService);\r\n        authenticationProvider.setPasswordEncoder(passwordEncoder);\r\n        return authenticationProvider;\r\n    }\r\n```\r\n\r\nAnd your configuration will be like:\r\n\r\n```java\r\n\r\n@Configuration\r\n@RequiredArgsConstructor //Generates a constructor with required arguments.\r\npublic class WebSecurityConfig {\r\n\r\n    private final UserDetailsService userDetailsService; //here you can use any bean, that implements UserDetailsService interface\r\n    private final PasswordEncoder passwordEncoder; //here you can use bean, that implements PasswordEncoder interface\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authorizeRequests) -&gt;\r\n                        authorizeRequests\r\n                                .requestMatchers(&quot;api/v1/register&quot;).permitAll()\r\n                                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;))\r\n                .httpBasic(Customizer.withDefaults())\r\n                .formLogin(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider(){\r\n        DaoAuthenticationProvider provider=new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(userDetailsService);\r\n\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\nAnd of course you must have in your database already defined users:\r\n\r\n```sql\r\n\r\nINSERT INTO t_accounts(account_id, email, password, role, is_account_non_locked, is_enabled)\r\nVALUES\r\n    (1, &#39;someemail@mail.com&#39;, &#39;$2a$10$5d3w9sGDT47bFKKFw9oK8OvbOPH2lJCH2p3caVVwZtUIval2OFys2&#39;, &#39;USER&#39;, true, true),\r\n    (2, &#39;johndoe@gmail.com&#39;, &#39;$2a$10$rVjZv3bOHS7IkhKMsjn9X.boQ7GdGW14S7K4QtoKXKxynKlIlfnRa&#39;, &#39;USER&#39;, true, true);\r\n```\r\n\r\nPasswords are hashed, so in database they store like that, I just hashed &#39;password&#39; value with my BCryptPasswordEncoder. If you don&#39;t want to encrypt your passwords (it&#39;s a bad idea) - you can read about NoOpPasswordEncoder - that is deprecated.\r\n\r\n","title":"How to fix bad credentials error - spring security","body":"<p>You just need determine in your database Entity, that implements user details service like this: (or you can just map your entity on UserDetails later)</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n\n@Entity\n@Table(name = &quot;t_accounts&quot;)\npublic class Account implements UserDetails {\n    @Id\n    @Column(nullable = false, name = &quot;account_id&quot;)\n    private Long id;\n\n    private String email;\n\n    private String password;\n\n    @Enumerated(EnumType.STRING)\n    @Column(length = 20)\n    private Role role;\n\n    private boolean isAccountNonLocked;\n\n    private boolean isEnabled;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return Set.of(role);\n    }\n\n    @Override\n    public String getUsername() {\n        return email;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n}\n</code></pre>\n<p>Role enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic enum Role implements GrantedAuthority {\n    USER, ADMIN;\n\n    @Override\n    public String getAuthority() {\n        return name();\n    }\n}\n</code></pre>\n<p>Account repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\n    Optional&lt;Account&gt; findByEmail(String email);\n}\n</code></pre>\n<p>You must have next Beans: UserDetailsService (you already have this one, but I recommend separate UserService and UserDetailsService) and AuthenticationProvider.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Bean\n    public UserDetailsService userDetailsService(AccountRepository accountRepository) {\n        return email -&gt; accountRepository.findByEmail(email)\n                .orElseThrow(() -&gt; new ResponseStatusException(\n                        HttpStatus.NOT_FOUND,\n                        &quot;user with email = %s not found&quot;.formattet(email)\n                ));\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService);\n        authenticationProvider.setPasswordEncoder(passwordEncoder);\n        return authenticationProvider;\n    }\n</code></pre>\n<p>And your configuration will be like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\n@RequiredArgsConstructor //Generates a constructor with required arguments.\npublic class WebSecurityConfig {\n\n    private final UserDetailsService userDetailsService; //here you can use any bean, that implements UserDetailsService interface\n    private final PasswordEncoder passwordEncoder; //here you can use bean, that implements PasswordEncoder interface\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authorizeRequests) -&gt;\n                        authorizeRequests\n                                .requestMatchers(&quot;api/v1/register&quot;).permitAll()\n                                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;))\n                .httpBasic(Customizer.withDefaults())\n                .formLogin(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider(){\n        DaoAuthenticationProvider provider=new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(userDetailsService);\n\n        return provider;\n    }\n}\n</code></pre>\n<p>And of course you must have in your database already defined users:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>\nINSERT INTO t_accounts(account_id, email, password, role, is_account_non_locked, is_enabled)\nVALUES\n    (1, 'someemail@mail.com', '$2a$10$5d3w9sGDT47bFKKFw9oK8OvbOPH2lJCH2p3caVVwZtUIval2OFys2', 'USER', true, true),\n    (2, 'johndoe@gmail.com', '$2a$10$rVjZv3bOHS7IkhKMsjn9X.boQ7GdGW14S7K4QtoKXKxynKlIlfnRa', 'USER', true, true);\n</code></pre>\n<p>Passwords are hashed, so in database they store like that, I just hashed 'password' value with my BCryptPasswordEncoder. If you don't want to encrypt your passwords (it's a bad idea) - you can read about NoOpPasswordEncoder - that is deprecated.</p>\n"}],"owner":{"account_id":27308815,"reputation":5,"user_id":20824328,"display_name":"Parikshith G"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1701396316,"creation_date":1701322939,"question_id":77576150,"body_markdown":"As soon as I fire up server i&#39;m being redirected to login page, which always gives bad credentials.\r\n\r\nI have tried all that i could understand\r\n\r\n```\r\npackage com.example.anime_website_backend.security.config;\r\n\r\n\r\nimport com.example.anime_website_backend.user.AppUserService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\npublic class WebSecurityConfig {\r\n\r\n    private final AppUserService appUserService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authorizeRequests) -&gt;\r\n                        authorizeRequests\r\n                                .requestMatchers(&quot;api/v1/register&quot;).permitAll()\r\n                                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;))\r\n                .httpBasic(Customizer.withDefaults())\r\n                .formLogin(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider(){\r\n        DaoAuthenticationProvider provider=new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(appUserService);\r\n\r\n        return provider;\r\n    }\r\n}\r\n```\r\nThis is my websecurityconfig\r\n```\r\n# JPA configuration\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.show-sql=true\r\n\r\nspring.security.user.name=user\r\nspring.security.user.password=password\r\n\r\n\r\nserver.port=4000\r\n```\r\n\r\nThis is the porperties file.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Aqx50.png &quot;and this is my nightmare&quot;)](https://i.stack.imgur.com/Aqx50.png)\r\n\r\nI hope anyone can tell me where I have gone wrong. I tried searching all places, but spring 6 has deprecated many things and im at a loss. Tried chatgpt etc., but no help.\r\n\r\n```\r\npackage com.example.anime_website_backend.user;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class AppUserService implements UserDetailsService {\r\n\r\n\r\n    private final AppUserRepository appUserRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email)\r\n            throws UsernameNotFoundException{\r\n        AppUser appUser= appUserRepository\r\n                .findByEmail(email)\r\n                .orElseThrow(()-&gt;\r\n                        new UsernameNotFoundException(\r\n                        String\r\n                                .format(AppUserRelatedMessages\r\n                                        .USER_NOT_FOUND\r\n                                        .getMessage(email))\r\n                ));\r\n\r\n        List&lt;GrantedAuthority&gt; authorities=new ArrayList&lt;&gt;();\r\n        for(String role:appUser.getRoles()){\r\n            authorities.add(new SimpleGrantedAuthority(role));\r\n    }\r\n        return new org\r\n                .springframework\r\n                .security\r\n                .core\r\n                .userdetails\r\n                .User(\r\n                    appUser.getEmail(),\r\n                    appUser.getPassword(),\r\n                    authorities\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\nthis is the AppUser class \r\n\r\n\r\n\r\n\r\n\r\n\r\ni get a feeling that nothing from application.properties is being read ad when i comment the ``` spring.security.user.password=password``` the auto generated password isnt appearing in console.","title":"How to fix bad credentials error - spring security","body":"<p>As soon as I fire up server i'm being redirected to login page, which always gives bad credentials.</p>\n<p>I have tried all that i could understand</p>\n<pre><code>package com.example.anime_website_backend.security.config;\n\n\nimport com.example.anime_website_backend.user.AppUserService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@AllArgsConstructor\npublic class WebSecurityConfig {\n\n    private final AppUserService appUserService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authorizeRequests) -&gt;\n                        authorizeRequests\n                                .requestMatchers(&quot;api/v1/register&quot;).permitAll()\n                                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;))\n                .httpBasic(Customizer.withDefaults())\n                .formLogin(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider(){\n        DaoAuthenticationProvider provider=new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(appUserService);\n\n        return provider;\n    }\n}\n</code></pre>\n<p>This is my websecurityconfig</p>\n<pre><code># JPA configuration\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.show-sql=true\n\nspring.security.user.name=user\nspring.security.user.password=password\n\n\nserver.port=4000\n</code></pre>\n<p>This is the porperties file.</p>\n<p><a href=\"https://i.stack.imgur.com/Aqx50.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Aqx50.png\" alt=\"enter image description here\" title=\"and this is my nightmare\" /></a></p>\n<p>I hope anyone can tell me where I have gone wrong. I tried searching all places, but spring 6 has deprecated many things and im at a loss. Tried chatgpt etc., but no help.</p>\n<pre><code>package com.example.anime_website_backend.user;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\n@Service\n@AllArgsConstructor\npublic class AppUserService implements UserDetailsService {\n\n\n    private final AppUserRepository appUserRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String email)\n            throws UsernameNotFoundException{\n        AppUser appUser= appUserRepository\n                .findByEmail(email)\n                .orElseThrow(()-&gt;\n                        new UsernameNotFoundException(\n                        String\n                                .format(AppUserRelatedMessages\n                                        .USER_NOT_FOUND\n                                        .getMessage(email))\n                ));\n\n        List&lt;GrantedAuthority&gt; authorities=new ArrayList&lt;&gt;();\n        for(String role:appUser.getRoles()){\n            authorities.add(new SimpleGrantedAuthority(role));\n    }\n        return new org\n                .springframework\n                .security\n                .core\n                .userdetails\n                .User(\n                    appUser.getEmail(),\n                    appUser.getPassword(),\n                    authorities\n        );\n\n    }\n\n}\n\n</code></pre>\n<p>this is the AppUser class</p>\n<p>i get a feeling that nothing from application.properties is being read ad when i comment the <code> spring.security.user.password=password</code> the auto generated password isnt appearing in console.</p>\n"},{"tags":["java","multithreading","wait","notify"],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701393545,"creation_date":1701393545,"answer_id":77582529,"question_id":77580308,"body_markdown":"When you write `notify()`, it means _exactly_ the same thing as if you wrote `this.notify()`.\r\n\r\nYour `deposit()` method is an instance method of the `NewProgram` class. When you write `notify()` inside the deposit() method, you are notifying the NewProgram instance on which the deposit() method was called. Inside deposit(), `this` refers to a NewProgram instance.\r\n\r\nYour `run()` method for thread2 is _not_ a NewProgram instance method. It is an instance method of the _anonymous_ class that you defined when you wrote `new Runnable(){ ... }`. Inside the `run()` method, `notify()` (which really means `this.notify()`) is notifying an instance of the anonymous class, and _not_ the NewProgram instance that is wait()ing in the `withdraw()` method in thread 1.","title":"Issues with the placement of notify method","body":"<p>When you write <code>notify()</code>, it means <em>exactly</em> the same thing as if you wrote <code>this.notify()</code>.</p>\n<p>Your <code>deposit()</code> method is an instance method of the <code>NewProgram</code> class. When you write <code>notify()</code> inside the deposit() method, you are notifying the NewProgram instance on which the deposit() method was called. Inside deposit(), <code>this</code> refers to a NewProgram instance.</p>\n<p>Your <code>run()</code> method for thread2 is <em>not</em> a NewProgram instance method. It is an instance method of the <em>anonymous</em> class that you defined when you wrote <code>new Runnable(){ ... }</code>. Inside the <code>run()</code> method, <code>notify()</code> (which really means <code>this.notify()</code>) is notifying an instance of the anonymous class, and <em>not</em> the NewProgram instance that is wait()ing in the <code>withdraw()</code> method in thread 1.</p>\n"}],"owner":{"account_id":29894221,"reputation":13,"user_id":22909616,"display_name":"Anonymous_1354"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77582529,"answer_count":1,"score":0,"last_activity_date":1701394625,"creation_date":1701363617,"question_id":77580308,"body_markdown":"I was trying wait and notify methods. Notify method when put in run method does not work but when the same method is put in some other method it works.\r\n\r\n    public class NewProgram {\r\n    static int balance = 0;\r\n\r\n    public void withdraw(int amount) {\r\n        synchronized(this)\r\n        {\r\n            if(balance== 0) {\r\n            try{\r\n                System.out.println(&quot;Waiting for deposit&quot;);\r\n                wait();\r\n            } catch(InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            }\r\n        }\r\n            balance = balance - amount;\r\n            System.out.println(&quot;Amount Withdrawn Successfully&quot;);   \r\n    }\r\n    public void deposit(int amount) {\r\n\r\n        balance = balance + amount;\r\n        System.out.println(&quot;Money Deposited Successfully&quot;);\r\n\r\n        //  The Notify method here works\r\n        //    synchronized(this) \r\n        //         {\r\n        //             notify();\r\n        //         }}\r\n\r\n    public static void main(String[] args) {\r\n\r\n        NewProgram app = new NewProgram();\r\n        Thread thread1 = new Thread (new Runnable(){\r\n\r\n            @Override\r\n            public void run(){\r\n                app.withdraw(2000);\r\n            }\r\n        }); \r\n        \r\n        thread1.start();\r\n\r\n        Thread thread2 = new Thread(new Runnable(){\r\n\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Thread.sleep(5000);\r\n\r\n                //  The Notify method here doesn&#39;t work\r\n                //     synchronized(this) {\r\n                //     notify();\r\n                // }\r\n                    \r\n                } catch (InterruptedException e) {\r\n                    \r\n                    e.printStackTrace();\r\n                }\r\n                \r\n                app.deposit(3000);\r\n\r\n\r\n                // The notify method from here doesn&#39;t work\r\n                //synchronized(this) {\r\n                //     notify();\r\n                //}            \r\n                System.out.println(&quot;Thread 2 ends&quot;);\r\n            } \r\n        });\r\n        thread2.start();\r\n    }}\r\n\r\n\r\n\r\nSo, here in this program withdraw method when balance is zero waits for deposit method for the money to be deposited. Then the lock on wait is removed and withdraw operations continue. This program runs perfectly when notify method is called in deposit method. But when notify is placed is run method of Thread 2 after calling the deposit method, the lock on wait is not removed, but the next statement **Thread 2 ends** gets executed and the program waits indefinitely. Please help me with this.","title":"Issues with the placement of notify method","body":"<p>I was trying wait and notify methods. Notify method when put in run method does not work but when the same method is put in some other method it works.</p>\n<pre><code>public class NewProgram {\nstatic int balance = 0;\n\npublic void withdraw(int amount) {\n    synchronized(this)\n    {\n        if(balance== 0) {\n        try{\n            System.out.println(&quot;Waiting for deposit&quot;);\n            wait();\n        } catch(InterruptedException e) {\n            e.printStackTrace();\n        }\n        }\n    }\n        balance = balance - amount;\n        System.out.println(&quot;Amount Withdrawn Successfully&quot;);   \n}\npublic void deposit(int amount) {\n\n    balance = balance + amount;\n    System.out.println(&quot;Money Deposited Successfully&quot;);\n\n    //  The Notify method here works\n    //    synchronized(this) \n    //         {\n    //             notify();\n    //         }}\n\npublic static void main(String[] args) {\n\n    NewProgram app = new NewProgram();\n    Thread thread1 = new Thread (new Runnable(){\n\n        @Override\n        public void run(){\n            app.withdraw(2000);\n        }\n    }); \n    \n    thread1.start();\n\n    Thread thread2 = new Thread(new Runnable(){\n\n        @Override\n        public void run() {\n            try {\n                Thread.sleep(5000);\n\n            //  The Notify method here doesn't work\n            //     synchronized(this) {\n            //     notify();\n            // }\n                \n            } catch (InterruptedException e) {\n                \n                e.printStackTrace();\n            }\n            \n            app.deposit(3000);\n\n\n            // The notify method from here doesn't work\n            //synchronized(this) {\n            //     notify();\n            //}            \n            System.out.println(&quot;Thread 2 ends&quot;);\n        } \n    });\n    thread2.start();\n}}\n</code></pre>\n<p>So, here in this program withdraw method when balance is zero waits for deposit method for the money to be deposited. Then the lock on wait is removed and withdraw operations continue. This program runs perfectly when notify method is called in deposit method. But when notify is placed is run method of Thread 2 after calling the deposit method, the lock on wait is not removed, but the next statement <strong>Thread 2 ends</strong> gets executed and the program waits indefinitely. Please help me with this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1701388175,"post_id":77582274,"comment_id":136772880,"body_markdown":"what statement do you expect to be unreachable in myRecord?","body":"what statement do you expect to be unreachable in myRecord?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701392972,"post_id":77582274,"comment_id":136773271,"body_markdown":"@f1sh Likely the implicit `this.i = i` that&#39;s assumed to be there.","body":"@f1sh Likely the implicit <code>this.i = i</code> that&#39;s assumed to be there."}],"answers":[{"tags":[],"owner":{"account_id":28957730,"reputation":49,"user_id":22180933,"display_name":"RonVe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701393685,"creation_date":1701393685,"answer_id":77582533,"question_id":77582274,"body_markdown":"You are right. The object is not yet initialized when you throw your exception.\r\nThere is no warning with the compact constructor throwing values explicitly.\r\n\r\nIn any case, it&#39;s not really visible outside the object as a reference does not yet exist.\r\n\r\n","title":"throw Exception in Record&#39;s compact constructor","body":"<p>You are right. The object is not yet initialized when you throw your exception.\nThere is no warning with the compact constructor throwing values explicitly.</p>\n<p>In any case, it's not really visible outside the object as a reference does not yet exist.</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701394357,"creation_date":1701394357,"answer_id":77582564,"question_id":77582274,"body_markdown":"Because the two are not the same. If we have:\r\n\r\n\r\n```java\r\npublic record Foo(int i) {}\r\n```\r\n\r\nThen the following byte-code is generated for the constructor (using Java 21 to compile):\r\n\r\n```none\r\npublic Foo(int);\r\n  Code:\r\n      0: aload_0\r\n      1: invokespecial #1                  // Method java/lang/Record.&quot;&lt;init&gt;&quot;:()V\r\n      4: aload_0\r\n      5: iload_1\r\n      6: putfield      #7                  // Field i:I\r\n      9: return\r\n```\r\n\r\nAs you can see, there&#39;s an assignment to the field `i`. But if we change `Foo` to:\r\n\r\n```java\r\npublic record Foo(int i) {\r\n\r\n    public Foo {\r\n        throw new RuntimeException();\r\n    }\r\n}\r\n```\r\n\r\nThen the constructor&#39;s byte-code becomes:\r\n\r\n```none\r\npublic Foo(int);\r\n  Code:\r\n      0: aload_0\r\n      1: invokespecial #1                  // Method java/lang/Record.&quot;&lt;init&gt;&quot;:()V\r\n      4: new           #7                  // class java/lang/RuntimeException\r\n      7: dup\r\n      8: invokespecial #9                  // Method java/lang/RuntimeException.&quot;&lt;init&gt;&quot;:()V\r\n    11: athrow\r\n```\r\n\r\nNo attempt is made to assign `i`. It simply throws the exception. So, as a normal class, it would be as if you wrote the following (completely legal) code:\r\n\r\n```java\r\npublic final class Foo {\r\n\r\n    private final int i;\r\n\r\n    public Foo(int i) {\r\n        throw new RuntimeException();\r\n    }\r\n\r\n    // ... hashCode, equals, toString, and getter omitted for brevity ...\r\n}\r\n```\r\n\r\nWhere there&#39;s no `this.i = i` in the constructor, neither before nor after the `throw` statement.","title":"throw Exception in Record&#39;s compact constructor","body":"<p>Because the two are not the same. If we have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Foo(int i) {}\n</code></pre>\n<p>Then the following byte-code is generated for the constructor (using Java 21 to compile):</p>\n<pre class=\"lang-none prettyprint-override\"><code>public Foo(int);\n  Code:\n      0: aload_0\n      1: invokespecial #1                  // Method java/lang/Record.&quot;&lt;init&gt;&quot;:()V\n      4: aload_0\n      5: iload_1\n      6: putfield      #7                  // Field i:I\n      9: return\n</code></pre>\n<p>As you can see, there's an assignment to the field <code>i</code>. But if we change <code>Foo</code> to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Foo(int i) {\n\n    public Foo {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>Then the constructor's byte-code becomes:</p>\n<pre class=\"lang-none prettyprint-override\"><code>public Foo(int);\n  Code:\n      0: aload_0\n      1: invokespecial #1                  // Method java/lang/Record.&quot;&lt;init&gt;&quot;:()V\n      4: new           #7                  // class java/lang/RuntimeException\n      7: dup\n      8: invokespecial #9                  // Method java/lang/RuntimeException.&quot;&lt;init&gt;&quot;:()V\n    11: athrow\n</code></pre>\n<p>No attempt is made to assign <code>i</code>. It simply throws the exception. So, as a normal class, it would be as if you wrote the following (completely legal) code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Foo {\n\n    private final int i;\n\n    public Foo(int i) {\n        throw new RuntimeException();\n    }\n\n    // ... hashCode, equals, toString, and getter omitted for brevity ...\n}\n</code></pre>\n<p>Where there's no <code>this.i = i</code> in the constructor, neither before nor after the <code>throw</code> statement.</p>\n"}],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1701394357,"creation_date":1701387688,"question_id":77582274,"body_markdown":"I have a record class with compact constructor.\r\n\r\n    public record myRecord(int i) {\r\n        public myRecord {\r\n            throw new RuntimeException();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            var v = new myRecord(1);\r\n        }\r\n    }\r\n\r\nMy understand is that it is same as below class. I only need to add logic to compact constructor. Compiler will add in assignment. \r\n\r\n    class testClass{\r\n        int i;\r\n    \r\n        public testClass(int i) {\r\n            throw new RuntimeException();\r\n            this.i = i;\r\n        }\r\n    }\r\n\r\ntestClass will get warning about **Unreachable statement** for this.i = i; But there is no warning on myRecord. How to explain this?","title":"throw Exception in Record&#39;s compact constructor","body":"<p>I have a record class with compact constructor.</p>\n<pre><code>public record myRecord(int i) {\n    public myRecord {\n        throw new RuntimeException();\n    }\n\n    public static void main(String[] args) {\n        var v = new myRecord(1);\n    }\n}\n</code></pre>\n<p>My understand is that it is same as below class. I only need to add logic to compact constructor. Compiler will add in assignment.</p>\n<pre><code>class testClass{\n    int i;\n\n    public testClass(int i) {\n        throw new RuntimeException();\n        this.i = i;\n    }\n}\n</code></pre>\n<p>testClass will get warning about <strong>Unreachable statement</strong> for this.i = i; But there is no warning on myRecord. How to explain this?</p>\n"},{"tags":["java","spring","spring-boot","validation","lombok"],"answers":[{"comments":[{"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"score":0,"creation_date":1701247951,"post_id":77568355,"comment_id":136750805,"body_markdown":"Thank you for your answer. It really works when you call the validator.validate manually also in my example. The problem is that also in your case you can create the object, but the annotation @Valid in the constructor should prevent it.","body":"Thank you for your answer. It really works when you call the validator.validate manually also in my example. The problem is that also in your case you can create the object, but the annotation @Valid in the constructor should prevent it."}],"tags":[],"owner":{"account_id":28753328,"reputation":31,"user_id":22020873,"display_name":"stackoe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701394354,"creation_date":1701227217,"answer_id":77568355,"question_id":77567803,"body_markdown":"I valid success when use this test case, you can try my case.\r\n\r\nDTO:\r\n\r\n    @Data\r\n    @AllArgsConstructor(onConstructor_ = {@Valid})\r\n    public class SimpleDTO {\r\n\r\n\r\n      @NotNull(message = &quot;corpId is null&quot;)\r\n      private String corpId;\r\n\r\n      @NotNull(message = &quot;userId is null&quot;)\r\n      private String userId;\r\n\r\n      @NotNull(message = &quot;deptCode is null&quot;)\r\n      private String deptCode;\r\n\r\n      @NotBlank\r\n      private String notBlank;\r\n\r\n    }\r\nTestCase:\r\n\r\n     @SpringBootTest(classes = SimpleDemoApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n     class ValidTest {\r\n\r\n        @Test\r\n        void testValid() {\r\n            Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n            LOG.info(validator.getClass().getName());\r\n            SimpleDTO allArg = new SimpleDTO(null, null, null, &quot;  &quot;);\r\n            Set&lt;ConstraintViolation&lt;Object&gt;&gt; checkResult = validator.validate(allArg);\r\n            if (!CollectionUtils.isEmpty(checkResult)) {\r\n                List&lt;String&gt; resultMsg =checkResult.stream().map(ConstraintViolation::getMessage).collect(Collectors.toList());\r\n                throw new RuntimeException(JSON.toJSONString(resultMsg));\r\n           }\r\n        }\r\n\r\n\r\n        @Autowired\r\n        private Validator validator;\r\n\r\n        private static final Logger LOG = getLogger(ValidTest.class);\r\n\r\n        @Test\r\n        @DisplayName(&quot;display injected validator SpringBean&quot;)\r\n        void displayInjectValidatorBean(){\r\n            LOG.info(validator.getClass().getName());\r\n            SimpleDTO allArg = new SimpleDTO(null, null, null, &quot;  &quot;);\r\n            Set&lt;ConstraintViolation&lt;Object&gt;&gt; checkResult = validator.validate(allArg);\r\n            if (!CollectionUtils.isEmpty(checkResult)) {\r\n                List&lt;String&gt; resultMsg = checkResult.stream().map(ConstraintViolation::getMessage).collect(Collectors.toList());\r\n                throw new RuntimeException(JSON.toJSONString(resultMsg));\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nThe injected Validator SpringBean is `org.springframework.validation.beanvalidation.LocalValidatorFactoryBean`. On this bean&#39;s comments documentation, I think this problem may be caused by Spring/hibernate-validator version.\r\n\r\n------- Edit on 12/1 --------\r\n\r\nI think you want to impl this: \r\n\r\n    public class SimpleDTO {\r\n\r\n        private static final Logger LOG = getLogger(SimpleDTO.class);\r\n\r\n\r\n        @NotNull(message = &quot;corpId is null&quot;)\r\n        private String corpId;\r\n\r\n        @NotNull(message = &quot;userId is null&quot;)\r\n        private String userId;\r\n\r\n        @NotNull(message = &quot;deptCode is null&quot;)\r\n        private String deptCode;\r\n\r\n        @NotBlank\r\n        private String notBlank;\r\n\r\n        public SimpleDTO(String corpId, String userId, String deptCode, String notBlank) {\r\n            this.corpId = corpId;\r\n            this.userId = userId;\r\n            this.deptCode = deptCode;\r\n            this.notBlank = notBlank;\r\n            Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n            Set&lt;ConstraintViolation&lt;SimpleDTO&gt;&gt; checkResult = validator.validate(this);\r\n            checkResult.forEach(v -&gt; LOG.error(&quot;VIOLATION: field [{}] - value: [{}] - message: [{}]&quot;, v.getPropertyPath(), v.getInvalidValue(), v.getMessage()));\r\n    }\r\n}\r\n\r\nOn this case, it will valid before finish constructor init.You can think of it as a hook, when constructor finish.\r\n\r\nBut on this case, it changed the internal logic of the constructor. It is destructive. \r\n\r\nBecause this may change the constructor by writing directly to the bytecode","title":"Spring @Valid annotation on constructor not working. Best practice to validate Dto","body":"<p>I valid success when use this test case, you can try my case.</p>\n<p>DTO:</p>\n<pre><code>@Data\n@AllArgsConstructor(onConstructor_ = {@Valid})\npublic class SimpleDTO {\n\n\n  @NotNull(message = &quot;corpId is null&quot;)\n  private String corpId;\n\n  @NotNull(message = &quot;userId is null&quot;)\n  private String userId;\n\n  @NotNull(message = &quot;deptCode is null&quot;)\n  private String deptCode;\n\n  @NotBlank\n  private String notBlank;\n\n}\n</code></pre>\n<p>TestCase:</p>\n<pre><code> @SpringBootTest(classes = SimpleDemoApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n class ValidTest {\n\n    @Test\n    void testValid() {\n        Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n        LOG.info(validator.getClass().getName());\n        SimpleDTO allArg = new SimpleDTO(null, null, null, &quot;  &quot;);\n        Set&lt;ConstraintViolation&lt;Object&gt;&gt; checkResult = validator.validate(allArg);\n        if (!CollectionUtils.isEmpty(checkResult)) {\n            List&lt;String&gt; resultMsg =checkResult.stream().map(ConstraintViolation::getMessage).collect(Collectors.toList());\n            throw new RuntimeException(JSON.toJSONString(resultMsg));\n       }\n    }\n\n\n    @Autowired\n    private Validator validator;\n\n    private static final Logger LOG = getLogger(ValidTest.class);\n\n    @Test\n    @DisplayName(&quot;display injected validator SpringBean&quot;)\n    void displayInjectValidatorBean(){\n        LOG.info(validator.getClass().getName());\n        SimpleDTO allArg = new SimpleDTO(null, null, null, &quot;  &quot;);\n        Set&lt;ConstraintViolation&lt;Object&gt;&gt; checkResult = validator.validate(allArg);\n        if (!CollectionUtils.isEmpty(checkResult)) {\n            List&lt;String&gt; resultMsg = checkResult.stream().map(ConstraintViolation::getMessage).collect(Collectors.toList());\n            throw new RuntimeException(JSON.toJSONString(resultMsg));\n        }\n    }\n\n}\n</code></pre>\n<p>The injected Validator SpringBean is <code>org.springframework.validation.beanvalidation.LocalValidatorFactoryBean</code>. On this bean's comments documentation, I think this problem may be caused by Spring/hibernate-validator version.</p>\n<p>------- Edit on 12/1 --------</p>\n<p>I think you want to impl this:</p>\n<pre><code>public class SimpleDTO {\n\n    private static final Logger LOG = getLogger(SimpleDTO.class);\n\n\n    @NotNull(message = &quot;corpId is null&quot;)\n    private String corpId;\n\n    @NotNull(message = &quot;userId is null&quot;)\n    private String userId;\n\n    @NotNull(message = &quot;deptCode is null&quot;)\n    private String deptCode;\n\n    @NotBlank\n    private String notBlank;\n\n    public SimpleDTO(String corpId, String userId, String deptCode, String notBlank) {\n        this.corpId = corpId;\n        this.userId = userId;\n        this.deptCode = deptCode;\n        this.notBlank = notBlank;\n        Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n        Set&lt;ConstraintViolation&lt;SimpleDTO&gt;&gt; checkResult = validator.validate(this);\n        checkResult.forEach(v -&gt; LOG.error(&quot;VIOLATION: field [{}] - value: [{}] - message: [{}]&quot;, v.getPropertyPath(), v.getInvalidValue(), v.getMessage()));\n}\n</code></pre>\n<p>}</p>\n<p>On this case, it will valid before finish constructor init.You can think of it as a hook, when constructor finish.</p>\n<p>But on this case, it changed the internal logic of the constructor. It is destructive.</p>\n<p>Because this may change the constructor by writing directly to the bytecode</p>\n"},{"comments":[{"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"score":0,"creation_date":1701247078,"post_id":77569028,"comment_id":136750642,"body_markdown":"Thank you for your response. This is a very clear explanation, but it doesn&#39;t answer to the main question: how @Valid annotation work on constructors. Because the documentation says you can put on it and validate the output","body":"Thank you for your response. This is a very clear explanation, but it doesn&#39;t answer to the main question: how @Valid annotation work on constructors. Because the documentation says you can put on it and validate the output"},{"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"score":0,"creation_date":1701248077,"post_id":77569028,"comment_id":136750825,"body_markdown":"From documentation:\n\nGeneric constraint annotations can target any of the following ElementTypes:\nCONSTRUCTOR for constrained constructor return values\n\nI also tried to put the @Validated annotation on the dto but it still not working","body":"From documentation:  Generic constraint annotations can target any of the following ElementTypes: CONSTRUCTOR for constrained constructor return values  I also tried to put the @Validated annotation on the dto but it still not working"},{"owner":{"account_id":21862527,"reputation":11,"user_id":16153165,"display_name":"bardelorean"},"score":0,"creation_date":1701252412,"post_id":77569028,"comment_id":136751576,"body_markdown":"Despite the ability to place `@Valid` on constructors, unfortunately, it doesn&#39;t make sense. I&#39;d consider this more of a feature for readability rather than functionality.\nThe description for `@Valid`:\n\n * Marks a property, method parameter or method return type for validation cascading.\n * Constraints defined on the object and its properties are be validated when the\n * property, method parameter or method return type is validated.\n * This behavior is applied recursively.\n\nSo, there is no way to use `@Valid` to automatically trigger validation of new objects.","body":"Despite the ability to place <code>@Valid</code> on constructors, unfortunately, it doesn&#39;t make sense. I&#39;d consider this more of a feature for readability rather than functionality. The description for <code>@Valid</code>:   * Marks a property, method parameter or method return type for validation cascading.  * Constraints defined on the object and its properties are be validated when the  * property, method parameter or method return type is validated.  * This behavior is applied recursively.  So, there is no way to use <code>@Valid</code> to automatically trigger validation of new objects."}],"tags":[],"owner":{"account_id":21862527,"reputation":11,"user_id":16153165,"display_name":"bardelorean"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701239791,"creation_date":1701239791,"answer_id":77569028,"question_id":77567803,"body_markdown":"Jakarta Bean Validation operates with a cascading nature. This means that @Valid doesn&#39;t trigger validation within the same object where it&#39;s placed when you create an object. For example, consider we have classes A and B:\r\n\r\n    class A {\r\n        @NotBlank\r\n        private String s;\r\n        private B b;\r\n    \r\n        public A(String s, @Valid B b) {\r\n            this.s = s;\r\n            this.b = b;\r\n        }\r\n    }\r\n    \r\n    class B {\r\n        @NotBlank\r\n        private String s;\r\n        @Min(2)\r\n        private Integer n;\r\n    \r\n        public B(String s, Integer n) {\r\n            this.s = s;\r\n            this.n = n;\r\n        }\r\n    }\r\n\r\nWhen we instantiate class A, it will not check the @NotBlank constraint on the String s, but it will trigger the validation of the fields of the object B b.\r\n\r\nThus, @Valid is designed for cascading validation and is primarily used in controllers, where Spring automatically triggers validation. To validate your DTOs or any objects outside of such frameworks, you typically need to write specific code or manually use a Validator instance.\r\n","title":"Spring @Valid annotation on constructor not working. Best practice to validate Dto","body":"<p>Jakarta Bean Validation operates with a cascading nature. This means that @Valid doesn't trigger validation within the same object where it's placed when you create an object. For example, consider we have classes A and B:</p>\n<pre><code>class A {\n    @NotBlank\n    private String s;\n    private B b;\n\n    public A(String s, @Valid B b) {\n        this.s = s;\n        this.b = b;\n    }\n}\n\nclass B {\n    @NotBlank\n    private String s;\n    @Min(2)\n    private Integer n;\n\n    public B(String s, Integer n) {\n        this.s = s;\n        this.n = n;\n    }\n}\n</code></pre>\n<p>When we instantiate class A, it will not check the @NotBlank constraint on the String s, but it will trigger the validation of the fields of the object B b.</p>\n<p>Thus, @Valid is designed for cascading validation and is primarily used in controllers, where Spring automatically triggers validation. To validate your DTOs or any objects outside of such frameworks, you typically need to write specific code or manually use a Validator instance.</p>\n"}],"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701394354,"creation_date":1701215248,"question_id":77567803,"body_markdown":"Today I was looking for a way to validate a DTO that I have to return to the FE.\r\nI thought could be a good idea to create the constructor with the `@Valid` annotation from `jakarta.validation` package because documentation says it can be used on constructor.\r\nSo I created my Test with an example DTO and the Lombok annotation on `@AllArgsConstructor` in this way:\r\n\r\n    \r\n    @AllArgsConstructor(onConstructor_ = {@Valid})\r\n    public class TestValidatedDto {\r\n        @NotNull\r\n        private String value1;\r\n        @NotBlank\r\n        private String value2;\r\n        @Min(2)\r\n        @NotNull\r\n        private Integer number;\r\n    }\r\n\r\nThis is the DTO generated by Lombok:\r\n\r\n    public class TestValidatedDto {\r\n        private @NotNull String value1;\r\n        private @NotBlank String value2;\r\n        private @Min(2L) @NotNull Integer number;\r\n    \r\n        public @Valid TestValidatedDto(final String value1, final String value2, final Integer number) {\r\n            this.value1 = value1;\r\n            this.value2 = value2;\r\n            this.number = number;\r\n        }\r\n    }\r\n\r\nAnd I have the `@Valid` annotation on the constructor as I was expecting.\r\nNow I created a Test but the result was not the one I needed.\r\n\r\n    @SpringBootTest\r\n    @Slf4j\r\n    class TestValidationAnnotationApplicationTests {\r\n    \r\n    \t@Autowired\r\n    \tprivate Validator validator;\r\n    \r\n    \t@Test\r\n    \tvoid testValidation1(){\r\n    \t\tTestValidatedDto testValidatedDto = new TestValidatedDto(null, &quot;     &quot;, 1);\r\n    \t\tlog.info(&quot;Created dto: [{}]&quot;,testValidatedDto);\r\n    \t\tSet&lt;ConstraintViolation&lt;TestValidatedDto&gt;&gt; violations = validator.validate(testValidatedDto);\r\n    \t\tviolations.forEach(v -&gt; {\r\n    \t\t\tlog.info(&quot;VIOLATION: field [{}] - value: [{}] - message: [{}]&quot;, v.getPropertyPath(), v.getInvalidValue(), v.getMessage());\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\nI can&#39;t understand why the `@Valid` on the constructor is not working. I know constructor is not a method, but the documentation says it can be used to validate the return from constructor.\r\nDoes anyone know the right working of this annotation?\r\n\r\nhttps://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html\r\n\r\nIf this is not the right way to do it, can someone explain some best practice to validate Dto you need to return in controller in a simple way?\r\n\r\nUPDATE:\r\nI forgot to say, I tried it also with the annotation `@Validated` on the DTO class, but the constructor validation still not work.\r\nThis is the documentation part I want to verify:\r\n\r\n&gt; Generic constraint annotations can target any of the following\r\n&gt; ElementTypes:\r\n&gt; \r\n&gt; FIELD for constrained attributes\r\n&gt; \r\n&gt; METHOD for constrained getters and constrained method return values\r\n&gt; \r\n&gt; CONSTRUCTOR for constrained constructor return values\r\n&gt; \r\n&gt; PARAMETER for constrained method and constructor parameters\r\n&gt; \r\n&gt; TYPE for constrained beans\r\n&gt; \r\n&gt; ANNOTATION_TYPE for constraints composing other constraints\r\n&gt; \r\n&gt; TYPE_USE for container element constraints","title":"Spring @Valid annotation on constructor not working. Best practice to validate Dto","body":"<p>Today I was looking for a way to validate a DTO that I have to return to the FE.\nI thought could be a good idea to create the constructor with the <code>@Valid</code> annotation from <code>jakarta.validation</code> package because documentation says it can be used on constructor.\nSo I created my Test with an example DTO and the Lombok annotation on <code>@AllArgsConstructor</code> in this way:</p>\n<pre><code>@AllArgsConstructor(onConstructor_ = {@Valid})\npublic class TestValidatedDto {\n    @NotNull\n    private String value1;\n    @NotBlank\n    private String value2;\n    @Min(2)\n    @NotNull\n    private Integer number;\n}\n</code></pre>\n<p>This is the DTO generated by Lombok:</p>\n<pre><code>public class TestValidatedDto {\n    private @NotNull String value1;\n    private @NotBlank String value2;\n    private @Min(2L) @NotNull Integer number;\n\n    public @Valid TestValidatedDto(final String value1, final String value2, final Integer number) {\n        this.value1 = value1;\n        this.value2 = value2;\n        this.number = number;\n    }\n}\n</code></pre>\n<p>And I have the <code>@Valid</code> annotation on the constructor as I was expecting.\nNow I created a Test but the result was not the one I needed.</p>\n<pre><code>@SpringBootTest\n@Slf4j\nclass TestValidationAnnotationApplicationTests {\n\n    @Autowired\n    private Validator validator;\n\n    @Test\n    void testValidation1(){\n        TestValidatedDto testValidatedDto = new TestValidatedDto(null, &quot;     &quot;, 1);\n        log.info(&quot;Created dto: [{}]&quot;,testValidatedDto);\n        Set&lt;ConstraintViolation&lt;TestValidatedDto&gt;&gt; violations = validator.validate(testValidatedDto);\n        violations.forEach(v -&gt; {\n            log.info(&quot;VIOLATION: field [{}] - value: [{}] - message: [{}]&quot;, v.getPropertyPath(), v.getInvalidValue(), v.getMessage());\n        });\n    }\n\n}\n</code></pre>\n<p>I can't understand why the <code>@Valid</code> on the constructor is not working. I know constructor is not a method, but the documentation says it can be used to validate the return from constructor.\nDoes anyone know the right working of this annotation?</p>\n<p><a href=\"https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html</a></p>\n<p>If this is not the right way to do it, can someone explain some best practice to validate Dto you need to return in controller in a simple way?</p>\n<p>UPDATE:\nI forgot to say, I tried it also with the annotation <code>@Validated</code> on the DTO class, but the constructor validation still not work.\nThis is the documentation part I want to verify:</p>\n<blockquote>\n<p>Generic constraint annotations can target any of the following\nElementTypes:</p>\n<p>FIELD for constrained attributes</p>\n<p>METHOD for constrained getters and constrained method return values</p>\n<p>CONSTRUCTOR for constrained constructor return values</p>\n<p>PARAMETER for constrained method and constructor parameters</p>\n<p>TYPE for constrained beans</p>\n<p>ANNOTATION_TYPE for constraints composing other constraints</p>\n<p>TYPE_USE for container element constraints</p>\n</blockquote>\n"},{"tags":["java","spring-boot","error-handling","vps"],"answers":[{"comments":[{"owner":{"account_id":14348299,"reputation":59,"user_id":10364585,"display_name":"Danilo Congradac"},"score":1,"creation_date":1634849755,"post_id":69668595,"comment_id":123144831,"body_markdown":"didnt help much, now I get this error :   Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.ExceptionInInitializerError] with root cause\n\njava.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory\n        at org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader.loadClass(TomcatEmbeddedWebappClassLoader.java:72) ~[spring-boot-2.2.2.RELEASE.jar!/:2.2.2.RELEASE]","body":"didnt help much, now I get this error :   Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.ExceptionInInitializerError] with root cause  java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory         at org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedW&zwnj;&#8203;ebappClassLoader.loa&zwnj;&#8203;dClass(TomcatEmbedde&zwnj;&#8203;dWebappClassLoader.j&zwnj;&#8203;ava:72) ~[spring-boot-2.2.2.RELEASE.jar!/:2.2.2.RELEASE]"},{"owner":{"account_id":14348299,"reputation":59,"user_id":10364585,"display_name":"Danilo Congradac"},"score":0,"creation_date":1634851679,"post_id":69668595,"comment_id":123145388,"body_markdown":"yes, thanks, now i get diferent error, access denied for user &#39;root&#39;@&#39;localhost&#39;","body":"yes, thanks, now i get diferent error, access denied for user &#39;root&#39;@&#39;localhost&#39;"},{"owner":{"account_id":14348299,"reputation":59,"user_id":10364585,"display_name":"Danilo Congradac"},"score":0,"creation_date":1634852105,"post_id":69668595,"comment_id":123145509,"body_markdown":"yea, i made it work, now I am getting this error....  Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.ExceptionInInitializerError] with root cause\n\njava.net.ConnectException: Connection refused (Connection refused)","body":"yea, i made it work, now I am getting this error....  Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.ExceptionInInitializerError] with root cause  java.net.ConnectException: Connection refused (Connection refused)"},{"owner":{"account_id":14348299,"reputation":59,"user_id":10364585,"display_name":"Danilo Congradac"},"score":0,"creation_date":1634852596,"post_id":69668595,"comment_id":123145635,"body_markdown":"i made changes to my question","body":"i made changes to my question"},{"owner":{"account_id":14348299,"reputation":59,"user_id":10364585,"display_name":"Danilo Congradac"},"score":0,"creation_date":1634853806,"post_id":69668595,"comment_id":123145906,"body_markdown":"yes it is, I made mistake last time, check now ss","body":"yes it is, I made mistake last time, check now ss"},{"owner":{"account_id":8770150,"reputation":90,"user_id":6557264,"display_name":"Alessandro Leo"},"score":0,"creation_date":1634854311,"post_id":69668595,"comment_id":123146025,"body_markdown":"Just a tip, when uploading screenshots you should redact your server IP and username/password so that people with bad intentions can&#39;t see them.","body":"Just a tip, when uploading screenshots you should redact your server IP and username/password so that people with bad intentions can&#39;t see them."},{"owner":{"account_id":14348299,"reputation":59,"user_id":10364585,"display_name":"Danilo Congradac"},"score":0,"creation_date":1634854526,"post_id":69668595,"comment_id":123146081,"body_markdown":"ok, thanks for tips, I appreciate it","body":"ok, thanks for tips, I appreciate it"},{"owner":{"account_id":8770150,"reputation":90,"user_id":6557264,"display_name":"Alessandro Leo"},"score":0,"creation_date":1634854667,"post_id":69668595,"comment_id":123146113,"body_markdown":"Can you connect to the database with a database client on your server?","body":"Can you connect to the database with a database client on your server?"},{"owner":{"account_id":14348299,"reputation":59,"user_id":10364585,"display_name":"Danilo Congradac"},"score":0,"creation_date":1634854707,"post_id":69668595,"comment_id":123146121,"body_markdown":"yes, I can access database from terminal on my server, but my application cant","body":"yes, I can access database from terminal on my server, but my application cant"},{"owner":{"account_id":14348299,"reputation":59,"user_id":10364585,"display_name":"Danilo Congradac"},"score":0,"creation_date":1634854793,"post_id":69668595,"comment_id":123146139,"body_markdown":"after typing this i get same error access denied , just it says &#39;(using password:  YES)&#39;","body":"after typing this i get same error access denied , just it says &#39;(using password:  YES)&#39;"},{"owner":{"account_id":8770150,"reputation":90,"user_id":6557264,"display_name":"Alessandro Leo"},"score":0,"creation_date":1634855135,"post_id":69668595,"comment_id":123146207,"body_markdown":"If you&#39;re absolutely sure credentials are correct you should try and check the database server logs.","body":"If you&#39;re absolutely sure credentials are correct you should try and check the database server logs."},{"owner":{"account_id":8770150,"reputation":90,"user_id":6557264,"display_name":"Alessandro Leo"},"score":0,"creation_date":1634855739,"post_id":69668595,"comment_id":123146323,"body_markdown":"If logs don&#39;t contain the reason then look at this:\nhttps://stackoverflow.com/questions/41645309/mysql-error-access-denied-for-user-rootlocalhost","body":"If logs don&#39;t contain the reason then look at this: <a href=\"https://stackoverflow.com/questions/41645309/mysql-error-access-denied-for-user-rootlocalhost\" title=\"mysql error access denied for user rootlocalhost\">stackoverflow.com/questions/41645309/&hellip;</a>"}],"tags":[],"owner":{"account_id":8770150,"reputation":90,"user_id":6557264,"display_name":"Alessandro Leo"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634849997,"creation_date":1634849254,"answer_id":69668595,"question_id":69668380,"body_markdown":"Try adding these dependencies to your **pom.xml** file\r\n        \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-ri&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"servlet.service error, classNotFoundException","body":"<p>Try adding these dependencies to your <strong>pom.xml</strong> file</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-ri&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14348299,"reputation":59,"user_id":10364585,"display_name":"Danilo Congradac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8952,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701392680,"creation_date":1634848035,"question_id":69668380,"body_markdown":"I am done building the java spring boot app and now I am trying to deploy it to VPS. Everything works except once I access part of web app that is connected to the database I get this error\r\n\r\n&gt; ERROR 7379 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.ExceptionInInitializerError] with root cause\r\n\r\n\r\nWhen I put connection url to database to be jdbc:mysql://&quot;ip of server&quot;:3306/kuponi i get this error\r\n\r\n\r\nand when I put connection url to database to be jdbc:mysql://localhost:3306/kuponi","title":"servlet.service error, classNotFoundException","body":"<p>I am done building the java spring boot app and now I am trying to deploy it to VPS. Everything works except once I access part of web app that is connected to the database I get this error</p>\n<blockquote>\n<p>ERROR 7379 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.ExceptionInInitializerError] with root cause</p>\n</blockquote>\n<p>When I put connection url to database to be jdbc:mysql://&quot;ip of server&quot;:3306/kuponi i get this error</p>\n<p>and when I put connection url to database to be jdbc:mysql://localhost:3306/kuponi</p>\n"},{"tags":["java","jenkins","jar"],"comments":[{"owner":{"account_id":172287,"reputation":36545,"user_id":400222,"accept_rate":67,"display_name":"StephenKing"},"score":0,"creation_date":1505991963,"post_id":46341886,"comment_id":79644350,"body_markdown":"To where do you want to deploy the war file? There are too many options here.. what about SSH?","body":"To where do you want to deploy the war file? There are too many options here.. what about SSH?"},{"owner":{"account_id":242988,"reputation":13952,"user_id":514878,"accept_rate":100,"display_name":"FluffyKitten"},"score":0,"creation_date":1506040838,"post_id":46341886,"comment_id":79670231,"body_markdown":"Please note that questions asking for general help or recommendations for plugins are off topic &quot;*Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.*&quot;. See: [What topics can I ask about here?](https://stackoverflow.com/help/on-topic)","body":"Please note that questions asking for general help or recommendations for plugins are off topic &quot;<i>Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.</i>&quot;. See: <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505993400,"creation_date":1505993400,"answer_id":46342794,"question_id":46341886,"body_markdown":"Most containers have a directory where you can &quot;place&quot; the war, in order to deploy it.\r\n\r\nTherefore in Jenkins you can set up `Send build artifacts over SSH`\r\n\r\nName: `my_server123` (You must have a configured server)\r\n\r\nTransfers: Transfer set:\r\n\r\n    source files: `path/to/target/*.war\r\n    remove prefix: `path/to/target\r\n\r\nOn configuring the server, you should go in `Configure Jenkins` -&gt; `Configure system` -&gt; `SSH Servers`\r\n\r\nAdd the server you need to deploy to, username (+password)  and Remote directory: `/opt/app/tomcat/webapps` (or whatever)","title":"deploy jar file using Jenkins","body":"<p>Most containers have a directory where you can \"place\" the war, in order to deploy it.</p>\n\n<p>Therefore in Jenkins you can set up <code>Send build artifacts over SSH</code></p>\n\n<p>Name: <code>my_server123</code> (You must have a configured server)</p>\n\n<p>Transfers: Transfer set:</p>\n\n<pre><code>source files: `path/to/target/*.war\nremove prefix: `path/to/target\n</code></pre>\n\n<p>On configuring the server, you should go in <code>Configure Jenkins</code> -> <code>Configure system</code> -> <code>SSH Servers</code></p>\n\n<p>Add the server you need to deploy to, username (+password)  and Remote directory: <code>/opt/app/tomcat/webapps</code> (or whatever)</p>\n"},{"tags":[],"owner":{"account_id":2026634,"reputation":1388,"user_id":1811426,"accept_rate":70,"display_name":"Upen"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1506048755,"creation_date":1506038991,"answer_id":46354981,"question_id":46341886,"body_markdown":"Please have a look at [the SCP plugin](https://wiki.jenkins.io/display/JENKINS/SCP+plugin)\r\n\r\n&gt; This plugin uploads build artifacts to repository sites using SCP (SSH) protocol.","title":"deploy jar file using Jenkins","body":"<p>Please have a look at <a href=\"https://wiki.jenkins.io/display/JENKINS/SCP+plugin\" rel=\"nofollow noreferrer\">the SCP plugin</a></p>\n\n<blockquote>\n  <p>This plugin uploads build artifacts to repository sites using SCP (SSH) protocol.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11398084,"reputation":1,"user_id":8355796,"display_name":"Puttaswamy C M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506069571,"creation_date":1506069571,"answer_id":46360384,"question_id":46341886,"body_markdown":"If you want to send artifacts from windows build server to linux machine you can use send artifact over ssh from build section\r\n\r\nIf you want to send artifact from windows build server to windows application server you can use robocopy ","title":"deploy jar file using Jenkins","body":"<p>If you want to send artifacts from windows build server to linux machine you can use send artifact over ssh from build section</p>\n\n<p>If you want to send artifact from windows build server to windows application server you can use robocopy </p>\n"}],"owner":{"account_id":9743826,"reputation":65,"user_id":7224437,"display_name":"Anurag Ghosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12787,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1701392680,"creation_date":1505990673,"question_id":46341886,"body_markdown":"How to deploy a jar file using Jenkins deployment jobs?\r\nIs there any specific plugin available for jar deployments. \r\n\r\nFor War or EAR, we can go to Jenkins_deployment Jobs &gt;&gt; Post-build Actions &gt;&gt; Deploy war/ear to a container - and provide the below info.\r\n\r\n1. WAR/EAR files, \r\n2. Context path,\r\n3. Containers\r\n\r\nCan anyone please help in this?","title":"deploy jar file using Jenkins","body":"<p>How to deploy a jar file using Jenkins deployment jobs?\nIs there any specific plugin available for jar deployments. </p>\n\n<p>For War or EAR, we can go to Jenkins_deployment Jobs >> Post-build Actions >> Deploy war/ear to a container - and provide the below info.</p>\n\n<ol>\n<li>WAR/EAR files, </li>\n<li>Context path,</li>\n<li>Containers</li>\n</ol>\n\n<p>Can anyone please help in this?</p>\n"},{"tags":["java","hibernate","tomcat","guice","guice-persist"],"comments":[{"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"score":0,"creation_date":1453874722,"post_id":14564961,"comment_id":57785819,"body_markdown":"I think the property name should be renamed to `hibernate.connection.autocommit` instead of `hibernate.autocommit` in `hibernate.cfg.xml` per [javadoc C3P0](https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/connection/C3P0ConnectionProvider.html)","body":"I think the property name should be renamed to <code>hibernate.connection.autocommit</code> instead of <code>hibernate.autocommit</code> in <code>hibernate.cfg.xml</code> per <a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/connection/C3P0ConnectionProvider.html\" rel=\"nofollow noreferrer\">javadoc C3P0</a>"},{"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"score":0,"creation_date":1464379100,"post_id":14564961,"comment_id":62479140,"body_markdown":"When loading properties from hibernate.cfg.xml if the `hibernate.` is not at the beginning of the property it will prepend it so they certainly have the correct configuration key.  Also, if the property was getting missed entirely it should default to false.","body":"When loading properties from hibernate.cfg.xml if the <code>hibernate.</code> is not at the beginning of the property it will prepend it so they certainly have the correct configuration key.  Also, if the property was getting missed entirely it should default to false."},{"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"score":0,"creation_date":1464381012,"post_id":14564961,"comment_id":62479970,"body_markdown":"I took your cfg.xml file verbatim and created a new project and it worked as expected, it logged true when I used the word &quot;true&quot; and false when I used the word &quot;false&quot;.  So the issue is not in anything you have posted.  Put a breakpoint in `StandardServiceRegistryBuilder.configure(LoadedConfig loadedConfig)` and see what the value of the setting is at that point.  If it is not what you expect, see where it is getting the config from (crawl up the stack trace).","body":"I took your cfg.xml file verbatim and created a new project and it worked as expected, it logged true when I used the word &quot;true&quot; and false when I used the word &quot;false&quot;.  So the issue is not in anything you have posted.  Put a breakpoint in <code>StandardServiceRegistryBuilder.configure(LoadedConfig loadedConfig)</code> and see what the value of the setting is at that point.  If it is not what you expect, see where it is getting the config from (crawl up the stack trace)."}],"answers":[{"comments":[{"owner":{"account_id":1686882,"reputation":1183,"user_id":1549977,"accept_rate":86,"display_name":"Benjamin Marwell"},"score":0,"creation_date":1527976585,"post_id":31335183,"comment_id":88333030,"body_markdown":"Might not be helpful, but I ended up using eclipselink and postgreSQL. PostgreSQL is way faster anyway.","body":"Might not be helpful, but I ended up using eclipselink and postgreSQL. PostgreSQL is way faster anyway."}],"tags":[],"owner":{"account_id":3260197,"reputation":190,"user_id":2745910,"display_name":"candy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436514139,"creation_date":1436514139,"answer_id":31335183,"question_id":14564961,"body_markdown":"I also ran into this problem when using hibernate + MySQL. Instead of set false but coming out true, I set it to true but it came out false. I saw your questions but there&#39;s no answer. I want to share how I solve the problem by:\r\n\r\n1 restart the database server.\r\n\r\n2 clean the project. \r\n\r\n3 restart the web server.\r\n\r\nI&#39;ve tries so many ways, actually, I don&#39;t know why this finally worked... Just for sharing.","title":"Hibernate 4 connection.autocommit=false ignored","body":"<p>I also ran into this problem when using hibernate + MySQL. Instead of set false but coming out true, I set it to true but it came out false. I saw your questions but there's no answer. I want to share how I solve the problem by:</p>\n\n<p>1 restart the database server.</p>\n\n<p>2 clean the project. </p>\n\n<p>3 restart the web server.</p>\n\n<p>I've tries so many ways, actually, I don't know why this finally worked... Just for sharing.</p>\n"}],"owner":{"account_id":1584056,"reputation":2191,"user_id":1468803,"accept_rate":57,"display_name":"cporte"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14972,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1701392680,"creation_date":1359385844,"question_id":14564961,"body_markdown":"We have an application using Java, hibernate 4, guice 3, guice-persist 3 on tomcat 6\r\n\r\nconnection.autocommit is configured to false in the hibernate.cfg.xml file:\r\n\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/dev&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.autocommit&quot;&gt;false&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.proof_property&quot;&gt;true&lt;/property&gt;\r\n    \r\n        &lt;!-- Disable second-level cache. --&gt;\r\n        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n        &lt;property name=&quot;cache.use_query_cache&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;cache.use_minimal_puts&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;max_fetch_depth&quot;&gt;3&lt;/property&gt;\r\n    \r\n        &lt;!-- Print SQL to stdout. --&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;property name=&quot;id.new_generator_mappings&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Drop and then re-create schema on SessionFactory build, for testing. --&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n    \r\n        &lt;!-- Bind the getCurrentSession() method to the thread. --&gt;\r\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;!-- configuration pool via c3p0--&gt; \r\n\t\t&lt;property name=&quot;c3p0.initialPoolSize&quot;&gt;0&lt;/property&gt;\r\n\t\t&lt;property name=&quot;c3p0.acquire_increment&quot;&gt;1&lt;/property&gt;\r\n\t\t&lt;property name=&quot;c3p0.max_size&quot;&gt;32&lt;/property&gt;\r\n\t\t&lt;property name=&quot;c3p0.max_statements&quot;&gt;100&lt;/property&gt; \r\n\t\t&lt;property name=&quot;c3p0.min_size&quot;&gt;0&lt;/property&gt; \r\n\t\t&lt;property name=&quot;c3p0.timeout&quot;&gt;600&lt;/property&gt; &lt;!-- seconds --&gt; \r\n\t\t\r\n        &lt;!-- Hibernate XML mapping files --&gt;\r\n        &lt;!-- &lt;mapping resource=&quot;org/MyClass.hbm.xml&quot;/&gt;--&gt;\r\n    \r\n        &lt;!-- Hibernate Annotations (and package-info.java)--&gt;\r\n        &lt;mapping package=&quot;model&quot;/&gt;\r\n\r\n    &lt;/session-factory&gt;\r\n\r\nBut on deployement, the logfile shows that autocommit is set to true:\r\n\r\n    INFO: Starting Servlet Engine: Apache Tomcat/6.0.35\r\n    28 janv. 2013 16:03:01 org.hibernate.annotations.common.Version &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {4.0.1.Final}\r\n    28 janv. 2013 16:03:01 org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {4.1.9.Final}\r\n    28 janv. 2013 16:03:01 org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    28 janv. 2013 16:03:01 org.hibernate.cfg.Environment buildBytecodeProvider\r\n    INFO: HHH000021: Bytecode provider name : javassist\r\n    28 janv. 2013 16:03:01 org.hibernate.cfg.Configuration configure\r\n    INFO: HHH000043: Configuring from resource: /hibernate.cfg.xml\r\n    28 janv. 2013 16:03:01 org.hibernate.cfg.Configuration getConfigurationInputStream\r\n    INFO: HHH000040: Configuration resource: /hibernate.cfg.xml\r\n    28 janv. 2013 16:03:01 org.hibernate.cfg.Configuration doConfigure\r\n    INFO: HHH000041: Configured SessionFactory: null\r\n    28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.ConnectionProviderInitiator instantiateExplicitConnectionProvider\r\n    INFO: HHH000130: Instantiating explicit connection provider: org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider\r\n    28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider configure\r\n    INFO: HHH010002: C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/dev\r\n    28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider configure\r\n    INFO: HHH000046: Connection properties: {user=root, password=****, autocommit=true, proof_property=true, release_mode=auto}\r\n    28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider configure\r\n    INFO: HHH000006: Autocommit mode: true\r\n    28 janv. 2013 16:03:01 com.mchange.v2.log.MLog &lt;clinit&gt;\r\n    INFO: MLog clients using java 1.4+ standard logging.\r\n    28 janv. 2013 16:03:02 com.mchange.v2.c3p0.C3P0Registry banner\r\n    INFO: Initializing c3p0-0.9.1 [built 16-January-2007 14:46:42; debug? true; trace: 10]\r\n    28 janv. 2013 16:03:02 com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource getPoolManager\r\n    INFO: Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@b6868296 [ connectionPoolDataSource -&gt; com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@8d0e5680 [ acquireIncrement -&gt; 1, acquireRetryAttempts -&gt; 30, acquireRetryDelay -&gt; 1000, autoCommitOnClose -&gt; false, automaticTestTable -&gt; null, breakAfterAcquireFailure -&gt; false, checkoutTimeout -&gt; 0, connectionCustomizerClassName -&gt; null, connectionTesterClassName -&gt; com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -&gt; false, factoryClassLocation -&gt; null, forceIgnoreUnresolvedTransactions -&gt; false, identityToken -&gt; 1hgeby98szzd5hkbs91s5|a69b6b, idleConnectionTestPeriod -&gt; 0, initialPoolSize -&gt; 0, maxAdministrativeTaskTime -&gt; 0, maxConnectionAge -&gt; 0, maxIdleTime -&gt; 600, maxIdleTimeExcessConnections -&gt; 0, maxPoolSize -&gt; 32, maxStatements -&gt; 100, maxStatementsPerConnection -&gt; 0, minPoolSize -&gt; 0, nestedDataSource -&gt; com.mchange.v2.c3p0.DriverManagerDataSource@d4b5ff9b [ description -&gt; null, driverClass -&gt; null, factoryClassLocation -&gt; null, identityToken -&gt; 1hgeby98szzd5hkbs91s5|75b3ee, jdbcUrl -&gt; jdbc:mysql://localhost:3306/dev, properties -&gt; {user=******, password=******, autocommit=true, proof_property=true, release_mode=auto} ], preferredTestQuery -&gt; null, propertyCycle -&gt; 0, testConnectionOnCheckin -&gt; false, testConnectionOnCheckout -&gt; false, unreturnedConnectionTimeout -&gt; 0, usesTraditionalReflectiveProxies -&gt; false; userOverrides: {} ], dataSourceName -&gt; null, factoryClassLocation -&gt; null, identityToken -&gt; 1hgeby98szzd5hkbs91s5|1a9bea3, numHelperThreads -&gt; 3 ]\r\n    28 janv. 2013 16:03:02 org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n    28 janv. 2013 16:03:02 org.hibernate.engine.jdbc.internal.LobCreatorBuilder useContextualLobCreation\r\n    INFO: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\r\n    28 janv. 2013 16:03:02 org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService\r\n    INFO: HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory\r\n    28 janv. 2013 16:03:02 org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory &lt;init&gt;\r\n    INFO: HHH000397: Using ASTQueryTranslatorFactory\r\n    28 janv. 2013 16:03:02 org.hibernate.tool.hbm2ddl.SchemaExport execute\r\n    INFO: HHH000227: Running hbm2ddl schema export\r\n\r\nWhy hibernate is ignoring the autocommit property? And should we care? (as our tests shown us that an exception in a correctly annoted method does a rollback, so everything seems fine)","title":"Hibernate 4 connection.autocommit=false ignored","body":"<p>We have an application using Java, hibernate 4, guice 3, guice-persist 3 on tomcat 6</p>\n\n<p>connection.autocommit is configured to false in the hibernate.cfg.xml file:</p>\n\n<pre><code>&lt;session-factory&gt;\n    &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/property&gt;\n    &lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost:3306/dev&lt;/property&gt;\n    &lt;property name=\"connection.username\"&gt;root&lt;/property&gt;\n    &lt;property name=\"connection.password\"&gt;root&lt;/property&gt;\n    &lt;property name=\"connection.autocommit\"&gt;false&lt;/property&gt;\n    &lt;property name=\"connection.proof_property\"&gt;true&lt;/property&gt;\n\n    &lt;!-- Disable second-level cache. --&gt;\n    &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n    &lt;property name=\"cache.use_query_cache\"&gt;false&lt;/property&gt;\n    &lt;property name=\"cache.use_minimal_puts\"&gt;false&lt;/property&gt;\n    &lt;property name=\"max_fetch_depth\"&gt;3&lt;/property&gt;\n\n    &lt;!-- Print SQL to stdout. --&gt;\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n    &lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n\n    &lt;property name=\"id.new_generator_mappings\"&gt;true&lt;/property&gt;\n\n    &lt;!-- Drop and then re-create schema on SessionFactory build, for testing. --&gt;\n    &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n    &lt;!-- Bind the getCurrentSession() method to the thread. --&gt;\n    &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n    &lt;!-- configuration pool via c3p0--&gt; \n    &lt;property name=\"c3p0.initialPoolSize\"&gt;0&lt;/property&gt;\n    &lt;property name=\"c3p0.acquire_increment\"&gt;1&lt;/property&gt;\n    &lt;property name=\"c3p0.max_size\"&gt;32&lt;/property&gt;\n    &lt;property name=\"c3p0.max_statements\"&gt;100&lt;/property&gt; \n    &lt;property name=\"c3p0.min_size\"&gt;0&lt;/property&gt; \n    &lt;property name=\"c3p0.timeout\"&gt;600&lt;/property&gt; &lt;!-- seconds --&gt; \n\n    &lt;!-- Hibernate XML mapping files --&gt;\n    &lt;!-- &lt;mapping resource=\"org/MyClass.hbm.xml\"/&gt;--&gt;\n\n    &lt;!-- Hibernate Annotations (and package-info.java)--&gt;\n    &lt;mapping package=\"model\"/&gt;\n\n&lt;/session-factory&gt;\n</code></pre>\n\n<p>But on deployement, the logfile shows that autocommit is set to true:</p>\n\n<pre><code>INFO: Starting Servlet Engine: Apache Tomcat/6.0.35\n28 janv. 2013 16:03:01 org.hibernate.annotations.common.Version &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {4.0.1.Final}\n28 janv. 2013 16:03:01 org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {4.1.9.Final}\n28 janv. 2013 16:03:01 org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\n28 janv. 2013 16:03:01 org.hibernate.cfg.Environment buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : javassist\n28 janv. 2013 16:03:01 org.hibernate.cfg.Configuration configure\nINFO: HHH000043: Configuring from resource: /hibernate.cfg.xml\n28 janv. 2013 16:03:01 org.hibernate.cfg.Configuration getConfigurationInputStream\nINFO: HHH000040: Configuration resource: /hibernate.cfg.xml\n28 janv. 2013 16:03:01 org.hibernate.cfg.Configuration doConfigure\nINFO: HHH000041: Configured SessionFactory: null\n28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.ConnectionProviderInitiator instantiateExplicitConnectionProvider\nINFO: HHH000130: Instantiating explicit connection provider: org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider\n28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider configure\nINFO: HHH010002: C3P0 using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/dev\n28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider configure\nINFO: HHH000046: Connection properties: {user=root, password=****, autocommit=true, proof_property=true, release_mode=auto}\n28 janv. 2013 16:03:01 org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider configure\nINFO: HHH000006: Autocommit mode: true\n28 janv. 2013 16:03:01 com.mchange.v2.log.MLog &lt;clinit&gt;\nINFO: MLog clients using java 1.4+ standard logging.\n28 janv. 2013 16:03:02 com.mchange.v2.c3p0.C3P0Registry banner\nINFO: Initializing c3p0-0.9.1 [built 16-January-2007 14:46:42; debug? true; trace: 10]\n28 janv. 2013 16:03:02 com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource getPoolManager\nINFO: Initializing c3p0 pool... com.mchange.v2.c3p0.PoolBackedDataSource@b6868296 [ connectionPoolDataSource -&gt; com.mchange.v2.c3p0.WrapperConnectionPoolDataSource@8d0e5680 [ acquireIncrement -&gt; 1, acquireRetryAttempts -&gt; 30, acquireRetryDelay -&gt; 1000, autoCommitOnClose -&gt; false, automaticTestTable -&gt; null, breakAfterAcquireFailure -&gt; false, checkoutTimeout -&gt; 0, connectionCustomizerClassName -&gt; null, connectionTesterClassName -&gt; com.mchange.v2.c3p0.impl.DefaultConnectionTester, debugUnreturnedConnectionStackTraces -&gt; false, factoryClassLocation -&gt; null, forceIgnoreUnresolvedTransactions -&gt; false, identityToken -&gt; 1hgeby98szzd5hkbs91s5|a69b6b, idleConnectionTestPeriod -&gt; 0, initialPoolSize -&gt; 0, maxAdministrativeTaskTime -&gt; 0, maxConnectionAge -&gt; 0, maxIdleTime -&gt; 600, maxIdleTimeExcessConnections -&gt; 0, maxPoolSize -&gt; 32, maxStatements -&gt; 100, maxStatementsPerConnection -&gt; 0, minPoolSize -&gt; 0, nestedDataSource -&gt; com.mchange.v2.c3p0.DriverManagerDataSource@d4b5ff9b [ description -&gt; null, driverClass -&gt; null, factoryClassLocation -&gt; null, identityToken -&gt; 1hgeby98szzd5hkbs91s5|75b3ee, jdbcUrl -&gt; jdbc:mysql://localhost:3306/dev, properties -&gt; {user=******, password=******, autocommit=true, proof_property=true, release_mode=auto} ], preferredTestQuery -&gt; null, propertyCycle -&gt; 0, testConnectionOnCheckin -&gt; false, testConnectionOnCheckout -&gt; false, unreturnedConnectionTimeout -&gt; 0, usesTraditionalReflectiveProxies -&gt; false; userOverrides: {} ], dataSourceName -&gt; null, factoryClassLocation -&gt; null, identityToken -&gt; 1hgeby98szzd5hkbs91s5|1a9bea3, numHelperThreads -&gt; 3 ]\n28 janv. 2013 16:03:02 org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n28 janv. 2013 16:03:02 org.hibernate.engine.jdbc.internal.LobCreatorBuilder useContextualLobCreation\nINFO: HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\n28 janv. 2013 16:03:02 org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService\nINFO: HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory\n28 janv. 2013 16:03:02 org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory &lt;init&gt;\nINFO: HHH000397: Using ASTQueryTranslatorFactory\n28 janv. 2013 16:03:02 org.hibernate.tool.hbm2ddl.SchemaExport execute\nINFO: HHH000227: Running hbm2ddl schema export\n</code></pre>\n\n<p>Why hibernate is ignoring the autocommit property? And should we care? (as our tests shown us that an exception in a correctly annoted method does a rollback, so everything seems fine)</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1701353169,"post_id":77579068,"comment_id":136766977,"body_markdown":"You really need an explanation why some people prefer to write `new WeightIn(3.65,1.7)` instead of `WeightIn someName = new WeightIn(); someName.setWeight(3.65); someName.setHeight(1.7);`? Are you aware that the latter is not even possible with immutable objects? Did you notice that the OP of the [old question](https://stackoverflow.com/q/18159104/2711488) even managed to make *two* errors in that small piece of code?","body":"You really need an explanation why some people prefer to write <code>new WeightIn(3.65,1.7)</code> instead of <code>WeightIn someName = new WeightIn(); someName.setWeight(3.65); someName.setHeight(1.7);</code>? Are you aware that the latter is not even possible with immutable objects? Did you notice that the OP of the <a href=\"https://stackoverflow.com/q/18159104/2711488\">old question</a> even managed to make <i>two</i> errors in that small piece of code?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1701353262,"post_id":77579068,"comment_id":136766994,"body_markdown":"Also, what if tomorrow you need the constructor to do other stuff after setting values? Are you going to hunt down every call to the default constructor and add whatever it needs to do down there? What if the operations it does are not public?","body":"Also, what if tomorrow you need the constructor to do other stuff after setting values? Are you going to hunt down every call to the default constructor and add whatever it needs to do down there? What if the operations it does are not public?"},{"owner":{"account_id":29908013,"reputation":1,"user_id":22920096,"display_name":"rado_rud"},"score":0,"creation_date":1701354223,"post_id":77579068,"comment_id":136767201,"body_markdown":"I would say all answers are valuable, thanks, all clear now.","body":"I would say all answers are valuable, thanks, all clear now."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701353145,"creation_date":1701353145,"answer_id":77579102,"question_id":77579068,"body_markdown":"First, it&#39;s arguably more elegant to initialize the object in one call instead of creating it and updating it later:\r\n\r\n```java\r\nWeightIn weight1 = new WeightIn(3.65, 1.7);\r\n```\r\n\r\nSecond, it may be useful to have the constructor as the **only** way to initialize an object&#39;s value, allowing you to make it [immutable](https://en.wikipedia.org/wiki/Immutable_object) once created.","title":"What&#39;s the reason to call/create non-default constructor instead of method?","body":"<p>First, it's arguably more elegant to initialize the object in one call instead of creating it and updating it later:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WeightIn weight1 = new WeightIn(3.65, 1.7);\n</code></pre>\n<p>Second, it may be useful to have the constructor as the <strong>only</strong> way to initialize an object's value, allowing you to make it <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable</a> once created.</p>\n"}],"owner":{"account_id":29908013,"reputation":1,"user_id":22920096,"display_name":"rado_rud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701354034,"answer_count":1,"score":-1,"last_activity_date":1701392561,"creation_date":1701352872,"question_id":77579068,"body_markdown":"Since I&#39;m  new in this field,it&#39;s better to learn good habits. I came across an article\r\n[https://stackoverflow.com/questions/18159104/java-error-the-constructor-is-undefined][1] where constructor undefined error appeared. All is clear to me, just why we should call the constructor with parameters and not just the method, like code below(no need to create default constructor)? What&#39;s the advantage here?\r\n\r\n\r\n```java\r\npublic class WeightIn{\r\n  private double weight;\r\n  private double height;\r\n\r\n  public void Setvalues (double weightIn, double heightIn){\r\n    weight = weightIn;\r\n    height = heightIn;\r\n  }\r\n  public void setWeight(double weightIn){//this method is reduntant and not needed\r\n    weight = weightIn;\r\n  }\r\n  public void setHeight(double heightIn){//this method is reduntant and not needed\r\n    height = heightIn;\r\n  }\r\n}\r\n\r\npublic class WeightInApp{\r\n  public static void main (String [] args){\r\n    WeightIn weight1 = new WeightIn();\r\n    WeightIn weight2 = new WeightIn();\r\n    weight1.Setvalues(3.65, 1.7);\r\n    weight2.Setvalues(1.7, 1.7);\r\n  }\r\n}\r\n```\r\n\r\n\r\nI tried to reproduce this error and figured it out myself by learning..:).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18159104/java-error-the-constructor-is-undefined","title":"What&#39;s the reason to call/create non-default constructor instead of method?","body":"<p>Since I'm  new in this field,it's better to learn good habits. I came across an article\n<a href=\"https://stackoverflow.com/questions/18159104/java-error-the-constructor-is-undefined\">Java Error: The constructor is undefined</a> where constructor undefined error appeared. All is clear to me, just why we should call the constructor with parameters and not just the method, like code below(no need to create default constructor)? What's the advantage here?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WeightIn{\n  private double weight;\n  private double height;\n\n  public void Setvalues (double weightIn, double heightIn){\n    weight = weightIn;\n    height = heightIn;\n  }\n  public void setWeight(double weightIn){//this method is reduntant and not needed\n    weight = weightIn;\n  }\n  public void setHeight(double heightIn){//this method is reduntant and not needed\n    height = heightIn;\n  }\n}\n\npublic class WeightInApp{\n  public static void main (String [] args){\n    WeightIn weight1 = new WeightIn();\n    WeightIn weight2 = new WeightIn();\n    weight1.Setvalues(3.65, 1.7);\n    weight2.Setvalues(1.7, 1.7);\n  }\n}\n</code></pre>\n<p>I tried to reproduce this error and figured it out myself by learning..:).</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9892,"page":25,"page_size":100}
